var Rw=Object.defineProperty;var Nw=(t,e,n)=>e in t?Rw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Iw=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Gi=(t,e,n)=>Nw(t,typeof e!="symbol"?e+"":e,n);import{g as kf,c as wh,a as A0}from"./jquery-5sAwpjfl.js";import{m as Ys,a as Wa,V as hc,i as D0,v as zw}from"./vue-YhlLoeNc.js";var CD=Iw((ND,Gp)=>{var Xm={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var Vm;function Bw(){return Vm||(Vm=1,function(t){t(jQuery)}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,n){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var o={absolute:!1,clone:!1,includeMargin:!1,display:"block"},l=t.extend(o,n),u=this.eq(0),c,h;if(l.clone===!0)c=function(){var A="position: absolute !important; top: -1000 !important; ";u=u.clone().attr("style",A).appendTo("body")},h=function(){u.remove()};else{var v=[],x="",w;c=function(){w=u.parents().addBack().filter(":hidden"),x+="visibility: hidden !important; display: "+l.display+" !important; ",l.absolute===!0&&(x+="position: absolute !important; "),w.each(function(){var A=t(this),B=A.attr("style");v.push(B),A.attr("style",B?B+";"+x:x)})},h=function(){w.each(function(A){var B=t(this),N=v[A];N===void 0?B.removeAttr("style"):B.attr("style",N)})}}c();var k=/(outer)/.test(e)?u[e](l.includeMargin):u[e]();return h(),k}})})),Xm}Bw();(function(t){var e=function(N,j){typeof j>"u"&&(j={}),this.init(N,j)},n=e.prototype,o,l=["canvas","vml"],u=["oval","spiral","square","rect","roundRect"],c=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,v=!!document.createElement("canvas").getContext,x=!0,w=function(O,j,q){var O=document.createElement(O),S;for(S in q)O[S]=q[S];return typeof j<"u"&&j.appendChild(O),O},k=function(N,j){for(var q in j)N.style[q]=j[q];return N},A=function(N,j){for(var q in j)N.setAttribute(q,j[q]);return N},B=function(N,j,q,O){N.save(),N.translate(j,q),N.rotate(O),N.translate(-j,-q),N.beginPath()};n.init=function(N,j){typeof j.safeVML=="boolean"&&(x=j.safeVML);try{this.mum=document.getElementById(N)!==void 0?document.getElementById(N):document.body}catch{this.mum=document.body}if(j.id=typeof j.id<"u"?j.id:"canvasLoader",this.cont=w("div",this.mum,{id:j.id}),v)o=l[0],this.can=w("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=k(w("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(o=l[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(w("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var q=["group","oval","roundrect","fill"],O;for(O in q)e.vmlSheet.addRule(q[O],"behavior:url(#default#VML); position:absolute;")}this.vml=w("group",this.cont)}this.setColor(this.color),this.draw(),k(this.cont,{display:"none"})},n.cont={},n.can={},n.con={},n.cCan={},n.cCon={},n.timer={},n.activeId=0,n.diameter=40,n.setDiameter=function(N){this.diameter=Math.round(Math.abs(N)),this.redraw()},n.getDiameter=function(){return this.diameter},n.cRGB={},n.color="#000000",n.setColor=function(N){this.color=c.test(N)?N:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},n.getColor=function(){return this.color},n.shape=u[0],n.setShape=function(N){for(var j in u)if(N===u[j]){this.shape=N,this.redraw();break}},n.getShape=function(){return this.shape},n.density=40,n.setDensity=function(N){this.density=x&&o===l[1]?Math.round(Math.abs(N))<=40?Math.round(Math.abs(N)):40:Math.round(Math.abs(N)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},n.getDensity=function(){return this.density},n.range=1.3,n.setRange=function(N){this.range=Math.abs(N),this.redraw()},n.getRange=function(){return this.range},n.speed=2,n.setSpeed=function(N){this.speed=Math.round(Math.abs(N))},n.getSpeed=function(){return this.speed},n.fps=24,n.setFPS=function(N){this.fps=Math.round(Math.abs(N)),this.reset()},n.getFPS=function(){return this.fps},n.getRGB=function(N){return N=N.charAt(0)==="#"?N.substring(1,7):N,{r:parseInt(N.substring(0,2),16),g:parseInt(N.substring(2,4),16),b:parseInt(N.substring(4,6),16)}},n.draw=function(){var N=0,j,q,O,S,P,W,z,G=this.density,J=Math.round(G*this.range),ue,de,ge=0;de=this.cCon;var ce=this.diameter;if(o===l[0])for(de.clearRect(0,0,1e3,1e3),A(this.can,{width:ce,height:ce}),A(this.cCan,{width:ce,height:ce});N<G;){switch(ue=N<=J?1-1/J*N:ue=0,W=270-360/G*N,z=W/180*Math.PI,de.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+ue.toString()+")",this.shape){case u[0]:case u[1]:j=ce*.07,S=ce*.47+Math.cos(z)*(ce*.47-j)-ce*.47,P=ce*.47+Math.sin(z)*(ce*.47-j)-ce*.47,de.beginPath(),this.shape===u[1]?de.arc(ce*.5+S,ce*.5+P,j*ue,0,Math.PI*2,!1):de.arc(ce*.5+S,ce*.5+P,j,0,Math.PI*2,!1);break;case u[2]:j=ce*.12,S=Math.cos(z)*(ce*.47-j)+ce*.5,P=Math.sin(z)*(ce*.47-j)+ce*.5,B(de,S,P,z),de.fillRect(S,P-j*.5,j,j);break;case u[3]:case u[4]:q=ce*.3,O=q*.27,S=Math.cos(z)*(O+(ce-O)*.13)+ce*.5,P=Math.sin(z)*(O+(ce-O)*.13)+ce*.5,B(de,S,P,z),this.shape===u[3]?de.fillRect(S,P-O*.5,q,O):(j=O*.55,de.moveTo(S+j,P-O*.5),de.lineTo(S+q-j,P-O*.5),de.quadraticCurveTo(S+q,P-O*.5,S+q,P-O*.5+j),de.lineTo(S+q,P-O*.5+O-j),de.quadraticCurveTo(S+q,P-O*.5+O,S+q-j,P-O*.5+O),de.lineTo(S+j,P-O*.5+O),de.quadraticCurveTo(S,P-O*.5+O,S,P-O*.5+O-j),de.lineTo(S,P-O*.5+j),de.quadraticCurveTo(S,P-O*.5,S+j,P-O*.5))}de.closePath(),de.fill(),de.restore(),++N}else{switch(k(this.cont,{width:ce,height:ce}),k(this.vml,{width:ce,height:ce}),this.shape){case u[0]:case u[1]:z="oval",j=140;break;case u[2]:z="roundrect",j=120;break;case u[3]:case u[4]:z="roundrect",j=300}for(q=O=j,S=500-O,P=-O*.5;N<G;){switch(ue=N<=J?1-1/J*N:ue=0,W=270-360/G*N,this.shape){case u[1]:q=O=j*ue,S=500-j*.5-j*ue*.5,P=(j-j*ue)*.5;break;case u[0]:case u[2]:h&&(P=0,this.shape===u[2]&&(S=500-O*.5));break;case u[3]:case u[4]:q=j*.95,O=q*.28,h?(S=0,P=500-O*.5):(S=500-q,P=-O*.5),ge=this.shape===u[4]?.6:0}de=A(k(w("group",this.vml),{width:1e3,height:1e3,rotation:W}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),de=k(w(z,de,{stroked:!1,arcSize:ge}),{width:q,height:O,top:P,left:S}),w("fill",de,{color:this.color,opacity:ue}),++N}}this.tick(!0)},n.clean=function(){if(o===l[0])this.con.clearRect(0,0,1e3,1e3);else{var N=this.vml;if(N.hasChildNodes())for(;N.childNodes.length>=1;)N.removeChild(N.firstChild)}},n.redraw=function(){this.clean(),this.draw()},n.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},n.tick=function(N){var j=this.con,q=this.diameter;N||(this.activeId+=360/this.density*this.speed),o===l[0]?(j.clearRect(0,0,q,q),B(j,q*.5,q*.5,this.activeId/180*Math.PI),j.drawImage(this.cCan,0,0,q,q),j.restore()):(this.activeId>=360&&(this.activeId-=360),k(this.vml,{rotation:this.activeId}))},n.show=function(){if(typeof this.timer!="number"){var N=this;this.timer=self.setInterval(function(){N.tick()},Math.round(1e3/this.fps)),k(this.cont,{display:"block"})}},n.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,k(this.cont,{display:"none"}))},n.kill=function(){var N=this.cont;typeof this.timer=="number"&&this.hide(),o===l[0]?(N.removeChild(this.can),N.removeChild(this.cCan)):N.removeChild(this.vml);for(var j in this)delete this[j]},t.CanvasLoader=e})(window);(function(t){t.fn.caret=function(e){var n=this[0],o=n.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(o){n.focus();var l=window.getSelection().getRangeAt(0),u=l.cloneRange();return u.selectNodeContents(n),u.setEnd(l.endContainer,l.endOffset),u.toString().length}return n.selectionStart}if(document.selection){if(n.focus(),o){var l=document.selection.createRange(),u=document.body.createTextRange();return u.moveToElementText(n),u.setEndPoint("EndToEnd",l),u.text.length}var e=0,c=n.createTextRange(),u=document.selection.createRange().duplicate(),h=u.getBookmark();for(c.moveToBookmark(h);c.moveStart("character",-1)!==0;)e++;return e}return n.selectionStart?n.selectionStart:0}if(e==-1&&(e=this[o?"text":"val"]().length),window.getSelection)o?(n.focus(),window.getSelection().collapse(n.firstChild,e)):n.setSelectionRange(e,e);else if(document.body.createTextRange)if(o){var c=document.body.createTextRange();c.moveToElementText(n),c.moveStart("character",e),c.collapse(!0),c.select()}else{var c=n.createTextRange();c.move("character",e),c.select()}return o||n.focus(),e}})(jQuery);(function(t){t.fn.tagEditorInput=function(){var e=" ",n=t(this),o=parseInt(n.css("fontSize")),l=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),u=function(){if(e!==(e=n.val())){l.text(e);var c=l.width()+o;20>c&&(c=20),c!=n.width()&&n.width(c)}};return l.insertAfter(n),n.bind("keyup keydown focus",u)},t.fn.tagEditor=function(e,n,o){function l(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var u,c=t.extend({},t.fn.tagEditor.defaults,e),h=this;if(c.dregex=new RegExp("["+c.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var v=[];return h.each(function(){var x=t(this),w=x.data("options"),k=x.next(".tag-editor");if(e=="getTags")v.push({field:x[0],editor:k,tags:k.data("tags")});else if(e=="addTag"){if(w.maxTags&&k.data("tags").length>=w.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+w.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(k).find(".tag-editor-tag").html('<input type="text" maxlength="'+w.maxLength+'">').addClass("active").find("input").val(n).blur(),o?t(".placeholder",k).remove():k.click()}else e=="removeTag"?(t(".tag-editor-tag",k).filter(function(){return t(this).text()==n}).closest("li").find(".tag-editor-delete").click(),o||k.click()):e=="destroy"&&x.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?v:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(x){if(x.which==8||x.which==46||x.ctrlKey&&x.which==88){try{var w=getSelection(),k=document.activeElement.tagName=="BODY"?t(w.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{k=0}if(w.rangeCount>0&&k&&k.length){var A=[],B=w.toString().split(k.prev().data("options").dregex);for(i=0;i<B.length;i++){var N=t.trim(B[i]);N&&A.push(N)}return t(".tag-editor-tag",k).each(function(){~t.inArray(t(this).text(),A)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),h.each(function(){var x=t(this),w=[],k=t("<ul "+(c.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(x);x.addClass("tag-editor-hidden-src").data("options",c).on("focus.tag-editor",function(){k.click()}),k.append('<li style="width:1px">&nbsp;</li>');var A='<li><div class="tag-editor-spacer">&nbsp;'+c.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function B(){c.placeholder&&!w.length&&!t(".deleted, .placeholder, input",k).length&&k.append('<li class="placeholder"><div>'+c.placeholder+"</div></li>")}function N(z){var G=w.toString();w=t(".tag-editor-tag:not(.deleted)",k).map(function(J,ue){var de=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(ue).text());if(de)return de}).get(),k.data("tags",w),x.val(w.join(c.delimiter[0])),z||G!=w.toString()&&c.onChange(x,k,w),B()}k.click(function(z,G){var J,ue=99999,de;if(!(window.getSelection&&getSelection()!=""))return c.maxTags&&k.data("tags").length>=c.maxTags?(k.find("input").blur(),!1):(u=!0,t("input:focus",k).blur(),u&&(u=!0,t(".placeholder",k).remove(),G&&G.length?de="before":t(".tag-editor-tag",k).each(function(){var ge=t(this),ce=ge.offset(),Te=ce.left,ve=ce.top;z.pageY>=ve&&z.pageY<=ve+ge.height()&&(z.pageX<Te?(de="before",J=Te-z.pageX):(de="after",J=z.pageX-Te-ge.width()),J<ue&&(ue=J,G=ge))}),de=="before"?t(A).insertBefore(G.closest("li")).find(".tag-editor-tag").click():de=="after"?t(A).insertAfter(G.closest("li")).find(".tag-editor-tag").click():t(A).appendTo(k).find(".tag-editor-tag").click()),!1)}),k.on("click",".tag-editor-delete",function(z){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caret(-1),!1;var G=t(this).closest("li"),J=G.find(".tag-editor-tag");return c.beforeTagDelete(x,k,w,J.text())===!1||(J.addClass("deleted").animate({width:0},c.animateDelete,function(){G.remove(),B()}),N()),!1}),c.clickDelete&&k.on("mousedown",".tag-editor-tag",function(z){if(z.ctrlKey||z.which>1){var G=t(this).closest("li"),J=G.find(".tag-editor-tag");return c.beforeTagDelete(x,k,w,J.text())===!1||(J.addClass("deleted").animate({width:0},c.animateDelete,function(){G.remove(),B()}),N()),!1}}),k.on("click",".tag-editor-tag",function(z){if(c.clickDelete&&(z.ctrlKey||z.which>1))return!1;if(!t(this).hasClass("active")){var G=t(this).text(),J=Math.abs((t(this).offset().left-z.pageX)/t(this).width()),ue=parseInt(G.length*J),de=t(this).html('<input type="text" maxlength="'+c.maxLength+'" value="'+l(G)+'">').addClass("active").find("input");if(de.data("old_tag",G).tagEditorInput().focus().caret(ue),c.autocomplete){var ge=t.extend({},c.autocomplete),ce="select"in ge?c.autocomplete.select:"";ge.select=function(Te,ve){ce&&ce(Te,ve),setTimeout(function(){k.trigger("click",[t(".active",k).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},de.autocomplete(ge)}}return!1});function j(z){for(var G=z.closest("li"),J=z.val().replace(/ +/," ").split(c.dregex),ue=z.data("old_tag"),de=w.slice(0),ge=!1,ce,Te=0;Te<J.length;Te++)if(W=t.trim(J[Te]).slice(0,c.maxLength),c.forceLowercase&&(W=W.toLowerCase()),ce=c.beforeTagSave(x,k,de,ue,W),W=ce||W,!(ce===!1||!W)&&(c.removeDuplicates&&~t.inArray(W,de)&&t(".tag-editor-tag",k).each(function(){t(this).text()==W&&t(this).closest("li").remove()}),de.push(W),G.before('<li><div class="tag-editor-spacer">&nbsp;'+c.delimiter[0]+'</div><div class="tag-editor-tag">'+l(W)+'</div><div class="tag-editor-delete"><i></i></div></li>'),c.maxTags&&de.length>=c.maxTags)){ge=!0;break}z.attr("maxlength",c.maxLength).removeData("old_tag").val(""),ge?z.blur():z.focus(),N()}k.on("blur","input",function(z){z.stopPropagation();var G=t(this),J=G.data("old_tag"),ue=t.trim(G.val().replace(/ +/," ").replace(c.dregex,c.delimiter[0])),de;if(ue){if(ue.indexOf(c.delimiter[0])>=0){j(G);return}else if(ue!=J)if(c.forceLowercase&&(ue=ue.toLowerCase()),de=c.beforeTagSave(x,k,w,J,ue),ue=de||ue,de===!1){if(J){G.val(J).focus(),u=!1,N();return}try{G.closest("li").remove()}catch{}J&&N()}else c.removeDuplicates&&t(".tag-editor-tag:not(.active)",k).each(function(){t(this).text()==ue&&t(this).closest("li").remove()})}else{if(J&&c.beforeTagDelete(x,k,w,J)===!1){G.val(J).focus(),u=!1,N();return}try{G.closest("li").remove()}catch{}J&&N()}G.parent().html(l(ue)).removeClass("active"),ue!=J&&N(),B()});var q;k.on("paste","input",function(z){t(this).removeAttr("maxlength"),q=t(this),setTimeout(function(){j(q)},30)});var O;k.on("keypress","input",function(z){c.delimiter.indexOf(String.fromCharCode(z.which))>=0&&(O=t(this),setTimeout(function(){j(O)},20))}),k.on("keydown","input",function(z){var G=t(this);if((z.which==37||!c.autocomplete&&z.which==38)&&!G.caret()||z.which==8&&!G.val()){var J=G.closest("li").prev("li").find(".tag-editor-tag");return J.length?J.click().find("input").caret(-1):G.val()&&!(c.maxTags&&k.data("tags").length>=c.maxTags)&&t(A).insertBefore(G.closest("li")).find(".tag-editor-tag").click(),!1}else if((z.which==39||!c.autocomplete&&z.which==40)&&G.caret()==G.val().length){var ue=G.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):G.val()&&k.click(),!1}else if(z.which==9)if(z.shiftKey){var J=G.closest("li").prev("li").find(".tag-editor-tag");if(J.length)J.click().find("input").caret(0);else if(G.val()&&!(c.maxTags&&k.data("tags").length>=c.maxTags))t(A).insertBefore(G.closest("li")).find(".tag-editor-tag").click();else{x.attr("disabled","disabled"),setTimeout(function(){x.removeAttr("disabled")},30);return}return!1}else{var ue=G.closest("li").next("li").find(".tag-editor-tag");if(ue.length)ue.click().find("input").caret(0);else if(G.val())k.click();else return;return!1}else if(z.which==46&&(!t.trim(G.val())||G.caret()==G.val().length)){var ue=G.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):G.val()&&k.click(),!1}else{if(z.which==13)return k.trigger("click",[G.closest("li").next("li").find(".tag-editor-tag")]),c.maxTags&&k.data("tags").length>=c.maxTags&&k.find("input").blur(),!1;if(z.which==36&&!G.caret())k.find(".tag-editor-tag").first().click();else if(z.which==35&&G.caret()==G.val().length)k.find(".tag-editor-tag").last().click();else if(z.which==27)return G.val(G.data("old_tag")?G.data("old_tag"):"").blur(),!1}});for(var S=c.initialTags.length?c.initialTags:x.val().split(c.dregex),P=0;P<S.length&&!(c.maxTags&&P>=c.maxTags);P++){var W=t.trim(S[P].replace(/ +/," "));W&&(c.forceLowercase&&(W=W.toLowerCase()),w.push(W),k.append('<li><div class="tag-editor-spacer">&nbsp;'+c.delimiter[0]+'</div><div class="tag-editor-tag">'+l(W)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}N(!0),c.sortable&&t.fn.sortable&&k.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){N()}})})},t.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);(function(t){t.fn.collection=function(e){var n={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(ne,D){return!0},after_up:function(ne,D){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(ne,D){return!0},after_down:function(ne,D){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(ne,D){return!0},after_add:function(ne,D){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(ne,D){return!0},after_remove:function(ne,D){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(ne,D){return!0},after_duplicate:function(ne,D){return!0},before_init:function(ne){},after_init:function(ne){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(ne,D){return!0},drag_drop_update:function(ne,D){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},o=function(){var ne=""+Math.random()*1e3*new Date().getTime();return ne.replace(".","").split("").sort(function(){return .5-Math.random()}).join("")},l=function(ne,D){if(!D.attr("id")){var se;do se=ne+"_"+o();while(t("#"+se).length>0);D.attr("id",se)}return D.attr("id")},u=function(ne){try{var D=t(ne)}catch{return null}return D.length===0?null:D.is('input[type="checkbox"]')?D.prop("checked")===!0:D.is('input[type="radio"]')&&D.attr("name")!==void 0?t('input[name="'+D.attr("name")+'"]:checked').val():D.prop("value")!==void 0?D.val():D.html()},c=function(ne,D,se){try{var ye=t(ne)}catch{return}ye.length!==0&&(ye.is('input[type="checkbox"]')?D?ye.attr("checked",!0):ye.removeAttr("checked"):ye.prop("value")!==void 0?se?ye.attr("value",D):ye.val(D):ye.html(D))},h=function(ne){return ne===void 0||ne},v=function(ne){return(ne+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},x=function(ne,D,se,ye){var Ce=function(ze){var Me=t(ze);typeof ze=="object"&&"attributes"in ze&&t.each(ze.attributes,function(ie,Y){t.type(Y.value)==="string"&&Me.attr(Y.name.replace(se,ye),Y.value.replace(se,ye))}),Me.length>0&&t.each(Me.data(),function(ie,Y){t.type(Y)==="string"&&Me.data(ie.replace(se,ye),Y.replace(se,ye))})},et=ne.eq(D);Ce(et[0]),et.find("*").each(function(){Ce(this)})},w=function(ne,D,se,ye,Ce,et){var ze=new RegExp(v(se.name_prefix+"["+Ce+"]"),"g"),Me=se.name_prefix+"["+et+"]";se.children&&t.each(se.children,function(ie,Y){var Le=ne.find(Y.selector).eq(ye),Re=Le.data("collection-settings");Re&&(Re.name_prefix=Re.name_prefix.replace(ze,Me),Le.data("collection-settings",Re))}),x(D,ye,ze,Me),ze=new RegExp(v(ne.attr("id")+"_"+Ce),"g"),Me=ne.attr("id")+"_"+et,se.children&&t.each(se.children,function(ie,Y){var Le=ne.find(Y.selector).eq(ye),Re=Le.data("collection-settings");Re&&(Re.elements_parent_selector=Re.elements_parent_selector.replace(ze,Me),Re.elements_selector=Re.elements_selector.replace(ze,Me),Re.prefix=Re.prefix.replace(ze,Me),Le.data("collection-settings",Re))}),x(D,ye,ze,Me)},k=function(ne,D,se,ye,Ce,et,ze){var Me=new RegExp(v(D.name_prefix+"["+et+"]"),"g"),ie=D.name_prefix+"["+ze+"]";return se=se.replace(Me,ie),Me=new RegExp(v(ne.attr("id")+"_"+ye),"g"),ie=ne.attr("id")+"_"+Ce,se=se.replace(Me,ie),se},A=function(ne){t(ne).find(":input").each(function(D,se){c(se,u(se),!0)})},B=function(ne,D,se,ye){var Ce=ne.data("collection-settings");return!Ce.position_field_selector&&!Ce.preserve_names&&(w(ne,D,Ce,se,se,"__swap__"),w(ne,D,Ce,ye,ye,se),w(ne,D,Ce,se,"__swap__",ye)),D.eq(se).insertBefore(D.eq(ye)),ye>se?D.eq(ye).insertBefore(D.eq(se)):D.eq(ye).insertAfter(D.eq(se)),ne.find(Ce.elements_selector)},N=function(ne,D,se,ye,Ce){for(var et=ye+1;et<=Ce;et++)D=B(ne,D,et,et-1);return ne.find(se.elements_selector)},j=function(ne,D,se,ye,Ce){for(var et=ye-1;et>=Ce;et--)D=B(ne,D,et,et+1);return ne.find(se.elements_selector)},q=function(ne,D,se,ye){for(var Ce=ye+1;Ce<D.length;Ce++)D=B(ne,D,Ce-1,Ce);return ne.find(se.elements_selector)},O=function(ne,D,se,ye){for(var Ce=D.length-2;Ce>ye;Ce--)D=B(ne,D,Ce+1,Ce);return ne.find(se.elements_selector)},S=function(ne,D,se,ye){var Ce=t(D.elements_parent_selector),et=Ce.find("."+D.prefix+"-tmp").length===0,ze=ne.find(D.elements_selector);if(D.allow_add&&et&&(Ce.append('<span class="'+D.prefix+'-tmp"></span>'),D.add&&Ce.append(t(D.add).addClass(D.prefix+"-action "+D.prefix+"-rescue-add").data("collection",ne.attr("id")))),se){ne.data("collection-offset",ze.length);for(var Me=t(D.container),ie=ne.find("."+D.prefix+"-add, ."+D.prefix+"-rescue-add, ."+D.prefix+"-duplicate").first(),Y=0;ze.length<D.init_with_n_elements;){Y++;var Le=ze.length>0?ze.last():void 0,Re=ze.length-1;if(ze=W(Me,ie,ne,D,ze,Le,Re,!1),Y>D.init_with_n_elements){console.error("Infinite loop, element selector ("+D.elements_selector+") not found !");break}}ne.data("collection-offset",ze.length)}if(ze.each(function(je){var Ze=t(this);se&&Ze.data("index",je);var Xe=Ze.find("."+D.prefix+"-actions").addBack().filter("."+D.prefix+"-actions");Xe.length===0&&(Xe=t('<div class="'+D.prefix+'-actions"></div>'),Ze.append(Xe));var ut=0;ye==="remove"&&D.fade_out&&(ut=1);var Ct=[{enabled:D.allow_remove,selector:D.prefix+"-remove",html:D.remove,condition:ze.length-ut>D.min},{enabled:D.allow_up,selector:D.prefix+"-up",html:D.up,condition:ze.length-ut>1&&ze.index(Ze)-ut>0},{enabled:D.allow_down,selector:D.prefix+"-down",html:D.down,condition:ze.length-ut>1&&ze.index(Ze)!==ze.length-1},{enabled:D.allow_add&&!D.add_at_the_end&&!D.custom_add_location,selector:D.prefix+"-add",html:D.add,condition:ze.length-ut<D.max},{enabled:D.allow_duplicate,selector:D.prefix+"-duplicate",html:D.duplicate,condition:ze.length-ut<D.max}];t.each(Ct,function(wt,St){if(St.enabled){var yt=Ze.find("."+St.selector);yt.length===0&&St.html&&(yt=t(St.html).appendTo(Xe).addClass(St.selector)),St.condition?(yt.removeClass(D.prefix+"-action-disabled"),D.hide_useless_buttons&&yt.css("display","")):(yt.addClass(D.prefix+"-action-disabled"),D.hide_useless_buttons&&yt.css("display","none")),yt.addClass(D.prefix+"-action").data("collection",ne.attr("id")).data("element",l(ne.attr("id")+"_"+je,Ze))}else Ze.find("."+St.selector).css("display","none")})}),D.allow_add){var V=0;ye==="remove"&&D.fade_out&&(V=1);var we=ne.find("."+D.prefix+"-rescue-add").css("display","").removeClass(D.prefix+"-action-disabled"),Ae=ne.find("."+D.prefix+"-add");!D.add_at_the_end&&Ae.length>V||D.custom_add_location?we.css("display","none"):ye==="remove"&&D.fade_out&&(we.css("display","none"),we.fadeIn("fast")),ze.length-V>=D.max&&(we.addClass(D.prefix+"-action-disabled"),D.hide_useless_buttons&&ne.find("."+D.prefix+"-add, ."+D.prefix+"-rescue-add, ."+D.prefix+"-duplicate").css("display","none"))}},P=function(ne,D,se){se.children&&t.each(se.children,function(ye,Ce){if(!Ce.selector)return console.log("jquery.collection.js: given collection "+ne.attr("id")+" has children collections, but children's root selector is undefined."),!0;D!==null?D.find(Ce.selector).collection(Ce):ne.find(Ce.selector).collection(Ce)})},W=function(ne,D,se,ye,Ce,et,ze,Me){if(Ce.length<ye.max&&(Me&&h(ye.before_duplicate(se,et))||h(ye.before_add(se,et)))){var ie=se.data("prototype"),Y=se.data("collection-offset");se.data("collection-offset",Y+1),ze===-1&&(ze=Ce.length-1);var Le=new RegExp(v(ye.prototype_name),"g"),Re=Y;ye.preserve_names&&(Re=se.data("collection-free-key"),Re===void 0&&(Re=ce(ye,Ce)),se.data("collection-free-key",Re+1));var V=t(ie.replace(Le,Re)).data("index",Y);Te(ye,V);var we=t(ye.elements_parent_selector),Ae=we.find("> ."+ye.prefix+"-tmp");if(t(V).find("[id]").first().attr("id"),Me){var je=Ce.eq(ze);A(je);var Ze=t("<div/>").append(je.clone()).html(),Xe=ye.preserve_names||ye.position_field_selector?je.data("index"):ze,ut=ye.preserve_names?ge(ye,je):Xe,Ct=k(se,ye,Ze,Xe,Y,ut,Re);V=t("<div/>").html(Ct).contents().data("index",Y),ye.fade_in&&V.hide(),Ae.before(V).find(ye.prefix+"-actions").remove()}else ye.fade_in&&V.hide(),Ae.before(V);Ce=se.find(ye.elements_selector);var wt=V.find("."+ye.prefix+"-add, ."+ye.prefix+"-duplicate");wt.length>0&&wt.addClass(ye.prefix+"-action").data("collection",se.attr("id")),!ye.add_at_the_end&&ze+1!==Y?Ce=ue(se,ye,Ce,V,Y,ze+1):S(se,ye,!1),P(se,V,ye),(Me&&!h(ye.after_duplicate(se,V))||!h(ye.after_add(se,V)))&&(ze!==-1&&(Ce=q(se,Ce,ye,ze+1)),V.remove())}if(V!==void 0&&ye.fade_in)V.fadeIn("fast",function(){ye.position_field_selector&&de(ye,Ce)});else if(ye.position_field_selector)return de(ye,Ce);return Ce},z=function(ne,D,se,ye,Ce){if(se.length>D.min&&h(D.before_remove(ne,ye))){var et=function(){var ze=ye;D.preserve_names||(se=q(ne,se,D,Ce),ze=se.last());var Me=ze.clone({withDataAndEvents:!0}).show();if(ze.remove(),!h(D.after_remove(ne,Me))){var ie=t(D.elements_parent_selector);ie.find("> ."+D.prefix+"-tmp").before(Me),se=ne.find(D.elements_selector),se=O(ne,se,D,Ce-1)}D.position_field_selector&&de(D,se)};D.fade_out?ye.fadeOut("fast",function(){et()}):et()}return se},G=function(ne,D,se,ye,Ce){return Ce!==0&&h(D.before_up(ne,ye))&&(se=B(ne,se,Ce,Ce-1),h(D.after_up(ne,ye))||(se=B(ne,se,Ce-1,Ce))),D.position_field_selector?de(D,se):se},J=function(ne,D,se,ye,Ce){return Ce!==se.length-1&&h(D.before_down(ne,ye))&&(se=B(ne,se,Ce,Ce+1),h(D.after_down(ne,se))||(se=B(ne,se,Ce+1,Ce))),D.position_field_selector?de(D,se):se},ue=function(ne,D,se,ye,Ce,et){return Math.abs(et-Ce)===1?(se=B(ne,se,Ce,et),(et-Ce>0?h(D.after_up(ne,ye)):h(D.after_down(ne,ye)))||(se=B(ne,se,et,Ce))):Ce<et?(se=N(ne,se,D,Ce,et),(et-Ce>0?h(D.after_up(ne,ye)):h(D.after_down(ne,ye)))||(se=j(ne,se,D,et,Ce))):(se=j(ne,se,D,Ce,et),(et-Ce>0?h(D.after_up(ne,ye)):h(D.after_down(ne,ye)))||(se=N(ne,se,D,et,Ce))),S(ne,D,!1),D.position_field_selector?de(D,se):se},de=function(ne,D){return t(D).each(function(){var se=t(this);c(se.find(ne.position_field_selector),D.index(se))}),D},ge=function(ne,D){var se=D.find(':input[name^="'+ne.name_prefix+'["]').attr("name");return se.slice(ne.name_prefix.length+1).split("]",1)[0]},ce=function(ne,D){var se=0;return D.each(function(){var ye=ge(ne,t(this));/^0|[1-9]\d*$/.test(ye)&&ye>=se&&(se=Number(ye)+1)}),se},Te=function(ne,D){var se=["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"];t.each(se,function(){var ye=this;D.each(function(){var Ce=t(this);Ce.hasClass(ne.user_prefix+ye)&&Ce.addClass(ne.prefix+ye),Ce.find("*").each(function(){var et=t(this);et.hasClass(ne.user_prefix+ye)&&et.addClass(ne.prefix+ye)})})})},ve=t(this);return ve.length===0?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(ve.each(function(){var ne=t.extend(!0,{},n,e);if(t(ne.container).length===0)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var D=t(this);if(D.data("collection")!==void 0){var se=t("#"+D.data("collection"));if(se.length===0)return console.log("jquery.collection.js: given collection id does not exist."),!0}else se=D;if(se=t(se),ne.elements_parent_selector=ne.elements_parent_selector.replace("%id%","#"+l("",se)),!ne.elements_parent_selector&&(ne.elements_parent_selector="#"+l("",se),t(ne.elements_parent_selector).length===0))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(ne.user_prefix=ne.prefix,ne.prefix=se.attr("id")+"-"+ne.user_prefix,Te(ne,se),ne.allow_add||(ne.allow_duplicate=!1,ne.add_at_the_end=!1),ne.init_with_n_elements>ne.max&&(ne.init_with_n_elements=ne.max),ne.min&&(!ne.init_with_n_elements||ne.init_with_n_elements<ne.min)&&(ne.init_with_n_elements=ne.min),ne.before_init(se),se.data("prototype")===null)return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(se.data("prototype-name")!==void 0&&(ne.prototype_name=se.data("prototype-name")),se.data("allow-add")!==void 0&&(ne.allow_add=se.data("allow-add"),ne.allow_duplicate=se.data("allow-add")?ne.allow_duplicate:!1),se.data("allow-remove")!==void 0&&(ne.allow_remove=se.data("allow-remove")),se.data("name-prefix")!==void 0&&(ne.name_prefix=se.data("name-prefix")),!ne.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;if(ne.preserve_names&&(ne.allow_up=!1,ne.allow_down=!1,ne.drag_drop=!1,ne.add_at_the_end=!0),typeof jQuery.ui<"u"&&typeof jQuery.ui.sortable<"u"&&se.data("sortable")&&se.sortable("disable"),ne.drag_drop&&ne.allow_up&&ne.allow_down){var ye,Ce;typeof jQuery.ui>"u"||typeof jQuery.ui.sortable>"u"?ne.drag_drop=!1:se.sortable(t.extend(!0,{},{start:function(Y,Le){var Re=se.find(ne.elements_selector),V=Le.item,we=t(this);if(!h(ne.drag_drop_start(Y,Le,Re,V))){we.sortable("cancel");return}Le.placeholder.height(Le.item.height()),Le.placeholder.width(Le.item.width()),ye=Re.index(V)},update:function(Y,Le){var Re=se.find(ne.elements_selector),V=Le.item,we=t(this);we.sortable("cancel"),!(ne.drag_drop_update(Y,Le,Re,V)===!1||!(Ce-ye>0?h(ne.before_up(se,V)):h(ne.before_down(se,V))))&&(Ce=Re.index(V),Re=se.find(ne.elements_selector),ue(se,ne,Re,V,ye,Ce))}},ne.drag_drop_options))}se.data("collection-settings",ne);var et=t(ne.container);if(et.off("click","."+ne.prefix+"-action").on("click","."+ne.prefix+"-action",function(Y){var Le=t(this),Re=t("#"+Le.data("collection")),V=Re.data("collection-settings");if(V===void 0){var Re=t("#"+Le.data("collection")).find("."+Le.data("collection")+"-collection"),V=Re.data("collection-settings");if(V===void 0)throw"Can't find collection: "+Le.data("collection")}var we=Re.find(V.elements_selector),Ae=Le.data("element")?t("#"+Le.data("element")):void 0,je=Ae&&Ae.length?we.index(Ae):-1,Ze=null,Xe=Le.is("."+V.prefix+"-duplicate");(Le.is("."+V.prefix+"-add")||Le.is("."+V.prefix+"-rescue-add")||Xe)&&V.allow_add&&(Ze="add",we=W(et,Le,Re,V,we,Ae,je,Xe)),Le.is("."+V.prefix+"-remove")&&V.allow_remove&&(Ze="remove",we=z(Re,V,we,Ae,je)),Le.is("."+V.prefix+"-up")&&V.allow_up&&(Ze="up",we=G(Re,V,we,Ae,je)),Le.is("."+V.prefix+"-down")&&V.allow_down&&(Ze="down",we=J(Re,V,we,Ae,je)),S(Re,V,!1,Ze),Y.preventDefault()}),S(se,ne,!0),P(se,null,ne),ne.position_field_selector){var ze=[],Me=se.find(ne.elements_selector);Me.each(function(Y){var Le=t(this);ze.push({position:parseFloat(u(Le.find(ne.position_field_selector))),element:Le})});var ie=function(Y,Le){return Y.position<Le.position?-1:Y.position>Le.position?1:0};ze.sort(ie),t.each(ze,function(Y,Le){var Re=[];t(Me).each(function(Ae){Re.push(t(this).attr("id"))});var V=Le.element,we=t.inArray(V.attr("id"),Re);Y!==we&&(Me=ue(se,ne,Me,V,we,Y),c(V.find(ne.position_field_selector),Me.index(V)))})}ne.after_init(se)}),!0)}})(jQuery);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;if(window.jQuery)e=t(window.jQuery);else throw new Error("UIkit 2.x requires jQuery");typeof define=="function"&&define.amd&&define("uikit",function(){return e.load=function(n,o,l,u){var c=n.split(","),h=[],v,x=(u.config&&u.config.uikit&&u.config.uikit.base?u.config.uikit.base:"").replace(/\/+$/g,"");if(!x)throw new Error("Please define base path to UIkit in the requirejs config.");for(v=0;v<c.length;v+=1){var w=c[v].replace(/\./g,"/");h.push(x+"/components/"+w)}o(h,function(){l(e)})},e})})(function(t){if(window.UIkit2)return window.UIkit2;var e={},n=window.UIkit||void 0;if(e.version="2.27.4",e.noConflict=function(){return n&&(window.UIkit=n,t.UIkit=n,t.fn.uk=n.fn),e},window.UIkit2=e,n||(window.UIkit=e),e.$=t,e.$doc=e.$(document),e.$win=e.$(window),e.$html=e.$("html"),e.support={},e.support.transition=function(){var h=function(){var v=document.body||document.documentElement,x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},w;for(w in x)if(v.style[w]!==void 0)return x[w]}();return h&&{end:h}}(),e.support.animation=function(){var h=function(){var v=document.body||document.documentElement,x={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},w;for(w in x)if(v.style[w]!==void 0)return x[w]}();return h&&{end:h}}(),function(){Date.now=Date.now||function(){return new Date().getTime()};for(var h=["webkit","moz"],v=0;v<h.length&&!window.requestAnimationFrame;++v){var x=h[v];window.requestAnimationFrame=window[x+"RequestAnimationFrame"],window.cancelAnimationFrame=window[x+"CancelAnimationFrame"]||window[x+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var w=0;window.requestAnimationFrame=function(k){var A=Date.now(),B=Math.max(w+16,A);return setTimeout(function(){k(w=B)},B-A)},window.cancelAnimationFrame=clearTimeout}}(),e.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,e.Utils={},e.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},e.Utils.str2json=function(h,v){try{return v?JSON.parse(h.replace(/([\$\w]+)\s*:/g,function(x,w){return'"'+w+'":'}).replace(/'([^']+)'/g,function(x,w){return'"'+w+'"'})):new Function("","var json = "+h+"; return JSON.parse(JSON.stringify(json));")()}catch{return!1}},e.Utils.debounce=function(h,v,x){var w;return function(){var k=this,A=arguments,B=function(){w=null,x||h.apply(k,A)},N=x&&!w;clearTimeout(w),w=setTimeout(B,v),N&&h.apply(k,A)}},e.Utils.throttle=function(h,v){var x=!1;return function(){x||(h.call(),x=!0,setTimeout(function(){x=!1},v))}},e.Utils.removeCssRules=function(h){var v,x,w,k,A,B,N,j,q,O;h&&setTimeout(function(){try{for(O=document.styleSheets,k=0,N=O.length;k<N;k++){for(w=O[k],x=[],w.cssRules=w.cssRules,v=A=0,j=w.cssRules.length;A<j;v=++A)w.cssRules[v].type===CSSRule.STYLE_RULE&&h.test(w.cssRules[v].selectorText)&&x.unshift(v);for(B=0,q=x.length;B<q;B++)w.deleteRule(x[B])}}catch{}},0)},e.Utils.isInView=function(h,v){var x=t(h);if(!x.is(":visible"))return!1;var w=e.$win.scrollLeft(),k=e.$win.scrollTop(),A=x.offset(),B=A.left,N=A.top;return v=t.extend({topoffset:0,leftoffset:0},v),N+x.height()>=k&&N-v.topoffset<=k+e.$win.height()&&B+x.width()>=w&&B-v.leftoffset<=w+e.$win.width()},e.Utils.checkDisplay=function(h,v){var x=e.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",h||document);return h&&!x.length&&(x=t(h)),x.trigger("display.uk.check"),v&&(typeof v!="string"&&(v='[class*="uk-animation-"]'),x.find(v).each(function(){var w=e.$(this),k=w.attr("class"),A=k.match(/uk-animation-(.+)/);w.removeClass(A[0]).width(),w.addClass(A[0])})),x},e.Utils.options=function(h){if(t.type(h)!="string")return h;h.indexOf(":")!=-1&&h.trim().substr(-1)!="}"&&(h="{"+h+"}");var v=h?h.indexOf("{"):-1,x={};if(v!=-1)try{x=e.Utils.str2json(h.substr(v))}catch{}return x},e.Utils.animate=function(h,v){var x=t.Deferred();return h=e.$(h),h.css("display","none").addClass(v).one(e.support.animation.end,function(){h.removeClass(v),x.resolve()}),h.css("display",""),x.promise()},e.Utils.uid=function(h){return(h||"id")+new Date().getTime()+"RAND"+Math.ceil(Math.random()*1e5)},e.Utils.template=function(h,v){for(var x=h.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),w=0,k,A,B,N,j=[],q=0;w<x.length;){if(k=x[w],k.match(/\{\{\s*(.+?)\s*\}\}/))switch(w=w+1,k=x[w],A=k[0],B=k.substring(k.match(/^(\^|\#|\!|\~|\:)/)?1:0),A){case"~":j.push("for(var $i=0;$i<"+B+".length;$i++) { var $item = "+B+"[$i];"),q++;break;case":":j.push("for(var $key in "+B+") { var $val = "+B+"[$key];"),q++;break;case"#":j.push("if("+B+") {"),q++;break;case"^":j.push("if(!"+B+") {"),q++;break;case"/":j.push("}"),q--;break;case"!":j.push("__ret.push("+B+");");break;default:j.push("__ret.push(escape("+B+"));");break}else j.push("__ret.push('"+k.replace(/\'/g,"\\'")+"');");w=w+1}return N=new Function("$data",["var __ret = [];","try {","with($data){",q?'__ret = ["Not all blocks are closed correctly."]':j.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',`function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}`].join(`
`)),v?N(v):N},e.Utils.focus=function(h,v){if(h=t(h),!h.length)return h;var x=h.find("[autofocus]:first"),w;return x.length||(x=h.find(":input"+(v&&","+v||"")).first(),x.length)?x.focus():(h.attr("tabindex")||(w=1e3,h.attr("tabindex",w)),h[0].focus(),w&&h.attr("tabindex",""),h)},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.fn=function(h,v){var x=arguments,w=h.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),k=w[1],A=w[2];return e[k]?this.each(function(){var B=t(this),N=B.data(k);N||B.data(k,N=e[k](this,A?void 0:v)),A&&N[A].apply(N,Array.prototype.slice.call(x,1))}):(t.error("UIkit component ["+k+"] does not exist."),this)},t.UIkit=e,t.fn.uk=e.fn,e.langdirection=e.$html.attr("dir")=="rtl"?"right":"left",e.components={},e.component=function(h,v,x){if(e.components[h]&&!x)return e.components[h];var w=function(k,A){var B=this;return this.UIkit=e,this.element=k?e.$(k):null,this.options=t.extend(!0,{},this.defaults,A),this.plugins={},this.element&&this.element.data(h,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(w.plugins)).forEach(function(N){w.plugins[N].init&&(w.plugins[N].init(B),B.plugins[N]=!0)}),this.trigger("init.uk.component",[h,this]),this};return w.plugins={},t.extend(!0,w.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(k,A,B){return e.$(this.element||this).on(k,A,B)},one:function(k,A,B){return e.$(this.element||this).one(k,A,B)},off:function(k){return e.$(this.element||this).off(k)},trigger:function(k,A){return e.$(this.element||this).trigger(k,A)},find:function(k){return e.$(this.element?this.element:[]).find(k)},proxy:function(k,A){var B=this;A.split(" ").forEach(function(N){B[N]||(B[N]=function(){return k[N].apply(k,arguments)})})},mixin:function(k,A){var B=this;A.split(" ").forEach(function(N){B[N]||(B[N]=k[N].bind(B))})},option:function(){if(arguments.length==1)return this.options[arguments[0]]||void 0;arguments.length==2&&(this.options[arguments[0]]=arguments[1])}},v),this.components[h]=w,this[h]=function(){var k,A;if(arguments.length)switch(arguments.length){case 1:typeof arguments[0]=="string"||arguments[0].nodeType||arguments[0]instanceof jQuery?k=t(arguments[0]):A=arguments[0];break;case 2:k=t(arguments[0]),A=arguments[1];break}return k&&k.data(h)?k.data(h):new e.components[h](k,A)},e.domready&&e.component.boot(h),w},e.plugin=function(h,v,x){this.components[h].plugins[v]=x},e.component.boot=function(h){e.components[h].prototype&&e.components[h].prototype.boot&&!e.components[h].booted&&(e.components[h].prototype.boot.apply(e,[]),e.components[h].booted=!0)},e.component.bootComponents=function(){for(var h in e.components)e.component.boot(h)},e.domObservers=[],e.domready=!1,e.ready=function(h){e.domObservers.push(h),e.domready&&h(document)},e.on=function(h,v,x){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready&&v.apply(e.$doc),e.$doc.on(h,v,x)},e.one=function(h,v,x){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready?(v.apply(e.$doc),e.$doc):e.$doc.one(h,v,x)},e.trigger=function(h,v){return e.$doc.trigger(h,v)},e.domObserve=function(h,v){e.support.mutationobserver&&(v=v||function(){},e.$(h).each(function(){var x=this,w=e.$(x);if(!w.data("observer"))try{var k=new e.support.mutationobserver(e.Utils.debounce(function(A){v.apply(x,[w]),w.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});k.observe(x,{childList:!0,subtree:!0}),w.data("observer",k)}catch{}}))},e.init=function(h){h=h||document,e.domObservers.forEach(function(v){v(h)})},e.on("domready.uk.dom",function(){e.init(),e.domready&&e.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",function(){var h=function(){e.$body=e.$("body"),e.trigger("beforeready.uk.dom"),e.component.bootComponents();var v=requestAnimationFrame(function(){var w={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},k=function(){var A=window.pageXOffset,B=window.pageYOffset;(w.x!=A||w.y!=B)&&(A!=w.x?w.dir.x=A>w.x?1:-1:w.dir.x=0,B!=w.y?w.dir.y=B>w.y?1:-1:w.dir.y=0,w.x=A,w.y=B,e.$doc.trigger("scrolling.uk.document",[{dir:{x:w.dir.x,y:w.dir.y},x:A,y:B}])),cancelAnimationFrame(v),v=requestAnimationFrame(k)};return e.support.touch&&e.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",k),(w.x||w.y)&&k(),k}());if(e.trigger("domready.uk.dom"),e.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e.$win.on("load orientationchange resize",e.Utils.debounce(function(){var w=function(){return t(".uk-height-viewport").css("height",window.innerHeight),w};return w()}(),100)),e.trigger("afterready.uk.dom"),e.domready=!0,e.support.mutationobserver){var x=e.Utils.debounce(function(){requestAnimationFrame(function(){e.init(document.body)})},10);new e.support.mutationobserver(function(w){var k=!1;w.every(function(A){if(A.type!="childList")return!0;for(var B=0,N;B<A.addedNodes.length;++B)if(N=A.addedNodes[B],N.outerHTML&&N.outerHTML.indexOf("data-uk-")!==-1)return(k=!0)&&!1;return!0}),k&&x()}).observe(document.body,{childList:!0,subtree:!0})}};return(document.readyState=="complete"||document.readyState=="interactive")&&setTimeout(h),h}()),e.$html.addClass(e.support.touch?"uk-touch":"uk-notouch"),e.support.touch){var o=!1,l,u="uk-hover",c=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";e.$html.on("mouseenter touchstart MSPointerDown pointerdown",c,function(){o&&t("."+u).removeClass(u),o=t(this).addClass(u)}).on("mouseleave touchend MSPointerUp pointerup",function(h){l=t(h.target).parents(c),o&&o.not(l).removeClass(u)})}return e});(function(t){if(t.fn.swipeLeft)return;var e={},n,o,l,u,c=750,h,v="ontouchstart"in window,x=window.PointerEvent,w=v||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;function k(q,O,S,P){return Math.abs(q-O)>=Math.abs(S-P)?q-O>0?"Left":"Right":S-P>0?"Up":"Down"}function A(){u=null,e.last&&(e.el!==void 0&&e.el.trigger("longTap"),e={})}function B(){u&&clearTimeout(u),u=null}function N(){n&&clearTimeout(n),o&&clearTimeout(o),l&&clearTimeout(l),u&&clearTimeout(u),n=o=l=u=null,e={}}function j(q){return q.pointerType==q.MSPOINTER_TYPE_TOUCH&&q.isPrimary}t(function(){var q,O,S=0,P=0,W;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).on("MSGestureEnd gestureend",function(z){var G=z.originalEvent.velocityX>1?"Right":z.originalEvent.velocityX<-1?"Left":z.originalEvent.velocityY>1?"Down":z.originalEvent.velocityY<-1?"Up":null;G&&e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+G))}).on("touchstart MSPointerDown pointerdown",function(z){z.type=="MSPointerDown"&&!j(z.originalEvent)||(W=z.type=="MSPointerDown"||z.type=="pointerdown"?z:z.originalEvent.touches[0],q=Date.now(),O=q-(e.last||q),e.el=t("tagName"in W.target?W.target:W.target.parentNode),n&&clearTimeout(n),e.x1=W.pageX,e.y1=W.pageY,O>0&&O<=250&&(e.isDoubleTap=!0),e.last=q,u=setTimeout(A,c),z.originalEvent&&z.originalEvent.pointerId&&h&&(z.type=="MSPointerDown"||z.type=="pointerdown"||z.type=="touchstart")&&h.addPointer(z.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(z){z.type=="MSPointerMove"&&!j(z.originalEvent)||(W=z.type=="MSPointerMove"||z.type=="pointermove"?z:z.originalEvent.touches[0],B(),e.x2=W.pageX,e.y2=W.pageY,S+=Math.abs(e.x1-e.x2),P+=Math.abs(e.y1-e.y2))}).on("touchend MSPointerUp pointerup",function(z){z.type=="MSPointerUp"&&!j(z.originalEvent)||(B(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?l=setTimeout(function(){e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+k(e.x1,e.x2,e.y1,e.y2))),e={}},0):"last"in e&&(isNaN(S)||S<30&&P<30?o=setTimeout(function(){var G=t.Event("tap");G.cancelTouch=N,e.el!==void 0&&e.el.trigger(G),e.isDoubleTap?(e.el!==void 0&&e.el.trigger("doubleTap"),e={}):n=setTimeout(function(){n=null,e.el!==void 0&&e.el.trigger("singleTap"),e={}},250)},0):e={},S=P=0))}).on("touchcancel MSPointerCancel pointercancel",function(z){(z.type=="touchcancel"&&v&&w||!v&&z.type=="pointercancel"&&x)&&N()}),t(window).on("scroll",N)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(q){t.fn[q]=function(O){return t(this).on(q,O)}})})(jQuery);(function(t){t.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var n=t.$(this);n.data("stackMargin")||t.stackMargin(n,t.Utils.options(n.attr("data-uk-margin")))})})},init:function(){var e=this;t.$win.on("resize orientationchange",function(){var n=function(){e.process()};return t.$(function(){n(),t.$win.on("load",n)}),t.Utils.debounce(n,20)}()),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.process()}).bind(this)),this.options.observe&&t.domObserve(this.element,function(n){e.element.is(":visible")&&e.process()})},process:function(){var e=this.element.children();if(t.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var n={},o=!1;return e.removeClass(this.options.rowfirst).each(function(l,u){u=t.$(this),this.style.display!="none"&&(l=u.offset().left,((n[l]=n[l]||[])&&n[l]).push(this),o=o===!1?l:Math.min(o,l))}),t.$(n[o]).addClass(this.options.rowfirst),this}}),function(){var e=[],n=function(o){if(o.is(":visible")){var l=o.parent().width(),u=o.data("width"),c=l/u,h=Math.floor(c*o.data("height"));o.css({height:l<u?h:o.data("height")})}};t.component("responsiveElement",{defaults:{},boot:function(){t.ready(function(o){t.$("iframe.uk-responsive-width, [data-uk-responsive]",o).each(function(){var l=t.$(this);l.data("responsiveElement")||t.responsiveElement(l,{})})})},init:function(){var o=this.element;o.attr("width")&&o.attr("height")&&(o.data({width:o.attr("width"),height:o.attr("height")}).on("display.uk.check",function(){n(o)}),n(o),e.push(o))}}),t.$win.on("resize load",t.Utils.debounce(function(){e.forEach(function(o){n(o)})},15))}(),t.Utils.stackMargin=function(e,n){n=t.$.extend({cls:"uk-margin-small-top"},n),e=t.$(e).removeClass(n.cls);var o=!1;e.each(function(l,u,c,h){h=t.$(this),h.css("display")!="none"&&(l=h.offset(),u=h.outerHeight(),c=l.top+u,h.data({ukMarginPos:c,ukMarginTop:l.top}),(o===!1||l.top<o.top)&&(o={top:l.top,left:l.left,pos:c}))}).each(function(l){l=t.$(this),l.css("display")!="none"&&l.data("ukMarginTop")>o.top&&l.data("ukMarginPos")>o.pos&&l.addClass(n.cls)})},t.Utils.matchHeights=function(e,n){e=t.$(e).css("min-height",""),n=t.$.extend({row:!0},n);var o=function(l){if(!(l.length<2)){var u=0;l.each(function(){u=Math.max(u,t.$(this).outerHeight())}).each(function(){var c=t.$(this),h=u-(c.css("box-sizing")=="border-box"?0:c.outerHeight()-c.height());c.css("min-height",h+"px")})}};n.row?(e.first().width(),setTimeout(function(){var l=!1,u=[];e.each(function(){var c=t.$(this),h=c.offset().top;h!=l&&u.length&&(o(t.$(u)),u=[],h=c.offset().top),u.push(c),l=h}),u.length&&o(t.$(u))},0)):o(e)},function(e){t.Utils.inlineSvg=function(n,o){t.$(n||'img[src$=".svg"]',o||document).each(function(){var l=t.$(this),u=l.attr("src");if(!e[u]){var c=t.$.Deferred();t.$.get(u,{nc:Math.random()},function(h){c.resolve(t.$(h).find("svg"))}),e[u]=c.promise()}e[u].then(function(h){var v=t.$(h).clone();l.attr("id")&&v.attr("id",l.attr("id")),l.attr("class")&&v.attr("class",l.attr("class")),l.attr("style")&&v.attr("style",l.attr("style")),l.attr("width")&&(v.attr("width",l.attr("width")),l.attr("height")||v.removeAttr("height")),l.attr("height")&&(v.attr("height",l.attr("height")),l.attr("width")||v.removeAttr("width")),l.replaceWith(v)})})},t.ready(function(n){t.Utils.inlineSvg("[data-uk-svg]",n)})}({}),t.Utils.getCssVar=function(e){var n,o=document.documentElement,l=o.appendChild(document.createElement("div"));l.classList.add("var-"+e);try{n=JSON.parse(n=getComputedStyle(l,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch{n=void 0}return o.removeChild(l),n}})(UIkit2);(function(t){t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(n){var o=t.$(this);return o.data("smoothScroll")||(t.smoothScroll(o,t.Utils.options(o.attr("data-uk-smooth-scroll"))),o.trigger("click")),!1})},init:function(){var n=this;this.on("click",function(o){o.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),n.options)})}});function e(n,o){o=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},o);var l=n.offset().top-o.offset,u=t.$doc.height(),c=window.innerHeight;l+c>u&&(l=u-c),t.$("html,body").stop().animate({scrollTop:l},o.duration,o.transition).promise().done(o.complete)}t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(n,o,l,u,c){return o==c?l+u:u*(-Math.pow(2,-10*o/c)+1)+l})})(UIkit2);(function(t){var e=t.$win,n=t.$doc,o=[],l=function(){for(var h=0;h<o.length;h++)window.requestAnimationFrame.apply(window,[o[h].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){n.on("scrolling.uk.document",l),e.on("load resize orientationchange",t.Utils.debounce(l,50)),t.ready(function(h){t.$("[data-uk-scrollspy]",h).each(function(){var v=t.$(this);v.data("scrollspy")||t.scrollspy(v,t.Utils.options(v.attr("data-uk-scrollspy")))})})},init:function(){var h=this,v,x=this.options.cls.split(/,/),w=function(){var k=h.options.target?h.element.find(h.options.target):h.element,A=k.length===1?1:0,B=0;k.each(function(N){var j=t.$(this),q=j.data("inviewstate"),O=t.Utils.isInView(j,h.options),S=j.attr("data-uk-scrollspy-cls")||x[B].trim();O&&!q&&!j.data("scrollspy-idle")&&(v||(j.addClass(h.options.initcls),h.offset=j.offset(),v=!0,j.trigger("init.uk.scrollspy")),j.data("scrollspy-idle",setTimeout(function(){j.addClass("uk-scrollspy-inview").toggleClass(S).width(),j.trigger("inview.uk.scrollspy"),j.data("scrollspy-idle",!1),j.data("inviewstate",!0)},h.options.delay*A)),A++),!O&&q&&h.options.repeat&&(j.data("scrollspy-idle")&&(clearTimeout(j.data("scrollspy-idle")),j.data("scrollspy-idle",!1)),j.removeClass("uk-scrollspy-inview").toggleClass(S),j.data("inviewstate",!1),j.trigger("outview.uk.scrollspy")),B=x[B+1]?B+1:0})};w(),this.check=w,o.push(this)}});var u=[],c=function(){for(var h=0;h<u.length;h++)window.requestAnimationFrame.apply(window,[u[h].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){n.on("scrolling.uk.document",c),e.on("resize orientationchange",t.Utils.debounce(c,50)),t.ready(function(h){t.$("[data-uk-scrollspy-nav]",h).each(function(){var v=t.$(this);v.data("scrollspynav")||t.scrollspynav(v,t.Utils.options(v.attr("data-uk-scrollspy-nav")))})})},init:function(){var h=[],v=this.find("a[href^='#']").each(function(){this.getAttribute("href").trim()!=="#"&&h.push(this.getAttribute("href"))}),x=t.$(h.join(",")),w=this.options.cls,k=this.options.closest||this.options.closest,A=this,B,N=function(){B=[];for(var j=0;j<x.length;j++)t.Utils.isInView(x.eq(j),A.options)&&B.push(x.eq(j));if(B.length){var q,O=e.scrollTop(),S=function(){for(var P=0;P<B.length;P++)if(B[P].offset().top-A.options.topoffset>=O)return B[P]}();if(!S)return;A.options.closest?(v.blur().closest(k).removeClass(w),q=v.filter("a[href='#"+S.attr("id")+"']").closest(k).addClass(w)):q=v.removeClass(w).filter("a[href='#"+S.attr("id")+"']").addClass(w),A.element.trigger("inview.uk.scrollspynav",[S,q])}};this.options.smoothscroll&&t.smoothScroll&&v.each(function(){t.smoothScroll(this,A.options.smoothscroll)}),N(),this.element.data("scrollspynav",this),this.check=N,u.push(this)}})})(UIkit2);(function(t){var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(n){t.$("[data-uk-toggle]",n).each(function(){var o=t.$(this);o.data("toggle")||t.toggle(o,t.Utils.options(o.attr("data-uk-toggle")))}),setTimeout(function(){e.forEach(function(o){o.getToggles()})},0)})},init:function(){var n=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(o){n.element.is('a[href="#"]')&&o.preventDefault(),n.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),!!this.totoggle.length){if(this.options.animation&&t.support.animation){var n=this,o=this.options.animation.split(",");o.length==1&&(o[1]=o[0]),o[0]=o[0].trim(),o[1]=o[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var l=t.$(this);l.hasClass(n.options.cls)?(l.toggleClass(n.options.cls),t.Utils.animate(l,o[0]).then(function(){l.css("animation-duration",""),t.Utils.checkDisplay(l)})):t.Utils.animate(this,o[1]+" uk-animation-reverse").then(function(){l.toggleClass(n.options.cls).css("animation-duration",""),t.Utils.checkDisplay(l)})})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})})(UIkit2);(function(t){t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var n=t.$(this);if(!n.data("alert")){var o=t.alert(n,t.Utils.options(n.attr("data-uk-alert")));t.$(e.target).is(o.options.trigger)&&(e.preventDefault(),o.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(n){n.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),n=(function(){this.trigger("closed.uk.alert").remove()}).bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,n):n()}})})(UIkit2);(function(t){t.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var n=t.$(this);if(!n.data("buttonRadio")){var o=t.buttonRadio(n,t.Utils.options(n.attr("data-uk-button-radio"))),l=t.$(e.target);l.is(o.options.target)&&l.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var o=t.$(this);o.is('a[href="#"]')&&n.preventDefault(),e.find(e.options.target).not(o).removeClass(e.options.activeClass).blur(),o.addClass(e.options.activeClass),e.find(e.options.target).not(o).attr("aria-checked","false"),o.attr("aria-checked","true"),e.trigger("change.uk.button",[o])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var n=t.$(this);if(!n.data("buttonCheckbox")){var o=t.buttonCheckbox(n,t.Utils.options(n.attr("data-uk-button-checkbox"))),l=t.$(e.target);l.is(o.options.target)&&l.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var o=t.$(this);o.is('a[href="#"]')&&n.preventDefault(),o.toggleClass(e.options.activeClass).blur(),o.attr("aria-checked",o.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[o])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var n=t.$(this);n.data("button")||(t.button(n,t.Utils.options(n.attr("data-uk-button"))),n.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(n){e.element.is('a[href="#"]')&&n.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})})(UIkit2);(function(t){var e=!1,n,o={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};t.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:t.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var u=t.support.touch?"click":"mouseenter";t.$html.on(u+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(c){var h=t.$(this);if(!h.data("dropdown")){var v=t.dropdown(h,t.Utils.options(h.attr("data-uk-dropdown")));(c.type=="click"||c.type=="mouseenter"&&v.options.mode=="hover")&&v.element.trigger(u),v.dropdown.length&&c.preventDefault()}})},init:function(){var u=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return t.$.inArray(t.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?t.$(this.options.justify):!1,this.boundary=t.$(this.options.boundary),this.boundary.length||(this.boundary=t.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),this.options.mode=="click"||t.support.touch?this.on("click.uk.dropdown",function(c){var h=t.$(c.target);h.parents(u.options.dropdownSelector).length||((h.is("a[href='#']")||h.parent().is("a[href='#']")||u.dropdown.length&&!u.dropdown.is(":visible"))&&c.preventDefault(),h.blur()),u.element.hasClass("uk-open")?(!u.dropdown.find(c.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&u.hide():u.show()}):this.on("mouseenter",function(c){u.trigger("pointerenter.uk.dropdown",[u]),u.remainIdle&&clearTimeout(u.remainIdle),n&&clearTimeout(n),!(e&&e==u)&&(e&&e!=u?n=setTimeout(function(){n=setTimeout(u.show.bind(u),u.options.delay)},u.options.hoverDelayIdle):n=setTimeout(u.show.bind(u),u.options.delay))}).on("mouseleave",function(){n&&clearTimeout(n),u.remainIdle=setTimeout(function(){e&&e==u&&u.hide()},u.options.remaintime),u.trigger("pointerleave.uk.dropdown",[u])}).on("click",function(c){var h=t.$(c.target);if(u.remainIdle&&clearTimeout(u.remainIdle),e&&e==u){(!u.dropdown.find(c.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&u.hide();return}(h.is("a[href='#']")||h.parent().is("a[href='#']"))&&c.preventDefault(),u.show()})},show:function(){t.$html.off("click.outer.dropdown"),e&&e!=this&&e.hide(!0),n&&clearTimeout(n),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),t.Utils.focus(this.dropdown),e=this,this.registerOuterClick()},hide:function(u){this.trigger("beforehide.uk.dropdown",[this,u]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,u]),e==this&&(e=!1)},registerOuterClick:function(){var u=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(c){n&&clearTimeout(n),t.$(c.target),e==u&&!u.element.find(c.target).length&&(u.hide(!0),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var u=t.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),c=this.options.offset,h=this.dropdown;h.show().offset();var v=h.outerWidth(),x=h.outerHeight(),w=this.boundary.width();this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset();var k=this.options.pos,A={"bottom-left":{top:0+u.height+c,left:0},"bottom-right":{top:0+u.height+c,left:0+u.width-v},"bottom-center":{top:0+u.height+c,left:0+u.width/2-v/2},"top-left":{top:0-x-c,left:0},"top-right":{top:0-x-c,left:0+u.width-v},"top-center":{top:0-x-c,left:0+u.width/2-v/2},"left-top":{top:0,left:0-v-c},"left-bottom":{top:0+u.height-x,left:0-v-c},"left-center":{top:0+u.height/2-x/2,left:0-v-c},"right-top":{top:0,left:0+u.width+c},"right-bottom":{top:0+u.height-x,left:0+u.width+c},"right-center":{top:0+u.height/2-x/2,left:0+u.width+c}},B={},N;if(N=k.split("-"),B=A[k]?A[k]:A["bottom-left"],this.justified&&this.justified.length)l(h.css({left:0}),this.justified,w);else if(this.options.preventflip!==!0){var j;switch(this.checkBoundary(u.left+B.left,u.top+B.top,v,x,w)){case"x":this.options.preventflip!=="x"&&(j=o.x[k]||"right-top");break;case"y":this.options.preventflip!=="y"&&(j=o.y[k]||"top-left");break;case"xy":this.options.preventflip||(j=o.xy[k]||"right-bottom");break}j&&(N=j.split("-"),B=A[j]?A[j]:A["bottom-left"],h.addClass("uk-dropdown-autoflip"),this.checkBoundary(u.left+B.left,u.top+B.top,v,x,w)&&(N=k.split("-"),B=A[k]?A[k]:A["bottom-left"]))}v>w&&(h.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),h.css(B).css("display","").addClass("uk-dropdown-"+N[0])}},checkBoundary:function(u,c,h,v,x){var w="";return(u<0||u-t.$win.scrollLeft()+h>x)&&(w+="x"),(c-t.$win.scrollTop()<0||c-t.$win.scrollTop()+v>window.innerHeight)&&(w+="y"),w}}),t.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){t.ready(function(u){t.$("[data-uk-dropdown-overlay]",u).each(function(){var c=t.$(this);c.data("dropdownOverlay")||t.dropdownOverlay(c,t.Utils.options(c.attr("data-uk-dropdown-overlay")))})})},init:function(){var u=this;this.justified=this.options.justify?t.$(this.options.justify):!1,this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(c,h){u.dropdown=h,u.justified&&u.justified.length&&l(u.overlay.css({display:"block",marginLeft:"",marginRight:""}),u.justified,u.justified.outerWidth())},"show.uk.dropdown":function(c,h){var v=u.dropdown.dropdown.outerHeight(!0);u.dropdown.element.removeClass("uk-open"),u.overlay.stop().css("display","block").animate({height:v},u.options.duration,function(){u.dropdown.dropdown.css("visibility",""),u.dropdown.element.addClass("uk-open"),t.Utils.checkDisplay(u.dropdown.dropdown,!0)}),u.pointerleave=!1},"hide.uk.dropdown":function(){u.overlay.stop().animate({height:0},u.options.duration)},"pointerenter.uk.dropdown":function(c,h){clearTimeout(u.remainIdle)},"pointerleave.uk.dropdown":function(c,h){u.pointerleave=!0}}),this.overlay.on({mouseenter:function(){u.remainIdle&&(clearTimeout(u.dropdown.remainIdle),clearTimeout(u.remainIdle))},mouseleave:function(){u.pointerleave&&e&&(u.remainIdle=setTimeout(function(){e&&e.hide()},e.options.remaintime))}})}});function l(u,c,h,v){if(u=t.$(u),c=t.$(c),h=h||window.innerWidth,v=v||u.offset(),c.length){var x=c.outerWidth();if(u.css("min-width",x),t.langdirection=="right"){var w=h-(c.offset().left+x),k=h-(u.offset().left+u.outerWidth());u.css("margin-right",w-k)}else u.css("margin-left",c.offset().left-v.left)}}})(UIkit2);(function(t){t.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var n=t.$(this);n.data("gridMatchHeight")||t.gridMatchHeight(n,t.Utils.options(n.attr("data-uk-grid-match")))})})},init:function(){var e=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",function(){var n=function(){e.element.is(":visible")&&e.match()};return t.$(function(){n()}),t.Utils.debounce(n,50)}()),this.options.observe&&t.domObserve(this.element,function(n){e.element.is(":visible")&&e.match()}),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.match()}).bind(this)))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var n=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return n&&!this.options.ignorestacked?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var n=t.$(this);n.data("gridMargin")||t.gridMargin(n,t.Utils.options(n.attr("data-uk-grid-margin")))})})},init:function(){t.stackMargin(this.element,this.options)}})})(UIkit2);(function(t){var e=!1,n=0,o=t.$html,l;t.$win.on("resize orientationchange",t.Utils.debounce(function(){t.$(".uk-modal.uk-open").each(function(){return t.$(this).data("modal")&&t.$(this).data("modal").resize()})},150)),t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(l||(l=t.$("body")),!!this.element.length){var c=this;this.paddingdir="padding-"+(t.langdirection=="left"?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(h){h.preventDefault(),c.hide()}).on("click",function(h){var v=t.$(h.target);v[0]==c.element[0]&&c.options.bgclose&&c.hide()}),t.domObserve(this.element,function(h){c.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var c=this;if(!this.isActive())return this.options.modal&&e&&e.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(e=this),this.active=!0,n++,t.support.transition?(this.hasTransitioned=!1,this.element.one(t.support.transition.end,function(){c.hasTransitioned=!0,t.Utils.focus(c.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),t.Utils.focus(this.dialog,"a[href]")),o.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this}},hide:function(c){if(!c&&t.support.transition&&this.hasTransitioned){var h=this;this.one(t.support.transition.end,function(){h._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(c){if(!(!this.isActive()&&!c)){var h=l.width();if(this.scrollbarwidth=window.innerWidth-h,l.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var v=this.dialog.outerHeight(),x=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);v+x<window.innerHeight?this.dialog.css({top:window.innerHeight/2-v/2-x}):this.dialog.css({top:""})}}},updateScrollable:function(){var c=this.dialog.find(".uk-overflow-container:visible:first");if(c.length){c.css("height",0);var h=Math.abs(parseInt(this.dialog.css("margin-top"),10)),v=this.dialog.outerHeight(),x=window.innerHeight,w=x-2*(h<20?20:h)-v;return c.css({maxHeight:w<this.options.minScrollHeight?"":w,height:""}),!0}return!1},_hide:function(){this.active=!1,n>0?n--:n=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),n||(o.removeClass("uk-modal-page"),l.css(this.paddingdir,"")),e===this&&(e=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(c){var h=t.$(this);if(h.is("a")&&c.preventDefault(),!h.data("modalTrigger")){var v=t.modalTrigger(h,t.Utils.options(h.attr("data-uk-modal")));v.show()}}),t.$html.on("keydown.modal.uikit",function(c){e&&c.keyCode===27&&e.options.keyboard&&(c.preventDefault(),e.hide())})},init:function(){var c=this;this.options=t.$.extend({target:c.element.is("a")?c.element.attr("href"):!1},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(h){h.preventDefault(),c.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(c,h){var v=t.modal(t.$(t.modal.dialog.template).appendTo("body"),h);return v.on("hide.uk.modal",function(){v.persist&&(v.persist.appendTo(v.persist.data("modalPersistParent")),v.persist=!1),v.element.remove()}),u(c,v),v},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(c,h){h=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},h);var v=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(c)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+h.labels.Ok+"</button></div>"].join(""),h);return v.on("show.uk.modal",function(){setTimeout(function(){v.element.find("button:first").focus()},50)}),v.show()},t.modal.confirm=function(c,h,v){var x=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};h=t.$.isFunction(h)?h:function(){},v=t.$.isFunction(v)?v:function(){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},t.$.isFunction(x)?{}:x);var w=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(c)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+x.labels.Ok+"</button></div>"].join(""),x);return w.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){t.$(this).is(".js-modal-confirm")?h():v(),w.hide()}),w.on("show.uk.modal",function(){setTimeout(function(){w.element.find(".js-modal-confirm").focus()},50)}),w.show()},t.modal.prompt=function(c,h,v,x){v=t.$.isFunction(v)?v:function(A){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},x);var w=t.modal.dialog([c?'<div class="uk-modal-content uk-form">'+String(c)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+x.labels.Ok+"</button></div>"].join(""),x),k=w.element.find("input[type='text']").val(h||"").on("keyup",function(A){A.keyCode==13&&w.element.find(".js-modal-ok").trigger("click")});return w.element.find(".js-modal-ok").on("click",function(){v(k.val())!==!1&&w.hide()}),w.show()},t.modal.blockUI=function(c,h){var v=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(c||'<div class="uk-text-center">...</div>')+"</div>"].join(""),t.$.extend({bgclose:!1,keyboard:!1,modal:!1},h));return v.content=v.element.find(".uk-modal-content:first"),v.show()},t.modal.labels={Ok:"Ok",Cancel:"Cancel"};function u(c,h){if(h)return typeof c=="object"?(c=c instanceof jQuery?c:t.$(c),c.parent().length&&(h.persist=c,h.persist.data("modalPersistParent",c.parent()))):typeof c=="string"||typeof c=="number"?c=t.$("<div></div>").html(c):c=t.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof c),c.appendTo(h.element.find(".uk-modal-dialog")),h}})(UIkit2);(function(t){t.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(n){t.$("[data-uk-nav]",n).each(function(){var o=t.$(this);o.data("nav")||t.nav(o,t.Utils.options(o.attr("data-uk-nav")))})})},init:function(){var n=this;this.on("click.uk.nav",this.options.toggle,function(o){o.preventDefault();var l=t.$(this);n.open(l.parent()[0]==n.element[0]?l:l.parent("li"))}),this.update(),t.domObserve(this.element,function(o){n.element.find(n.options.lists).not("[role]").length&&n.update()})},update:function(){var n=this;this.find(this.options.lists).each(function(){var o=t.$(this).attr("role","menu"),l=o.closest("li"),u=l.hasClass("uk-active");l.data("list-container")||(o.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),l.data("list-container",o.parent()[u?"removeClass":"addClass"]("uk-hidden"))),l.attr("aria-expanded",l.hasClass("uk-open")),u&&n.open(l,!0)})},open:function(n,o){var l=this,u=this.element,c=t.$(n),h=c.data("list-container");this.options.multiple||u.children(".uk-open").not(n).each(function(){var v=t.$(this);v.data("list-container")&&v.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),c.toggleClass("uk-open"),c.attr("aria-expanded",c.hasClass("uk-open")),h&&(c.hasClass("uk-open")&&h.removeClass("uk-hidden"),o?(h.stop().height(c.hasClass("uk-open")?"auto":0),c.hasClass("uk-open")||h.addClass("uk-hidden"),this.trigger("display.uk.check")):h.stop().animate({height:c.hasClass("uk-open")?e(h.find("ul:first")):0},function(){c.hasClass("uk-open")?h.css("height",""):h.addClass("uk-hidden"),l.trigger("display.uk.check")}))}});function e(n){var o=t.$(n),l="auto";if(o.is(":visible"))l=o.outerHeight();else{var u={position:o.css("position"),visibility:o.css("visibility"),display:o.css("display")};l=o.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),o.css(u)}return l}})(UIkit2);(function(t){var e={x:window.scrollX,y:window.scrollY};t.$win,t.$doc;var n=t.$html,o={show:function(l,u){if(l=t.$(l),!!l.length){u=t.$.extend({mode:"push"},u);var c=t.$("body"),h=l.find(".uk-offcanvas-bar:first"),v=t.langdirection=="right",x=h.hasClass("uk-offcanvas-bar-flip")?-1:1,w=x*(v?-1:1),k=window.innerWidth-c.width();e={x:window.pageXOffset,y:window.pageYOffset},h.attr("mode",u.mode),l.addClass("uk-active"),c.css({width:window.innerWidth-k,height:window.innerHeight}).addClass("uk-offcanvas-page"),(u.mode=="push"||u.mode=="reveal")&&c.css(v?"margin-right":"margin-left",(v?-1:1)*(h.outerWidth()*w)),u.mode=="reveal"&&h.css("clip","rect(0, "+h.outerWidth()+"px, 100vh, 0)"),n.css("margin-top",e.y*-1).width(),h.addClass("uk-offcanvas-bar-show"),this._initElement(l),h.trigger("show.uk.offcanvas",[l,h]),l.attr("aria-hidden","false")}},hide:function(l){var u=t.$("body"),c=t.$(".uk-offcanvas.uk-active"),h=t.langdirection=="right",v=c.find(".uk-offcanvas-bar:first"),x=function(){u.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),c.removeClass("uk-active"),v.removeClass("uk-offcanvas-bar-show"),n.css("margin-top",""),window.scrollTo(e.x,e.y),v.trigger("hide.uk.offcanvas",[c,v]),c.attr("aria-hidden","true")};c.length&&(v.attr("mode")=="none"&&(l=!0),t.support.transition&&!l?(u.one(t.support.transition.end,function(){x()}).css(h?"margin-right":"margin-left",""),v.attr("mode")=="reveal"&&v.css("clip",""),setTimeout(function(){v.removeClass("uk-offcanvas-bar-show")},0)):x())},_initElement:function(l){l.data("OffcanvasInit")||(l.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(u){var c=t.$(u.target);!u.type.match(/swipe/)&&!c.hasClass("uk-offcanvas-close")&&(c.hasClass("uk-offcanvas-bar")||c.parents(".uk-offcanvas-bar:first").length)||(u.stopImmediatePropagation(),o.hide())}),l.on("click",'a[href*="#"]',function(u){var c=t.$(this),h=c.attr("href");h!="#"&&(t.$doc.one("hide.uk.offcanvas",function(){var v;try{v=t.$(c[0].hash)}catch{v=""}v.length||(v=t.$('[name="'+c[0].hash.replace("#","")+'"]')),v.length&&t.Utils.scrollToElement?t.Utils.scrollToElement(v,t.Utils.options(c.attr("data-uk-smooth-scroll")||"{}")):window.location.href=h}),o.hide())}),l.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){n.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(l){l.preventDefault();var u=t.$(this);u.data("offcanvasTrigger")||(t.offcanvasTrigger(u,t.Utils.options(u.attr("data-uk-offcanvas"))),u.trigger("click"))}),n.on("keydown.uk.offcanvas",function(l){l.keyCode===27&&o.hide()})},init:function(){var l=this;this.options=t.$.extend({target:l.element.is("a")?l.element.attr("href"):!1,mode:"push"},this.options),this.on("click",function(u){u.preventDefault(),o.show(l.options.target,l.options)})}}),t.offcanvas=o})(UIkit2);(function(t){var e;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){t.ready(function(o){t.$("[data-uk-switcher]",o).each(function(){var l=t.$(this);l.data("switcher")||t.switcher(l,t.Utils.options(l.attr("data-uk-switcher")))})})},init:function(){var o=this;this.on("click.uk.switcher",this.options.toggle,function(l){l.preventDefault(),o.show(this)}),this.options.connect&&(this.connect=t.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(l){l.preventDefault();var u=t.$(this).attr("data-uk-switcher-item");if(o.index!=u)switch(u){case"next":case"previous":o.show(o.index+(u=="next"?1:-1));break;default:o.show(parseInt(u,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(l){l.preventDefault(),window.getSelection().toString()||o.show(o.index+(l.type=="swipeLeft"?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var o=this.find(this.options.toggle),l=o.filter(".uk-active");if(l.length)this.show(l,!1);else{if(this.options.active===!1)return;l=o.eq(this.options.active),this.show(l.length?l:o.eq(0),!1)}o.not(l).attr("aria-expanded","false"),l.attr("aria-expanded","true")},show:function(o,l){if(!this.animating){var u=this.find(this.options.toggle);isNaN(o)?o=t.$(o):(o=o<0?u.length-1:o,o=u.eq(u[o]?o:0));var c=this,h=t.$(o),v=e[this.options.animation]||function(x,w){if(!c.options.animation)return e.none.apply(c);var k=c.options.animation.split(",");return k.length==1&&(k[1]=k[0]),k[0]=k[0].trim(),k[1]=k[1].trim(),n.apply(c,[k,x,w])};(l===!1||!t.support.animation)&&(v=e.none),!h.hasClass("uk-disabled")&&(u.attr("aria-expanded","false"),h.attr("aria-expanded","true"),u.filter(".uk-active").removeClass("uk-active"),h.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(h),this.index==-1&&(this.index=0),this.connect.each(function(){var x=t.$(this),w=t.$(x.children()),k=t.$(w.filter(".uk-active")),A=t.$(w.eq(c.index));c.animating=!0,v.apply(c,[k,A]).then(function(){k.removeClass("uk-active"),A.addClass("uk-active"),k.attr("aria-hidden","true"),A.attr("aria-hidden","false"),t.Utils.checkDisplay(A,!0),c.animating=!1})})),this.trigger("show.uk.switcher",[h]))}}}),e={none:function(){var o=t.$.Deferred();return o.resolve(),o.promise()},fade:function(o,l){return n.apply(this,["uk-animation-fade",o,l])},"slide-bottom":function(o,l){return n.apply(this,["uk-animation-slide-bottom",o,l])},"slide-top":function(o,l){return n.apply(this,["uk-animation-slide-top",o,l])},"slide-vertical":function(o,l,u){var c=["uk-animation-slide-top","uk-animation-slide-bottom"];return o&&o.index()>l.index()&&c.reverse(),n.apply(this,[c,o,l])},"slide-left":function(o,l){return n.apply(this,["uk-animation-slide-left",o,l])},"slide-right":function(o,l){return n.apply(this,["uk-animation-slide-right",o,l])},"slide-horizontal":function(o,l,u){var c=["uk-animation-slide-right","uk-animation-slide-left"];return o&&o.index()>l.index()&&c.reverse(),n.apply(this,[c,o,l])},scale:function(o,l){return n.apply(this,["uk-animation-scale-up",o,l])}},t.switcher.animations=e;function n(o,l,u){var c=t.$.Deferred(),h=o,v=o,x;return u[0]===l[0]?(c.resolve(),c.promise()):(typeof o=="object"&&(h=o[0],v=o[1]||o[0]),t.$body.css("overflow-x","hidden"),x=function(){l&&l.hide().removeClass("uk-active "+v+" uk-animation-reverse"),u.addClass(h).one(t.support.animation.end,(function(){setTimeout(function(){u.removeClass(""+h).css({opacity:"",display:""})},0),c.resolve(),t.$body.css("overflow-x",""),l&&l.css({opacity:"",display:""})}).bind(this)).show()},u.css("animation-duration",this.options.duration+"ms"),l&&l.length?(l.css("animation-duration",this.options.duration+"ms"),l.css("display","none").addClass(v+" uk-animation-reverse").one(t.support.animation.end,(function(){x()}).bind(this)).css("display","")):(u.addClass("uk-active"),x()),c.promise())}})(UIkit2);(function(t){t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var n=t.$(this);n.data("tab")||t.tab(n,t.Utils.options(n.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(n){if(n.preventDefault(),!(e.switcher&&e.switcher.animating)){var o=e.find(e.options.target).not(this);o.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active"),e.current]),e.current=t.$(this),e.options.connect||(o.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(n){n.preventDefault(),n.stopPropagation();var o=t.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(o.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(n,o){e.responsivetab.caption.html(o.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),t.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length){this.responsivetab.addClass("uk-hidden");return}var n=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),o=!1,l,u;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>n&&(o=!0)}),o)for(var c=0;c<e.length;c++)l=t.$(e.eq(c)),l.find("a"),l.css("float")!="none"&&!l.attr("uk-dropdown")&&(l.hasClass("uk-disabled")||(u=t.$(l[0].outerHTML),u.find("a").data("index",c),this.responsivetab.lst.append(u)),l.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})})(UIkit2);(function(t){t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var n=t.$(this);n.data("cover")||t.cover(n,t.Utils.options(n.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce((function(){this.check()}).bind(this),100)),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.check()}).bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e=this.parent.width(),n=this.parent.height(),o,l;e/this.ratio<n?(o=Math.ceil(n*this.ratio),l=n):(o=e,l=Math.ceil(e/this.ratio)),this.element.css({width:o,height:l})}})})(UIkit2);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-nestable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window,n=t.$html,o=[],l=t.$win,u,c=e?"touchstart":"mousedown",h=e?"touchmove":"mousemove",v=e?"touchend":"mouseup",x=e?"touchcancel":"mouseup";return t.component("nestable",{defaults:{listBaseClass:"uk-nestable",listClass:"uk-nestable-list",listItemClass:"uk-nestable-item",dragClass:"uk-nestable-dragged",movingClass:"uk-nestable-moving",noChildrenClass:"uk-nestable-nochildren",emptyClass:"uk-nestable-empty",handleClass:"",collapsedClass:"uk-collapsed",placeholderClass:"uk-nestable-placeholder",noDragClass:"uk-nestable-nodrag",group:!1,maxDepth:10,threshold:20,idlethreshold:10},boot:function(){t.$html.on("mousemove touchmove",function(w){if(u){var k=u.offset().top;k<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(u.height()/2)):k+u.height()>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(u.height()/2))}}),t.ready(function(w){t.$("[data-uk-nestable]",w).each(function(){var k=t.$(this);k.data("nestable")||t.nestable(k,t.Utils.options(k.attr("data-uk-nestable")))})})},init:function(){var w=this;Object.keys(this.options).forEach(function(N){String(N).indexOf("Class")!=-1&&(w.options["_"+N]="."+w.options[N])}),this.find(this.options._listItemClass).find(">ul").addClass(this.options.listClass),this.checkEmptyList(),this.reset(),this.element.data("nestable-group",this.options.group||t.Utils.uid("nestable-group")),this.find(this.options._listItemClass).each(function(){w.setParent(t.$(this))}),this.on("click","[data-nestable-action]",function(N){if(!(w.dragEl||!e&&N.button!==0)){N.preventDefault();var j=t.$(N.currentTarget),q=j.data("nestableAction"),O=j.closest(w.options._listItemClass);q==="collapse"&&w.collapseItem(O),q==="expand"&&w.expandItem(O),q==="toggle"&&w.toggleItem(O)}});var k=function(N){var j=t.$(N.target),q=j.is("a[href]")?j:j.parents("a[href]");N.target!==w.element[0]&&(j.is(w.options._noDragClass)||j.closest(w.options._noDragClass).length||j.is("[data-nestable-action]")||j.closest("[data-nestable-action]").length||(w.options.handleClass&&!j.hasClass(w.options.handleClass)&&w.options.handleClass&&(j=j.closest(w.options._handleClass)),!(!j.length||w.dragEl||!e&&N.button!==0||e&&N.touches.length!==1)&&(N.originalEvent&&N.originalEvent.touches&&(N=evt.originalEvent.touches[0]),w.delayMove=function(O){q=!1,O.preventDefault(),w.dragStart(N),w.trigger("start.uk.nestable",[w]),w.delayMove=!1},w.delayMove.x=parseInt(N.pageX,10),w.delayMove.y=parseInt(N.pageY,10),w.delayMove.threshold=w.options.idlethreshold,q.length&&v=="touchend"&&w.one(v,function(){q&&q.attr("href").trim()&&(location.href=q.attr("href"))}),N.preventDefault())))},A=function(N){N.originalEvent&&N.originalEvent.touches&&(N=N.originalEvent.touches[0]),w.delayMove&&(Math.abs(N.pageX-w.delayMove.x)>w.delayMove.threshold||Math.abs(N.pageY-w.delayMove.y)>w.delayMove.threshold)&&(window.getSelection().toString()?w.delayMove=!1:w.delayMove(N)),w.dragEl&&(N.preventDefault(),w.dragMove(N),w.trigger("move.uk.nestable",[w]))},B=function(N){w.dragEl&&(N.preventDefault(),w.dragStop(e?N.touches[0]:N)),u=!1,w.delayMove=!1};e?(this.element[0].addEventListener(c,k,!1),window.addEventListener(h,A,!1),window.addEventListener(v,B,!1),window.addEventListener(x,B,!1)):(this.on(c,k),l.on(h,A),l.on(v,B))},serialize:function(){var w,k=this,A=function(B,N){var j=[],q=B.children(k.options._listItemClass);return q.each(function(){for(var O=t.$(this),S={},P,W=O.children(k.options._listClass),z=0,G,J;z<O[0].attributes.length;z++)P=O[0].attributes[z],P.name.indexOf("data-")===0&&(G=P.name.substr(5),J=t.Utils.str2json(P.value),S[G]=J||P.value=="false"||P.value=="0"?J:P.value);W.length&&(S.children=A(W)),j.push(S)}),j};return w=A(k.element),w},list:function(w){var k=[],A=this,B=0,N=function(j,q,O){var S=j.children(w._listItemClass);S.each(function(P){var W=t.$(this),z=t.$.extend({parent_id:O||null,depth:q,order:P},W.data()),G=W.children(w._listClass);k.push(z),G.length&&N(G,q+1,W.data(w.idProperty||"id"))})};return w=t.$.extend({},A.options,w),N(A.element,B),k},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null;for(var w=0;w<o.length;w++)this.checkEmptyList(o[w]);o=[]},toggleItem:function(w){this[w.hasClass(this.options.collapsedClass)?"expandItem":"collapseItem"](w)},expandItem:function(w){w.removeClass(this.options.collapsedClass)},collapseItem:function(w){var k=w.children(this.options._listClass);k.length&&w.addClass(this.options.collapsedClass)},expandAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.expandItem(t.$(this))})},collapseAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.collapseItem(t.$(this))})},setParent:function(w){w.children(this.options._listClass).length&&w.addClass("uk-parent")},unsetParent:function(w){w.removeClass("uk-parent "+this.options.collapsedClass),w.children(this.options._listClass).remove()},dragStart:function(w){var k=this.mouse,A=t.$(w.target),B=A.closest(this.options._listItemClass),N=B.offset();this.placeEl=B,k.offsetX=w.pageX-N.left,k.offsetY=w.pageY-N.top,k.startX=k.lastX=N.left,k.startY=k.lastY=N.top,this.dragRootEl=this.element,this.dragEl=t.$("<ul></ul>").addClass(this.options.listClass+" "+this.options.dragClass).append(B.clone()),this.dragEl.css("width",B.width()),this.placeEl.addClass(this.options.placeholderClass),u=this.dragEl,this.tmpDragOnSiblings=[B[0].previousSibling,B[0].nextSibling],t.$body.append(this.dragEl),this.dragEl.css({left:N.left,top:N.top});var j,q,O=this.dragEl.find(this.options._listItemClass);for(j=0;j<O.length;j++)q=t.$(O[j]).parents(this.options._listClass+","+this.options._listBaseClass).length,q>this.dragDepth&&(this.dragDepth=q);n.addClass(this.options.movingClass)},dragStop:function(w){var k=t.$(this.placeEl),A=this.placeEl.parents(this.options._listBaseClass+":first");this.placeEl.removeClass(this.options.placeholderClass),this.dragEl.remove(),this.element[0]!==A[0]?(A.trigger("change.uk.nestable",[A.data("nestable"),k,"added"]),this.element.trigger("change.uk.nestable",[this,k,"removed"])):this.element.trigger("change.uk.nestable",[this,k,"moved"]),this.trigger("stop.uk.nestable",[this,k]),this.reset(),n.removeClass(this.options.movingClass)},dragMove:function(w){var k,A,B,N,j,q=this.options,O=this.mouse,S=this.dragRootEl?this.dragRootEl.data("nestable").options.maxDepth:q.maxDepth;this.dragEl.css({left:w.pageX-O.offsetX,top:w.pageY-O.offsetY}),O.lastX=O.nowX,O.lastY=O.nowY,O.nowX=w.pageX,O.nowY=w.pageY,O.distX=O.nowX-O.lastX,O.distY=O.nowY-O.lastY,O.lastDirX=O.dirX,O.lastDirY=O.dirY,O.dirX=O.distX===0?0:O.distX>0?1:-1,O.dirY=O.distY===0?0:O.distY>0?1:-1;var P=Math.abs(O.distX)>Math.abs(O.distY)?1:0;if(!O.moving){O.dirAx=P,O.moving=!0;return}if(O.dirAx!==P?(O.distAxX=0,O.distAxY=0):(O.distAxX+=Math.abs(O.distX),O.dirX!==0&&O.dirX!==O.lastDirX&&(O.distAxX=0),O.distAxY+=Math.abs(O.distY),O.dirY!==0&&O.dirY!==O.lastDirY&&(O.distAxY=0)),O.dirAx=P,O.dirAx&&O.distAxX>=q.threshold&&(O.distAxX=0,B=this.placeEl.prev("li"),O.distX>0&&B.length&&!B.hasClass(q.collapsedClass)&&!B.hasClass(q.noChildrenClass)&&(k=B.find(q._listClass).last(),j=this.placeEl.parents(q._listClass+","+q._listBaseClass).length,j+this.dragDepth<=S&&(k.length?(k=B.children(q._listClass).last(),k.append(this.placeEl)):(k=t.$("<ul/>").addClass(q.listClass),k.append(this.placeEl),B.append(k),this.setParent(B)))),O.distX<0&&(N=this.placeEl.next(q._listItemClass),!N.length))){var W=this.placeEl.closest([q._listBaseClass,q._listClass].join(",")),z=W.closest(q._listItemClass);z.length&&(z.after(this.placeEl),W.children().length||this.unsetParent(z))}var G=!1,J=w.pageX-(window.pageXOffset||document.scrollLeft||0),ue=w.pageY-(window.pageYOffset||document.documentElement.scrollTop);if(this.pointEl=t.$(document.elementFromPoint(J,ue)),q.handleClass&&this.pointEl.hasClass(q.handleClass))this.pointEl=this.pointEl.closest(q._listItemClass);else{var de=this.pointEl.closest(q._listItemClass);de.length&&(this.pointEl=de)}if(!this.placeEl.find(this.pointEl).length){if(this.pointEl.data("nestable")&&!this.pointEl.children().length)G=!0,this.checkEmptyList(this.pointEl);else if(!this.pointEl.length||!this.pointEl.hasClass(q.listItemClass))return;var ge=this.element,ce=this.pointEl.closest(this.options._listBaseClass),Te=ge[0]!=ce[0];if(!O.dirAx||Te||G){if(Te&&q.group!==ce.data("nestable-group")||(o.push(ge),j=this.dragDepth-1+this.pointEl.parents(q._listClass+","+q._listBaseClass).length,j>S))return;var ve=w.pageY<this.pointEl.offset().top+this.pointEl.height()/2;A=this.placeEl.parent(),G?this.pointEl.append(this.placeEl):ve?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),A.children().length||A.data("nestable")||this.unsetParent(A.parent()),this.checkEmptyList(this.dragRootEl),this.checkEmptyList(ge),Te&&(this.dragRootEl=ce,this.hasNewRoot=this.element[0]!==this.dragRootEl[0])}}},checkEmptyList:function(w){w=w?t.$(w):this.element,this.options.emptyClass&&w[w.children().length?"removeClass":"addClass"](this.options.emptyClass)}}),t.nestable});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window||"MSGesture"in window||window.DocumentTouch&&document instanceof DocumentTouch,n,o,l,u,c,h,v,x,w,k=e?"MSGesture"in window?"pointerdown":"touchstart":"mousedown",A=e?"MSGesture"in window?"pointermove":"touchmove":"mousemove",B=e?"MSGesture"in window?"pointerup":"touchend":"mouseup";function N(S){S=t.$(S);do{if(S.data("sortable"))return S;S=t.$(S).parent()}while(S.length);return S}t.component("sortable",{defaults:{animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",baseClass:"uk-sortable",noDragClass:"uk-sortable-nodrag",emptyClass:"uk-sortable-empty",dragCustomClass:"",handleClass:!1,group:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){t.ready(function(S){t.$("[data-uk-sortable]",S).each(function(){var P=t.$(this);P.data("sortable")||t.sortable(P,t.Utils.options(P.attr("data-uk-sortable")))})}),t.$html.on(A,function(S){if(c){var P=S.originalEvent.targetTouches?S.originalEvent.targetTouches[0]:S;(Math.abs(P.pageX-c.pos.x)>c.threshold||Math.abs(P.pageY-c.pos.y)>c.threshold)&&c.apply(P)}if(n){u||(u=!0,n.show(),n.$current.addClass(n.$sortable.options.placeholderClass),n.$sortable.element.children().addClass(n.$sortable.options.childClass),t.$html.addClass(n.$sortable.options.dragMovingClass));var W=n.data("mouse-offset"),z=S.originalEvent.touches&&S.originalEvent.touches[0]||S.originalEvent,G=parseInt(z.pageX,10)+W.left,J=parseInt(z.pageY,10)+W.top;if(n.css({left:G,top:J}),J+n.height()/3>document.body.offsetHeight)return;J<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(n.height()/3)):J+n.height()/3>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(n.height()/3))}}),t.$html.on(B,function(S){if(c=!1,!o||!n){o=n=null;return}var P=N(o),W=n.$sortable,z={type:S.type};P[0]&&W.dragDrop(z,W.element),W.dragEnd(z,W.element)})},init:function(){var S=this,P=this.element[0];h=[],this.checkEmptyList(),this.element.data("sortable-group",this.options.group?this.options.group:t.Utils.uid("sortable-group"));var W=ce(function(Te){if(!(Te.data&&Te.data.sortable)){var ve=t.$(Te.target),ne=ve.is("a[href]")?ve:ve.parents("a[href]");if(!ve.is(":input")){if(S.options.handleClass){var D=ve.hasClass(S.options.handleClass)?ve:ve.closest("."+S.options.handleClass,S.element);if(!D.length)return}return Te.preventDefault(),ne.length&&ne.one("click",function(se){se.preventDefault()}).one(B,function(){v||(ne.trigger("click"),e&&ne.attr("href").trim()&&(location.href=ne.attr("href")))}),Te.data=Te.data||{},Te.data.sortable=P,S.dragStart(Te,this)}}}),z=ce(t.Utils.debounce(function(Te){return S.dragEnter(Te,this)})),G=ce(function(Te){var ve=S.dragenterData(this);S.dragenterData(this,ve-1),S.dragenterData(this)||(t.$(this).removeClass(S.options.overClass),S.dragenterData(this,!1))}),J=ce(function(Te){return!o||o===this||l===this?!0:(S.element.children().removeClass(S.options.overClass),l=this,S.moveElementNextTo(o,this),O(Te))});function ue(){e&&w.touches&&w.touches.length?P.addEventListener(A,J,!1):(P.addEventListener("mouseover",z,!1),P.addEventListener("mouseout",G,!1))}function de(){e&&w.touches&&w.touches.length?P.removeEventListener(A,J,!1):(P.removeEventListener("mouseover",z,!1),P.removeEventListener("mouseout",G,!1))}this.addDragHandlers=ue,this.removeDragHandlers=de;function ge(Te){o&&S.dragMove(Te,S)}function ce(Te){return function(ve){var ne,D,se;w=ve,ve&&(ne=ve.touches&&ve.touches[0]||ve,D=ne.target||ve.target,e&&document.elementFromPoint&&(D=document.elementFromPoint(ne.pageX-document.body.scrollLeft,ne.pageY-document.body.scrollTop)),x=t.$(D)),t.$(D).hasClass("."+S.options.childClass)?Te.apply(D,[ve]):D!==P&&(se=q(P,D),se&&Te.apply(se,[ve]))}}window.addEventListener(A,ge,!1),P.addEventListener(k,W,!1)},dragStart:function(S,P){v=!1,u=!1;var W=this,z=t.$(S.target);if(!(!e&&S.button==2)&&!(z.is("."+W.options.noDragClass)||z.closest("."+W.options.noDragClass).length)&&!z.is(":input")){o=P,n&&n.remove();var G=t.$(o),J=G.offset(),ue=S.touches&&S.touches[0]||S;c={pos:{x:ue.pageX,y:ue.pageY},threshold:W.options.handleClass?1:W.options.threshold,apply:function(de){n=t.$('<div class="'+[W.options.draggingClass,W.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:J.top,left:J.left,width:G.width(),height:G.height(),padding:G.css("padding")}).data({"mouse-offset":{left:J.left-parseInt(ue.pageX,10),top:J.top-parseInt(ue.pageY,10)},origin:W.element,index:G.index()}).append(G.html()).appendTo("body"),n.$current=G,n.$sortable=W,G.data({"start-list":G.parent(),"start-index":G.index(),"sortable-group":W.options.group}),W.addDragHandlers(),W.options.start(this,o),W.trigger("start.uk.sortable",[W,o,n]),v=!0,c=!1}}}},dragMove:function(S,P){x=t.$(document.elementFromPoint(S.pageX-(document.body.scrollLeft||document.scrollLeft||0),S.pageY-(document.body.scrollTop||document.documentElement.scrollTop||0)));var W=x.closest("."+this.options.baseClass),z=W.data("sortable-group"),G=t.$(o),J=G.parent(),ue=G.data("sortable-group"),de;W[0]!==J[0]&&ue!==void 0&&z===ue&&(W.data("sortable").addDragHandlers(),h.push(W),W.children().addClass(this.options.childClass),W.children().length>0?(de=x.closest("."+this.options.childClass),de.length?de.before(G):W.append(G)):x.append(G),t.$doc.trigger("mouseover")),this.checkEmptyList(),this.checkEmptyList(J)},dragEnter:function(S,P){if(!o||o===P)return!0;var W=this.dragenterData(P);if(this.dragenterData(P,W+1),W===0){var z=t.$(P).parent(),G=t.$(o).data("start-list");if(z[0]!==G[0]){var J=z.data("sortable-group"),ue=t.$(o).data("sortable-group");if((J||ue)&&J!=ue)return!1}t.$(P).addClass(this.options.overClass),this.moveElementNextTo(o,P)}return!1},dragEnd:function(S,P){var W=this;o&&(this.options.stop(P),this.trigger("stop.uk.sortable",[this])),o=null,l=null,h.push(this.element),h.forEach(function(z,G){t.$(z).children().each(function(){this.nodeType===1&&(t.$(this).removeClass(W.options.overClass).removeClass(W.options.placeholderClass).removeClass(W.options.childClass),W.dragenterData(this,!1))})}),h=[],t.$html.removeClass(this.options.dragMovingClass),this.removeDragHandlers(),n&&(n.remove(),n=null)},dragDrop:function(S,P){S.type==="drop"&&(S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault()),this.triggerChangeEvents()},triggerChangeEvents:function(){if(o){var S=t.$(o),P=n.data("origin"),W=S.closest("."+this.options.baseClass),z=[],G=t.$(o);P[0]===W[0]&&n.data("index")!=S.index()?z.push({sortable:this,mode:"moved"}):P[0]!=W[0]&&z.push({sortable:t.$(W).data("sortable"),mode:"added"},{sortable:t.$(P).data("sortable"),mode:"removed"}),z.forEach(function(J,ue){J.sortable&&J.sortable.element.trigger("change.uk.sortable",[J.sortable,G,J.mode])})}},dragenterData:function(S,P){if(S=t.$(S),arguments.length==1)return parseInt(S.data("child-dragenter"),10)||0;P?S.data("child-dragenter",Math.max(0,P)):S.removeData("child-dragenter")},moveElementNextTo:function(S,P){var W=this,z=t.$(S).parent().css("min-height",""),G=j(S,P)?P:P.nextSibling,J=z.children(),ue=J.length;if(!W.options.animation){P.parentNode.insertBefore(S,G),t.Utils.checkDisplay(W.element.parent());return}z.css("min-height",z.height()),J.stop().each(function(){var de=t.$(this),ge=de.position();ge.width=de.width(),de.data("offset-before",ge)}),P.parentNode.insertBefore(S,G),t.Utils.checkDisplay(W.element.parent()),J=z.children().each(function(){var de=t.$(this);de.data("offset-after",de.position())}).each(function(){var de=t.$(this),ge=de.data("offset-before");de.css({position:"absolute",top:ge.top,left:ge.left,minWidth:ge.width})}),J.each(function(){var de=t.$(this);de.data("offset-before");var ge=de.data("offset-after");de.css("pointer-events","none").width(),setTimeout(function(){de.animate({top:ge.top,left:ge.left},W.options.animation,function(){de.css({position:"",top:"",left:"",minWidth:"","pointer-events":""}).removeClass(W.options.overClass).removeData("child-dragenter"),ue--,ue||(z.css("min-height",""),t.Utils.checkDisplay(W.element.parent()))})},0)})},serialize:function(){var S=[],P,W;return this.element.children().each(function(z,G){P={};for(var J=0,ue,de;J<G.attributes.length;J++)W=G.attributes[J],W.name.indexOf("data-")===0&&(ue=W.name.substr(5),de=t.Utils.str2json(W.value),P[ue]=de||W.value=="false"||W.value=="0"?de:W.value);S.push(P)}),S},checkEmptyList:function(S){S=S?t.$(S):this.element,this.options.emptyClass&&S[S.children().length?"removeClass":"addClass"](this.options.emptyClass)}});function j(S,P){var W=S.parentNode;if(P.parentNode!=W)return!1;for(var z=S.previousSibling;z&&z.nodeType!==9;){if(z===P)return!0;z=z.previousSibling}return!1}function q(S,P){var W=P;if(W==S)return null;for(;W;){if(W.parentNode===S)return W;if(W=W.parentNode,!W||!W.ownerDocument||W.nodeType===11)break}return null}function O(S){S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault(),S.returnValue=!1}return t.sortable});function Hw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vd={exports:{}};/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */var Km;function Ww(){return Km||(Km=1,function(t){(function(e){window.UIkit2&&e(UIkit2)})(function(e){var n=!1,o,l;e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(u,c){var h="",v;if(h+='<div class="uk-datepicker-nav">',h+='<a href="" class="uk-datepicker-previous"></a>',h+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var x=new Date().getFullYear(),w=[],k,A,B,N;for(v=0;v<c.i18n.months.length;v++)v==u.month?w.push('<option value="'+v+'" selected>'+c.i18n.months[v]+"</option>"):w.push('<option value="'+v+'">'+c.i18n.months[v]+"</option>");for(k='<span class="uk-form-select">'+c.i18n.months[u.month]+'<select class="update-picker-month">'+w.join("")+"</select></span>",w=[],B=u.minDate?u.minDate.year():x-50,N=u.maxDate?u.maxDate.year():x+20,v=B;v<=N;v++)v==u.year?w.push('<option value="'+v+'" selected>'+v+"</option>"):w.push('<option value="'+v+'">'+v+"</option>");A='<span class="uk-form-select">'+u.year+'<select class="update-picker-year">'+w.join("")+"</select></span>",h+='<div class="uk-datepicker-heading">'+k+" "+A+"</div>"}else h+='<div class="uk-datepicker-heading">'+c.i18n.months[u.month]+" "+u.year+"</div>";for(h+="</div>",h+='<table class="uk-datepicker-table">',h+="<thead>",v=0;v<u.weekdays.length;v++)u.weekdays[v]&&(h+="<th>"+u.weekdays[v]+"</th>");for(h+="</thead>",h+="<tbody>",v=0;v<u.days.length;v++)if(u.days[v]&&u.days[v].length){h+="<tr>";for(var j=0;j<u.days[v].length;j++)if(u.days[v][j]){var q=u.days[v][j],O=[];q.inmonth||O.push("uk-datepicker-table-muted"),q.selected&&O.push("uk-active"),q.disabled&&O.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),h+='<td><a href="" class="'+O.join(" ")+'" data-date="'+q.day.format()+'">'+q.day.format("D")+"</a></td>"}h+="</tr>"}return h+="</tbody>",h+="</table>",h}},boot:function(){e.$win.on("resize orientationchange",function(){n&&n.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(u){var c=e.$(this);c.data("datepicker")||(u.preventDefault(),e.datepicker(c,e.Utils.options(c.attr("data-uk-datepicker"))),c.trigger("focus"))}),e.$html.on("click focus","*",function(u){var c=e.$(u.target);n&&c[0]!=o[0]&&!c.data("datepicker")&&!c.parents(".uk-datepicker:first").length&&n.hide()})},init:function(){if(!(e.support.touch&&this.element.attr("type")=="date"&&!this.options.mobile)){var u=this;this.current=this.element.val()?l(this.element.val(),this.options.format):l(),this.on("click focus",function(){n!==u&&u.pick(this.value?this.value:"")}).on("change",function(){u.element.val()&&!l(u.element.val(),u.options.format).isValid()&&u.element.val(l().format(u.options.format))}),o||(o=e.$('<div class="uk-dropdown uk-datepicker"></div>'),o.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(c){c.stopPropagation(),c.preventDefault();var h=e.$(this);if(h.hasClass("uk-datepicker-date-disabled"))return!1;h.is("[data-date]")?(n.current=l(h.data("date")),n.element.val(n.current.isValid()?n.current.format(n.options.format):null).trigger("change"),n.hide()):n.add(h.hasClass("uk-datepicker-next")?1:-1,"months")}),o.on("change",".update-picker-month, .update-picker-year",function(){var c=e.$(this);n[c.is(".update-picker-year")?"setYear":"setMonth"](Number(c.val()))}),o.appendTo(this.options.container))}},pick:function(u){var c=this.element.offset(),h={left:c.left,right:""};this.current=isNaN(u)?l(u,this.options.format):l(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),e.langdirection=="right"&&(h.right=window.innerWidth-(h.left+this.element.outerWidth()),h.left="");var v=c.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-o.outerHeight(),x=c.top+this.element.outerHeight()+this.options.offsettop;h.top=x,(this.options.pos=="top"||this.options.pos=="auto"&&window.innerHeight-x-o.outerHeight()<0&&v>=0)&&(h.top=v),o.css(h).show(),this.trigger("show.uk.datepicker"),n=this},add:function(u,c){this.current.add(u,c),this.update()},setMonth:function(u){this.current.month(u),this.update()},setYear:function(u){this.current.year(u),this.update()},update:function(){var u=this.getRows(this.current.year(),this.current.month()),c=this.options.template(u,this.options);o.html(c),this.trigger("update.uk.datepicker")},getRows:function(u,c){var h=this.options,v=l().format("YYYY-MM-DD"),x=[31,u%4===0&&u%100!==0||u%400===0?29:28,31,30,31,30,31,31,30,31,30,31][c],w=new Date(u,c,1,12).getDay(),k={month:c,year:u,weekdays:[],days:[],maxDate:!1,minDate:!1},A=[];h.maxDate!==!1&&(k.maxDate=isNaN(h.maxDate)?l(h.maxDate,h.format).startOf("day").hours(12):l().add(h.maxDate,"days").startOf("day").hours(12)),h.minDate!==!1&&(k.minDate=isNaN(h.minDate)?l(h.minDate,h.format).startOf("day").hours(12):l().add(h.minDate-1,"days").startOf("day").hours(12)),k.weekdays=function(){for(var G=0,J=[];G<7;G++){for(var ue=G+(h.weekstart||0);ue>=7;)ue-=7;J.push(h.i18n.weekdays[ue])}return J}(),h.weekstart&&h.weekstart>0&&(w-=h.weekstart,w<0&&(w+=7));for(var B=x+w,N=B;N>7;)N-=7;B+=7-N;for(var j,q,O,S,P,W=0,z=0;W<B;W++)j=new Date(u,c,1+(W-w),12),q=k.minDate&&k.minDate>j||k.maxDate&&j>k.maxDate,P=!(W<w||W>=x+w),j=l(j),O=this.initdate==j.format("YYYY-MM-DD"),S=v==j.format("YYYY-MM-DD"),A.push({selected:O,today:S,disabled:q,day:j,inmonth:P}),++z===7&&(k.days.push(A),A=[],z=0);return k},hide:function(){n&&n===this&&(o.hide(),n=!1,this.trigger("hide.uk.datepicker"))}});//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return l=(function(u){var c,h="2.8.3",v=Math.round,x=Object.prototype.hasOwnProperty,w,k=0,A=1,B=2,N=3,j=4,q=5,O=6,S={},P=[],W=t.exports,z=/^\/?Date\((\-?\d+)/i,G=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,J=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ue=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,de=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ge=/\d\d?/,ce=/\d{1,3}/,Te=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,ne=/\d+/,D=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,se=/Z|[\+\-]\d\d:?\d\d/gi,ye=/T/i,Ce=/[\+\-]?\d+(\.\d{1,3})?/,et=/\d{1,2}/,ze=/\d/,Me=/\d\d/,ie=/\d{3}/,Y=/\d{4}/,Le=/[+-]?\d{6}/,Re=/[+-]?\d+/,V=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we="YYYY-MM-DDTHH:mm:ssZ",Ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],je=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ze=/([\+\-]|\d\d)/gi,Xe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ut={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ct={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},wt={},St={s:45,m:45,h:22,d:26,M:11},yt="DDD w W M D d".split(" "),Mt="M D H h m s w W".split(" "),Ut={M:function(){return this.month()+1},MMM:function(y){return this.localeData().monthsShort(this,y)},MMMM:function(y){return this.localeData().months(this,y)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(y){return this.localeData().weekdaysMin(this,y)},ddd:function(y){return this.localeData().weekdaysShort(this,y)},dddd:function(y){return this.localeData().weekdays(this,y)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return xt(this.year()%100,2)},YYYY:function(){return xt(this.year(),4)},YYYYY:function(){return xt(this.year(),5)},YYYYYY:function(){var y=this.year(),T=y>=0?"+":"-";return T+xt(Math.abs(y),6)},gg:function(){return xt(this.weekYear()%100,2)},gggg:function(){return xt(this.weekYear(),4)},ggggg:function(){return xt(this.weekYear(),5)},GG:function(){return xt(this.isoWeekYear()%100,2)},GGGG:function(){return xt(this.isoWeekYear(),4)},GGGGG:function(){return xt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return si(this.milliseconds()/100)},SS:function(){return xt(si(this.milliseconds()/10),2)},SSS:function(){return xt(this.milliseconds(),3)},SSSS:function(){return xt(this.milliseconds(),3)},Z:function(){var y=-this.zone(),T="+";return y<0&&(y=-y,T="-"),T+xt(si(y/60),2)+":"+xt(si(y)%60,2)},ZZ:function(){var y=-this.zone(),T="+";return y<0&&(y=-y,T="-"),T+xt(si(y/60),2)+xt(si(y)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Kt={},X=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function le(y,T,R){switch(arguments.length){case 2:return y??T;case 3:return y??T??R;default:throw new Error("Implement me")}}function Q(y,T){return x.call(y,T)}function he(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function pe(y){c.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+y)}function Be(y,T){var R=!0;return $t(function(){return R&&(pe(y),R=!1),T.apply(this,arguments)},T)}function ot(y,T){Kt[y]||(pe(T),Kt[y]=!0)}function Qe(y,T){return function(R){return xt(y.call(this,R),T)}}function mt(y,T){return function(R){return this.localeData().ordinal(y.call(this,R),T)}}for(;yt.length;)w=yt.pop(),Ut[w+"o"]=mt(Ut[w],w);for(;Mt.length;)w=Mt.pop(),Ut[w+w]=Qe(Ut[w],2);Ut.DDDD=Qe(Ut.DDD,3);function Pt(){}function ct(y,T){T!==!1&&Wi(y),Qt(this,y),this._d=new Date(+y._d)}function Wt(y){var T=wi(y),R=T.year||0,re=T.quarter||0,ae=T.month||0,_e=T.week||0,Oe=T.day||0,Je=T.hour||0,tt=T.minute||0,Ve=T.second||0,Ke=T.millisecond||0;this._milliseconds=+Ke+Ve*1e3+tt*6e4+Je*36e5,this._days=+Oe+_e*7,this._months=+ae+re*3+R*12,this._data={},this._locale=c.localeData(),this._bubble()}function $t(y,T){for(var R in T)Q(T,R)&&(y[R]=T[R]);return Q(T,"toString")&&(y.toString=T.toString),Q(T,"valueOf")&&(y.valueOf=T.valueOf),y}function Qt(y,T){var R,re,ae;if(typeof T._isAMomentObject<"u"&&(y._isAMomentObject=T._isAMomentObject),typeof T._i<"u"&&(y._i=T._i),typeof T._f<"u"&&(y._f=T._f),typeof T._l<"u"&&(y._l=T._l),typeof T._strict<"u"&&(y._strict=T._strict),typeof T._tzm<"u"&&(y._tzm=T._tzm),typeof T._isUTC<"u"&&(y._isUTC=T._isUTC),typeof T._offset<"u"&&(y._offset=T._offset),typeof T._pf<"u"&&(y._pf=T._pf),typeof T._locale<"u"&&(y._locale=T._locale),P.length>0)for(R in P)re=P[R],ae=T[re],typeof ae<"u"&&(y[re]=ae);return y}function Vt(y){return y<0?Math.ceil(y):Math.floor(y)}function xt(y,T,R){for(var re=""+Math.abs(y),ae=y>=0;re.length<T;)re="0"+re;return(ae?"":"-")+re}function Gn(y,T){var R={milliseconds:0,months:0};return R.months=T.month()-y.month()+(T.year()-y.year())*12,y.clone().add(R.months,"M").isAfter(T)&&--R.months,R.milliseconds=+T-+y.clone().add(R.months,"M"),R}function Yt(y,T){var R;return T=yr(T,y),y.isBefore(T)?R=Gn(y,T):(R=Gn(T,y),R.milliseconds=-R.milliseconds,R.months=-R.months),R}function vr(y,T){return function(R,re){var ae,_e;return re!==null&&!isNaN(+re)&&(ot(T,"moment()."+T+"(period, number) is deprecated. Please use moment()."+T+"(number, period)."),_e=R,R=re,re=_e),R=typeof R=="string"?+R:R,ae=c.duration(R,re),Rt(this,ae,y),this}}function Rt(y,T,R,re){var ae=T._milliseconds,_e=T._days,Oe=T._months;re=re??!0,ae&&y._d.setTime(+y._d+ae*R),_e&&Nt(y,"Date",Yi(y,"Date")+_e*R),Oe&&ni(y,Yi(y,"Month")+Oe*R),re&&c.updateOffset(y,_e||Oe)}function un(y){return Object.prototype.toString.call(y)==="[object Array]"}function _i(y){return Object.prototype.toString.call(y)==="[object Date]"||y instanceof Date}function Ri(y,T,R){var re=Math.min(y.length,T.length),ae=Math.abs(y.length-T.length),_e=0,Oe;for(Oe=0;Oe<re;Oe++)(R&&y[Oe]!==T[Oe]||!R&&si(y[Oe])!==si(T[Oe]))&&_e++;return _e+ae}function pi(y){if(y){var T=y.toLowerCase().replace(/(.)s$/,"$1");y=ut[y]||Ct[T]||T}return y}function wi(y){var T={},R,re;for(re in y)Q(y,re)&&(R=pi(re),R&&(T[R]=y[re]));return T}function ui(y){var T,R;if(y.indexOf("week")===0)T=7,R="day";else if(y.indexOf("month")===0)T=12,R="month";else return;c[y]=function(re,ae){var _e,Oe,Je=c._locale[y],tt=[];if(typeof re=="number"&&(ae=re,re=u),Oe=function(Ve){var Ke=c().utc().set(R,Ve);return Je.call(c._locale,Ke,re||"")},ae!=null)return Oe(ae);for(_e=0;_e<T;_e++)tt.push(Oe(_e));return tt}}function si(y){var T=+y,R=0;return T!==0&&isFinite(T)&&(T>=0?R=Math.floor(T):R=Math.ceil(T)),R}function Bi(y,T){return new Date(Date.UTC(y,T+1,0)).getUTCDate()}function io(y,T,R){return We(c([y,11,31+T-R]),T,R).week}function Hi(y){return Ir(y)?366:365}function Ir(y){return y%4===0&&y%100!==0||y%400===0}function Wi(y){var T;y._a&&y._pf.overflow===-2&&(T=y._a[A]<0||y._a[A]>11?A:y._a[B]<1||y._a[B]>Bi(y._a[k],y._a[A])?B:y._a[N]<0||y._a[N]>23?N:y._a[j]<0||y._a[j]>59?j:y._a[q]<0||y._a[q]>59?q:y._a[O]<0||y._a[O]>999?O:-1,y._pf._overflowDayOfYear&&(T<k||T>B)&&(T=B),y._pf.overflow=T)}function Qi(y){return y._isValid==null&&(y._isValid=!isNaN(y._d.getTime())&&y._pf.overflow<0&&!y._pf.empty&&!y._pf.invalidMonth&&!y._pf.nullInput&&!y._pf.invalidFormat&&!y._pf.userInvalidated,y._strict&&(y._isValid=y._isValid&&y._pf.charsLeftOver===0&&y._pf.unusedTokens.length===0)),y._isValid}function br(y){return y&&y.toLowerCase().replace("_","-")}function Tn(y){for(var T=0,R,re,ae,_e;T<y.length;){for(_e=br(y[T]).split("-"),R=_e.length,re=br(y[T+1]),re=re?re.split("-"):null;R>0;){if(ae=Ot(_e.slice(0,R).join("-")),ae)return ae;if(re&&re.length>=R&&Ri(_e,re,!0)>=R-1)break;R--}T++}return null}function Ot(y){var T=null;if(!S[y]&&W)try{T=c.locale(),Hw("./locale/"+y),c.locale(T)}catch{}return S[y]}function yr(y,T){return T._isUTC?c(y).zone(T._offset||0):c(y).local()}$t(Pt.prototype,{set:function(y){var T,R;for(R in y)T=y[R],typeof T=="function"?this[R]=T:this["_"+R]=T},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(y){return this._months[y.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(y){return this._monthsShort[y.month()]},monthsParse:function(y){var T,R,re;for(this._monthsParse||(this._monthsParse=[]),T=0;T<12;T++)if(this._monthsParse[T]||(R=c.utc([2e3,T]),re="^"+this.months(R,"")+"|^"+this.monthsShort(R,""),this._monthsParse[T]=new RegExp(re.replace(".",""),"i")),this._monthsParse[T].test(y))return T},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(y){return this._weekdays[y.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(y){return this._weekdaysShort[y.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(y){return this._weekdaysMin[y.day()]},weekdaysParse:function(y){var T,R,re;for(this._weekdaysParse||(this._weekdaysParse=[]),T=0;T<7;T++)if(this._weekdaysParse[T]||(R=c([2e3,1]).day(T),re="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,""),this._weekdaysParse[T]=new RegExp(re.replace(".",""),"i")),this._weekdaysParse[T].test(y))return T},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(y){var T=this._longDateFormat[y];return!T&&this._longDateFormat[y.toUpperCase()]&&(T=this._longDateFormat[y.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(R){return R.slice(1)}),this._longDateFormat[y]=T),T},isPM:function(y){return(y+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(y,T,R){return y>11?R?"pm":"PM":R?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(y,T){var R=this._calendar[y];return typeof R=="function"?R.apply(T):R},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(y,T,R,re){var ae=this._relativeTime[R];return typeof ae=="function"?ae(y,T,R,re):ae.replace(/%d/i,y)},pastFuture:function(y,T){var R=this._relativeTime[y>0?"future":"past"];return typeof R=="function"?R(T):R.replace(/%s/i,T)},ordinal:function(y){return this._ordinal.replace("%d",y)},_ordinal:"%d",preparse:function(y){return y},postformat:function(y){return y},week:function(y){return We(y,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function Zn(y){return y.match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"")}function Xn(y){var T=y.match(ue),R,re;for(R=0,re=T.length;R<re;R++)Ut[T[R]]?T[R]=Ut[T[R]]:T[R]=Zn(T[R]);return function(ae){var _e="";for(R=0;R<re;R++)_e+=T[R]instanceof Function?T[R].call(ae,y):T[R];return _e}}function or(y,T){return y.isValid()?(T=$r(T,y.localeData()),wt[T]||(wt[T]=Xn(T)),wt[T](y)):y.localeData().invalidDate()}function $r(y,T){var R=5;function re(ae){return T.longDateFormat(ae)||ae}for(de.lastIndex=0;R>=0&&de.test(y);)y=y.replace(de,re),de.lastIndex=0,R-=1;return y}function Zi(y,T){var R,re=T._strict;switch(y){case"Q":return ze;case"DDDD":return ie;case"YYYY":case"GGGG":case"gggg":return re?Y:Te;case"Y":case"G":case"g":return Re;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return re?Le:ve;case"S":if(re)return ze;case"SS":if(re)return Me;case"SSS":if(re)return ie;case"DDD":return ce;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return D;case"a":case"A":return T._locale._meridiemParse;case"X":return Ce;case"Z":case"ZZ":return se;case"T":return ye;case"SSSS":return ne;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return re?Me:ge;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ge;case"Do":return et;default:return R=new RegExp(zr(Dn(y.replace("\\","")))),R}}function Ji(y){y=y||"";var T=y.match(se)||[],R=T[T.length-1]||[],re=(R+"").match(Ze)||["-",0,0],ae=+(re[1]*60)+si(re[2]);return re[0]==="+"?-ae:ae}function ar(y,T,R){var re,ae=R._a;switch(y){case"Q":T!=null&&(ae[A]=(si(T)-1)*3);break;case"M":case"MM":T!=null&&(ae[A]=si(T)-1);break;case"MMM":case"MMMM":re=R._locale.monthsParse(T),re!=null?ae[A]=re:R._pf.invalidMonth=T;break;case"D":case"DD":T!=null&&(ae[B]=si(T));break;case"Do":T!=null&&(ae[B]=si(parseInt(T,10)));break;case"DDD":case"DDDD":T!=null&&(R._dayOfYear=si(T));break;case"YY":ae[k]=c.parseTwoDigitYear(T);break;case"YYYY":case"YYYYY":case"YYYYYY":ae[k]=si(T);break;case"a":case"A":R._isPm=R._locale.isPM(T);break;case"H":case"HH":case"h":case"hh":ae[N]=si(T);break;case"m":case"mm":ae[j]=si(T);break;case"s":case"ss":ae[q]=si(T);break;case"S":case"SS":case"SSS":case"SSSS":ae[O]=si(("0."+T)*1e3);break;case"X":R._d=new Date(parseFloat(T)*1e3);break;case"Z":case"ZZ":R._useUTC=!0,R._tzm=Ji(T);break;case"dd":case"ddd":case"dddd":re=R._locale.weekdaysParse(T),re!=null?(R._w=R._w||{},R._w.d=re):R._pf.invalidWeekday=T;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":y=y.substr(0,1);case"gggg":case"GGGG":case"GGGGG":y=y.substr(0,2),T&&(R._w=R._w||{},R._w[y]=si(T));break;case"gg":case"GG":R._w=R._w||{},R._w[y]=c.parseTwoDigitYear(T)}}function sr(y){var T,R,re,ae,_e,Oe,Je;T=y._w,T.GG!=null||T.W!=null||T.E!=null?(_e=1,Oe=4,R=le(T.GG,y._a[k],We(c(),1,4).year),re=le(T.W,1),ae=le(T.E,1)):(_e=y._locale._week.dow,Oe=y._locale._week.doy,R=le(T.gg,y._a[k],We(c(),_e,Oe).year),re=le(T.w,1),T.d!=null?(ae=T.d,ae<_e&&++re):T.e!=null?ae=T.e+_e:ae=_e),Je=nt(R,re,ae,Oe,_e),y._a[k]=Je.year,y._dayOfYear=Je.dayOfYear}function An(y){var T,R,re=[],ae,_e;if(!y._d){for(ae=ro(y),y._w&&y._a[B]==null&&y._a[A]==null&&sr(y),y._dayOfYear&&(_e=le(y._a[k],ae[k]),y._dayOfYear>Hi(_e)&&(y._pf._overflowDayOfYear=!0),R=ur(_e,0,y._dayOfYear),y._a[A]=R.getUTCMonth(),y._a[B]=R.getUTCDate()),T=0;T<3&&y._a[T]==null;++T)y._a[T]=re[T]=ae[T];for(;T<7;T++)y._a[T]=re[T]=y._a[T]==null?T===2?1:0:y._a[T];y._d=(y._useUTC?ur:Kn).apply(null,re),y._tzm!=null&&y._d.setUTCMinutes(y._d.getUTCMinutes()+y._tzm)}}function no(y){var T;y._d||(T=wi(y._i),y._a=[T.year,T.month,T.day,T.hour,T.minute,T.second,T.millisecond],An(y))}function ro(y){var T=new Date;return y._useUTC?[T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()]:[T.getFullYear(),T.getMonth(),T.getDate()]}function Er(y){if(y._f===c.ISO_8601){mo(y);return}y._a=[],y._pf.empty=!0;var T=""+y._i,R,re,ae,_e,Oe,Je=T.length,tt=0;for(ae=$r(y._f,y._locale).match(ue)||[],R=0;R<ae.length;R++)_e=ae[R],re=(T.match(Zi(_e,y))||[])[0],re&&(Oe=T.substr(0,T.indexOf(re)),Oe.length>0&&y._pf.unusedInput.push(Oe),T=T.slice(T.indexOf(re)+re.length),tt+=re.length),Ut[_e]?(re?y._pf.empty=!1:y._pf.unusedTokens.push(_e),ar(_e,re,y)):y._strict&&!re&&y._pf.unusedTokens.push(_e);y._pf.charsLeftOver=Je-tt,T.length>0&&y._pf.unusedInput.push(T),y._isPm&&y._a[N]<12&&(y._a[N]+=12),y._isPm===!1&&y._a[N]===12&&(y._a[N]=0),An(y),Wi(y)}function Dn(y){return y.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(T,R,re,ae,_e){return R||re||ae||_e})}function zr(y){return y.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _n(y){var T,R,re,ae,_e;if(y._f.length===0){y._pf.invalidFormat=!0,y._d=new Date(NaN);return}for(ae=0;ae<y._f.length;ae++)_e=0,T=Qt({},y),y._useUTC!=null&&(T._useUTC=y._useUTC),T._pf=he(),T._f=y._f[ae],Er(T),Qi(T)&&(_e+=T._pf.charsLeftOver,_e+=T._pf.unusedTokens.length*10,T._pf.score=_e,(re==null||_e<re)&&(re=_e,R=T));$t(y,R||T)}function mo(y){var T,R,re=y._i,ae=V.exec(re);if(ae){for(y._pf.iso=!0,T=0,R=Ae.length;T<R;T++)if(Ae[T][1].exec(re)){y._f=Ae[T][0]+(ae[6]||" ");break}for(T=0,R=je.length;T<R;T++)if(je[T][1].exec(re)){y._f+=je[T][0];break}re.match(se)&&(y._f+="Z"),Er(y)}else y._isValid=!1}function Vn(y){mo(y),y._isValid===!1&&(delete y._isValid,c.createFromInputFallback(y))}function Ui(y,T){var R=[],re;for(re=0;re<y.length;++re)R.push(T(y[re],re));return R}function Lt(y){var T=y._i,R;T===u?y._d=new Date:_i(T)?y._d=new Date(+T):(R=z.exec(T))!==null?y._d=new Date(+R[1]):typeof T=="string"?Vn(y):un(T)?(y._a=Ui(T.slice(0),function(re){return parseInt(re,10)}),An(y)):typeof T=="object"?no(y):typeof T=="number"?y._d=new Date(T):c.createFromInputFallback(y)}function Kn(y,T,R,re,ae,_e,Oe){var Je=new Date(y,T,R,re,ae,_e,Oe);return y<1970&&Je.setFullYear(y),Je}function ur(y){var T=new Date(Date.UTC.apply(null,arguments));return y<1970&&T.setUTCFullYear(y),T}function Bn(y,T){if(typeof y=="string"){if(!isNaN(y))y=parseInt(y,10);else if(y=T.weekdaysParse(y),typeof y!="number")return null}return y}function ee(y,T,R,re,ae){return ae.relativeTime(T||1,!!R,y,re)}function xe(y,T,R){var re=c.duration(y).abs(),ae=v(re.as("s")),_e=v(re.as("m")),Oe=v(re.as("h")),Je=v(re.as("d")),tt=v(re.as("M")),Ve=v(re.as("y")),Ke=ae<St.s&&["s",ae]||_e===1&&["m"]||_e<St.m&&["mm",_e]||Oe===1&&["h"]||Oe<St.h&&["hh",Oe]||Je===1&&["d"]||Je<St.d&&["dd",Je]||tt===1&&["M"]||tt<St.M&&["MM",tt]||Ve===1&&["y"]||["yy",Ve];return Ke[2]=T,Ke[3]=+y>0,Ke[4]=R,ee.apply({},Ke)}function We(y,T,R){var re=R-T,ae=R-y.day(),_e;return ae>re&&(ae-=7),ae<re-7&&(ae+=7),_e=c(y).add(ae,"d"),{week:Math.ceil(_e.dayOfYear()/7),year:_e.year()}}function nt(y,T,R,re,ae){var _e=ur(y,0,1).getUTCDay(),Oe,Je;return _e=_e===0?7:_e,R=R??ae,Oe=ae-_e+(_e>re?7:0)-(_e<ae?7:0),Je=7*(T-1)+(R-ae)+Oe+1,{year:Je>0?y:y-1,dayOfYear:Je>0?Je:Hi(y-1)+Je}}function Ue(y){var T=y._i,R=y._f;return y._locale=y._locale||c.localeData(y._l),T===null||R===u&&T===""?c.invalid({nullInput:!0}):(typeof T=="string"&&(y._i=T=y._locale.preparse(T)),c.isMoment(T)?new ct(T,!0):(R?un(R)?_n(y):Er(y):Lt(y),new ct(y)))}c=function(y,T,R,re){var ae;return typeof R=="boolean"&&(re=R,R=u),ae={},ae._isAMomentObject=!0,ae._i=y,ae._f=T,ae._l=R,ae._strict=re,ae._isUTC=!1,ae._pf=he(),Ue(ae)},c.suppressDeprecationWarnings=!1,c.createFromInputFallback=Be("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(y){y._d=new Date(y._i)});function pt(y,T){var R,re;if(T.length===1&&un(T[0])&&(T=T[0]),!T.length)return c();for(R=T[0],re=1;re<T.length;++re)T[re][y](R)&&(R=T[re]);return R}for(c.min=function(){var y=[].slice.call(arguments,0);return pt("isBefore",y)},c.max=function(){var y=[].slice.call(arguments,0);return pt("isAfter",y)},c.utc=function(y,T,R,re){var ae;return typeof R=="boolean"&&(re=R,R=u),ae={},ae._isAMomentObject=!0,ae._useUTC=!0,ae._isUTC=!0,ae._l=R,ae._i=y,ae._f=T,ae._strict=re,ae._pf=he(),Ue(ae).utc()},c.unix=function(y){return c(y*1e3)},c.duration=function(y,T){var R=y,re=null,ae,_e,Oe,Je;return c.isDuration(y)?R={ms:y._milliseconds,d:y._days,M:y._months}:typeof y=="number"?(R={},T?R[T]=y:R.milliseconds=y):(re=G.exec(y))?(ae=re[1]==="-"?-1:1,R={y:0,d:si(re[B])*ae,h:si(re[N])*ae,m:si(re[j])*ae,s:si(re[q])*ae,ms:si(re[O])*ae}):(re=J.exec(y))?(ae=re[1]==="-"?-1:1,Oe=function(tt){var Ve=tt&&parseFloat(tt.replace(",","."));return(isNaN(Ve)?0:Ve)*ae},R={y:Oe(re[2]),M:Oe(re[3]),d:Oe(re[4]),h:Oe(re[5]),m:Oe(re[6]),s:Oe(re[7]),w:Oe(re[8])}):typeof R=="object"&&("from"in R||"to"in R)&&(Je=Yt(c(R.from),c(R.to)),R={},R.ms=Je.milliseconds,R.M=Je.months),_e=new Wt(R),c.isDuration(y)&&Q(y,"_locale")&&(_e._locale=y._locale),_e},c.version=h,c.defaultFormat=we,c.ISO_8601=function(){},c.momentProperties=P,c.updateOffset=function(){},c.relativeTimeThreshold=function(y,T){return St[y]===u?!1:T===u?St[y]:(St[y]=T,!0)},c.lang=Be("moment.lang is deprecated. Use moment.locale instead.",function(y,T){return c.locale(y,T)}),c.locale=function(y,T){var R;return y&&(typeof T<"u"?R=c.defineLocale(y,T):R=c.localeData(y),R&&(c.duration._locale=c._locale=R)),c._locale._abbr},c.defineLocale=function(y,T){return T!==null?(T.abbr=y,S[y]||(S[y]=new Pt),S[y].set(T),c.locale(y),S[y]):(delete S[y],null)},c.langData=Be("moment.langData is deprecated. Use moment.localeData instead.",function(y){return c.localeData(y)}),c.localeData=function(y){var T;if(y&&y._locale&&y._locale._abbr&&(y=y._locale._abbr),!y)return c._locale;if(!un(y)){if(T=Ot(y),T)return T;y=[y]}return Tn(y)},c.isMoment=function(y){return y instanceof ct||y!=null&&Q(y,"_isAMomentObject")},c.isDuration=function(y){return y instanceof Wt},w=X.length-1;w>=0;--w)ui(X[w]);c.normalizeUnits=function(y){return pi(y)},c.invalid=function(y){var T=c.utc(NaN);return y!=null?$t(T._pf,y):T._pf.userInvalidated=!0,T},c.parseZone=function(){return c.apply(null,arguments).parseZone()},c.parseTwoDigitYear=function(y){return si(y)+(si(y)>68?1900:2e3)},$t(c.fn=ct.prototype,{clone:function(){return c(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var y=c(this).utc();return 0<y.year()&&y.year()<=9999?or(y,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):or(y,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var y=this;return[y.year(),y.month(),y.date(),y.hours(),y.minutes(),y.seconds(),y.milliseconds()]},isValid:function(){return Qi(this)},isDSTShifted:function(){return this._a?this.isValid()&&Ri(this._a,(this._isUTC?c.utc(this._a):c(this._a)).toArray())>0:!1},parsingFlags:function(){return $t({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(y){return this.zone(0,y)},local:function(y){return this._isUTC&&(this.zone(0,y),this._isUTC=!1,y&&this.add(this._dateTzOffset(),"m")),this},format:function(y){var T=or(this,y||c.defaultFormat);return this.localeData().postformat(T)},add:vr(1,"add"),subtract:vr(-1,"subtract"),diff:function(y,T,R){var re=yr(y,this),ae=(this.zone()-re.zone())*6e4,_e,Oe,Je;return T=pi(T),T==="year"||T==="month"?(_e=(this.daysInMonth()+re.daysInMonth())*432e5,Oe=(this.year()-re.year())*12+(this.month()-re.month()),Je=this-c(this).startOf("month")-(re-c(re).startOf("month")),Je-=(this.zone()-c(this).startOf("month").zone()-(re.zone()-c(re).startOf("month").zone()))*6e4,Oe+=Je/_e,T==="year"&&(Oe=Oe/12)):(_e=this-re,Oe=T==="second"?_e/1e3:T==="minute"?_e/6e4:T==="hour"?_e/36e5:T==="day"?(_e-ae)/864e5:T==="week"?(_e-ae)/6048e5:_e),R?Oe:Vt(Oe)},from:function(y,T){return c.duration({to:this,from:y}).locale(this.locale()).humanize(!T)},fromNow:function(y){return this.from(c(),y)},calendar:function(y){var T=y||c(),R=yr(T,this).startOf("day"),re=this.diff(R,"days",!0),ae=re<-6?"sameElse":re<-1?"lastWeek":re<0?"lastDay":re<1?"sameDay":re<2?"nextDay":re<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(ae,this))},isLeapYear:function(){return Ir(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(y){var T=this._isUTC?this._d.getUTCDay():this._d.getDay();return y!=null?(y=Bn(y,this.localeData()),this.add(y-T,"d")):T},month:li("Month",!0),startOf:function(y){switch(y=pi(y),y){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return y==="week"?this.weekday(0):y==="isoWeek"&&this.isoWeekday(1),y==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(y){return y=pi(y),this.startOf(y).add(1,y==="isoWeek"?"week":y).subtract(1,"ms")},isAfter:function(y,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(y=c.isMoment(y)?y:c(y),+this>+y):+this.clone().startOf(T)>+c(y).startOf(T)},isBefore:function(y,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(y=c.isMoment(y)?y:c(y),+this<+y):+this.clone().startOf(T)<+c(y).startOf(T)},isSame:function(y,T){return T=pi(T||"millisecond"),T==="millisecond"?(y=c.isMoment(y)?y:c(y),+this==+y):+this.clone().startOf(T)==+yr(y,this).startOf(T)},min:Be("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(y){return y=c.apply(null,arguments),y<this?this:y}),max:Be("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(y){return y=c.apply(null,arguments),y>this?this:y}),zone:function(y,T){var R=this._offset||0,re;if(y!=null)typeof y=="string"&&(y=Ji(y)),Math.abs(y)<16&&(y=y*60),!this._isUTC&&T&&(re=this._dateTzOffset()),this._offset=y,this._isUTC=!0,re!=null&&this.subtract(re,"m"),R!==y&&(!T||this._changeInProgress?Rt(this,c.duration(R-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?R:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(y){return y?y=c(y).zone():y=0,(this.zone()-y)%60===0},daysInMonth:function(){return Bi(this.year(),this.month())},dayOfYear:function(y){var T=v((c(this).startOf("day")-c(this).startOf("year"))/864e5)+1;return y==null?T:this.add(y-T,"d")},quarter:function(y){return y==null?Math.ceil((this.month()+1)/3):this.month((y-1)*3+this.month()%3)},weekYear:function(y){var T=We(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return y==null?T:this.add(y-T,"y")},isoWeekYear:function(y){var T=We(this,1,4).year;return y==null?T:this.add(y-T,"y")},week:function(y){var T=this.localeData().week(this);return y==null?T:this.add((y-T)*7,"d")},isoWeek:function(y){var T=We(this,1,4).week;return y==null?T:this.add((y-T)*7,"d")},weekday:function(y){var T=(this.day()+7-this.localeData()._week.dow)%7;return y==null?T:this.add(y-T,"d")},isoWeekday:function(y){return y==null?this.day()||7:this.day(this.day()%7?y:y-7)},isoWeeksInYear:function(){return io(this.year(),1,4)},weeksInYear:function(){var y=this.localeData()._week;return io(this.year(),y.dow,y.doy)},get:function(y){return y=pi(y),this[y]()},set:function(y,T){return y=pi(y),typeof this[y]=="function"&&this[y](T),this},locale:function(y){var T;return y===u?this._locale._abbr:(T=c.localeData(y),T!=null&&(this._locale=T),this)},lang:Be("moment().lang() is deprecated. Use moment().localeData() instead.",function(y){return y===u?this.localeData():this.locale(y)}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function ni(y,T){var R;return typeof T=="string"&&(T=y.localeData().monthsParse(T),typeof T!="number")||(R=Math.min(y.date(),Bi(y.year(),T)),y._d["set"+(y._isUTC?"UTC":"")+"Month"](T,R)),y}function Yi(y,T){return y._d["get"+(y._isUTC?"UTC":"")+T]()}function Nt(y,T,R){return T==="Month"?ni(y,R):y._d["set"+(y._isUTC?"UTC":"")+T](R)}function li(y,T){return function(R){return R!=null?(Nt(this,y,R),c.updateOffset(this,T),this):Yi(this,y)}}c.fn.millisecond=c.fn.milliseconds=li("Milliseconds",!1),c.fn.second=c.fn.seconds=li("Seconds",!1),c.fn.minute=c.fn.minutes=li("Minutes",!1),c.fn.hour=c.fn.hours=li("Hours",!0),c.fn.date=li("Date",!0),c.fn.dates=Be("dates accessor is deprecated. Use date instead.",li("Date",!0)),c.fn.year=li("FullYear",!0),c.fn.years=Be("years accessor is deprecated. Use year instead.",li("FullYear",!0)),c.fn.days=c.fn.day,c.fn.months=c.fn.month,c.fn.weeks=c.fn.week,c.fn.isoWeeks=c.fn.isoWeek,c.fn.quarters=c.fn.quarter,c.fn.toJSON=c.fn.toISOString;function go(y){return y*400/146097}function qt(y){return y*146097/400}$t(c.duration.fn=Wt.prototype,{_bubble:function(){var y=this._milliseconds,T=this._days,R=this._months,re=this._data,ae,_e,Oe,Je=0;re.milliseconds=y%1e3,ae=Vt(y/1e3),re.seconds=ae%60,_e=Vt(ae/60),re.minutes=_e%60,Oe=Vt(_e/60),re.hours=Oe%24,T+=Vt(Oe/24),Je=Vt(go(T)),T-=Vt(qt(Je)),R+=Vt(T/30),T%=30,Je+=Vt(R/12),R%=12,re.days=T,re.months=R,re.years=Je},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return Vt(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+si(this._months/12)*31536e6},humanize:function(y){var T=xe(this,!y,this.localeData());return y&&(T=this.localeData().pastFuture(+this,T)),this.localeData().postformat(T)},add:function(y,T){var R=c.duration(y,T);return this._milliseconds+=R._milliseconds,this._days+=R._days,this._months+=R._months,this._bubble(),this},subtract:function(y,T){var R=c.duration(y,T);return this._milliseconds-=R._milliseconds,this._days-=R._days,this._months-=R._months,this._bubble(),this},get:function(y){return y=pi(y),this[y.toLowerCase()+"s"]()},as:function(y){var T,R;if(y=pi(y),y==="month"||y==="year")return T=this._days+this._milliseconds/864e5,R=this._months+go(T)*12,y==="month"?R:R/12;switch(T=this._days+qt(this._months/12),y){case"week":return T/7+this._milliseconds/6048e5;case"day":return T+this._milliseconds/864e5;case"hour":return T*24+this._milliseconds/36e5;case"minute":return T*24*60+this._milliseconds/6e4;case"second":return T*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(T*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+y)}},lang:c.fn.lang,locale:c.fn.locale,toIsoString:Be("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var y=Math.abs(this.years()),T=Math.abs(this.months()),R=Math.abs(this.days()),re=Math.abs(this.hours()),ae=Math.abs(this.minutes()),_e=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(y?y+"Y":"")+(T?T+"M":"")+(R?R+"D":"")+(re||ae||_e?"T":"")+(re?re+"H":"")+(ae?ae+"M":"")+(_e?_e+"S":""):"P0D"},localeData:function(){return this._locale}}),c.duration.fn.toString=c.duration.fn.toISOString;function ke(y){c.duration.fn[y]=function(){return this._data[y]}}for(w in Xe)Q(Xe,w)&&ke(w.toLowerCase());return c.duration.fn.asMilliseconds=function(){return this.as("ms")},c.duration.fn.asSeconds=function(){return this.as("s")},c.duration.fn.asMinutes=function(){return this.as("m")},c.duration.fn.asHours=function(){return this.as("h")},c.duration.fn.asDays=function(){return this.as("d")},c.duration.fn.asWeeks=function(){return this.as("weeks")},c.duration.fn.asMonths=function(){return this.as("M")},c.duration.fn.asYears=function(){return this.as("y")},c.locale("en",{ordinal:function(y){var T=y%10,R=si(y%100/10)===1?"th":T===1?"st":T===2?"nd":T===3?"rd":"th";return y+R}}),c}).call(this),e.Utils.moment=l,e.datepicker})}(Vd)),Vd.exports}Ww();/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||t(UIkit2)})})(function(t){return t.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){t.ready(function(e){t.$("[data-uk-pagination]",e).each(function(){var n=t.$(this);n.data("pagination")||t.pagination(n,t.Utils.options(n.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(n){n.preventDefault(),e.selectPage(t.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(e){this.pages=e||this.pages,this._render()},selectPage:function(e,n){this.currentPage=e,this.render(n),this.options.onSelectPage.apply(this,[e]),this.trigger("select.uk.pagination",[e,this])},_render:function(){var e=this.options,n=this._getInterval(),o;if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),n.start>0&&e.edges>0){var l=Math.min(e.edges,n.start);for(o=0;o<l;o++)this._append(o);e.edges<n.start&&n.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):n.start-e.edges==1&&this._append(e.edges)}for(o=n.start;o<n.end;o++)this._append(o);if(n.end<this.pages&&e.edges>0){this.pages-e.edges>n.end&&this.pages-e.edges-n.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-n.end==1&&this._append(n.end++);var u=Math.max(this.pages-e.edges,n.end);for(o=u;o<this.pages;o++)this._append(o)}e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(e,n){var o,l;e=e<0?0:e<this.pages?e:this.pages-1,l=t.$.extend({text:e+1},n),o=e==this.currentPage?'<li class="uk-active"><span>'+l.text+"</span></li>":'<li><a href="#page-'+(e+1)+'" data-page="'+e+'">'+l.text+"</a></li>",this.element.append(o)}}),t.pagination});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-notify",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e={},n={},o=function(c){return t.$.type(c)=="string"&&(c={message:c}),arguments[1]&&(c=t.$.extend(c,t.$.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new u(c).show()},l=function(c,h){var v;if(c)for(v in n)c===n[v].group&&n[v].close(h);else for(v in n)n[v].close(h)},u=function(c){this.options=t.$.extend({},u.defaults,c),this.uuid=t.Utils.uid("notifymsg"),this.element=t.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,n[this.uuid]=this,e[this.options.pos]||(e[this.options.pos]=t.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var h=t.$(this).data("notifyMessage");h.element.trigger("manualclose.uk.notify",[h]),h.close()}))};return t.$.extend(u.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var c=this;e[this.options.pos].show().prepend(this.element);var h=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:h},function(){if(c.options.timeout){var v=function(){c.close()};c.timeout=setTimeout(v,c.options.timeout),c.element.hover(function(){clearTimeout(c.timeout)},function(){c.timeout=setTimeout(v,c.options.timeout)})}}),this}},close:function(c){var h=this,v=function(){h.element.remove(),e[h.options.pos].children().length||e[h.options.pos].hide(),h.options.onClose.apply(h,[]),h.element.trigger("close.uk.notify",[h]),delete n[h.uuid]};this.timeout&&clearTimeout(this.timeout),c?v():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){v()})},content:function(c){var h=this.element.find(">div");return c?(h.html(c),this):h.html()},status:function(c){return c?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+c),this.currentstatus=c,this):this.currentstatus}}),u.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},t.notify=o,t.notify.message=u,t.notify.closeAll=l,o});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-tooltip",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e,n,o;return t.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(l){var u=l.attr("title");return u!==void 0&&l.data("cached-title",u).removeAttr("title"),l.data("cached-title")}},tip:"",boot:function(){t.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(l){var u=t.$(this);u.data("tooltip")||(t.tooltip(u,t.Utils.options(u.attr("data-uk-tooltip"))),u.trigger("mouseenter"))})},init:function(){var l=this;e||(e=t.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(u){l.show()},blur:function(u){l.hide()},mouseenter:function(u){l.show()},mouseleave:function(u){l.hide()}})},show:function(){if(this.tip=typeof this.options.src=="function"?this.options.src(this.element):this.options.src,n&&clearTimeout(n),o&&clearInterval(o),!(typeof this.tip!="string"||!this.tip.length)){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var l=this,u=t.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),c=e[0].offsetWidth,h=e[0].offsetHeight,v=typeof this.options.offset=="function"?this.options.offset.call(this.element):this.options.offset,x=typeof this.options.pos=="function"?this.options.pos.call(this.element):this.options.pos,w=x.split("-"),k={display:"none",visibility:"visible",top:u.top+u.height+h,left:u.left};if(t.$html.css("position")=="fixed"||t.$body.css("position")=="fixed"){var A=t.$("body").offset(),B=t.$("html").offset(),N={top:B.top+A.top,left:B.left+A.left};u.left-=N.left,u.top-=N.top}(w[0]=="left"||w[0]=="right")&&t.langdirection=="right"&&(w[0]=w[0]=="left"?"right":"left");var j={bottom:{top:u.top+u.height+v,left:u.left+u.width/2-c/2},top:{top:u.top-h-v,left:u.left+u.width/2-c/2},left:{top:u.top+u.height/2-h/2,left:u.left-c-v},right:{top:u.top+u.height/2-h/2,left:u.left+u.width+v}};t.$.extend(k,j[w[0]]),w.length==2&&(k.left=w[1]=="left"?u.left:u.left+u.width-c);var q=this.checkBoundary(k.left,k.top,c,h);if(q){switch(q){case"x":w.length==2?x=w[0]+"-"+(k.left<0?"left":"right"):x=k.left<0?"right":"left";break;case"y":w.length==2?x=(k.top<0?"bottom":"top")+"-"+w[1]:x=k.top<0?"bottom":"top";break;case"xy":w.length==2?x=(k.top<0?"bottom":"top")+"-"+(k.left<0?"left":"right"):x=k.left<0?"right":"left";break}w=x.split("-"),t.$.extend(k,j[w[0]]),w.length==2&&(k.left=w[1]=="left"?u.left:u.left+u.width-c)}k.left-=t.$body.position().left,n=setTimeout(function(){e.css(k).attr("class",["uk-tooltip","uk-tooltip-"+x,l.options.cls].join(" ")),l.options.animation?e.css({opacity:0,display:"block"}).addClass(l.options.activeClass).animate({opacity:1},parseInt(l.options.animation,10)||400):e.show().addClass(l.options.activeClass),n=!1,o=setInterval(function(){l.element.is(":visible")||l.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!(this.element.is("input")&&this.element[0]===document.activeElement))if(n&&clearTimeout(n),o&&clearInterval(o),e.stop(),this.options.animation){var l=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(l.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(l,u,c,h){var v="";return(l<0||l-t.$win.scrollLeft()+c>window.innerWidth)&&(v+="x"),(u<0||u-t.$win.scrollTop()+h>window.innerHeight)&&(v+="y"),v}}),t.tooltip});var Rh={exports:{}},qw=Rh.exports,Qm;function bs(){return Qm||(Qm=1,function(t,e){(function(n,o){t.exports=o()})(qw,function(){var n=navigator.userAgent,o=navigator.platform,l=/gecko\/\d/i.test(n),u=/MSIE \d/.test(n),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),h=/Edge\/(\d+)/.exec(n),v=u||c||h,x=v&&(u?document.documentMode||6:+(h||c)[1]),w=!h&&/WebKit\//.test(n),k=w&&/Qt\/\d+\.\d+/.test(n),A=!h&&/Chrome\/(\d+)/.exec(n),B=A&&+A[1],N=/Opera\//.test(n),j=/Apple Computer/.test(navigator.vendor),q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),O=/PhantomJS/.test(n),S=j&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),P=/Android/.test(n),W=S||P||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),z=S||/Mac/.test(o),G=/\bCrOS\b/.test(n),J=/win/i.test(o),ue=N&&n.match(/Version\/(\d*\.\d*)/);ue&&(ue=Number(ue[1])),ue&&ue>=15&&(N=!1,w=!0);var de=z&&(k||N&&(ue==null||ue<12.11)),ge=l||v&&x>=9;function ce(r){return new RegExp("(^|\\s)"+r+"(?:$|\\s)\\s*")}var Te=function(r,s){var p=r.className,d=ce(s).exec(p);if(d){var b=p.slice(d.index+d[0].length);r.className=p.slice(0,d.index)+(b?d[1]+b:"")}};function ve(r){for(var s=r.childNodes.length;s>0;--s)r.removeChild(r.firstChild);return r}function ne(r,s){return ve(r).appendChild(s)}function D(r,s,p,d){var b=document.createElement(r);if(p&&(b.className=p),d&&(b.style.cssText=d),typeof s=="string")b.appendChild(document.createTextNode(s));else if(s)for(var C=0;C<s.length;++C)b.appendChild(s[C]);return b}function se(r,s,p,d){var b=D(r,s,p,d);return b.setAttribute("role","presentation"),b}var ye;document.createRange?ye=function(r,s,p,d){var b=document.createRange();return b.setEnd(d||r,p),b.setStart(r,s),b}:ye=function(r,s,p){var d=document.body.createTextRange();try{d.moveToElementText(r.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",s),d};function Ce(r,s){if(s.nodeType==3&&(s=s.parentNode),r.contains)return r.contains(s);do if(s.nodeType==11&&(s=s.host),s==r)return!0;while(s=s.parentNode)}function et(r){var s=r.ownerDocument||r,p;try{p=r.activeElement}catch{p=s.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function ze(r,s){var p=r.className;ce(s).test(p)||(r.className+=(p?" ":"")+s)}function Me(r,s){for(var p=r.split(" "),d=0;d<p.length;d++)p[d]&&!ce(p[d]).test(s)&&(s+=" "+p[d]);return s}var ie=function(r){r.select()};S?ie=function(r){r.selectionStart=0,r.selectionEnd=r.value.length}:v&&(ie=function(r){try{r.select()}catch{}});function Y(r){return r.display.wrapper.ownerDocument}function Le(r){return Re(r.display.wrapper)}function Re(r){return r.getRootNode?r.getRootNode():r.ownerDocument}function V(r){return Y(r).defaultView}function we(r){var s=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,s)}}function Ae(r,s,p){s||(s={});for(var d in r)r.hasOwnProperty(d)&&(p!==!1||!s.hasOwnProperty(d))&&(s[d]=r[d]);return s}function je(r,s,p,d,b){s==null&&(s=r.search(/[^\s\u00a0]/),s==-1&&(s=r.length));for(var C=d||0,F=b||0;;){var H=r.indexOf("	",C);if(H<0||H>=s)return F+(s-C);F+=H-C,F+=p-F%p,C=H+1}}var Ze=function(){this.id=null,this.f=null,this.time=0,this.handler=we(this.onTimeout,this)};Ze.prototype.onTimeout=function(r){r.id=0,r.time<=+new Date?r.f():setTimeout(r.handler,r.time-+new Date)},Ze.prototype.set=function(r,s){this.f=s;var p=+new Date+r;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,r),this.time=p)};function Xe(r,s){for(var p=0;p<r.length;++p)if(r[p]==s)return p;return-1}var ut=50,Ct={toString:function(){return"CodeMirror.Pass"}},wt={scroll:!1},St={origin:"*mouse"},yt={origin:"+move"};function Mt(r,s,p){for(var d=0,b=0;;){var C=r.indexOf("	",d);C==-1&&(C=r.length);var F=C-d;if(C==r.length||b+F>=s)return d+Math.min(F,s-b);if(b+=C-d,b+=p-b%p,d=C+1,b>=s)return d}}var Ut=[""];function Kt(r){for(;Ut.length<=r;)Ut.push(X(Ut)+" ");return Ut[r]}function X(r){return r[r.length-1]}function le(r,s){for(var p=[],d=0;d<r.length;d++)p[d]=s(r[d],d);return p}function Q(r,s,p){for(var d=0,b=p(s);d<r.length&&p(r[d])<=b;)d++;r.splice(d,0,s)}function he(){}function pe(r,s){var p;return Object.create?p=Object.create(r):(he.prototype=r,p=new he),s&&Ae(s,p),p}var Be=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ot(r){return/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Be.test(r))}function Qe(r,s){return s?s.source.indexOf("\\w")>-1&&ot(r)?!0:s.test(r):ot(r)}function mt(r){for(var s in r)if(r.hasOwnProperty(s)&&r[s])return!1;return!0}var Pt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(r){return r.charCodeAt(0)>=768&&Pt.test(r)}function Wt(r,s,p){for(;(p<0?s>0:s<r.length)&&ct(r.charAt(s));)s+=p;return s}function $t(r,s,p){for(var d=s>p?-1:1;;){if(s==p)return s;var b=(s+p)/2,C=d<0?Math.ceil(b):Math.floor(b);if(C==s)return r(C)?s:p;r(C)?p=C:s=C+d}}function Qt(r,s,p,d){if(!r)return d(s,p,"ltr",0);for(var b=!1,C=0;C<r.length;++C){var F=r[C];(F.from<p&&F.to>s||s==p&&F.to==s)&&(d(Math.max(F.from,s),Math.min(F.to,p),F.level==1?"rtl":"ltr",C),b=!0)}b||d(s,p,"ltr")}var Vt=null;function xt(r,s,p){var d;Vt=null;for(var b=0;b<r.length;++b){var C=r[b];if(C.from<s&&C.to>s)return b;C.to==s&&(C.from!=C.to&&p=="before"?d=b:Vt=b),C.from==s&&(C.from!=C.to&&p!="before"?d=b:Vt=b)}return d??Vt}var Gn=function(){var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(K){return K<=247?r.charAt(K):1424<=K&&K<=1524?"R":1536<=K&&K<=1785?s.charAt(K-1536):1774<=K&&K<=2220?"r":8192<=K&&K<=8203?"w":K==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,C=/[LRr]/,F=/[Lb1n]/,H=/[1n]/;function Z(K,be,Ee){this.level=K,this.from=be,this.to=Ee}return function(K,be){var Ee=be=="ltr"?"L":"R";if(K.length==0||be=="ltr"&&!d.test(K))return!1;for(var Ie=K.length,Fe=[],Ge=0;Ge<Ie;++Ge)Fe.push(p(K.charCodeAt(Ge)));for(var rt=0,dt=Ee;rt<Ie;++rt){var bt=Fe[rt];bt=="m"?Fe[rt]=dt:dt=bt}for(var _t=0,vt=Ee;_t<Ie;++_t){var Tt=Fe[_t];Tt=="1"&&vt=="r"?Fe[_t]="n":C.test(Tt)&&(vt=Tt,Tt=="r"&&(Fe[_t]="R"))}for(var Bt=1,It=Fe[0];Bt<Ie-1;++Bt){var ci=Fe[Bt];ci=="+"&&It=="1"&&Fe[Bt+1]=="1"?Fe[Bt]="1":ci==","&&It==Fe[Bt+1]&&(It=="1"||It=="n")&&(Fe[Bt]=It),It=ci}for(var $i=0;$i<Ie;++$i){var En=Fe[$i];if(En==",")Fe[$i]="N";else if(En=="%"){var sn=void 0;for(sn=$i+1;sn<Ie&&Fe[sn]=="%";++sn);for(var vn=$i&&Fe[$i-1]=="!"||sn<Ie&&Fe[sn]=="1"?"1":"N",Pn=$i;Pn<sn;++Pn)Fe[Pn]=vn;$i=sn-1}}for(var On=0,Mr=Ee;On<Ie;++On){var dr=Fe[On];Mr=="L"&&dr=="1"?Fe[On]="L":C.test(dr)&&(Mr=dr)}for(var qn=0;qn<Ie;++qn)if(b.test(Fe[qn])){var Fn=void 0;for(Fn=qn+1;Fn<Ie&&b.test(Fe[Fn]);++Fn);for(var bn=(qn?Fe[qn-1]:Ee)=="L",Ur=(Fn<Ie?Fe[Fn]:Ee)=="L",Tu=bn==Ur?bn?"L":"R":Ee,us=qn;us<Fn;++us)Fe[us]=Tu;qn=Fn-1}for(var kr=[],ma,ir=0;ir<Ie;)if(F.test(Fe[ir])){var Gc=ir;for(++ir;ir<Ie&&F.test(Fe[ir]);++ir);kr.push(new Z(0,Gc,ir))}else{var ga=ir,ls=kr.length,cs=be=="rtl"?1:0;for(++ir;ir<Ie&&Fe[ir]!="L";++ir);for(var Pr=ga;Pr<ir;)if(H.test(Fe[Pr])){ga<Pr&&(kr.splice(ls,0,new Z(1,ga,Pr)),ls+=cs);var Au=Pr;for(++Pr;Pr<ir&&H.test(Fe[Pr]);++Pr);kr.splice(ls,0,new Z(2,Au,Pr)),ls+=cs,ga=Pr}else++Pr;ga<ir&&kr.splice(ls,0,new Z(1,ga,ir))}return be=="ltr"&&(kr[0].level==1&&(ma=K.match(/^\s+/))&&(kr[0].from=ma[0].length,kr.unshift(new Z(0,0,ma[0].length))),X(kr).level==1&&(ma=K.match(/\s+$/))&&(X(kr).to-=ma[0].length,kr.push(new Z(0,Ie-ma[0].length,Ie)))),be=="rtl"?kr.reverse():kr}}();function Yt(r,s){var p=r.order;return p==null&&(p=r.order=Gn(r.text,s)),p}var vr=[],Rt=function(r,s,p){if(r.addEventListener)r.addEventListener(s,p,!1);else if(r.attachEvent)r.attachEvent("on"+s,p);else{var d=r._handlers||(r._handlers={});d[s]=(d[s]||vr).concat(p)}};function un(r,s){return r._handlers&&r._handlers[s]||vr}function _i(r,s,p){if(r.removeEventListener)r.removeEventListener(s,p,!1);else if(r.detachEvent)r.detachEvent("on"+s,p);else{var d=r._handlers,b=d&&d[s];if(b){var C=Xe(b,p);C>-1&&(d[s]=b.slice(0,C).concat(b.slice(C+1)))}}}function Ri(r,s){var p=un(r,s);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),b=0;b<p.length;++b)p[b].apply(null,d)}function pi(r,s,p){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),Ri(r,p||s.type,r,s),Hi(s)||s.codemirrorIgnore}function wi(r){var s=r._handlers&&r._handlers.cursorActivity;if(s)for(var p=r.curOp.cursorActivityHandlers||(r.curOp.cursorActivityHandlers=[]),d=0;d<s.length;++d)Xe(p,s[d])==-1&&p.push(s[d])}function ui(r,s){return un(r,s).length>0}function si(r){r.prototype.on=function(s,p){Rt(this,s,p)},r.prototype.off=function(s,p){_i(this,s,p)}}function Bi(r){r.preventDefault?r.preventDefault():r.returnValue=!1}function io(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0}function Hi(r){return r.defaultPrevented!=null?r.defaultPrevented:r.returnValue==!1}function Ir(r){Bi(r),io(r)}function Wi(r){return r.target||r.srcElement}function Qi(r){var s=r.which;return s==null&&(r.button&1?s=1:r.button&2?s=3:r.button&4&&(s=2)),z&&r.ctrlKey&&s==1&&(s=3),s}var br=function(){if(v&&x<9)return!1;var r=D("div");return"draggable"in r||"dragDrop"in r}(),Tn;function Ot(r){if(Tn==null){var s=D("span","");ne(r,D("span",[s,document.createTextNode("x")])),r.firstChild.offsetHeight!=0&&(Tn=s.offsetWidth<=1&&s.offsetHeight>2&&!(v&&x<8))}var p=Tn?D("span",""):D("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var yr;function Zn(r){if(yr!=null)return yr;var s=ne(r,document.createTextNode("AA")),p=ye(s,0,1).getBoundingClientRect(),d=ye(s,1,2).getBoundingClientRect();return ve(r),!p||p.left==p.right?!1:yr=d.right-p.right<3}var Xn=`

b`.split(/\n/).length!=3?function(r){for(var s=0,p=[],d=r.length;s<=d;){var b=r.indexOf(`
`,s);b==-1&&(b=r.length);var C=r.slice(s,r.charAt(b-1)=="\r"?b-1:b),F=C.indexOf("\r");F!=-1?(p.push(C.slice(0,F)),s+=F+1):(p.push(C),s=b+1)}return p}:function(r){return r.split(/\r\n?|\n/)},or=window.getSelection?function(r){try{return r.selectionStart!=r.selectionEnd}catch{return!1}}:function(r){var s;try{s=r.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=r?!1:s.compareEndPoints("StartToEnd",s)!=0},$r=function(){var r=D("div");return"oncopy"in r?!0:(r.setAttribute("oncopy","return;"),typeof r.oncopy=="function")}(),Zi=null;function Ji(r){if(Zi!=null)return Zi;var s=ne(r,D("span","x")),p=s.getBoundingClientRect(),d=ye(s,0,1).getBoundingClientRect();return Zi=Math.abs(p.left-d.left)>1}var ar={},sr={};function An(r,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),ar[r]=s}function no(r,s){sr[r]=s}function ro(r){if(typeof r=="string"&&sr.hasOwnProperty(r))r=sr[r];else if(r&&typeof r.name=="string"&&sr.hasOwnProperty(r.name)){var s=sr[r.name];typeof s=="string"&&(s={name:s}),r=pe(s,r),r.name=s.name}else{if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(r))return ro("application/xml");if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(r))return ro("application/json")}return typeof r=="string"?{name:r}:r||{name:"null"}}function Er(r,s){s=ro(s);var p=ar[s.name];if(!p)return Er(r,"text/plain");var d=p(r,s);if(Dn.hasOwnProperty(s.name)){var b=Dn[s.name];for(var C in b)b.hasOwnProperty(C)&&(d.hasOwnProperty(C)&&(d["_"+C]=d[C]),d[C]=b[C])}if(d.name=s.name,s.helperType&&(d.helperType=s.helperType),s.modeProps)for(var F in s.modeProps)d[F]=s.modeProps[F];return d}var Dn={};function zr(r,s){var p=Dn.hasOwnProperty(r)?Dn[r]:Dn[r]={};Ae(s,p)}function _n(r,s){if(s===!0)return s;if(r.copyState)return r.copyState(s);var p={};for(var d in s){var b=s[d];b instanceof Array&&(b=b.concat([])),p[d]=b}return p}function mo(r,s){for(var p;r.innerMode&&(p=r.innerMode(s),!(!p||p.mode==r));)s=p.state,r=p.mode;return p||{mode:r,state:s}}function Vn(r,s,p){return r.startState?r.startState(s,p):!0}var Ui=function(r,s,p){this.pos=this.start=0,this.string=r,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Ui.prototype.eol=function(){return this.pos>=this.string.length},Ui.prototype.sol=function(){return this.pos==this.lineStart},Ui.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ui.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ui.prototype.eat=function(r){var s=this.string.charAt(this.pos),p;if(typeof r=="string"?p=s==r:p=s&&(r.test?r.test(s):r(s)),p)return++this.pos,s},Ui.prototype.eatWhile=function(r){for(var s=this.pos;this.eat(r););return this.pos>s},Ui.prototype.eatSpace=function(){for(var r=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r},Ui.prototype.skipToEnd=function(){this.pos=this.string.length},Ui.prototype.skipTo=function(r){var s=this.string.indexOf(r,this.pos);if(s>-1)return this.pos=s,!0},Ui.prototype.backUp=function(r){this.pos-=r},Ui.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},Ui.prototype.indentation=function(){return je(this.string,null,this.tabSize)-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},Ui.prototype.match=function(r,s,p){if(typeof r=="string"){var d=function(F){return p?F.toLowerCase():F},b=this.string.substr(this.pos,r.length);if(d(b)==d(r))return s!==!1&&(this.pos+=r.length),!0}else{var C=this.string.slice(this.pos).match(r);return C&&C.index>0?null:(C&&s!==!1&&(this.pos+=C[0].length),C)}},Ui.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ui.prototype.hideFirstChars=function(r,s){this.lineStart+=r;try{return s()}finally{this.lineStart-=r}},Ui.prototype.lookAhead=function(r){var s=this.lineOracle;return s&&s.lookAhead(r)},Ui.prototype.baseToken=function(){var r=this.lineOracle;return r&&r.baseToken(this.pos)};function Lt(r,s){if(s-=r.first,s<0||s>=r.size)throw new Error("There is no line "+(s+r.first)+" in the document.");for(var p=r;!p.lines;)for(var d=0;;++d){var b=p.children[d],C=b.chunkSize();if(s<C){p=b;break}s-=C}return p.lines[s]}function Kn(r,s,p){var d=[],b=s.line;return r.iter(s.line,p.line+1,function(C){var F=C.text;b==p.line&&(F=F.slice(0,p.ch)),b==s.line&&(F=F.slice(s.ch)),d.push(F),++b}),d}function ur(r,s,p){var d=[];return r.iter(s,p,function(b){d.push(b.text)}),d}function Bn(r,s){var p=s-r.height;if(p)for(var d=r;d;d=d.parent)d.height+=p}function ee(r){if(r.parent==null)return null;for(var s=r.parent,p=Xe(s.lines,r),d=s.parent;d;s=d,d=d.parent)for(var b=0;d.children[b]!=s;++b)p+=d.children[b].chunkSize();return p+s.first}function xe(r,s){var p=r.first;e:do{for(var d=0;d<r.children.length;++d){var b=r.children[d],C=b.height;if(s<C){r=b;continue e}s-=C,p+=b.chunkSize()}return p}while(!r.lines);for(var F=0;F<r.lines.length;++F){var H=r.lines[F],Z=H.height;if(s<Z)break;s-=Z}return p+F}function We(r,s){return s>=r.first&&s<r.first+r.size}function nt(r,s){return String(r.lineNumberFormatter(s+r.firstLineNumber))}function Ue(r,s,p){if(p===void 0&&(p=null),!(this instanceof Ue))return new Ue(r,s,p);this.line=r,this.ch=s,this.sticky=p}function pt(r,s){return r.line-s.line||r.ch-s.ch}function ni(r,s){return r.sticky==s.sticky&&pt(r,s)==0}function Yi(r){return Ue(r.line,r.ch)}function Nt(r,s){return pt(r,s)<0?s:r}function li(r,s){return pt(r,s)<0?r:s}function go(r,s){return Math.max(r.first,Math.min(s,r.first+r.size-1))}function qt(r,s){if(s.line<r.first)return Ue(r.first,0);var p=r.first+r.size-1;return s.line>p?Ue(p,Lt(r,p).text.length):ke(s,Lt(r,s.line).text.length)}function ke(r,s){var p=r.ch;return p==null||p>s?Ue(r.line,s):p<0?Ue(r.line,0):r}function y(r,s){for(var p=[],d=0;d<s.length;d++)p[d]=qt(r,s[d]);return p}var T=function(r,s){this.state=r,this.lookAhead=s},R=function(r,s,p,d){this.state=s,this.doc=r,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};R.prototype.lookAhead=function(r){var s=this.doc.getLine(this.line+r);return s!=null&&r>this.maxLookAhead&&(this.maxLookAhead=r),s},R.prototype.baseToken=function(r){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=r;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-r}},R.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},R.fromSaved=function(r,s,p){return s instanceof T?new R(r,_n(r.mode,s.state),p,s.lookAhead):new R(r,_n(r.mode,s),p)},R.prototype.save=function(r){var s=r!==!1?_n(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new T(s,this.maxLookAhead):s};function re(r,s,p,d){var b=[r.state.modeGen],C={};fi(r,s.text,r.doc.mode,p,function(K,be){return b.push(K,be)},C,d);for(var F=p.state,H=function(K){p.baseTokens=b;var be=r.state.overlays[K],Ee=1,Ie=0;p.state=!0,fi(r,s.text,be.mode,p,function(Fe,Ge){for(var rt=Ee;Ie<Fe;){var dt=b[Ee];dt>Fe&&b.splice(Ee,1,Fe,b[Ee+1],dt),Ee+=2,Ie=Math.min(Fe,dt)}if(Ge)if(be.opaque)b.splice(rt,Ee-rt,Fe,"overlay "+Ge),Ee=rt+2;else for(;rt<Ee;rt+=2){var bt=b[rt+1];b[rt+1]=(bt?bt+" ":"")+"overlay "+Ge}},C),p.state=F,p.baseTokens=null,p.baseTokenPos=1},Z=0;Z<r.state.overlays.length;++Z)H(Z);return{styles:b,classes:C.bgClass||C.textClass?C:null}}function ae(r,s,p){if(!s.styles||s.styles[0]!=r.state.modeGen){var d=_e(r,ee(s)),b=s.text.length>r.options.maxHighlightLength&&_n(r.doc.mode,d.state),C=re(r,s,d);b&&(d.state=b),s.stateAfter=d.save(!b),s.styles=C.styles,C.classes?s.styleClasses=C.classes:s.styleClasses&&(s.styleClasses=null),p===r.doc.highlightFrontier&&(r.doc.modeFrontier=Math.max(r.doc.modeFrontier,++r.doc.highlightFrontier))}return s.styles}function _e(r,s,p){var d=r.doc,b=r.display;if(!d.mode.startState)return new R(d,!0,s);var C=hi(r,s,p),F=C>d.first&&Lt(d,C-1).stateAfter,H=F?R.fromSaved(d,F,C):new R(d,Vn(d.mode),C);return d.iter(C,s,function(Z){Oe(r,Z.text,H);var K=H.line;Z.stateAfter=K==s-1||K%5==0||K>=b.viewFrom&&K<b.viewTo?H.save():null,H.nextLine()}),p&&(d.modeFrontier=H.line),H}function Oe(r,s,p,d){var b=r.doc.mode,C=new Ui(s,r.options.tabSize,p);for(C.start=C.pos=d||0,s==""&&Je(b,p.state);!C.eol();)tt(b,C,p.state),C.start=C.pos}function Je(r,s){if(r.blankLine)return r.blankLine(s);if(r.innerMode){var p=mo(r,s);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function tt(r,s,p,d){for(var b=0;b<10;b++){d&&(d[0]=mo(r,p).mode);var C=r.token(s,p);if(s.pos>s.start)return C}throw new Error("Mode "+r.name+" failed to advance stream.")}var Ve=function(r,s,p){this.start=r.start,this.end=r.pos,this.string=r.current(),this.type=s||null,this.state=p};function Ke(r,s,p,d){var b=r.doc,C=b.mode,F;s=qt(b,s);var H=Lt(b,s.line),Z=_e(r,s.line,p),K=new Ui(H.text,r.options.tabSize,Z),be;for(d&&(be=[]);(d||K.pos<s.ch)&&!K.eol();)K.start=K.pos,F=tt(C,K,Z.state),d&&be.push(new Ve(K,F,_n(b.mode,Z.state)));return d?be:new Ve(K,F,Z.state)}function ft(r,s){if(r)for(;;){var p=r.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;r=r.slice(0,p.index)+r.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";s[d]==null?s[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(s[d])||(s[d]+=" "+p[2])}return r}function fi(r,s,p,d,b,C,F){var H=p.flattenSpans;H==null&&(H=r.options.flattenSpans);var Z=0,K=null,be=new Ui(s,r.options.tabSize,d),Ee,Ie=r.options.addModeClass&&[null];for(s==""&&ft(Je(p,d.state),C);!be.eol();){if(be.pos>r.options.maxHighlightLength?(H=!1,F&&Oe(r,s,d,be.pos),be.pos=s.length,Ee=null):Ee=ft(tt(p,be,d.state,Ie),C),Ie){var Fe=Ie[0].name;Fe&&(Ee="m-"+(Ee?Fe+" "+Ee:Fe))}if(!H||K!=Ee){for(;Z<be.start;)Z=Math.min(be.start,Z+5e3),b(Z,K);K=Ee}be.start=be.pos}for(;Z<be.pos;){var Ge=Math.min(be.pos,Z+5e3);b(Ge,K),Z=Ge}}function hi(r,s,p){for(var d,b,C=r.doc,F=p?-1:s-(r.doc.mode.innerMode?1e3:100),H=s;H>F;--H){if(H<=C.first)return C.first;var Z=Lt(C,H-1),K=Z.stateAfter;if(K&&(!p||H+(K instanceof T?K.lookAhead:0)<=C.modeFrontier))return H;var be=je(Z.text,null,r.options.tabSize);(b==null||d>be)&&(b=H-1,d=be)}return b}function qi(r,s){if(r.modeFrontier=Math.min(r.modeFrontier,s),!(r.highlightFrontier<s-10)){for(var p=r.first,d=s-1;d>p;d--){var b=Lt(r,d).stateAfter;if(b&&(!(b instanceof T)||d+b.lookAhead<s)){p=d+1;break}}r.highlightFrontier=Math.min(r.highlightFrontier,p)}}var Ci=!1,Pi=!1;function hn(){Ci=!0}function Ft(){Pi=!0}function on(r,s,p){this.marker=r,this.from=s,this.to=p}function ri(r,s){if(r)for(var p=0;p<r.length;++p){var d=r[p];if(d.marker==s)return d}}function gt(r,s){for(var p,d=0;d<r.length;++d)r[d]!=s&&(p||(p=[])).push(r[d]);return p}function xi(r,s,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&r.markedSpans&&d.has(r.markedSpans)?r.markedSpans.push(s):(r.markedSpans=r.markedSpans?r.markedSpans.concat([s]):[s],d&&d.add(r.markedSpans)),s.marker.attachLine(r)}function an(r,s,p){var d;if(r)for(var b=0;b<r.length;++b){var C=r[b],F=C.marker,H=C.from==null||(F.inclusiveLeft?C.from<=s:C.from<s);if(H||C.from==s&&F.type=="bookmark"&&(!p||!C.marker.insertLeft)){var Z=C.to==null||(F.inclusiveRight?C.to>=s:C.to>s);(d||(d=[])).push(new on(F,C.from,Z?null:C.to))}}return d}function lr(r,s,p){var d;if(r)for(var b=0;b<r.length;++b){var C=r[b],F=C.marker,H=C.to==null||(F.inclusiveRight?C.to>=s:C.to>s);if(H||C.from==s&&F.type=="bookmark"&&(!p||C.marker.insertLeft)){var Z=C.from==null||(F.inclusiveLeft?C.from<=s:C.from<s);(d||(d=[])).push(new on(F,Z?null:C.from-s,C.to==null?null:C.to-s))}}return d}function Ln(r,s){if(s.full)return null;var p=We(r,s.from.line)&&Lt(r,s.from.line).markedSpans,d=We(r,s.to.line)&&Lt(r,s.to.line).markedSpans;if(!p&&!d)return null;var b=s.from.ch,C=s.to.ch,F=pt(s.from,s.to)==0,H=an(p,b,F),Z=lr(d,C,F),K=s.text.length==1,be=X(s.text).length+(K?b:0);if(H)for(var Ee=0;Ee<H.length;++Ee){var Ie=H[Ee];if(Ie.to==null){var Fe=ri(Z,Ie.marker);Fe?K&&(Ie.to=Fe.to==null?null:Fe.to+be):Ie.to=b}}if(Z)for(var Ge=0;Ge<Z.length;++Ge){var rt=Z[Ge];if(rt.to!=null&&(rt.to+=be),rt.from==null){var dt=ri(H,rt.marker);dt||(rt.from=be,K&&(H||(H=[])).push(rt))}else rt.from+=be,K&&(H||(H=[])).push(rt)}H&&(H=Gr(H)),Z&&Z!=H&&(Z=Gr(Z));var bt=[H];if(!K){var _t=s.text.length-2,vt;if(_t>0&&H)for(var Tt=0;Tt<H.length;++Tt)H[Tt].to==null&&(vt||(vt=[])).push(new on(H[Tt].marker,null,null));for(var Bt=0;Bt<_t;++Bt)bt.push(vt);bt.push(Z)}return bt}function Gr(r){for(var s=0;s<r.length;++s){var p=r[s];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&r.splice(s--,1)}return r.length?r:null}function Br(r,s,p){var d=null;if(r.iter(s.line,p.line+1,function(Fe){if(Fe.markedSpans)for(var Ge=0;Ge<Fe.markedSpans.length;++Ge){var rt=Fe.markedSpans[Ge].marker;rt.readOnly&&(!d||Xe(d,rt)==-1)&&(d||(d=[])).push(rt)}}),!d)return null;for(var b=[{from:s,to:p}],C=0;C<d.length;++C)for(var F=d[C],H=F.find(0),Z=0;Z<b.length;++Z){var K=b[Z];if(!(pt(K.to,H.from)<0||pt(K.from,H.to)>0)){var be=[Z,1],Ee=pt(K.from,H.from),Ie=pt(K.to,H.to);(Ee<0||!F.inclusiveLeft&&!Ee)&&be.push({from:K.from,to:H.from}),(Ie>0||!F.inclusiveRight&&!Ie)&&be.push({from:H.to,to:K.to}),b.splice.apply(b,be),Z+=be.length-3}}return b}function Zt(r){var s=r.markedSpans;if(s){for(var p=0;p<s.length;++p)s[p].marker.detachLine(r);r.markedSpans=null}}function oi(r,s){if(s){for(var p=0;p<s.length;++p)s[p].marker.attachLine(r);r.markedSpans=s}}function wn(r){return r.inclusiveLeft?-1:0}function Hr(r){return r.inclusiveRight?1:0}function Ko(r,s){var p=r.lines.length-s.lines.length;if(p!=0)return p;var d=r.find(),b=s.find(),C=pt(d.from,b.from)||wn(r)-wn(s);if(C)return-C;var F=pt(d.to,b.to)||Hr(r)-Hr(s);return F||s.id-r.id}function ka(r,s){var p=Pi&&r.markedSpans,d;if(p)for(var b=void 0,C=0;C<p.length;++C)b=p[C],b.marker.collapsed&&(s?b.from:b.to)==null&&(!d||Ko(d,b.marker)<0)&&(d=b.marker);return d}function Qo(r){return ka(r,!0)}function Ea(r){return ka(r,!1)}function ja(r,s){var p=Pi&&r.markedSpans,d;if(p)for(var b=0;b<p.length;++b){var C=p[b];C.marker.collapsed&&(C.from==null||C.from<s)&&(C.to==null||C.to>s)&&(!d||Ko(d,C.marker)<0)&&(d=C.marker)}return d}function gi(r,s,p,d,b){var C=Lt(r,s),F=Pi&&C.markedSpans;if(F)for(var H=0;H<F.length;++H){var Z=F[H];if(Z.marker.collapsed){var K=Z.marker.find(0),be=pt(K.from,p)||wn(Z.marker)-wn(b),Ee=pt(K.to,d)||Hr(Z.marker)-Hr(b);if(!(be>=0&&Ee<=0||be<=0&&Ee>=0)&&(be<=0&&(Z.marker.inclusiveRight&&b.inclusiveLeft?pt(K.to,p)>=0:pt(K.to,p)>0)||be>=0&&(Z.marker.inclusiveRight&&b.inclusiveLeft?pt(K.from,d)<=0:pt(K.from,d)<0)))return!0}}}function Ni(r){for(var s;s=Qo(r);)r=s.find(-1,!0).line;return r}function _r(r){for(var s;s=Ea(r);)r=s.find(1,!0).line;return r}function Wr(r){for(var s,p;s=Ea(r);)r=s.find(1,!0).line,(p||(p=[])).push(r);return p}function xs(r,s){var p=Lt(r,s),d=Ni(p);return p==d?s:ee(d)}function Gs(r,s){if(s>r.lastLine())return s;var p=Lt(r,s),d;if(!dn(r,p))return s;for(;d=Ea(p);)p=d.find(1,!0).line;return ee(p)+1}function dn(r,s){var p=Pi&&s.markedSpans;if(p){for(var d=void 0,b=0;b<p.length;++b)if(d=p[b],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Zs(r,s,d))return!0}}}function Zs(r,s,p){if(p.to==null){var d=p.marker.find(1,!0);return Zs(r,d.line,ri(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==s.text.length)return!0;for(var b=void 0,C=0;C<s.markedSpans.length;++C)if(b=s.markedSpans[C],b.marker.collapsed&&!b.marker.widgetNode&&b.from==p.to&&(b.to==null||b.to!=p.from)&&(b.marker.inclusiveLeft||p.marker.inclusiveRight)&&Zs(r,s,b))return!0}function oo(r){r=Ni(r);for(var s=0,p=r.parent,d=0;d<p.lines.length;++d){var b=p.lines[d];if(b==r)break;s+=b.height}for(var C=p.parent;C;p=C,C=p.parent)for(var F=0;F<C.children.length;++F){var H=C.children[F];if(H==p)break;s+=H.height}return s}function ks(r){if(r.height==0)return 0;for(var s=r.text.length,p,d=r;p=Qo(d);){var b=p.find(0,!0);d=b.from.line,s+=b.from.ch-b.to.ch}for(d=r;p=Ea(d);){var C=p.find(0,!0);s-=d.text.length-C.from.ch,d=C.to.line,s+=d.text.length-C.to.ch}return s}function Xs(r){var s=r.display,p=r.doc;s.maxLine=Lt(p,p.first),s.maxLineLength=ks(s.maxLine),s.maxLineChanged=!0,p.iter(function(d){var b=ks(d);b>s.maxLineLength&&(s.maxLineLength=b,s.maxLine=d)})}var Lo=function(r,s,p){this.text=r,oi(this,s),this.height=p?p(this):1};Lo.prototype.lineNo=function(){return ee(this)},si(Lo);function kl(r,s,p,d){r.text=s,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),r.order!=null&&(r.order=null),Zt(r),oi(r,p);var b=d?d(r):1;b!=r.height&&Bn(r,b)}function ln(r){r.parent=null,Zt(r)}var yc={},qr={};function Mo(r,s){if(!r||/^\s*$/.test(r))return null;var p=s.addModeClass?qr:yc;return p[r]||(p[r]=r.replace(/\S+/g,"cm-$&"))}function Vs(r,s){var p=se("span",null,null,w?"padding-right: .1px":null),d={pre:se("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:r,trailingSpace:!1,splitSpaces:r.getOption("lineWrapping")};s.measure={};for(var b=0;b<=(s.rest?s.rest.length:0);b++){var C=b?s.rest[b-1]:s.line,F=void 0;d.pos=0,d.addToken=Ua,Zn(r.display.measure)&&(F=Yt(C,r.doc.direction))&&(d.addToken=en(d.addToken,F)),d.map=[];var H=s!=r.display.externalMeasured&&ee(C);ju(C,d,ae(r,C,H)),C.styleClasses&&(C.styleClasses.bgClass&&(d.bgClass=Me(C.styleClasses.bgClass,d.bgClass||"")),C.styleClasses.textClass&&(d.textClass=Me(C.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(Ot(r.display.measure))),b==0?(s.measure.map=d.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(d.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(w){var Z=d.content.lastChild;(/\bcm-tab\b/.test(Z.className)||Z.querySelector&&Z.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Ri(r,"renderLine",r,s.line,d.pre),d.pre.className&&(d.textClass=Me(d.pre.className,d.textClass||"")),d}function Po(r){var s=D("span","","cm-invalidchar");return s.title="\\u"+r.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function Ua(r,s,p,d,b,C,F){if(s){var H=r.splitSpaces?qu(s,r.trailingSpace):s,Z=r.cm.state.specialChars,K=!1,be;if(!Z.test(s))r.col+=s.length,be=document.createTextNode(H),r.map.push(r.pos,r.pos+s.length,be),v&&x<9&&(K=!0),r.pos+=s.length;else{be=document.createDocumentFragment();for(var Ee=0;;){Z.lastIndex=Ee;var Ie=Z.exec(s),Fe=Ie?Ie.index-Ee:s.length-Ee;if(Fe){var Ge=document.createTextNode(H.slice(Ee,Ee+Fe));v&&x<9?be.appendChild(D("span",[Ge])):be.appendChild(Ge),r.map.push(r.pos,r.pos+Fe,Ge),r.col+=Fe,r.pos+=Fe}if(!Ie)break;Ee+=Fe+1;var rt=void 0;if(Ie[0]=="	"){var dt=r.cm.options.tabSize,bt=dt-r.col%dt;rt=be.appendChild(D("span",Kt(bt),"cm-tab")),rt.setAttribute("role","presentation"),rt.setAttribute("cm-text","	"),r.col+=bt}else Ie[0]=="\r"||Ie[0]==`
`?(rt=be.appendChild(D("span",Ie[0]=="\r"?"":"","cm-invalidchar")),rt.setAttribute("cm-text",Ie[0]),r.col+=1):(rt=r.cm.options.specialCharPlaceholder(Ie[0]),rt.setAttribute("cm-text",Ie[0]),v&&x<9?be.appendChild(D("span",[rt])):be.appendChild(rt),r.col+=1);r.map.push(r.pos,r.pos+1,rt),r.pos++}}if(r.trailingSpace=H.charCodeAt(s.length-1)==32,p||d||b||K||C||F){var _t=p||"";d&&(_t+=d),b&&(_t+=b);var vt=D("span",[be],_t,C);if(F)for(var Tt in F)F.hasOwnProperty(Tt)&&Tt!="style"&&Tt!="class"&&vt.setAttribute(Tt,F[Tt]);return r.content.appendChild(vt)}r.content.appendChild(be)}}function qu(r,s){if(r.length>1&&!/  /.test(r))return r;for(var p=s,d="",b=0;b<r.length;b++){var C=r.charAt(b);C==" "&&p&&(b==r.length-1||r.charCodeAt(b+1)==32)&&(C=""),d+=C,p=C==" "}return d}function en(r,s){return function(p,d,b,C,F,H,Z){b=b?b+" cm-force-border":"cm-force-border";for(var K=p.pos,be=K+d.length;;){for(var Ee=void 0,Ie=0;Ie<s.length&&(Ee=s[Ie],!(Ee.to>K&&Ee.from<=K));Ie++);if(Ee.to>=be)return r(p,d,b,C,F,H,Z);r(p,d.slice(0,Ee.to-K),b,C,null,H,Z),C=null,d=d.slice(Ee.to-K),K=Ee.to}}}function vo(r,s,p,d){var b=!d&&p.widgetNode;b&&r.map.push(r.pos,r.pos+s,b),!d&&r.cm.display.input.needsContentAttribute&&(b||(b=r.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",p.id)),b&&(r.cm.display.input.setUneditable(b),r.content.appendChild(b)),r.pos+=s,r.trailingSpace=!1}function ju(r,s,p){var d=r.markedSpans,b=r.text,C=0;if(!d){for(var F=1;F<p.length;F+=2)s.addToken(s,b.slice(C,C=p[F]),Mo(p[F+1],s.cm.options));return}for(var H=b.length,Z=0,K=1,be="",Ee,Ie,Fe=0,Ge,rt,dt,bt,_t;;){if(Fe==Z){Ge=rt=dt=Ie="",_t=null,bt=null,Fe=1/0;for(var vt=[],Tt=void 0,Bt=0;Bt<d.length;++Bt){var It=d[Bt],ci=It.marker;if(ci.type=="bookmark"&&It.from==Z&&ci.widgetNode)vt.push(ci);else if(It.from<=Z&&(It.to==null||It.to>Z||ci.collapsed&&It.to==Z&&It.from==Z)){if(It.to!=null&&It.to!=Z&&Fe>It.to&&(Fe=It.to,rt=""),ci.className&&(Ge+=" "+ci.className),ci.css&&(Ie=(Ie?Ie+";":"")+ci.css),ci.startStyle&&It.from==Z&&(dt+=" "+ci.startStyle),ci.endStyle&&It.to==Fe&&(Tt||(Tt=[])).push(ci.endStyle,It.to),ci.title&&((_t||(_t={})).title=ci.title),ci.attributes)for(var $i in ci.attributes)(_t||(_t={}))[$i]=ci.attributes[$i];ci.collapsed&&(!bt||Ko(bt.marker,ci)<0)&&(bt=It)}else It.from>Z&&Fe>It.from&&(Fe=It.from)}if(Tt)for(var En=0;En<Tt.length;En+=2)Tt[En+1]==Fe&&(rt+=" "+Tt[En]);if(!bt||bt.from==Z)for(var sn=0;sn<vt.length;++sn)vo(s,0,vt[sn]);if(bt&&(bt.from||0)==Z){if(vo(s,(bt.to==null?H+1:bt.to)-Z,bt.marker,bt.from==null),bt.to==null)return;bt.to==Z&&(bt=!1)}}if(Z>=H)break;for(var vn=Math.min(H,Fe);;){if(be){var Pn=Z+be.length;if(!bt){var On=Pn>vn?be.slice(0,vn-Z):be;s.addToken(s,On,Ee?Ee+Ge:Ge,dt,Z+On.length==Fe?rt:"",Ie,_t)}if(Pn>=vn){be=be.slice(vn-Z),Z=vn;break}Z=Pn,dt=""}be=b.slice(C,C=p[K++]),Ee=Mo(p[K++],s.cm.options)}}}function El(r,s,p){this.line=s,this.rest=Wr(s),this.size=this.rest?ee(X(this.rest))-p+1:1,this.node=this.text=null,this.hidden=dn(r,s)}function Jo(r,s,p){for(var d=[],b,C=s;C<p;C=b){var F=new El(r.doc,Lt(r.doc,C),C);b=C+F.size,d.push(F)}return d}var Ya=null;function Cl(r){Ya?Ya.ops.push(r):r.ownsGroup=Ya={ops:[r],delayedCallbacks:[]}}function Sl(r){var s=r.delayedCallbacks,p=0;do{for(;p<s.length;p++)s[p].call(null);for(var d=0;d<r.ops.length;d++){var b=r.ops[d];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(p<s.length)}function Es(r,s){var p=r.ownsGroup;if(p)try{Sl(p)}finally{Ya=null,s(p)}}var Cr=null;function tn(r,s){var p=un(r,s);if(p.length){var d=Array.prototype.slice.call(arguments,2),b;Ya?b=Ya.delayedCallbacks:Cr?b=Cr:(b=Cr=[],setTimeout(Cs,0));for(var C=function(H){b.push(function(){return p[H].apply(null,d)})},F=0;F<p.length;++F)C(F)}}function Cs(){var r=Cr;Cr=null;for(var s=0;s<r.length;++s)r[s]()}function Sr(r,s,p,d){for(var b=0;b<s.changes.length;b++){var C=s.changes[b];C=="text"?Js(r,s):C=="gutter"?eu(r,s,p,d):C=="class"?Ss(r,s):C=="widget"&&Uu(r,s,d)}s.changes=null}function Ca(r){return r.node==r.text&&(r.node=D("div",null,null,"position: relative"),r.text.parentNode&&r.text.parentNode.replaceChild(r.node,r.text),r.node.appendChild(r.text),v&&x<8&&(r.node.style.zIndex=2)),r.node}function Ks(r,s){var p=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),s.background)p?s.background.className=p:(s.background.parentNode.removeChild(s.background),s.background=null);else if(p){var d=Ca(s);s.background=d.insertBefore(D("div",null,p),d.firstChild),r.display.input.setUneditable(s.background)}}function Qs(r,s){var p=r.display.externalMeasured;return p&&p.line==s.line?(r.display.externalMeasured=null,s.measure=p.measure,p.built):Vs(r,s)}function Js(r,s){var p=s.text.className,d=Qs(r,s);s.text==s.node&&(s.node=d.pre),s.text.parentNode.replaceChild(d.pre,s.text),s.text=d.pre,d.bgClass!=s.bgClass||d.textClass!=s.textClass?(s.bgClass=d.bgClass,s.textClass=d.textClass,Ss(r,s)):p&&(s.text.className=p)}function Ss(r,s){Ks(r,s),s.line.wrapClass?Ca(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var p=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=p||""}function eu(r,s,p,d){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var b=Ca(s);s.gutterBackground=D("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),r.display.input.setUneditable(s.gutterBackground),b.insertBefore(s.gutterBackground,s.text)}var C=s.line.gutterMarkers;if(r.options.lineNumbers||C){var F=Ca(s),H=s.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(H.setAttribute("aria-hidden","true"),r.display.input.setUneditable(H),F.insertBefore(H,s.text),s.line.gutterClass&&(H.className+=" "+s.line.gutterClass),r.options.lineNumbers&&(!C||!C["CodeMirror-linenumbers"])&&(s.lineNumber=H.appendChild(D("div",nt(r.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+r.display.lineNumInnerWidth+"px"))),C)for(var Z=0;Z<r.display.gutterSpecs.length;++Z){var K=r.display.gutterSpecs[Z].className,be=C.hasOwnProperty(K)&&C[K];be&&H.appendChild(D("div",[be],"CodeMirror-gutter-elt","left: "+d.gutterLeft[K]+"px; width: "+d.gutterWidth[K]+"px"))}}}function Uu(r,s,p){s.alignable&&(s.alignable=null);for(var d=ce("CodeMirror-linewidget"),b=s.node.firstChild,C=void 0;b;b=C)C=b.nextSibling,d.test(b.className)&&s.node.removeChild(b);Yu(r,s,p)}function Tl(r,s,p,d){var b=Qs(r,s);return s.text=s.node=b.pre,b.bgClass&&(s.bgClass=b.bgClass),b.textClass&&(s.textClass=b.textClass),Ss(r,s),eu(r,s,p,d),Yu(r,s,d),s.node}function Yu(r,s,p){if(nn(r,s.line,s,p,!0),s.rest)for(var d=0;d<s.rest.length;d++)nn(r,s.rest[d],s,p,!1)}function nn(r,s,p,d,b){if(s.widgets)for(var C=Ca(p),F=0,H=s.widgets;F<H.length;++F){var Z=H[F],K=D("div",[Z.node],"CodeMirror-linewidget"+(Z.className?" "+Z.className:""));Z.handleMouseEvents||K.setAttribute("cm-ignore-events","true"),ea(Z,K,p,d),r.display.input.setUneditable(K),b&&Z.above?C.insertBefore(K,p.gutter||p.text):C.appendChild(K),tn(Z,"redraw")}}function ea(r,s,p,d){if(r.noHScroll){(p.alignable||(p.alignable=[])).push(s);var b=d.wrapperWidth;s.style.left=d.fixedPos+"px",r.coverGutter||(b-=d.gutterTotalWidth,s.style.paddingLeft=d.gutterTotalWidth+"px"),s.style.width=b+"px"}r.coverGutter&&(s.style.zIndex=5,s.style.position="relative",r.noHScroll||(s.style.marginLeft=-d.gutterTotalWidth+"px"))}function Oo(r){if(r.height!=null)return r.height;var s=r.doc.cm;if(!s)return 0;if(!Ce(document.body,r.node)){var p="position: relative;";r.coverGutter&&(p+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),r.noHScroll&&(p+="width: "+s.display.wrapper.clientWidth+"px;"),ne(s.display.measure,D("div",[r.node],null,p))}return r.height=r.node.parentNode.offsetHeight}function Hn(r,s){for(var p=Wi(s);p!=r.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==r.sizer&&p!=r.mover)return!0}function Ts(r){return r.lineSpace.offsetTop}function ta(r){return r.mover.offsetHeight-r.lineSpace.offsetHeight}function Al(r){if(r.cachedPaddingH)return r.cachedPaddingH;var s=ne(r.measure,D("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(r.cachedPaddingH=d),d}function Tr(r){return ut-r.display.nativeBarWidth}function ia(r){return r.display.scroller.clientWidth-Tr(r)-r.display.barWidth}function $a(r){return r.display.scroller.clientHeight-Tr(r)-r.display.barHeight}function Ga(r,s,p){var d=r.options.lineWrapping,b=d&&ia(r);if(!s.measure.heights||d&&s.measure.width!=b){var C=s.measure.heights=[];if(d){s.measure.width=b;for(var F=s.text.firstChild.getClientRects(),H=0;H<F.length-1;H++){var Z=F[H],K=F[H+1];Math.abs(Z.bottom-K.bottom)>2&&C.push((Z.bottom+K.top)/2-p.top)}}C.push(p.bottom-p.top)}}function Fo(r,s,p){if(r.line==s)return{map:r.measure.map,cache:r.measure.cache};if(r.rest){for(var d=0;d<r.rest.length;d++)if(r.rest[d]==s)return{map:r.measure.maps[d],cache:r.measure.caches[d]};for(var b=0;b<r.rest.length;b++)if(ee(r.rest[b])>p)return{map:r.measure.maps[b],cache:r.measure.caches[b],before:!0}}}function tu(r,s){s=Ni(s);var p=ee(s),d=r.display.externalMeasured=new El(r.doc,s,p);d.lineN=p;var b=d.built=Vs(r,d);return d.text=b.pre,ne(r.display.lineMeasure,b.pre),d}function iu(r,s,p,d){return pn(r,jr(r,s),p,d)}function Za(r,s){if(s>=r.display.viewFrom&&s<r.display.viewTo)return r.display.view[oa(r,s)];var p=r.display.externalMeasured;if(p&&s>=p.lineN&&s<p.lineN+p.size)return p}function jr(r,s){var p=ee(s),d=Za(r,p);d&&!d.text?d=null:d&&d.changes&&(Sr(r,d,p,Xa(r)),r.curOp.forceUpdate=!0),d||(d=tu(r,s));var b=Fo(d,s,p);return{line:s,view:d,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function pn(r,s,p,d,b){s.before&&(p=-1);var C=p+(d||""),F;return s.cache.hasOwnProperty(C)?F=s.cache[C]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(Ga(r,s.view,s.rect),s.hasHeights=!0),F=Ar(r,s,p,d),F.bogus||(s.cache[C]=F)),{left:F.left,right:F.right,top:b?F.rtop:F.top,bottom:b?F.rbottom:F.bottom}}var Dl={left:0,right:0,top:0,bottom:0};function Sa(r,s,p){for(var d,b,C,F,H,Z,K=0;K<r.length;K+=3)if(H=r[K],Z=r[K+1],s<H?(b=0,C=1,F="left"):s<Z?(b=s-H,C=b+1):(K==r.length-3||s==Z&&r[K+3]>s)&&(C=Z-H,b=C-1,s>=Z&&(F="right")),b!=null){if(d=r[K+2],H==Z&&p==(d.insertLeft?"left":"right")&&(F=p),p=="left"&&b==0)for(;K&&r[K-2]==r[K-3]&&r[K-1].insertLeft;)d=r[(K-=3)+2],F="left";if(p=="right"&&b==Z-H)for(;K<r.length-3&&r[K+3]==r[K+4]&&!r[K+5].insertLeft;)d=r[(K+=3)+2],F="right";break}return{node:d,start:b,end:C,collapse:F,coverStart:H,coverEnd:Z}}function _c(r,s){var p=Dl;if(s=="left")for(var d=0;d<r.length&&(p=r[d]).left==p.right;d++);else for(var b=r.length-1;b>=0&&(p=r[b]).left==p.right;b--);return p}function Ar(r,s,p,d){var b=Sa(s.map,p,d),C=b.node,F=b.start,H=b.end,Z=b.collapse,K;if(C.nodeType==3){for(var be=0;be<4;be++){for(;F&&ct(s.line.text.charAt(b.coverStart+F));)--F;for(;b.coverStart+H<b.coverEnd&&ct(s.line.text.charAt(b.coverStart+H));)++H;if(v&&x<9&&F==0&&H==b.coverEnd-b.coverStart?K=C.parentNode.getBoundingClientRect():K=_c(ye(C,F,H).getClientRects(),d),K.left||K.right||F==0)break;H=F,F=F-1,Z="right"}v&&x<11&&(K=Dr(r.display.measure,K))}else{F>0&&(Z=d="right");var Ee;r.options.lineWrapping&&(Ee=C.getClientRects()).length>1?K=Ee[d=="right"?Ee.length-1:0]:K=C.getBoundingClientRect()}if(v&&x<9&&!F&&(!K||!K.left&&!K.right)){var Ie=C.parentNode.getClientRects()[0];Ie?K={left:Ie.left,right:Ie.left+_o(r.display),top:Ie.top,bottom:Ie.bottom}:K=Dl}for(var Fe=K.top-s.rect.top,Ge=K.bottom-s.rect.top,rt=(Fe+Ge)/2,dt=s.view.measure.heights,bt=0;bt<dt.length-1&&!(rt<dt[bt]);bt++);var _t=bt?dt[bt-1]:0,vt=dt[bt],Tt={left:(Z=="right"?K.right:K.left)-s.rect.left,right:(Z=="left"?K.left:K.right)-s.rect.left,top:_t,bottom:vt};return!K.left&&!K.right&&(Tt.bogus=!0),r.options.singleCursorHeightPerLine||(Tt.rtop=Fe,Tt.rbottom=Ge),Tt}function Dr(r,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ji(r))return s;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*p,right:s.right*p,top:s.top*d,bottom:s.bottom*d}}function nu(r){if(r.measure&&(r.measure.cache={},r.measure.heights=null,r.rest))for(var s=0;s<r.rest.length;s++)r.measure.caches[s]={}}function ru(r){r.display.externalMeasure=null,ve(r.display.lineMeasure);for(var s=0;s<r.display.view.length;s++)nu(r.display.view[s])}function na(r){ru(r),r.display.cachedCharWidth=r.display.cachedTextHeight=r.display.cachedPaddingH=null,r.options.lineWrapping||(r.display.maxLineChanged=!0),r.display.lineNumChars=null}function ou(r){return A&&P?-(r.body.getBoundingClientRect().left-parseInt(getComputedStyle(r.body).marginLeft)):r.defaultView.pageXOffset||(r.documentElement||r.body).scrollLeft}function As(r){return A&&P?-(r.body.getBoundingClientRect().top-parseInt(getComputedStyle(r.body).marginTop)):r.defaultView.pageYOffset||(r.documentElement||r.body).scrollTop}function ra(r){var s=Ni(r),p=s.widgets,d=0;if(p)for(var b=0;b<p.length;++b)p[b].above&&(d+=Oo(p[b]));return d}function Zr(r,s,p,d,b){if(!b){var C=ra(s);p.top+=C,p.bottom+=C}if(d=="line")return p;d||(d="local");var F=oo(s);if(d=="local"?F+=Ts(r.display):F-=r.display.viewOffset,d=="page"||d=="window"){var H=r.display.lineSpace.getBoundingClientRect();F+=H.top+(d=="window"?0:As(Y(r)));var Z=H.left+(d=="window"?0:ou(Y(r)));p.left+=Z,p.right+=Z}return p.top+=F,p.bottom+=F,p}function Ne(r,s,p){if(p=="div")return s;var d=s.left,b=s.top;if(p=="page")d-=ou(Y(r)),b-=As(Y(r));else if(p=="local"||!p){var C=r.display.sizer.getBoundingClientRect();d+=C.left,b+=C.top}var F=r.display.lineSpace.getBoundingClientRect();return{left:d-F.left,top:b-F.top}}function it(r,s,p,d,b){return d||(d=Lt(r.doc,s.line)),Zr(r,d,iu(r,d,s.ch,b),p)}function Ye(r,s,p,d,b,C){d=d||Lt(r.doc,s.line),b||(b=jr(r,d));function F(Ge,rt){var dt=pn(r,b,Ge,rt?"right":"left",C);return rt?dt.left=dt.right:dt.right=dt.left,Zr(r,d,dt,p)}var H=Yt(d,r.doc.direction),Z=s.ch,K=s.sticky;if(Z>=d.text.length?(Z=d.text.length,K="before"):Z<=0&&(Z=0,K="after"),!H)return F(K=="before"?Z-1:Z,K=="before");function be(Ge,rt,dt){var bt=H[rt],_t=bt.level==1;return F(dt?Ge-1:Ge,_t!=dt)}var Ee=xt(H,Z,K),Ie=Vt,Fe=be(Z,Ee,K=="before");return Ie!=null&&(Fe.other=be(Z,Ie,K!="before")),Fe}function At(r,s){var p=0;s=qt(r.doc,s),r.options.lineWrapping||(p=_o(r.display)*s.ch);var d=Lt(r.doc,s.line),b=oo(d)+Ts(r.display);return{left:p,right:p,top:b,bottom:b+d.height}}function Jt(r,s,p,d,b){var C=Ue(r,s,p);return C.xRel=b,d&&(C.outside=d),C}function Si(r,s,p){var d=r.doc;if(p+=r.display.viewOffset,p<0)return Jt(d.first,0,null,-1,-1);var b=xe(d,p),C=d.first+d.size-1;if(b>C)return Jt(d.first+d.size-1,Lt(d,C).text.length,null,1,1);s<0&&(s=0);for(var F=Lt(d,b);;){var H=bo(r,F,b,s,p),Z=ja(F,H.ch+(H.xRel>0||H.outside>0?1:0));if(!Z)return H;var K=Z.find(1);if(K.line==b)return K;F=Lt(d,b=K.line)}}function xn(r,s,p,d){d-=ra(s);var b=s.text.length,C=$t(function(F){return pn(r,p,F-1).bottom<=d},b,0);return b=$t(function(F){return pn(r,p,F).top>d},C,b),{begin:C,end:b}}function ji(r,s,p,d){p||(p=jr(r,s));var b=Zr(r,s,pn(r,p,d),"line").top;return xn(r,s,p,b)}function Ds(r,s,p,d){return r.bottom<=p?!1:r.top>p?!0:(d?r.left:r.right)>s}function bo(r,s,p,d,b){b-=oo(s);var C=jr(r,s),F=ra(s),H=0,Z=s.text.length,K=!0,be=Yt(s,r.doc.direction);if(be){var Ee=(r.options.lineWrapping?au:wr)(r,s,p,C,be,d,b);K=Ee.level!=1,H=K?Ee.from:Ee.to-1,Z=K?Ee.to:Ee.from-1}var Ie=null,Fe=null,Ge=$t(function(Bt){var It=pn(r,C,Bt);return It.top+=F,It.bottom+=F,Ds(It,d,b,!1)?(It.top<=b&&It.left<=d&&(Ie=Bt,Fe=It),!0):!1},H,Z),rt,dt,bt=!1;if(Fe){var _t=d-Fe.left<Fe.right-d,vt=_t==K;Ge=Ie+(vt?0:1),dt=vt?"after":"before",rt=_t?Fe.left:Fe.right}else{!K&&(Ge==Z||Ge==H)&&Ge++,dt=Ge==0?"after":Ge==s.text.length?"before":pn(r,C,Ge-(K?1:0)).bottom+F<=b==K?"after":"before";var Tt=Ye(r,Ue(p,Ge,dt),"line",s,C);rt=Tt.left,bt=b<Tt.top?-1:b>=Tt.bottom?1:0}return Ge=Wt(s.text,Ge,1),Jt(p,Ge,dt,bt,d-rt)}function wr(r,s,p,d,b,C,F){var H=$t(function(Ee){var Ie=b[Ee],Fe=Ie.level!=1;return Ds(Ye(r,Ue(p,Fe?Ie.to:Ie.from,Fe?"before":"after"),"line",s,d),C,F,!0)},0,b.length-1),Z=b[H];if(H>0){var K=Z.level!=1,be=Ye(r,Ue(p,K?Z.from:Z.to,K?"after":"before"),"line",s,d);Ds(be,C,F,!0)&&be.top>F&&(Z=b[H-1])}return Z}function au(r,s,p,d,b,C,F){var H=xn(r,s,d,F),Z=H.begin,K=H.end;/\s/.test(s.text.charAt(K-1))&&K--;for(var be=null,Ee=null,Ie=0;Ie<b.length;Ie++){var Fe=b[Ie];if(!(Fe.from>=K||Fe.to<=Z)){var Ge=Fe.level!=1,rt=pn(r,d,Ge?Math.min(K,Fe.to)-1:Math.max(Z,Fe.from)).right,dt=rt<C?C-rt+1e9:rt-C;(!be||Ee>dt)&&(be=Fe,Ee=dt)}}return be||(be=b[b.length-1]),be.from<Z&&(be={from:Z,to:be.to,level:be.level}),be.to>K&&(be={from:be.from,to:K,level:be.level}),be}var yo;function ao(r){if(r.cachedTextHeight!=null)return r.cachedTextHeight;if(yo==null){yo=D("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)yo.appendChild(document.createTextNode("x")),yo.appendChild(D("br"));yo.appendChild(document.createTextNode("x"))}ne(r.measure,yo);var p=yo.offsetHeight/50;return p>3&&(r.cachedTextHeight=p),ve(r.measure),p||1}function _o(r){if(r.cachedCharWidth!=null)return r.cachedCharWidth;var s=D("span","xxxxxxxxxx"),p=D("pre",[s],"CodeMirror-line-like");ne(r.measure,p);var d=s.getBoundingClientRect(),b=(d.right-d.left)/10;return b>2&&(r.cachedCharWidth=b),b||10}function Xa(r){for(var s=r.display,p={},d={},b=s.gutters.clientLeft,C=s.gutters.firstChild,F=0;C;C=C.nextSibling,++F){var H=r.display.gutterSpecs[F].className;p[H]=C.offsetLeft+C.clientLeft+b,d[H]=C.clientWidth}return{fixedPos:Ei(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:s.wrapper.clientWidth}}function Ei(r){return r.scroller.getBoundingClientRect().left-r.sizer.getBoundingClientRect().left}function Ll(r){var s=ao(r.display),p=r.options.lineWrapping,d=p&&Math.max(5,r.display.scroller.clientWidth/_o(r.display)-3);return function(b){if(dn(r.doc,b))return 0;var C=0;if(b.widgets)for(var F=0;F<b.widgets.length;F++)b.widgets[F].height&&(C+=b.widgets[F].height);return p?C+(Math.ceil(b.text.length/d)||1)*s:C+s}}function Ro(r){var s=r.doc,p=Ll(r);s.iter(function(d){var b=p(d);b!=d.height&&Bn(d,b)})}function so(r,s,p,d){var b=r.display;if(!p&&Wi(s).getAttribute("cm-not-content")=="true")return null;var C,F,H=b.lineSpace.getBoundingClientRect();try{C=s.clientX-H.left,F=s.clientY-H.top}catch{return null}var Z=Si(r,C,F),K;if(d&&Z.xRel>0&&(K=Lt(r.doc,Z.line).text).length==Z.ch){var be=je(K,K.length,r.options.tabSize)-K.length;Z=Ue(Z.line,Math.max(0,Math.round((C-Al(r.display).left)/_o(r.display))-be))}return Z}function oa(r,s){if(s>=r.display.viewTo||(s-=r.display.viewFrom,s<0))return null;for(var p=r.display.view,d=0;d<p.length;d++)if(s-=p[d].size,s<0)return d}function xr(r,s,p,d){s==null&&(s=r.doc.first),p==null&&(p=r.doc.first+r.doc.size),d||(d=0);var b=r.display;if(d&&p<b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>s)&&(b.updateLineNumbers=s),r.curOp.viewChanged=!0,s>=b.viewTo)Pi&&xs(r.doc,s)<b.viewTo&&Xr(r);else if(p<=b.viewFrom)Pi&&Gs(r.doc,p+d)>b.viewFrom?Xr(r):(b.viewFrom+=d,b.viewTo+=d);else if(s<=b.viewFrom&&p>=b.viewTo)Xr(r);else if(s<=b.viewFrom){var C=Vr(r,p,p+d,1);C?(b.view=b.view.slice(C.index),b.viewFrom=C.lineN,b.viewTo+=d):Xr(r)}else if(p>=b.viewTo){var F=Vr(r,s,s,-1);F?(b.view=b.view.slice(0,F.index),b.viewTo=F.lineN):Xr(r)}else{var H=Vr(r,s,s,-1),Z=Vr(r,p,p+d,1);H&&Z?(b.view=b.view.slice(0,H.index).concat(Jo(r,H.lineN,Z.lineN)).concat(b.view.slice(Z.index)),b.viewTo+=d):Xr(r)}var K=b.externalMeasured;K&&(p<K.lineN?K.lineN+=d:s<K.lineN+K.size&&(b.externalMeasured=null))}function cr(r,s,p){r.curOp.viewChanged=!0;var d=r.display,b=r.display.externalMeasured;if(b&&s>=b.lineN&&s<b.lineN+b.size&&(d.externalMeasured=null),!(s<d.viewFrom||s>=d.viewTo)){var C=d.view[oa(r,s)];if(C.node!=null){var F=C.changes||(C.changes=[]);Xe(F,p)==-1&&F.push(p)}}}function Xr(r){r.display.viewFrom=r.display.viewTo=r.doc.first,r.display.view=[],r.display.viewOffset=0}function Vr(r,s,p,d){var b=oa(r,s),C,F=r.display.view;if(!Pi||p==r.doc.first+r.doc.size)return{index:b,lineN:p};for(var H=r.display.viewFrom,Z=0;Z<b;Z++)H+=F[Z].size;if(H!=s){if(d>0){if(b==F.length-1)return null;C=H+F[b].size-s,b++}else C=H-s;s+=C,p+=C}for(;xs(r.doc,p)!=p;){if(b==(d<0?0:F.length-1))return null;p+=d*F[b-(d<0?1:0)].size,b+=d}return{index:b,lineN:p}}function aa(r,s,p){var d=r.display,b=d.view;b.length==0||s>=d.viewTo||p<=d.viewFrom?(d.view=Jo(r,s,p),d.viewFrom=s):(d.viewFrom>s?d.view=Jo(r,s,d.viewFrom).concat(d.view):d.viewFrom<s&&(d.view=d.view.slice(oa(r,s))),d.viewFrom=s,d.viewTo<p?d.view=d.view.concat(Jo(r,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,oa(r,p)))),d.viewTo=p}function $u(r){for(var s=r.display.view,p=0,d=0;d<s.length;d++){var b=s[d];!b.hidden&&(!b.node||b.changes)&&++p}return p}function uo(r){r.display.input.showSelection(r.display.input.prepareSelection())}function Ta(r,s){s===void 0&&(s=!0);var p=r.doc,d={},b=d.cursors=document.createDocumentFragment(),C=d.selection=document.createDocumentFragment(),F=r.options.$customCursor;F&&(s=!0);for(var H=0;H<p.sel.ranges.length;H++)if(!(!s&&H==p.sel.primIndex)){var Z=p.sel.ranges[H];if(!(Z.from().line>=r.display.viewTo||Z.to().line<r.display.viewFrom)){var K=Z.empty();if(F){var be=F(r,Z);be&&Ls(r,be,b)}else(K||r.options.showCursorWhenSelecting)&&Ls(r,Z.head,b);K||Ml(r,Z,C)}}return d}function Ls(r,s,p){var d=Ye(r,s,"div",null,null,!r.options.singleCursorHeightPerLine),b=p.appendChild(D("div","","CodeMirror-cursor"));if(b.style.left=d.left+"px",b.style.top=d.top+"px",b.style.height=Math.max(0,d.bottom-d.top)*r.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(r.getWrapperElement().className)){var C=it(r,s,"div",null,null),F=C.right-C.left;b.style.width=(F>0?F:r.defaultCharWidth())+"px"}if(d.other){var H=p.appendChild(D("div","","CodeMirror-cursor CodeMirror-secondarycursor"));H.style.display="",H.style.left=d.other.left+"px",H.style.top=d.other.top+"px",H.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function sa(r,s){return r.top-s.top||r.left-s.left}function Ml(r,s,p){var d=r.display,b=r.doc,C=document.createDocumentFragment(),F=Al(r.display),H=F.left,Z=Math.max(d.sizerWidth,ia(r)-d.sizer.offsetLeft)-F.right,K=b.direction=="ltr";function be(vt,Tt,Bt,It){Tt<0&&(Tt=0),Tt=Math.round(Tt),It=Math.round(It),C.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+vt+`px;
                             top: `+Tt+"px; width: "+(Bt??Z-vt)+`px;
                             height: `+(It-Tt)+"px"))}function Ee(vt,Tt,Bt){var It=Lt(b,vt),ci=It.text.length,$i,En;function sn(On,Mr){return it(r,Ue(vt,On),"div",It,Mr)}function vn(On,Mr,dr){var qn=ji(r,It,null,On),Fn=Mr=="ltr"==(dr=="after")?"left":"right",bn=dr=="after"?qn.begin:qn.end-(/\s/.test(It.text.charAt(qn.end-1))?2:1);return sn(bn,Fn)[Fn]}var Pn=Yt(It,b.direction);return Qt(Pn,Tt||0,Bt??ci,function(On,Mr,dr,qn){var Fn=dr=="ltr",bn=sn(On,Fn?"left":"right"),Ur=sn(Mr-1,Fn?"right":"left"),Tu=Tt==null&&On==0,us=Bt==null&&Mr==ci,kr=qn==0,ma=!Pn||qn==Pn.length-1;if(Ur.top-bn.top<=3){var ir=(K?Tu:us)&&kr,Gc=(K?us:Tu)&&ma,ga=ir?H:(Fn?bn:Ur).left,ls=Gc?Z:(Fn?Ur:bn).right;be(ga,bn.top,ls-ga,bn.bottom)}else{var cs,Pr,Au,Zc;Fn?(cs=K&&Tu&&kr?H:bn.left,Pr=K?Z:vn(On,dr,"before"),Au=K?H:vn(Mr,dr,"after"),Zc=K&&us&&ma?Z:Ur.right):(cs=K?vn(On,dr,"before"):H,Pr=!K&&Tu&&kr?Z:bn.right,Au=!K&&us&&ma?H:Ur.left,Zc=K?vn(Mr,dr,"after"):Z),be(cs,bn.top,Pr-cs,bn.bottom),bn.bottom<Ur.top&&be(H,bn.bottom,null,Ur.top),be(Au,Ur.top,Zc-Au,Ur.bottom)}(!$i||sa(bn,$i)<0)&&($i=bn),sa(Ur,$i)<0&&($i=Ur),(!En||sa(bn,En)<0)&&(En=bn),sa(Ur,En)<0&&(En=Ur)}),{start:$i,end:En}}var Ie=s.from(),Fe=s.to();if(Ie.line==Fe.line)Ee(Ie.line,Ie.ch,Fe.ch);else{var Ge=Lt(b,Ie.line),rt=Lt(b,Fe.line),dt=Ni(Ge)==Ni(rt),bt=Ee(Ie.line,Ie.ch,dt?Ge.text.length+1:null).end,_t=Ee(Fe.line,dt?0:null,Fe.ch).start;dt&&(bt.top<_t.top-2?(be(bt.right,bt.top,null,bt.bottom),be(H,_t.top,_t.left,_t.bottom)):be(bt.right,bt.top,_t.left-bt.right,bt.bottom)),bt.bottom<_t.top&&be(H,bt.bottom,null,_t.top)}p.appendChild(C)}function ua(r){if(r.state.focused){var s=r.display;clearInterval(s.blinker);var p=!0;s.cursorDiv.style.visibility="",r.options.cursorBlinkRate>0?s.blinker=setInterval(function(){r.hasFocus()||Da(r),s.cursorDiv.style.visibility=(p=!p)?"":"hidden"},r.options.cursorBlinkRate):r.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function No(r){r.hasFocus()||(r.display.input.focus(),r.state.focused||su(r))}function Aa(r){r.state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,r.state.focused&&Da(r))},100)}function su(r,s){r.state.delayingBlurEvent&&!r.state.draggingText&&(r.state.delayingBlurEvent=!1),r.options.readOnly!="nocursor"&&(r.state.focused||(Ri(r,"focus",r,s),r.state.focused=!0,ze(r.display.wrapper,"CodeMirror-focused"),!r.curOp&&r.display.selForContextMenu!=r.doc.sel&&(r.display.input.reset(),w&&setTimeout(function(){return r.display.input.reset(!0)},20)),r.display.input.receivedFocus()),ua(r))}function Da(r,s){r.state.delayingBlurEvent||(r.state.focused&&(Ri(r,"blur",r,s),r.state.focused=!1,Te(r.display.wrapper,"CodeMirror-focused")),clearInterval(r.display.blinker),setTimeout(function(){r.state.focused||(r.display.shift=!1)},150))}function uu(r){for(var s=r.display,p=s.lineDiv.offsetTop,d=Math.max(0,s.scroller.getBoundingClientRect().top),b=s.lineDiv.getBoundingClientRect().top,C=0,F=0;F<s.view.length;F++){var H=s.view[F],Z=r.options.lineWrapping,K=void 0,be=0;if(!H.hidden){if(b+=H.line.height,v&&x<8){var Ee=H.node.offsetTop+H.node.offsetHeight;K=Ee-p,p=Ee}else{var Ie=H.node.getBoundingClientRect();K=Ie.bottom-Ie.top,!Z&&H.text.firstChild&&(be=H.text.firstChild.getBoundingClientRect().right-Ie.left-1)}var Fe=H.line.height-K;if((Fe>.005||Fe<-.005)&&(b<d&&(C-=Fe),Bn(H.line,K),Va(H.line),H.rest))for(var Ge=0;Ge<H.rest.length;Ge++)Va(H.rest[Ge]);if(be>r.display.sizerWidth){var rt=Math.ceil(be/_o(r.display));rt>r.display.maxLineLength&&(r.display.maxLineLength=rt,r.display.maxLine=H.line,r.display.maxLineChanged=!0)}}}Math.abs(C)>2&&(s.scroller.scrollTop+=C)}function Va(r){if(r.widgets)for(var s=0;s<r.widgets.length;++s){var p=r.widgets[s],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function la(r,s,p){var d=p&&p.top!=null?Math.max(0,p.top):r.scroller.scrollTop;d=Math.floor(d-Ts(r));var b=p&&p.bottom!=null?p.bottom:d+r.wrapper.clientHeight,C=xe(s,d),F=xe(s,b);if(p&&p.ensure){var H=p.ensure.from.line,Z=p.ensure.to.line;H<C?(C=H,F=xe(s,oo(Lt(s,H))+r.wrapper.clientHeight)):Math.min(Z,s.lastLine())>=F&&(C=xe(s,oo(Lt(s,Z))-r.wrapper.clientHeight),F=Z)}return{from:C,to:Math.max(F,C+1)}}function Gu(r,s){if(!pi(r,"scrollCursorIntoView")){var p=r.display,d=p.sizer.getBoundingClientRect(),b=null,C=p.wrapper.ownerDocument;if(s.top+d.top<0?b=!0:s.bottom+d.top>(C.defaultView.innerHeight||C.documentElement.clientHeight)&&(b=!1),b!=null&&!O){var F=D("div","",null,`position: absolute;
                         top: `+(s.top-p.viewOffset-Ts(r.display))+`px;
                         height: `+(s.bottom-s.top+Tr(r)+p.barHeight)+`px;
                         left: `+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");r.display.lineSpace.appendChild(F),F.scrollIntoView(b),r.display.lineSpace.removeChild(F)}}}function a(r,s,p,d){d==null&&(d=0);var b;!r.options.lineWrapping&&s==p&&(p=s.sticky=="before"?Ue(s.line,s.ch+1,"before"):s,s=s.ch?Ue(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var C=0;C<5;C++){var F=!1,H=Ye(r,s),Z=!p||p==s?H:Ye(r,p);b={left:Math.min(H.left,Z.left),top:Math.min(H.top,Z.top)-d,right:Math.max(H.left,Z.left),bottom:Math.max(H.bottom,Z.bottom)+d};var K=_(r,b),be=r.doc.scrollTop,Ee=r.doc.scrollLeft;if(K.scrollTop!=null&&(lt(r,K.scrollTop),Math.abs(r.doc.scrollTop-be)>1&&(F=!0)),K.scrollLeft!=null&&(zt(r,K.scrollLeft),Math.abs(r.doc.scrollLeft-Ee)>1&&(F=!0)),!F)break}return b}function m(r,s){var p=_(r,s);p.scrollTop!=null&&lt(r,p.scrollTop),p.scrollLeft!=null&&zt(r,p.scrollLeft)}function _(r,s){var p=r.display,d=ao(r.display);s.top<0&&(s.top=0);var b=r.curOp&&r.curOp.scrollTop!=null?r.curOp.scrollTop:p.scroller.scrollTop,C=$a(r),F={};s.bottom-s.top>C&&(s.bottom=s.top+C);var H=r.doc.height+ta(p),Z=s.top<d,K=s.bottom>H-d;if(s.top<b)F.scrollTop=Z?0:s.top;else if(s.bottom>b+C){var be=Math.min(s.top,(K?H:s.bottom)-C);be!=b&&(F.scrollTop=be)}var Ee=r.options.fixedGutter?0:p.gutters.offsetWidth,Ie=r.curOp&&r.curOp.scrollLeft!=null?r.curOp.scrollLeft:p.scroller.scrollLeft-Ee,Fe=ia(r)-p.gutters.offsetWidth,Ge=s.right-s.left>Fe;return Ge&&(s.right=s.left+Fe),s.left<10?F.scrollLeft=0:s.left<Ie?F.scrollLeft=Math.max(0,s.left+Ee-(Ge?0:10)):s.right>Fe+Ie-3&&(F.scrollLeft=s.right+(Ge?0:10)-Fe),F}function M(r,s){s!=null&&(qe(r),r.curOp.scrollTop=(r.curOp.scrollTop==null?r.doc.scrollTop:r.curOp.scrollTop)+s)}function U(r){qe(r);var s=r.getCursor();r.curOp.scrollToPos={from:s,to:s,margin:r.options.cursorScrollMargin}}function oe(r,s,p){(s!=null||p!=null)&&qe(r),s!=null&&(r.curOp.scrollLeft=s),p!=null&&(r.curOp.scrollTop=p)}function De(r,s){qe(r),r.curOp.scrollToPos=s}function qe(r){var s=r.curOp.scrollToPos;if(s){r.curOp.scrollToPos=null;var p=At(r,s.from),d=At(r,s.to);$e(r,p,d,s.margin)}}function $e(r,s,p,d){var b=_(r,{left:Math.min(s.left,p.left),top:Math.min(s.top,p.top)-d,right:Math.max(s.right,p.right),bottom:Math.max(s.bottom,p.bottom)+d});oe(r,b.scrollLeft,b.scrollTop)}function lt(r,s){Math.abs(r.doc.scrollTop-s)<2||(l||Io(r,{top:s}),Et(r,s,!0),l&&Io(r),Zu(r,100))}function Et(r,s,p){s=Math.max(0,Math.min(r.display.scroller.scrollHeight-r.display.scroller.clientHeight,s)),!(r.display.scroller.scrollTop==s&&!p)&&(r.doc.scrollTop=s,r.display.scrollbars.setScrollTop(s),r.display.scroller.scrollTop!=s&&(r.display.scroller.scrollTop=s))}function zt(r,s,p,d){s=Math.max(0,Math.min(s,r.display.scroller.scrollWidth-r.display.scroller.clientWidth)),!((p?s==r.doc.scrollLeft:Math.abs(r.doc.scrollLeft-s)<2)&&!d)&&(r.doc.scrollLeft=s,Mf(r),r.display.scroller.scrollLeft!=s&&(r.display.scroller.scrollLeft=s),r.display.scrollbars.setScrollLeft(s))}function ai(r){var s=r.display,p=s.gutters.offsetWidth,d=Math.round(r.doc.height+ta(r.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:r.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Tr(r)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:p}}var Xi=function(r,s,p){this.cm=p;var d=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=b.tabIndex=-1,r(d),r(b),Rt(d,"scroll",function(){d.clientHeight&&s(d.scrollTop,"vertical")}),Rt(b,"scroll",function(){b.clientWidth&&s(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,v&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xi.prototype.update=function(r){var s=r.scrollWidth>r.clientWidth+1,p=r.scrollHeight>r.clientHeight+1,d=r.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=s?d+"px":"0";var b=r.viewHeight-(s?d:0);this.vert.firstChild.style.height=Math.max(0,r.scrollHeight-r.clientHeight+b)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=r.barLeft+"px";var C=r.viewWidth-r.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,r.scrollWidth-r.clientWidth+C)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&r.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:s?d:0}},Xi.prototype.setScrollLeft=function(r){this.horiz.scrollLeft!=r&&(this.horiz.scrollLeft=r),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xi.prototype.setScrollTop=function(r){this.vert.scrollTop!=r&&(this.vert.scrollTop=r),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xi.prototype.zeroWidthHack=function(){var r=z&&!q?"12px":"18px";this.horiz.style.height=this.vert.style.width=r,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ze,this.disableVert=new Ze},Xi.prototype.enableZeroWidthBar=function(r,s,p){r.style.visibility="";function d(){var b=r.getBoundingClientRect(),C=p=="vert"?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1);C!=r?r.style.visibility="hidden":s.set(1e3,d)}s.set(1e3,d)},Xi.prototype.clear=function(){var r=this.horiz.parentNode;r.removeChild(this.horiz),r.removeChild(this.vert)};var Vi=function(){};Vi.prototype.update=function(){return{bottom:0,right:0}},Vi.prototype.setScrollLeft=function(){},Vi.prototype.setScrollTop=function(){},Vi.prototype.clear=function(){};function mn(r,s){s||(s=ai(r));var p=r.display.barWidth,d=r.display.barHeight;Wn(r,s);for(var b=0;b<4&&p!=r.display.barWidth||d!=r.display.barHeight;b++)p!=r.display.barWidth&&r.options.lineWrapping&&uu(r),Wn(r,ai(r)),p=r.display.barWidth,d=r.display.barHeight}function Wn(r,s){var p=r.display,d=p.scrollbars.update(s);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&r.options.coverGutterNextToScrollbar&&r.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=s.gutterWidth+"px"):p.gutterFiller.style.display=""}var Kr={native:Xi,null:Vi};function Pl(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&Te(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new Kr[r.options.scrollbarStyle](function(s){r.display.wrapper.insertBefore(s,r.display.scrollbarFiller),Rt(s,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,p){p=="horizontal"?zt(r,s):lt(r,s)},r),r.display.scrollbars.addClass&&ze(r.display.wrapper,r.display.scrollbars.addClass)}var wc=0;function La(r){r.curOp={cm:r,viewChanged:!1,startHeight:r.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wc,markArrays:null},Cl(r.curOp)}function ca(r){var s=r.curOp;s&&Es(s,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;xc(p)})}function xc(r){for(var s=r.ops,p=0;p<s.length;p++)Ms(s[p]);for(var d=0;d<s.length;d++)rn(s[d]);for(var b=0;b<s.length;b++)Ps(s[b]);for(var C=0;C<s.length;C++)fe(s[C]);for(var F=0;F<s.length;F++)Ka(s[F])}function Ms(r){var s=r.cm,p=s.display;dd(s),r.updateMaxLine&&Xs(s),r.mustUpdate=r.viewChanged||r.forceUpdate||r.scrollTop!=null||r.scrollToPos&&(r.scrollToPos.from.line<p.viewFrom||r.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&s.options.lineWrapping,r.update=r.mustUpdate&&new fa(s,r.mustUpdate&&{top:r.scrollTop,ensure:r.scrollToPos},r.forceUpdate)}function rn(r){r.updatedDisplay=r.mustUpdate&&kc(r.cm,r.update)}function Ps(r){var s=r.cm,p=s.display;r.updatedDisplay&&uu(s),r.barMeasure=ai(s),p.maxLineChanged&&!s.options.lineWrapping&&(r.adjustWidthTo=iu(s,p.maxLine,p.maxLine.text.length).left+3,s.display.sizerWidth=r.adjustWidthTo,r.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+r.adjustWidthTo+Tr(s)+s.display.barWidth),r.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+r.adjustWidthTo-ia(s))),(r.updatedDisplay||r.selectionChanged)&&(r.preparedSelection=p.input.prepareSelection())}function fe(r){var s=r.cm;r.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=r.adjustWidthTo+"px",r.maxScrollLeft<s.doc.scrollLeft&&zt(s,Math.min(s.display.scroller.scrollLeft,r.maxScrollLeft),!0),s.display.maxLineChanged=!1);var p=r.focus&&r.focus==et(Le(s));r.preparedSelection&&s.display.input.showSelection(r.preparedSelection,p),(r.updatedDisplay||r.startHeight!=s.doc.height)&&mn(s,r.barMeasure),r.updatedDisplay&&Cc(s,r.barMeasure),r.selectionChanged&&ua(s),s.state.focused&&r.updateInput&&s.display.input.reset(r.typing),p&&No(r.cm)}function Ka(r){var s=r.cm,p=s.display,d=s.doc;if(r.updatedDisplay&&Lf(s,r.update),p.wheelStartX!=null&&(r.scrollTop!=null||r.scrollLeft!=null||r.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),r.scrollTop!=null&&Et(s,r.scrollTop,r.forceScroll),r.scrollLeft!=null&&zt(s,r.scrollLeft,!0,!0),r.scrollToPos){var b=a(s,qt(d,r.scrollToPos.from),qt(d,r.scrollToPos.to),r.scrollToPos.margin);Gu(s,b)}var C=r.maybeHiddenMarkers,F=r.maybeUnhiddenMarkers;if(C)for(var H=0;H<C.length;++H)C[H].lines.length||Ri(C[H],"hide");if(F)for(var Z=0;Z<F.length;++Z)F[Z].lines.length&&Ri(F[Z],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=s.display.scroller.scrollTop),r.changeObjs&&Ri(s,"changes",s,r.changeObjs),r.update&&r.update.finish()}function Qn(r,s){if(r.curOp)return s();La(r);try{return s()}finally{ca(r)}}function Di(r,s){return function(){if(r.curOp)return s.apply(r,arguments);La(r);try{return s.apply(r,arguments)}finally{ca(r)}}}function Gt(r){return function(){if(this.curOp)return r.apply(this,arguments);La(this);try{return r.apply(this,arguments)}finally{ca(this)}}}function Mn(r){return function(){var s=this.cm;if(!s||s.curOp)return r.apply(this,arguments);La(s);try{return r.apply(this,arguments)}finally{ca(s)}}}function Zu(r,s){r.doc.highlightFrontier<r.display.viewTo&&r.state.highlight.set(s,we(hd,r))}function hd(r){var s=r.doc;if(!(s.highlightFrontier>=r.display.viewTo)){var p=+new Date+r.options.workTime,d=_e(r,s.highlightFrontier),b=[];s.iter(d.line,Math.min(s.first+s.size,r.display.viewTo+500),function(C){if(d.line>=r.display.viewFrom){var F=C.styles,H=C.text.length>r.options.maxHighlightLength?_n(s.mode,d.state):null,Z=re(r,C,d,!0);H&&(d.state=H),C.styles=Z.styles;var K=C.styleClasses,be=Z.classes;be?C.styleClasses=be:K&&(C.styleClasses=null);for(var Ee=!F||F.length!=C.styles.length||K!=be&&(!K||!be||K.bgClass!=be.bgClass||K.textClass!=be.textClass),Ie=0;!Ee&&Ie<F.length;++Ie)Ee=F[Ie]!=C.styles[Ie];Ee&&b.push(d.line),C.stateAfter=d.save(),d.nextLine()}else C.text.length<=r.options.maxHighlightLength&&Oe(r,C.text,d),C.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Zu(r,r.options.workDelay),!0}),s.highlightFrontier=d.line,s.modeFrontier=Math.max(s.modeFrontier,d.line),b.length&&Qn(r,function(){for(var C=0;C<b.length;C++)cr(r,b[C],"text")})}}var fa=function(r,s,p){var d=r.display;this.viewport=s,this.visible=la(d,r.doc,s),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=ia(r),this.force=p,this.dims=Xa(r),this.events=[]};fa.prototype.signal=function(r,s){ui(r,s)&&this.events.push(arguments)},fa.prototype.finish=function(){for(var r=0;r<this.events.length;r++)Ri.apply(null,this.events[r])};function dd(r){var s=r.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Tr(r)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Tr(r)+"px",s.scrollbarsClipped=!0)}function pd(r){if(r.hasFocus())return null;var s=et(Le(r));if(!s||!Ce(r.display.lineDiv,s))return null;var p={activeElt:s};if(window.getSelection){var d=V(r).getSelection();d.anchorNode&&d.extend&&Ce(r.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function md(r){if(!(!r||!r.activeElt||r.activeElt==et(Re(r.activeElt)))&&(r.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(r.activeElt.nodeName)&&r.anchorNode&&Ce(document.body,r.anchorNode)&&Ce(document.body,r.focusNode))){var s=r.activeElt.ownerDocument,p=s.defaultView.getSelection(),d=s.createRange();d.setEnd(r.anchorNode,r.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(r.focusNode,r.focusOffset)}}function kc(r,s){var p=r.display,d=r.doc;if(s.editorIsHidden)return Xr(r),!1;if(!s.force&&s.visible.from>=p.viewFrom&&s.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&$u(r)==0)return!1;Pf(r)&&(Xr(r),s.dims=Xa(r));var b=d.first+d.size,C=Math.max(s.visible.from-r.options.viewportMargin,d.first),F=Math.min(b,s.visible.to+r.options.viewportMargin);p.viewFrom<C&&C-p.viewFrom<20&&(C=Math.max(d.first,p.viewFrom)),p.viewTo>F&&p.viewTo-F<20&&(F=Math.min(b,p.viewTo)),Pi&&(C=xs(r.doc,C),F=Gs(r.doc,F));var H=C!=p.viewFrom||F!=p.viewTo||p.lastWrapHeight!=s.wrapperHeight||p.lastWrapWidth!=s.wrapperWidth;aa(r,C,F),p.viewOffset=oo(Lt(r.doc,p.viewFrom)),r.display.mover.style.top=p.viewOffset+"px";var Z=$u(r);if(!H&&Z==0&&!s.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var K=pd(r);return Z>4&&(p.lineDiv.style.display="none"),gd(r,p.updateLineNumbers,s.dims),Z>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,md(K),ve(p.cursorDiv),ve(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,H&&(p.lastWrapHeight=s.wrapperHeight,p.lastWrapWidth=s.wrapperWidth,Zu(r,400)),p.updateLineNumbers=null,!0}function Lf(r,s){for(var p=s.viewport,d=!0;;d=!1){if(!d||!r.options.lineWrapping||s.oldDisplayWidth==ia(r)){if(p&&p.top!=null&&(p={top:Math.min(r.doc.height+ta(r.display)-$a(r),p.top)}),s.visible=la(r.display,r.doc,p),s.visible.from>=r.display.viewFrom&&s.visible.to<=r.display.viewTo)break}else d&&(s.visible=la(r.display,r.doc,p));if(!kc(r,s))break;uu(r);var b=ai(r);uo(r),mn(r,b),Cc(r,b),s.force=!1}s.signal(r,"update",r),(r.display.viewFrom!=r.display.reportedViewFrom||r.display.viewTo!=r.display.reportedViewTo)&&(s.signal(r,"viewportChange",r,r.display.viewFrom,r.display.viewTo),r.display.reportedViewFrom=r.display.viewFrom,r.display.reportedViewTo=r.display.viewTo)}function Io(r,s){var p=new fa(r,s);if(kc(r,p)){uu(r),Lf(r,p);var d=ai(r);uo(r),mn(r,d),Cc(r,d),p.finish()}}function gd(r,s,p){var d=r.display,b=r.options.lineNumbers,C=d.lineDiv,F=C.firstChild;function H(Ge){var rt=Ge.nextSibling;return w&&z&&r.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),rt}for(var Z=d.view,K=d.viewFrom,be=0;be<Z.length;be++){var Ee=Z[be];if(!Ee.hidden)if(!Ee.node||Ee.node.parentNode!=C){var Ie=Tl(r,Ee,K,p);C.insertBefore(Ie,F)}else{for(;F!=Ee.node;)F=H(F);var Fe=b&&s!=null&&s<=K&&Ee.lineNumber;Ee.changes&&(Xe(Ee.changes,"gutter")>-1&&(Fe=!1),Sr(r,Ee,K,p)),Fe&&(ve(Ee.lineNumber),Ee.lineNumber.appendChild(document.createTextNode(nt(r.options,K)))),F=Ee.node.nextSibling}K+=Ee.size}for(;F;)F=H(F)}function Ec(r){var s=r.gutters.offsetWidth;r.sizer.style.marginLeft=s+"px",tn(r,"gutterChanged",r)}function Cc(r,s){r.display.sizer.style.minHeight=s.docHeight+"px",r.display.heightForcer.style.top=s.docHeight+"px",r.display.gutters.style.height=s.docHeight+r.display.barHeight+Tr(r)+"px"}function Mf(r){var s=r.display,p=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!r.options.fixedGutter))){for(var d=Ei(s)-s.scroller.scrollLeft+r.doc.scrollLeft,b=s.gutters.offsetWidth,C=d+"px",F=0;F<p.length;F++)if(!p[F].hidden){r.options.fixedGutter&&(p[F].gutter&&(p[F].gutter.style.left=C),p[F].gutterBackground&&(p[F].gutterBackground.style.left=C));var H=p[F].alignable;if(H)for(var Z=0;Z<H.length;Z++)H[Z].style.left=C}r.options.fixedGutter&&(s.gutters.style.left=d+b+"px")}}function Pf(r){if(!r.options.lineNumbers)return!1;var s=r.doc,p=nt(r.options,s.first+s.size-1),d=r.display;if(p.length!=d.lineNumChars){var b=d.measure.appendChild(D("div",[D("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),C=b.firstChild.offsetWidth,F=b.offsetWidth-C;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(C,d.lineGutter.offsetWidth-F)+1,d.lineNumWidth=d.lineNumInnerWidth+F,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",Ec(r.display),!0}return!1}function zo(r,s){for(var p=[],d=!1,b=0;b<r.length;b++){var C=r[b],F=null;if(typeof C!="string"&&(F=C.style,C=C.className),C=="CodeMirror-linenumbers")if(s)d=!0;else continue;p.push({className:C,style:F})}return s&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Of(r){var s=r.gutters,p=r.gutterSpecs;ve(s),r.lineGutter=null;for(var d=0;d<p.length;++d){var b=p[d],C=b.className,F=b.style,H=s.appendChild(D("div",null,"CodeMirror-gutter "+C));F&&(H.style.cssText=F),C=="CodeMirror-linenumbers"&&(r.lineGutter=H,H.style.width=(r.lineNumWidth||1)+"px")}s.style.display=p.length?"":"none",Ec(r)}function Xu(r){Of(r.display),xr(r),Mf(r)}function vd(r,s,p,d){var b=this;this.input=p,b.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=se("div",null,"CodeMirror-code"),b.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=D("div",null,"CodeMirror-cursors"),b.measure=D("div",null,"CodeMirror-measure"),b.lineMeasure=D("div",null,"CodeMirror-measure"),b.lineSpace=se("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var C=se("div",[b.lineSpace],"CodeMirror-lines");b.mover=D("div",[C],null,"position: relative"),b.sizer=D("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=D("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),b.gutters=D("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=D("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=D("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),A&&B>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),v&&x<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!w&&!(l&&W)&&(b.scroller.draggable=!0),r&&(r.appendChild?r.appendChild(b.wrapper):r(b.wrapper)),b.viewFrom=b.viewTo=s.first,b.reportedViewFrom=b.reportedViewTo=s.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=zo(d.gutters,d.lineNumbers),Of(b),p.init(b)}var Ol=0,Ma=null;v?Ma=-.53:l?Ma=15:A?Ma=-.7:j&&(Ma=-1/3);function Qa(r){var s=r.wheelDeltaX,p=r.wheelDeltaY;return s==null&&r.detail&&r.axis==r.HORIZONTAL_AXIS&&(s=r.detail),p==null&&r.detail&&r.axis==r.VERTICAL_AXIS?p=r.detail:p==null&&(p=r.wheelDelta),{x:s,y:p}}function bd(r){var s=Qa(r);return s.x*=Ma,s.y*=Ma,s}function Ff(r,s){A&&B==102&&(r.display.chromeScrollHack==null?r.display.sizer.style.pointerEvents="none":clearTimeout(r.display.chromeScrollHack),r.display.chromeScrollHack=setTimeout(function(){r.display.chromeScrollHack=null,r.display.sizer.style.pointerEvents=""},100));var p=Qa(s),d=p.x,b=p.y,C=Ma;s.deltaMode===0&&(d=s.deltaX,b=s.deltaY,C=1);var F=r.display,H=F.scroller,Z=H.scrollWidth>H.clientWidth,K=H.scrollHeight>H.clientHeight;if(d&&Z||b&&K){if(b&&z&&w){e:for(var be=s.target,Ee=F.view;be!=H;be=be.parentNode)for(var Ie=0;Ie<Ee.length;Ie++)if(Ee[Ie].node==be){r.display.currentWheelTarget=be;break e}}if(d&&!l&&!N&&C!=null){b&&K&&lt(r,Math.max(0,H.scrollTop+b*C)),zt(r,Math.max(0,H.scrollLeft+d*C)),(!b||b&&K)&&Bi(s),F.wheelStartX=null;return}if(b&&C!=null){var Fe=b*C,Ge=r.doc.scrollTop,rt=Ge+F.wrapper.clientHeight;Fe<0?Ge=Math.max(0,Ge+Fe-50):rt=Math.min(r.doc.height,rt+Fe+50),Io(r,{top:Ge,bottom:rt})}Ol<20&&s.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=H.scrollLeft,F.wheelStartY=H.scrollTop,F.wheelDX=d,F.wheelDY=b,setTimeout(function(){if(F.wheelStartX!=null){var dt=H.scrollLeft-F.wheelStartX,bt=H.scrollTop-F.wheelStartY,_t=bt&&F.wheelDY&&bt/F.wheelDY||dt&&F.wheelDX&&dt/F.wheelDX;F.wheelStartX=F.wheelStartY=null,_t&&(Ma=(Ma*Ol+_t)/(Ol+1),++Ol)}},200)):(F.wheelDX+=d,F.wheelDY+=b))}}var gn=function(r,s){this.ranges=r,this.primIndex=s};gn.prototype.primary=function(){return this.ranges[this.primIndex]},gn.prototype.equals=function(r){if(r==this)return!0;if(r.primIndex!=this.primIndex||r.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var p=this.ranges[s],d=r.ranges[s];if(!ni(p.anchor,d.anchor)||!ni(p.head,d.head))return!1}return!0},gn.prototype.deepCopy=function(){for(var r=[],s=0;s<this.ranges.length;s++)r[s]=new Ii(Yi(this.ranges[s].anchor),Yi(this.ranges[s].head));return new gn(r,this.primIndex)},gn.prototype.somethingSelected=function(){for(var r=0;r<this.ranges.length;r++)if(!this.ranges[r].empty())return!0;return!1},gn.prototype.contains=function(r,s){s||(s=r);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(pt(s,d.from())>=0&&pt(r,d.to())<=0)return p}return-1};var Ii=function(r,s){this.anchor=r,this.head=s};Ii.prototype.from=function(){return li(this.anchor,this.head)},Ii.prototype.to=function(){return Nt(this.anchor,this.head)},Ii.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Bo(r,s,p){var d=r&&r.options.selectionsMayTouch,b=s[p];s.sort(function(Ie,Fe){return pt(Ie.from(),Fe.from())}),p=Xe(s,b);for(var C=1;C<s.length;C++){var F=s[C],H=s[C-1],Z=pt(H.to(),F.from());if(d&&!F.empty()?Z>0:Z>=0){var K=li(H.from(),F.from()),be=Nt(H.to(),F.to()),Ee=H.empty()?F.from()==F.head:H.from()==H.head;C<=p&&--p,s.splice(--C,2,new Ii(Ee?be:K,Ee?K:be))}}return new gn(s,p)}function Ja(r,s){return new gn([new Ii(r,s||r)],0)}function es(r){return r.text?Ue(r.from.line+r.text.length-1,X(r.text).length+(r.text.length==1?r.from.ch:0)):r.to}function Rf(r,s){if(pt(r,s.from)<0)return r;if(pt(r,s.to)<=0)return es(s);var p=r.line+s.text.length-(s.to.line-s.from.line)-1,d=r.ch;return r.line==s.to.line&&(d+=es(s).ch-s.to.ch),Ue(p,d)}function Fl(r,s){for(var p=[],d=0;d<r.sel.ranges.length;d++){var b=r.sel.ranges[d];p.push(new Ii(Rf(b.anchor,s),Rf(b.head,s)))}return Bo(r.cm,p,r.sel.primIndex)}function Sc(r,s,p){return r.line==s.line?Ue(p.line,r.ch-s.ch+p.ch):Ue(p.line+(r.line-s.line),r.ch)}function yd(r,s,p){for(var d=[],b=Ue(r.first,0),C=b,F=0;F<s.length;F++){var H=s[F],Z=Sc(H.from,b,C),K=Sc(es(H),b,C);if(b=H.to,C=K,p=="around"){var be=r.sel.ranges[F],Ee=pt(be.head,be.anchor)<0;d[F]=new Ii(Ee?K:Z,Ee?Z:K)}else d[F]=new Ii(Z,Z)}return new gn(d,r.sel.primIndex)}function Tc(r){r.doc.mode=Er(r.options,r.doc.modeOption),Os(r)}function Os(r){r.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),r.doc.modeFrontier=r.doc.highlightFrontier=r.doc.first,Zu(r,100),r.state.modeGen++,r.curOp&&xr(r)}function lu(r,s){return s.from.ch==0&&s.to.ch==0&&X(s.text)==""&&(!r.cm||r.cm.options.wholeLineUpdateBefore)}function cu(r,s,p,d){function b(_t){return p?p[_t]:null}function C(_t,vt,Tt){kl(_t,vt,Tt,d),tn(_t,"change",_t,s)}function F(_t,vt){for(var Tt=[],Bt=_t;Bt<vt;++Bt)Tt.push(new Lo(K[Bt],b(Bt),d));return Tt}var H=s.from,Z=s.to,K=s.text,be=Lt(r,H.line),Ee=Lt(r,Z.line),Ie=X(K),Fe=b(K.length-1),Ge=Z.line-H.line;if(s.full)r.insert(0,F(0,K.length)),r.remove(K.length,r.size-K.length);else if(lu(r,s)){var rt=F(0,K.length-1);C(Ee,Ee.text,Fe),Ge&&r.remove(H.line,Ge),rt.length&&r.insert(H.line,rt)}else if(be==Ee)if(K.length==1)C(be,be.text.slice(0,H.ch)+Ie+be.text.slice(Z.ch),Fe);else{var dt=F(1,K.length-1);dt.push(new Lo(Ie+be.text.slice(Z.ch),Fe,d)),C(be,be.text.slice(0,H.ch)+K[0],b(0)),r.insert(H.line+1,dt)}else if(K.length==1)C(be,be.text.slice(0,H.ch)+K[0]+Ee.text.slice(Z.ch),b(0)),r.remove(H.line+1,Ge);else{C(be,be.text.slice(0,H.ch)+K[0],b(0)),C(Ee,Ie+Ee.text.slice(Z.ch),Fe);var bt=F(1,K.length-1);Ge>1&&r.remove(H.line+1,Ge-1),r.insert(H.line+1,bt)}tn(r,"change",r,s)}function ts(r,s,p){function d(b,C,F){if(b.linked)for(var H=0;H<b.linked.length;++H){var Z=b.linked[H];if(Z.doc!=C){var K=F&&Z.sharedHist;p&&!K||(s(Z.doc,K),d(Z.doc,b,K))}}}d(r,null,!0)}function Ac(r,s){if(s.cm)throw new Error("This document is already in use.");r.doc=s,s.cm=r,Ro(r),Tc(r),Nf(r),r.options.direction=s.direction,r.options.lineWrapping||Xs(r),r.options.mode=s.modeOption,xr(r)}function Nf(r){(r.doc.direction=="rtl"?ze:Te)(r.display.lineDiv,"CodeMirror-rtl")}function Pa(r){Qn(r,function(){Nf(r),xr(r)})}function fu(r){this.done=[],this.undone=[],this.undoDepth=r?r.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=r?r.maxGeneration:1}function Oa(r,s){var p={from:Yi(s.from),to:es(s),text:Kn(r,s.from,s.to)};return Lc(r,p,s.from.line,s.to.line+1),ts(r,function(d){return Lc(d,p,s.from.line,s.to.line+1)},!0),p}function lo(r){for(;r.length;){var s=X(r);if(s.ranges)r.pop();else break}}function _d(r,s){if(s)return lo(r.done),X(r.done);if(r.done.length&&!X(r.done).ranges)return X(r.done);if(r.done.length>1&&!r.done[r.done.length-2].ranges)return r.done.pop(),X(r.done)}function Dc(r,s,p,d){var b=r.history;b.undone.length=0;var C=+new Date,F,H;if((b.lastOp==d||b.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&b.lastModTime>C-(r.cm?r.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(F=_d(b,b.lastOp==d)))H=X(F.changes),pt(s.from,s.to)==0&&pt(s.from,H.to)==0?H.to=es(s):F.changes.push(Oa(r,s));else{var Z=X(b.done);for((!Z||!Z.ranges)&&Ho(r.sel,b.done),F={changes:[Oa(r,s)],generation:b.generation},b.done.push(F);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(p),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=C,b.lastOp=b.lastSelOp=d,b.lastOrigin=b.lastSelOrigin=s.origin,H||Ri(r,"historyAdded")}function If(r,s,p,d){var b=s.charAt(0);return b=="*"||b=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)}function Vu(r,s,p,d){var b=r.history,C=d&&d.origin;p==b.lastSelOp||C&&b.lastSelOrigin==C&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==C||If(r,C,X(b.done),s))?b.done[b.done.length-1]=s:Ho(s,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=C,b.lastSelOp=p,d&&d.clearRedo!==!1&&lo(b.undone)}function Ho(r,s){var p=X(s);p&&p.ranges&&p.equals(r)||s.push(r)}function Lc(r,s,p,d){var b=s["spans_"+r.id],C=0;r.iter(Math.max(r.first,p),Math.min(r.first+r.size,d),function(F){F.markedSpans&&((b||(b=s["spans_"+r.id]={}))[C]=F.markedSpans),++C})}function wd(r){if(!r)return null;for(var s,p=0;p<r.length;++p)r[p].marker.explicitlyCleared?s||(s=r.slice(0,p)):s&&s.push(r[p]);return s?s.length?s:null:r}function Rl(r,s){var p=s["spans_"+r.id];if(!p)return null;for(var d=[],b=0;b<s.text.length;++b)d.push(wd(p[b]));return d}function zf(r,s){var p=Rl(r,s),d=Ln(r,s);if(!p)return d;if(!d)return p;for(var b=0;b<p.length;++b){var C=p[b],F=d[b];if(C&&F)e:for(var H=0;H<F.length;++H){for(var Z=F[H],K=0;K<C.length;++K)if(C[K].marker==Z.marker)continue e;C.push(Z)}else F&&(p[b]=F)}return p}function Fs(r,s,p){for(var d=[],b=0;b<r.length;++b){var C=r[b];if(C.ranges){d.push(p?gn.prototype.deepCopy.call(C):C);continue}var F=C.changes,H=[];d.push({changes:H});for(var Z=0;Z<F.length;++Z){var K=F[Z],be=void 0;if(H.push({from:K.from,to:K.to,text:K.text}),s)for(var Ee in K)(be=Ee.match(/^spans_(\d+)$/))&&Xe(s,Number(be[1]))>-1&&(X(H)[Ee]=K[Ee],delete K[Ee])}}return d}function Jn(r,s,p,d){if(d){var b=r.anchor;if(p){var C=pt(s,b)<0;C!=pt(p,b)<0?(b=s,s=p):C!=pt(s,p)<0&&(s=p)}return new Ii(b,s)}else return new Ii(p||s,s)}function hu(r,s,p,d,b){b==null&&(b=r.cm&&(r.cm.display.shift||r.extend)),fr(r,new gn([Jn(r.sel.primary(),s,p,b)],0),d)}function Mc(r,s,p){for(var d=[],b=r.cm&&(r.cm.display.shift||r.extend),C=0;C<r.sel.ranges.length;C++)d[C]=Jn(r.sel.ranges[C],s[C],null,b);var F=Bo(r.cm,d,r.sel.primIndex);fr(r,F,p)}function wo(r,s,p,d){var b=r.sel.ranges.slice(0);b[s]=p,fr(r,Bo(r.cm,b,r.sel.primIndex),d)}function Nl(r,s,p,d){fr(r,Ja(s,p),d)}function Il(r,s,p){var d={ranges:s.ranges,update:function(b){this.ranges=[];for(var C=0;C<b.length;C++)this.ranges[C]=new Ii(qt(r,b[C].anchor),qt(r,b[C].head))},origin:p&&p.origin};return Ri(r,"beforeSelectionChange",r,d),r.cm&&Ri(r.cm,"beforeSelectionChange",r.cm,d),d.ranges!=s.ranges?Bo(r.cm,d.ranges,d.ranges.length-1):s}function is(r,s,p){var d=r.history.done,b=X(d);b&&b.ranges?(d[d.length-1]=s,hr(r,s,p)):fr(r,s,p)}function fr(r,s,p){hr(r,s,p),Vu(r,r.sel,r.cm?r.cm.curOp.id:NaN,p)}function hr(r,s,p){(ui(r,"beforeSelectionChange")||r.cm&&ui(r.cm,"beforeSelectionChange"))&&(s=Il(r,s,p));var d=p&&p.bias||(pt(s.primary().head,r.sel.primary().head)<0?-1:1);zl(r,Hf(r,s,d,!0)),!(p&&p.scroll===!1)&&r.cm&&r.cm.getOption("readOnly")!="nocursor"&&U(r.cm)}function zl(r,s){s.equals(r.sel)||(r.sel=s,r.cm&&(r.cm.curOp.updateInput=1,r.cm.curOp.selectionChanged=!0,wi(r.cm)),tn(r,"cursorActivity",r))}function Bf(r){zl(r,Hf(r,r.sel,null,!1))}function Hf(r,s,p,d){for(var b,C=0;C<s.ranges.length;C++){var F=s.ranges[C],H=s.ranges.length==r.sel.ranges.length&&r.sel.ranges[C],Z=pu(r,F.anchor,H&&H.anchor,p,d),K=F.head==F.anchor?Z:pu(r,F.head,H&&H.head,p,d);(b||Z!=F.anchor||K!=F.head)&&(b||(b=s.ranges.slice(0,C)),b[C]=new Ii(Z,K))}return b?Bo(r.cm,b,s.primIndex):s}function du(r,s,p,d,b){var C=Lt(r,s.line);if(C.markedSpans)for(var F=0;F<C.markedSpans.length;++F){var H=C.markedSpans[F],Z=H.marker,K="selectLeft"in Z?!Z.selectLeft:Z.inclusiveLeft,be="selectRight"in Z?!Z.selectRight:Z.inclusiveRight;if((H.from==null||(K?H.from<=s.ch:H.from<s.ch))&&(H.to==null||(be?H.to>=s.ch:H.to>s.ch))){if(b&&(Ri(Z,"beforeCursorEnter"),Z.explicitlyCleared))if(C.markedSpans){--F;continue}else break;if(!Z.atomic)continue;if(p){var Ee=Z.find(d<0?1:-1),Ie=void 0;if((d<0?be:K)&&(Ee=Wf(r,Ee,-d,Ee&&Ee.line==s.line?C:null)),Ee&&Ee.line==s.line&&(Ie=pt(Ee,p))&&(d<0?Ie<0:Ie>0))return du(r,Ee,s,d,b)}var Fe=Z.find(d<0?-1:1);return(d<0?K:be)&&(Fe=Wf(r,Fe,d,Fe.line==s.line?C:null)),Fe?du(r,Fe,s,d,b):null}}return s}function pu(r,s,p,d,b){var C=d||1,F=du(r,s,p,C,b)||!b&&du(r,s,p,C,!0)||du(r,s,p,-C,b)||!b&&du(r,s,p,-C,!0);return F||(r.cantEdit=!0,Ue(r.first,0))}function Wf(r,s,p,d){return p<0&&s.ch==0?s.line>r.first?qt(r,Ue(s.line-1)):null:p>0&&s.ch==(d||Lt(r,s.line)).text.length?s.line<r.first+r.size-1?Ue(s.line+1,0):null:new Ue(s.line,s.ch+p)}function mu(r){r.setSelection(Ue(r.firstLine(),0),Ue(r.lastLine()),wt)}function Pc(r,s,p){var d={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(b,C,F,H){b&&(d.from=qt(r,b)),C&&(d.to=qt(r,C)),F&&(d.text=F),H!==void 0&&(d.origin=H)}),Ri(r,"beforeChange",r,d),r.cm&&Ri(r.cm,"beforeChange",r.cm,d),d.canceled?(r.cm&&(r.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function gu(r,s,p){if(r.cm){if(!r.cm.curOp)return Di(r.cm,gu)(r,s,p);if(r.cm.state.suppressEdits)return}if(!((ui(r,"beforeChange")||r.cm&&ui(r.cm,"beforeChange"))&&(s=Pc(r,s,!0),!s))){var d=Ci&&!p&&Br(r,s.from,s.to);if(d)for(var b=d.length-1;b>=0;--b)qf(r,{from:d[b].from,to:d[b].to,text:b?[""]:s.text,origin:s.origin});else qf(r,s)}}function qf(r,s){if(!(s.text.length==1&&s.text[0]==""&&pt(s.from,s.to)==0)){var p=Fl(r,s);Dc(r,s,p,r.cm?r.cm.curOp.id:NaN),Ku(r,s,p,Ln(r,s));var d=[];ts(r,function(b,C){!C&&Xe(d,b.history)==-1&&($f(b.history,s),d.push(b.history)),Ku(b,s,null,Ln(b,s))})}}function ns(r,s,p){var d=r.cm&&r.cm.state.suppressEdits;if(!(d&&!p)){for(var b=r.history,C,F=r.sel,H=s=="undo"?b.done:b.undone,Z=s=="undo"?b.undone:b.done,K=0;K<H.length&&(C=H[K],!(p?C.ranges&&!C.equals(r.sel):!C.ranges));K++);if(K!=H.length){for(b.lastOrigin=b.lastSelOrigin=null;;)if(C=H.pop(),C.ranges){if(Ho(C,Z),p&&!C.equals(r.sel)){fr(r,C,{clearRedo:!1});return}F=C}else if(d){H.push(C);return}else break;var be=[];Ho(F,Z),Z.push({changes:be,generation:b.generation}),b.generation=C.generation||++b.maxGeneration;for(var Ee=ui(r,"beforeChange")||r.cm&&ui(r.cm,"beforeChange"),Ie=function(rt){var dt=C.changes[rt];if(dt.origin=s,Ee&&!Pc(r,dt,!1))return H.length=0,{};be.push(Oa(r,dt));var bt=rt?Fl(r,dt):X(H);Ku(r,dt,bt,zf(r,dt)),!rt&&r.cm&&r.cm.scrollIntoView({from:dt.from,to:es(dt)});var _t=[];ts(r,function(vt,Tt){!Tt&&Xe(_t,vt.history)==-1&&($f(vt.history,dt),_t.push(vt.history)),Ku(vt,dt,null,zf(vt,dt))})},Fe=C.changes.length-1;Fe>=0;--Fe){var Ge=Ie(Fe);if(Ge)return Ge.v}}}}function jf(r,s){if(s!=0&&(r.first+=s,r.sel=new gn(le(r.sel.ranges,function(b){return new Ii(Ue(b.anchor.line+s,b.anchor.ch),Ue(b.head.line+s,b.head.ch))}),r.sel.primIndex),r.cm)){xr(r.cm,r.first,r.first-s,s);for(var p=r.cm.display,d=p.viewFrom;d<p.viewTo;d++)cr(r.cm,d,"gutter")}}function Ku(r,s,p,d){if(r.cm&&!r.cm.curOp)return Di(r.cm,Ku)(r,s,p,d);if(s.to.line<r.first){jf(r,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>r.lastLine())){if(s.from.line<r.first){var b=s.text.length-1-(r.first-s.from.line);jf(r,b),s={from:Ue(r.first,0),to:Ue(s.to.line+b,s.to.ch),text:[X(s.text)],origin:s.origin}}var C=r.lastLine();s.to.line>C&&(s={from:s.from,to:Ue(C,Lt(r,C).text.length),text:[s.text[0]],origin:s.origin}),s.removed=Kn(r,s.from,s.to),p||(p=Fl(r,s)),r.cm?Oc(r.cm,s,d):cu(r,s,d),hr(r,p,wt),r.cantEdit&&pu(r,Ue(r.firstLine(),0))&&(r.cantEdit=!1)}}function Oc(r,s,p){var d=r.doc,b=r.display,C=s.from,F=s.to,H=!1,Z=C.line;r.options.lineWrapping||(Z=ee(Ni(Lt(d,C.line))),d.iter(Z,F.line+1,function(Fe){if(Fe==b.maxLine)return H=!0,!0})),d.sel.contains(s.from,s.to)>-1&&wi(r),cu(d,s,p,Ll(r)),r.options.lineWrapping||(d.iter(Z,C.line+s.text.length,function(Fe){var Ge=ks(Fe);Ge>b.maxLineLength&&(b.maxLine=Fe,b.maxLineLength=Ge,b.maxLineChanged=!0,H=!1)}),H&&(r.curOp.updateMaxLine=!0)),qi(d,C.line),Zu(r,400);var K=s.text.length-(F.line-C.line)-1;s.full?xr(r):C.line==F.line&&s.text.length==1&&!lu(r.doc,s)?cr(r,C.line,"text"):xr(r,C.line,F.line+1,K);var be=ui(r,"changes"),Ee=ui(r,"change");if(Ee||be){var Ie={from:C,to:F,text:s.text,removed:s.removed,origin:s.origin};Ee&&tn(r,"change",r,Ie),be&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(Ie)}r.display.selForContextMenu=null}function Rs(r,s,p,d,b){var C;d||(d=p),pt(d,p)<0&&(C=[d,p],p=C[0],d=C[1]),typeof s=="string"&&(s=r.splitLines(s)),gu(r,{from:p,to:d,text:s,origin:b})}function Uf(r,s,p,d){p<r.line?r.line+=d:s<r.line&&(r.line=s,r.ch=0)}function Yf(r,s,p,d){for(var b=0;b<r.length;++b){var C=r[b],F=!0;if(C.ranges){C.copied||(C=r[b]=C.deepCopy(),C.copied=!0);for(var H=0;H<C.ranges.length;H++)Uf(C.ranges[H].anchor,s,p,d),Uf(C.ranges[H].head,s,p,d);continue}for(var Z=0;Z<C.changes.length;++Z){var K=C.changes[Z];if(p<K.from.line)K.from=Ue(K.from.line+d,K.from.ch),K.to=Ue(K.to.line+d,K.to.ch);else if(s<=K.to.line){F=!1;break}}F||(r.splice(0,b+1),b=0)}}function $f(r,s){var p=s.from.line,d=s.to.line,b=s.text.length-(d-p)-1;Yf(r.done,p,d,b),Yf(r.undone,p,d,b)}function vu(r,s,p,d){var b=s,C=s;return typeof s=="number"?C=Lt(r,go(r,s)):b=ee(s),b==null?null:(d(C,b)&&r.cm&&cr(r.cm,b,p),C)}function Ns(r){this.lines=r,this.parent=null;for(var s=0,p=0;p<r.length;++p)r[p].parent=this,s+=r[p].height;this.height=s}Ns.prototype={chunkSize:function(){return this.lines.length},removeInner:function(r,s){for(var p=r,d=r+s;p<d;++p){var b=this.lines[p];this.height-=b.height,ln(b),tn(b,"delete")}this.lines.splice(r,s)},collapse:function(r){r.push.apply(r,this.lines)},insertInner:function(r,s,p){this.height+=p,this.lines=this.lines.slice(0,r).concat(s).concat(this.lines.slice(r));for(var d=0;d<s.length;++d)s[d].parent=this},iterN:function(r,s,p){for(var d=r+s;r<d;++r)if(p(this.lines[r]))return!0}};function Qu(r){this.children=r;for(var s=0,p=0,d=0;d<r.length;++d){var b=r[d];s+=b.chunkSize(),p+=b.height,b.parent=this}this.size=s,this.height=p,this.parent=null}Qu.prototype={chunkSize:function(){return this.size},removeInner:function(r,s){this.size-=s;for(var p=0;p<this.children.length;++p){var d=this.children[p],b=d.chunkSize();if(r<b){var C=Math.min(s,b-r),F=d.height;if(d.removeInner(r,C),this.height-=F-d.height,b==C&&(this.children.splice(p--,1),d.parent=null),(s-=C)==0)break;r=0}else r-=b}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof Ns))){var H=[];this.collapse(H),this.children=[new Ns(H)],this.children[0].parent=this}},collapse:function(r){for(var s=0;s<this.children.length;++s)this.children[s].collapse(r)},insertInner:function(r,s,p){this.size+=s.length,this.height+=p;for(var d=0;d<this.children.length;++d){var b=this.children[d],C=b.chunkSize();if(r<=C){if(b.insertInner(r,s,p),b.lines&&b.lines.length>50){for(var F=b.lines.length%25+25,H=F;H<b.lines.length;){var Z=new Ns(b.lines.slice(H,H+=25));b.height-=Z.height,this.children.splice(++d,0,Z),Z.parent=this}b.lines=b.lines.slice(0,F),this.maybeSpill()}break}r-=C}},maybeSpill:function(){if(!(this.children.length<=10)){var r=this;do{var s=r.children.splice(r.children.length-5,5),p=new Qu(s);if(r.parent){r.size-=p.size,r.height-=p.height;var b=Xe(r.parent.children,r);r.parent.children.splice(b+1,0,p)}else{var d=new Qu(r.children);d.parent=r,r.children=[d,p],r=d}p.parent=r.parent}while(r.children.length>10);r.parent.maybeSpill()}},iterN:function(r,s,p){for(var d=0;d<this.children.length;++d){var b=this.children[d],C=b.chunkSize();if(r<C){var F=Math.min(s,C-r);if(b.iterN(r,F,p))return!0;if((s-=F)==0)break;r=0}else r-=C}}};var Is=function(r,s,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=r,this.node=s};Is.prototype.clear=function(){var r=this.doc.cm,s=this.line.widgets,p=this.line,d=ee(p);if(!(d==null||!s)){for(var b=0;b<s.length;++b)s[b]==this&&s.splice(b--,1);s.length||(p.widgets=null);var C=Oo(this);Bn(p,Math.max(0,p.height-C)),r&&(Qn(r,function(){Fc(r,p,-C),cr(r,d,"widget")}),tn(r,"lineWidgetCleared",r,this,d))}},Is.prototype.changed=function(){var r=this,s=this.height,p=this.doc.cm,d=this.line;this.height=null;var b=Oo(this)-s;b&&(dn(this.doc,d)||Bn(d,d.height+b),p&&Qn(p,function(){p.curOp.forceUpdate=!0,Fc(p,d,b),tn(p,"lineWidgetChanged",p,r,ee(d))}))},si(Is);function Fc(r,s,p){oo(s)<(r.curOp&&r.curOp.scrollTop||r.doc.scrollTop)&&M(r,p)}function Gf(r,s,p,d){var b=new Is(r,p,d),C=r.cm;return C&&b.noHScroll&&(C.display.alignWidgets=!0),vu(r,s,"widget",function(F){var H=F.widgets||(F.widgets=[]);if(b.insertAt==null?H.push(b):H.splice(Math.min(H.length,Math.max(0,b.insertAt)),0,b),b.line=F,C&&!dn(r,F)){var Z=oo(F)<r.scrollTop;Bn(F,F.height+Oo(b)),Z&&M(C,b.height),C.curOp.forceUpdate=!0}return!0}),C&&tn(C,"lineWidgetAdded",C,b,typeof s=="number"?s:ee(s)),b}var Rc=0,Wo=function(r,s){this.lines=[],this.type=s,this.doc=r,this.id=++Rc};Wo.prototype.clear=function(){if(!this.explicitlyCleared){var r=this.doc.cm,s=r&&!r.curOp;if(s&&La(r),ui(this,"clear")){var p=this.find();p&&tn(this,"clear",p.from,p.to)}for(var d=null,b=null,C=0;C<this.lines.length;++C){var F=this.lines[C],H=ri(F.markedSpans,this);r&&!this.collapsed?cr(r,ee(F),"text"):r&&(H.to!=null&&(b=ee(F)),H.from!=null&&(d=ee(F))),F.markedSpans=gt(F.markedSpans,H),H.from==null&&this.collapsed&&!dn(this.doc,F)&&r&&Bn(F,ao(r.display))}if(r&&this.collapsed&&!r.options.lineWrapping)for(var Z=0;Z<this.lines.length;++Z){var K=Ni(this.lines[Z]),be=ks(K);be>r.display.maxLineLength&&(r.display.maxLine=K,r.display.maxLineLength=be,r.display.maxLineChanged=!0)}d!=null&&r&&this.collapsed&&xr(r,d,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,r&&Bf(r.doc)),r&&tn(r,"markerCleared",r,this,d,b),s&&ca(r),this.parent&&this.parent.clear()}},Wo.prototype.find=function(r,s){r==null&&this.type=="bookmark"&&(r=1);for(var p,d,b=0;b<this.lines.length;++b){var C=this.lines[b],F=ri(C.markedSpans,this);if(F.from!=null&&(p=Ue(s?C:ee(C),F.from),r==-1))return p;if(F.to!=null&&(d=Ue(s?C:ee(C),F.to),r==1))return d}return p&&{from:p,to:d}},Wo.prototype.changed=function(){var r=this,s=this.find(-1,!0),p=this,d=this.doc.cm;!s||!d||Qn(d,function(){var b=s.line,C=ee(s.line),F=Za(d,C);if(F&&(nu(F),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!dn(p.doc,b)&&p.height!=null){var H=p.height;p.height=null;var Z=Oo(p)-H;Z&&Bn(b,b.height+Z)}tn(d,"markerChanged",d,r)})},Wo.prototype.attachLine=function(r){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||Xe(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(r)},Wo.prototype.detachLine=function(r){if(this.lines.splice(Xe(this.lines,r),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},si(Wo);function bu(r,s,p,d,b){if(d&&d.shared)return Zf(r,s,p,d,b);if(r.cm&&!r.cm.curOp)return Di(r.cm,bu)(r,s,p,d,b);var C=new Wo(r,b),F=pt(s,p);if(d&&Ae(d,C,!1),F>0||F==0&&C.clearWhenEmpty!==!1)return C;if(C.replacedWith&&(C.collapsed=!0,C.widgetNode=se("span",[C.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||C.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(C.widgetNode.insertLeft=!0)),C.collapsed){if(gi(r,s.line,s,p,C)||s.line!=p.line&&gi(r,p.line,s,p,C))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ft()}C.addToHistory&&Dc(r,{from:s,to:p,origin:"markText"},r.sel,NaN);var H=s.line,Z=r.cm,K;if(r.iter(H,p.line+1,function(Ee){Z&&C.collapsed&&!Z.options.lineWrapping&&Ni(Ee)==Z.display.maxLine&&(K=!0),C.collapsed&&H!=s.line&&Bn(Ee,0),xi(Ee,new on(C,H==s.line?s.ch:null,H==p.line?p.ch:null),r.cm&&r.cm.curOp),++H}),C.collapsed&&r.iter(s.line,p.line+1,function(Ee){dn(r,Ee)&&Bn(Ee,0)}),C.clearOnEnter&&Rt(C,"beforeCursorEnter",function(){return C.clear()}),C.readOnly&&(hn(),(r.history.done.length||r.history.undone.length)&&r.clearHistory()),C.collapsed&&(C.id=++Rc,C.atomic=!0),Z){if(K&&(Z.curOp.updateMaxLine=!0),C.collapsed)xr(Z,s.line,p.line+1);else if(C.className||C.startStyle||C.endStyle||C.css||C.attributes||C.title)for(var be=s.line;be<=p.line;be++)cr(Z,be,"text");C.atomic&&Bf(Z.doc),tn(Z,"markerAdded",Z,C)}return C}var yu=function(r,s){this.markers=r,this.primary=s;for(var p=0;p<r.length;++p)r[p].parent=this};yu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var r=0;r<this.markers.length;++r)this.markers[r].clear();tn(this,"clear")}},yu.prototype.find=function(r,s){return this.primary.find(r,s)},si(yu);function Zf(r,s,p,d,b){d=Ae(d),d.shared=!1;var C=[bu(r,s,p,d,b)],F=C[0],H=d.widgetNode;return ts(r,function(Z){H&&(d.widgetNode=H.cloneNode(!0)),C.push(bu(Z,qt(Z,s),qt(Z,p),d,b));for(var K=0;K<Z.linked.length;++K)if(Z.linked[K].isParent)return;F=X(C)}),new yu(C,F)}function Xf(r){return r.findMarks(Ue(r.first,0),r.clipPos(Ue(r.lastLine())),function(s){return s.parent})}function Vf(r,s){for(var p=0;p<s.length;p++){var d=s[p],b=d.find(),C=r.clipPos(b.from),F=r.clipPos(b.to);if(pt(C,F)){var H=bu(r,C,F,d.primary,d.primary.type);d.markers.push(H),H.parent=d}}}function xd(r){for(var s=function(d){var b=r[d],C=[b.primary.doc];ts(b.primary.doc,function(Z){return C.push(Z)});for(var F=0;F<b.markers.length;F++){var H=b.markers[F];Xe(C,H.doc)==-1&&(H.parent=null,b.markers.splice(F--,1))}},p=0;p<r.length;p++)s(p)}var Nc=0,Lr=function(r,s,p,d,b){if(!(this instanceof Lr))return new Lr(r,s,p,d,b);p==null&&(p=0),Qu.call(this,[new Ns([new Lo("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var C=Ue(p,0);this.sel=Ja(C),this.history=new fu(null),this.id=++Nc,this.modeOption=s,this.lineSep=d,this.direction=b=="rtl"?"rtl":"ltr",this.extend=!1,typeof r=="string"&&(r=this.splitLines(r)),cu(this,{from:C,to:C,text:r}),fr(this,Ja(C),wt)};Lr.prototype=pe(Qu.prototype,{constructor:Lr,iter:function(r,s,p){p?this.iterN(r-this.first,s-r,p):this.iterN(this.first,this.first+this.size,r)},insert:function(r,s){for(var p=0,d=0;d<s.length;++d)p+=s[d].height;this.insertInner(r-this.first,s,p)},remove:function(r,s){this.removeInner(r-this.first,s)},getValue:function(r){var s=ur(this,this.first,this.first+this.size);return r===!1?s:s.join(r||this.lineSeparator())},setValue:Mn(function(r){var s=Ue(this.first,0),p=this.first+this.size-1;gu(this,{from:s,to:Ue(p,Lt(this,p).text.length),text:this.splitLines(r),origin:"setValue",full:!0},!0),this.cm&&oe(this.cm,0,0),fr(this,Ja(s),wt)}),replaceRange:function(r,s,p,d){s=qt(this,s),p=p?qt(this,p):s,Rs(this,r,s,p,d)},getRange:function(r,s,p){var d=Kn(this,qt(this,r),qt(this,s));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(r){var s=this.getLineHandle(r);return s&&s.text},getLineHandle:function(r){if(We(this,r))return Lt(this,r)},getLineNumber:function(r){return ee(r)},getLineHandleVisualStart:function(r){return typeof r=="number"&&(r=Lt(this,r)),Ni(r)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(r){return qt(this,r)},getCursor:function(r){var s=this.sel.primary(),p;return r==null||r=="head"?p=s.head:r=="anchor"?p=s.anchor:r=="end"||r=="to"||r===!1?p=s.to():p=s.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mn(function(r,s,p){Nl(this,qt(this,typeof r=="number"?Ue(r,s||0):r),null,p)}),setSelection:Mn(function(r,s,p){Nl(this,qt(this,r),qt(this,s||r),p)}),extendSelection:Mn(function(r,s,p){hu(this,qt(this,r),s&&qt(this,s),p)}),extendSelections:Mn(function(r,s){Mc(this,y(this,r),s)}),extendSelectionsBy:Mn(function(r,s){var p=le(this.sel.ranges,r);Mc(this,y(this,p),s)}),setSelections:Mn(function(r,s,p){if(r.length){for(var d=[],b=0;b<r.length;b++)d[b]=new Ii(qt(this,r[b].anchor),qt(this,r[b].head||r[b].anchor));s==null&&(s=Math.min(r.length-1,this.sel.primIndex)),fr(this,Bo(this.cm,d,s),p)}}),addSelection:Mn(function(r,s,p){var d=this.sel.ranges.slice(0);d.push(new Ii(qt(this,r),qt(this,s||r))),fr(this,Bo(this.cm,d,d.length-1),p)}),getSelection:function(r){for(var s=this.sel.ranges,p,d=0;d<s.length;d++){var b=Kn(this,s[d].from(),s[d].to());p=p?p.concat(b):b}return r===!1?p:p.join(r||this.lineSeparator())},getSelections:function(r){for(var s=[],p=this.sel.ranges,d=0;d<p.length;d++){var b=Kn(this,p[d].from(),p[d].to());r!==!1&&(b=b.join(r||this.lineSeparator())),s[d]=b}return s},replaceSelection:function(r,s,p){for(var d=[],b=0;b<this.sel.ranges.length;b++)d[b]=r;this.replaceSelections(d,s,p||"+input")},replaceSelections:Mn(function(r,s,p){for(var d=[],b=this.sel,C=0;C<b.ranges.length;C++){var F=b.ranges[C];d[C]={from:F.from(),to:F.to(),text:this.splitLines(r[C]),origin:p}}for(var H=s&&s!="end"&&yd(this,d,s),Z=d.length-1;Z>=0;Z--)gu(this,d[Z]);H?is(this,H):this.cm&&U(this.cm)}),undo:Mn(function(){ns(this,"undo")}),redo:Mn(function(){ns(this,"redo")}),undoSelection:Mn(function(){ns(this,"undo",!0)}),redoSelection:Mn(function(){ns(this,"redo",!0)}),setExtending:function(r){this.extend=r},getExtending:function(){return this.extend},historySize:function(){for(var r=this.history,s=0,p=0,d=0;d<r.done.length;d++)r.done[d].ranges||++s;for(var b=0;b<r.undone.length;b++)r.undone[b].ranges||++p;return{undo:s,redo:p}},clearHistory:function(){var r=this;this.history=new fu(this.history),ts(this,function(s){return s.history=r.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(r){return r&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(r){return this.history.generation==(r||this.cleanGeneration)},getHistory:function(){return{done:Fs(this.history.done),undone:Fs(this.history.undone)}},setHistory:function(r){var s=this.history=new fu(this.history);s.done=Fs(r.done.slice(0),null,!0),s.undone=Fs(r.undone.slice(0),null,!0)},setGutterMarker:Mn(function(r,s,p){return vu(this,r,"gutter",function(d){var b=d.gutterMarkers||(d.gutterMarkers={});return b[s]=p,!p&&mt(b)&&(d.gutterMarkers=null),!0})}),clearGutter:Mn(function(r){var s=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[r]&&vu(s,p,"gutter",function(){return p.gutterMarkers[r]=null,mt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(r){var s;if(typeof r=="number"){if(!We(this,r)||(s=r,r=Lt(this,r),!r))return null}else if(s=ee(r),s==null)return null;return{line:s,handle:r,text:r.text,gutterMarkers:r.gutterMarkers,textClass:r.textClass,bgClass:r.bgClass,wrapClass:r.wrapClass,widgets:r.widgets}},addLineClass:Mn(function(r,s,p){return vu(this,r,s=="gutter"?"gutter":"class",function(d){var b=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!d[b])d[b]=p;else{if(ce(p).test(d[b]))return!1;d[b]+=" "+p}return!0})}),removeLineClass:Mn(function(r,s,p){return vu(this,r,s=="gutter"?"gutter":"class",function(d){var b=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",C=d[b];if(C)if(p==null)d[b]=null;else{var F=C.match(ce(p));if(!F)return!1;var H=F.index+F[0].length;d[b]=C.slice(0,F.index)+(!F.index||H==C.length?"":" ")+C.slice(H)||null}else return!1;return!0})}),addLineWidget:Mn(function(r,s,p){return Gf(this,r,s,p)}),removeLineWidget:function(r){r.clear()},markText:function(r,s,p){return bu(this,qt(this,r),qt(this,s),p,p&&p.type||"range")},setBookmark:function(r,s){var p={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return r=qt(this,r),bu(this,r,r,p,"bookmark")},findMarksAt:function(r){r=qt(this,r);var s=[],p=Lt(this,r.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var b=p[d];(b.from==null||b.from<=r.ch)&&(b.to==null||b.to>=r.ch)&&s.push(b.marker.parent||b.marker)}return s},findMarks:function(r,s,p){r=qt(this,r),s=qt(this,s);var d=[],b=r.line;return this.iter(r.line,s.line+1,function(C){var F=C.markedSpans;if(F)for(var H=0;H<F.length;H++){var Z=F[H];!(Z.to!=null&&b==r.line&&r.ch>=Z.to||Z.from==null&&b!=r.line||Z.from!=null&&b==s.line&&Z.from>=s.ch)&&(!p||p(Z.marker))&&d.push(Z.marker.parent||Z.marker)}++b}),d},getAllMarks:function(){var r=[];return this.iter(function(s){var p=s.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&r.push(p[d].marker)}),r},posFromIndex:function(r){var s,p=this.first,d=this.lineSeparator().length;return this.iter(function(b){var C=b.text.length+d;if(C>r)return s=r,!0;r-=C,++p}),qt(this,Ue(p,s))},indexFromPos:function(r){r=qt(this,r);var s=r.ch;if(r.line<this.first||r.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,r.line,function(d){s+=d.text.length+p}),s},copy:function(r){var s=new Lr(ur(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,r&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(r){r||(r={});var s=this.first,p=this.first+this.size;r.from!=null&&r.from>s&&(s=r.from),r.to!=null&&r.to<p&&(p=r.to);var d=new Lr(ur(this,s,p),r.mode||this.modeOption,s,this.lineSep,this.direction);return r.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:r.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:r.sharedHist}],Vf(d,Xf(this)),d},unlinkDoc:function(r){if(r instanceof Oi&&(r=r.doc),this.linked)for(var s=0;s<this.linked.length;++s){var p=this.linked[s];if(p.doc==r){this.linked.splice(s,1),r.unlinkDoc(this),xd(Xf(this));break}}if(r.history==this.history){var d=[r.id];ts(r,function(b){return d.push(b.id)},!0),r.history=new fu(null),r.history.done=Fs(this.history.done,d),r.history.undone=Fs(this.history.undone,d)}},iterLinkedDocs:function(r){ts(this,r)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(r){return this.lineSep?r.split(this.lineSep):Xn(r)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Mn(function(r){r!="rtl"&&(r="ltr"),r!=this.direction&&(this.direction=r,this.iter(function(s){return s.order=null}),this.cm&&Pa(this.cm))})}),Lr.prototype.eachLine=Lr.prototype.iter;var Bl=0;function kd(r){var s=this;if(Kf(s),!(pi(s,r)||Hn(s.display,r))){Bi(r),v&&(Bl=+new Date);var p=so(s,r,!0),d=r.dataTransfer.files;if(!(!p||s.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var b=d.length,C=Array(b),F=0,H=function(){++F==b&&Di(s,function(){p=qt(s.doc,p);var Fe={from:p,to:p,text:s.doc.splitLines(C.filter(function(Ge){return Ge!=null}).join(s.doc.lineSeparator())),origin:"paste"};gu(s.doc,Fe),is(s.doc,Ja(qt(s.doc,p),qt(s.doc,es(Fe))))})()},Z=function(Fe,Ge){if(s.options.allowDropFileTypes&&Xe(s.options.allowDropFileTypes,Fe.type)==-1){H();return}var rt=new FileReader;rt.onerror=function(){return H()},rt.onload=function(){var dt=rt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(dt)){H();return}C[Ge]=dt,H()},rt.readAsText(Fe)},K=0;K<d.length;K++)Z(d[K],K);else{if(s.state.draggingText&&s.doc.sel.contains(p)>-1){s.state.draggingText(r),setTimeout(function(){return s.display.input.focus()},20);return}try{var be=r.dataTransfer.getData("Text");if(be){var Ee;if(s.state.draggingText&&!s.state.draggingText.copy&&(Ee=s.listSelections()),hr(s.doc,Ja(p,p)),Ee)for(var Ie=0;Ie<Ee.length;++Ie)Rs(s.doc,"",Ee[Ie].anchor,Ee[Ie].head,"drag");s.replaceSelection(be,"around","paste"),s.display.input.focus()}}catch{}}}}function Ic(r,s){if(v&&(!r.state.draggingText||+new Date-Bl<100)){Ir(s);return}if(!(pi(r,s)||Hn(r.display,s))&&(s.dataTransfer.setData("Text",r.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!j)){var p=D("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",N&&(p.width=p.height=1,r.display.wrapper.appendChild(p),p._top=p.offsetTop),s.dataTransfer.setDragImage(p,0,0),N&&p.parentNode.removeChild(p)}}function bi(r,s){var p=so(r,s);if(p){var d=document.createDocumentFragment();Ls(r,p,d),r.display.dragCursor||(r.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),ne(r.display.dragCursor,d)}}function Kf(r){r.display.dragCursor&&(r.display.lineSpace.removeChild(r.display.dragCursor),r.display.dragCursor=null)}function Qf(r){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<s.length;d++){var b=s[d].CodeMirror;b&&p.push(b)}p.length&&p[0].operation(function(){for(var C=0;C<p.length;C++)r(p[C])})}}var _u=!1;function Jf(){_u||(Ed(),_u=!0)}function Ed(){var r;Rt(window,"resize",function(){r==null&&(r=setTimeout(function(){r=null,Qf(Cd)},100))}),Rt(window,"blur",function(){return Qf(Da)})}function Cd(r){var s=r.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,r.setSize()}for(var er={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ju=0;Ju<10;Ju++)er[Ju+48]=er[Ju+96]=String(Ju);for(var zs=65;zs<=90;zs++)er[zs]=String.fromCharCode(zs);for(var Bs=1;Bs<=12;Bs++)er[Bs+111]=er[Bs+63235]="F"+Bs;var ha={};ha.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ha.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ha.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ha.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ha.default=z?ha.macDefault:ha.pcDefault;function eh(r){var s=r.split(/-(?!$)/);r=s[s.length-1];for(var p,d,b,C,F=0;F<s.length-1;F++){var H=s[F];if(/^(cmd|meta|m)$/i.test(H))C=!0;else if(/^a(lt)?$/i.test(H))p=!0;else if(/^(c|ctrl|control)$/i.test(H))d=!0;else if(/^s(hift)?$/i.test(H))b=!0;else throw new Error("Unrecognized modifier name: "+H)}return p&&(r="Alt-"+r),d&&(r="Ctrl-"+r),C&&(r="Cmd-"+r),b&&(r="Shift-"+r),r}function co(r){var s={};for(var p in r)if(r.hasOwnProperty(p)){var d=r[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete r[p];continue}for(var b=le(p.split(" "),eh),C=0;C<b.length;C++){var F=void 0,H=void 0;C==b.length-1?(H=b.join(" "),F=d):(H=b.slice(0,C+1).join(" "),F="...");var Z=s[H];if(!Z)s[H]=F;else if(Z!=F)throw new Error("Inconsistent bindings for "+H)}delete r[p]}for(var K in s)r[K]=s[K];return r}function fo(r,s,p,d){s=tl(s);var b=s.call?s.call(r,d):s[r];if(b===!1)return"nothing";if(b==="...")return"multi";if(b!=null&&p(b))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return fo(r,s.fallthrough,p,d);for(var C=0;C<s.fallthrough.length;C++){var F=fo(r,s.fallthrough[C],p,d);if(F)return F}}}function Hl(r){var s=typeof r=="string"?r:er[r.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function zc(r,s,p){var d=r;return s.altKey&&d!="Alt"&&(r="Alt-"+r),(de?s.metaKey:s.ctrlKey)&&d!="Ctrl"&&(r="Ctrl-"+r),(de?s.ctrlKey:s.metaKey)&&d!="Mod"&&(r="Cmd-"+r),!p&&s.shiftKey&&d!="Shift"&&(r="Shift-"+r),r}function el(r,s){if(N&&r.keyCode==34&&r.char)return!1;var p=er[r.keyCode];return p==null||r.altGraphKey?!1:(r.keyCode==3&&r.code&&(p=r.code),zc(p,r,s))}function tl(r){return typeof r=="string"?ha[r]:r}function rs(r,s){for(var p=r.doc.sel.ranges,d=[],b=0;b<p.length;b++){for(var C=s(p[b]);d.length&&pt(C.from,X(d).to)<=0;){var F=d.pop();if(pt(F.from,C.from)<0){C.from=F.from;break}}d.push(C)}Qn(r,function(){for(var H=d.length-1;H>=0;H--)Rs(r.doc,"",d[H].from,d[H].to,"+delete");U(r)})}function Wl(r,s,p){var d=Wt(r.text,s+p,p);return d<0||d>r.text.length?null:d}function il(r,s,p){var d=Wl(r,s.ch,p);return d==null?null:new Ue(s.line,d,p<0?"after":"before")}function nl(r,s,p,d,b){if(r){s.doc.direction=="rtl"&&(b=-b);var C=Yt(p,s.doc.direction);if(C){var F=b<0?X(C):C[0],H=b<0==(F.level==1),Z=H?"after":"before",K;if(F.level>0||s.doc.direction=="rtl"){var be=jr(s,p);K=b<0?p.text.length-1:0;var Ee=pn(s,be,K).top;K=$t(function(Ie){return pn(s,be,Ie).top==Ee},b<0==(F.level==1)?F.from:F.to-1,K),Z=="before"&&(K=Wl(p,K,1))}else K=b<0?F.to:F.from;return new Ue(d,K,Z)}}return new Ue(d,b<0?p.text.length:0,b<0?"before":"after")}function os(r,s,p,d){var b=Yt(s,r.doc.direction);if(!b)return il(s,p,d);p.ch>=s.text.length?(p.ch=s.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var C=xt(b,p.ch,p.sticky),F=b[C];if(r.doc.direction=="ltr"&&F.level%2==0&&(d>0?F.to>p.ch:F.from<p.ch))return il(s,p,d);var H=function(bt,_t){return Wl(s,bt instanceof Ue?bt.ch:bt,_t)},Z,K=function(bt){return r.options.lineWrapping?(Z=Z||jr(r,s),ji(r,s,Z,bt)):{begin:0,end:s.text.length}},be=K(p.sticky=="before"?H(p,-1):p.ch);if(r.doc.direction=="rtl"||F.level==1){var Ee=F.level==1==d<0,Ie=H(p,Ee?1:-1);if(Ie!=null&&(Ee?Ie<=F.to&&Ie<=be.end:Ie>=F.from&&Ie>=be.begin)){var Fe=Ee?"before":"after";return new Ue(p.line,Ie,Fe)}}var Ge=function(bt,_t,vt){for(var Tt=function($i,En){return En?new Ue(p.line,H($i,1),"before"):new Ue(p.line,$i,"after")};bt>=0&&bt<b.length;bt+=_t){var Bt=b[bt],It=_t>0==(Bt.level!=1),ci=It?vt.begin:H(vt.end,-1);if(Bt.from<=ci&&ci<Bt.to||(ci=It?Bt.from:H(Bt.to,-1),vt.begin<=ci&&ci<vt.end))return Tt(ci,It)}},rt=Ge(C+d,d,be);if(rt)return rt;var dt=d>0?be.end:H(be.begin,-1);return dt!=null&&!(d>0&&dt==s.text.length)&&(rt=Ge(d>0?0:b.length-1,d,K(dt)),rt)?rt:null}var rl={selectAll:mu,singleSelection:function(r){return r.setSelection(r.getCursor("anchor"),r.getCursor("head"),wt)},killLine:function(r){return rs(r,function(s){if(s.empty()){var p=Lt(r.doc,s.head.line).text.length;return s.head.ch==p&&s.head.line<r.lastLine()?{from:s.head,to:Ue(s.head.line+1,0)}:{from:s.head,to:Ue(s.head.line,p)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(r){return rs(r,function(s){return{from:Ue(s.from().line,0),to:qt(r.doc,Ue(s.to().line+1,0))}})},delLineLeft:function(r){return rs(r,function(s){return{from:Ue(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(r){return rs(r,function(s){var p=r.charCoords(s.head,"div").top+5,d=r.coordsChar({left:0,top:p},"div");return{from:d,to:s.from()}})},delWrappedLineRight:function(r){return rs(r,function(s){var p=r.charCoords(s.head,"div").top+5,d=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:p},"div");return{from:s.from(),to:d}})},undo:function(r){return r.undo()},redo:function(r){return r.redo()},undoSelection:function(r){return r.undoSelection()},redoSelection:function(r){return r.redoSelection()},goDocStart:function(r){return r.extendSelection(Ue(r.firstLine(),0))},goDocEnd:function(r){return r.extendSelection(Ue(r.lastLine()))},goLineStart:function(r){return r.extendSelectionsBy(function(s){return Fa(r,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(r){return r.extendSelectionsBy(function(s){return Bc(r,s.head)},{origin:"+move",bias:1})},goLineEnd:function(r){return r.extendSelectionsBy(function(s){return th(r,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(s){var p=r.cursorCoords(s.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:p},"div")},yt)},goLineLeft:function(r){return r.extendSelectionsBy(function(s){var p=r.cursorCoords(s.head,"div").top+5;return r.coordsChar({left:0,top:p},"div")},yt)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(s){var p=r.cursorCoords(s.head,"div").top+5,d=r.coordsChar({left:0,top:p},"div");return d.ch<r.getLine(d.line).search(/\S/)?Bc(r,s.head):d},yt)},goLineUp:function(r){return r.moveV(-1,"line")},goLineDown:function(r){return r.moveV(1,"line")},goPageUp:function(r){return r.moveV(-1,"page")},goPageDown:function(r){return r.moveV(1,"page")},goCharLeft:function(r){return r.moveH(-1,"char")},goCharRight:function(r){return r.moveH(1,"char")},goColumnLeft:function(r){return r.moveH(-1,"column")},goColumnRight:function(r){return r.moveH(1,"column")},goWordLeft:function(r){return r.moveH(-1,"word")},goGroupRight:function(r){return r.moveH(1,"group")},goGroupLeft:function(r){return r.moveH(-1,"group")},goWordRight:function(r){return r.moveH(1,"word")},delCharBefore:function(r){return r.deleteH(-1,"codepoint")},delCharAfter:function(r){return r.deleteH(1,"char")},delWordBefore:function(r){return r.deleteH(-1,"word")},delWordAfter:function(r){return r.deleteH(1,"word")},delGroupBefore:function(r){return r.deleteH(-1,"group")},delGroupAfter:function(r){return r.deleteH(1,"group")},indentAuto:function(r){return r.indentSelection("smart")},indentMore:function(r){return r.indentSelection("add")},indentLess:function(r){return r.indentSelection("subtract")},insertTab:function(r){return r.replaceSelection("	")},insertSoftTab:function(r){for(var s=[],p=r.listSelections(),d=r.options.tabSize,b=0;b<p.length;b++){var C=p[b].from(),F=je(r.getLine(C.line),C.ch,d);s.push(Kt(d-F%d))}r.replaceSelections(s)},defaultTab:function(r){r.somethingSelected()?r.indentSelection("add"):r.execCommand("insertTab")},transposeChars:function(r){return Qn(r,function(){for(var s=r.listSelections(),p=[],d=0;d<s.length;d++)if(s[d].empty()){var b=s[d].head,C=Lt(r.doc,b.line).text;if(C){if(b.ch==C.length&&(b=new Ue(b.line,b.ch-1)),b.ch>0)b=new Ue(b.line,b.ch+1),r.replaceRange(C.charAt(b.ch-1)+C.charAt(b.ch-2),Ue(b.line,b.ch-2),b,"+transpose");else if(b.line>r.doc.first){var F=Lt(r.doc,b.line-1).text;F&&(b=new Ue(b.line,1),r.replaceRange(C.charAt(0)+r.doc.lineSeparator()+F.charAt(F.length-1),Ue(b.line-1,F.length-1),b,"+transpose"))}}p.push(new Ii(b,b))}r.setSelections(p)})},newlineAndIndent:function(r){return Qn(r,function(){for(var s=r.listSelections(),p=s.length-1;p>=0;p--)r.replaceRange(r.doc.lineSeparator(),s[p].anchor,s[p].head,"+input");s=r.listSelections();for(var d=0;d<s.length;d++)r.indentLine(s[d].from().line,null,!0);U(r)})},openLine:function(r){return r.replaceSelection(`
`,"start")},toggleOverwrite:function(r){return r.toggleOverwrite()}};function Fa(r,s){var p=Lt(r.doc,s),d=Ni(p);return d!=p&&(s=ee(d)),nl(!0,r,d,s,1)}function th(r,s){var p=Lt(r.doc,s),d=_r(p);return d!=p&&(s=ee(d)),nl(!0,r,p,s,-1)}function Bc(r,s){var p=Fa(r,s.line),d=Lt(r.doc,p.line),b=Yt(d,r.doc.direction);if(!b||b[0].level==0){var C=Math.max(p.ch,d.text.search(/\S/)),F=s.line==p.line&&s.ch<=C&&s.ch;return Ue(p.line,F?0:C,p.sticky)}return p}function wu(r,s,p){if(typeof s=="string"&&(s=rl[s],!s))return!1;r.display.input.ensurePolled();var d=r.display.shift,b=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),p&&(r.display.shift=!1),b=s(r)!=Ct}finally{r.display.shift=d,r.state.suppressEdits=!1}return b}function Sd(r,s,p){for(var d=0;d<r.state.keyMaps.length;d++){var b=fo(s,r.state.keyMaps[d],p,r);if(b)return b}return r.options.extraKeys&&fo(s,r.options.extraKeys,p,r)||fo(s,r.options.keyMap,p,r)}var Td=new Ze;function ol(r,s,p,d){var b=r.state.keySeq;if(b){if(Hl(s))return"handled";if(/\'$/.test(s)?r.state.keySeq=null:Td.set(50,function(){r.state.keySeq==b&&(r.state.keySeq=null,r.display.input.reset())}),Hc(r,b+" "+s,p,d))return!0}return Hc(r,s,p,d)}function Hc(r,s,p,d){var b=Sd(r,s,d);return b=="multi"&&(r.state.keySeq=s),b=="handled"&&tn(r,"keyHandled",r,s,p),(b=="handled"||b=="multi")&&(Bi(p),ua(r)),!!b}function Wc(r,s){var p=el(s,!0);return p?s.shiftKey&&!r.state.keySeq?ol(r,"Shift-"+p,s,function(d){return wu(r,d,!0)})||ol(r,p,s,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return wu(r,d)}):ol(r,p,s,function(d){return wu(r,d)}):!1}function Ad(r,s,p){return ol(r,"'"+p+"'",s,function(d){return wu(r,d,!0)})}var ql=null;function qc(r){var s=this;if(!(r.target&&r.target!=s.display.input.getField())&&(s.curOp.focus=et(Le(s)),!pi(s,r))){v&&x<11&&r.keyCode==27&&(r.returnValue=!1);var p=r.keyCode;s.display.shift=p==16||r.shiftKey;var d=Wc(s,r);N&&(ql=d?p:null,!d&&p==88&&!$r&&(z?r.metaKey:r.ctrlKey)&&s.replaceSelection("",null,"cut")),l&&!z&&!d&&p==46&&r.shiftKey&&!r.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&Qr(s)}}function Qr(r){var s=r.display.lineDiv;ze(s,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(Te(s,"CodeMirror-crosshair"),_i(document,"keyup",p),_i(document,"mouseover",p))}Rt(document,"keyup",p),Rt(document,"mouseover",p)}function qo(r){r.keyCode==16&&(this.doc.sel.shift=!1),pi(this,r)}function ih(r){var s=this;if(!(r.target&&r.target!=s.display.input.getField())&&!(Hn(s.display,r)||pi(s,r)||r.ctrlKey&&!r.altKey||z&&r.metaKey)){var p=r.keyCode,d=r.charCode;if(N&&p==ql){ql=null,Bi(r);return}if(!(N&&(!r.which||r.which<10)&&Wc(s,r))){var b=String.fromCharCode(d??p);b!="\b"&&(Ad(s,r,b)||s.display.input.onKeyPress(r))}}}var Dd=400,xu=function(r,s,p){this.time=r,this.pos=s,this.button=p};xu.prototype.compare=function(r,s,p){return this.time+Dd>r&&pt(s,this.pos)==0&&p==this.button};var da,ku;function nh(r,s){var p=+new Date;return ku&&ku.compare(p,r,s)?(da=ku=null,"triple"):da&&da.compare(p,r,s)?(ku=new xu(p,r,s),da=null,"double"):(da=new xu(p,r,s),ku=null,"single")}function rh(r){var s=this,p=s.display;if(!(pi(s,r)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=r.shiftKey,Hn(p,r)){w||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Cu(s,r)){var d=so(s,r),b=Qi(r),C=d?nh(d,b):"single";V(s).focus(),b==1&&s.state.selectingText&&s.state.selectingText(r),!(d&&oh(s,b,d,C,r))&&(b==1?d?al(s,d,C,r):Wi(r)==p.scroller&&Bi(r):b==2?(d&&hu(s.doc,d),setTimeout(function(){return p.input.focus()},20)):b==3&&(ge?s.display.input.onContextMenu(r):Aa(s)))}}}function oh(r,s,p,d,b){var C="Click";return d=="double"?C="Double"+C:d=="triple"&&(C="Triple"+C),C=(s==1?"Left":s==2?"Middle":"Right")+C,ol(r,zc(C,b),b,function(F){if(typeof F=="string"&&(F=rl[F]),!F)return!1;var H=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),H=F(r,p)!=Ct}finally{r.state.suppressEdits=!1}return H})}function Eu(r,s,p){var d=r.getOption("configureMouse"),b=d?d(r,s,p):{};if(b.unit==null){var C=G?p.shiftKey&&p.metaKey:p.altKey;b.unit=C?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(b.extend==null||r.doc.extend)&&(b.extend=r.doc.extend||p.shiftKey),b.addNew==null&&(b.addNew=z?p.metaKey:p.ctrlKey),b.moveOnDrag==null&&(b.moveOnDrag=!(z?p.altKey:p.ctrlKey)),b}function al(r,s,p,d){v?setTimeout(we(No,r),0):r.curOp.focus=et(Le(r));var b=Eu(r,p,d),C=r.doc.sel,F;r.options.dragDrop&&br&&!r.isReadOnly()&&p=="single"&&(F=C.contains(s))>-1&&(pt((F=C.ranges[F]).from(),s)<0||s.xRel>0)&&(pt(F.to(),s)>0||s.xRel<0)?Ld(r,d,s,b):ah(r,d,s,b)}function Ld(r,s,p,d){var b=r.display,C=!1,F=Di(r,function(K){w&&(b.scroller.draggable=!1),r.state.draggingText=!1,r.state.delayingBlurEvent&&(r.hasFocus()?r.state.delayingBlurEvent=!1:Aa(r)),_i(b.wrapper.ownerDocument,"mouseup",F),_i(b.wrapper.ownerDocument,"mousemove",H),_i(b.scroller,"dragstart",Z),_i(b.scroller,"drop",F),C||(Bi(K),d.addNew||hu(r.doc,p,null,null,d.extend),w&&!j||v&&x==9?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),H=function(K){C=C||Math.abs(s.clientX-K.clientX)+Math.abs(s.clientY-K.clientY)>=10},Z=function(){return C=!0};w&&(b.scroller.draggable=!0),r.state.draggingText=F,F.copy=!d.moveOnDrag,Rt(b.wrapper.ownerDocument,"mouseup",F),Rt(b.wrapper.ownerDocument,"mousemove",H),Rt(b.scroller,"dragstart",Z),Rt(b.scroller,"drop",F),r.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}function jc(r,s,p){if(p=="char")return new Ii(s,s);if(p=="word")return r.findWordAt(s);if(p=="line")return new Ii(Ue(s.line,0),qt(r.doc,Ue(s.line+1,0)));var d=p(r,s);return new Ii(d.from,d.to)}function ah(r,s,p,d){v&&Aa(r);var b=r.display,C=r.doc;Bi(s);var F,H,Z=C.sel,K=Z.ranges;if(d.addNew&&!d.extend?(H=C.sel.contains(p),H>-1?F=K[H]:F=new Ii(p,p)):(F=C.sel.primary(),H=C.sel.primIndex),d.unit=="rectangle")d.addNew||(F=new Ii(p,p)),p=so(r,s,!0,!0),H=-1;else{var be=jc(r,p,d.unit);d.extend?F=Jn(F,be.anchor,be.head,d.extend):F=be}d.addNew?H==-1?(H=K.length,fr(C,Bo(r,K.concat([F]),H),{scroll:!1,origin:"*mouse"})):K.length>1&&K[H].empty()&&d.unit=="char"&&!d.extend?(fr(C,Bo(r,K.slice(0,H).concat(K.slice(H+1)),0),{scroll:!1,origin:"*mouse"}),Z=C.sel):wo(C,H,F,St):(H=0,fr(C,new gn([F],0),St),Z=C.sel);var Ee=p;function Ie(vt){if(pt(Ee,vt)!=0)if(Ee=vt,d.unit=="rectangle"){for(var Tt=[],Bt=r.options.tabSize,It=je(Lt(C,p.line).text,p.ch,Bt),ci=je(Lt(C,vt.line).text,vt.ch,Bt),$i=Math.min(It,ci),En=Math.max(It,ci),sn=Math.min(p.line,vt.line),vn=Math.min(r.lastLine(),Math.max(p.line,vt.line));sn<=vn;sn++){var Pn=Lt(C,sn).text,On=Mt(Pn,$i,Bt);$i==En?Tt.push(new Ii(Ue(sn,On),Ue(sn,On))):Pn.length>On&&Tt.push(new Ii(Ue(sn,On),Ue(sn,Mt(Pn,En,Bt))))}Tt.length||Tt.push(new Ii(p,p)),fr(C,Bo(r,Z.ranges.slice(0,H).concat(Tt),H),{origin:"*mouse",scroll:!1}),r.scrollIntoView(vt)}else{var Mr=F,dr=jc(r,vt,d.unit),qn=Mr.anchor,Fn;pt(dr.anchor,qn)>0?(Fn=dr.head,qn=li(Mr.from(),dr.anchor)):(Fn=dr.anchor,qn=Nt(Mr.to(),dr.head));var bn=Z.ranges.slice(0);bn[H]=jl(r,new Ii(qt(C,qn),Fn)),fr(C,Bo(r,bn,H),St)}}var Fe=b.wrapper.getBoundingClientRect(),Ge=0;function rt(vt){var Tt=++Ge,Bt=so(r,vt,!0,d.unit=="rectangle");if(Bt)if(pt(Bt,Ee)!=0){r.curOp.focus=et(Le(r)),Ie(Bt);var It=la(b,C);(Bt.line>=It.to||Bt.line<It.from)&&setTimeout(Di(r,function(){Ge==Tt&&rt(vt)}),150)}else{var ci=vt.clientY<Fe.top?-20:vt.clientY>Fe.bottom?20:0;ci&&setTimeout(Di(r,function(){Ge==Tt&&(b.scroller.scrollTop+=ci,rt(vt))}),50)}}function dt(vt){r.state.selectingText=!1,Ge=1/0,vt&&(Bi(vt),b.input.focus()),_i(b.wrapper.ownerDocument,"mousemove",bt),_i(b.wrapper.ownerDocument,"mouseup",_t),C.history.lastSelOrigin=null}var bt=Di(r,function(vt){vt.buttons===0||!Qi(vt)?dt(vt):rt(vt)}),_t=Di(r,dt);r.state.selectingText=_t,Rt(b.wrapper.ownerDocument,"mousemove",bt),Rt(b.wrapper.ownerDocument,"mouseup",_t)}function jl(r,s){var p=s.anchor,d=s.head,b=Lt(r.doc,p.line);if(pt(p,d)==0&&p.sticky==d.sticky)return s;var C=Yt(b);if(!C)return s;var F=xt(C,p.ch,p.sticky),H=C[F];if(H.from!=p.ch&&H.to!=p.ch)return s;var Z=F+(H.from==p.ch==(H.level!=1)?0:1);if(Z==0||Z==C.length)return s;var K;if(d.line!=p.line)K=(d.line-p.line)*(r.doc.direction=="ltr"?1:-1)>0;else{var be=xt(C,d.ch,d.sticky),Ee=be-F||(d.ch-p.ch)*(H.level==1?-1:1);be==Z-1||be==Z?K=Ee<0:K=Ee>0}var Ie=C[Z+(K?-1:0)],Fe=K==(Ie.level==1),Ge=Fe?Ie.from:Ie.to,rt=Fe?"after":"before";return p.ch==Ge&&p.sticky==rt?s:new Ii(new Ue(p.line,Ge,rt),d)}function Uc(r,s,p,d){var b,C;if(s.touches)b=s.touches[0].clientX,C=s.touches[0].clientY;else try{b=s.clientX,C=s.clientY}catch{return!1}if(b>=Math.floor(r.display.gutters.getBoundingClientRect().right))return!1;d&&Bi(s);var F=r.display,H=F.lineDiv.getBoundingClientRect();if(C>H.bottom||!ui(r,p))return Hi(s);C-=H.top-F.viewOffset;for(var Z=0;Z<r.display.gutterSpecs.length;++Z){var K=F.gutters.childNodes[Z];if(K&&K.getBoundingClientRect().right>=b){var be=xe(r.doc,C),Ee=r.display.gutterSpecs[Z];return Ri(r,p,r,be,Ee.className,s),Hi(s)}}}function Cu(r,s){return Uc(r,s,"gutterClick",!0)}function Ul(r,s){Hn(r.display,s)||Yl(r,s)||pi(r,s,"contextmenu")||ge||r.display.input.onContextMenu(s)}function Yl(r,s){return ui(r,"gutterContextMenu")?Uc(r,s,"gutterContextMenu",!1):!1}function sh(r){r.display.wrapper.className=r.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+r.options.theme.replace(/(^|\s)\s*/g," cm-s-"),na(r)}var Hs={toString:function(){return"CodeMirror.Init"}},sl={},ul={};function Yc(r){var s=r.optionHandlers;function p(d,b,C,F){r.defaults[d]=b,C&&(s[d]=F?function(H,Z,K){K!=Hs&&C(H,Z,K)}:C)}r.defineOption=p,r.Init=Hs,p("value","",function(d,b){return d.setValue(b)},!0),p("mode",null,function(d,b){d.doc.modeOption=b,Tc(d)},!0),p("indentUnit",2,Tc,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){Os(d),na(d),xr(d)},!0),p("lineSeparator",null,function(d,b){if(d.doc.lineSep=b,!!b){var C=[],F=d.doc.first;d.doc.iter(function(Z){for(var K=0;;){var be=Z.text.indexOf(b,K);if(be==-1)break;K=be+b.length,C.push(Ue(F,be))}F++});for(var H=C.length-1;H>=0;H--)Rs(d.doc,b,C[H],Ue(C[H].line,C[H].ch+b.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,b,C){d.state.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),C!=Hs&&d.refresh()}),p("specialCharPlaceholder",Po,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,b){return d.getInputField().spellcheck=b},!0),p("autocorrect",!1,function(d,b){return d.getInputField().autocorrect=b},!0),p("autocapitalize",!1,function(d,b){return d.getInputField().autocapitalize=b},!0),p("rtlMoveVisually",!J),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){sh(d),Xu(d)},!0),p("keyMap","default",function(d,b,C){var F=tl(b),H=C!=Hs&&tl(C);H&&H.detach&&H.detach(d,F),F.attach&&F.attach(d,H||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,uh,!0),p("gutters",[],function(d,b){d.display.gutterSpecs=zo(b,d.options.lineNumbers),Xu(d)},!0),p("fixedGutter",!0,function(d,b){d.display.gutters.style.left=b?Ei(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return mn(d)},!0),p("scrollbarStyle","native",function(d){Pl(d),mn(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,b){d.display.gutterSpecs=zo(d.options.gutters,b),Xu(d)},!0),p("firstLineNumber",1,Xu,!0),p("lineNumberFormatter",function(d){return d},Xu,!0),p("showCursorWhenSelecting",!1,uo,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,b){b=="nocursor"&&(Da(d),d.display.input.blur()),d.display.input.readOnlyChanged(b)}),p("screenReaderLabel",null,function(d,b){b=b===""?null:b,d.display.input.screenReaderLabelChanged(b)}),p("disableInput",!1,function(d,b){b||d.display.input.reset()},!0),p("dragDrop",!0,Md),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,uo,!0),p("singleCursorHeightPerLine",!0,uo,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Os,!0),p("addModeClass",!1,Os,!0),p("pollInterval",100),p("undoDepth",200,function(d,b){return d.doc.history.undoDepth=b}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,Os,!0),p("moveInputWithCursor",!0,function(d,b){b||d.display.input.resetPosition()}),p("tabindex",null,function(d,b){return d.display.input.getField().tabIndex=b||""}),p("autofocus",null),p("direction","ltr",function(d,b){return d.doc.setDirection(b)},!0),p("phrases",null)}function Md(r,s,p){var d=p&&p!=Hs;if(!s!=!d){var b=r.display.dragFunctions,C=s?Rt:_i;C(r.display.scroller,"dragstart",b.start),C(r.display.scroller,"dragenter",b.enter),C(r.display.scroller,"dragover",b.over),C(r.display.scroller,"dragleave",b.leave),C(r.display.scroller,"drop",b.drop)}}function uh(r){r.options.lineWrapping?(ze(r.display.wrapper,"CodeMirror-wrap"),r.display.sizer.style.minWidth="",r.display.sizerWidth=null):(Te(r.display.wrapper,"CodeMirror-wrap"),Xs(r)),Ro(r),xr(r),na(r),setTimeout(function(){return mn(r)},100)}function Oi(r,s){var p=this;if(!(this instanceof Oi))return new Oi(r,s);this.options=s=s?Ae(s):{},Ae(sl,s,!1);var d=s.value;typeof d=="string"?d=new Lr(d,s.mode,null,s.lineSeparator,s.direction):s.mode&&(d.modeOption=s.mode),this.doc=d;var b=new Oi.inputStyles[s.inputStyle](this),C=this.display=new vd(r,d,b,s);C.wrapper.CodeMirror=this,sh(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Pl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ze,keySeq:null,specialChars:null},s.autofocus&&!W&&C.input.focus(),v&&x<11&&setTimeout(function(){return p.display.input.reset(!0)},20),lh(this),Jf(),La(this),this.curOp.forceUpdate=!0,Ac(this,d),s.autofocus&&!W||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&su(p)},20):Da(this);for(var F in ul)ul.hasOwnProperty(F)&&ul[F](this,s[F],Hs);Pf(this),s.finishInit&&s.finishInit(this);for(var H=0;H<$l.length;++H)$l[H](this);ca(this),w&&s.lineWrapping&&getComputedStyle(C.lineDiv).textRendering=="optimizelegibility"&&(C.lineDiv.style.textRendering="auto")}Oi.defaults=sl,Oi.optionHandlers=ul;function lh(r){var s=r.display;Rt(s.scroller,"mousedown",Di(r,rh)),v&&x<11?Rt(s.scroller,"dblclick",Di(r,function(Z){if(!pi(r,Z)){var K=so(r,Z);if(!(!K||Cu(r,Z)||Hn(r.display,Z))){Bi(Z);var be=r.findWordAt(K);hu(r.doc,be.anchor,be.head)}}})):Rt(s.scroller,"dblclick",function(Z){return pi(r,Z)||Bi(Z)}),Rt(s.scroller,"contextmenu",function(Z){return Ul(r,Z)}),Rt(s.input.getField(),"contextmenu",function(Z){s.scroller.contains(Z.target)||Ul(r,Z)});var p,d={end:0};function b(){s.activeTouch&&(p=setTimeout(function(){return s.activeTouch=null},1e3),d=s.activeTouch,d.end=+new Date)}function C(Z){if(Z.touches.length!=1)return!1;var K=Z.touches[0];return K.radiusX<=1&&K.radiusY<=1}function F(Z,K){if(K.left==null)return!0;var be=K.left-Z.left,Ee=K.top-Z.top;return be*be+Ee*Ee>20*20}Rt(s.scroller,"touchstart",function(Z){if(!pi(r,Z)&&!C(Z)&&!Cu(r,Z)){s.input.ensurePolled(),clearTimeout(p);var K=+new Date;s.activeTouch={start:K,moved:!1,prev:K-d.end<=300?d:null},Z.touches.length==1&&(s.activeTouch.left=Z.touches[0].pageX,s.activeTouch.top=Z.touches[0].pageY)}}),Rt(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Rt(s.scroller,"touchend",function(Z){var K=s.activeTouch;if(K&&!Hn(s,Z)&&K.left!=null&&!K.moved&&new Date-K.start<300){var be=r.coordsChar(s.activeTouch,"page"),Ee;!K.prev||F(K,K.prev)?Ee=new Ii(be,be):!K.prev.prev||F(K,K.prev.prev)?Ee=r.findWordAt(be):Ee=new Ii(Ue(be.line,0),qt(r.doc,Ue(be.line+1,0))),r.setSelection(Ee.anchor,Ee.head),r.focus(),Bi(Z)}b()}),Rt(s.scroller,"touchcancel",b),Rt(s.scroller,"scroll",function(){s.scroller.clientHeight&&(lt(r,s.scroller.scrollTop),zt(r,s.scroller.scrollLeft,!0),Ri(r,"scroll",r))}),Rt(s.scroller,"mousewheel",function(Z){return Ff(r,Z)}),Rt(s.scroller,"DOMMouseScroll",function(Z){return Ff(r,Z)}),Rt(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(Z){pi(r,Z)||Ir(Z)},over:function(Z){pi(r,Z)||(bi(r,Z),Ir(Z))},start:function(Z){return Ic(r,Z)},drop:Di(r,kd),leave:function(Z){pi(r,Z)||Kf(r)}};var H=s.input.getField();Rt(H,"keyup",function(Z){return qo.call(r,Z)}),Rt(H,"keydown",Di(r,qc)),Rt(H,"keypress",Di(r,ih)),Rt(H,"focus",function(Z){return su(r,Z)}),Rt(H,"blur",function(Z){return Da(r,Z)})}var $l=[];Oi.defineInitHook=function(r){return $l.push(r)};function ll(r,s,p,d){var b=r.doc,C;p==null&&(p="add"),p=="smart"&&(b.mode.indent?C=_e(r,s).state:p="prev");var F=r.options.tabSize,H=Lt(b,s),Z=je(H.text,null,F);H.stateAfter&&(H.stateAfter=null);var K=H.text.match(/^\s*/)[0],be;if(!d&&!/\S/.test(H.text))be=0,p="not";else if(p=="smart"&&(be=b.mode.indent(C,H.text.slice(K.length),H.text),be==Ct||be>150)){if(!d)return;p="prev"}p=="prev"?s>b.first?be=je(Lt(b,s-1).text,null,F):be=0:p=="add"?be=Z+r.options.indentUnit:p=="subtract"?be=Z-r.options.indentUnit:typeof p=="number"&&(be=Z+p),be=Math.max(0,be);var Ee="",Ie=0;if(r.options.indentWithTabs)for(var Fe=Math.floor(be/F);Fe;--Fe)Ie+=F,Ee+="	";if(Ie<be&&(Ee+=Kt(be-Ie)),Ee!=K)return Rs(b,Ee,Ue(s,0),Ue(s,K.length),"+input"),H.stateAfter=null,!0;for(var Ge=0;Ge<b.sel.ranges.length;Ge++){var rt=b.sel.ranges[Ge];if(rt.head.line==s&&rt.head.ch<K.length){var dt=Ue(s,K.length);wo(b,Ge,new Ii(dt,dt));break}}}var xo=null;function Gl(r){xo=r}function $c(r,s,p,d,b){var C=r.doc;r.display.shift=!1,d||(d=C.sel);var F=+new Date-200,H=b=="paste"||r.state.pasteIncoming>F,Z=Xn(s),K=null;if(H&&d.ranges.length>1)if(xo&&xo.text.join(`
`)==s){if(d.ranges.length%xo.text.length==0){K=[];for(var be=0;be<xo.text.length;be++)K.push(C.splitLines(xo.text[be]))}}else Z.length==d.ranges.length&&r.options.pasteLinesPerSelection&&(K=le(Z,function(bt){return[bt]}));for(var Ee=r.curOp.updateInput,Ie=d.ranges.length-1;Ie>=0;Ie--){var Fe=d.ranges[Ie],Ge=Fe.from(),rt=Fe.to();Fe.empty()&&(p&&p>0?Ge=Ue(Ge.line,Ge.ch-p):r.state.overwrite&&!H?rt=Ue(rt.line,Math.min(Lt(C,rt.line).text.length,rt.ch+X(Z).length)):H&&xo&&xo.lineWise&&xo.text.join(`
`)==Z.join(`
`)&&(Ge=rt=Ue(Ge.line,0)));var dt={from:Ge,to:rt,text:K?K[Ie%K.length]:Z,origin:b||(H?"paste":r.state.cutIncoming>F?"cut":"+input")};gu(r.doc,dt),tn(r,"inputRead",r,dt)}s&&!H&&Zl(r,s),U(r),r.curOp.updateInput<2&&(r.curOp.updateInput=Ee),r.curOp.typing=!0,r.state.pasteIncoming=r.state.cutIncoming=-1}function pa(r,s){var p=r.clipboardData&&r.clipboardData.getData("Text");if(p)return r.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&s.hasFocus()&&Qn(s,function(){return $c(s,p,0,null,"paste")}),!0}function Zl(r,s){if(!(!r.options.electricChars||!r.options.smartIndent))for(var p=r.doc.sel,d=p.ranges.length-1;d>=0;d--){var b=p.ranges[d];if(!(b.head.ch>100||d&&p.ranges[d-1].head.line==b.head.line)){var C=r.getModeAt(b.head),F=!1;if(C.electricChars){for(var H=0;H<C.electricChars.length;H++)if(s.indexOf(C.electricChars.charAt(H))>-1){F=ll(r,b.head.line,"smart");break}}else C.electricInput&&C.electricInput.test(Lt(r.doc,b.head.line).text.slice(0,b.head.ch))&&(F=ll(r,b.head.line,"smart"));F&&tn(r,"electricInput",r,b.head.line)}}}function Xl(r){for(var s=[],p=[],d=0;d<r.doc.sel.ranges.length;d++){var b=r.doc.sel.ranges[d].head.line,C={anchor:Ue(b,0),head:Ue(b+1,0)};p.push(C),s.push(r.getRange(C.anchor,C.head))}return{text:s,ranges:p}}function cl(r,s,p,d){r.setAttribute("autocorrect",p?"on":"off"),r.setAttribute("autocapitalize",d?"on":"off"),r.setAttribute("spellcheck",!!s)}function fl(){var r=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=D("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return w?r.style.width="1000px":r.setAttribute("wrap","off"),S&&(r.style.border="1px solid black"),s}function Su(r){var s=r.optionHandlers,p=r.helpers={};r.prototype={constructor:r,focus:function(){V(this).focus(),this.display.input.focus()},setOption:function(d,b){var C=this.options,F=C[d];C[d]==b&&d!="mode"||(C[d]=b,s.hasOwnProperty(d)&&Di(this,s[d])(this,b,F),Ri(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,b){this.state.keyMaps[b?"push":"unshift"](tl(d))},removeKeyMap:function(d){for(var b=this.state.keyMaps,C=0;C<b.length;++C)if(b[C]==d||b[C].name==d)return b.splice(C,1),!0},addOverlay:Gt(function(d,b){var C=d.token?d:r.getMode(this.options,d);if(C.startState)throw new Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:C,modeSpec:d,opaque:b&&b.opaque,priority:b&&b.priority||0},function(F){return F.priority}),this.state.modeGen++,xr(this)}),removeOverlay:Gt(function(d){for(var b=this.state.overlays,C=0;C<b.length;++C){var F=b[C].modeSpec;if(F==d||typeof d=="string"&&F.name==d){b.splice(C,1),this.state.modeGen++,xr(this);return}}}),indentLine:Gt(function(d,b,C){typeof b!="string"&&typeof b!="number"&&(b==null?b=this.options.smartIndent?"smart":"prev":b=b?"add":"subtract"),We(this.doc,d)&&ll(this,d,b,C)}),indentSelection:Gt(function(d){for(var b=this.doc.sel.ranges,C=-1,F=0;F<b.length;F++){var H=b[F];if(H.empty())H.head.line>C&&(ll(this,H.head.line,d,!0),C=H.head.line,F==this.doc.sel.primIndex&&U(this));else{var Z=H.from(),K=H.to(),be=Math.max(C,Z.line);C=Math.min(this.lastLine(),K.line-(K.ch?0:1))+1;for(var Ee=be;Ee<C;++Ee)ll(this,Ee,d);var Ie=this.doc.sel.ranges;Z.ch==0&&b.length==Ie.length&&Ie[F].from().ch>0&&wo(this.doc,F,new Ii(Z,Ie[F].to()),wt)}}}),getTokenAt:function(d,b){return Ke(this,d,b)},getLineTokens:function(d,b){return Ke(this,Ue(d),b,!0)},getTokenTypeAt:function(d){d=qt(this.doc,d);var b=ae(this,Lt(this.doc,d.line)),C=0,F=(b.length-1)/2,H=d.ch,Z;if(H==0)Z=b[2];else for(;;){var K=C+F>>1;if((K?b[K*2-1]:0)>=H)F=K;else if(b[K*2+1]<H)C=K+1;else{Z=b[K*2+2];break}}var be=Z?Z.indexOf("overlay "):-1;return be<0?Z:be==0?null:Z.slice(0,be-1)},getModeAt:function(d){var b=this.doc.mode;return b.innerMode?r.innerMode(b,this.getTokenAt(d).state).mode:b},getHelper:function(d,b){return this.getHelpers(d,b)[0]},getHelpers:function(d,b){var C=[];if(!p.hasOwnProperty(b))return C;var F=p[b],H=this.getModeAt(d);if(typeof H[b]=="string")F[H[b]]&&C.push(F[H[b]]);else if(H[b])for(var Z=0;Z<H[b].length;Z++){var K=F[H[b][Z]];K&&C.push(K)}else H.helperType&&F[H.helperType]?C.push(F[H.helperType]):F[H.name]&&C.push(F[H.name]);for(var be=0;be<F._global.length;be++){var Ee=F._global[be];Ee.pred(H,this)&&Xe(C,Ee.val)==-1&&C.push(Ee.val)}return C},getStateAfter:function(d,b){var C=this.doc;return d=go(C,d??C.first+C.size-1),_e(this,d+1,b).state},cursorCoords:function(d,b){var C,F=this.doc.sel.primary();return d==null?C=F.head:typeof d=="object"?C=qt(this.doc,d):C=d?F.from():F.to(),Ye(this,C,b||"page")},charCoords:function(d,b){return it(this,qt(this.doc,d),b||"page")},coordsChar:function(d,b){return d=Ne(this,d,b||"page"),Si(this,d.left,d.top)},lineAtHeight:function(d,b){return d=Ne(this,{top:d,left:0},b||"page").top,xe(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,b,C){var F=!1,H;if(typeof d=="number"){var Z=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>Z&&(d=Z,F=!0),H=Lt(this.doc,d)}else H=d;return Zr(this,H,{top:0,left:0},b||"page",C||F).top+(F?this.doc.height-oo(H):0)},defaultTextHeight:function(){return ao(this.display)},defaultCharWidth:function(){return _o(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,b,C,F,H){var Z=this.display;d=Ye(this,qt(this.doc,d));var K=d.bottom,be=d.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),Z.sizer.appendChild(b),F=="over")K=d.top;else if(F=="above"||F=="near"){var Ee=Math.max(Z.wrapper.clientHeight,this.doc.height),Ie=Math.max(Z.sizer.clientWidth,Z.lineSpace.clientWidth);(F=="above"||d.bottom+b.offsetHeight>Ee)&&d.top>b.offsetHeight?K=d.top-b.offsetHeight:d.bottom+b.offsetHeight<=Ee&&(K=d.bottom),be+b.offsetWidth>Ie&&(be=Ie-b.offsetWidth)}b.style.top=K+"px",b.style.left=b.style.right="",H=="right"?(be=Z.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):(H=="left"?be=0:H=="middle"&&(be=(Z.sizer.clientWidth-b.offsetWidth)/2),b.style.left=be+"px"),C&&m(this,{left:be,top:K,right:be+b.offsetWidth,bottom:K+b.offsetHeight})},triggerOnKeyDown:Gt(qc),triggerOnKeyPress:Gt(ih),triggerOnKeyUp:qo,triggerOnMouseDown:Gt(rh),execCommand:function(d){if(rl.hasOwnProperty(d))return rl[d].call(null,this)},triggerElectric:Gt(function(d){Zl(this,d)}),findPosH:function(d,b,C,F){var H=1;b<0&&(H=-1,b=-b);for(var Z=qt(this.doc,d),K=0;K<b&&(Z=Xt(this.doc,Z,H,C,F),!Z.hitSide);++K);return Z},moveH:Gt(function(d,b){var C=this;this.extendSelectionsBy(function(F){return C.display.shift||C.doc.extend||F.empty()?Xt(C.doc,F.head,d,b,C.options.rtlMoveVisually):d<0?F.from():F.to()},yt)}),deleteH:Gt(function(d,b){var C=this.doc.sel,F=this.doc;C.somethingSelected()?F.replaceSelection("",null,"+delete"):rs(this,function(H){var Z=Xt(F,H.head,d,b,!1);return d<0?{from:Z,to:H.head}:{from:H.head,to:Z}})}),findPosV:function(d,b,C,F){var H=1,Z=F;b<0&&(H=-1,b=-b);for(var K=qt(this.doc,d),be=0;be<b;++be){var Ee=Ye(this,K,"div");if(Z==null?Z=Ee.left:Ee.left=Z,K=hl(this,Ee,H,C),K.hitSide)break}return K},moveV:Gt(function(d,b){var C=this,F=this.doc,H=[],Z=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(be){if(Z)return d<0?be.from():be.to();var Ee=Ye(C,be.head,"div");be.goalColumn!=null&&(Ee.left=be.goalColumn),H.push(Ee.left);var Ie=hl(C,Ee,d,b);return b=="page"&&be==F.sel.primary()&&M(C,it(C,Ie,"div").top-Ee.top),Ie},yt),H.length)for(var K=0;K<F.sel.ranges.length;K++)F.sel.ranges[K].goalColumn=H[K]}),findWordAt:function(d){var b=this.doc,C=Lt(b,d.line).text,F=d.ch,H=d.ch;if(C){var Z=this.getHelper(d,"wordChars");(d.sticky=="before"||H==C.length)&&F?--F:++H;for(var K=C.charAt(F),be=Qe(K,Z)?function(Ee){return Qe(Ee,Z)}:/\s/.test(K)?function(Ee){return/\s/.test(Ee)}:function(Ee){return!/\s/.test(Ee)&&!Qe(Ee)};F>0&&be(C.charAt(F-1));)--F;for(;H<C.length&&be(C.charAt(H));)++H}return new Ii(Ue(d.line,F),Ue(d.line,H))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ze(this.display.cursorDiv,"CodeMirror-overwrite"):Te(this.display.cursorDiv,"CodeMirror-overwrite"),Ri(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==et(Le(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gt(function(d,b){oe(this,d,b)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Tr(this)-this.display.barHeight,width:d.scrollWidth-Tr(this)-this.display.barWidth,clientHeight:$a(this),clientWidth:ia(this)}},scrollIntoView:Gt(function(d,b){d==null?(d={from:this.doc.sel.primary().head,to:null},b==null&&(b=this.options.cursorScrollMargin)):typeof d=="number"?d={from:Ue(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=b||0,d.from.line!=null?De(this,d):$e(this,d.from,d.to,d.margin)}),setSize:Gt(function(d,b){var C=this,F=function(Z){return typeof Z=="number"||/^\d+$/.test(String(Z))?Z+"px":Z};d!=null&&(this.display.wrapper.style.width=F(d)),b!=null&&(this.display.wrapper.style.height=F(b)),this.options.lineWrapping&&ru(this);var H=this.display.viewFrom;this.doc.iter(H,this.display.viewTo,function(Z){if(Z.widgets){for(var K=0;K<Z.widgets.length;K++)if(Z.widgets[K].noHScroll){cr(C,H,"widget");break}}++H}),this.curOp.forceUpdate=!0,Ri(this,"refresh",this)}),operation:function(d){return Qn(this,d)},startOperation:function(){return La(this)},endOperation:function(){return ca(this)},refresh:Gt(function(){var d=this.display.cachedTextHeight;xr(this),this.curOp.forceUpdate=!0,na(this),oe(this,this.doc.scrollLeft,this.doc.scrollTop),Ec(this.display),(d==null||Math.abs(d-ao(this.display))>.5||this.options.lineWrapping)&&Ro(this),Ri(this,"refresh",this)}),swapDoc:Gt(function(d){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),Ac(this,d),na(this),this.display.input.reset(),oe(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,tn(this,"swapDoc",this,b),b}),phrase:function(d){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,d)?b[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},si(r),r.registerHelper=function(d,b,C){p.hasOwnProperty(d)||(p[d]=r[d]={_global:[]}),p[d][b]=C},r.registerGlobalHelper=function(d,b,C,F){r.registerHelper(d,b,F),p[d]._global.push({pred:C,val:F})}}function Xt(r,s,p,d,b){var C=s,F=p,H=Lt(r,s.line),Z=b&&r.direction=="rtl"?-p:p;function K(){var _t=s.line+Z;return _t<r.first||_t>=r.first+r.size?!1:(s=new Ue(_t,s.ch,s.sticky),H=Lt(r,_t))}function be(_t){var vt;if(d=="codepoint"){var Tt=H.text.charCodeAt(s.ch+(p>0?0:-1));if(isNaN(Tt))vt=null;else{var Bt=p>0?Tt>=55296&&Tt<56320:Tt>=56320&&Tt<57343;vt=new Ue(s.line,Math.max(0,Math.min(H.text.length,s.ch+p*(Bt?2:1))),-p)}}else b?vt=os(r.cm,H,s,p):vt=il(H,s,p);if(vt==null)if(!_t&&K())s=nl(b,r.cm,H,s.line,Z);else return!1;else s=vt;return!0}if(d=="char"||d=="codepoint")be();else if(d=="column")be(!0);else if(d=="word"||d=="group")for(var Ee=null,Ie=d=="group",Fe=r.cm&&r.cm.getHelper(s,"wordChars"),Ge=!0;!(p<0&&!be(!Ge));Ge=!1){var rt=H.text.charAt(s.ch)||`
`,dt=Qe(rt,Fe)?"w":Ie&&rt==`
`?"n":!Ie||/\s/.test(rt)?null:"p";if(Ie&&!Ge&&!dt&&(dt="s"),Ee&&Ee!=dt){p<0&&(p=1,be(),s.sticky="after");break}if(dt&&(Ee=dt),p>0&&!be(!Ge))break}var bt=pu(r,s,C,F,!0);return ni(C,bt)&&(bt.hitSide=!0),bt}function hl(r,s,p,d){var b=r.doc,C=s.left,F;if(d=="page"){var H=Math.min(r.display.wrapper.clientHeight,V(r).innerHeight||b(r).documentElement.clientHeight),Z=Math.max(H-.5*ao(r.display),3);F=(p>0?s.bottom:s.top)+p*Z}else d=="line"&&(F=p>0?s.bottom+3:s.top-3);for(var K;K=Si(r,C,F),!!K.outside;){if(p<0?F<=0:F>=b.height){K.hitSide=!0;break}F+=p*5}return K}var zi=function(r){this.cm=r,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ze,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};zi.prototype.init=function(r){var s=this,p=this,d=p.cm,b=p.div=r.lineDiv;b.contentEditable=!0,cl(b,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function C(H){for(var Z=H.target;Z;Z=Z.parentNode){if(Z==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Z.className))break}return!1}Rt(b,"paste",function(H){!C(H)||pi(d,H)||pa(H,d)||x<=11&&setTimeout(Di(d,function(){return s.updateFromDOM()}),20)}),Rt(b,"compositionstart",function(H){s.composing={data:H.data,done:!1}}),Rt(b,"compositionupdate",function(H){s.composing||(s.composing={data:H.data,done:!1})}),Rt(b,"compositionend",function(H){s.composing&&(H.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),Rt(b,"touchstart",function(){return p.forceCompositionEnd()}),Rt(b,"input",function(){s.composing||s.readFromDOMSoon()});function F(H){if(!(!C(H)||pi(d,H))){if(d.somethingSelected())Gl({lineWise:!1,text:d.getSelections()}),H.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var Z=Xl(d);Gl({lineWise:!0,text:Z.text}),H.type=="cut"&&d.operation(function(){d.setSelections(Z.ranges,0,wt),d.replaceSelection("",null,"cut")})}else return;if(H.clipboardData){H.clipboardData.clearData();var K=xo.text.join(`
`);if(H.clipboardData.setData("Text",K),H.clipboardData.getData("Text")==K){H.preventDefault();return}}var be=fl(),Ee=be.firstChild;cl(Ee),d.display.lineSpace.insertBefore(be,d.display.lineSpace.firstChild),Ee.value=xo.text.join(`
`);var Ie=et(Re(b));ie(Ee),setTimeout(function(){d.display.lineSpace.removeChild(be),Ie.focus(),Ie==b&&p.showPrimarySelection()},50)}}Rt(b,"copy",F),Rt(b,"cut",F)},zi.prototype.screenReaderLabelChanged=function(r){r?this.div.setAttribute("aria-label",r):this.div.removeAttribute("aria-label")},zi.prototype.prepareSelection=function(){var r=Ta(this.cm,!1);return r.focus=et(Re(this.div))==this.div,r},zi.prototype.showSelection=function(r,s){!r||!this.cm.display.view.length||((r.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(r))},zi.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zi.prototype.showPrimarySelection=function(){var r=this.getSelection(),s=this.cm,p=s.doc.sel.primary(),d=p.from(),b=p.to();if(s.display.viewTo==s.display.viewFrom||d.line>=s.display.viewTo||b.line<s.display.viewFrom){r.removeAllRanges();return}var C=tr(s,r.anchorNode,r.anchorOffset),F=tr(s,r.focusNode,r.focusOffset);if(!(C&&!C.bad&&F&&!F.bad&&pt(li(C,F),d)==0&&pt(Nt(C,F),b)==0)){var H=s.display.view,Z=d.line>=s.display.viewFrom&&as(s,d)||{node:H[0].measure.map[2],offset:0},K=b.line<s.display.viewTo&&as(s,b);if(!K){var be=H[H.length-1].measure,Ee=be.maps?be.maps[be.maps.length-1]:be.map;K={node:Ee[Ee.length-1],offset:Ee[Ee.length-2]-Ee[Ee.length-3]}}if(!Z||!K){r.removeAllRanges();return}var Ie=r.rangeCount&&r.getRangeAt(0),Fe;try{Fe=ye(Z.node,Z.offset,K.offset,K.node)}catch{}Fe&&(!l&&s.state.focused?(r.collapse(Z.node,Z.offset),Fe.collapsed||(r.removeAllRanges(),r.addRange(Fe))):(r.removeAllRanges(),r.addRange(Fe)),Ie&&r.anchorNode==null?r.addRange(Ie):l&&this.startGracePeriod()),this.rememberSelection()}},zi.prototype.startGracePeriod=function(){var r=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){r.gracePeriod=!1,r.selectionChanged()&&r.cm.operation(function(){return r.cm.curOp.selectionChanged=!0})},20)},zi.prototype.showMultipleSelections=function(r){ne(this.cm.display.cursorDiv,r.cursors),ne(this.cm.display.selectionDiv,r.selection)},zi.prototype.rememberSelection=function(){var r=this.getSelection();this.lastAnchorNode=r.anchorNode,this.lastAnchorOffset=r.anchorOffset,this.lastFocusNode=r.focusNode,this.lastFocusOffset=r.focusOffset},zi.prototype.selectionInEditor=function(){var r=this.getSelection();if(!r.rangeCount)return!1;var s=r.getRangeAt(0).commonAncestorContainer;return Ce(this.div,s)},zi.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||et(Re(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},zi.prototype.blur=function(){this.div.blur()},zi.prototype.getField=function(){return this.div},zi.prototype.supportsTouch=function(){return!0},zi.prototype.receivedFocus=function(){var r=this,s=this;this.selectionInEditor()?setTimeout(function(){return r.pollSelection()},20):Qn(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function p(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},zi.prototype.selectionChanged=function(){var r=this.getSelection();return r.anchorNode!=this.lastAnchorNode||r.anchorOffset!=this.lastAnchorOffset||r.focusNode!=this.lastFocusNode||r.focusOffset!=this.lastFocusOffset},zi.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var r=this.getSelection(),s=this.cm;if(P&&A&&this.cm.display.gutterSpecs.length&&Pd(r.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=tr(s,r.anchorNode,r.anchorOffset),d=tr(s,r.focusNode,r.focusOffset);p&&d&&Qn(s,function(){fr(s.doc,Ja(p,d),wt),(p.bad||d.bad)&&(s.curOp.selectionChanged=!0)})}}},zi.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var r=this.cm,s=r.display,p=r.doc.sel.primary(),d=p.from(),b=p.to();if(d.ch==0&&d.line>r.firstLine()&&(d=Ue(d.line-1,Lt(r.doc,d.line-1).length)),b.ch==Lt(r.doc,b.line).text.length&&b.line<r.lastLine()&&(b=Ue(b.line+1,0)),d.line<s.viewFrom||b.line>s.viewTo-1)return!1;var C,F,H;d.line==s.viewFrom||(C=oa(r,d.line))==0?(F=ee(s.view[0].line),H=s.view[0].node):(F=ee(s.view[C].line),H=s.view[C-1].node.nextSibling);var Z=oa(r,b.line),K,be;if(Z==s.view.length-1?(K=s.viewTo-1,be=s.lineDiv.lastChild):(K=ee(s.view[Z+1].line)-1,be=s.view[Z+1].node.previousSibling),!H)return!1;for(var Ee=r.doc.splitLines(ch(r,H,be,F,K)),Ie=Kn(r.doc,Ue(F,0),Ue(K,Lt(r.doc,K).text.length));Ee.length>1&&Ie.length>1;)if(X(Ee)==X(Ie))Ee.pop(),Ie.pop(),K--;else if(Ee[0]==Ie[0])Ee.shift(),Ie.shift(),F++;else break;for(var Fe=0,Ge=0,rt=Ee[0],dt=Ie[0],bt=Math.min(rt.length,dt.length);Fe<bt&&rt.charCodeAt(Fe)==dt.charCodeAt(Fe);)++Fe;for(var _t=X(Ee),vt=X(Ie),Tt=Math.min(_t.length-(Ee.length==1?Fe:0),vt.length-(Ie.length==1?Fe:0));Ge<Tt&&_t.charCodeAt(_t.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)++Ge;if(Ee.length==1&&Ie.length==1&&F==d.line)for(;Fe&&Fe>d.ch&&_t.charCodeAt(_t.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)Fe--,Ge++;Ee[Ee.length-1]=_t.slice(0,_t.length-Ge).replace(/^\u200b+/,""),Ee[0]=Ee[0].slice(Fe).replace(/\u200b+$/,"");var Bt=Ue(F,Fe),It=Ue(K,Ie.length?X(Ie).length-Ge:0);if(Ee.length>1||Ee[0]||pt(Bt,It))return Rs(r.doc,Ee,Bt,It,"+input"),!0},zi.prototype.ensurePolled=function(){this.forceCompositionEnd()},zi.prototype.reset=function(){this.forceCompositionEnd()},zi.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zi.prototype.readFromDOMSoon=function(){var r=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(r.readDOMTimeout=null,r.composing)if(r.composing.done)r.composing=null;else return;r.updateFromDOM()},80))},zi.prototype.updateFromDOM=function(){var r=this;(this.cm.isReadOnly()||!this.pollContent())&&Qn(this.cm,function(){return xr(r.cm)})},zi.prototype.setUneditable=function(r){r.contentEditable="false"},zi.prototype.onKeyPress=function(r){r.charCode==0||this.composing||(r.preventDefault(),this.cm.isReadOnly()||Di(this.cm,$c)(this.cm,String.fromCharCode(r.charCode==null?r.keyCode:r.charCode),0))},zi.prototype.readOnlyChanged=function(r){this.div.contentEditable=String(r!="nocursor")},zi.prototype.onContextMenu=function(){},zi.prototype.resetPosition=function(){},zi.prototype.needsContentAttribute=!0;function as(r,s){var p=Za(r,s.line);if(!p||p.hidden)return null;var d=Lt(r.doc,s.line),b=Fo(p,d,s.line),C=Yt(d,r.doc.direction),F="left";if(C){var H=xt(C,s.ch);F=H%2?"right":"left"}var Z=Sa(b.map,s.ch,F);return Z.offset=Z.collapse=="right"?Z.end:Z.start,Z}function Pd(r){for(var s=r;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function ss(r,s){return s&&(r.bad=!0),r}function ch(r,s,p,d,b){var C="",F=!1,H=r.doc.lineSeparator(),Z=!1;function K(Fe){return function(Ge){return Ge.id==Fe}}function be(){F&&(C+=H,Z&&(C+=H),F=Z=!1)}function Ee(Fe){Fe&&(be(),C+=Fe)}function Ie(Fe){if(Fe.nodeType==1){var Ge=Fe.getAttribute("cm-text");if(Ge){Ee(Ge);return}var rt=Fe.getAttribute("cm-marker"),dt;if(rt){var bt=r.findMarks(Ue(d,0),Ue(b+1,0),K(+rt));bt.length&&(dt=bt[0].find(0))&&Ee(Kn(r.doc,dt.from,dt.to).join(H));return}if(Fe.getAttribute("contenteditable")=="false")return;var _t=/^(pre|div|p|li|table|br)$/i.test(Fe.nodeName);if(!/^br$/i.test(Fe.nodeName)&&Fe.textContent.length==0)return;_t&&be();for(var vt=0;vt<Fe.childNodes.length;vt++)Ie(Fe.childNodes[vt]);/^(pre|p)$/i.test(Fe.nodeName)&&(Z=!0),_t&&(F=!0)}else Fe.nodeType==3&&Ee(Fe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ie(s),s!=p;)s=s.nextSibling,Z=!1;return C}function tr(r,s,p){var d;if(s==r.display.lineDiv){if(d=r.display.lineDiv.childNodes[p],!d)return ss(r.clipPos(Ue(r.display.viewTo-1)),!0);s=null,p=0}else for(d=s;;d=d.parentNode){if(!d||d==r.display.lineDiv)return null;if(d.parentNode&&d.parentNode==r.display.lineDiv)break}for(var b=0;b<r.display.view.length;b++){var C=r.display.view[b];if(C.node==d)return Od(C,s,p)}}function Od(r,s,p){var d=r.text.firstChild,b=!1;if(!s||!Ce(d,s))return ss(Ue(ee(r.line),0),!0);if(s==d&&(b=!0,s=d.childNodes[p],p=0,!s)){var C=r.rest?X(r.rest):r.line;return ss(Ue(ee(C),C.text.length),b)}var F=s.nodeType==3?s:null,H=s;for(!F&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(F=s.firstChild,p&&(p=F.nodeValue.length));H.parentNode!=d;)H=H.parentNode;var Z=r.measure,K=Z.maps;function be(dt,bt,_t){for(var vt=-1;vt<(K?K.length:0);vt++)for(var Tt=vt<0?Z.map:K[vt],Bt=0;Bt<Tt.length;Bt+=3){var It=Tt[Bt+2];if(It==dt||It==bt){var ci=ee(vt<0?r.line:r.rest[vt]),$i=Tt[Bt]+_t;return(_t<0||It!=dt)&&($i=Tt[Bt+(_t?1:0)]),Ue(ci,$i)}}}var Ee=be(F,H,p);if(Ee)return ss(Ee,b);for(var Ie=H.nextSibling,Fe=F?F.nodeValue.length-p:0;Ie;Ie=Ie.nextSibling){if(Ee=be(Ie,Ie.firstChild,0),Ee)return ss(Ue(Ee.line,Ee.ch-Fe),b);Fe+=Ie.textContent.length}for(var Ge=H.previousSibling,rt=p;Ge;Ge=Ge.previousSibling){if(Ee=be(Ge,Ge.firstChild,-1),Ee)return ss(Ue(Ee.line,Ee.ch+rt),b);rt+=Ge.textContent.length}}var kn=function(r){this.cm=r,this.prevInput="",this.pollingFast=!1,this.polling=new Ze,this.hasSelection=!1,this.composing=null,this.resetting=!1};kn.prototype.init=function(r){var s=this,p=this,d=this.cm;this.createField(r);var b=this.textarea;r.wrapper.insertBefore(this.wrapper,r.wrapper.firstChild),S&&(b.style.width="0px"),Rt(b,"input",function(){v&&x>=9&&s.hasSelection&&(s.hasSelection=null),p.poll()}),Rt(b,"paste",function(F){pi(d,F)||pa(F,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function C(F){if(!pi(d,F)){if(d.somethingSelected())Gl({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var H=Xl(d);Gl({lineWise:!0,text:H.text}),F.type=="cut"?d.setSelections(H.ranges,null,wt):(p.prevInput="",b.value=H.text.join(`
`),ie(b))}else return;F.type=="cut"&&(d.state.cutIncoming=+new Date)}}Rt(b,"cut",C),Rt(b,"copy",C),Rt(r.scroller,"paste",function(F){if(!(Hn(r,F)||pi(d,F))){if(!b.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var H=new Event("paste");H.clipboardData=F.clipboardData,b.dispatchEvent(H)}}),Rt(r.lineSpace,"selectstart",function(F){Hn(r,F)||Bi(F)}),Rt(b,"compositionstart",function(){var F=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:F,range:d.markText(F,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Rt(b,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},kn.prototype.createField=function(r){this.wrapper=fl(),this.textarea=this.wrapper.firstChild;var s=this.cm.options;cl(this.textarea,s.spellcheck,s.autocorrect,s.autocapitalize)},kn.prototype.screenReaderLabelChanged=function(r){r?this.textarea.setAttribute("aria-label",r):this.textarea.removeAttribute("aria-label")},kn.prototype.prepareSelection=function(){var r=this.cm,s=r.display,p=r.doc,d=Ta(r);if(r.options.moveInputWithCursor){var b=Ye(r,p.sel.primary().head,"div"),C=s.wrapper.getBoundingClientRect(),F=s.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,b.top+F.top-C.top)),d.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,b.left+F.left-C.left))}return d},kn.prototype.showSelection=function(r){var s=this.cm,p=s.display;ne(p.cursorDiv,r.cursors),ne(p.selectionDiv,r.selection),r.teTop!=null&&(this.wrapper.style.top=r.teTop+"px",this.wrapper.style.left=r.teLeft+"px")},kn.prototype.reset=function(r){if(!(this.contextMenuPending||this.composing&&r)){var s=this.cm;if(this.resetting=!0,s.somethingSelected()){this.prevInput="";var p=s.getSelection();this.textarea.value=p,s.state.focused&&ie(this.textarea),v&&x>=9&&(this.hasSelection=p)}else r||(this.prevInput=this.textarea.value="",v&&x>=9&&(this.hasSelection=null));this.resetting=!1}},kn.prototype.getField=function(){return this.textarea},kn.prototype.supportsTouch=function(){return!1},kn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||et(Re(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},kn.prototype.blur=function(){this.textarea.blur()},kn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},kn.prototype.receivedFocus=function(){this.slowPoll()},kn.prototype.slowPoll=function(){var r=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){r.poll(),r.cm.state.focused&&r.slowPoll()})},kn.prototype.fastPoll=function(){var r=!1,s=this;s.pollingFast=!0;function p(){var d=s.poll();!d&&!r?(r=!0,s.polling.set(60,p)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,p)},kn.prototype.poll=function(){var r=this,s=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!s.state.focused||or(p)&&!d&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var b=p.value;if(b==d&&!s.somethingSelected())return!1;if(v&&x>=9&&this.hasSelection===b||z&&/[\uf700-\uf7ff]/.test(b))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var C=b.charCodeAt(0);if(C==8203&&!d&&(d=""),C==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,H=Math.min(d.length,b.length);F<H&&d.charCodeAt(F)==b.charCodeAt(F);)++F;return Qn(s,function(){$c(s,b.slice(F),d.length-F,null,r.composing?"*compose":null),b.length>1e3||b.indexOf(`
`)>-1?p.value=r.prevInput="":r.prevInput=b,r.composing&&(r.composing.range.clear(),r.composing.range=s.markText(r.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},kn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},kn.prototype.onKeyPress=function(){v&&x>=9&&(this.hasSelection=null),this.fastPoll()},kn.prototype.onContextMenu=function(r){var s=this,p=s.cm,d=p.display,b=s.textarea;s.contextMenuPending&&s.contextMenuPending();var C=so(p,r),F=d.scroller.scrollTop;if(!C||N)return;var H=p.options.resetSelectionOnContextMenu;H&&p.doc.sel.contains(C)==-1&&Di(p,fr)(p.doc,Ja(C),wt);var Z=b.style.cssText,K=s.wrapper.style.cssText,be=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",b.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(r.clientY-be.top-5)+"px; left: "+(r.clientX-be.left-5)+`px;
      z-index: 1000; background: `+(v?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ee;w&&(Ee=b.ownerDocument.defaultView.scrollY),d.input.focus(),w&&b.ownerDocument.defaultView.scrollTo(null,Ee),d.input.reset(),p.somethingSelected()||(b.value=s.prevInput=" "),s.contextMenuPending=Fe,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function Ie(){if(b.selectionStart!=null){var rt=p.somethingSelected(),dt=""+(rt?b.value:"");b.value="",b.value=dt,s.prevInput=rt?"":"",b.selectionStart=1,b.selectionEnd=dt.length,d.selForContextMenu=p.doc.sel}}function Fe(){if(s.contextMenuPending==Fe&&(s.contextMenuPending=!1,s.wrapper.style.cssText=K,b.style.cssText=Z,v&&x<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=F),b.selectionStart!=null)){(!v||v&&x<9)&&Ie();var rt=0,dt=function(){d.selForContextMenu==p.doc.sel&&b.selectionStart==0&&b.selectionEnd>0&&s.prevInput==""?Di(p,mu)(p):rt++<10?d.detectingSelectAll=setTimeout(dt,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(dt,200)}}if(v&&x>=9&&Ie(),ge){Ir(r);var Ge=function(){_i(window,"mouseup",Ge),setTimeout(Fe,20)};Rt(window,"mouseup",Ge)}else setTimeout(Fe,50)},kn.prototype.readOnlyChanged=function(r){r||this.reset(),this.textarea.disabled=r=="nocursor",this.textarea.readOnly=!!r},kn.prototype.setUneditable=function(){},kn.prototype.needsContentAttribute=!1;function fh(r,s){if(s=s?Ae(s):{},s.value=r.value,!s.tabindex&&r.tabIndex&&(s.tabindex=r.tabIndex),!s.placeholder&&r.placeholder&&(s.placeholder=r.placeholder),s.autofocus==null){var p=et(Re(r));s.autofocus=p==r||r.getAttribute("autofocus")!=null&&p==document.body}function d(){r.value=H.getValue()}var b;if(r.form&&(Rt(r.form,"submit",d),!s.leaveSubmitMethodAlone)){var C=r.form;b=C.submit;try{var F=C.submit=function(){d(),C.submit=b,C.submit(),C.submit=F}}catch{}}s.finishInit=function(Z){Z.save=d,Z.getTextArea=function(){return r},Z.toTextArea=function(){Z.toTextArea=isNaN,d(),r.parentNode.removeChild(Z.getWrapperElement()),r.style.display="",r.form&&(_i(r.form,"submit",d),!s.leaveSubmitMethodAlone&&typeof r.form.submit=="function"&&(r.form.submit=b))}},r.style.display="none";var H=Oi(function(Z){return r.parentNode.insertBefore(Z,r.nextSibling)},s);return H}function Fd(r){r.off=_i,r.on=Rt,r.wheelEventPixels=bd,r.Doc=Lr,r.splitLines=Xn,r.countColumn=je,r.findColumn=Mt,r.isWordChar=ot,r.Pass=Ct,r.signal=Ri,r.Line=Lo,r.changeEnd=es,r.scrollbarModel=Kr,r.Pos=Ue,r.cmpPos=pt,r.modes=ar,r.mimeModes=sr,r.resolveMode=ro,r.getMode=Er,r.modeExtensions=Dn,r.extendMode=zr,r.copyState=_n,r.startState=Vn,r.innerMode=mo,r.commands=rl,r.keyMap=ha,r.keyName=el,r.isModifierKey=Hl,r.lookupKey=fo,r.normalizeKeyMap=co,r.StringStream=Ui,r.SharedTextMarker=yu,r.TextMarker=Wo,r.LineWidget=Is,r.e_preventDefault=Bi,r.e_stopPropagation=io,r.e_stop=Ir,r.addClass=ze,r.contains=Ce,r.rmClass=Te,r.keyNames=er}Yc(Oi),Su(Oi);var hh="iter insert remove copy getEditor constructor".split(" ");for(var Vl in Lr.prototype)Lr.prototype.hasOwnProperty(Vl)&&Xe(hh,Vl)<0&&(Oi.prototype[Vl]=function(r){return function(){return r.apply(this.doc,arguments)}}(Lr.prototype[Vl]));return si(Lr),Oi.inputStyles={textarea:kn,contenteditable:zi},Oi.defineMode=function(r){!Oi.defaults.mode&&r!="null"&&(Oi.defaults.mode=r),An.apply(this,arguments)},Oi.defineMIME=no,Oi.defineMode("null",function(){return{token:function(r){return r.skipToEnd()}}}),Oi.defineMIME("text/plain","null"),Oi.defineExtension=function(r,s){Oi.prototype[r]=s},Oi.defineDocExtension=function(r,s){Lr.prototype[r]=s},Oi.fromTextArea=fh,Fd(Oi),Oi.version="5.65.19",Oi})}(Rh)),Rh.exports}var jw=bs();const Uw=kf(jw);var Jm={exports:{}},eg={exports:{}},tg;function L0(){return tg||(tg=1,function(t,e){(function(n){n(bs())})(function(n){var o={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},l={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(u,c){var h=u.indentUnit,v={},x=c.htmlMode?o:l;for(var w in x)v[w]=x[w];for(var w in c)v[w]=c[w];var k,A;function B(D,se){function ye(ze){return se.tokenize=ze,ze(D,se)}var Ce=D.next();if(Ce=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?ye(q("atom","]]>")):null:D.match("--")?ye(q("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),ye(O(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),se.tokenize=q("meta","?>"),"meta"):(k=D.eat("/")?"closeTag":"openTag",se.tokenize=N,"tag bracket");if(Ce=="&"){var et;return D.eat("#")?D.eat("x")?et=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):et=D.eatWhile(/[\d]/)&&D.eat(";"):et=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),et?"atom":"error"}else return D.eatWhile(/[^&<]/),null}B.isInText=!0;function N(D,se){var ye=D.next();if(ye==">"||ye=="/"&&D.eat(">"))return se.tokenize=B,k=ye==">"?"endTag":"selfcloseTag","tag bracket";if(ye=="=")return k="equals",null;if(ye=="<"){se.tokenize=B,se.state=G,se.tagName=se.tagStart=null;var Ce=se.tokenize(D,se);return Ce?Ce+" tag error":"tag error"}else return/[\'\"]/.test(ye)?(se.tokenize=j(ye),se.stringStartCol=D.column(),se.tokenize(D,se)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function j(D){var se=function(ye,Ce){for(;!ye.eol();)if(ye.next()==D){Ce.tokenize=N;break}return"string"};return se.isInAttribute=!0,se}function q(D,se){return function(ye,Ce){for(;!ye.eol();){if(ye.match(se)){Ce.tokenize=B;break}ye.next()}return D}}function O(D){return function(se,ye){for(var Ce;(Ce=se.next())!=null;){if(Ce=="<")return ye.tokenize=O(D+1),ye.tokenize(se,ye);if(Ce==">")if(D==1){ye.tokenize=B;break}else return ye.tokenize=O(D-1),ye.tokenize(se,ye)}return"meta"}}function S(D){return D&&D.toLowerCase()}function P(D,se,ye){this.prev=D.context,this.tagName=se||"",this.indent=D.indented,this.startOfLine=ye,(v.doNotIndent.hasOwnProperty(se)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function W(D){D.context&&(D.context=D.context.prev)}function z(D,se){for(var ye;;){if(!D.context||(ye=D.context.tagName,!v.contextGrabbers.hasOwnProperty(S(ye))||!v.contextGrabbers[S(ye)].hasOwnProperty(S(se))))return;W(D)}}function G(D,se,ye){return D=="openTag"?(ye.tagStart=se.column(),J):D=="closeTag"?ue:G}function J(D,se,ye){return D=="word"?(ye.tagName=se.current(),A="tag",ce):v.allowMissingTagName&&D=="endTag"?(A="tag bracket",ce(D,se,ye)):(A="error",J)}function ue(D,se,ye){if(D=="word"){var Ce=se.current();return ye.context&&ye.context.tagName!=Ce&&v.implicitlyClosed.hasOwnProperty(S(ye.context.tagName))&&W(ye),ye.context&&ye.context.tagName==Ce||v.matchClosing===!1?(A="tag",de):(A="tag error",ge)}else return v.allowMissingTagName&&D=="endTag"?(A="tag bracket",de(D,se,ye)):(A="error",ge)}function de(D,se,ye){return D!="endTag"?(A="error",de):(W(ye),G)}function ge(D,se,ye){return A="error",de(D,se,ye)}function ce(D,se,ye){if(D=="word")return A="attribute",Te;if(D=="endTag"||D=="selfcloseTag"){var Ce=ye.tagName,et=ye.tagStart;return ye.tagName=ye.tagStart=null,D=="selfcloseTag"||v.autoSelfClosers.hasOwnProperty(S(Ce))?z(ye,Ce):(z(ye,Ce),ye.context=new P(ye,Ce,et==ye.indented)),G}return A="error",ce}function Te(D,se,ye){return D=="equals"?ve:(v.allowMissing||(A="error"),ce(D,se,ye))}function ve(D,se,ye){return D=="string"?ne:D=="word"&&v.allowUnquoted?(A="string",ce):(A="error",ce(D,se,ye))}function ne(D,se,ye){return D=="string"?ne:ce(D,se,ye)}return{startState:function(D){var se={tokenize:B,state:G,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(se.baseIndent=D),se},token:function(D,se){if(!se.tagName&&D.sol()&&(se.indented=D.indentation()),D.eatSpace())return null;k=null;var ye=se.tokenize(D,se);return(ye||k)&&ye!="comment"&&(A=null,se.state=se.state(k||ye,D,se),A&&(ye=A=="error"?ye+" error":A)),ye},indent:function(D,se,ye){var Ce=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+h;if(Ce&&Ce.noIndent)return n.Pass;if(D.tokenize!=N&&D.tokenize!=B)return ye?ye.match(/^(\s*)/)[0].length:0;if(D.tagName)return v.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+h*(v.multilineTagIndentFactor||1);if(v.alignCDATA&&/<!\[CDATA\[/.test(se))return 0;var et=se&&/^<(\/)?([\w_:\.-]*)/.exec(se);if(et&&et[1])for(;Ce;)if(Ce.tagName==et[2]){Ce=Ce.prev;break}else if(v.implicitlyClosed.hasOwnProperty(S(Ce.tagName)))Ce=Ce.prev;else break;else if(et)for(;Ce;){var ze=v.contextGrabbers[S(Ce.tagName)];if(ze&&ze.hasOwnProperty(S(et[2])))Ce=Ce.prev;else break}for(;Ce&&Ce.prev&&!Ce.startOfLine;)Ce=Ce.prev;return Ce?Ce.indent+h:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:v.htmlMode?"html":"xml",helperType:v.htmlMode?"html":"xml",skipAttribute:function(D){D.state==ve&&(D.state=ce)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var se=[],ye=D.context;ye;ye=ye.prev)se.push(ye.tagName);return se.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),eg.exports}var ig={exports:{}},ng;function Yw(){return ng||(ng=1,function(t,e){(function(n){n(bs())})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var o=0;o<n.modeInfo.length;o++){var l=n.modeInfo[o];l.mimes&&(l.mime=l.mimes[0])}n.findModeByMIME=function(u){u=u.toLowerCase();for(var c=0;c<n.modeInfo.length;c++){var h=n.modeInfo[c];if(h.mime==u)return h;if(h.mimes){for(var v=0;v<h.mimes.length;v++)if(h.mimes[v]==u)return h}}if(/\+xml$/.test(u))return n.findModeByMIME("application/xml");if(/\+json$/.test(u))return n.findModeByMIME("application/json")},n.findModeByExtension=function(u){u=u.toLowerCase();for(var c=0;c<n.modeInfo.length;c++){var h=n.modeInfo[c];if(h.ext){for(var v=0;v<h.ext.length;v++)if(h.ext[v]==u)return h}}},n.findModeByFileName=function(u){for(var c=0;c<n.modeInfo.length;c++){var h=n.modeInfo[c];if(h.file&&h.file.test(u))return h}var v=u.lastIndexOf("."),x=v>-1&&u.substring(v+1,u.length);if(x)return n.findModeByExtension(x)},n.findModeByName=function(u){u=u.toLowerCase();for(var c=0;c<n.modeInfo.length;c++){var h=n.modeInfo[c];if(h.name.toLowerCase()==u)return h;if(h.alias){for(var v=0;v<h.alias.length;v++)if(h.alias[v].toLowerCase()==u)return h}}}})}()),ig.exports}var rg;function M0(){return rg||(rg=1,function(t,e){(function(n){n(bs(),L0(),Yw())})(function(n){n.defineMode("markdown",function(o,l){var u=n.getMode(o,"text/html"),c=u.name=="null";function h(ie){if(n.findModeByName){var Y=n.findModeByName(ie);Y&&(ie=Y.mime||Y.mimes[0])}var Le=n.getMode(o,ie);return Le.name=="null"?null:Le}l.highlightFormatting===void 0&&(l.highlightFormatting=!1),l.maxBlockquoteDepth===void 0&&(l.maxBlockquoteDepth=0),l.taskLists===void 0&&(l.taskLists=!1),l.strikethrough===void 0&&(l.strikethrough=!1),l.emoji===void 0&&(l.emoji=!1),l.fencedCodeBlockHighlighting===void 0&&(l.fencedCodeBlockHighlighting=!0),l.fencedCodeBlockDefaultMode===void 0&&(l.fencedCodeBlockDefaultMode="text/plain"),l.xml===void 0&&(l.xml=!0),l.tokenTypeOverrides===void 0&&(l.tokenTypeOverrides={});var v={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var x in v)v.hasOwnProperty(x)&&l.tokenTypeOverrides[x]&&(v[x]=l.tokenTypeOverrides[x]);var w=/^([*\-_])(?:\s*\1){2,}\s*$/,k=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,A=/^\[(x| )\](?=\s)/i,B=l.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,N=/^ {0,3}(?:\={1,}|-{2,})\s*$/,j=/^[^#!\[\]*_\\<>` "'(~:]+/,q=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,O=/^\s*\[[^\]]+?\]:.*$/,S=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,P="    ";function W(ie,Y,Le){return Y.f=Y.inline=Le,Le(ie,Y)}function z(ie,Y,Le){return Y.f=Y.block=Le,Le(ie,Y)}function G(ie){return!ie||!/\S/.test(ie.string)}function J(ie){if(ie.linkTitle=!1,ie.linkHref=!1,ie.linkText=!1,ie.em=!1,ie.strong=!1,ie.strikethrough=!1,ie.quote=0,ie.indentedCode=!1,ie.f==de){var Y=c;if(!Y){var Le=n.innerMode(u,ie.htmlState);Y=Le.mode.name=="xml"&&Le.state.tagStart===null&&!Le.state.context&&Le.state.tokenize.isInText}Y&&(ie.f=ve,ie.block=ue,ie.htmlState=null)}return ie.trailingSpace=0,ie.trailingSpaceNewLine=!1,ie.prevLine=ie.thisLine,ie.thisLine={stream:null},null}function ue(ie,Y){var Le=ie.column()===Y.indentation,Re=G(Y.prevLine.stream),V=Y.indentedCode,we=Y.prevLine.hr,Ae=Y.list!==!1,je=(Y.listStack[Y.listStack.length-1]||0)+3;Y.indentedCode=!1;var Ze=Y.indentation;if(Y.indentationDiff===null&&(Y.indentationDiff=Y.indentation,Ae)){for(Y.list=null;Ze<Y.listStack[Y.listStack.length-1];)Y.listStack.pop(),Y.listStack.length?Y.indentation=Y.listStack[Y.listStack.length-1]:Y.list=!1;Y.list!==!1&&(Y.indentationDiff=Ze-Y.listStack[Y.listStack.length-1])}var Xe=!Re&&!we&&!Y.prevLine.header&&(!Ae||!V)&&!Y.prevLine.fencedCodeEnd,ut=(Y.list===!1||we||Re)&&Y.indentation<=je&&ie.match(w),Ct=null;if(Y.indentationDiff>=4&&(V||Y.prevLine.fencedCodeEnd||Y.prevLine.header||Re))return ie.skipToEnd(),Y.indentedCode=!0,v.code;if(ie.eatSpace())return null;if(Le&&Y.indentation<=je&&(Ct=ie.match(B))&&Ct[1].length<=6)return Y.quote=0,Y.header=Ct[1].length,Y.thisLine.header=!0,l.highlightFormatting&&(Y.formatting="header"),Y.f=Y.inline,ce(Y);if(Y.indentation<=je&&ie.eat(">"))return Y.quote=Le?1:Y.quote+1,l.highlightFormatting&&(Y.formatting="quote"),ie.eatSpace(),ce(Y);if(!ut&&!Y.setext&&Le&&Y.indentation<=je&&(Ct=ie.match(k))){var wt=Ct[1]?"ol":"ul";return Y.indentation=Ze+ie.current().length,Y.list=!0,Y.quote=0,Y.listStack.push(Y.indentation),Y.em=!1,Y.strong=!1,Y.code=!1,Y.strikethrough=!1,l.taskLists&&ie.match(A,!1)&&(Y.taskList=!0),Y.f=Y.inline,l.highlightFormatting&&(Y.formatting=["list","list-"+wt]),ce(Y)}else{if(Le&&Y.indentation<=je&&(Ct=ie.match(q,!0)))return Y.quote=0,Y.fencedEndRE=new RegExp(Ct[1]+"+ *$"),Y.localMode=l.fencedCodeBlockHighlighting&&h(Ct[2]||l.fencedCodeBlockDefaultMode),Y.localMode&&(Y.localState=n.startState(Y.localMode)),Y.f=Y.block=ge,l.highlightFormatting&&(Y.formatting="code-block"),Y.code=-1,ce(Y);if(Y.setext||(!Xe||!Ae)&&!Y.quote&&Y.list===!1&&!Y.code&&!ut&&!O.test(ie.string)&&(Ct=ie.lookAhead(1))&&(Ct=Ct.match(N)))return Y.setext?(Y.header=Y.setext,Y.setext=0,ie.skipToEnd(),l.highlightFormatting&&(Y.formatting="header")):(Y.header=Ct[0].charAt(0)=="="?1:2,Y.setext=Y.header),Y.thisLine.header=!0,Y.f=Y.inline,ce(Y);if(ut)return ie.skipToEnd(),Y.hr=!0,Y.thisLine.hr=!0,v.hr;if(ie.peek()==="[")return W(ie,Y,Ce)}return W(ie,Y,Y.inline)}function de(ie,Y){var Le=u.token(ie,Y.htmlState);if(!c){var Re=n.innerMode(u,Y.htmlState);(Re.mode.name=="xml"&&Re.state.tagStart===null&&!Re.state.context&&Re.state.tokenize.isInText||Y.md_inside&&ie.current().indexOf(">")>-1)&&(Y.f=ve,Y.block=ue,Y.htmlState=null)}return Le}function ge(ie,Y){var Le=Y.listStack[Y.listStack.length-1]||0,Re=Y.indentation<Le,V=Le+3;if(Y.fencedEndRE&&Y.indentation<=V&&(Re||ie.match(Y.fencedEndRE))){l.highlightFormatting&&(Y.formatting="code-block");var we;return Re||(we=ce(Y)),Y.localMode=Y.localState=null,Y.block=ue,Y.f=ve,Y.fencedEndRE=null,Y.code=0,Y.thisLine.fencedCodeEnd=!0,Re?z(ie,Y,Y.block):we}else return Y.localMode?Y.localMode.token(ie,Y.localState):(ie.skipToEnd(),v.code)}function ce(ie){var Y=[];if(ie.formatting){Y.push(v.formatting),typeof ie.formatting=="string"&&(ie.formatting=[ie.formatting]);for(var Le=0;Le<ie.formatting.length;Le++)Y.push(v.formatting+"-"+ie.formatting[Le]),ie.formatting[Le]==="header"&&Y.push(v.formatting+"-"+ie.formatting[Le]+"-"+ie.header),ie.formatting[Le]==="quote"&&(!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=ie.quote?Y.push(v.formatting+"-"+ie.formatting[Le]+"-"+ie.quote):Y.push("error"))}if(ie.taskOpen)return Y.push("meta"),Y.length?Y.join(" "):null;if(ie.taskClosed)return Y.push("property"),Y.length?Y.join(" "):null;if(ie.linkHref?Y.push(v.linkHref,"url"):(ie.strong&&Y.push(v.strong),ie.em&&Y.push(v.em),ie.strikethrough&&Y.push(v.strikethrough),ie.emoji&&Y.push(v.emoji),ie.linkText&&Y.push(v.linkText),ie.code&&Y.push(v.code),ie.image&&Y.push(v.image),ie.imageAltText&&Y.push(v.imageAltText,"link"),ie.imageMarker&&Y.push(v.imageMarker)),ie.header&&Y.push(v.header,v.header+"-"+ie.header),ie.quote&&(Y.push(v.quote),!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=ie.quote?Y.push(v.quote+"-"+ie.quote):Y.push(v.quote+"-"+l.maxBlockquoteDepth)),ie.list!==!1){var Re=(ie.listStack.length-1)%3;Re?Re===1?Y.push(v.list2):Y.push(v.list3):Y.push(v.list1)}return ie.trailingSpaceNewLine?Y.push("trailing-space-new-line"):ie.trailingSpace&&Y.push("trailing-space-"+(ie.trailingSpace%2?"a":"b")),Y.length?Y.join(" "):null}function Te(ie,Y){if(ie.match(j,!0))return ce(Y)}function ve(ie,Y){var Le=Y.text(ie,Y);if(typeof Le<"u")return Le;if(Y.list)return Y.list=null,ce(Y);if(Y.taskList){var Re=ie.match(A,!0)[1]===" ";return Re?Y.taskOpen=!0:Y.taskClosed=!0,l.highlightFormatting&&(Y.formatting="task"),Y.taskList=!1,ce(Y)}if(Y.taskOpen=!1,Y.taskClosed=!1,Y.header&&ie.match(/^#+$/,!0))return l.highlightFormatting&&(Y.formatting="header"),ce(Y);var V=ie.next();if(Y.linkTitle){Y.linkTitle=!1;var we=V;V==="("&&(we=")"),we=(we+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Ae="^\\s*(?:[^"+we+"\\\\]+|\\\\\\\\|\\\\.)"+we;if(ie.match(new RegExp(Ae),!0))return v.linkHref}if(V==="`"){var je=Y.formatting;l.highlightFormatting&&(Y.formatting="code"),ie.eatWhile("`");var Ze=ie.current().length;if(Y.code==0&&(!Y.quote||Ze==1))return Y.code=Ze,ce(Y);if(Ze==Y.code){var Xe=ce(Y);return Y.code=0,Xe}else return Y.formatting=je,ce(Y)}else if(Y.code)return ce(Y);if(V==="\\"&&(ie.next(),l.highlightFormatting)){var ut=ce(Y),Ct=v.formatting+"-escape";return ut?ut+" "+Ct:Ct}if(V==="!"&&ie.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Y.imageMarker=!0,Y.image=!0,l.highlightFormatting&&(Y.formatting="image"),ce(Y);if(V==="["&&Y.imageMarker&&ie.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Y.imageMarker=!1,Y.imageAltText=!0,l.highlightFormatting&&(Y.formatting="image"),ce(Y);if(V==="]"&&Y.imageAltText){l.highlightFormatting&&(Y.formatting="image");var ut=ce(Y);return Y.imageAltText=!1,Y.image=!1,Y.inline=Y.f=D,ut}if(V==="["&&!Y.image)return Y.linkText&&ie.match(/^.*?\]/)||(Y.linkText=!0,l.highlightFormatting&&(Y.formatting="link")),ce(Y);if(V==="]"&&Y.linkText){l.highlightFormatting&&(Y.formatting="link");var ut=ce(Y);return Y.linkText=!1,Y.inline=Y.f=ie.match(/\(.*?\)| ?\[.*?\]/,!1)?D:ve,ut}if(V==="<"&&ie.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=ne,l.highlightFormatting&&(Y.formatting="link");var ut=ce(Y);return ut?ut+=" ":ut="",ut+v.linkInline}if(V==="<"&&ie.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=ne,l.highlightFormatting&&(Y.formatting="link");var ut=ce(Y);return ut?ut+=" ":ut="",ut+v.linkEmail}if(l.xml&&V==="<"&&ie.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var wt=ie.string.indexOf(">",ie.pos);if(wt!=-1){var St=ie.string.substring(ie.start,wt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(St)&&(Y.md_inside=!0)}return ie.backUp(1),Y.htmlState=n.startState(u),z(ie,Y,de)}if(l.xml&&V==="<"&&ie.match(/^\/\w*?>/))return Y.md_inside=!1,"tag";if(V==="*"||V==="_"){for(var yt=1,Mt=ie.pos==1?" ":ie.string.charAt(ie.pos-2);yt<3&&ie.eat(V);)yt++;var Ut=ie.peek()||" ",Kt=!/\s/.test(Ut)&&(!S.test(Ut)||/\s/.test(Mt)||S.test(Mt)),X=!/\s/.test(Mt)&&(!S.test(Mt)||/\s/.test(Ut)||S.test(Ut)),le=null,Q=null;if(yt%2&&(!Y.em&&Kt&&(V==="*"||!X||S.test(Mt))?le=!0:Y.em==V&&X&&(V==="*"||!Kt||S.test(Ut))&&(le=!1)),yt>1&&(!Y.strong&&Kt&&(V==="*"||!X||S.test(Mt))?Q=!0:Y.strong==V&&X&&(V==="*"||!Kt||S.test(Ut))&&(Q=!1)),Q!=null||le!=null){l.highlightFormatting&&(Y.formatting=le==null?"strong":Q==null?"em":"strong em"),le===!0&&(Y.em=V),Q===!0&&(Y.strong=V);var Xe=ce(Y);return le===!1&&(Y.em=!1),Q===!1&&(Y.strong=!1),Xe}}else if(V===" "&&(ie.eat("*")||ie.eat("_"))){if(ie.peek()===" ")return ce(Y);ie.backUp(1)}if(l.strikethrough){if(V==="~"&&ie.eatWhile(V)){if(Y.strikethrough){l.highlightFormatting&&(Y.formatting="strikethrough");var Xe=ce(Y);return Y.strikethrough=!1,Xe}else if(ie.match(/^[^\s]/,!1))return Y.strikethrough=!0,l.highlightFormatting&&(Y.formatting="strikethrough"),ce(Y)}else if(V===" "&&ie.match("~~",!0)){if(ie.peek()===" ")return ce(Y);ie.backUp(2)}}if(l.emoji&&V===":"&&ie.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Y.emoji=!0,l.highlightFormatting&&(Y.formatting="emoji");var he=ce(Y);return Y.emoji=!1,he}return V===" "&&(ie.match(/^ +$/,!1)?Y.trailingSpace++:Y.trailingSpace&&(Y.trailingSpaceNewLine=!0)),ce(Y)}function ne(ie,Y){var Le=ie.next();if(Le===">"){Y.f=Y.inline=ve,l.highlightFormatting&&(Y.formatting="link");var Re=ce(Y);return Re?Re+=" ":Re="",Re+v.linkInline}return ie.match(/^[^>]+/,!0),v.linkInline}function D(ie,Y){if(ie.eatSpace())return null;var Le=ie.next();return Le==="("||Le==="["?(Y.f=Y.inline=ye(Le==="("?")":"]"),l.highlightFormatting&&(Y.formatting="link-string"),Y.linkHref=!0,ce(Y)):"error"}var se={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ye(ie){return function(Y,Le){var Re=Y.next();if(Re===ie){Le.f=Le.inline=ve,l.highlightFormatting&&(Le.formatting="link-string");var V=ce(Le);return Le.linkHref=!1,V}return Y.match(se[ie]),Le.linkHref=!0,ce(Le)}}function Ce(ie,Y){return ie.match(/^([^\]\\]|\\.)*\]:/,!1)?(Y.f=et,ie.next(),l.highlightFormatting&&(Y.formatting="link"),Y.linkText=!0,ce(Y)):W(ie,Y,ve)}function et(ie,Y){if(ie.match("]:",!0)){Y.f=Y.inline=ze,l.highlightFormatting&&(Y.formatting="link");var Le=ce(Y);return Y.linkText=!1,Le}return ie.match(/^([^\]\\]|\\.)+/,!0),v.linkText}function ze(ie,Y){return ie.eatSpace()?null:(ie.match(/^[^\s]+/,!0),ie.peek()===void 0?Y.linkTitle=!0:ie.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Y.f=Y.inline=ve,v.linkHref+" url")}var Me={startState:function(){return{f:ue,prevLine:{stream:null},thisLine:{stream:null},block:ue,htmlState:null,indentation:0,inline:ve,text:Te,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ie){return{f:ie.f,prevLine:ie.prevLine,thisLine:ie.thisLine,block:ie.block,htmlState:ie.htmlState&&n.copyState(u,ie.htmlState),indentation:ie.indentation,localMode:ie.localMode,localState:ie.localMode?n.copyState(ie.localMode,ie.localState):null,inline:ie.inline,text:ie.text,formatting:!1,linkText:ie.linkText,linkTitle:ie.linkTitle,linkHref:ie.linkHref,code:ie.code,em:ie.em,strong:ie.strong,strikethrough:ie.strikethrough,emoji:ie.emoji,header:ie.header,setext:ie.setext,hr:ie.hr,taskList:ie.taskList,list:ie.list,listStack:ie.listStack.slice(0),quote:ie.quote,indentedCode:ie.indentedCode,trailingSpace:ie.trailingSpace,trailingSpaceNewLine:ie.trailingSpaceNewLine,md_inside:ie.md_inside,fencedEndRE:ie.fencedEndRE}},token:function(ie,Y){if(Y.formatting=!1,ie!=Y.thisLine.stream){if(Y.header=0,Y.hr=!1,ie.match(/^\s*$/,!0))return J(Y),null;if(Y.prevLine=Y.thisLine,Y.thisLine={stream:ie},Y.taskList=!1,Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,!Y.localState&&(Y.f=Y.block,Y.f!=de)){var Le=ie.match(/^\s*/,!0)[0].replace(/\t/g,P).length;if(Y.indentation=Le,Y.indentationDiff=null,Le>0)return null}}return Y.f(ie,Y)},innerMode:function(ie){return ie.block==de?{state:ie.htmlState,mode:u}:ie.localState?{state:ie.localState,mode:ie.localMode}:{state:ie,mode:Me}},indent:function(ie,Y,Le){return ie.block==de&&u.indent?u.indent(ie.htmlState,Y,Le):ie.localState&&ie.localMode.indent?ie.localMode.indent(ie.localState,Y,Le):n.Pass},blankLine:J,getType:ce,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Me},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})}()),Jm.exports}M0();var og={exports:{}},ag;function $w(){return ag||(ag=1,function(t,e){(function(n){n(bs())})(function(n){n.defineMode("javascript",function(o,l){var u=o.indentUnit,c=l.statementIndent,h=l.jsonld,v=l.json||h,x=l.trackScope!==!1,w=l.typescript,k=l.wordCharacters||/[\w$\xa1-\uffff]/,A=function(){function ee(Yi){return{type:Yi,style:"keyword"}}var xe=ee("keyword a"),We=ee("keyword b"),nt=ee("keyword c"),Ue=ee("keyword d"),pt=ee("operator"),ni={type:"atom",style:"atom"};return{if:ee("if"),while:xe,with:xe,else:We,do:We,try:We,finally:We,return:Ue,break:Ue,continue:Ue,new:ee("new"),delete:nt,void:nt,throw:nt,debugger:ee("debugger"),var:ee("var"),const:ee("var"),let:ee("var"),function:ee("function"),catch:ee("catch"),for:ee("for"),switch:ee("switch"),case:ee("case"),default:ee("default"),in:pt,typeof:pt,instanceof:pt,true:ni,false:ni,null:ni,undefined:ni,NaN:ni,Infinity:ni,this:ee("this"),class:ee("class"),super:ee("atom"),yield:nt,export:ee("export"),import:ee("import"),extends:nt,await:nt}}(),B=/[+\-*&%=<>!?|~^@]/,N=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function j(ee){for(var xe=!1,We,nt=!1;(We=ee.next())!=null;){if(!xe){if(We=="/"&&!nt)return;We=="["?nt=!0:nt&&We=="]"&&(nt=!1)}xe=!xe&&We=="\\"}}var q,O;function S(ee,xe,We){return q=ee,O=We,xe}function P(ee,xe){var We=ee.next();if(We=='"'||We=="'")return xe.tokenize=W(We),xe.tokenize(ee,xe);if(We=="."&&ee.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(We=="."&&ee.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(We))return S(We);if(We=="="&&ee.eat(">"))return S("=>","operator");if(We=="0"&&ee.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(We))return ee.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(We=="/")return ee.eat("*")?(xe.tokenize=z,z(ee,xe)):ee.eat("/")?(ee.skipToEnd(),S("comment","comment")):Bn(ee,xe,1)?(j(ee),ee.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(ee.eat("="),S("operator","operator",ee.current()));if(We=="`")return xe.tokenize=G,G(ee,xe);if(We=="#"&&ee.peek()=="!")return ee.skipToEnd(),S("meta","meta");if(We=="#"&&ee.eatWhile(k))return S("variable","property");if(We=="<"&&ee.match("!--")||We=="-"&&ee.match("->")&&!/\S/.test(ee.string.slice(0,ee.start)))return ee.skipToEnd(),S("comment","comment");if(B.test(We))return(We!=">"||!xe.lexical||xe.lexical.type!=">")&&(ee.eat("=")?(We=="!"||We=="=")&&ee.eat("="):/[<>*+\-|&?]/.test(We)&&(ee.eat(We),We==">"&&ee.eat(We))),We=="?"&&ee.eat(".")?S("."):S("operator","operator",ee.current());if(k.test(We)){ee.eatWhile(k);var nt=ee.current();if(xe.lastType!="."){if(A.propertyIsEnumerable(nt)){var Ue=A[nt];return S(Ue.type,Ue.style,nt)}if(nt=="async"&&ee.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",nt)}return S("variable","variable",nt)}}function W(ee){return function(xe,We){var nt=!1,Ue;if(h&&xe.peek()=="@"&&xe.match(N))return We.tokenize=P,S("jsonld-keyword","meta");for(;(Ue=xe.next())!=null&&!(Ue==ee&&!nt);)nt=!nt&&Ue=="\\";return nt||(We.tokenize=P),S("string","string")}}function z(ee,xe){for(var We=!1,nt;nt=ee.next();){if(nt=="/"&&We){xe.tokenize=P;break}We=nt=="*"}return S("comment","comment")}function G(ee,xe){for(var We=!1,nt;(nt=ee.next())!=null;){if(!We&&(nt=="`"||nt=="$"&&ee.eat("{"))){xe.tokenize=P;break}We=!We&&nt=="\\"}return S("quasi","string-2",ee.current())}var J="([{}])";function ue(ee,xe){xe.fatArrowAt&&(xe.fatArrowAt=null);var We=ee.string.indexOf("=>",ee.start);if(!(We<0)){if(w){var nt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ee.string.slice(ee.start,We));nt&&(We=nt.index)}for(var Ue=0,pt=!1,ni=We-1;ni>=0;--ni){var Yi=ee.string.charAt(ni),Nt=J.indexOf(Yi);if(Nt>=0&&Nt<3){if(!Ue){++ni;break}if(--Ue==0){Yi=="("&&(pt=!0);break}}else if(Nt>=3&&Nt<6)++Ue;else if(k.test(Yi))pt=!0;else if(/["'\/`]/.test(Yi))for(;;--ni){if(ni==0)return;var li=ee.string.charAt(ni-1);if(li==Yi&&ee.string.charAt(ni-2)!="\\"){ni--;break}}else if(pt&&!Ue){++ni;break}}pt&&!Ue&&(xe.fatArrowAt=ni)}}var de={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ge(ee,xe,We,nt,Ue,pt){this.indented=ee,this.column=xe,this.type=We,this.prev=Ue,this.info=pt,nt!=null&&(this.align=nt)}function ce(ee,xe){if(!x)return!1;for(var We=ee.localVars;We;We=We.next)if(We.name==xe)return!0;for(var nt=ee.context;nt;nt=nt.prev)for(var We=nt.vars;We;We=We.next)if(We.name==xe)return!0}function Te(ee,xe,We,nt,Ue){var pt=ee.cc;for(ve.state=ee,ve.stream=Ue,ve.marked=null,ve.cc=pt,ve.style=xe,ee.lexical.hasOwnProperty("align")||(ee.lexical.align=!0);;){var ni=pt.length?pt.pop():v?Xe:je;if(ni(We,nt)){for(;pt.length&&pt[pt.length-1].lex;)pt.pop()();return ve.marked?ve.marked:We=="variable"&&ce(ee,nt)?"variable-2":xe}}}var ve={state:null,marked:null,cc:null};function ne(){for(var ee=arguments.length-1;ee>=0;ee--)ve.cc.push(arguments[ee])}function D(){return ne.apply(null,arguments),!0}function se(ee,xe){for(var We=xe;We;We=We.next)if(We.name==ee)return!0;return!1}function ye(ee){var xe=ve.state;if(ve.marked="def",!!x){if(xe.context){if(xe.lexical.info=="var"&&xe.context&&xe.context.block){var We=Ce(ee,xe.context);if(We!=null){xe.context=We;return}}else if(!se(ee,xe.localVars)){xe.localVars=new Me(ee,xe.localVars);return}}l.globalVars&&!se(ee,xe.globalVars)&&(xe.globalVars=new Me(ee,xe.globalVars))}}function Ce(ee,xe){if(xe)if(xe.block){var We=Ce(ee,xe.prev);return We?We==xe.prev?xe:new ze(We,xe.vars,!0):null}else return se(ee,xe.vars)?xe:new ze(xe.prev,new Me(ee,xe.vars),!1);else return null}function et(ee){return ee=="public"||ee=="private"||ee=="protected"||ee=="abstract"||ee=="readonly"}function ze(ee,xe,We){this.prev=ee,this.vars=xe,this.block=We}function Me(ee,xe){this.name=ee,this.next=xe}var ie=new Me("this",new Me("arguments",null));function Y(){ve.state.context=new ze(ve.state.context,ve.state.localVars,!1),ve.state.localVars=ie}function Le(){ve.state.context=new ze(ve.state.context,ve.state.localVars,!0),ve.state.localVars=null}Y.lex=Le.lex=!0;function Re(){ve.state.localVars=ve.state.context.vars,ve.state.context=ve.state.context.prev}Re.lex=!0;function V(ee,xe){var We=function(){var nt=ve.state,Ue=nt.indented;if(nt.lexical.type=="stat")Ue=nt.lexical.indented;else for(var pt=nt.lexical;pt&&pt.type==")"&&pt.align;pt=pt.prev)Ue=pt.indented;nt.lexical=new ge(Ue,ve.stream.column(),ee,null,nt.lexical,xe)};return We.lex=!0,We}function we(){var ee=ve.state;ee.lexical.prev&&(ee.lexical.type==")"&&(ee.indented=ee.lexical.indented),ee.lexical=ee.lexical.prev)}we.lex=!0;function Ae(ee){function xe(We){return We==ee?D():ee==";"||We=="}"||We==")"||We=="]"?ne():D(xe)}return xe}function je(ee,xe){return ee=="var"?D(V("vardef",xe),io,Ae(";"),we):ee=="keyword a"?D(V("form"),Ct,je,we):ee=="keyword b"?D(V("form"),je,we):ee=="keyword d"?ve.stream.match(/^\s*$/,!1)?D():D(V("stat"),St,Ae(";"),we):ee=="debugger"?D(Ae(";")):ee=="{"?D(V("}"),Le,$t,we,Re):ee==";"?D():ee=="if"?(ve.state.lexical.info=="else"&&ve.state.cc[ve.state.cc.length-1]==we&&ve.state.cc.pop()(),D(V("form"),Ct,je,we,Tn)):ee=="function"?D(Xn):ee=="for"?D(V("form"),Le,Ot,je,Re,we):ee=="class"||w&&xe=="interface"?(ve.marked="keyword",D(V("form",ee=="class"?ee:xe),ar,we)):ee=="variable"?w&&xe=="declare"?(ve.marked="keyword",D(je)):w&&(xe=="module"||xe=="enum"||xe=="type")&&ve.stream.match(/^\s*\w/,!1)?(ve.marked="keyword",xe=="enum"?D(Lt):xe=="type"?D($r,Ae("operator"),Yt,Ae(";")):D(V("form"),Hi,Ae("{"),V("}"),$t,we,we)):w&&xe=="namespace"?(ve.marked="keyword",D(V("form"),Xe,je,we)):w&&xe=="abstract"?(ve.marked="keyword",D(je)):D(V("stat"),Be):ee=="switch"?D(V("form"),Ct,Ae("{"),V("}","switch"),Le,$t,we,we,Re):ee=="case"?D(Xe,Ae(":")):ee=="default"?D(Ae(":")):ee=="catch"?D(V("form"),Y,Ze,je,we,Re):ee=="export"?D(V("stat"),ro,we):ee=="import"?D(V("stat"),Dn,we):ee=="async"?D(je):xe=="@"?D(Xe,je):ne(V("stat"),Xe,Ae(";"),we)}function Ze(ee){if(ee=="(")return D(Zi,Ae(")"))}function Xe(ee,xe){return wt(ee,xe,!1)}function ut(ee,xe){return wt(ee,xe,!0)}function Ct(ee){return ee!="("?ne():D(V(")"),St,Ae(")"),we)}function wt(ee,xe,We){if(ve.state.fatArrowAt==ve.stream.start){var nt=We?le:X;if(ee=="(")return D(Y,V(")"),ct(Zi,")"),we,Ae("=>"),nt,Re);if(ee=="variable")return ne(Y,Hi,Ae("=>"),nt,Re)}var Ue=We?Mt:yt;return de.hasOwnProperty(ee)?D(Ue):ee=="function"?D(Xn,Ue):ee=="class"||w&&xe=="interface"?(ve.marked="keyword",D(V("form"),Ji,we)):ee=="keyword c"||ee=="async"?D(We?ut:Xe):ee=="("?D(V(")"),St,Ae(")"),we,Ue):ee=="operator"||ee=="spread"?D(We?ut:Xe):ee=="["?D(V("]"),Ui,we,Ue):ee=="{"?Wt(Qe,"}",null,Ue):ee=="quasi"?ne(Ut,Ue):ee=="new"?D(Q(We)):D()}function St(ee){return ee.match(/[;\}\)\],]/)?ne():ne(Xe)}function yt(ee,xe){return ee==","?D(St):Mt(ee,xe,!1)}function Mt(ee,xe,We){var nt=We==!1?yt:Mt,Ue=We==!1?Xe:ut;if(ee=="=>")return D(Y,We?le:X,Re);if(ee=="operator")return/\+\+|--/.test(xe)||w&&xe=="!"?D(nt):w&&xe=="<"&&ve.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(V(">"),ct(Yt,">"),we,nt):xe=="?"?D(Xe,Ae(":"),Ue):D(Ue);if(ee=="quasi")return ne(Ut,nt);if(ee!=";"){if(ee=="(")return Wt(ut,")","call",nt);if(ee==".")return D(ot,nt);if(ee=="[")return D(V("]"),St,Ae("]"),we,nt);if(w&&xe=="as")return ve.marked="keyword",D(Yt,nt);if(ee=="regexp")return ve.state.lastType=ve.marked="operator",ve.stream.backUp(ve.stream.pos-ve.stream.start-1),D(Ue)}}function Ut(ee,xe){return ee!="quasi"?ne():xe.slice(xe.length-2)!="${"?D(Ut):D(St,Kt)}function Kt(ee){if(ee=="}")return ve.marked="string-2",ve.state.tokenize=G,D(Ut)}function X(ee){return ue(ve.stream,ve.state),ne(ee=="{"?je:Xe)}function le(ee){return ue(ve.stream,ve.state),ne(ee=="{"?je:ut)}function Q(ee){return function(xe){return xe=="."?D(ee?pe:he):xe=="variable"&&w?D(ui,ee?Mt:yt):ne(ee?ut:Xe)}}function he(ee,xe){if(xe=="target")return ve.marked="keyword",D(yt)}function pe(ee,xe){if(xe=="target")return ve.marked="keyword",D(Mt)}function Be(ee){return ee==":"?D(we,je):ne(yt,Ae(";"),we)}function ot(ee){if(ee=="variable")return ve.marked="property",D()}function Qe(ee,xe){if(ee=="async")return ve.marked="property",D(Qe);if(ee=="variable"||ve.style=="keyword"){if(ve.marked="property",xe=="get"||xe=="set")return D(mt);var We;return w&&ve.state.fatArrowAt==ve.stream.start&&(We=ve.stream.match(/^\s*:\s*/,!1))&&(ve.state.fatArrowAt=ve.stream.pos+We[0].length),D(Pt)}else{if(ee=="number"||ee=="string")return ve.marked=h?"property":ve.style+" property",D(Pt);if(ee=="jsonld-keyword")return D(Pt);if(w&&et(xe))return ve.marked="keyword",D(Qe);if(ee=="[")return D(Xe,Qt,Ae("]"),Pt);if(ee=="spread")return D(ut,Pt);if(xe=="*")return ve.marked="keyword",D(Qe);if(ee==":")return ne(Pt)}}function mt(ee){return ee!="variable"?ne(Pt):(ve.marked="property",D(Xn))}function Pt(ee){if(ee==":")return D(ut);if(ee=="(")return ne(Xn)}function ct(ee,xe,We){function nt(Ue,pt){if(We?We.indexOf(Ue)>-1:Ue==","){var ni=ve.state.lexical;return ni.info=="call"&&(ni.pos=(ni.pos||0)+1),D(function(Yi,Nt){return Yi==xe||Nt==xe?ne():ne(ee)},nt)}return Ue==xe||pt==xe?D():We&&We.indexOf(";")>-1?ne(ee):D(Ae(xe))}return function(Ue,pt){return Ue==xe||pt==xe?D():ne(ee,nt)}}function Wt(ee,xe,We){for(var nt=3;nt<arguments.length;nt++)ve.cc.push(arguments[nt]);return D(V(xe,We),ct(ee,xe),we)}function $t(ee){return ee=="}"?D():ne(je,$t)}function Qt(ee,xe){if(w){if(ee==":")return D(Yt);if(xe=="?")return D(Qt)}}function Vt(ee,xe){if(w&&(ee==":"||xe=="in"))return D(Yt)}function xt(ee){if(w&&ee==":")return ve.stream.match(/^\s*\w+\s+is\b/,!1)?D(Xe,Gn,Yt):D(Yt)}function Gn(ee,xe){if(xe=="is")return ve.marked="keyword",D()}function Yt(ee,xe){if(xe=="keyof"||xe=="typeof"||xe=="infer"||xe=="readonly")return ve.marked="keyword",D(xe=="typeof"?ut:Yt);if(ee=="variable"||xe=="void")return ve.marked="type",D(wi);if(xe=="|"||xe=="&")return D(Yt);if(ee=="string"||ee=="number"||ee=="atom")return D(wi);if(ee=="[")return D(V("]"),ct(Yt,"]",","),we,wi);if(ee=="{")return D(V("}"),Rt,we,wi);if(ee=="(")return D(ct(pi,")"),vr,wi);if(ee=="<")return D(ct(Yt,">"),Yt);if(ee=="quasi")return ne(_i,wi)}function vr(ee){if(ee=="=>")return D(Yt)}function Rt(ee){return ee.match(/[\}\)\]]/)?D():ee==","||ee==";"?D(Rt):ne(un,Rt)}function un(ee,xe){if(ee=="variable"||ve.style=="keyword")return ve.marked="property",D(un);if(xe=="?"||ee=="number"||ee=="string")return D(un);if(ee==":")return D(Yt);if(ee=="[")return D(Ae("variable"),Vt,Ae("]"),un);if(ee=="(")return ne(or,un);if(!ee.match(/[;\}\)\],]/))return D()}function _i(ee,xe){return ee!="quasi"?ne():xe.slice(xe.length-2)!="${"?D(_i):D(Yt,Ri)}function Ri(ee){if(ee=="}")return ve.marked="string-2",ve.state.tokenize=G,D(_i)}function pi(ee,xe){return ee=="variable"&&ve.stream.match(/^\s*[?:]/,!1)||xe=="?"?D(pi):ee==":"?D(Yt):ee=="spread"?D(pi):ne(Yt)}function wi(ee,xe){if(xe=="<")return D(V(">"),ct(Yt,">"),we,wi);if(xe=="|"||ee=="."||xe=="&")return D(Yt);if(ee=="[")return D(Yt,Ae("]"),wi);if(xe=="extends"||xe=="implements")return ve.marked="keyword",D(Yt);if(xe=="?")return D(Yt,Ae(":"),Yt)}function ui(ee,xe){if(xe=="<")return D(V(">"),ct(Yt,">"),we,wi)}function si(){return ne(Yt,Bi)}function Bi(ee,xe){if(xe=="=")return D(Yt)}function io(ee,xe){return xe=="enum"?(ve.marked="keyword",D(Lt)):ne(Hi,Qt,Qi,br)}function Hi(ee,xe){if(w&&et(xe))return ve.marked="keyword",D(Hi);if(ee=="variable")return ye(xe),D();if(ee=="spread")return D(Hi);if(ee=="[")return Wt(Wi,"]");if(ee=="{")return Wt(Ir,"}")}function Ir(ee,xe){return ee=="variable"&&!ve.stream.match(/^\s*:/,!1)?(ye(xe),D(Qi)):(ee=="variable"&&(ve.marked="property"),ee=="spread"?D(Hi):ee=="}"?ne():ee=="["?D(Xe,Ae("]"),Ae(":"),Ir):D(Ae(":"),Hi,Qi))}function Wi(){return ne(Hi,Qi)}function Qi(ee,xe){if(xe=="=")return D(ut)}function br(ee){if(ee==",")return D(io)}function Tn(ee,xe){if(ee=="keyword b"&&xe=="else")return D(V("form","else"),je,we)}function Ot(ee,xe){if(xe=="await")return D(Ot);if(ee=="(")return D(V(")"),yr,we)}function yr(ee){return ee=="var"?D(io,Zn):ee=="variable"?D(Zn):ne(Zn)}function Zn(ee,xe){return ee==")"?D():ee==";"?D(Zn):xe=="in"||xe=="of"?(ve.marked="keyword",D(Xe,Zn)):ne(Xe,Zn)}function Xn(ee,xe){if(xe=="*")return ve.marked="keyword",D(Xn);if(ee=="variable")return ye(xe),D(Xn);if(ee=="(")return D(Y,V(")"),ct(Zi,")"),we,xt,je,Re);if(w&&xe=="<")return D(V(">"),ct(si,">"),we,Xn)}function or(ee,xe){if(xe=="*")return ve.marked="keyword",D(or);if(ee=="variable")return ye(xe),D(or);if(ee=="(")return D(Y,V(")"),ct(Zi,")"),we,xt,Re);if(w&&xe=="<")return D(V(">"),ct(si,">"),we,or)}function $r(ee,xe){if(ee=="keyword"||ee=="variable")return ve.marked="type",D($r);if(xe=="<")return D(V(">"),ct(si,">"),we)}function Zi(ee,xe){return xe=="@"&&D(Xe,Zi),ee=="spread"?D(Zi):w&&et(xe)?(ve.marked="keyword",D(Zi)):w&&ee=="this"?D(Qt,Qi):ne(Hi,Qt,Qi)}function Ji(ee,xe){return ee=="variable"?ar(ee,xe):sr(ee,xe)}function ar(ee,xe){if(ee=="variable")return ye(xe),D(sr)}function sr(ee,xe){if(xe=="<")return D(V(">"),ct(si,">"),we,sr);if(xe=="extends"||xe=="implements"||w&&ee==",")return xe=="implements"&&(ve.marked="keyword"),D(w?Yt:Xe,sr);if(ee=="{")return D(V("}"),An,we)}function An(ee,xe){if(ee=="async"||ee=="variable"&&(xe=="static"||xe=="get"||xe=="set"||w&&et(xe))&&ve.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return ve.marked="keyword",D(An);if(ee=="variable"||ve.style=="keyword")return ve.marked="property",D(no,An);if(ee=="number"||ee=="string")return D(no,An);if(ee=="[")return D(Xe,Qt,Ae("]"),no,An);if(xe=="*")return ve.marked="keyword",D(An);if(w&&ee=="(")return ne(or,An);if(ee==";"||ee==",")return D(An);if(ee=="}")return D();if(xe=="@")return D(Xe,An)}function no(ee,xe){if(xe=="!"||xe=="?")return D(no);if(ee==":")return D(Yt,Qi);if(xe=="=")return D(ut);var We=ve.state.lexical.prev,nt=We&&We.info=="interface";return ne(nt?or:Xn)}function ro(ee,xe){return xe=="*"?(ve.marked="keyword",D(Vn,Ae(";"))):xe=="default"?(ve.marked="keyword",D(Xe,Ae(";"))):ee=="{"?D(ct(Er,"}"),Vn,Ae(";")):ne(je)}function Er(ee,xe){if(xe=="as")return ve.marked="keyword",D(Ae("variable"));if(ee=="variable")return ne(ut,Er)}function Dn(ee){return ee=="string"?D():ee=="("?ne(Xe):ee=="."?ne(yt):ne(zr,_n,Vn)}function zr(ee,xe){return ee=="{"?Wt(zr,"}"):(ee=="variable"&&ye(xe),xe=="*"&&(ve.marked="keyword"),D(mo))}function _n(ee){if(ee==",")return D(zr,_n)}function mo(ee,xe){if(xe=="as")return ve.marked="keyword",D(zr)}function Vn(ee,xe){if(xe=="from")return ve.marked="keyword",D(Xe)}function Ui(ee){return ee=="]"?D():ne(ct(ut,"]"))}function Lt(){return ne(V("form"),Hi,Ae("{"),V("}"),ct(Kn,"}"),we,we)}function Kn(){return ne(Hi,Qi)}function ur(ee,xe){return ee.lastType=="operator"||ee.lastType==","||B.test(xe.charAt(0))||/[,.]/.test(xe.charAt(0))}function Bn(ee,xe,We){return xe.tokenize==P&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(xe.lastType)||xe.lastType=="quasi"&&/\{\s*$/.test(ee.string.slice(0,ee.pos-(We||0)))}return{startState:function(ee){var xe={tokenize:P,lastType:"sof",cc:[],lexical:new ge((ee||0)-u,0,"block",!1),localVars:l.localVars,context:l.localVars&&new ze(null,null,!1),indented:ee||0};return l.globalVars&&typeof l.globalVars=="object"&&(xe.globalVars=l.globalVars),xe},token:function(ee,xe){if(ee.sol()&&(xe.lexical.hasOwnProperty("align")||(xe.lexical.align=!1),xe.indented=ee.indentation(),ue(ee,xe)),xe.tokenize!=z&&ee.eatSpace())return null;var We=xe.tokenize(ee,xe);return q=="comment"?We:(xe.lastType=q=="operator"&&(O=="++"||O=="--")?"incdec":q,Te(xe,We,q,O,ee))},indent:function(ee,xe){if(ee.tokenize==z||ee.tokenize==G)return n.Pass;if(ee.tokenize!=P)return 0;var We=xe&&xe.charAt(0),nt=ee.lexical,Ue;if(!/^\s*else\b/.test(xe))for(var pt=ee.cc.length-1;pt>=0;--pt){var ni=ee.cc[pt];if(ni==we)nt=nt.prev;else if(ni!=Tn&&ni!=Re)break}for(;(nt.type=="stat"||nt.type=="form")&&(We=="}"||(Ue=ee.cc[ee.cc.length-1])&&(Ue==yt||Ue==Mt)&&!/^[,\.=+\-*:?[\(]/.test(xe));)nt=nt.prev;c&&nt.type==")"&&nt.prev.type=="stat"&&(nt=nt.prev);var Yi=nt.type,Nt=We==Yi;return Yi=="vardef"?nt.indented+(ee.lastType=="operator"||ee.lastType==","?nt.info.length+1:0):Yi=="form"&&We=="{"?nt.indented:Yi=="form"?nt.indented+u:Yi=="stat"?nt.indented+(ur(ee,xe)?c||u:0):nt.info=="switch"&&!Nt&&l.doubleIndentSwitch!=!1?nt.indented+(/^(?:case|default)\b/.test(xe)?u:2*u):nt.align?nt.column+(Nt?0:1):nt.indented+(Nt?0:u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:h,jsonMode:v,expressionAllowed:Bn,skipExpression:function(ee){Te(ee,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),og.exports}$w();var sg={exports:{}},ug;function Gw(){return ug||(ug=1,function(t,e){(function(n){n(bs())})(function(n){n.defineMode("css",function(ge,ce){var Te=ce.inline;ce.propertyKeywords||(ce=n.resolveMode("text/css"));var ve=ge.indentUnit,ne=ce.tokenHooks,D=ce.documentTypes||{},se=ce.mediaTypes||{},ye=ce.mediaFeatures||{},Ce=ce.mediaValueKeywords||{},et=ce.propertyKeywords||{},ze=ce.nonStandardPropertyKeywords||{},Me=ce.fontProperties||{},ie=ce.counterDescriptors||{},Y=ce.colorKeywords||{},Le=ce.valueKeywords||{},Re=ce.allowNested,V=ce.lineComment,we=ce.supportsAtComponent===!0,Ae=ge.highlightNonStandardPropertyKeywords!==!1,je,Ze;function Xe(Q,he){return je=he,Q}function ut(Q,he){var pe=Q.next();if(ne[pe]){var Be=ne[pe](Q,he);if(Be!==!1)return Be}if(pe=="@")return Q.eatWhile(/[\w\\\-]/),Xe("def",Q.current());if(pe=="="||(pe=="~"||pe=="|")&&Q.eat("="))return Xe(null,"compare");if(pe=='"'||pe=="'")return he.tokenize=Ct(pe),he.tokenize(Q,he);if(pe=="#")return Q.eatWhile(/[\w\\\-]/),Xe("atom","hash");if(pe=="!")return Q.match(/^\s*\w*/),Xe("keyword","important");if(/\d/.test(pe)||pe=="."&&Q.eat(/\d/))return Q.eatWhile(/[\w.%]/),Xe("number","unit");if(pe==="-"){if(/[\d.]/.test(Q.peek()))return Q.eatWhile(/[\w.%]/),Xe("number","unit");if(Q.match(/^-[\w\\\-]*/))return Q.eatWhile(/[\w\\\-]/),Q.match(/^\s*:/,!1)?Xe("variable-2","variable-definition"):Xe("variable-2","variable");if(Q.match(/^\w+-/))return Xe("meta","meta")}else return/[,+>*\/]/.test(pe)?Xe(null,"select-op"):pe=="."&&Q.match(/^-?[_a-z][_a-z0-9-]*/i)?Xe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(pe)?Xe(null,pe):Q.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Q.current())&&(he.tokenize=wt),Xe("variable callee","variable")):/[\w\\\-]/.test(pe)?(Q.eatWhile(/[\w\\\-]/),Xe("property","word")):Xe(null,null)}function Ct(Q){return function(he,pe){for(var Be=!1,ot;(ot=he.next())!=null;){if(ot==Q&&!Be){Q==")"&&he.backUp(1);break}Be=!Be&&ot=="\\"}return(ot==Q||!Be&&Q!=")")&&(pe.tokenize=null),Xe("string","string")}}function wt(Q,he){return Q.next(),Q.match(/^\s*[\"\')]/,!1)?he.tokenize=null:he.tokenize=Ct(")"),Xe(null,"(")}function St(Q,he,pe){this.type=Q,this.indent=he,this.prev=pe}function yt(Q,he,pe,Be){return Q.context=new St(pe,he.indentation()+(Be===!1?0:ve),Q.context),pe}function Mt(Q){return Q.context.prev&&(Q.context=Q.context.prev),Q.context.type}function Ut(Q,he,pe){return le[pe.context.type](Q,he,pe)}function Kt(Q,he,pe,Be){for(var ot=Be||1;ot>0;ot--)pe.context=pe.context.prev;return Ut(Q,he,pe)}function X(Q){var he=Q.current().toLowerCase();Le.hasOwnProperty(he)?Ze="atom":Y.hasOwnProperty(he)?Ze="keyword":Ze="variable"}var le={};return le.top=function(Q,he,pe){if(Q=="{")return yt(pe,he,"block");if(Q=="}"&&pe.context.prev)return Mt(pe);if(we&&/@component/i.test(Q))return yt(pe,he,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Q))return yt(pe,he,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Q))return yt(pe,he,"atBlock");if(/^@(font-face|counter-style)/i.test(Q))return pe.stateArg=Q,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Q))return"keyframes";if(Q&&Q.charAt(0)=="@")return yt(pe,he,"at");if(Q=="hash")Ze="builtin";else if(Q=="word")Ze="tag";else{if(Q=="variable-definition")return"maybeprop";if(Q=="interpolation")return yt(pe,he,"interpolation");if(Q==":")return"pseudo";if(Re&&Q=="(")return yt(pe,he,"parens")}return pe.context.type},le.block=function(Q,he,pe){if(Q=="word"){var Be=he.current().toLowerCase();return et.hasOwnProperty(Be)?(Ze="property","maybeprop"):ze.hasOwnProperty(Be)?(Ze=Ae?"string-2":"property","maybeprop"):Re?(Ze=he.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ze+=" error","maybeprop")}else return Q=="meta"?"block":!Re&&(Q=="hash"||Q=="qualifier")?(Ze="error","block"):le.top(Q,he,pe)},le.maybeprop=function(Q,he,pe){return Q==":"?yt(pe,he,"prop"):Ut(Q,he,pe)},le.prop=function(Q,he,pe){if(Q==";")return Mt(pe);if(Q=="{"&&Re)return yt(pe,he,"propBlock");if(Q=="}"||Q=="{")return Kt(Q,he,pe);if(Q=="(")return yt(pe,he,"parens");if(Q=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(he.current()))Ze+=" error";else if(Q=="word")X(he);else if(Q=="interpolation")return yt(pe,he,"interpolation");return"prop"},le.propBlock=function(Q,he,pe){return Q=="}"?Mt(pe):Q=="word"?(Ze="property","maybeprop"):pe.context.type},le.parens=function(Q,he,pe){return Q=="{"||Q=="}"?Kt(Q,he,pe):Q==")"?Mt(pe):Q=="("?yt(pe,he,"parens"):Q=="interpolation"?yt(pe,he,"interpolation"):(Q=="word"&&X(he),"parens")},le.pseudo=function(Q,he,pe){return Q=="meta"?"pseudo":Q=="word"?(Ze="variable-3",pe.context.type):Ut(Q,he,pe)},le.documentTypes=function(Q,he,pe){return Q=="word"&&D.hasOwnProperty(he.current())?(Ze="tag",pe.context.type):le.atBlock(Q,he,pe)},le.atBlock=function(Q,he,pe){if(Q=="(")return yt(pe,he,"atBlock_parens");if(Q=="}"||Q==";")return Kt(Q,he,pe);if(Q=="{")return Mt(pe)&&yt(pe,he,Re?"block":"top");if(Q=="interpolation")return yt(pe,he,"interpolation");if(Q=="word"){var Be=he.current().toLowerCase();Be=="only"||Be=="not"||Be=="and"||Be=="or"?Ze="keyword":se.hasOwnProperty(Be)?Ze="attribute":ye.hasOwnProperty(Be)?Ze="property":Ce.hasOwnProperty(Be)?Ze="keyword":et.hasOwnProperty(Be)?Ze="property":ze.hasOwnProperty(Be)?Ze=Ae?"string-2":"property":Le.hasOwnProperty(Be)?Ze="atom":Y.hasOwnProperty(Be)?Ze="keyword":Ze="error"}return pe.context.type},le.atComponentBlock=function(Q,he,pe){return Q=="}"?Kt(Q,he,pe):Q=="{"?Mt(pe)&&yt(pe,he,Re?"block":"top",!1):(Q=="word"&&(Ze="error"),pe.context.type)},le.atBlock_parens=function(Q,he,pe){return Q==")"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,he,pe,2):le.atBlock(Q,he,pe)},le.restricted_atBlock_before=function(Q,he,pe){return Q=="{"?yt(pe,he,"restricted_atBlock"):Q=="word"&&pe.stateArg=="@counter-style"?(Ze="variable","restricted_atBlock_before"):Ut(Q,he,pe)},le.restricted_atBlock=function(Q,he,pe){return Q=="}"?(pe.stateArg=null,Mt(pe)):Q=="word"?(pe.stateArg=="@font-face"&&!Me.hasOwnProperty(he.current().toLowerCase())||pe.stateArg=="@counter-style"&&!ie.hasOwnProperty(he.current().toLowerCase())?Ze="error":Ze="property","maybeprop"):"restricted_atBlock"},le.keyframes=function(Q,he,pe){return Q=="word"?(Ze="variable","keyframes"):Q=="{"?yt(pe,he,"top"):Ut(Q,he,pe)},le.at=function(Q,he,pe){return Q==";"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,he,pe):(Q=="word"?Ze="tag":Q=="hash"&&(Ze="builtin"),"at")},le.interpolation=function(Q,he,pe){return Q=="}"?Mt(pe):Q=="{"||Q==";"?Kt(Q,he,pe):(Q=="word"?Ze="variable":Q!="variable"&&Q!="("&&Q!=")"&&(Ze="error"),"interpolation")},{startState:function(Q){return{tokenize:null,state:Te?"block":"top",stateArg:null,context:new St(Te?"block":"top",Q||0,null)}},token:function(Q,he){if(!he.tokenize&&Q.eatSpace())return null;var pe=(he.tokenize||ut)(Q,he);return pe&&typeof pe=="object"&&(je=pe[1],pe=pe[0]),Ze=pe,je!="comment"&&(he.state=le[he.state](je,Q,he)),Ze},indent:function(Q,he){var pe=Q.context,Be=he&&he.charAt(0),ot=pe.indent;return pe.type=="prop"&&(Be=="}"||Be==")")&&(pe=pe.prev),pe.prev&&(Be=="}"&&(pe.type=="block"||pe.type=="top"||pe.type=="interpolation"||pe.type=="restricted_atBlock")?(pe=pe.prev,ot=pe.indent):(Be==")"&&(pe.type=="parens"||pe.type=="atBlock_parens")||Be=="{"&&(pe.type=="at"||pe.type=="atBlock"))&&(ot=Math.max(0,pe.indent-ve))),ot},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:V,fold:"brace"}});function o(ge){for(var ce={},Te=0;Te<ge.length;++Te)ce[ge[Te].toLowerCase()]=!0;return ce}var l=["domain","regexp","url","url-prefix"],u=o(l),c=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],h=o(c),v=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],x=o(v),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],k=o(w),A=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],B=o(A),N=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],j=o(N),q=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],O=o(q),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],P=o(S),W=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],z=o(W),G=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],J=o(G),ue=l.concat(c).concat(v).concat(w).concat(A).concat(N).concat(W).concat(G);n.registerHelper("hintWords","css",ue);function de(ge,ce){for(var Te=!1,ve;(ve=ge.next())!=null;){if(Te&&ve=="/"){ce.tokenize=null;break}Te=ve=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:u,mediaTypes:h,mediaFeatures:x,mediaValueKeywords:k,propertyKeywords:B,nonStandardPropertyKeywords:j,fontProperties:O,counterDescriptors:P,colorKeywords:z,valueKeywords:J,tokenHooks:{"/":function(ge,ce){return ge.eat("*")?(ce.tokenize=de,de(ge,ce)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:h,mediaFeatures:x,mediaValueKeywords:k,propertyKeywords:B,nonStandardPropertyKeywords:j,colorKeywords:z,valueKeywords:J,fontProperties:O,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,ce){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(ce.tokenize=de,de(ge,ce)):["operator","operator"]},":":function(ge){return ge.match(/^\s*\{/,!1)?[null,null]:!1},$:function(ge){return ge.match(/^[\w-]+/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(ge){return ge.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:h,mediaFeatures:x,mediaValueKeywords:k,propertyKeywords:B,nonStandardPropertyKeywords:j,colorKeywords:z,valueKeywords:J,fontProperties:O,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,ce){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(ce.tokenize=de,de(ge,ce)):["operator","operator"]},"@":function(ge){return ge.eat("{")?[null,"interpolation"]:ge.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(ge.eatWhile(/[\w\\\-]/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:u,mediaTypes:h,mediaFeatures:x,propertyKeywords:B,nonStandardPropertyKeywords:j,fontProperties:O,counterDescriptors:P,colorKeywords:z,valueKeywords:J,supportsAtComponent:!0,tokenHooks:{"/":function(ge,ce){return ge.eat("*")?(ce.tokenize=de,de(ge,ce)):!1}},name:"css",helperType:"gss"})})}()),sg.exports}Gw();var lg={exports:{}},cg;function P0(){return cg||(cg=1,function(t,e){(function(n){n(bs())})(function(n){n.overlayMode=function(o,l,u){return{startState:function(){return{base:n.startState(o),overlay:n.startState(l),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(c){return{base:n.copyState(o,c.base),overlay:n.copyState(l,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(c,h){return(c!=h.streamSeen||Math.min(h.basePos,h.overlayPos)<c.start)&&(h.streamSeen=c,h.basePos=h.overlayPos=c.start),c.start==h.basePos&&(h.baseCur=o.token(c,h.base),h.basePos=c.pos),c.start==h.overlayPos&&(c.pos=c.start,h.overlayCur=l.token(c,h.overlay),h.overlayPos=c.pos),c.pos=Math.min(h.basePos,h.overlayPos),h.overlayCur==null?h.baseCur:h.baseCur!=null&&h.overlay.combineTokens||u&&h.overlay.combineTokens==null?h.baseCur+" "+h.overlayCur:h.overlayCur},indent:o.indent&&function(c,h,v){return o.indent(c.base,h,v)},electricChars:o.electricChars,innerMode:function(c){return{state:c.base,mode:o}},blankLine:function(c){var h,v;return o.blankLine&&(h=o.blankLine(c.base)),l.blankLine&&(v=l.blankLine(c.overlay)),v==null?h:u&&h!=null?h+" "+v:v}}}})}()),lg.exports}P0();L0();var fg={exports:{}},hg;function Zw(){return hg||(hg=1,function(t,e){(function(n){n(bs())})(function(n){n.defineMode("yaml",function(){var o=["true","false","on","off","yes","no"],l=new RegExp("\\b(("+o.join(")|(")+"))$","i");return{token:function(u,c){var h=u.peek(),v=c.escaped;if(c.escaped=!1,h=="#"&&(u.pos==0||/\s/.test(u.string.charAt(u.pos-1))))return u.skipToEnd(),"comment";if(u.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(c.literal&&u.indentation()>c.keyCol)return u.skipToEnd(),"string";if(c.literal&&(c.literal=!1),u.sol()){if(c.keyCol=0,c.pair=!1,c.pairStart=!1,u.match("---")||u.match("..."))return"def";if(u.match(/\s*-\s+/))return"meta"}if(u.match(/^(\{|\}|\[|\])/))return h=="{"?c.inlinePairs++:h=="}"?c.inlinePairs--:h=="["?c.inlineList++:c.inlineList--,"meta";if(c.inlineList>0&&!v&&h==",")return u.next(),"meta";if(c.inlinePairs>0&&!v&&h==",")return c.keyCol=0,c.pair=!1,c.pairStart=!1,u.next(),"meta";if(c.pairStart){if(u.match(/^\s*(\||\>)\s*/))return c.literal=!0,"meta";if(u.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(c.inlinePairs==0&&u.match(/^\s*-?[0-9\.\,]+\s?$/)||c.inlinePairs>0&&u.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(u.match(l))return"keyword"}return!c.pair&&u.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(c.pair=!0,c.keyCol=u.indentation(),"atom"):c.pair&&u.match(/^:\s*/)?(c.pairStart=!0,"meta"):(c.pairStart=!1,c.escaped=h=="\\",u.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),n.defineMIME("text/x-yaml","yaml"),n.defineMIME("text/yaml","yaml")})}()),fg.exports}Zw();var dg={exports:{}},pg;function Xw(){return pg||(pg=1,function(t,e){(function(n){n(bs(),M0(),P0())})(function(n){var o=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(l,u){var c=0;function h(k){return k.code=!1,null}var v={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(k){return{code:k.code,codeBlock:k.codeBlock,ateSpace:k.ateSpace}},token:function(k,A){if(A.combineTokens=null,A.codeBlock)return k.match(/^```+/)?(A.codeBlock=!1,null):(k.skipToEnd(),null);if(k.sol()&&(A.code=!1),k.sol()&&k.match(/^```+/))return k.skipToEnd(),A.codeBlock=!0,null;if(k.peek()==="`"){k.next();var B=k.pos;k.eatWhile("`");var N=1+k.pos-B;return A.code?N===c&&(A.code=!1):(c=N,A.code=!0),null}else if(A.code)return k.next(),null;if(k.eatSpace())return A.ateSpace=!0,null;if((k.sol()||A.ateSpace)&&(A.ateSpace=!1,u.gitHubSpice!==!1)){if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return A.combineTokens=!0,"link";if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return A.combineTokens=!0,"link"}return k.match(o)&&k.string.slice(k.start-2,k.start)!="]("&&(k.start==0||/\W/.test(k.string.charAt(k.start-1)))?(A.combineTokens=!0,"link"):(k.next(),null)},blankLine:h},x={taskLists:!0,strikethrough:!0,emoji:!0};for(var w in u)x[w]=u[w];return x.name="markdown",n.overlayMode(n.getMode(l,x),v)},"markdown"),n.defineMIME("text/x-gfm","gfm")})}()),dg.exports}Xw();var mg={exports:{}},gg;function Vw(){return gg||(gg=1,function(t,e){(function(n){n(bs())})(function(n){n.defineOption("rulers",!1,function(l,u){l.state.rulerDiv&&(l.state.rulerDiv.parentElement.removeChild(l.state.rulerDiv),l.state.rulerDiv=null,l.off("refresh",o)),u&&u.length&&(l.state.rulerDiv=l.display.lineSpace.parentElement.insertBefore(document.createElement("div"),l.display.lineSpace),l.state.rulerDiv.className="CodeMirror-rulers",o(l),l.on("refresh",o))});function o(l){l.state.rulerDiv.textContent="";var u=l.getOption("rulers"),c=l.defaultCharWidth(),h=l.charCoords(n.Pos(l.firstLine(),0),"div").left;l.state.rulerDiv.style.minHeight=l.display.scroller.offsetHeight+30+"px";for(var v=0;v<u.length;v++){var x=document.createElement("div");x.className="CodeMirror-ruler";var w,k=u[v];typeof k=="number"?w=k:(w=k.column,k.className&&(x.className+=" "+k.className),k.color&&(x.style.borderColor=k.color),k.lineStyle&&(x.style.borderLeftStyle=k.lineStyle),k.width&&(x.style.borderLeftWidth=k.width)),x.style.left=h+w*c+"px",l.state.rulerDiv.appendChild(x)}}})}()),mg.exports}Vw();var vg={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var bg;function Kw(){return bg||(bg=1,function(t){t(jQuery)}(function(t){var e=0,n=Array.prototype.hasOwnProperty,o=Array.prototype.slice;return t.cleanData=function(l){return function(u){var c,h,v;for(v=0;(h=u[v])!=null;v++)c=t._data(h,"events"),c&&c.remove&&t(h).triggerHandler("remove");l(u)}}(t.cleanData),t.widget=function(l,u,c){var h,v,x,w={},k=l.split(".")[0];if(l=l.split(".")[1],l==="__proto__"||l==="constructor")return t.error("Invalid widget name: "+l);var A=k+"-"+l;return c||(c=u,u=t.Widget),Array.isArray(c)&&(c=t.extend.apply(null,[{}].concat(c))),t.expr.pseudos[A.toLowerCase()]=function(B){return!!t.data(B,A)},t[k]=t[k]||{},h=t[k][l],v=t[k][l]=function(B,N){if(!this||!this._createWidget)return new v(B,N);arguments.length&&this._createWidget(B,N)},t.extend(v,h,{version:c.version,_proto:t.extend({},c),_childConstructors:[]}),x=new u,x.options=t.widget.extend({},x.options),t.each(c,function(B,N){if(typeof N!="function"){w[B]=N;return}w[B]=function(){function j(){return u.prototype[B].apply(this,arguments)}function q(O){return u.prototype[B].apply(this,O)}return function(){var O=this._super,S=this._superApply,P;return this._super=j,this._superApply=q,P=N.apply(this,arguments),this._super=O,this._superApply=S,P}}()}),v.prototype=t.widget.extend(x,{widgetEventPrefix:h&&x.widgetEventPrefix||l},w,{constructor:v,namespace:k,widgetName:l,widgetFullName:A}),h?(t.each(h._childConstructors,function(B,N){var j=N.prototype;t.widget(j.namespace+"."+j.widgetName,v,N._proto)}),delete h._childConstructors):u._childConstructors.push(v),t.widget.bridge(l,v),v},t.widget.extend=function(l){for(var u=o.call(arguments,1),c=0,h=u.length,v,x;c<h;c++)for(v in u[c])x=u[c][v],n.call(u[c],v)&&x!==void 0&&(t.isPlainObject(x)?l[v]=t.isPlainObject(l[v])?t.widget.extend({},l[v],x):t.widget.extend({},x):l[v]=x);return l},t.widget.bridge=function(l,u){var c=u.prototype.widgetFullName||l;t.fn[l]=function(h){var v=typeof h=="string",x=o.call(arguments,1),w=this;return v?!this.length&&h==="instance"?w=void 0:this.each(function(){var k,A=t.data(this,c);if(h==="instance")return w=A,!1;if(!A)return t.error("cannot call methods on "+l+" prior to initialization; attempted to call method '"+h+"'");if(typeof A[h]!="function"||h.charAt(0)==="_")return t.error("no such method '"+h+"' for "+l+" widget instance");if(k=A[h].apply(A,x),k!==A&&k!==void 0)return w=k&&k.jquery?w.pushStack(k.get()):k,!1}):(x.length&&(h=t.widget.extend.apply(null,[h].concat(x))),this.each(function(){var k=t.data(this,c);k?(k.option(h||{}),k._init&&k._init()):t.data(this,c,new u(h,this))})),w}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(l,u){u=t(u||this.defaultElement||this)[0],this.element=t(u),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},u!==this&&(t.data(u,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===u&&this.destroy()}}),this.document=t(u.style?u.ownerDocument:u.document||u),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),l),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var l=this;this._destroy(),t.each(this.classesElementLookup,function(u,c){l._removeClass(c,u)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(l,u){var c=l,h,v,x;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof l=="string")if(c={},h=l.split("."),l=h.shift(),h.length){for(v=c[l]=t.widget.extend({},this.options[l]),x=0;x<h.length-1;x++)v[h[x]]=v[h[x]]||{},v=v[h[x]];if(l=h.pop(),arguments.length===1)return v[l]===void 0?null:v[l];v[l]=u}else{if(arguments.length===1)return this.options[l]===void 0?null:this.options[l];c[l]=u}return this._setOptions(c),this},_setOptions:function(l){var u;for(u in l)this._setOption(u,l[u]);return this},_setOption:function(l,u){return l==="classes"&&this._setOptionClasses(u),this.options[l]=u,l==="disabled"&&this._setOptionDisabled(u),this},_setOptionClasses:function(l){var u,c,h;for(u in l)h=this.classesElementLookup[u],!(l[u]===this.options.classes[u]||!h||!h.length)&&(c=t(h.get()),this._removeClass(h,u),c.addClass(this._classes({element:c,keys:u,classes:l,add:!0})))},_setOptionDisabled:function(l){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!l),l&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(l){var u=[],c=this;l=t.extend({element:this.element,classes:this.options.classes||{}},l);function h(){var x=[];l.element.each(function(w,k){var A=t.map(c.classesElementLookup,function(B){return B}).some(function(B){return B.is(k)});A||x.push(k)}),c._on(t(x),{remove:"_untrackClassesElement"})}function v(x,w){var k,A;for(A=0;A<x.length;A++)k=c.classesElementLookup[x[A]]||t(),l.add?(h(),k=t(t.uniqueSort(k.get().concat(l.element.get())))):k=t(k.not(l.element).get()),c.classesElementLookup[x[A]]=k,u.push(x[A]),w&&l.classes[x[A]]&&u.push(l.classes[x[A]])}return l.keys&&v(l.keys.match(/\S+/g)||[],!0),l.extra&&v(l.extra.match(/\S+/g)||[]),u.join(" ")},_untrackClassesElement:function(l){var u=this;t.each(u.classesElementLookup,function(c,h){t.inArray(l.target,h)!==-1&&(u.classesElementLookup[c]=t(h.not(l.target).get()))}),this._off(t(l.target))},_removeClass:function(l,u,c){return this._toggleClass(l,u,c,!1)},_addClass:function(l,u,c){return this._toggleClass(l,u,c,!0)},_toggleClass:function(l,u,c,h){h=typeof h=="boolean"?h:c;var v=typeof l=="string"||l===null,x={extra:v?u:c,keys:v?l:u,element:v?this.element:l,add:h};return x.element.toggleClass(this._classes(x),h),this},_on:function(l,u,c){var h,v=this;typeof l!="boolean"&&(c=u,u=l,l=!1),c?(u=h=t(u),this.bindings=this.bindings.add(u)):(c=u,u=this.element,h=this.widget()),t.each(c,function(x,w){function k(){if(!(!l&&(v.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof w=="string"?v[w]:w).apply(v,arguments)}typeof w!="string"&&(k.guid=w.guid=w.guid||k.guid||t.guid++);var A=x.match(/^([\w:-]*)\s*(.*)$/),B=A[1]+v.eventNamespace,N=A[2];N?h.on(B,N,k):u.on(B,k)})},_off:function(l,u){u=(u||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,l.off(u),this.bindings=t(this.bindings.not(l).get()),this.focusable=t(this.focusable.not(l).get()),this.hoverable=t(this.hoverable.not(l).get())},_delay:function(l,u){function c(){return(typeof l=="string"?h[l]:l).apply(h,arguments)}var h=this;return setTimeout(c,u||0)},_hoverable:function(l){this.hoverable=this.hoverable.add(l),this._on(l,{mouseenter:function(u){this._addClass(t(u.currentTarget),null,"ui-state-hover")},mouseleave:function(u){this._removeClass(t(u.currentTarget),null,"ui-state-hover")}})},_focusable:function(l){this.focusable=this.focusable.add(l),this._on(l,{focusin:function(u){this._addClass(t(u.currentTarget),null,"ui-state-focus")},focusout:function(u){this._removeClass(t(u.currentTarget),null,"ui-state-focus")}})},_trigger:function(l,u,c){var h,v,x=this.options[l];if(c=c||{},u=t.Event(u),u.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),u.target=this.element[0],v=u.originalEvent,v)for(h in v)h in u||(u[h]=v[h]);return this.element.trigger(u,c),!(typeof x=="function"&&x.apply(this.element[0],[u].concat(c))===!1||u.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(l,u){t.Widget.prototype["_"+l]=function(c,h,v){typeof h=="string"&&(h={effect:h});var x,w=h?h===!0||typeof h=="number"?u:h.effect||u:l;h=h||{},typeof h=="number"?h={duration:h}:h===!0&&(h={}),x=!t.isEmptyObject(h),h.complete=v,h.delay&&c.delay(h.delay),x&&t.effects&&t.effects.effect[w]?c[l](h):w!==l&&c[w]?c[w](h.duration,h.easing,v):c.queue(function(k){t(this)[l](),v&&v.call(c[0]),k()})}}),t.widget})),vg}Kw();var yg={};/*!
 * jQuery UI Autocomplete 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var _g;function Qw(){return _g||(_g=1,function(t){t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,n,o,l=this.element[0].nodeName.toLowerCase(),u=l==="textarea",c=l==="input";this.isMultiLine=u||!c&&this.element.prop("contentEditable")==="true",this.valueMethod=this.element[u||c?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(h){if(this.element.prop("readOnly")){e=!0,o=!0,n=!0;return}e=!1,o=!1,n=!1;var v=t.ui.keyCode;switch(h.keyCode){case v.PAGE_UP:e=!0,this._move("previousPage",h);break;case v.PAGE_DOWN:e=!0,this._move("nextPage",h);break;case v.UP:e=!0,this._keyEvent("previous",h);break;case v.DOWN:e=!0,this._keyEvent("next",h);break;case v.ENTER:this.menu.active&&(e=!0,h.preventDefault(),this.menu.select(h));break;case v.TAB:this.menu.active&&this.menu.select(h);break;case v.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(h),h.preventDefault());break;default:n=!0,this._searchTimeout(h);break}},keypress:function(h){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&h.preventDefault();return}if(!n){var v=t.ui.keyCode;switch(h.keyCode){case v.PAGE_UP:this._move("previousPage",h);break;case v.PAGE_DOWN:this._move("nextPage",h);break;case v.UP:this._keyEvent("previous",h);break;case v.DOWN:this._keyEvent("next",h);break}}},input:function(h){if(o){o=!1,h.preventDefault();return}this._searchTimeout(h)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){clearTimeout(this.searching),this.close(h),this._change(h)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(h){h.preventDefault()},menufocus:function(h,v){var x,w;if(this.isNewMenu&&(this.isNewMenu=!1,h.originalEvent&&/^mouse/.test(h.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(h.target).trigger(h.originalEvent)});return}w=v.item.data("ui-autocomplete-item"),this._trigger("focus",h,{item:w})!==!1&&h.originalEvent&&/^key/.test(h.originalEvent.type)&&this._value(w.value),x=v.item.attr("aria-label")||w.value,x&&String.prototype.trim.call(x).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(x))},100))},menuselect:function(h,v){var x=v.item.data("ui-autocomplete-item"),w=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=w),this._trigger("select",h,{item:x})!==!1&&this._value(x.value),this.term=this._value(),this.close(h),this.selectedItem=x}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,n){this._super(e,n),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&n&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,o=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(l,u){u(t.ui.autocomplete.filter(e,l.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(l,u){o.xhr&&o.xhr.abort(),o.xhr=t.ajax({url:n,data:l,dataType:"json",success:function(c){u(c)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var n=this.term===this._value(),o=this.menu.element.is(":visible"),l=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!n||n&&!o&&!l)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,n){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(n);if(this._trigger("search",n)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(n){e===this.requestIndex&&this.__response(n),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(n){return typeof n=="string"?{label:n,value:n}:t.extend({},n,{label:n.label||n.value,value:n.value||n.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var o=this;t.each(n,function(l,u){o._renderItemData(e,u)})},_renderItemData:function(e,n){return this._renderItem(e,n).data("ui-autocomplete-item",n)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(e,n){if(!this.menu.element.is(":visible")){this.search(null,n);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](n)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,n){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,n),n.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var o=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(l){return o.test(l.label||l.value||l)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?n=this.options.messages.results(e.length):n=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(n))},100))}}),t.ui.autocomplete})),yg}Qw();function wg(){document.querySelectorAll('input[type="color"]').forEach(e=>{if(e.parentElement&&e.parentElement.classList.contains("color-input-wrapper"))return;const n=e.getAttribute("data-initial-value"),o=document.createElement("div");o.className="color-input-wrapper",e.parentNode.insertBefore(o,e),o.appendChild(e);const l=document.createElement("button");l.type="button",l.classList.add("color-toggle-btn"),l.classList.add("uk-button"),l.textContent="Reset",o.appendChild(l),n&&n!==""&&(o.classList.add("color-input-wrapper--defined"),o.style.setProperty("--color-input-value",n)),xg(e,l,n),l.addEventListener("click",()=>{xg(e,l)}),e.addEventListener("change",()=>{e.value&&e.value!==""?(o.style.setProperty("--color-input-value",e.value),o.classList.add("color-input-wrapper--defined")):(o.style.removeProperty("--color-input-value"),o.classList.remove("color-input-wrapper--defined"))})})}function xg(t,e,n=void 0){t.type==="color"?(t.type="text",e.textContent=t.getAttribute("data-color-picker-label")):(t.type="color",t.value=n||t.value||"#000000",e.textContent=t.getAttribute("data-hex-color-label"))}const Jl="bulk-actions--collapsed",Kd="bulk-actions--collapsing";function kg(){const t=[],e=document.querySelectorAll(".bulk-layout ."+Jl),n=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),o=document.querySelector('.bulk-layout input[name="bulk-selection-all"]'),l=document.querySelector(".bulk-layout .uk-button-select-all"),u=document.querySelectorAll(".bulk-layout .uk-button-bulk"),c=document.querySelectorAll(".bulk-layout input.bulk-form-value"),h=document.querySelectorAll('.bulk-layout input[name="bulk-selection[]"]');e.forEach(w=>w.addEventListener("transitionend",k=>{w.classList.contains(Kd)&&w.classList.remove(Kd)}));const v=()=>{h.forEach(w=>{w.checked=!1,t.splice(0,t.length),c.forEach(k=>k.value="")}),o&&(o.checked=!1),x()},x=()=>{window.requestAnimationFrame(()=>{e.forEach(w=>w.classList.add(Kd)),e.forEach(w=>w.classList.add(Jl))})};u.forEach(w=>{w.hasAttribute("data-bulk-group")&&w.addEventListener("click",k=>{const A=document.getElementById(w.getAttribute("data-bulk-group"));A&&(document.querySelectorAll(".bulk-group").forEach(B=>{B!==A&&B.classList.remove("bulk-group--open")}),A.classList.toggle("bulk-group--open"))})}),h.forEach(w=>{w.addEventListener("change",k=>{w.checked?t.push(w.value):t.splice(t.indexOf(w.value),1),t.length>0?(e.forEach(A=>A.classList.remove(Jl)),c.forEach(A=>A.value=JSON.stringify(t))):(x(),o&&(o.checked=!1))})}),n&&n.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),v()}),l&&l.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),h.forEach(k=>{k.checked=!0,t.push(k.value)}),e.forEach(k=>k.classList.remove(Jl)),c.forEach(k=>k.value=JSON.stringify(t))}),o&&o.addEventListener("change",w=>{o.checked?h.forEach(k=>{k.checked=!0,t.push(k.value)}):v(),t.length>0?(e.forEach(k=>k.classList.remove(Jl)),c.forEach(k=>k.value=JSON.stringify(t))):e.forEach(k=>k.classList.add(Jl))})}class Jw{constructor(){var e,n;this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll("a"),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=(e=this.treeWrapper)==null?void 0:e.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.userPicture.length&&this.userPicture[0].classList.add("rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(o=>o.addEventListener("click",this.adminMenuLinkClick)),this.adminMenuNavParents.forEach(o=>o.addEventListener("click",this.adminMenuNavParentClick)),this.searchButton.addEventListener("click",this.searchButtonClick),this.treeButton.addEventListener("click",this.treeButtonClick),(n=this.treeWrapperLink)==null||n.addEventListener("click",this.treeWrapperLinkClick),this.userPicture.addEventListener("click",this.userPictureClick),this.userActionsLink.addEventListener("click",this.userActionsLinkClick),this.mainContentOverlay.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}menuClick(e){this.menuOpen?this.closeMenu():this.openMenu()}adminMenuNavParentClick(e){e.preventDefault();const n=e.currentTarget;if(!n)return!1;this.adminMenuNavParents.forEach(o=>{o.classList.remove("nav-open")}),n.classList.contains("nav-open")?n.classList.remove("nav-open"):n.classList.add("nav-open")}adminMenuLinkClick(e){this.menuOpen&&this.closeMenu()}showOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}hideOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}openMenu(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}closeMenu(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}searchButtonClick(e){this.searchOpen?this.closeSearch():this.openSearch()}openSearch(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}closeSearch(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}treeButtonClick(e){this.treeOpen?this.closeTree():this.openTree()}treeWrapperLinkClick(e){e.currentTarget.className.indexOf("tab-link")===-1&&this.treeOpen&&this.closeTree()}openTree(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}closeTree(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),this.treeButton.classList.remove("active"),this.treeOpen=!1}userPictureClick(e){return this.userOpen?this.closeUser():this.openUser(),!1}userActionsLinkClick(e){this.userOpen&&this.closeUser()}openUser(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}closeUser(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}mainContentOverlayClick(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}class Eg{constructor(){if(this.button=document.querySelector(".rz-action-save"),this.actionMenu=document.querySelector(".actions-menu"),this.formToSave=null,!this.button||!this.actionMenu)return;this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.button.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown);const e=this.button.getAttribute("data-action-save");e&&(this.formToSave=document.querySelector(e),this.formToSave&&(this.actionMenu.insertBefore(this.button,this.actionMenu.firstChild),this.button.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown)))}onKeyDown(e){if(this.formToSave&&(e.metaKey||e.ctrlKey)&&e.key==="s")return e.preventDefault(),this.formToSave.requestSubmit(),!1}onClick(){this.formToSave.requestSubmit()}}class ex extends HTMLElement{get contextualMenuPath(){return this.getAttribute("data-contextual-menu-path")}get editPath(){return this.getAttribute("data-node-edit-path")}get statusPath(){return this.getAttribute("data-node-status-path")}connectedCallback(){const e=this.querySelector(".tree-contextualmenu-button"),n=this.contextualMenuPath;!e||!n||(this.onClick=this.onClick.bind(this),this.moveNodeToPosition=this.moveNodeToPosition.bind(this),e.addEventListener("click",async o=>{if(!this.querySelector("nav.uk-dropdown")){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const v=await fetch(n);this.insertAdjacentHTML("beforeend",await v.text()),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}const u=this.querySelectorAll(".node-actions a"),c=this.querySelector("a.move-node-first-position"),h=this.querySelector("a.move-node-last-position");u.forEach(v=>{v.removeEventListener("click",this.onClick),v.addEventListener("click",this.onClick)}),c&&c.addEventListener("click",v=>this.moveNodeToPosition("first",v)),h&&h.addEventListener("click",v=>this.moveNodeToPosition("last",v))}))}async onClick(e){e.preventDefault();let n=e.currentTarget,o=n.closest(".nodetree-element"),l=parseInt(o.getAttribute("data-node-id")),u=n.getAttribute("data-status"),c=n.getAttribute("data-value"),h=n.getAttribute("data-action");typeof h<"u"&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),typeof u<"u"&&typeof c<"u"?await this.changeStatus(l,u,c):h==="duplicate"&&await this.duplicateNode(l))}async changeStatus(e,n,o){await this.postNodeUpdate(this.statusPath,{_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:e,statusName:n,statusValue:o}),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async duplicateNode(e){await this.postNodeUpdate(this.editPath,{_token:window.RozierConfig.ajaxToken,_action:"duplicate",nodeId:e}),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async moveNodeToPosition(e,n){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let o=n.currentTarget.closest(".nodetree-element"),l=parseInt(o.getAttribute("data-node-id")),u=parseInt(o.closest("ul").getAttribute("data-parent-node-id")),c={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:l};typeof e<"u"&&e==="first"?c.firstPosition=!0:typeof e<"u"&&e==="last"&&(c.lastPosition=!0),isNaN(u)&&(u=null),c.newParent=u,await this.postNodeUpdate(this.editPath,c),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async postNodeUpdate(e,n){return new Promise(async(o,l)=>{try{const u=await fetch(e,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(n)});if(u.ok){const c=await u.json();window.dispatchEvent(new CustomEvent("requestAllNodeTreeChange")),o(c)}else{const c=await u.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:c.error_message,status:"danger"}})),l(c)}}catch(u){l(u)}})}}const Nh=t=>({}).toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase();(function(){let t,e=()=>{},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,l=window.console=window.console||{};for(;o--;)t=n[o],l[t]||(l[t]=e)})();const xh=(t,e)=>{e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(o,"").replace(n,(l,u)=>e.indexOf("<"+u.toLowerCase()+">")>-1?l:"")},Cg=(t,e)=>{t&&(t.classList?t.classList.add(e):t.className+=" "+e)};class tx extends HTMLElement{constructor(){super(),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.inputFocus=this.inputFocus.bind(this),this.inputFocusOut=this.inputFocusOut.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.wrapInTabs=this.wrapInTabs.bind(this),this.dropdown=null,this.form=this.querySelector("#edit-node-source-form"),this.formRow=this.querySelectorAll(".uk-form-row"),this.input=this.querySelectorAll("input, select"),this.devNames=this.querySelectorAll("[data-dev-name]")}connectedCallback(){this.form&&(this.wrapInTabs(),this.devNames.forEach(e=>{if(e.getAttribute("data-dev-name")!==""){const n=e.closest(".uk-form-row").querySelector("label"),o=e.querySelector(".uk-navbar-brand.label");n?n.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>"):o&&o.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>")}}),this.formRow.forEach((e,n)=>{e.className.indexOf("children-nodes-widget")>=0&&this.childrenNodeWidgetFlip(n)}),window.addEventListener("keydown",this.onInputKeyDown),window.addEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.addEventListener("focus",this.inputFocus),e.addEventListener("focusout",this.inputFocusOut)}),this.form.addEventListener("submit",this.onFormSubmit))}disconnectedCallback(){this.form&&(window.removeEventListener("keydown",this.onInputKeyDown),window.removeEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.removeEventListener("focus",this.inputFocus),e.removeEventListener("focusout",this.inputFocusOut)}),this.form.removeEventListener("submit",this.onFormSubmit))}wrapInTabs(){let e={default:{name:"default",id:"default",fields:[]}},n=this.querySelectorAll(".uk-form-row[data-field-group-canonical]");const o=n.length;let l=1;if(o<=0){this.classList.add("content-tabs-ready");return}for(let u=0;u<o;u++){let c=n[u].getAttribute("data-field-group"),h=n[u].getAttribute("data-field-group-canonical");h?(typeof e[h]>"u"&&(e[h]={name:c,id:h,fields:[]},l++),e[h].fields.push(n[u])):e.default.fields.push(n[u])}if(l>1){this.form.insertAdjacentHTML("beforeend",'<div id="node-source-form-switcher-nav-cont"><nav role="tablist" id="node-source-form-switcher-nav"></nav></div><ul id="node-source-form-switcher"></ul>');const u=this.form.querySelector("#node-source-form-switcher"),c=this.form.querySelector("#node-source-form-switcher-nav");for(let h in e){const v=e[h],x=v.id.replace(/[\s_]/g,"-").replace(/[^\w-]+/g,""),w="group-"+x,k="tab-"+x;u.insertAdjacentHTML("beforeend",'<li role="tabpanel" aria-labelledby="'+k+'" class="field-group" id="'+w+'"></li>'),v.id==="default"?c.insertAdjacentHTML("beforeend",'<button id="'+k+'" role="tab" class="switcher-nav-item" type="button" aria-controls="'+w+'"><i class="uk-icon-star"></i></button>'):c.insertAdjacentHTML("beforeend",'<button id="'+k+'" role="tab" class="switcher-nav-item" type="button" aria-controls="'+w+'">'+v.name+"</button>");let A=u.querySelector("#"+w);for(let B=0;B<v.fields.length;B++)A.appendChild(v.fields[B])}}this.activateTab(this.form.querySelector("#group-default")),this.activateTabNav(this.form.querySelector(".switcher-nav-item")),this.form.querySelectorAll(".switcher-nav-item").forEach(u=>{u.addEventListener("click",c=>{const h=u.getAttribute("aria-controls");this.form.querySelectorAll(".switcher-nav-item").forEach(v=>this.desactivateTabNav(v)),this.activateTabNav(u.closest(".switcher-nav-item")),this.form.querySelectorAll(".field-group").forEach(v=>this.desactivateTab(v)),this.activateTab(this.form.querySelector("#"+h))})}),this.classList.add("content-tabs-ready")}activateTab(e){e==null||e.classList.add("active")}activateTabNav(e){e==null||e.classList.add("active"),e==null||e.setAttribute("aria-selected",!0)}desactivateTab(e){e==null||e.classList.remove("active")}desactivateTabNav(e){e==null||e.classList.remove("active"),e==null||e.removeAttribute("aria-selected")}async onFormSubmit(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("requestLoaderShow")),window.dispatchEvent(new CustomEvent("pagechange"));try{const n=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(new FormData(this.form))});if(!n.ok)throw n;const o=await n.json();this.cleanErrors(),o.public_url&&document.querySelectorAll("a.public-url-link").forEach(u=>u.setAttribute("href",o.public_url)),o.preview_url&&document.querySelectorAll("a.preview-url-link").forEach(u=>u.setAttribute("href",o.preview_url))}catch(n){const o=await n.json();o.errors&&(this.displayErrors(o.errors),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:o.message,status:"danger"}})))}return window.dispatchEvent(new CustomEvent("requestLoaderHide")),window.dispatchEvent(new CustomEvent("requestAllNodeTreeChange")),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(n=>{n.classList.remove("form-errored"),n.querySelector(".error-message").remove()})}displayErrors(e,n=!1,o=""){(!n||n===!1)&&this.cleanErrors(),Object.keys(e).forEach(u=>{const c=e[u];if(Array.isArray(c)){c.forEach((v,x)=>{this.displayErrors(v,!0,o+u+"_"+x+"_")});return}if(Nh(c)==="string"){this.displaySingleError(o,u,e);return}if(Nh(c)!=="object")return;Object.keys(c).forEach(v=>{Nh(c[v])==="object"?this.displayErrors(c[v],!0,o+u+"_"+v+"_"):this.displaySingleError(o,v,c)})})}displaySingleError(e,n,o=[]){const l="source_"+(e+n);let u="";Array.isArray(o[n])?u=o[n][0]:u=o[n];const c=document.getElementById(l);if(c){const h=c.closest(".uk-form-row");h&&(h.classList.add("form-errored"),h.insertAdjacentHTML("beforeend",`<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> ${u}</p>`))}}onInputKeyDown(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}onInputKeyUp(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}childrenNodeWidgetFlip(e){e>=this.formRow.length-2&&(this.dropdown=this.formRow[e].querySelector(".uk-dropdown-small"),this.dropdown.classList.add("uk-dropdown-up"))}inputFocus(e){e.currentTarget.parentElement.classList.add("form-col-focus")}inputFocusOut(e){e.currentTarget.parentElement.classList.remove("form-col-focus")}}class ix extends HTMLElement{constructor(){super(),this.form=this.querySelector("#edit-tag-form"),this.formRow=this.querySelectorAll(".uk-form-row"),this.dropdown=null,this.onFormSubmit=this.onFormSubmit.bind(this)}connectedCallback(){this.form&&this.form.addEventListener("submit",this.onFormSubmit)}disconnectedCallback(){this.form&&this.form.removeEventListener("submit",this.onFormSubmit)}async onFormSubmit(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("requestLoaderShow"));let n=new CustomEvent("pagechange");window.dispatchEvent(n);const o=new FormData(this.form),l=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:o});if(l.ok)this.cleanErrors();else{const u=await l.json();u.errors&&(this.displayErrors(u.errors),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:u.message,status:"danger"}})))}return await window.Rozier.refreshMainTagTree(),await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(n=>{n.classList.remove("form-errored"),n.querySelector(".error-message").remove()})}displayErrors(e,n){(!n||n===!1)&&this.cleanErrors();for(let o in e){let l=null,u=null;if(Nh(e[o])==="object")this.displayErrors(e[o],!0);else{l=o.replace("_","-"),e[o]instanceof Array?u=e[o][0]:u=e[o];let c=document.querySelector(".form-col-"+l);c&&(c.classList.add("form-errored"),c.insertAdjacentHTML("beforeend",'<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+u+"</p>"))}}}}class nx extends HTMLElement{connectedCallback(){this.reverseSubNav=this.reverseSubNav.bind(this),window.addEventListener("resize",this.reverseSubNav),this.querySelectorAll('ul[role="menu"]').forEach(e=>{const n=e.closest("li");n&&(n.addEventListener("mouseenter",()=>this.enterMenuItem(n)),n.addEventListener("focusin",()=>this.enterMenuItem(n)),n.addEventListener("mouseleave",()=>this.leaveMenuItem(n)),n.addEventListener("focusout",()=>this.leaveMenuItem(n)))}),this.reverseSubNav()}enterMenuItem(e){const n=e.querySelector('[role="menuitem"]');n==null||n.setAttribute("aria-expanded","true")}leaveMenuItem(e){const n=e.querySelector('[role="menuitem"]');n==null||n.setAttribute("aria-expanded","false")}disconnectedCallback(){window.removeEventListener("resize",this.reverseSubNav)}reverseSubNav(){this.querySelectorAll(".uk-nav-sub").forEach(e=>{e.style.display="block";const n=e.getBoundingClientRect().top,o=e.getBoundingClientRect().height;e.style.display=null,n+o+20>window.innerHeight&&e.parentElement.classList.add("reversed-nav")})}}class rx extends HTMLElement{constructor(){super();Gi(this,"handleOutsideClick",n=>{n.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});this.debounce=null,this.input=this.querySelector(".rz-folder-autocomplete"),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.resize=this.resize.bind(this)}get value(){return this.input?this.input.value:""}get searchPath(){return this.getAttribute("data-search-path")}get csrfToken(){return this.getAttribute("data-csrf-token")}connectedCallback(){this.input&&(this.input.setAttribute("autocomplete","off"),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("input",this.onInput),window.addEventListener("resize",this.resize))}disconnectedCallback(){this.input&&(this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("input",this.onInput),window.removeEventListener("resize",this.resize))}onKeyDown(n){n.keyCode===9&&this.input.dataset.menuActive==="true"&&n.preventDefault()}async onInput(n){const o=this.extractLast(this.value);if(o.length<2){this.removeAutocompleteMenu();return}const l={_action:"folderAutocomplete",_token:this.csrfToken,search:this.extractLast(o)},u=this.searchPath+"?"+new URLSearchParams(l);this.debounce&&(window.clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout(async()=>{const c=await fetch(u);this.showAutocompleteMenu(await c.json())},300)}showAutocompleteMenu(n){this.removeAutocompleteMenu();const o=document.createElement("ul");o.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",n.forEach(l=>{const u=document.createElement("li");u.className="ui-menu-item",u.textContent=l,u.addEventListener("mousedown",c=>{c.preventDefault();let h=this.split(this.input.value);h.pop(),h.push(l),h.push(""),this.input.value=h.join(", "),this.removeAutocompleteMenu()}),o.appendChild(u)}),this.appendChild(o),this.input.dataset.menuActive="true",this.resize(),document.addEventListener("click",this.handleOutsideClick)}resize(){const n=this.querySelector(".ui-autocomplete");n&&(this.input.getBoundingClientRect(),n.style.left=`${this.input.offsetLeft}px`,n.style.top=`${this.input.offsetTop+this.input.offsetHeight}px`)}removeAutocompleteMenu(){const n=this.querySelector(".ui-autocomplete");n&&(n.remove(),document.removeEventListener("click",this.handleOutsideClick)),this.input&&(this.input.dataset.menuActive="false")}unbind(){}split(n){return n.split(/,\s*/)}extractLast(n){return this.split(n).pop()}}class ox extends HTMLElement{constructor(){super();Gi(this,"handleOutsideClick",n=>{n.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});this.debounce=null,this.input=this.querySelector(".rz-tag-autocomplete"),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.resize=this.resize.bind(this)}get value(){return this.input?this.input.value:""}get searchPath(){return this.getAttribute("data-search-path")}get csrfToken(){return this.getAttribute("data-csrf-token")}connectedCallback(){this.input&&(this.input.setAttribute("autocomplete","off"),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("input",this.onInput),window.addEventListener("resize",this.resize))}disconnectedCallback(){this.input&&(this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("input",this.onInput),window.removeEventListener("resize",this.resize))}onKeyDown(n){n.keyCode===9&&this.input.dataset.menuActive==="true"&&n.preventDefault()}async onInput(n){const o=this.extractLast(this.value);if(o.length<2){this.removeAutocompleteMenu();return}const l={_action:"tagAutocomplete",_token:this.csrfToken,search:this.extractLast(o)},u=this.searchPath+"?"+new URLSearchParams(l);this.debounce&&(window.clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout(async()=>{const c=await fetch(u);this.showAutocompleteMenu(await c.json())},300)}showAutocompleteMenu(n){this.removeAutocompleteMenu();const o=document.createElement("ul");o.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",n.forEach(l=>{const u=document.createElement("li");u.className="ui-menu-item",u.textContent=l,u.addEventListener("mousedown",c=>{c.preventDefault();let h=this.split(this.input.value);h.pop(),h.push(l),h.push(""),this.input.value=h.join(", "),this.removeAutocompleteMenu()}),o.appendChild(u)}),this.appendChild(o),this.input.dataset.menuActive="true",this.resize(),document.addEventListener("click",this.handleOutsideClick)}resize(){const n=this.querySelector(".ui-autocomplete");n&&(this.input.getBoundingClientRect(),n.style.left=`${this.input.offsetLeft}px`,n.style.top=`${this.input.offsetTop+this.input.offsetHeight}px`)}removeAutocompleteMenu(){const n=this.querySelector(".ui-autocomplete");n&&(n.remove(),document.removeEventListener("click",this.handleOutsideClick)),this.input&&(this.input.dataset.menuActive="false")}unbind(){}split(n){return n.split(/,\s*/)}extractLast(n){return this.split(n).pop()}}const Sg="roadiz.currentMainTreeTab";class ax extends HTMLElement{constructor(){super(),this.activateTab=this.activateTab.bind(this),this.activateTabNav=this.activateTabNav.bind(this),this.currentTabId=window.localStorage.getItem(Sg)}connectedCallback(){this.querySelector("#tree-menu").querySelectorAll(".tab-link").forEach(l=>{l.addEventListener("click",u=>{u.preventDefault(),this.activateTabNav(l),this.activateTab(this.querySelector("#"+l.getAttribute("aria-controls")))})});let o=this.querySelector(".tab-link");this.currentTabId&&typeof this.currentTabId=="string"&&this.currentTabId.startsWith("tree")&&(o=this.querySelector("#"+this.currentTabId)),this.activateTabNav(o),this.activateTab(this.querySelector("#"+o.getAttribute("aria-controls")))}disconnectedCallback(){}activateTab(e){this.querySelectorAll(".tree-tab-content").forEach(n=>{this.desactivateTab(n)}),e==null||e.classList.add("active")}activateTabNav(e){this.querySelectorAll(".tab-link").forEach(o=>{this.desactivateTabNav(o)}),e==null||e.classList.add("active"),e==null||e.setAttribute("aria-selected",!0);const n=e.id;n&&(this.currentTabId=n,window.localStorage.setItem(Sg,n))}desactivateTab(e){e==null||e.classList.remove("active")}desactivateTabNav(e){e==null||e.classList.remove("active"),e==null||e.removeAttribute("aria-selected")}}function ec(t,e=3){const n=Math.pow(10,e);return Math.round(t*n)/n}const yn=class yn extends HTMLElement{constructor(){super();Gi(this,"originalHotspot",null);Gi(this,"hotspotOverridable",!1);Gi(this,"isDraggingHandle",!1);Gi(this,"isDraggingHotspot",!1);Gi(this,"isDraggingArea",!1);Gi(this,"cachedRects",new Map);Gi(this,"imageWrapper",null);Gi(this,"area",null);Gi(this,"handles",null);Gi(this,"hotspot",null);Gi(this,"resetButton",null);Gi(this,"overrideButton",null);Gi(this,"overrideButtonInput",null);Gi(this,"imageElement",null);Gi(this,"handleDragProps",null);Gi(this,"areaDragProps",null);Gi(this,"pointerDownEvent",null);this.boundHandlers={areaPointerDown:this.onAreaPointerDown.bind(this),pointerMove:this.onPointerMove.bind(this),pointerUp:this.onPointerUp.bind(this),resetClick:this.onResetClick.bind(this),overrideChange:this.onOverrideChange.bind(this)}}connectedCallback(){this.initializeOriginalHotspot(),this.initializeOverridableHotspot(),this.initializeElements(),this.updateImagePath(),this.setupOverrideHandling(),this.updateElements()}disconnectedCallback(){this.cleanup()}attributeChangedCallback(n){n==="image-path"&&this.updateImagePath()}initializeOriginalHotspot(){const n=this.getAttribute("original-hotspot");if(n)try{this.originalHotspot=JSON.parse(n)}catch(o){console.error("DocumentAlignmentWidget: Invalid original hotspot data:",o),this.originalHotspot=null}}initializeOverridableHotspot(){this.hotspotOverridable=!!this.getAttribute("hotspot-overridable")}setupOverrideHandling(){if(!this.hotspotOverridable||!this.overrideButton)return;const n=this.getStoredHotspotData();this.overrideButton.classList.add(yn.CSS_CLASSES.OVERRIDE_VISIBLE),this.overrideButtonInput.checked=!!n,this.area.inert=!this.overrideButtonInput.checked,this.overrideButtonInput.addEventListener("change",this.boundHandlers.overrideChange)}initializeElements(){var o;const{CSS_SELECTORS:n}=yn;if(this.imageWrapper=this.querySelector(n.IMAGE_WRAPPER),this.area=this.querySelector(n.AREA),this.handles=Array.from(this.querySelectorAll(n.HANDLES)),this.hotspot=this.querySelector(n.HOTSPOT),this.resetButton=this.querySelector(n.RESET_BUTTON),this.overrideButton=this.querySelector(n.OVERRIDE_BUTTON),this.overrideButtonInput=(o=this.overrideButton)==null?void 0:o.querySelector("input"),!this.imageWrapper||!this.area||this.handles.length===0||!this.hotspot){console.error("DocumentAlignmentWidget: Missing required elements");return}this.setupEventListeners()}setupEventListeners(){var n;(n=this.resetButton)==null||n.addEventListener("click",this.boundHandlers.resetClick),this.area.addEventListener("pointerdown",this.boundHandlers.areaPointerDown,{passive:!1})}cleanup(){var n,o,l;(n=this.area)==null||n.removeEventListener("pointerdown",this.boundHandlers.areaPointerDown),(o=this.resetButton)==null||o.removeEventListener("click",this.boundHandlers.resetClick),(l=this.overrideButtonInput)==null||l.removeEventListener("change",this.boundHandlers.overrideChange),document.removeEventListener("pointermove",this.boundHandlers.pointerMove),document.removeEventListener("pointerup",this.boundHandlers.pointerUp),this.imageWrapper=null,this.area=null,this.handles=null,this.hotspot=null,this.resetButton=null,this.overrideButton=null,this.overrideButtonInput=null,this.handleDragProps=null,this.areaDragProps=null,this.pointerDownEvent=null}updateImagePath(){if(!this.imageElement&&(this.imageElement=this.querySelector(yn.CSS_SELECTORS.IMAGE),!this.imageElement))return;const n=this.getAttribute("image-path");n&&this.imageElement.src!==n&&(this.imageElement.src=n)}updateElements(){var u,c;const n=this.getStoredHotspotData();let o=n,l=!!n;this.hotspotOverridable&&((u=this.overrideButtonInput)!=null&&u.checked||(o=this.originalHotspot),l=((c=this.overrideButtonInput)==null?void 0:c.checked)&&!!n),this.setAreaPosition(o),this.setHotspotPosition(o),this.toggleResetButtonVisibility(l)}toggleResetButtonVisibility(n){var o;(o=this.resetButton)==null||o.classList.toggle(yn.CSS_CLASSES.RESET_VISIBLE,n)}getInput(n){const o=this.getAttribute("input-base-name");return document.querySelector(`input[name="${o}[${n}]"]`)}moveArea({x:n,y:o,width:l,height:u}){let c=this.cachedRects.get("wrapper");c||(c=this.imageWrapper.getBoundingClientRect(),this.cachedRects.set("wrapper",c));const h=c.width,v=c.height;let x=Math.max(0,Math.min(n,h-l)),w=Math.max(0,Math.min(o,v-u)),k=Math.max(yn.DEFAULT_VALUES.MIN_SIZE,l),A=Math.max(yn.DEFAULT_VALUES.MIN_SIZE,u);x+k>h&&(k=h-x),w+A>v&&(A=v-w);const B={areaStartX:ec(x/h),areaStartY:ec(w/v),areaEndX:ec((x+k)/h),areaEndY:ec((w+A)/v)};this.setHotspotData(B),this.toggleResetButtonVisibility(!0),this.setAreaPosition(B)}setAreaPosition(n){const{CSS_PROPERTIES:o}=yn;if(n){const{areaStartX:l,areaStartY:u,areaEndX:c,areaEndY:h}=n,v=(u||0)*100,x=(1-(c||1))*100,w=(1-(h||1))*100,k=(l||0)*100;this.imageWrapper.style.setProperty(o.AREA_TOP,`${v}%`),this.imageWrapper.style.setProperty(o.AREA_RIGHT,`${x}%`),this.imageWrapper.style.setProperty(o.AREA_BOTTOM,`${w}%`),this.imageWrapper.style.setProperty(o.AREA_LEFT,`${k}%`)}else this.imageWrapper.style.removeProperty(o.AREA_TOP),this.imageWrapper.style.removeProperty(o.AREA_RIGHT),this.imageWrapper.style.removeProperty(o.AREA_BOTTOM),this.imageWrapper.style.removeProperty(o.AREA_LEFT)}getHotspotFromImageCropAlignment(n){return yn.CROP_ALIGNMENT_MAP[n]}moveHotspot(n,o){let l=this.cachedRects.get("area");l||(l=this.area.getBoundingClientRect(),this.cachedRects.set("area",l));let u=(n-l.left)/l.width,c=(o-l.top)/l.height;u=Math.max(0,Math.min(1,ec(u))),c=Math.max(0,Math.min(1,ec(c)));const h={x:u,y:c};this.setHotspotData(h),this.toggleResetButtonVisibility(!0),this.setHotspotPosition(h)}setHotspotPosition(n){this.hotspot&&(this.hotspot.style.top=typeof(n==null?void 0:n.y)=="number"?`${n.y*100}%`:"",this.hotspot.style.left=typeof(n==null?void 0:n.x)=="number"?`${n.x*100}%`:"")}getStoredHotspotData(){var l,u;const n=(l=this.getInput("hotspot"))==null?void 0:l.value;if(n&&n!=="null")try{const c=JSON.parse(n);if(c&&typeof c.x=="number"&&typeof c.y=="number")return c}catch(c){console.error("DocumentAlignmentWidget: Invalid stored hotspot data:",c)}const o=(u=this.getInput("imageCropAlignment"))==null?void 0:u.value;return o?this.getHotspotFromImageCropAlignment(o):null}setHotspotData(n){const o=this.getInput("hotspot"),l=this.getInput("imageCropAlignment");if(o){let u={};try{u=JSON.parse(o.value||"{}")||{}}catch(h){console.error("DocumentAlignmentWidget: Invalid existing hotspot data:",h)}let c=null;n&&(c={...yn.DEFAULT_VALUES.HOTSPOT,...u,...n}),o.value=JSON.stringify(c)}l&&l.value!==""&&(l.value="")}startDragHandle(n){const o=n.target,l=this.area.getBoundingClientRect(),u=this.area.parentElement.getBoundingClientRect();this.isDraggingHandle=!0,this.handleDragProps={startX:l.left-u.left,startY:l.top-u.top,startWidth:l.width,startHeight:l.height,handleIndex:this.handles.indexOf(o),parentRect:this.imageWrapper.getBoundingClientRect()},this.cachedRects.clear()}dragHandle(n){const{startX:o,startY:l,startWidth:u,startHeight:c,handleIndex:h,parentRect:v}=this.handleDragProps,x=n.clientX-v.left,w=n.clientY-v.top;let k=o,A=l,B=u,N=c;switch(h){case 0:B=u+(o-x),N=c+(l-w),k=x,A=w;break;case 1:N=c+(l-w),A=w;break;case 2:B=x-o,N=c+(l-w),A=w;break;case 3:B=u+(o-x),k=x;break;case 4:B=x-o;break;case 5:B=u+(o-x),k=x,N=w-l;break;case 6:N=w-l;break;case 7:B=x-o,N=w-l;break}B=Math.max(yn.DEFAULT_VALUES.MIN_SIZE,B),N=Math.max(yn.DEFAULT_VALUES.MIN_SIZE,N),this.moveArea({x:k,y:A,width:B,height:N})}stopDragHandle(){this.isDraggingHandle=!1}startDragHotspot(){var n;this.isDraggingHotspot=!0,(n=this.hotspot)==null||n.classList.add(yn.CSS_CLASSES.HOTSPOT_GRABBING),this.cachedRects.clear()}dragHotspot(n){this.moveHotspot(n.clientX,n.clientY)}stopDragHotspot(){var n;this.isDraggingHotspot=!1,(n=this.hotspot)==null||n.classList.remove(yn.CSS_CLASSES.HOTSPOT_GRABBING)}startDragArea(n){const o=this.area.getBoundingClientRect(),l=this.area.parentElement.getBoundingClientRect();this.isDraggingArea=!0,this.areaDragProps={startX:o.left-l.left,startY:o.top-l.top,startMouseX:n.clientX,startMouseY:n.clientY,areaWidth:o.width,areaHeight:o.height},this.cachedRects.clear()}dragArea(n){const{startX:o,startY:l,startMouseX:u,startMouseY:c,areaWidth:h,areaHeight:v}=this.areaDragProps,x=n.clientX-u,w=n.clientY-c,k=o+x,A=l+w;this.moveArea({x:k,y:A,width:h,height:v})}stopDragArea(){this.isDraggingArea=!1}onAreaPointerDown(n){const o=n.target;this.pointerDownEvent=n,n.preventDefault(),n.stopPropagation(),this.handles.includes(o)?this.startDragHandle(n):o===this.hotspot?this.startDragHotspot(n):(o===this.area||this.area.contains(o))&&this.startDragArea(n),document.addEventListener("pointermove",this.boundHandlers.pointerMove,{passive:!1}),document.addEventListener("pointerup",this.boundHandlers.pointerUp)}onPointerMove(n){n.preventDefault(),this.isDraggingHandle?this.dragHandle(n):this.isDraggingHotspot?this.dragHotspot(n):this.isDraggingArea&&this.dragArea(n)}onPointerUp(n){this.pointerDownEvent.clientX===n.clientX&&this.pointerDownEvent.clientY===n.clientY&&this.moveHotspot(n.clientX,n.clientY),this.pointerDownEvent=null,this.isDraggingHandle&&this.stopDragHandle(),this.isDraggingArea&&this.stopDragArea(),this.isDraggingHotspot&&this.stopDragHotspot(),document.removeEventListener("pointermove",this.boundHandlers.pointerMove),document.removeEventListener("pointerup",this.boundHandlers.pointerUp),this.cachedRects.clear()}onOverrideChange(n){const o=n.target.checked;if(this.area.inert=!o,!o)this.setHotspotData(null);else{const l={...yn.DEFAULT_VALUES.HOTSPOT,...yn.DEFAULT_VALUES.AREA};this.setHotspotData(this.originalHotspot||l)}this.updateElements()}onResetClick(){let n=null;this.hotspotOverridable&&(n={...yn.DEFAULT_VALUES.HOTSPOT,...yn.DEFAULT_VALUES.AREA}),this.setHotspotData(n),this.updateElements()}};Gi(yn,"observedAttributes",["image-path"]),Gi(yn,"CSS_SELECTORS",{IMAGE_WRAPPER:".document-alignment-widget__image-wrapper",AREA:".document-alignment-widget__area",HANDLES:".document-alignment-widget__handle",HOTSPOT:".document-alignment-widget__hotspot",RESET_BUTTON:".document-alignment-widget__reset",OVERRIDE_BUTTON:".document-alignment-widget__override",IMAGE:".document-alignment-widget__image"}),Gi(yn,"CSS_CLASSES",{OVERRIDE_VISIBLE:"document-alignment-widget__override--visible",RESET_VISIBLE:"document-alignment-widget__reset--visible",HOTSPOT_GRABBING:"document-alignment-widget__hotspot--grabbing"}),Gi(yn,"CSS_PROPERTIES",{AREA_TOP:"--document-alignment-widget-area-top",AREA_RIGHT:"--document-alignment-widget-area-right",AREA_BOTTOM:"--document-alignment-widget-area-bottom",AREA_LEFT:"--document-alignment-widget-area-left"}),Gi(yn,"DEFAULT_VALUES",{HOTSPOT:{x:.5,y:.5},AREA:{areaStartX:0,areaStartY:0,areaEndX:1,areaEndY:1},MIN_SIZE:20}),Gi(yn,"CROP_ALIGNMENT_MAP",{"top-left":{x:0,y:0},top:{x:.5,y:0},"top-right":{x:1,y:0},left:{x:0,y:.5},center:{x:.5,y:.5},right:{x:1,y:.5},"bottom-left":{x:0,y:1},bottom:{x:.5,y:1},"bottom-right":{x:1,y:1}});let _p=yn;const Xo=class Xo extends HTMLElement{constructor(){super();Gi(this,"dialog",null);Gi(this,"boundHandlers",{});this.boundHandlers={buttonClick:this.onButtonClick.bind(this),dialogClose:this.onDialogClose.bind(this)}}connectedCallback(){this.createDialog(),this.setupEventListeners(),this.appendToDOM(),this.loadTemplate()}disconnectedCallback(){this.cleanup()}createDialog(){this.dialog=document.createElement("dialog"),this.dialog.setAttribute("closedby","any"),this.dialog.classList.add("uk-form","document-edit-dialog"),this.dialog.innerHTML=this.getDialogHTML()}getDialogHTML(){var l,u,c,h;const{INPUT_BASE_NAME:n,INPUT_KEYS:o}=Xo;return`
            <header class="document-edit-dialog__header">
                <h2 class="document-edit-dialog__title">
                    <i class="uk-icon-image"></i>
                    <span>${this.getAttribute("title")}</span>
                </h2>
                <button class="document-edit-dialog__close" type="button" value="cancel">
                    <i class="uk-icon-close"></i>
                </button>
            </header>
            <div class="document-edit-dialog__content">
                <div class="document-edit-dialog__content__placeholder">
                    <div class="spinner"></div>
                </div>
            </div>
            ${o.map(v=>`<input type="hidden" name="${n}[${v}]">`).join(`
`)}
            <footer>
                <div class="document-edit-dialog__actions">
                    ${this.getEditLink()}
                    <button class="uk-button uk-button-small document-edit-dialog__cancel" type="button" value="cancel">
                        ${(u=(l=window.RozierConfig)==null?void 0:l.messages)==null?void 0:u.documentEditDialogCancel}
                    </button>
                    <button class="uk-button uk-button-small document-edit-dialog__submit" type="button" value="submit">
                        ${(h=(c=window.RozierConfig)==null?void 0:c.messages)==null?void 0:h.documentEditDialogSubmit}
                    </button>
                </div>
            </footer>
        `}setupEventListeners(){var o;const{CSS_SELECTORS:n}=Xo;(o=this.dialog.querySelectorAll(`${n.DIALOG_CLOSE}, ${n.DIALOG_ACTIONS}`))==null||o.forEach(l=>{l.addEventListener("click",this.boundHandlers.buttonClick)}),this.dialog.addEventListener("close",this.boundHandlers.dialogClose)}appendToDOM(){this.appendChild(this.dialog)}cleanup(){var o,l,u;const{CSS_SELECTORS:n}=Xo;(l=(o=this.dialog)==null?void 0:o.querySelectorAll(`${n.DIALOG_CLOSE}, ${n.DIALOG_ACTIONS}`))==null||l.forEach(c=>{c.removeEventListener("click",this.boundHandlers.buttonClick)}),(u=this.dialog)==null||u.removeEventListener("close",this.boundHandlers.dialogClose),this.dialog=null}loadTemplate(){const n=this.getAttribute("template-path");if(n)return this.fetchTemplate(n).then(o=>this.parseTemplate(o)).then(o=>this.setupWidget(o)).then(o=>this.replaceDialogContent(o)).catch(o=>{console.error("DocumentEditDialog: Failed to load template:",o)})}async fetchTemplate(n){const o=await fetch(n);if(!o.ok)throw new Error("Network response was not ok");return o.text()}parseTemplate(n){const o=document.createElement("div");return o.innerHTML=n,o.querySelector(Xo.CSS_SELECTORS.ALIGNMENT_WIDGET)}setupWidget(n){const{INPUT_BASE_NAME:o}=Xo;if(n){this.applyInputValues(this.getAttribute("input-base-name"),o,document,this.dialog),n.setAttribute("image-path",this.getAttribute("image-path")),n.setAttribute("input-base-name",o),n.setAttribute("hotspot-overridable",!0);const l=this.getAttribute("original-hotspot");l&&n.setAttribute("original-hotspot",l)}return(n==null?void 0:n.parentNode)||document.createElement("div")}replaceDialogContent(n){this.dialog.querySelector(Xo.CSS_SELECTORS.DIALOG_CONTENT).replaceChildren(...n.childNodes)}applyInputValues(n,o,l,u){const{INPUT_KEYS:c}=Xo;c.forEach(h=>{const v=l.querySelector(`input[name="${n}[${h}]"]`);if(v){const x=u.querySelector(`input[name="${o}[${h}]"]`);x&&(x.value=v.value)}})}getEditLink(){var o,l;const n=this.getAttribute("edit-url");return n?`
            <a class="uk-button uk-button-small document-edit-dialog__edit-link" href="${n}">
                ${(l=(o=window.RozierConfig)==null?void 0:o.messages)==null?void 0:l.documentEditDialogEdit}
            </a>
        `:""}showModal(){var n;(n=this.dialog)==null||n.showModal()}onButtonClick(n){(n.currentTarget.value==="cancel"||n.target.value==="submit")&&this.dialog.close(n.target.value)}onDialogClose(){const{INPUT_BASE_NAME:n}=Xo;this.dialog.returnValue==="submit"&&this.applyInputValues(n,this.getAttribute("input-base-name"),this.dialog,document),this.remove()}};Gi(Xo,"INPUT_BASE_NAME","document_edit_dialog[proxy]"),Gi(Xo,"INPUT_KEYS",["imageCropAlignment","hotspot"]),Gi(Xo,"CSS_SELECTORS",{DIALOG_CLOSE:".document-edit-dialog__close",DIALOG_ACTIONS:".document-edit-dialog__actions > button",DIALOG_CONTENT:".document-edit-dialog__content",ALIGNMENT_WIDGET:"document-alignment-widget"});let wp=Xo;/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */const to=typeof window<"u"?window:typeof Gp<"u"&&Gp.exports&&typeof global<"u"?global:void 0,Gh=function(t,e){var n=t.document,o=t.GreenSockGlobals=t.GreenSockGlobals||t;if(o.TweenLite)return o.TweenLite;var l=function(X){var le=X.split("."),Q=o,he;for(he=0;he<le.length;he++)Q[le[he]]=Q=Q[le[he]]||{};return Q},u=l("com.greensock"),c=1e-10,h=function(X){var le=[],Q=X.length,he;for(he=0;he!==Q;le.push(X[he++]));return le},v=function(){},x=function(){var X=Object.prototype.toString,le=X.call([]);return function(Q){return Q!=null&&(Q instanceof Array||typeof Q=="object"&&!!Q.push&&X.call(Q)===le)}}(),w,k,A,B,N,j={},q=function(X,le,Q,he){this.sc=j[X]?j[X].sc:[],j[X]=this,this.gsClass=null,this.func=Q;var pe=[];this.check=function(Be){for(var ot=le.length,Qe=ot,mt,Pt,ct,Wt;--ot>-1;)(mt=j[le[ot]]||new q(le[ot],[])).gsClass?(pe[ot]=mt.gsClass,Qe--):Be&&mt.sc.push(this);if(Qe===0&&Q)for(Pt=("com.greensock."+X).split("."),ct=Pt.pop(),Wt=l(Pt.join("."))[ct]=this.gsClass=Q.apply(Q,pe),he&&(o[ct]=Wt),ot=0;ot<this.sc.length;ot++)this.sc[ot].check()},this.check(!0)},O=t._gsDefine=function(X,le,Q,he){return new q(X,le,Q,he)},S=u._class=function(X,le,Q){return le=le||function(){},O(X,[],function(){return le},Q),le};O.globals=o;var P=[0,0,1,1],W=S("easing.Ease",function(X,le,Q,he){this._func=X,this._type=Q||0,this._power=he||0,this._params=le?P.concat(le):P},!0),z=W.map={},G=W.register=function(X,le,Q,he){for(var pe=le.split(","),Be=pe.length,ot=(Q||"easeIn,easeOut,easeInOut").split(","),Qe,mt,Pt,ct;--Be>-1;)for(mt=pe[Be],Qe=he?S("easing."+mt,null,!0):u.easing[mt]||{},Pt=ot.length;--Pt>-1;)ct=ot[Pt],z[mt+"."+ct]=z[ct+mt]=Qe[ct]=X.getRatio?X:X[ct]||new X};for(A=W.prototype,A._calcEnd=!1,A.getRatio=function(X){if(this._func)return this._params[0]=X,this._func.apply(null,this._params);var le=this._type,Q=this._power,he=le===1?1-X:le===2?X:X<.5?X*2:(1-X)*2;return Q===1?he*=he:Q===2?he*=he*he:Q===3?he*=he*he*he:Q===4&&(he*=he*he*he*he),le===1?1-he:le===2?he:X<.5?he/2:1-he/2},w=["Linear","Quad","Cubic","Quart","Quint,Strong"],k=w.length;--k>-1;)A=w[k]+",Power"+k,G(new W(null,null,1,k),A,"easeOut",!0),G(new W(null,null,2,k),A,"easeIn"+(k===0?",easeNone":"")),G(new W(null,null,3,k),A,"easeInOut");z.linear=u.easing.Linear.easeIn,z.swing=u.easing.Quad.easeInOut;var J=S("events.EventDispatcher",function(X){this._listeners={},this._eventTarget=X||this});A=J.prototype,A.addEventListener=function(X,le,Q,he,pe){pe=pe||0;var Be=this._listeners[X],ot=0,Qe,mt;for(this===B&&!N&&B.wake(),Be==null&&(this._listeners[X]=Be=[]),mt=Be.length;--mt>-1;)Qe=Be[mt],Qe.c===le&&Qe.s===Q?Be.splice(mt,1):ot===0&&Qe.pr<pe&&(ot=mt+1);Be.splice(ot,0,{c:le,s:Q,up:he,pr:pe})},A.removeEventListener=function(X,le){var Q=this._listeners[X],he;if(Q){for(he=Q.length;--he>-1;)if(Q[he].c===le){Q.splice(he,1);return}}},A.dispatchEvent=function(X){var le=this._listeners[X],Q,he,pe;if(le)for(Q=le.length,Q>1&&(le=le.slice(0)),he=this._eventTarget;--Q>-1;)pe=le[Q],pe&&(pe.up?pe.c.call(pe.s||he,{type:X,target:he}):pe.c.call(pe.s||he))};var ue=t.requestAnimationFrame,de=t.cancelAnimationFrame,ge=Date.now||function(){return new Date().getTime()},ce=ge();for(w=["ms","moz","webkit","o"],k=w.length;--k>-1&&!ue;)ue=t[w[k]+"RequestAnimationFrame"],de=t[w[k]+"CancelAnimationFrame"]||t[w[k]+"CancelRequestAnimationFrame"];S("Ticker",function(X,le){var Q=this,he=ge(),pe=le!==!1&&ue?"auto":!1,Be=500,ot=33,Qe="tick",mt,Pt,ct,Wt,$t,Qt=function(Vt){var xt=ge()-ce,Gn,Yt;xt>Be&&(he+=xt-ot),ce+=xt,Q.time=(ce-he)/1e3,Gn=Q.time-$t,(!mt||Gn>0||Vt===!0)&&(Q.frame++,$t+=Gn+(Gn>=Wt?.004:Wt-Gn),Yt=!0),Vt!==!0&&(ct=Pt(Qt)),Yt&&Q.dispatchEvent(Qe)};J.call(Q),Q.time=Q.frame=0,Q.tick=function(){Qt(!0)},Q.lagSmoothing=function(Vt,xt){if(!arguments.length)return Be<1/c;Be=Vt||1/c,ot=Math.min(xt,Be,0)},Q.sleep=function(){ct!=null&&(!pe||!de?clearTimeout(ct):de(ct),Pt=v,ct=null,Q===B&&(N=!1))},Q.wake=function(Vt){ct!==null?Q.sleep():Vt?he+=-ce+(ce=ge()):Q.frame>10&&(ce=ge()-Be+5),Pt=mt===0?v:!pe||!ue?function(xt){return setTimeout(xt,($t-Q.time)*1e3+1|0)}:ue,Q===B&&(N=!0),Qt(2)},Q.fps=function(Vt){if(!arguments.length)return mt;mt=Vt,Wt=1/(mt||60),$t=this.time+Wt,Q.wake()},Q.useRAF=function(Vt){if(!arguments.length)return pe;Q.sleep(),pe=Vt,Q.fps(mt)},Q.fps(X),setTimeout(function(){pe==="auto"&&Q.frame<5&&(n||{}).visibilityState!=="hidden"&&Q.useRAF(!1)},1500)}),A=u.Ticker.prototype=new u.events.EventDispatcher,A.constructor=u.Ticker;var Te=S("core.Animation",function(X,le){if(this.vars=le=le||{},this._duration=this._totalDuration=X||0,this._delay=Number(le.delay)||0,this._timeScale=1,this._active=le.immediateRender===!0,this.data=le.data,this._reversed=le.reversed===!0,!!ut){N||B.wake();var Q=this.vars.useFrames?Xe:ut;Q.add(this,Q._time),this.vars.paused&&this.paused(!0)}});B=Te.ticker=new u.Ticker,A=Te.prototype,A._dirty=A._gc=A._initted=A._paused=!1,A._totalTime=A._time=0,A._rawPrevTime=-1,A._next=A._last=A._onUpdate=A._timeline=A.timeline=null,A._paused=!1;var ve=function(){N&&ge()-ce>2e3&&((n||{}).visibilityState!=="hidden"||!B.lagSmoothing())&&B.wake();var X=setTimeout(ve,2e3);X.unref&&X.unref()};ve(),A.play=function(X,le){return X!=null&&this.seek(X,le),this.reversed(!1).paused(!1)},A.pause=function(X,le){return X!=null&&this.seek(X,le),this.paused(!0)},A.resume=function(X,le){return X!=null&&this.seek(X,le),this.paused(!1)},A.seek=function(X,le){return this.totalTime(Number(X),le!==!1)},A.restart=function(X,le){return this.reversed(!1).paused(!1).totalTime(X?-this._delay:0,le!==!1,!0)},A.reverse=function(X,le){return X!=null&&this.seek(X||this.totalDuration(),le),this.reversed(!0).paused(!1)},A.render=function(X,le,Q){},A.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},A.isActive=function(){var X=this._timeline,le=this._startTime,Q;return!X||!this._gc&&!this._paused&&X.isActive()&&(Q=X.rawTime(!0))>=le&&Q<le+this.totalDuration()/this._timeScale-1e-7},A._enabled=function(X,le){return N||B.wake(),this._gc=!X,this._active=this.isActive(),le!==!0&&(X&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!X&&this.timeline&&this._timeline._remove(this,!0)),!1},A._kill=function(X,le){return this._enabled(!1,!1)},A.kill=function(X,le){return this._kill(X,le),this},A._uncache=function(X){for(var le=X?this:this.timeline;le;)le._dirty=!0,le=le.timeline;return this},A._swapSelfInParams=function(X){for(var le=X.length,Q=X.concat();--le>-1;)X[le]==="{self}"&&(Q[le]=this);return Q},A._callback=function(X){var le=this.vars,Q=le[X],he=le[X+"Params"],pe=le[X+"Scope"]||le.callbackScope||this,Be=he?he.length:0;switch(Be){case 0:Q.call(pe);break;case 1:Q.call(pe,he[0]);break;case 2:Q.call(pe,he[0],he[1]);break;default:Q.apply(pe,he)}},A.eventCallback=function(X,le,Q,he){if((X||"").substr(0,2)==="on"){var pe=this.vars;if(arguments.length===1)return pe[X];le==null?delete pe[X]:(pe[X]=le,pe[X+"Params"]=x(Q)&&Q.join("").indexOf("{self}")!==-1?this._swapSelfInParams(Q):Q,pe[X+"Scope"]=he),X==="onUpdate"&&(this._onUpdate=le)}return this},A.delay=function(X){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+X-this._delay),this._delay=X,this):this._delay},A.duration=function(X){return arguments.length?(this._duration=this._totalDuration=X,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&X!==0&&this.totalTime(this._totalTime*(X/this._duration),!0),this):(this._dirty=!1,this._duration)},A.totalDuration=function(X){return this._dirty=!1,arguments.length?this.duration(X):this._totalDuration},A.time=function(X,le){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(X>this._duration?this._duration:X,le)):this._time},A.totalTime=function(X,le,Q){if(N||B.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(X<0&&!Q&&(X+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var he=this._totalDuration,pe=this._timeline;if(X>he&&!Q&&(X=he),this._startTime=(this._paused?this._pauseTime:pe._time)-(this._reversed?he-X:X)/this._timeScale,pe._dirty||this._uncache(!1),pe._timeline)for(;pe._timeline;)pe._timeline._time!==(pe._startTime+pe._totalTime)/pe._timeScale&&pe.totalTime(pe._totalTime,!0),pe=pe._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==X||this._duration===0)&&(Ce.length&&wt(),this.render(X,le,!1),Ce.length&&wt())}return this},A.progress=A.totalProgress=function(X,le){var Q=this.duration();return arguments.length?this.totalTime(Q*X,le):Q?this._time/Q:this.ratio},A.startTime=function(X){return arguments.length?(X!==this._startTime&&(this._startTime=X,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,X-this._delay)),this):this._startTime},A.endTime=function(X){return this._startTime+(X!=!1?this.totalDuration():this.duration())/this._timeScale},A.timeScale=function(X){if(!arguments.length)return this._timeScale;var le,Q;for(X=X||c,this._timeline&&this._timeline.smoothChildTiming&&(le=this._pauseTime,Q=le||le===0?le:this._timeline.totalTime(),this._startTime=Q-(Q-this._startTime)*this._timeScale/X),this._timeScale=X,Q=this.timeline;Q&&Q.timeline;)Q._dirty=!0,Q.totalDuration(),Q=Q.timeline;return this},A.reversed=function(X){return arguments.length?(X!=this._reversed&&(this._reversed=X,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},A.paused=function(X){if(!arguments.length)return this._paused;var le=this._timeline,Q,he;return X!=this._paused&&le&&(!N&&!X&&B.wake(),Q=le.rawTime(),he=Q-this._pauseTime,!X&&le.smoothChildTiming&&(this._startTime+=he,this._uncache(!1)),this._pauseTime=X?Q:null,this._paused=X,this._active=this.isActive(),!X&&he!==0&&this._initted&&this.duration()&&(Q=le.smoothChildTiming?this._totalTime:(Q-this._startTime)/this._timeScale,this.render(Q,Q===this._totalTime,!0))),this._gc&&!X&&this._enabled(!0,!1),this};var ne=S("core.SimpleTimeline",function(X){Te.call(this,0,X),this.autoRemoveChildren=this.smoothChildTiming=!0});A=ne.prototype=new Te,A.constructor=ne,A.kill()._gc=!1,A._first=A._last=A._recent=null,A._sortChildren=!1,A.add=A.insert=function(X,le,Q,he){var pe,Be;if(X._startTime=Number(le||0)+X._delay,X._paused&&this!==X._timeline&&(X._pauseTime=this.rawTime()-(X._timeline.rawTime()-X._pauseTime)),X.timeline&&X.timeline._remove(X,!0),X.timeline=X._timeline=this,X._gc&&X._enabled(!0,!0),pe=this._last,this._sortChildren)for(Be=X._startTime;pe&&pe._startTime>Be;)pe=pe._prev;return pe?(X._next=pe._next,pe._next=X):(X._next=this._first,this._first=X),X._next?X._next._prev=X:this._last=X,X._prev=pe,this._recent=X,this._timeline&&this._uncache(!0),this},A._remove=function(X,le){return X.timeline===this&&(le||X._enabled(!1,!0),X._prev?X._prev._next=X._next:this._first===X&&(this._first=X._next),X._next?X._next._prev=X._prev:this._last===X&&(this._last=X._prev),X._next=X._prev=X.timeline=null,X===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},A.render=function(X,le,Q){var he=this._first,pe;for(this._totalTime=this._time=this._rawPrevTime=X;he;)pe=he._next,(he._active||X>=he._startTime&&!he._paused&&!he._gc)&&(he._reversed?he.render((he._dirty?he.totalDuration():he._totalDuration)-(X-he._startTime)*he._timeScale,le,Q):he.render((X-he._startTime)*he._timeScale,le,Q)),he=pe},A.rawTime=function(){return N||B.wake(),this._totalTime};var D=S("TweenLite",function(X,le,Q){if(Te.call(this,le,Q),this.render=D.prototype.render,X==null)throw"Cannot tween a null target.";this.target=X=typeof X!="string"?X:D.selector(X)||X;var he=X.jquery||X.length&&X!==t&&X[0]&&(X[0]===t||X[0].nodeType&&X[0].style&&!X.nodeType),pe=this.vars.overwrite,Be,ot,Qe;if(this._overwrite=pe=pe==null?Ze[D.defaultOverwrite]:typeof pe=="number"?pe>>0:Ze[pe],(he||X instanceof Array||X.push&&x(X))&&typeof X[0]!="number")for(this._targets=Qe=h(X),this._propLookup=[],this._siblings=[],Be=0;Be<Qe.length;Be++){if(ot=Qe[Be],ot){if(typeof ot=="string"){ot=Qe[Be--]=D.selector(ot),typeof ot=="string"&&Qe.splice(Be+1,1);continue}else if(ot.length&&ot!==t&&ot[0]&&(ot[0]===t||ot[0].nodeType&&ot[0].style&&!ot.nodeType)){Qe.splice(Be--,1),this._targets=Qe=Qe.concat(h(ot));continue}}else{Qe.splice(Be--,1);continue}this._siblings[Be]=St(ot,this,!1),pe===1&&this._siblings[Be].length>1&&Mt(ot,this,null,1,this._siblings[Be])}else this._propLookup={},this._siblings=St(X,this,!1),pe===1&&this._siblings.length>1&&Mt(X,this,null,1,this._siblings);(this.vars.immediateRender||le===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-c,this.render(Math.min(0,-this._delay)))},!0),se=function(X){return X&&X.length&&X!==t&&X[0]&&(X[0]===t||X[0].nodeType&&X[0].style&&!X.nodeType)},ye=function(X,le){var Q={},he;for(he in X)!je[he]&&(!(he in le)||he==="transform"||he==="x"||he==="y"||he==="width"||he==="height"||he==="className"||he==="border")&&(!V[he]||V[he]&&V[he]._autoCSS)&&(Q[he]=X[he],delete X[he]);X.css=Q};A=D.prototype=new Te,A.constructor=D,A.kill()._gc=!1,A.ratio=0,A._firstPT=A._targets=A._overwrittenProps=A._startAt=null,A._notifyPluginsOfEnabled=A._lazy=!1,D.version="1.20.5",D.defaultEase=A._ease=new W(null,null,1,1),D.defaultOverwrite="auto",D.ticker=B,D.autoSleep=120,D.lagSmoothing=function(X,le){B.lagSmoothing(X,le)},D.selector=t.$||t.jQuery||function(X){var le=t.$||t.jQuery;return le?(D.selector=le,le(X)):(n||(n=t.document),n?n.querySelectorAll?n.querySelectorAll(X):n.getElementById(X.charAt(0)==="#"?X.substr(1):X):X)};var Ce=[],et={},ze=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Me=/[\+-]=-?[\.\d]/,ie=function(X){for(var le=this._firstPT,Q=1e-6,he;le;)he=le.blob?X===1&&this.end!=null?this.end:X?this.join(""):this.start:le.c*X+le.s,le.m?he=le.m.call(this._tween,he,this._target||le.t,this._tween):he<Q&&he>-Q&&!le.blob&&(he=0),le.f?le.fp?le.t[le.p](le.fp,he):le.t[le.p](he):le.t[le.p]=he,le=le._next},Y=function(X,le,Q,he){var pe=[],Be=0,ot="",Qe=0,mt,Pt,ct,Wt,$t,Qt,Vt;for(pe.start=X,pe.end=le,X=pe[0]=X+"",le=pe[1]=le+"",Q&&(Q(pe),X=pe[0],le=pe[1]),pe.length=0,mt=X.match(ze)||[],Pt=le.match(ze)||[],he&&(he._next=null,he.blob=1,pe._firstPT=pe._applyPT=he),$t=Pt.length,Wt=0;Wt<$t;Wt++)Vt=Pt[Wt],Qt=le.substr(Be,le.indexOf(Vt,Be)-Be),ot+=Qt||!Wt?Qt:",",Be+=Qt.length,Qe?Qe=(Qe+1)%5:Qt.substr(-5)==="rgba("&&(Qe=1),Vt===mt[Wt]||mt.length<=Wt?ot+=Vt:(ot&&(pe.push(ot),ot=""),ct=parseFloat(mt[Wt]),pe.push(ct),pe._firstPT={_next:pe._firstPT,t:pe,p:pe.length-1,s:ct,c:(Vt.charAt(1)==="="?parseInt(Vt.charAt(0)+"1",10)*parseFloat(Vt.substr(2)):parseFloat(Vt)-ct)||0,f:0,m:Qe&&Qe<4?Math.round:0}),Be+=Vt.length;return ot+=le.substr(Be),ot&&pe.push(ot),pe.setRatio=ie,Me.test(le)&&(pe.end=null),pe},Le=function(X,le,Q,he,pe,Be,ot,Qe,mt){typeof he=="function"&&(he=he(mt||0,X));var Pt=typeof X[le],ct=Pt!=="function"?"":le.indexOf("set")||typeof X["get"+le.substr(3)]!="function"?le:"get"+le.substr(3),Wt=Q!=="get"?Q:ct?ot?X[ct](ot):X[ct]():X[le],$t=typeof he=="string"&&he.charAt(1)==="=",Qt={t:X,p:le,s:Wt,f:Pt==="function",pg:0,n:pe||le,m:Be?typeof Be=="function"?Be:Math.round:0,pr:0,c:$t?parseInt(he.charAt(0)+"1",10)*parseFloat(he.substr(2)):parseFloat(he)-Wt||0},Vt;if((typeof Wt!="number"||typeof he!="number"&&!$t)&&(ot||isNaN(Wt)||!$t&&isNaN(he)||typeof Wt=="boolean"||typeof he=="boolean"?(Qt.fp=ot,Vt=Y(Wt,$t?parseFloat(Qt.s)+Qt.c+(Qt.s+"").replace(/[0-9\-\.]/g,""):he,Qe||D.defaultStringFilter,Qt),Qt={t:Vt,p:"setRatio",s:0,c:1,f:2,pg:0,n:pe||le,pr:0,m:0}):(Qt.s=parseFloat(Wt),$t||(Qt.c=parseFloat(he)-Qt.s||0))),Qt.c)return(Qt._next=this._firstPT)&&(Qt._next._prev=Qt),this._firstPT=Qt,Qt},Re=D._internals={isArray:x,isSelector:se,lazyTweens:Ce,blobDif:Y},V=D._plugins={},we=Re.tweenLookup={},Ae=0,je=Re.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Ze={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Xe=Te._rootFramesTimeline=new ne,ut=Te._rootTimeline=new ne,Ct=30,wt=Re.lazyRender=function(){var X=Ce.length,le;for(et={};--X>-1;)le=Ce[X],le&&le._lazy!==!1&&(le.render(le._lazy[0],le._lazy[1],!0),le._lazy=!1);Ce.length=0};ut._startTime=B.time,Xe._startTime=B.frame,ut._active=Xe._active=!0,setTimeout(wt,1),Te._updateRoot=D.render=function(){var X,le,Q;if(Ce.length&&wt(),ut.render((B.time-ut._startTime)*ut._timeScale,!1,!1),Xe.render((B.frame-Xe._startTime)*Xe._timeScale,!1,!1),Ce.length&&wt(),B.frame>=Ct){Ct=B.frame+(parseInt(D.autoSleep,10)||120);for(Q in we){for(le=we[Q].tweens,X=le.length;--X>-1;)le[X]._gc&&le.splice(X,1);le.length===0&&delete we[Q]}if(Q=ut._first,(!Q||Q._paused)&&D.autoSleep&&!Xe._first&&B._listeners.tick.length===1){for(;Q&&Q._paused;)Q=Q._next;Q||B.sleep()}}},B.addEventListener("tick",Te._updateRoot);var St=function(X,le,Q){var he=X._gsTweenID,pe,Be;if(we[he||(X._gsTweenID=he="t"+Ae++)]||(we[he]={target:X,tweens:[]}),le&&(pe=we[he].tweens,pe[Be=pe.length]=le,Q))for(;--Be>-1;)pe[Be]===le&&pe.splice(Be,1);return we[he].tweens},yt=function(X,le,Q,he){var pe=X.vars.onOverwrite,Be,ot;return pe&&(Be=pe(X,le,Q,he)),pe=D.onOverwrite,pe&&(ot=pe(X,le,Q,he)),Be!==!1&&ot!==!1},Mt=function(X,le,Q,he,pe){var Be,ot,Qe,mt;if(he===1||he>=4){for(mt=pe.length,Be=0;Be<mt;Be++)if((Qe=pe[Be])!==le)Qe._gc||Qe._kill(null,X,le)&&(ot=!0);else if(he===5)break;return ot}var Pt=le._startTime+c,ct=[],Wt=0,$t=le._duration===0,Qt;for(Be=pe.length;--Be>-1;)(Qe=pe[Be])===le||Qe._gc||Qe._paused||(Qe._timeline!==le._timeline?(Qt=Qt||Ut(le,0,$t),Ut(Qe,Qt,$t)===0&&(ct[Wt++]=Qe)):Qe._startTime<=Pt&&Qe._startTime+Qe.totalDuration()/Qe._timeScale>Pt&&(($t||!Qe._initted)&&Pt-Qe._startTime<=2e-10||(ct[Wt++]=Qe)));for(Be=Wt;--Be>-1;)if(Qe=ct[Be],he===2&&Qe._kill(Q,X,le)&&(ot=!0),he!==2||!Qe._firstPT&&Qe._initted){if(he!==2&&!yt(Qe,le))continue;Qe._enabled(!1,!1)&&(ot=!0)}return ot},Ut=function(X,le,Q){for(var he=X._timeline,pe=he._timeScale,Be=X._startTime;he._timeline;){if(Be+=he._startTime,pe*=he._timeScale,he._paused)return-100;he=he._timeline}return Be/=pe,Be>le?Be-le:Q&&Be===le||!X._initted&&Be-le<2*c?c:(Be+=X.totalDuration()/X._timeScale/pe)>le+c?0:Be-le-c};A._init=function(){var X=this.vars,le=this._overwrittenProps,Q=this._duration,he=!!X.immediateRender,pe=X.ease,Be,ot,Qe,mt,Pt,ct;if(X.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),Pt={};for(mt in X.startAt)Pt[mt]=X.startAt[mt];if(Pt.data="isStart",Pt.overwrite=!1,Pt.immediateRender=!0,Pt.lazy=he&&X.lazy!==!1,Pt.startAt=Pt.delay=null,Pt.onUpdate=X.onUpdate,Pt.onUpdateParams=X.onUpdateParams,Pt.onUpdateScope=X.onUpdateScope||X.callbackScope||this,this._startAt=D.to(this.target||{},0,Pt),he){if(this._time>0)this._startAt=null;else if(Q!==0)return}}else if(X.runBackwards&&Q!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{this._time!==0&&(he=!1),Qe={};for(mt in X)(!je[mt]||mt==="autoCSS")&&(Qe[mt]=X[mt]);if(Qe.overwrite=0,Qe.data="isFromStart",Qe.lazy=he&&X.lazy!==!1,Qe.immediateRender=he,this._startAt=D.to(this.target,0,Qe),!he)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(this._time===0)return}if(this._ease=pe=pe?pe instanceof W?pe:typeof pe=="function"?new W(pe,X.easeParams):z[pe]||D.defaultEase:D.defaultEase,X.easeParams instanceof Array&&pe.config&&(this._ease=pe.config.apply(pe,X.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(ct=this._targets.length,Be=0;Be<ct;Be++)this._initProps(this._targets[Be],this._propLookup[Be]={},this._siblings[Be],le?le[Be]:null,Be)&&(ot=!0);else ot=this._initProps(this.target,this._propLookup,this._siblings,le,0);if(ot&&D._onPluginEvent("_onInitAllProps",this),le&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),X.runBackwards)for(Qe=this._firstPT;Qe;)Qe.s+=Qe.c,Qe.c=-Qe.c,Qe=Qe._next;this._onUpdate=X.onUpdate,this._initted=!0},A._initProps=function(X,le,Q,he,pe){var Be,ot,Qe,mt,Pt,ct;if(X==null)return!1;et[X._gsTweenID]&&wt(),this.vars.css||X.style&&X!==t&&X.nodeType&&V.css&&this.vars.autoCSS!==!1&&ye(this.vars,X);for(Be in this.vars)if(ct=this.vars[Be],je[Be])ct&&(ct instanceof Array||ct.push&&x(ct))&&ct.join("").indexOf("{self}")!==-1&&(this.vars[Be]=ct=this._swapSelfInParams(ct,this));else if(V[Be]&&(mt=new V[Be])._onInitTween(X,this.vars[Be],this,pe)){for(this._firstPT=Pt={_next:this._firstPT,t:mt,p:"setRatio",s:0,c:1,f:1,n:Be,pg:1,pr:mt._priority,m:0},ot=mt._overwriteProps.length;--ot>-1;)le[mt._overwriteProps[ot]]=this._firstPT;(mt._priority||mt._onInitAllProps)&&(Qe=!0),(mt._onDisable||mt._onEnable)&&(this._notifyPluginsOfEnabled=!0),Pt._next&&(Pt._next._prev=Pt)}else le[Be]=Le.call(this,X,Be,"get",ct,Be,0,null,this.vars.stringFilter,pe);return he&&this._kill(he,X)?this._initProps(X,le,Q,he,pe):this._overwrite>1&&this._firstPT&&Q.length>1&&Mt(X,this,le,this._overwrite,Q)?(this._kill(le,X),this._initProps(X,le,Q,he,pe)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(et[X._gsTweenID]=!0),Qe)},A.render=function(X,le,Q){var he=this._time,pe=this._duration,Be=this._rawPrevTime,ot,Qe,mt,Pt;if(X>=pe-1e-7&&X>=0)this._totalTime=this._time=pe,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(ot=!0,Qe="onComplete",Q=Q||this._timeline.autoRemoveChildren),pe===0&&(this._initted||!this.vars.lazy||Q)&&(this._startTime===this._timeline._duration&&(X=0),(Be<0||X<=0&&X>=-1e-7||Be===c&&this.data!=="isPause")&&Be!==X&&(Q=!0,Be>c&&(Qe="onReverseComplete")),this._rawPrevTime=Pt=!le||X||Be===X?X:c);else if(X<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(he!==0||pe===0&&Be>0)&&(Qe="onReverseComplete",ot=this._reversed),X<0&&(this._active=!1,pe===0&&(this._initted||!this.vars.lazy||Q)&&(Be>=0&&!(Be===c&&this.data==="isPause")&&(Q=!0),this._rawPrevTime=Pt=!le||X||Be===X?X:c)),(!this._initted||this._startAt&&this._startAt.progress())&&(Q=!0);else if(this._totalTime=this._time=X,this._easeType){var ct=X/pe,Wt=this._easeType,$t=this._easePower;(Wt===1||Wt===3&&ct>=.5)&&(ct=1-ct),Wt===3&&(ct*=2),$t===1?ct*=ct:$t===2?ct*=ct*ct:$t===3?ct*=ct*ct*ct:$t===4&&(ct*=ct*ct*ct*ct),Wt===1?this.ratio=1-ct:Wt===2?this.ratio=ct:X/pe<.5?this.ratio=ct/2:this.ratio=1-ct/2}else this.ratio=this._ease.getRatio(X/pe);if(!(this._time===he&&!Q)){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!Q&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=he,this._rawPrevTime=Be,Ce.push(this),this._lazy=[X,le];return}this._time&&!ot?this.ratio=this._ease.getRatio(this._time/pe):ot&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==he&&X>=0&&(this._active=!0),he===0&&(this._startAt&&(X>=0?this._startAt.render(X,!0,Q):Qe||(Qe="_dummyGS")),this.vars.onStart&&(this._time!==0||pe===0)&&(le||this._callback("onStart"))),mt=this._firstPT;mt;)mt.f?mt.t[mt.p](mt.c*this.ratio+mt.s):mt.t[mt.p]=mt.c*this.ratio+mt.s,mt=mt._next;this._onUpdate&&(X<0&&this._startAt&&X!==-1e-4&&this._startAt.render(X,!0,Q),le||(this._time!==he||ot||Q)&&this._callback("onUpdate")),Qe&&(!this._gc||Q)&&(X<0&&this._startAt&&!this._onUpdate&&X!==-1e-4&&this._startAt.render(X,!0,Q),ot&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!le&&this.vars[Qe]&&this._callback(Qe),pe===0&&this._rawPrevTime===c&&Pt!==c&&(this._rawPrevTime=0))}},A._kill=function(X,le,Q){if(X==="all"&&(X=null),X==null&&(le==null||le===this.target))return this._lazy=!1,this._enabled(!1,!1);le=typeof le!="string"?le||this._targets||this.target:D.selector(le)||le;var he=Q&&this._time&&Q._startTime===this._startTime&&this._timeline===Q._timeline,pe,Be,ot,Qe,mt,Pt,ct,Wt,$t;if((x(le)||se(le))&&typeof le[0]!="number")for(pe=le.length;--pe>-1;)this._kill(X,le[pe],Q)&&(Pt=!0);else{if(this._targets){for(pe=this._targets.length;--pe>-1;)if(le===this._targets[pe]){mt=this._propLookup[pe]||{},this._overwrittenProps=this._overwrittenProps||[],Be=this._overwrittenProps[pe]=X?this._overwrittenProps[pe]||{}:"all";break}}else{if(le!==this.target)return!1;mt=this._propLookup,Be=this._overwrittenProps=X?this._overwrittenProps||{}:"all"}if(mt){if(ct=X||mt,Wt=X!==Be&&Be!=="all"&&X!==mt&&(typeof X!="object"||!X._tempKill),Q&&(D.onOverwrite||this.vars.onOverwrite)){for(ot in ct)mt[ot]&&($t||($t=[]),$t.push(ot));if(($t||!X)&&!yt(this,Q,le,$t))return!1}for(ot in ct)(Qe=mt[ot])&&(he&&(Qe.f?Qe.t[Qe.p](Qe.s):Qe.t[Qe.p]=Qe.s,Pt=!0),Qe.pg&&Qe.t._kill(ct)&&(Pt=!0),(!Qe.pg||Qe.t._overwriteProps.length===0)&&(Qe._prev?Qe._prev._next=Qe._next:Qe===this._firstPT&&(this._firstPT=Qe._next),Qe._next&&(Qe._next._prev=Qe._prev),Qe._next=Qe._prev=null),delete mt[ot]),Wt&&(Be[ot]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return Pt},A.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Te.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-c,this.render(Math.min(0,-this._delay))),this},A._enabled=function(X,le){if(N||B.wake(),X&&this._gc){var Q=this._targets,he;if(Q)for(he=Q.length;--he>-1;)this._siblings[he]=St(Q[he],this,!0);else this._siblings=St(this.target,this,!0)}return Te.prototype._enabled.call(this,X,le),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(X?"_onEnable":"_onDisable",this):!1},D.to=function(X,le,Q){return new D(X,le,Q)},D.from=function(X,le,Q){return Q.runBackwards=!0,Q.immediateRender=Q.immediateRender!=!1,new D(X,le,Q)},D.fromTo=function(X,le,Q,he){return he.startAt=Q,he.immediateRender=he.immediateRender!=!1&&Q.immediateRender!=!1,new D(X,le,he)},D.delayedCall=function(X,le,Q,he,pe){return new D(le,0,{delay:X,onComplete:le,onCompleteParams:Q,callbackScope:he,onReverseComplete:le,onReverseCompleteParams:Q,immediateRender:!1,lazy:!1,useFrames:pe,overwrite:0})},D.set=function(X,le){return new D(X,0,le)},D.getTweensOf=function(X,le){if(X==null)return[];X=typeof X!="string"?X:D.selector(X)||X;var Q,he,pe,Be;if((x(X)||se(X))&&typeof X[0]!="number"){for(Q=X.length,he=[];--Q>-1;)he=he.concat(D.getTweensOf(X[Q],le));for(Q=he.length;--Q>-1;)for(Be=he[Q],pe=Q;--pe>-1;)Be===he[pe]&&he.splice(Q,1)}else if(X._gsTweenID)for(he=St(X).concat(),Q=he.length;--Q>-1;)(he[Q]._gc||le&&!he[Q].isActive())&&he.splice(Q,1);return he||[]},D.killTweensOf=D.killDelayedCallsTo=function(X,le,Q){typeof le=="object"&&(Q=le,le=!1);for(var he=D.getTweensOf(X,le),pe=he.length;--pe>-1;)he[pe]._kill(Q,X)};var Kt=S("plugins.TweenPlugin",function(X,le){this._overwriteProps=(X||"").split(","),this._propName=this._overwriteProps[0],this._priority=le||0,this._super=Kt.prototype},!0);if(A=Kt.prototype,Kt.version="1.19.0",Kt.API=2,A._firstPT=null,A._addTween=Le,A.setRatio=ie,A._kill=function(X){var le=this._overwriteProps,Q=this._firstPT,he;if(X[this._propName]!=null)this._overwriteProps=[];else for(he=le.length;--he>-1;)X[le[he]]!=null&&le.splice(he,1);for(;Q;)X[Q.n]!=null&&(Q._next&&(Q._next._prev=Q._prev),Q._prev?(Q._prev._next=Q._next,Q._prev=null):this._firstPT===Q&&(this._firstPT=Q._next)),Q=Q._next;return!1},A._mod=A._roundProps=function(X){for(var le=this._firstPT,Q;le;)Q=X[this._propName]||le.n!=null&&X[le.n.split(this._propName+"_").join("")],Q&&typeof Q=="function"&&(le.f===2?le.t._applyPT.m=Q:le.m=Q),le=le._next},D._onPluginEvent=function(X,le){var Q=le._firstPT,he,pe,Be,ot,Qe;if(X==="_onInitAllProps"){for(;Q;){for(Qe=Q._next,pe=Be;pe&&pe.pr>Q.pr;)pe=pe._next;(Q._prev=pe?pe._prev:ot)?Q._prev._next=Q:Be=Q,(Q._next=pe)?pe._prev=Q:ot=Q,Q=Qe}Q=le._firstPT=Be}for(;Q;)Q.pg&&typeof Q.t[X]=="function"&&Q.t[X]()&&(he=!0),Q=Q._next;return he},Kt.activate=function(X){for(var le=X.length;--le>-1;)X[le].API===Kt.API&&(V[new X[le]()._propName]=X[le]);return!0},O.plugin=function(X){if(!X||!X.propName||!X.init||!X.API)throw"illegal plugin definition.";var le=X.propName,Q=X.priority||0,he=X.overwriteProps,pe={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},Be=S("plugins."+le.charAt(0).toUpperCase()+le.substr(1)+"Plugin",function(){Kt.call(this,le,Q),this._overwriteProps=he||[]},X.global===!0),ot=Be.prototype=new Kt(le),Qe;ot.constructor=Be,Be.API=X.API;for(Qe in pe)typeof X[Qe]=="function"&&(ot[pe[Qe]]=X[Qe]);return Be.version=X.version,Kt.activate([Be]),Be},w=t._gsQueue,w){for(k=0;k<w.length;k++)w[k]();for(A in j)j[A].func||t.console.log("GSAP encountered missing dependency: "+A)}return N=!1,D}(to),Zp=to.com.greensock;Zp.core.SimpleTimeline;Zp.core.Animation;const{Ease:fs,Linear:DD,Power0:LD,Power1:MD,Power2:PD,Power3:OD,Power4:FD,TweenPlugin:RD}=to;Zp.events.EventDispatcher;/*!
 * VERSION: 1.16.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/to._gsDefine("easing.Back",["easing.Ease"],function(){var t=to.GreenSockGlobals||to,e=t.com.greensock,n=Math.PI*2,o=Math.PI/2,l=e._class,u=function(O,S){var P=l("easing."+O,function(){},!0),W=P.prototype=new fs;return W.constructor=P,W.getRatio=S,P},c=fs.register||function(){},h=function(O,S,P,W,z){var G=l("easing."+O,{easeOut:new S,easeIn:new P,easeInOut:new W},!0);return c(G,O),G},v=function(O,S,P){this.t=O,this.v=S,P&&(this.next=P,P.prev=this,this.c=P.v-S,this.gap=P.t-O)},x=function(O,S){var P=l("easing."+O,function(z){this._p1=z||z===0?z:1.70158,this._p2=this._p1*1.525},!0),W=P.prototype=new fs;return W.constructor=P,W.getRatio=S,W.config=function(z){return new P(z)},P},w=h("Back",x("BackOut",function(O){return(O=O-1)*O*((this._p1+1)*O+this._p1)+1}),x("BackIn",function(O){return O*O*((this._p1+1)*O-this._p1)}),x("BackInOut",function(O){return(O*=2)<1?.5*O*O*((this._p2+1)*O-this._p2):.5*((O-=2)*O*((this._p2+1)*O+this._p2)+2)})),k=l("easing.SlowMo",function(O,S,P){S=S||S===0?S:.7,O==null?O=.7:O>1&&(O=1),this._p=O!==1?S:0,this._p1=(1-O)/2,this._p2=O,this._p3=this._p1+this._p2,this._calcEnd=P===!0},!0),A=k.prototype=new fs,B,N,j,q;return A.constructor=k,A.getRatio=function(O){var S=O+(.5-O)*this._p;return O<this._p1?this._calcEnd?1-(O=1-O/this._p1)*O:S-(O=1-O/this._p1)*O*O*O*S:O>this._p3?this._calcEnd?O===1?0:1-(O=(O-this._p3)/this._p1)*O:S+(O-S)*(O=(O-this._p3)/this._p1)*O*O*O:this._calcEnd?1:S},k.ease=new k(.7,.7),A.config=k.config=function(O,S,P){return new k(O,S,P)},B=l("easing.SteppedEase",function(O,S){O=O||1,this._p1=1/O,this._p2=O+(S?0:1),this._p3=S?1:0},!0),A=B.prototype=new fs,A.constructor=B,A.getRatio=function(O){return O<0?O=0:O>=1&&(O=.999999999),((this._p2*O|0)+this._p3)*this._p1},A.config=B.config=function(O,S){return new B(O,S)},N=l("easing.ExpoScaleEase",function(O,S,P){this._p1=Math.log(S/O),this._p2=S-O,this._p3=O,this._ease=P},!0),A=N.prototype=new fs,A.constructor=N,A.getRatio=function(O){return this._ease&&(O=this._ease.getRatio(O)),(this._p3*Math.exp(this._p1*O)-this._p3)/this._p2},A.config=N.config=function(O,S,P){return new N(O,S,P)},j=l("easing.RoughEase",function(O){O=O||{};for(var S=O.taper||"none",P=[],W=0,z=(O.points||20)|0,G=z,J=O.randomize!==!1,ue=O.clamp===!0,de=O.template instanceof fs?O.template:null,ge=typeof O.strength=="number"?O.strength*.4:.4,ce,Te,ve,ne,D,se;--G>-1;)ce=J?Math.random():1/z*G,Te=de?de.getRatio(ce):ce,S==="none"?ve=ge:S==="out"?(ne=1-ce,ve=ne*ne*ge):S==="in"?ve=ce*ce*ge:ce<.5?(ne=ce*2,ve=ne*ne*.5*ge):(ne=(1-ce)*2,ve=ne*ne*.5*ge),J?Te+=Math.random()*ve-ve*.5:G%2?Te+=ve*.5:Te-=ve*.5,ue&&(Te>1?Te=1:Te<0&&(Te=0)),P[W++]={x:ce,y:Te};for(P.sort(function(ye,Ce){return ye.x-Ce.x}),se=new v(1,1,null),G=z;--G>-1;)D=P[G],se=new v(D.x,D.y,se);this._prev=new v(0,0,se.t!==0?se:se.next)},!0),A=j.prototype=new fs,A.constructor=j,A.getRatio=function(O){var S=this._prev;if(O>S.t){for(;S.next&&O>=S.t;)S=S.next;S=S.prev}else for(;S.prev&&O<=S.t;)S=S.prev;return this._prev=S,S.v+(O-S.t)/S.gap*S.c},A.config=function(O){return new j(O)},j.ease=new j,h("Bounce",u("BounceOut",function(O){return O<1/2.75?7.5625*O*O:O<2/2.75?7.5625*(O-=1.5/2.75)*O+.75:O<2.5/2.75?7.5625*(O-=2.25/2.75)*O+.9375:7.5625*(O-=2.625/2.75)*O+.984375}),u("BounceIn",function(O){return(O=1-O)<1/2.75?1-7.5625*O*O:O<2/2.75?1-(7.5625*(O-=1.5/2.75)*O+.75):O<2.5/2.75?1-(7.5625*(O-=2.25/2.75)*O+.9375):1-(7.5625*(O-=2.625/2.75)*O+.984375)}),u("BounceInOut",function(O){var S=O<.5;return S?O=1-O*2:O=O*2-1,O<1/2.75?O=7.5625*O*O:O<2/2.75?O=7.5625*(O-=1.5/2.75)*O+.75:O<2.5/2.75?O=7.5625*(O-=2.25/2.75)*O+.9375:O=7.5625*(O-=2.625/2.75)*O+.984375,S?(1-O)*.5:O*.5+.5})),h("Circ",u("CircOut",function(O){return Math.sqrt(1-(O=O-1)*O)}),u("CircIn",function(O){return-(Math.sqrt(1-O*O)-1)}),u("CircInOut",function(O){return(O*=2)<1?-.5*(Math.sqrt(1-O*O)-1):.5*(Math.sqrt(1-(O-=2)*O)+1)})),q=function(O,S,P){var W=l("easing."+O,function(G,J){this._p1=G>=1?G:1,this._p2=(J||P)/(G<1?G:1),this._p3=this._p2/n*(Math.asin(1/this._p1)||0),this._p2=n/this._p2},!0),z=W.prototype=new fs;return z.constructor=W,z.getRatio=S,z.config=function(G,J){return new W(G,J)},W},h("Elastic",q("ElasticOut",function(O){return this._p1*Math.pow(2,-10*O)*Math.sin((O-this._p3)*this._p2)+1},.3),q("ElasticIn",function(O){return-(this._p1*Math.pow(2,10*(O-=1))*Math.sin((O-this._p3)*this._p2))},.3),q("ElasticInOut",function(O){return(O*=2)<1?-.5*(this._p1*Math.pow(2,10*(O-=1))*Math.sin((O-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(O-=1))*Math.sin((O-this._p3)*this._p2)*.5+1},.45)),h("Expo",u("ExpoOut",function(O){return 1-Math.pow(2,-10*O)}),u("ExpoIn",function(O){return Math.pow(2,10*(O-1))-.001}),u("ExpoInOut",function(O){return(O*=2)<1?.5*Math.pow(2,10*(O-1)):.5*(2-Math.pow(2,-10*(O-1)))})),h("Sine",u("SineOut",function(O){return Math.sin(O*o)}),u("SineIn",function(O){return-Math.cos(O*o)+1}),u("SineInOut",function(O){return-.5*(Math.cos(Math.PI*O)-1)})),l("easing.EaseLookup",{find:function(O){return fs.map[O]}},!0),c(t.SlowMo,"SlowMo","ease,"),c(j,"RoughEase","ease,"),c(B,"SteppedEase","ease,"),w},!0);to.Back;to.Elastic;to.Bounce;to.RoughEase;to.SlowMo;to.SteppedEase;to.Circ;const Zh=to.Expo;to.Sine;to.ExpoScaleEase;var Qd={exports:{}},Tg;function sx(){return Tg||(Tg=1,function(t){var e=function(){function j(q,O){for(var S=0;S<O.length;S++){var P=O[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(q,P.key,P)}}return function(q,O,S){return O&&j(q.prototype,O),S&&j(q,S),q}}();function n(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function o(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}function l(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}var u=function(){function j(){l(this,j)}return e(j,[{key:"on",value:function(O,S){return this._callbacks=this._callbacks||{},this._callbacks[O]||(this._callbacks[O]=[]),this._callbacks[O].push(S),this}},{key:"emit",value:function(O){this._callbacks=this._callbacks||{};var S=this._callbacks[O];if(S){for(var P=arguments.length,W=Array(P>1?P-1:0),z=1;z<P;z++)W[z-1]=arguments[z];for(var ue=S,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;ge.apply(this,W)}}return this}},{key:"off",value:function(O,S){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var P=this._callbacks[O];if(!P)return this;if(arguments.length===1)return delete this._callbacks[O],this;for(var W=0;W<P.length;W++){var z=P[W];if(z===S){P.splice(W,1);break}}return this}}]),j}(),c=function(j){o(q,j),e(q,null,[{key:"initClass",value:function(){this.prototype.Emitter=u,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(P,W,z){if(z)return{dzuuid:z.file.upload.uuid,dzchunkindex:z.index,dztotalfilesize:z.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:z.file.upload.totalChunkCount,dzchunkbyteoffset:z.index*this.options.chunkSize}},accept:function(P,W){return W()},chunksUploaded:function(P,W){W()},fallback:function(){var P=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var G=this.element.getElementsByTagName("div"),W=!0,z=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(z>=G.length)break;J=G[z++]}else{if(z=G.next(),z.done)break;J=z.value}var ue=J;if(/(^| )dz-message($| )/.test(ue.className)){P=ue,ue.className="dz-message";break}}P||(P=q.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(P));var de=P.getElementsByTagName("span")[0];return de&&(de.textContent!=null?de.textContent=this.options.dictFallbackMessage:de.innerText!=null&&(de.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(P,W,z,G){var J={srcX:0,srcY:0,srcWidth:P.width,srcHeight:P.height},ue=P.width/P.height;W==null&&z==null?(W=J.srcWidth,z=J.srcHeight):W==null?W=z*ue:z==null&&(z=W/ue),W=Math.min(W,J.srcWidth),z=Math.min(z,J.srcHeight);var de=W/z;if(J.srcWidth>W||J.srcHeight>z)if(G==="crop")ue>de?(J.srcHeight=P.height,J.srcWidth=J.srcHeight*de):(J.srcWidth=P.width,J.srcHeight=J.srcWidth/de);else if(G==="contain")ue>de?z=W/ue:W=z*ue;else throw new Error("Unknown resizeMethod '"+G+"'");return J.srcX=(P.width-J.srcWidth)/2,J.srcY=(P.height-J.srcHeight)/2,J.trgWidth=W,J.trgHeight=z,J},transformFile:function(P,W){return(this.options.resizeWidth||this.options.resizeHeight)&&P.type.match(/image.*/)?this.resizeImage(P,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,W):W(P)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(P){return this.element.classList.remove("dz-drag-hover")},dragstart:function(P){},dragend:function(P){return this.element.classList.remove("dz-drag-hover")},dragenter:function(P){return this.element.classList.add("dz-drag-hover")},dragover:function(P){return this.element.classList.add("dz-drag-hover")},dragleave:function(P){return this.element.classList.remove("dz-drag-hover")},paste:function(P){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(P){var W=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){P.previewElement=q.createElement(this.options.previewTemplate.trim()),P.previewTemplate=P.previewElement,this.previewsContainer.appendChild(P.previewElement);for(var J=P.previewElement.querySelectorAll("[data-dz-name]"),z=!0,G=0,J=z?J:J[Symbol.iterator]();;){var ue;if(z){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.textContent=P.name}for(var Te=P.previewElement.querySelectorAll("[data-dz-size]"),ge=!0,ce=0,Te=ge?Te:Te[Symbol.iterator]();;){if(ge){if(ce>=Te.length)break;de=Te[ce++]}else{if(ce=Te.next(),ce.done)break;de=ce.value}de.innerHTML=this.filesize(P.size)}this.options.addRemoveLinks&&(P._removeLink=q.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),P.previewElement.appendChild(P._removeLink));for(var ve=function(ze){return ze.preventDefault(),ze.stopPropagation(),P.status===q.UPLOADING?q.confirm(W.options.dictCancelUploadConfirmation,function(){return W.removeFile(P)}):W.options.dictRemoveFileConfirmation?q.confirm(W.options.dictRemoveFileConfirmation,function(){return W.removeFile(P)}):W.removeFile(P)},se=P.previewElement.querySelectorAll("[data-dz-remove]"),ne=!0,D=0,se=ne?se:se[Symbol.iterator]();;){var ye;if(ne){if(D>=se.length)break;ye=se[D++]}else{if(D=se.next(),D.done)break;ye=D.value}var Ce=ye;Ce.addEventListener("click",ve)}}},removedfile:function(P){return P.previewElement!=null&&P.previewElement.parentNode!=null&&P.previewElement.parentNode.removeChild(P.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(P,W){if(P.previewElement){P.previewElement.classList.remove("dz-file-preview");for(var J=P.previewElement.querySelectorAll("[data-dz-thumbnail]"),z=!0,G=0,J=z?J:J[Symbol.iterator]();;){var ue;if(z){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.alt=P.name,de.src=W}return setTimeout(function(){return P.previewElement.classList.add("dz-image-preview")},1)}},error:function(P,W){if(P.previewElement){P.previewElement.classList.add("dz-error"),typeof W!="String"&&W.error&&(W=W.error);for(var J=P.previewElement.querySelectorAll("[data-dz-errormessage]"),z=!0,G=0,J=z?J:J[Symbol.iterator]();;){var ue;if(z){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.textContent=W}}},errormultiple:function(){},processing:function(P){if(P.previewElement&&(P.previewElement.classList.add("dz-processing"),P._removeLink))return P._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(P,W,z){if(P.previewElement)for(var ue=P.previewElement.querySelectorAll("[data-dz-uploadprogress]"),G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;ge.nodeName==="PROGRESS"?ge.value=W:ge.style.width=W+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(P){if(P.previewElement)return P.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(P){return this.emit("error",P,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(P){if(P._removeLink&&(P._removeLink.innerHTML=this.options.dictRemoveFile),P.previewElement)return P.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(S){for(var P=arguments.length,W=Array(P>1?P-1:0),z=1;z<P;z++)W[z-1]=arguments[z];for(var ue=W,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;for(var ce in ge){var Te=ge[ce];S[ce]=Te}}return S}}]);function q(O,S){l(this,q);var P=n(this,(q.__proto__||Object.getPrototypeOf(q)).call(this)),W=void 0,z=void 0;if(P.element=O,P.version=q.version,P.defaultOptions.previewTemplate=P.defaultOptions.previewTemplate.replace(/\n*/g,""),P.clickableElements=[],P.listeners=[],P.files=[],typeof P.element=="string"&&(P.element=document.querySelector(P.element)),!P.element||P.element.nodeType==null)throw new Error("Invalid dropzone element.");if(P.element.dropzone)throw new Error("Dropzone already attached.");q.instances.push(P),P.element.dropzone=P;var G=(z=q.optionsForElement(P.element))!=null?z:{};if(P.options=q.extend({},P.defaultOptions,G,S??{}),P.options.forceFallback||!q.isBrowserSupported()){var J;return J=P.options.fallback.call(P),n(P,J)}if(P.options.url==null&&(P.options.url=P.element.getAttribute("action")),!P.options.url)throw new Error("No URL provided.");if(P.options.acceptedFiles&&P.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(P.options.uploadMultiple&&P.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return P.options.acceptedMimeTypes&&(P.options.acceptedFiles=P.options.acceptedMimeTypes,delete P.options.acceptedMimeTypes),P.options.renameFilename!=null&&(P.options.renameFile=function(ue){return P.options.renameFilename.call(P,ue.name,ue)}),P.options.method=P.options.method.toUpperCase(),(W=P.getExistingFallback())&&W.parentNode&&W.parentNode.removeChild(W),P.options.previewsContainer!==!1&&(P.options.previewsContainer?P.previewsContainer=q.getElement(P.options.previewsContainer,"previewsContainer"):P.previewsContainer=P.element),P.options.clickable&&(P.options.clickable===!0?P.clickableElements=[P.element]:P.clickableElements=q.getElements(P.options.clickable,"clickable")),P.init(),P}return e(q,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(S){return S.accepted}).map(function(S){return S})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(S){return!S.accepted}).map(function(S){return S})}},{key:"getFilesWithStatus",value:function(S){return this.files.filter(function(P){return P.status===S}).map(function(P){return P})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(q.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(q.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(q.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(S){return S.status===q.UPLOADING||S.status===q.QUEUED}).map(function(S){return S})}},{key:"init",value:function(){var S=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(q.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var P=function ge(){return S.hiddenFileInput&&S.hiddenFileInput.parentNode.removeChild(S.hiddenFileInput),S.hiddenFileInput=document.createElement("input"),S.hiddenFileInput.setAttribute("type","file"),(S.options.maxFiles===null||S.options.maxFiles>1)&&S.hiddenFileInput.setAttribute("multiple","multiple"),S.hiddenFileInput.className="dz-hidden-input",S.options.acceptedFiles!==null&&S.hiddenFileInput.setAttribute("accept",S.options.acceptedFiles),S.options.capture!==null&&S.hiddenFileInput.setAttribute("capture",S.options.capture),S.hiddenFileInput.style.visibility="hidden",S.hiddenFileInput.style.position="absolute",S.hiddenFileInput.style.top="0",S.hiddenFileInput.style.left="0",S.hiddenFileInput.style.height="0",S.hiddenFileInput.style.width="0",q.getElement(S.options.hiddenInputContainer,"hiddenInputContainer").appendChild(S.hiddenFileInput),S.hiddenFileInput.addEventListener("change",function(){var ce=S.hiddenFileInput.files;if(ce.length)for(var ne=ce,Te=!0,ve=0,ne=Te?ne:ne[Symbol.iterator]();;){var D;if(Te){if(ve>=ne.length)break;D=ne[ve++]}else{if(ve=ne.next(),ve.done)break;D=ve.value}var se=D;S.addFile(se)}return S.emit("addedfiles",ce),ge()})};P()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var G=this.events,W=!0,z=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(z>=G.length)break;J=G[z++]}else{if(z=G.next(),z.done)break;J=z.value}var ue=J;this.on(ue,this.options[ue])}this.on("uploadprogress",function(){return S.updateTotalUploadProgress()}),this.on("removedfile",function(){return S.updateTotalUploadProgress()}),this.on("canceled",function(ge){return S.emit("complete",ge)}),this.on("complete",function(ge){if(S.getAddedFiles().length===0&&S.getUploadingFiles().length===0&&S.getQueuedFiles().length===0)return setTimeout(function(){return S.emit("queuecomplete")},0)});var de=function(ce){return ce.stopPropagation(),ce.preventDefault?ce.preventDefault():ce.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(ce){return S.emit("dragstart",ce)},dragenter:function(ce){return de(ce),S.emit("dragenter",ce)},dragover:function(ce){var Te=void 0;try{Te=ce.dataTransfer.effectAllowed}catch{}return ce.dataTransfer.dropEffect=Te==="move"||Te==="linkMove"?"move":"copy",de(ce),S.emit("dragover",ce)},dragleave:function(ce){return S.emit("dragleave",ce)},drop:function(ce){return de(ce),S.drop(ce)},dragend:function(ce){return S.emit("dragend",ce)}}}],this.clickableElements.forEach(function(ge){return S.listeners.push({element:ge,events:{click:function(Te){return(ge!==S.element||Te.target===S.element||q.elementInside(Te.target,S.element.querySelector(".dz-message")))&&S.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,q.instances.splice(q.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var S=void 0,P=0,W=0,z=this.getActiveFiles();if(z.length){for(var ue=this.getActiveFiles(),G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;P+=ge.upload.bytesSent,W+=ge.upload.total}S=100*P/W}else S=100;return this.emit("totaluploadprogress",S,W,P)}},{key:"_getParamName",value:function(S){return typeof this.options.paramName=="function"?this.options.paramName(S):""+this.options.paramName+(this.options.uploadMultiple?"["+S+"]":"")}},{key:"_renameFile",value:function(S){return typeof this.options.renameFile!="function"?S.name:this.options.renameFile(S)}},{key:"getFallbackForm",value:function(){var S=void 0,P=void 0;if(S=this.getExistingFallback())return S;var W='<div class="dz-fallback">';this.options.dictFallbackText&&(W+="<p>"+this.options.dictFallbackText+"</p>"),W+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var z=q.createElement(W);return this.element.tagName!=="FORM"?(P=q.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),P.appendChild(z)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),P??z}},{key:"getExistingFallback",value:function(){for(var S=function(ue){for(var ce=ue,de=!0,ge=0,ce=de?ce:ce[Symbol.iterator]();;){var Te;if(de){if(ge>=ce.length)break;Te=ce[ge++]}else{if(ge=ce.next(),ge.done)break;Te=ge.value}var ve=Te;if(/(^| )fallback($| )/.test(ve.className))return ve}},P=["div","form"],W=0;W<P.length;W++){var z=P[W],G;if(G=S(this.element.getElementsByTagName(z)))return G}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(S){return function(){var P=[];for(var W in S.events){var z=S.events[W];P.push(S.element.addEventListener(W,z,!1))}return P}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(S){return function(){var P=[];for(var W in S.events){var z=S.events[W];P.push(S.element.removeEventListener(W,z,!1))}return P}()})}},{key:"disable",value:function(){var S=this;return this.clickableElements.forEach(function(P){return P.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(P){return S.cancelUpload(P)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(S){return S.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(S){var P=0,W="b";if(S>0){for(var z=["tb","gb","mb","kb","b"],G=0;G<z.length;G++){var J=z[G],ue=Math.pow(this.options.filesizeBase,4-G)/10;if(S>=ue){P=S/Math.pow(this.options.filesizeBase,4-G),W=J;break}}P=Math.round(10*P)/10}return"<strong>"+P+"</strong> "+this.options.dictFileSizeUnits[W]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(S){if(S.dataTransfer){this.emit("drop",S);for(var P=[],W=0;W<S.dataTransfer.files.length;W++)P[W]=S.dataTransfer.files[W];if(this.emit("addedfiles",P),P.length){var z=S.dataTransfer.items;z&&z.length&&z[0].webkitGetAsEntry!=null?this._addFilesFromItems(z):this.handleFiles(P)}}}},{key:"paste",value:function(S){if(B(S!=null?S.clipboardData:void 0,function(W){return W.items})!=null){this.emit("paste",S);var P=S.clipboardData.items;if(P.length)return this._addFilesFromItems(P)}}},{key:"handleFiles",value:function(S){for(var z=S,P=!0,W=0,z=P?z:z[Symbol.iterator]();;){var G;if(P){if(W>=z.length)break;G=z[W++]}else{if(W=z.next(),W.done)break;G=W.value}var J=G;this.addFile(J)}}},{key:"_addFilesFromItems",value:function(S){var P=this;return function(){for(var W=[],J=S,z=!0,G=0,J=z?J:J[Symbol.iterator]();;){var ue;if(z){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue,ge;de.webkitGetAsEntry!=null&&(ge=de.webkitGetAsEntry())?ge.isFile?W.push(P.addFile(de.getAsFile())):ge.isDirectory?W.push(P._addFilesFromDirectory(ge,ge.name)):W.push(void 0):de.getAsFile!=null&&(de.kind==null||de.kind==="file")?W.push(P.addFile(de.getAsFile())):W.push(void 0)}return W}()}},{key:"_addFilesFromDirectory",value:function(S,P){var W=this,z=S.createReader(),G=function(de){return N(console,"log",function(ge){return ge.log(de)})},J=function ue(){return z.readEntries(function(de){if(de.length>0){for(var Te=de,ge=!0,ce=0,Te=ge?Te:Te[Symbol.iterator]();;){var ve;if(ge){if(ce>=Te.length)break;ve=Te[ce++]}else{if(ce=Te.next(),ce.done)break;ve=ce.value}var ne=ve;ne.isFile?ne.file(function(D){if(!(W.options.ignoreHiddenFiles&&D.name.substring(0,1)==="."))return D.fullPath=P+"/"+D.name,W.addFile(D)}):ne.isDirectory&&W._addFilesFromDirectory(ne,P+"/"+ne.name)}ue()}return null},G)};return J()}},{key:"accept",value:function(S,P){return this.options.maxFilesize&&S.size>this.options.maxFilesize*1024*1024?P(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(S.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):q.isValidFile(S,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(P(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",S)):this.options.accept.call(this,S,P):P(this.options.dictInvalidFileType)}},{key:"addFile",value:function(S){var P=this;return S.upload={uuid:q.uuidv4(),progress:0,total:S.size,bytesSent:0,filename:this._renameFile(S),chunked:this.options.chunking&&(this.options.forceChunking||S.size>this.options.chunkSize),totalChunkCount:Math.ceil(S.size/this.options.chunkSize)},this.files.push(S),S.status=q.ADDED,this.emit("addedfile",S),this._enqueueThumbnail(S),this.accept(S,function(W){return W?(S.accepted=!1,P._errorProcessing([S],W)):(S.accepted=!0,P.options.autoQueue&&P.enqueueFile(S)),P._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(S){for(var z=S,P=!0,W=0,z=P?z:z[Symbol.iterator]();;){var G;if(P){if(W>=z.length)break;G=z[W++]}else{if(W=z.next(),W.done)break;G=W.value}var J=G;this.enqueueFile(J)}return null}},{key:"enqueueFile",value:function(S){var P=this;if(S.status===q.ADDED&&S.accepted===!0){if(S.status=q.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return P.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(S){var P=this;if(this.options.createImageThumbnails&&S.type.match(/image.*/)&&S.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(S),setTimeout(function(){return P._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var S=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var P=this._thumbnailQueue.shift();return this.createThumbnail(P,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(W){return S.emit("thumbnail",P,W),S._processingThumbnail=!1,S._processThumbnailQueue()})}}},{key:"removeFile",value:function(S){if(S.status===q.UPLOADING&&this.cancelUpload(S),this.files=h(this.files,S),this.emit("removedfile",S),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(S){S==null&&(S=!1);for(var z=this.files.slice(),P=!0,W=0,z=P?z:z[Symbol.iterator]();;){var G;if(P){if(W>=z.length)break;G=z[W++]}else{if(W=z.next(),W.done)break;G=W.value}var J=G;(J.status!==q.UPLOADING||S)&&this.removeFile(J)}return null}},{key:"resizeImage",value:function(S,P,W,z,G){var J=this;return this.createThumbnail(S,P,W,z,!0,function(ue,de){if(de==null)return G(S);var ge=J.options.resizeMimeType;ge==null&&(ge=S.type);var ce=de.toDataURL(ge,J.options.resizeQuality);return(ge==="image/jpeg"||ge==="image/jpg")&&(ce=k.restore(S.dataURL,ce)),G(q.dataURItoBlob(ce))})}},{key:"createThumbnail",value:function(S,P,W,z,G,J){var ue=this,de=new FileReader;return de.onload=function(){if(S.dataURL=de.result,S.type==="image/svg+xml"){J!=null&&J(de.result);return}return ue.createThumbnailFromUrl(S,P,W,z,G,J)},de.readAsDataURL(S)}},{key:"createThumbnailFromUrl",value:function(S,P,W,z,G,J,ue){var de=this,ge=document.createElement("img");return ue&&(ge.crossOrigin=ue),ge.onload=function(){var ce=function(ve){return ve(1)};return typeof EXIF<"u"&&EXIF!==null&&G&&(ce=function(ve){return EXIF.getData(ge,function(){return ve(EXIF.getTag(this,"Orientation"))})}),ce(function(Te){S.width=ge.width,S.height=ge.height;var ve=de.options.resize.call(de,S,P,W,z),ne=document.createElement("canvas"),D=ne.getContext("2d");switch(ne.width=ve.trgWidth,ne.height=ve.trgHeight,Te>4&&(ne.width=ve.trgHeight,ne.height=ve.trgWidth),Te){case 2:D.translate(ne.width,0),D.scale(-1,1);break;case 3:D.translate(ne.width,ne.height),D.rotate(Math.PI);break;case 4:D.translate(0,ne.height),D.scale(1,-1);break;case 5:D.rotate(.5*Math.PI),D.scale(1,-1);break;case 6:D.rotate(.5*Math.PI),D.translate(0,-ne.width);break;case 7:D.rotate(.5*Math.PI),D.translate(ne.height,-ne.width),D.scale(-1,1);break;case 8:D.rotate(-.5*Math.PI),D.translate(-ne.height,0);break}w(D,ge,ve.srcX!=null?ve.srcX:0,ve.srcY!=null?ve.srcY:0,ve.srcWidth,ve.srcHeight,ve.trgX!=null?ve.trgX:0,ve.trgY!=null?ve.trgY:0,ve.trgWidth,ve.trgHeight);var se=ne.toDataURL("image/png");if(J!=null)return J(se,ne)})},J!=null&&(ge.onerror=J),ge.src=S.dataURL}},{key:"processQueue",value:function(){var S=this.options.parallelUploads,P=this.getUploadingFiles().length,W=P;if(!(P>=S)){var z=this.getQueuedFiles();if(z.length>0){if(this.options.uploadMultiple)return this.processFiles(z.slice(0,S-P));for(;W<S;){if(!z.length)return;this.processFile(z.shift()),W++}}}}},{key:"processFile",value:function(S){return this.processFiles([S])}},{key:"processFiles",value:function(S){for(var z=S,P=!0,W=0,z=P?z:z[Symbol.iterator]();;){var G;if(P){if(W>=z.length)break;G=z[W++]}else{if(W=z.next(),W.done)break;G=W.value}var J=G;J.processing=!0,J.status=q.UPLOADING,this.emit("processing",J)}return this.options.uploadMultiple&&this.emit("processingmultiple",S),this.uploadFiles(S)}},{key:"_getFilesWithXhr",value:function(S){return this.files.filter(function(P){return P.xhr===S}).map(function(P){return P})}},{key:"cancelUpload",value:function(S){if(S.status===q.UPLOADING){for(var P=this._getFilesWithXhr(S.xhr),G=P,W=!0,z=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(z>=G.length)break;J=G[z++]}else{if(z=G.next(),z.done)break;J=z.value}var ue=J;ue.status=q.CANCELED}typeof S.xhr<"u"&&S.xhr.abort();for(var ce=P,de=!0,ge=0,ce=de?ce:ce[Symbol.iterator]();;){var Te;if(de){if(ge>=ce.length)break;Te=ce[ge++]}else{if(ge=ce.next(),ge.done)break;Te=ge.value}var ve=Te;this.emit("canceled",ve)}this.options.uploadMultiple&&this.emit("canceledmultiple",P)}else(S.status===q.ADDED||S.status===q.QUEUED)&&(S.status=q.CANCELED,this.emit("canceled",S),this.options.uploadMultiple&&this.emit("canceledmultiple",[S]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(S){if(typeof S=="function"){for(var P=arguments.length,W=Array(P>1?P-1:0),z=1;z<P;z++)W[z-1]=arguments[z];return S.apply(this,W)}return S}},{key:"uploadFile",value:function(S){return this.uploadFiles([S])}},{key:"uploadFiles",value:function(S){var P=this;this._transformFiles(S,function(W){if(S[0].upload.chunked){var z=S[0],G=W[0];z.upload.chunks=[];var J=function(){for(var Te=0;z.upload.chunks[Te]!==void 0;)Te++;if(!(Te>=z.upload.totalChunkCount)){var ve=Te*P.options.chunkSize,ne=Math.min(ve+P.options.chunkSize,z.size),D={name:P._getParamName(0),data:G.webkitSlice?G.webkitSlice(ve,ne):G.slice(ve,ne),filename:z.upload.filename,chunkIndex:Te};z.upload.chunks[Te]={file:z,index:Te,dataBlock:D,status:q.UPLOADING,progress:0,retries:0},P._uploadData(S,[D])}};if(z.upload.finishedChunkUpload=function(ce){var Te=!0;ce.status=q.SUCCESS,ce.dataBlock=null,ce.xhr=null;for(var ve=0;ve<z.upload.totalChunkCount;ve++){if(z.upload.chunks[ve]===void 0)return J();z.upload.chunks[ve].status!==q.SUCCESS&&(Te=!1)}Te&&P.options.chunksUploaded(z,function(){P._finished(S,"",null)})},P.options.parallelChunkUploads)for(var ue=0;ue<z.upload.totalChunkCount;ue++)J();else J()}else{for(var de=[],ge=0;ge<S.length;ge++)de[ge]={name:P._getParamName(ge),data:W[ge],filename:S[ge].upload.filename};P._uploadData(S,de)}})}},{key:"_getChunk",value:function(S,P){for(var W=0;W<S.upload.totalChunkCount;W++)if(S.upload.chunks[W]!==void 0&&S.upload.chunks[W].xhr===P)return S.upload.chunks[W]}},{key:"_uploadData",value:function(S,P){for(var W=this,z=new XMLHttpRequest,ue=S,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;ge.xhr=z}S[0].upload.chunked&&(S[0].upload.chunks[P[0].chunkIndex].xhr=z);var ce=this.resolveOption(this.options.method,S),Te=this.resolveOption(this.options.url,S);z.open(ce,Te,!0),z.timeout=this.resolveOption(this.options.timeout,S),z.withCredentials=!!this.options.withCredentials,z.onload=function(Ae){W._finishedUploading(S,z,Ae)},z.onerror=function(){W._handleUploadError(S,z)};var ve=z.upload!=null?z.upload:z;ve.onprogress=function(Ae){return W._updateFilesUploadProgress(S,z,Ae)};var ne={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&q.extend(ne,this.options.headers);for(var D in ne){var se=ne[D];se&&z.setRequestHeader(D,se)}var ye=new FormData;if(this.options.params){var Ce=this.options.params;typeof Ce=="function"&&(Ce=Ce.call(this,S,z,S[0].upload.chunked?this._getChunk(S[0],z):null));for(var et in Ce){var ze=Ce[et];ye.append(et,ze)}}for(var Y=S,Me=!0,ie=0,Y=Me?Y:Y[Symbol.iterator]();;){var Le;if(Me){if(ie>=Y.length)break;Le=Y[ie++]}else{if(ie=Y.next(),ie.done)break;Le=ie.value}var Re=Le;this.emit("sending",Re,z,ye)}this.options.uploadMultiple&&this.emit("sendingmultiple",S,z,ye),this._addFormElementData(ye);for(var V=0;V<P.length;V++){var we=P[V];ye.append(we.name,we.data,we.filename)}this.submitRequest(z,ye,S)}},{key:"_transformFiles",value:function(S,P){for(var W=this,z=[],G=0,J=function(ge){W.options.transformFile.call(W,S[ge],function(ce){z[ge]=ce,++G===S.length&&P(z)})},ue=0;ue<S.length;ue++)J(ue)}},{key:"_addFormElementData",value:function(S){if(this.element.tagName==="FORM")for(var z=this.element.querySelectorAll("input, textarea, select, button"),P=!0,W=0,z=P?z:z[Symbol.iterator]();;){var G;if(P){if(W>=z.length)break;G=z[W++]}else{if(W=z.next(),W.done)break;G=W.value}var J=G,ue=J.getAttribute("name"),de=J.getAttribute("type");if(de&&(de=de.toLowerCase()),!(typeof ue>"u"||ue===null))if(J.tagName==="SELECT"&&J.hasAttribute("multiple"))for(var Te=J.options,ge=!0,ce=0,Te=ge?Te:Te[Symbol.iterator]();;){var ve;if(ge){if(ce>=Te.length)break;ve=Te[ce++]}else{if(ce=Te.next(),ce.done)break;ve=ce.value}var ne=ve;ne.selected&&S.append(ue,ne.value)}else(!de||de!=="checkbox"&&de!=="radio"||J.checked)&&S.append(ue,J.value)}}},{key:"_updateFilesUploadProgress",value:function(S,P,W){var z=void 0;if(typeof W<"u"){if(z=100*W.loaded/W.total,S[0].upload.chunked){var G=S[0],J=this._getChunk(G,P);J.progress=z,J.total=W.total,J.bytesSent=W.loaded,G.upload.progress=0,G.upload.total=0,G.upload.bytesSent=0;for(var ue=0;ue<G.upload.totalChunkCount;ue++)G.upload.chunks[ue]!==void 0&&G.upload.chunks[ue].progress!==void 0&&(G.upload.progress+=G.upload.chunks[ue].progress,G.upload.total+=G.upload.chunks[ue].total,G.upload.bytesSent+=G.upload.chunks[ue].bytesSent);G.upload.progress=G.upload.progress/G.upload.totalChunkCount}else for(var ce=S,de=!0,ge=0,ce=de?ce:ce[Symbol.iterator]();;){var Te;if(de){if(ge>=ce.length)break;Te=ce[ge++]}else{if(ge=ce.next(),ge.done)break;Te=ge.value}var ve=Te;ve.upload.progress=z,ve.upload.total=W.total,ve.upload.bytesSent=W.loaded}for(var se=S,ne=!0,D=0,se=ne?se:se[Symbol.iterator]();;){var ye;if(ne){if(D>=se.length)break;ye=se[D++]}else{if(D=se.next(),D.done)break;ye=D.value}var Ce=ye;this.emit("uploadprogress",Ce,Ce.upload.progress,Ce.upload.bytesSent)}}else{var et=!0;z=100;for(var ie=S,ze=!0,Me=0,ie=ze?ie:ie[Symbol.iterator]();;){var Y;if(ze){if(Me>=ie.length)break;Y=ie[Me++]}else{if(Me=ie.next(),Me.done)break;Y=Me.value}var Le=Y;(Le.upload.progress!==100||Le.upload.bytesSent!==Le.upload.total)&&(et=!1),Le.upload.progress=z,Le.upload.bytesSent=Le.upload.total}if(et)return;for(var we=S,Re=!0,V=0,we=Re?we:we[Symbol.iterator]();;){var Ae;if(Re){if(V>=we.length)break;Ae=we[V++]}else{if(V=we.next(),V.done)break;Ae=V.value}var je=Ae;this.emit("uploadprogress",je,z,je.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(S,P,W){var z=void 0;if(S[0].status!==q.CANCELED&&P.readyState===4){if(P.responseType!=="arraybuffer"&&P.responseType!=="blob"&&(z=P.responseText,P.getResponseHeader("content-type")&&~P.getResponseHeader("content-type").indexOf("application/json")))try{z=JSON.parse(z)}catch(G){W=G,z="Invalid JSON response from server."}this._updateFilesUploadProgress(S),200<=P.status&&P.status<300?S[0].upload.chunked?S[0].upload.finishedChunkUpload(this._getChunk(S[0],P)):this._finished(S,z,W):this._handleUploadError(S,P,z)}}},{key:"_handleUploadError",value:function(S,P,W){if(S[0].status!==q.CANCELED){if(S[0].upload.chunked&&this.options.retryChunks){var z=this._getChunk(S[0],P);if(z.retries++<this.options.retryChunksLimit){this._uploadData(S,[z.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var ue=S,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){if(G){if(J>=ue.length)break;ue[J++]}else{if(J=ue.next(),J.done)break;J.value}this._errorProcessing(S,W||this.options.dictResponseError.replace("{{statusCode}}",P.status),P)}}}},{key:"submitRequest",value:function(S,P,W){S.send(P)}},{key:"_finished",value:function(S,P,W){for(var J=S,z=!0,G=0,J=z?J:J[Symbol.iterator]();;){var ue;if(z){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.status=q.SUCCESS,this.emit("success",de,P,W),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("successmultiple",S,P,W),this.emit("completemultiple",S)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(S,P,W){for(var J=S,z=!0,G=0,J=z?J:J[Symbol.iterator]();;){var ue;if(z){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.status=q.ERROR,this.emit("error",de,P,W),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("errormultiple",S,P,W),this.emit("completemultiple",S)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(S){var P=Math.random()*16|0,W=S==="x"?P:P&3|8;return W.toString(16)})}}]),q}(u);c.initClass(),c.version="5.5.1",c.options={},c.optionsForElement=function(j){if(j.getAttribute("id"))return c.options[v(j.getAttribute("id"))]},c.instances=[],c.forElement=function(j){if(typeof j=="string"&&(j=document.querySelector(j)),(j!=null?j.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return j.dropzone},c.autoDiscover=!0,c.discover=function(){var j=void 0;if(document.querySelectorAll)j=document.querySelectorAll(".dropzone");else{j=[];var q=function(S){return function(){for(var P=[],G=S,W=!0,z=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(z>=G.length)break;J=G[z++]}else{if(z=G.next(),z.done)break;J=z.value}var ue=J;/(^| )dropzone($| )/.test(ue.className)?P.push(j.push(ue)):P.push(void 0)}return P}()};q(document.getElementsByTagName("div")),q(document.getElementsByTagName("form"))}return function(){for(var O=[],W=j,S=!0,P=0,W=S?W:W[Symbol.iterator]();;){var z;if(S){if(P>=W.length)break;z=W[P++]}else{if(P=W.next(),P.done)break;z=P.value}var G=z;c.optionsForElement(G)!==!1?O.push(new c(G)):O.push(void 0)}return O}()},c.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],c.isBrowserSupported=function(){var j=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))j=!1;else for(var S=c.blacklistedBrowsers,q=!0,O=0,S=q?S:S[Symbol.iterator]();;){var P;if(q){if(O>=S.length)break;P=S[O++]}else{if(O=S.next(),O.done)break;P=O.value}var W=P;if(W.test(navigator.userAgent)){j=!1;continue}}else j=!1;return j},c.dataURItoBlob=function(j){for(var q=atob(j.split(",")[1]),O=j.split(",")[0].split(":")[1].split(";")[0],S=new ArrayBuffer(q.length),P=new Uint8Array(S),W=0,z=q.length,G=0<=z;G?W<=z:W>=z;G?W++:W--)P[W]=q.charCodeAt(W);return new Blob([S],{type:O})};var h=function(q,O){return q.filter(function(S){return S!==O}).map(function(S){return S})},v=function(q){return q.replace(/[\-_](\w)/g,function(O){return O.charAt(1).toUpperCase()})};c.createElement=function(j){var q=document.createElement("div");return q.innerHTML=j,q.childNodes[0]},c.elementInside=function(j,q){if(j===q)return!0;for(;j=j.parentNode;)if(j===q)return!0;return!1},c.getElement=function(j,q){var O=void 0;if(typeof j=="string"?O=document.querySelector(j):j.nodeType!=null&&(O=j),O==null)throw new Error("Invalid `"+q+"` option provided. Please provide a CSS selector or a plain HTML element.");return O},c.getElements=function(j,q){var O=void 0,S=void 0;if(j instanceof Array){S=[];try{for(var z=j,P=!0,W=0,z=P?z:z[Symbol.iterator]();;){if(P){if(W>=z.length)break;O=z[W++]}else{if(W=z.next(),W.done)break;O=W.value}S.push(this.getElement(O,q))}}catch{S=null}}else if(typeof j=="string"){S=[];for(var ue=document.querySelectorAll(j),G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){if(G){if(J>=ue.length)break;O=ue[J++]}else{if(J=ue.next(),J.done)break;O=J.value}S.push(O)}}else j.nodeType!=null&&(S=[j]);if(S==null||!S.length)throw new Error("Invalid `"+q+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return S},c.confirm=function(j,q,O){if(window.confirm(j))return q();if(O!=null)return O()},c.isValidFile=function(j,q){if(!q)return!0;q=q.split(",");for(var O=j.type,S=O.replace(/\/.*$/,""),z=q,P=!0,W=0,z=P?z:z[Symbol.iterator]();;){var G;if(P){if(W>=z.length)break;G=z[W++]}else{if(W=z.next(),W.done)break;G=W.value}var J=G;if(J=J.trim(),J.charAt(0)==="."){if(j.name.toLowerCase().indexOf(J.toLowerCase(),j.name.length-J.length)!==-1)return!0}else if(/\/\*$/.test(J)){if(S===J.replace(/\/.*$/,""))return!0}else if(O===J)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(j){return this.each(function(){return new c(this,j)})}),t!==null?t.exports=c:window.Dropzone=c,c.ADDED="added",c.QUEUED="queued",c.ACCEPTED=c.QUEUED,c.UPLOADING="uploading",c.PROCESSING=c.UPLOADING,c.CANCELED="canceled",c.ERROR="error",c.SUCCESS="success";var x=function(q){q.naturalWidth;var O=q.naturalHeight,S=document.createElement("canvas");S.width=1,S.height=O;var P=S.getContext("2d");P.drawImage(q,0,0);for(var W=P.getImageData(1,0,1,O),z=W.data,G=0,J=O,ue=O;ue>G;){var de=z[(ue-1)*4+3];de===0?J=ue:G=ue,ue=J+G>>1}var ge=ue/O;return ge===0?1:ge},w=function(q,O,S,P,W,z,G,J,ue,de){var ge=x(O);return q.drawImage(O,S,P,W,z,G,J,ue,de/ge)},k=function(){function j(){l(this,j)}return e(j,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(O){for(var S="",P=void 0,W=void 0,z="",G=void 0,J=void 0,ue=void 0,de="",ge=0;P=O[ge++],W=O[ge++],z=O[ge++],G=P>>2,J=(P&3)<<4|W>>4,ue=(W&15)<<2|z>>6,de=z&63,isNaN(W)?ue=de=64:isNaN(z)&&(de=64),S=S+this.KEY_STR.charAt(G)+this.KEY_STR.charAt(J)+this.KEY_STR.charAt(ue)+this.KEY_STR.charAt(de),P=W=z="",G=J=ue=de="",ge<O.length;);return S}},{key:"restore",value:function(O,S){if(!O.match("data:image/jpeg;base64,"))return S;var P=this.decode64(O.replace("data:image/jpeg;base64,","")),W=this.slice2Segments(P),z=this.exifManipulation(S,W);return"data:image/jpeg;base64,"+this.encode64(z)}},{key:"exifManipulation",value:function(O,S){var P=this.getExifArray(S),W=this.insertExif(O,P),z=new Uint8Array(W);return z}},{key:"getExifArray",value:function(O){for(var S=void 0,P=0;P<O.length;){if(S=O[P],S[0]===255&S[1]===225)return S;P++}return[]}},{key:"insertExif",value:function(O,S){var P=O.replace("data:image/jpeg;base64,",""),W=this.decode64(P),z=W.indexOf(255,3),G=W.slice(0,z),J=W.slice(z),ue=G;return ue=ue.concat(S),ue=ue.concat(J),ue}},{key:"slice2Segments",value:function(O){for(var S=0,P=[];;){var W;if(O[S]===255&O[S+1]===218)break;if(O[S]===255&O[S+1]===216)S+=2;else{W=O[S+2]*256+O[S+3];var z=S+W+2,G=O.slice(S,z);P.push(G),S=z}if(S>O.length)break}return P}},{key:"decode64",value:function(O){var S=void 0,P=void 0,W="",z=void 0,G=void 0,J=void 0,ue="",de=0,ge=[],ce=/[^A-Za-z0-9\+\/\=]/g;for(ce.exec(O)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),O=O.replace(/[^A-Za-z0-9\+\/\=]/g,"");z=this.KEY_STR.indexOf(O.charAt(de++)),G=this.KEY_STR.indexOf(O.charAt(de++)),J=this.KEY_STR.indexOf(O.charAt(de++)),ue=this.KEY_STR.indexOf(O.charAt(de++)),S=z<<2|G>>4,P=(G&15)<<4|J>>2,W=(J&3)<<6|ue,ge.push(S),J!==64&&ge.push(P),ue!==64&&ge.push(W),S=P=W="",z=G=J=ue="",de<O.length;);return ge}}]),j}();k.initClass();var A=function(q,O){var S=!1,P=!0,W=q.document,z=W.documentElement,G=W.addEventListener?"addEventListener":"attachEvent",J=W.addEventListener?"removeEventListener":"detachEvent",ue=W.addEventListener?"":"on",de=function ce(Te){if(!(Te.type==="readystatechange"&&W.readyState!=="complete")&&((Te.type==="load"?q:W)[J](ue+Te.type,ce,!1),!S&&(S=!0)))return O.call(q,Te.type||Te)},ge=function ce(){try{z.doScroll("left")}catch{setTimeout(ce,50);return}return de("poll")};if(W.readyState!=="complete"){if(W.createEventObject&&z.doScroll){try{P=!q.frameElement}catch{}P&&ge()}return W[G](ue+"DOMContentLoaded",de,!1),W[G](ue+"readystatechange",de,!1),q[G](ue+"load",de,!1)}};c._autoDiscoverFunction=function(){if(c.autoDiscover)return c.discover()},A(window,c._autoDiscoverFunction);function B(j,q){return typeof j<"u"&&j!==null?q(j):void 0}function N(j,q,O){if(typeof j<"u"&&j!==null&&typeof j[q]=="function")return O(j,q)}}(Qd)),Qd.exports}var ux=sx();const yl=kf(ux);async function vc(t){return new Promise(e=>setTimeout(e,t))}async function _l(t,e=400){return new Promise(n=>{t.style.opacity=0,t.style.display="block",t.style.transition=`opacity ${e}ms ease-in`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=1,await vc(e),n()})})}async function Bu(t,e=600){return new Promise(n=>{t.style.opacity=1,t.style.transition=`opacity ${e}ms ease-out`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=0,await vc(e),t.style.display="none",n()})})}class lx{constructor(e){this.attached=!1,this.options={onSuccess:o=>{},onError:o=>{},onAdded:o=>{},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},typeof e<"u"&&Object.assign(this.options,e),document.querySelector(this.options.selector)&&!this.attached&&this.init()}init(){const e=this;let o=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");o&&o>0&&(this.options.headers.folderId=parseInt(o),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(o)),yl.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(l,u){e.options.onAdded(l)}),this.on("success",async function(l,u){if(l.previewElement){let c=l.previewElement;await vc(3e3),await Bu(c,500),c.remove()}e.options.onSuccess(u),await window.Rozier.getMessages()}),this.on("canceled",function(l,u){e.options.onError(JSON.parse(u)),window.Rozier.getMessages()}),this.on("error",function(l,u,c){console.error(u)}),this.on("sending",function(l,u,c){u.ontimeout=()=>{e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},yl.autoDiscover=this.options.autoDiscover;try{new yl(this.options.selector,yl.options.uploadDropzoneDocument);let l=document.querySelector(this.options.selector);l.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`),l.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
            <div class="circles-icons">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
                <div class="circle circle-4"></div>
                <div class="circle circle-5"></div>
                <i class="uk-icon-rz-file"></i>
            </div>`),this.attached=!0}catch(l){console.error(l)}}unbind(){}}class cx{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,n,o){if(e.target instanceof HTMLInputElement)return;let l=$(o),u=parseInt(l.data("id")),c=l.prev(),h=null,v=null;c.length===0?(c=l.next(),h=parseInt(c.data("id"))):v=parseInt(c.data("id"));const x=window.RozierConfig.routes.attributeValueAjaxEdit;if(!(!x||!u))try{const w=await fetch(x.replace("%attributeValueId%",u),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:u,beforeAttributeValueId:h,afterAttributeValueId:v})});if(!w.ok)throw w;const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.responseText,status:k.status}}))}catch(w){const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.title||"",status:"danger"}}))}}}class fx{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,n,o){let l=$(o),u=parseInt(l.data("field-id")),c=l.prev(),h=null,v=null;c.length===0?(c=l.next(),v=parseInt(c.data("field-id"))):h=parseInt(c.data("field-id"));const x={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:u,beforeFieldId:v,afterFieldId:h},w=await fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",u),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(x)});if(w.ok){const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.responseText,status:k.status}}))}else{const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.title,status:"danger"}}))}}}class hx{constructor(){this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}init(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.addEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.addEventListener("keyup",this.onMinKeyUp)})}unbind(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMinKeyUp)})}onMaxKeyUp(e){let n=e.currentTarget,o=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>o?n.classList.add("uk-form-danger"):n.classList.remove("uk-form-danger")}onMinKeyUp(e){let n=e.currentTarget,o=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=o?n.classList.add("uk-form-danger"):n.classList.remove("uk-form-danger")}}class dx{constructor(){this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation a"),this.cleanNodeTree()}unbind(){this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}cleanNodeTree(){document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(e=>{e.remove()}),this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick),e.addEventListener("click",this.onQuickAddClick)})}treeAvailable(){return!!(this.nodeTrees&&this.nodeTrees.length)}async quickAddNode(e,n,o){return new Promise(async(l,u)=>{const c=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:n,translationId:o})});c.ok?l(await c.json()):u(await c.json())})}async onQuickAddClick(e){e.preventDefault();let n=e.currentTarget,o=n.getAttribute("data-children-node-type"),l=parseInt(n.getAttribute("data-children-parent-node")),u=parseInt(n.getAttribute("data-translation-id"));if(o!==""&&l>0)try{await this.quickAddNode(o,l,u),window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();let c=n.closest(".children-nodes-widget").querySelector(".nodetree-widget");await this.refreshNodeTree(c)}catch(c){c=JSON.parse(c.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:c.error_message,status:"danger"}}))}}async fetchNodeTree(e,n,o=void 0){return new Promise(async(l,u)=>{const c=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:e,translationId:o||null});n.forEach((x,w)=>{c.append("linkedTypes["+w+"]",x)});const h=window.RozierConfig.routes.nodesTreeAjax+"?"+c.toString(),v=await fetch(h,{method:"GET",headers:{Accept:"application/json"}});v.ok?l(await v.json()):u(await v.json())})}async refreshNodeTree(e){if(!e){console.log("No node-tree available.");return}let n=[];const o=e.querySelector(".root-tree");if(!o)return;const l=parseInt(o.getAttribute("data-parent-node-id")),u=o.getAttribute("data-linked-types");let c=o.getAttribute("data-translation-id");u&&(n=JSON.parse(u)),window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const h=await this.fetchNodeTree(l,n,c||null);if(e&&typeof h.nodeTree<"u"){await Bu(e);let v=e.closest(".children-nodes-widget");e.innerHTML=h.nodeTree,e=v.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await _l(e),this.cleanNodeTree(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}catch(h){h=JSON.parse(h.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}}))}}}class px{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation a"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(n=>{n.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,n,o=null){try{const l=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:n,translationId:this.getTranslationId(),tagId:o,pushTop:1})});if(!l.ok)throw await l.json();return await l.json()}catch(l){throw l}}async onQuickAddClick(e){e.preventDefault();const n=e.currentTarget,o=n.getAttribute("data-children-node-type"),l=parseInt(n.getAttribute("data-children-parent-node"));let u=null;if(!o||l<=0)return!1;n.hasAttribute("data-filter-tag")&&(u=parseInt(n.getAttribute("data-filter-tag")));try{await this.quickAddNode(o,l,u),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(l,u,1)]),await window.Rozier.getMessages()}catch(c){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:c.error_message,status:"danger"}}))}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,n=void 0,o=void 0){try{const l=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:n||this.getCurrentPage(),tagId:o,translationId:this.getTranslationId()}),u=`${window.RozierConfig.routes.nodesTreeAjax}?${l.toString()}`,c=await fetch(u,{method:"GET",headers:{Accept:"application/json"}});if(!c.ok)throw await c.json();return await c.json()}catch(l){throw l}}async refreshNodeTree(e,n,o){const l=this.page.querySelector(".nodetree-widget");if(!l)return;const u=l.querySelector(".root-tree");if(typeof e>"u"){const h=u.getAttribute("data-parent-node-id");e=h?parseInt(h):null}else e=parseInt(e);window.dispatchEvent(new CustomEvent("requestLoaderShow"));const c=await this.fetchNodeTree(e,o?parseInt(o):void 0,n?parseInt(n):void 0);if(c.nodeTree){await Bu(l);const h=document.createElement("div");h.innerHTML=c.nodeTree;const v=h.querySelector(".nodetree-widget");l.replaceWith(v),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await _l(v),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const x=this.page.querySelector(".nodetree-langs");x&&x.remove(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}}class mx{constructor(){this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){e.preventDefault();let n=e.currentTarget.parentElement.parentElement.querySelector(".uk-form");if(n.querySelectorAll("input[type=file]").length)return n.requestSubmit(),!1;n.classList.contains("uk-has-errors")&&(n.querySelector(".uk-alert").remove(),n.classList.remove("uk-has-errors")),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const o=new window.FormData(n),l=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:o});if(!l.ok){const u=await l.json();if(u.errors&&u.errors.value)for(let c in u.errors.value)n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+u.errors.value[c]+"</span>");else if(u.errors)for(let c in u.errors){n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+u.errors[c]+"</span>");break}}return await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}resize(){}}class gx{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(n=>{const o=n.querySelectorAll(".node-statuses-item"),l=n.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(n,o,l)})}init(e,n,o){n.forEach(l=>{l.removeEventListener("click",this.itemClick),l.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),o.forEach(l=>{l.removeEventListener("change",this.onChange),l.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(l=>{l.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const n=e.currentTarget,o=n.querySelector("ul, nav"),l=n.offsetHeight,u=o?o.offsetHeight:0,c=n.getBoundingClientRect().top+window.scrollY,h=window.innerHeight,v=c+u+l;h<v&&n.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const n=e.currentTarget.querySelector('input[type="radio"]');n&&(n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const n=e.currentTarget;if(!n)return!1;const o=n.getAttribute("name");let l=null;n instanceof HTMLInputElement&&n.type==="checkbox"?l=Number(n.checked):n instanceof HTMLInputElement&&n.type==="radio"&&(this.icon&&(this.icon.className=n.parentElement.querySelector("i").className),l=n.value),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const u=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(n.getAttribute("data-node-id")),statusName:o,statusValue:l})});if(u.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestAllNodeTreeRefresh"));else{const c=await u.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:c.error_message,status:"danger"}}))}this.locked=!1,window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}class vx{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let o=[];for(let u=1;u<19;u++)o.push({column:this.tabSize*u,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let l={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:o,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(l.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,l),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}const Ag={};function bx(t){let e=Ag[t];if(e)return e;e=Ag[t]=[];for(let n=0;n<128;n++){const o=String.fromCharCode(n);e.push(o)}for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);e[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return e}function dc(t,e){typeof e!="string"&&(e=dc.defaultChars);const n=bx(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(o){let l="";for(let u=0,c=o.length;u<c;u+=3){const h=parseInt(o.slice(u+1,u+3),16);if(h<128){l+=n[h];continue}if((h&224)===192&&u+3<c){const v=parseInt(o.slice(u+4,u+6),16);if((v&192)===128){const x=h<<6&1984|v&63;x<128?l+="":l+=String.fromCharCode(x),u+=3;continue}}if((h&240)===224&&u+6<c){const v=parseInt(o.slice(u+4,u+6),16),x=parseInt(o.slice(u+7,u+9),16);if((v&192)===128&&(x&192)===128){const w=h<<12&61440|v<<6&4032|x&63;w<2048||w>=55296&&w<=57343?l+="":l+=String.fromCharCode(w),u+=6;continue}}if((h&248)===240&&u+9<c){const v=parseInt(o.slice(u+4,u+6),16),x=parseInt(o.slice(u+7,u+9),16),w=parseInt(o.slice(u+10,u+12),16);if((v&192)===128&&(x&192)===128&&(w&192)===128){let k=h<<18&1835008|v<<12&258048|x<<6&4032|w&63;k<65536||k>1114111?l+="":(k-=65536,l+=String.fromCharCode(55296+(k>>10),56320+(k&1023))),u+=9;continue}}l+=""}return l})}dc.defaultChars=";/?:@&=+$,#";dc.componentChars="";const Dg={};function yx(t){let e=Dg[t];if(e)return e;e=Dg[t]=[];for(let n=0;n<128;n++){const o=String.fromCharCode(n);/^[0-9a-z]$/i.test(o)?e.push(o):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function Ef(t,e,n){typeof e!="string"&&(n=e,e=Ef.defaultChars),typeof n>"u"&&(n=!0);const o=yx(e);let l="";for(let u=0,c=t.length;u<c;u++){const h=t.charCodeAt(u);if(n&&h===37&&u+2<c&&/^[0-9a-f]{2}$/i.test(t.slice(u+1,u+3))){l+=t.slice(u,u+3),u+=2;continue}if(h<128){l+=o[h];continue}if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&u+1<c){const v=t.charCodeAt(u+1);if(v>=56320&&v<=57343){l+=encodeURIComponent(t[u]+t[u+1]),u++;continue}}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[u])}return l}Ef.defaultChars=";/?:@&=+$,-_.!~*'()#";Ef.componentChars="-_.!~*'()";function Xp(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Xh(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const _x=/^([a-z0-9.+-]+:)/i,wx=/:[0-9]*$/,xx=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,kx=["<",">",'"',"`"," ","\r",`
`,"	"],Ex=["{","}","|","\\","^","`"].concat(kx),Cx=["'"].concat(Ex),Lg=["%","/","?",";","#"].concat(Cx),Mg=["/","?","#"],Sx=255,Pg=/^[+a-z0-9A-Z_-]{0,63}$/,Tx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Og={javascript:!0,"javascript:":!0},Fg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Vp(t,e){if(t&&t instanceof Xh)return t;const n=new Xh;return n.parse(t,e),n}Xh.prototype.parse=function(t,e){let n,o,l,u=t;if(u=u.trim(),!e&&t.split("#").length===1){const x=xx.exec(u);if(x)return this.pathname=x[1],x[2]&&(this.search=x[2]),this}let c=_x.exec(u);if(c&&(c=c[0],n=c.toLowerCase(),this.protocol=c,u=u.substr(c.length)),(e||c||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(l=u.substr(0,2)==="//",l&&!(c&&Og[c])&&(u=u.substr(2),this.slashes=!0)),!Og[c]&&(l||c&&!Fg[c])){let x=-1;for(let N=0;N<Mg.length;N++)o=u.indexOf(Mg[N]),o!==-1&&(x===-1||o<x)&&(x=o);let w,k;x===-1?k=u.lastIndexOf("@"):k=u.lastIndexOf("@",x),k!==-1&&(w=u.slice(0,k),u=u.slice(k+1),this.auth=w),x=-1;for(let N=0;N<Lg.length;N++)o=u.indexOf(Lg[N]),o!==-1&&(x===-1||o<x)&&(x=o);x===-1&&(x=u.length),u[x-1]===":"&&x--;const A=u.slice(0,x);u=u.slice(x),this.parseHost(A),this.hostname=this.hostname||"";const B=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!B){const N=this.hostname.split(/\./);for(let j=0,q=N.length;j<q;j++){const O=N[j];if(O&&!O.match(Pg)){let S="";for(let P=0,W=O.length;P<W;P++)O.charCodeAt(P)>127?S+="x":S+=O[P];if(!S.match(Pg)){const P=N.slice(0,j),W=N.slice(j+1),z=O.match(Tx);z&&(P.push(z[1]),W.unshift(z[2])),W.length&&(u=W.join(".")+u),this.hostname=P.join(".");break}}}}this.hostname.length>Sx&&(this.hostname=""),B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const h=u.indexOf("#");h!==-1&&(this.hash=u.substr(h),u=u.slice(0,h));const v=u.indexOf("?");return v!==-1&&(this.search=u.substr(v),u=u.slice(0,v)),u&&(this.pathname=u),Fg[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Xh.prototype.parseHost=function(t){let e=wx.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Ax=Object.freeze(Object.defineProperty({__proto__:null,decode:dc,encode:Ef,format:Xp,parse:Vp},Symbol.toStringTag,{value:"Module"})),O0=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,F0=/[\0-\x1F\x7F-\x9F]/,Dx=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Kp=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,R0=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,N0=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Lx=Object.freeze(Object.defineProperty({__proto__:null,Any:O0,Cc:F0,Cf:Dx,P:Kp,S:R0,Z:N0},Symbol.toStringTag,{value:"Module"})),Mx=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Px=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Jd;const Ox=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Fx=(Jd=String.fromCodePoint)!==null&&Jd!==void 0?Jd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function Rx(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Ox.get(t))!==null&&e!==void 0?e:t}var Nr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Nr||(Nr={}));const Nx=32;var Ru;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ru||(Ru={}));function xp(t){return t>=Nr.ZERO&&t<=Nr.NINE}function Ix(t){return t>=Nr.UPPER_A&&t<=Nr.UPPER_F||t>=Nr.LOWER_A&&t<=Nr.LOWER_F}function zx(t){return t>=Nr.UPPER_A&&t<=Nr.UPPER_Z||t>=Nr.LOWER_A&&t<=Nr.LOWER_Z||xp(t)}function Bx(t){return t===Nr.EQUALS||zx(t)}var Fr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Fr||(Fr={}));var Ou;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ou||(Ou={}));class Hx{constructor(e,n,o){this.decodeTree=e,this.emitCodePoint=n,this.errors=o,this.state=Fr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ou.Strict}startEntity(e){this.decodeMode=e,this.state=Fr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Fr.EntityStart:return e.charCodeAt(n)===Nr.NUM?(this.state=Fr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Fr.NamedEntity,this.stateNamedEntity(e,n));case Fr.NumericStart:return this.stateNumericStart(e,n);case Fr.NumericDecimal:return this.stateNumericDecimal(e,n);case Fr.NumericHex:return this.stateNumericHex(e,n);case Fr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Nx)===Nr.LOWER_X?(this.state=Fr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Fr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,o,l){if(n!==o){const u=o-n;this.result=this.result*Math.pow(l,u)+parseInt(e.substr(n,u),l),this.consumed+=u}}stateNumericHex(e,n){const o=n;for(;n<e.length;){const l=e.charCodeAt(n);if(xp(l)||Ix(l))n+=1;else return this.addToNumericResult(e,o,n,16),this.emitNumericEntity(l,3)}return this.addToNumericResult(e,o,n,16),-1}stateNumericDecimal(e,n){const o=n;for(;n<e.length;){const l=e.charCodeAt(n);if(xp(l))n+=1;else return this.addToNumericResult(e,o,n,10),this.emitNumericEntity(l,2)}return this.addToNumericResult(e,o,n,10),-1}emitNumericEntity(e,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Nr.SEMI)this.consumed+=1;else if(this.decodeMode===Ou.Strict)return 0;return this.emitCodePoint(Rx(this.result),this.consumed),this.errors&&(e!==Nr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:o}=this;let l=o[this.treeIndex],u=(l&Ru.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const c=e.charCodeAt(n);if(this.treeIndex=Wx(o,l,this.treeIndex+Math.max(1,u),c),this.treeIndex<0)return this.result===0||this.decodeMode===Ou.Attribute&&(u===0||Bx(c))?0:this.emitNotTerminatedNamedEntity();if(l=o[this.treeIndex],u=(l&Ru.VALUE_LENGTH)>>14,u!==0){if(c===Nr.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==Ou.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:o}=this,l=(o[n]&Ru.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,l,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,o){const{decodeTree:l}=this;return this.emitCodePoint(n===1?l[e]&~Ru.VALUE_LENGTH:l[e+1],o),n===3&&this.emitCodePoint(l[e+2],o),o}end(){var e;switch(this.state){case Fr.NamedEntity:return this.result!==0&&(this.decodeMode!==Ou.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Fr.NumericDecimal:return this.emitNumericEntity(0,2);case Fr.NumericHex:return this.emitNumericEntity(0,3);case Fr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Fr.EntityStart:return 0}}}function I0(t){let e="";const n=new Hx(t,o=>e+=Fx(o));return function(l,u){let c=0,h=0;for(;(h=l.indexOf("&",h))>=0;){e+=l.slice(c,h),n.startEntity(u);const x=n.write(l,h+1);if(x<0){c=h+n.end();break}c=h+x,h=x===0?c+1:c}const v=e+l.slice(c);return e="",v}}function Wx(t,e,n,o){const l=(e&Ru.BRANCH_LENGTH)>>7,u=e&Ru.JUMP_TABLE;if(l===0)return u!==0&&o===u?n:-1;if(u){const v=o-u;return v<0||v>=l?-1:t[n+v]-1}let c=n,h=c+l-1;for(;c<=h;){const v=c+h>>>1,x=t[v];if(x<o)c=v+1;else if(x>o)h=v-1;else return t[v+l]}return-1}const qx=I0(Mx);I0(Px);function z0(t,e=Ou.Legacy){return qx(t,e)}function jx(t){return Object.prototype.toString.call(t)}function Qp(t){return jx(t)==="[object String]"}const Ux=Object.prototype.hasOwnProperty;function Yx(t,e){return Ux.call(t,e)}function ad(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(o){t[o]=n[o]})}}),t}function B0(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Jp(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Vh(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const H0=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,$x=/&([a-z#][a-z0-9]{1,31});/gi,Gx=new RegExp(H0.source+"|"+$x.source,"gi"),Zx=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Xx(t,e){if(e.charCodeAt(0)===35&&Zx.test(e)){const o=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Jp(o)?Vh(o):t}const n=z0(t);return n!==t?n:t}function Vx(t){return t.indexOf("\\")<0?t:t.replace(H0,"$1")}function pc(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Gx,function(e,n,o){return n||Xx(e,o)})}const Kx=/[&<>"]/,Qx=/[&<>"]/g,Jx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ek(t){return Jx[t]}function Hu(t){return Kx.test(t)?t.replace(Qx,ek):t}const tk=/[.?*+^$[\]\\(){}|-]/g;function ik(t){return t.replace(tk,"\\$&")}function fn(t){switch(t){case 9:case 32:return!0}return!1}function vf(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function bf(t){return Kp.test(t)||R0.test(t)}function yf(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function sd(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const nk={mdurl:Ax,ucmicro:Lx},rk=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:B0,assign:ad,escapeHtml:Hu,escapeRE:ik,fromCodePoint:Vh,has:Yx,isMdAsciiPunct:yf,isPunctChar:bf,isSpace:fn,isString:Qp,isValidEntityCode:Jp,isWhiteSpace:vf,lib:nk,normalizeReference:sd,unescapeAll:pc,unescapeMd:Vx},Symbol.toStringTag,{value:"Module"}));function ok(t,e,n){let o,l,u,c;const h=t.posMax,v=t.pos;for(t.pos=e+1,o=1;t.pos<h;){if(u=t.src.charCodeAt(t.pos),u===93&&(o--,o===0)){l=!0;break}if(c=t.pos,t.md.inline.skipToken(t),u===91){if(c===t.pos-1)o++;else if(n)return t.pos=v,-1}}let x=-1;return l&&(x=t.pos),t.pos=v,x}function ak(t,e,n){let o,l=e;const u={ok:!1,pos:0,str:""};if(t.charCodeAt(l)===60){for(l++;l<n;){if(o=t.charCodeAt(l),o===10||o===60)return u;if(o===62)return u.pos=l+1,u.str=pc(t.slice(e+1,l)),u.ok=!0,u;if(o===92&&l+1<n){l+=2;continue}l++}return u}let c=0;for(;l<n&&(o=t.charCodeAt(l),!(o===32||o<32||o===127));){if(o===92&&l+1<n){if(t.charCodeAt(l+1)===32)break;l+=2;continue}if(o===40&&(c++,c>32))return u;if(o===41){if(c===0)break;c--}l++}return e===l||c!==0||(u.str=pc(t.slice(e,l)),u.pos=l,u.ok=!0),u}function sk(t,e,n,o){let l,u=e;const c={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)c.str=o.str,c.marker=o.marker;else{if(u>=n)return c;let h=t.charCodeAt(u);if(h!==34&&h!==39&&h!==40)return c;e++,u++,h===40&&(h=41),c.marker=h}for(;u<n;){if(l=t.charCodeAt(u),l===c.marker)return c.pos=u+1,c.str+=pc(t.slice(e,u)),c.ok=!0,c;if(l===40&&c.marker===41)return c;l===92&&u+1<n&&u++,u++}return c.can_continue=!0,c.str+=pc(t.slice(e,u)),c}const uk=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:ak,parseLinkLabel:ok,parseLinkTitle:sk},Symbol.toStringTag,{value:"Module"})),ys={};ys.code_inline=function(t,e,n,o,l){const u=t[e];return"<code"+l.renderAttrs(u)+">"+Hu(u.content)+"</code>"};ys.code_block=function(t,e,n,o,l){const u=t[e];return"<pre"+l.renderAttrs(u)+"><code>"+Hu(t[e].content)+`</code></pre>
`};ys.fence=function(t,e,n,o,l){const u=t[e],c=u.info?pc(u.info).trim():"";let h="",v="";if(c){const w=c.split(/(\s+)/g);h=w[0],v=w.slice(2).join("")}let x;if(n.highlight?x=n.highlight(u.content,h,v)||Hu(u.content):x=Hu(u.content),x.indexOf("<pre")===0)return x+`
`;if(c){const w=u.attrIndex("class"),k=u.attrs?u.attrs.slice():[];w<0?k.push(["class",n.langPrefix+h]):(k[w]=k[w].slice(),k[w][1]+=" "+n.langPrefix+h);const A={attrs:k};return`<pre><code${l.renderAttrs(A)}>${x}</code></pre>
`}return`<pre><code${l.renderAttrs(u)}>${x}</code></pre>
`};ys.image=function(t,e,n,o,l){const u=t[e];return u.attrs[u.attrIndex("alt")][1]=l.renderInlineAsText(u.children,n,o),l.renderToken(t,e,n)};ys.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};ys.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};ys.text=function(t,e){return Hu(t[e].content)};ys.html_block=function(t,e){return t[e].content};ys.html_inline=function(t,e){return t[e].content};function bc(){this.rules=ad({},ys)}bc.prototype.renderAttrs=function(e){let n,o,l;if(!e.attrs)return"";for(l="",n=0,o=e.attrs.length;n<o;n++)l+=" "+Hu(e.attrs[n][0])+'="'+Hu(e.attrs[n][1])+'"';return l};bc.prototype.renderToken=function(e,n,o){const l=e[n];let u="";if(l.hidden)return"";l.block&&l.nesting!==-1&&n&&e[n-1].hidden&&(u+=`
`),u+=(l.nesting===-1?"</":"<")+l.tag,u+=this.renderAttrs(l),l.nesting===0&&o.xhtmlOut&&(u+=" /");let c=!1;if(l.block&&(c=!0,l.nesting===1&&n+1<e.length)){const h=e[n+1];(h.type==="inline"||h.hidden||h.nesting===-1&&h.tag===l.tag)&&(c=!1)}return u+=c?`>
`:">",u};bc.prototype.renderInline=function(t,e,n){let o="";const l=this.rules;for(let u=0,c=t.length;u<c;u++){const h=t[u].type;typeof l[h]<"u"?o+=l[h](t,u,e,n,this):o+=this.renderToken(t,u,e)}return o};bc.prototype.renderInlineAsText=function(t,e,n){let o="";for(let l=0,u=t.length;l<u;l++)switch(t[l].type){case"text":o+=t[l].content;break;case"image":o+=this.renderInlineAsText(t[l].children,e,n);break;case"html_inline":case"html_block":o+=t[l].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};bc.prototype.render=function(t,e,n){let o="";const l=this.rules;for(let u=0,c=t.length;u<c;u++){const h=t[u].type;h==="inline"?o+=this.renderInline(t[u].children,e,n):typeof l[h]<"u"?o+=l[h](t,u,e,n,this):o+=this.renderToken(t,u,e,n)}return o};function Do(){this.__rules__=[],this.__cache__=null}Do.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Do.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){e.indexOf(o)<0&&e.push(o)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||t.__cache__[n].push(o.fn))})})};Do.prototype.at=function(t,e,n){const o=this.__find__(t),l=n||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__[o].fn=e,this.__rules__[o].alt=l.alt||[],this.__cache__=null};Do.prototype.before=function(t,e,n,o){const l=this.__find__(t),u=o||{};if(l===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(l,0,{name:e,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};Do.prototype.after=function(t,e,n,o){const l=this.__find__(t),u=o||{};if(l===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(l+1,0,{name:e,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};Do.prototype.push=function(t,e,n){const o=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:o.alt||[]}),this.__cache__=null};Do.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(o){const l=this.__find__(o);if(l<0){if(e)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[l].enabled=!0,n.push(o)},this),this.__cache__=null,n};Do.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Do.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(o){const l=this.__find__(o);if(l<0){if(e)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[l].enabled=!1,n.push(o)},this),this.__cache__=null,n};Do.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function qa(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}qa.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let o=0,l=n.length;o<l;o++)if(n[o][0]===e)return o;return-1};qa.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};qa.prototype.attrSet=function(e,n){const o=this.attrIndex(e),l=[e,n];o<0?this.attrPush(l):this.attrs[o]=l};qa.prototype.attrGet=function(e){const n=this.attrIndex(e);let o=null;return n>=0&&(o=this.attrs[n][1]),o};qa.prototype.attrJoin=function(e,n){const o=this.attrIndex(e);o<0?this.attrPush([e,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n};function W0(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}W0.prototype.Token=qa;const lk=/\r\n?|\n/g,ck=/\0/g;function fk(t){let e;e=t.src.replace(lk,`
`),e=e.replace(ck,""),t.src=e}function hk(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function dk(t){const e=t.tokens;for(let n=0,o=e.length;n<o;n++){const l=e[n];l.type==="inline"&&t.md.inline.parse(l.content,t.md,t.env,l.children)}}function pk(t){return/^<a[>\s]/i.test(t)}function mk(t){return/^<\/a\s*>/i.test(t)}function gk(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,o=e.length;n<o;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let l=e[n].children,u=0;for(let c=l.length-1;c>=0;c--){const h=l[c];if(h.type==="link_close"){for(c--;l[c].level!==h.level&&l[c].type!=="link_open";)c--;continue}if(h.type==="html_inline"&&(pk(h.content)&&u>0&&u--,mk(h.content)&&u++),!(u>0)&&h.type==="text"&&t.md.linkify.test(h.content)){const v=h.content;let x=t.md.linkify.match(v);const w=[];let k=h.level,A=0;x.length>0&&x[0].index===0&&c>0&&l[c-1].type==="text_special"&&(x=x.slice(1));for(let B=0;B<x.length;B++){const N=x[B].url,j=t.md.normalizeLink(N);if(!t.md.validateLink(j))continue;let q=x[B].text;x[B].schema?x[B].schema==="mailto:"&&!/^mailto:/i.test(q)?q=t.md.normalizeLinkText("mailto:"+q).replace(/^mailto:/,""):q=t.md.normalizeLinkText(q):q=t.md.normalizeLinkText("http://"+q).replace(/^http:\/\//,"");const O=x[B].index;if(O>A){const z=new t.Token("text","",0);z.content=v.slice(A,O),z.level=k,w.push(z)}const S=new t.Token("link_open","a",1);S.attrs=[["href",j]],S.level=k++,S.markup="linkify",S.info="auto",w.push(S);const P=new t.Token("text","",0);P.content=q,P.level=k,w.push(P);const W=new t.Token("link_close","a",-1);W.level=--k,W.markup="linkify",W.info="auto",w.push(W),A=x[B].lastIndex}if(A<v.length){const B=new t.Token("text","",0);B.content=v.slice(A),B.level=k,w.push(B)}e[n].children=l=B0(l,c,w)}}}}const q0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,vk=/\((c|tm|r)\)/i,bk=/\((c|tm|r)\)/ig,yk={c:"",r:"",tm:""};function _k(t,e){return yk[e.toLowerCase()]}function wk(t){let e=0;for(let n=t.length-1;n>=0;n--){const o=t[n];o.type==="text"&&!e&&(o.content=o.content.replace(bk,_k)),o.type==="link_open"&&o.info==="auto"&&e--,o.type==="link_close"&&o.info==="auto"&&e++}}function xk(t){let e=0;for(let n=t.length-1;n>=0;n--){const o=t[n];o.type==="text"&&!e&&q0.test(o.content)&&(o.content=o.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),o.type==="link_open"&&o.info==="auto"&&e--,o.type==="link_close"&&o.info==="auto"&&e++}}function kk(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(vk.test(t.tokens[e].content)&&wk(t.tokens[e].children),q0.test(t.tokens[e].content)&&xk(t.tokens[e].children))}const Ek=/['"]/,Rg=/['"]/g,Ng="";function kh(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Ck(t,e){let n;const o=[];for(let l=0;l<t.length;l++){const u=t[l],c=t[l].level;for(n=o.length-1;n>=0&&!(o[n].level<=c);n--);if(o.length=n+1,u.type!=="text")continue;let h=u.content,v=0,x=h.length;e:for(;v<x;){Rg.lastIndex=v;const w=Rg.exec(h);if(!w)break;let k=!0,A=!0;v=w.index+1;const B=w[0]==="'";let N=32;if(w.index-1>=0)N=h.charCodeAt(w.index-1);else for(n=l-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){N=t[n].content.charCodeAt(t[n].content.length-1);break}let j=32;if(v<x)j=h.charCodeAt(v);else for(n=l+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){j=t[n].content.charCodeAt(0);break}const q=yf(N)||bf(String.fromCharCode(N)),O=yf(j)||bf(String.fromCharCode(j)),S=vf(N),P=vf(j);if(P?k=!1:O&&(S||q||(k=!1)),S?A=!1:q&&(P||O||(A=!1)),j===34&&w[0]==='"'&&N>=48&&N<=57&&(A=k=!1),k&&A&&(k=q,A=O),!k&&!A){B&&(u.content=kh(u.content,w.index,Ng));continue}if(A)for(n=o.length-1;n>=0;n--){let W=o[n];if(o[n].level<c)break;if(W.single===B&&o[n].level===c){W=o[n];let z,G;B?(z=e.md.options.quotes[2],G=e.md.options.quotes[3]):(z=e.md.options.quotes[0],G=e.md.options.quotes[1]),u.content=kh(u.content,w.index,G),t[W.token].content=kh(t[W.token].content,W.pos,z),v+=G.length-1,W.token===l&&(v+=z.length-1),h=u.content,x=h.length,o.length=n;continue e}}k?o.push({token:l,pos:w.index,single:B,level:c}):A&&B&&(u.content=kh(u.content,w.index,Ng))}}}function Sk(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!Ek.test(t.tokens[e].content)||Ck(t.tokens[e].children,t)}function Tk(t){let e,n;const o=t.tokens,l=o.length;for(let u=0;u<l;u++){if(o[u].type!=="inline")continue;const c=o[u].children,h=c.length;for(e=0;e<h;e++)c[e].type==="text_special"&&(c[e].type="text");for(e=n=0;e<h;e++)c[e].type==="text"&&e+1<h&&c[e+1].type==="text"?c[e+1].content=c[e].content+c[e+1].content:(e!==n&&(c[n]=c[e]),n++);e!==n&&(c.length=n)}}const ep=[["normalize",fk],["block",hk],["inline",dk],["linkify",gk],["replacements",kk],["smartquotes",Sk],["text_join",Tk]];function em(){this.ruler=new Do;for(let t=0;t<ep.length;t++)this.ruler.push(ep[t][0],ep[t][1])}em.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,o=e.length;n<o;n++)e[n](t)};em.prototype.State=W0;function _s(t,e,n,o){this.src=t,this.md=e,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const l=this.src;for(let u=0,c=0,h=0,v=0,x=l.length,w=!1;c<x;c++){const k=l.charCodeAt(c);if(!w)if(fn(k)){h++,k===9?v+=4-v%4:v++;continue}else w=!0;(k===10||c===x-1)&&(k!==10&&c++,this.bMarks.push(u),this.eMarks.push(c),this.tShift.push(h),this.sCount.push(v),this.bsCount.push(0),w=!1,h=0,v=0,u=c+1)}this.bMarks.push(l.length),this.eMarks.push(l.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}_s.prototype.push=function(t,e,n){const o=new qa(t,e,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o};_s.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};_s.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};_s.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const o=this.src.charCodeAt(e);if(!fn(o))break}return e};_s.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!fn(this.src.charCodeAt(--e)))return e+1;return e};_s.prototype.skipChars=function(e,n){for(let o=this.src.length;e<o&&this.src.charCodeAt(e)===n;e++);return e};_s.prototype.skipCharsBack=function(e,n,o){if(e<=o)return e;for(;e>o;)if(n!==this.src.charCodeAt(--e))return e+1;return e};_s.prototype.getLines=function(e,n,o,l){if(e>=n)return"";const u=new Array(n-e);for(let c=0,h=e;h<n;h++,c++){let v=0;const x=this.bMarks[h];let w=x,k;for(h+1<n||l?k=this.eMarks[h]+1:k=this.eMarks[h];w<k&&v<o;){const A=this.src.charCodeAt(w);if(fn(A))A===9?v+=4-(v+this.bsCount[h])%4:v++;else if(w-x<this.tShift[h])v++;else break;w++}v>o?u[c]=new Array(v-o+1).join(" ")+this.src.slice(w,k):u[c]=this.src.slice(w,k)}return u.join("")};_s.prototype.Token=qa;const Ak=65536;function tp(t,e){const n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(n,o)}function Ig(t){const e=[],n=t.length;let o=0,l=t.charCodeAt(o),u=!1,c=0,h="";for(;o<n;)l===124&&(u?(h+=t.substring(c,o-1),c=o):(e.push(h+t.substring(c,o)),h="",c=o+1)),u=l===92,o++,l=t.charCodeAt(o);return e.push(h+t.substring(c)),e}function Dk(t,e,n,o){if(e+2>n)return!1;let l=e+1;if(t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)return!1;let u=t.bMarks[l]+t.tShift[l];if(u>=t.eMarks[l])return!1;const c=t.src.charCodeAt(u++);if(c!==124&&c!==45&&c!==58||u>=t.eMarks[l])return!1;const h=t.src.charCodeAt(u++);if(h!==124&&h!==45&&h!==58&&!fn(h)||c===45&&fn(h))return!1;for(;u<t.eMarks[l];){const W=t.src.charCodeAt(u);if(W!==124&&W!==45&&W!==58&&!fn(W))return!1;u++}let v=tp(t,e+1),x=v.split("|");const w=[];for(let W=0;W<x.length;W++){const z=x[W].trim();if(!z){if(W===0||W===x.length-1)continue;return!1}if(!/^:?-+:?$/.test(z))return!1;z.charCodeAt(z.length-1)===58?w.push(z.charCodeAt(0)===58?"center":"right"):z.charCodeAt(0)===58?w.push("left"):w.push("")}if(v=tp(t,e).trim(),v.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;x=Ig(v),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop();const k=x.length;if(k===0||k!==w.length)return!1;if(o)return!0;const A=t.parentType;t.parentType="table";const B=t.md.block.ruler.getRules("blockquote"),N=t.push("table_open","table",1),j=[e,0];N.map=j;const q=t.push("thead_open","thead",1);q.map=[e,e+1];const O=t.push("tr_open","tr",1);O.map=[e,e+1];for(let W=0;W<x.length;W++){const z=t.push("th_open","th",1);w[W]&&(z.attrs=[["style","text-align:"+w[W]]]);const G=t.push("inline","",0);G.content=x[W].trim(),G.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,P=0;for(l=e+2;l<n&&!(t.sCount[l]<t.blkIndent);l++){let W=!1;for(let G=0,J=B.length;G<J;G++)if(B[G](t,l,n,!0)){W=!0;break}if(W||(v=tp(t,l).trim(),!v)||t.sCount[l]-t.blkIndent>=4||(x=Ig(v),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),P+=k-x.length,P>Ak))break;if(l===e+2){const G=t.push("tbody_open","tbody",1);G.map=S=[e+2,0]}const z=t.push("tr_open","tr",1);z.map=[l,l+1];for(let G=0;G<k;G++){const J=t.push("td_open","td",1);w[G]&&(J.attrs=[["style","text-align:"+w[G]]]);const ue=t.push("inline","",0);ue.content=x[G]?x[G].trim():"",ue.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=l),t.push("table_close","table",-1),j[1]=l,t.parentType=A,t.line=l,!0}function Lk(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let o=e+1,l=o;for(;o<n;){if(t.isEmpty(o)){o++;continue}if(t.sCount[o]-t.blkIndent>=4){o++,l=o;continue}break}t.line=l;const u=t.push("code_block","code",0);return u.content=t.getLines(e,l,4+t.blkIndent,!1)+`
`,u.map=[e,t.line],!0}function Mk(t,e,n,o){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||l+3>u)return!1;const c=t.src.charCodeAt(l);if(c!==126&&c!==96)return!1;let h=l;l=t.skipChars(l,c);let v=l-h;if(v<3)return!1;const x=t.src.slice(h,l),w=t.src.slice(l,u);if(c===96&&w.indexOf(String.fromCharCode(c))>=0)return!1;if(o)return!0;let k=e,A=!1;for(;k++,!(k>=n||(l=h=t.bMarks[k]+t.tShift[k],u=t.eMarks[k],l<u&&t.sCount[k]<t.blkIndent));)if(t.src.charCodeAt(l)===c&&!(t.sCount[k]-t.blkIndent>=4)&&(l=t.skipChars(l,c),!(l-h<v)&&(l=t.skipSpaces(l),!(l<u)))){A=!0;break}v=t.sCount[e],t.line=k+(A?1:0);const B=t.push("fence","code",0);return B.info=w,B.content=t.getLines(e+1,k,v,!0),B.markup=x,B.map=[e,t.line],!0}function Pk(t,e,n,o){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];const c=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(l)!==62)return!1;if(o)return!0;const h=[],v=[],x=[],w=[],k=t.md.block.ruler.getRules("blockquote"),A=t.parentType;t.parentType="blockquote";let B=!1,N;for(N=e;N<n;N++){const P=t.sCount[N]<t.blkIndent;if(l=t.bMarks[N]+t.tShift[N],u=t.eMarks[N],l>=u)break;if(t.src.charCodeAt(l++)===62&&!P){let z=t.sCount[N]+1,G,J;t.src.charCodeAt(l)===32?(l++,z++,J=!1,G=!0):t.src.charCodeAt(l)===9?(G=!0,(t.bsCount[N]+z)%4===3?(l++,z++,J=!1):J=!0):G=!1;let ue=z;for(h.push(t.bMarks[N]),t.bMarks[N]=l;l<u;){const de=t.src.charCodeAt(l);if(fn(de))de===9?ue+=4-(ue+t.bsCount[N]+(J?1:0))%4:ue++;else break;l++}B=l>=u,v.push(t.bsCount[N]),t.bsCount[N]=t.sCount[N]+1+(G?1:0),x.push(t.sCount[N]),t.sCount[N]=ue-z,w.push(t.tShift[N]),t.tShift[N]=l-t.bMarks[N];continue}if(B)break;let W=!1;for(let z=0,G=k.length;z<G;z++)if(k[z](t,N,n,!0)){W=!0;break}if(W){t.lineMax=N,t.blkIndent!==0&&(h.push(t.bMarks[N]),v.push(t.bsCount[N]),w.push(t.tShift[N]),x.push(t.sCount[N]),t.sCount[N]-=t.blkIndent);break}h.push(t.bMarks[N]),v.push(t.bsCount[N]),w.push(t.tShift[N]),x.push(t.sCount[N]),t.sCount[N]=-1}const j=t.blkIndent;t.blkIndent=0;const q=t.push("blockquote_open","blockquote",1);q.markup=">";const O=[e,0];q.map=O,t.md.block.tokenize(t,e,N);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=c,t.parentType=A,O[1]=t.line;for(let P=0;P<w.length;P++)t.bMarks[P+e]=h[P],t.tShift[P+e]=w[P],t.sCount[P+e]=x[P],t.bsCount[P+e]=v[P];return t.blkIndent=j,!0}function Ok(t,e,n,o){const l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let u=t.bMarks[e]+t.tShift[e];const c=t.src.charCodeAt(u++);if(c!==42&&c!==45&&c!==95)return!1;let h=1;for(;u<l;){const x=t.src.charCodeAt(u++);if(x!==c&&!fn(x))return!1;x===c&&h++}if(h<3)return!1;if(o)return!0;t.line=e+1;const v=t.push("hr","hr",0);return v.map=[e,t.line],v.markup=Array(h+1).join(String.fromCharCode(c)),!0}function zg(t,e){const n=t.eMarks[e];let o=t.bMarks[e]+t.tShift[e];const l=t.src.charCodeAt(o++);if(l!==42&&l!==45&&l!==43)return-1;if(o<n){const u=t.src.charCodeAt(o);if(!fn(u))return-1}return o}function Bg(t,e){const n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];let l=n;if(l+1>=o)return-1;let u=t.src.charCodeAt(l++);if(u<48||u>57)return-1;for(;;){if(l>=o)return-1;if(u=t.src.charCodeAt(l++),u>=48&&u<=57){if(l-n>=10)return-1;continue}if(u===41||u===46)break;return-1}return l<o&&(u=t.src.charCodeAt(l),!fn(u))?-1:l}function Fk(t,e){const n=t.level+2;for(let o=e+2,l=t.tokens.length-2;o<l;o++)t.tokens[o].level===n&&t.tokens[o].type==="paragraph_open"&&(t.tokens[o+2].hidden=!0,t.tokens[o].hidden=!0,o+=2)}function Rk(t,e,n,o){let l,u,c,h,v=e,x=!0;if(t.sCount[v]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[v]-t.listIndent>=4&&t.sCount[v]<t.blkIndent)return!1;let w=!1;o&&t.parentType==="paragraph"&&t.sCount[v]>=t.blkIndent&&(w=!0);let k,A,B;if((B=Bg(t,v))>=0){if(k=!0,c=t.bMarks[v]+t.tShift[v],A=Number(t.src.slice(c,B-1)),w&&A!==1)return!1}else if((B=zg(t,v))>=0)k=!1;else return!1;if(w&&t.skipSpaces(B)>=t.eMarks[v])return!1;if(o)return!0;const N=t.src.charCodeAt(B-1),j=t.tokens.length;k?(h=t.push("ordered_list_open","ol",1),A!==1&&(h.attrs=[["start",A]])):h=t.push("bullet_list_open","ul",1);const q=[v,0];h.map=q,h.markup=String.fromCharCode(N);let O=!1;const S=t.md.block.ruler.getRules("list"),P=t.parentType;for(t.parentType="list";v<n;){u=B,l=t.eMarks[v];const W=t.sCount[v]+B-(t.bMarks[v]+t.tShift[v]);let z=W;for(;u<l;){const D=t.src.charCodeAt(u);if(D===9)z+=4-(z+t.bsCount[v])%4;else if(D===32)z++;else break;u++}const G=u;let J;G>=l?J=1:J=z-W,J>4&&(J=1);const ue=W+J;h=t.push("list_item_open","li",1),h.markup=String.fromCharCode(N);const de=[v,0];h.map=de,k&&(h.info=t.src.slice(c,B-1));const ge=t.tight,ce=t.tShift[v],Te=t.sCount[v],ve=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=ue,t.tight=!0,t.tShift[v]=G-t.bMarks[v],t.sCount[v]=z,G>=l&&t.isEmpty(v+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,v,n,!0),(!t.tight||O)&&(x=!1),O=t.line-v>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ve,t.tShift[v]=ce,t.sCount[v]=Te,t.tight=ge,h=t.push("list_item_close","li",-1),h.markup=String.fromCharCode(N),v=t.line,de[1]=v,v>=n||t.sCount[v]<t.blkIndent||t.sCount[v]-t.blkIndent>=4)break;let ne=!1;for(let D=0,se=S.length;D<se;D++)if(S[D](t,v,n,!0)){ne=!0;break}if(ne)break;if(k){if(B=Bg(t,v),B<0)break;c=t.bMarks[v]+t.tShift[v]}else if(B=zg(t,v),B<0)break;if(N!==t.src.charCodeAt(B-1))break}return k?h=t.push("ordered_list_close","ol",-1):h=t.push("bullet_list_close","ul",-1),h.markup=String.fromCharCode(N),q[1]=v,t.line=v,t.parentType=P,x&&Fk(t,j),!0}function Nk(t,e,n,o){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e],c=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(l)!==91)return!1;function h(S){const P=t.lineMax;if(S>=P||t.isEmpty(S))return null;let W=!1;if(t.sCount[S]-t.blkIndent>3&&(W=!0),t.sCount[S]<0&&(W=!0),!W){const J=t.md.block.ruler.getRules("reference"),ue=t.parentType;t.parentType="reference";let de=!1;for(let ge=0,ce=J.length;ge<ce;ge++)if(J[ge](t,S,P,!0)){de=!0;break}if(t.parentType=ue,de)return null}const z=t.bMarks[S]+t.tShift[S],G=t.eMarks[S];return t.src.slice(z,G+1)}let v=t.src.slice(l,u+1);u=v.length;let x=-1;for(l=1;l<u;l++){const S=v.charCodeAt(l);if(S===91)return!1;if(S===93){x=l;break}else if(S===10){const P=h(c);P!==null&&(v+=P,u=v.length,c++)}else if(S===92&&(l++,l<u&&v.charCodeAt(l)===10)){const P=h(c);P!==null&&(v+=P,u=v.length,c++)}}if(x<0||v.charCodeAt(x+1)!==58)return!1;for(l=x+2;l<u;l++){const S=v.charCodeAt(l);if(S===10){const P=h(c);P!==null&&(v+=P,u=v.length,c++)}else if(!fn(S))break}const w=t.md.helpers.parseLinkDestination(v,l,u);if(!w.ok)return!1;const k=t.md.normalizeLink(w.str);if(!t.md.validateLink(k))return!1;l=w.pos;const A=l,B=c,N=l;for(;l<u;l++){const S=v.charCodeAt(l);if(S===10){const P=h(c);P!==null&&(v+=P,u=v.length,c++)}else if(!fn(S))break}let j=t.md.helpers.parseLinkTitle(v,l,u);for(;j.can_continue;){const S=h(c);if(S===null)break;v+=S,l=u,u=v.length,c++,j=t.md.helpers.parseLinkTitle(v,l,u,j)}let q;for(l<u&&N!==l&&j.ok?(q=j.str,l=j.pos):(q="",l=A,c=B);l<u;){const S=v.charCodeAt(l);if(!fn(S))break;l++}if(l<u&&v.charCodeAt(l)!==10&&q)for(q="",l=A,c=B;l<u;){const S=v.charCodeAt(l);if(!fn(S))break;l++}if(l<u&&v.charCodeAt(l)!==10)return!1;const O=sd(v.slice(1,x));return O?(o||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[O]>"u"&&(t.env.references[O]={title:q,href:k}),t.line=c),!0):!1}const Ik=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zk="[a-zA-Z_:][a-zA-Z0-9:._-]*",Bk="[^\"'=<>`\\x00-\\x20]+",Hk="'[^']*'",Wk='"[^"]*"',qk="(?:"+Bk+"|"+Hk+"|"+Wk+")",jk="(?:\\s+"+zk+"(?:\\s*=\\s*"+qk+")?)",j0="<[A-Za-z][A-Za-z0-9\\-]*"+jk+"*\\s*\\/?>",U0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Uk="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Yk="<[?][\\s\\S]*?[?]>",$k="<![A-Za-z][^>]*>",Gk="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Zk=new RegExp("^(?:"+j0+"|"+U0+"|"+Uk+"|"+Yk+"|"+$k+"|"+Gk+")"),Xk=new RegExp("^(?:"+j0+"|"+U0+")"),tc=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Ik.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Xk.source+"\\s*$"),/^$/,!1]];function Vk(t,e,n,o){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(l)!==60)return!1;let c=t.src.slice(l,u),h=0;for(;h<tc.length&&!tc[h][0].test(c);h++);if(h===tc.length)return!1;if(o)return tc[h][2];let v=e+1;if(!tc[h][1].test(c)){for(;v<n&&!(t.sCount[v]<t.blkIndent);v++)if(l=t.bMarks[v]+t.tShift[v],u=t.eMarks[v],c=t.src.slice(l,u),tc[h][1].test(c)){c.length!==0&&v++;break}}t.line=v;const x=t.push("html_block","",0);return x.map=[e,v],x.content=t.getLines(e,v,t.blkIndent,!0),!0}function Kk(t,e,n,o){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let c=t.src.charCodeAt(l);if(c!==35||l>=u)return!1;let h=1;for(c=t.src.charCodeAt(++l);c===35&&l<u&&h<=6;)h++,c=t.src.charCodeAt(++l);if(h>6||l<u&&!fn(c))return!1;if(o)return!0;u=t.skipSpacesBack(u,l);const v=t.skipCharsBack(u,35,l);v>l&&fn(t.src.charCodeAt(v-1))&&(u=v),t.line=e+1;const x=t.push("heading_open","h"+String(h),1);x.markup="########".slice(0,h),x.map=[e,t.line];const w=t.push("inline","",0);w.content=t.src.slice(l,u).trim(),w.map=[e,t.line],w.children=[];const k=t.push("heading_close","h"+String(h),-1);return k.markup="########".slice(0,h),!0}function Qk(t,e,n){const o=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const l=t.parentType;t.parentType="paragraph";let u=0,c,h=e+1;for(;h<n&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3)continue;if(t.sCount[h]>=t.blkIndent){let B=t.bMarks[h]+t.tShift[h];const N=t.eMarks[h];if(B<N&&(c=t.src.charCodeAt(B),(c===45||c===61)&&(B=t.skipChars(B,c),B=t.skipSpaces(B),B>=N))){u=c===61?1:2;break}}if(t.sCount[h]<0)continue;let A=!1;for(let B=0,N=o.length;B<N;B++)if(o[B](t,h,n,!0)){A=!0;break}if(A)break}if(!u)return!1;const v=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h+1;const x=t.push("heading_open","h"+String(u),1);x.markup=String.fromCharCode(c),x.map=[e,t.line];const w=t.push("inline","",0);w.content=v,w.map=[e,t.line-1],w.children=[];const k=t.push("heading_close","h"+String(u),-1);return k.markup=String.fromCharCode(c),t.parentType=l,!0}function Jk(t,e,n){const o=t.md.block.ruler.getRules("paragraph"),l=t.parentType;let u=e+1;for(t.parentType="paragraph";u<n&&!t.isEmpty(u);u++){if(t.sCount[u]-t.blkIndent>3||t.sCount[u]<0)continue;let x=!1;for(let w=0,k=o.length;w<k;w++)if(o[w](t,u,n,!0)){x=!0;break}if(x)break}const c=t.getLines(e,u,t.blkIndent,!1).trim();t.line=u;const h=t.push("paragraph_open","p",1);h.map=[e,t.line];const v=t.push("inline","",0);return v.content=c,v.map=[e,t.line],v.children=[],t.push("paragraph_close","p",-1),t.parentType=l,!0}const Eh=[["table",Dk,["paragraph","reference"]],["code",Lk],["fence",Mk,["paragraph","reference","blockquote","list"]],["blockquote",Pk,["paragraph","reference","blockquote","list"]],["hr",Ok,["paragraph","reference","blockquote","list"]],["list",Rk,["paragraph","reference","blockquote"]],["reference",Nk],["html_block",Vk,["paragraph","reference","blockquote"]],["heading",Kk,["paragraph","reference","blockquote"]],["lheading",Qk],["paragraph",Jk]];function ud(){this.ruler=new Do;for(let t=0;t<Eh.length;t++)this.ruler.push(Eh[t][0],Eh[t][1],{alt:(Eh[t][2]||[]).slice()})}ud.prototype.tokenize=function(t,e,n){const o=this.ruler.getRules(""),l=o.length,u=t.md.options.maxNesting;let c=e,h=!1;for(;c<n&&(t.line=c=t.skipEmptyLines(c),!(c>=n||t.sCount[c]<t.blkIndent));){if(t.level>=u){t.line=n;break}const v=t.line;let x=!1;for(let w=0;w<l;w++)if(x=o[w](t,c,n,!1),x){if(v>=t.line)throw new Error("block rule didn't increment state.line");break}if(!x)throw new Error("none of the block rules matched");t.tight=!h,t.isEmpty(t.line-1)&&(h=!0),c=t.line,c<n&&t.isEmpty(c)&&(h=!0,c++,t.line=c)}};ud.prototype.parse=function(t,e,n,o){if(!t)return;const l=new this.State(t,e,n,o);this.tokenize(l,l.line,l.lineMax)};ud.prototype.State=_s;function Cf(t,e,n,o){this.src=t,this.env=n,this.md=e,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Cf.prototype.pushPending=function(){const t=new qa("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Cf.prototype.push=function(t,e,n){this.pending&&this.pushPending();const o=new qa(t,e,n);let l=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],l={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(l),o};Cf.prototype.scanDelims=function(t,e){const n=this.posMax,o=this.src.charCodeAt(t),l=t>0?this.src.charCodeAt(t-1):32;let u=t;for(;u<n&&this.src.charCodeAt(u)===o;)u++;const c=u-t,h=u<n?this.src.charCodeAt(u):32,v=yf(l)||bf(String.fromCharCode(l)),x=yf(h)||bf(String.fromCharCode(h)),w=vf(l),k=vf(h),A=!k&&(!x||w||v),B=!w&&(!v||k||x);return{can_open:A&&(e||!B||v),can_close:B&&(e||!A||x),length:c}};Cf.prototype.Token=qa;function eE(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function tE(t,e){let n=t.pos;for(;n<t.posMax&&!eE(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const iE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function nE(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,o=t.posMax;if(n+3>o||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const l=t.pending.match(iE);if(!l)return!1;const u=l[1],c=t.md.linkify.matchAtStart(t.src.slice(n-u.length));if(!c)return!1;let h=c.url;if(h.length<=u.length)return!1;h=h.replace(/\*+$/,"");const v=t.md.normalizeLink(h);if(!t.md.validateLink(v))return!1;if(!e){t.pending=t.pending.slice(0,-u.length);const x=t.push("link_open","a",1);x.attrs=[["href",v]],x.markup="linkify",x.info="auto";const w=t.push("text","",0);w.content=t.md.normalizeLinkText(h);const k=t.push("link_close","a",-1);k.markup="linkify",k.info="auto"}return t.pos+=h.length-u.length,!0}function rE(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const o=t.pending.length-1,l=t.posMax;if(!e)if(o>=0&&t.pending.charCodeAt(o)===32)if(o>=1&&t.pending.charCodeAt(o-1)===32){let u=o-1;for(;u>=1&&t.pending.charCodeAt(u-1)===32;)u--;t.pending=t.pending.slice(0,u),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<l&&fn(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const tm=[];for(let t=0;t<256;t++)tm.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){tm[t.charCodeAt(0)]=1});function oE(t,e){let n=t.pos;const o=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=o))return!1;let l=t.src.charCodeAt(n);if(l===10){for(e||t.push("hardbreak","br",0),n++;n<o&&(l=t.src.charCodeAt(n),!!fn(l));)n++;return t.pos=n,!0}let u=t.src[n];if(l>=55296&&l<=56319&&n+1<o){const h=t.src.charCodeAt(n+1);h>=56320&&h<=57343&&(u+=t.src[n+1],n++)}const c="\\"+u;if(!e){const h=t.push("text_special","",0);l<256&&tm[l]!==0?h.content=u:h.content=c,h.markup=c,h.info="escape"}return t.pos=n+1,!0}function aE(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const l=n;n++;const u=t.posMax;for(;n<u&&t.src.charCodeAt(n)===96;)n++;const c=t.src.slice(l,n),h=c.length;if(t.backticksScanned&&(t.backticks[h]||0)<=l)return e||(t.pending+=c),t.pos+=h,!0;let v=n,x;for(;(x=t.src.indexOf("`",v))!==-1;){for(v=x+1;v<u&&t.src.charCodeAt(v)===96;)v++;const w=v-x;if(w===h){if(!e){const k=t.push("code_inline","code",0);k.markup=c,k.content=t.src.slice(n,x).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=v,!0}t.backticks[w]=x}return t.backticksScanned=!0,e||(t.pending+=c),t.pos+=h,!0}function sE(t,e){const n=t.pos,o=t.src.charCodeAt(n);if(e||o!==126)return!1;const l=t.scanDelims(t.pos,!0);let u=l.length;const c=String.fromCharCode(o);if(u<2)return!1;let h;u%2&&(h=t.push("text","",0),h.content=c,u--);for(let v=0;v<u;v+=2)h=t.push("text","",0),h.content=c+c,t.delimiters.push({marker:o,length:0,token:t.tokens.length-1,end:-1,open:l.can_open,close:l.can_close});return t.pos+=l.length,!0}function Hg(t,e){let n;const o=[],l=e.length;for(let u=0;u<l;u++){const c=e[u];if(c.marker!==126||c.end===-1)continue;const h=e[c.end];n=t.tokens[c.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[h.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[h.token-1].type==="text"&&t.tokens[h.token-1].content==="~"&&o.push(h.token-1)}for(;o.length;){const u=o.pop();let c=u+1;for(;c<t.tokens.length&&t.tokens[c].type==="s_close";)c++;c--,u!==c&&(n=t.tokens[c],t.tokens[c]=t.tokens[u],t.tokens[u]=n)}}function uE(t){const e=t.tokens_meta,n=t.tokens_meta.length;Hg(t,t.delimiters);for(let o=0;o<n;o++)e[o]&&e[o].delimiters&&Hg(t,e[o].delimiters)}const Y0={tokenize:sE,postProcess:uE};function lE(t,e){const n=t.pos,o=t.src.charCodeAt(n);if(e||o!==95&&o!==42)return!1;const l=t.scanDelims(t.pos,o===42);for(let u=0;u<l.length;u++){const c=t.push("text","",0);c.content=String.fromCharCode(o),t.delimiters.push({marker:o,length:l.length,token:t.tokens.length-1,end:-1,open:l.can_open,close:l.can_close})}return t.pos+=l.length,!0}function Wg(t,e){const n=e.length;for(let o=n-1;o>=0;o--){const l=e[o];if(l.marker!==95&&l.marker!==42||l.end===-1)continue;const u=e[l.end],c=o>0&&e[o-1].end===l.end+1&&e[o-1].marker===l.marker&&e[o-1].token===l.token-1&&e[l.end+1].token===u.token+1,h=String.fromCharCode(l.marker),v=t.tokens[l.token];v.type=c?"strong_open":"em_open",v.tag=c?"strong":"em",v.nesting=1,v.markup=c?h+h:h,v.content="";const x=t.tokens[u.token];x.type=c?"strong_close":"em_close",x.tag=c?"strong":"em",x.nesting=-1,x.markup=c?h+h:h,x.content="",c&&(t.tokens[e[o-1].token].content="",t.tokens[e[l.end+1].token].content="",o--)}}function cE(t){const e=t.tokens_meta,n=t.tokens_meta.length;Wg(t,t.delimiters);for(let o=0;o<n;o++)e[o]&&e[o].delimiters&&Wg(t,e[o].delimiters)}const $0={tokenize:lE,postProcess:cE};function fE(t,e){let n,o,l,u,c="",h="",v=t.pos,x=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const w=t.pos,k=t.posMax,A=t.pos+1,B=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(B<0)return!1;let N=B+1;if(N<k&&t.src.charCodeAt(N)===40){for(x=!1,N++;N<k&&(n=t.src.charCodeAt(N),!(!fn(n)&&n!==10));N++);if(N>=k)return!1;if(v=N,l=t.md.helpers.parseLinkDestination(t.src,N,t.posMax),l.ok){for(c=t.md.normalizeLink(l.str),t.md.validateLink(c)?N=l.pos:c="",v=N;N<k&&(n=t.src.charCodeAt(N),!(!fn(n)&&n!==10));N++);if(l=t.md.helpers.parseLinkTitle(t.src,N,t.posMax),N<k&&v!==N&&l.ok)for(h=l.str,N=l.pos;N<k&&(n=t.src.charCodeAt(N),!(!fn(n)&&n!==10));N++);}(N>=k||t.src.charCodeAt(N)!==41)&&(x=!0),N++}if(x){if(typeof t.env.references>"u")return!1;if(N<k&&t.src.charCodeAt(N)===91?(v=N+1,N=t.md.helpers.parseLinkLabel(t,N),N>=0?o=t.src.slice(v,N++):N=B+1):N=B+1,o||(o=t.src.slice(A,B)),u=t.env.references[sd(o)],!u)return t.pos=w,!1;c=u.href,h=u.title}if(!e){t.pos=A,t.posMax=B;const j=t.push("link_open","a",1),q=[["href",c]];j.attrs=q,h&&q.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=N,t.posMax=k,!0}function hE(t,e){let n,o,l,u,c,h,v,x,w="";const k=t.pos,A=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const B=t.pos+2,N=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(N<0)return!1;if(u=N+1,u<A&&t.src.charCodeAt(u)===40){for(u++;u<A&&(n=t.src.charCodeAt(u),!(!fn(n)&&n!==10));u++);if(u>=A)return!1;for(x=u,h=t.md.helpers.parseLinkDestination(t.src,u,t.posMax),h.ok&&(w=t.md.normalizeLink(h.str),t.md.validateLink(w)?u=h.pos:w=""),x=u;u<A&&(n=t.src.charCodeAt(u),!(!fn(n)&&n!==10));u++);if(h=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<A&&x!==u&&h.ok)for(v=h.str,u=h.pos;u<A&&(n=t.src.charCodeAt(u),!(!fn(n)&&n!==10));u++);else v="";if(u>=A||t.src.charCodeAt(u)!==41)return t.pos=k,!1;u++}else{if(typeof t.env.references>"u")return!1;if(u<A&&t.src.charCodeAt(u)===91?(x=u+1,u=t.md.helpers.parseLinkLabel(t,u),u>=0?l=t.src.slice(x,u++):u=N+1):u=N+1,l||(l=t.src.slice(B,N)),c=t.env.references[sd(l)],!c)return t.pos=k,!1;w=c.href,v=c.title}if(!e){o=t.src.slice(B,N);const j=[];t.md.inline.parse(o,t.md,t.env,j);const q=t.push("image","img",0),O=[["src",w],["alt",""]];q.attrs=O,q.children=j,q.content=o,v&&O.push(["title",v])}return t.pos=u,t.posMax=A,!0}const dE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,pE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function mE(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const o=t.pos,l=t.posMax;for(;;){if(++n>=l)return!1;const c=t.src.charCodeAt(n);if(c===60)return!1;if(c===62)break}const u=t.src.slice(o+1,n);if(pE.test(u)){const c=t.md.normalizeLink(u);if(!t.md.validateLink(c))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",c]],h.markup="autolink",h.info="auto";const v=t.push("text","",0);v.content=t.md.normalizeLinkText(u);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=u.length+2,!0}if(dE.test(u)){const c=t.md.normalizeLink("mailto:"+u);if(!t.md.validateLink(c))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",c]],h.markup="autolink",h.info="auto";const v=t.push("text","",0);v.content=t.md.normalizeLinkText(u);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=u.length+2,!0}return!1}function gE(t){return/^<a[>\s]/i.test(t)}function vE(t){return/^<\/a\s*>/i.test(t)}function bE(t){const e=t|32;return e>=97&&e<=122}function yE(t,e){if(!t.md.options.html)return!1;const n=t.posMax,o=t.pos;if(t.src.charCodeAt(o)!==60||o+2>=n)return!1;const l=t.src.charCodeAt(o+1);if(l!==33&&l!==63&&l!==47&&!bE(l))return!1;const u=t.src.slice(o).match(Zk);if(!u)return!1;if(!e){const c=t.push("html_inline","",0);c.content=u[0],gE(c.content)&&t.linkLevel++,vE(c.content)&&t.linkLevel--}return t.pos+=u[0].length,!0}const _E=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,wE=/^&([a-z][a-z0-9]{1,31});/i;function xE(t,e){const n=t.pos,o=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=o)return!1;if(t.src.charCodeAt(n+1)===35){const u=t.src.slice(n).match(_E);if(u){if(!e){const c=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),h=t.push("text_special","",0);h.content=Jp(c)?Vh(c):Vh(65533),h.markup=u[0],h.info="entity"}return t.pos+=u[0].length,!0}}else{const u=t.src.slice(n).match(wE);if(u){const c=z0(u[0]);if(c!==u[0]){if(!e){const h=t.push("text_special","",0);h.content=c,h.markup=u[0],h.info="entity"}return t.pos+=u[0].length,!0}}}return!1}function qg(t){const e={},n=t.length;if(!n)return;let o=0,l=-2;const u=[];for(let c=0;c<n;c++){const h=t[c];if(u.push(0),(t[o].marker!==h.marker||l!==h.token-1)&&(o=c),l=h.token,h.length=h.length||0,!h.close)continue;e.hasOwnProperty(h.marker)||(e[h.marker]=[-1,-1,-1,-1,-1,-1]);const v=e[h.marker][(h.open?3:0)+h.length%3];let x=o-u[o]-1,w=x;for(;x>v;x-=u[x]+1){const k=t[x];if(k.marker===h.marker&&k.open&&k.end<0){let A=!1;if((k.close||h.open)&&(k.length+h.length)%3===0&&(k.length%3!==0||h.length%3!==0)&&(A=!0),!A){const B=x>0&&!t[x-1].open?u[x-1]+1:0;u[c]=c-x+B,u[x]=B,h.open=!1,k.end=c,k.close=!1,w=-1,l=-2;break}}}w!==-1&&(e[h.marker][(h.open?3:0)+(h.length||0)%3]=w)}}function kE(t){const e=t.tokens_meta,n=t.tokens_meta.length;qg(t.delimiters);for(let o=0;o<n;o++)e[o]&&e[o].delimiters&&qg(e[o].delimiters)}function EE(t){let e,n,o=0;const l=t.tokens,u=t.tokens.length;for(e=n=0;e<u;e++)l[e].nesting<0&&o--,l[e].level=o,l[e].nesting>0&&o++,l[e].type==="text"&&e+1<u&&l[e+1].type==="text"?l[e+1].content=l[e].content+l[e+1].content:(e!==n&&(l[n]=l[e]),n++);e!==n&&(l.length=n)}const ip=[["text",tE],["linkify",nE],["newline",rE],["escape",oE],["backticks",aE],["strikethrough",Y0.tokenize],["emphasis",$0.tokenize],["link",fE],["image",hE],["autolink",mE],["html_inline",yE],["entity",xE]],np=[["balance_pairs",kE],["strikethrough",Y0.postProcess],["emphasis",$0.postProcess],["fragments_join",EE]];function Sf(){this.ruler=new Do;for(let t=0;t<ip.length;t++)this.ruler.push(ip[t][0],ip[t][1]);this.ruler2=new Do;for(let t=0;t<np.length;t++)this.ruler2.push(np[t][0],np[t][1])}Sf.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),o=n.length,l=t.md.options.maxNesting,u=t.cache;if(typeof u[e]<"u"){t.pos=u[e];return}let c=!1;if(t.level<l){for(let h=0;h<o;h++)if(t.level++,c=n[h](t,!0),t.level--,c){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;c||t.pos++,u[e]=t.pos};Sf.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,o=t.posMax,l=t.md.options.maxNesting;for(;t.pos<o;){const u=t.pos;let c=!1;if(t.level<l){for(let h=0;h<n;h++)if(c=e[h](t,!1),c){if(u>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(c){if(t.pos>=o)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Sf.prototype.parse=function(t,e,n,o){const l=new this.State(t,e,n,o);this.tokenize(l);const u=this.ruler2.getRules(""),c=u.length;for(let h=0;h<c;h++)u[h](l)};Sf.prototype.State=Cf;function CE(t){const e={};t=t||{},e.src_Any=O0.source,e.src_Cc=F0.source,e.src_Z=N0.source,e.src_P=Kp.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function kp(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(o){t[o]=n[o]})}),t}function ld(t){return Object.prototype.toString.call(t)}function SE(t){return ld(t)==="[object String]"}function TE(t){return ld(t)==="[object Object]"}function AE(t){return ld(t)==="[object RegExp]"}function jg(t){return ld(t)==="[object Function]"}function DE(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const G0={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function LE(t){return Object.keys(t||{}).reduce(function(e,n){return e||G0.hasOwnProperty(n)},!1)}const ME={"http:":{validate:function(t,e,n){const o=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const o=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const o=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},PE="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",OE="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function FE(t){t.__index__=-1,t.__text_cache__=""}function RE(t){return function(e,n){const o=e.slice(n);return t.test(o)?o.match(t)[0].length:0}}function Ug(){return function(t,e){e.normalize(t)}}function Kh(t){const e=t.re=CE(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(PE),n.push(e.src_xn),e.src_tlds=n.join("|");function o(h){return h.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(o(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(o(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(o(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(o(e.tpl_host_fuzzy_test),"i");const l=[];t.__compiled__={};function u(h,v){throw new Error('(LinkifyIt) Invalid schema "'+h+'": '+v)}Object.keys(t.__schemas__).forEach(function(h){const v=t.__schemas__[h];if(v===null)return;const x={validate:null,link:null};if(t.__compiled__[h]=x,TE(v)){AE(v.validate)?x.validate=RE(v.validate):jg(v.validate)?x.validate=v.validate:u(h,v),jg(v.normalize)?x.normalize=v.normalize:v.normalize?u(h,v):x.normalize=Ug();return}if(SE(v)){l.push(h);return}u(h,v)}),l.forEach(function(h){t.__compiled__[t.__schemas__[h]]&&(t.__compiled__[h].validate=t.__compiled__[t.__schemas__[h]].validate,t.__compiled__[h].normalize=t.__compiled__[t.__schemas__[h]].normalize)}),t.__compiled__[""]={validate:null,normalize:Ug()};const c=Object.keys(t.__compiled__).filter(function(h){return h.length>0&&t.__compiled__[h]}).map(DE).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+c+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+c+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),FE(t)}function NE(t,e){const n=t.__index__,o=t.__last_index__,l=t.__text_cache__.slice(n,o);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=o+e,this.raw=l,this.text=l,this.url=l}function Ep(t,e){const n=new NE(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Vo(t,e){if(!(this instanceof Vo))return new Vo(t,e);e||LE(t)&&(e=t,t={}),this.__opts__=kp({},G0,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=kp({},ME,t),this.__compiled__={},this.__tlds__=OE,this.__tlds_replaced__=!1,this.re={},Kh(this)}Vo.prototype.add=function(e,n){return this.__schemas__[e]=n,Kh(this),this};Vo.prototype.set=function(e){return this.__opts__=kp(this.__opts__,e),this};Vo.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,o,l,u,c,h,v,x,w;if(this.re.schema_test.test(e)){for(v=this.re.schema_search,v.lastIndex=0;(n=v.exec(e))!==null;)if(u=this.testSchemaAt(e,n[2],v.lastIndex),u){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(x=e.search(this.re.host_fuzzy_test),x>=0&&(this.__index__<0||x<this.__index__)&&(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(c=o.index+o[1].length,(this.__index__<0||c<this.__index__)&&(this.__schema__="",this.__index__=c,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(w=e.indexOf("@"),w>=0&&(l=e.match(this.re.email_fuzzy))!==null&&(c=l.index+l[1].length,h=l.index+l[0].length,(this.__index__<0||c<this.__index__||c===this.__index__&&h>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=c,this.__last_index__=h))),this.__index__>=0};Vo.prototype.pretest=function(e){return this.re.pretest.test(e)};Vo.prototype.testSchemaAt=function(e,n,o){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,o,this):0};Vo.prototype.match=function(e){const n=[];let o=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(Ep(this,o)),o=this.__last_index__);let l=o?e.slice(o):e;for(;this.test(l);)n.push(Ep(this,o)),l=l.slice(this.__last_index__),o+=this.__last_index__;return n.length?n:null};Vo.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const o=this.testSchemaAt(e,n[2],n[0].length);return o?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o,Ep(this,0)):null};Vo.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(o,l,u){return o!==u[l-1]}).reverse(),Kh(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Kh(this),this)};Vo.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Vo.prototype.onCompile=function(){};const lc=2147483647,ds=36,im=1,_f=26,IE=38,zE=700,Z0=72,X0=128,V0="-",BE=/^xn--/,HE=/[^\0-\x7F]/,WE=/[\x2E\u3002\uFF0E\uFF61]/g,qE={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},rp=ds-im,ps=Math.floor,op=String.fromCharCode;function Mu(t){throw new RangeError(qE[t])}function jE(t,e){const n=[];let o=t.length;for(;o--;)n[o]=e(t[o]);return n}function K0(t,e){const n=t.split("@");let o="";n.length>1&&(o=n[0]+"@",t=n[1]),t=t.replace(WE,".");const l=t.split("."),u=jE(l,e).join(".");return o+u}function Q0(t){const e=[];let n=0;const o=t.length;for(;n<o;){const l=t.charCodeAt(n++);if(l>=55296&&l<=56319&&n<o){const u=t.charCodeAt(n++);(u&64512)==56320?e.push(((l&1023)<<10)+(u&1023)+65536):(e.push(l),n--)}else e.push(l)}return e}const UE=t=>String.fromCodePoint(...t),YE=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:ds},Yg=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},J0=function(t,e,n){let o=0;for(t=n?ps(t/zE):t>>1,t+=ps(t/e);t>rp*_f>>1;o+=ds)t=ps(t/rp);return ps(o+(rp+1)*t/(t+IE))},ev=function(t){const e=[],n=t.length;let o=0,l=X0,u=Z0,c=t.lastIndexOf(V0);c<0&&(c=0);for(let h=0;h<c;++h)t.charCodeAt(h)>=128&&Mu("not-basic"),e.push(t.charCodeAt(h));for(let h=c>0?c+1:0;h<n;){const v=o;for(let w=1,k=ds;;k+=ds){h>=n&&Mu("invalid-input");const A=YE(t.charCodeAt(h++));A>=ds&&Mu("invalid-input"),A>ps((lc-o)/w)&&Mu("overflow"),o+=A*w;const B=k<=u?im:k>=u+_f?_f:k-u;if(A<B)break;const N=ds-B;w>ps(lc/N)&&Mu("overflow"),w*=N}const x=e.length+1;u=J0(o-v,x,v==0),ps(o/x)>lc-l&&Mu("overflow"),l+=ps(o/x),o%=x,e.splice(o++,0,l)}return String.fromCodePoint(...e)},tv=function(t){const e=[];t=Q0(t);const n=t.length;let o=X0,l=0,u=Z0;for(const v of t)v<128&&e.push(op(v));const c=e.length;let h=c;for(c&&e.push(V0);h<n;){let v=lc;for(const w of t)w>=o&&w<v&&(v=w);const x=h+1;v-o>ps((lc-l)/x)&&Mu("overflow"),l+=(v-o)*x,o=v;for(const w of t)if(w<o&&++l>lc&&Mu("overflow"),w===o){let k=l;for(let A=ds;;A+=ds){const B=A<=u?im:A>=u+_f?_f:A-u;if(k<B)break;const N=k-B,j=ds-B;e.push(op(Yg(B+N%j,0))),k=ps(N/j)}e.push(op(Yg(k,0))),u=J0(l,x,h===c),l=0,++h}++l,++o}return e.join("")},$E=function(t){return K0(t,function(e){return BE.test(e)?ev(e.slice(4).toLowerCase()):e})},GE=function(t){return K0(t,function(e){return HE.test(e)?"xn--"+tv(e):e})},iv={version:"2.3.1",ucs2:{decode:Q0,encode:UE},decode:ev,encode:tv,toASCII:GE,toUnicode:$E},ZE={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},XE={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},VE={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},KE={default:ZE,zero:XE,commonmark:VE},QE=/^(vbscript|javascript|file|data):/,JE=/^data:image\/(gif|png|jpeg|webp);/;function e2(t){const e=t.trim().toLowerCase();return QE.test(e)?JE.test(e):!0}const nv=["http:","https:","mailto:"];function t2(t){const e=Vp(t,!0);if(e.hostname&&(!e.protocol||nv.indexOf(e.protocol)>=0))try{e.hostname=iv.toASCII(e.hostname)}catch{}return Ef(Xp(e))}function i2(t){const e=Vp(t,!0);if(e.hostname&&(!e.protocol||nv.indexOf(e.protocol)>=0))try{e.hostname=iv.toUnicode(e.hostname)}catch{}return dc(Xp(e),dc.defaultChars+"%")}function wa(t,e){if(!(this instanceof wa))return new wa(t,e);e||Qp(t)||(e=t||{},t="default"),this.inline=new Sf,this.block=new ud,this.core=new em,this.renderer=new bc,this.linkify=new Vo,this.validateLink=e2,this.normalizeLink=t2,this.normalizeLinkText=i2,this.utils=rk,this.helpers=ad({},uk),this.options={},this.configure(t),e&&this.set(e)}wa.prototype.set=function(t){return ad(this.options,t),this};wa.prototype.configure=function(t){const e=this;if(Qp(t)){const n=t;if(t=KE[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};wa.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(l){n=n.concat(this[l].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const o=t.filter(function(l){return n.indexOf(l)<0});if(o.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};wa.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(l){n=n.concat(this[l].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const o=t.filter(function(l){return n.indexOf(l)<0});if(o.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};wa.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};wa.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};wa.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};wa.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};wa.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function n2(t,e,n,o){const l=Number(t[e].meta.id+1).toString();let u="";return typeof o.docId=="string"&&(u=`-${o.docId}-`),u+l}function r2(t,e){let n=Number(t[e].meta.id+1).toString();return t[e].meta.subId>0&&(n+=`:${t[e].meta.subId}`),`[${n}]`}function o2(t,e,n,o,l){const u=l.rules.footnote_anchor_name(t,e,n,o,l),c=l.rules.footnote_caption(t,e,n,o,l);let h=u;return t[e].meta.subId>0&&(h+=`:${t[e].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${u}" id="fnref${h}">${c}</a></sup>`}function a2(t,e,n){return(n.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function s2(){return`</ol>
</section>
`}function u2(t,e,n,o,l){let u=l.rules.footnote_anchor_name(t,e,n,o,l);return t[e].meta.subId>0&&(u+=`:${t[e].meta.subId}`),`<li id="fn${u}" class="footnote-item">`}function l2(){return`</li>
`}function c2(t,e,n,o,l){let u=l.rules.footnote_anchor_name(t,e,n,o,l);return t[e].meta.subId>0&&(u+=`:${t[e].meta.subId}`),` <a href="#fnref${u}" class="footnote-backref"></a>`}function f2(t){const e=t.helpers.parseLinkLabel,n=t.utils.isSpace;t.renderer.rules.footnote_ref=o2,t.renderer.rules.footnote_block_open=a2,t.renderer.rules.footnote_block_close=s2,t.renderer.rules.footnote_open=u2,t.renderer.rules.footnote_close=l2,t.renderer.rules.footnote_anchor=c2,t.renderer.rules.footnote_caption=r2,t.renderer.rules.footnote_anchor_name=n2;function o(h,v,x,w){const k=h.bMarks[v]+h.tShift[v],A=h.eMarks[v];if(k+4>A||h.src.charCodeAt(k)!==91||h.src.charCodeAt(k+1)!==94)return!1;let B;for(B=k+2;B<A;B++){if(h.src.charCodeAt(B)===32)return!1;if(h.src.charCodeAt(B)===93)break}if(B===k+2||B+1>=A||h.src.charCodeAt(++B)!==58)return!1;if(w)return!0;B++,h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.refs||(h.env.footnotes.refs={});const N=h.src.slice(k+2,B-2);h.env.footnotes.refs[`:${N}`]=-1;const j=new h.Token("footnote_reference_open","",1);j.meta={label:N},j.level=h.level++,h.tokens.push(j);const q=h.bMarks[v],O=h.tShift[v],S=h.sCount[v],P=h.parentType,W=B,z=h.sCount[v]+B-(h.bMarks[v]+h.tShift[v]);let G=z;for(;B<A;){const ue=h.src.charCodeAt(B);if(n(ue))ue===9?G+=4-G%4:G++;else break;B++}h.tShift[v]=B-W,h.sCount[v]=G-z,h.bMarks[v]=W,h.blkIndent+=4,h.parentType="footnote",h.sCount[v]<h.blkIndent&&(h.sCount[v]+=h.blkIndent),h.md.block.tokenize(h,v,x,!0),h.parentType=P,h.blkIndent-=4,h.tShift[v]=O,h.sCount[v]=S,h.bMarks[v]=q;const J=new h.Token("footnote_reference_close","",-1);return J.level=--h.level,h.tokens.push(J),!0}function l(h,v){const x=h.posMax,w=h.pos;if(w+2>=x||h.src.charCodeAt(w)!==94||h.src.charCodeAt(w+1)!==91)return!1;const k=w+2,A=e(h,w+1);if(A<0)return!1;if(!v){h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.list||(h.env.footnotes.list=[]);const B=h.env.footnotes.list.length,N=[];h.md.inline.parse(h.src.slice(k,A),h.md,h.env,N);const j=h.push("footnote_ref","",0);j.meta={id:B},h.env.footnotes.list[B]={content:h.src.slice(k,A),tokens:N}}return h.pos=A+1,h.posMax=x,!0}function u(h,v){const x=h.posMax,w=h.pos;if(w+3>x||!h.env.footnotes||!h.env.footnotes.refs||h.src.charCodeAt(w)!==91||h.src.charCodeAt(w+1)!==94)return!1;let k;for(k=w+2;k<x;k++){if(h.src.charCodeAt(k)===32||h.src.charCodeAt(k)===10)return!1;if(h.src.charCodeAt(k)===93)break}if(k===w+2||k>=x)return!1;k++;const A=h.src.slice(w+2,k-1);if(typeof h.env.footnotes.refs[`:${A}`]>"u")return!1;if(!v){h.env.footnotes.list||(h.env.footnotes.list=[]);let B;h.env.footnotes.refs[`:${A}`]<0?(B=h.env.footnotes.list.length,h.env.footnotes.list[B]={label:A,count:0},h.env.footnotes.refs[`:${A}`]=B):B=h.env.footnotes.refs[`:${A}`];const N=h.env.footnotes.list[B].count;h.env.footnotes.list[B].count++;const j=h.push("footnote_ref","",0);j.meta={id:B,subId:N,label:A}}return h.pos=k,h.posMax=x,!0}function c(h){let v,x,w,k=!1;const A={};if(!h.env.footnotes||(h.tokens=h.tokens.filter(function(N){return N.type==="footnote_reference_open"?(k=!0,x=[],w=N.meta.label,!1):N.type==="footnote_reference_close"?(k=!1,A[":"+w]=x,!1):(k&&x.push(N),!k)}),!h.env.footnotes.list))return;const B=h.env.footnotes.list;h.tokens.push(new h.Token("footnote_block_open","",1));for(let N=0,j=B.length;N<j;N++){const q=new h.Token("footnote_open","",1);if(q.meta={id:N,label:B[N].label},h.tokens.push(q),B[N].tokens){v=[];const P=new h.Token("paragraph_open","p",1);P.block=!0,v.push(P);const W=new h.Token("inline","",0);W.children=B[N].tokens,W.content=B[N].content,v.push(W);const z=new h.Token("paragraph_close","p",-1);z.block=!0,v.push(z)}else B[N].label&&(v=A[`:${B[N].label}`]);v&&(h.tokens=h.tokens.concat(v));let O;h.tokens[h.tokens.length-1].type==="paragraph_close"?O=h.tokens.pop():O=null;const S=B[N].count>0?B[N].count:1;for(let P=0;P<S;P++){const W=new h.Token("footnote_anchor","",0);W.meta={id:N,subId:P,label:B[N].label},h.tokens.push(W)}O&&h.tokens.push(O),h.tokens.push(new h.Token("footnote_close","",-1))}h.tokens.push(new h.Token("footnote_block_close","",-1))}t.block.ruler.before("reference","footnote_def",o,{alt:["paragraph","reference"]}),t.inline.ruler.after("image","footnote_inline",l),t.inline.ruler.after("footnote_inline","footnote_ref",u),t.core.ruler.after("inline","footnote_tail",c)}class h2{constructor(e,n){this.markdownit=new wa,this.markdownit.use(f2),this.textarea=e,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&this.textarea.getAttribute("dir")==="rtl"?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled"}),this.editor.addKeyMap({"Ctrl-B":o=>{o.replaceSelections(this.boldSelections())},"Ctrl-I":o=>{o.replaceSelections(this.italicSelections())},"Cmd-B":o=>{o.replaceSelections(this.boldSelections())},"Cmd-I":o=>{o.replaceSelections(this.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=n,this.buttonCode=null,this.buttonPreview=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){if(this.editor.on("change",this.textareaChange),!this.cont||!this.textarea)return;this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),this.editor.getOption("readOnly")===!0&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(h=>{h.setAttribute("data-index",this.index)}),this.$editor.setAttribute("data-index",this.index);const u=document.createElement("div");u.classList.add("markdown-editor-tabs"),this.$editor.before(u),this.tabs=u,this.previewContainer=document.getElementById("codemirror-preview-containers");const c=document.createElement("div");c.classList.add("markdown-editor-preview"),this.$editor.after(c),this.preview=c,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&this.textarea.getAttribute("data-max-length")!==""&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=xh(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")!==""&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")===""&&this.textarea.getAttribute("data-max-length")===""&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&(xh(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,Cg(this.cont,"content-limit")):xh(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,Cg(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(h=>{h.addEventListener("click",this.buttonPreviewClick)}),this.buttons.forEach(h=>{h.addEventListener("click",this.buttonClick)}),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(h=>{h.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()})}async onDropFile(e,n){n.preventDefault(n);for(let o=0;o<n.dataTransfer.files.length;o++){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let l=n.dataTransfer.files[o],u=new FormData;u.append("_token",window.RozierConfig.ajaxToken),u.append("form[attachment]",l);const c=await fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json"},body:u});if(c.ok){const h=await c.json();await window.Rozier.getMessages(),this.onDropFileUploaded(e,h)}else{const h=await c.json();h.errors&&window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.message,status:"danger"}}))}}}onDropFileUploaded(e,n){if(window.dispatchEvent(new CustomEvent("requestLoaderHide")),n.success===!0){let o="!["+n.document.name+"]("+n.document.url+")";e.replaceSelection(o)}}forceEditorUpdate(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}buttonClick(e){if(this.editor.getOption("readOnly")===!0)return!1;let n=e.currentTarget,o=this.editor.getSelections();if(o.length>0){switch(n.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(o));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(o));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(o));break;case"link":this.editor.replaceSelections(this.linkSelections(o));break;case"image":this.editor.replaceSelections(this.imageSelections(o));break;case"bold":this.editor.replaceSelections(this.boldSelections(o));break;case"italic":this.editor.replaceSelections(this.italicSelections(o));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(o));break;case"h2":this.editor.replaceSelections(this.h2Selections(o));break;case"h3":this.editor.replaceSelections(this.h3Selections(o));break;case"h4":this.editor.replaceSelections(this.h4Selections(o));break;case"h5":this.editor.replaceSelections(this.h5Selections(o));break;case"h6":this.editor.replaceSelections(this.h6Selections(o));break;case"back":this.editor.replaceSelections(this.backSelections(o));break;case"hr":this.editor.replaceSelections(this.hrSelections(o));break}this.editor.focus()}}backSelections(e){for(let n in e)e[n]=`   
`;return e}hrSelections(e){for(let n in e)e[n]=`

---

`;return e}nbspSelections(e){for(let n in e)e[n]="";return e}nbHyphenSelections(e){for(let n in e)e[n]="";return e}listUlSelections(e){for(let n in e)e[n]=`

* `+e[n]+`

`;return e}linkSelections(e){for(let n in e)e[n]="["+e[n]+"](http://)";return e}imageSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="!["+e[n]+"](/files/)";return e}boldSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="**"+e[n]+"**";return e}italicSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="*"+e[n]+"*";return e}h2Selections(e){for(let n in e)e[n]=`
## `+e[n]+`
`;return e}h3Selections(e){for(let n in e)e[n]=`
### `+e[n]+`
`;return e}h4Selections(e){for(let n in e)e[n]=`
#### `+e[n]+`
`;return e}h5Selections(e){for(let n in e)e[n]=`
##### `+e[n]+`
`;return e}h6Selections(e){for(let n in e)e[n]=`
###### `+e[n]+`
`;return e}blockquoteSelections(e){for(let n in e)e[n]=`
> `+e[n]+`
`;return e}textareaChange(){this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(()=>{this.preview.innerHTML=this.markdownit.render(this.editor.getValue())})),this.limit&&window.requestAnimationFrame(()=>{let e=this.editor.getValue(),o=xh(e).length;this.countCurrent[0].innerHTML=o,o>this.countMaxLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):o<this.countMinLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):this.countAlertActive&&(this.cont.classList.remove("content-limit"),this.countAlertActive=!1)})}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}buttonPreviewClick(e){e.preventDefault();let n=this.preview.offsetWidth;this.usePreview?this.closePreview():(this.usePreview=!0,this.buttonPreview.forEach(o=>{o.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),Gh.fromTo(this.preview,1,{x:n*-1,opacity:0},{x:0,ease:Zh.easeOut,opacity:1}),window.addEventListener("keyup",this.closePreview),document.body.dispatchEvent(new CustomEvent("markdownPreviewOpen",{detail:this})))}closePreview(e){if(e)if(e.keyCode===27)e.preventDefault();else return;let n=this.preview.offsetWidth;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(o=>{o.classList.remove("uk-active","active")}),Gh.fromTo(this.preview,1,{x:0,opacity:1},{x:n*-1,opacity:0,ease:Zh.easeOut,onComplete:()=>{this.preview.classList.remove("active")}})}destroy(){this.preview.remove()}resize(){}}class d2{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let o={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(o.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,o),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class p2{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let o={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:l=>l.execCommand("indentMore"),"Shift-Tab":l=>l.execCommand("indentLess")}};this.settingRow&&(o.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,o),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}var of={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var m2=of.exports,$g;function g2(){return $g||($g=1,function(t,e){(function(n,o){o(e)})(m2,function(n){var o="1.9.4";function l(a){var m,_,M,U;for(_=1,M=arguments.length;_<M;_++){U=arguments[_];for(m in U)a[m]=U[m]}return a}var u=Object.create||function(){function a(){}return function(m){return a.prototype=m,new a}}();function c(a,m){var _=Array.prototype.slice;if(a.bind)return a.bind.apply(a,_.call(arguments,1));var M=_.call(arguments,2);return function(){return a.apply(m,M.length?M.concat(_.call(arguments)):arguments)}}var h=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++h),a._leaflet_id}function x(a,m,_){var M,U,oe,De;return De=function(){M=!1,U&&(oe.apply(_,U),U=!1)},oe=function(){M?U=arguments:(a.apply(_,arguments),setTimeout(De,m),M=!0)},oe}function w(a,m,_){var M=m[1],U=m[0],oe=M-U;return a===M&&_?a:((a-U)%oe+oe)%oe+U}function k(){return!1}function A(a,m){if(m===!1)return a;var _=Math.pow(10,m===void 0?6:m);return Math.round(a*_)/_}function B(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function N(a){return B(a).split(/\s+/)}function j(a,m){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var _ in m)a.options[_]=m[_];return a.options}function q(a,m,_){var M=[];for(var U in a)M.push(encodeURIComponent(_?U.toUpperCase():U)+"="+encodeURIComponent(a[U]));return(!m||m.indexOf("?")===-1?"?":"&")+M.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function S(a,m){return a.replace(O,function(_,M){var U=m[M];if(U===void 0)throw new Error("No value provided for variable "+_);return typeof U=="function"&&(U=U(m)),U})}var P=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function W(a,m){for(var _=0;_<a.length;_++)if(a[_]===m)return _;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var J=0;function ue(a){var m=+new Date,_=Math.max(0,16-(m-J));return J=m+_,window.setTimeout(a,_)}var de=window.requestAnimationFrame||G("RequestAnimationFrame")||ue,ge=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function ce(a,m,_){if(_&&de===ue)a.call(m);else return de.call(window,c(a,m))}function Te(a){a&&ge.call(window,a)}var ve={__proto__:null,extend:l,create:u,bind:c,get lastId(){return h},stamp:v,throttle:x,wrapNum:w,falseFn:k,formatNum:A,trim:B,splitWords:N,setOptions:j,getParamString:q,template:S,isArray:P,indexOf:W,emptyImageUrl:z,requestFn:de,cancelFn:ge,requestAnimFrame:ce,cancelAnimFrame:Te};function ne(){}ne.extend=function(a){var m=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=m.__super__=this.prototype,M=u(_);M.constructor=m,m.prototype=M;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(m[U]=this[U]);return a.statics&&l(m,a.statics),a.includes&&(D(a.includes),l.apply(null,[M].concat(a.includes))),l(M,a),delete M.statics,delete M.includes,M.options&&(M.options=_.options?u(_.options):{},l(M.options,a.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,De=M._initHooks.length;oe<De;oe++)M._initHooks[oe].call(this)}},m},ne.include=function(a){var m=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=m,this.mergeOptions(a.options)),this},ne.mergeOptions=function(a){return l(this.prototype.options,a),this},ne.addInitHook=function(a){var m=Array.prototype.slice.call(arguments,1),_=typeof a=="function"?a:function(){this[a].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function D(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=P(a)?a:[a];for(var m=0;m<a.length;m++)a[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(a,m,_){if(typeof a=="object")for(var M in a)this._on(M,a[M],m);else{a=N(a);for(var U=0,oe=a.length;U<oe;U++)this._on(a[U],m,_)}return this},off:function(a,m,_){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var M in a)this._off(M,a[M],m);else{a=N(a);for(var U=arguments.length===1,oe=0,De=a.length;oe<De;oe++)U?this._off(a[oe]):this._off(a[oe],m,_)}return this},_on:function(a,m,_,M){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(a,m,_)===!1){_===this&&(_=void 0);var U={fn:m,ctx:_};M&&(U.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(U)}},_off:function(a,m,_){var M,U,oe;if(this._events&&(M=this._events[a],!!M)){if(arguments.length===1){if(this._firingCount)for(U=0,oe=M.length;U<oe;U++)M[U].fn=k;delete this._events[a];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var De=this._listens(a,m,_);if(De!==!1){var qe=M[De];this._firingCount&&(qe.fn=k,this._events[a]=M=M.slice()),M.splice(De,1)}}},fire:function(a,m,_){if(!this.listens(a,_))return this;var M=l({},m,{type:a,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var U=this._events[a];if(U){this._firingCount=this._firingCount+1||1;for(var oe=0,De=U.length;oe<De;oe++){var qe=U[oe],$e=qe.fn;qe.once&&this.off(a,$e,qe.ctx),$e.call(qe.ctx||this,M)}this._firingCount--}}return _&&this._propagateEvent(M),this},listens:function(a,m,_,M){typeof a!="string"&&console.warn('"string" type argument expected');var U=m;typeof m!="function"&&(M=!!m,U=void 0,_=void 0);var oe=this._events&&this._events[a];if(oe&&oe.length&&this._listens(a,U,_)!==!1)return!0;if(M){for(var De in this._eventParents)if(this._eventParents[De].listens(a,m,_,M))return!0}return!1},_listens:function(a,m,_){if(!this._events)return!1;var M=this._events[a]||[];if(!m)return!!M.length;_===this&&(_=void 0);for(var U=0,oe=M.length;U<oe;U++)if(M[U].fn===m&&M[U].ctx===_)return U;return!1},once:function(a,m,_){if(typeof a=="object")for(var M in a)this._on(M,a[M],m,!0);else{a=N(a);for(var U=0,oe=a.length;U<oe;U++)this._on(a[U],m,_,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var m in this._eventParents)this._eventParents[m].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ye=ne.extend(se);function Ce(a,m,_){this.x=_?Math.round(a):a,this.y=_?Math.round(m):m}var et=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};Ce.prototype={clone:function(){return new Ce(this.x,this.y)},add:function(a){return this.clone()._add(ze(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ze(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Ce(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Ce(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(a){a=ze(a);var m=a.x-this.x,_=a.y-this.y;return Math.sqrt(m*m+_*_)},equals:function(a){return a=ze(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ze(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function ze(a,m,_){return a instanceof Ce?a:P(a)?new Ce(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new Ce(a.x,a.y):new Ce(a,m,_)}function Me(a,m){if(a)for(var _=m?[a,m]:a,M=0,U=_.length;M<U;M++)this.extend(_[M])}Me.prototype={extend:function(a){var m,_;if(!a)return this;if(a instanceof Ce||typeof a[0]=="number"||"x"in a)m=_=ze(a);else if(a=ie(a),m=a.min,_=a.max,!m||!_)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=_.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(a){return ze((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ze(this.min.x,this.max.y)},getTopRight:function(){return ze(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var m,_;return typeof a[0]=="number"||a instanceof Ce?a=ze(a):a=ie(a),a instanceof Me?(m=a.min,_=a.max):m=_=a,m.x>=this.min.x&&_.x<=this.max.x&&m.y>=this.min.y&&_.y<=this.max.y},intersects:function(a){a=ie(a);var m=this.min,_=this.max,M=a.min,U=a.max,oe=U.x>=m.x&&M.x<=_.x,De=U.y>=m.y&&M.y<=_.y;return oe&&De},overlaps:function(a){a=ie(a);var m=this.min,_=this.max,M=a.min,U=a.max,oe=U.x>m.x&&M.x<_.x,De=U.y>m.y&&M.y<_.y;return oe&&De},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var m=this.min,_=this.max,M=Math.abs(m.x-_.x)*a,U=Math.abs(m.y-_.y)*a;return ie(ze(m.x-M,m.y-U),ze(_.x+M,_.y+U))},equals:function(a){return a?(a=ie(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ie(a,m){return!a||a instanceof Me?a:new Me(a,m)}function Y(a,m){if(a)for(var _=m?[a,m]:a,M=0,U=_.length;M<U;M++)this.extend(_[M])}Y.prototype={extend:function(a){var m=this._southWest,_=this._northEast,M,U;if(a instanceof Re)M=a,U=a;else if(a instanceof Y){if(M=a._southWest,U=a._northEast,!M||!U)return this}else return a?this.extend(V(a)||Le(a)):this;return!m&&!_?(this._southWest=new Re(M.lat,M.lng),this._northEast=new Re(U.lat,U.lng)):(m.lat=Math.min(M.lat,m.lat),m.lng=Math.min(M.lng,m.lng),_.lat=Math.max(U.lat,_.lat),_.lng=Math.max(U.lng,_.lng)),this},pad:function(a){var m=this._southWest,_=this._northEast,M=Math.abs(m.lat-_.lat)*a,U=Math.abs(m.lng-_.lng)*a;return new Y(new Re(m.lat-M,m.lng-U),new Re(_.lat+M,_.lng+U))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Re||"lat"in a?a=V(a):a=Le(a);var m=this._southWest,_=this._northEast,M,U;return a instanceof Y?(M=a.getSouthWest(),U=a.getNorthEast()):M=U=a,M.lat>=m.lat&&U.lat<=_.lat&&M.lng>=m.lng&&U.lng<=_.lng},intersects:function(a){a=Le(a);var m=this._southWest,_=this._northEast,M=a.getSouthWest(),U=a.getNorthEast(),oe=U.lat>=m.lat&&M.lat<=_.lat,De=U.lng>=m.lng&&M.lng<=_.lng;return oe&&De},overlaps:function(a){a=Le(a);var m=this._southWest,_=this._northEast,M=a.getSouthWest(),U=a.getNorthEast(),oe=U.lat>m.lat&&M.lat<_.lat,De=U.lng>m.lng&&M.lng<_.lng;return oe&&De},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,m){return a?(a=Le(a),this._southWest.equals(a.getSouthWest(),m)&&this._northEast.equals(a.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Le(a,m){return a instanceof Y?a:new Y(a,m)}function Re(a,m,_){if(isNaN(a)||isNaN(m))throw new Error("Invalid LatLng object: ("+a+", "+m+")");this.lat=+a,this.lng=+m,_!==void 0&&(this.alt=+_)}Re.prototype={equals:function(a,m){if(!a)return!1;a=V(a);var _=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return _<=(m===void 0?1e-9:m)},toString:function(a){return"LatLng("+A(this.lat,a)+", "+A(this.lng,a)+")"},distanceTo:function(a){return Ae.distance(this,V(a))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(a){var m=180*a/40075017,_=m/Math.cos(Math.PI/180*this.lat);return Le([this.lat-m,this.lng-_],[this.lat+m,this.lng+_])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function V(a,m,_){return a instanceof Re?a:P(a)&&typeof a[0]!="object"?a.length===3?new Re(a[0],a[1],a[2]):a.length===2?new Re(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Re(a.lat,"lng"in a?a.lng:a.lon,a.alt):m===void 0?null:new Re(a,m,_)}var we={latLngToPoint:function(a,m){var _=this.projection.project(a),M=this.scale(m);return this.transformation._transform(_,M)},pointToLatLng:function(a,m){var _=this.scale(m),M=this.transformation.untransform(a,_);return this.projection.unproject(M)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var m=this.projection.bounds,_=this.scale(a),M=this.transformation.transform(m.min,_),U=this.transformation.transform(m.max,_);return new Me(M,U)},infinite:!1,wrapLatLng:function(a){var m=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,_=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,M=a.alt;return new Re(_,m,M)},wrapLatLngBounds:function(a){var m=a.getCenter(),_=this.wrapLatLng(m),M=m.lat-_.lat,U=m.lng-_.lng;if(M===0&&U===0)return a;var oe=a.getSouthWest(),De=a.getNorthEast(),qe=new Re(oe.lat-M,oe.lng-U),$e=new Re(De.lat-M,De.lng-U);return new Y(qe,$e)}},Ae=l({},we,{wrapLng:[-180,180],R:6371e3,distance:function(a,m){var _=Math.PI/180,M=a.lat*_,U=m.lat*_,oe=Math.sin((m.lat-a.lat)*_/2),De=Math.sin((m.lng-a.lng)*_/2),qe=oe*oe+Math.cos(M)*Math.cos(U)*De*De,$e=2*Math.atan2(Math.sqrt(qe),Math.sqrt(1-qe));return this.R*$e}}),je=6378137,Ze={R:je,MAX_LATITUDE:85.0511287798,project:function(a){var m=Math.PI/180,_=this.MAX_LATITUDE,M=Math.max(Math.min(_,a.lat),-_),U=Math.sin(M*m);return new Ce(this.R*a.lng*m,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(a){var m=180/Math.PI;return new Re((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*m,a.x*m/this.R)},bounds:function(){var a=je*Math.PI;return new Me([-a,-a],[a,a])}()};function Xe(a,m,_,M){if(P(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=m,this._c=_,this._d=M}Xe.prototype={transform:function(a,m){return this._transform(a.clone(),m)},_transform:function(a,m){return m=m||1,a.x=m*(this._a*a.x+this._b),a.y=m*(this._c*a.y+this._d),a},untransform:function(a,m){return m=m||1,new Ce((a.x/m-this._b)/this._a,(a.y/m-this._d)/this._c)}};function ut(a,m,_,M){return new Xe(a,m,_,M)}var Ct=l({},Ae,{code:"EPSG:3857",projection:Ze,transformation:function(){var a=.5/(Math.PI*Ze.R);return ut(a,.5,-a,.5)}()}),wt=l({},Ct,{code:"EPSG:900913"});function St(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function yt(a,m){var _="",M,U,oe,De,qe,$e;for(M=0,oe=a.length;M<oe;M++){for(qe=a[M],U=0,De=qe.length;U<De;U++)$e=qe[U],_+=(U?"L":"M")+$e.x+" "+$e.y;_+=m?Ot.svg?"z":"x":""}return _||"M0 0"}var Mt=document.documentElement.style,Ut="ActiveXObject"in window,Kt=Ut&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),le=Tn("webkit"),Q=Tn("android"),he=Tn("android 2")||Tn("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Be=Q&&Tn("Google")&&pe<537&&!("AudioNode"in window),ot=!!window.opera,Qe=!X&&Tn("chrome"),mt=Tn("gecko")&&!le&&!ot&&!Ut,Pt=!Qe&&Tn("safari"),ct=Tn("phantom"),Wt="OTransition"in Mt,$t=navigator.platform.indexOf("Win")===0,Qt=Ut&&"transition"in Mt,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!he,xt="MozPerspective"in Mt,Gn=!window.L_DISABLE_3D&&(Qt||Vt||xt)&&!Wt&&!ct,Yt=typeof orientation<"u"||Tn("mobile"),vr=Yt&&le,Rt=Yt&&Vt,un=!window.PointerEvent&&window.MSPointerEvent,_i=!!(window.PointerEvent||un),Ri="ontouchstart"in window||!!window.TouchEvent,pi=!window.L_NO_TOUCH&&(Ri||_i),wi=Yt&&ot,ui=Yt&&mt,si=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bi=function(){var a=!1;try{var m=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",k,m),window.removeEventListener("testPassiveEventSupport",k,m)}catch{}return a}(),io=function(){return!!document.createElement("canvas").getContext}(),Hi=!!(document.createElementNS&&St("svg").createSVGRect),Ir=!!Hi&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wi=!Hi&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var m=a.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),Qi=navigator.platform.indexOf("Mac")===0,br=navigator.platform.indexOf("Linux")===0;function Tn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:Ut,ielt9:Kt,edge:X,webkit:le,android:Q,android23:he,androidStock:Be,opera:ot,chrome:Qe,gecko:mt,safari:Pt,phantom:ct,opera12:Wt,win:$t,ie3d:Qt,webkit3d:Vt,gecko3d:xt,any3d:Gn,mobile:Yt,mobileWebkit:vr,mobileWebkit3d:Rt,msPointer:un,pointer:_i,touch:pi,touchNative:Ri,mobileOpera:wi,mobileGecko:ui,retina:si,passiveEvents:Bi,canvas:io,svg:Hi,vml:Wi,inlineSvg:Ir,mac:Qi,linux:br},yr=Ot.msPointer?"MSPointerDown":"pointerdown",Zn=Ot.msPointer?"MSPointerMove":"pointermove",Xn=Ot.msPointer?"MSPointerUp":"pointerup",or=Ot.msPointer?"MSPointerCancel":"pointercancel",$r={touchstart:yr,touchmove:Zn,touchend:Xn,touchcancel:or},Zi={touchstart:_n,touchmove:zr,touchend:zr,touchcancel:zr},Ji={},ar=!1;function sr(a,m,_){return m==="touchstart"&&Dn(),Zi[m]?(_=Zi[m].bind(this,_),a.addEventListener($r[m],_,!1),_):(console.warn("wrong event specified:",m),k)}function An(a,m,_){if(!$r[m]){console.warn("wrong event specified:",m);return}a.removeEventListener($r[m],_,!1)}function no(a){Ji[a.pointerId]=a}function ro(a){Ji[a.pointerId]&&(Ji[a.pointerId]=a)}function Er(a){delete Ji[a.pointerId]}function Dn(){ar||(document.addEventListener(yr,no,!0),document.addEventListener(Zn,ro,!0),document.addEventListener(Xn,Er,!0),document.addEventListener(or,Er,!0),ar=!0)}function zr(a,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var _ in Ji)m.touches.push(Ji[_]);m.changedTouches=[m],a(m)}}function _n(a,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Zt(m),zr(a,m)}function mo(a){var m={},_,M;for(M in a)_=a[M],m[M]=_&&_.bind?_.bind(a):_;return a=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Vn=200;function Ui(a,m){a.addEventListener("dblclick",m);var _=0,M;function U(oe){if(oe.detail!==1){M=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var De=wn(oe);if(!(De.some(function($e){return $e instanceof HTMLLabelElement&&$e.attributes.for})&&!De.some(function($e){return $e instanceof HTMLInputElement||$e instanceof HTMLSelectElement}))){var qe=Date.now();qe-_<=Vn?(M++,M===2&&m(mo(oe))):M=1,_=qe}}}return a.addEventListener("click",U),{dblclick:m,simDblclick:U}}function Lt(a,m){a.removeEventListener("dblclick",m.dblclick),a.removeEventListener("click",m.simDblclick)}var Kn=T(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ur=T(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bn=ur==="webkitTransition"||ur==="OTransition"?ur+"End":"transitionend";function ee(a){return typeof a=="string"?document.getElementById(a):a}function xe(a,m){var _=a.style[m]||a.currentStyle&&a.currentStyle[m];if((!_||_==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(a,null);_=M?M[m]:null}return _==="auto"?null:_}function We(a,m,_){var M=document.createElement(a);return M.className=m||"",_&&_.appendChild(M),M}function nt(a){var m=a.parentNode;m&&m.removeChild(a)}function Ue(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function pt(a){var m=a.parentNode;m&&m.lastChild!==a&&m.appendChild(a)}function ni(a){var m=a.parentNode;m&&m.firstChild!==a&&m.insertBefore(a,m.firstChild)}function Yi(a,m){if(a.classList!==void 0)return a.classList.contains(m);var _=qt(a);return _.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(_)}function Nt(a,m){if(a.classList!==void 0)for(var _=N(m),M=0,U=_.length;M<U;M++)a.classList.add(_[M]);else if(!Yi(a,m)){var oe=qt(a);go(a,(oe?oe+" ":"")+m)}}function li(a,m){a.classList!==void 0?a.classList.remove(m):go(a,B((" "+qt(a)+" ").replace(" "+m+" "," ")))}function go(a,m){a.className.baseVal===void 0?a.className=m:a.className.baseVal=m}function qt(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ke(a,m){"opacity"in a.style?a.style.opacity=m:"filter"in a.style&&y(a,m)}function y(a,m){var _=!1,M="DXImageTransform.Microsoft.Alpha";try{_=a.filters.item(M)}catch{if(m===1)return}m=Math.round(m*100),_?(_.Enabled=m!==100,_.Opacity=m):a.style.filter+=" progid:"+M+"(opacity="+m+")"}function T(a){for(var m=document.documentElement.style,_=0;_<a.length;_++)if(a[_]in m)return a[_];return!1}function R(a,m,_){var M=m||new Ce(0,0);a.style[Kn]=(Ot.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(_?" scale("+_+")":"")}function re(a,m){a._leaflet_pos=m,Ot.any3d?R(a,m):(a.style.left=m.x+"px",a.style.top=m.y+"px")}function ae(a){return a._leaflet_pos||new Ce(0,0)}var _e,Oe,Je;if("onselectstart"in document)_e=function(){Ft(window,"selectstart",Zt)},Oe=function(){ri(window,"selectstart",Zt)};else{var tt=T(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_e=function(){if(tt){var a=document.documentElement.style;Je=a[tt],a[tt]="none"}},Oe=function(){tt&&(document.documentElement.style[tt]=Je,Je=void 0)}}function Ve(){Ft(window,"dragstart",Zt)}function Ke(){ri(window,"dragstart",Zt)}var ft,fi;function hi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(qi(),ft=a,fi=a.style.outlineStyle,a.style.outlineStyle="none",Ft(window,"keydown",qi))}function qi(){ft&&(ft.style.outlineStyle=fi,ft=void 0,fi=void 0,ri(window,"keydown",qi))}function Ci(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Pi(a){var m=a.getBoundingClientRect();return{x:m.width/a.offsetWidth||1,y:m.height/a.offsetHeight||1,boundingClientRect:m}}var hn={__proto__:null,TRANSFORM:Kn,TRANSITION:ur,TRANSITION_END:Bn,get:ee,getStyle:xe,create:We,remove:nt,empty:Ue,toFront:pt,toBack:ni,hasClass:Yi,addClass:Nt,removeClass:li,setClass:go,getClass:qt,setOpacity:ke,testProp:T,setTransform:R,setPosition:re,getPosition:ae,get disableTextSelection(){return _e},get enableTextSelection(){return Oe},disableImageDrag:Ve,enableImageDrag:Ke,preventOutline:hi,restoreOutline:qi,getSizedParentNode:Ci,getScale:Pi};function Ft(a,m,_,M){if(m&&typeof m=="object")for(var U in m)an(a,U,m[U],_);else{m=N(m);for(var oe=0,De=m.length;oe<De;oe++)an(a,m[oe],_,M)}return this}var on="_leaflet_events";function ri(a,m,_,M){if(arguments.length===1)gt(a),delete a[on];else if(m&&typeof m=="object")for(var U in m)lr(a,U,m[U],_);else if(m=N(m),arguments.length===2)gt(a,function(qe){return W(m,qe)!==-1});else for(var oe=0,De=m.length;oe<De;oe++)lr(a,m[oe],_,M);return this}function gt(a,m){for(var _ in a[on]){var M=_.split(/\d/)[0];(!m||m(M))&&lr(a,M,null,null,_)}}var xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function an(a,m,_,M){var U=m+v(_)+(M?"_"+v(M):"");if(a[on]&&a[on][U])return this;var oe=function(qe){return _.call(M||a,qe||window.event)},De=oe;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?oe=sr(a,m,oe):Ot.touch&&m==="dblclick"?oe=Ui(a,oe):"addEventListener"in a?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?a.addEventListener(xi[m]||m,oe,Ot.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(oe=function(qe){qe=qe||window.event,Qo(a,qe)&&De(qe)},a.addEventListener(xi[m],oe,!1)):a.addEventListener(m,De,!1):a.attachEvent("on"+m,oe),a[on]=a[on]||{},a[on][U]=oe}function lr(a,m,_,M,U){U=U||m+v(_)+(M?"_"+v(M):"");var oe=a[on]&&a[on][U];if(!oe)return this;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?An(a,m,oe):Ot.touch&&m==="dblclick"?Lt(a,oe):"removeEventListener"in a?a.removeEventListener(xi[m]||m,oe,!1):a.detachEvent("on"+m,oe),a[on][U]=null}function Ln(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Gr(a){return an(a,"wheel",Ln),this}function Br(a){return Ft(a,"mousedown touchstart dblclick contextmenu",Ln),a._leaflet_disable_click=!0,this}function Zt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function oi(a){return Zt(a),Ln(a),this}function wn(a){if(a.composedPath)return a.composedPath();for(var m=[],_=a.target;_;)m.push(_),_=_.parentNode;return m}function Hr(a,m){if(!m)return new Ce(a.clientX,a.clientY);var _=Pi(m),M=_.boundingClientRect;return new Ce((a.clientX-M.left)/_.x-m.clientLeft,(a.clientY-M.top)/_.y-m.clientTop)}var Ko=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ka(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ko:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Qo(a,m){var _=m.relatedTarget;if(!_)return!0;try{for(;_&&_!==a;)_=_.parentNode}catch{return!1}return _!==a}var Ea={__proto__:null,on:Ft,off:ri,stopPropagation:Ln,disableScrollPropagation:Gr,disableClickPropagation:Br,preventDefault:Zt,stop:oi,getPropagationPath:wn,getMousePosition:Hr,getWheelDelta:ka,isExternalTarget:Qo,addListener:Ft,removeListener:ri},ja=ye.extend({run:function(a,m,_,M){this.stop(),this._el=a,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=ae(a),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ce(this._animate,this),this._step()},_step:function(a){var m=+new Date-this._startTime,_=this._duration*1e3;m<_?this._runFrame(this._easeOut(m/_),a):(this._runFrame(1),this._complete())},_runFrame:function(a,m){var _=this._startPos.add(this._offset.multiplyBy(a));m&&_._round(),re(this._el,_),this.fire("step")},_complete:function(){Te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),gi=ye.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,m){m=j(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(V(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ur&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,Bn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,m,_){if(m=m===void 0?this._zoom:this._limitZoom(m),a=this._limitCenter(V(a),m,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=l({animate:_.animate},_.zoom),_.pan=l({animate:_.animate,duration:_.duration},_.pan));var M=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,m,_.zoom):this._tryAnimatedPan(a,_.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(a,m,_.pan&&_.pan.noMoveStart),this},setZoom:function(a,m){return this._loaded?this.setView(this.getCenter(),a,{zoom:m}):(this._zoom=a,this)},zoomIn:function(a,m){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,m)},zoomOut:function(a,m){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,m)},setZoomAround:function(a,m,_){var M=this.getZoomScale(m),U=this.getSize().divideBy(2),oe=a instanceof Ce?a:this.latLngToContainerPoint(a),De=oe.subtract(U).multiplyBy(1-1/M),qe=this.containerPointToLatLng(U.add(De));return this.setView(qe,m,{zoom:_})},_getBoundsCenterZoom:function(a,m){m=m||{},a=a.getBounds?a.getBounds():Le(a);var _=ze(m.paddingTopLeft||m.padding||[0,0]),M=ze(m.paddingBottomRight||m.padding||[0,0]),U=this.getBoundsZoom(a,!1,_.add(M));if(U=typeof m.maxZoom=="number"?Math.min(m.maxZoom,U):U,U===1/0)return{center:a.getCenter(),zoom:U};var oe=M.subtract(_).divideBy(2),De=this.project(a.getSouthWest(),U),qe=this.project(a.getNorthEast(),U),$e=this.unproject(De.add(qe).divideBy(2).add(oe),U);return{center:$e,zoom:U}},fitBounds:function(a,m){if(a=Le(a),!a.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(a,m);return this.setView(_.center,_.zoom,m)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,m){return this.setView(a,this._zoom,{pan:m})},panBy:function(a,m){if(a=ze(a).round(),m=m||{},!a.x&&!a.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ja,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,_,m.duration||.25,m.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,m,_){if(_=_||{},_.animate===!1||!Ot.any3d)return this.setView(a,m,_);this._stop();var M=this.project(this.getCenter()),U=this.project(a),oe=this.getSize(),De=this._zoom;a=V(a),m=m===void 0?De:m;var qe=Math.max(oe.x,oe.y),$e=qe*this.getZoomScale(De,m),lt=U.distanceTo(M)||1,Et=1.42,zt=Et*Et;function ai(rn){var Ps=rn?-1:1,fe=rn?$e:qe,Ka=$e*$e-qe*qe+Ps*zt*zt*lt*lt,Qn=2*fe*zt*lt,Di=Ka/Qn,Gt=Math.sqrt(Di*Di+1)-Di,Mn=Gt<1e-9?-18:Math.log(Gt);return Mn}function Xi(rn){return(Math.exp(rn)-Math.exp(-rn))/2}function Vi(rn){return(Math.exp(rn)+Math.exp(-rn))/2}function mn(rn){return Xi(rn)/Vi(rn)}var Wn=ai(0);function Kr(rn){return qe*(Vi(Wn)/Vi(Wn+Et*rn))}function Pl(rn){return qe*(Vi(Wn)*mn(Wn+Et*rn)-Xi(Wn))/zt}function wc(rn){return 1-Math.pow(1-rn,1.5)}var La=Date.now(),ca=(ai(1)-Wn)/Et,xc=_.duration?1e3*_.duration:1e3*ca*.8;function Ms(){var rn=(Date.now()-La)/xc,Ps=wc(rn)*ca;rn<=1?(this._flyToFrame=ce(Ms,this),this._move(this.unproject(M.add(U.subtract(M).multiplyBy(Pl(Ps)/lt)),De),this.getScaleZoom(qe/Kr(Ps),De),{flyTo:!0})):this._move(a,m)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),Ms.call(this),this},flyToBounds:function(a,m){var _=this._getBoundsCenterZoom(a,m);return this.flyTo(_.center,_.zoom,m)},setMaxBounds:function(a){return a=Le(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var m=this.options.minZoom;return this.options.minZoom=a,this._loaded&&m!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var m=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&m!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,m){this._enforcingBounds=!0;var _=this.getCenter(),M=this._limitCenter(_,this._zoom,Le(a));return _.equals(M)||this.panTo(M,m),this._enforcingBounds=!1,this},panInside:function(a,m){m=m||{};var _=ze(m.paddingTopLeft||m.padding||[0,0]),M=ze(m.paddingBottomRight||m.padding||[0,0]),U=this.project(this.getCenter()),oe=this.project(a),De=this.getPixelBounds(),qe=ie([De.min.add(_),De.max.subtract(M)]),$e=qe.getSize();if(!qe.contains(oe)){this._enforcingBounds=!0;var lt=oe.subtract(qe.getCenter()),Et=qe.extend(oe).getSize().subtract($e);U.x+=lt.x<0?-Et.x:Et.x,U.y+=lt.y<0?-Et.y:Et.y,this.panTo(this.unproject(U),m),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),M=m.divideBy(2).round(),U=_.divideBy(2).round(),oe=M.subtract(U);return!oe.x&&!oe.y?this:(a.animate&&a.pan?this.panBy(oe):(a.pan&&this._rawPanBy(oe),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=c(this._handleGeolocationResponse,this),_=c(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,_,a):navigator.geolocation.getCurrentPosition(m,_,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var m=a.code,_=a.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var m=a.coords.latitude,_=a.coords.longitude,M=new Re(m,_),U=M.toBounds(a.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var De=this.getBoundsZoom(U);this.setView(M,oe.maxZoom?Math.min(De,oe.maxZoom):De)}var qe={latlng:M,bounds:U,timestamp:a.timestamp};for(var $e in a.coords)typeof a.coords[$e]=="number"&&(qe[$e]=a.coords[$e]);this.fire("locationfound",qe)}},addHandler:function(a,m){if(!m)return this;var _=this[a]=new m(this);return this._handlers.push(_),this.options[a]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)nt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,m){var _="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),M=We("div",_,m||this._mapPane);return a&&(this._panes[a]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),m=this.unproject(a.getBottomLeft()),_=this.unproject(a.getTopRight());return new Y(m,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,m,_){a=Le(a),_=ze(_||[0,0]);var M=this.getZoom()||0,U=this.getMinZoom(),oe=this.getMaxZoom(),De=a.getNorthWest(),qe=a.getSouthEast(),$e=this.getSize().subtract(_),lt=ie(this.project(qe,M),this.project(De,M)).getSize(),Et=Ot.any3d?this.options.zoomSnap:1,zt=$e.x/lt.x,ai=$e.y/lt.y,Xi=m?Math.max(zt,ai):Math.min(zt,ai);return M=this.getScaleZoom(Xi,M),Et&&(M=Math.round(M/(Et/100))*(Et/100),M=m?Math.ceil(M/Et)*Et:Math.floor(M/Et)*Et),Math.max(U,Math.min(oe,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,m){var _=this._getTopLeftPoint(a,m);return new Me(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,m){var _=this.options.crs;return m=m===void 0?this._zoom:m,_.scale(a)/_.scale(m)},getScaleZoom:function(a,m){var _=this.options.crs;m=m===void 0?this._zoom:m;var M=_.zoom(a*_.scale(m));return isNaN(M)?1/0:M},project:function(a,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(V(a),m)},unproject:function(a,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(ze(a),m)},layerPointToLatLng:function(a){var m=ze(a).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(a){var m=this.project(V(a))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(V(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Le(a))},distance:function(a,m){return this.options.crs.distance(V(a),V(m))},containerPointToLayerPoint:function(a){return ze(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ze(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var m=this.containerPointToLayerPoint(ze(a));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(a)))},mouseEventToContainerPoint:function(a){return Hr(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var m=this._container=ee(a);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(m,"scroll",this._onScroll,this),this._containerId=v(m)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Nt(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=xe(a,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),re(this._mapPane,new Ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(a.markerPane,"leaflet-zoom-hide"),Nt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,m,_){re(this._mapPane,new Ce(0,0));var M=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var U=this._zoom!==m;this._moveStart(U,_)._move(a,m)._moveEnd(U),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(a,m){return a&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(a,m,_,M){m===void 0&&(m=this._zoom);var U=this._zoom!==m;return this._zoom=m,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),M?_&&_.pinch&&this.fire("zoom",_):((U||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){re(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var m=a?ri:Ft;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Te(this._resizeRequest),this._resizeRequest=ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,m){for(var _=[],M,U=m==="mouseout"||m==="mouseover",oe=a.target||a.srcElement,De=!1;oe;){if(M=this._targets[v(oe)],M&&(m==="click"||m==="preclick")&&this._draggableMoved(M)){De=!0;break}if(M&&M.listens(m,!0)&&(U&&!Qo(oe,a)||(_.push(M),U))||oe===this._container)break;oe=oe.parentNode}return!_.length&&!De&&!U&&this.listens(m,!0)&&(_=[this]),_},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var m=a.target||a.srcElement;if(!(!this._loaded||m._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(m))){var _=a.type;_==="mousedown"&&hi(m),this._fireDOMEvent(a,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,m,_){if(a.type==="click"){var M=l({},a);M.type="preclick",this._fireDOMEvent(M,M.type,_)}var U=this._findEventTargets(a,m);if(_){for(var oe=[],De=0;De<_.length;De++)_[De].listens(m,!0)&&oe.push(_[De]);U=oe.concat(U)}if(U.length){m==="contextmenu"&&Zt(a);var qe=U[0],$e={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var lt=qe.getLatLng&&(!qe._radius||qe._radius<=10);$e.containerPoint=lt?this.latLngToContainerPoint(qe.getLatLng()):this.mouseEventToContainerPoint(a),$e.layerPoint=this.containerPointToLayerPoint($e.containerPoint),$e.latlng=lt?qe.getLatLng():this.layerPointToLatLng($e.layerPoint)}for(De=0;De<U.length;De++)if(U[De].fire(m,$e,!0),$e.originalEvent._stopped||U[De].options.bubblingMouseEvents===!1&&W(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,m=this._handlers.length;a<m;a++)this._handlers[a].disable()},whenReady:function(a,m){return this._loaded?a.call(m||this,{target:this}):this.on("load",a,m),this},_getMapPanePos:function(){return ae(this._mapPane)||new Ce(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,m){var _=a&&m!==void 0?this._getNewPixelOrigin(a,m):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,m){var _=this.getSize()._divideBy(2);return this.project(a,m)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,m,_){var M=this._getNewPixelOrigin(_,m);return this.project(a,m)._subtract(M)},_latLngBoundsToNewLayerBounds:function(a,m,_){var M=this._getNewPixelOrigin(_,m);return ie([this.project(a.getSouthWest(),m)._subtract(M),this.project(a.getNorthWest(),m)._subtract(M),this.project(a.getSouthEast(),m)._subtract(M),this.project(a.getNorthEast(),m)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,m,_){if(!_)return a;var M=this.project(a,m),U=this.getSize().divideBy(2),oe=new Me(M.subtract(U),M.add(U)),De=this._getBoundsOffset(oe,_,m);return Math.abs(De.x)<=1&&Math.abs(De.y)<=1?a:this.unproject(M.add(De),m)},_limitOffset:function(a,m){if(!m)return a;var _=this.getPixelBounds(),M=new Me(_.min.add(a),_.max.add(a));return a.add(this._getBoundsOffset(M,m))},_getBoundsOffset:function(a,m,_){var M=ie(this.project(m.getNorthEast(),_),this.project(m.getSouthWest(),_)),U=M.min.subtract(a.min),oe=M.max.subtract(a.max),De=this._rebound(U.x,-oe.x),qe=this._rebound(U.y,-oe.y);return new Ce(De,qe)},_rebound:function(a,m){return a+m>0?Math.round(a-m)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(m))},_limitZoom:function(a){var m=this.getMinZoom(),_=this.getMaxZoom(),M=Ot.any3d?this.options.zoomSnap:1;return M&&(a=Math.round(a/M)*M),Math.max(m,Math.min(_,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,m){var _=this._getCenterOffset(a)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,m),!0)},_createAnimProxy:function(){var a=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(m){var _=Kn,M=this._proxy.style[_];R(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),M===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),m=this.getZoom();R(this._proxy,this.project(a,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,m,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(m),U=this._getCenterOffset(a)._divideBy(1-1/M);return _.animate!==!0&&!this.getSize().contains(U)?!1:(ce(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(a,m,!0)},this),!0)},_animateZoom:function(a,m,_,M){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=m,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:m,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ni(a,m){return new gi(a,m)}var _r=ne.extend({options:{position:"topright"},initialize:function(a){j(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var m=this._map;return m&&m.removeControl(this),this.options.position=a,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var m=this._container=this.onAdd(a),_=this.getPosition(),M=a._controlCorners[_];return Nt(m,"leaflet-control"),_.indexOf("bottom")!==-1?M.insertBefore(m,M.firstChild):M.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Wr=function(a){return new _r(a)};gi.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},m="leaflet-",_=this._controlContainer=We("div",m+"control-container",this._container);function M(U,oe){var De=m+U+" "+m+oe;a[U+oe]=We("div",De,_)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)nt(this._controlCorners[a]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xs=_r.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,m,_,M){return _<M?-1:M<_?1:0}},initialize:function(a,m,_){j(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in a)this._addLayer(a[M],M);for(M in m)this._addLayer(m[M],M,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return _r.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,m){return this._addLayer(a,m),this._map?this._update():this},addOverlay:function(a,m){return this._addLayer(a,m,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var m=this._getLayer(v(a));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",m=this._container=We("div",a),_=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Br(m),Gr(m);var M=this._section=We("section",a+"-list");_&&(this._map.on("click",this.collapse,this),Ft(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=We("a",a+"-toggle",m);U.href="#",U.title="Layers",U.setAttribute("role","button"),Ft(U,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Zt(oe),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=We("div",a+"-base",M),this._separator=We("div",a+"-separator",M),this._overlaysList=We("div",a+"-overlays",M),m.appendChild(M)},_getLayer:function(a){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&v(this._layers[m].layer)===a)return this._layers[m]},_addLayer:function(a,m,_){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:m,overlay:_}),this.options.sortLayers&&this._layers.sort(c(function(M,U){return this.options.sortFunction(M.layer,U.layer,M.name,U.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ue(this._baseLayersList),Ue(this._overlaysList),this._layerControlInputs=[];var a,m,_,M,U=0;for(_=0;_<this._layers.length;_++)M=this._layers[_],this._addItem(M),m=m||M.overlay,a=a||!M.overlay,U+=M.overlay?0:1;return this.options.hideSingleBase&&(a=a&&U>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=m&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var m=this._getLayer(v(a.target)),_=m.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;_&&this._map.fire(_,m)},_createRadioElement:function(a,m){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(m?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=_,M.firstChild},_addItem:function(a){var m=document.createElement("label"),_=this._map.hasLayer(a.layer),M;a.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=_):M=this._createRadioElement("leaflet-base-layers_"+v(this),_),this._layerControlInputs.push(M),M.layerId=v(a.layer),Ft(M,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+a.name;var oe=document.createElement("span");m.appendChild(oe),oe.appendChild(M),oe.appendChild(U);var De=a.overlay?this._overlaysList:this._baseLayersList;return De.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,m,_,M=[],U=[];this._handlingClick=!0;for(var oe=a.length-1;oe>=0;oe--)m=a[oe],_=this._getLayer(m.layerId).layer,m.checked?M.push(_):m.checked||U.push(_);for(oe=0;oe<U.length;oe++)this._map.hasLayer(U[oe])&&this._map.removeLayer(U[oe]);for(oe=0;oe<M.length;oe++)this._map.hasLayer(M[oe])||this._map.addLayer(M[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,m,_,M=this._map.getZoom(),U=a.length-1;U>=0;U--)m=a[U],_=this._getLayer(m.layerId).layer,m.disabled=_.options.minZoom!==void 0&&M<_.options.minZoom||_.options.maxZoom!==void 0&&M>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ft(a,"click",Zt),this.expand();var m=this;setTimeout(function(){ri(a,"click",Zt),m._preventClick=!1})}}),Gs=function(a,m,_){return new xs(a,m,_)},dn=_r.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var m="leaflet-control-zoom",_=We("div",m+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,m+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,m+"-out",_,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,m,_,M,U){var oe=We("a",_,M);return oe.innerHTML=a,oe.href="#",oe.title=m,oe.setAttribute("role","button"),oe.setAttribute("aria-label",m),Br(oe),Ft(oe,"click",oi),Ft(oe,"click",U,this),Ft(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var a=this._map,m="leaflet-disabled";li(this._zoomInButton,m),li(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Nt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Nt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});gi.mergeOptions({zoomControl:!0}),gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dn,this.addControl(this.zoomControl))});var Zs=function(a){return new dn(a)},oo=_r.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var m="leaflet-control-scale",_=We("div",m),M=this.options;return this._addScales(M,m+"-line",_),a.on(M.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),_},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,m,_){a.metric&&(this._mScale=We("div",m,_)),a.imperial&&(this._iScale=We("div",m,_))},_update:function(){var a=this._map,m=a.getSize().y/2,_=a.distance(a.containerPointToLatLng([0,m]),a.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(_)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var m=this._getRoundNum(a),_=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,_,m/a)},_updateImperial:function(a){var m=a*3.2808399,_,M,U;m>5280?(_=m/5280,M=this._getRoundNum(_),this._updateScale(this._iScale,M+" mi",M/_)):(U=this._getRoundNum(m),this._updateScale(this._iScale,U+" ft",U/m))},_updateScale:function(a,m,_){a.style.width=Math.round(this.options.maxWidth*_)+"px",a.innerHTML=m},_getRoundNum:function(a){var m=Math.pow(10,(Math.floor(a)+"").length-1),_=a/m;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,m*_}}),ks=function(a){return new oo(a)},Xs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Lo=_r.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?Xs+" ":"")+"Leaflet</a>"},initialize:function(a){j(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Br(this._container);for(var m in a._layers)a._layers[m].getAttribution&&this.addAttribution(a._layers[m].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var m in this._attributions)this._attributions[m]&&a.push(m);var _=[];this.options.prefix&&_.push(this.options.prefix),a.length&&_.push(a.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});gi.mergeOptions({attributionControl:!0}),gi.addInitHook(function(){this.options.attributionControl&&new Lo().addTo(this)});var kl=function(a){return new Lo(a)};_r.Layers=xs,_r.Zoom=dn,_r.Scale=oo,_r.Attribution=Lo,Wr.layers=Gs,Wr.zoom=Zs,Wr.scale=ks,Wr.attribution=kl;var ln=ne.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ln.addTo=function(a,m){return a.addHandler(m,this),this};var yc={Events:se},qr=Ot.touch?"touchstart mousedown":"mousedown",Mo=ye.extend({options:{clickTolerance:3},initialize:function(a,m,_,M){j(this,M),this._element=a,this._dragStartTarget=m||a,this._preventOutline=_},enable:function(){this._enabled||(Ft(this._dragStartTarget,qr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mo._dragging===this&&this.finishDrag(!0),ri(this._dragStartTarget,qr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Yi(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Mo._dragging===this&&this.finishDrag();return}if(!(Mo._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Mo._dragging=this,this._preventOutline&&hi(this._element),Ve(),_e(),!this._moving)){this.fire("down");var m=a.touches?a.touches[0]:a,_=Ci(this._element);this._startPoint=new Ce(m.clientX,m.clientY),this._startPos=ae(this._element),this._parentScale=Pi(_);var M=a.type==="mousedown";Ft(document,M?"mousemove":"touchmove",this._onMove,this),Ft(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var m=a.touches&&a.touches.length===1?a.touches[0]:a,_=new Ce(m.clientX,m.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Zt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),re(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){li(document.body,"leaflet-dragging"),this._lastTarget&&(li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ri(document,"mousemove touchmove",this._onMove,this),ri(document,"mouseup touchend touchcancel",this._onUp,this),Ke(),Oe();var m=this._moved&&this._moving;this._moving=!1,Mo._dragging=!1,m&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Vs(a,m,_){var M,U=[1,4,2,8],oe,De,qe,$e,lt,Et,zt,ai;for(oe=0,Et=a.length;oe<Et;oe++)a[oe]._code=Cr(a[oe],m);for(qe=0;qe<4;qe++){for(zt=U[qe],M=[],oe=0,Et=a.length,De=Et-1;oe<Et;De=oe++)$e=a[oe],lt=a[De],$e._code&zt?lt._code&zt||(ai=Es(lt,$e,zt,m,_),ai._code=Cr(ai,m),M.push(ai)):(lt._code&zt&&(ai=Es(lt,$e,zt,m,_),ai._code=Cr(ai,m),M.push(ai)),M.push($e));a=M}return a}function Po(a,m){var _,M,U,oe,De,qe,$e,lt,Et;if(!a||a.length===0)throw new Error("latlngs not passed");Sr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var zt=V([0,0]),ai=Le(a),Xi=ai.getNorthWest().distanceTo(ai.getSouthWest())*ai.getNorthEast().distanceTo(ai.getNorthWest());Xi<1700&&(zt=Ua(a));var Vi=a.length,mn=[];for(_=0;_<Vi;_++){var Wn=V(a[_]);mn.push(m.project(V([Wn.lat-zt.lat,Wn.lng-zt.lng])))}for(qe=$e=lt=0,_=0,M=Vi-1;_<Vi;M=_++)U=mn[_],oe=mn[M],De=U.y*oe.x-oe.y*U.x,$e+=(U.x+oe.x)*De,lt+=(U.y+oe.y)*De,qe+=De*3;qe===0?Et=mn[0]:Et=[$e/qe,lt/qe];var Kr=m.unproject(ze(Et));return V([Kr.lat+zt.lat,Kr.lng+zt.lng])}function Ua(a){for(var m=0,_=0,M=0,U=0;U<a.length;U++){var oe=V(a[U]);m+=oe.lat,_+=oe.lng,M++}return V([m/M,_/M])}var qu={__proto__:null,clipPolygon:Vs,polygonCenter:Po,centroid:Ua};function en(a,m){if(!m||!a.length)return a.slice();var _=m*m;return a=Ya(a,_),a=El(a,_),a}function vo(a,m,_){return Math.sqrt(Cs(a,m,_,!0))}function ju(a,m,_){return Cs(a,m,_)}function El(a,m){var _=a.length,M=typeof Uint8Array<"u"?Uint8Array:Array,U=new M(_);U[0]=U[_-1]=1,Jo(a,U,m,0,_-1);var oe,De=[];for(oe=0;oe<_;oe++)U[oe]&&De.push(a[oe]);return De}function Jo(a,m,_,M,U){var oe=0,De,qe,$e;for(qe=M+1;qe<=U-1;qe++)$e=Cs(a[qe],a[M],a[U],!0),$e>oe&&(De=qe,oe=$e);oe>_&&(m[De]=1,Jo(a,m,_,M,De),Jo(a,m,_,De,U))}function Ya(a,m){for(var _=[a[0]],M=1,U=0,oe=a.length;M<oe;M++)tn(a[M],a[U])>m&&(_.push(a[M]),U=M);return U<oe-1&&_.push(a[oe-1]),_}var Cl;function Sl(a,m,_,M,U){var oe=M?Cl:Cr(a,_),De=Cr(m,_),qe,$e,lt;for(Cl=De;;){if(!(oe|De))return[a,m];if(oe&De)return!1;qe=oe||De,$e=Es(a,m,qe,_,U),lt=Cr($e,_),qe===oe?(a=$e,oe=lt):(m=$e,De=lt)}}function Es(a,m,_,M,U){var oe=m.x-a.x,De=m.y-a.y,qe=M.min,$e=M.max,lt,Et;return _&8?(lt=a.x+oe*($e.y-a.y)/De,Et=$e.y):_&4?(lt=a.x+oe*(qe.y-a.y)/De,Et=qe.y):_&2?(lt=$e.x,Et=a.y+De*($e.x-a.x)/oe):_&1&&(lt=qe.x,Et=a.y+De*(qe.x-a.x)/oe),new Ce(lt,Et,U)}function Cr(a,m){var _=0;return a.x<m.min.x?_|=1:a.x>m.max.x&&(_|=2),a.y<m.min.y?_|=4:a.y>m.max.y&&(_|=8),_}function tn(a,m){var _=m.x-a.x,M=m.y-a.y;return _*_+M*M}function Cs(a,m,_,M){var U=m.x,oe=m.y,De=_.x-U,qe=_.y-oe,$e=De*De+qe*qe,lt;return $e>0&&(lt=((a.x-U)*De+(a.y-oe)*qe)/$e,lt>1?(U=_.x,oe=_.y):lt>0&&(U+=De*lt,oe+=qe*lt)),De=a.x-U,qe=a.y-oe,M?De*De+qe*qe:new Ce(U,oe)}function Sr(a){return!P(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Ca(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Sr(a)}function Ks(a,m){var _,M,U,oe,De,qe,$e,lt;if(!a||a.length===0)throw new Error("latlngs not passed");Sr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Et=V([0,0]),zt=Le(a),ai=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());ai<1700&&(Et=Ua(a));var Xi=a.length,Vi=[];for(_=0;_<Xi;_++){var mn=V(a[_]);Vi.push(m.project(V([mn.lat-Et.lat,mn.lng-Et.lng])))}for(_=0,M=0;_<Xi-1;_++)M+=Vi[_].distanceTo(Vi[_+1])/2;if(M===0)lt=Vi[0];else for(_=0,oe=0;_<Xi-1;_++)if(De=Vi[_],qe=Vi[_+1],U=De.distanceTo(qe),oe+=U,oe>M){$e=(oe-M)/U,lt=[qe.x-$e*(qe.x-De.x),qe.y-$e*(qe.y-De.y)];break}var Wn=m.unproject(ze(lt));return V([Wn.lat+Et.lat,Wn.lng+Et.lng])}var Qs={__proto__:null,simplify:en,pointToSegmentDistance:vo,closestPointOnSegment:ju,clipSegment:Sl,_getEdgeIntersection:Es,_getBitCode:Cr,_sqClosestPointOnSegment:Cs,isFlat:Sr,_flat:Ca,polylineCenter:Ks},Js={project:function(a){return new Ce(a.lng,a.lat)},unproject:function(a){return new Re(a.y,a.x)},bounds:new Me([-180,-90],[180,90])},Ss={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Me([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var m=Math.PI/180,_=this.R,M=a.lat*m,U=this.R_MINOR/_,oe=Math.sqrt(1-U*U),De=oe*Math.sin(M),qe=Math.tan(Math.PI/4-M/2)/Math.pow((1-De)/(1+De),oe/2);return M=-_*Math.log(Math.max(qe,1e-10)),new Ce(a.lng*m*_,M)},unproject:function(a){for(var m=180/Math.PI,_=this.R,M=this.R_MINOR/_,U=Math.sqrt(1-M*M),oe=Math.exp(-a.y/_),De=Math.PI/2-2*Math.atan(oe),qe=0,$e=.1,lt;qe<15&&Math.abs($e)>1e-7;qe++)lt=U*Math.sin(De),lt=Math.pow((1-lt)/(1+lt),U/2),$e=Math.PI/2-2*Math.atan(oe*lt)-De,De+=$e;return new Re(De*m,a.x*m/_)}},eu={__proto__:null,LonLat:Js,Mercator:Ss,SphericalMercator:Ze},Uu=l({},Ae,{code:"EPSG:3395",projection:Ss,transformation:function(){var a=.5/(Math.PI*Ss.R);return ut(a,.5,-a,.5)}()}),Tl=l({},Ae,{code:"EPSG:4326",projection:Js,transformation:ut(1/180,1,-1/180,.5)}),Yu=l({},we,{projection:Js,transformation:ut(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,m){var _=m.lng-a.lng,M=m.lat-a.lat;return Math.sqrt(_*_+M*M)},infinite:!0});we.Earth=Ae,we.EPSG3395=Uu,we.EPSG3857=Ct,we.EPSG900913=wt,we.EPSG4326=Tl,we.Simple=Yu;var nn=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var m=a.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var _=this.getEvents();m.on(_,this),this.once("remove",function(){m.off(_,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});gi.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var m=v(a);return this._layers[m]?this:(this._layers[m]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var m=v(a);return this._layers[m]?(this._loaded&&a.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,m){for(var _ in this._layers)a.call(m,this._layers[_]);return this},_addLayers:function(a){a=a?P(a)?a:[a]:[];for(var m=0,_=a.length;m<_;m++)this.addLayer(a[m])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var m=v(a);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,m=-1/0,_=this._getZoomSpan();for(var M in this._zoomBoundLayers){var U=this._zoomBoundLayers[M].options;a=U.minZoom===void 0?a:Math.min(a,U.minZoom),m=U.maxZoom===void 0?m:Math.max(m,U.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=a===1/0?void 0:a,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ea=nn.extend({initialize:function(a,m){j(this,m),this._layers={};var _,M;if(a)for(_=0,M=a.length;_<M;_++)this.addLayer(a[_])},addLayer:function(a){var m=this.getLayerId(a);return this._layers[m]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var m=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(a){var m=typeof a=="number"?a:this.getLayerId(a);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var m=Array.prototype.slice.call(arguments,1),_,M;for(_ in this._layers)M=this._layers[_],M[a]&&M[a].apply(M,m);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,m){for(var _ in this._layers)a.call(m,this._layers[_]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Oo=function(a,m){return new ea(a,m)},Hn=ea.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ea.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ea.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Y;for(var m in this._layers){var _=this._layers[m];a.extend(_.getBounds?_.getBounds():_.getLatLng())}return a}}),Ts=function(a,m){return new Hn(a,m)},ta=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){j(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,m){var _=this._getIconUrl(a);if(!_){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(_,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(M,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(a,m){var _=this.options,M=_[m+"Size"];typeof M=="number"&&(M=[M,M]);var U=ze(M),oe=ze(m==="shadow"&&_.shadowAnchor||_.iconAnchor||U&&U.divideBy(2,!0));a.className="leaflet-marker-"+m+" "+(_.className||""),oe&&(a.style.marginLeft=-oe.x+"px",a.style.marginTop=-oe.y+"px"),U&&(a.style.width=U.x+"px",a.style.height=U.y+"px")},_createImg:function(a,m){return m=m||document.createElement("img"),m.src=a,m},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Al(a){return new ta(a)}var Tr=ta.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Tr.imagePath!="string"&&(Tr.imagePath=this._detectIconPath()),(this.options.imagePath||Tr.imagePath)+ta.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var m=function(_,M,U){var oe=M.exec(_);return oe&&oe[U]};return a=m(a,/^url\((['"])?(.+)\1\)$/,2),a&&m(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=We("div","leaflet-default-icon-path",document.body),m=xe(a,"background-image")||xe(a,"backgroundImage");if(document.body.removeChild(a),m=this._stripUrl(m),m)return m;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),ia=ln.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Mo(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var m=this._marker,_=m._map,M=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,oe=ae(m._icon),De=_.getPixelBounds(),qe=_.getPixelOrigin(),$e=ie(De.min._subtract(qe).add(U),De.max._subtract(qe).subtract(U));if(!$e.contains(oe)){var lt=ze((Math.max($e.max.x,oe.x)-$e.max.x)/(De.max.x-$e.max.x)-(Math.min($e.min.x,oe.x)-$e.min.x)/(De.min.x-$e.min.x),(Math.max($e.max.y,oe.y)-$e.max.y)/(De.max.y-$e.max.y)-(Math.min($e.min.y,oe.y)-$e.min.y)/(De.min.y-$e.min.y)).multiplyBy(M);_.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),re(m._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ce(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Te(this._panRequest),this._panRequest=ce(this._adjustPan.bind(this,a)))},_onDrag:function(a){var m=this._marker,_=m._shadow,M=ae(m._icon),U=m._map.layerPointToLatLng(M);_&&re(_,M),m._latlng=U,a.latlng=U,a.oldLatLng=this._oldLatLng,m.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),$a=nn.extend({options:{icon:new Tr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,m){j(this,m),this._latlng=V(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var m=this._latlng;return this._latlng=V(a),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=a.icon.createIcon(this._icon),M=!1;_!==this._icon&&(this._icon&&this._removeIcon(),M=!0,a.title&&(_.title=a.title),_.tagName==="IMG"&&(_.alt=a.alt||"")),Nt(_,m),a.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(_,"focus",this._panOnFocus,this);var U=a.icon.createShadow(this._shadow),oe=!1;U!==this._shadow&&(this._removeShadow(),oe=!0),U&&(Nt(U,m),U.alt=""),this._shadow=U,a.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&oe&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ri(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&re(this._icon,a),this._shadow&&re(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var m=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ia)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ia(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ke(this._icon,a),this._shadow&&ke(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var m=this.options.icon.options,_=m.iconSize?ze(m.iconSize):ze(0,0),M=m.iconAnchor?ze(m.iconAnchor):ze(0,0);a.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:_.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ga(a,m){return new $a(a,m)}var Fo=nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return j(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),tu=Fo.extend({options:{fill:!0,radius:10},initialize:function(a,m){j(this,m),this._latlng=V(a),this._radius=this.options.radius},setLatLng:function(a){var m=this._latlng;return this._latlng=V(a),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var m=a&&a.radius||this._radius;return Fo.prototype.setStyle.call(this,a),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,m=this._radiusY||a,_=this._clickTolerance(),M=[a+_,m+_];this._pxBounds=new Me(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function iu(a,m){return new tu(a,m)}var Za=tu.extend({initialize:function(a,m,_){if(typeof m=="number"&&(m=l({},_,{radius:m})),j(this,m),this._latlng=V(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Fo.prototype.setStyle,_project:function(){var a=this._latlng.lng,m=this._latlng.lat,_=this._map,M=_.options.crs;if(M.distance===Ae.distance){var U=Math.PI/180,oe=this._mRadius/Ae.R/U,De=_.project([m+oe,a]),qe=_.project([m-oe,a]),$e=De.add(qe).divideBy(2),lt=_.unproject($e).lat,Et=Math.acos((Math.cos(oe*U)-Math.sin(m*U)*Math.sin(lt*U))/(Math.cos(m*U)*Math.cos(lt*U)))/U;(isNaN(Et)||Et===0)&&(Et=oe/Math.cos(Math.PI/180*m)),this._point=$e.subtract(_.getPixelOrigin()),this._radius=isNaN(Et)?0:$e.x-_.project([lt,a-Et]).x,this._radiusY=$e.y-De.y}else{var zt=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(zt).x}this._updateBounds()}});function jr(a,m,_){return new Za(a,m,_)}var pn=Fo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,m){j(this,m),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var m=1/0,_=null,M=Cs,U,oe,De=0,qe=this._parts.length;De<qe;De++)for(var $e=this._parts[De],lt=1,Et=$e.length;lt<Et;lt++){U=$e[lt-1],oe=$e[lt];var zt=M(a,U,oe,!0);zt<m&&(m=zt,_=M(a,U,oe))}return _&&(_.distance=Math.sqrt(m)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ks(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,m){return m=m||this._defaultShape(),a=V(a),m.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Y,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Sr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var m=[],_=Sr(a),M=0,U=a.length;M<U;M++)_?(m[M]=V(a[M]),this._bounds.extend(m[M])):m[M]=this._convertLatLngs(a[M]);return m},_project:function(){var a=new Me;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),m=new Ce(a,a);this._rawPxBounds&&(this._pxBounds=new Me([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(a,m,_){var M=a[0]instanceof Re,U=a.length,oe,De;if(M){for(De=[],oe=0;oe<U;oe++)De[oe]=this._map.latLngToLayerPoint(a[oe]),_.extend(De[oe]);m.push(De)}else for(oe=0;oe<U;oe++)this._projectLatlngs(a[oe],m,_)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,_,M,U,oe,De,qe,$e;for(_=0,U=0,oe=this._rings.length;_<oe;_++)for($e=this._rings[_],M=0,De=$e.length;M<De-1;M++)qe=Sl($e[M],$e[M+1],a,M,!0),qe&&(m[U]=m[U]||[],m[U].push(qe[0]),(qe[1]!==$e[M+1]||M===De-2)&&(m[U].push(qe[1]),U++))}},_simplifyPoints:function(){for(var a=this._parts,m=this.options.smoothFactor,_=0,M=a.length;_<M;_++)a[_]=en(a[_],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,m){var _,M,U,oe,De,qe,$e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(_=0,oe=this._parts.length;_<oe;_++)for(qe=this._parts[_],M=0,De=qe.length,U=De-1;M<De;U=M++)if(!(!m&&M===0)&&vo(a,qe[U],qe[M])<=$e)return!0;return!1}});function Dl(a,m){return new pn(a,m)}pn._flat=Ca;var Sa=pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Po(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var m=pn.prototype._convertLatLngs.call(this,a),_=m.length;return _>=2&&m[0]instanceof Re&&m[0].equals(m[_-1])&&m.pop(),m},_setLatLngs:function(a){pn.prototype._setLatLngs.call(this,a),Sr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Sr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,m=this.options.weight,_=new Ce(m,m);if(a=new Me(a.min.subtract(_),a.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,U=this._rings.length,oe;M<U;M++)oe=Vs(this._rings[M],a,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var m=!1,_,M,U,oe,De,qe,$e,lt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(oe=0,$e=this._parts.length;oe<$e;oe++)for(_=this._parts[oe],De=0,lt=_.length,qe=lt-1;De<lt;qe=De++)M=_[De],U=_[qe],M.y>a.y!=U.y>a.y&&a.x<(U.x-M.x)*(a.y-M.y)/(U.y-M.y)+M.x&&(m=!m);return m||pn.prototype._containsPoint.call(this,a,!0)}});function _c(a,m){return new Sa(a,m)}var Ar=Hn.extend({initialize:function(a,m){j(this,m),this._layers={},a&&this.addData(a)},addData:function(a){var m=P(a)?a:a.features,_,M,U;if(m){for(_=0,M=m.length;_<M;_++)U=m[_],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var oe=this.options;if(oe.filter&&!oe.filter(a))return this;var De=Dr(a,oe);return De?(De.feature=Zr(a),De.defaultOptions=De.options,this.resetStyle(De),oe.onEachFeature&&oe.onEachFeature(a,De),this.addLayer(De)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(m){this._setLayerStyle(m,a)},this)},_setLayerStyle:function(a,m){a.setStyle&&(typeof m=="function"&&(m=m(a.feature)),a.setStyle(m))}});function Dr(a,m){var _=a.type==="Feature"?a.geometry:a,M=_?_.coordinates:null,U=[],oe=m&&m.pointToLayer,De=m&&m.coordsToLatLng||ru,qe,$e,lt,Et;if(!M&&!_)return null;switch(_.type){case"Point":return qe=De(M),nu(oe,a,qe,m);case"MultiPoint":for(lt=0,Et=M.length;lt<Et;lt++)qe=De(M[lt]),U.push(nu(oe,a,qe,m));return new Hn(U);case"LineString":case"MultiLineString":return $e=na(M,_.type==="LineString"?0:1,De),new pn($e,m);case"Polygon":case"MultiPolygon":return $e=na(M,_.type==="Polygon"?1:2,De),new Sa($e,m);case"GeometryCollection":for(lt=0,Et=_.geometries.length;lt<Et;lt++){var zt=Dr({geometry:_.geometries[lt],type:"Feature",properties:a.properties},m);zt&&U.push(zt)}return new Hn(U);case"FeatureCollection":for(lt=0,Et=_.features.length;lt<Et;lt++){var ai=Dr(_.features[lt],m);ai&&U.push(ai)}return new Hn(U);default:throw new Error("Invalid GeoJSON object.")}}function nu(a,m,_,M){return a?a(m,_):new $a(_,M&&M.markersInheritOptions&&M)}function ru(a){return new Re(a[1],a[0],a[2])}function na(a,m,_){for(var M=[],U=0,oe=a.length,De;U<oe;U++)De=m?na(a[U],m-1,_):(_||ru)(a[U]),M.push(De);return M}function ou(a,m){return a=V(a),a.alt!==void 0?[A(a.lng,m),A(a.lat,m),A(a.alt,m)]:[A(a.lng,m),A(a.lat,m)]}function As(a,m,_,M){for(var U=[],oe=0,De=a.length;oe<De;oe++)U.push(m?As(a[oe],Sr(a[oe])?0:m-1,_,M):ou(a[oe],M));return!m&&_&&U.length>0&&U.push(U[0].slice()),U}function ra(a,m){return a.feature?l({},a.feature,{geometry:m}):Zr(m)}function Zr(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ne={toGeoJSON:function(a){return ra(this,{type:"Point",coordinates:ou(this.getLatLng(),a)})}};$a.include(Ne),Za.include(Ne),tu.include(Ne),pn.include({toGeoJSON:function(a){var m=!Sr(this._latlngs),_=As(this._latlngs,m?1:0,!1,a);return ra(this,{type:(m?"Multi":"")+"LineString",coordinates:_})}}),Sa.include({toGeoJSON:function(a){var m=!Sr(this._latlngs),_=m&&!Sr(this._latlngs[0]),M=As(this._latlngs,_?2:m?1:0,!0,a);return m||(M=[M]),ra(this,{type:(_?"Multi":"")+"Polygon",coordinates:M})}}),ea.include({toMultiPoint:function(a){var m=[];return this.eachLayer(function(_){m.push(_.toGeoJSON(a).geometry.coordinates)}),ra(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(a){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(a);var _=m==="GeometryCollection",M=[];return this.eachLayer(function(U){if(U.toGeoJSON){var oe=U.toGeoJSON(a);if(_)M.push(oe.geometry);else{var De=Zr(oe);De.type==="FeatureCollection"?M.push.apply(M,De.features):M.push(De)}}}),_?ra(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function it(a,m){return new Ar(a,m)}var Ye=it,At=nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,m,_){this._url=a,this._bounds=Le(m),j(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&pt(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Le(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",m=this._image=a?this._url:We("img");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=k,m.onmousemove=k,m.onload=c(this.fire,this,"load"),m.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(a){var m=this._map.getZoomScale(a.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;R(this._image,_,m)},_reset:function(){var a=this._image,m=new Me(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=m.getSize();re(a,m.min),a.style.width=_.x+"px",a.style.height=_.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Jt=function(a,m,_){return new At(a,m,_)},Si=At.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",m=this._image=a?this._url:We("video");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=k,m.onmousemove=k,m.onloadeddata=c(this.fire,this,"load"),a){for(var _=m.getElementsByTagName("source"),M=[],U=0;U<_.length;U++)M.push(_[U].src);this._url=_.length>0?M:[m.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var De=We("source");De.src=this._url[oe],m.appendChild(De)}}});function xn(a,m,_){return new Si(a,m,_)}var ji=At.extend({_initImage:function(){var a=this._image=this._url;Nt(a,"leaflet-image-layer"),this._zoomAnimated&&Nt(a,"leaflet-zoom-animated"),this.options.className&&Nt(a,this.options.className),a.onselectstart=k,a.onmousemove=k}});function Ds(a,m,_){return new ji(a,m,_)}var bo=nn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,m){a&&(a instanceof Re||P(a))?(this._latlng=V(a),j(this,m)):(j(this,a),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(c(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(li(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=V(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pt(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(a){var m=this._source;if(!m._map)return!1;if(m instanceof Hn){m=null;var _=this._source._layers;for(var M in _)if(_[M]._map){m=_[M];break}if(!m)return!1;this._source=m}if(!a)if(m.getCenter)a=m.getCenter();else if(m.getLatLng)a=m.getLatLng();else if(m.getBounds)a=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")a.innerHTML=m;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),m=ze(this.options.offset),_=this._getAnchor();this._zoomAnimated?re(this._container,a.add(_)):m=m.add(a).add(_);var M=this._containerBottom=-m.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=M+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});gi.include({_initOverlay:function(a,m,_,M){var U=m;return U instanceof a||(U=new a(M).setContent(m)),_&&U.setLatLng(_),U}}),nn.include({_initOverlay:function(a,m,_,M){var U=_;return U instanceof a?(j(U,M),U._source=this):(U=m&&!M?m:new a(M,this),U.setContent(_)),U}});var wr=bo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,bo.prototype.openOn.call(this,a)},onAdd:function(a){bo.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fo||this._source.on("preclick",Ln))},onRemove:function(a){bo.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fo||this._source.off("preclick",Ln))},getEvents:function(){var a=bo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",m=this._container=We("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=We("div",a+"-content-wrapper",m);if(this._contentNode=We("div",a+"-content",_),Br(m),Gr(this._contentNode),Ft(m,"contextmenu",Ln),this._tipContainer=We("div",a+"-tip-container",m),this._tip=We("div",a+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=We("a",a+"-close-button",m);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(M,"click",function(U){Zt(U),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,m=a.style;m.width="",m.whiteSpace="nowrap";var _=a.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),m.width=_+1+"px",m.whiteSpace="",m.height="";var M=a.offsetHeight,U=this.options.maxHeight,oe="leaflet-popup-scrolled";U&&M>U?(m.height=U+"px",Nt(a,oe)):li(a,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var m=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),_=this._getAnchor();re(this._container,m.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,m=parseInt(xe(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+m,M=this._containerWidth,U=new Ce(this._containerLeft,-_-this._containerBottom);U._add(ae(this._container));var oe=a.layerPointToContainerPoint(U),De=ze(this.options.autoPanPadding),qe=ze(this.options.autoPanPaddingTopLeft||De),$e=ze(this.options.autoPanPaddingBottomRight||De),lt=a.getSize(),Et=0,zt=0;oe.x+M+$e.x>lt.x&&(Et=oe.x+M-lt.x+$e.x),oe.x-Et-qe.x<0&&(Et=oe.x-qe.x),oe.y+_+$e.y>lt.y&&(zt=oe.y+_-lt.y+$e.y),oe.y-zt-qe.y<0&&(zt=oe.y-qe.y),(Et||zt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Et,zt]))}},_getAnchor:function(){return ze(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),au=function(a,m){return new wr(a,m)};gi.mergeOptions({closePopupOnClick:!0}),gi.include({openPopup:function(a,m,_){return this._initOverlay(wr,a,m,_).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),nn.include({bindPopup:function(a,m){return this._popup=this._initOverlay(wr,this._popup,a,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Hn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){oi(a);var m=a.layer||a.target;if(this._popup._source===m&&!(m instanceof Fo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=m,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var yo=bo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){bo.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){bo.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=bo.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",m=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var m,_,M=this._map,U=this._container,oe=M.latLngToContainerPoint(M.getCenter()),De=M.layerPointToContainerPoint(a),qe=this.options.direction,$e=U.offsetWidth,lt=U.offsetHeight,Et=ze(this.options.offset),zt=this._getAnchor();qe==="top"?(m=$e/2,_=lt):qe==="bottom"?(m=$e/2,_=0):qe==="center"?(m=$e/2,_=lt/2):qe==="right"?(m=0,_=lt/2):qe==="left"?(m=$e,_=lt/2):De.x<oe.x?(qe="right",m=0,_=lt/2):(qe="left",m=$e+(Et.x+zt.x)*2,_=lt/2),a=a.subtract(ze(m,_,!0)).add(Et).add(zt),li(U,"leaflet-tooltip-right"),li(U,"leaflet-tooltip-left"),li(U,"leaflet-tooltip-top"),li(U,"leaflet-tooltip-bottom"),Nt(U,"leaflet-tooltip-"+qe),re(U,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ke(this._container,a)},_animateZoom:function(a){var m=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(m)},_getAnchor:function(){return ze(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ao=function(a,m){return new yo(a,m)};gi.include({openTooltip:function(a,m,_){return this._initOverlay(yo,a,m,_).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),nn.include({bindTooltip:function(a,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yo,this._tooltip,a,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var m=a?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[m](_),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Hn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var m=typeof a.getElement=="function"&&a.getElement();m&&(Ft(m,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ft(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var m=typeof a.getElement=="function"&&a.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var m=a.latlng,_,M;this._tooltip.options.sticky&&a.originalEvent&&(_=this._map.mouseEventToContainerPoint(a.originalEvent),M=this._map.containerPointToLayerPoint(_),m=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(m)}});var _o=ta.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var m=a&&a.tagName==="DIV"?a:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Ue(m),m.appendChild(_.html)):m.innerHTML=_.html!==!1?_.html:"",_.bgPos){var M=ze(_.bgPos);m.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Xa(a){return new _o(a)}ta.Default=Tr;var Ei=nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){j(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),nt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Ce?a:new Ce(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var m=this.getPane().children,_=-a(-1/0,1/0),M=0,U=m.length,oe;M<U;M++)oe=m[M].style.zIndex,m[M]!==this._container&&oe&&(_=a(_,+oe));isFinite(_)&&(this.options.zIndex=_+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){ke(this._container,this.options.opacity);var a=+new Date,m=!1,_=!1;for(var M in this._tiles){var U=this._tiles[M];if(!(!U.current||!U.loaded)){var oe=Math.min(1,(a-U.loaded)/200);ke(U.el,oe),oe<1?m=!0:(U.active?_=!0:this._onOpaqueTile(U),U.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),m&&(Te(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,m=this.options.maxZoom;if(a!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===a?(this._levels[_].el.style.zIndex=m-Math.abs(a-_),this._onUpdateLevel(_)):(nt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var M=this._levels[a],U=this._map;return M||(M=this._levels[a]={},M.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=m,M.origin=U.project(U.unproject(U.getPixelOrigin()),a).round(),M.zoom=a,this._setZoomTransform(M,U.getCenter(),U.getZoom()),k(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var a,m,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)m=this._tiles[a],m.retain=m.current;for(a in this._tiles)if(m=this._tiles[a],m.current&&!m.active){var M=m.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var m in this._tiles)this._tiles[m].coords.z===a&&this._removeTile(m)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)nt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,m,_,M){var U=Math.floor(a/2),oe=Math.floor(m/2),De=_-1,qe=new Ce(+U,+oe);qe.z=+De;var $e=this._tileCoordsToKey(qe),lt=this._tiles[$e];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),De>M?this._retainParent(U,oe,De,M):!1)},_retainChildren:function(a,m,_,M){for(var U=2*a;U<2*a+2;U++)for(var oe=2*m;oe<2*m+2;oe++){var De=new Ce(U,oe);De.z=_+1;var qe=this._tileCoordsToKey(De),$e=this._tiles[qe];if($e&&$e.active){$e.retain=!0;continue}else $e&&$e.loaded&&($e.retain=!0);_+1<M&&this._retainChildren(U,oe,_+1,M)}},_resetView:function(a){var m=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var m=this.options;return m.minNativeZoom!==void 0&&a<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<a?m.maxNativeZoom:a},_setView:function(a,m,_,M){var U=Math.round(m);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var oe=this.options.updateWhenZooming&&U!==this._tileZoom;(!M||oe)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(a),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(a,m)},_setZoomTransforms:function(a,m){for(var _ in this._levels)this._setZoomTransform(this._levels[_],a,m)},_setZoomTransform:function(a,m,_){var M=this._map.getZoomScale(_,a.zoom),U=a.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(m,_)).round();Ot.any3d?R(a.el,U,M):re(a.el,U)},_resetGrid:function(){var a=this._map,m=a.options.crs,_=this._tileSize=this.getTileSize(),M=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,m.wrapLng[0]],M).x/_.x),Math.ceil(a.project([0,m.wrapLng[1]],M).x/_.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([m.wrapLat[0],0],M).y/_.x),Math.ceil(a.project([m.wrapLat[1],0],M).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var m=this._map,_=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),M=m.getZoomScale(_,this._tileZoom),U=m.project(a,this._tileZoom).floor(),oe=m.getSize().divideBy(M*2);return new Me(U.subtract(oe),U.add(oe))},_update:function(a){var m=this._map;if(m){var _=this._clampZoom(m.getZoom());if(a===void 0&&(a=m.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(a),U=this._pxBoundsToTileRange(M),oe=U.getCenter(),De=[],qe=this.options.keepBuffer,$e=new Me(U.getBottomLeft().subtract([qe,-qe]),U.getTopRight().add([qe,-qe]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Et=this._tiles[lt].coords;(Et.z!==this._tileZoom||!$e.contains(new Ce(Et.x,Et.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(a,_);return}for(var zt=U.min.y;zt<=U.max.y;zt++)for(var ai=U.min.x;ai<=U.max.x;ai++){var Xi=new Ce(ai,zt);if(Xi.z=this._tileZoom,!!this._isValidTile(Xi)){var Vi=this._tiles[this._tileCoordsToKey(Xi)];Vi?Vi.current=!0:De.push(Xi)}}if(De.sort(function(Wn,Kr){return Wn.distanceTo(oe)-Kr.distanceTo(oe)}),De.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mn=document.createDocumentFragment();for(ai=0;ai<De.length;ai++)this._addTile(De[ai],mn);this._level.el.appendChild(mn)}}}},_isValidTile:function(a){var m=this._map.options.crs;if(!m.infinite){var _=this._globalTileRange;if(!m.wrapLng&&(a.x<_.min.x||a.x>_.max.x)||!m.wrapLat&&(a.y<_.min.y||a.y>_.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(a);return Le(this.options.bounds).overlaps(M)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var m=this._map,_=this.getTileSize(),M=a.scaleBy(_),U=M.add(_),oe=m.unproject(M,a.z),De=m.unproject(U,a.z);return[oe,De]},_tileCoordsToBounds:function(a){var m=this._tileCoordsToNwSe(a),_=new Y(m[0],m[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var m=a.split(":"),_=new Ce(+m[0],+m[1]);return _.z=+m[2],_},_removeTile:function(a){var m=this._tiles[a];m&&(nt(m.el),delete this._tiles[a],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Nt(a,"leaflet-tile");var m=this.getTileSize();a.style.width=m.x+"px",a.style.height=m.y+"px",a.onselectstart=k,a.onmousemove=k,Ot.ielt9&&this.options.opacity<1&&ke(a,this.options.opacity)},_addTile:function(a,m){var _=this._getTilePos(a),M=this._tileCoordsToKey(a),U=this.createTile(this._wrapCoords(a),c(this._tileReady,this,a));this._initTile(U),this.createTile.length<2&&ce(c(this._tileReady,this,a,null,U)),re(U,_),this._tiles[M]={el:U,coords:a,current:!0},m.appendChild(U),this.fire("tileloadstart",{tile:U,coords:a})},_tileReady:function(a,m,_){m&&this.fire("tileerror",{error:m,tile:_,coords:a});var M=this._tileCoordsToKey(a);_=this._tiles[M],_&&(_.loaded=+new Date,this._map._fadeAnimated?(ke(_.el,0),Te(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),m||(Nt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?ce(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var m=new Ce(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return m.z=a.z,m},_pxBoundsToTileRange:function(a){var m=this.getTileSize();return new Me(a.min.unscaleBy(m).floor(),a.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Ll(a){return new Ei(a)}var Ro=Ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,m){this._url=a,m=j(this,m),m.detectRetina&&Ot.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,m){return this._url===a&&m===void 0&&(m=!0),this._url=a,m||this.redraw(),this},createTile:function(a,m){var _=document.createElement("img");return Ft(_,"load",c(this._tileOnLoad,this,m,_)),Ft(_,"error",c(this._tileOnError,this,m,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(a),_},getTileUrl:function(a){var m={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-a.y;this.options.tms&&(m.y=_),m["-y"]=_}return S(this._url,l(m,this.options))},_tileOnLoad:function(a,m){Ot.ielt9?setTimeout(c(a,this,null,m),0):a(null,m)},_tileOnError:function(a,m,_){var M=this.options.errorTileUrl;M&&m.getAttribute("src")!==M&&(m.src=M),a(_,m)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,m=this.options.maxZoom,_=this.options.zoomReverse,M=this.options.zoomOffset;return _&&(a=m-a),a+M},_getSubdomain:function(a){var m=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var a,m;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(m=this._tiles[a].el,m.onload=k,m.onerror=k,!m.complete)){m.src=z;var _=this._tiles[a].coords;nt(m),delete this._tiles[a],this.fire("tileabort",{tile:m,coords:_})}},_removeTile:function(a){var m=this._tiles[a];if(m)return m.el.setAttribute("src",z),Ei.prototype._removeTile.call(this,a)},_tileReady:function(a,m,_){if(!(!this._map||_&&_.getAttribute("src")===z))return Ei.prototype._tileReady.call(this,a,m,_)}});function so(a,m){return new Ro(a,m)}var oa=Ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,m){this._url=a;var _=l({},this.defaultWmsParams);for(var M in m)M in this.options||(_[M]=m[M]);m=j(this,m);var U=m.detectRetina&&Ot.retina?2:1,oe=this.getTileSize();_.width=oe.x*U,_.height=oe.y*U,this.wmsParams=_},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Ro.prototype.onAdd.call(this,a)},getTileUrl:function(a){var m=this._tileCoordsToNwSe(a),_=this._crs,M=ie(_.project(m[0]),_.project(m[1])),U=M.min,oe=M.max,De=(this._wmsVersion>=1.3&&this._crs===Tl?[U.y,U.x,oe.y,oe.x]:[U.x,U.y,oe.x,oe.y]).join(","),qe=Ro.prototype.getTileUrl.call(this,a);return qe+q(this.wmsParams,qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+De},setParams:function(a,m){return l(this.wmsParams,a),m||this.redraw(),this}});function xr(a,m){return new oa(a,m)}Ro.WMS=oa,so.wms=xr;var cr=nn.extend({options:{padding:.1},initialize:function(a){j(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,m){var _=this._map.getZoomScale(m,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,m),oe=M.multiplyBy(-_).add(U).subtract(this._map._getNewPixelOrigin(a,m));Ot.any3d?R(this._container,oe,_):re(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,m=this._map.getSize(),_=this._map.containerPointToLayerPoint(m.multiplyBy(-a)).round();this._bounds=new Me(_,_.add(m.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xr=cr.extend({options:{tolerance:0},getEvents:function(){var a=cr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ft(a,"mousemove",this._onMouseMove,this),Ft(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Te(this._redrawRequest),delete this._ctx,nt(this._container),ri(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var m in this._layers)a=this._layers[m],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cr.prototype._update.call(this);var a=this._bounds,m=this._container,_=a.getSize(),M=Ot.retina?2:1;re(m,a.min),m.width=M*_.x,m.height=M*_.y,m.style.width=_.x+"px",m.style.height=_.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var m=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var m=a._order,_=m.next,M=m.prev;_?_.prev=M:this._drawLast=M,M?M.next=_:this._drawFirst=_,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var m=a.options.dashArray.split(/[, ]+/),_=[],M,U;for(U=0;U<m.length;U++){if(M=Number(m[U]),isNaN(M))return;_.push(M)}a.options._dashArray=_}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ce(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var m=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Me,this._redrawBounds.extend(a._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(a._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var m=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,m=this._redrawBounds;if(this._ctx.save(),m){var _=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)a=M.layer,(!m||a._pxBounds&&a._pxBounds.intersects(m))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,m){if(this._drawing){var _,M,U,oe,De=a._parts,qe=De.length,$e=this._ctx;if(qe){for($e.beginPath(),_=0;_<qe;_++){for(M=0,U=De[_].length;M<U;M++)oe=De[_][M],$e[M?"lineTo":"moveTo"](oe.x,oe.y);m&&$e.closePath()}this._fillStroke($e,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var m=a._point,_=this._ctx,M=Math.max(Math.round(a._radius),1),U=(Math.max(Math.round(a._radiusY),1)||M)/M;U!==1&&(_.save(),_.scale(1,U)),_.beginPath(),_.arc(m.x,m.y/U,M,0,Math.PI*2,!1),U!==1&&_.restore(),this._fillStroke(_,a)}},_fillStroke:function(a,m){var _=m.options;_.fill&&(a.globalAlpha=_.fillOpacity,a.fillStyle=_.fillColor||_.color,a.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(a.setLineDash&&a.setLineDash(m.options&&m.options._dashArray||[]),a.globalAlpha=_.opacity,a.lineWidth=_.weight,a.strokeStyle=_.color,a.lineCap=_.lineCap,a.lineJoin=_.lineJoin,a.stroke())},_onClick:function(a){for(var m=this._map.mouseEventToLayerPoint(a),_,M,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(m)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(_))&&(M=_);this._fireEvent(M?[M]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,m)}},_handleMouseOut:function(a){var m=this._hoveredLayer;m&&(li(this._container,"leaflet-interactive"),this._fireEvent([m],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,m){if(!this._mouseHoverThrottled){for(var _,M,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(m)&&(M=_);M!==this._hoveredLayer&&(this._handleMouseOut(a),M&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([M],a,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,m,_){this._map._fireDOMEvent(m,_||m.type,a)},_bringToFront:function(a){var m=a._order;if(m){var _=m.next,M=m.prev;if(_)_.prev=M;else return;M?M.next=_:_&&(this._drawFirst=_),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(a)}},_bringToBack:function(a){var m=a._order;if(m){var _=m.next,M=m.prev;if(M)M.next=_;else return;_?_.prev=M:M&&(this._drawLast=M),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(a)}}});function Vr(a){return Ot.canvas?new Xr(a):null}var aa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$u={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var m=a._container=aa("shape");Nt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",a._path=aa("path"),m.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var m=a._container;this._container.appendChild(m),a.options.interactive&&a.addInteractiveTarget(m)},_removePath:function(a){var m=a._container;nt(m),a.removeInteractiveTarget(m),delete this._layers[v(a)]},_updateStyle:function(a){var m=a._stroke,_=a._fill,M=a.options,U=a._container;U.stroked=!!M.stroke,U.filled=!!M.fill,M.stroke?(m||(m=a._stroke=aa("stroke")),U.appendChild(m),m.weight=M.weight+"px",m.color=M.color,m.opacity=M.opacity,M.dashArray?m.dashStyle=P(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=M.lineCap.replace("butt","flat"),m.joinstyle=M.lineJoin):m&&(U.removeChild(m),a._stroke=null),M.fill?(_||(_=a._fill=aa("fill")),U.appendChild(_),_.color=M.fillColor||M.color,_.opacity=M.fillOpacity):_&&(U.removeChild(_),a._fill=null)},_updateCircle:function(a){var m=a._point.round(),_=Math.round(a._radius),M=Math.round(a._radiusY||_);this._setPath(a,a._empty()?"M0 0":"AL "+m.x+","+m.y+" "+_+","+M+" 0,"+65535*360)},_setPath:function(a,m){a._path.v=m},_bringToFront:function(a){pt(a._container)},_bringToBack:function(a){ni(a._container)}},uo=Ot.vml?aa:St,Ta=cr.extend({_initContainer:function(){this._container=uo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),ri(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cr.prototype._update.call(this);var a=this._bounds,m=a.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,_.setAttribute("width",m.x),_.setAttribute("height",m.y)),re(_,a.min),_.setAttribute("viewBox",[a.min.x,a.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(a){var m=a._path=uo("path");a.options.className&&Nt(m,a.options.className),a.options.interactive&&Nt(m,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){nt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var m=a._path,_=a.options;m&&(_.stroke?(m.setAttribute("stroke",_.color),m.setAttribute("stroke-opacity",_.opacity),m.setAttribute("stroke-width",_.weight),m.setAttribute("stroke-linecap",_.lineCap),m.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?m.setAttribute("stroke-dasharray",_.dashArray):m.removeAttribute("stroke-dasharray"),_.dashOffset?m.setAttribute("stroke-dashoffset",_.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),_.fill?(m.setAttribute("fill",_.fillColor||_.color),m.setAttribute("fill-opacity",_.fillOpacity),m.setAttribute("fill-rule",_.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(a,m){this._setPath(a,yt(a._parts,m))},_updateCircle:function(a){var m=a._point,_=Math.max(Math.round(a._radius),1),M=Math.max(Math.round(a._radiusY),1)||_,U="a"+_+","+M+" 0 1,0 ",oe=a._empty()?"M0 0":"M"+(m.x-_)+","+m.y+U+_*2+",0 "+U+-_*2+",0 ";this._setPath(a,oe)},_setPath:function(a,m){a._path.setAttribute("d",m)},_bringToFront:function(a){pt(a._path)},_bringToBack:function(a){ni(a._path)}});Ot.vml&&Ta.include($u);function Ls(a){return Ot.svg||Ot.vml?new Ta(a):null}gi.include({getRenderer:function(a){var m=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var m=this._paneRenderers[a];return m===void 0&&(m=this._createRenderer({pane:a}),this._paneRenderers[a]=m),m},_createRenderer:function(a){return this.options.preferCanvas&&Vr(a)||Ls(a)}});var sa=Sa.extend({initialize:function(a,m){Sa.prototype.initialize.call(this,this._boundsToLatLngs(a),m)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Le(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Ml(a,m){return new sa(a,m)}Ta.create=uo,Ta.pointsToPath=yt,Ar.geometryToLayer=Dr,Ar.coordsToLatLng=ru,Ar.coordsToLatLngs=na,Ar.latLngToCoords=ou,Ar.latLngsToCoords=As,Ar.getFeature=ra,Ar.asFeature=Zr,gi.mergeOptions({boxZoom:!0});var ua=ln.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ri(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_e(),Ve(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ft(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var m=new Me(this._point,this._startPoint),_=m.getSize();re(this._box,m.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(nt(this._box),li(this._container,"leaflet-crosshair")),Oe(),Ke(),ri(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var m=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gi.addInitHook("addHandler","boxZoom",ua),gi.mergeOptions({doubleClickZoom:!0});var No=ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var m=this._map,_=m.getZoom(),M=m.options.zoomDelta,U=a.originalEvent.shiftKey?_-M:_+M;m.options.doubleClickZoom==="center"?m.setZoom(U):m.setZoomAround(a.containerPoint,U)}});gi.addInitHook("addHandler","doubleClickZoom",No),gi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Aa=ln.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Mo(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){li(this._map._container,"leaflet-grab"),li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Le(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var m=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(m),this._prunePositions(m)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,m){return a-(a-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;a.x<m.min.x&&(a.x=this._viscousLimit(a.x,m.min.x)),a.y<m.min.y&&(a.y=this._viscousLimit(a.y,m.min.y)),a.x>m.max.x&&(a.x=this._viscousLimit(a.x,m.max.x)),a.y>m.max.y&&(a.y=this._viscousLimit(a.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,m=Math.round(a/2),_=this._initialWorldOffset,M=this._draggable._newPos.x,U=(M-m+_)%a+m-_,oe=(M+m+_)%a-m-_,De=Math.abs(U+_)<Math.abs(oe+_)?U:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=De},_onDragEnd:function(a){var m=this._map,_=m.options,M=!_.inertia||a.noInertia||this._times.length<2;if(m.fire("dragend",a),M)m.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,De=_.easeLinearity,qe=U.multiplyBy(De/oe),$e=qe.distanceTo([0,0]),lt=Math.min(_.inertiaMaxSpeed,$e),Et=qe.multiplyBy(lt/$e),zt=lt/(_.inertiaDeceleration*De),ai=Et.multiplyBy(-zt/2).round();!ai.x&&!ai.y?m.fire("moveend"):(ai=m._limitOffset(ai,m.options.maxBounds),ce(function(){m.panBy(ai,{duration:zt,easeLinearity:De,noMoveStart:!0,animate:!0})}))}}});gi.addInitHook("addHandler","dragging",Aa),gi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var su=ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ft(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ri(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,m=document.documentElement,_=a.scrollTop||m.scrollTop,M=a.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(M,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var m=this._panKeys={},_=this.keyCodes,M,U;for(M=0,U=_.left.length;M<U;M++)m[_.left[M]]=[-1*a,0];for(M=0,U=_.right.length;M<U;M++)m[_.right[M]]=[a,0];for(M=0,U=_.down.length;M<U;M++)m[_.down[M]]=[0,a];for(M=0,U=_.up.length;M<U;M++)m[_.up[M]]=[0,-1*a]},_setZoomDelta:function(a){var m=this._zoomKeys={},_=this.keyCodes,M,U;for(M=0,U=_.zoomIn.length;M<U;M++)m[_.zoomIn[M]]=a;for(M=0,U=_.zoomOut.length;M<U;M++)m[_.zoomOut[M]]=-a},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ri(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var m=a.keyCode,_=this._map,M;if(m in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(M=this._panKeys[m],a.shiftKey&&(M=ze(M).multiplyBy(3)),_.options.maxBounds&&(M=_._limitOffset(ze(M),_.options.maxBounds)),_.options.worldCopyJump){var U=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(M)));_.panTo(U)}else _.panBy(M)}else if(m in this._zoomKeys)_.setZoom(_.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;oi(a)}}});gi.addInitHook("addHandler","keyboard",su),gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Da=ln.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ri(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var m=ka(a),_=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var M=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),M),oi(a)},_performZoom:function(){var a=this._map,m=a.getZoom(),_=this._map.options.zoomSnap||0;a._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,oe=_?Math.ceil(U/_)*_:U,De=a._limitZoom(m+(this._delta>0?oe:-oe))-m;this._delta=0,this._startTime=null,De&&(a.options.scrollWheelZoom==="center"?a.setZoom(m+De):a.setZoomAround(this._lastMousePos,m+De))}});gi.addInitHook("addHandler","scrollWheelZoom",Da);var uu=600;gi.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Va=ln.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ri(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var m=a.touches[0];this._startPos=this._newPos=new Ce(m.clientX,m.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Zt),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),uu),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ri(document,"touchend",Zt),ri(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ri(document,"touchend touchcancel contextmenu",this._cancel,this),ri(document,"touchmove",this._onMove,this)},_onMove:function(a){var m=a.touches[0];this._newPos=new Ce(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,m){var _=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});_._simulated=!0,m.target.dispatchEvent(_)}});gi.addInitHook("addHandler","tapHold",Va),gi.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var la=ln.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){li(this._map._container,"leaflet-touch-zoom"),ri(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var m=this._map;if(!(!a.touches||a.touches.length!==2||m._animatingZoom||this._zooming)){var _=m.mouseEventToContainerPoint(a.touches[0]),M=m.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(_.add(M)._divideBy(2))),this._startDist=_.distanceTo(M),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Zt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var m=this._map,_=m.mouseEventToContainerPoint(a.touches[0]),M=m.mouseEventToContainerPoint(a.touches[1]),U=_.distanceTo(M)/this._startDist;if(this._zoom=m.getScaleZoom(U,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&U<1||this._zoom>m.getMaxZoom()&&U>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var oe=_._add(M)._divideBy(2)._subtract(this._centerPoint);if(U===1&&oe.x===0&&oe.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Te(this._animRequest);var De=c(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ce(De,this,!0),Zt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Te(this._animRequest),ri(document,"touchmove",this._onTouchMove,this),ri(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gi.addInitHook("addHandler","touchZoom",la),gi.BoxZoom=ua,gi.DoubleClickZoom=No,gi.Drag=Aa,gi.Keyboard=su,gi.ScrollWheelZoom=Da,gi.TapHold=Va,gi.TouchZoom=la,n.Bounds=Me,n.Browser=Ot,n.CRS=we,n.Canvas=Xr,n.Circle=Za,n.CircleMarker=tu,n.Class=ne,n.Control=_r,n.DivIcon=_o,n.DivOverlay=bo,n.DomEvent=Ea,n.DomUtil=hn,n.Draggable=Mo,n.Evented=ye,n.FeatureGroup=Hn,n.GeoJSON=Ar,n.GridLayer=Ei,n.Handler=ln,n.Icon=ta,n.ImageOverlay=At,n.LatLng=Re,n.LatLngBounds=Y,n.Layer=nn,n.LayerGroup=ea,n.LineUtil=Qs,n.Map=gi,n.Marker=$a,n.Mixin=yc,n.Path=Fo,n.Point=Ce,n.PolyUtil=qu,n.Polygon=Sa,n.Polyline=pn,n.Popup=wr,n.PosAnimation=ja,n.Projection=eu,n.Rectangle=sa,n.Renderer=cr,n.SVG=Ta,n.SVGOverlay=ji,n.TileLayer=Ro,n.Tooltip=yo,n.Transformation=Xe,n.Util=ve,n.VideoOverlay=Si,n.bind=c,n.bounds=ie,n.canvas=Vr,n.circle=jr,n.circleMarker=iu,n.control=Wr,n.divIcon=Xa,n.extend=l,n.featureGroup=Ts,n.geoJSON=it,n.geoJson=Ye,n.gridLayer=Ll,n.icon=Al,n.imageOverlay=Jt,n.latLng=V,n.latLngBounds=Le,n.layerGroup=Oo,n.map=Ni,n.marker=Ga,n.point=ze,n.polygon=_c,n.polyline=Dl,n.popup=au,n.rectangle=Ml,n.setOptions=j,n.stamp=v,n.svg=Ls,n.svgOverlay=Ds,n.tileLayer=so,n.tooltip=ao,n.transformation=ut,n.version=o,n.videoOverlay=xn;var Gu=window.L;n.noConflict=function(){return window.L=Gu,this},window.L=n})}(of,of.exports)),of.exports}var hs=g2();class v2{async geoCode(e){const o=await(await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:e}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"})).json();return o&&o[0]?o[0]:null}}const b2=new v2,y2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIDZVWTWhcVRT+7pskM29+Xl6SaSpdOFGQQlps6UIUrMRNEbvVVVHcGKtVtKEEBf9QoRJEFLFidCG6bJZWrJsG24UbS6uJtrTFdGwlyUySmcz0vUySeU/Oue++30mqBx5z7/n57rnnnp8RruuiE4kvx/fCar2NtbXHsekUI8IurYpM5hyy6ffcFyZmEsZkHwcW3741iKX6d2jYh6CngaF7gKIZtarWgLl5wG4BBf0nDPQ+4z77/uKWwGJyfASLtR8ghI59DwClnQDJw4cLEfzeXAAuXyO5jUHzSXd0YjoB7IPmdR2P7QdSmtTYIlT+AW0HOH8JaNg2dpgPqdBovuJy4xsUdB0H90lQAnTI2xCQAiNyvJuQ7sH9YNuVxvdKzMDi1Ik30Noo4cBuoCsVBdQEUL8DVOtAdVWu1QGudwCBk21ro8RY9L6sUG+M4d6dgJGLXr3dBi7MAEurITAXGDCAR/YCqVTAI1vCmK+OATipcWzX20UMlwIvSHGzDfx8CVi9s4TBvqfdd74W9NGaeSQjHTd0u+EhEBZharDXjyCbBvRMkAHk3fVbQNO2UTRH3Jc+mlKX4HXRHGEZ6ZCusqP0JCx7/Yh8PNqETyaq1ICcfqZTATAvp5/hfPaZ3k0JK5IVvoKHbq3RQ9YSckXbyRLACpRPzlAMzYSFIpIpL+NF5ANbraTXO0ygaR3mnhEj5jWtw6wTLyAPS0NP91neUN2HC+D+XUA+q6OyMi1OnXhKsXldWZlmGen4AiExCLin+yyXtPhg1MLwkI77dgGOE3hB5frLLLBMeaxK3AH6DeDhPUHZE6imAX/9A/wxZ7tvTmZlgWTT51FeOBTxgLDJ8NEHgXoT2HQknyqzNxdUp7okVWh5QWL5Mc7rJ2XZxiqMjMnrQg7oL8ivkJW88IORTaUuy52wFDC3Oz09iytzyWYTPsTp0EI5DAJsq6dnVesM0i2vv8seU7MBkuCdSKmQHfUTwlBnRhr9xLEZdKf2YOSAbEDOFr3YfzAh3+HcRWCjPeuOf+6nZrRAzNzLqFvAjduB4VYkPHDSXbWkbYgiwBwfIzuFK2Xpbad4w8sA4lNq/lmmB50Kj6Wkx0TF3mMQ7hIuXpW5qYnonFN7CsGvV8G6ZBM/O87gadtnHMX8MnCrEoAzYKgY/q6AdfqMo/EJ3REYqucaudP47To1eg/c+8jThgX8foOmxulwrw5T4n9FRPjhi3PI9JR4wHZ5Y4imxoXL1Mxvuq9/MZQw2s5jn/oLz/GkIO9Snre0plFPsm1oW2B+6QHjOMqLMqb00XrAOB7Pgv8VCl/ps7FJ1JrP88bMf+W+8vHoXW3+CzArfvraj3yLVz954q7KAP4FsFfcPBQDhqkAAAAASUVORK5CYII=",_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAJP0lEQVRoBcVaa2wc1RX+ZvZhr/dpZxOlBOqGJq3AQTQlbYpUBFRU6o9KrUSg/WW1UkUgoUCDEzUGtWpTEhTcFNoQcP+0ioQEOPwEIajkoPwIbaKEKiRpm5dNSZzHxtm1vV6vdz1TnXPnzs7emdmddZz0k652Hvec+82Zc88998xqpmliPtAGt6zCbLUXlep9KJdXoGpkPdWE9Rza2k4jEj6AaHivuX7np64+AdAyUe21zVsxUVyPSrUbtmgzHVrtJxIeRSo+aD7x0g5XtwYITFR7ta8fhclNqBqLIGXCIWBJJ5BJANmMS4aRywP5KeDyNaA6ZynTyNJXkU7uMjcObHfJeKApUX7FE9NvYma2xyaYTQErvwjcIt92Yx22RS/kgFOfAbmJGuH26HGkOn7czCUaEtV2P9uP/OTzqBoxm+Cdy4HFlvWkrJ8OTfM+v5IHTpyrEQ7rJWSSvzOf/L2vdX2Janv6tiJXEIIhHehZDqxYZhHD9RGVl0+fB46fA+YMcZ5N95sbBjx915MoW3J84gUYhvC/e74KZJLgcyc8ZBtCJa7rQH4SOPJv4FoR0DWgK/Wcl2VdROssmeoAHlgNhELi5o0gKvXuPwIUpsW5h2XriPLEyeX/gYoRQ2cc+PbdFE7cr1jlJ8dXiagPYvr0J8KVKnDgE2HZiF5CNvNN5wTT6xQVim/CMGOIhIA1dwiSNws0Fo8ZAnMgLk7j20ahV14q98AwgTu6gVRcWISaYTVTsSb5FDVNaWQhaup1p2WpSb306qnRmDQ2XSuVe5iThZrJJqY28S+FnpW3tWZGCuSX86Sj/t3SwEsyYmEIChr74rgIYYIT+yr7KK8644UXOEzcvxroSlpP7uOTulYjePpzEWbIx7x8lF4phbUVt9YIG4pC1WfHJ4GPjoqw2JV+jlYv8eoni48Ja6aFBYKAlsW/HQaOjwiShGh4lFcaanRMoHvUh/rmp4LpJg7ExcFNw+ubV+Hi+DG+uLYHWJathSFDme3SkhPTwEef1Pql4kPoaPutugxyFJku/woTxUeEvA7c/zUR9pz67dlv/ZIlz+eAj4+L86Vdd4VRqfbyCb2iZd6ZWh0qc8DBT4WlIqGSlkn8xPj5H9529aPnE8Qf1f/0i0fN/NRfUanGWPY794jZ3QjEhTjROJVqr47Z6n3sgzSJ5CxXm3Pmkk+WyuLpF6V7/Ug6wX0WpXtZhmRJh1OnOp6MBswJII46J70EWiqbWrMKnPpcHMdj75gbBva5+viA+8Zj7/Bd0iH9uhEkp3J5hY6qmWXaWadFPWY64UpBzHRNgxZv/43rfhOwDFmQdOQK7s5yXMmDc1wTtHvQXZ0boWDN2mh41NgwcKxBT0+wjIwGhYARwILubTr5hGb9ej1bEb+hUGujODFP2ZpFb+a6Pg/U2Dmd25X1WOfRiPitzgWYeT6Ys2TNRom35pJtzUfTFr9KtVvf03eX634TsMxstbtOVyM4jKcjGhnlJ6Ddoh/sWZgW67VhwizO/Nqnty9YhuIj6SBd6hxQwRNOozc5qiMSHuPbQdZhWk1W3iqOp0oPa3v61rn6+ID7TpUe5ruko9nK5OQUCY/piIYPsEtQWuWXP0pQdnX7LUAsKtb5XH4vLY+ufgq4Ty6/l2VIlnTMGa5+rvGZE4fDA0T0Pe5E/hDEqvTa7l0looRhxsyrE29pu54a4gREHXdwyyq6R33EziEsZIPkp8SllpW9J/LR7etzXAG5/QvA3StrFQ2ZHal+RE9L/vP3E8B0uZb1tEVHoWtFIWvGUZ7tto6BjjZg7Z1iEnnpg2OzRw/yz1PA2TGuqJj9g1kRntrbhjFVWsepFRENAhrwoW+IBOOMlTjLGe0EWfHLVuKse7iTH4iL5CbjqNbRtscsltZxZkNrcKdP6FCLYjTwV24TPsdbh2J9/1QCWJJ2bLd9MnsJ+SDEgbiEdOYG53ZZ27H+CsrVLLqXAqstq84pr95vu2sPpIRlNaD7EZV6pO8e+Q8wehFoC+fMrYOLURfwk/G/sMBnl8TTeM1+NV+kB6Fmn88pzahvat4JB1E5zvSM4EDnxEnawO6cig9A10p8PHoJ/zfIsYkLcVKJmr3bLiMee1dk8eeFhZrFVT9L23UAn5XHVQewGsnQ2HQtHnuXObksSpDJMGfy/3Xpv+GgMWXsVBLzOqK8GUvGPuAnou0C+ZkzpDSzbFBoyownneTDZE0aLxn7QN3RurOnjvZnoaPEu00qtt4sUJ2UrEm+SRwUuIjyk6QTb/CTnbkAzJQdtSSP2NeSJRXfpP07tZlZMRZdS8Xf8CqTu4hCbMKetyPAoX+57i84Dp202GglHtsDnkSNn714CenEbmi6qLOPXa2v2slZ2rJFZXPoGhsHrk4IfenEbh7bA66Kc53e7Y+P8PrdHgEeWlObSH4rTTPoSvJBej48BJQr/P3J7H/9S34aPC1qI9WxWVQ3ZoGzF2o+FTS+2qModVSph5IZ0k33Mok+l1xQouaTu4aQiIlqCFXkglbjgoB0kU5w1WVfs6pLQ6KMbHojfweip6avFzICcFMsJaH6smpJkmVdmvjGRGM0QVOivIx1JUU1Ol8ETo64+rSME46305Xc5Fwq/dBwMjmh7XrqICanv8WXHvy6KGDJNLDRTgCOyUPWJILDR8R5suNjc9Mf73UN5oHA+3ot1fFDO7bK+mirIJmDViwnXdn0D4JqCEyU4xvXOHUxU4+dqflgnd86Wkhpx86KVYjuLUr3BnnlLROFrHEmYkN8MnKptbyV+lLWTkjEhlqprWI+fyxgoRefGOE/FnBNfnWtJu/no5PTwP6jwpcpsP/yNd/A7ofWak8Sncnvs4+Rzx0+2dhf7T5zYi3PJH7q6nOjiHJ205naxhalLyTkr7TTVH2SrtE9+hhLvtyZ2mY8/tKwS+GNIgrhrzsQbxd+NuLwPyfo2ojlx/H2fX7f4oNg3v/SkdB2bjyHmVnhc99dI77rE+g7/IeHxXF7dMTc8upyl3ALmLdFbSztWmvH1+GjQLEkGh3DipfU5zpx3RYlaH/e8gCuFIY57ZNVlmtTwi8Xpx80H9u53yXUIq7fouSvRKQr1W8TvCbX8VT/QpDEQlnUVvbKM29hqiTqpYnY2+bTL/9owXQvJFFW+Moz79Ov+fTL31swpQD+B6DpPQVpybZ7AAAAAElFTkSuQmCC",w2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRIibWVv07DMBDGPyMLFpjiBUQkJrrABA/ABBPvwDvyAkyw0Cld6BTJEl2ciU5ZjK6cUxTbsdO0nxRFdU73u3++CmstDi25q39RqjMA9BwDKACs6Nxq8+3Z5mbCTq8AnAO4YOchtQBqAO9WmzYLIkpFDm8YMEYNgFcCRcvFzu848l1EJZwBqDyIKBWV4Z6jn6pNSWUPQPQnAKcR567eP/x7NmDr7LcQBjxHGtpyI5e9oCoAL571VnUHSQC6Bnpf/jKJaWG12WR8xAYPEQDpLQQQpbrmwQiJAvt055KNi4Ch00nPOY3y7cDUeZkLXBaPGXeg4b7EHDvVocwl396UhjJ1mltt5t4pQ2K9yNWao/d21n/IFC2owaHB2AckGf0UCEVcxWofk+T/gZwlSJPz4S7YWEiTgKx4crJKExJBviIbd81NXXpfxkKsNo0oFTl023RvzjsIv2mb0h4a3dSkAPwCJdSH4GnrpMEAAAAASUVORK5CYII=",x2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAArCAYAAADR0WDhAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVRogdWYsY4aMRCGf0cr0nAVbjjF0lWkCVWqUFFdlwdIqjxguqS5jipp7iquOSqklXLNUrENNI4GzXI+vCy7s/bCfRIS2LvY/3g8Y4+y1uKt8+7NKwCQeC0doIy+BtAHcMWjvQcwALABsOK2NX23abY6NaPo7qSMpokOAVzzp+89VM0WwBLAwqbZv7Ino4hQRpNVP/LkB94Dcp4BzGyaraOIUEb3ANwAGAee+CG0Mr9cN2stgt3lMwvoeQ/EIQfw06YZCZJvbGfyI68zPn1217lIBLvNmAWckxuRCGU0vTjt0G2qGBZ9tUSw9aes/uI4KYIT020A6684soCjV4j/21EpQhk94hWQkHOSeirLumycLy3C8ekQq4yeCiMPTf7eptnC6/HHoAj3TTAG8bvI4KUr0ULAX5tmc6/1CJR5ldHlndXk7hHEE6GMnggEeFm0DuxSEmbuj1dHcd4Dn7xXqpEK6PGeaMrj4UFwL4L9c+K9cpoHoYCJYFPTOPeHja47iZJYkz2AF2PdCgTkvOLbw44EL7459F4LiHNcGQuMRRO/KxMAZyWa7oM9FMlsms28Dsa5W4yECW51bAX2Y+DDgP74h9fTjCKxbZy3roQ3uUYCwCsR4jzUb7OaR1hUrbBLwta6NGZ1Mn5B4lQcLoGcN3CjkJ3EjkoNIMv/OeX/ZXjHjjNAkyb3WUqHPreIJft/Y+u7nEtEa+u7nEOE2PeP0aWInK1fWopsQ8KlwZgRiiw+t2n24PUEFLHxWsOx5NveOuIYOxGrCKWYaK5TRuFOodjyJanRHSOEiMxrlfHIVY5gUacuu5KNMvpri83did9XUYTYpUDEM7tOJ35fhSuibuWh001bh30FsIZL1a7sdY2bsZ+OiLjYyRe8qsUqo787d+LomTYUh2cnWg0qqVCcJwGdh8vGAPgPu3cdHuTAvBEAAAAASUVORK5CYII=",rv={lat:45.769785,lng:4.833967,zoom:14};class ov{constructor(){this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}init(){this.bindFields()}unbind(){}bindFields(){const e=this.$fields.length;for(let n=0;n<e;n++){const o=this.$fields[n];o.classList.contains("is-enable")||(this.bindSingleField(o),o.classList.add("is-enable"))}}bindSingleField(e){const n=e.parentElement.querySelector(".uk-form-label"),o=n.innerHTML;let l=null;window.RozierConfig.defaultMapLocation?l=window.RozierConfig.defaultMapLocation:l=rv;const u="geotag-canvas-"+this.uniqid(),c=u+"-address",h=u+"-reset";e.style.display="none",n.style.display="none",e.setAttribute("data-geotag-canvas",u);let v=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+o+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+c+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+u+'" style="width: 100%; height: 400px;"></div>'].join("");const x=document.createElement("div");if(x.innerHTML=v,e.after(x),!document.getElementById(u))throw new Error("Map container does not exist");let k=document.getElementById(c);k&&k.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let A=document.getElementById(h);A&&(A.style.display="none");let B={center:this.createLatLng(l),zoom:l.zoom||l.alt,styles:window.RozierConfig.mapsStyle},N=this.createMap(u,B),j=null;if(e.value!=="")try{l=JSON.parse(e.value),j=this.createMarker(l,N),A.style.display="inline-block",j.on("dragend",this.setMarkerEvent.bind(this,j,e,A,N)),A.addEventListener("click",this.resetMarker.bind(this,j,e,A,N))}catch{return e.style.display=null,document.getElementById(u).style.display="none",!1}N.on("click",this.setMarkerEvent.bind(this,j,e,A,N)),k.addEventListener("keypress",this.requestGeocode.bind(this,j,e,A,N)),this.resetMap(N,j,B,null),new ResizeObserver(O=>{N.invalidateSize({animate:!1,pan:!1}),j!==null?N.panTo(j.getLatLng(),{animate:!1,pan:!1}):N.panTo(B.center,{animate:!1,pan:!1})}).observe(document.getElementById(u))}resetMap(e,n,o){window.requestAnimationFrame(()=>{e.invalidateSize(!0),n!==null?e.panTo(n.getLatLng()):e.panTo(o.center)})}resetMarker(e,n,o,l,u){return u.preventDefault(),e.removeFrom(l),n.value="",o.style.display="none",!1}setMarkerEvent(e,n,o,l,u){if(e||(e=this.createAndBindMarker(u.latlng,l,n,o)),typeof u.latlng<"u")this.setMarker(e,n,o,l,u.latlng);else{const c=e.getLatLng();l.panTo(c),this.applyGeocode(n,o,c,l.getZoom(),void 0)}}createAndBindMarker(e,n,o,l){const u=this.createMarker(e,n);return u.on("dragend",this.setMarkerEvent.bind(this,u,o,l,n)),l.addEventListener("click",this.resetMarker.bind(this,u,o,l,n)),n.off("click"),n.on("click",this.setMarkerEvent.bind(this,u,o,l,n)),u}setMarker(e,n,o,l,u){e||(e=this.createAndBindMarker(u,l,n,o)),e.setLatLng(u),e.addTo(l),l.panTo(u),this.applyGeocode(n,o,e.getLatLng(),l.getZoom(),e.name)}latLngToFeature(e,n,o){return e.alt&&(n=e.alt,e.alt=void 0),{type:"Feature",properties:{name:o||"",zoom:n},geometry:{type:"Point",coordinates:hs.GeoJSON.latLngToCoords(e)}}}applyGeocode(e,n,o,l,u){e.value=JSON.stringify(this.latLngToFeature(o,l,u)),n.style.display="inline-block"}createMarker(e,n){let o=null;e instanceof hs.LatLng?o=e:o=this.createLatLng(e);let l=new hs.Marker(o,{icon:this.createIcon(),draggable:!0}).addTo(n);return n.flyTo(o,o.alt),l.alt=o.alt,e.type&&e.type==="Feature"&&e.properties&&e.properties.name&&(l.name=e.properties.name),e.name&&(l.name=e.name),l}async requestGeocode(e,n,o,l,u){let c=u.currentTarget.value;if(u.which&&u.which===13){u.preventDefault();const h=await this.getLatLngForAddress(c);if(h===null){console.error("Geocode was not successful.");return}this.setMarker(e,n,o,l,h)}}uniqid(){return new Date().getTime()}createMap(e,n){const o=new hs.Map(document.getElementById(e)).setView(n.center,n.zoom),l=new hs.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return o.addLayer(l),o}createLatLng(e){if(typeof e.lat=="number"&&typeof e.lng=="number")return new hs.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&e.type==="Feature"){const n=e.properties&&e.properties.zoom?Number.parseInt(e.properties.zoom):7,o=new hs.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],n);return e.properties&&e.properties.name&&(o.name=e.properties.name),o}throw new Error("Cannot create LatLng object from data")}createIcon(){return new hs.Icon({iconUrl:y2,iconRetinaUrl:_2,shadowUrl:w2,shadowRetinaUrl:x2,iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}getLatLngForAddress(e){return b2.geoCode(e).then(n=>{if(n!==null){const o=new hs.LatLng(n.lat,n.lon);return o.name=n.display_name,o}else return null}).catch(n=>null)}}class k2 extends ov{constructor(){super(),this.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}resetMarker(e,n,o,l,u){n.value="";for(const c of e)c!==null&&c.removeFrom(l);return e=[],o.style.display="none",this.syncSelector(u,e,l,n),!1}bindSingleField(e){const n=e.parentElement.querySelector(".uk-form-label"),o=n.innerHTML||"Geotag";n.style.display="none";let l=null;window.RozierConfig.defaultMapLocation?l=window.RozierConfig.defaultMapLocation:l=rv;const u="geotag-canvas-"+this.uniqid(),c=u+"-address",h=u+"-reset",v={center:this.createLatLng(l),zoom:l.zoom||l.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",u);let x=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+o+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+c+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+u+'"></div>',"</div>"].join("");const w=document.createElement("div");w.innerHTML=x,e.after(w);let k=document.getElementById(c);k.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let A=document.getElementById(h);A.style.display="none";const B=this.createMap(u,v),N=[],j=e.parentElement.querySelector(".multi-geotag-list-markers");if(e.value!=="")try{const O=JSON.parse(e.value);if(!O.features)throw new Error("Data is not a valid GeoJSON featureCollection");for(const S of O.features){const P=this.createMarker(S,B);P.on("dragend",this.setMarkerEvent.bind(this,P,N,e,A,B,j)),N.push(P)}}catch{return e.style.display="block",document.getElementById(u).style.display="none",!1}B.on("click",this.setMarkerEvent.bind(this,null,N,e,A,B,j)),k.addEventListener("keypress",this.requestGeocode.bind(this,N,e,A,B,j)),this.resetMap(B,N,v,null),this.syncSelector(j,N,B,e),new ResizeObserver(O=>{B.invalidateSize({animate:!1,pan:!1}),typeof N<"u"&&N.length>0?B.fitBounds(this.getMediumLatLng(N),{animate:!1,pan:!1}):B.panTo(v.center,{animate:!1,pan:!1})}).observe(document.getElementById(u))}syncSelector(e,n,o,l){e.innerHTML="";const u=[];let c=0;const h=n.filter(x=>x!==null&&x.getLatLng()!==null);for(const x of h)["<li>",'<span class="multi-geotag-marker-name">',x.name?x.name:"#"+c,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+c+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+c+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(w=>u.push(w)),c++;e.innerHTML=u.join("");let v=0;for(const x of h){let w=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+v+'"]'),k=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+v+'"]');w&&k&&(w.addEventListener("click",this.centerMap.bind(this,o,x)),k.addEventListener("click",this.removeMarker.bind(this,o,n,x,e,l))),v++}}removeMarker(e,n,o,l,u,c){c&&c.preventDefault();const h=n.indexOf(o);return o.removeFrom(e),n.splice(h,1),this.syncSelector(l,n,e,u),this.writeMarkers(n,u),!1}resetMap(e,n,o,l){l&&l.preventDefault(),window.requestAnimationFrame(()=>{e.invalidateSize({animate:!0,pan:!0}),typeof n<"u"&&n.length>0?e.fitBounds(this.getMediumLatLng(n)):e.panTo(o.center)})}centerMap(e,n,o){if(o&&o.preventDefault(),e&&n){const l=n.getLatLng();e.flyTo(l,l.alt)}}getMediumLatLng(e){let n=new hs.LatLngBounds;for(const o of e)n.extend(o.getLatLng());return n}setMarkerEvent(e,n,o,l,u,c,h){if(h.latlng)this.setMarker(e,n,o,l,u,h.latlng);else if(e!==null){const v=e.getLatLng();v.alt=u.getZoom(),e.setLatLng(v),u.flyTo(v,v.alt),this.writeMarkers(n,o)}this.syncSelector(c,n,u,o)}setMarker(e,n,o,l,u,c,h){return u&&(c.alt||(c.alt=u.getZoom()),e===null?e=this.createMarker(c,u):(e.setLatLng(c),e.addTo(u)),e.name=h,u.flyTo(c,c.alt),n.push(e),this.writeMarkers(n,o)),e}writeMarkers(e,n){const o={type:"FeatureCollection",features:[]};for(const l of e)if(l){const u=l.getLatLng();o.features.push(this.latLngToFeature(u,u.alt,l.name))}n.value=JSON.stringify(o)}async requestGeocode(e,n,o,l,u,c){let h=c.currentTarget.value;if(c.which&&c.which===13){c.preventDefault();const v=await this.getLatLngForAddress(h);if(v===null){console.error("Geocode was not successful.");return}v.alt=l.getZoom(),this.setMarker(null,e,n,o,l,v,v.name||""),this.syncSelector(u,e,l,n)}}}class E2{constructor(){this.linksSelector=null,this.currentRequest=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.tagAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),window.history.pushState({},document.title,window.location.href)}parseLinks(){this.linksSelector=document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')}onClick(e){const n=e.currentTarget,o=n.getAttribute("href");if(typeof o<"u"&&o!==null&&!n.classList.contains("rz-no-ajax-link")&&o!==""&&o!=="#"&&(o.indexOf(window.RozierConfig.baseUrl)>=0||o.charAt(0)==="/"||o.charAt(0)==="?"))return e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,o),this.onPopState(null)}),!1}onPopState(e){let n=null;e!==null&&e.originalEvent&&(n=e.originalEvent.state),(typeof n>"u"||n===null)&&(n=window.history.state),n!==null&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),this.loadContent(n,window.location))}loadContent(e,n){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{let o=new CustomEvent("pagechange");window.dispatchEvent(o);try{let l="";const u=n.href.split("?")[0],c=new URLSearchParams(n.href.split("?")[1]);if(e.headerData)for(let[w,k]of Object.entries(e.headerData))Array.isArray(k)?k.forEach((A,B)=>{c.append(w+"["+B+"]",A)}):c.set(w,k);c.toString()!==""?l=u+"?"+c.toString():l=u;const h=await fetch(l,{method:"GET",headers:{Accept:"text/html"}});if(!h.ok)throw h;const v=await h.text();this.applyContent(v);let x=new CustomEvent("pageload",{detail:v});window.dispatchEvent(x)}catch(l){const u=await l.text();if(u)try{let c=JSON.parse(u);window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:c.message,status:"danger"}}))}catch{window.location.href=n.href}else window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:window.RozierConfig.messages.forbiddenPage,status:"danger"}}))}window.dispatchEvent(new CustomEvent("requestLoaderHide"))})}refreshCodemirrorEditor(){for(let e of this.markdownEditors)e.forceEditorUpdate();for(let e of this.yamlEditors)e.forceEditorUpdate();for(let e of this.cssEditors)e.forceEditorUpdate();for(let e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(let e of this.markdownEditors)e.destroy();for(let e of this.yamlEditors)e.destroy();for(let e of this.cssEditors)e.destroy();for(let e of this.jsonEditors)e.destroy()}async applyContent(e){let n=document.getElementById("main-content-scrollable"),o=n.querySelector(".content-global"),l=document.createElement("div");l.innerHTML=e;const u=l.querySelector("[data-ajax-root]");u&&(l=document.createElement("div"),l.innerHTML=u.innerHTML),l.classList.add("new-content-global"),n.querySelectorAll('meta[name="title"]').forEach(v=>{v.remove()}),n.append(l);const h=n.querySelectorAll('meta[name="title"]');if(h.length&&(document.title=h[0].getAttribute("content")),l=n.querySelector(".new-content-global"),o&&l){await Bu(o,100),o.remove(),this.generalBind(),await _l(l,200),l.classList.remove("new-content-global");const v=new CustomEvent("pageshowend");window.dispatchEvent(v)}}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.tagAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.inputLengthWatcher=new hx,this.documentUploader=new lx(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new dx,this.geotagField=new ov,this.multiGeotagField=new k2,this.stackNodeTrees=new px,this.attributeValuesPosition=new cx,this.customFormFieldsPosition=new fx,this.settingsSaveButtons=new mx,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),document.querySelectorAll(".actions-menu").length&&Gh.to(".actions-menu",.5,{right:0,delay:.4,ease:Zh.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new gx,window.Rozier.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(let n of e)n&&n.unbind()}initCollectionsForms(e=null){const n=this;let o=null;e!==null?o=e.querySelectorAll(".rz-collection-form-type"):o=document.querySelectorAll(".rz-collection-form-type"),o.length&&$(o).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(l,u)=>{const c=u[0];return n.initMarkdownEditors(c),n.initJsonEditors(c),n.initCssEditors(c),n.initYamlEditors(c),n.initCollectionsForms(c),c.querySelectorAll("[data-vuejs]").forEach(v=>{window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(v))}),!0}})}initMarkdownEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-markdowneditor]"):n=document.querySelectorAll("textarea[data-rz-markdowneditor]");let o=n.length;if(o)for(let l=0;l<o;l++)this.markdownEditors.push(new h2(n[l],l))}initJsonEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-jsoneditor]"):n=document.querySelectorAll("textarea[data-rz-jsoneditor]");let o=n.length;if(o)for(let l=0;l<o;l++)this.jsonEditors.push(new d2(n[l],l))}initCssEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-csseditor]"):n=document.querySelectorAll("textarea[data-rz-csseditor]");let o=n.length;if(o)for(let l=0;l<o;l++)this.cssEditors.push(new p2(n[l],l))}initYamlEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-yamleditor]"):n=document.querySelectorAll("textarea[data-rz-yamleditor]");let o=n.length;if(o)for(let l=0;l<o;l++)this.yamlEditors.push(new vx(n[l],l))}initFilterBars(){const e=document.querySelectorAll("select.item-per-page");if(e.length){const n=o=>{const l=o.currentTarget.closest("form");l&&l.requestSubmit()};e.forEach(o=>{o.addEventListener("change",n)})}}resize(){}}const av="NODES_SEARCH_REQUEST",sv="NODES_SEARCH_SUCCESS",uv="NODES_SEARCH_RESET",lv="NODES_SEARCH_FAILED",cv="NODES_SEARCH_ENABLE_FOCUS",fv="NODES_SEARCH_DISABLE_FOCUS",hv="EXPLORER_REQUEST",nm="EXPLORER_SUCCESS",Cp="EXPLORER_RESET",dv="EXPLORER_FAILED",pv="EXPLORER_OPEN",rm="EXPLORER_CLOSE",mv="EXPLORER_LOAD_MORE",gv="EXPLORER_LOAD_MORE_SUCCESS",vv="EXPLORER_IS_LOADED",Qh="EXPLORER_UPDATE_SEARCH_TERMS",bv="FILTER_EXPLORER_OPEN",yv="FILTER_EXPLORER_CLOSE",_v="FILTER_EXPLORER_REQUEST",wv="FILTER_EXPLORER_SUCCESS",Sp="FILTER_EXPLORER_FAILED",om="FILTER_EXPLORER_UPDATE",xv="FILTER_EXPLORER_RESET",ws="KEYBOARD_EVENT_ESCAPE",kv="KEYBOARD_EVENT_SPACE",Tp="LOGIN_CHECK_DISCONNECTED",Ev="LOGIN_CHECK_CONNECTED",Ap="HEALTH_CHECK_FAILED",Cv="HEALTH_CHECK_SUCCEEDED",Sv="DRAWERS_ADD_INSTANCE",Tv="DRAWERS_REMOVE_INSTANCE",Av="DRAWERS_ADD_DOCUMENT",Dv="DRAWERS_REMOVE_DOCUMENT",Lv="DRAWERS_EDIT_INSTANCE",Mv="DRAWERS_UPDATE_LIST",Pv="DRAWERS_ENABLE_DROPZONE",Ov="DRAWERS_DISABLE_DROPZONE",Fv="DRAWERS_INIT_DATA_REQUEST",Dp="DRAWERS_INIT_DATA_REQUEST_SUCCESS",Rv="DRAWERS_INIT_DATA_REQUEST_FAILED",Nv="DRAWERS_INIT_DATA_REQUEST_EMPTY",Iv="TAG_CREATE_NEW_REQUEST",zv="TAG_CREATE_NEW_REQUEST_SUCCESS",Bv="TAG_CREATE_NEW_REQUEST_ERROR",Hv="TAG_CREATOR_READY",Wv="DOCUMENT_PREVIEW_INIT",qv="DOCUMENT_PREVIEW_DESTROY",jv="DOCUMENT_PREVIEW_OPEN",Uv="DOCUMENT_PREVIEW_CLOSE",Yv="BLANCHETTE_EDITOR_INIT",Lp="BLANCHETTE_EDITOR_IS_LOADING",Ih="BLANCHETTE_EDITOR_LOADED",$v="BLANCHETTE_EDITOR_ERROR",Gv="BLANCHETTE_EDITOR_SAVE_SUCCESS";function C2(t){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:t};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async n=>{const o=await n.json();return typeof o.data<"u"&&o.data.length>0?o.data:[]}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}const S2=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:C2},Symbol.toStringTag,{value:"Module"})),mc="document",Tf="node",am="node-type",Zv="join",Xv="explorer-provider",Vv="custom-form",gc="tag",Kv="node-source-document";function T2({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(n._locale=e._locale);for(let o=0;o<t.length;o++)n["ids["+o+"]"]=t[o];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json"}}).then(async o=>{const l=await o.json();return typeof l<"u"&&l.documents?{items:l.documents,trans:l.trans}:null}).catch(async o=>{throw new Error((await o.response.json()).humanMessage)})}function A2({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:o,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),o&&o.id&&(u.folderId=o.id),l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json"}}).then(async c=>{const h=await c.json();return typeof h<"u"&&h.documents?{items:h.documents,filters:h.filters,trans:h.trans}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function D2(t){return fetch(window.location.href,{method:"POST",body:t,headers:{Accept:"application/json"}})}function L2({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};e&&e._locale&&(n._locale=e._locale);for(let o=0;o<t.length;o++)n["ids["+o+"]"]=t[o];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async o=>{const l=await o.json();return typeof l<"u"&&l.items?{items:l.items}:null}).catch(async o=>{throw new Error((await o.response.json()).humanMessage)})}function M2({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:o,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};if(e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),o&&o.id&&(u.tagId=o.id),e&&e.nodeTypes){const c=JSON.parse(e.nodeTypes);Array.isArray(c)&&c.length>0&&(u.nodeTypes=c)}return l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async c=>{const h=await c.json();return typeof h<"u"&&h.nodes?{items:h.nodes,filters:h.filters}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function P2({ids:t=[]}){t=t.map(n=>n.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let n=0;n<t.length;n++)e["names["+n+"]"]=t[n];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async n=>{const o=await n.json();return typeof o<"u"&&o.items?{items:o.items}:null}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}function O2({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:o,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async c=>{const h=await c.json();return typeof h<"u"&&h.nodeTypes?{items:h.nodeTypes,filters:h.filters}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function F2({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};e&&e._locale&&(n._locale=e._locale);for(let o=0;o<t.length;o++)n["ids["+o+"]"]=t[o];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json"}}).then(async o=>{const l=await o.json();return typeof l<"u"&&l.items?{items:l.items}:null}).catch(async o=>{throw new Error((await o.response.json()).humanMessage)})}function R2({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:o,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),e&&e.nodeTypeField&&(u.nodeTypeFieldName=e.nodeTypeField),l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json"}}).then(async c=>{const h=await c.json();return typeof h<"u"&&h.entities?{items:h.entities,filters:h.filters}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function N2({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken};for(let o=0;o<t.length;o++)n["ids["+o+"]"]=t[o];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json"}}).then(async o=>({items:(await o.json()).forms})).catch(async o=>{throw new Error((await o.response.json()).humanMessage)})}function I2({searchTerms:t,filters:e,moreData:n}){const o={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return n&&(o.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(o),{method:"GET",headers:{accept:"application/json"}}).then(async l=>{const u=await l.json();return typeof u<"u"&&u.customForms?{items:u.customForms,filters:u.filters}:{}}).catch(async l=>{throw new Error((await l.response.json()).humanMessage)})}function Qv({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:o,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),l&&(u.page=n?n.nextPage:1),o&&o.id&&(u.tagId=o.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async c=>{const h=await c.json();if(typeof h<"u"&&h.tags)return{items:h.tags,filters:h.filters};throw new Error("No tags found")}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function Jv({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(n._locale=e._locale);for(let o=0;o<t.length;o++)n["ids["+o+"]"]=t[o];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async o=>{const l=await o.json();return typeof l<"u"&&l.tags?{items:l.tags}:{}}).catch(async o=>{throw new Error((await o.response.json()).humanMessage)})}function eb({tagName:t}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:t};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(e),{method:"POST",headers:{Accept:"application/json"}}).then(async n=>{const o=await n.json();if(typeof o<"u"&&o.tag)return o.tag;throw new Error("Tag creation error")}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}const z2=Object.freeze(Object.defineProperty({__proto__:null,createTag:eb,getTags:Qv,getTagsByIds:Jv},Symbol.toStringTag,{value:"Module"}));function tb({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};e&&e._locale&&(n._locale=e._locale);for(let o=0;o<t.length;o++)n["ids["+o+"]"]=t[o];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async o=>{const l=await o.json();return typeof l<"u"&&l.items?{items:l.items}:null}).catch(async o=>{throw new Error((await o.response.json()).humanMessage)})}function ib({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:o,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),e&&e.providerClass&&(u.providerClass=e.providerClass),e&&e.providerOptions&&(u.options=e.providerOptions),l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async c=>{const h=await c.json();return typeof h<"u"&&h.entities?{items:h.entities,filters:h.filters}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}const B2=Object.freeze(Object.defineProperty({__proto__:null,getItems:ib,getItemsByIds:tb},Symbol.toStringTag,{value:"Module"}));function H2({entity:t,searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u=!1}){switch(t){case mc:return A2({searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u});case Tf:return M2({searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u});case am:return O2({searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u});case Zv:return R2({searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u});case Vv:return I2({searchTerms:e,filters:o,moreData:u});case gc:return Qv({searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u});case Xv:return ib({searchTerms:e,preFilters:n,filters:o,filterExplorerSelection:l,moreData:u})}return Promise.reject(new Error("No type entity found"))}const W2=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:H2},Symbol.toStringTag,{value:"Module"}));function q2(){const t={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.folders?{items:n.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function j2(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.tags?{items:n.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function U2(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.tags?{items:n.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function Y2({entity:t}){switch(t){case mc:return q2();case Tf:return j2();case gc:return U2();default:return Promise.reject(new Error("Entity not found"))}}const $2=Object.freeze(Object.defineProperty({__proto__:null,getFilters:Y2},Symbol.toStringTag,{value:"Module"}));function nb(t,e=[],n){switch(t){case mc:return T2({ids:e,filters:n});case Tf:return L2({ids:e,filters:n});case am:return P2({ids:e});case Zv:return F2({ids:e,filters:n});case Vv:return N2({ids:e,filters:n});case gc:return Jv({ids:e,filters:n});case Xv:return tb({ids:e,filters:n})}return Promise.reject(new Error("No type entity found"))}const G2=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:nb},Symbol.toStringTag,{value:"Module"}));function rb(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}).then(async t=>(await t.json()).url).catch(()=>{throw new Error("Image not found")})}const Z2=Object.freeze(Object.defineProperty({__proto__:null,getImage:rb},Symbol.toStringTag,{value:"Module"})),sm={...S2,...W2,...$2,...G2,...z2,...Z2,...B2},X2={searchTerms:null,items:[],isFocus:!1,isOpen:!1},V2={},K2={nodeSourceSearchEnableFocus({commit:t}){t(cv)},nodeSourceSearchDisableFocus({commit:t}){t(fv)},nodeSourceSearchEscape({commit:t}){t(ws)},nodesSourceSearchUpdate({commit:t},e=""){if(!e||e.length<=1){t(uv);return}t(av,{searchTerms:e}),sm.getNodesSourceFromSearch(e).then(n=>{t(sv,{items:n})}).catch(()=>{t(lv)})}},Q2={[cv](t){t.isFocus=!0},[fv](t){t.isFocus=!1},[av](t,{searchTerms:e}){t.searchTerms=e},[sv](t,{items:e}){t.items=e},[lv](t){t.items=[]},[uv](t){t.items=[]},[ws](t){t.items=[],t.isFocus=!1}},J2={state:X2,getters:V2,actions:K2,mutations:Q2};function zh(t,e,n=0,o="[]"){if(t&&t.length&&t.length>e+o.length){let l=t.substr(0,Math.floor(e/2)+Math.floor(n/2)),u=t.substr(Math.floor(e/2)*-1+Math.floor(n/2));return l+o+u}else return t}function eC(t,e,n=0,o=""){return t&&t.length&&t.length>e?t.substr(0,e+n)+o:t}const tC={centralTruncate:zh,truncate:eC};function zn(t,e,n,o,l,u,c,h){var v=typeof t=="function"?t.options:t;return e&&(v.render=e,v.staticRenderFns=n,v._compiled=!0),u&&(v._scopeId="data-v-"+u),{exports:t,options:v}}const iC={props:["title","href","typeColor"],methods:{onItemClick:function(t){window.Rozier.lazyload.onClick(t),this.$store.commit(ws)}}};var nC=function(){var e=this,n=e._self._c;return n("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(o){return o.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},rC=[],oC=zn(iC,nC,rC,!1,null,null);const um=oC.exports,ob={bind(t,e){let n=new Image;n.src=e.value,n.onload=async()=>{t.src=e.value,await _l(t,1e3)}}},aC={directives:{DynamicImg:ob},filters:tC,props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],computed:{shortMimeType:function(){return zh(this.document.shortMimeType,13)},filename:function(){return zh(this.document.classname,12)},name:function(){return zh(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...Wa({previewIsVisible:t=>t.documentPreview.isVisible}),...Ys(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen({document:this.document})},onEditClick(t){this.document.processable&&this.$emit("edit",{document:this.document,index:this.index,currentTarget:t.currentTarget})},onMouseover(){this.documentPreviewInit({document:this.item.document})},onMouseleave(){this.previewIsVisible||this.documentPreviewDestroy({document:this.item.document})}},components:{AjaxLink:um}};var sC=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.document?n("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[n("div",{staticClass:"preview-zoom",on:{click:function(o){return o.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-search-plus"})]),n("div",{on:{click:function(o){return o.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[n("div",{staticClass:"uk-sortable-handle"}),n("div",{staticClass:"document-border"}),n("div",{staticClass:"document-overflow"},[e.document.isPrivate?[n("div",{staticClass:"document-platform-icon"},[n("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[n("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[n("picture",[n("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),n("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e.drawerName&&e.entityName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}),n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}})]:e.drawerName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),n("div",{staticClass:"document-links"},[n(e.document.processable?"button":"a",{tag:"component",class:["uk-button","document-link","uk-button-mini","document-link--edit"],attrs:{id:`edit-${e.drawerName}[${e.index}]`,type:e.document.processable?"button":null,href:e.document.processable?null:e.editUrl},on:{click:e.onEditClick}},[n("i",{staticClass:"uk-icon-rz-pencil"})]),n("button",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e.document.embedPlatform?[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-"+e.document.icon})])]:[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])],2),n("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},uC=[],lC=zn(aC,sC,uC,!1,null,null);const Gg=lC.exports,cC={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:um}};var fC=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.item?n("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":e.published===!1},on:{click:function(o){return o.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[n("div",{staticClass:"uk-sortable-handle"}),n("div",{staticClass:"border",style:{backgroundColor:e.color}}),e.thumbnailUrl&&!e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail"},[n("picture",[n("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),n("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),n("div",{staticClass:"names"},[e.parentName?n("p",{staticClass:"parent-name"},[e.subParentName?[n("span",{staticClass:"sub"},[e._v(" "+e._s(e.subParentName)+" ")])]:e._e(),n("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),n("span",{staticClass:"name"},[e._v(e._s(e.name))]),e.inputName&&e.item&&e.item.id?n("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),n("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?n("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),n("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},hC=[],dC=zn(cC,fC,hC,!1,null,null);const pC=dC.exports,mC={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:pC}};var gC=function(){var e=this,n=e._self._c;return n("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},vC=[],bC=zn(mC,gC,vC,!1,null,null);const Zg=bC.exports,yC={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var _C=function(){var e=this,n=e._self._c;return n("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),n("div",{staticClass:"new-tag"},[n("p",{staticClass:"parent-name"}),n("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},wC=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],xC=zn(yC,_C,wC,!1,null,"22f18d8b");const kC=xC.exports,EC={mounted(){this.tagCreatorReady()},computed:{...Wa({translations:t=>t.translations,searchTerms:t=>t.explorer.searchTerms,isTagExisting:t=>t.tags.isTagExisting})},methods:{...Ys(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:kC}};var CC=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?n("div",{staticClass:"tag-creator"},[n("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),n("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},SC=[],TC=zn(EC,CC,SC,!1,null,"bd268ee8");const AC=TC.exports;class Mp{static getState(e){const n={trans:{moreItems:""}};switch(n.isFilterEnable=!1,n.currentListingView=Zg,n.trans.moreItems="moreEntities",e){case mc:n.currentListingView=Gg,n.filterExplorerIcon="uk-icon-rz-folder-tree-mini",n.trans.moreItems="moreDocuments",n.isFilterEnable=!0;break;case Tf:n.filterExplorerIcon="uk-icon-tags",n.trans.moreItems="moreNodes",n.isFilterEnable=!0;break;case am:n.trans.moreItems="moreNodeTypes";break;case gc:n.trans.moreItems="moreTags",n.isFilterEnable=!0,n.filterExplorerIcon="uk-icon-tags";break;default:n.trans.moreItems="moreEntities";break}return n}static getListingView(e){switch(e){case mc:return Gg;default:return Zg}}static getWidgetView(e){switch(e){case gc:return AC;default:return null}}}const ab={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},sb={...ab},DC={getExplorerEntity:t=>t.entity,getExplorerSearchTerms:t=>t.searchTerms},LC={async explorerOpen({commit:t,dispatch:e},{entity:n}){e("filterExplorerClose"),t(Cp),t(pv,{entity:n}),await e("explorerMakeSearch"),t(vv)},explorerClose({commit:t,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),t(Cp),t(rm)},explorerToggle({dispatch:t,state:e}){e.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms({commit:t,state:e,dispatch:n}){const o="";e.searchTerms===o?t(Qh,{searchTerms:o}):n("explorerUpdateSearch",{searchTerms:o})},explorerUpdateSearch({commit:t,dispatch:e},{searchTerms:n}){t(Qh,{searchTerms:n}),e("explorerMakeSearch")},explorerMakeSearch({commit:t,state:e,getters:n}){const o=e.entity,l=e.searchTerms,u=n.getDrawerFilters,c=e.filters,h=n.getFilterExplorerSelectedItem,v=e.isLoadingMore;return t(hv),sm.getExplorerItems({entity:o,searchTerms:l,preFilters:u,filters:c,filterExplorerSelection:h,moreData:v}).then(x=>{t(nm,{result:x})}).catch(x=>{console.error(x),t(dv,{error:x})})},async explorerLoadMore({commit:t,dispatch:e}){t(mv),await e("explorerMakeSearch"),t(gv)}},MC={[hv](t){t.isLoadingMore||(t.isLoading=!0)},[Qh](t,{searchTerms:e}){t.searchTerms=e},[nm](t,{result:e}){t.isLoading=!1,t.isLoadingMore?t.items=[...t.items,...e.items]:t.items=e.items,t.filters=e.filters},[mv](t){t.isLoadingMore=!0},[gv](t){t.isLoadingMore=!1},[om](t){t.filters={}},[Cp](t){for(let e in t)t.hasOwnProperty(e)&&hc.set(t,e,ab[e])},[dv](t){t.isLoading=!1,t.isLoadingMore=!1,t.error="Request failed"},[pv](t,{entity:e}){t.isOpen=!0,t.isLoading=!0,t.entity=e,t.trans.moreItems="",t.widgetView=Mp.getWidgetView(e);const n=Mp.getState(e);for(let o in n)t.hasOwnProperty(o)&&hc.set(t,o,n[o])},[vv](t){t.isLoading=!1},[rm](t){t.isOpen=!1,t.isLoading=!1},[ws](){sb.isOpen=!1}},PC={state:sb,getters:DC,actions:LC,mutations:MC};var af={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var OC=af.exports,Xg;function FC(){return Xg||(Xg=1,function(t,e){(function(){var n,o="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",x=500,w="__lodash_placeholder__",k=1,A=2,B=4,N=1,j=2,q=1,O=2,S=4,P=8,W=16,z=32,G=64,J=128,ue=256,de=512,ge=30,ce="...",Te=800,ve=16,ne=1,D=2,se=3,ye=1/0,Ce=9007199254740991,et=17976931348623157e292,ze=NaN,Me=4294967295,ie=Me-1,Y=Me>>>1,Le=[["ary",J],["bind",q],["bindKey",O],["curry",P],["curryRight",W],["flip",de],["partial",z],["partialRight",G],["rearg",ue]],Re="[object Arguments]",V="[object Array]",we="[object AsyncFunction]",Ae="[object Boolean]",je="[object Date]",Ze="[object DOMException]",Xe="[object Error]",ut="[object Function]",Ct="[object GeneratorFunction]",wt="[object Map]",St="[object Number]",yt="[object Null]",Mt="[object Object]",Ut="[object Promise]",Kt="[object Proxy]",X="[object RegExp]",le="[object Set]",Q="[object String]",he="[object Symbol]",pe="[object Undefined]",Be="[object WeakMap]",ot="[object WeakSet]",Qe="[object ArrayBuffer]",mt="[object DataView]",Pt="[object Float32Array]",ct="[object Float64Array]",Wt="[object Int8Array]",$t="[object Int16Array]",Qt="[object Int32Array]",Vt="[object Uint8Array]",xt="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Yt="[object Uint32Array]",vr=/\b__p \+= '';/g,Rt=/\b(__p \+=) '' \+/g,un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_i=/&(?:amp|lt|gt|quot|#39);/g,Ri=/[&<>"']/g,pi=RegExp(_i.source),wi=RegExp(Ri.source),ui=/<%-([\s\S]+?)%>/g,si=/<%([\s\S]+?)%>/g,Bi=/<%=([\s\S]+?)%>/g,io=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hi=/^\w*$/,Ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wi=/[\\^$.*+?()[\]{}|]/g,Qi=RegExp(Wi.source),br=/^\s+/,Tn=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yr=/\{\n\/\* \[wrapped with (.+)\] \*/,Zn=/,? & /,Xn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,or=/[()=,{}\[\]\/\s]/,$r=/\\(\\)?/g,Zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ji=/\w*$/,ar=/^[-+]0x[0-9a-f]+$/i,sr=/^0b[01]+$/i,An=/^\[object .+?Constructor\]$/,no=/^0o[0-7]+$/i,ro=/^(?:0|[1-9]\d*)$/,Er=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Dn=/($^)/,zr=/['\n\r\u2028\u2029\\]/g,_n="\\ud800-\\udfff",mo="\\u0300-\\u036f",Vn="\\ufe20-\\ufe2f",Ui="\\u20d0-\\u20ff",Lt=mo+Vn+Ui,Kn="\\u2700-\\u27bf",ur="a-z\\xdf-\\xf6\\xf8-\\xff",Bn="\\xac\\xb1\\xd7\\xf7",ee="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xe="\\u2000-\\u206f",We=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ue="\\ufe0e\\ufe0f",pt=Bn+ee+xe+We,ni="[']",Yi="["+_n+"]",Nt="["+pt+"]",li="["+Lt+"]",go="\\d+",qt="["+Kn+"]",ke="["+ur+"]",y="[^"+_n+pt+go+Kn+ur+nt+"]",T="\\ud83c[\\udffb-\\udfff]",R="(?:"+li+"|"+T+")",re="[^"+_n+"]",ae="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+nt+"]",Je="\\u200d",tt="(?:"+ke+"|"+y+")",Ve="(?:"+Oe+"|"+y+")",Ke="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",ft="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",fi=R+"?",hi="["+Ue+"]?",qi="(?:"+Je+"(?:"+[re,ae,_e].join("|")+")"+hi+fi+")*",Ci="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hn=hi+fi+qi,Ft="(?:"+[qt,ae,_e].join("|")+")"+hn,on="(?:"+[re+li+"?",li,ae,_e,Yi].join("|")+")",ri=RegExp(ni,"g"),gt=RegExp(li,"g"),xi=RegExp(T+"(?="+T+")|"+on+hn,"g"),an=RegExp([Oe+"?"+ke+"+"+Ke+"(?="+[Nt,Oe,"$"].join("|")+")",Ve+"+"+ft+"(?="+[Nt,Oe+tt,"$"].join("|")+")",Oe+"?"+tt+"+"+Ke,Oe+"+"+ft,Pi,Ci,go,Ft].join("|"),"g"),lr=RegExp("["+Je+_n+Lt+Ue+"]"),Ln=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Br=-1,Zt={};Zt[Pt]=Zt[ct]=Zt[Wt]=Zt[$t]=Zt[Qt]=Zt[Vt]=Zt[xt]=Zt[Gn]=Zt[Yt]=!0,Zt[Re]=Zt[V]=Zt[Qe]=Zt[Ae]=Zt[mt]=Zt[je]=Zt[Xe]=Zt[ut]=Zt[wt]=Zt[St]=Zt[Mt]=Zt[X]=Zt[le]=Zt[Q]=Zt[Be]=!1;var oi={};oi[Re]=oi[V]=oi[Qe]=oi[mt]=oi[Ae]=oi[je]=oi[Pt]=oi[ct]=oi[Wt]=oi[$t]=oi[Qt]=oi[wt]=oi[St]=oi[Mt]=oi[X]=oi[le]=oi[Q]=oi[he]=oi[Vt]=oi[xt]=oi[Gn]=oi[Yt]=!0,oi[Xe]=oi[ut]=oi[Be]=!1;var wn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Hr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ko={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ka={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qo=parseFloat,Ea=parseInt,ja=typeof wh=="object"&&wh&&wh.Object===Object&&wh,gi=typeof self=="object"&&self&&self.Object===Object&&self,Ni=ja||gi||Function("return this")(),_r=e&&!e.nodeType&&e,Wr=_r&&!0&&t&&!t.nodeType&&t,xs=Wr&&Wr.exports===_r,Gs=xs&&ja.process,dn=function(){try{var Ne=Wr&&Wr.require&&Wr.require("util").types;return Ne||Gs&&Gs.binding&&Gs.binding("util")}catch{}}(),Zs=dn&&dn.isArrayBuffer,oo=dn&&dn.isDate,ks=dn&&dn.isMap,Xs=dn&&dn.isRegExp,Lo=dn&&dn.isSet,kl=dn&&dn.isTypedArray;function ln(Ne,it,Ye){switch(Ye.length){case 0:return Ne.call(it);case 1:return Ne.call(it,Ye[0]);case 2:return Ne.call(it,Ye[0],Ye[1]);case 3:return Ne.call(it,Ye[0],Ye[1],Ye[2])}return Ne.apply(it,Ye)}function yc(Ne,it,Ye,At){for(var Jt=-1,Si=Ne==null?0:Ne.length;++Jt<Si;){var xn=Ne[Jt];it(At,xn,Ye(xn),Ne)}return At}function qr(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length;++Ye<At&&it(Ne[Ye],Ye,Ne)!==!1;);return Ne}function Mo(Ne,it){for(var Ye=Ne==null?0:Ne.length;Ye--&&it(Ne[Ye],Ye,Ne)!==!1;);return Ne}function Vs(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length;++Ye<At;)if(!it(Ne[Ye],Ye,Ne))return!1;return!0}function Po(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length,Jt=0,Si=[];++Ye<At;){var xn=Ne[Ye];it(xn,Ye,Ne)&&(Si[Jt++]=xn)}return Si}function Ua(Ne,it){var Ye=Ne==null?0:Ne.length;return!!Ye&&tn(Ne,it,0)>-1}function qu(Ne,it,Ye){for(var At=-1,Jt=Ne==null?0:Ne.length;++At<Jt;)if(Ye(it,Ne[At]))return!0;return!1}function en(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length,Jt=Array(At);++Ye<At;)Jt[Ye]=it(Ne[Ye],Ye,Ne);return Jt}function vo(Ne,it){for(var Ye=-1,At=it.length,Jt=Ne.length;++Ye<At;)Ne[Jt+Ye]=it[Ye];return Ne}function ju(Ne,it,Ye,At){var Jt=-1,Si=Ne==null?0:Ne.length;for(At&&Si&&(Ye=Ne[++Jt]);++Jt<Si;)Ye=it(Ye,Ne[Jt],Jt,Ne);return Ye}function El(Ne,it,Ye,At){var Jt=Ne==null?0:Ne.length;for(At&&Jt&&(Ye=Ne[--Jt]);Jt--;)Ye=it(Ye,Ne[Jt],Jt,Ne);return Ye}function Jo(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length;++Ye<At;)if(it(Ne[Ye],Ye,Ne))return!0;return!1}var Ya=Ks("length");function Cl(Ne){return Ne.split("")}function Sl(Ne){return Ne.match(Xn)||[]}function Es(Ne,it,Ye){var At;return Ye(Ne,function(Jt,Si,xn){if(it(Jt,Si,xn))return At=Si,!1}),At}function Cr(Ne,it,Ye,At){for(var Jt=Ne.length,Si=Ye+(At?1:-1);At?Si--:++Si<Jt;)if(it(Ne[Si],Si,Ne))return Si;return-1}function tn(Ne,it,Ye){return it===it?Sa(Ne,it,Ye):Cr(Ne,Sr,Ye)}function Cs(Ne,it,Ye,At){for(var Jt=Ye-1,Si=Ne.length;++Jt<Si;)if(At(Ne[Jt],it))return Jt;return-1}function Sr(Ne){return Ne!==Ne}function Ca(Ne,it){var Ye=Ne==null?0:Ne.length;return Ye?eu(Ne,it)/Ye:ze}function Ks(Ne){return function(it){return it==null?n:it[Ne]}}function Qs(Ne){return function(it){return Ne==null?n:Ne[it]}}function Js(Ne,it,Ye,At,Jt){return Jt(Ne,function(Si,xn,ji){Ye=At?(At=!1,Si):it(Ye,Si,xn,ji)}),Ye}function Ss(Ne,it){var Ye=Ne.length;for(Ne.sort(it);Ye--;)Ne[Ye]=Ne[Ye].value;return Ne}function eu(Ne,it){for(var Ye,At=-1,Jt=Ne.length;++At<Jt;){var Si=it(Ne[At]);Si!==n&&(Ye=Ye===n?Si:Ye+Si)}return Ye}function Uu(Ne,it){for(var Ye=-1,At=Array(Ne);++Ye<Ne;)At[Ye]=it(Ye);return At}function Tl(Ne,it){return en(it,function(Ye){return[Ye,Ne[Ye]]})}function Yu(Ne){return Ne&&Ne.slice(0,nu(Ne)+1).replace(br,"")}function nn(Ne){return function(it){return Ne(it)}}function ea(Ne,it){return en(it,function(Ye){return Ne[Ye]})}function Oo(Ne,it){return Ne.has(it)}function Hn(Ne,it){for(var Ye=-1,At=Ne.length;++Ye<At&&tn(it,Ne[Ye],0)>-1;);return Ye}function Ts(Ne,it){for(var Ye=Ne.length;Ye--&&tn(it,Ne[Ye],0)>-1;);return Ye}function ta(Ne,it){for(var Ye=Ne.length,At=0;Ye--;)Ne[Ye]===it&&++At;return At}var Al=Qs(wn),Tr=Qs(Hr);function ia(Ne){return"\\"+ka[Ne]}function $a(Ne,it){return Ne==null?n:Ne[it]}function Ga(Ne){return lr.test(Ne)}function Fo(Ne){return Ln.test(Ne)}function tu(Ne){for(var it,Ye=[];!(it=Ne.next()).done;)Ye.push(it.value);return Ye}function iu(Ne){var it=-1,Ye=Array(Ne.size);return Ne.forEach(function(At,Jt){Ye[++it]=[Jt,At]}),Ye}function Za(Ne,it){return function(Ye){return Ne(it(Ye))}}function jr(Ne,it){for(var Ye=-1,At=Ne.length,Jt=0,Si=[];++Ye<At;){var xn=Ne[Ye];(xn===it||xn===w)&&(Ne[Ye]=w,Si[Jt++]=Ye)}return Si}function pn(Ne){var it=-1,Ye=Array(Ne.size);return Ne.forEach(function(At){Ye[++it]=At}),Ye}function Dl(Ne){var it=-1,Ye=Array(Ne.size);return Ne.forEach(function(At){Ye[++it]=[At,At]}),Ye}function Sa(Ne,it,Ye){for(var At=Ye-1,Jt=Ne.length;++At<Jt;)if(Ne[At]===it)return At;return-1}function _c(Ne,it,Ye){for(var At=Ye+1;At--;)if(Ne[At]===it)return At;return At}function Ar(Ne){return Ga(Ne)?na(Ne):Ya(Ne)}function Dr(Ne){return Ga(Ne)?ou(Ne):Cl(Ne)}function nu(Ne){for(var it=Ne.length;it--&&Tn.test(Ne.charAt(it)););return it}var ru=Qs(Ko);function na(Ne){for(var it=xi.lastIndex=0;xi.test(Ne);)++it;return it}function ou(Ne){return Ne.match(xi)||[]}function As(Ne){return Ne.match(an)||[]}var ra=function Ne(it){it=it==null?Ni:Zr.defaults(Ni.Object(),it,Zr.pick(Ni,Gr));var Ye=it.Array,At=it.Date,Jt=it.Error,Si=it.Function,xn=it.Math,ji=it.Object,Ds=it.RegExp,bo=it.String,wr=it.TypeError,au=Ye.prototype,yo=Si.prototype,ao=ji.prototype,_o=it["__core-js_shared__"],Xa=yo.toString,Ei=ao.hasOwnProperty,Ll=0,Ro=function(){var f=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),so=ao.toString,oa=Xa.call(ji),xr=Ni._,cr=Ds("^"+Xa.call(Ei).replace(Wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xr=xs?it.Buffer:n,Vr=it.Symbol,aa=it.Uint8Array,$u=Xr?Xr.allocUnsafe:n,uo=Za(ji.getPrototypeOf,ji),Ta=ji.create,Ls=ao.propertyIsEnumerable,sa=au.splice,Ml=Vr?Vr.isConcatSpreadable:n,ua=Vr?Vr.iterator:n,No=Vr?Vr.toStringTag:n,Aa=function(){try{var f=as(ji,"defineProperty");return f({},"",{}),f}catch{}}(),su=it.clearTimeout!==Ni.clearTimeout&&it.clearTimeout,Da=At&&At.now!==Ni.Date.now&&At.now,uu=it.setTimeout!==Ni.setTimeout&&it.setTimeout,Va=xn.ceil,la=xn.floor,Gu=ji.getOwnPropertySymbols,a=Xr?Xr.isBuffer:n,m=it.isFinite,_=au.join,M=Za(ji.keys,ji),U=xn.max,oe=xn.min,De=At.now,qe=it.parseInt,$e=xn.random,lt=au.reverse,Et=as(it,"DataView"),zt=as(it,"Map"),ai=as(it,"Promise"),Xi=as(it,"Set"),Vi=as(it,"WeakMap"),mn=as(ji,"create"),Wn=Vi&&new Vi,Kr={},Pl=Pn(Et),wc=Pn(zt),La=Pn(ai),ca=Pn(Xi),xc=Pn(Vi),Ms=Vr?Vr.prototype:n,rn=Ms?Ms.valueOf:n,Ps=Ms?Ms.toString:n;function fe(f){if(jn(f)&&!mi(f)&&!(f instanceof Gt)){if(f instanceof Di)return f;if(Ei.call(f,"__wrapped__"))return Mr(f)}return new Di(f)}var Ka=function(){function f(){}return function(g){if(!Rn(g))return{};if(Ta)return Ta(g);f.prototype=g;var E=new f;return f.prototype=n,E}}();function Qn(){}function Di(f,g){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}fe.templateSettings={escape:ui,evaluate:si,interpolate:Bi,variable:"",imports:{_:fe}},fe.prototype=Qn.prototype,fe.prototype.constructor=fe,Di.prototype=Ka(Qn.prototype),Di.prototype.constructor=Di;function Gt(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function Mn(){var f=new Gt(this.__wrapped__);return f.__actions__=Qr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Qr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Qr(this.__views__),f}function Zu(){if(this.__filtered__){var f=new Gt(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function hd(){var f=this.__wrapped__.value(),g=this.__dir__,E=mi(f),I=g<0,te=E?f.length:0,me=Od(0,te,this.__views__),Se=me.start,Pe=me.end,He=Pe-Se,at=I?Pe:Se-1,st=this.__iteratees__,ht=st.length,Dt=0,jt=oe(He,this.__takeCount__);if(!E||!I&&te==He&&jt==He)return tl(f,this.__actions__);var ei=[];e:for(;He--&&Dt<jt;){at+=g;for(var ki=-1,ti=f[at];++ki<ht;){var Ai=st[ki],Fi=Ai.iteratee,Uo=Ai.type,ho=Fi(ti);if(Uo==D)ti=ho;else if(!ho){if(Uo==ne)continue e;break e}}ei[Dt++]=ti}return ei}Gt.prototype=Ka(Qn.prototype),Gt.prototype.constructor=Gt;function fa(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var I=f[g];this.set(I[0],I[1])}}function dd(){this.__data__=mn?mn(null):{},this.size=0}function pd(f){var g=this.has(f)&&delete this.__data__[f];return this.size-=g?1:0,g}function md(f){var g=this.__data__;if(mn){var E=g[f];return E===v?n:E}return Ei.call(g,f)?g[f]:n}function kc(f){var g=this.__data__;return mn?g[f]!==n:Ei.call(g,f)}function Lf(f,g){var E=this.__data__;return this.size+=this.has(f)?0:1,E[f]=mn&&g===n?v:g,this}fa.prototype.clear=dd,fa.prototype.delete=pd,fa.prototype.get=md,fa.prototype.has=kc,fa.prototype.set=Lf;function Io(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var I=f[g];this.set(I[0],I[1])}}function gd(){this.__data__=[],this.size=0}function Ec(f){var g=this.__data__,E=cu(g,f);if(E<0)return!1;var I=g.length-1;return E==I?g.pop():sa.call(g,E,1),--this.size,!0}function Cc(f){var g=this.__data__,E=cu(g,f);return E<0?n:g[E][1]}function Mf(f){return cu(this.__data__,f)>-1}function Pf(f,g){var E=this.__data__,I=cu(E,f);return I<0?(++this.size,E.push([f,g])):E[I][1]=g,this}Io.prototype.clear=gd,Io.prototype.delete=Ec,Io.prototype.get=Cc,Io.prototype.has=Mf,Io.prototype.set=Pf;function zo(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var I=f[g];this.set(I[0],I[1])}}function Of(){this.size=0,this.__data__={hash:new fa,map:new(zt||Io),string:new fa}}function Xu(f){var g=hl(this,f).delete(f);return this.size-=g?1:0,g}function vd(f){return hl(this,f).get(f)}function Ol(f){return hl(this,f).has(f)}function Ma(f,g){var E=hl(this,f),I=E.size;return E.set(f,g),this.size+=E.size==I?0:1,this}zo.prototype.clear=Of,zo.prototype.delete=Xu,zo.prototype.get=vd,zo.prototype.has=Ol,zo.prototype.set=Ma;function Qa(f){var g=-1,E=f==null?0:f.length;for(this.__data__=new zo;++g<E;)this.add(f[g])}function bd(f){return this.__data__.set(f,v),this}function Ff(f){return this.__data__.has(f)}Qa.prototype.add=Qa.prototype.push=bd,Qa.prototype.has=Ff;function gn(f){var g=this.__data__=new Io(f);this.size=g.size}function Ii(){this.__data__=new Io,this.size=0}function Bo(f){var g=this.__data__,E=g.delete(f);return this.size=g.size,E}function Ja(f){return this.__data__.get(f)}function es(f){return this.__data__.has(f)}function Rf(f,g){var E=this.__data__;if(E instanceof Io){var I=E.__data__;if(!zt||I.length<l-1)return I.push([f,g]),this.size=++E.size,this;E=this.__data__=new zo(I)}return E.set(f,g),this.size=E.size,this}gn.prototype.clear=Ii,gn.prototype.delete=Bo,gn.prototype.get=Ja,gn.prototype.has=es,gn.prototype.set=Rf;function Fl(f,g){var E=mi(f),I=!E&&dl(f),te=!E&&!I&&Du(f),me=!E&&!I&&!te&&Kl(f),Se=E||I||te||me,Pe=Se?Uu(f.length,bo):[],He=Pe.length;for(var at in f)(g||Ei.call(f,at))&&!(Se&&(at=="length"||te&&(at=="offset"||at=="parent")||me&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||p(at,He)))&&Pe.push(at);return Pe}function Sc(f){var g=f.length;return g?f[Bl(0,g-1)]:n}function yd(f,g){return En(Qr(f),Oa(g,0,f.length))}function Tc(f){return En(Qr(f))}function Os(f,g,E){(E!==n&&!Ra(f[g],E)||E===n&&!(g in f))&&Pa(f,g,E)}function lu(f,g,E){var I=f[g];(!(Ei.call(f,g)&&Ra(I,E))||E===n&&!(g in f))&&Pa(f,g,E)}function cu(f,g){for(var E=f.length;E--;)if(Ra(f[E][0],g))return E;return-1}function ts(f,g,E,I){return Ho(f,function(te,me,Se){g(I,te,E(te),Se)}),I}function Ac(f,g){return f&&qo(g,Or(g),f)}function Nf(f,g){return f&&qo(g,Eo(g),f)}function Pa(f,g,E){g=="__proto__"&&Aa?Aa(f,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):f[g]=E}function fu(f,g){for(var E=-1,I=g.length,te=Ye(I),me=f==null;++E<I;)te[E]=me?n:Wd(f,g[E]);return te}function Oa(f,g,E){return f===f&&(E!==n&&(f=f<=E?f:E),g!==n&&(f=f>=g?f:g)),f}function lo(f,g,E,I,te,me){var Se,Pe=g&k,He=g&A,at=g&B;if(E&&(Se=te?E(f,I,te,me):E(f)),Se!==n)return Se;if(!Rn(f))return f;var st=mi(f);if(st){if(Se=Fd(f),!Pe)return Qr(f,Se)}else{var ht=tr(f),Dt=ht==ut||ht==Ct;if(Du(f))return Bc(f,Pe);if(ht==Mt||ht==Re||Dt&&!te){if(Se=He||Dt?{}:hh(f),!Pe)return He?Dd(f,Nf(Se,f)):ih(f,Ac(Se,f))}else{if(!oi[ht])return te?f:{};Se=Vl(f,ht,Pe)}}me||(me=new gn);var jt=me.get(f);if(jt)return jt;me.set(f,Se),Fm(f)?f.forEach(function(ti){Se.add(lo(ti,g,E,ti,f,me))}):Pm(f)&&f.forEach(function(ti,Ai){Se.set(Ai,lo(ti,g,E,Ai,f,me))});var ei=at?He?Xl:Zl:He?Eo:Or,ki=st?n:ei(f);return qr(ki||f,function(ti,Ai){ki&&(Ai=ti,ti=f[Ai]),lu(Se,Ai,lo(ti,g,E,Ai,f,me))}),Se}function _d(f){var g=Or(f);return function(E){return Dc(E,f,g)}}function Dc(f,g,E){var I=E.length;if(f==null)return!I;for(f=ji(f);I--;){var te=E[I],me=g[te],Se=f[te];if(Se===n&&!(te in f)||!me(Se))return!1}return!0}function If(f,g,E){if(typeof f!="function")throw new wr(c);return Bt(function(){f.apply(n,E)},g)}function Vu(f,g,E,I){var te=-1,me=Ua,Se=!0,Pe=f.length,He=[],at=g.length;if(!Pe)return He;E&&(g=en(g,nn(E))),I?(me=qu,Se=!1):g.length>=l&&(me=Oo,Se=!1,g=new Qa(g));e:for(;++te<Pe;){var st=f[te],ht=E==null?st:E(st);if(st=I||st!==0?st:0,Se&&ht===ht){for(var Dt=at;Dt--;)if(g[Dt]===ht)continue e;He.push(st)}else me(g,ht,I)||He.push(st)}return He}var Ho=ku(wo),Lc=ku(Nl,!0);function wd(f,g){var E=!0;return Ho(f,function(I,te,me){return E=!!g(I,te,me),E}),E}function Rl(f,g,E){for(var I=-1,te=f.length;++I<te;){var me=f[I],Se=g(me);if(Se!=null&&(Pe===n?Se===Se&&!jo(Se):E(Se,Pe)))var Pe=Se,He=me}return He}function zf(f,g,E,I){var te=f.length;for(E=yi(E),E<0&&(E=-E>te?0:te+E),I=I===n||I>te?te:yi(I),I<0&&(I+=te),I=E>I?0:Nm(I);E<I;)f[E++]=g;return f}function Fs(f,g){var E=[];return Ho(f,function(I,te,me){g(I,te,me)&&E.push(I)}),E}function Jn(f,g,E,I,te){var me=-1,Se=f.length;for(E||(E=s),te||(te=[]);++me<Se;){var Pe=f[me];g>0&&E(Pe)?g>1?Jn(Pe,g-1,E,I,te):vo(te,Pe):I||(te[te.length]=Pe)}return te}var hu=nh(),Mc=nh(!0);function wo(f,g){return f&&hu(f,g,Or)}function Nl(f,g){return f&&Mc(f,g,Or)}function Il(f,g){return Po(g,function(E){return Ws(f[E])})}function is(f,g){g=os(g,f);for(var E=0,I=g.length;f!=null&&E<I;)f=f[vn(g[E++])];return E&&E==I?f:n}function fr(f,g,E){var I=g(f);return mi(f)?I:vo(I,E(f))}function hr(f){return f==null?f===n?pe:yt:No&&No in ji(f)?Pd(f):rt(f)}function zl(f,g){return f>g}function Bf(f,g){return f!=null&&Ei.call(f,g)}function Hf(f,g){return f!=null&&g in ji(f)}function du(f,g,E){return f>=oe(g,E)&&f<U(g,E)}function pu(f,g,E){for(var I=E?qu:Ua,te=f[0].length,me=f.length,Se=me,Pe=Ye(me),He=1/0,at=[];Se--;){var st=f[Se];Se&&g&&(st=en(st,nn(g))),He=oe(st.length,He),Pe[Se]=!E&&(g||te>=120&&st.length>=120)?new Qa(Se&&st):n}st=f[0];var ht=-1,Dt=Pe[0];e:for(;++ht<te&&at.length<He;){var jt=st[ht],ei=g?g(jt):jt;if(jt=E||jt!==0?jt:0,!(Dt?Oo(Dt,ei):I(at,ei,E))){for(Se=me;--Se;){var ki=Pe[Se];if(!(ki?Oo(ki,ei):I(f[Se],ei,E)))continue e}Dt&&Dt.push(ei),at.push(jt)}}return at}function Wf(f,g,E,I){return wo(f,function(te,me,Se){g(I,E(te),me,Se)}),I}function mu(f,g,E){g=os(g,f),f=bt(f,g);var I=f==null?f:f[vn(va(g))];return I==null?n:ln(I,f,E)}function Pc(f){return jn(f)&&hr(f)==Re}function gu(f){return jn(f)&&hr(f)==Qe}function qf(f){return jn(f)&&hr(f)==je}function ns(f,g,E,I,te){return f===g?!0:f==null||g==null||!jn(f)&&!jn(g)?f!==f&&g!==g:jf(f,g,E,I,ns,te)}function jf(f,g,E,I,te,me){var Se=mi(f),Pe=mi(g),He=Se?V:tr(f),at=Pe?V:tr(g);He=He==Re?Mt:He,at=at==Re?Mt:at;var st=He==Mt,ht=at==Mt,Dt=He==at;if(Dt&&Du(f)){if(!Du(g))return!1;Se=!0,st=!1}if(Dt&&!st)return me||(me=new gn),Se||Kl(f)?xo(f,g,E,I,te,me):Gl(f,g,He,E,I,te,me);if(!(E&N)){var jt=st&&Ei.call(f,"__wrapped__"),ei=ht&&Ei.call(g,"__wrapped__");if(jt||ei){var ki=jt?f.value():f,ti=ei?g.value():g;return me||(me=new gn),te(ki,ti,E,I,me)}}return Dt?(me||(me=new gn),$c(f,g,E,I,te,me)):!1}function Ku(f){return jn(f)&&tr(f)==wt}function Oc(f,g,E,I){var te=E.length,me=te,Se=!I;if(f==null)return!me;for(f=ji(f);te--;){var Pe=E[te];if(Se&&Pe[2]?Pe[1]!==f[Pe[0]]:!(Pe[0]in f))return!1}for(;++te<me;){Pe=E[te];var He=Pe[0],at=f[He],st=Pe[1];if(Se&&Pe[2]){if(at===n&&!(He in f))return!1}else{var ht=new gn;if(I)var Dt=I(at,st,He,f,g,ht);if(!(Dt===n?ns(st,at,N|j,I,ht):Dt))return!1}}return!0}function Rs(f){if(!Rn(f)||H(f))return!1;var g=Ws(f)?cr:An;return g.test(Pn(f))}function Uf(f){return jn(f)&&hr(f)==X}function Yf(f){return jn(f)&&tr(f)==le}function $f(f){return jn(f)&&bh(f.length)&&!!Zt[hr(f)]}function vu(f){return typeof f=="function"?f:f==null?Co:typeof f=="object"?mi(f)?Rc(f[0],f[1]):Gf(f):Gm(f)}function Ns(f){if(!K(f))return M(f);var g=[];for(var E in ji(f))Ei.call(f,E)&&E!="constructor"&&g.push(E);return g}function Qu(f){if(!Rn(f))return Ge(f);var g=K(f),E=[];for(var I in f)I=="constructor"&&(g||!Ei.call(f,I))||E.push(I);return E}function Is(f,g){return f<g}function Fc(f,g){var E=-1,I=ko(f)?Ye(f.length):[];return Ho(f,function(te,me,Se){I[++E]=g(te,me,Se)}),I}function Gf(f){var g=zi(f);return g.length==1&&g[0][2]?Ee(g[0][0],g[0][1]):function(E){return E===f||Oc(E,f,g)}}function Rc(f,g){return b(f)&&be(g)?Ee(vn(f),g):function(E){var I=Wd(E,f);return I===n&&I===g?qd(E,f):ns(g,I,N|j)}}function Wo(f,g,E,I,te){f!==g&&hu(g,function(me,Se){if(te||(te=new gn),Rn(me))bu(f,g,Se,E,Wo,I,te);else{var Pe=I?I(vt(f,Se),me,Se+"",f,g,te):n;Pe===n&&(Pe=me),Os(f,Se,Pe)}},Eo)}function bu(f,g,E,I,te,me,Se){var Pe=vt(f,E),He=vt(g,E),at=Se.get(He);if(at){Os(f,E,at);return}var st=me?me(Pe,He,E+"",f,g,Se):n,ht=st===n;if(ht){var Dt=mi(He),jt=!Dt&&Du(He),ei=!Dt&&!jt&&Kl(He);st=He,Dt||jt||ei?mi(Pe)?st=Pe:nr(Pe)?st=Qr(Pe):jt?(ht=!1,st=Bc(He,!0)):ei?(ht=!1,st=Hc(He,!0)):st=[]:Xc(He)||dl(He)?(st=Pe,dl(Pe)?st=Im(Pe):(!Rn(Pe)||Ws(Pe))&&(st=hh(He))):ht=!1}ht&&(Se.set(He,st),te(st,He,I,me,Se),Se.delete(He)),Os(f,E,st)}function yu(f,g){var E=f.length;if(E)return g+=g<0?E:0,p(g,E)?f[g]:n}function Zf(f,g,E){g.length?g=en(g,function(me){return mi(me)?function(Se){return is(Se,me.length===1?me[0]:me)}:me}):g=[Co];var I=-1;g=en(g,nn(Xt()));var te=Fc(f,function(me,Se,Pe){var He=en(g,function(at){return at(me)});return{criteria:He,index:++I,value:me}});return Ss(te,function(me,Se){return Ad(me,Se,E)})}function Xf(f,g){return Vf(f,g,function(E,I){return qd(f,I)})}function Vf(f,g,E){for(var I=-1,te=g.length,me={};++I<te;){var Se=g[I],Pe=is(f,Se);E(Pe,Se)&&_u(me,os(Se,f),Pe)}return me}function xd(f){return function(g){return is(g,f)}}function Nc(f,g,E,I){var te=I?Cs:tn,me=-1,Se=g.length,Pe=f;for(f===g&&(g=Qr(g)),E&&(Pe=en(f,nn(E)));++me<Se;)for(var He=0,at=g[me],st=E?E(at):at;(He=te(Pe,st,He,I))>-1;)Pe!==f&&sa.call(Pe,He,1),sa.call(f,He,1);return f}function Lr(f,g){for(var E=f?g.length:0,I=E-1;E--;){var te=g[E];if(E==I||te!==me){var me=te;p(te)?sa.call(f,te,1):Hl(f,te)}}return f}function Bl(f,g){return f+la($e()*(g-f+1))}function kd(f,g,E,I){for(var te=-1,me=U(Va((g-f)/(E||1)),0),Se=Ye(me);me--;)Se[I?me:++te]=f,f+=E;return Se}function Ic(f,g){var E="";if(!f||g<1||g>Ce)return E;do g%2&&(E+=f),g=la(g/2),g&&(f+=f);while(g);return E}function bi(f,g){return It(dt(f,g,Co),f+"")}function Kf(f){return Sc(Ql(f))}function Qf(f,g){var E=Ql(f);return En(E,Oa(g,0,E.length))}function _u(f,g,E,I){if(!Rn(f))return f;g=os(g,f);for(var te=-1,me=g.length,Se=me-1,Pe=f;Pe!=null&&++te<me;){var He=vn(g[te]),at=E;if(He==="__proto__"||He==="constructor"||He==="prototype")return f;if(te!=Se){var st=Pe[He];at=I?I(st,He,Pe):n,at===n&&(at=Rn(st)?st:p(g[te+1])?[]:{})}lu(Pe,He,at),Pe=Pe[He]}return f}var Jf=Wn?function(f,g){return Wn.set(f,g),f}:Co,Ed=Aa?function(f,g){return Aa(f,"toString",{configurable:!0,enumerable:!1,value:Ud(g),writable:!0})}:Co;function Cd(f){return En(Ql(f))}function er(f,g,E){var I=-1,te=f.length;g<0&&(g=-g>te?0:te+g),E=E>te?te:E,E<0&&(E+=te),te=g>E?0:E-g>>>0,g>>>=0;for(var me=Ye(te);++I<te;)me[I]=f[I+g];return me}function Ju(f,g){var E;return Ho(f,function(I,te,me){return E=g(I,te,me),!E}),!!E}function zs(f,g,E){var I=0,te=f==null?I:f.length;if(typeof g=="number"&&g===g&&te<=Y){for(;I<te;){var me=I+te>>>1,Se=f[me];Se!==null&&!jo(Se)&&(E?Se<=g:Se<g)?I=me+1:te=me}return te}return Bs(f,g,Co,E)}function Bs(f,g,E,I){var te=0,me=f==null?0:f.length;if(me===0)return 0;g=E(g);for(var Se=g!==g,Pe=g===null,He=jo(g),at=g===n;te<me;){var st=la((te+me)/2),ht=E(f[st]),Dt=ht!==n,jt=ht===null,ei=ht===ht,ki=jo(ht);if(Se)var ti=I||ei;else at?ti=ei&&(I||Dt):Pe?ti=ei&&Dt&&(I||!jt):He?ti=ei&&Dt&&!jt&&(I||!ki):jt||ki?ti=!1:ti=I?ht<=g:ht<g;ti?te=st+1:me=st}return oe(me,ie)}function ha(f,g){for(var E=-1,I=f.length,te=0,me=[];++E<I;){var Se=f[E],Pe=g?g(Se):Se;if(!E||!Ra(Pe,He)){var He=Pe;me[te++]=Se===0?0:Se}}return me}function eh(f){return typeof f=="number"?f:jo(f)?ze:+f}function co(f){if(typeof f=="string")return f;if(mi(f))return en(f,co)+"";if(jo(f))return Ps?Ps.call(f):"";var g=f+"";return g=="0"&&1/f==-ye?"-0":g}function fo(f,g,E){var I=-1,te=Ua,me=f.length,Se=!0,Pe=[],He=Pe;if(E)Se=!1,te=qu;else if(me>=l){var at=g?null:Md(f);if(at)return pn(at);Se=!1,te=Oo,He=new Qa}else He=g?[]:Pe;e:for(;++I<me;){var st=f[I],ht=g?g(st):st;if(st=E||st!==0?st:0,Se&&ht===ht){for(var Dt=He.length;Dt--;)if(He[Dt]===ht)continue e;g&&He.push(ht),Pe.push(st)}else te(He,ht,E)||(He!==Pe&&He.push(ht),Pe.push(st))}return Pe}function Hl(f,g){return g=os(g,f),f=bt(f,g),f==null||delete f[vn(va(g))]}function zc(f,g,E,I){return _u(f,g,E(is(f,g)),I)}function el(f,g,E,I){for(var te=f.length,me=I?te:-1;(I?me--:++me<te)&&g(f[me],me,f););return E?er(f,I?0:me,I?me+1:te):er(f,I?me+1:0,I?te:me)}function tl(f,g){var E=f;return E instanceof Gt&&(E=E.value()),ju(g,function(I,te){return te.func.apply(te.thisArg,vo([I],te.args))},E)}function rs(f,g,E){var I=f.length;if(I<2)return I?fo(f[0]):[];for(var te=-1,me=Ye(I);++te<I;)for(var Se=f[te],Pe=-1;++Pe<I;)Pe!=te&&(me[te]=Vu(me[te]||Se,f[Pe],g,E));return fo(Jn(me,1),g,E)}function Wl(f,g,E){for(var I=-1,te=f.length,me=g.length,Se={};++I<te;){var Pe=I<me?g[I]:n;E(Se,f[I],Pe)}return Se}function il(f){return nr(f)?f:[]}function nl(f){return typeof f=="function"?f:Co}function os(f,g){return mi(f)?f:b(f,g)?[f]:sn(Ki(f))}var rl=bi;function Fa(f,g,E){var I=f.length;return E=E===n?I:E,!g&&E>=I?f:er(f,g,E)}var th=su||function(f){return Ni.clearTimeout(f)};function Bc(f,g){if(g)return f.slice();var E=f.length,I=$u?$u(E):new f.constructor(E);return f.copy(I),I}function wu(f){var g=new f.constructor(f.byteLength);return new aa(g).set(new aa(f)),g}function Sd(f,g){var E=g?wu(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.byteLength)}function Td(f){var g=new f.constructor(f.source,Ji.exec(f));return g.lastIndex=f.lastIndex,g}function ol(f){return rn?ji(rn.call(f)):{}}function Hc(f,g){var E=g?wu(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.length)}function Wc(f,g){if(f!==g){var E=f!==n,I=f===null,te=f===f,me=jo(f),Se=g!==n,Pe=g===null,He=g===g,at=jo(g);if(!Pe&&!at&&!me&&f>g||me&&Se&&He&&!Pe&&!at||I&&Se&&He||!E&&He||!te)return 1;if(!I&&!me&&!at&&f<g||at&&E&&te&&!I&&!me||Pe&&E&&te||!Se&&te||!He)return-1}return 0}function Ad(f,g,E){for(var I=-1,te=f.criteria,me=g.criteria,Se=te.length,Pe=E.length;++I<Se;){var He=Wc(te[I],me[I]);if(He){if(I>=Pe)return He;var at=E[I];return He*(at=="desc"?-1:1)}}return f.index-g.index}function ql(f,g,E,I){for(var te=-1,me=f.length,Se=E.length,Pe=-1,He=g.length,at=U(me-Se,0),st=Ye(He+at),ht=!I;++Pe<He;)st[Pe]=g[Pe];for(;++te<Se;)(ht||te<me)&&(st[E[te]]=f[te]);for(;at--;)st[Pe++]=f[te++];return st}function qc(f,g,E,I){for(var te=-1,me=f.length,Se=-1,Pe=E.length,He=-1,at=g.length,st=U(me-Pe,0),ht=Ye(st+at),Dt=!I;++te<st;)ht[te]=f[te];for(var jt=te;++He<at;)ht[jt+He]=g[He];for(;++Se<Pe;)(Dt||te<me)&&(ht[jt+E[Se]]=f[te++]);return ht}function Qr(f,g){var E=-1,I=f.length;for(g||(g=Ye(I));++E<I;)g[E]=f[E];return g}function qo(f,g,E,I){var te=!E;E||(E={});for(var me=-1,Se=g.length;++me<Se;){var Pe=g[me],He=I?I(E[Pe],f[Pe],Pe,E,f):n;He===n&&(He=f[Pe]),te?Pa(E,Pe,He):lu(E,Pe,He)}return E}function ih(f,g){return qo(f,ss(f),g)}function Dd(f,g){return qo(f,ch(f),g)}function xu(f,g){return function(E,I){var te=mi(E)?yc:ts,me=g?g():{};return te(E,f,Xt(I,2),me)}}function da(f){return bi(function(g,E){var I=-1,te=E.length,me=te>1?E[te-1]:n,Se=te>2?E[2]:n;for(me=f.length>3&&typeof me=="function"?(te--,me):n,Se&&d(E[0],E[1],Se)&&(me=te<3?n:me,te=1),g=ji(g);++I<te;){var Pe=E[I];Pe&&f(g,Pe,I,me)}return g})}function ku(f,g){return function(E,I){if(E==null)return E;if(!ko(E))return f(E,I);for(var te=E.length,me=g?te:-1,Se=ji(E);(g?me--:++me<te)&&I(Se[me],me,Se)!==!1;);return E}}function nh(f){return function(g,E,I){for(var te=-1,me=ji(g),Se=I(g),Pe=Se.length;Pe--;){var He=Se[f?Pe:++te];if(E(me[He],He,me)===!1)break}return g}}function rh(f,g,E){var I=g&q,te=al(f);function me(){var Se=this&&this!==Ni&&this instanceof me?te:f;return Se.apply(I?E:this,arguments)}return me}function oh(f){return function(g){g=Ki(g);var E=Ga(g)?Dr(g):n,I=E?E[0]:g.charAt(0),te=E?Fa(E,1).join(""):g.slice(1);return I[f]()+te}}function Eu(f){return function(g){return ju(Ym(Um(g).replace(ri,"")),f,"")}}function al(f){return function(){var g=arguments;switch(g.length){case 0:return new f;case 1:return new f(g[0]);case 2:return new f(g[0],g[1]);case 3:return new f(g[0],g[1],g[2]);case 4:return new f(g[0],g[1],g[2],g[3]);case 5:return new f(g[0],g[1],g[2],g[3],g[4]);case 6:return new f(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new f(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=Ka(f.prototype),I=f.apply(E,g);return Rn(I)?I:E}}function Ld(f,g,E){var I=al(f);function te(){for(var me=arguments.length,Se=Ye(me),Pe=me,He=Su(te);Pe--;)Se[Pe]=arguments[Pe];var at=me<3&&Se[0]!==He&&Se[me-1]!==He?[]:jr(Se,He);if(me-=at.length,me<E)return ul(f,g,jl,te.placeholder,n,Se,at,n,n,E-me);var st=this&&this!==Ni&&this instanceof te?I:f;return ln(st,this,Se)}return te}function jc(f){return function(g,E,I){var te=ji(g);if(!ko(g)){var me=Xt(E,3);g=Or(g),E=function(Pe){return me(te[Pe],Pe,te)}}var Se=f(g,E,I);return Se>-1?te[me?g[Se]:Se]:n}}function ah(f){return pa(function(g){var E=g.length,I=E,te=Di.prototype.thru;for(f&&g.reverse();I--;){var me=g[I];if(typeof me!="function")throw new wr(c);if(te&&!Se&&fl(me)=="wrapper")var Se=new Di([],!0)}for(I=Se?I:E;++I<E;){me=g[I];var Pe=fl(me),He=Pe=="wrapper"?cl(me):n;He&&F(He[0])&&He[1]==(J|P|z|ue)&&!He[4].length&&He[9]==1?Se=Se[fl(He[0])].apply(Se,He[3]):Se=me.length==1&&F(me)?Se[Pe]():Se.thru(me)}return function(){var at=arguments,st=at[0];if(Se&&at.length==1&&mi(st))return Se.plant(st).value();for(var ht=0,Dt=E?g[ht].apply(this,at):st;++ht<E;)Dt=g[ht].call(this,Dt);return Dt}})}function jl(f,g,E,I,te,me,Se,Pe,He,at){var st=g&J,ht=g&q,Dt=g&O,jt=g&(P|W),ei=g&de,ki=Dt?n:al(f);function ti(){for(var Ai=arguments.length,Fi=Ye(Ai),Uo=Ai;Uo--;)Fi[Uo]=arguments[Uo];if(jt)var ho=Su(ti),Yo=ta(Fi,ho);if(I&&(Fi=ql(Fi,I,te,jt)),me&&(Fi=qc(Fi,me,Se,jt)),Ai-=Yo,jt&&Ai<at){var rr=jr(Fi,ho);return ul(f,g,jl,ti.placeholder,E,Fi,rr,Pe,He,at-Ai)}var Na=ht?E:this,js=Dt?Na[f]:f;return Ai=Fi.length,Pe?Fi=_t(Fi,Pe):ei&&Ai>1&&Fi.reverse(),st&&He<Ai&&(Fi.length=He),this&&this!==Ni&&this instanceof ti&&(js=ki||al(js)),js.apply(Na,Fi)}return ti}function Uc(f,g){return function(E,I){return Wf(E,f,g(I),{})}}function Cu(f,g){return function(E,I){var te;if(E===n&&I===n)return g;if(E!==n&&(te=E),I!==n){if(te===n)return I;typeof E=="string"||typeof I=="string"?(E=co(E),I=co(I)):(E=eh(E),I=eh(I)),te=f(E,I)}return te}}function Ul(f){return pa(function(g){return g=en(g,nn(Xt())),bi(function(E){var I=this;return f(g,function(te){return ln(te,I,E)})})})}function Yl(f,g){g=g===n?" ":co(g);var E=g.length;if(E<2)return E?Ic(g,f):g;var I=Ic(g,Va(f/Ar(g)));return Ga(g)?Fa(Dr(I),0,f).join(""):I.slice(0,f)}function sh(f,g,E,I){var te=g&q,me=al(f);function Se(){for(var Pe=-1,He=arguments.length,at=-1,st=I.length,ht=Ye(st+He),Dt=this&&this!==Ni&&this instanceof Se?me:f;++at<st;)ht[at]=I[at];for(;He--;)ht[at++]=arguments[++Pe];return ln(Dt,te?E:this,ht)}return Se}function Hs(f){return function(g,E,I){return I&&typeof I!="number"&&d(g,E,I)&&(E=I=n),g=qs(g),E===n?(E=g,g=0):E=qs(E),I=I===n?g<E?1:-1:qs(I),kd(g,E,I,f)}}function sl(f){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=ba(g),E=ba(E)),f(g,E)}}function ul(f,g,E,I,te,me,Se,Pe,He,at){var st=g&P,ht=st?Se:n,Dt=st?n:Se,jt=st?me:n,ei=st?n:me;g|=st?z:G,g&=~(st?G:z),g&S||(g&=-4);var ki=[f,g,te,jt,ht,ei,Dt,Pe,He,at],ti=E.apply(n,ki);return F(f)&&Tt(ti,ki),ti.placeholder=I,ci(ti,f,g)}function Yc(f){var g=xn[f];return function(E,I){if(E=ba(E),I=I==null?0:oe(yi(I),292),I&&m(E)){var te=(Ki(E)+"e").split("e"),me=g(te[0]+"e"+(+te[1]+I));return te=(Ki(me)+"e").split("e"),+(te[0]+"e"+(+te[1]-I))}return g(E)}}var Md=Xi&&1/pn(new Xi([,-0]))[1]==ye?function(f){return new Xi(f)}:Gd;function uh(f){return function(g){var E=tr(g);return E==wt?iu(g):E==le?Dl(g):Tl(g,f(g))}}function Oi(f,g,E,I,te,me,Se,Pe){var He=g&O;if(!He&&typeof f!="function")throw new wr(c);var at=I?I.length:0;if(at||(g&=-97,I=te=n),Se=Se===n?Se:U(yi(Se),0),Pe=Pe===n?Pe:yi(Pe),at-=te?te.length:0,g&G){var st=I,ht=te;I=te=n}var Dt=He?n:cl(f),jt=[f,g,E,I,te,st,ht,me,Se,Pe];if(Dt&&Fe(jt,Dt),f=jt[0],g=jt[1],E=jt[2],I=jt[3],te=jt[4],Pe=jt[9]=jt[9]===n?He?0:f.length:U(jt[9]-at,0),!Pe&&g&(P|W)&&(g&=-25),!g||g==q)var ei=rh(f,g,E);else g==P||g==W?ei=Ld(f,g,Pe):(g==z||g==(q|z))&&!te.length?ei=sh(f,g,E,I):ei=jl.apply(n,jt);var ki=Dt?Jf:Tt;return ci(ki(ei,jt),f,g)}function lh(f,g,E,I){return f===n||Ra(f,ao[E])&&!Ei.call(I,E)?g:f}function $l(f,g,E,I,te,me){return Rn(f)&&Rn(g)&&(me.set(g,f),Wo(f,g,n,$l,me),me.delete(g)),f}function ll(f){return Xc(f)?n:f}function xo(f,g,E,I,te,me){var Se=E&N,Pe=f.length,He=g.length;if(Pe!=He&&!(Se&&He>Pe))return!1;var at=me.get(f),st=me.get(g);if(at&&st)return at==g&&st==f;var ht=-1,Dt=!0,jt=E&j?new Qa:n;for(me.set(f,g),me.set(g,f);++ht<Pe;){var ei=f[ht],ki=g[ht];if(I)var ti=Se?I(ki,ei,ht,g,f,me):I(ei,ki,ht,f,g,me);if(ti!==n){if(ti)continue;Dt=!1;break}if(jt){if(!Jo(g,function(Ai,Fi){if(!Oo(jt,Fi)&&(ei===Ai||te(ei,Ai,E,I,me)))return jt.push(Fi)})){Dt=!1;break}}else if(!(ei===ki||te(ei,ki,E,I,me))){Dt=!1;break}}return me.delete(f),me.delete(g),Dt}function Gl(f,g,E,I,te,me,Se){switch(E){case mt:if(f.byteLength!=g.byteLength||f.byteOffset!=g.byteOffset)return!1;f=f.buffer,g=g.buffer;case Qe:return!(f.byteLength!=g.byteLength||!me(new aa(f),new aa(g)));case Ae:case je:case St:return Ra(+f,+g);case Xe:return f.name==g.name&&f.message==g.message;case X:case Q:return f==g+"";case wt:var Pe=iu;case le:var He=I&N;if(Pe||(Pe=pn),f.size!=g.size&&!He)return!1;var at=Se.get(f);if(at)return at==g;I|=j,Se.set(f,g);var st=xo(Pe(f),Pe(g),I,te,me,Se);return Se.delete(f),st;case he:if(rn)return rn.call(f)==rn.call(g)}return!1}function $c(f,g,E,I,te,me){var Se=E&N,Pe=Zl(f),He=Pe.length,at=Zl(g),st=at.length;if(He!=st&&!Se)return!1;for(var ht=He;ht--;){var Dt=Pe[ht];if(!(Se?Dt in g:Ei.call(g,Dt)))return!1}var jt=me.get(f),ei=me.get(g);if(jt&&ei)return jt==g&&ei==f;var ki=!0;me.set(f,g),me.set(g,f);for(var ti=Se;++ht<He;){Dt=Pe[ht];var Ai=f[Dt],Fi=g[Dt];if(I)var Uo=Se?I(Fi,Ai,Dt,g,f,me):I(Ai,Fi,Dt,f,g,me);if(!(Uo===n?Ai===Fi||te(Ai,Fi,E,I,me):Uo)){ki=!1;break}ti||(ti=Dt=="constructor")}if(ki&&!ti){var ho=f.constructor,Yo=g.constructor;ho!=Yo&&"constructor"in f&&"constructor"in g&&!(typeof ho=="function"&&ho instanceof ho&&typeof Yo=="function"&&Yo instanceof Yo)&&(ki=!1)}return me.delete(f),me.delete(g),ki}function pa(f){return It(dt(f,n,cs),f+"")}function Zl(f){return fr(f,Or,ss)}function Xl(f){return fr(f,Eo,ch)}var cl=Wn?function(f){return Wn.get(f)}:Gd;function fl(f){for(var g=f.name+"",E=Kr[g],I=Ei.call(Kr,g)?E.length:0;I--;){var te=E[I],me=te.func;if(me==null||me==f)return te.name}return g}function Su(f){var g=Ei.call(fe,"placeholder")?fe:f;return g.placeholder}function Xt(){var f=fe.iteratee||Yd;return f=f===Yd?vu:f,arguments.length?f(arguments[0],arguments[1]):f}function hl(f,g){var E=f.__data__;return C(g)?E[typeof g=="string"?"string":"hash"]:E.map}function zi(f){for(var g=Or(f),E=g.length;E--;){var I=g[E],te=f[I];g[E]=[I,te,be(te)]}return g}function as(f,g){var E=$a(f,g);return Rs(E)?E:n}function Pd(f){var g=Ei.call(f,No),E=f[No];try{f[No]=n;var I=!0}catch{}var te=so.call(f);return I&&(g?f[No]=E:delete f[No]),te}var ss=Gu?function(f){return f==null?[]:(f=ji(f),Po(Gu(f),function(g){return Ls.call(f,g)}))}:Zd,ch=Gu?function(f){for(var g=[];f;)vo(g,ss(f)),f=uo(f);return g}:Zd,tr=hr;(Et&&tr(new Et(new ArrayBuffer(1)))!=mt||zt&&tr(new zt)!=wt||ai&&tr(ai.resolve())!=Ut||Xi&&tr(new Xi)!=le||Vi&&tr(new Vi)!=Be)&&(tr=function(f){var g=hr(f),E=g==Mt?f.constructor:n,I=E?Pn(E):"";if(I)switch(I){case Pl:return mt;case wc:return wt;case La:return Ut;case ca:return le;case xc:return Be}return g});function Od(f,g,E){for(var I=-1,te=E.length;++I<te;){var me=E[I],Se=me.size;switch(me.type){case"drop":f+=Se;break;case"dropRight":g-=Se;break;case"take":g=oe(g,f+Se);break;case"takeRight":f=U(f,g-Se);break}}return{start:f,end:g}}function kn(f){var g=f.match(yr);return g?g[1].split(Zn):[]}function fh(f,g,E){g=os(g,f);for(var I=-1,te=g.length,me=!1;++I<te;){var Se=vn(g[I]);if(!(me=f!=null&&E(f,Se)))break;f=f[Se]}return me||++I!=te?me:(te=f==null?0:f.length,!!te&&bh(te)&&p(Se,te)&&(mi(f)||dl(f)))}function Fd(f){var g=f.length,E=new f.constructor(g);return g&&typeof f[0]=="string"&&Ei.call(f,"index")&&(E.index=f.index,E.input=f.input),E}function hh(f){return typeof f.constructor=="function"&&!K(f)?Ka(uo(f)):{}}function Vl(f,g,E){var I=f.constructor;switch(g){case Qe:return wu(f);case Ae:case je:return new I(+f);case mt:return Sd(f,E);case Pt:case ct:case Wt:case $t:case Qt:case Vt:case xt:case Gn:case Yt:return Hc(f,E);case wt:return new I;case St:case Q:return new I(f);case X:return Td(f);case le:return new I;case he:return ol(f)}}function r(f,g){var E=g.length;if(!E)return f;var I=E-1;return g[I]=(E>1?"& ":"")+g[I],g=g.join(E>2?", ":" "),f.replace(Ot,`{
/* [wrapped with `+g+`] */
`)}function s(f){return mi(f)||dl(f)||!!(Ml&&f&&f[Ml])}function p(f,g){var E=typeof f;return g=g??Ce,!!g&&(E=="number"||E!="symbol"&&ro.test(f))&&f>-1&&f%1==0&&f<g}function d(f,g,E){if(!Rn(E))return!1;var I=typeof g;return(I=="number"?ko(E)&&p(g,E.length):I=="string"&&g in E)?Ra(E[g],f):!1}function b(f,g){if(mi(f))return!1;var E=typeof f;return E=="number"||E=="symbol"||E=="boolean"||f==null||jo(f)?!0:Hi.test(f)||!io.test(f)||g!=null&&f in ji(g)}function C(f){var g=typeof f;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?f!=="__proto__":f===null}function F(f){var g=fl(f),E=fe[g];if(typeof E!="function"||!(g in Gt.prototype))return!1;if(f===E)return!0;var I=cl(E);return!!I&&f===I[0]}function H(f){return!!Ro&&Ro in f}var Z=_o?Ws:Xd;function K(f){var g=f&&f.constructor,E=typeof g=="function"&&g.prototype||ao;return f===E}function be(f){return f===f&&!Rn(f)}function Ee(f,g){return function(E){return E==null?!1:E[f]===g&&(g!==n||f in ji(E))}}function Ie(f){var g=gh(f,function(I){return E.size===x&&E.clear(),I}),E=g.cache;return g}function Fe(f,g){var E=f[1],I=g[1],te=E|I,me=te<(q|O|J),Se=I==J&&E==P||I==J&&E==ue&&f[7].length<=g[8]||I==(J|ue)&&g[7].length<=g[8]&&E==P;if(!(me||Se))return f;I&q&&(f[2]=g[2],te|=E&q?0:S);var Pe=g[3];if(Pe){var He=f[3];f[3]=He?ql(He,Pe,g[4]):Pe,f[4]=He?jr(f[3],w):g[4]}return Pe=g[5],Pe&&(He=f[5],f[5]=He?qc(He,Pe,g[6]):Pe,f[6]=He?jr(f[5],w):g[6]),Pe=g[7],Pe&&(f[7]=Pe),I&J&&(f[8]=f[8]==null?g[8]:oe(f[8],g[8])),f[9]==null&&(f[9]=g[9]),f[0]=g[0],f[1]=te,f}function Ge(f){var g=[];if(f!=null)for(var E in ji(f))g.push(E);return g}function rt(f){return so.call(f)}function dt(f,g,E){return g=U(g===n?f.length-1:g,0),function(){for(var I=arguments,te=-1,me=U(I.length-g,0),Se=Ye(me);++te<me;)Se[te]=I[g+te];te=-1;for(var Pe=Ye(g+1);++te<g;)Pe[te]=I[te];return Pe[g]=E(Se),ln(f,this,Pe)}}function bt(f,g){return g.length<2?f:is(f,er(g,0,-1))}function _t(f,g){for(var E=f.length,I=oe(g.length,E),te=Qr(f);I--;){var me=g[I];f[I]=p(me,E)?te[me]:n}return f}function vt(f,g){if(!(g==="constructor"&&typeof f[g]=="function")&&g!="__proto__")return f[g]}var Tt=$i(Jf),Bt=uu||function(f,g){return Ni.setTimeout(f,g)},It=$i(Ed);function ci(f,g,E){var I=g+"";return It(f,r(I,On(kn(I),E)))}function $i(f){var g=0,E=0;return function(){var I=De(),te=ve-(I-E);if(E=I,te>0){if(++g>=Te)return arguments[0]}else g=0;return f.apply(n,arguments)}}function En(f,g){var E=-1,I=f.length,te=I-1;for(g=g===n?I:g;++E<g;){var me=Bl(E,te),Se=f[me];f[me]=f[E],f[E]=Se}return f.length=g,f}var sn=Ie(function(f){var g=[];return f.charCodeAt(0)===46&&g.push(""),f.replace(Ir,function(E,I,te,me){g.push(te?me.replace($r,"$1"):I||E)}),g});function vn(f){if(typeof f=="string"||jo(f))return f;var g=f+"";return g=="0"&&1/f==-ye?"-0":g}function Pn(f){if(f!=null){try{return Xa.call(f)}catch{}try{return f+""}catch{}}return""}function On(f,g){return qr(Le,function(E){var I="_."+E[0];g&E[1]&&!Ua(f,I)&&f.push(I)}),f.sort()}function Mr(f){if(f instanceof Gt)return f.clone();var g=new Di(f.__wrapped__,f.__chain__);return g.__actions__=Qr(f.__actions__),g.__index__=f.__index__,g.__values__=f.__values__,g}function dr(f,g,E){(E?d(f,g,E):g===n)?g=1:g=U(yi(g),0);var I=f==null?0:f.length;if(!I||g<1)return[];for(var te=0,me=0,Se=Ye(Va(I/g));te<I;)Se[me++]=er(f,te,te+=g);return Se}function qn(f){for(var g=-1,E=f==null?0:f.length,I=0,te=[];++g<E;){var me=f[g];me&&(te[I++]=me)}return te}function Fn(){var f=arguments.length;if(!f)return[];for(var g=Ye(f-1),E=arguments[0],I=f;I--;)g[I-1]=arguments[I];return vo(mi(E)?Qr(E):[E],Jn(g,1))}var bn=bi(function(f,g){return nr(f)?Vu(f,Jn(g,1,nr,!0)):[]}),Ur=bi(function(f,g){var E=va(g);return nr(E)&&(E=n),nr(f)?Vu(f,Jn(g,1,nr,!0),Xt(E,2)):[]}),Tu=bi(function(f,g){var E=va(g);return nr(E)&&(E=n),nr(f)?Vu(f,Jn(g,1,nr,!0),n,E):[]});function us(f,g,E){var I=f==null?0:f.length;return I?(g=E||g===n?1:yi(g),er(f,g<0?0:g,I)):[]}function kr(f,g,E){var I=f==null?0:f.length;return I?(g=E||g===n?1:yi(g),g=I-g,er(f,0,g<0?0:g)):[]}function ma(f,g){return f&&f.length?el(f,Xt(g,3),!0,!0):[]}function ir(f,g){return f&&f.length?el(f,Xt(g,3),!0):[]}function Gc(f,g,E,I){var te=f==null?0:f.length;return te?(E&&typeof E!="number"&&d(f,g,E)&&(E=0,I=te),zf(f,g,E,I)):[]}function ga(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var te=E==null?0:yi(E);return te<0&&(te=U(I+te,0)),Cr(f,Xt(g,3),te)}function ls(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var te=I-1;return E!==n&&(te=yi(E),te=E<0?U(I+te,0):oe(te,I-1)),Cr(f,Xt(g,3),te,!0)}function cs(f){var g=f==null?0:f.length;return g?Jn(f,1):[]}function Pr(f){var g=f==null?0:f.length;return g?Jn(f,ye):[]}function Au(f,g){var E=f==null?0:f.length;return E?(g=g===n?1:yi(g),Jn(f,g)):[]}function Zc(f){for(var g=-1,E=f==null?0:f.length,I={};++g<E;){var te=f[g];I[te[0]]=te[1]}return I}function bm(f){return f&&f.length?f[0]:n}function Ib(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var te=E==null?0:yi(E);return te<0&&(te=U(I+te,0)),tn(f,g,te)}function zb(f){var g=f==null?0:f.length;return g?er(f,0,-1):[]}var Bb=bi(function(f){var g=en(f,il);return g.length&&g[0]===f[0]?pu(g):[]}),Hb=bi(function(f){var g=va(f),E=en(f,il);return g===va(E)?g=n:E.pop(),E.length&&E[0]===f[0]?pu(E,Xt(g,2)):[]}),Wb=bi(function(f){var g=va(f),E=en(f,il);return g=typeof g=="function"?g:n,g&&E.pop(),E.length&&E[0]===f[0]?pu(E,n,g):[]});function qb(f,g){return f==null?"":_.call(f,g)}function va(f){var g=f==null?0:f.length;return g?f[g-1]:n}function jb(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var te=I;return E!==n&&(te=yi(E),te=te<0?U(I+te,0):oe(te,I-1)),g===g?_c(f,g,te):Cr(f,Sr,te,!0)}function Ub(f,g){return f&&f.length?yu(f,yi(g)):n}var Yb=bi(ym);function ym(f,g){return f&&f.length&&g&&g.length?Nc(f,g):f}function $b(f,g,E){return f&&f.length&&g&&g.length?Nc(f,g,Xt(E,2)):f}function Gb(f,g,E){return f&&f.length&&g&&g.length?Nc(f,g,n,E):f}var Zb=pa(function(f,g){var E=f==null?0:f.length,I=fu(f,g);return Lr(f,en(g,function(te){return p(te,E)?+te:te}).sort(Wc)),I});function Xb(f,g){var E=[];if(!(f&&f.length))return E;var I=-1,te=[],me=f.length;for(g=Xt(g,3);++I<me;){var Se=f[I];g(Se,I,f)&&(E.push(Se),te.push(I))}return Lr(f,te),E}function Rd(f){return f==null?f:lt.call(f)}function Vb(f,g,E){var I=f==null?0:f.length;return I?(E&&typeof E!="number"&&d(f,g,E)?(g=0,E=I):(g=g==null?0:yi(g),E=E===n?I:yi(E)),er(f,g,E)):[]}function Kb(f,g){return zs(f,g)}function Qb(f,g,E){return Bs(f,g,Xt(E,2))}function Jb(f,g){var E=f==null?0:f.length;if(E){var I=zs(f,g);if(I<E&&Ra(f[I],g))return I}return-1}function ey(f,g){return zs(f,g,!0)}function ty(f,g,E){return Bs(f,g,Xt(E,2),!0)}function iy(f,g){var E=f==null?0:f.length;if(E){var I=zs(f,g,!0)-1;if(Ra(f[I],g))return I}return-1}function ny(f){return f&&f.length?ha(f):[]}function ry(f,g){return f&&f.length?ha(f,Xt(g,2)):[]}function oy(f){var g=f==null?0:f.length;return g?er(f,1,g):[]}function ay(f,g,E){return f&&f.length?(g=E||g===n?1:yi(g),er(f,0,g<0?0:g)):[]}function sy(f,g,E){var I=f==null?0:f.length;return I?(g=E||g===n?1:yi(g),g=I-g,er(f,g<0?0:g,I)):[]}function uy(f,g){return f&&f.length?el(f,Xt(g,3),!1,!0):[]}function ly(f,g){return f&&f.length?el(f,Xt(g,3)):[]}var cy=bi(function(f){return fo(Jn(f,1,nr,!0))}),fy=bi(function(f){var g=va(f);return nr(g)&&(g=n),fo(Jn(f,1,nr,!0),Xt(g,2))}),hy=bi(function(f){var g=va(f);return g=typeof g=="function"?g:n,fo(Jn(f,1,nr,!0),n,g)});function dy(f){return f&&f.length?fo(f):[]}function py(f,g){return f&&f.length?fo(f,Xt(g,2)):[]}function my(f,g){return g=typeof g=="function"?g:n,f&&f.length?fo(f,n,g):[]}function Nd(f){if(!(f&&f.length))return[];var g=0;return f=Po(f,function(E){if(nr(E))return g=U(E.length,g),!0}),Uu(g,function(E){return en(f,Ks(E))})}function _m(f,g){if(!(f&&f.length))return[];var E=Nd(f);return g==null?E:en(E,function(I){return ln(g,n,I)})}var gy=bi(function(f,g){return nr(f)?Vu(f,g):[]}),vy=bi(function(f){return rs(Po(f,nr))}),by=bi(function(f){var g=va(f);return nr(g)&&(g=n),rs(Po(f,nr),Xt(g,2))}),yy=bi(function(f){var g=va(f);return g=typeof g=="function"?g:n,rs(Po(f,nr),n,g)}),_y=bi(Nd);function wy(f,g){return Wl(f||[],g||[],lu)}function xy(f,g){return Wl(f||[],g||[],_u)}var ky=bi(function(f){var g=f.length,E=g>1?f[g-1]:n;return E=typeof E=="function"?(f.pop(),E):n,_m(f,E)});function wm(f){var g=fe(f);return g.__chain__=!0,g}function Ey(f,g){return g(f),f}function dh(f,g){return g(f)}var Cy=pa(function(f){var g=f.length,E=g?f[0]:0,I=this.__wrapped__,te=function(me){return fu(me,f)};return g>1||this.__actions__.length||!(I instanceof Gt)||!p(E)?this.thru(te):(I=I.slice(E,+E+(g?1:0)),I.__actions__.push({func:dh,args:[te],thisArg:n}),new Di(I,this.__chain__).thru(function(me){return g&&!me.length&&me.push(n),me}))});function Sy(){return wm(this)}function Ty(){return new Di(this.value(),this.__chain__)}function Ay(){this.__values__===n&&(this.__values__=Rm(this.value()));var f=this.__index__>=this.__values__.length,g=f?n:this.__values__[this.__index__++];return{done:f,value:g}}function Dy(){return this}function Ly(f){for(var g,E=this;E instanceof Qn;){var I=Mr(E);I.__index__=0,I.__values__=n,g?te.__wrapped__=I:g=I;var te=I;E=E.__wrapped__}return te.__wrapped__=f,g}function My(){var f=this.__wrapped__;if(f instanceof Gt){var g=f;return this.__actions__.length&&(g=new Gt(this)),g=g.reverse(),g.__actions__.push({func:dh,args:[Rd],thisArg:n}),new Di(g,this.__chain__)}return this.thru(Rd)}function Py(){return tl(this.__wrapped__,this.__actions__)}var Oy=xu(function(f,g,E){Ei.call(f,E)?++f[E]:Pa(f,E,1)});function Fy(f,g,E){var I=mi(f)?Vs:wd;return E&&d(f,g,E)&&(g=n),I(f,Xt(g,3))}function Ry(f,g){var E=mi(f)?Po:Fs;return E(f,Xt(g,3))}var Ny=jc(ga),Iy=jc(ls);function zy(f,g){return Jn(ph(f,g),1)}function By(f,g){return Jn(ph(f,g),ye)}function Hy(f,g,E){return E=E===n?1:yi(E),Jn(ph(f,g),E)}function xm(f,g){var E=mi(f)?qr:Ho;return E(f,Xt(g,3))}function km(f,g){var E=mi(f)?Mo:Lc;return E(f,Xt(g,3))}var Wy=xu(function(f,g,E){Ei.call(f,E)?f[E].push(g):Pa(f,E,[g])});function qy(f,g,E,I){f=ko(f)?f:Ql(f),E=E&&!I?yi(E):0;var te=f.length;return E<0&&(E=U(te+E,0)),yh(f)?E<=te&&f.indexOf(g,E)>-1:!!te&&tn(f,g,E)>-1}var jy=bi(function(f,g,E){var I=-1,te=typeof g=="function",me=ko(f)?Ye(f.length):[];return Ho(f,function(Se){me[++I]=te?ln(g,Se,E):mu(Se,g,E)}),me}),Uy=xu(function(f,g,E){Pa(f,E,g)});function ph(f,g){var E=mi(f)?en:Fc;return E(f,Xt(g,3))}function Yy(f,g,E,I){return f==null?[]:(mi(g)||(g=g==null?[]:[g]),E=I?n:E,mi(E)||(E=E==null?[]:[E]),Zf(f,g,E))}var $y=xu(function(f,g,E){f[E?0:1].push(g)},function(){return[[],[]]});function Gy(f,g,E){var I=mi(f)?ju:Js,te=arguments.length<3;return I(f,Xt(g,4),E,te,Ho)}function Zy(f,g,E){var I=mi(f)?El:Js,te=arguments.length<3;return I(f,Xt(g,4),E,te,Lc)}function Xy(f,g){var E=mi(f)?Po:Fs;return E(f,vh(Xt(g,3)))}function Vy(f){var g=mi(f)?Sc:Kf;return g(f)}function Ky(f,g,E){(E?d(f,g,E):g===n)?g=1:g=yi(g);var I=mi(f)?yd:Qf;return I(f,g)}function Qy(f){var g=mi(f)?Tc:Cd;return g(f)}function Jy(f){if(f==null)return 0;if(ko(f))return yh(f)?Ar(f):f.length;var g=tr(f);return g==wt||g==le?f.size:Ns(f).length}function e_(f,g,E){var I=mi(f)?Jo:Ju;return E&&d(f,g,E)&&(g=n),I(f,Xt(g,3))}var t_=bi(function(f,g){if(f==null)return[];var E=g.length;return E>1&&d(f,g[0],g[1])?g=[]:E>2&&d(g[0],g[1],g[2])&&(g=[g[0]]),Zf(f,Jn(g,1),[])}),mh=Da||function(){return Ni.Date.now()};function i_(f,g){if(typeof g!="function")throw new wr(c);return f=yi(f),function(){if(--f<1)return g.apply(this,arguments)}}function Em(f,g,E){return g=E?n:g,g=f&&g==null?f.length:g,Oi(f,J,n,n,n,n,g)}function Cm(f,g){var E;if(typeof g!="function")throw new wr(c);return f=yi(f),function(){return--f>0&&(E=g.apply(this,arguments)),f<=1&&(g=n),E}}var Id=bi(function(f,g,E){var I=q;if(E.length){var te=jr(E,Su(Id));I|=z}return Oi(f,I,g,E,te)}),Sm=bi(function(f,g,E){var I=q|O;if(E.length){var te=jr(E,Su(Sm));I|=z}return Oi(g,I,f,E,te)});function Tm(f,g,E){g=E?n:g;var I=Oi(f,P,n,n,n,n,n,g);return I.placeholder=Tm.placeholder,I}function Am(f,g,E){g=E?n:g;var I=Oi(f,W,n,n,n,n,n,g);return I.placeholder=Am.placeholder,I}function Dm(f,g,E){var I,te,me,Se,Pe,He,at=0,st=!1,ht=!1,Dt=!0;if(typeof f!="function")throw new wr(c);g=ba(g)||0,Rn(E)&&(st=!!E.leading,ht="maxWait"in E,me=ht?U(ba(E.maxWait)||0,g):me,Dt="trailing"in E?!!E.trailing:Dt);function jt(rr){var Na=I,js=te;return I=te=n,at=rr,Se=f.apply(js,Na),Se}function ei(rr){return at=rr,Pe=Bt(Ai,g),st?jt(rr):Se}function ki(rr){var Na=rr-He,js=rr-at,Zm=g-Na;return ht?oe(Zm,me-js):Zm}function ti(rr){var Na=rr-He,js=rr-at;return He===n||Na>=g||Na<0||ht&&js>=me}function Ai(){var rr=mh();if(ti(rr))return Fi(rr);Pe=Bt(Ai,ki(rr))}function Fi(rr){return Pe=n,Dt&&I?jt(rr):(I=te=n,Se)}function Uo(){Pe!==n&&th(Pe),at=0,I=He=te=Pe=n}function ho(){return Pe===n?Se:Fi(mh())}function Yo(){var rr=mh(),Na=ti(rr);if(I=arguments,te=this,He=rr,Na){if(Pe===n)return ei(He);if(ht)return th(Pe),Pe=Bt(Ai,g),jt(He)}return Pe===n&&(Pe=Bt(Ai,g)),Se}return Yo.cancel=Uo,Yo.flush=ho,Yo}var n_=bi(function(f,g){return If(f,1,g)}),r_=bi(function(f,g,E){return If(f,ba(g)||0,E)});function o_(f){return Oi(f,de)}function gh(f,g){if(typeof f!="function"||g!=null&&typeof g!="function")throw new wr(c);var E=function(){var I=arguments,te=g?g.apply(this,I):I[0],me=E.cache;if(me.has(te))return me.get(te);var Se=f.apply(this,I);return E.cache=me.set(te,Se)||me,Se};return E.cache=new(gh.Cache||zo),E}gh.Cache=zo;function vh(f){if(typeof f!="function")throw new wr(c);return function(){var g=arguments;switch(g.length){case 0:return!f.call(this);case 1:return!f.call(this,g[0]);case 2:return!f.call(this,g[0],g[1]);case 3:return!f.call(this,g[0],g[1],g[2])}return!f.apply(this,g)}}function a_(f){return Cm(2,f)}var s_=rl(function(f,g){g=g.length==1&&mi(g[0])?en(g[0],nn(Xt())):en(Jn(g,1),nn(Xt()));var E=g.length;return bi(function(I){for(var te=-1,me=oe(I.length,E);++te<me;)I[te]=g[te].call(this,I[te]);return ln(f,this,I)})}),zd=bi(function(f,g){var E=jr(g,Su(zd));return Oi(f,z,n,g,E)}),Lm=bi(function(f,g){var E=jr(g,Su(Lm));return Oi(f,G,n,g,E)}),u_=pa(function(f,g){return Oi(f,ue,n,n,n,g)});function l_(f,g){if(typeof f!="function")throw new wr(c);return g=g===n?g:yi(g),bi(f,g)}function c_(f,g){if(typeof f!="function")throw new wr(c);return g=g==null?0:U(yi(g),0),bi(function(E){var I=E[g],te=Fa(E,0,g);return I&&vo(te,I),ln(f,this,te)})}function f_(f,g,E){var I=!0,te=!0;if(typeof f!="function")throw new wr(c);return Rn(E)&&(I="leading"in E?!!E.leading:I,te="trailing"in E?!!E.trailing:te),Dm(f,g,{leading:I,maxWait:g,trailing:te})}function h_(f){return Em(f,1)}function d_(f,g){return zd(nl(g),f)}function p_(){if(!arguments.length)return[];var f=arguments[0];return mi(f)?f:[f]}function m_(f){return lo(f,B)}function g_(f,g){return g=typeof g=="function"?g:n,lo(f,B,g)}function v_(f){return lo(f,k|B)}function b_(f,g){return g=typeof g=="function"?g:n,lo(f,k|B,g)}function y_(f,g){return g==null||Dc(f,g,Or(g))}function Ra(f,g){return f===g||f!==f&&g!==g}var __=sl(zl),w_=sl(function(f,g){return f>=g}),dl=Pc(function(){return arguments}())?Pc:function(f){return jn(f)&&Ei.call(f,"callee")&&!Ls.call(f,"callee")},mi=Ye.isArray,x_=Zs?nn(Zs):gu;function ko(f){return f!=null&&bh(f.length)&&!Ws(f)}function nr(f){return jn(f)&&ko(f)}function k_(f){return f===!0||f===!1||jn(f)&&hr(f)==Ae}var Du=a||Xd,E_=oo?nn(oo):qf;function C_(f){return jn(f)&&f.nodeType===1&&!Xc(f)}function S_(f){if(f==null)return!0;if(ko(f)&&(mi(f)||typeof f=="string"||typeof f.splice=="function"||Du(f)||Kl(f)||dl(f)))return!f.length;var g=tr(f);if(g==wt||g==le)return!f.size;if(K(f))return!Ns(f).length;for(var E in f)if(Ei.call(f,E))return!1;return!0}function T_(f,g){return ns(f,g)}function A_(f,g,E){E=typeof E=="function"?E:n;var I=E?E(f,g):n;return I===n?ns(f,g,n,E):!!I}function Bd(f){if(!jn(f))return!1;var g=hr(f);return g==Xe||g==Ze||typeof f.message=="string"&&typeof f.name=="string"&&!Xc(f)}function D_(f){return typeof f=="number"&&m(f)}function Ws(f){if(!Rn(f))return!1;var g=hr(f);return g==ut||g==Ct||g==we||g==Kt}function Mm(f){return typeof f=="number"&&f==yi(f)}function bh(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=Ce}function Rn(f){var g=typeof f;return f!=null&&(g=="object"||g=="function")}function jn(f){return f!=null&&typeof f=="object"}var Pm=ks?nn(ks):Ku;function L_(f,g){return f===g||Oc(f,g,zi(g))}function M_(f,g,E){return E=typeof E=="function"?E:n,Oc(f,g,zi(g),E)}function P_(f){return Om(f)&&f!=+f}function O_(f){if(Z(f))throw new Jt(u);return Rs(f)}function F_(f){return f===null}function R_(f){return f==null}function Om(f){return typeof f=="number"||jn(f)&&hr(f)==St}function Xc(f){if(!jn(f)||hr(f)!=Mt)return!1;var g=uo(f);if(g===null)return!0;var E=Ei.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&Xa.call(E)==oa}var Hd=Xs?nn(Xs):Uf;function N_(f){return Mm(f)&&f>=-Ce&&f<=Ce}var Fm=Lo?nn(Lo):Yf;function yh(f){return typeof f=="string"||!mi(f)&&jn(f)&&hr(f)==Q}function jo(f){return typeof f=="symbol"||jn(f)&&hr(f)==he}var Kl=kl?nn(kl):$f;function I_(f){return f===n}function z_(f){return jn(f)&&tr(f)==Be}function B_(f){return jn(f)&&hr(f)==ot}var H_=sl(Is),W_=sl(function(f,g){return f<=g});function Rm(f){if(!f)return[];if(ko(f))return yh(f)?Dr(f):Qr(f);if(ua&&f[ua])return tu(f[ua]());var g=tr(f),E=g==wt?iu:g==le?pn:Ql;return E(f)}function qs(f){if(!f)return f===0?f:0;if(f=ba(f),f===ye||f===-ye){var g=f<0?-1:1;return g*et}return f===f?f:0}function yi(f){var g=qs(f),E=g%1;return g===g?E?g-E:g:0}function Nm(f){return f?Oa(yi(f),0,Me):0}function ba(f){if(typeof f=="number")return f;if(jo(f))return ze;if(Rn(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=Rn(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=Yu(f);var E=sr.test(f);return E||no.test(f)?Ea(f.slice(2),E?2:8):ar.test(f)?ze:+f}function Im(f){return qo(f,Eo(f))}function q_(f){return f?Oa(yi(f),-Ce,Ce):f===0?f:0}function Ki(f){return f==null?"":co(f)}var j_=da(function(f,g){if(K(g)||ko(g)){qo(g,Or(g),f);return}for(var E in g)Ei.call(g,E)&&lu(f,E,g[E])}),zm=da(function(f,g){qo(g,Eo(g),f)}),_h=da(function(f,g,E,I){qo(g,Eo(g),f,I)}),U_=da(function(f,g,E,I){qo(g,Or(g),f,I)}),Y_=pa(fu);function $_(f,g){var E=Ka(f);return g==null?E:Ac(E,g)}var G_=bi(function(f,g){f=ji(f);var E=-1,I=g.length,te=I>2?g[2]:n;for(te&&d(g[0],g[1],te)&&(I=1);++E<I;)for(var me=g[E],Se=Eo(me),Pe=-1,He=Se.length;++Pe<He;){var at=Se[Pe],st=f[at];(st===n||Ra(st,ao[at])&&!Ei.call(f,at))&&(f[at]=me[at])}return f}),Z_=bi(function(f){return f.push(n,$l),ln(Bm,n,f)});function X_(f,g){return Es(f,Xt(g,3),wo)}function V_(f,g){return Es(f,Xt(g,3),Nl)}function K_(f,g){return f==null?f:hu(f,Xt(g,3),Eo)}function Q_(f,g){return f==null?f:Mc(f,Xt(g,3),Eo)}function J_(f,g){return f&&wo(f,Xt(g,3))}function e1(f,g){return f&&Nl(f,Xt(g,3))}function t1(f){return f==null?[]:Il(f,Or(f))}function i1(f){return f==null?[]:Il(f,Eo(f))}function Wd(f,g,E){var I=f==null?n:is(f,g);return I===n?E:I}function n1(f,g){return f!=null&&fh(f,g,Bf)}function qd(f,g){return f!=null&&fh(f,g,Hf)}var r1=Uc(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=so.call(g)),f[g]=E},Ud(Co)),o1=Uc(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=so.call(g)),Ei.call(f,g)?f[g].push(E):f[g]=[E]},Xt),a1=bi(mu);function Or(f){return ko(f)?Fl(f):Ns(f)}function Eo(f){return ko(f)?Fl(f,!0):Qu(f)}function s1(f,g){var E={};return g=Xt(g,3),wo(f,function(I,te,me){Pa(E,g(I,te,me),I)}),E}function u1(f,g){var E={};return g=Xt(g,3),wo(f,function(I,te,me){Pa(E,te,g(I,te,me))}),E}var l1=da(function(f,g,E){Wo(f,g,E)}),Bm=da(function(f,g,E,I){Wo(f,g,E,I)}),c1=pa(function(f,g){var E={};if(f==null)return E;var I=!1;g=en(g,function(me){return me=os(me,f),I||(I=me.length>1),me}),qo(f,Xl(f),E),I&&(E=lo(E,k|A|B,ll));for(var te=g.length;te--;)Hl(E,g[te]);return E});function f1(f,g){return Hm(f,vh(Xt(g)))}var h1=pa(function(f,g){return f==null?{}:Xf(f,g)});function Hm(f,g){if(f==null)return{};var E=en(Xl(f),function(I){return[I]});return g=Xt(g),Vf(f,E,function(I,te){return g(I,te[0])})}function d1(f,g,E){g=os(g,f);var I=-1,te=g.length;for(te||(te=1,f=n);++I<te;){var me=f==null?n:f[vn(g[I])];me===n&&(I=te,me=E),f=Ws(me)?me.call(f):me}return f}function p1(f,g,E){return f==null?f:_u(f,g,E)}function m1(f,g,E,I){return I=typeof I=="function"?I:n,f==null?f:_u(f,g,E,I)}var Wm=uh(Or),qm=uh(Eo);function g1(f,g,E){var I=mi(f),te=I||Du(f)||Kl(f);if(g=Xt(g,4),E==null){var me=f&&f.constructor;te?E=I?new me:[]:Rn(f)?E=Ws(me)?Ka(uo(f)):{}:E={}}return(te?qr:wo)(f,function(Se,Pe,He){return g(E,Se,Pe,He)}),E}function v1(f,g){return f==null?!0:Hl(f,g)}function b1(f,g,E){return f==null?f:zc(f,g,nl(E))}function y1(f,g,E,I){return I=typeof I=="function"?I:n,f==null?f:zc(f,g,nl(E),I)}function Ql(f){return f==null?[]:ea(f,Or(f))}function _1(f){return f==null?[]:ea(f,Eo(f))}function w1(f,g,E){return E===n&&(E=g,g=n),E!==n&&(E=ba(E),E=E===E?E:0),g!==n&&(g=ba(g),g=g===g?g:0),Oa(ba(f),g,E)}function x1(f,g,E){return g=qs(g),E===n?(E=g,g=0):E=qs(E),f=ba(f),du(f,g,E)}function k1(f,g,E){if(E&&typeof E!="boolean"&&d(f,g,E)&&(g=E=n),E===n&&(typeof g=="boolean"?(E=g,g=n):typeof f=="boolean"&&(E=f,f=n)),f===n&&g===n?(f=0,g=1):(f=qs(f),g===n?(g=f,f=0):g=qs(g)),f>g){var I=f;f=g,g=I}if(E||f%1||g%1){var te=$e();return oe(f+te*(g-f+Qo("1e-"+((te+"").length-1))),g)}return Bl(f,g)}var E1=Eu(function(f,g,E){return g=g.toLowerCase(),f+(E?jm(g):g)});function jm(f){return jd(Ki(f).toLowerCase())}function Um(f){return f=Ki(f),f&&f.replace(Er,Al).replace(gt,"")}function C1(f,g,E){f=Ki(f),g=co(g);var I=f.length;E=E===n?I:Oa(yi(E),0,I);var te=E;return E-=g.length,E>=0&&f.slice(E,te)==g}function S1(f){return f=Ki(f),f&&wi.test(f)?f.replace(Ri,Tr):f}function T1(f){return f=Ki(f),f&&Qi.test(f)?f.replace(Wi,"\\$&"):f}var A1=Eu(function(f,g,E){return f+(E?"-":"")+g.toLowerCase()}),D1=Eu(function(f,g,E){return f+(E?" ":"")+g.toLowerCase()}),L1=oh("toLowerCase");function M1(f,g,E){f=Ki(f),g=yi(g);var I=g?Ar(f):0;if(!g||I>=g)return f;var te=(g-I)/2;return Yl(la(te),E)+f+Yl(Va(te),E)}function P1(f,g,E){f=Ki(f),g=yi(g);var I=g?Ar(f):0;return g&&I<g?f+Yl(g-I,E):f}function O1(f,g,E){f=Ki(f),g=yi(g);var I=g?Ar(f):0;return g&&I<g?Yl(g-I,E)+f:f}function F1(f,g,E){return E||g==null?g=0:g&&(g=+g),qe(Ki(f).replace(br,""),g||0)}function R1(f,g,E){return(E?d(f,g,E):g===n)?g=1:g=yi(g),Ic(Ki(f),g)}function N1(){var f=arguments,g=Ki(f[0]);return f.length<3?g:g.replace(f[1],f[2])}var I1=Eu(function(f,g,E){return f+(E?"_":"")+g.toLowerCase()});function z1(f,g,E){return E&&typeof E!="number"&&d(f,g,E)&&(g=E=n),E=E===n?Me:E>>>0,E?(f=Ki(f),f&&(typeof g=="string"||g!=null&&!Hd(g))&&(g=co(g),!g&&Ga(f))?Fa(Dr(f),0,E):f.split(g,E)):[]}var B1=Eu(function(f,g,E){return f+(E?" ":"")+jd(g)});function H1(f,g,E){return f=Ki(f),E=E==null?0:Oa(yi(E),0,f.length),g=co(g),f.slice(E,E+g.length)==g}function W1(f,g,E){var I=fe.templateSettings;E&&d(f,g,E)&&(g=n),f=Ki(f),g=_h({},g,I,lh);var te=_h({},g.imports,I.imports,lh),me=Or(te),Se=ea(te,me),Pe,He,at=0,st=g.interpolate||Dn,ht="__p += '",Dt=Ds((g.escape||Dn).source+"|"+st.source+"|"+(st===Bi?Zi:Dn).source+"|"+(g.evaluate||Dn).source+"|$","g"),jt="//# sourceURL="+(Ei.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Br+"]")+`
`;f.replace(Dt,function(ti,Ai,Fi,Uo,ho,Yo){return Fi||(Fi=Uo),ht+=f.slice(at,Yo).replace(zr,ia),Ai&&(Pe=!0,ht+=`' +
__e(`+Ai+`) +
'`),ho&&(He=!0,ht+=`';
`+ho+`;
__p += '`),Fi&&(ht+=`' +
((__t = (`+Fi+`)) == null ? '' : __t) +
'`),at=Yo+ti.length,ti}),ht+=`';
`;var ei=Ei.call(g,"variable")&&g.variable;if(!ei)ht=`with (obj) {
`+ht+`
}
`;else if(or.test(ei))throw new Jt(h);ht=(He?ht.replace(vr,""):ht).replace(Rt,"$1").replace(un,"$1;"),ht="function("+(ei||"obj")+`) {
`+(ei?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(He?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ht+`return __p
}`;var ki=$m(function(){return Si(me,jt+"return "+ht).apply(n,Se)});if(ki.source=ht,Bd(ki))throw ki;return ki}function q1(f){return Ki(f).toLowerCase()}function j1(f){return Ki(f).toUpperCase()}function U1(f,g,E){if(f=Ki(f),f&&(E||g===n))return Yu(f);if(!f||!(g=co(g)))return f;var I=Dr(f),te=Dr(g),me=Hn(I,te),Se=Ts(I,te)+1;return Fa(I,me,Se).join("")}function Y1(f,g,E){if(f=Ki(f),f&&(E||g===n))return f.slice(0,nu(f)+1);if(!f||!(g=co(g)))return f;var I=Dr(f),te=Ts(I,Dr(g))+1;return Fa(I,0,te).join("")}function $1(f,g,E){if(f=Ki(f),f&&(E||g===n))return f.replace(br,"");if(!f||!(g=co(g)))return f;var I=Dr(f),te=Hn(I,Dr(g));return Fa(I,te).join("")}function G1(f,g){var E=ge,I=ce;if(Rn(g)){var te="separator"in g?g.separator:te;E="length"in g?yi(g.length):E,I="omission"in g?co(g.omission):I}f=Ki(f);var me=f.length;if(Ga(f)){var Se=Dr(f);me=Se.length}if(E>=me)return f;var Pe=E-Ar(I);if(Pe<1)return I;var He=Se?Fa(Se,0,Pe).join(""):f.slice(0,Pe);if(te===n)return He+I;if(Se&&(Pe+=He.length-Pe),Hd(te)){if(f.slice(Pe).search(te)){var at,st=He;for(te.global||(te=Ds(te.source,Ki(Ji.exec(te))+"g")),te.lastIndex=0;at=te.exec(st);)var ht=at.index;He=He.slice(0,ht===n?Pe:ht)}}else if(f.indexOf(co(te),Pe)!=Pe){var Dt=He.lastIndexOf(te);Dt>-1&&(He=He.slice(0,Dt))}return He+I}function Z1(f){return f=Ki(f),f&&pi.test(f)?f.replace(_i,ru):f}var X1=Eu(function(f,g,E){return f+(E?" ":"")+g.toUpperCase()}),jd=oh("toUpperCase");function Ym(f,g,E){return f=Ki(f),g=E?n:g,g===n?Fo(f)?As(f):Sl(f):f.match(g)||[]}var $m=bi(function(f,g){try{return ln(f,n,g)}catch(E){return Bd(E)?E:new Jt(E)}}),V1=pa(function(f,g){return qr(g,function(E){E=vn(E),Pa(f,E,Id(f[E],f))}),f});function K1(f){var g=f==null?0:f.length,E=Xt();return f=g?en(f,function(I){if(typeof I[1]!="function")throw new wr(c);return[E(I[0]),I[1]]}):[],bi(function(I){for(var te=-1;++te<g;){var me=f[te];if(ln(me[0],this,I))return ln(me[1],this,I)}})}function Q1(f){return _d(lo(f,k))}function Ud(f){return function(){return f}}function J1(f,g){return f==null||f!==f?g:f}var ew=ah(),tw=ah(!0);function Co(f){return f}function Yd(f){return vu(typeof f=="function"?f:lo(f,k))}function iw(f){return Gf(lo(f,k))}function nw(f,g){return Rc(f,lo(g,k))}var rw=bi(function(f,g){return function(E){return mu(E,f,g)}}),ow=bi(function(f,g){return function(E){return mu(f,E,g)}});function $d(f,g,E){var I=Or(g),te=Il(g,I);E==null&&!(Rn(g)&&(te.length||!I.length))&&(E=g,g=f,f=this,te=Il(g,Or(g)));var me=!(Rn(E)&&"chain"in E)||!!E.chain,Se=Ws(f);return qr(te,function(Pe){var He=g[Pe];f[Pe]=He,Se&&(f.prototype[Pe]=function(){var at=this.__chain__;if(me||at){var st=f(this.__wrapped__),ht=st.__actions__=Qr(this.__actions__);return ht.push({func:He,args:arguments,thisArg:f}),st.__chain__=at,st}return He.apply(f,vo([this.value()],arguments))})}),f}function aw(){return Ni._===this&&(Ni._=xr),this}function Gd(){}function sw(f){return f=yi(f),bi(function(g){return yu(g,f)})}var uw=Ul(en),lw=Ul(Vs),cw=Ul(Jo);function Gm(f){return b(f)?Ks(vn(f)):xd(f)}function fw(f){return function(g){return f==null?n:is(f,g)}}var hw=Hs(),dw=Hs(!0);function Zd(){return[]}function Xd(){return!1}function pw(){return{}}function mw(){return""}function gw(){return!0}function vw(f,g){if(f=yi(f),f<1||f>Ce)return[];var E=Me,I=oe(f,Me);g=Xt(g),f-=Me;for(var te=Uu(I,g);++E<f;)g(E);return te}function bw(f){return mi(f)?en(f,vn):jo(f)?[f]:Qr(sn(Ki(f)))}function yw(f){var g=++Ll;return Ki(f)+g}var _w=Cu(function(f,g){return f+g},0),ww=Yc("ceil"),xw=Cu(function(f,g){return f/g},1),kw=Yc("floor");function Ew(f){return f&&f.length?Rl(f,Co,zl):n}function Cw(f,g){return f&&f.length?Rl(f,Xt(g,2),zl):n}function Sw(f){return Ca(f,Co)}function Tw(f,g){return Ca(f,Xt(g,2))}function Aw(f){return f&&f.length?Rl(f,Co,Is):n}function Dw(f,g){return f&&f.length?Rl(f,Xt(g,2),Is):n}var Lw=Cu(function(f,g){return f*g},1),Mw=Yc("round"),Pw=Cu(function(f,g){return f-g},0);function Ow(f){return f&&f.length?eu(f,Co):0}function Fw(f,g){return f&&f.length?eu(f,Xt(g,2)):0}return fe.after=i_,fe.ary=Em,fe.assign=j_,fe.assignIn=zm,fe.assignInWith=_h,fe.assignWith=U_,fe.at=Y_,fe.before=Cm,fe.bind=Id,fe.bindAll=V1,fe.bindKey=Sm,fe.castArray=p_,fe.chain=wm,fe.chunk=dr,fe.compact=qn,fe.concat=Fn,fe.cond=K1,fe.conforms=Q1,fe.constant=Ud,fe.countBy=Oy,fe.create=$_,fe.curry=Tm,fe.curryRight=Am,fe.debounce=Dm,fe.defaults=G_,fe.defaultsDeep=Z_,fe.defer=n_,fe.delay=r_,fe.difference=bn,fe.differenceBy=Ur,fe.differenceWith=Tu,fe.drop=us,fe.dropRight=kr,fe.dropRightWhile=ma,fe.dropWhile=ir,fe.fill=Gc,fe.filter=Ry,fe.flatMap=zy,fe.flatMapDeep=By,fe.flatMapDepth=Hy,fe.flatten=cs,fe.flattenDeep=Pr,fe.flattenDepth=Au,fe.flip=o_,fe.flow=ew,fe.flowRight=tw,fe.fromPairs=Zc,fe.functions=t1,fe.functionsIn=i1,fe.groupBy=Wy,fe.initial=zb,fe.intersection=Bb,fe.intersectionBy=Hb,fe.intersectionWith=Wb,fe.invert=r1,fe.invertBy=o1,fe.invokeMap=jy,fe.iteratee=Yd,fe.keyBy=Uy,fe.keys=Or,fe.keysIn=Eo,fe.map=ph,fe.mapKeys=s1,fe.mapValues=u1,fe.matches=iw,fe.matchesProperty=nw,fe.memoize=gh,fe.merge=l1,fe.mergeWith=Bm,fe.method=rw,fe.methodOf=ow,fe.mixin=$d,fe.negate=vh,fe.nthArg=sw,fe.omit=c1,fe.omitBy=f1,fe.once=a_,fe.orderBy=Yy,fe.over=uw,fe.overArgs=s_,fe.overEvery=lw,fe.overSome=cw,fe.partial=zd,fe.partialRight=Lm,fe.partition=$y,fe.pick=h1,fe.pickBy=Hm,fe.property=Gm,fe.propertyOf=fw,fe.pull=Yb,fe.pullAll=ym,fe.pullAllBy=$b,fe.pullAllWith=Gb,fe.pullAt=Zb,fe.range=hw,fe.rangeRight=dw,fe.rearg=u_,fe.reject=Xy,fe.remove=Xb,fe.rest=l_,fe.reverse=Rd,fe.sampleSize=Ky,fe.set=p1,fe.setWith=m1,fe.shuffle=Qy,fe.slice=Vb,fe.sortBy=t_,fe.sortedUniq=ny,fe.sortedUniqBy=ry,fe.split=z1,fe.spread=c_,fe.tail=oy,fe.take=ay,fe.takeRight=sy,fe.takeRightWhile=uy,fe.takeWhile=ly,fe.tap=Ey,fe.throttle=f_,fe.thru=dh,fe.toArray=Rm,fe.toPairs=Wm,fe.toPairsIn=qm,fe.toPath=bw,fe.toPlainObject=Im,fe.transform=g1,fe.unary=h_,fe.union=cy,fe.unionBy=fy,fe.unionWith=hy,fe.uniq=dy,fe.uniqBy=py,fe.uniqWith=my,fe.unset=v1,fe.unzip=Nd,fe.unzipWith=_m,fe.update=b1,fe.updateWith=y1,fe.values=Ql,fe.valuesIn=_1,fe.without=gy,fe.words=Ym,fe.wrap=d_,fe.xor=vy,fe.xorBy=by,fe.xorWith=yy,fe.zip=_y,fe.zipObject=wy,fe.zipObjectDeep=xy,fe.zipWith=ky,fe.entries=Wm,fe.entriesIn=qm,fe.extend=zm,fe.extendWith=_h,$d(fe,fe),fe.add=_w,fe.attempt=$m,fe.camelCase=E1,fe.capitalize=jm,fe.ceil=ww,fe.clamp=w1,fe.clone=m_,fe.cloneDeep=v_,fe.cloneDeepWith=b_,fe.cloneWith=g_,fe.conformsTo=y_,fe.deburr=Um,fe.defaultTo=J1,fe.divide=xw,fe.endsWith=C1,fe.eq=Ra,fe.escape=S1,fe.escapeRegExp=T1,fe.every=Fy,fe.find=Ny,fe.findIndex=ga,fe.findKey=X_,fe.findLast=Iy,fe.findLastIndex=ls,fe.findLastKey=V_,fe.floor=kw,fe.forEach=xm,fe.forEachRight=km,fe.forIn=K_,fe.forInRight=Q_,fe.forOwn=J_,fe.forOwnRight=e1,fe.get=Wd,fe.gt=__,fe.gte=w_,fe.has=n1,fe.hasIn=qd,fe.head=bm,fe.identity=Co,fe.includes=qy,fe.indexOf=Ib,fe.inRange=x1,fe.invoke=a1,fe.isArguments=dl,fe.isArray=mi,fe.isArrayBuffer=x_,fe.isArrayLike=ko,fe.isArrayLikeObject=nr,fe.isBoolean=k_,fe.isBuffer=Du,fe.isDate=E_,fe.isElement=C_,fe.isEmpty=S_,fe.isEqual=T_,fe.isEqualWith=A_,fe.isError=Bd,fe.isFinite=D_,fe.isFunction=Ws,fe.isInteger=Mm,fe.isLength=bh,fe.isMap=Pm,fe.isMatch=L_,fe.isMatchWith=M_,fe.isNaN=P_,fe.isNative=O_,fe.isNil=R_,fe.isNull=F_,fe.isNumber=Om,fe.isObject=Rn,fe.isObjectLike=jn,fe.isPlainObject=Xc,fe.isRegExp=Hd,fe.isSafeInteger=N_,fe.isSet=Fm,fe.isString=yh,fe.isSymbol=jo,fe.isTypedArray=Kl,fe.isUndefined=I_,fe.isWeakMap=z_,fe.isWeakSet=B_,fe.join=qb,fe.kebabCase=A1,fe.last=va,fe.lastIndexOf=jb,fe.lowerCase=D1,fe.lowerFirst=L1,fe.lt=H_,fe.lte=W_,fe.max=Ew,fe.maxBy=Cw,fe.mean=Sw,fe.meanBy=Tw,fe.min=Aw,fe.minBy=Dw,fe.stubArray=Zd,fe.stubFalse=Xd,fe.stubObject=pw,fe.stubString=mw,fe.stubTrue=gw,fe.multiply=Lw,fe.nth=Ub,fe.noConflict=aw,fe.noop=Gd,fe.now=mh,fe.pad=M1,fe.padEnd=P1,fe.padStart=O1,fe.parseInt=F1,fe.random=k1,fe.reduce=Gy,fe.reduceRight=Zy,fe.repeat=R1,fe.replace=N1,fe.result=d1,fe.round=Mw,fe.runInContext=Ne,fe.sample=Vy,fe.size=Jy,fe.snakeCase=I1,fe.some=e_,fe.sortedIndex=Kb,fe.sortedIndexBy=Qb,fe.sortedIndexOf=Jb,fe.sortedLastIndex=ey,fe.sortedLastIndexBy=ty,fe.sortedLastIndexOf=iy,fe.startCase=B1,fe.startsWith=H1,fe.subtract=Pw,fe.sum=Ow,fe.sumBy=Fw,fe.template=W1,fe.times=vw,fe.toFinite=qs,fe.toInteger=yi,fe.toLength=Nm,fe.toLower=q1,fe.toNumber=ba,fe.toSafeInteger=q_,fe.toString=Ki,fe.toUpper=j1,fe.trim=U1,fe.trimEnd=Y1,fe.trimStart=$1,fe.truncate=G1,fe.unescape=Z1,fe.uniqueId=yw,fe.upperCase=X1,fe.upperFirst=jd,fe.each=xm,fe.eachRight=km,fe.first=bm,$d(fe,function(){var f={};return wo(fe,function(g,E){Ei.call(fe.prototype,E)||(f[E]=g)}),f}(),{chain:!1}),fe.VERSION=o,qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){fe[f].placeholder=fe}),qr(["drop","take"],function(f,g){Gt.prototype[f]=function(E){E=E===n?1:U(yi(E),0);var I=this.__filtered__&&!g?new Gt(this):this.clone();return I.__filtered__?I.__takeCount__=oe(E,I.__takeCount__):I.__views__.push({size:oe(E,Me),type:f+(I.__dir__<0?"Right":"")}),I},Gt.prototype[f+"Right"]=function(E){return this.reverse()[f](E).reverse()}}),qr(["filter","map","takeWhile"],function(f,g){var E=g+1,I=E==ne||E==se;Gt.prototype[f]=function(te){var me=this.clone();return me.__iteratees__.push({iteratee:Xt(te,3),type:E}),me.__filtered__=me.__filtered__||I,me}}),qr(["head","last"],function(f,g){var E="take"+(g?"Right":"");Gt.prototype[f]=function(){return this[E](1).value()[0]}}),qr(["initial","tail"],function(f,g){var E="drop"+(g?"":"Right");Gt.prototype[f]=function(){return this.__filtered__?new Gt(this):this[E](1)}}),Gt.prototype.compact=function(){return this.filter(Co)},Gt.prototype.find=function(f){return this.filter(f).head()},Gt.prototype.findLast=function(f){return this.reverse().find(f)},Gt.prototype.invokeMap=bi(function(f,g){return typeof f=="function"?new Gt(this):this.map(function(E){return mu(E,f,g)})}),Gt.prototype.reject=function(f){return this.filter(vh(Xt(f)))},Gt.prototype.slice=function(f,g){f=yi(f);var E=this;return E.__filtered__&&(f>0||g<0)?new Gt(E):(f<0?E=E.takeRight(-f):f&&(E=E.drop(f)),g!==n&&(g=yi(g),E=g<0?E.dropRight(-g):E.take(g-f)),E)},Gt.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Gt.prototype.toArray=function(){return this.take(Me)},wo(Gt.prototype,function(f,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),I=/^(?:head|last)$/.test(g),te=fe[I?"take"+(g=="last"?"Right":""):g],me=I||/^find/.test(g);te&&(fe.prototype[g]=function(){var Se=this.__wrapped__,Pe=I?[1]:arguments,He=Se instanceof Gt,at=Pe[0],st=He||mi(Se),ht=function(Ai){var Fi=te.apply(fe,vo([Ai],Pe));return I&&Dt?Fi[0]:Fi};st&&E&&typeof at=="function"&&at.length!=1&&(He=st=!1);var Dt=this.__chain__,jt=!!this.__actions__.length,ei=me&&!Dt,ki=He&&!jt;if(!me&&st){Se=ki?Se:new Gt(this);var ti=f.apply(Se,Pe);return ti.__actions__.push({func:dh,args:[ht],thisArg:n}),new Di(ti,Dt)}return ei&&ki?f.apply(this,Pe):(ti=this.thru(ht),ei?I?ti.value()[0]:ti.value():ti)})}),qr(["pop","push","shift","sort","splice","unshift"],function(f){var g=au[f],E=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",I=/^(?:pop|shift)$/.test(f);fe.prototype[f]=function(){var te=arguments;if(I&&!this.__chain__){var me=this.value();return g.apply(mi(me)?me:[],te)}return this[E](function(Se){return g.apply(mi(Se)?Se:[],te)})}}),wo(Gt.prototype,function(f,g){var E=fe[g];if(E){var I=E.name+"";Ei.call(Kr,I)||(Kr[I]=[]),Kr[I].push({name:g,func:E})}}),Kr[jl(n,O).name]=[{name:"wrapper",func:n}],Gt.prototype.clone=Mn,Gt.prototype.reverse=Zu,Gt.prototype.value=hd,fe.prototype.at=Cy,fe.prototype.chain=Sy,fe.prototype.commit=Ty,fe.prototype.next=Ay,fe.prototype.plant=Ly,fe.prototype.reverse=My,fe.prototype.toJSON=fe.prototype.valueOf=fe.prototype.value=Py,fe.prototype.first=fe.prototype.head,ua&&(fe.prototype[ua]=Dy),fe},Zr=ra();Wr?((Wr.exports=Zr)._=Zr,_r._=Zr):Ni._=Zr}).call(OC)}(af,af.exports)),af.exports}var ff=FC();const ub={list:[],trans:null,selectedDrawer:null},RC={drawersGetById:t=>e=>t.list.find(n=>n.id===e),getDrawerFilters:t=>t.selectedDrawer?t.selectedDrawer.filters:null},NC={drawersAddInstance({commit:t},e){t(Sv,{drawer:e})},drawersRemoveInstance({commit:t},e){t(Tv,{drawerToRemove:e})},drawersInitData({commit:t},{drawer:e,entity:n,ids:o,filters:l,maxLength:u,minLength:c,entityName:h}){if(t(Fv,{drawer:e,entity:n,ids:o,filters:l}),!o||o.length===0||!n)t(Nv,{drawer:e,maxLength:u,minLength:c});else{const v=o.map(x=>x&&x.document?x.document:x);nb(n,v,l).then(x=>{if(x&&h===Kv){const w={...x,items:o.map(function(k,A){return{document:x.items[A],hotspot:k.hotspot,imageCropAlignment:k.imageCropAlignment}})};t(Dp,{drawer:e,result:w,maxLength:u,minLength:c});return}t(Dp,{drawer:e,result:x,maxLength:u,minLength:c})}).catch(x=>{t(Rv,{drawer:e,error:x})})}},drawersAddItem({commit:t,state:e},{drawer:n,item:o,newIndex:l}){let u=e.selectedDrawer;n&&(u=n),u.acceptMore&&t(Av,{drawer:u,item:o,newIndex:l})},drawersMoveItem({commit:t},{drawer:e,item:n}){},drawersRemoveItem({commit:t},{drawer:e,item:n}){t(Dv,{drawer:e,item:n})},drawersExplorerButtonClick({commit:t,dispatch:e},n){t(Lv,{drawer:n}),ub.selectedDrawer.isActive?e("explorerOpen",{entity:n.entity}):e("explorerClose")},drawersDropzoneButtonClick({state:t,dispatch:e},n){n.isDropzoneEnable?e("drawersDisableDropzone",{drawer:n}):e("drawersEnableDropzone",{drawer:n})},drawersEnableDropzone({commit:t},{drawer:e}){t(Pv,{drawer:e})},drawersDisableDropzone({commit:t},{drawer:e}){t(Ov,{drawer:e})}},IC={[Sv](t,{drawer:e}){t.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[Tv](t,{drawerToRemove:e}){t.list=ff.remove(t.list,n=>n._uid===e._uid)},[Lv](t,{drawer:e}){t.list.forEach(n=>{n!==e&&(n.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,t.selectedDrawer=e},[Av](t,{drawer:e,item:n,newIndex:o=0}){e.items.push(n),e.acceptMore=e.items.length<e.maxLength},[Mv](t,{drawer:e,newList:n}){e.items=n,e.acceptMore=e.items.length<e.maxLength},[Dv](t,{drawer:e,item:n}){let o=e.items.indexOf(n);o>=0&&e.items.splice(o,1),e.acceptMore=e.items.length<e.maxLength},[rm](t){t=Vg(t)},[Dp](t,{drawer:e,result:n,maxLength:o,minLength:l}){e.isLoading=!1,e.items=n.items,e.trans=n.trans,e.maxLength=o,e.minLength=l,e.acceptMore=n.items.length<o},[Fv](t,{drawer:e,entity:n,filters:o}){e.isLoading=!0,e.entity=n,e.filters=o,e.currentListingView=Mp.getListingView(n)},[Rv](t,{drawer:e,error:n}){e.isLoading=!1,e.errorMessage=n.message},[Nv](t,{drawer:e,maxLength:n,minLength:o}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=n,e.minLength=o},[ws](t){t=Vg(t)},[Pv](t,{drawer:e}){t.list.forEach(n=>{n.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[Ov](t,{drawer:e}){e.isDropzoneEnable=!1}};function Vg(t){return t.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),t.selectedDrawer=null,t}const zC={state:ub,getters:RC,actions:NC,mutations:IC},BC={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},HC={...BC},WC={getFilterExplorerSelectedItem:t=>t.selectedItem},qC={filterExplorerOpen({commit:t,dispatch:e,getters:n}){const o=n.getExplorerEntity;t(bv,{entity:o}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:t,dispatch:e},{item:n}){t(om,{item:n}),e("explorerMakeSearch")},filterExplorerClose({commit:t}){t(yv)},filterExplorerReset({commit:t}){t(xv)},filterExplorerToggle({dispatch:t,state:e}){e.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch({commit:t,state:e}){t(_v);const n=e.entity;return sm.getFilters({entity:n}).then(o=>{o?t(wv,{result:o}):t(Sp)}).catch(o=>{t(Sp,{error:o})})}},jC={[om](t,{item:e}){t.selectedItem=e},[_v](t){t.isLoading=!0},[wv](t,{result:e}){t.items=e.items,t.isLoading=!1},[bv](t,{entity:e}){switch(t.isOpen=!0,t.entity=e,e){case mc:t.icons.normal="uk-icon-folder",t.icons.active="uk-icon-folder-open";break;case Tf:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break;case gc:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break}},[yv](t){t.isOpen=!1},[xv](t){t.selectedItem=null,t.items=[]},[Sp](t,{error:e}){t.isLoading=!1,t.error="Request failed"},[ws](t){t.isLoading=!1,t.isOpen=!1,t.selectedItem=null}},UC={state:HC,getters:WC,actions:qC,mutations:jC},YC={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},$C={tagsSearchExisting:t=>(e,n)=>t.isTagExisting},GC={tagCreatorReady({commit:t}){t(Hv)},tagsCreate({commit:t,dispatch:e},{tagName:n}){t(Iv,{tagName:n}),eb({tagName:n}).then(o=>{t(zv,o),e("drawersAddItem",{item:o}),e("explorerResetSearchTerms")}).catch(o=>{t(Bv,o)})}},ZC={[Hv](t){t.isReady=!0},[Qh](t,{searchTerms:e}){t.searchTerms=e},[nm](t,{result:e}){if(t.isTagExisting=!1,t.isReady&&t.searchTerms!=="")for(let n of e.items)n.name&&t.searchTerms&&n.name.toLowerCase()===t.searchTerms.toLowerCase()&&(t.isTagExisting=!0)},[Iv](t){t.isLoading=!0},[zv](t,e){t.isLoading=!1},[Bv](t,e){t.isLoading=!1,t.error=e.message}},XC={state:YC,getters:$C,actions:GC,mutations:ZC},VC={document:null,isVisible:!1,isLoading:!1},KC={documentPreviewGetDocument:t=>t.document},QC={documentPreviewInit({commit:t},{document:e}){t(Wv,{document:e})},documentPreviewDestroy({commit:t}){t(qv)},documentPreviewClose({commit:t}){t(Uv)},documentPreviewOpen({commit:t},{document:e}){t(jv,{document:e})}},JC={[Wv](t,{document:e}){e&&(t.document=e)},[qv](t){t.isVisible=!1,t.document=null},[kv](t){t.document&&!t.isVisible?t.isVisible=!0:(t.isVisible=!1,t.document=null)},[ws](t){t.isVisible=!1,t.document=null},[jv](t,{document:e}){e&&(t.document=e,t.isVisible=!0)},[Uv](t){t.isVisible=!1,t.document=null}},eS={state:VC,getters:KC,actions:QC,mutations:JC};function tS(t){let e=atob(t.split(",")[1]),n=[];for(let l=0;l<e.length;l++)n.push(e.charCodeAt(l));const o=t.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(n)],{type:o})}const iS={isLoading:!0,originalUrl:"",editor:null},nS={blanchetteEditorInit({commit:t,dispatch:e},{url:n,editor:o}){e("blanchetteEditorIsLoading"),t(Yv,{url:n,editor:o})},blanchetteEditorIsLoading({commit:t}){t(Lp)},blanchetteEditorLoaded({commit:t}){t(Ih)},blanchetteEditorSave({commit:t,state:e},{url:n,filename:o}){const l=tS(n),u=e.editor.getElementsByTagName("form")[0];let c=new FormData(u);return c.append("form[editDocument]",l,o),t(Lp),D2(c).then(async h=>{const v=await h.json();if(t(Ih),v&&v.path)window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:v.message,status:"success"}})),t(Gv,{path:v.path});else throw new Error("No path found")}).catch(async h=>{t($v,{error:await h.response.json()}),t(Ih)})}},rS={[Yv](t,{url:e,editor:n}){t.originalUrl=e,t.editor=n},[Lp](t){t.isLoading=!0},[$v](t,{error:e}){t.error=e.message},[Ih](t){t.isLoading=!1},[Gv](t,{path:e}){t.originalUrl=e}},oS={state:iS,actions:nS,mutations:rS};hc.use(D0);const Ch=new D0.Store({modules:{nodesSourceSearch:J2,explorer:PC,filterExplorer:UC,drawers:zC,tags:XC,documentPreview:eS,blanchetteEditor:oS},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[Ev](t){t.connected=!0},[Tp](t){t.connected=!1},[Cv](t){t.healthChecked=!0},[Ap](t){t.healthChecked=!1}},actions:{escape({commit:t}){t(ws)}}});class aS{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.addEventListener("keyup",e=>{(e.key==="Escape"||e.keyCode===27)&&this.store.commit(ws)})}bindSpace(){window.addEventListener("keyup",e=>{if(!(!e.key==="Space"||!this.store.getters.documentPreviewGetDocument))return e.preventDefault(),this.store.commit(kv,{event:e}),!1})}}class sS{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(Tp):this.store.commit(Ap);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(Tp);return}(e.status===200||e.status===202)&&(this.store.commit(Ev),this.store.commit(Cv),this.check())}}catch{this.store.commit(Ap)}},this.intervalDuration)}}const uS={data:function(){return{searchTerms:null}},computed:{...Wa({items:t=>t.nodesSourceSearch.items,isFocus:t=>t.nodesSourceSearch.isFocus,isOpen:t=>t.nodesSourceSearch.isOpen})},methods:{...Ys(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),enableFocus:ff.debounce(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:ff.debounce(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(t){t&&t.key==="Escape"&&(t.preventDefault(),this.nodeSourceSearchEscape())}},watch:{searchTerms:ff.debounce(function(t,e){this.nodesSourceSearchUpdate(t,e)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:um}},lS=null,cS=null;var fS=zn(uS,lS,cS,!1,null,null);const hS=fS.exports,dS={name:"rz-button",props:["isActive","callback"]};var pS=function(){var e=this,n=e._self._c;return n("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},mS=[],gS=zn(dS,pS,mS,!1,null,null);const vS=gS.exports;var Bh={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Hh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hh=function(e){return typeof e}:Hh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function bS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xa(){return xa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xa.apply(this,arguments)}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){bS(t,l,n[l])})}return t}function yS(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function _S(t,e){if(t==null)return{};var n=yS(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function wS(t){return xS(t)||kS(t)||ES()}function xS(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function kS(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function ES(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var CS="1.10.2";function Us(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var $s=Us(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Af=Us(/Edge/i),Kg=Us(/firefox/i),Pp=Us(/safari/i)&&!Us(/chrome/i)&&!Us(/android/i),lb=Us(/iP(ad|od|hone)/i),SS=Us(/chrome/i)&&Us(/android/i),cb={capture:!1,passive:!1};function Mi(t,e,n){t.addEventListener(e,n,!$s&&cb)}function Ti(t,e,n){t.removeEventListener(e,n,!$s&&cb)}function Jh(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function TS(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ha(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Jh(t,e):Jh(t,e))||o&&t===n)return t;if(t===n)break}while(t=TS(t))}return null}var Qg=/\s+/g;function In(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(Qg," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(Qg," ")}}function Ht(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function wl(t,e){var n="";if(typeof t=="string")n=t;else do{var o=Ht(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function fb(t,e,n){if(t){var o=t.getElementsByTagName(e),l=0,u=o.length;if(n)for(;l<u;l++)n(o[l],l);return o}return[]}function ms(){var t=document.scrollingElement;return t||document.documentElement}function $n(t,e,n,o,l){if(!(!t.getBoundingClientRect&&t!==window)){var u,c,h,v,x,w,k;if(t!==window&&t!==ms()?(u=t.getBoundingClientRect(),c=u.top,h=u.left,v=u.bottom,x=u.right,w=u.height,k=u.width):(c=0,h=0,v=window.innerHeight,x=window.innerWidth,w=window.innerHeight,k=window.innerWidth),(e||n)&&t!==window&&(l=l||t.parentNode,!$s))do if(l&&l.getBoundingClientRect&&(Ht(l,"transform")!=="none"||n&&Ht(l,"position")!=="static")){var A=l.getBoundingClientRect();c-=A.top+parseInt(Ht(l,"border-top-width")),h-=A.left+parseInt(Ht(l,"border-left-width")),v=c+u.height,x=h+u.width;break}while(l=l.parentNode);if(o&&t!==window){var B=wl(l||t),N=B&&B.a,j=B&&B.d;B&&(c/=j,h/=N,k/=N,w/=j,v=c+w,x=h+k)}return{top:c,left:h,bottom:v,right:x,width:k,height:w}}}function Jg(t,e,n){for(var o=Nu(t,!0),l=$n(t)[e];o;){var u=$n(o)[n],c=void 0;if(c=l>=u,!c)return o;if(o===ms())break;o=Nu(o,!1)}return!1}function ed(t,e,n){for(var o=0,l=0,u=t.children;l<u.length;){if(u[l].style.display!=="none"&&u[l]!==ii.ghost&&u[l]!==ii.dragged&&Ha(u[l],n.draggable,t,!1)){if(o===e)return u[l];o++}l++}return null}function lm(t,e){for(var n=t.lastElementChild;n&&(n===ii.ghost||Ht(n,"display")==="none"||e&&!Jh(n,e));)n=n.previousElementSibling;return n||null}function Yn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ii.clone&&(!e||Jh(t,e))&&n++;return n}function e0(t){var e=0,n=0,o=ms();if(t)do{var l=wl(t),u=l.a,c=l.d;e+=t.scrollLeft*u,n+=t.scrollTop*c}while(t!==o&&(t=t.parentNode));return[e,n]}function AS(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function Nu(t,e){if(!t||!t.getBoundingClientRect)return ms();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=Ht(n);if(n.clientWidth<n.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ms();if(o||e)return n;o=!0}}while(n=n.parentNode);return ms()}function DS(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ap(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var hf;function hb(t,e){return function(){if(!hf){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),hf=setTimeout(function(){hf=void 0},e)}}}function LS(){clearTimeout(hf),hf=void 0}function db(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function cm(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function t0(t,e){Ht(t,"position","absolute"),Ht(t,"top",e.top),Ht(t,"left",e.left),Ht(t,"width",e.width),Ht(t,"height",e.height)}function sp(t){Ht(t,"position",""),Ht(t,"top",""),Ht(t,"left",""),Ht(t,"width",""),Ht(t,"height","")}var eo="Sortable"+new Date().getTime();function MS(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(l){if(!(Ht(l,"display")==="none"||l===ii.ghost)){t.push({target:l,rect:$n(l)});var u=Wu({},t[t.length-1].rect);if(l.thisAnimationDuration){var c=wl(l,!0);c&&(u.top-=c.f,u.left-=c.e)}l.fromRect=u}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(AS(t,{target:o}),1)},animateAll:function(o){var l=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var u=!1,c=0;t.forEach(function(h){var v=0,x=h.target,w=x.fromRect,k=$n(x),A=x.prevFromRect,B=x.prevToRect,N=h.rect,j=wl(x,!0);j&&(k.top-=j.f,k.left-=j.e),x.toRect=k,x.thisAnimationDuration&&ap(A,k)&&!ap(w,k)&&(N.top-k.top)/(N.left-k.left)===(w.top-k.top)/(w.left-k.left)&&(v=OS(N,A,B,l.options)),ap(k,w)||(x.prevFromRect=w,x.prevToRect=k,v||(v=l.options.animation),l.animate(x,N,k,v)),v&&(u=!0,c=Math.max(c,v),clearTimeout(x.animationResetTimer),x.animationResetTimer=setTimeout(function(){x.animationTime=0,x.prevFromRect=null,x.fromRect=null,x.prevToRect=null,x.thisAnimationDuration=null},v),x.thisAnimationDuration=v)}),clearTimeout(e),u?e=setTimeout(function(){typeof o=="function"&&o()},c):typeof o=="function"&&o(),t=[]},animate:function(o,l,u,c){if(c){Ht(o,"transition",""),Ht(o,"transform","");var h=wl(this.el),v=h&&h.a,x=h&&h.d,w=(l.left-u.left)/(v||1),k=(l.top-u.top)/(x||1);o.animatingX=!!w,o.animatingY=!!k,Ht(o,"transform","translate3d("+w+"px,"+k+"px,0)"),PS(o),Ht(o,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:"")),Ht(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Ht(o,"transition",""),Ht(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},c)}}}}function PS(t){return t.offsetWidth}function OS(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Vc=[],up={initializeByDefault:!0},Df={mount:function(e){for(var n in up)up.hasOwnProperty(n)&&!(n in e)&&(e[n]=up[n]);Vc.push(e)},pluginEvent:function(e,n,o){var l=this;this.eventCanceled=!1,o.cancel=function(){l.eventCanceled=!0};var u=e+"Global";Vc.forEach(function(c){n[c.pluginName]&&(n[c.pluginName][u]&&n[c.pluginName][u](Wu({sortable:n},o)),n.options[c.pluginName]&&n[c.pluginName][e]&&n[c.pluginName][e](Wu({sortable:n},o)))})},initializePlugins:function(e,n,o,l){Vc.forEach(function(h){var v=h.pluginName;if(!(!e.options[v]&&!h.initializeByDefault)){var x=new h(e,n,e.options);x.sortable=e,x.options=e.options,e[v]=x,xa(o,x.defaults)}});for(var u in e.options)if(e.options.hasOwnProperty(u)){var c=this.modifyOption(e,u,e.options[u]);typeof c<"u"&&(e.options[u]=c)}},getEventProperties:function(e,n){var o={};return Vc.forEach(function(l){typeof l.eventProperties=="function"&&xa(o,l.eventProperties.call(n[l.pluginName],e))}),o},modifyOption:function(e,n,o){var l;return Vc.forEach(function(u){e[u.pluginName]&&u.optionListeners&&typeof u.optionListeners[n]=="function"&&(l=u.optionListeners[n].call(e[u.pluginName],o))}),l}};function sf(t){var e=t.sortable,n=t.rootEl,o=t.name,l=t.targetEl,u=t.cloneEl,c=t.toEl,h=t.fromEl,v=t.oldIndex,x=t.newIndex,w=t.oldDraggableIndex,k=t.newDraggableIndex,A=t.originalEvent,B=t.putSortable,N=t.extraEventProperties;if(e=e||n&&n[eo],!!e){var j,q=e.options,O="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!$s&&!Af?j=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(j=document.createEvent("Event"),j.initEvent(o,!0,!0)),j.to=c||n,j.from=h||n,j.item=l||n,j.clone=u,j.oldIndex=v,j.newIndex=x,j.oldDraggableIndex=w,j.newDraggableIndex=k,j.originalEvent=A,j.pullMode=B?B.lastPutMode:void 0;var S=Wu({},N,Df.getEventProperties(o,e));for(var P in S)j[P]=S[P];n&&n.dispatchEvent(j),q[O]&&q[O].call(e,j)}}var So=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=o.evt,u=_S(o,["evt"]);Df.pluginEvent.bind(ii)(e,n,Wu({dragEl:kt,parentEl:pr,ghostEl:vi,rootEl:Nn,nextEl:bl,lastDownEl:Wh,cloneEl:Un,cloneHidden:Fu,dragStarted:uf,putSortable:Yr,activeSortable:ii.active,originalEvent:l,oldIndex:ac,oldDraggableIndex:df,newIndex:Zo,newDraggableIndex:Pu,hideGhostForTarget:vb,unhideGhostForTarget:bb,cloneNowHidden:function(){Fu=!0},cloneNowShown:function(){Fu=!1},dispatchSortableEvent:function(h){po({sortable:n,name:h,originalEvent:l})}},u))};function po(t){sf(Wu({putSortable:Yr,cloneEl:Un,targetEl:kt,rootEl:Nn,oldIndex:ac,oldDraggableIndex:df,newIndex:Zo,newDraggableIndex:Pu},t))}var kt,pr,vi,Nn,bl,Wh,Un,Fu,ac,Zo,df,Pu,Sh,Yr,oc=!1,td=!1,id=[],pl,Ia,lp,cp,i0,n0,uf,ic,pf,mf=!1,Th=!1,qh,Jr,fp=[],Op=!1,nd=[],cd=typeof document<"u",Ah=lb,r0=Af||$s?"cssFloat":"float",FS=cd&&!SS&&!lb&&"draggable"in document.createElement("div"),pb=function(){if(cd){if($s)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),mb=function(e,n){var o=Ht(e),l=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),u=ed(e,0,n),c=ed(e,1,n),h=u&&Ht(u),v=c&&Ht(c),x=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+$n(u).width,w=v&&parseInt(v.marginLeft)+parseInt(v.marginRight)+$n(c).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(u&&h.float&&h.float!=="none"){var k=h.float==="left"?"left":"right";return c&&(v.clear==="both"||v.clear===k)?"vertical":"horizontal"}return u&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||x>=l&&o[r0]==="none"||c&&o[r0]==="none"&&x+w>l)?"vertical":"horizontal"},RS=function(e,n,o){var l=o?e.left:e.top,u=o?e.right:e.bottom,c=o?e.width:e.height,h=o?n.left:n.top,v=o?n.right:n.bottom,x=o?n.width:n.height;return l===h||u===v||l+c/2===h+x/2},NS=function(e,n){var o;return id.some(function(l){if(!lm(l)){var u=$n(l),c=l[eo].options.emptyInsertThreshold,h=e>=u.left-c&&e<=u.right+c,v=n>=u.top-c&&n<=u.bottom+c;if(c&&h&&v)return o=l}}),o},gb=function(e){function n(u,c){return function(h,v,x,w){var k=h.options.group.name&&v.options.group.name&&h.options.group.name===v.options.group.name;if(u==null&&(c||k))return!0;if(u==null||u===!1)return!1;if(c&&u==="clone")return u;if(typeof u=="function")return n(u(h,v,x,w),c)(h,v,x,w);var A=(c?h:v).options.group.name;return u===!0||typeof u=="string"&&u===A||u.join&&u.indexOf(A)>-1}}var o={},l=e.group;(!l||Hh(l)!="object")&&(l={name:l}),o.name=l.name,o.checkPull=n(l.pull,!0),o.checkPut=n(l.put),o.revertClone=l.revertClone,e.group=o},vb=function(){!pb&&vi&&Ht(vi,"display","none")},bb=function(){!pb&&vi&&Ht(vi,"display","")};cd&&document.addEventListener("click",function(t){if(td)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),td=!1,!1},!0);var ml=function(e){if(kt){e=e.touches?e.touches[0]:e;var n=NS(e.clientX,e.clientY);if(n){var o={};for(var l in e)e.hasOwnProperty(l)&&(o[l]=e[l]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[eo]._onDragOver(o)}}},IS=function(e){kt&&kt.parentNode[eo]._isOutsideThisEl(e.target)};function ii(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=xa({},e),t[eo]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mb(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(c,h){c.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ii.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};Df.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);gb(e);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=e.forceFallback?!1:FS,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Mi(t,"pointerdown",this._onTapStart):(Mi(t,"mousedown",this._onTapStart),Mi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mi(t,"dragover",this),Mi(t,"dragenter",this)),id.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),xa(this,MS())}ii.prototype={constructor:ii,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ic=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,kt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,l=this.options,u=l.preventOnFilter,c=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,v=(h||e).target,x=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||v,w=l.filter;if(US(o),!kt&&!(/mousedown|pointerdown/.test(c)&&e.button!==0||l.disabled)&&!x.isContentEditable&&(v=Ha(v,l.draggable,o,!1),!(v&&v.animated)&&Wh!==v)){if(ac=Yn(v),df=Yn(v,l.draggable),typeof w=="function"){if(w.call(this,e,v,this)){po({sortable:n,rootEl:x,name:"filter",targetEl:v,toEl:o,fromEl:o}),So("filter",n,{evt:e}),u&&e.cancelable&&e.preventDefault();return}}else if(w&&(w=w.split(",").some(function(k){if(k=Ha(x,k.trim(),o,!1),k)return po({sortable:n,rootEl:k,name:"filter",targetEl:v,fromEl:o,toEl:o}),So("filter",n,{evt:e}),!0}),w)){u&&e.cancelable&&e.preventDefault();return}l.handle&&!Ha(x,l.handle,o,!1)||this._prepareDragStart(e,h,v)}}},_prepareDragStart:function(e,n,o){var l=this,u=l.el,c=l.options,h=u.ownerDocument,v;if(o&&!kt&&o.parentNode===u){var x=$n(o);if(Nn=u,kt=o,pr=kt.parentNode,bl=kt.nextSibling,Wh=o,Sh=c.group,ii.dragged=kt,pl={target:kt,clientX:(n||e).clientX,clientY:(n||e).clientY},i0=pl.clientX-x.left,n0=pl.clientY-x.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,kt.style["will-change"]="all",v=function(){if(So("delayEnded",l,{evt:e}),ii.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!Kg&&l.nativeDraggable&&(kt.draggable=!0),l._triggerDragStart(e,n),po({sortable:l,name:"choose",originalEvent:e}),In(kt,c.chosenClass,!0)},c.ignore.split(",").forEach(function(w){fb(kt,w.trim(),dp)}),Mi(h,"dragover",ml),Mi(h,"mousemove",ml),Mi(h,"touchmove",ml),Mi(h,"mouseup",l._onDrop),Mi(h,"touchend",l._onDrop),Mi(h,"touchcancel",l._onDrop),Kg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kt.draggable=!0),So("delayStart",this,{evt:e}),c.delay&&(!c.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Af||$s))){if(ii.eventCanceled){this._onDrop();return}Mi(h,"mouseup",l._disableDelayedDrag),Mi(h,"touchend",l._disableDelayedDrag),Mi(h,"touchcancel",l._disableDelayedDrag),Mi(h,"mousemove",l._delayedDragTouchMoveHandler),Mi(h,"touchmove",l._delayedDragTouchMoveHandler),c.supportPointer&&Mi(h,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(v,c.delay)}else v()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kt&&dp(kt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._disableDelayedDrag),Ti(e,"touchend",this._disableDelayedDrag),Ti(e,"touchcancel",this._disableDelayedDrag),Ti(e,"mousemove",this._delayedDragTouchMoveHandler),Ti(e,"touchmove",this._delayedDragTouchMoveHandler),Ti(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Mi(document,"pointermove",this._onTouchMove):n?Mi(document,"touchmove",this._onTouchMove):Mi(document,"mousemove",this._onTouchMove):(Mi(kt,"dragend",this),Mi(Nn,"dragstart",this._onDragStart));try{document.selection?jh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(oc=!1,Nn&&kt){So("dragStarted",this,{evt:n}),this.nativeDraggable&&Mi(document,"dragover",IS);var o=this.options;!e&&In(kt,o.dragClass,!1),In(kt,o.ghostClass,!0),ii.active=this,e&&this._appendGhost(),po({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ia){this._lastX=Ia.clientX,this._lastY=Ia.clientY,vb();for(var e=document.elementFromPoint(Ia.clientX,Ia.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ia.clientX,Ia.clientY),e!==n);)n=e;if(kt.parentNode[eo]._isOutsideThisEl(e),n)do{if(n[eo]){var o=void 0;if(o=n[eo]._onDragOver({clientX:Ia.clientX,clientY:Ia.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);bb()}},_onTouchMove:function(e){if(pl){var n=this.options,o=n.fallbackTolerance,l=n.fallbackOffset,u=e.touches?e.touches[0]:e,c=vi&&wl(vi,!0),h=vi&&c&&c.a,v=vi&&c&&c.d,x=Ah&&Jr&&e0(Jr),w=(u.clientX-pl.clientX+l.x)/(h||1)+(x?x[0]-fp[0]:0)/(h||1),k=(u.clientY-pl.clientY+l.y)/(v||1)+(x?x[1]-fp[1]:0)/(v||1);if(!ii.active&&!oc){if(o&&Math.max(Math.abs(u.clientX-this._lastX),Math.abs(u.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(vi){c?(c.e+=w-(lp||0),c.f+=k-(cp||0)):c={a:1,b:0,c:0,d:1,e:w,f:k};var A="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")");Ht(vi,"webkitTransform",A),Ht(vi,"mozTransform",A),Ht(vi,"msTransform",A),Ht(vi,"transform",A),lp=w,cp=k,Ia=u}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!vi){var e=this.options.fallbackOnBody?document.body:Nn,n=$n(kt,!0,Ah,!0,e),o=this.options;if(Ah){for(Jr=e;Ht(Jr,"position")==="static"&&Ht(Jr,"transform")==="none"&&Jr!==document;)Jr=Jr.parentNode;Jr!==document.body&&Jr!==document.documentElement?(Jr===document&&(Jr=ms()),n.top+=Jr.scrollTop,n.left+=Jr.scrollLeft):Jr=ms(),fp=e0(Jr)}vi=kt.cloneNode(!0),In(vi,o.ghostClass,!1),In(vi,o.fallbackClass,!0),In(vi,o.dragClass,!0),Ht(vi,"transition",""),Ht(vi,"transform",""),Ht(vi,"box-sizing","border-box"),Ht(vi,"margin",0),Ht(vi,"top",n.top),Ht(vi,"left",n.left),Ht(vi,"width",n.width),Ht(vi,"height",n.height),Ht(vi,"opacity","0.8"),Ht(vi,"position",Ah?"absolute":"fixed"),Ht(vi,"zIndex","100000"),Ht(vi,"pointerEvents","none"),ii.ghost=vi,e.appendChild(vi),Ht(vi,"transform-origin",i0/parseInt(vi.style.width)*100+"% "+n0/parseInt(vi.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,l=e.dataTransfer,u=o.options;if(So("dragStart",this,{evt:e}),ii.eventCanceled){this._onDrop();return}So("setupClone",this),ii.eventCanceled||(Un=cm(kt),Un.draggable=!1,Un.style["will-change"]="",this._hideClone(),In(Un,this.options.chosenClass,!1),ii.clone=Un),o.cloneId=jh(function(){So("clone",o),!ii.eventCanceled&&(o.options.removeCloneOnHide||Nn.insertBefore(Un,kt),o._hideClone(),po({sortable:o,name:"clone"}))}),!n&&In(kt,u.dragClass,!0),n?(td=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Ti(document,"mouseup",o._onDrop),Ti(document,"touchend",o._onDrop),Ti(document,"touchcancel",o._onDrop),l&&(l.effectAllowed="move",u.setData&&u.setData.call(o,l,kt)),Mi(document,"drop",o),Ht(kt,"transform","translateZ(0)")),oc=!0,o._dragStartId=jh(o._dragStarted.bind(o,n,e)),Mi(document,"selectstart",o),uf=!0,Pp&&Ht(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,l,u,c,h=this.options,v=h.group,x=ii.active,w=Sh===v,k=h.sort,A=Yr||x,B,N=this,j=!1;if(Op)return;function q(ye,Ce){So(ye,N,Wu({evt:e,isOwner:w,axis:B?"vertical":"horizontal",revert:c,dragRect:l,targetRect:u,canSort:k,fromSortable:A,target:o,completed:S,onMove:function(ze,Me){return hp(Nn,n,kt,l,ze,$n(ze),e,Me)},changed:P},Ce))}function O(){q("dragOverAnimationCapture"),N.captureAnimationState(),N!==A&&A.captureAnimationState()}function S(ye){return q("dragOverCompleted",{insertion:ye}),ye&&(w?x._hideClone():x._showClone(N),N!==A&&(In(kt,Yr?Yr.options.ghostClass:x.options.ghostClass,!1),In(kt,h.ghostClass,!0)),Yr!==N&&N!==ii.active?Yr=N:N===ii.active&&Yr&&(Yr=null),A===N&&(N._ignoreWhileAnimating=o),N.animateAll(function(){q("dragOverAnimationComplete"),N._ignoreWhileAnimating=null}),N!==A&&(A.animateAll(),A._ignoreWhileAnimating=null)),(o===kt&&!kt.animated||o===n&&!o.animated)&&(ic=null),!h.dragoverBubble&&!e.rootEl&&o!==document&&(kt.parentNode[eo]._isOutsideThisEl(e.target),!ye&&ml(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),j=!0}function P(){Zo=Yn(kt),Pu=Yn(kt,h.draggable),po({sortable:N,name:"change",toEl:n,newIndex:Zo,newDraggableIndex:Pu,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=Ha(o,h.draggable,n,!0),q("dragOver"),ii.eventCanceled)return j;if(kt.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||N._ignoreWhileAnimating===o)return S(!1);if(td=!1,x&&!h.disabled&&(w?k||(c=!Nn.contains(kt)):Yr===this||(this.lastPutMode=Sh.checkPull(this,x,kt,e))&&v.checkPut(this,x,kt,e))){if(B=this._getDirection(e,o)==="vertical",l=$n(kt),q("dragOverValid"),ii.eventCanceled)return j;if(c)return pr=Nn,O(),this._hideClone(),q("revert"),ii.eventCanceled||(bl?Nn.insertBefore(kt,bl):Nn.appendChild(kt)),S(!0);var W=lm(n,h.draggable);if(!W||HS(e,B,this)&&!W.animated){if(W===kt)return S(!1);if(W&&n===e.target&&(o=W),o&&(u=$n(o)),hp(Nn,n,kt,l,o,u,e,!!o)!==!1)return O(),n.appendChild(kt),pr=n,P(),S(!0)}else if(o.parentNode===n){u=$n(o);var z=0,G,J=kt.parentNode!==n,ue=!RS(kt.animated&&kt.toRect||l,o.animated&&o.toRect||u,B),de=B?"top":"left",ge=Jg(o,"top","top")||Jg(kt,"top","top"),ce=ge?ge.scrollTop:void 0;ic!==o&&(G=u[de],mf=!1,Th=!ue&&h.invertSwap||J),z=WS(e,o,u,B,ue?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,Th,ic===o);var Te;if(z!==0){var ve=Yn(kt);do ve-=z,Te=pr.children[ve];while(Te&&(Ht(Te,"display")==="none"||Te===vi))}if(z===0||Te===o)return S(!1);ic=o,pf=z;var ne=o.nextElementSibling,D=!1;D=z===1;var se=hp(Nn,n,kt,l,o,u,e,D);if(se!==!1)return(se===1||se===-1)&&(D=se===1),Op=!0,setTimeout(BS,30),O(),D&&!ne?n.appendChild(kt):o.parentNode.insertBefore(kt,D?ne:o),ge&&db(ge,0,ce-ge.scrollTop),pr=kt.parentNode,G!==void 0&&!Th&&(qh=Math.abs(G-$n(o)[de])),P(),S(!0)}if(n.contains(kt))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ti(document,"mousemove",this._onTouchMove),Ti(document,"touchmove",this._onTouchMove),Ti(document,"pointermove",this._onTouchMove),Ti(document,"dragover",ml),Ti(document,"mousemove",ml),Ti(document,"touchmove",ml)},_offUpEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._onDrop),Ti(e,"touchend",this._onDrop),Ti(e,"pointerup",this._onDrop),Ti(e,"touchcancel",this._onDrop),Ti(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(Zo=Yn(kt),Pu=Yn(kt,o.draggable),So("drop",this,{evt:e}),pr=kt&&kt.parentNode,Zo=Yn(kt),Pu=Yn(kt,o.draggable),ii.eventCanceled){this._nulling();return}oc=!1,Th=!1,mf=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Fp(this.cloneId),Fp(this._dragStartId),this.nativeDraggable&&(Ti(document,"drop",this),Ti(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pp&&Ht(document.body,"user-select",""),Ht(kt,"transform",""),e&&(uf&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),vi&&vi.parentNode&&vi.parentNode.removeChild(vi),(Nn===pr||Yr&&Yr.lastPutMode!=="clone")&&Un&&Un.parentNode&&Un.parentNode.removeChild(Un),kt&&(this.nativeDraggable&&Ti(kt,"dragend",this),dp(kt),kt.style["will-change"]="",uf&&!oc&&In(kt,Yr?Yr.options.ghostClass:this.options.ghostClass,!1),In(kt,this.options.chosenClass,!1),po({sortable:this,name:"unchoose",toEl:pr,newIndex:null,newDraggableIndex:null,originalEvent:e}),Nn!==pr?(Zo>=0&&(po({rootEl:pr,name:"add",toEl:pr,fromEl:Nn,originalEvent:e}),po({sortable:this,name:"remove",toEl:pr,originalEvent:e}),po({rootEl:pr,name:"sort",toEl:pr,fromEl:Nn,originalEvent:e}),po({sortable:this,name:"sort",toEl:pr,originalEvent:e})),Yr&&Yr.save()):Zo!==ac&&Zo>=0&&(po({sortable:this,name:"update",toEl:pr,originalEvent:e}),po({sortable:this,name:"sort",toEl:pr,originalEvent:e})),ii.active&&((Zo==null||Zo===-1)&&(Zo=ac,Pu=df),po({sortable:this,name:"end",toEl:pr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){So("nulling",this),Nn=kt=pr=vi=bl=Un=Wh=Fu=pl=Ia=uf=Zo=Pu=ac=df=ic=pf=Yr=Sh=ii.dragged=ii.ghost=ii.clone=ii.active=null,nd.forEach(function(e){e.checked=!0}),nd.length=lp=cp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":kt&&(this._onDragOver(e),zS(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,l=0,u=o.length,c=this.options;l<u;l++)n=o[l],Ha(n,c.draggable,this.el,!1)&&e.push(n.getAttribute(c.dataIdAttr)||jS(n));return e},sort:function(e){var n={},o=this.el;this.toArray().forEach(function(l,u){var c=o.children[u];Ha(c,this.options.draggable,o,!1)&&(n[l]=c)},this),e.forEach(function(l){n[l]&&(o.removeChild(n[l]),o.appendChild(n[l]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ha(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var l=Df.modifyOption(this,e,n);typeof l<"u"?o[e]=l:o[e]=n,e==="group"&&gb(o)},destroy:function(){So("destroy",this);var e=this.el;e[eo]=null,Ti(e,"mousedown",this._onTapStart),Ti(e,"touchstart",this._onTapStart),Ti(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ti(e,"dragover",this),Ti(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),id.splice(id.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Fu){if(So("hideClone",this),ii.eventCanceled)return;Ht(Un,"display","none"),this.options.removeCloneOnHide&&Un.parentNode&&Un.parentNode.removeChild(Un),Fu=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Fu){if(So("showClone",this),ii.eventCanceled)return;Nn.contains(kt)&&!this.options.group.revertClone?Nn.insertBefore(Un,kt):bl?Nn.insertBefore(Un,bl):Nn.appendChild(Un),this.options.group.revertClone&&this.animate(kt,Un),Ht(Un,"display",""),Fu=!1}}};function zS(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function hp(t,e,n,o,l,u,c,h){var v,x=t[eo],w=x.options.onMove,k;return window.CustomEvent&&!$s&&!Af?v=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent("move",!0,!0)),v.to=e,v.from=t,v.dragged=n,v.draggedRect=o,v.related=l||e,v.relatedRect=u||$n(e),v.willInsertAfter=h,v.originalEvent=c,t.dispatchEvent(v),w&&(k=w.call(x,v,c)),k}function dp(t){t.draggable=!1}function BS(){Op=!1}function HS(t,e,n){var o=$n(lm(n.el,n.options.draggable)),l=10;return e?t.clientX>o.right+l||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+l}function WS(t,e,n,o,l,u,c,h){var v=o?t.clientY:t.clientX,x=o?n.height:n.width,w=o?n.top:n.left,k=o?n.bottom:n.right,A=!1;if(!c){if(h&&qh<x*l){if(!mf&&(pf===1?v>w+x*u/2:v<k-x*u/2)&&(mf=!0),mf)A=!0;else if(pf===1?v<w+qh:v>k-qh)return-pf}else if(v>w+x*(1-l)/2&&v<k-x*(1-l)/2)return qS(e)}return A=A||c,A&&(v<w+x*u/2||v>k-x*u/2)?v>w+x/2?1:-1:0}function qS(t){return Yn(kt)<Yn(t)?1:-1}function jS(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function US(t){nd.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&nd.push(o)}}function jh(t){return setTimeout(t,0)}function Fp(t){return clearTimeout(t)}cd&&Mi(document,"touchmove",function(t){(ii.active||oc)&&t.cancelable&&t.preventDefault()});ii.utils={on:Mi,off:Ti,css:Ht,find:fb,is:function(e,n){return!!Ha(e,n,e,!1)},extend:DS,throttle:hb,closest:Ha,toggleClass:In,clone:cm,index:Yn,nextTick:jh,cancelNextTick:Fp,detectDirection:mb,getChild:ed};ii.get=function(t){return t[eo]};ii.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ii.utils=Wu({},ii.utils,o.utils)),Df.mount(o)})};ii.create=function(t,e){return new ii(t,e)};ii.version=CS;var mr=[],lf,Rp,Np=!1,pp,mp,rd,cf;function YS(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Mi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mi(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Mi(document,"touchmove",this._handleFallbackAutoScroll):Mi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Ti(document,"dragover",this._handleAutoScroll):(Ti(document,"pointermove",this._handleFallbackAutoScroll),Ti(document,"touchmove",this._handleFallbackAutoScroll),Ti(document,"mousemove",this._handleFallbackAutoScroll)),o0(),Uh(),LS()},nulling:function(){rd=Rp=lf=Np=cf=pp=mp=null,mr.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var l=this,u=(n.touches?n.touches[0]:n).clientX,c=(n.touches?n.touches[0]:n).clientY,h=document.elementFromPoint(u,c);if(rd=n,o||Af||$s||Pp){gp(n,this.options,h,o);var v=Nu(h,!0);Np&&(!cf||u!==pp||c!==mp)&&(cf&&o0(),cf=setInterval(function(){var x=Nu(document.elementFromPoint(u,c),!0);x!==v&&(v=x,Uh()),gp(n,l.options,x,o)},10),pp=u,mp=c)}else{if(!this.options.bubbleScroll||Nu(h,!0)===ms()){Uh();return}gp(n,this.options,Nu(h,!1),!1)}}},xa(t,{pluginName:"scroll",initializeByDefault:!0})}function Uh(){mr.forEach(function(t){clearInterval(t.pid)}),mr=[]}function o0(){clearInterval(cf)}var gp=hb(function(t,e,n,o){if(e.scroll){var l=(t.touches?t.touches[0]:t).clientX,u=(t.touches?t.touches[0]:t).clientY,c=e.scrollSensitivity,h=e.scrollSpeed,v=ms(),x=!1,w;Rp!==n&&(Rp=n,Uh(),lf=e.scroll,w=e.scrollFn,lf===!0&&(lf=Nu(n,!0)));var k=0,A=lf;do{var B=A,N=$n(B),j=N.top,q=N.bottom,O=N.left,S=N.right,P=N.width,W=N.height,z=void 0,G=void 0,J=B.scrollWidth,ue=B.scrollHeight,de=Ht(B),ge=B.scrollLeft,ce=B.scrollTop;B===v?(z=P<J&&(de.overflowX==="auto"||de.overflowX==="scroll"||de.overflowX==="visible"),G=W<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"||de.overflowY==="visible")):(z=P<J&&(de.overflowX==="auto"||de.overflowX==="scroll"),G=W<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"));var Te=z&&(Math.abs(S-l)<=c&&ge+P<J)-(Math.abs(O-l)<=c&&!!ge),ve=G&&(Math.abs(q-u)<=c&&ce+W<ue)-(Math.abs(j-u)<=c&&!!ce);if(!mr[k])for(var ne=0;ne<=k;ne++)mr[ne]||(mr[ne]={});(mr[k].vx!=Te||mr[k].vy!=ve||mr[k].el!==B)&&(mr[k].el=B,mr[k].vx=Te,mr[k].vy=ve,clearInterval(mr[k].pid),(Te!=0||ve!=0)&&(x=!0,mr[k].pid=setInterval((function(){o&&this.layer===0&&ii.active._onTouchMove(rd);var D=mr[this.layer].vy?mr[this.layer].vy*h:0,se=mr[this.layer].vx?mr[this.layer].vx*h:0;typeof w=="function"&&w.call(ii.dragged.parentNode[eo],se,D,t,rd,mr[this.layer].el)!=="continue"||db(mr[this.layer].el,se,D)}).bind({layer:k}),24))),k++}while(e.bubbleScroll&&A!==v&&(A=Nu(A,!1)));Np=x}},30),yb=function(e){var n=e.originalEvent,o=e.putSortable,l=e.dragEl,u=e.activeSortable,c=e.dispatchSortableEvent,h=e.hideGhostForTarget,v=e.unhideGhostForTarget;if(n){var x=o||u;h();var w=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,k=document.elementFromPoint(w.clientX,w.clientY);v(),x&&!x.el.contains(k)&&(c("spill"),this.onSpill({dragEl:l,putSortable:o}))}};function fm(){}fm.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var l=ed(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(n,l):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:yb};xa(fm,{pluginName:"revertOnSpill"});function hm(){}hm.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,l=o||this.sortable;l.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),l.animateAll()},drop:yb};xa(hm,{pluginName:"removeOnSpill"});var ya;function $S(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var o=n.dragEl;ya=o},dragOverValid:function(n){var o=n.completed,l=n.target,u=n.onMove,c=n.activeSortable,h=n.changed,v=n.cancel;if(c.options.swap){var x=this.sortable.el,w=this.options;if(l&&l!==x){var k=ya;u(l)!==!1?(In(l,w.swapClass,!0),ya=l):ya=null,k&&k!==ya&&In(k,w.swapClass,!1)}h(),o(!0),v()}},drop:function(n){var o=n.activeSortable,l=n.putSortable,u=n.dragEl,c=l||this.sortable,h=this.options;ya&&In(ya,h.swapClass,!1),ya&&(h.swap||l&&l.options.swap)&&u!==ya&&(c.captureAnimationState(),c!==o&&o.captureAnimationState(),GS(u,ya),c.animateAll(),c!==o&&o.animateAll())},nulling:function(){ya=null}},xa(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ya}}})}function GS(t,e){var n=t.parentNode,o=e.parentNode,l,u;!n||!o||n.isEqualNode(e)||o.isEqualNode(t)||(l=Yn(t),u=Yn(e),n.isEqualNode(o)&&l<u&&u++,n.insertBefore(e,n.children[l]),o.insertBefore(t,o.children[u]))}var di=[],Go=[],Kc,za,Qc=!1,$o=!1,nc=!1,cn,Jc,Dh;function ZS(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Mi(document,"pointerup",this._deselectMultiDrag):(Mi(document,"mouseup",this._deselectMultiDrag),Mi(document,"touchend",this._deselectMultiDrag)),Mi(document,"keydown",this._checkKeyDown),Mi(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(l,u){var c="";di.length&&za===e?di.forEach(function(h,v){c+=(v?", ":"")+h.textContent}):c=u.textContent,l.setData("Text",c)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var o=n.dragEl;cn=o},delayEnded:function(){this.isMultiDrag=~di.indexOf(cn)},setupClone:function(n){var o=n.sortable,l=n.cancel;if(this.isMultiDrag){for(var u=0;u<di.length;u++)Go.push(cm(di[u])),Go[u].sortableIndex=di[u].sortableIndex,Go[u].draggable=!1,Go[u].style["will-change"]="",In(Go[u],this.options.selectedClass,!1),di[u]===cn&&In(Go[u],this.options.chosenClass,!1);o._hideClone(),l()}},clone:function(n){var o=n.sortable,l=n.rootEl,u=n.dispatchSortableEvent,c=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||di.length&&za===o&&(a0(!0,l),u("clone"),c()))},showClone:function(n){var o=n.cloneNowShown,l=n.rootEl,u=n.cancel;this.isMultiDrag&&(a0(!1,l),Go.forEach(function(c){Ht(c,"display","")}),o(),Dh=!1,u())},hideClone:function(n){var o=this;n.sortable;var l=n.cloneNowHidden,u=n.cancel;this.isMultiDrag&&(Go.forEach(function(c){Ht(c,"display","none"),o.options.removeCloneOnHide&&c.parentNode&&c.parentNode.removeChild(c)}),l(),Dh=!0,u())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&za&&za.multiDrag._deselectMultiDrag(),di.forEach(function(o){o.sortableIndex=Yn(o)}),di=di.sort(function(o,l){return o.sortableIndex-l.sortableIndex}),nc=!0},dragStarted:function(n){var o=this,l=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(l.captureAnimationState(),this.options.animation)){di.forEach(function(c){c!==cn&&Ht(c,"position","absolute")});var u=$n(cn,!1,!0,!0);di.forEach(function(c){c!==cn&&t0(c,u)}),$o=!0,Qc=!0}l.animateAll(function(){$o=!1,Qc=!1,o.options.animation&&di.forEach(function(c){sp(c)}),o.options.sort&&Lh()})}},dragOver:function(n){var o=n.target,l=n.completed,u=n.cancel;$o&&~di.indexOf(o)&&(l(!1),u())},revert:function(n){var o=n.fromSortable,l=n.rootEl,u=n.sortable,c=n.dragRect;di.length>1&&(di.forEach(function(h){u.addAnimationState({target:h,rect:$o?$n(h):c}),sp(h),h.fromRect=c,o.removeAnimationState(h)}),$o=!1,XS(!this.options.removeCloneOnHide,l))},dragOverCompleted:function(n){var o=n.sortable,l=n.isOwner,u=n.insertion,c=n.activeSortable,h=n.parentEl,v=n.putSortable,x=this.options;if(u){if(l&&c._hideClone(),Qc=!1,x.animation&&di.length>1&&($o||!l&&!c.options.sort&&!v)){var w=$n(cn,!1,!0,!0);di.forEach(function(A){A!==cn&&(t0(A,w),h.appendChild(A))}),$o=!0}if(!l)if($o||Lh(),di.length>1){var k=Dh;c._showClone(o),c.options.animation&&!Dh&&k&&Go.forEach(function(A){c.addAnimationState({target:A,rect:Jc}),A.fromRect=Jc,A.thisAnimationDuration=null})}else c._showClone(o)}},dragOverAnimationCapture:function(n){var o=n.dragRect,l=n.isOwner,u=n.activeSortable;if(di.forEach(function(h){h.thisAnimationDuration=null}),u.options.animation&&!l&&u.multiDrag.isMultiDrag){Jc=xa({},o);var c=wl(cn,!0);Jc.top-=c.f,Jc.left-=c.e}},dragOverAnimationComplete:function(){$o&&($o=!1,Lh())},drop:function(n){var o=n.originalEvent,l=n.rootEl,u=n.parentEl,c=n.sortable,h=n.dispatchSortableEvent,v=n.oldIndex,x=n.putSortable,w=x||this.sortable;if(o){var k=this.options,A=u.children;if(!nc)if(k.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),In(cn,k.selectedClass,!~di.indexOf(cn)),~di.indexOf(cn))di.splice(di.indexOf(cn),1),Kc=null,sf({sortable:c,rootEl:l,name:"deselect",targetEl:cn});else{if(di.push(cn),sf({sortable:c,rootEl:l,name:"select",targetEl:cn}),o.shiftKey&&Kc&&c.el.contains(Kc)){var B=Yn(Kc),N=Yn(cn);if(~B&&~N&&B!==N){var j,q;for(N>B?(q=B,j=N):(q=N,j=B+1);q<j;q++)~di.indexOf(A[q])||(In(A[q],k.selectedClass,!0),di.push(A[q]),sf({sortable:c,rootEl:l,name:"select",targetEl:A[q]}))}}else Kc=cn;za=w}if(nc&&this.isMultiDrag){if((u[eo].options.sort||u!==l)&&di.length>1){var O=$n(cn),S=Yn(cn,":not(."+this.options.selectedClass+")");if(!Qc&&k.animation&&(cn.thisAnimationDuration=null),w.captureAnimationState(),!Qc&&(k.animation&&(cn.fromRect=O,di.forEach(function(W){if(W.thisAnimationDuration=null,W!==cn){var z=$o?$n(W):O;W.fromRect=z,w.addAnimationState({target:W,rect:z})}})),Lh(),di.forEach(function(W){A[S]?u.insertBefore(W,A[S]):u.appendChild(W),S++}),v===Yn(cn))){var P=!1;di.forEach(function(W){if(W.sortableIndex!==Yn(W)){P=!0;return}}),P&&h("update")}di.forEach(function(W){sp(W)}),w.animateAll()}za=w}(l===u||x&&x.lastPutMode!=="clone")&&Go.forEach(function(W){W.parentNode&&W.parentNode.removeChild(W)})}},nullingGlobal:function(){this.isMultiDrag=nc=!1,Go.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ti(document,"pointerup",this._deselectMultiDrag),Ti(document,"mouseup",this._deselectMultiDrag),Ti(document,"touchend",this._deselectMultiDrag),Ti(document,"keydown",this._checkKeyDown),Ti(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof nc<"u"&&nc)&&za===this.sortable&&!(n&&Ha(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;di.length;){var o=di[0];In(o,this.options.selectedClass,!1),di.shift(),sf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},xa(t,{pluginName:"multiDrag",utils:{select:function(n){var o=n.parentNode[eo];!o||!o.options.multiDrag||~di.indexOf(n)||(za&&za!==o&&(za.multiDrag._deselectMultiDrag(),za=o),In(n,o.options.selectedClass,!0),di.push(n))},deselect:function(n){var o=n.parentNode[eo],l=di.indexOf(n);!o||!o.options.multiDrag||!~l||(In(n,o.options.selectedClass,!1),di.splice(l,1))}},eventProperties:function(){var n=this,o=[],l=[];return di.forEach(function(u){o.push({multiDragElement:u,index:u.sortableIndex});var c;$o&&u!==cn?c=-1:$o?c=Yn(u,":not(."+n.options.selectedClass+")"):c=Yn(u),l.push({multiDragElement:u,index:c})}),{items:wS(di),clones:[].concat(Go),oldIndicies:o,newIndicies:l}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function XS(t,e){di.forEach(function(n,o){var l=e.children[n.sortableIndex+(t?Number(o):0)];l?e.insertBefore(n,l):e.appendChild(n)})}function a0(t,e){Go.forEach(function(n,o){var l=e.children[n.sortableIndex+(t?Number(o):0)];l?e.insertBefore(n,l):e.appendChild(n)})}function Lh(){di.forEach(function(t){t!==cn&&t.parentNode&&t.parentNode.removeChild(t)})}ii.mount(new YS);ii.mount(hm,fm);const VS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:ZS,Sortable:ii,Swap:$S,default:ii},Symbol.toStringTag,{value:"Module"})),KS=A0(VS);var QS=Bh.exports,s0;function JS(){return s0||(s0=1,function(t,e){(function(o,l){t.exports=l(KS)})(typeof self<"u"?self:QS,function(n){return function(o){var l={};function u(c){if(l[c])return l[c].exports;var h=l[c]={i:c,l:!1,exports:{}};return o[c].call(h.exports,h,h.exports,u),h.l=!0,h.exports}return u.m=o,u.c=l,u.d=function(c,h,v){u.o(c,h)||Object.defineProperty(c,h,{enumerable:!0,get:v})},u.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},u.t=function(c,h){if(h&1&&(c=u(c)),h&8||h&4&&typeof c=="object"&&c&&c.__esModule)return c;var v=Object.create(null);if(u.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:c}),h&2&&typeof c!="string")for(var x in c)u.d(v,x,(function(w){return c[w]}).bind(null,x));return v},u.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return u.d(h,"a",h),h},u.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},u.p="",u(u.s="fb15")}({"01f9":function(o,l,u){var c=u("2d00"),h=u("5ca1"),v=u("2aba"),x=u("32e9"),w=u("84f2"),k=u("41a0"),A=u("7f20"),B=u("38fd"),N=u("2b4c")("iterator"),j=!([].keys&&"next"in[].keys()),q="@@iterator",O="keys",S="values",P=function(){return this};o.exports=function(W,z,G,J,ue,de,ge){k(G,z,J);var ce=function(Y){if(!j&&Y in D)return D[Y];switch(Y){case O:return function(){return new G(this,Y)};case S:return function(){return new G(this,Y)}}return function(){return new G(this,Y)}},Te=z+" Iterator",ve=ue==S,ne=!1,D=W.prototype,se=D[N]||D[q]||ue&&D[ue],ye=se||ce(ue),Ce=ue?ve?ce("entries"):ye:void 0,et=z=="Array"&&D.entries||se,ze,Me,ie;if(et&&(ie=B(et.call(new W)),ie!==Object.prototype&&ie.next&&(A(ie,Te,!0),!c&&typeof ie[N]!="function"&&x(ie,N,P))),ve&&se&&se.name!==S&&(ne=!0,ye=function(){return se.call(this)}),(!c||ge)&&(j||ne||!D[N])&&x(D,N,ye),w[z]=ye,w[Te]=P,ue)if(ze={values:ve?ye:ce(S),keys:de?ye:ce(O),entries:Ce},ge)for(Me in ze)Me in D||v(D,Me,ze[Me]);else h(h.P+h.F*(j||ne),z,ze);return ze}},"02f4":function(o,l,u){var c=u("4588"),h=u("be13");o.exports=function(v){return function(x,w){var k=String(h(x)),A=c(w),B=k.length,N,j;return A<0||A>=B?v?"":void 0:(N=k.charCodeAt(A),N<55296||N>56319||A+1===B||(j=k.charCodeAt(A+1))<56320||j>57343?v?k.charAt(A):N:v?k.slice(A,A+2):(N-55296<<10)+(j-56320)+65536)}}},"0390":function(o,l,u){var c=u("02f4")(!0);o.exports=function(h,v,x){return v+(x?c(h,v).length:1)}},"0bfb":function(o,l,u){var c=u("cb7c");o.exports=function(){var h=c(this),v="";return h.global&&(v+="g"),h.ignoreCase&&(v+="i"),h.multiline&&(v+="m"),h.unicode&&(v+="u"),h.sticky&&(v+="y"),v}},"0d58":function(o,l,u){var c=u("ce10"),h=u("e11e");o.exports=Object.keys||function(x){return c(x,h)}},1495:function(o,l,u){var c=u("86cc"),h=u("cb7c"),v=u("0d58");o.exports=u("9e1e")?Object.defineProperties:function(w,k){h(w);for(var A=v(k),B=A.length,N=0,j;B>N;)c.f(w,j=A[N++],k[j]);return w}},"214f":function(o,l,u){u("b0c5");var c=u("2aba"),h=u("32e9"),v=u("79e5"),x=u("be13"),w=u("2b4c"),k=u("520a"),A=w("species"),B=!v(function(){var j=/./;return j.exec=function(){var q=[];return q.groups={a:"7"},q},"".replace(j,"$<a>")!=="7"}),N=function(){var j=/(?:)/,q=j.exec;j.exec=function(){return q.apply(this,arguments)};var O="ab".split(j);return O.length===2&&O[0]==="a"&&O[1]==="b"}();o.exports=function(j,q,O){var S=w(j),P=!v(function(){var de={};return de[S]=function(){return 7},""[j](de)!=7}),W=P?!v(function(){var de=!1,ge=/a/;return ge.exec=function(){return de=!0,null},j==="split"&&(ge.constructor={},ge.constructor[A]=function(){return ge}),ge[S](""),!de}):void 0;if(!P||!W||j==="replace"&&!B||j==="split"&&!N){var z=/./[S],G=O(x,S,""[j],function(ge,ce,Te,ve,ne){return ce.exec===k?P&&!ne?{done:!0,value:z.call(ce,Te,ve)}:{done:!0,value:ge.call(Te,ce,ve)}:{done:!1}}),J=G[0],ue=G[1];c(String.prototype,j,J),h(RegExp.prototype,S,q==2?function(de,ge){return ue.call(de,this,ge)}:function(de){return ue.call(de,this)})}}},"230e":function(o,l,u){var c=u("d3f4"),h=u("7726").document,v=c(h)&&c(h.createElement);o.exports=function(x){return v?h.createElement(x):{}}},"23c6":function(o,l,u){var c=u("2d95"),h=u("2b4c")("toStringTag"),v=c(function(){return arguments}())=="Arguments",x=function(w,k){try{return w[k]}catch{}};o.exports=function(w){var k,A,B;return w===void 0?"Undefined":w===null?"Null":typeof(A=x(k=Object(w),h))=="string"?A:v?c(k):(B=c(k))=="Object"&&typeof k.callee=="function"?"Arguments":B}},2621:function(o,l){l.f=Object.getOwnPropertySymbols},"2aba":function(o,l,u){var c=u("7726"),h=u("32e9"),v=u("69a8"),x=u("ca5a")("src"),w=u("fa5b"),k="toString",A=(""+w).split(k);u("8378").inspectSource=function(B){return w.call(B)},(o.exports=function(B,N,j,q){var O=typeof j=="function";O&&(v(j,"name")||h(j,"name",N)),B[N]!==j&&(O&&(v(j,x)||h(j,x,B[N]?""+B[N]:A.join(String(N)))),B===c?B[N]=j:q?B[N]?B[N]=j:h(B,N,j):(delete B[N],h(B,N,j)))})(Function.prototype,k,function(){return typeof this=="function"&&this[x]||w.call(this)})},"2aeb":function(o,l,u){var c=u("cb7c"),h=u("1495"),v=u("e11e"),x=u("613b")("IE_PROTO"),w=function(){},k="prototype",A=function(){var B=u("230e")("iframe"),N=v.length,j="<",q=">",O;for(B.style.display="none",u("fab2").appendChild(B),B.src="javascript:",O=B.contentWindow.document,O.open(),O.write(j+"script"+q+"document.F=Object"+j+"/script"+q),O.close(),A=O.F;N--;)delete A[k][v[N]];return A()};o.exports=Object.create||function(N,j){var q;return N!==null?(w[k]=c(N),q=new w,w[k]=null,q[x]=N):q=A(),j===void 0?q:h(q,j)}},"2b4c":function(o,l,u){var c=u("5537")("wks"),h=u("ca5a"),v=u("7726").Symbol,x=typeof v=="function",w=o.exports=function(k){return c[k]||(c[k]=x&&v[k]||(x?v:h)("Symbol."+k))};w.store=c},"2d00":function(o,l){o.exports=!1},"2d95":function(o,l){var u={}.toString;o.exports=function(c){return u.call(c).slice(8,-1)}},"2fdb":function(o,l,u){var c=u("5ca1"),h=u("d2c8"),v="includes";c(c.P+c.F*u("5147")(v),"String",{includes:function(w){return!!~h(this,w,v).indexOf(w,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(o,l,u){var c=u("86cc"),h=u("4630");o.exports=u("9e1e")?function(v,x,w){return c.f(v,x,h(1,w))}:function(v,x,w){return v[x]=w,v}},"38fd":function(o,l,u){var c=u("69a8"),h=u("4bf8"),v=u("613b")("IE_PROTO"),x=Object.prototype;o.exports=Object.getPrototypeOf||function(w){return w=h(w),c(w,v)?w[v]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?x:null}},"41a0":function(o,l,u){var c=u("2aeb"),h=u("4630"),v=u("7f20"),x={};u("32e9")(x,u("2b4c")("iterator"),function(){return this}),o.exports=function(w,k,A){w.prototype=c(x,{next:h(1,A)}),v(w,k+" Iterator")}},"456d":function(o,l,u){var c=u("4bf8"),h=u("0d58");u("5eda")("keys",function(){return function(x){return h(c(x))}})},4588:function(o,l){var u=Math.ceil,c=Math.floor;o.exports=function(h){return isNaN(h=+h)?0:(h>0?c:u)(h)}},4630:function(o,l){o.exports=function(u,c){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:c}}},"4bf8":function(o,l,u){var c=u("be13");o.exports=function(h){return Object(c(h))}},5147:function(o,l,u){var c=u("2b4c")("match");o.exports=function(h){var v=/./;try{"/./"[h](v)}catch{try{return v[c]=!1,!"/./"[h](v)}catch{}}return!0}},"520a":function(o,l,u){var c=u("0bfb"),h=RegExp.prototype.exec,v=String.prototype.replace,x=h,w="lastIndex",k=function(){var N=/a/,j=/b*/g;return h.call(N,"a"),h.call(j,"a"),N[w]!==0||j[w]!==0}(),A=/()??/.exec("")[1]!==void 0,B=k||A;B&&(x=function(j){var q=this,O,S,P,W;return A&&(S=new RegExp("^"+q.source+"$(?!\\s)",c.call(q))),k&&(O=q[w]),P=h.call(q,j),k&&P&&(q[w]=q.global?P.index+P[0].length:O),A&&P&&P.length>1&&v.call(P[0],S,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(P[W]=void 0)}),P}),o.exports=x},"52a7":function(o,l){l.f={}.propertyIsEnumerable},5537:function(o,l,u){var c=u("8378"),h=u("7726"),v="__core-js_shared__",x=h[v]||(h[v]={});(o.exports=function(w,k){return x[w]||(x[w]=k!==void 0?k:{})})("versions",[]).push({version:c.version,mode:u("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(o,l,u){var c=u("7726"),h=u("8378"),v=u("32e9"),x=u("2aba"),w=u("9b43"),k="prototype",A=function(B,N,j){var q=B&A.F,O=B&A.G,S=B&A.S,P=B&A.P,W=B&A.B,z=O?c:S?c[N]||(c[N]={}):(c[N]||{})[k],G=O?h:h[N]||(h[N]={}),J=G[k]||(G[k]={}),ue,de,ge,ce;O&&(j=N);for(ue in j)de=!q&&z&&z[ue]!==void 0,ge=(de?z:j)[ue],ce=W&&de?w(ge,c):P&&typeof ge=="function"?w(Function.call,ge):ge,z&&x(z,ue,ge,B&A.U),G[ue]!=ge&&v(G,ue,ce),P&&J[ue]!=ge&&(J[ue]=ge)};c.core=h,A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,o.exports=A},"5eda":function(o,l,u){var c=u("5ca1"),h=u("8378"),v=u("79e5");o.exports=function(x,w){var k=(h.Object||{})[x]||Object[x],A={};A[x]=w(k),c(c.S+c.F*v(function(){k(1)}),"Object",A)}},"5f1b":function(o,l,u){var c=u("23c6"),h=RegExp.prototype.exec;o.exports=function(v,x){var w=v.exec;if(typeof w=="function"){var k=w.call(v,x);if(typeof k!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return k}if(c(v)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return h.call(v,x)}},"613b":function(o,l,u){var c=u("5537")("keys"),h=u("ca5a");o.exports=function(v){return c[v]||(c[v]=h(v))}},"626a":function(o,l,u){var c=u("2d95");o.exports=Object("z").propertyIsEnumerable(0)?Object:function(h){return c(h)=="String"?h.split(""):Object(h)}},6762:function(o,l,u){var c=u("5ca1"),h=u("c366")(!0);c(c.P,"Array",{includes:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}}),u("9c6c")("includes")},6821:function(o,l,u){var c=u("626a"),h=u("be13");o.exports=function(v){return c(h(v))}},"69a8":function(o,l){var u={}.hasOwnProperty;o.exports=function(c,h){return u.call(c,h)}},"6a99":function(o,l,u){var c=u("d3f4");o.exports=function(h,v){if(!c(h))return h;var x,w;if(v&&typeof(x=h.toString)=="function"&&!c(w=x.call(h))||typeof(x=h.valueOf)=="function"&&!c(w=x.call(h))||!v&&typeof(x=h.toString)=="function"&&!c(w=x.call(h)))return w;throw TypeError("Can't convert object to primitive value")}},7333:function(o,l,u){var c=u("0d58"),h=u("2621"),v=u("52a7"),x=u("4bf8"),w=u("626a"),k=Object.assign;o.exports=!k||u("79e5")(function(){var A={},B={},N=Symbol(),j="abcdefghijklmnopqrst";return A[N]=7,j.split("").forEach(function(q){B[q]=q}),k({},A)[N]!=7||Object.keys(k({},B)).join("")!=j})?function(B,N){for(var j=x(B),q=arguments.length,O=1,S=h.f,P=v.f;q>O;)for(var W=w(arguments[O++]),z=S?c(W).concat(S(W)):c(W),G=z.length,J=0,ue;G>J;)P.call(W,ue=z[J++])&&(j[ue]=W[ue]);return j}:k},7726:function(o,l){var u=o.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=u)},"77f1":function(o,l,u){var c=u("4588"),h=Math.max,v=Math.min;o.exports=function(x,w){return x=c(x),x<0?h(x+w,0):v(x,w)}},"79e5":function(o,l){o.exports=function(u){try{return!!u()}catch{return!0}}},"7f20":function(o,l,u){var c=u("86cc").f,h=u("69a8"),v=u("2b4c")("toStringTag");o.exports=function(x,w,k){x&&!h(x=k?x:x.prototype,v)&&c(x,v,{configurable:!0,value:w})}},8378:function(o,l){var u=o.exports={version:"2.6.5"};typeof __e=="number"&&(__e=u)},"84f2":function(o,l){o.exports={}},"86cc":function(o,l,u){var c=u("cb7c"),h=u("c69a"),v=u("6a99"),x=Object.defineProperty;l.f=u("9e1e")?Object.defineProperty:function(k,A,B){if(c(k),A=v(A,!0),c(B),h)try{return x(k,A,B)}catch{}if("get"in B||"set"in B)throw TypeError("Accessors not supported!");return"value"in B&&(k[A]=B.value),k}},"9b43":function(o,l,u){var c=u("d8e8");o.exports=function(h,v,x){if(c(h),v===void 0)return h;switch(x){case 1:return function(w){return h.call(v,w)};case 2:return function(w,k){return h.call(v,w,k)};case 3:return function(w,k,A){return h.call(v,w,k,A)}}return function(){return h.apply(v,arguments)}}},"9c6c":function(o,l,u){var c=u("2b4c")("unscopables"),h=Array.prototype;h[c]==null&&u("32e9")(h,c,{}),o.exports=function(v){h[c][v]=!0}},"9def":function(o,l,u){var c=u("4588"),h=Math.min;o.exports=function(v){return v>0?h(c(v),9007199254740991):0}},"9e1e":function(o,l,u){o.exports=!u("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(o,l){o.exports=n},a481:function(o,l,u){var c=u("cb7c"),h=u("4bf8"),v=u("9def"),x=u("4588"),w=u("0390"),k=u("5f1b"),A=Math.max,B=Math.min,N=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,q=/\$([$&`']|\d\d?)/g,O=function(S){return S===void 0?S:String(S)};u("214f")("replace",2,function(S,P,W,z){return[function(ue,de){var ge=S(this),ce=ue==null?void 0:ue[P];return ce!==void 0?ce.call(ue,ge,de):W.call(String(ge),ue,de)},function(J,ue){var de=z(W,J,this,ue);if(de.done)return de.value;var ge=c(J),ce=String(this),Te=typeof ue=="function";Te||(ue=String(ue));var ve=ge.global;if(ve){var ne=ge.unicode;ge.lastIndex=0}for(var D=[];;){var se=k(ge,ce);if(se===null||(D.push(se),!ve))break;var ye=String(se[0]);ye===""&&(ge.lastIndex=w(ce,v(ge.lastIndex),ne))}for(var Ce="",et=0,ze=0;ze<D.length;ze++){se=D[ze];for(var Me=String(se[0]),ie=A(B(x(se.index),ce.length),0),Y=[],Le=1;Le<se.length;Le++)Y.push(O(se[Le]));var Re=se.groups;if(Te){var V=[Me].concat(Y,ie,ce);Re!==void 0&&V.push(Re);var we=String(ue.apply(void 0,V))}else we=G(Me,ce,ie,Y,Re,ue);ie>=et&&(Ce+=ce.slice(et,ie)+we,et=ie+Me.length)}return Ce+ce.slice(et)}];function G(J,ue,de,ge,ce,Te){var ve=de+J.length,ne=ge.length,D=q;return ce!==void 0&&(ce=h(ce),D=j),W.call(Te,D,function(se,ye){var Ce;switch(ye.charAt(0)){case"$":return"$";case"&":return J;case"`":return ue.slice(0,de);case"'":return ue.slice(ve);case"<":Ce=ce[ye.slice(1,-1)];break;default:var et=+ye;if(et===0)return se;if(et>ne){var ze=N(et/10);return ze===0?se:ze<=ne?ge[ze-1]===void 0?ye.charAt(1):ge[ze-1]+ye.charAt(1):se}Ce=ge[et-1]}return Ce===void 0?"":Ce})}})},aae3:function(o,l,u){var c=u("d3f4"),h=u("2d95"),v=u("2b4c")("match");o.exports=function(x){var w;return c(x)&&((w=x[v])!==void 0?!!w:h(x)=="RegExp")}},ac6a:function(o,l,u){for(var c=u("cadf"),h=u("0d58"),v=u("2aba"),x=u("7726"),w=u("32e9"),k=u("84f2"),A=u("2b4c"),B=A("iterator"),N=A("toStringTag"),j=k.Array,q={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},O=h(q),S=0;S<O.length;S++){var P=O[S],W=q[P],z=x[P],G=z&&z.prototype,J;if(G&&(G[B]||w(G,B,j),G[N]||w(G,N,P),k[P]=j,W))for(J in c)G[J]||v(G,J,c[J],!0)}},b0c5:function(o,l,u){var c=u("520a");u("5ca1")({target:"RegExp",proto:!0,forced:c!==/./.exec},{exec:c})},be13:function(o,l){o.exports=function(u){if(u==null)throw TypeError("Can't call method on  "+u);return u}},c366:function(o,l,u){var c=u("6821"),h=u("9def"),v=u("77f1");o.exports=function(x){return function(w,k,A){var B=c(w),N=h(B.length),j=v(A,N),q;if(x&&k!=k){for(;N>j;)if(q=B[j++],q!=q)return!0}else for(;N>j;j++)if((x||j in B)&&B[j]===k)return x||j||0;return!x&&-1}}},c649:function(o,l,u){(function(c){u.d(l,"c",function(){return B}),u.d(l,"a",function(){return k}),u.d(l,"b",function(){return v}),u.d(l,"d",function(){return A}),u("a481");function h(){return typeof window<"u"?window.console:c.console}var v=h();function x(N){var j=Object.create(null);return function(O){var S=j[O];return S||(j[O]=N(O))}}var w=/-(\w)/g,k=x(function(N){return N.replace(w,function(j,q){return q?q.toUpperCase():""})});function A(N){N.parentElement!==null&&N.parentElement.removeChild(N)}function B(N,j,q){var O=q===0?N.children[0]:N.children[q-1].nextSibling;N.insertBefore(j,O)}}).call(this,u("c8ba"))},c69a:function(o,l,u){o.exports=!u("9e1e")&&!u("79e5")(function(){return Object.defineProperty(u("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(o,l){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}o.exports=u},ca5a:function(o,l){var u=0,c=Math.random();o.exports=function(h){return"Symbol(".concat(h===void 0?"":h,")_",(++u+c).toString(36))}},cadf:function(o,l,u){var c=u("9c6c"),h=u("d53b"),v=u("84f2"),x=u("6821");o.exports=u("01f9")(Array,"Array",function(w,k){this._t=x(w),this._i=0,this._k=k},function(){var w=this._t,k=this._k,A=this._i++;return!w||A>=w.length?(this._t=void 0,h(1)):k=="keys"?h(0,A):k=="values"?h(0,w[A]):h(0,[A,w[A]])},"values"),v.Arguments=v.Array,c("keys"),c("values"),c("entries")},cb7c:function(o,l,u){var c=u("d3f4");o.exports=function(h){if(!c(h))throw TypeError(h+" is not an object!");return h}},ce10:function(o,l,u){var c=u("69a8"),h=u("6821"),v=u("c366")(!1),x=u("613b")("IE_PROTO");o.exports=function(w,k){var A=h(w),B=0,N=[],j;for(j in A)j!=x&&c(A,j)&&N.push(j);for(;k.length>B;)c(A,j=k[B++])&&(~v(N,j)||N.push(j));return N}},d2c8:function(o,l,u){var c=u("aae3"),h=u("be13");o.exports=function(v,x,w){if(c(x))throw TypeError("String#"+w+" doesn't accept regex!");return String(h(v))}},d3f4:function(o,l){o.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},d53b:function(o,l){o.exports=function(u,c){return{value:c,done:!!u}}},d8e8:function(o,l){o.exports=function(u){if(typeof u!="function")throw TypeError(u+" is not a function!");return u}},e11e:function(o,l){o.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(o,l,u){var c=u("5ca1"),h=u("9def"),v=u("d2c8"),x="startsWith",w=""[x];c(c.P+c.F*u("5147")(x),"String",{startsWith:function(A){var B=v(this,A,x),N=h(Math.min(arguments.length>1?arguments[1]:void 0,B.length)),j=String(A);return w?w.call(B,j,N):B.slice(N,N+j.length)===j}})},f6fd:function(o,l){(function(u){var c="currentScript",h=u.getElementsByTagName("script");c in u||Object.defineProperty(u,c,{get:function(){try{throw new Error}catch(w){var v,x=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(w.stack)||[!1])[1];for(v in h)if(h[v].src==x||h[v].readyState=="interactive")return h[v];return null}}})})(document)},f751:function(o,l,u){var c=u("5ca1");c(c.S+c.F,"Object",{assign:u("7333")})},fa5b:function(o,l,u){o.exports=u("5537")("native-function-to-string",Function.toString)},fab2:function(o,l,u){var c=u("7726").document;o.exports=c&&c.documentElement},fb15:function(o,l,u){if(u.r(l),typeof window<"u"){u("f6fd");var c;(c=window.document.currentScript)&&(c=c.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(u.p=c[1])}u("f751"),u("f559"),u("ac6a"),u("cadf"),u("456d");function h(Me){if(Array.isArray(Me))return Me}function v(Me,ie){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Me)))){var Y=[],Le=!0,Re=!1,V=void 0;try{for(var we=Me[Symbol.iterator](),Ae;!(Le=(Ae=we.next()).done)&&(Y.push(Ae.value),!(ie&&Y.length===ie));Le=!0);}catch(je){Re=!0,V=je}finally{try{!Le&&we.return!=null&&we.return()}finally{if(Re)throw V}}return Y}}function x(Me,ie){(ie==null||ie>Me.length)&&(ie=Me.length);for(var Y=0,Le=new Array(ie);Y<ie;Y++)Le[Y]=Me[Y];return Le}function w(Me,ie){if(Me){if(typeof Me=="string")return x(Me,ie);var Y=Object.prototype.toString.call(Me).slice(8,-1);if(Y==="Object"&&Me.constructor&&(Y=Me.constructor.name),Y==="Map"||Y==="Set")return Array.from(Me);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return x(Me,ie)}}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(Me,ie){return h(Me)||v(Me,ie)||w(Me,ie)||k()}u("6762"),u("2fdb");function B(Me){if(Array.isArray(Me))return x(Me)}function N(Me){if(typeof Symbol<"u"&&Symbol.iterator in Object(Me))return Array.from(Me)}function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(Me){return B(Me)||N(Me)||w(Me)||j()}var O=u("a352"),S=u.n(O),P=u("c649");function W(Me,ie,Y){return Y===void 0||(Me=Me||{},Me[ie]=Y),Me}function z(Me,ie){return Me.map(function(Y){return Y.elm}).indexOf(ie)}function G(Me,ie,Y,Le){if(!Me)return[];var Re=Me.map(function(Ae){return Ae.elm}),V=ie.length-Le,we=q(ie).map(function(Ae,je){return je>=V?Re.length:Re.indexOf(Ae)});return Y?we.filter(function(Ae){return Ae!==-1}):we}function J(Me,ie){var Y=this;this.$nextTick(function(){return Y.$emit(Me.toLowerCase(),ie)})}function ue(Me){var ie=this;return function(Y){ie.realList!==null&&ie["onDrag"+Me](Y),J.call(ie,Me,Y)}}function de(Me){return["transition-group","TransitionGroup"].includes(Me)}function ge(Me){if(!Me||Me.length!==1)return!1;var ie=A(Me,1),Y=ie[0].componentOptions;return Y?de(Y.tag):!1}function ce(Me,ie,Y){return Me[Y]||(ie[Y]?ie[Y]():void 0)}function Te(Me,ie,Y){var Le=0,Re=0,V=ce(ie,Y,"header");V&&(Le=V.length,Me=Me?[].concat(q(V),q(Me)):q(V));var we=ce(ie,Y,"footer");return we&&(Re=we.length,Me=Me?[].concat(q(Me),q(we)):q(we)),{children:Me,headerOffset:Le,footerOffset:Re}}function ve(Me,ie){var Y=null,Le=function(Ze,Xe){Y=W(Y,Ze,Xe)},Re=Object.keys(Me).filter(function(je){return je==="id"||je.startsWith("data-")}).reduce(function(je,Ze){return je[Ze]=Me[Ze],je},{});if(Le("attrs",Re),!ie)return Y;var V=ie.on,we=ie.props,Ae=ie.attrs;return Le("on",V),Le("props",we),Object.assign(Y.attrs,Ae),Y}var ne=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],se=["Move"].concat(ne,D).map(function(Me){return"on"+Me}),ye=null,Ce={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(ie){return ie}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},et={name:"draggable",inheritAttrs:!1,props:Ce,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(ie){var Y=this.$slots.default;this.transitionMode=ge(Y);var Le=Te(Y,this.$slots,this.$scopedSlots),Re=Le.children,V=Le.headerOffset,we=Le.footerOffset;this.headerOffset=V,this.footerOffset=we;var Ae=ve(this.$attrs,this.componentData);return ie(this.getTag(),Ae,Re)},created:function(){this.list!==null&&this.value!==null&&P.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&P.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&P.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var ie=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var Y={};ne.forEach(function(V){Y["on"+V]=ue.call(ie,V)}),D.forEach(function(V){Y["on"+V]=J.bind(ie,V)});var Le=Object.keys(this.$attrs).reduce(function(V,we){return V[Object(P.a)(we)]=ie.$attrs[we],V},{}),Re=Object.assign({},this.options,Le,Y,{onMove:function(we,Ae){return ie.onDragMove(we,Ae)}});!("draggable"in Re)&&(Re.draggable=">*"),this._sortable=new S.a(this.rootContainer,Re),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(ie){this.updateOptions(ie)},deep:!0},$attrs:{handler:function(ie){this.updateOptions(ie)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var ie=this._vnode.fnOptions;return ie&&ie.functional},getTag:function(){return this.tag||this.element},updateOptions:function(ie){for(var Y in ie){var Le=Object(P.a)(Y);se.indexOf(Le)===-1&&this._sortable.option(Le,ie[Y])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var ie=this.$slots.default;return this.transitionMode?ie[0].child.$slots.default:ie},computeIndexes:function(){var ie=this;this.$nextTick(function(){ie.visibleIndexes=G(ie.getChildrenNodes(),ie.rootContainer.children,ie.transitionMode,ie.footerOffset)})},getUnderlyingVm:function(ie){var Y=z(this.getChildrenNodes()||[],ie);if(Y===-1)return null;var Le=this.realList[Y];return{index:Y,element:Le}},getUnderlyingPotencialDraggableComponent:function(ie){var Y=ie.__vue__;return!Y||!Y.$options||!de(Y.$options._componentTag)?!("realList"in Y)&&Y.$children.length===1&&"realList"in Y.$children[0]?Y.$children[0]:Y:Y.$parent},emitChanges:function(ie){var Y=this;this.$nextTick(function(){Y.$emit("change",ie)})},alterList:function(ie){if(this.list){ie(this.list);return}var Y=q(this.value);ie(Y),this.$emit("input",Y)},spliceList:function(){var ie=arguments,Y=function(Re){return Re.splice.apply(Re,q(ie))};this.alterList(Y)},updatePosition:function(ie,Y){var Le=function(V){return V.splice(Y,0,V.splice(ie,1)[0])};this.alterList(Le)},getRelatedContextFromMoveEvent:function(ie){var Y=ie.to,Le=ie.related,Re=this.getUnderlyingPotencialDraggableComponent(Y);if(!Re)return{component:Re};var V=Re.realList,we={list:V,component:Re};if(Y!==Le&&V&&Re.getUnderlyingVm){var Ae=Re.getUnderlyingVm(Le);if(Ae)return Object.assign(Ae,we)}return we},getVmIndex:function(ie){var Y=this.visibleIndexes,Le=Y.length;return ie>Le-1?Le:Y[ie]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(ie){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var Y=this.getChildrenNodes();Y[ie].data=null;var Le=this.getComponent();Le.children=[],Le.kept=void 0}},onDragStart:function(ie){this.context=this.getUnderlyingVm(ie.item),ie.item._underlying_vm_=this.clone(this.context.element),ye=ie.item},onDragAdd:function(ie){var Y=ie.item._underlying_vm_;if(Y!==void 0){Object(P.d)(ie.item);var Le=this.getVmIndex(ie.newIndex);this.spliceList(Le,0,Y),this.computeIndexes();var Re={element:Y,newIndex:Le};this.emitChanges({added:Re})}},onDragRemove:function(ie){if(Object(P.c)(this.rootContainer,ie.item,ie.oldIndex),ie.pullMode==="clone"){Object(P.d)(ie.clone);return}var Y=this.context.index;this.spliceList(Y,1);var Le={element:this.context.element,oldIndex:Y};this.resetTransitionData(Y),this.emitChanges({removed:Le})},onDragUpdate:function(ie){Object(P.d)(ie.item),Object(P.c)(ie.from,ie.item,ie.oldIndex);var Y=this.context.index,Le=this.getVmIndex(ie.newIndex);this.updatePosition(Y,Le);var Re={element:this.context.element,oldIndex:Y,newIndex:Le};this.emitChanges({moved:Re})},updateProperty:function(ie,Y){ie.hasOwnProperty(Y)&&(ie[Y]+=this.headerOffset)},computeFutureIndex:function(ie,Y){if(!ie.element)return 0;var Le=q(Y.to.children).filter(function(Ae){return Ae.style.display!=="none"}),Re=Le.indexOf(Y.related),V=ie.component.getVmIndex(Re),we=Le.indexOf(ye)!==-1;return we||!Y.willInsertAfter?V:V+1},onDragMove:function(ie,Y){var Le=this.move;if(!Le||!this.realList)return!0;var Re=this.getRelatedContextFromMoveEvent(ie),V=this.context,we=this.computeFutureIndex(Re,ie);Object.assign(V,{futureIndex:we});var Ae=Object.assign({},ie,{relatedContext:Re,draggedContext:V});return Le(Ae,Y)},onDragEnd:function(){this.computeIndexes(),ye=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",et);var ze=et;l.default=ze}}).default})}(Bh)),Bh.exports}var eT=JS();const _b=kf(eT),tT={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(t,e){this.dropzone.options[t]=e},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(t){this.dropzone.removeFile(t)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted(){if(this.$isServer)return;let t=document.getElementById(this.id);if(yl.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new yl(t,this.dropzoneOptions);else{this.dropzone=new yl(t,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:{_token:window.RozierConfig.ajaxToken,...this.headers},dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:(u,c)=>{let h;c.error?h=c.error:h="Error",u.previewElement.classList.add("dz-error");let v=u.previewElement.querySelectorAll("[data-dz-errormessage]"),x=[];for(let w=0,k=v.length;w<k;w++){let A=v[w];x.push(A.textContent=h)}return x}});const n=t;n.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.language.dictDefaultMessage}</span></div>`),n.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
                <div class="circles-icons">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <i class="uk-icon-rz-file"></i>
                </div>
            `)}const e=this;this.dropzone.on("thumbnail",function(n){e.$emit("vdropzone-thumbnail",n)}),this.dropzone.on("addedfile",function(n){e.$emit("vdropzone-file-added",n)}),this.dropzone.on("removedfile",function(n){e.$emit("vdropzone-removed-file",n)}),this.dropzone.on("success",async function(n,o){if(e.$emit("vdropzone-success",n,o),n.previewElement){let l=n.previewElement;await vc(3e3),await Bu(l,500)}}),this.dropzone.on("successmultiple",function(n,o){e.$emit("vdropzone-success-multiple",n,o)}),this.dropzone.on("error",function(n,o,l){e.$emit("vdropzone-error",n,o,l)}),this.dropzone.on("sending",function(n,o,l){e.$emit("vdropzone-sending",n,o,l),o.ontimeout=()=>{console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(n,o,l){e.$emit("vdropzone-sending-multiple",n,o,l)}),this.dropzone.on("queuecomplete",function(n,o,l){e.$emit("vdropzone-queue-complete",n,o,l)})},beforeDestroy(){this.dropzone.destroy()}};var iT=function(){var e=this,n=e._self._c;return n("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:e.url,id:e.id}})},nT=[],rT=zn(tT,iT,nT,!1,null,null);const oT=rT.exports,aT={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null,documentEditDialog:null}),mounted(){this.drawersAddInstance(this),hc.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name");let t=this.ids,e=this.entity;t||(t=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const n=this.$refs.drawer.getAttribute("data-is-sortable"),o=this.$refs.drawer.getAttribute("data-min-length"),l=this.$refs.drawer.getAttribute("data-max-length"),u=l?parseInt(l,10):9999,c=o?parseInt(o,10):0;this.groupName=e,this.isSortable=n==="true";const h=this.$refs.drawer.getAttribute("data-nodetypes"),v=this.$refs.drawer.getAttribute("data-nodetypefield"),x=this.$refs.drawer.getAttribute("data-nodetypename"),w=this.$refs.drawer.getAttribute("data-provider-class"),k=this.$refs.drawer.getAttribute("data-locale"),A=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),B={nodeTypes:h,nodeTypeField:v,providerClass:w,providerOptions:A,nodeTypeName:x,_locale:k};this.drawersInitData({drawer:this.drawer,entity:e,ids:t,filters:B,maxLength:u,minLength:c,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...Wa({isActive:function(){let t=this.$store.getters.drawersGetById(this._uid);return t?t.isActive:!1},trans:t=>t.drawers.trans,currentListingView:t=>t.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer.items},set(t){this.$store.commit(Mv,{drawer:this.drawer,newList:t})}}},methods:{...Ys(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(t){this.drawersRemoveItem({drawer:this.drawer,item:t})},addItem:function(t,e=null){this.drawersAddItem({drawer:this.drawer,item:t,newIndex:e})},showSuccess:function(t,e){this.entityName===Kv?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(t,e,n){console.error(t),console.error(e),console.error(n)},onEditItem(t){const e=document.createElement("document-edit-dialog");e.setAttribute("template-path",this.$el.getAttribute("data-document-alignment-template-path")),e.setAttribute("title",t.document.classname),e.setAttribute("edit-url",t.document.editItem+"?referer="+window.location.pathname),e.setAttribute("image-path",t.document.editImageUrl),e.setAttribute("input-base-name",`${this.drawerName}[${t.index}]`),t.document.originalHotspot&&e.setAttribute("original-hotspot",JSON.stringify(t.document.originalHotspot)),document.body.appendChild(e),e.showModal()}},components:{RzButton:vS,draggable:_b,Dropzone:oT}},sT=null,uT=null;var lT=zn(aT,sT,uT,!1,null,null);const cT=lT.exports,fT={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}};var hT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?n("div",{staticClass:"widget-explorer-nextpage",on:{click:function(o){return o.preventDefault(),e.loadMoreItems.apply(null,arguments)}}},[e.isLoadingMore?[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner light"})])]:[n("i",{staticClass:"uk-icon-plus"}),n("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},dT=[],pT=zn(fT,hT,dT,!1,null,null);const mT=pT.exports,gT={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}};var vT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?n("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},bT=[],yT=zn(gT,vT,bT,!1,null,null);const _T=yT.exports,wT={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}};var xT=function(){var e=this,n=e._self._c;return n("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),e.onClick.apply(null,arguments)}}},[n("i",{class:e.icon}),e.filterExplorerSelectedItems?n("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},kT=[],ET=zn(wT,xT,kT,!1,null,null);const CT=ET.exports,ST={data:()=>({searchPlaceHolder:""}),computed:{...Wa({isLoadingMore:t=>t.explorer.isLoadingMore,isLoading:t=>t.explorer.isLoading,isOpen:t=>t.explorer.isOpen,items:t=>t.explorer.items,filters:t=>t.explorer.filters,moreItems:t=>t.explorer.trans.moreItems,translations:t=>t.translations,entity:t=>t.explorer.entity,isFilterExplorerOpen:t=>t.filterExplorer.isOpen,filterExplorerSelectedItems:t=>t.filterExplorer.selectedItem,currentListingView:t=>t.explorer.currentListingView,widgetView:t=>t.explorer.widgetView,isFilterEnable:t=>t.explorer.isFilterEnable,filterExplorerIcon:t=>t.explorer.filterExplorerIcon,entityClass:t=>"entity-"+t.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:ff.debounce(function(t){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:t})},450)}},methods:{...Ys(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(t){this.drawersAddItem({item:t})}},components:{LoadMoreButton:mT,ExplorerItemsInfos:_T,FilterExplorerButton:CT,draggable:_b}};var TT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"slide-left"}},[e.isOpen?n("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[n("div",{staticClass:"widget-explorer-wrapper"},[n("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?n("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),n("div",{staticClass:"widget-explorer-search"},[n("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(o){o.preventDefault()}}},[n("div",{staticClass:"uk-form-icon"},[n("i",{staticClass:"uk-icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.stopPropagation(),o.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(o){o.target.composing||(e.searchTerms=o.target.value)}}})])])]),n("div",{staticClass:"widget-explorer-close",on:{click:function(o){return o.preventDefault(),e.explorerClose.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e.isLoading?n("div",{staticClass:"spinner light"}):e._e(),n("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():n("ul",{staticClass:"uk-sortable"},[n("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(o){e.items=o},expression:"items"}},[n("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(o,l){return n(e.currentListingView,{key:o.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:l,item:o}})}),1)],1)],1)]),e.filters?n("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e.filters?n("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),n(e.widgetView,{tag:"component"})],1)]):e._e()])},AT=[],DT=zn(ST,TT,AT,!1,null,null);const LT=DT.exports,MT={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var PT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade-in"}},[e.item?n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),e.onItemClick(e.item)}}},[n("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),n("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),n("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(o,l){return n("filter-explorer-item",{key:o.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:o}})}),1)]):e._e()])},OT=[],FT=zn(MT,PT,OT,!1,null,null);const RT=FT.exports,NT={data:()=>({currentListingView:null}),computed:{...Wa({isLoading:t=>t.filterExplorer.isLoading,isOpen:t=>t.filterExplorer.isOpen,items:t=>t.filterExplorer.items,entity:t=>t.explorer.entity,itemCount:t=>t.explorer.filters.itemCount,selectedItem:t=>t.filterExplorer.selectedItem,translations:t=>t.translations,icons:t=>t.filterExplorer.icons})},methods:{...Ys(["filterExplorerUpdate"]),onItemClick:function(t){this.filterExplorerUpdate({item:t})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:RT}};var IT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?n("div",{staticClass:"filter-widget-explorer"},[n("ul",{staticClass:"filters-items"},[n("li",{staticClass:"filters-infos"},[n("div",{staticClass:"infos-content"},[n("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?n("div",[n("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v(" "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+" ")]):e._e()])],1)]),n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),e.onResetClick.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(o,l){return n("filter-explorer-item",{key:l,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:o}})})],2)]):e._e()])},zT=[],BT=zn(NT,IT,zT,!1,null,null);const HT=BT.exports;var Yh={exports:{}},WT=Yh.exports,u0;function qT(){return u0||(u0=1,function(t,e){(function(n,o){t.exports=o()})(WT,function(){return function(n){function o(u){if(l[u])return l[u].exports;var c=l[u]={i:u,l:!1,exports:{}};return n[u].call(c.exports,c,c.exports,o),c.l=!0,c.exports}var l={};return o.m=n,o.c=l,o.i=function(u){return u},o.d=function(u,c,h){o.o(u,c)||Object.defineProperty(u,c,{configurable:!1,enumerable:!0,get:h})},o.n=function(u){var c=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(c,"a",c),c},o.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},o.p="/",o(o.s=8)}([function(n,o,l){function u(q){return q&&q.__esModule?q:{default:q}}function c(q,O,S){return O in q?Object.defineProperty(q,O,{value:S,enumerable:!0,configurable:!0,writable:!0}):q[O]=S,q}function h(q,O){if(!q)return!1;var S=q.toString().toLowerCase();return S.indexOf(O.trim())!==-1}function v(q,O,S){return S?q.filter(function(P){return h(P[S],O)}):q.filter(function(P){return h(P,O)})}function x(q){return q.filter(function(O){return!O.$isLabel})}function w(q,O){return function(S){return S.reduce(function(P,W){return W[q]&&W[q].length?(P.push({$groupLabel:W[O],$isLabel:!0}),P.concat(W[q])):P.concat(W)},[])}}function k(q,O,S,P){return function(W){return W.map(function(z){var G,J=v(z[S],q,O);return J.length?(G={},c(G,P,z[P]),c(G,S,J),G):[]})}}Object.defineProperty(o,"__esModule",{value:!0});var A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},B=l(2),N=u(B),j=function(){for(var q=arguments.length,O=Array(q),S=0;S<q;S++)O[S]=arguments[S];return function(P){return O.reduce(function(W,z){return z(W)},P)}};o.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,N.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(q,O){return O?q[O]:q}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props cant be both set to false.")},computed:{filteredOptions:function(){var q=this.search||"",O=q.toLowerCase(),S=this.options.concat();return this.internalSearch?(S=this.groupValues?this.filterAndFlat(S,O,this.label):v(S,O,this.label),S=this.hideSelected?S.filter(this.isNotSelected):S):S=this.groupValues?w(this.groupValues,this.groupLabel)(S):S,this.taggable&&O.length&&!this.isExistingOption(O)&&S.unshift({isTag:!0,label:q}),S.slice(0,this.optionsLimit)},valueKeys:function(){var q=this;return this.trackBy?this.internalValue.map(function(O){return O[q.trackBy]}):this.internalValue},optionKeys:function(){var q=this,O=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?O.map(function(S){return S[q.label].toString().toLowerCase()}):O.map(function(S){return S.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(q,O){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(q){this.internalValue=this.getInternalValue(q)}},methods:{getValue:function(){return this.multiple?(0,N.default)(this.internalValue):this.internalValue.length===0?null:(0,N.default)(this.internalValue[0])},getInternalValue:function(q){return q==null?[]:this.multiple?(0,N.default)(q):(0,N.default)([q])},filterAndFlat:function(q){return j(k(this.search,this.label,this.groupValues,this.groupLabel),w(this.groupValues,this.groupLabel))(q)},flatAndStrip:function(q){return j(w(this.groupValues,this.groupLabel),x)(q)},updateSearch:function(q){this.search=q},isExistingOption:function(q){return!!this.options&&this.optionKeys.indexOf(q)>-1},isSelected:function(q){var O=this.trackBy?q[this.trackBy]:q;return this.valueKeys.indexOf(O)>-1},isNotSelected:function(q){return!this.isSelected(q)},getOptionLabel:function(q){return q||q===0?q.isTag?q.label:this.customLabel(q,this.label)||"":""},select:function(q,O){if(!(this.blockKeys.indexOf(O)!==-1||this.disabled||q.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(q.isTag)this.$emit("tag",q.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var S=this.isSelected(q);if(S)return void(O!=="Tab"&&this.removeElement(q));this.multiple?this.internalValue.push(q):this.internalValue=[q],this.$emit("select",(0,N.default)(q),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(q){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var O=(typeof q>"u"?"undefined":A(q))==="object"?this.valueKeys.indexOf(q[this.trackBy]):this.valueKeys.indexOf(q);this.internalValue.splice(O,1),this.$emit("remove",(0,N.default)(q),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(n,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(u,c){return{"multiselect__option--highlight":u===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(c)}},addPointerElement:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",c=u.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],c),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(u){this.pointer=u}}}},function(n,o,l){function u(h){if(Array.isArray(h))return h.map(u);if(h&&(typeof h>"u"?"undefined":c(h))==="object"){for(var v={},x=Object.keys(h),w=0,k=x.length;w<k;w++){var A=x[w];v[A]=u(h[A])}return v}return h}Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};o.default=u},function(n,o,l){l(5);var u=l(6)(l(4),l(7),null,null);n.exports=u.exports},function(n,o,l){function u(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(o,"__esModule",{value:!0});var c=l(0),h=u(c),v=l(1),x=u(v);o.default={name:"vue-multiselect",mixins:[h.default,x.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(w){return"and "+w+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(n,o){},function(n,o){n.exports=function(l,u,c,h){var v,x=l=l||{},w=typeof l.default;w!=="object"&&w!=="function"||(v=l,x=l.default);var k=typeof x=="function"?x.options:x;if(u&&(k.render=u.render,k.staticRenderFns=u.staticRenderFns),c&&(k._scopeId=c),h){var A=k.computed||(k.computed={});Object.keys(h).forEach(function(B){var N=h[B];A[B]=function(){return N}})}return{esModule:v,exports:x,options:k}}},function(n,o){n.exports={render:function(){var l=this,u=l.$createElement,c=l._self._c||u;return c("div",{staticClass:"multiselect",class:{"multiselect--active":l.isOpen,"multiselect--disabled":l.disabled,"multiselect--above":!l.hasEnoughSpace},attrs:{tabindex:l.searchable?-1:0},on:{focus:function(h){l.activate()},blur:function(h){!l.searchable&&l.deactivate()},keydown:[function(h){l._k(h.keyCode,"down",40)||h.target===h.currentTarget&&(h.preventDefault(),l.pointerForward())},function(h){l._k(h.keyCode,"up",38)||h.target===h.currentTarget&&(h.preventDefault(),l.pointerBackward())},function(h){l._k(h.keyCode,"enter",13)&&l._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&l.addPointerElement(h))}],keyup:function(h){l._k(h.keyCode,"esc",27)||l.deactivate()}}},[l._t("carret",[c("div",{staticClass:"multiselect__select",on:{mousedown:function(h){h.preventDefault(),l.toggle()}}})]),l._v(" "),c("div",{ref:"tags",staticClass:"multiselect__tags"},[l._l(l.visibleValue,function(h){return c("span",{staticClass:"multiselect__tag",on:{mousedown:function(v){v.preventDefault()}}},[c("span",{domProps:{textContent:l._s(l.getOptionLabel(h))}}),l._v(" "),c("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(v){l._k(v.keyCode,"enter",13)||(v.preventDefault(),l.removeElement(h))},mousedown:function(v){v.preventDefault(),l.removeElement(h)}}})])}),l._v(" "),l.internalValue&&l.internalValue.length>l.limit?[c("strong",{domProps:{textContent:l._s(l.limitText(l.internalValue.length-l.limit))}})]:l._e(),l._v(" "),c("transition",{attrs:{name:"multiselect__loading"}},[l._t("loading",[c("div",{directives:[{name:"show",rawName:"v-show",value:l.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),l._v(" "),l.searchable?c("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:l.placeholder,disabled:l.disabled},domProps:{value:l.isOpen?l.search:l.currentOptionLabel},on:{input:function(h){l.updateSearch(h.target.value)},focus:function(h){h.preventDefault(),l.activate()},blur:function(h){h.preventDefault(),l.deactivate()},keyup:function(h){l._k(h.keyCode,"esc",27)||l.deactivate()},keydown:[function(h){l._k(h.keyCode,"down",40)||(h.preventDefault(),l.pointerForward())},function(h){l._k(h.keyCode,"up",38)||(h.preventDefault(),l.pointerBackward())},function(h){l._k(h.keyCode,"enter",13)||h.preventDefault()},function(h){l._k(h.keyCode,"enter",13)&&l._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&l.addPointerElement(h))},function(h){l._k(h.keyCode,"delete",[8,46])||l.removeLastElement()}]}}):l._e(),l._v(" "),l.searchable?l._e():c("span",{staticClass:"multiselect__single",domProps:{textContent:l._s(l.currentOptionLabel)}})],2),l._v(" "),c("transition",{attrs:{name:"multiselect"}},[c("ul",{directives:[{name:"show",rawName:"v-show",value:l.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:l.maxHeight+"px"}},[l._t("beforeList"),l._v(" "),l.multiple&&l.max===l.internalValue.length?c("li",[c("span",{staticClass:"multiselect__option"},[l._t("maxElements",[l._v("Maximum of "+l._s(l.max)+" options selected. First remove a selected option to select another.")])],2)]):l._e(),l._v(" "),!l.max||l.internalValue.length<l.max?l._l(l.filteredOptions,function(h,v){return c("li",{key:v,staticClass:"multiselect__element"},[h.$isLabel?l._e():c("span",{staticClass:"multiselect__option",class:l.optionHighlight(v,h),attrs:{tabindex:"0","data-select":h.isTag?l.tagPlaceholder:l.selectLabelText,"data-selected":l.selectedLabelText,"data-deselect":l.deselectLabelText},on:{mousedown:function(x){x.preventDefault(),l.select(h)},mouseenter:function(x){l.pointerSet(v)}}},[l._t("option",[c("span",[l._v(l._s(l.getOptionLabel(h)))])],{option:h,search:l.search})],2),l._v(" "),h.$isLabel?c("span",{staticClass:"multiselect__option multiselect__option--disabled",class:l.optionHighlight(v,h)},[l._v(`
              `+l._s(h.$groupLabel)+`
            `)]):l._e()])}):l._e(),l._v(" "),c("li",{directives:[{name:"show",rawName:"v-show",value:l.filteredOptions.length===0&&l.search&&!l.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[c("span",{staticClass:"multiselect__option"},[l._t("noResult",[l._v("No elements found. Consider changing the search query.")])],2)]),l._v(" "),l._t("afterList")],2)])],2)},staticRenderFns:[]}},function(n,o,l){function u(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(o,"__esModule",{value:!0}),o.deepClone=o.pointerMixin=o.multiselectMixin=o.Multiselect=void 0;var c=l(3),h=u(c),v=l(0),x=u(v),w=l(1),k=u(w),A=l(2),B=u(A);o.default=h.default,o.Multiselect=h.default,o.multiselectMixin=x.default,o.pointerMixin=k.default,o.deepClone=B.default}])})}(Yh)),Yh.exports}var jT=qT();const UT=kf(jT),YT={mounted(){this.tagsInitData()},computed:{...Wa({value:t=>t.tags.value,options:t=>t.tags.options})},methods:{...Ys(["tagsUpdateValue","tagsInitData"]),addTag(t){const e={name:t};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:UT}};var $T=function(){var e=this,n=e._self._c;return n("div",[e._t("default"),n("label",{staticClass:"typo__label"},[e._v("Tagging")]),n("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(o){e.value=o},expression:"value"}}),n("pre",{staticClass:"language-json"},[n("code",[e._v(e._s(e.value))])])],2)},GT=[],ZT=zn(YT,$T,GT,!1,null,null);const XT=ZT.exports,VT={computed:{...Wa({isVisible:t=>t.documentPreview.isVisible,document:t=>t.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},methods:{...Ys(["documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(t){t.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}}};var KT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?n("div",{staticClass:"document-preview-widget"},[n("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(o){return o.preventDefault(),e.onClick.apply(null,arguments)}}},[n("div",{staticClass:"document-preview-widget__information"},[n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),n("div",{staticClass:"close",on:{click:function(o){return o.preventDefault(),e.closePreview.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-times"})])]),n("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[n("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},QT=[],JT=zn(VT,KT,QT,!1,null,null);const eA=JT.exports;var Mh={};const tA=A0(zw);var $h={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var iA=$h.exports,l0;function nA(){return l0||(l0=1,function(t,e){(function(n,o){t.exports=o()})(iA,function(){function n(ke,y){var T=Object.keys(ke);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(ke);y&&(R=R.filter(function(re){return Object.getOwnPropertyDescriptor(ke,re).enumerable})),T.push.apply(T,R)}return T}function o(ke){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?n(Object(T),!0).forEach(function(R){w(ke,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(T)):n(Object(T)).forEach(function(R){Object.defineProperty(ke,R,Object.getOwnPropertyDescriptor(T,R))})}return ke}function l(ke,y){if(typeof ke!="object"||!ke)return ke;var T=ke[Symbol.toPrimitive];if(T!==void 0){var R=T.call(ke,y);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(ke)}function u(ke){var y=l(ke,"string");return typeof y=="symbol"?y:y+""}function c(ke){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c(ke)}function h(ke,y){if(!(ke instanceof y))throw new TypeError("Cannot call a class as a function")}function v(ke,y){for(var T=0;T<y.length;T++){var R=y[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(ke,u(R.key),R)}}function x(ke,y,T){return y&&v(ke.prototype,y),T&&v(ke,T),Object.defineProperty(ke,"prototype",{writable:!1}),ke}function w(ke,y,T){return y=u(y),y in ke?Object.defineProperty(ke,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):ke[y]=T,ke}function k(ke){return A(ke)||B(ke)||N(ke)||q()}function A(ke){if(Array.isArray(ke))return j(ke)}function B(ke){if(typeof Symbol<"u"&&ke[Symbol.iterator]!=null||ke["@@iterator"]!=null)return Array.from(ke)}function N(ke,y){if(ke){if(typeof ke=="string")return j(ke,y);var T=Object.prototype.toString.call(ke).slice(8,-1);if(T==="Object"&&ke.constructor&&(T=ke.constructor.name),T==="Map"||T==="Set")return Array.from(ke);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return j(ke,y)}}function j(ke,y){(y==null||y>ke.length)&&(y=ke.length);for(var T=0,R=new Array(y);T<y;T++)R[T]=ke[T];return R}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=typeof window<"u"&&typeof window.document<"u",S=O?window:{},P=O&&S.document.documentElement?"ontouchstart"in S.document.documentElement:!1,W=O?"PointerEvent"in S:!1,z="cropper",G="all",J="crop",ue="move",de="zoom",ge="e",ce="w",Te="s",ve="n",ne="ne",D="nw",se="se",ye="sw",Ce="".concat(z,"-crop"),et="".concat(z,"-disabled"),ze="".concat(z,"-hidden"),Me="".concat(z,"-hide"),ie="".concat(z,"-invisible"),Y="".concat(z,"-modal"),Le="".concat(z,"-move"),Re="".concat(z,"Action"),V="".concat(z,"Preview"),we="crop",Ae="move",je="none",Ze="crop",Xe="cropend",ut="cropmove",Ct="cropstart",wt="dblclick",St=P?"touchstart":"mousedown",yt=P?"touchmove":"mousemove",Mt=P?"touchend touchcancel":"mouseup",Ut=W?"pointerdown":St,Kt=W?"pointermove":yt,X=W?"pointerup pointercancel":Mt,le="ready",Q="resize",he="wheel",pe="zoom",Be="image/jpeg",ot=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Qe=/^data:/,mt=/^data:image\/jpeg;base64,/,Pt=/^img|canvas$/i,ct=200,Wt=100,$t={viewMode:0,dragMode:we,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ct,minContainerHeight:Wt,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Qt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Vt=Number.isNaN||S.isNaN;function xt(ke){return typeof ke=="number"&&!Vt(ke)}var Gn=function(y){return y>0&&y<1/0};function Yt(ke){return typeof ke>"u"}function vr(ke){return c(ke)==="object"&&ke!==null}var Rt=Object.prototype.hasOwnProperty;function un(ke){if(!vr(ke))return!1;try{var y=ke.constructor,T=y.prototype;return y&&T&&Rt.call(T,"isPrototypeOf")}catch{return!1}}function _i(ke){return typeof ke=="function"}var Ri=Array.prototype.slice;function pi(ke){return Array.from?Array.from(ke):Ri.call(ke)}function wi(ke,y){return ke&&_i(y)&&(Array.isArray(ke)||xt(ke.length)?pi(ke).forEach(function(T,R){y.call(ke,T,R,ke)}):vr(ke)&&Object.keys(ke).forEach(function(T){y.call(ke,ke[T],T,ke)})),ke}var ui=Object.assign||function(y){for(var T=arguments.length,R=new Array(T>1?T-1:0),re=1;re<T;re++)R[re-1]=arguments[re];return vr(y)&&R.length>0&&R.forEach(function(ae){vr(ae)&&Object.keys(ae).forEach(function(_e){y[_e]=ae[_e]})}),y},si=/\.\d*(?:0|9){12}\d*$/;function Bi(ke){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return si.test(ke)?Math.round(ke*y)/y:ke}var io=/^width|height|left|top|marginLeft|marginTop$/;function Hi(ke,y){var T=ke.style;wi(y,function(R,re){io.test(re)&&xt(R)&&(R="".concat(R,"px")),T[re]=R})}function Ir(ke,y){return ke.classList?ke.classList.contains(y):ke.className.indexOf(y)>-1}function Wi(ke,y){if(y){if(xt(ke.length)){wi(ke,function(R){Wi(R,y)});return}if(ke.classList){ke.classList.add(y);return}var T=ke.className.trim();T?T.indexOf(y)<0&&(ke.className="".concat(T," ").concat(y)):ke.className=y}}function Qi(ke,y){if(y){if(xt(ke.length)){wi(ke,function(T){Qi(T,y)});return}if(ke.classList){ke.classList.remove(y);return}ke.className.indexOf(y)>=0&&(ke.className=ke.className.replace(y,""))}}function br(ke,y,T){if(y){if(xt(ke.length)){wi(ke,function(R){br(R,y,T)});return}T?Wi(ke,y):Qi(ke,y)}}var Tn=/([a-z\d])([A-Z])/g;function Ot(ke){return ke.replace(Tn,"$1-$2").toLowerCase()}function yr(ke,y){return vr(ke[y])?ke[y]:ke.dataset?ke.dataset[y]:ke.getAttribute("data-".concat(Ot(y)))}function Zn(ke,y,T){vr(T)?ke[y]=T:ke.dataset?ke.dataset[y]=T:ke.setAttribute("data-".concat(Ot(y)),T)}function Xn(ke,y){if(vr(ke[y]))try{delete ke[y]}catch{ke[y]=void 0}else if(ke.dataset)try{delete ke.dataset[y]}catch{ke.dataset[y]=void 0}else ke.removeAttribute("data-".concat(Ot(y)))}var or=/\s\s*/,$r=function(){var ke=!1;if(O){var y=!1,T=function(){},R=Object.defineProperty({},"once",{get:function(){return ke=!0,y},set:function(ae){y=ae}});S.addEventListener("test",T,R),S.removeEventListener("test",T,R)}return ke}();function Zi(ke,y,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},re=T;y.trim().split(or).forEach(function(ae){if(!$r){var _e=ke.listeners;_e&&_e[ae]&&_e[ae][T]&&(re=_e[ae][T],delete _e[ae][T],Object.keys(_e[ae]).length===0&&delete _e[ae],Object.keys(_e).length===0&&delete ke.listeners)}ke.removeEventListener(ae,re,R)})}function Ji(ke,y,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},re=T;y.trim().split(or).forEach(function(ae){if(R.once&&!$r){var _e=ke.listeners,Oe=_e===void 0?{}:_e;re=function(){delete Oe[ae][T],ke.removeEventListener(ae,re,R);for(var tt=arguments.length,Ve=new Array(tt),Ke=0;Ke<tt;Ke++)Ve[Ke]=arguments[Ke];T.apply(ke,Ve)},Oe[ae]||(Oe[ae]={}),Oe[ae][T]&&ke.removeEventListener(ae,Oe[ae][T],R),Oe[ae][T]=re,ke.listeners=Oe}ke.addEventListener(ae,re,R)})}function ar(ke,y,T){var R;return _i(Event)&&_i(CustomEvent)?R=new CustomEvent(y,{detail:T,bubbles:!0,cancelable:!0}):(R=document.createEvent("CustomEvent"),R.initCustomEvent(y,!0,!0,T)),ke.dispatchEvent(R)}function sr(ke){var y=ke.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var An=S.location,no=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ro(ke){var y=ke.match(no);return y!==null&&(y[1]!==An.protocol||y[2]!==An.hostname||y[3]!==An.port)}function Er(ke){var y="timestamp=".concat(new Date().getTime());return ke+(ke.indexOf("?")===-1?"?":"&")+y}function Dn(ke){var y=ke.rotate,T=ke.scaleX,R=ke.scaleY,re=ke.translateX,ae=ke.translateY,_e=[];xt(re)&&re!==0&&_e.push("translateX(".concat(re,"px)")),xt(ae)&&ae!==0&&_e.push("translateY(".concat(ae,"px)")),xt(y)&&y!==0&&_e.push("rotate(".concat(y,"deg)")),xt(T)&&T!==1&&_e.push("scaleX(".concat(T,")")),xt(R)&&R!==1&&_e.push("scaleY(".concat(R,")"));var Oe=_e.length?_e.join(" "):"none";return{WebkitTransform:Oe,msTransform:Oe,transform:Oe}}function zr(ke){var y=o({},ke),T=0;return wi(ke,function(R,re){delete y[re],wi(y,function(ae){var _e=Math.abs(R.startX-ae.startX),Oe=Math.abs(R.startY-ae.startY),Je=Math.abs(R.endX-ae.endX),tt=Math.abs(R.endY-ae.endY),Ve=Math.sqrt(_e*_e+Oe*Oe),Ke=Math.sqrt(Je*Je+tt*tt),ft=(Ke-Ve)/Ve;Math.abs(ft)>Math.abs(T)&&(T=ft)})}),T}function _n(ke,y){var T=ke.pageX,R=ke.pageY,re={endX:T,endY:R};return y?re:o({startX:T,startY:R},re)}function mo(ke){var y=0,T=0,R=0;return wi(ke,function(re){var ae=re.startX,_e=re.startY;y+=ae,T+=_e,R+=1}),y/=R,T/=R,{pageX:y,pageY:T}}function Vn(ke){var y=ke.aspectRatio,T=ke.height,R=ke.width,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",ae=Gn(R),_e=Gn(T);if(ae&&_e){var Oe=T*y;re==="contain"&&Oe>R||re==="cover"&&Oe<R?T=R/y:R=T*y}else ae?T=R/y:_e&&(R=T*y);return{width:R,height:T}}function Ui(ke){var y=ke.width,T=ke.height,R=ke.degree;if(R=Math.abs(R)%180,R===90)return{width:T,height:y};var re=R%90*Math.PI/180,ae=Math.sin(re),_e=Math.cos(re),Oe=y*_e+T*ae,Je=y*ae+T*_e;return R>90?{width:Je,height:Oe}:{width:Oe,height:Je}}function Lt(ke,y,T,R){var re=y.aspectRatio,ae=y.naturalWidth,_e=y.naturalHeight,Oe=y.rotate,Je=Oe===void 0?0:Oe,tt=y.scaleX,Ve=tt===void 0?1:tt,Ke=y.scaleY,ft=Ke===void 0?1:Ke,fi=T.aspectRatio,hi=T.naturalWidth,qi=T.naturalHeight,Ci=R.fillColor,Pi=Ci===void 0?"transparent":Ci,hn=R.imageSmoothingEnabled,Ft=hn===void 0?!0:hn,on=R.imageSmoothingQuality,ri=on===void 0?"low":on,gt=R.maxWidth,xi=gt===void 0?1/0:gt,an=R.maxHeight,lr=an===void 0?1/0:an,Ln=R.minWidth,Gr=Ln===void 0?0:Ln,Br=R.minHeight,Zt=Br===void 0?0:Br,oi=document.createElement("canvas"),wn=oi.getContext("2d"),Hr=Vn({aspectRatio:fi,width:xi,height:lr}),Ko=Vn({aspectRatio:fi,width:Gr,height:Zt},"cover"),ka=Math.min(Hr.width,Math.max(Ko.width,hi)),Qo=Math.min(Hr.height,Math.max(Ko.height,qi)),Ea=Vn({aspectRatio:re,width:xi,height:lr}),ja=Vn({aspectRatio:re,width:Gr,height:Zt},"cover"),gi=Math.min(Ea.width,Math.max(ja.width,ae)),Ni=Math.min(Ea.height,Math.max(ja.height,_e)),_r=[-gi/2,-Ni/2,gi,Ni];return oi.width=Bi(ka),oi.height=Bi(Qo),wn.fillStyle=Pi,wn.fillRect(0,0,ka,Qo),wn.save(),wn.translate(ka/2,Qo/2),wn.rotate(Je*Math.PI/180),wn.scale(Ve,ft),wn.imageSmoothingEnabled=Ft,wn.imageSmoothingQuality=ri,wn.drawImage.apply(wn,[ke].concat(k(_r.map(function(Wr){return Math.floor(Bi(Wr))})))),wn.restore(),oi}var Kn=String.fromCharCode;function ur(ke,y,T){var R="";T+=y;for(var re=y;re<T;re+=1)R+=Kn(ke.getUint8(re));return R}var Bn=/^data:.*,/;function ee(ke){var y=ke.replace(Bn,""),T=atob(y),R=new ArrayBuffer(T.length),re=new Uint8Array(R);return wi(re,function(ae,_e){re[_e]=T.charCodeAt(_e)}),R}function xe(ke,y){for(var T=[],R=8192,re=new Uint8Array(ke);re.length>0;)T.push(Kn.apply(null,pi(re.subarray(0,R)))),re=re.subarray(R);return"data:".concat(y,";base64,").concat(btoa(T.join("")))}function We(ke){var y=new DataView(ke),T;try{var R,re,ae;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var _e=y.byteLength,Oe=2;Oe+1<_e;){if(y.getUint8(Oe)===255&&y.getUint8(Oe+1)===225){re=Oe;break}Oe+=1}if(re){var Je=re+4,tt=re+10;if(ur(y,Je,4)==="Exif"){var Ve=y.getUint16(tt);if(R=Ve===18761,(R||Ve===19789)&&y.getUint16(tt+2,R)===42){var Ke=y.getUint32(tt+4,R);Ke>=8&&(ae=tt+Ke)}}}if(ae){var ft=y.getUint16(ae,R),fi,hi;for(hi=0;hi<ft;hi+=1)if(fi=ae+hi*12+2,y.getUint16(fi,R)===274){fi+=8,T=y.getUint16(fi,R),y.setUint16(fi,1,R);break}}}catch{T=1}return T}function nt(ke){var y=0,T=1,R=1;switch(ke){case 2:T=-1;break;case 3:y=-180;break;case 4:R=-1;break;case 5:y=90,R=-1;break;case 6:y=90;break;case 7:y=90,T=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:T,scaleY:R}}var Ue={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,T=this.options,R=this.container,re=this.cropper,ae=Number(T.minContainerWidth),_e=Number(T.minContainerHeight);Wi(re,ze),Qi(y,ze);var Oe={width:Math.max(R.offsetWidth,ae>=0?ae:ct),height:Math.max(R.offsetHeight,_e>=0?_e:Wt)};this.containerData=Oe,Hi(re,{width:Oe.width,height:Oe.height}),Wi(y,ze),Qi(re,ze)},initCanvas:function(){var y=this.containerData,T=this.imageData,R=this.options.viewMode,re=Math.abs(T.rotate)%180===90,ae=re?T.naturalHeight:T.naturalWidth,_e=re?T.naturalWidth:T.naturalHeight,Oe=ae/_e,Je=y.width,tt=y.height;y.height*Oe>y.width?R===3?Je=y.height*Oe:tt=y.width/Oe:R===3?tt=y.width/Oe:Je=y.height*Oe;var Ve={aspectRatio:Oe,naturalWidth:ae,naturalHeight:_e,width:Je,height:tt};this.canvasData=Ve,this.limited=R===1||R===2,this.limitCanvas(!0,!0),Ve.width=Math.min(Math.max(Ve.width,Ve.minWidth),Ve.maxWidth),Ve.height=Math.min(Math.max(Ve.height,Ve.minHeight),Ve.maxHeight),Ve.left=(y.width-Ve.width)/2,Ve.top=(y.height-Ve.height)/2,Ve.oldLeft=Ve.left,Ve.oldTop=Ve.top,this.initialCanvasData=ui({},Ve)},limitCanvas:function(y,T){var R=this.options,re=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=R.viewMode,Je=ae.aspectRatio,tt=this.cropped&&_e;if(y){var Ve=Number(R.minCanvasWidth)||0,Ke=Number(R.minCanvasHeight)||0;Oe>1?(Ve=Math.max(Ve,re.width),Ke=Math.max(Ke,re.height),Oe===3&&(Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je)):Oe>0&&(Ve?Ve=Math.max(Ve,tt?_e.width:0):Ke?Ke=Math.max(Ke,tt?_e.height:0):tt&&(Ve=_e.width,Ke=_e.height,Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je));var ft=Vn({aspectRatio:Je,width:Ve,height:Ke});Ve=ft.width,Ke=ft.height,ae.minWidth=Ve,ae.minHeight=Ke,ae.maxWidth=1/0,ae.maxHeight=1/0}if(T)if(Oe>(tt?0:1)){var fi=re.width-ae.width,hi=re.height-ae.height;ae.minLeft=Math.min(0,fi),ae.minTop=Math.min(0,hi),ae.maxLeft=Math.max(0,fi),ae.maxTop=Math.max(0,hi),tt&&this.limited&&(ae.minLeft=Math.min(_e.left,_e.left+(_e.width-ae.width)),ae.minTop=Math.min(_e.top,_e.top+(_e.height-ae.height)),ae.maxLeft=_e.left,ae.maxTop=_e.top,Oe===2&&(ae.width>=re.width&&(ae.minLeft=Math.min(0,fi),ae.maxLeft=Math.max(0,fi)),ae.height>=re.height&&(ae.minTop=Math.min(0,hi),ae.maxTop=Math.max(0,hi))))}else ae.minLeft=-ae.width,ae.minTop=-ae.height,ae.maxLeft=re.width,ae.maxTop=re.height},renderCanvas:function(y,T){var R=this.canvasData,re=this.imageData;if(T){var ae=Ui({width:re.naturalWidth*Math.abs(re.scaleX||1),height:re.naturalHeight*Math.abs(re.scaleY||1),degree:re.rotate||0}),_e=ae.width,Oe=ae.height,Je=R.width*(_e/R.naturalWidth),tt=R.height*(Oe/R.naturalHeight);R.left-=(Je-R.width)/2,R.top-=(tt-R.height)/2,R.width=Je,R.height=tt,R.aspectRatio=_e/Oe,R.naturalWidth=_e,R.naturalHeight=Oe,this.limitCanvas(!0,!1)}(R.width>R.maxWidth||R.width<R.minWidth)&&(R.left=R.oldLeft),(R.height>R.maxHeight||R.height<R.minHeight)&&(R.top=R.oldTop),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),this.limitCanvas(!1,!0),R.left=Math.min(Math.max(R.left,R.minLeft),R.maxLeft),R.top=Math.min(Math.max(R.top,R.minTop),R.maxTop),R.oldLeft=R.left,R.oldTop=R.top,Hi(this.canvas,ui({width:R.width,height:R.height},Dn({translateX:R.left,translateY:R.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var T=this.canvasData,R=this.imageData,re=R.naturalWidth*(T.width/T.naturalWidth),ae=R.naturalHeight*(T.height/T.naturalHeight);ui(R,{width:re,height:ae,left:(T.width-re)/2,top:(T.height-ae)/2}),Hi(this.image,ui({width:R.width,height:R.height},Dn(ui({translateX:R.left,translateY:R.top},R)))),y&&this.output()},initCropBox:function(){var y=this.options,T=this.canvasData,R=y.aspectRatio||y.initialAspectRatio,re=Number(y.autoCropArea)||.8,ae={width:T.width,height:T.height};R&&(T.height*R>T.width?ae.height=ae.width/R:ae.width=ae.height*R),this.cropBoxData=ae,this.limitCropBox(!0,!0),ae.width=Math.min(Math.max(ae.width,ae.minWidth),ae.maxWidth),ae.height=Math.min(Math.max(ae.height,ae.minHeight),ae.maxHeight),ae.width=Math.max(ae.minWidth,ae.width*re),ae.height=Math.max(ae.minHeight,ae.height*re),ae.left=T.left+(T.width-ae.width)/2,ae.top=T.top+(T.height-ae.height)/2,ae.oldLeft=ae.left,ae.oldTop=ae.top,this.initialCropBoxData=ui({},ae)},limitCropBox:function(y,T){var R=this.options,re=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=this.limited,Je=R.aspectRatio;if(y){var tt=Number(R.minCropBoxWidth)||0,Ve=Number(R.minCropBoxHeight)||0,Ke=Oe?Math.min(re.width,ae.width,ae.width+ae.left,re.width-ae.left):re.width,ft=Oe?Math.min(re.height,ae.height,ae.height+ae.top,re.height-ae.top):re.height;tt=Math.min(tt,re.width),Ve=Math.min(Ve,re.height),Je&&(tt&&Ve?Ve*Je>tt?Ve=tt/Je:tt=Ve*Je:tt?Ve=tt/Je:Ve&&(tt=Ve*Je),ft*Je>Ke?ft=Ke/Je:Ke=ft*Je),_e.minWidth=Math.min(tt,Ke),_e.minHeight=Math.min(Ve,ft),_e.maxWidth=Ke,_e.maxHeight=ft}T&&(Oe?(_e.minLeft=Math.max(0,ae.left),_e.minTop=Math.max(0,ae.top),_e.maxLeft=Math.min(re.width,ae.left+ae.width)-_e.width,_e.maxTop=Math.min(re.height,ae.top+ae.height)-_e.height):(_e.minLeft=0,_e.minTop=0,_e.maxLeft=re.width-_e.width,_e.maxTop=re.height-_e.height))},renderCropBox:function(){var y=this.options,T=this.containerData,R=this.cropBoxData;(R.width>R.maxWidth||R.width<R.minWidth)&&(R.left=R.oldLeft),(R.height>R.maxHeight||R.height<R.minHeight)&&(R.top=R.oldTop),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),this.limitCropBox(!1,!0),R.left=Math.min(Math.max(R.left,R.minLeft),R.maxLeft),R.top=Math.min(Math.max(R.top,R.minTop),R.maxTop),R.oldLeft=R.left,R.oldTop=R.top,y.movable&&y.cropBoxMovable&&Zn(this.face,Re,R.width>=T.width&&R.height>=T.height?ue:G),Hi(this.cropBox,ui({width:R.width,height:R.height},Dn({translateX:R.left,translateY:R.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ar(this.element,Ze,this.getData())}},pt={initPreview:function(){var y=this.element,T=this.crossOrigin,R=this.options.preview,re=T?this.crossOriginUrl:this.url,ae=y.alt||"The image to preview",_e=document.createElement("img");if(T&&(_e.crossOrigin=T),_e.src=re,_e.alt=ae,this.viewBox.appendChild(_e),this.viewBoxImage=_e,!!R){var Oe=R;typeof R=="string"?Oe=y.ownerDocument.querySelectorAll(R):R.querySelector&&(Oe=[R]),this.previews=Oe,wi(Oe,function(Je){var tt=document.createElement("img");Zn(Je,V,{width:Je.offsetWidth,height:Je.offsetHeight,html:Je.innerHTML}),T&&(tt.crossOrigin=T),tt.src=re,tt.alt=ae,tt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Je.innerHTML="",Je.appendChild(tt)})}},resetPreview:function(){wi(this.previews,function(y){var T=yr(y,V);Hi(y,{width:T.width,height:T.height}),y.innerHTML=T.html,Xn(y,V)})},preview:function(){var y=this.imageData,T=this.canvasData,R=this.cropBoxData,re=R.width,ae=R.height,_e=y.width,Oe=y.height,Je=R.left-T.left-y.left,tt=R.top-T.top-y.top;!this.cropped||this.disabled||(Hi(this.viewBoxImage,ui({width:_e,height:Oe},Dn(ui({translateX:-Je,translateY:-tt},y)))),wi(this.previews,function(Ve){var Ke=yr(Ve,V),ft=Ke.width,fi=Ke.height,hi=ft,qi=fi,Ci=1;re&&(Ci=ft/re,qi=ae*Ci),ae&&qi>fi&&(Ci=fi/ae,hi=re*Ci,qi=fi),Hi(Ve,{width:hi,height:qi}),Hi(Ve.getElementsByTagName("img")[0],ui({width:_e*Ci,height:Oe*Ci},Dn(ui({translateX:-Je*Ci,translateY:-tt*Ci},y))))}))}},ni={bind:function(){var y=this.element,T=this.options,R=this.cropper;_i(T.cropstart)&&Ji(y,Ct,T.cropstart),_i(T.cropmove)&&Ji(y,ut,T.cropmove),_i(T.cropend)&&Ji(y,Xe,T.cropend),_i(T.crop)&&Ji(y,Ze,T.crop),_i(T.zoom)&&Ji(y,pe,T.zoom),Ji(R,Ut,this.onCropStart=this.cropStart.bind(this)),T.zoomable&&T.zoomOnWheel&&Ji(R,he,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Ji(R,wt,this.onDblclick=this.dblclick.bind(this)),Ji(y.ownerDocument,Kt,this.onCropMove=this.cropMove.bind(this)),Ji(y.ownerDocument,X,this.onCropEnd=this.cropEnd.bind(this)),T.responsive&&Ji(window,Q,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,T=this.options,R=this.cropper;_i(T.cropstart)&&Zi(y,Ct,T.cropstart),_i(T.cropmove)&&Zi(y,ut,T.cropmove),_i(T.cropend)&&Zi(y,Xe,T.cropend),_i(T.crop)&&Zi(y,Ze,T.crop),_i(T.zoom)&&Zi(y,pe,T.zoom),Zi(R,Ut,this.onCropStart),T.zoomable&&T.zoomOnWheel&&Zi(R,he,this.onWheel,{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Zi(R,wt,this.onDblclick),Zi(y.ownerDocument,Kt,this.onCropMove),Zi(y.ownerDocument,X,this.onCropEnd),T.responsive&&Zi(window,Q,this.onResize)}},Yi={resize:function(){if(!this.disabled){var y=this.options,T=this.container,R=this.containerData,re=T.offsetWidth/R.width,ae=T.offsetHeight/R.height,_e=Math.abs(re-1)>Math.abs(ae-1)?re:ae;if(_e!==1){var Oe,Je;y.restore&&(Oe=this.getCanvasData(),Je=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(wi(Oe,function(tt,Ve){Oe[Ve]=tt*_e})),this.setCropBoxData(wi(Je,function(tt,Ve){Je[Ve]=tt*_e})))}}},dblclick:function(){this.disabled||this.options.dragMode===je||this.setDragMode(Ir(this.dragBox,Ce)?Ae:we)},wheel:function(y){var T=this,R=Number(this.options.wheelZoomRatio)||.1,re=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){T.wheeling=!1},50),y.deltaY?re=y.deltaY>0?1:-1:y.wheelDelta?re=-y.wheelDelta/120:y.detail&&(re=y.detail>0?1:-1),this.zoom(-re*R,y)))},cropStart:function(y){var T=y.buttons,R=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(xt(T)&&T!==1||xt(R)&&R!==0||y.ctrlKey))){var re=this.options,ae=this.pointers,_e;y.changedTouches?wi(y.changedTouches,function(Oe){ae[Oe.identifier]=_n(Oe)}):ae[y.pointerId||0]=_n(y),Object.keys(ae).length>1&&re.zoomable&&re.zoomOnTouch?_e=de:_e=yr(y.target,Re),ot.test(_e)&&ar(this.element,Ct,{originalEvent:y,action:_e})!==!1&&(y.preventDefault(),this.action=_e,this.cropping=!1,_e===J&&(this.cropping=!0,Wi(this.dragBox,Y)))}},cropMove:function(y){var T=this.action;if(!(this.disabled||!T)){var R=this.pointers;y.preventDefault(),ar(this.element,ut,{originalEvent:y,action:T})!==!1&&(y.changedTouches?wi(y.changedTouches,function(re){ui(R[re.identifier]||{},_n(re,!0))}):ui(R[y.pointerId||0]||{},_n(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var T=this.action,R=this.pointers;y.changedTouches?wi(y.changedTouches,function(re){delete R[re.identifier]}):delete R[y.pointerId||0],T&&(y.preventDefault(),Object.keys(R).length||(this.action=""),this.cropping&&(this.cropping=!1,br(this.dragBox,Y,this.cropped&&this.options.modal)),ar(this.element,Xe,{originalEvent:y,action:T}))}}},Nt={change:function(y){var T=this.options,R=this.canvasData,re=this.containerData,ae=this.cropBoxData,_e=this.pointers,Oe=this.action,Je=T.aspectRatio,tt=ae.left,Ve=ae.top,Ke=ae.width,ft=ae.height,fi=tt+Ke,hi=Ve+ft,qi=0,Ci=0,Pi=re.width,hn=re.height,Ft=!0,on;!Je&&y.shiftKey&&(Je=Ke&&ft?Ke/ft:1),this.limited&&(qi=ae.minLeft,Ci=ae.minTop,Pi=qi+Math.min(re.width,R.width,R.left+R.width),hn=Ci+Math.min(re.height,R.height,R.top+R.height));var ri=_e[Object.keys(_e)[0]],gt={x:ri.endX-ri.startX,y:ri.endY-ri.startY},xi=function(lr){switch(lr){case ge:fi+gt.x>Pi&&(gt.x=Pi-fi);break;case ce:tt+gt.x<qi&&(gt.x=qi-tt);break;case ve:Ve+gt.y<Ci&&(gt.y=Ci-Ve);break;case Te:hi+gt.y>hn&&(gt.y=hn-hi);break}};switch(Oe){case G:tt+=gt.x,Ve+=gt.y;break;case ge:if(gt.x>=0&&(fi>=Pi||Je&&(Ve<=Ci||hi>=hn))){Ft=!1;break}xi(ge),Ke+=gt.x,Ke<0&&(Oe=ce,Ke=-Ke,tt-=Ke),Je&&(ft=Ke/Je,Ve+=(ae.height-ft)/2);break;case ve:if(gt.y<=0&&(Ve<=Ci||Je&&(tt<=qi||fi>=Pi))){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,ft<0&&(Oe=Te,ft=-ft,Ve-=ft),Je&&(Ke=ft*Je,tt+=(ae.width-Ke)/2);break;case ce:if(gt.x<=0&&(tt<=qi||Je&&(Ve<=Ci||hi>=hn))){Ft=!1;break}xi(ce),Ke-=gt.x,tt+=gt.x,Ke<0&&(Oe=ge,Ke=-Ke,tt-=Ke),Je&&(ft=Ke/Je,Ve+=(ae.height-ft)/2);break;case Te:if(gt.y>=0&&(hi>=hn||Je&&(tt<=qi||fi>=Pi))){Ft=!1;break}xi(Te),ft+=gt.y,ft<0&&(Oe=ve,ft=-ft,Ve-=ft),Je&&(Ke=ft*Je,tt+=(ae.width-Ke)/2);break;case ne:if(Je){if(gt.y<=0&&(Ve<=Ci||fi>=Pi)){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,Ke=ft*Je}else xi(ve),xi(ge),gt.x>=0?fi<Pi?Ke+=gt.x:gt.y<=0&&Ve<=Ci&&(Ft=!1):Ke+=gt.x,gt.y<=0?Ve>Ci&&(ft-=gt.y,Ve+=gt.y):(ft-=gt.y,Ve+=gt.y);Ke<0&&ft<0?(Oe=ye,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=D,Ke=-Ke,tt-=Ke):ft<0&&(Oe=se,ft=-ft,Ve-=ft);break;case D:if(Je){if(gt.y<=0&&(Ve<=Ci||tt<=qi)){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,Ke=ft*Je,tt+=ae.width-Ke}else xi(ve),xi(ce),gt.x<=0?tt>qi?(Ke-=gt.x,tt+=gt.x):gt.y<=0&&Ve<=Ci&&(Ft=!1):(Ke-=gt.x,tt+=gt.x),gt.y<=0?Ve>Ci&&(ft-=gt.y,Ve+=gt.y):(ft-=gt.y,Ve+=gt.y);Ke<0&&ft<0?(Oe=se,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=ne,Ke=-Ke,tt-=Ke):ft<0&&(Oe=ye,ft=-ft,Ve-=ft);break;case ye:if(Je){if(gt.x<=0&&(tt<=qi||hi>=hn)){Ft=!1;break}xi(ce),Ke-=gt.x,tt+=gt.x,ft=Ke/Je}else xi(Te),xi(ce),gt.x<=0?tt>qi?(Ke-=gt.x,tt+=gt.x):gt.y>=0&&hi>=hn&&(Ft=!1):(Ke-=gt.x,tt+=gt.x),gt.y>=0?hi<hn&&(ft+=gt.y):ft+=gt.y;Ke<0&&ft<0?(Oe=ne,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=se,Ke=-Ke,tt-=Ke):ft<0&&(Oe=D,ft=-ft,Ve-=ft);break;case se:if(Je){if(gt.x>=0&&(fi>=Pi||hi>=hn)){Ft=!1;break}xi(ge),Ke+=gt.x,ft=Ke/Je}else xi(Te),xi(ge),gt.x>=0?fi<Pi?Ke+=gt.x:gt.y>=0&&hi>=hn&&(Ft=!1):Ke+=gt.x,gt.y>=0?hi<hn&&(ft+=gt.y):ft+=gt.y;Ke<0&&ft<0?(Oe=D,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=ye,Ke=-Ke,tt-=Ke):ft<0&&(Oe=ne,ft=-ft,Ve-=ft);break;case ue:this.move(gt.x,gt.y),Ft=!1;break;case de:this.zoom(zr(_e),y),Ft=!1;break;case J:if(!gt.x||!gt.y){Ft=!1;break}on=sr(this.cropper),tt=ri.startX-on.left,Ve=ri.startY-on.top,Ke=ae.minWidth,ft=ae.minHeight,gt.x>0?Oe=gt.y>0?se:ne:gt.x<0&&(tt-=Ke,Oe=gt.y>0?ye:D),gt.y<0&&(Ve-=ft),this.cropped||(Qi(this.cropBox,ze),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ft&&(ae.width=Ke,ae.height=ft,ae.left=tt,ae.top=Ve,this.action=Oe,this.renderCropBox()),wi(_e,function(an){an.startX=an.endX,an.startY=an.endY})}},li={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Wi(this.dragBox,Y),Qi(this.cropBox,ze),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ui({},this.initialImageData),this.canvasData=ui({},this.initialCanvasData),this.cropBoxData=ui({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ui(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Qi(this.dragBox,Y),Wi(this.cropBox,ze)),this},replace:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),T?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,wi(this.previews,function(R){R.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Qi(this.cropper,et)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Wi(this.cropper,et)),this},destroy:function(){var y=this.element;return y[z]?(y[z]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=this.canvasData,re=R.left,ae=R.top;return this.moveTo(Yt(y)?y:re+Number(y),Yt(T)?T:ae+Number(T))},moveTo:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=this.canvasData,re=!1;return y=Number(y),T=Number(T),this.ready&&!this.disabled&&this.options.movable&&(xt(y)&&(R.left=y,re=!0),xt(T)&&(R.top=T,re=!0),re&&this.renderCanvas(!0)),this},zoom:function(y,T){var R=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(R.width*y/R.naturalWidth,null,T)},zoomTo:function(y,T,R){var re=this.options,ae=this.canvasData,_e=ae.width,Oe=ae.height,Je=ae.naturalWidth,tt=ae.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&re.zoomable){var Ve=Je*y,Ke=tt*y;if(ar(this.element,pe,{ratio:y,oldRatio:_e/Je,originalEvent:R})===!1)return this;if(R){var ft=this.pointers,fi=sr(this.cropper),hi=ft&&Object.keys(ft).length?mo(ft):{pageX:R.pageX,pageY:R.pageY};ae.left-=(Ve-_e)*((hi.pageX-fi.left-ae.left)/_e),ae.top-=(Ke-Oe)*((hi.pageY-fi.top-ae.top)/Oe)}else un(T)&&xt(T.x)&&xt(T.y)?(ae.left-=(Ve-_e)*((T.x-ae.left)/_e),ae.top-=(Ke-Oe)*((T.y-ae.top)/Oe)):(ae.left-=(Ve-_e)/2,ae.top-=(Ke-Oe)/2);ae.width=Ve,ae.height=Ke,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),xt(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var T=this.imageData.scaleY;return this.scale(y,xt(T)?T:1)},scaleY:function(y){var T=this.imageData.scaleX;return this.scale(xt(T)?T:1,y)},scale:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=this.imageData,re=!1;return y=Number(y),T=Number(T),this.ready&&!this.disabled&&this.options.scalable&&(xt(y)&&(R.scaleX=y,re=!0),xt(T)&&(R.scaleY=T,re=!0),re&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.options,R=this.imageData,re=this.canvasData,ae=this.cropBoxData,_e;if(this.ready&&this.cropped){_e={x:ae.left-re.left,y:ae.top-re.top,width:ae.width,height:ae.height};var Oe=R.width/R.naturalWidth;if(wi(_e,function(Ve,Ke){_e[Ke]=Ve/Oe}),y){var Je=Math.round(_e.y+_e.height),tt=Math.round(_e.x+_e.width);_e.x=Math.round(_e.x),_e.y=Math.round(_e.y),_e.width=tt-_e.x,_e.height=Je-_e.y}}else _e={x:0,y:0,width:0,height:0};return T.rotatable&&(_e.rotate=R.rotate||0),T.scalable&&(_e.scaleX=R.scaleX||1,_e.scaleY=R.scaleY||1),_e},setData:function(y){var T=this.options,R=this.imageData,re=this.canvasData,ae={};if(this.ready&&!this.disabled&&un(y)){var _e=!1;T.rotatable&&xt(y.rotate)&&y.rotate!==R.rotate&&(R.rotate=y.rotate,_e=!0),T.scalable&&(xt(y.scaleX)&&y.scaleX!==R.scaleX&&(R.scaleX=y.scaleX,_e=!0),xt(y.scaleY)&&y.scaleY!==R.scaleY&&(R.scaleY=y.scaleY,_e=!0)),_e&&this.renderCanvas(!0,!0);var Oe=R.width/R.naturalWidth;xt(y.x)&&(ae.left=y.x*Oe+re.left),xt(y.y)&&(ae.top=y.y*Oe+re.top),xt(y.width)&&(ae.width=y.width*Oe),xt(y.height)&&(ae.height=y.height*Oe),this.setCropBoxData(ae)}return this},getContainerData:function(){return this.ready?ui({},this.containerData):{}},getImageData:function(){return this.sized?ui({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,T={};return this.ready&&wi(["left","top","width","height","naturalWidth","naturalHeight"],function(R){T[R]=y[R]}),T},setCanvasData:function(y){var T=this.canvasData,R=T.aspectRatio;return this.ready&&!this.disabled&&un(y)&&(xt(y.left)&&(T.left=y.left),xt(y.top)&&(T.top=y.top),xt(y.width)?(T.width=y.width,T.height=y.width/R):xt(y.height)&&(T.height=y.height,T.width=y.height*R),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,T;return this.ready&&this.cropped&&(T={left:y.left,top:y.top,width:y.width,height:y.height}),T||{}},setCropBoxData:function(y){var T=this.cropBoxData,R=this.options.aspectRatio,re,ae;return this.ready&&this.cropped&&!this.disabled&&un(y)&&(xt(y.left)&&(T.left=y.left),xt(y.top)&&(T.top=y.top),xt(y.width)&&y.width!==T.width&&(re=!0,T.width=y.width),xt(y.height)&&y.height!==T.height&&(ae=!0,T.height=y.height),R&&(re?T.height=T.width/R:ae&&(T.width=T.height*R)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var T=this.canvasData,R=Lt(this.image,this.imageData,T,y);if(!this.cropped)return R;var re=this.getData(y.rounded),ae=re.x,_e=re.y,Oe=re.width,Je=re.height,tt=R.width/Math.floor(T.naturalWidth);tt!==1&&(ae*=tt,_e*=tt,Oe*=tt,Je*=tt);var Ve=Oe/Je,Ke=Vn({aspectRatio:Ve,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),ft=Vn({aspectRatio:Ve,width:y.minWidth||0,height:y.minHeight||0},"cover"),fi=Vn({aspectRatio:Ve,width:y.width||(tt!==1?R.width:Oe),height:y.height||(tt!==1?R.height:Je)}),hi=fi.width,qi=fi.height;hi=Math.min(Ke.width,Math.max(ft.width,hi)),qi=Math.min(Ke.height,Math.max(ft.height,qi));var Ci=document.createElement("canvas"),Pi=Ci.getContext("2d");Ci.width=Bi(hi),Ci.height=Bi(qi),Pi.fillStyle=y.fillColor||"transparent",Pi.fillRect(0,0,hi,qi);var hn=y.imageSmoothingEnabled,Ft=hn===void 0?!0:hn,on=y.imageSmoothingQuality;Pi.imageSmoothingEnabled=Ft,on&&(Pi.imageSmoothingQuality=on);var ri=R.width,gt=R.height,xi=ae,an=_e,lr,Ln,Gr,Br,Zt,oi;xi<=-Oe||xi>ri?(xi=0,lr=0,Gr=0,Zt=0):xi<=0?(Gr=-xi,xi=0,lr=Math.min(ri,Oe+xi),Zt=lr):xi<=ri&&(Gr=0,lr=Math.min(Oe,ri-xi),Zt=lr),lr<=0||an<=-Je||an>gt?(an=0,Ln=0,Br=0,oi=0):an<=0?(Br=-an,an=0,Ln=Math.min(gt,Je+an),oi=Ln):an<=gt&&(Br=0,Ln=Math.min(Je,gt-an),oi=Ln);var wn=[xi,an,lr,Ln];if(Zt>0&&oi>0){var Hr=hi/Oe;wn.push(Gr*Hr,Br*Hr,Zt*Hr,oi*Hr)}return Pi.drawImage.apply(Pi,[R].concat(k(wn.map(function(Ko){return Math.floor(Bi(Ko))})))),Ci},setAspectRatio:function(y){var T=this.options;return!this.disabled&&!Yt(y)&&(T.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var T=this.options,R=this.dragBox,re=this.face;if(this.ready&&!this.disabled){var ae=y===we,_e=T.movable&&y===Ae;y=ae||_e?y:je,T.dragMode=y,Zn(R,Re,y),br(R,Ce,ae),br(R,Le,_e),T.cropBoxMovable||(Zn(re,Re,y),br(re,Ce,ae),br(re,Le,_e))}return this}},go=S.Cropper,qt=function(){function ke(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(h(this,ke),!y||!Pt.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=ui({},$t,un(T)&&T),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return x(ke,[{key:"init",value:function(){var T=this.element,R=T.tagName.toLowerCase(),re;if(!T[z]){if(T[z]=this,R==="img"){if(this.isImg=!0,re=T.getAttribute("src")||"",this.originalUrl=re,!re)return;re=T.src}else R==="canvas"&&window.HTMLCanvasElement&&(re=T.toDataURL());this.load(re)}}},{key:"load",value:function(T){var R=this;if(T){this.url=T,this.imageData={};var re=this.element,ae=this.options;if(!ae.rotatable&&!ae.scalable&&(ae.checkOrientation=!1),!ae.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Qe.test(T)){mt.test(T)?this.read(ee(T)):this.clone();return}var _e=new XMLHttpRequest,Oe=this.clone.bind(this);this.reloading=!0,this.xhr=_e,_e.onabort=Oe,_e.onerror=Oe,_e.ontimeout=Oe,_e.onprogress=function(){_e.getResponseHeader("content-type")!==Be&&_e.abort()},_e.onload=function(){R.read(_e.response)},_e.onloadend=function(){R.reloading=!1,R.xhr=null},ae.checkCrossOrigin&&ro(T)&&re.crossOrigin&&(T=Er(T)),_e.open("GET",T,!0),_e.responseType="arraybuffer",_e.withCredentials=re.crossOrigin==="use-credentials",_e.send()}}},{key:"read",value:function(T){var R=this.options,re=this.imageData,ae=We(T),_e=0,Oe=1,Je=1;if(ae>1){this.url=xe(T,Be);var tt=nt(ae);_e=tt.rotate,Oe=tt.scaleX,Je=tt.scaleY}R.rotatable&&(re.rotate=_e),R.scalable&&(re.scaleX=Oe,re.scaleY=Je),this.clone()}},{key:"clone",value:function(){var T=this.element,R=this.url,re=T.crossOrigin,ae=R;this.options.checkCrossOrigin&&ro(R)&&(re||(re="anonymous"),ae=Er(R)),this.crossOrigin=re,this.crossOriginUrl=ae;var _e=document.createElement("img");re&&(_e.crossOrigin=re),_e.src=ae||R,_e.alt=T.alt||"The image to crop",this.image=_e,_e.onload=this.start.bind(this),_e.onerror=this.stop.bind(this),Wi(_e,Me),T.parentNode.insertBefore(_e,T.nextSibling)}},{key:"start",value:function(){var T=this,R=this.image;R.onload=null,R.onerror=null,this.sizing=!0;var re=S.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(S.navigator.userAgent),ae=function(tt,Ve){ui(T.imageData,{naturalWidth:tt,naturalHeight:Ve,aspectRatio:tt/Ve}),T.initialImageData=ui({},T.imageData),T.sizing=!1,T.sized=!0,T.build()};if(R.naturalWidth&&!re){ae(R.naturalWidth,R.naturalHeight);return}var _e=document.createElement("img"),Oe=document.body||document.documentElement;this.sizingImage=_e,_e.onload=function(){ae(_e.width,_e.height),re||Oe.removeChild(_e)},_e.src=R.src,re||(_e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Oe.appendChild(_e))}},{key:"stop",value:function(){var T=this.image;T.onload=null,T.onerror=null,T.parentNode.removeChild(T),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var T=this.element,R=this.options,re=this.image,ae=T.parentNode,_e=document.createElement("div");_e.innerHTML=Qt;var Oe=_e.querySelector(".".concat(z,"-container")),Je=Oe.querySelector(".".concat(z,"-canvas")),tt=Oe.querySelector(".".concat(z,"-drag-box")),Ve=Oe.querySelector(".".concat(z,"-crop-box")),Ke=Ve.querySelector(".".concat(z,"-face"));this.container=ae,this.cropper=Oe,this.canvas=Je,this.dragBox=tt,this.cropBox=Ve,this.viewBox=Oe.querySelector(".".concat(z,"-view-box")),this.face=Ke,Je.appendChild(re),Wi(T,ze),ae.insertBefore(Oe,T.nextSibling),Qi(re,Me),this.initPreview(),this.bind(),R.initialAspectRatio=Math.max(0,R.initialAspectRatio)||NaN,R.aspectRatio=Math.max(0,R.aspectRatio)||NaN,R.viewMode=Math.max(0,Math.min(3,Math.round(R.viewMode)))||0,Wi(Ve,ze),R.guides||Wi(Ve.getElementsByClassName("".concat(z,"-dashed")),ze),R.center||Wi(Ve.getElementsByClassName("".concat(z,"-center")),ze),R.background&&Wi(Oe,"".concat(z,"-bg")),R.highlight||Wi(Ke,ie),R.cropBoxMovable&&(Wi(Ke,Le),Zn(Ke,Re,G)),R.cropBoxResizable||(Wi(Ve.getElementsByClassName("".concat(z,"-line")),ze),Wi(Ve.getElementsByClassName("".concat(z,"-point")),ze)),this.render(),this.ready=!0,this.setDragMode(R.dragMode),R.autoCrop&&this.crop(),this.setData(R.data),_i(R.ready)&&Ji(T,le,R.ready,{once:!0}),ar(T,le)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var T=this.cropper.parentNode;T&&T.removeChild(this.cropper),Qi(this.element,ze)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=go,ke}},{key:"setDefaults",value:function(T){ui($t,un(T)&&T)}}])}();return ui(qt.prototype,Ue,pt,ni,Yi,Nt,li),qt})}($h)),$h.exports}var c0;function rA(){if(c0)return Mh;c0=1,Object.defineProperty(Mh,"__esModule",{value:!0});var t=tA,e=l(t),n=nA(),o=l(n);function l(v){return v&&v.__esModule?v:{default:v}}function u(v,x){var w={};for(var k in v)x.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(v,k)&&(w[k]=v[k]);return w}var c=e.default.extend({render:function(x){return x("div",{style:this.containerStyle},[x("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var x=this.$options.props;x.containerStyle,x.src,x.alt,x.imgStyle;var w=u(x,["containerStyle","src","alt","imgStyle"]),k={};for(var A in w)this[A]!==void 0&&(k[A]=this[A]);this.cropper=new o.default(this.$refs.img,k)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(x,w)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(x,w){return this.cropper.move(x,w)},moveTo:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.moveTo(x,w)},relativeZoom:function(x,w){return this.cropper.zoom(x,w)},zoomTo:function(x,w){return this.cropper.zoomTo(x,w)},rotate:function(x){return this.cropper.rotate(x)},rotateTo:function(x){return this.cropper.rotateTo(x)},scaleX:function(x){return this.cropper.scaleX(x)},scaleY:function(x){return this.cropper.scaleY(x)},scale:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.scale(x,w)},getData:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(x)},setData:function(x){return this.cropper.setData(x)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(x){return this.cropper.setCanvasData(x)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(x){return this.cropper.setCropBoxData(x)},getCroppedCanvas:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(x)},setAspectRatio:function(x){return this.cropper.setAspectRatio(x)},setDragMode:function(x){return this.cropper.setDragMode(x)}}}),h=e.default.component("vue-cropper",c);return Mh.default=h,Mh}rA();/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function f0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f0(Object(n),!0).forEach(function(o){uA(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function oA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xb(t){var e=oA(t,"string");return typeof e=="symbol"?e:e+""}function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function aA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h0(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,xb(o.key),o)}}function sA(t,e,n){return e&&h0(t.prototype,e),n&&h0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uA(t,e,n){return e=xb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kb(t){return lA(t)||cA(t)||fA(t)||hA()}function lA(t){if(Array.isArray(t))return zp(t)}function cA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fA(t,e){if(t){if(typeof t=="string")return zp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zp(t,e)}}function zp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function hA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fd=typeof window<"u"&&typeof window.document<"u",vs=fd?window:{},dm=fd&&vs.document.documentElement?"ontouchstart"in vs.document.documentElement:!1,pm=fd?"PointerEvent"in vs:!1,Cn="cropper",mm="all",Eb="crop",Cb="move",Sb="zoom",gl="e",vl="w",rc="s",Lu="n",ef="ne",tf="nw",nf="se",rf="sw",Bp="".concat(Cn,"-crop"),d0="".concat(Cn,"-disabled"),Ao="".concat(Cn,"-hidden"),p0="".concat(Cn,"-hide"),dA="".concat(Cn,"-invisible"),od="".concat(Cn,"-modal"),Hp="".concat(Cn,"-move"),wf="".concat(Cn,"Action"),Ph="".concat(Cn,"Preview"),gm="crop",Tb="move",Ab="none",Wp="crop",qp="cropend",jp="cropmove",Up="cropstart",m0="dblclick",pA=dm?"touchstart":"mousedown",mA=dm?"touchmove":"mousemove",gA=dm?"touchend touchcancel":"mouseup",g0=pm?"pointerdown":pA,v0=pm?"pointermove":mA,b0=pm?"pointerup pointercancel":gA,y0="ready",_0="resize",w0="wheel",Yp="zoom",x0="image/jpeg",vA=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,bA=/^data:/,yA=/^data:image\/jpeg;base64,/,_A=/^img|canvas$/i,Db=200,Lb=100,k0={viewMode:0,dragMode:gm,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Db,minContainerHeight:Lb,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},wA='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',xA=Number.isNaN||vs.isNaN;function Li(t){return typeof t=="number"&&!xA(t)}var E0=function(e){return e>0&&e<1/0};function vp(t){return typeof t>"u"}function xl(t){return Ip(t)==="object"&&t!==null}var kA=Object.prototype.hasOwnProperty;function sc(t){if(!xl(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&kA.call(n,"isPrototypeOf")}catch{return!1}}function To(t){return typeof t=="function"}var EA=Array.prototype.slice;function Mb(t){return Array.from?Array.from(t):EA.call(t)}function gr(t,e){return t&&To(e)&&(Array.isArray(t)||Li(t.length)?Mb(t).forEach(function(n,o){e.call(t,n,o,t)}):xl(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Sn=Object.assign||function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return xl(e)&&o.length>0&&o.forEach(function(u){xl(u)&&Object.keys(u).forEach(function(c){e[c]=u[c]})}),e},CA=/\.\d*(?:0|9){12}\d*$/;function cc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return CA.test(t)?Math.round(t*e)/e:t}var SA=/^width|height|left|top|marginLeft|marginTop$/;function Iu(t,e){var n=t.style;gr(e,function(o,l){SA.test(l)&&Li(o)&&(o="".concat(o,"px")),n[l]=o})}function TA(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Rr(t,e){if(e){if(Li(t.length)){gr(t,function(o){Rr(o,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function gs(t,e){if(e){if(Li(t.length)){gr(t,function(n){gs(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function uc(t,e,n){if(e){if(Li(t.length)){gr(t,function(o){uc(o,e,n)});return}n?Rr(t,e):gs(t,e)}}var AA=/([a-z\d])([A-Z])/g;function vm(t){return t.replace(AA,"$1-$2").toLowerCase()}function $p(t,e){return xl(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(vm(e)))}function xf(t,e,n){xl(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(vm(e)),n)}function DA(t,e){if(xl(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(vm(e)))}var Pb=/\s\s*/,Ob=function(){var t=!1;if(fd){var e=!1,n=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(u){e=u}});vs.addEventListener("test",n,o),vs.removeEventListener("test",n,o)}return t}();function Ba(t,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=n;e.trim().split(Pb).forEach(function(u){if(!Ob){var c=t.listeners;c&&c[u]&&c[u][n]&&(l=c[u][n],delete c[u][n],Object.keys(c[u]).length===0&&delete c[u],Object.keys(c).length===0&&delete t.listeners)}t.removeEventListener(u,l,o)})}function _a(t,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=n;e.trim().split(Pb).forEach(function(u){if(o.once&&!Ob){var c=t.listeners,h=c===void 0?{}:c;l=function(){delete h[u][n],t.removeEventListener(u,l,o);for(var x=arguments.length,w=new Array(x),k=0;k<x;k++)w[k]=arguments[k];n.apply(t,w)},h[u]||(h[u]={}),h[u][n]&&t.removeEventListener(u,h[u][n],o),h[u][n]=l,t.listeners=h}t.addEventListener(u,l,o)})}function fc(t,e,n){var o;return To(Event)&&To(CustomEvent)?o=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(o)}function Fb(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var bp=vs.location,LA=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function C0(t){var e=t.match(LA);return e!==null&&(e[1]!==bp.protocol||e[2]!==bp.hostname||e[3]!==bp.port)}function S0(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function gf(t){var e=t.rotate,n=t.scaleX,o=t.scaleY,l=t.translateX,u=t.translateY,c=[];Li(l)&&l!==0&&c.push("translateX(".concat(l,"px)")),Li(u)&&u!==0&&c.push("translateY(".concat(u,"px)")),Li(e)&&e!==0&&c.push("rotate(".concat(e,"deg)")),Li(n)&&n!==1&&c.push("scaleX(".concat(n,")")),Li(o)&&o!==1&&c.push("scaleY(".concat(o,")"));var h=c.length?c.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function MA(t){var e=wb({},t),n=0;return gr(t,function(o,l){delete e[l],gr(e,function(u){var c=Math.abs(o.startX-u.startX),h=Math.abs(o.startY-u.startY),v=Math.abs(o.endX-u.endX),x=Math.abs(o.endY-u.endY),w=Math.sqrt(c*c+h*h),k=Math.sqrt(v*v+x*x),A=(k-w)/w;Math.abs(A)>Math.abs(n)&&(n=A)})}),n}function Oh(t,e){var n=t.pageX,o=t.pageY,l={endX:n,endY:o};return e?l:wb({startX:n,startY:o},l)}function PA(t){var e=0,n=0,o=0;return gr(t,function(l){var u=l.startX,c=l.startY;e+=u,n+=c,o+=1}),e/=o,n/=o,{pageX:e,pageY:n}}function zu(t){var e=t.aspectRatio,n=t.height,o=t.width,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",u=E0(o),c=E0(n);if(u&&c){var h=n*e;l==="contain"&&h>o||l==="cover"&&h<o?n=o/e:o=n*e}else u?n=o/e:c&&(o=n*e);return{width:o,height:n}}function OA(t){var e=t.width,n=t.height,o=t.degree;if(o=Math.abs(o)%180,o===90)return{width:n,height:e};var l=o%90*Math.PI/180,u=Math.sin(l),c=Math.cos(l),h=e*c+n*u,v=e*u+n*c;return o>90?{width:v,height:h}:{width:h,height:v}}function FA(t,e,n,o){var l=e.aspectRatio,u=e.naturalWidth,c=e.naturalHeight,h=e.rotate,v=h===void 0?0:h,x=e.scaleX,w=x===void 0?1:x,k=e.scaleY,A=k===void 0?1:k,B=n.aspectRatio,N=n.naturalWidth,j=n.naturalHeight,q=o.fillColor,O=q===void 0?"transparent":q,S=o.imageSmoothingEnabled,P=S===void 0?!0:S,W=o.imageSmoothingQuality,z=W===void 0?"low":W,G=o.maxWidth,J=G===void 0?1/0:G,ue=o.maxHeight,de=ue===void 0?1/0:ue,ge=o.minWidth,ce=ge===void 0?0:ge,Te=o.minHeight,ve=Te===void 0?0:Te,ne=document.createElement("canvas"),D=ne.getContext("2d"),se=zu({aspectRatio:B,width:J,height:de}),ye=zu({aspectRatio:B,width:ce,height:ve},"cover"),Ce=Math.min(se.width,Math.max(ye.width,N)),et=Math.min(se.height,Math.max(ye.height,j)),ze=zu({aspectRatio:l,width:J,height:de}),Me=zu({aspectRatio:l,width:ce,height:ve},"cover"),ie=Math.min(ze.width,Math.max(Me.width,u)),Y=Math.min(ze.height,Math.max(Me.height,c)),Le=[-ie/2,-Y/2,ie,Y];return ne.width=cc(Ce),ne.height=cc(et),D.fillStyle=O,D.fillRect(0,0,Ce,et),D.save(),D.translate(Ce/2,et/2),D.rotate(v*Math.PI/180),D.scale(w,A),D.imageSmoothingEnabled=P,D.imageSmoothingQuality=z,D.drawImage.apply(D,[t].concat(kb(Le.map(function(Re){return Math.floor(cc(Re))})))),D.restore(),ne}var Rb=String.fromCharCode;function RA(t,e,n){var o="";n+=e;for(var l=e;l<n;l+=1)o+=Rb(t.getUint8(l));return o}var NA=/^data:.*,/;function IA(t){var e=t.replace(NA,""),n=atob(e),o=new ArrayBuffer(n.length),l=new Uint8Array(o);return gr(l,function(u,c){l[c]=n.charCodeAt(c)}),o}function zA(t,e){for(var n=[],o=8192,l=new Uint8Array(t);l.length>0;)n.push(Rb.apply(null,Mb(l.subarray(0,o)))),l=l.subarray(o);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function BA(t){var e=new DataView(t),n;try{var o,l,u;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var c=e.byteLength,h=2;h+1<c;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){l=h;break}h+=1}if(l){var v=l+4,x=l+10;if(RA(e,v,4)==="Exif"){var w=e.getUint16(x);if(o=w===18761,(o||w===19789)&&e.getUint16(x+2,o)===42){var k=e.getUint32(x+4,o);k>=8&&(u=x+k)}}}if(u){var A=e.getUint16(u,o),B,N;for(N=0;N<A;N+=1)if(B=u+N*12+2,e.getUint16(B,o)===274){B+=8,n=e.getUint16(B,o),e.setUint16(B,1,o);break}}}catch{n=1}return n}function HA(t){var e=0,n=1,o=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:o=-1;break;case 5:e=90,o=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:o}}var WA={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,o=this.container,l=this.cropper,u=Number(n.minContainerWidth),c=Number(n.minContainerHeight);Rr(l,Ao),gs(e,Ao);var h={width:Math.max(o.offsetWidth,u>=0?u:Db),height:Math.max(o.offsetHeight,c>=0?c:Lb)};this.containerData=h,Iu(l,{width:h.width,height:h.height}),Rr(e,Ao),gs(l,Ao)},initCanvas:function(){var e=this.containerData,n=this.imageData,o=this.options.viewMode,l=Math.abs(n.rotate)%180===90,u=l?n.naturalHeight:n.naturalWidth,c=l?n.naturalWidth:n.naturalHeight,h=u/c,v=e.width,x=e.height;e.height*h>e.width?o===3?v=e.height*h:x=e.width/h:o===3?x=e.width/h:v=e.height*h;var w={aspectRatio:h,naturalWidth:u,naturalHeight:c,width:v,height:x};this.canvasData=w,this.limited=o===1||o===2,this.limitCanvas(!0,!0),w.width=Math.min(Math.max(w.width,w.minWidth),w.maxWidth),w.height=Math.min(Math.max(w.height,w.minHeight),w.maxHeight),w.left=(e.width-w.width)/2,w.top=(e.height-w.height)/2,w.oldLeft=w.left,w.oldTop=w.top,this.initialCanvasData=Sn({},w)},limitCanvas:function(e,n){var o=this.options,l=this.containerData,u=this.canvasData,c=this.cropBoxData,h=o.viewMode,v=u.aspectRatio,x=this.cropped&&c;if(e){var w=Number(o.minCanvasWidth)||0,k=Number(o.minCanvasHeight)||0;h>1?(w=Math.max(w,l.width),k=Math.max(k,l.height),h===3&&(k*v>w?w=k*v:k=w/v)):h>0&&(w?w=Math.max(w,x?c.width:0):k?k=Math.max(k,x?c.height:0):x&&(w=c.width,k=c.height,k*v>w?w=k*v:k=w/v));var A=zu({aspectRatio:v,width:w,height:k});w=A.width,k=A.height,u.minWidth=w,u.minHeight=k,u.maxWidth=1/0,u.maxHeight=1/0}if(n)if(h>(x?0:1)){var B=l.width-u.width,N=l.height-u.height;u.minLeft=Math.min(0,B),u.minTop=Math.min(0,N),u.maxLeft=Math.max(0,B),u.maxTop=Math.max(0,N),x&&this.limited&&(u.minLeft=Math.min(c.left,c.left+(c.width-u.width)),u.minTop=Math.min(c.top,c.top+(c.height-u.height)),u.maxLeft=c.left,u.maxTop=c.top,h===2&&(u.width>=l.width&&(u.minLeft=Math.min(0,B),u.maxLeft=Math.max(0,B)),u.height>=l.height&&(u.minTop=Math.min(0,N),u.maxTop=Math.max(0,N))))}else u.minLeft=-u.width,u.minTop=-u.height,u.maxLeft=l.width,u.maxTop=l.height},renderCanvas:function(e,n){var o=this.canvasData,l=this.imageData;if(n){var u=OA({width:l.naturalWidth*Math.abs(l.scaleX||1),height:l.naturalHeight*Math.abs(l.scaleY||1),degree:l.rotate||0}),c=u.width,h=u.height,v=o.width*(c/o.naturalWidth),x=o.height*(h/o.naturalHeight);o.left-=(v-o.width)/2,o.top-=(x-o.height)/2,o.width=v,o.height=x,o.aspectRatio=c/h,o.naturalWidth=c,o.naturalHeight=h,this.limitCanvas(!0,!1)}(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCanvas(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,Iu(this.canvas,Sn({width:o.width,height:o.height},gf({translateX:o.left,translateY:o.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,o=this.imageData,l=o.naturalWidth*(n.width/n.naturalWidth),u=o.naturalHeight*(n.height/n.naturalHeight);Sn(o,{width:l,height:u,left:(n.width-l)/2,top:(n.height-u)/2}),Iu(this.image,Sn({width:o.width,height:o.height},gf(Sn({translateX:o.left,translateY:o.top},o)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,o=e.aspectRatio||e.initialAspectRatio,l=Number(e.autoCropArea)||.8,u={width:n.width,height:n.height};o&&(n.height*o>n.width?u.height=u.width/o:u.width=u.height*o),this.cropBoxData=u,this.limitCropBox(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.width=Math.max(u.minWidth,u.width*l),u.height=Math.max(u.minHeight,u.height*l),u.left=n.left+(n.width-u.width)/2,u.top=n.top+(n.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCropBoxData=Sn({},u)},limitCropBox:function(e,n){var o=this.options,l=this.containerData,u=this.canvasData,c=this.cropBoxData,h=this.limited,v=o.aspectRatio;if(e){var x=Number(o.minCropBoxWidth)||0,w=Number(o.minCropBoxHeight)||0,k=h?Math.min(l.width,u.width,u.width+u.left,l.width-u.left):l.width,A=h?Math.min(l.height,u.height,u.height+u.top,l.height-u.top):l.height;x=Math.min(x,l.width),w=Math.min(w,l.height),v&&(x&&w?w*v>x?w=x/v:x=w*v:x?w=x/v:w&&(x=w*v),A*v>k?A=k/v:k=A*v),c.minWidth=Math.min(x,k),c.minHeight=Math.min(w,A),c.maxWidth=k,c.maxHeight=A}n&&(h?(c.minLeft=Math.max(0,u.left),c.minTop=Math.max(0,u.top),c.maxLeft=Math.min(l.width,u.left+u.width)-c.width,c.maxTop=Math.min(l.height,u.top+u.height)-c.height):(c.minLeft=0,c.minTop=0,c.maxLeft=l.width-c.width,c.maxTop=l.height-c.height))},renderCropBox:function(){var e=this.options,n=this.containerData,o=this.cropBoxData;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,e.movable&&e.cropBoxMovable&&xf(this.face,wf,o.width>=n.width&&o.height>=n.height?Cb:mm),Iu(this.cropBox,Sn({width:o.width,height:o.height},gf({translateX:o.left,translateY:o.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),fc(this.element,Wp,this.getData())}},qA={initPreview:function(){var e=this.element,n=this.crossOrigin,o=this.options.preview,l=n?this.crossOriginUrl:this.url,u=e.alt||"The image to preview",c=document.createElement("img");if(n&&(c.crossOrigin=n),c.src=l,c.alt=u,this.viewBox.appendChild(c),this.viewBoxImage=c,!!o){var h=o;typeof o=="string"?h=e.ownerDocument.querySelectorAll(o):o.querySelector&&(h=[o]),this.previews=h,gr(h,function(v){var x=document.createElement("img");xf(v,Ph,{width:v.offsetWidth,height:v.offsetHeight,html:v.innerHTML}),n&&(x.crossOrigin=n),x.src=l,x.alt=u,x.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',v.innerHTML="",v.appendChild(x)})}},resetPreview:function(){gr(this.previews,function(e){var n=$p(e,Ph);Iu(e,{width:n.width,height:n.height}),e.innerHTML=n.html,DA(e,Ph)})},preview:function(){var e=this.imageData,n=this.canvasData,o=this.cropBoxData,l=o.width,u=o.height,c=e.width,h=e.height,v=o.left-n.left-e.left,x=o.top-n.top-e.top;!this.cropped||this.disabled||(Iu(this.viewBoxImage,Sn({width:c,height:h},gf(Sn({translateX:-v,translateY:-x},e)))),gr(this.previews,function(w){var k=$p(w,Ph),A=k.width,B=k.height,N=A,j=B,q=1;l&&(q=A/l,j=u*q),u&&j>B&&(q=B/u,N=l*q,j=B),Iu(w,{width:N,height:j}),Iu(w.getElementsByTagName("img")[0],Sn({width:c*q,height:h*q},gf(Sn({translateX:-v*q,translateY:-x*q},e))))}))}},jA={bind:function(){var e=this.element,n=this.options,o=this.cropper;To(n.cropstart)&&_a(e,Up,n.cropstart),To(n.cropmove)&&_a(e,jp,n.cropmove),To(n.cropend)&&_a(e,qp,n.cropend),To(n.crop)&&_a(e,Wp,n.crop),To(n.zoom)&&_a(e,Yp,n.zoom),_a(o,g0,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&_a(o,w0,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&_a(o,m0,this.onDblclick=this.dblclick.bind(this)),_a(e.ownerDocument,v0,this.onCropMove=this.cropMove.bind(this)),_a(e.ownerDocument,b0,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&_a(window,_0,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,o=this.cropper;To(n.cropstart)&&Ba(e,Up,n.cropstart),To(n.cropmove)&&Ba(e,jp,n.cropmove),To(n.cropend)&&Ba(e,qp,n.cropend),To(n.crop)&&Ba(e,Wp,n.crop),To(n.zoom)&&Ba(e,Yp,n.zoom),Ba(o,g0,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Ba(o,w0,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Ba(o,m0,this.onDblclick),Ba(e.ownerDocument,v0,this.onCropMove),Ba(e.ownerDocument,b0,this.onCropEnd),n.responsive&&Ba(window,_0,this.onResize)}},UA={resize:function(){if(!this.disabled){var e=this.options,n=this.container,o=this.containerData,l=n.offsetWidth/o.width,u=n.offsetHeight/o.height,c=Math.abs(l-1)>Math.abs(u-1)?l:u;if(c!==1){var h,v;e.restore&&(h=this.getCanvasData(),v=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(gr(h,function(x,w){h[w]=x*c})),this.setCropBoxData(gr(v,function(x,w){v[w]=x*c})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ab||this.setDragMode(TA(this.dragBox,Bp)?Tb:gm)},wheel:function(e){var n=this,o=Number(this.options.wheelZoomRatio)||.1,l=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?l=e.deltaY>0?1:-1:e.wheelDelta?l=-e.wheelDelta/120:e.detail&&(l=e.detail>0?1:-1),this.zoom(-l*o,e)))},cropStart:function(e){var n=e.buttons,o=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Li(n)&&n!==1||Li(o)&&o!==0||e.ctrlKey))){var l=this.options,u=this.pointers,c;e.changedTouches?gr(e.changedTouches,function(h){u[h.identifier]=Oh(h)}):u[e.pointerId||0]=Oh(e),Object.keys(u).length>1&&l.zoomable&&l.zoomOnTouch?c=Sb:c=$p(e.target,wf),vA.test(c)&&fc(this.element,Up,{originalEvent:e,action:c})!==!1&&(e.preventDefault(),this.action=c,this.cropping=!1,c===Eb&&(this.cropping=!0,Rr(this.dragBox,od)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var o=this.pointers;e.preventDefault(),fc(this.element,jp,{originalEvent:e,action:n})!==!1&&(e.changedTouches?gr(e.changedTouches,function(l){Sn(o[l.identifier]||{},Oh(l,!0))}):Sn(o[e.pointerId||0]||{},Oh(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,o=this.pointers;e.changedTouches?gr(e.changedTouches,function(l){delete o[l.identifier]}):delete o[e.pointerId||0],n&&(e.preventDefault(),Object.keys(o).length||(this.action=""),this.cropping&&(this.cropping=!1,uc(this.dragBox,od,this.cropped&&this.options.modal)),fc(this.element,qp,{originalEvent:e,action:n}))}}},YA={change:function(e){var n=this.options,o=this.canvasData,l=this.containerData,u=this.cropBoxData,c=this.pointers,h=this.action,v=n.aspectRatio,x=u.left,w=u.top,k=u.width,A=u.height,B=x+k,N=w+A,j=0,q=0,O=l.width,S=l.height,P=!0,W;!v&&e.shiftKey&&(v=k&&A?k/A:1),this.limited&&(j=u.minLeft,q=u.minTop,O=j+Math.min(l.width,o.width,o.left+o.width),S=q+Math.min(l.height,o.height,o.top+o.height));var z=c[Object.keys(c)[0]],G={x:z.endX-z.startX,y:z.endY-z.startY},J=function(de){switch(de){case gl:B+G.x>O&&(G.x=O-B);break;case vl:x+G.x<j&&(G.x=j-x);break;case Lu:w+G.y<q&&(G.y=q-w);break;case rc:N+G.y>S&&(G.y=S-N);break}};switch(h){case mm:x+=G.x,w+=G.y;break;case gl:if(G.x>=0&&(B>=O||v&&(w<=q||N>=S))){P=!1;break}J(gl),k+=G.x,k<0&&(h=vl,k=-k,x-=k),v&&(A=k/v,w+=(u.height-A)/2);break;case Lu:if(G.y<=0&&(w<=q||v&&(x<=j||B>=O))){P=!1;break}J(Lu),A-=G.y,w+=G.y,A<0&&(h=rc,A=-A,w-=A),v&&(k=A*v,x+=(u.width-k)/2);break;case vl:if(G.x<=0&&(x<=j||v&&(w<=q||N>=S))){P=!1;break}J(vl),k-=G.x,x+=G.x,k<0&&(h=gl,k=-k,x-=k),v&&(A=k/v,w+=(u.height-A)/2);break;case rc:if(G.y>=0&&(N>=S||v&&(x<=j||B>=O))){P=!1;break}J(rc),A+=G.y,A<0&&(h=Lu,A=-A,w-=A),v&&(k=A*v,x+=(u.width-k)/2);break;case ef:if(v){if(G.y<=0&&(w<=q||B>=O)){P=!1;break}J(Lu),A-=G.y,w+=G.y,k=A*v}else J(Lu),J(gl),G.x>=0?B<O?k+=G.x:G.y<=0&&w<=q&&(P=!1):k+=G.x,G.y<=0?w>q&&(A-=G.y,w+=G.y):(A-=G.y,w+=G.y);k<0&&A<0?(h=rf,A=-A,k=-k,w-=A,x-=k):k<0?(h=tf,k=-k,x-=k):A<0&&(h=nf,A=-A,w-=A);break;case tf:if(v){if(G.y<=0&&(w<=q||x<=j)){P=!1;break}J(Lu),A-=G.y,w+=G.y,k=A*v,x+=u.width-k}else J(Lu),J(vl),G.x<=0?x>j?(k-=G.x,x+=G.x):G.y<=0&&w<=q&&(P=!1):(k-=G.x,x+=G.x),G.y<=0?w>q&&(A-=G.y,w+=G.y):(A-=G.y,w+=G.y);k<0&&A<0?(h=nf,A=-A,k=-k,w-=A,x-=k):k<0?(h=ef,k=-k,x-=k):A<0&&(h=rf,A=-A,w-=A);break;case rf:if(v){if(G.x<=0&&(x<=j||N>=S)){P=!1;break}J(vl),k-=G.x,x+=G.x,A=k/v}else J(rc),J(vl),G.x<=0?x>j?(k-=G.x,x+=G.x):G.y>=0&&N>=S&&(P=!1):(k-=G.x,x+=G.x),G.y>=0?N<S&&(A+=G.y):A+=G.y;k<0&&A<0?(h=ef,A=-A,k=-k,w-=A,x-=k):k<0?(h=nf,k=-k,x-=k):A<0&&(h=tf,A=-A,w-=A);break;case nf:if(v){if(G.x>=0&&(B>=O||N>=S)){P=!1;break}J(gl),k+=G.x,A=k/v}else J(rc),J(gl),G.x>=0?B<O?k+=G.x:G.y>=0&&N>=S&&(P=!1):k+=G.x,G.y>=0?N<S&&(A+=G.y):A+=G.y;k<0&&A<0?(h=tf,A=-A,k=-k,w-=A,x-=k):k<0?(h=rf,k=-k,x-=k):A<0&&(h=ef,A=-A,w-=A);break;case Cb:this.move(G.x,G.y),P=!1;break;case Sb:this.zoom(MA(c),e),P=!1;break;case Eb:if(!G.x||!G.y){P=!1;break}W=Fb(this.cropper),x=z.startX-W.left,w=z.startY-W.top,k=u.minWidth,A=u.minHeight,G.x>0?h=G.y>0?nf:ef:G.x<0&&(x-=k,h=G.y>0?rf:tf),G.y<0&&(w-=A),this.cropped||(gs(this.cropBox,Ao),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}P&&(u.width=k,u.height=A,u.left=x,u.top=w,this.action=h,this.renderCropBox()),gr(c,function(ue){ue.startX=ue.endX,ue.startY=ue.endY})}},$A={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Rr(this.dragBox,od),gs(this.cropBox,Ao),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Sn({},this.initialImageData),this.canvasData=Sn({},this.initialCanvasData),this.cropBoxData=Sn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Sn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),gs(this.dragBox,od),Rr(this.cropBox,Ao)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,gr(this.previews,function(o){o.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,gs(this.cropper,d0)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Rr(this.cropper,d0)),this},destroy:function(){var e=this.element;return e[Cn]?(e[Cn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=this.canvasData,l=o.left,u=o.top;return this.moveTo(vp(e)?e:l+Number(e),vp(n)?n:u+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=this.canvasData,l=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Li(e)&&(o.left=e,l=!0),Li(n)&&(o.top=n,l=!0),l&&this.renderCanvas(!0)),this},zoom:function(e,n){var o=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(o.width*e/o.naturalWidth,null,n)},zoomTo:function(e,n,o){var l=this.options,u=this.canvasData,c=u.width,h=u.height,v=u.naturalWidth,x=u.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&l.zoomable){var w=v*e,k=x*e;if(fc(this.element,Yp,{ratio:e,oldRatio:c/v,originalEvent:o})===!1)return this;if(o){var A=this.pointers,B=Fb(this.cropper),N=A&&Object.keys(A).length?PA(A):{pageX:o.pageX,pageY:o.pageY};u.left-=(w-c)*((N.pageX-B.left-u.left)/c),u.top-=(k-h)*((N.pageY-B.top-u.top)/h)}else sc(n)&&Li(n.x)&&Li(n.y)?(u.left-=(w-c)*((n.x-u.left)/c),u.top-=(k-h)*((n.y-u.top)/h)):(u.left-=(w-c)/2,u.top-=(k-h)/2);u.width=w,u.height=k,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Li(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,Li(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(Li(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=this.imageData,l=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Li(e)&&(o.scaleX=e,l=!0),Li(n)&&(o.scaleY=n,l=!0),l&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,o=this.imageData,l=this.canvasData,u=this.cropBoxData,c;if(this.ready&&this.cropped){c={x:u.left-l.left,y:u.top-l.top,width:u.width,height:u.height};var h=o.width/o.naturalWidth;if(gr(c,function(w,k){c[k]=w/h}),e){var v=Math.round(c.y+c.height),x=Math.round(c.x+c.width);c.x=Math.round(c.x),c.y=Math.round(c.y),c.width=x-c.x,c.height=v-c.y}}else c={x:0,y:0,width:0,height:0};return n.rotatable&&(c.rotate=o.rotate||0),n.scalable&&(c.scaleX=o.scaleX||1,c.scaleY=o.scaleY||1),c},setData:function(e){var n=this.options,o=this.imageData,l=this.canvasData,u={};if(this.ready&&!this.disabled&&sc(e)){var c=!1;n.rotatable&&Li(e.rotate)&&e.rotate!==o.rotate&&(o.rotate=e.rotate,c=!0),n.scalable&&(Li(e.scaleX)&&e.scaleX!==o.scaleX&&(o.scaleX=e.scaleX,c=!0),Li(e.scaleY)&&e.scaleY!==o.scaleY&&(o.scaleY=e.scaleY,c=!0)),c&&this.renderCanvas(!0,!0);var h=o.width/o.naturalWidth;Li(e.x)&&(u.left=e.x*h+l.left),Li(e.y)&&(u.top=e.y*h+l.top),Li(e.width)&&(u.width=e.width*h),Li(e.height)&&(u.height=e.height*h),this.setCropBoxData(u)}return this},getContainerData:function(){return this.ready?Sn({},this.containerData):{}},getImageData:function(){return this.sized?Sn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&gr(["left","top","width","height","naturalWidth","naturalHeight"],function(o){n[o]=e[o]}),n},setCanvasData:function(e){var n=this.canvasData,o=n.aspectRatio;return this.ready&&!this.disabled&&sc(e)&&(Li(e.left)&&(n.left=e.left),Li(e.top)&&(n.top=e.top),Li(e.width)?(n.width=e.width,n.height=e.width/o):Li(e.height)&&(n.height=e.height,n.width=e.height*o),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,o=this.options.aspectRatio,l,u;return this.ready&&this.cropped&&!this.disabled&&sc(e)&&(Li(e.left)&&(n.left=e.left),Li(e.top)&&(n.top=e.top),Li(e.width)&&e.width!==n.width&&(l=!0,n.width=e.width),Li(e.height)&&e.height!==n.height&&(u=!0,n.height=e.height),o&&(l?n.height=n.width/o:u&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,o=FA(this.image,this.imageData,n,e);if(!this.cropped)return o;var l=this.getData(e.rounded),u=l.x,c=l.y,h=l.width,v=l.height,x=o.width/Math.floor(n.naturalWidth);x!==1&&(u*=x,c*=x,h*=x,v*=x);var w=h/v,k=zu({aspectRatio:w,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),A=zu({aspectRatio:w,width:e.minWidth||0,height:e.minHeight||0},"cover"),B=zu({aspectRatio:w,width:e.width||(x!==1?o.width:h),height:e.height||(x!==1?o.height:v)}),N=B.width,j=B.height;N=Math.min(k.width,Math.max(A.width,N)),j=Math.min(k.height,Math.max(A.height,j));var q=document.createElement("canvas"),O=q.getContext("2d");q.width=cc(N),q.height=cc(j),O.fillStyle=e.fillColor||"transparent",O.fillRect(0,0,N,j);var S=e.imageSmoothingEnabled,P=S===void 0?!0:S,W=e.imageSmoothingQuality;O.imageSmoothingEnabled=P,W&&(O.imageSmoothingQuality=W);var z=o.width,G=o.height,J=u,ue=c,de,ge,ce,Te,ve,ne;J<=-h||J>z?(J=0,de=0,ce=0,ve=0):J<=0?(ce=-J,J=0,de=Math.min(z,h+J),ve=de):J<=z&&(ce=0,de=Math.min(h,z-J),ve=de),de<=0||ue<=-v||ue>G?(ue=0,ge=0,Te=0,ne=0):ue<=0?(Te=-ue,ue=0,ge=Math.min(G,v+ue),ne=ge):ue<=G&&(Te=0,ge=Math.min(v,G-ue),ne=ge);var D=[J,ue,de,ge];if(ve>0&&ne>0){var se=N/h;D.push(ce*se,Te*se,ve*se,ne*se)}return O.drawImage.apply(O,[o].concat(kb(D.map(function(ye){return Math.floor(cc(ye))})))),q},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!vp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,o=this.dragBox,l=this.face;if(this.ready&&!this.disabled){var u=e===gm,c=n.movable&&e===Tb;e=u||c?e:Ab,n.dragMode=e,xf(o,wf,e),uc(o,Bp,u),uc(o,Hp,c),n.cropBoxMovable||(xf(l,wf,e),uc(l,Bp,u),uc(l,Hp,c))}return this}},GA=vs.Cropper,Nb=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(aA(this,t),!e||!_A.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Sn({},k0,sc(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return sA(t,[{key:"init",value:function(){var n=this.element,o=n.tagName.toLowerCase(),l;if(!n[Cn]){if(n[Cn]=this,o==="img"){if(this.isImg=!0,l=n.getAttribute("src")||"",this.originalUrl=l,!l)return;l=n.src}else o==="canvas"&&window.HTMLCanvasElement&&(l=n.toDataURL());this.load(l)}}},{key:"load",value:function(n){var o=this;if(n){this.url=n,this.imageData={};var l=this.element,u=this.options;if(!u.rotatable&&!u.scalable&&(u.checkOrientation=!1),!u.checkOrientation||!window.ArrayBuffer){this.clone();return}if(bA.test(n)){yA.test(n)?this.read(IA(n)):this.clone();return}var c=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=h,c.onerror=h,c.ontimeout=h,c.onprogress=function(){c.getResponseHeader("content-type")!==x0&&c.abort()},c.onload=function(){o.read(c.response)},c.onloadend=function(){o.reloading=!1,o.xhr=null},u.checkCrossOrigin&&C0(n)&&l.crossOrigin&&(n=S0(n)),c.open("GET",n,!0),c.responseType="arraybuffer",c.withCredentials=l.crossOrigin==="use-credentials",c.send()}}},{key:"read",value:function(n){var o=this.options,l=this.imageData,u=BA(n),c=0,h=1,v=1;if(u>1){this.url=zA(n,x0);var x=HA(u);c=x.rotate,h=x.scaleX,v=x.scaleY}o.rotatable&&(l.rotate=c),o.scalable&&(l.scaleX=h,l.scaleY=v),this.clone()}},{key:"clone",value:function(){var n=this.element,o=this.url,l=n.crossOrigin,u=o;this.options.checkCrossOrigin&&C0(o)&&(l||(l="anonymous"),u=S0(o)),this.crossOrigin=l,this.crossOriginUrl=u;var c=document.createElement("img");l&&(c.crossOrigin=l),c.src=u||o,c.alt=n.alt||"The image to crop",this.image=c,c.onload=this.start.bind(this),c.onerror=this.stop.bind(this),Rr(c,p0),n.parentNode.insertBefore(c,n.nextSibling)}},{key:"start",value:function(){var n=this,o=this.image;o.onload=null,o.onerror=null,this.sizing=!0;var l=vs.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(vs.navigator.userAgent),u=function(x,w){Sn(n.imageData,{naturalWidth:x,naturalHeight:w,aspectRatio:x/w}),n.initialImageData=Sn({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(o.naturalWidth&&!l){u(o.naturalWidth,o.naturalHeight);return}var c=document.createElement("img"),h=document.body||document.documentElement;this.sizingImage=c,c.onload=function(){u(c.width,c.height),l||h.removeChild(c)},c.src=o.src,l||(c.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(c))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,o=this.options,l=this.image,u=n.parentNode,c=document.createElement("div");c.innerHTML=wA;var h=c.querySelector(".".concat(Cn,"-container")),v=h.querySelector(".".concat(Cn,"-canvas")),x=h.querySelector(".".concat(Cn,"-drag-box")),w=h.querySelector(".".concat(Cn,"-crop-box")),k=w.querySelector(".".concat(Cn,"-face"));this.container=u,this.cropper=h,this.canvas=v,this.dragBox=x,this.cropBox=w,this.viewBox=h.querySelector(".".concat(Cn,"-view-box")),this.face=k,v.appendChild(l),Rr(n,Ao),u.insertBefore(h,n.nextSibling),gs(l,p0),this.initPreview(),this.bind(),o.initialAspectRatio=Math.max(0,o.initialAspectRatio)||NaN,o.aspectRatio=Math.max(0,o.aspectRatio)||NaN,o.viewMode=Math.max(0,Math.min(3,Math.round(o.viewMode)))||0,Rr(w,Ao),o.guides||Rr(w.getElementsByClassName("".concat(Cn,"-dashed")),Ao),o.center||Rr(w.getElementsByClassName("".concat(Cn,"-center")),Ao),o.background&&Rr(h,"".concat(Cn,"-bg")),o.highlight||Rr(k,dA),o.cropBoxMovable&&(Rr(k,Hp),xf(k,wf,mm)),o.cropBoxResizable||(Rr(w.getElementsByClassName("".concat(Cn,"-line")),Ao),Rr(w.getElementsByClassName("".concat(Cn,"-point")),Ao)),this.render(),this.ready=!0,this.setDragMode(o.dragMode),o.autoCrop&&this.crop(),this.setData(o.data),To(o.ready)&&_a(n,y0,o.ready,{once:!0}),fc(n,y0)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),gs(this.element,Ao)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=GA,t}},{key:"setDefaults",value:function(n){Sn(k0,sc(n)&&n)}}])}();Sn(Nb.prototype,WA,qA,jA,UA,YA,$A);const ZA={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(t){const e=t.keyCode;switch(e){case 90:this.undo&&(t.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(t.preventDefault(),this.move(-1,0));break;case 38:this.move&&(t.preventDefault(),this.move(0,-1));break;case 39:this.move&&(t.preventDefault(),this.move(1,0));break;case 40:this.move&&(t.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var XA=function(){var e=this,n=e._self._c;return n("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(o){return e.setDragMode("move")}}},[n("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(o){return e.setDragMode("crop")}}},[n("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[n("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[n("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[n("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[n("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[n("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[n("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),n("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(o){var l=Array.prototype.filter.call(o.target.options,function(u){return u.selected}).map(function(u){var c="_value"in u?u._value:u.value;return c});e.ratio=o.target.multiple?l:l[0]},e.aspectRatio]}},[n("optgroup",{attrs:{label:e.translations.other}},[n("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),n("option",{attrs:{value:"1:1"}},[e._v("1:1")]),n("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),n("optgroup",{attrs:{label:e.translations.landscape}},[n("option",{attrs:{value:"16:9"}},[e._v("16:9")]),n("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),n("optgroup",{attrs:{label:e.translations.portrait}},[n("option",{attrs:{value:"9:16"}},[e._v("9:16")]),n("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),n("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[n("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[n("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[n("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},VA=[],KA=zn(ZA,XA,VA,!1,null,"49d78b1c");const QA=KA.exports,JA={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...Wa({originalUrl:t=>t.blanchetteEditor.originalUrl,isLoading:t=>t.blanchetteEditor.isLoading,translations:t=>t.translations})},methods:{...Ys(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await vc(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(t){switch(t.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(t){t&&this.cropper&&this.cropper.setDragMode(t)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(t,e){this.cropper.move(t,e)},start(){this.cropper||(this.cropper=new Nb(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(t){t.detail.width>0&&t.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const t=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=t.getData(),this.canvasData=t.getCanvasData(),this.cropBoxData=t.getCropBoxData(),this.url=t.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:QA}};var eD=function(){var e=this,n=e._self._c;return n("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[n("div",{staticClass:"canvas"},[e.isLoading?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner-container"},[n("div",{staticClass:"spinner"})])]):e._e(),n("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),n("div",{staticClass:"editor"},[e.url?[n("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},tD=[],iD=zn(JA,eD,tD,!1,null,"9956183e");const nD=iD.exports;var yp={exports:{}},T0;function rD(){return T0||(T0=1,function(t,e){(function(n,o){t.exports=o()})(window,function(){return l={},n.m=o=[function(u,c,h){var v=h(6);typeof v=="string"&&(v=[[u.i,v,""]]),v.locals&&(u.exports=v.locals),(0,h(4).default)("27d83796",v,!1,{})},function(u,c,h){var v=h(8);typeof v=="string"&&(v=[[u.i,v,""]]),v.locals&&(u.exports=v.locals),(0,h(4).default)("0e783494",v,!1,{})},function(u,c,h){var v=h(10);typeof v=="string"&&(v=[[u.i,v,""]]),v.locals&&(u.exports=v.locals),(0,h(4).default)("17757f60",v,!1,{})},function(u,c){u.exports=function(h){var v=[];return v.toString=function(){return this.map(function(x){var w=function(k,A){var B=k[1]||"",N=k[3];if(!N)return B;if(A&&typeof btoa=="function"){var j=function(O){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */"}(N),q=N.sources.map(function(O){return"/*# sourceURL="+N.sourceRoot+O+" */"});return[B].concat(q).concat([j]).join(`
`)}return[B].join(`
`)}(x,h);return x[2]?"@media "+x[2]+"{"+w+"}":w}).join("")},v.i=function(x,w){typeof x=="string"&&(x=[[null,x,""]]);for(var k={},A=0;A<this.length;A++){var B=this[A][0];typeof B=="number"&&(k[B]=!0)}for(A=0;A<x.length;A++){var N=x[A];typeof N[0]=="number"&&k[N[0]]||(w&&!N[2]?N[2]=w:w&&(N[2]="("+N[2]+") and ("+w+")"),v.push(N))}},v}},function(u,c,h){function v(ge,ce){for(var Te=[],ve={},ne=0;ne<ce.length;ne++){var D=ce[ne],se=D[0],ye={id:ge+":"+ne,css:D[1],media:D[2],sourceMap:D[3]};ve[se]?ve[se].parts.push(ye):Te.push(ve[se]={id:se,parts:[ye]})}return Te}h.r(c),h.d(c,"default",function(){return P});var x=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!x)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var w={},k=x&&(document.head||document.getElementsByTagName("head")[0]),A=null,B=0,N=!1,j=function(){},q=null,O="data-vue-ssr-id",S=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function P(ge,ce,Te,ve){N=Te,q=ve||{};var ne=v(ge,ce);return W(ne),function(D){for(var se=[],ye=0;ye<ne.length;ye++){var Ce=ne[ye];(et=w[Ce.id]).refs--,se.push(et)}for(D?W(ne=v(ge,D)):ne=[],ye=0;ye<se.length;ye++){var et;if((et=se[ye]).refs===0){for(var ze=0;ze<et.parts.length;ze++)et.parts[ze]();delete w[et.id]}}}}function W(ge){for(var ce=0;ce<ge.length;ce++){var Te=ge[ce],ve=w[Te.id];if(ve){ve.refs++;for(var ne=0;ne<ve.parts.length;ne++)ve.parts[ne](Te.parts[ne]);for(;ne<Te.parts.length;ne++)ve.parts.push(G(Te.parts[ne]));ve.parts.length>Te.parts.length&&(ve.parts.length=Te.parts.length)}else{var D=[];for(ne=0;ne<Te.parts.length;ne++)D.push(G(Te.parts[ne]));w[Te.id]={id:Te.id,refs:1,parts:D}}}}function z(){var ge=document.createElement("style");return ge.type="text/css",k.appendChild(ge),ge}function G(ge){var ce,Te,ve=document.querySelector("style["+O+'~="'+ge.id+'"]');if(ve){if(N)return j;ve.parentNode.removeChild(ve)}if(S){var ne=B++;ve=A=A||z(),ce=de.bind(null,ve,ne,!1),Te=de.bind(null,ve,ne,!0)}else ve=z(),ce=(function(D,se){var ye=se.css,Ce=se.media,et=se.sourceMap;if(Ce&&D.setAttribute("media",Ce),q.ssrId&&D.setAttribute(O,se.id),et&&(ye+=`
/*# sourceURL=`+et.sources[0]+" */",ye+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(et))))+" */"),D.styleSheet)D.styleSheet.cssText=ye;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(ye))}}).bind(null,ve),Te=function(){ve.parentNode.removeChild(ve)};return ce(ge),function(D){if(D){if(D.css===ge.css&&D.media===ge.media&&D.sourceMap===ge.sourceMap)return;ce(ge=D)}else Te()}}var J,ue=(J=[],function(ge,ce){return J[ge]=ce,J.filter(Boolean).join(`
`)});function de(ge,ce,Te,ve){var ne=Te?"":ve.css;if(ge.styleSheet)ge.styleSheet.cssText=ue(ce,ne);else{var D=document.createTextNode(ne),se=ge.childNodes;se[ce]&&ge.removeChild(se[ce]),se.length?ge.insertBefore(D,se[ce]):ge.appendChild(D)}}},function(u,c,h){var v=h(0);h.n(v).a},function(u,c,h){(u.exports=h(3)(!1)).push([u.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(u,c,h){var v=h(1);h.n(v).a},function(u,c,h){(u.exports=h(3)(!1)).push([u.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(u,c,h){var v=h(2);h.n(v).a},function(u,c,h){(u.exports=h(3)(!1)).push([u.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(u,c,h){h.r(c),h.d(c,"getModalsContainer",function(){return Y});function v(){var V=this,we=V.$createElement,Ae=V._self._c||we;return Ae("transition",{attrs:{name:V.overlayTransition}},[V.visibility.overlay?Ae("div",{ref:"overlay",class:V.overlayClass,attrs:{"aria-expanded":V.visibility.overlay.toString(),"data-modal":V.name}},[Ae("div",{staticClass:"v--modal-background-click",on:{mousedown:function(je){return je.target!==je.currentTarget?null:V.handleBackgroundClick(je)},touchstart:function(je){return je.target!==je.currentTarget?null:V.handleBackgroundClick(je)}}},[Ae("div",{staticClass:"v--modal-top-right"},[V._t("top-right")],2),V._v(" "),Ae("transition",{attrs:{name:V.transition},on:{"before-enter":V.beforeTransitionEnter,"after-enter":V.afterTransitionEnter,"after-leave":V.afterTransitionLeave}},[V.visibility.modal?Ae("div",{ref:"modal",class:V.modalClass,style:V.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[V._t("default"),V._v(" "),V.resizable&&!V.isAutoHeight?Ae("resizer",{attrs:{"min-width":V.minWidth,"min-height":V.minHeight,"max-width":V.maxWidth,"max-height":V.maxHeight},on:{resize:V.handleModalResize}}):V._e()],2):V._e()])],1)]):V._e()])}function x(){var V=this.$createElement;return(this._self._c||V)("div",{class:this.className})}function w(V,we){return function(Ae){if(Array.isArray(Ae))return Ae}(V)||function(Ae,je){var Ze=[],Xe=!0,ut=!1,Ct=void 0;try{for(var wt,St=Ae[Symbol.iterator]();!(Xe=(wt=St.next()).done)&&(Ze.push(wt.value),!je||Ze.length!==je);Xe=!0);}catch(yt){ut=!0,Ct=yt}finally{try{Xe||St.return==null||St.return()}finally{if(ut)throw Ct}}return Ze}(V,we)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(V){for(var we=1;we<arguments.length;we++){var Ae=arguments[we]!=null?arguments[we]:{},je=Object.keys(Ae);typeof Object.getOwnPropertySymbols=="function"&&(je=je.concat(Object.getOwnPropertySymbols(Ae).filter(function(Ze){return Object.getOwnPropertyDescriptor(Ae,Ze).enumerable}))),je.forEach(function(Ze){A(V,Ze,Ae[Ze])})}return V}function A(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}x._withStripped=v._withStripped=!0;function B(V,we,Ae){return Ae<V?V:we<Ae?we:Ae}function N(){var V=window.innerWidth,we=document.documentElement.clientWidth;return V&&we?Math.min(V,we):we||V}var j=function(V){var we=0;return function(){return(we++).toString()}}(),q={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(V){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),V.stopPropagation(),V.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(V){this.resize(V)},resize:function(V){var we=this.$el.parentElement;if(we){var Ae=V.clientX-we.offsetLeft,je=V.clientY-we.offsetTop,Ze=Math.min(N(),this.maxWidth),Xe=Math.min(window.innerHeight,this.maxHeight);Ae=B(this.minWidth,Ze,Ae),je=B(this.minHeight,Xe,je),this.size={width:Ae,height:je},we.style.width=Ae+"px",we.style.height=je+"px",this.$emit("resize",{element:we,size:this.size})}}}};h(5);function O(V,we,Ae,je,Ze,Xe,ut,Ct){var wt,St=typeof V=="function"?V.options:V;return we&&(St.render=we,St.staticRenderFns=Ae,St._compiled=!0),{exports:V,options:St}}var S=O(q,x,[]);S.options.__file="src/Resizer.vue";var P=S.exports;function W(V){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(V)}function z(V){switch(W(V)){case"number":return{type:"px",value:V};case"string":return function(we){if(we==="auto")return{type:we,value:0};var Ae=ue.find(function(je){return je.regexp.test(we)});return Ae?{type:Ae.name,value:parseFloat(we)}:{type:"",value:we}}(V);default:return{type:"",value:V}}}function G(V){if(typeof V!="string")return 0<=V;var we=z(V);return(we.type==="%"||we.type==="px")&&0<we.value}var J="[-+]?[0-9]*.?[0-9]+",ue=[{name:"px",regexp:new RegExp("^".concat(J,"px$"))},{name:"%",regexp:new RegExp("^".concat(J,"%$"))},{name:"px",regexp:new RegExp("^".concat(J,"$"))}];function de(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}var ge={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(V){return 0<=V}},minHeight:{type:Number,default:0,validator:function(V){return 0<=V}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:G},height:{type:[Number,String],default:300,validator:function(V){return V==="auto"||G(V)}},pivotX:{type:Number,default:.5,validator:function(V){return 0<=V&&V<=1}},pivotY:{type:Number,default:.5,validator:function(V){return 0<=V&&V<=1}}},components:{Resizer:P},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var V=this;if(Re.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var we=function(){if(typeof window<"u")for(var Ae=["","WebKit","Moz","O","Ms"],je=0;je<Ae.length;je++){var Ze=Ae[je]+"MutationObserver";if(Ze in window)return window[Ze]}return!1}();we?this.mutationObserver=new we(function(Ae){V.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Re.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var V=this.viewportHeight,we=this.viewportWidth,Ae=this.shift,je=this.pivotX,Ze=this.pivotY,Xe=this.trueModalWidth,ut=this.trueModalHeight,Ct=we-Xe,wt=Math.max(V-ut,0),St=Ae.left+je*Ct,yt=Ae.top+Ze*wt;return{left:parseInt(B(0,Ct,St)),top:parseInt(B(0,wt,yt))}},trueModalWidth:function(){var V=this.viewportWidth,we=this.modal,Ae=this.adaptive,je=this.minWidth,Ze=this.maxWidth,Xe=we.widthType==="%"?V/100*we.width:we.width,ut=Math.max(je,Math.min(V,Ze));return Ae?B(je,ut,Xe):Xe},trueModalHeight:function(){var V=this.viewportHeight,we=this.modal,Ae=this.isAutoHeight,je=this.adaptive,Ze=this.minHeight,Xe=this.maxHeight,ut=we.heightType==="%"?V/100*we.height:we.height;if(Ae)return this.modal.renderedHeight;var Ct=Math.max(Ze,Math.min(V,Xe));return je?B(Ze,Ct,ut):ut},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(V){return V.trim()}).filter(Boolean).map(function(V){return V.split(":")}).reduce(function(V,we){var Ae=w(we,2);return k({},V,A({},Ae[0],Ae[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(V){var we=this;V?(this.visibility.overlay=!0,setTimeout(function(){we.visibility.modal=!0,we.$nextTick(function(){we.addDraggableListeners(),we.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){we.visibility.overlay=!1,we.$nextTick(function(){we.removeDraggableListeners(),we.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(V,we,Ae){if(this.name===V){var je=we===void 0?!this.visible:we;this.toggle(je,Ae)}},setInitialSize:function(){var V=this.modal,we=z(this.width),Ae=z(this.height);V.width=we.value,V.widthType=we.type,V.height=Ae.value,V.heightType=Ae.type},handleEscapeKeyUp:function(V){V.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=N(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(V){var we=0<arguments.length&&V!==void 0?V:{};return function(Ae){var je=0<arguments.length&&Ae!==void 0?Ae:{};return k({id:j(),timestamp:Date.now(),canceled:!1},je)}(function(Ae){for(var je=1;je<arguments.length;je++){var Ze=arguments[je]!=null?arguments[je]:{},Xe=Object.keys(Ze);typeof Object.getOwnPropertySymbols=="function"&&(Xe=Xe.concat(Object.getOwnPropertySymbols(Ze).filter(function(ut){return Object.getOwnPropertyDescriptor(Ze,ut).enumerable}))),Xe.forEach(function(ut){de(Ae,ut,Ze[ut])})}return Ae}({name:this.name,ref:this.$refs.modal},we))},handleModalResize:function(V){this.modal.widthType="px",this.modal.width=V.size.width,this.modal.heightType="px",this.modal.height=V.size.height;var we=this.modal.size;this.$emit("resize",this.createModalEvent({size:we}))},toggle:function(V,we){var Ae=this.reset,je=this.scrollable,Ze=this.visible;if(Ze!==V){var Xe=Ze?"before-close":"before-open";Xe=="before-open"?(Ae&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),je&&document.body.classList.add("v--modal-block-scroll")):je&&document.body.classList.remove("v--modal-block-scroll");var ut=!1,Ct=this.createModalEvent({stop:function(){ut=!0},state:V,params:we});this.$emit(Xe,Ct),ut||(this.visible=V,Xe=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var V=typeof this.draggable!="string"?".v--modal-box":this.draggable;return V?this.$refs.overlay.querySelector(V):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(V){V?this.connectObserver():this.disconnectObserver();var we=V?"opened":"closed",Ae=this.createModalEvent({state:V});this.$emit(we,Ae)},addDraggableListeners:function(){var V=this;if(this.draggable){var we=this.getDraggableElement();if(we){var Ae=0,je=0,Ze=0,Xe=0,ut=function(yt){return yt.touches&&0<yt.touches.length?yt.touches[0]:yt},Ct=function(yt){var Mt=yt.target;if(!Mt||Mt.nodeName!=="INPUT"&&Mt.nodeName!=="TEXTAREA"&&Mt.nodeName!=="SELECT"){var Ut=ut(yt),Kt=Ut.clientX,X=Ut.clientY;document.addEventListener("mousemove",wt),document.addEventListener("touchmove",wt),document.addEventListener("mouseup",St),document.addEventListener("touchend",St),Ae=Kt,je=X,Ze=V.shift.left,Xe=V.shift.top}},wt=function(yt){var Mt=ut(yt),Ut=Mt.clientX,Kt=Mt.clientY;V.shift.left=Ze+Ut-Ae,V.shift.top=Xe+Kt-je,yt.preventDefault()},St=function yt(Mt){V.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",wt),document.removeEventListener("touchmove",wt),document.removeEventListener("mouseup",yt),document.removeEventListener("touchend",yt),Mt.preventDefault()};we.addEventListener("mousedown",Ct),we.addEventListener("touchstart",Ct)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var V=this.viewportHeight,we=this.viewportWidth,Ae=this.shift,je=this.pivotX,Ze=this.pivotY,Xe=this.trueModalWidth,ut=this.trueModalHeight,Ct=we-Xe,wt=Math.max(V-ut,0),St=Ae.left+je*Ct,yt=Ae.top+Ze*wt;this.shift.left-=St-B(0,Ct,St),this.shift.top-=yt-B(0,wt,yt)}}},ce=(h(7),O(ge,v,[]));ce.options.__file="src/Modal.vue";function Te(){var V=this,we=V.$createElement,Ae=V._self._c||we;return Ae("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:V.width,"pivot-y":.3,adaptive:!0,clickToClose:V.clickToClose,transition:V.transition},on:{"before-open":V.beforeOpened,"before-close":V.beforeClosed,opened:function(je){V.$emit("opened",je)},closed:function(je){V.$emit("closed",je)}}},[Ae("div",{staticClass:"dialog-content"},[V.params.title?Ae("div",{staticClass:"dialog-c-title",domProps:{innerHTML:V._s(V.params.title||"")}}):V._e(),V._v(" "),V.params.component?Ae(V.params.component,V._b({tag:"component"},"component",V.params.props,!1)):Ae("div",{staticClass:"dialog-c-text",domProps:{innerHTML:V._s(V.params.text||"")}})],1),V._v(" "),V.buttons?Ae("div",{staticClass:"vue-dialog-buttons"},V._l(V.buttons,function(je,Ze){return Ae("button",{key:Ze,class:je.class||"vue-dialog-button",style:V.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:V._s(je.title)},on:{click:function(Xe){Xe.stopPropagation(),V.click(Ze,Xe)}}},[V._v(`
      `+V._s(je.title)+`
    `)])})):Ae("div",{staticClass:"vue-dialog-buttons-none"})])}var ve=ce.exports;Te._withStripped=!0;var ne={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(V){window.addEventListener("keyup",this.onKeyUp),this.params=V.params||{},this.$emit("before-opened",V)},beforeClosed:function(V){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",V)},click:function(V,we,Ae){var je=2<arguments.length&&Ae!==void 0?Ae:"click",Ze=this.buttons[V];Ze&&typeof Ze.handler=="function"?Ze.handler(V,we,{source:je}):this.$modal.hide("dialog")},onKeyUp:function(V){if(V.which===13&&0<this.buttons.length){var we=this.buttons.length===1?0:this.buttons.findIndex(function(Ae){return Ae.default});we!==-1&&this.click(we,V,"keypress")}}}},D=(h(9),O(ne,Te,[]));D.options.__file="src/Dialog.vue";function se(){var V=this,we=V.$createElement,Ae=V._self._c||we;return Ae("div",{attrs:{id:"modals-container"}},V._l(V.modals,function(je){return Ae("modal",V._g(V._b({key:je.id,on:{closed:function(Ze){V.remove(je.id)}}},"modal",je.modalAttrs,!1),je.modalListeners),[Ae(je.component,V._g(V._b({tag:"component",on:{close:function(Ze){V.$modal.hide(je.modalAttrs.name)}}},"component",je.componentAttrs,!1),V.$listeners))],1)}))}var ye=D.exports;function Ce(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}se._withStripped=!0;var et=O({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(V,we,Ae,je){var Ze=this,Xe=1<arguments.length&&we!==void 0?we:{},ut=2<arguments.length&&Ae!==void 0?Ae:{},Ct=3<arguments.length&&je!==void 0?je:{},wt=j(),St=ut.name||"_dynamic_modal_"+wt;this.modals.push({id:wt,modalAttrs:function(yt){for(var Mt=1;Mt<arguments.length;Mt++){var Ut=arguments[Mt]!=null?arguments[Mt]:{},Kt=Object.keys(Ut);typeof Object.getOwnPropertySymbols=="function"&&(Kt=Kt.concat(Object.getOwnPropertySymbols(Ut).filter(function(X){return Object.getOwnPropertyDescriptor(Ut,X).enumerable}))),Kt.forEach(function(X){Ce(yt,X,Ut[X])})}return yt}({},ut,{name:St}),modalListeners:Ct,component:V,componentAttrs:Xe}),this.$nextTick(function(){Ze.$modal.show(St)})},remove:function(V){var we=this.modals.findIndex(function(Ae){return Ae.id===V});we!==-1&&this.modals.splice(we,1)}}},se,[]);et.options.__file="src/ModalsContainer.vue";var ze=et.exports;function Me(V){return(Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(V)}function ie(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}var Y=function(V,we,Ae){if(!Ae._dynamicContainer&&we.injectModalsContainer){var je=(Ze=document.createElement("div"),document.body.appendChild(Ze),Ze);new V({parent:Ae,render:function(Xe){return Xe(ze)}}).$mount(je)}var Ze;return Ae._dynamicContainer},Le={install:function(V,we){var Ae=1<arguments.length&&we!==void 0?we:{};if(!this.installed){this.installed=!0,this.event=new V,this.rootInstance=null;var je=Ae.componentName||"Modal",Ze=Ae.dynamicDefaults||{},Xe=function(ut,Ct,wt,St){var yt=wt&&wt.root?wt.root:Le.rootInstance,Mt=Y(V,Ae,yt);Mt?Mt.add(ut,Ct,function(Ut){for(var Kt=1;Kt<arguments.length;Kt++){var X=arguments[Kt]!=null?arguments[Kt]:{},le=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(le=le.concat(Object.getOwnPropertySymbols(X).filter(function(Q){return Object.getOwnPropertyDescriptor(X,Q).enumerable}))),le.forEach(function(Q){ie(Ut,Q,X[Q])})}return Ut}({},Ze,wt),St):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};V.prototype.$modal={show:function(ut){for(var Ct=arguments.length,wt=new Array(1<Ct?Ct-1:0),St=1;St<Ct;St++)wt[St-1]=arguments[St];switch(Me(ut)){case"string":return(function(yt,Mt){Le.event.$emit("toggle",yt,!0,Mt)}).apply(void 0,[ut].concat(wt));case"object":case"function":return Ae.dynamic?Xe.apply(void 0,[ut].concat(wt)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",ut)}},hide:function(ut,Ct){Le.event.$emit("toggle",ut,!1,Ct)},toggle:function(ut,Ct){Le.event.$emit("toggle",ut,void 0,Ct)}},V.component(je,ve),Ae.dialog&&V.component("VDialog",ye),Ae.dynamic&&(V.component("ModalsContainer",ze),V.mixin({beforeMount:function(){Le.rootInstance===null&&(Le.rootInstance=this.$root)}}))}}},Re=c.default=Le}],n.c=l,n.d=function(u,c,h){n.o(u,c)||Object.defineProperty(u,c,{enumerable:!0,get:h})},n.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,c){if(1&c&&(u=n(u)),8&c||4&c&&typeof u=="object"&&u&&u.__esModule)return u;var h=Object.create(null);if(n.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:u}),2&c&&typeof u!="string")for(var v in u)n.d(h,v,(function(x){return u[x]}).bind(null,v));return h},n.n=function(u){var c=u&&u.__esModule?function(){return u.default}:function(){return u};return n.d(c,"a",c),c},n.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},n.p="/dist/",n(n.s=11);function n(u){if(l[u])return l[u].exports;var c=l[u]={i:u,l:!1,exports:{}};return o[u].call(c.exports,c,c.exports,n),c.l=!0,c.exports}var o,l})}(yp)),yp.exports}var oD=rD();const aD=kf(oD),Fh=656,sD={data(){return{modalWidth:Fh,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:ob},mounted(){this.modalWidth=window.innerWidth<Fh?Fh/2:Fh,rb().then(t=>{this.imageUrl=t}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(t){this.manualClose||t.stop()}}};var uD=function(){var e=this,n=e._self._c;return n("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[n("div",{staticClass:"modal",attrs:{id:"partition-register"}},[n("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),n("div",{staticClass:"modal-content"},[n("p",[e._v(e._s(e.content))]),n("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?n("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?n("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?n("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},lD=[],cD=zn(sD,uD,lD,!1,null,"73759aa5");const fD=cD.exports;hc.use(aD);const hD={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...Wa({connected:t=>t.connected,healthChecked:t=>t.healthChecked,translations:t=>t.translations})},components:{WarningModal:fD}};var dD=function(){var e=this,n=e._self._c;return n("div",[e.connected?e.healthChecked?e._e():n("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):n("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},pD=[],mD=zn(hD,dD,pD,!1,null,null);const gD=mD.exports,vD={computed:{...Wa({isExplorerOpen:t=>t.explorer.isOpen})}};var bD=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?n("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},yD=[],_D=zn(vD,bD,yD,!1,null,null);const wD=_D.exports;class xD{constructor(){this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:hS,DrawerContainer:cT,ExplorerContainer:LT,FilterExplorerContainer:HT,TagsEditorContainer:XT,DocumentPreviewContainer:eA,BlanchetteEditorContainer:nD,ModalContainer:gD},this.registeredComponents={Overlay:wD},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},this.init(),this.initListeners()}init(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new aS(Ch)),this.services.push(new sS(Ch))}onPageChange(){Ch.commit(ws)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildNavTrees(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(n=>{this.mainContentComponents.push(this.buildComponent(n))})}buildComponent(e){return new hc({el:e,delimiters:["${","}"],store:Ch,components:this.vuejsElements,ignoreElements:["document-edit-dialog"]})}}class kD{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.minifyTreePanelButton=null,this.mainTrees=null,this.canvasLoader=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}onDocumentReady(){this.initLoader(),this.setupCollapsedNestableState(),this.lazyload=new E2,this.vueApp=new xD,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(e=>{e.addEventListener("click",this.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),window.addEventListener("pageshowend",()=>{this.syncCollapsedNestableState()}),window.addEventListener("requestAllNodeTreeChange",()=>{this.refreshAllNodeTrees(),this.getMessages()}),window.addEventListener("requestLoaderShow",()=>{this.canvasLoader.show()}),window.addEventListener("requestLoaderHide",()=>{this.canvasLoader.hide()}),window.addEventListener("pushToast",e=>{!e.detail||!e.detail.message||window.UIkit.notify({message:e.detail.message,status:e.detail.status||"success",timeout:2e3,pos:"top-center"})})}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color")),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}setupCollapsedNestableState(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){var n=e.children(this.options._listClass);n.length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}saveCollapsedNestableState(e=null){e===null&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",JSON.stringify(e))}syncCollapsedNestableState(){this.collapsedNestableState.nodes.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(o=>{o.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(o=>{o.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(o=>{o.classList.add("uk-collapsed")})})}initNestables(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(e=>{const n={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?n.group="nodeTree":e.classList.contains("tagtree")?n.group="tagTree":e.classList.contains("foldertree")&&(n.group="folderTree"),window.UIkit.nestable(e,n)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}bindMainTrees(){document.querySelectorAll(".nodetree-widget .root-tree").forEach(u=>{const c=$(u);c.off("change.uk.nestable",this.onNestableNodeTreeChange),c.on("change.uk.nestable",this.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(u=>{const c=$(u);c.off("change.uk.nestable",this.onNestableTagTreeChange),c.on("change.uk.nestable",this.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(u=>{const c=$(u);c.off("change.uk.nestable",this.onNestableFolderTreeChange),c.on("change.uk.nestable",this.onNestableFolderTreeChange)}),this.mainTrees.querySelectorAll(".tree-element-name").forEach(u=>{u.removeEventListener("contextmenu",this.maintreeElementNameRightClick),u.addEventListener("contextmenu",this.maintreeElementNameRightClick)})}maintreeElementNameRightClick(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(o=>{o.classList.contains("uk-open")&&o.classList.remove("uk-open")});const n=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return n&&(n.classList.contains("uk-open")?n.classList.remove("uk-open"):n.classList.add("uk-open")),!1}bindMainNodeTreeLangs(){document.body.addEventListener("click",e=>{const n=e.target.closest("#tree-container .nodetree-langs a");if(n){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const o=parseInt(n.getAttribute("data-translation-id"),10);return this.refreshMainNodeTree(o),!1}})}fetchSessionMessages(){return new Promise(async(e,n)=>{const o=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),l=window.RozierConfig.routes.ajaxSessionMessages+"?"+o.toString();try{const c=await(await fetch(l,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();c.messages||e([]),e(c.messages)}catch(u){n(u)}})}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&Array.isArray(e.confirm)&&e.confirm.length>0&&e.confirm.forEach(n=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:n,status:"success"}}))}),e.error&&Array.isArray(e.error)&&e.error.length>0&&e.error.forEach(n=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:n,status:"danger"}}))})}refreshAllNodeTrees(e){const n=[];return n.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&n.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(o=>{n.push(this.lazyload.childrenNodesFields.refreshNodeTree(o))}),Promise.all(n)}async refreshMainNodeTree(e=void 0){const n=document.querySelector("#tree-container .nodetree-widget");if(!n){console.debug("No main node-tree available.");return}const o=n.querySelector(".root-tree");o&&!e&&(e=o.getAttribute("data-translation-id"));try{const l=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:e||null}),u=window.RozierConfig.routes.nodesTreeAjax+"?"+l.toString(),c=await fetch(u,{method:"GET",headers:{Accept:"application/json"}});if(!c.ok)throw c;const h=await c.json();if(typeof h.nodeTree<"u"){await Bu(n),n.insertAdjacentHTML("afterend",h.nodeTree),n.remove();const v=document.querySelector("#tree-container .nodetree-widget");if(v)await _l(v);else{console.debug("No main node-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}}catch{console.log("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),await vc(3e3),this.refreshMainNodeTree(e)}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainTagTree(){const e=document.querySelector("#tree-container .tagtree-widget");if(!e){console.debug("No main tag-tree available.");return}const n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),o=window.RozierConfig.routes.tagsTreeAjax+"?"+n.toString(),u=await(await fetch(o,{method:"GET",headers:{Accept:"application/json"}})).json();if(typeof u.tagTree<"u"){await Bu(e),e.insertAdjacentHTML("afterend",u.tagTree),e.remove();const c=document.querySelector("#tree-container .tagtree-widget");if(c)await _l(c);else{console.debug("No main tag-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainFolderTree(){const e=document.querySelector("#tree-container .foldertree-widget");if(!e){console.debug("No main folder-tree available.");return}const n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),o=window.RozierConfig.routes.foldersTreeAjax+"?"+n.toString(),u=await(await fetch(o,{method:"GET",headers:{Accept:"application/json"}})).json();if(typeof u.folderTree<"u"){await Bu(e),e.insertAdjacentHTML("afterend",u.folderTree),e.remove();const c=document.querySelector("#tree-container .foldertree-widget");if(c)await _l(c);else{console.debug("No main folder-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}toggleTreesPanel(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}openTreesPanel(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}toggleUserPanel(){return document.getElementById("user-panel").classList.toggle("minified"),!1}onNestableCollapse({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.push(e[0].getAttribute("data-node-id"));break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.push(e[0].getAttribute("data-tag-id"));break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.push(e[0].getAttribute("data-folder-id"));break}this.saveCollapsedNestableState(this.collapsedNestableState)}}onNestableExpand({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(e[0].getAttribute("data-node-id")),1);break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(e[0].getAttribute("data-tag-id")),1);break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(e[0].getAttribute("data-folder-id")),1);break}this.saveCollapsedNestableState(this.collapsedNestableState)}}async onNestableNodeTreeChange(e,n,o,l){if(l==="removed"||!o)return!1;const u=o[0];if(!u)return console.error("No element found"),!1;const c=parseInt(u.getAttribute("data-node-id"));let h=null;const v=u.parentElement.closest(".nodetree-element"),x=u.parentElement.closest(".stack-tree-widget"),w=u.parentElement.closest(".children-node-widget");if(v?h=parseInt(v.getAttribute("data-node-id")):x?h=parseInt(x.getAttribute("data-parent-node-id")):w&&(h=parseInt(w.getAttribute("data-parent-node-id"))),isNaN(h)&&(h=null),c===h)return console.error("You cannot move a node inside itself!"),window.location.reload(),!1;const k={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:c,newParent:h},A=u.nextElementSibling;if(A&&typeof A.getAttribute("data-node-id")<"u")k.nextNodeId=parseInt(A.getAttribute("data-node-id"));else{const B=u.previousElementSibling;B&&typeof B.getAttribute("data-node-id")<"u"&&(k.prevNodeId=parseInt(B.getAttribute("data-node-id")))}try{const B=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",c),N=await fetch(B,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(k)});if(!N.ok)throw N;const j=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:j.responseText||j.detail,status:j.status}}))}catch(B){const N=await B.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:N.error_message||N.detail,status:"danger"}}))}}async onNestableTagTreeChange(e,n,o,l){if(l==="removed")return!1;const u=o[0];let c=parseInt(u.getAttribute("data-tag-id")),h=null;const v=u.parentElement.closest(".tagtree-element"),x=u.parentElement.closest(".root-tree");if(v?h=parseInt(v.getAttribute("data-tag-id")):x&&(h=parseInt(x.getAttribute("data-parent-tag-id"))),isNaN(h)&&(h=null),c===h)return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:c,newParent:h};const k=u.nextElementSibling;if(k&&typeof k.getAttribute("data-tag-id")<"u")w.nextTagId=parseInt(k.getAttribute("data-tag-id"));else{const A=u.previousElementSibling;A&&typeof A.getAttribute("data-tag-id")<"u"&&(w.prevTagId=parseInt(A.getAttribute("data-tag-id")))}try{const A=await fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",c),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(w)});if(!A.ok)throw A;const B=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:B.responseText,status:B.status}}))}catch(A){const B=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:B.error_message||B.detail,status:"danger"}}))}}async onNestableFolderTreeChange(e,n,o,l){if(l==="removed")return!1;const u=o[0];let c=parseInt(u.getAttribute("data-folder-id")),h=null;const v=u.parentElement.closest(".foldertree-element"),x=u.parentElement.closest(".root-tree");if(v?h=parseInt(v.getAttribute("data-folder-id")):x&&(h=parseInt(x.getAttribute("data-parent-folder-id"))),isNaN(h)&&(h=null),c===h)return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:c,newParent:h};const k=u.nextElementSibling;if(k&&typeof k.getAttribute("data-folder-id")<"u")w.nextFolderId=parseInt(k.getAttribute("data-folder-id"));else{const A=u.previousElementSibling;A&&typeof A.getAttribute("data-folder-id")<"u"&&(w.prevFolderId=parseInt(A.getAttribute("data-folder-id")))}try{const A=await fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",c),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(w)});if(!A.ok)throw A;const B=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:B.responseText,status:B.status}}))}catch(A){const B=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:B.error_message||B.detail,status:"danger"}}))}}backTopBtnClick(){return Gh.to(this.mainContentScrollable,.6,{scrollTo:{y:0},ease:Zh.easeOut}),!1}resize(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.resizeFirst&&(this.resizeFirst=!1)}}window.CodeMirror=Uw;window.UIkit=UIkit;window.Rozier=new kD;const ED=t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)};ED(()=>{window.Rozier.onDocumentReady()});(function(){customElements.define("node-tree-contextual-menu",ex),customElements.define("node-source-edit-page",tx),customElements.define("tag-edit-page",ix),customElements.define("admin-menu-nav",nx),customElements.define("folder-autocomplete",rx),customElements.define("tag-autocomplete",ox),customElements.define("main-trees",ax),customElements.define("document-alignment-widget",_p),customElements.define("document-edit-dialog",wp),kg(),wg(),new Jw,new Eg,window.addEventListener("pageshowend",()=>{kg(),wg(),new Eg})})()});export default CD();
