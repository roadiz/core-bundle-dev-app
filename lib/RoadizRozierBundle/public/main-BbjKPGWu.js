var Lx=Object.defineProperty;var Dx=(n,e,r)=>e in n?Lx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Mx=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var qm=(n,e,r)=>Dx(n,typeof e!="symbol"?e+"":e,r);import"./tooltip-CUqQX7jt.js";import{g as vf,c as _h,a as xg}from"./jquery-5sAwpjfl.js";import{m as Ys,a as ds,V as oc,i as wg,v as Px}from"./vue-YhlLoeNc.js";var _A=Mx((MA,Up)=>{var jm={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var Zm;function Ox(){return Zm||(Zm=1,function(n){n(jQuery)}(function(n){n.fn.addBack=n.fn.addBack||n.fn.andSelf,n.fn.extend({actual:function(e,r){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var s={absolute:!1,clone:!1,includeMargin:!1,display:"block"},c=n.extend(s,r),l=this.eq(0),p,g;if(c.clone===!0)p=function(){var M="position: absolute !important; top: -1000 !important; ";l=l.clone().attr("style",M).appendTo("body")},g=function(){l.remove()};else{var b=[],w="",C;p=function(){C=l.parents().addBack().filter(":hidden"),w+="visibility: hidden !important; display: "+c.display+" !important; ",c.absolute===!0&&(w+="position: absolute !important; "),C.each(function(){var M=n(this),G=M.attr("style");b.push(G),M.attr("style",G?G+";"+w:w)})},g=function(){C.each(function(M){var G=n(this),R=b[M];R===void 0?G.removeAttr("style"):G.attr("style",R)})}}p();var k=/(outer)/.test(e)?l[e](c.includeMargin):l[e]();return g(),k}})})),jm}Ox();(function(n){var e=function(R,Z){typeof Z>"u"&&(Z={}),this.init(R,Z)},r=e.prototype,s,c=["canvas","vml"],l=["oval","spiral","square","rect","roundRect"],p=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,g=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,b=!!document.createElement("canvas").getContext,w=!0,C=function(P,Z,U){var P=document.createElement(P),E;for(E in U)P[E]=U[E];return typeof Z<"u"&&Z.appendChild(P),P},k=function(R,Z){for(var U in Z)R.style[U]=Z[U];return R},M=function(R,Z){for(var U in Z)R.setAttribute(U,Z[U]);return R},G=function(R,Z,U,P){R.save(),R.translate(Z,U),R.rotate(P),R.translate(-Z,-U),R.beginPath()};r.init=function(R,Z){typeof Z.safeVML=="boolean"&&(w=Z.safeVML);try{this.mum=document.getElementById(R)!==void 0?document.getElementById(R):document.body}catch{this.mum=document.body}if(Z.id=typeof Z.id<"u"?Z.id:"canvasLoader",this.cont=C("div",this.mum,{id:Z.id}),b)s=c[0],this.can=C("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=k(C("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(s=c[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(C("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var U=["group","oval","roundrect","fill"],P;for(P in U)e.vmlSheet.addRule(U[P],"behavior:url(#default#VML); position:absolute;")}this.vml=C("group",this.cont)}this.setColor(this.color),this.draw(),k(this.cont,{display:"none"})},r.cont={},r.can={},r.con={},r.cCan={},r.cCon={},r.timer={},r.activeId=0,r.diameter=40,r.setDiameter=function(R){this.diameter=Math.round(Math.abs(R)),this.redraw()},r.getDiameter=function(){return this.diameter},r.cRGB={},r.color="#000000",r.setColor=function(R){this.color=p.test(R)?R:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},r.getColor=function(){return this.color},r.shape=l[0],r.setShape=function(R){for(var Z in l)if(R===l[Z]){this.shape=R,this.redraw();break}},r.getShape=function(){return this.shape},r.density=40,r.setDensity=function(R){this.density=w&&s===c[1]?Math.round(Math.abs(R))<=40?Math.round(Math.abs(R)):40:Math.round(Math.abs(R)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},r.getDensity=function(){return this.density},r.range=1.3,r.setRange=function(R){this.range=Math.abs(R),this.redraw()},r.getRange=function(){return this.range},r.speed=2,r.setSpeed=function(R){this.speed=Math.round(Math.abs(R))},r.getSpeed=function(){return this.speed},r.fps=24,r.setFPS=function(R){this.fps=Math.round(Math.abs(R)),this.reset()},r.getFPS=function(){return this.fps},r.getRGB=function(R){return R=R.charAt(0)==="#"?R.substring(1,7):R,{r:parseInt(R.substring(0,2),16),g:parseInt(R.substring(2,4),16),b:parseInt(R.substring(4,6),16)}},r.draw=function(){var R=0,Z,U,P,E,D,W,B,H=this.density,j=Math.round(H*this.range),ee,fe,me=0;fe=this.cCon;var ue=this.diameter;if(s===c[0])for(fe.clearRect(0,0,1e3,1e3),M(this.can,{width:ue,height:ue}),M(this.cCan,{width:ue,height:ue});R<H;){switch(ee=R<=j?1-1/j*R:ee=0,W=270-360/H*R,B=W/180*Math.PI,fe.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+ee.toString()+")",this.shape){case l[0]:case l[1]:Z=ue*.07,E=ue*.47+Math.cos(B)*(ue*.47-Z)-ue*.47,D=ue*.47+Math.sin(B)*(ue*.47-Z)-ue*.47,fe.beginPath(),this.shape===l[1]?fe.arc(ue*.5+E,ue*.5+D,Z*ee,0,Math.PI*2,!1):fe.arc(ue*.5+E,ue*.5+D,Z,0,Math.PI*2,!1);break;case l[2]:Z=ue*.12,E=Math.cos(B)*(ue*.47-Z)+ue*.5,D=Math.sin(B)*(ue*.47-Z)+ue*.5,G(fe,E,D,B),fe.fillRect(E,D-Z*.5,Z,Z);break;case l[3]:case l[4]:U=ue*.3,P=U*.27,E=Math.cos(B)*(P+(ue-P)*.13)+ue*.5,D=Math.sin(B)*(P+(ue-P)*.13)+ue*.5,G(fe,E,D,B),this.shape===l[3]?fe.fillRect(E,D-P*.5,U,P):(Z=P*.55,fe.moveTo(E+Z,D-P*.5),fe.lineTo(E+U-Z,D-P*.5),fe.quadraticCurveTo(E+U,D-P*.5,E+U,D-P*.5+Z),fe.lineTo(E+U,D-P*.5+P-Z),fe.quadraticCurveTo(E+U,D-P*.5+P,E+U-Z,D-P*.5+P),fe.lineTo(E+Z,D-P*.5+P),fe.quadraticCurveTo(E,D-P*.5+P,E,D-P*.5+P-Z),fe.lineTo(E,D-P*.5+Z),fe.quadraticCurveTo(E,D-P*.5,E+Z,D-P*.5))}fe.closePath(),fe.fill(),fe.restore(),++R}else{switch(k(this.cont,{width:ue,height:ue}),k(this.vml,{width:ue,height:ue}),this.shape){case l[0]:case l[1]:B="oval",Z=140;break;case l[2]:B="roundrect",Z=120;break;case l[3]:case l[4]:B="roundrect",Z=300}for(U=P=Z,E=500-P,D=-P*.5;R<H;){switch(ee=R<=j?1-1/j*R:ee=0,W=270-360/H*R,this.shape){case l[1]:U=P=Z*ee,E=500-Z*.5-Z*ee*.5,D=(Z-Z*ee)*.5;break;case l[0]:case l[2]:g&&(D=0,this.shape===l[2]&&(E=500-P*.5));break;case l[3]:case l[4]:U=Z*.95,P=U*.28,g?(E=0,D=500-P*.5):(E=500-U,D=-P*.5),me=this.shape===l[4]?.6:0}fe=M(k(C("group",this.vml),{width:1e3,height:1e3,rotation:W}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),fe=k(C(B,fe,{stroked:!1,arcSize:me}),{width:U,height:P,top:D,left:E}),C("fill",fe,{color:this.color,opacity:ee}),++R}}this.tick(!0)},r.clean=function(){if(s===c[0])this.con.clearRect(0,0,1e3,1e3);else{var R=this.vml;if(R.hasChildNodes())for(;R.childNodes.length>=1;)R.removeChild(R.firstChild)}},r.redraw=function(){this.clean(),this.draw()},r.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},r.tick=function(R){var Z=this.con,U=this.diameter;R||(this.activeId+=360/this.density*this.speed),s===c[0]?(Z.clearRect(0,0,U,U),G(Z,U*.5,U*.5,this.activeId/180*Math.PI),Z.drawImage(this.cCan,0,0,U,U),Z.restore()):(this.activeId>=360&&(this.activeId-=360),k(this.vml,{rotation:this.activeId}))},r.show=function(){if(typeof this.timer!="number"){var R=this;this.timer=self.setInterval(function(){R.tick()},Math.round(1e3/this.fps)),k(this.cont,{display:"block"})}},r.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,k(this.cont,{display:"none"}))},r.kill=function(){var R=this.cont;typeof this.timer=="number"&&this.hide(),s===c[0]?(R.removeChild(this.can),R.removeChild(this.cCan)):R.removeChild(this.vml);for(var Z in this)delete this[Z]},n.CanvasLoader=e})(window);(function(n){n.fn.caret=function(e){var r=this[0],s=r.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(s){r.focus();var c=window.getSelection().getRangeAt(0),l=c.cloneRange();return l.selectNodeContents(r),l.setEnd(c.endContainer,c.endOffset),l.toString().length}return r.selectionStart}if(document.selection){if(r.focus(),s){var c=document.selection.createRange(),l=document.body.createTextRange();return l.moveToElementText(r),l.setEndPoint("EndToEnd",c),l.text.length}var e=0,p=r.createTextRange(),l=document.selection.createRange().duplicate(),g=l.getBookmark();for(p.moveToBookmark(g);p.moveStart("character",-1)!==0;)e++;return e}return r.selectionStart?r.selectionStart:0}if(e==-1&&(e=this[s?"text":"val"]().length),window.getSelection)s?(r.focus(),window.getSelection().collapse(r.firstChild,e)):r.setSelectionRange(e,e);else if(document.body.createTextRange)if(s){var p=document.body.createTextRange();p.moveToElementText(r),p.moveStart("character",e),p.collapse(!0),p.select()}else{var p=r.createTextRange();p.move("character",e),p.select()}return s||r.focus(),e}})(jQuery);(function(n){n.fn.tagEditorInput=function(){var e=" ",r=n(this),s=parseInt(r.css("fontSize")),c=n("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),l=function(){if(e!==(e=r.val())){c.text(e);var p=c.width()+s;20>p&&(p=20),p!=r.width()&&r.width(p)}};return c.insertAfter(r),r.bind("keyup keydown focus",l)},n.fn.tagEditor=function(e,r,s){function c(w){return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var l,p=n.extend({},n.fn.tagEditor.defaults,e),g=this;if(p.dregex=new RegExp("["+p.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var b=[];return g.each(function(){var w=n(this),C=w.data("options"),k=w.next(".tag-editor");if(e=="getTags")b.push({field:w[0],editor:k,tags:k.data("tags")});else if(e=="addTag"){if(C.maxTags&&k.data("tags").length>=C.maxTags)return!1;n('<li><div class="tag-editor-spacer">&nbsp;'+C.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(k).find(".tag-editor-tag").html('<input type="text" maxlength="'+C.maxLength+'">').addClass("active").find("input").val(r).blur(),s?n(".placeholder",k).remove():k.click()}else e=="removeTag"?(n(".tag-editor-tag",k).filter(function(){return n(this).text()==r}).closest("li").find(".tag-editor-delete").click(),s||k.click()):e=="destroy"&&w.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?b:this}return window.getSelection&&n(document).off("keydown.tag-editor").on("keydown.tag-editor",function(w){if(w.which==8||w.which==46||w.ctrlKey&&w.which==88){try{var C=getSelection(),k=document.activeElement.tagName=="BODY"?n(C.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{k=0}if(C.rangeCount>0&&k&&k.length){var M=[],G=C.toString().split(k.prev().data("options").dregex);for(i=0;i<G.length;i++){var R=n.trim(G[i]);R&&M.push(R)}return n(".tag-editor-tag",k).each(function(){~n.inArray(n(this).text(),M)&&n(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),g.each(function(){var w=n(this),C=[],k=n("<ul "+(p.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(w);w.addClass("tag-editor-hidden-src").data("options",p).on("focus.tag-editor",function(){k.click()}),k.append('<li style="width:1px">&nbsp;</li>');var M='<li><div class="tag-editor-spacer">&nbsp;'+p.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function G(){p.placeholder&&!C.length&&!n(".deleted, .placeholder, input",k).length&&k.append('<li class="placeholder"><div>'+p.placeholder+"</div></li>")}function R(B){var H=C.toString();C=n(".tag-editor-tag:not(.deleted)",k).map(function(j,ee){var fe=n.trim(n(this).hasClass("active")?n(this).find("input").val():n(ee).text());if(fe)return fe}).get(),k.data("tags",C),w.val(C.join(p.delimiter[0])),B||H!=C.toString()&&p.onChange(w,k,C),G()}k.click(function(B,H){var j,ee=99999,fe;if(!(window.getSelection&&getSelection()!=""))return p.maxTags&&k.data("tags").length>=p.maxTags?(k.find("input").blur(),!1):(l=!0,n("input:focus",k).blur(),l&&(l=!0,n(".placeholder",k).remove(),H&&H.length?fe="before":n(".tag-editor-tag",k).each(function(){var me=n(this),ue=me.offset(),De=ue.left,be=ue.top;B.pageY>=be&&B.pageY<=be+me.height()&&(B.pageX<De?(fe="before",j=De-B.pageX):(fe="after",j=B.pageX-De-me.width()),j<ee&&(ee=j,H=me))}),fe=="before"?n(M).insertBefore(H.closest("li")).find(".tag-editor-tag").click():fe=="after"?n(M).insertAfter(H.closest("li")).find(".tag-editor-tag").click():n(M).appendTo(k).find(".tag-editor-tag").click()),!1)}),k.on("click",".tag-editor-delete",function(B){if(n(this).prev().hasClass("active"))return n(this).closest("li").find("input").caret(-1),!1;var H=n(this).closest("li"),j=H.find(".tag-editor-tag");return p.beforeTagDelete(w,k,C,j.text())===!1||(j.addClass("deleted").animate({width:0},p.animateDelete,function(){H.remove(),G()}),R()),!1}),p.clickDelete&&k.on("mousedown",".tag-editor-tag",function(B){if(B.ctrlKey||B.which>1){var H=n(this).closest("li"),j=H.find(".tag-editor-tag");return p.beforeTagDelete(w,k,C,j.text())===!1||(j.addClass("deleted").animate({width:0},p.animateDelete,function(){H.remove(),G()}),R()),!1}}),k.on("click",".tag-editor-tag",function(B){if(p.clickDelete&&(B.ctrlKey||B.which>1))return!1;if(!n(this).hasClass("active")){var H=n(this).text(),j=Math.abs((n(this).offset().left-B.pageX)/n(this).width()),ee=parseInt(H.length*j),fe=n(this).html('<input type="text" maxlength="'+p.maxLength+'" value="'+c(H)+'">').addClass("active").find("input");if(fe.data("old_tag",H).tagEditorInput().focus().caret(ee),p.autocomplete){var me=n.extend({},p.autocomplete),ue="select"in me?p.autocomplete.select:"";me.select=function(De,be){ue&&ue(De,be),setTimeout(function(){k.trigger("click",[n(".active",k).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},fe.autocomplete(me)}}return!1});function Z(B){for(var H=B.closest("li"),j=B.val().replace(/ +/," ").split(p.dregex),ee=B.data("old_tag"),fe=C.slice(0),me=!1,ue,De=0;De<j.length;De++)if(W=n.trim(j[De]).slice(0,p.maxLength),p.forceLowercase&&(W=W.toLowerCase()),ue=p.beforeTagSave(w,k,fe,ee,W),W=ue||W,!(ue===!1||!W)&&(p.removeDuplicates&&~n.inArray(W,fe)&&n(".tag-editor-tag",k).each(function(){n(this).text()==W&&n(this).closest("li").remove()}),fe.push(W),H.before('<li><div class="tag-editor-spacer">&nbsp;'+p.delimiter[0]+'</div><div class="tag-editor-tag">'+c(W)+'</div><div class="tag-editor-delete"><i></i></div></li>'),p.maxTags&&fe.length>=p.maxTags)){me=!0;break}B.attr("maxlength",p.maxLength).removeData("old_tag").val(""),me?B.blur():B.focus(),R()}k.on("blur","input",function(B){B.stopPropagation();var H=n(this),j=H.data("old_tag"),ee=n.trim(H.val().replace(/ +/," ").replace(p.dregex,p.delimiter[0])),fe;if(ee){if(ee.indexOf(p.delimiter[0])>=0){Z(H);return}else if(ee!=j)if(p.forceLowercase&&(ee=ee.toLowerCase()),fe=p.beforeTagSave(w,k,C,j,ee),ee=fe||ee,fe===!1){if(j){H.val(j).focus(),l=!1,R();return}try{H.closest("li").remove()}catch{}j&&R()}else p.removeDuplicates&&n(".tag-editor-tag:not(.active)",k).each(function(){n(this).text()==ee&&n(this).closest("li").remove()})}else{if(j&&p.beforeTagDelete(w,k,C,j)===!1){H.val(j).focus(),l=!1,R();return}try{H.closest("li").remove()}catch{}j&&R()}H.parent().html(c(ee)).removeClass("active"),ee!=j&&R(),G()});var U;k.on("paste","input",function(B){n(this).removeAttr("maxlength"),U=n(this),setTimeout(function(){Z(U)},30)});var P;k.on("keypress","input",function(B){p.delimiter.indexOf(String.fromCharCode(B.which))>=0&&(P=n(this),setTimeout(function(){Z(P)},20))}),k.on("keydown","input",function(B){var H=n(this);if((B.which==37||!p.autocomplete&&B.which==38)&&!H.caret()||B.which==8&&!H.val()){var j=H.closest("li").prev("li").find(".tag-editor-tag");return j.length?j.click().find("input").caret(-1):H.val()&&!(p.maxTags&&k.data("tags").length>=p.maxTags)&&n(M).insertBefore(H.closest("li")).find(".tag-editor-tag").click(),!1}else if((B.which==39||!p.autocomplete&&B.which==40)&&H.caret()==H.val().length){var ee=H.closest("li").next("li").find(".tag-editor-tag");return ee.length?ee.click().find("input").caret(0):H.val()&&k.click(),!1}else if(B.which==9)if(B.shiftKey){var j=H.closest("li").prev("li").find(".tag-editor-tag");if(j.length)j.click().find("input").caret(0);else if(H.val()&&!(p.maxTags&&k.data("tags").length>=p.maxTags))n(M).insertBefore(H.closest("li")).find(".tag-editor-tag").click();else{w.attr("disabled","disabled"),setTimeout(function(){w.removeAttr("disabled")},30);return}return!1}else{var ee=H.closest("li").next("li").find(".tag-editor-tag");if(ee.length)ee.click().find("input").caret(0);else if(H.val())k.click();else return;return!1}else if(B.which==46&&(!n.trim(H.val())||H.caret()==H.val().length)){var ee=H.closest("li").next("li").find(".tag-editor-tag");return ee.length?ee.click().find("input").caret(0):H.val()&&k.click(),!1}else{if(B.which==13)return k.trigger("click",[H.closest("li").next("li").find(".tag-editor-tag")]),p.maxTags&&k.data("tags").length>=p.maxTags&&k.find("input").blur(),!1;if(B.which==36&&!H.caret())k.find(".tag-editor-tag").first().click();else if(B.which==35&&H.caret()==H.val().length)k.find(".tag-editor-tag").last().click();else if(B.which==27)return H.val(H.data("old_tag")?H.data("old_tag"):"").blur(),!1}});for(var E=p.initialTags.length?p.initialTags:w.val().split(p.dregex),D=0;D<E.length&&!(p.maxTags&&D>=p.maxTags);D++){var W=n.trim(E[D].replace(/ +/," "));W&&(p.forceLowercase&&(W=W.toLowerCase()),C.push(W),k.append('<li><div class="tag-editor-spacer">&nbsp;'+p.delimiter[0]+'</div><div class="tag-editor-tag">'+c(W)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}R(!0),p.sortable&&n.fn.sortable&&k.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){R()}})})},n.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);(function(n){n.fn.collection=function(e){var r={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(te,T){return!0},after_up:function(te,T){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(te,T){return!0},after_down:function(te,T){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(te,T){return!0},after_add:function(te,T){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(te,T){return!0},after_remove:function(te,T){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(te,T){return!0},after_duplicate:function(te,T){return!0},before_init:function(te){},after_init:function(te){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(te,T){return!0},drag_drop_update:function(te,T){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},s=function(){var te=""+Math.random()*1e3*new Date().getTime();return te.replace(".","").split("").sort(function(){return .5-Math.random()}).join("")},c=function(te,T){if(!T.attr("id")){var se;do se=te+"_"+s();while(n("#"+se).length>0);T.attr("id",se)}return T.attr("id")},l=function(te){try{var T=n(te)}catch{return null}return T.length===0?null:T.is('input[type="checkbox"]')?T.prop("checked")===!0:T.is('input[type="radio"]')&&T.attr("name")!==void 0?n('input[name="'+T.attr("name")+'"]:checked').val():T.prop("value")!==void 0?T.val():T.html()},p=function(te,T,se){try{var ve=n(te)}catch{return}ve.length!==0&&(ve.is('input[type="checkbox"]')?T?ve.attr("checked",!0):ve.removeAttr("checked"):ve.prop("value")!==void 0?se?ve.attr("value",T):ve.val(T):ve.html(T))},g=function(te){return te===void 0||te},b=function(te){return(te+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},w=function(te,T,se,ve){var we=function(We){var ke=n(We);typeof We=="object"&&"attributes"in We&&n.each(We.attributes,function(K,F){n.type(F.value)==="string"&&ke.attr(F.name.replace(se,ve),F.value.replace(se,ve))}),ke.length>0&&n.each(ke.data(),function(K,F){n.type(F)==="string"&&ke.data(K.replace(se,ve),F.replace(se,ve))})},Ve=te.eq(T);we(Ve[0]),Ve.find("*").each(function(){we(this)})},C=function(te,T,se,ve,we,Ve){var We=new RegExp(b(se.name_prefix+"["+we+"]"),"g"),ke=se.name_prefix+"["+Ve+"]";se.children&&n.each(se.children,function(K,F){var Ce=te.find(F.selector).eq(ve),Pe=Ce.data("collection-settings");Pe&&(Pe.name_prefix=Pe.name_prefix.replace(We,ke),Ce.data("collection-settings",Pe))}),w(T,ve,We,ke),We=new RegExp(b(te.attr("id")+"_"+we),"g"),ke=te.attr("id")+"_"+Ve,se.children&&n.each(se.children,function(K,F){var Ce=te.find(F.selector).eq(ve),Pe=Ce.data("collection-settings");Pe&&(Pe.elements_parent_selector=Pe.elements_parent_selector.replace(We,ke),Pe.elements_selector=Pe.elements_selector.replace(We,ke),Pe.prefix=Pe.prefix.replace(We,ke),Ce.data("collection-settings",Pe))}),w(T,ve,We,ke)},k=function(te,T,se,ve,we,Ve,We){var ke=new RegExp(b(T.name_prefix+"["+Ve+"]"),"g"),K=T.name_prefix+"["+We+"]";return se=se.replace(ke,K),ke=new RegExp(b(te.attr("id")+"_"+ve),"g"),K=te.attr("id")+"_"+we,se=se.replace(ke,K),se},M=function(te){n(te).find(":input").each(function(T,se){p(se,l(se),!0)})},G=function(te,T,se,ve){var we=te.data("collection-settings");return!we.position_field_selector&&!we.preserve_names&&(C(te,T,we,se,se,"__swap__"),C(te,T,we,ve,ve,se),C(te,T,we,se,"__swap__",ve)),T.eq(se).insertBefore(T.eq(ve)),ve>se?T.eq(ve).insertBefore(T.eq(se)):T.eq(ve).insertAfter(T.eq(se)),te.find(we.elements_selector)},R=function(te,T,se,ve,we){for(var Ve=ve+1;Ve<=we;Ve++)T=G(te,T,Ve,Ve-1);return te.find(se.elements_selector)},Z=function(te,T,se,ve,we){for(var Ve=ve-1;Ve>=we;Ve--)T=G(te,T,Ve,Ve+1);return te.find(se.elements_selector)},U=function(te,T,se,ve){for(var we=ve+1;we<T.length;we++)T=G(te,T,we-1,we);return te.find(se.elements_selector)},P=function(te,T,se,ve){for(var we=T.length-2;we>ve;we--)T=G(te,T,we+1,we);return te.find(se.elements_selector)},E=function(te,T,se,ve){var we=n(T.elements_parent_selector),Ve=we.find("."+T.prefix+"-tmp").length===0,We=te.find(T.elements_selector);if(T.allow_add&&Ve&&(we.append('<span class="'+T.prefix+'-tmp"></span>'),T.add&&we.append(n(T.add).addClass(T.prefix+"-action "+T.prefix+"-rescue-add").data("collection",te.attr("id")))),se){te.data("collection-offset",We.length);for(var ke=n(T.container),K=te.find("."+T.prefix+"-add, ."+T.prefix+"-rescue-add, ."+T.prefix+"-duplicate").first(),F=0;We.length<T.init_with_n_elements;){F++;var Ce=We.length>0?We.last():void 0,Pe=We.length-1;if(We=W(ke,K,te,T,We,Ce,Pe,!1),F>T.init_with_n_elements){console.error("Infinite loop, element selector ("+T.elements_selector+") not found !");break}}te.data("collection-offset",We.length)}if(We.each(function(ze){var Xe=n(this);se&&Xe.data("index",ze);var et=Xe.find("."+T.prefix+"-actions").addBack().filter("."+T.prefix+"-actions");et.length===0&&(et=n('<div class="'+T.prefix+'-actions"></div>'),Xe.append(et));var nt=0;ve==="remove"&&T.fade_out&&(nt=1);var Lt=[{enabled:T.allow_remove,selector:T.prefix+"-remove",html:T.remove,condition:We.length-nt>T.min},{enabled:T.allow_up,selector:T.prefix+"-up",html:T.up,condition:We.length-nt>1&&We.index(Xe)-nt>0},{enabled:T.allow_down,selector:T.prefix+"-down",html:T.down,condition:We.length-nt>1&&We.index(Xe)!==We.length-1},{enabled:T.allow_add&&!T.add_at_the_end&&!T.custom_add_location,selector:T.prefix+"-add",html:T.add,condition:We.length-nt<T.max},{enabled:T.allow_duplicate,selector:T.prefix+"-duplicate",html:T.duplicate,condition:We.length-nt<T.max}];n.each(Lt,function(Mt,Ft){if(Ft.enabled){var _t=Xe.find("."+Ft.selector);_t.length===0&&Ft.html&&(_t=n(Ft.html).appendTo(et).addClass(Ft.selector)),Ft.condition?(_t.removeClass(T.prefix+"-action-disabled"),T.hide_useless_buttons&&_t.css("display","")):(_t.addClass(T.prefix+"-action-disabled"),T.hide_useless_buttons&&_t.css("display","none")),_t.addClass(T.prefix+"-action").data("collection",te.attr("id")).data("element",c(te.attr("id")+"_"+ze,Xe))}else Xe.find("."+Ft.selector).css("display","none")})}),T.allow_add){var q=0;ve==="remove"&&T.fade_out&&(q=1);var he=te.find("."+T.prefix+"-rescue-add").css("display","").removeClass(T.prefix+"-action-disabled"),Te=te.find("."+T.prefix+"-add");!T.add_at_the_end&&Te.length>q||T.custom_add_location?he.css("display","none"):ve==="remove"&&T.fade_out&&(he.css("display","none"),he.fadeIn("fast")),We.length-q>=T.max&&(he.addClass(T.prefix+"-action-disabled"),T.hide_useless_buttons&&te.find("."+T.prefix+"-add, ."+T.prefix+"-rescue-add, ."+T.prefix+"-duplicate").css("display","none"))}},D=function(te,T,se){se.children&&n.each(se.children,function(ve,we){if(!we.selector)return console.log("jquery.collection.js: given collection "+te.attr("id")+" has children collections, but children's root selector is undefined."),!0;T!==null?T.find(we.selector).collection(we):te.find(we.selector).collection(we)})},W=function(te,T,se,ve,we,Ve,We,ke){if(we.length<ve.max&&(ke&&g(ve.before_duplicate(se,Ve))||g(ve.before_add(se,Ve)))){var K=se.data("prototype"),F=se.data("collection-offset");se.data("collection-offset",F+1),We===-1&&(We=we.length-1);var Ce=new RegExp(b(ve.prototype_name),"g"),Pe=F;ve.preserve_names&&(Pe=se.data("collection-free-key"),Pe===void 0&&(Pe=ue(ve,we)),se.data("collection-free-key",Pe+1));var q=n(K.replace(Ce,Pe)).data("index",F);De(ve,q);var he=n(ve.elements_parent_selector),Te=he.find("> ."+ve.prefix+"-tmp");if(n(q).find("[id]").first().attr("id"),ke){var ze=we.eq(We);M(ze);var Xe=n("<div/>").append(ze.clone()).html(),et=ve.preserve_names||ve.position_field_selector?ze.data("index"):We,nt=ve.preserve_names?me(ve,ze):et,Lt=k(se,ve,Xe,et,F,nt,Pe);q=n("<div/>").html(Lt).contents().data("index",F),ve.fade_in&&q.hide(),Te.before(q).find(ve.prefix+"-actions").remove()}else ve.fade_in&&q.hide(),Te.before(q);we=se.find(ve.elements_selector);var Mt=q.find("."+ve.prefix+"-add, ."+ve.prefix+"-duplicate");Mt.length>0&&Mt.addClass(ve.prefix+"-action").data("collection",se.attr("id")),!ve.add_at_the_end&&We+1!==F?we=ee(se,ve,we,q,F,We+1):E(se,ve,!1),D(se,q,ve),(ke&&!g(ve.after_duplicate(se,q))||!g(ve.after_add(se,q)))&&(We!==-1&&(we=U(se,we,ve,We+1)),q.remove())}if(q!==void 0&&ve.fade_in)q.fadeIn("fast",function(){ve.position_field_selector&&fe(ve,we)});else if(ve.position_field_selector)return fe(ve,we);return we},B=function(te,T,se,ve,we){if(se.length>T.min&&g(T.before_remove(te,ve))){var Ve=function(){var We=ve;T.preserve_names||(se=U(te,se,T,we),We=se.last());var ke=We.clone({withDataAndEvents:!0}).show();if(We.remove(),!g(T.after_remove(te,ke))){var K=n(T.elements_parent_selector);K.find("> ."+T.prefix+"-tmp").before(ke),se=te.find(T.elements_selector),se=P(te,se,T,we-1)}T.position_field_selector&&fe(T,se)};T.fade_out?ve.fadeOut("fast",function(){Ve()}):Ve()}return se},H=function(te,T,se,ve,we){return we!==0&&g(T.before_up(te,ve))&&(se=G(te,se,we,we-1),g(T.after_up(te,ve))||(se=G(te,se,we-1,we))),T.position_field_selector?fe(T,se):se},j=function(te,T,se,ve,we){return we!==se.length-1&&g(T.before_down(te,ve))&&(se=G(te,se,we,we+1),g(T.after_down(te,se))||(se=G(te,se,we+1,we))),T.position_field_selector?fe(T,se):se},ee=function(te,T,se,ve,we,Ve){return Math.abs(Ve-we)===1?(se=G(te,se,we,Ve),(Ve-we>0?g(T.after_up(te,ve)):g(T.after_down(te,ve)))||(se=G(te,se,Ve,we))):we<Ve?(se=R(te,se,T,we,Ve),(Ve-we>0?g(T.after_up(te,ve)):g(T.after_down(te,ve)))||(se=Z(te,se,T,Ve,we))):(se=Z(te,se,T,we,Ve),(Ve-we>0?g(T.after_up(te,ve)):g(T.after_down(te,ve)))||(se=R(te,se,T,Ve,we))),E(te,T,!1),T.position_field_selector?fe(T,se):se},fe=function(te,T){return n(T).each(function(){var se=n(this);p(se.find(te.position_field_selector),T.index(se))}),T},me=function(te,T){var se=T.find(':input[name^="'+te.name_prefix+'["]').attr("name");return se.slice(te.name_prefix.length+1).split("]",1)[0]},ue=function(te,T){var se=0;return T.each(function(){var ve=me(te,n(this));/^0|[1-9]\d*$/.test(ve)&&ve>=se&&(se=Number(ve)+1)}),se},De=function(te,T){var se=["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"];n.each(se,function(){var ve=this;T.each(function(){var we=n(this);we.hasClass(te.user_prefix+ve)&&we.addClass(te.prefix+ve),we.find("*").each(function(){var Ve=n(this);Ve.hasClass(te.user_prefix+ve)&&Ve.addClass(te.prefix+ve)})})})},be=n(this);return be.length===0?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(be.each(function(){var te=n.extend(!0,{},r,e);if(n(te.container).length===0)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var T=n(this);if(T.data("collection")!==void 0){var se=n("#"+T.data("collection"));if(se.length===0)return console.log("jquery.collection.js: given collection id does not exist."),!0}else se=T;if(se=n(se),te.elements_parent_selector=te.elements_parent_selector.replace("%id%","#"+c("",se)),!te.elements_parent_selector&&(te.elements_parent_selector="#"+c("",se),n(te.elements_parent_selector).length===0))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(te.user_prefix=te.prefix,te.prefix=se.attr("id")+"-"+te.user_prefix,De(te,se),te.allow_add||(te.allow_duplicate=!1,te.add_at_the_end=!1),te.init_with_n_elements>te.max&&(te.init_with_n_elements=te.max),te.min&&(!te.init_with_n_elements||te.init_with_n_elements<te.min)&&(te.init_with_n_elements=te.min),te.before_init(se),se.data("prototype")===null)return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(se.data("prototype-name")!==void 0&&(te.prototype_name=se.data("prototype-name")),se.data("allow-add")!==void 0&&(te.allow_add=se.data("allow-add"),te.allow_duplicate=se.data("allow-add")?te.allow_duplicate:!1),se.data("allow-remove")!==void 0&&(te.allow_remove=se.data("allow-remove")),se.data("name-prefix")!==void 0&&(te.name_prefix=se.data("name-prefix")),!te.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;if(te.preserve_names&&(te.allow_up=!1,te.allow_down=!1,te.drag_drop=!1,te.add_at_the_end=!0),typeof jQuery.ui<"u"&&typeof jQuery.ui.sortable<"u"&&se.data("sortable")&&se.sortable("disable"),te.drag_drop&&te.allow_up&&te.allow_down){var ve,we;typeof jQuery.ui>"u"||typeof jQuery.ui.sortable>"u"?te.drag_drop=!1:se.sortable(n.extend(!0,{},{start:function(F,Ce){var Pe=se.find(te.elements_selector),q=Ce.item,he=n(this);if(!g(te.drag_drop_start(F,Ce,Pe,q))){he.sortable("cancel");return}Ce.placeholder.height(Ce.item.height()),Ce.placeholder.width(Ce.item.width()),ve=Pe.index(q)},update:function(F,Ce){var Pe=se.find(te.elements_selector),q=Ce.item,he=n(this);he.sortable("cancel"),!(te.drag_drop_update(F,Ce,Pe,q)===!1||!(we-ve>0?g(te.before_up(se,q)):g(te.before_down(se,q))))&&(we=Pe.index(q),Pe=se.find(te.elements_selector),ee(se,te,Pe,q,ve,we))}},te.drag_drop_options))}se.data("collection-settings",te);var Ve=n(te.container);if(Ve.off("click","."+te.prefix+"-action").on("click","."+te.prefix+"-action",function(F){var Ce=n(this),Pe=n("#"+Ce.data("collection")),q=Pe.data("collection-settings");if(q===void 0){var Pe=n("#"+Ce.data("collection")).find("."+Ce.data("collection")+"-collection"),q=Pe.data("collection-settings");if(q===void 0)throw"Can't find collection: "+Ce.data("collection")}var he=Pe.find(q.elements_selector),Te=Ce.data("element")?n("#"+Ce.data("element")):void 0,ze=Te&&Te.length?he.index(Te):-1,Xe=null,et=Ce.is("."+q.prefix+"-duplicate");(Ce.is("."+q.prefix+"-add")||Ce.is("."+q.prefix+"-rescue-add")||et)&&q.allow_add&&(Xe="add",he=W(Ve,Ce,Pe,q,he,Te,ze,et)),Ce.is("."+q.prefix+"-remove")&&q.allow_remove&&(Xe="remove",he=B(Pe,q,he,Te,ze)),Ce.is("."+q.prefix+"-up")&&q.allow_up&&(Xe="up",he=H(Pe,q,he,Te,ze)),Ce.is("."+q.prefix+"-down")&&q.allow_down&&(Xe="down",he=j(Pe,q,he,Te,ze)),E(Pe,q,!1,Xe),F.preventDefault()}),E(se,te,!0),D(se,null,te),te.position_field_selector){var We=[],ke=se.find(te.elements_selector);ke.each(function(F){var Ce=n(this);We.push({position:parseFloat(l(Ce.find(te.position_field_selector))),element:Ce})});var K=function(F,Ce){return F.position<Ce.position?-1:F.position>Ce.position?1:0};We.sort(K),n.each(We,function(F,Ce){var Pe=[];n(ke).each(function(Te){Pe.push(n(this).attr("id"))});var q=Ce.element,he=n.inArray(q.attr("id"),Pe);F!==he&&(ke=ee(se,te,ke,q,he,F),p(q.find(te.position_field_selector),ke.index(q)))})}te.after_init(se)}),!0)}})(jQuery);var Xd={exports:{}},Gm;function Ix(){return Gm||(Gm=1,function(n){(function(e,r,s){if(!e)return;for(var c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},g={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},b,w=1;w<20;++w)c[111+w]="f"+w;for(w=0;w<=9;++w)c[w+96]=w.toString();function C(j,ee,fe){if(j.addEventListener){j.addEventListener(ee,fe,!1);return}j.attachEvent("on"+ee,fe)}function k(j){if(j.type=="keypress"){var ee=String.fromCharCode(j.which);return j.shiftKey||(ee=ee.toLowerCase()),ee}return c[j.which]?c[j.which]:l[j.which]?l[j.which]:String.fromCharCode(j.which).toLowerCase()}function M(j,ee){return j.sort().join(",")===ee.sort().join(",")}function G(j){var ee=[];return j.shiftKey&&ee.push("shift"),j.altKey&&ee.push("alt"),j.ctrlKey&&ee.push("ctrl"),j.metaKey&&ee.push("meta"),ee}function R(j){if(j.preventDefault){j.preventDefault();return}j.returnValue=!1}function Z(j){if(j.stopPropagation){j.stopPropagation();return}j.cancelBubble=!0}function U(j){return j=="shift"||j=="ctrl"||j=="alt"||j=="meta"}function P(){if(!b){b={};for(var j in c)j>95&&j<112||c.hasOwnProperty(j)&&(b[c[j]]=j)}return b}function E(j,ee,fe){return fe||(fe=P()[j]?"keydown":"keypress"),fe=="keypress"&&ee.length&&(fe="keydown"),fe}function D(j){return j==="+"?["+"]:(j=j.replace(/\+{2}/g,"+plus"),j.split("+"))}function W(j,ee){var fe,me,ue,De=[];for(fe=D(j),ue=0;ue<fe.length;++ue)me=fe[ue],g[me]&&(me=g[me]),ee&&ee!="keypress"&&p[me]&&(me=p[me],De.push("shift")),U(me)&&De.push(me);return ee=E(me,De,ee),{key:me,modifiers:De,action:ee}}function B(j,ee){return j===null||j===r?!1:j===ee?!0:B(j.parentNode,ee)}function H(j){var ee=this;if(j=j||r,!(ee instanceof H))return new H(j);ee.target=j,ee._callbacks={},ee._directMap={};var fe={},me,ue=!1,De=!1,be=!1;function te(ke){ke=ke||{};var K=!1,F;for(F in fe){if(ke[F]){K=!0;continue}fe[F]=0}K||(be=!1)}function T(ke,K,F,Ce,Pe,q){var he,Te,ze=[],Xe=F.type;if(!ee._callbacks[ke])return[];for(Xe=="keyup"&&U(ke)&&(K=[ke]),he=0;he<ee._callbacks[ke].length;++he)if(Te=ee._callbacks[ke][he],!(!Ce&&Te.seq&&fe[Te.seq]!=Te.level)&&Xe==Te.action&&(Xe=="keypress"&&!F.metaKey&&!F.ctrlKey||M(K,Te.modifiers))){var et=!Ce&&Te.combo==Pe,nt=Ce&&Te.seq==Ce&&Te.level==q;(et||nt)&&ee._callbacks[ke].splice(he,1),ze.push(Te)}return ze}function se(ke,K,F,Ce){ee.stopCallback(K,K.target||K.srcElement,F,Ce)||ke(K,F)===!1&&(R(K),Z(K))}ee._handleKey=function(ke,K,F){var Ce=T(ke,K,F),Pe,q={},he=0,Te=!1;for(Pe=0;Pe<Ce.length;++Pe)Ce[Pe].seq&&(he=Math.max(he,Ce[Pe].level));for(Pe=0;Pe<Ce.length;++Pe){if(Ce[Pe].seq){if(Ce[Pe].level!=he)continue;Te=!0,q[Ce[Pe].seq]=1,se(Ce[Pe].callback,F,Ce[Pe].combo,Ce[Pe].seq);continue}Te||se(Ce[Pe].callback,F,Ce[Pe].combo)}var ze=F.type=="keypress"&&De;F.type==be&&!U(ke)&&!ze&&te(q),De=Te&&F.type=="keydown"};function ve(ke){typeof ke.which!="number"&&(ke.which=ke.keyCode);var K=k(ke);if(K){if(ke.type=="keyup"&&ue===K){ue=!1;return}ee.handleKey(K,G(ke),ke)}}function we(){clearTimeout(me),me=setTimeout(te,1e3)}function Ve(ke,K,F,Ce){fe[ke]=0;function Pe(Xe){return function(){be=Xe,++fe[ke],we()}}function q(Xe){se(F,Xe,ke),Ce!=="keyup"&&(ue=k(Xe)),setTimeout(te,10)}for(var he=0;he<K.length;++he){var Te=he+1===K.length,ze=Te?q:Pe(Ce||W(K[he+1]).action);We(K[he],ze,Ce,ke,he)}}function We(ke,K,F,Ce,Pe){ee._directMap[ke+":"+F]=K,ke=ke.replace(/\s+/g," ");var q=ke.split(" "),he;if(q.length>1){Ve(ke,q,K,F);return}he=W(ke,F),ee._callbacks[he.key]=ee._callbacks[he.key]||[],T(he.key,he.modifiers,{type:he.action},Ce,ke,Pe),ee._callbacks[he.key][Ce?"unshift":"push"]({callback:K,modifiers:he.modifiers,action:he.action,seq:Ce,level:Pe,combo:ke})}ee._bindMultiple=function(ke,K,F){for(var Ce=0;Ce<ke.length;++Ce)We(ke[Ce],K,F)},C(j,"keypress",ve),C(j,"keydown",ve),C(j,"keyup",ve)}H.prototype.bind=function(j,ee,fe){var me=this;return j=j instanceof Array?j:[j],me._bindMultiple.call(me,j,ee,fe),me},H.prototype.unbind=function(j,ee){var fe=this;return fe.bind.call(fe,j,function(){},ee)},H.prototype.trigger=function(j,ee){var fe=this;return fe._directMap[j+":"+ee]&&fe._directMap[j+":"+ee]({},j),fe},H.prototype.reset=function(){var j=this;return j._callbacks={},j._directMap={},j},H.prototype.stopCallback=function(j,ee){var fe=this;if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||B(ee,fe.target))return!1;if("composedPath"in j&&typeof j.composedPath=="function"){var me=j.composedPath()[0];me!==j.target&&(ee=me)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},H.prototype.handleKey=function(){var j=this;return j._handleKey.apply(j,arguments)},H.addKeycodes=function(j){for(var ee in j)j.hasOwnProperty(ee)&&(c[ee]=j[ee]);b=null},H.init=function(){var j=H(r);for(var ee in j)ee.charAt(0)!=="_"&&(H[ee]=function(fe){return function(){return j[fe].apply(j,arguments)}}(ee))},H.init(),e.Mousetrap=H,n.exports&&(n.exports=H)})(typeof window<"u"?window:null,typeof window<"u"?document:null)}(Xd)),Xd.exports}Ix();var Ih={exports:{}},Fx=Ih.exports,Xm;function ps(){return Xm||(Xm=1,function(n,e){(function(r,s){n.exports=s()})(Fx,function(){var r=navigator.userAgent,s=navigator.platform,c=/gecko\/\d/i.test(r),l=/MSIE \d/.test(r),p=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),g=/Edge\/(\d+)/.exec(r),b=l||p||g,w=b&&(l?document.documentMode||6:+(g||p)[1]),C=!g&&/WebKit\//.test(r),k=C&&/Qt\/\d+\.\d+/.test(r),M=!g&&/Chrome\/(\d+)/.exec(r),G=M&&+M[1],R=/Opera\//.test(r),Z=/Apple Computer/.test(navigator.vendor),U=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),P=/PhantomJS/.test(r),E=Z&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),D=/Android/.test(r),W=E||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),B=E||/Mac/.test(s),H=/\bCrOS\b/.test(r),j=/win/i.test(s),ee=R&&r.match(/Version\/(\d*\.\d*)/);ee&&(ee=Number(ee[1])),ee&&ee>=15&&(R=!1,C=!0);var fe=B&&(k||R&&(ee==null||ee<12.11)),me=c||b&&w>=9;function ue(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var De=function(t,a){var h=t.className,f=ue(a).exec(h);if(f){var v=h.slice(f.index+f[0].length);t.className=h.slice(0,f.index)+(v?f[1]+v:"")}};function be(t){for(var a=t.childNodes.length;a>0;--a)t.removeChild(t.firstChild);return t}function te(t,a){return be(t).appendChild(a)}function T(t,a,h,f){var v=document.createElement(t);if(h&&(v.className=h),f&&(v.style.cssText=f),typeof a=="string")v.appendChild(document.createTextNode(a));else if(a)for(var x=0;x<a.length;++x)v.appendChild(a[x]);return v}function se(t,a,h,f){var v=T(t,a,h,f);return v.setAttribute("role","presentation"),v}var ve;document.createRange?ve=function(t,a,h,f){var v=document.createRange();return v.setEnd(f||t,h),v.setStart(t,a),v}:ve=function(t,a,h){var f=document.body.createTextRange();try{f.moveToElementText(t.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",h),f.moveStart("character",a),f};function we(t,a){if(a.nodeType==3&&(a=a.parentNode),t.contains)return t.contains(a);do if(a.nodeType==11&&(a=a.host),a==t)return!0;while(a=a.parentNode)}function Ve(t){var a;try{a=t.activeElement}catch{a=t.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function We(t,a){var h=t.className;ue(a).test(h)||(t.className+=(h?" ":"")+a)}function ke(t,a){for(var h=t.split(" "),f=0;f<h.length;f++)h[f]&&!ue(h[f]).test(a)&&(a+=" "+h[f]);return a}var K=function(t){t.select()};E?K=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:b&&(K=function(t){try{t.select()}catch{}});function F(t){return t.display.wrapper.ownerDocument}function Ce(t){return F(t).defaultView}function Pe(t){var a=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,a)}}function q(t,a,h){a||(a={});for(var f in t)t.hasOwnProperty(f)&&(h!==!1||!a.hasOwnProperty(f))&&(a[f]=t[f]);return a}function he(t,a,h,f,v){a==null&&(a=t.search(/[^\s\u00a0]/),a==-1&&(a=t.length));for(var x=f||0,A=v||0;;){var I=t.indexOf("	",x);if(I<0||I>=a)return A+(a-x);A+=I-x,A+=h-A%h,x=I+1}}var Te=function(){this.id=null,this.f=null,this.time=0,this.handler=Pe(this.onTimeout,this)};Te.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},Te.prototype.set=function(t,a){this.f=a;var h=+new Date+t;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=h)};function ze(t,a){for(var h=0;h<t.length;++h)if(t[h]==a)return h;return-1}var Xe=50,et={toString:function(){return"CodeMirror.Pass"}},nt={scroll:!1},Lt={origin:"*mouse"},Mt={origin:"+move"};function Ft(t,a,h){for(var f=0,v=0;;){var x=t.indexOf("	",f);x==-1&&(x=t.length);var A=x-f;if(x==t.length||v+A>=a)return f+Math.min(A,a-v);if(v+=x-f,v+=h-v%h,f=x+1,v>=a)return f}}var _t=[""];function Pt(t){for(;_t.length<=t;)_t.push(Et(_t)+" ");return _t[t]}function Et(t){return t[t.length-1]}function $t(t,a){for(var h=[],f=0;f<t.length;f++)h[f]=a(t[f],f);return h}function X(t,a,h){for(var f=0,v=h(a);f<t.length&&h(t[f])<=v;)f++;t.splice(f,0,a)}function le(){}function V(t,a){var h;return Object.create?h=Object.create(t):(le.prototype=t,h=new le),a&&q(a,h),h}var ce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function pe(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||ce.test(t))}function He(t,a){return a?a.source.indexOf("\\w")>-1&&pe(t)?!0:a.test(t):pe(t)}function at(t){for(var a in t)if(t.hasOwnProperty(a)&&t[a])return!1;return!0}var Qe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function mt(t){return t.charCodeAt(0)>=768&&Qe.test(t)}function Ot(t,a,h){for(;(h<0?a>0:a<t.length)&&mt(t.charAt(a));)a+=h;return a}function ut(t,a,h){for(var f=a>h?-1:1;;){if(a==h)return a;var v=(a+h)/2,x=f<0?Math.ceil(v):Math.floor(v);if(x==a)return t(x)?a:h;t(x)?h=x:a=x+f}}function Xt(t,a,h,f){if(!t)return f(a,h,"ltr",0);for(var v=!1,x=0;x<t.length;++x){var A=t[x];(A.from<h&&A.to>a||a==h&&A.to==a)&&(f(Math.max(A.from,a),Math.min(A.to,h),A.level==1?"rtl":"ltr",x),v=!0)}v||f(a,h,"ltr")}var ti=null;function bt(t,a,h){var f;ti=null;for(var v=0;v<t.length;++v){var x=t[v];if(x.from<a&&x.to>a)return v;x.to==a&&(x.from!=x.to&&h=="before"?f=v:ti=v),x.from==a&&(x.from!=x.to&&h!="before"?f=v:ti=v)}return f??ti}var _i=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function h(Y){return Y<=247?t.charAt(Y):1424<=Y&&Y<=1524?"R":1536<=Y&&Y<=1785?a.charAt(Y-1536):1774<=Y&&Y<=2220?"r":8192<=Y&&Y<=8203?"w":Y==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,x=/[LRr]/,A=/[Lb1n]/,I=/[1n]/;function z(Y,ge,xe){this.level=Y,this.from=ge,this.to=xe}return function(Y,ge){var xe=ge=="ltr"?"L":"R";if(Y.length==0||ge=="ltr"&&!f.test(Y))return!1;for(var Ne=Y.length,Ie=[],Ye=0;Ye<Ne;++Ye)Ie.push(h(Y.charCodeAt(Ye)));for(var it=0,ht=xe;it<Ne;++it){var vt=Ie[it];vt=="m"?Ie[it]=ht:ht=vt}for(var xt=0,gt=xe;xt<Ne;++xt){var St=Ie[xt];St=="1"&&gt=="r"?Ie[xt]="n":x.test(St)&&(gt=St,St=="r"&&(Ie[xt]="R"))}for(var Ht=1,zt=Ie[0];Ht<Ne-1;++Ht){var ei=Ie[Ht];ei=="+"&&zt=="1"&&Ie[Ht+1]=="1"?Ie[Ht]="1":ei==","&&zt==Ie[Ht+1]&&(zt=="1"||zt=="n")&&(Ie[Ht]=zt),zt=ei}for(var Fi=0;Fi<Ne;++Fi){var Ln=Ie[Fi];if(Ln==",")Ie[Fi]="N";else if(Ln=="%"){var Ki=void 0;for(Ki=Fi+1;Ki<Ne&&Ie[Ki]=="%";++Ki);for(var rr=Fi&&Ie[Fi-1]=="!"||Ki<Ne&&Ie[Ki]=="1"?"1":"N",dr=Fi;dr<Ki;++dr)Ie[dr]=rr;Fi=Ki-1}}for(var Ri=0,vn=xe;Ri<Ne;++Ri){var Vn=Ie[Ri];vn=="L"&&Vn=="1"?Ie[Ri]="L":x.test(Vn)&&(vn=Vn)}for(var bn=0;bn<Ne;++bn)if(v.test(Ie[bn])){var _n=void 0;for(_n=bn+1;_n<Ne&&v.test(Ie[_n]);++_n);for(var sn=(bn?Ie[bn-1]:xe)=="L",Ar=(_n<Ne?Ie[_n]:xe)=="L",bu=sn==Ar?sn?"L":"R":xe,rs=bn;rs<_n;++rs)Ie[rs]=bu;bn=_n-1}for(var or=[],aa,Wn=0;Wn<Ne;)if(A.test(Ie[Wn])){var Uc=Wn;for(++Wn;Wn<Ne&&A.test(Ie[Wn]);++Wn);or.push(new z(0,Uc,Wn))}else{var Pa=Wn,Ws=or.length,os=ge=="rtl"?1:0;for(++Wn;Wn<Ne&&Ie[Wn]!="L";++Wn);for(var ar=Pa;ar<Wn;)if(I.test(Ie[ar])){Pa<ar&&(or.splice(Ws,0,new z(1,Pa,ar)),Ws+=os);var qs=ar;for(++ar;ar<Wn&&I.test(Ie[ar]);++ar);or.splice(Ws,0,new z(2,qs,ar)),Ws+=os,Pa=ar}else++ar;Pa<Wn&&or.splice(Ws,0,new z(1,Pa,Wn))}return ge=="ltr"&&(or[0].level==1&&(aa=Y.match(/^\s+/))&&(or[0].from=aa[0].length,or.unshift(new z(0,0,aa[0].length))),Et(or).level==1&&(aa=Y.match(/\s+$/))&&(Et(or).to-=aa[0].length,or.push(new z(0,Ne-aa[0].length,Ne)))),ge=="rtl"?or.reverse():or}}();function Ni(t,a){var h=t.order;return h==null&&(h=t.order=_i(t.text,a)),h}var un=[],pt=function(t,a,h){if(t.addEventListener)t.addEventListener(a,h,!1);else if(t.attachEvent)t.attachEvent("on"+a,h);else{var f=t._handlers||(t._handlers={});f[a]=(f[a]||un).concat(h)}};function Dr(t,a){return t._handlers&&t._handlers[a]||un}function wi(t,a,h){if(t.removeEventListener)t.removeEventListener(a,h,!1);else if(t.detachEvent)t.detachEvent("on"+a,h);else{var f=t._handlers,v=f&&f[a];if(v){var x=ze(v,h);x>-1&&(f[a]=v.slice(0,x).concat(v.slice(x+1)))}}}function Mi(t,a){var h=Dr(t,a);if(h.length)for(var f=Array.prototype.slice.call(arguments,2),v=0;v<h.length;++v)h[v].apply(null,f)}function Ii(t,a,h){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),Mi(t,h||a.type,t,a),Jn(a)||a.codemirrorIgnore}function zi(t){var a=t._handlers&&t._handlers.cursorActivity;if(a)for(var h=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),f=0;f<a.length;++f)ze(h,a[f])==-1&&h.push(a[f])}function ri(t,a){return Dr(t,a).length>0}function Cn(t){t.prototype.on=function(a,h){pt(this,a,h)},t.prototype.off=function(a,h){wi(this,a,h)}}function qi(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function yo(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Jn(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Zr(t){qi(t),yo(t)}function pi(t){return t.target||t.srcElement}function Zn(t){var a=t.which;return a==null&&(t.button&1?a=1:t.button&2?a=3:t.button&4&&(a=2)),B&&t.ctrlKey&&a==1&&(a=3),a}var Mr=function(){if(b&&w<9)return!1;var t=T("div");return"draggable"in t||"dragDrop"in t}(),sr;function xo(t){if(sr==null){var a=T("span","​");te(t,T("span",[a,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(sr=a.offsetWidth<=1&&a.offsetHeight>2&&!(b&&w<8))}var h=sr?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}var fn;function It(t){if(fn!=null)return fn;var a=te(t,document.createTextNode("AخA")),h=ve(a,0,1).getBoundingClientRect(),f=ve(a,1,2).getBoundingClientRect();return be(t),!h||h.left==h.right?!1:fn=f.right-h.right<3}var jo=`

b`.split(/\n/).length!=3?function(t){for(var a=0,h=[],f=t.length;a<=f;){var v=t.indexOf(`
`,a);v==-1&&(v=t.length);var x=t.slice(a,t.charAt(v-1)=="\r"?v-1:v),A=x.indexOf("\r");A!=-1?(h.push(x.slice(0,A)),a+=A+1):(h.push(x),a=v+1)}return h}:function(t){return t.split(/\r\n?|\n/)},Pr=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var a;try{a=t.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=t?!1:a.compareEndPoints("StartToEnd",a)!=0},ur=function(){var t=T("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Xi=null;function hn(t){if(Xi!=null)return Xi;var a=te(t,T("span","x")),h=a.getBoundingClientRect(),f=ve(a,0,1).getBoundingClientRect();return Xi=Math.abs(h.left-f.left)>1}var dn={},In={};function wo(t,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),dn[t]=a}function Zo(t,a){In[t]=a}function Fn(t){if(typeof t=="string"&&In.hasOwnProperty(t))t=In[t];else if(t&&typeof t.name=="string"&&In.hasOwnProperty(t.name)){var a=In[t.name];typeof a=="string"&&(a={name:a}),t=V(a,t),t.name=a.name}else{if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Fn("application/xml");if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Fn("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function Or(t,a){a=Fn(a);var h=dn[a.name];if(!h)return Or(t,"text/plain");var f=h(t,a);if(lr.hasOwnProperty(a.name)){var v=lr[a.name];for(var x in v)v.hasOwnProperty(x)&&(f.hasOwnProperty(x)&&(f["_"+x]=f[x]),f[x]=v[x])}if(f.name=a.name,a.helperType&&(f.helperType=a.helperType),a.modeProps)for(var A in a.modeProps)f[A]=a.modeProps[A];return f}var lr={};function da(t,a){var h=lr.hasOwnProperty(t)?lr[t]:lr[t]={};q(a,h)}function Rn(t,a){if(a===!0)return a;if(t.copyState)return t.copyState(a);var h={};for(var f in a){var v=a[f];v instanceof Array&&(v=v.concat([])),h[f]=v}return h}function br(t,a){for(var h;t.innerMode&&(h=t.innerMode(a),!(!h||h.mode==t));)a=h.state,t=h.mode;return h||{mode:t,state:a}}function Nn(t,a,h){return t.startState?t.startState(a,h):!0}var Wi=function(t,a,h){this.pos=this.start=0,this.string=t,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};Wi.prototype.eol=function(){return this.pos>=this.string.length},Wi.prototype.sol=function(){return this.pos==this.lineStart},Wi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Wi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Wi.prototype.eat=function(t){var a=this.string.charAt(this.pos),h;if(typeof t=="string"?h=a==t:h=a&&(t.test?t.test(a):t(a)),h)return++this.pos,a},Wi.prototype.eatWhile=function(t){for(var a=this.pos;this.eat(t););return this.pos>a},Wi.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Wi.prototype.skipToEnd=function(){this.pos=this.string.length},Wi.prototype.skipTo=function(t){var a=this.string.indexOf(t,this.pos);if(a>-1)return this.pos=a,!0},Wi.prototype.backUp=function(t){this.pos-=t},Wi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=he(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Wi.prototype.indentation=function(){return he(this.string,null,this.tabSize)-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Wi.prototype.match=function(t,a,h){if(typeof t=="string"){var f=function(A){return h?A.toLowerCase():A},v=this.string.substr(this.pos,t.length);if(f(v)==f(t))return a!==!1&&(this.pos+=t.length),!0}else{var x=this.string.slice(this.pos).match(t);return x&&x.index>0?null:(x&&a!==!1&&(this.pos+=x[0].length),x)}},Wi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Wi.prototype.hideFirstChars=function(t,a){this.lineStart+=t;try{return a()}finally{this.lineStart-=t}},Wi.prototype.lookAhead=function(t){var a=this.lineOracle;return a&&a.lookAhead(t)},Wi.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function Dt(t,a){if(a-=t.first,a<0||a>=t.size)throw new Error("There is no line "+(a+t.first)+" in the document.");for(var h=t;!h.lines;)for(var f=0;;++f){var v=h.children[f],x=v.chunkSize();if(a<x){h=v;break}a-=x}return h.lines[a]}function Ir(t,a,h){var f=[],v=a.line;return t.iter(a.line,h.line+1,function(x){var A=x.text;v==h.line&&(A=A.slice(0,h.ch)),v==a.line&&(A=A.slice(a.ch)),f.push(A),++v}),f}function ko(t,a,h){var f=[];return t.iter(a,h,function(v){f.push(v.text)}),f}function zn(t,a){var h=a-t.height;if(h)for(var f=t;f;f=f.parent)f.height+=h}function li(t){if(t.parent==null)return null;for(var a=t.parent,h=ze(a.lines,t),f=a.parent;f;a=f,f=f.parent)for(var v=0;f.children[v]!=a;++v)h+=f.children[v].chunkSize();return h+a.first}function _r(t,a){var h=t.first;e:do{for(var f=0;f<t.children.length;++f){var v=t.children[f],x=v.height;if(a<x){t=v;continue e}a-=x,h+=v.chunkSize()}return h}while(!t.lines);for(var A=0;A<t.lines.length;++A){var I=t.lines[A],z=I.height;if(a<z)break;a-=z}return h+A}function ie(t,a){return a>=t.first&&a<t.first+t.size}function _e(t,a){return String(t.lineNumberFormatter(a+t.firstLineNumber))}function ye(t,a,h){if(h===void 0&&(h=null),!(this instanceof ye))return new ye(t,a,h);this.line=t,this.ch=a,this.sticky=h}function Ue(t,a){return t.line-a.line||t.ch-a.ch}function qt(t,a){return t.sticky==a.sticky&&Ue(t,a)==0}function Qt(t){return ye(t.line,t.ch)}function ni(t,a){return Ue(t,a)<0?a:t}function ji(t,a){return Ue(t,a)<0?t:a}function jt(t,a){return Math.max(t.first,Math.min(a,t.first+t.size-1))}function kt(t,a){if(a.line<t.first)return ye(t.first,0);var h=t.first+t.size-1;return a.line>h?ye(h,Dt(t,h).text.length):Se(a,Dt(t,a.line).text.length)}function Se(t,a){var h=t.ch;return h==null||h>a?ye(t.line,a):h<0?ye(t.line,0):t}function Q(t,a){for(var h=[],f=0;f<a.length;f++)h[f]=kt(t,a[f]);return h}var oe=function(t,a){this.state=t,this.lookAhead=a},ne=function(t,a,h,f){this.state=a,this.doc=t,this.line=h,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};ne.prototype.lookAhead=function(t){var a=this.doc.getLine(this.line+t);return a!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),a},ne.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ne.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ne.fromSaved=function(t,a,h){return a instanceof oe?new ne(t,Rn(t.mode,a.state),h,a.lookAhead):new ne(t,Rn(t.mode,a),h)},ne.prototype.save=function(t){var a=t!==!1?Rn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new oe(a,this.maxLookAhead):a};function Re(t,a,h,f){var v=[t.state.modeGen],x={};ai(t,a.text,t.doc.mode,h,function(Y,ge){return v.push(Y,ge)},x,f);for(var A=h.state,I=function(Y){h.baseTokens=v;var ge=t.state.overlays[Y],xe=1,Ne=0;h.state=!0,ai(t,a.text,ge.mode,h,function(Ie,Ye){for(var it=xe;Ne<Ie;){var ht=v[xe];ht>Ie&&v.splice(xe,1,Ie,v[xe+1],ht),xe+=2,Ne=Math.min(Ie,ht)}if(Ye)if(ge.opaque)v.splice(it,xe-it,Ie,"overlay "+Ye),xe=it+2;else for(;it<xe;it+=2){var vt=v[it+1];v[it+1]=(vt?vt+" ":"")+"overlay "+Ye}},x),h.state=A,h.baseTokens=null,h.baseTokenPos=1},z=0;z<t.state.overlays.length;++z)I(z);return{styles:v,classes:x.bgClass||x.textClass?x:null}}function Le(t,a,h){if(!a.styles||a.styles[0]!=t.state.modeGen){var f=Me(t,li(a)),v=a.text.length>t.options.maxHighlightLength&&Rn(t.doc.mode,f.state),x=Re(t,a,f);v&&(f.state=v),a.stateAfter=f.save(!v),a.styles=x.styles,x.classes?a.styleClasses=x.classes:a.styleClasses&&(a.styleClasses=null),h===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return a.styles}function Me(t,a,h){var f=t.doc,v=t.display;if(!f.mode.startState)return new ne(f,!0,a);var x=oi(t,a,h),A=x>f.first&&Dt(f,x-1).stateAfter,I=A?ne.fromSaved(f,A,x):new ne(f,Nn(f.mode),x);return f.iter(x,a,function(z){Ge(t,z.text,I);var Y=I.line;z.stateAfter=Y==a-1||Y%5==0||Y>=v.viewFrom&&Y<v.viewTo?I.save():null,I.nextLine()}),h&&(f.modeFrontier=I.line),I}function Ge(t,a,h,f){var v=t.doc.mode,x=new Wi(a,t.options.tabSize,h);for(x.start=x.pos=f||0,a==""&&lt(v,h.state);!x.eol();)tt(v,x,h.state),x.start=x.pos}function lt(t,a){if(t.blankLine)return t.blankLine(a);if(t.innerMode){var h=br(t,a);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function tt(t,a,h,f){for(var v=0;v<10;v++){f&&(f[0]=br(t,h).mode);var x=t.token(a,h);if(a.pos>a.start)return x}throw new Error("Mode "+t.name+" failed to advance stream.")}var $e=function(t,a,h){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=a||null,this.state=h};function Ke(t,a,h,f){var v=t.doc,x=v.mode,A;a=kt(v,a);var I=Dt(v,a.line),z=Me(t,a.line,h),Y=new Wi(I.text,t.options.tabSize,z),ge;for(f&&(ge=[]);(f||Y.pos<a.ch)&&!Y.eol();)Y.start=Y.pos,A=tt(x,Y,z.state),f&&ge.push(new $e(Y,A,Rn(v.mode,z.state)));return f?ge:new $e(Y,A,z.state)}function ct(t,a){if(t)for(;;){var h=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;t=t.slice(0,h.index)+t.slice(h.index+h[0].length);var f=h[1]?"bgClass":"textClass";a[f]==null?a[f]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(a[f])||(a[f]+=" "+h[2])}return t}function ai(t,a,h,f,v,x,A){var I=h.flattenSpans;I==null&&(I=t.options.flattenSpans);var z=0,Y=null,ge=new Wi(a,t.options.tabSize,f),xe,Ne=t.options.addModeClass&&[null];for(a==""&&ct(lt(h,f.state),x);!ge.eol();){if(ge.pos>t.options.maxHighlightLength?(I=!1,A&&Ge(t,a,f,ge.pos),ge.pos=a.length,xe=null):xe=ct(tt(h,ge,f.state,Ne),x),Ne){var Ie=Ne[0].name;Ie&&(xe="m-"+(xe?Ie+" "+xe:Ie))}if(!I||Y!=xe){for(;z<ge.start;)z=Math.min(ge.start,z+5e3),v(z,Y);Y=xe}ge.start=ge.pos}for(;z<ge.pos;){var Ye=Math.min(ge.pos,z+5e3);v(Ye,Y),z=Ye}}function oi(t,a,h){for(var f,v,x=t.doc,A=h?-1:a-(t.doc.mode.innerMode?1e3:100),I=a;I>A;--I){if(I<=x.first)return x.first;var z=Dt(x,I-1),Y=z.stateAfter;if(Y&&(!h||I+(Y instanceof oe?Y.lookAhead:0)<=x.modeFrontier))return I;var ge=he(z.text,null,t.options.tabSize);(v==null||f>ge)&&(v=I-1,f=ge)}return v}function Oi(t,a){if(t.modeFrontier=Math.min(t.modeFrontier,a),!(t.highlightFrontier<a-10)){for(var h=t.first,f=a-1;f>h;f--){var v=Dt(t,f).stateAfter;if(v&&(!(v instanceof oe)||f+v.lookAhead<a)){h=f+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,h)}}var mi=!1,ki=!1;function on(){mi=!0}function Zi(){ki=!0}function er(t,a,h){this.marker=t,this.from=a,this.to=h}function Rt(t,a){if(t)for(var h=0;h<t.length;++h){var f=t[h];if(f.marker==a)return f}}function dt(t,a){for(var h,f=0;f<t.length;++f)t[f]!=a&&(h||(h=[])).push(t[f]);return h}function Bt(t,a,h){var f=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));f&&t.markedSpans&&f.has(t.markedSpans)?t.markedSpans.push(a):(t.markedSpans=t.markedSpans?t.markedSpans.concat([a]):[a],f&&f.add(t.markedSpans)),a.marker.attachLine(t)}function $i(t,a,h){var f;if(t)for(var v=0;v<t.length;++v){var x=t[v],A=x.marker,I=x.from==null||(A.inclusiveLeft?x.from<=a:x.from<a);if(I||x.from==a&&A.type=="bookmark"&&(!h||!x.marker.insertLeft)){var z=x.to==null||(A.inclusiveRight?x.to>=a:x.to>a);(f||(f=[])).push(new er(A,x.from,z?null:x.to))}}return f}function En(t,a,h){var f;if(t)for(var v=0;v<t.length;++v){var x=t[v],A=x.marker,I=x.to==null||(A.inclusiveRight?x.to>=a:x.to>a);if(I||x.from==a&&A.type=="bookmark"&&(!h||x.marker.insertLeft)){var z=x.from==null||(A.inclusiveLeft?x.from<=a:x.from<a);(f||(f=[])).push(new er(A,z?null:x.from-a,x.to==null?null:x.to-a))}}return f}function tr(t,a){if(a.full)return null;var h=ie(t,a.from.line)&&Dt(t,a.from.line).markedSpans,f=ie(t,a.to.line)&&Dt(t,a.to.line).markedSpans;if(!h&&!f)return null;var v=a.from.ch,x=a.to.ch,A=Ue(a.from,a.to)==0,I=$i(h,v,A),z=En(f,x,A),Y=a.text.length==1,ge=Et(a.text).length+(Y?v:0);if(I)for(var xe=0;xe<I.length;++xe){var Ne=I[xe];if(Ne.to==null){var Ie=Rt(z,Ne.marker);Ie?Y&&(Ne.to=Ie.to==null?null:Ie.to+ge):Ne.to=v}}if(z)for(var Ye=0;Ye<z.length;++Ye){var it=z[Ye];if(it.to!=null&&(it.to+=ge),it.from==null){var ht=Rt(I,it.marker);ht||(it.from=ge,Y&&(I||(I=[])).push(it))}else it.from+=ge,Y&&(I||(I=[])).push(it)}I&&(I=Fr(I)),z&&z!=I&&(z=Fr(z));var vt=[I];if(!Y){var xt=a.text.length-2,gt;if(xt>0&&I)for(var St=0;St<I.length;++St)I[St].to==null&&(gt||(gt=[])).push(new er(I[St].marker,null,null));for(var Ht=0;Ht<xt;++Ht)vt.push(gt);vt.push(z)}return vt}function Fr(t){for(var a=0;a<t.length;++a){var h=t[a];h.from!=null&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&t.splice(a--,1)}return t.length?t:null}function ir(t,a,h){var f=null;if(t.iter(a.line,h.line+1,function(Ie){if(Ie.markedSpans)for(var Ye=0;Ye<Ie.markedSpans.length;++Ye){var it=Ie.markedSpans[Ye].marker;it.readOnly&&(!f||ze(f,it)==-1)&&(f||(f=[])).push(it)}}),!f)return null;for(var v=[{from:a,to:h}],x=0;x<f.length;++x)for(var A=f[x],I=A.find(0),z=0;z<v.length;++z){var Y=v[z];if(!(Ue(Y.to,I.from)<0||Ue(Y.from,I.to)>0)){var ge=[z,1],xe=Ue(Y.from,I.from),Ne=Ue(Y.to,I.to);(xe<0||!A.inclusiveLeft&&!xe)&&ge.push({from:Y.from,to:I.from}),(Ne>0||!A.inclusiveRight&&!Ne)&&ge.push({from:I.to,to:Y.to}),v.splice.apply(v,ge),z+=ge.length-3}}return v}function yr(t){var a=t.markedSpans;if(a){for(var h=0;h<a.length;++h)a[h].marker.detachLine(t);t.markedSpans=null}}function Bn(t,a){if(a){for(var h=0;h<a.length;++h)a[h].marker.attachLine(t);t.markedSpans=a}}function Nt(t){return t.inclusiveLeft?-1:0}function ii(t){return t.inclusiveRight?1:0}function Co(t,a){var h=t.lines.length-a.lines.length;if(h!=0)return h;var f=t.find(),v=a.find(),x=Ue(f.from,v.from)||Nt(t)-Nt(a);if(x)return-x;var A=Ue(f.to,v.to)||ii(t)-ii(a);return A||a.id-t.id}function pa(t,a){var h=ki&&t.markedSpans,f;if(h)for(var v=void 0,x=0;x<h.length;++x)v=h[x],v.marker.collapsed&&(a?v.from:v.to)==null&&(!f||Co(f,v.marker)<0)&&(f=v.marker);return f}function Ha(t){return pa(t,!0)}function Go(t){return pa(t,!1)}function Ua(t,a){var h=ki&&t.markedSpans,f;if(h)for(var v=0;v<h.length;++v){var x=h[v];x.marker.collapsed&&(x.from==null||x.from<a)&&(x.to==null||x.to>a)&&(!f||Co(f,x.marker)<0)&&(f=x.marker)}return f}function bs(t,a,h,f,v){var x=Dt(t,a),A=ki&&x.markedSpans;if(A)for(var I=0;I<A.length;++I){var z=A[I];if(z.marker.collapsed){var Y=z.marker.find(0),ge=Ue(Y.from,h)||Nt(z.marker)-Nt(v),xe=Ue(Y.to,f)||ii(z.marker)-ii(v);if(!(ge>=0&&xe<=0||ge<=0&&xe>=0)&&(ge<=0&&(z.marker.inclusiveRight&&v.inclusiveLeft?Ue(Y.to,h)>=0:Ue(Y.to,h)>0)||ge>=0&&(z.marker.inclusiveRight&&v.inclusiveLeft?Ue(Y.from,f)<=0:Ue(Y.from,f)<0)))return!0}}}function Gn(t){for(var a;a=Ha(t);)t=a.find(-1,!0).line;return t}function gi(t){for(var a;a=Go(t);)t=a.find(1,!0).line;return t}function pn(t){for(var a,h;a=Go(t);)t=a.find(1,!0).line,(h||(h=[])).push(t);return h}function nr(t,a){var h=Dt(t,a),f=Gn(h);return h==f?a:li(f)}function Rr(t,a){if(a>t.lastLine())return a;var h=Dt(t,a),f;if(!to(t,h))return a;for(;f=Go(h);)h=f.find(1,!0).line;return li(h)+1}function to(t,a){var h=ki&&a.markedSpans;if(h){for(var f=void 0,v=0;v<h.length;++v)if(f=h[v],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&_s(t,a,f))return!0}}}function _s(t,a,h){if(h.to==null){var f=h.marker.find(1,!0);return _s(t,f.line,Rt(f.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==a.text.length)return!0;for(var v=void 0,x=0;x<a.markedSpans.length;++x)if(v=a.markedSpans[x],v.marker.collapsed&&!v.marker.widgetNode&&v.from==h.to&&(v.to==null||v.to!=h.from)&&(v.marker.inclusiveLeft||h.marker.inclusiveRight)&&_s(t,a,v))return!0}function Qi(t){t=Gn(t);for(var a=0,h=t.parent,f=0;f<h.lines.length;++f){var v=h.lines[f];if(v==t)break;a+=v.height}for(var x=h.parent;x;h=x,x=h.parent)for(var A=0;A<x.children.length;++A){var I=x.children[A];if(I==h)break;a+=I.height}return a}function ys(t){if(t.height==0)return 0;for(var a=t.text.length,h,f=t;h=Ha(f);){var v=h.find(0,!0);f=v.from.line,a+=v.from.ch-v.to.ch}for(f=t;h=Go(f);){var x=h.find(0,!0);a-=f.text.length-x.from.ch,f=x.to.line,a+=f.text.length-x.to.ch}return a}function xs(t){var a=t.display,h=t.doc;a.maxLine=Dt(h,h.first),a.maxLineLength=ys(a.maxLine),a.maxLineChanged=!0,h.iter(function(f){var v=ys(f);v>a.maxLineLength&&(a.maxLineLength=v,a.maxLine=f)})}var ma=function(t,a,h){this.text=t,Bn(this,a),this.height=h?h(this):1};ma.prototype.lineNo=function(){return li(this)},Cn(ma);function fl(t,a,h,f){t.text=a,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),yr(t),Bn(t,h);var v=f?f(t):1;v!=t.height&&zn(t,v)}function Ks(t){t.parent=null,yr(t)}var hl={},Ji={};function dl(t,a){if(!t||/^\s*$/.test(t))return null;var h=a.addModeClass?Ji:hl;return h[t]||(h[t]=t.replace(/\S+/g,"cm-$&"))}function cr(t,a){var h=se("span",null,null,C?"padding-right: .1px":null),f={pre:se("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};a.measure={};for(var v=0;v<=(a.rest?a.rest.length:0);v++){var x=v?a.rest[v-1]:a.line,A=void 0;f.pos=0,f.addToken=Pu,It(t.display.measure)&&(A=Ni(x,t.doc.direction))&&(f.addToken=$s(f.addToken,A)),f.map=[];var I=a!=t.display.externalMeasured&&li(x);Hi(x,f,Le(t,x,I)),x.styleClasses&&(x.styleClasses.bgClass&&(f.bgClass=ke(x.styleClasses.bgClass,f.bgClass||"")),x.styleClasses.textClass&&(f.textClass=ke(x.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(xo(t.display.measure))),v==0?(a.measure.map=f.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(f.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(C){var z=f.content.lastChild;(/\bcm-tab\b/.test(z.className)||z.querySelector&&z.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return Mi(t,"renderLine",t,a.line,f.pre),f.pre.className&&(f.textClass=ke(f.pre.className,f.textClass||"")),f}function Xo(t){var a=T("span","•","cm-invalidchar");return a.title="\\u"+t.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function Pu(t,a,h,f,v,x,A){if(a){var I=t.splitSpaces?Eo(a,t.trailingSpace):a,z=t.cm.state.specialChars,Y=!1,ge;if(!z.test(a))t.col+=a.length,ge=document.createTextNode(I),t.map.push(t.pos,t.pos+a.length,ge),b&&w<9&&(Y=!0),t.pos+=a.length;else{ge=document.createDocumentFragment();for(var xe=0;;){z.lastIndex=xe;var Ne=z.exec(a),Ie=Ne?Ne.index-xe:a.length-xe;if(Ie){var Ye=document.createTextNode(I.slice(xe,xe+Ie));b&&w<9?ge.appendChild(T("span",[Ye])):ge.appendChild(Ye),t.map.push(t.pos,t.pos+Ie,Ye),t.col+=Ie,t.pos+=Ie}if(!Ne)break;xe+=Ie+1;var it=void 0;if(Ne[0]=="	"){var ht=t.cm.options.tabSize,vt=ht-t.col%ht;it=ge.appendChild(T("span",Pt(vt),"cm-tab")),it.setAttribute("role","presentation"),it.setAttribute("cm-text","	"),t.col+=vt}else Ne[0]=="\r"||Ne[0]==`
`?(it=ge.appendChild(T("span",Ne[0]=="\r"?"␍":"␤","cm-invalidchar")),it.setAttribute("cm-text",Ne[0]),t.col+=1):(it=t.cm.options.specialCharPlaceholder(Ne[0]),it.setAttribute("cm-text",Ne[0]),b&&w<9?ge.appendChild(T("span",[it])):ge.appendChild(it),t.col+=1);t.map.push(t.pos,t.pos+1,it),t.pos++}}if(t.trailingSpace=I.charCodeAt(a.length-1)==32,h||f||v||Y||x||A){var xt=h||"";f&&(xt+=f),v&&(xt+=v);var gt=T("span",[ge],xt,x);if(A)for(var St in A)A.hasOwnProperty(St)&&St!="style"&&St!="class"&&gt.setAttribute(St,A[St]);return t.content.appendChild(gt)}t.content.appendChild(ge)}}function Eo(t,a){if(t.length>1&&!/  /.test(t))return t;for(var h=a,f="",v=0;v<t.length;v++){var x=t.charAt(v);x==" "&&h&&(v==t.length-1||t.charCodeAt(v+1)==32)&&(x=" "),f+=x,h=x==" "}return f}function $s(t,a){return function(h,f,v,x,A,I,z){v=v?v+" cm-force-border":"cm-force-border";for(var Y=h.pos,ge=Y+f.length;;){for(var xe=void 0,Ne=0;Ne<a.length&&(xe=a[Ne],!(xe.to>Y&&xe.from<=Y));Ne++);if(xe.to>=ge)return t(h,f,v,x,A,I,z);t(h,f.slice(0,xe.to-Y),v,x,null,I,z),x=null,f=f.slice(xe.to-Y),Y=xe.to}}}function Qs(t,a,h,f){var v=!f&&h.widgetNode;v&&t.map.push(t.pos,t.pos+a,v),!f&&t.cm.display.input.needsContentAttribute&&(v||(v=t.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",h.id)),v&&(t.cm.display.input.setUneditable(v),t.content.appendChild(v)),t.pos+=a,t.trailingSpace=!1}function Hi(t,a,h){var f=t.markedSpans,v=t.text,x=0;if(!f){for(var A=1;A<h.length;A+=2)a.addToken(a,v.slice(x,x=h[A]),dl(h[A+1],a.cm.options));return}for(var I=v.length,z=0,Y=1,ge="",xe,Ne,Ie=0,Ye,it,ht,vt,xt;;){if(Ie==z){Ye=it=ht=Ne="",xt=null,vt=null,Ie=1/0;for(var gt=[],St=void 0,Ht=0;Ht<f.length;++Ht){var zt=f[Ht],ei=zt.marker;if(ei.type=="bookmark"&&zt.from==z&&ei.widgetNode)gt.push(ei);else if(zt.from<=z&&(zt.to==null||zt.to>z||ei.collapsed&&zt.to==z&&zt.from==z)){if(zt.to!=null&&zt.to!=z&&Ie>zt.to&&(Ie=zt.to,it=""),ei.className&&(Ye+=" "+ei.className),ei.css&&(Ne=(Ne?Ne+";":"")+ei.css),ei.startStyle&&zt.from==z&&(ht+=" "+ei.startStyle),ei.endStyle&&zt.to==Ie&&(St||(St=[])).push(ei.endStyle,zt.to),ei.title&&((xt||(xt={})).title=ei.title),ei.attributes)for(var Fi in ei.attributes)(xt||(xt={}))[Fi]=ei.attributes[Fi];ei.collapsed&&(!vt||Co(vt.marker,ei)<0)&&(vt=zt)}else zt.from>z&&Ie>zt.from&&(Ie=zt.from)}if(St)for(var Ln=0;Ln<St.length;Ln+=2)St[Ln+1]==Ie&&(it+=" "+St[Ln]);if(!vt||vt.from==z)for(var Ki=0;Ki<gt.length;++Ki)Qs(a,0,gt[Ki]);if(vt&&(vt.from||0)==z){if(Qs(a,(vt.to==null?I+1:vt.to)-z,vt.marker,vt.from==null),vt.to==null)return;vt.to==z&&(vt=!1)}}if(z>=I)break;for(var rr=Math.min(I,Ie);;){if(ge){var dr=z+ge.length;if(!vt){var Ri=dr>rr?ge.slice(0,rr-z):ge;a.addToken(a,Ri,xe?xe+Ye:Ye,ht,z+Ri.length==Ie?it:"",Ne,xt)}if(dr>=rr){ge=ge.slice(rr-z),z=rr;break}z=dr,ht=""}ge=v.slice(x,x=h[Y++]),xe=dl(h[Y++],a.cm.options)}}}function So(t,a,h){this.line=a,this.rest=pn(a),this.size=this.rest?li(Et(this.rest))-h+1:1,this.node=this.text=null,this.hidden=to(t,a)}function ga(t,a,h){for(var f=[],v,x=a;x<h;x=v){var A=new So(t.doc,Dt(t.doc,x),x);v=x+A.size,f.push(A)}return f}var va=null;function Wa(t){va?va.ops.push(t):t.ownsGroup=va={ops:[t],delayedCallbacks:[]}}function ba(t){var a=t.delayedCallbacks,h=0;do{for(;h<a.length;h++)a[h].call(null);for(var f=0;f<t.ops.length;f++){var v=t.ops[f];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(h<a.length)}function hc(t,a){var h=t.ownsGroup;if(h)try{ba(h)}finally{va=null,a(h)}}var To=null;function Ti(t,a){var h=Dr(t,a);if(h.length){var f=Array.prototype.slice.call(arguments,2),v;va?v=va.delayedCallbacks:To?v=To:(v=To=[],setTimeout(ws,0));for(var x=function(I){v.push(function(){return h[I].apply(null,f)})},A=0;A<h.length;++A)x(A)}}function ws(){var t=To;To=null;for(var a=0;a<t.length;++a)t[a]()}function Yo(t,a,h,f){for(var v=0;v<a.changes.length;v++){var x=a.changes[v];x=="text"?Iu(t,a):x=="gutter"?Cs(t,a,h,f):x=="class"?_a(t,a):x=="widget"&&dc(t,a,f)}a.changes=null}function ks(t){return t.node==t.text&&(t.node=T("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),b&&w<8&&(t.node.style.zIndex=2)),t.node}function Ou(t,a){var h=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),a.background)h?a.background.className=h:(a.background.parentNode.removeChild(a.background),a.background=null);else if(h){var f=ks(a);a.background=f.insertBefore(T("div",null,h),f.firstChild),t.display.input.setUneditable(a.background)}}function Js(t,a){var h=t.display.externalMeasured;return h&&h.line==a.line?(t.display.externalMeasured=null,a.measure=h.measure,h.built):cr(t,a)}function Iu(t,a){var h=a.text.className,f=Js(t,a);a.text==a.node&&(a.node=f.pre),a.text.parentNode.replaceChild(f.pre,a.text),a.text=f.pre,f.bgClass!=a.bgClass||f.textClass!=a.textClass?(a.bgClass=f.bgClass,a.textClass=f.textClass,_a(t,a)):h&&(a.text.className=h)}function _a(t,a){Ou(t,a),a.line.wrapClass?ks(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var h=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=h||""}function Cs(t,a,h,f){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var v=ks(a);a.gutterBackground=T("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(t.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),t.display.input.setUneditable(a.gutterBackground),v.insertBefore(a.gutterBackground,a.text)}var x=a.line.gutterMarkers;if(t.options.lineNumbers||x){var A=ks(a),I=a.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(I.setAttribute("aria-hidden","true"),t.display.input.setUneditable(I),A.insertBefore(I,a.text),a.line.gutterClass&&(I.className+=" "+a.line.gutterClass),t.options.lineNumbers&&(!x||!x["CodeMirror-linenumbers"])&&(a.lineNumber=I.appendChild(T("div",_e(t.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),x)for(var z=0;z<t.display.gutterSpecs.length;++z){var Y=t.display.gutterSpecs[z].className,ge=x.hasOwnProperty(Y)&&x[Y];ge&&I.appendChild(T("div",[ge],"CodeMirror-gutter-elt","left: "+f.gutterLeft[Y]+"px; width: "+f.gutterWidth[Y]+"px"))}}}function dc(t,a,h){a.alignable&&(a.alignable=null);for(var f=ue("CodeMirror-linewidget"),v=a.node.firstChild,x=void 0;v;v=x)x=v.nextSibling,f.test(v.className)&&a.node.removeChild(v);Es(t,a,h)}function Fu(t,a,h,f){var v=Js(t,a);return a.text=a.node=v.pre,v.bgClass&&(a.bgClass=v.bgClass),v.textClass&&(a.textClass=v.textClass),_a(t,a),Cs(t,a,h,f),Es(t,a,f),a.node}function Es(t,a,h){if(pl(t,a.line,a,h,!0),a.rest)for(var f=0;f<a.rest.length;f++)pl(t,a.rest[f],a,h,!1)}function pl(t,a,h,f,v){if(a.widgets)for(var x=ks(h),A=0,I=a.widgets;A<I.length;++A){var z=I[A],Y=T("div",[z.node],"CodeMirror-linewidget"+(z.className?" "+z.className:""));z.handleMouseEvents||Y.setAttribute("cm-ignore-events","true"),Nr(z,Y,h,f),t.display.input.setUneditable(Y),v&&z.above?x.insertBefore(Y,h.gutter||h.text):x.appendChild(Y),Ti(z,"redraw")}}function Nr(t,a,h,f){if(t.noHScroll){(h.alignable||(h.alignable=[])).push(a);var v=f.wrapperWidth;a.style.left=f.fixedPos+"px",t.coverGutter||(v-=f.gutterTotalWidth,a.style.paddingLeft=f.gutterTotalWidth+"px"),a.style.width=v+"px"}t.coverGutter&&(a.style.zIndex=5,a.style.position="relative",t.noHScroll||(a.style.marginLeft=-f.gutterTotalWidth+"px"))}function en(t){if(t.height!=null)return t.height;var a=t.doc.cm;if(!a)return 0;if(!we(document.body,t.node)){var h="position: relative;";t.coverGutter&&(h+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),t.noHScroll&&(h+="width: "+a.display.wrapper.clientWidth+"px;"),te(a.display.measure,T("div",[t.node],null,h))}return t.height=t.node.parentNode.offsetHeight}function Gr(t,a){for(var h=pi(a);h!=t.wrapper;h=h.parentNode)if(!h||h.nodeType==1&&h.getAttribute("cm-ignore-events")=="true"||h.parentNode==t.sizer&&h!=t.mover)return!0}function fr(t){return t.lineSpace.offsetTop}function eu(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Vo(t){if(t.cachedPaddingH)return t.cachedPaddingH;var a=te(t.measure,T("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,f={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(t.cachedPaddingH=f),f}function io(t){return Xe-t.display.nativeBarWidth}function Xr(t){return t.display.scroller.clientWidth-io(t)-t.display.barWidth}function tu(t){return t.display.scroller.clientHeight-io(t)-t.display.barHeight}function iu(t,a,h){var f=t.options.lineWrapping,v=f&&Xr(t);if(!a.measure.heights||f&&a.measure.width!=v){var x=a.measure.heights=[];if(f){a.measure.width=v;for(var A=a.text.firstChild.getClientRects(),I=0;I<A.length-1;I++){var z=A[I],Y=A[I+1];Math.abs(z.bottom-Y.bottom)>2&&x.push((z.bottom+Y.top)/2-h.top)}}x.push(h.bottom-h.top)}}function ml(t,a,h){if(t.line==a)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var f=0;f<t.rest.length;f++)if(t.rest[f]==a)return{map:t.measure.maps[f],cache:t.measure.caches[f]};for(var v=0;v<t.rest.length;v++)if(li(t.rest[v])>h)return{map:t.measure.maps[v],cache:t.measure.caches[v],before:!0}}}function xr(t,a){a=Gn(a);var h=li(a),f=t.display.externalMeasured=new So(t.doc,a,h);f.lineN=h;var v=f.built=cr(t,f);return f.text=v.pre,te(t.display.lineMeasure,v.pre),f}function Ss(t,a,h,f){return Yr(t,no(t,a),h,f)}function Ru(t,a){if(a>=t.display.viewFrom&&a<t.display.viewTo)return t.display.view[Po(t,a)];var h=t.display.externalMeasured;if(h&&a>=h.lineN&&a<h.lineN+h.size)return h}function no(t,a){var h=li(a),f=Ru(t,h);f&&!f.text?f=null:f&&f.changes&&(Yo(t,f,h,Do(t)),t.curOp.forceUpdate=!0),f||(f=xr(t,a));var v=ml(f,a,h);return{line:a,view:f,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function Yr(t,a,h,f,v){a.before&&(h=-1);var x=h+(f||""),A;return a.cache.hasOwnProperty(x)?A=a.cache[x]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(iu(t,a.view,a.rect),a.hasHeights=!0),A=pc(t,a,h,f),A.bogus||(a.cache[x]=A)),{left:A.left,right:A.right,top:v?A.rtop:A.top,bottom:v?A.rbottom:A.bottom}}var Hn={left:0,right:0,top:0,bottom:0};function Ts(t,a,h){for(var f,v,x,A,I,z,Y=0;Y<t.length;Y+=3)if(I=t[Y],z=t[Y+1],a<I?(v=0,x=1,A="left"):a<z?(v=a-I,x=v+1):(Y==t.length-3||a==z&&t[Y+3]>a)&&(x=z-I,v=x-1,a>=z&&(A="right")),v!=null){if(f=t[Y+2],I==z&&h==(f.insertLeft?"left":"right")&&(A=h),h=="left"&&v==0)for(;Y&&t[Y-2]==t[Y-3]&&t[Y-1].insertLeft;)f=t[(Y-=3)+2],A="left";if(h=="right"&&v==z-I)for(;Y<t.length-3&&t[Y+3]==t[Y+4]&&!t[Y+5].insertLeft;)f=t[(Y+=3)+2],A="right";break}return{node:f,start:v,end:x,collapse:A,coverStart:I,coverEnd:z}}function qa(t,a){var h=Hn;if(a=="left")for(var f=0;f<t.length&&(h=t[f]).left==h.right;f++);else for(var v=t.length-1;v>=0&&(h=t[v]).left==h.right;v--);return h}function pc(t,a,h,f){var v=Ts(a.map,h,f),x=v.node,A=v.start,I=v.end,z=v.collapse,Y;if(x.nodeType==3){for(var ge=0;ge<4;ge++){for(;A&&mt(a.line.text.charAt(v.coverStart+A));)--A;for(;v.coverStart+I<v.coverEnd&&mt(a.line.text.charAt(v.coverStart+I));)++I;if(b&&w<9&&A==0&&I==v.coverEnd-v.coverStart?Y=x.parentNode.getBoundingClientRect():Y=qa(ve(x,A,I).getClientRects(),f),Y.left||Y.right||A==0)break;I=A,A=A-1,z="right"}b&&w<11&&(Y=Ao(t.display.measure,Y))}else{A>0&&(z=f="right");var xe;t.options.lineWrapping&&(xe=x.getClientRects()).length>1?Y=xe[f=="right"?xe.length-1:0]:Y=x.getBoundingClientRect()}if(b&&w<9&&!A&&(!Y||!Y.left&&!Y.right)){var Ne=x.parentNode.getClientRects()[0];Ne?Y={left:Ne.left,right:Ne.left+Za(t.display),top:Ne.top,bottom:Ne.bottom}:Y=Hn}for(var Ie=Y.top-a.rect.top,Ye=Y.bottom-a.rect.top,it=(Ie+Ye)/2,ht=a.view.measure.heights,vt=0;vt<ht.length-1&&!(it<ht[vt]);vt++);var xt=vt?ht[vt-1]:0,gt=ht[vt],St={left:(z=="right"?Y.right:Y.left)-a.rect.left,right:(z=="left"?Y.left:Y.right)-a.rect.left,top:xt,bottom:gt};return!Y.left&&!Y.right&&(St.bogus=!0),t.options.singleCursorHeightPerLine||(St.rtop=Ie,St.rbottom=Ye),St}function Ao(t,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hn(t))return a;var h=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*h,right:a.right*h,top:a.top*f,bottom:a.bottom*f}}function ro(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var a=0;a<t.rest.length;a++)t.measure.caches[a]={}}function wr(t){t.display.externalMeasure=null,be(t.display.lineMeasure);for(var a=0;a<t.display.view.length;a++)ro(t.display.view[a])}function Ko(t){wr(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function As(t){return M&&D?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function nu(t){return M&&D?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function ja(t){var a=Gn(t),h=a.widgets,f=0;if(h)for(var v=0;v<h.length;++v)h[v].above&&(f+=en(h[v]));return f}function Lo(t,a,h,f,v){if(!v){var x=ja(a);h.top+=x,h.bottom+=x}if(f=="line")return h;f||(f="local");var A=Qi(a);if(f=="local"?A+=fr(t.display):A-=t.display.viewOffset,f=="page"||f=="window"){var I=t.display.lineSpace.getBoundingClientRect();A+=I.top+(f=="window"?0:nu(F(t)));var z=I.left+(f=="window"?0:As(F(t)));h.left+=z,h.right+=z}return h.top+=A,h.bottom+=A,h}function Ls(t,a,h){if(h=="div")return a;var f=a.left,v=a.top;if(h=="page")f-=As(F(t)),v-=nu(F(t));else if(h=="local"||!h){var x=t.display.sizer.getBoundingClientRect();f+=x.left,v+=x.top}var A=t.display.lineSpace.getBoundingClientRect();return{left:f-A.left,top:v-A.top}}function Vr(t,a,h,f,v){return f||(f=Dt(t.doc,a.line)),Lo(t,f,Ss(t,f,a.ch,v),h)}function Fe(t,a,h,f,v,x){f=f||Dt(t.doc,a.line),v||(v=no(t,f));function A(Ye,it){var ht=Yr(t,v,Ye,it?"right":"left",x);return it?ht.left=ht.right:ht.right=ht.left,Lo(t,f,ht,h)}var I=Ni(f,t.doc.direction),z=a.ch,Y=a.sticky;if(z>=f.text.length?(z=f.text.length,Y="before"):z<=0&&(z=0,Y="after"),!I)return A(Y=="before"?z-1:z,Y=="before");function ge(Ye,it,ht){var vt=I[it],xt=vt.level==1;return A(ht?Ye-1:Ye,xt!=ht)}var xe=bt(I,z,Y),Ne=ti,Ie=ge(z,xe,Y=="before");return Ne!=null&&(Ie.other=ge(z,Ne,Y!="before")),Ie}function Je(t,a){var h=0;a=kt(t.doc,a),t.options.lineWrapping||(h=Za(t.display)*a.ch);var f=Dt(t.doc,a.line),v=Qi(f)+fr(t.display);return{left:h,right:h,top:v,bottom:v+f.height}}function Ze(t,a,h,f,v){var x=ye(t,a,h);return x.xRel=v,f&&(x.outside=f),x}function At(t,a,h){var f=t.doc;if(h+=t.display.viewOffset,h<0)return Ze(f.first,0,null,-1,-1);var v=_r(f,h),x=f.first+f.size-1;if(v>x)return Ze(f.first+f.size-1,Dt(f,x).text.length,null,1,1);a<0&&(a=0);for(var A=Dt(f,v);;){var I=Bi(t,A,v,a,h),z=Ua(A,I.ch+(I.xRel>0||I.outside>0?1:0));if(!z)return I;var Y=z.find(1);if(Y.line==v)return Y;A=Dt(f,v=Y.line)}}function Yt(t,a,h,f){f-=ja(a);var v=a.text.length,x=ut(function(A){return Yr(t,h,A-1).bottom<=f},v,0);return v=ut(function(A){return Yr(t,h,A).top>f},x,v),{begin:x,end:v}}function Ci(t,a,h,f){h||(h=no(t,a));var v=Lo(t,a,Yr(t,h,f),"line").top;return Yt(t,a,h,v)}function tn(t,a,h,f){return t.bottom<=h?!1:t.top>h?!0:(f?t.left:t.right)>a}function Bi(t,a,h,f,v){v-=Qi(a);var x=no(t,a),A=ja(a),I=0,z=a.text.length,Y=!0,ge=Ni(a,t.doc.direction);if(ge){var xe=(t.options.lineWrapping?ru:zr)(t,a,h,x,ge,f,v);Y=xe.level!=1,I=Y?xe.from:xe.to-1,z=Y?xe.to:xe.from-1}var Ne=null,Ie=null,Ye=ut(function(Ht){var zt=Yr(t,x,Ht);return zt.top+=A,zt.bottom+=A,tn(zt,f,v,!1)?(zt.top<=v&&zt.left<=f&&(Ne=Ht,Ie=zt),!0):!1},I,z),it,ht,vt=!1;if(Ie){var xt=f-Ie.left<Ie.right-f,gt=xt==Y;Ye=Ne+(gt?0:1),ht=gt?"after":"before",it=xt?Ie.left:Ie.right}else{!Y&&(Ye==z||Ye==I)&&Ye++,ht=Ye==0?"after":Ye==a.text.length?"before":Yr(t,x,Ye-(Y?1:0)).bottom+A<=v==Y?"after":"before";var St=Fe(t,ye(h,Ye,ht),"line",a,x);it=St.left,vt=v<St.top?-1:v>=St.bottom?1:0}return Ye=Ot(a.text,Ye,1),Ze(h,Ye,ht,vt,f-it)}function zr(t,a,h,f,v,x,A){var I=ut(function(xe){var Ne=v[xe],Ie=Ne.level!=1;return tn(Fe(t,ye(h,Ie?Ne.to:Ne.from,Ie?"before":"after"),"line",a,f),x,A,!0)},0,v.length-1),z=v[I];if(I>0){var Y=z.level!=1,ge=Fe(t,ye(h,Y?z.from:z.to,Y?"after":"before"),"line",a,f);tn(ge,x,A,!0)&&ge.top>A&&(z=v[I-1])}return z}function ru(t,a,h,f,v,x,A){var I=Yt(t,a,f,A),z=I.begin,Y=I.end;/\s/.test(a.text.charAt(Y-1))&&Y--;for(var ge=null,xe=null,Ne=0;Ne<v.length;Ne++){var Ie=v[Ne];if(!(Ie.from>=Y||Ie.to<=z)){var Ye=Ie.level!=1,it=Yr(t,f,Ye?Math.min(Y,Ie.to)-1:Math.max(z,Ie.from)).right,ht=it<x?x-it+1e9:it-x;(!ge||xe>ht)&&(ge=Ie,xe=ht)}}return ge||(ge=v[v.length-1]),ge.from<z&&(ge={from:z,to:ge.to,level:ge.level}),ge.to>Y&&(ge={from:ge.from,to:Y,level:ge.level}),ge}var Sn;function Br(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Sn==null){Sn=T("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)Sn.appendChild(document.createTextNode("x")),Sn.appendChild(T("br"));Sn.appendChild(document.createTextNode("x"))}te(t.measure,Sn);var h=Sn.offsetHeight/50;return h>3&&(t.cachedTextHeight=h),be(t.measure),h||1}function Za(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var a=T("span","xxxxxxxxxx"),h=T("pre",[a],"CodeMirror-line-like");te(t.measure,h);var f=a.getBoundingClientRect(),v=(f.right-f.left)/10;return v>2&&(t.cachedCharWidth=v),v||10}function Do(t){for(var a=t.display,h={},f={},v=a.gutters.clientLeft,x=a.gutters.firstChild,A=0;x;x=x.nextSibling,++A){var I=t.display.gutterSpecs[A].className;h[I]=x.offsetLeft+x.clientLeft+v,f[I]=x.clientWidth}return{fixedPos:Ga(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:h,gutterWidth:f,wrapperWidth:a.wrapper.clientWidth}}function Ga(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Mo(t){var a=Br(t.display),h=t.options.lineWrapping,f=h&&Math.max(5,t.display.scroller.clientWidth/Za(t.display)-3);return function(v){if(to(t.doc,v))return 0;var x=0;if(v.widgets)for(var A=0;A<v.widgets.length;A++)v.widgets[A].height&&(x+=v.widgets[A].height);return h?x+(Math.ceil(v.text.length/f)||1)*a:x+a}}function Ai(t){var a=t.doc,h=Mo(t);a.iter(function(f){var v=h(f);v!=f.height&&zn(f,v)})}function Hr(t,a,h,f){var v=t.display;if(!h&&pi(a).getAttribute("cm-not-content")=="true")return null;var x,A,I=v.lineSpace.getBoundingClientRect();try{x=a.clientX-I.left,A=a.clientY-I.top}catch{return null}var z=At(t,x,A),Y;if(f&&z.xRel>0&&(Y=Dt(t.doc,z.line).text).length==z.ch){var ge=he(Y,Y.length,t.options.tabSize)-Y.length;z=ye(z.line,Math.max(0,Math.round((x-Vo(t.display).left)/Za(t.display))-ge))}return z}function Po(t,a){if(a>=t.display.viewTo||(a-=t.display.viewFrom,a<0))return null;for(var h=t.display.view,f=0;f<h.length;f++)if(a-=h[f].size,a<0)return f}function mn(t,a,h,f){a==null&&(a=t.doc.first),h==null&&(h=t.doc.first+t.doc.size),f||(f=0);var v=t.display;if(f&&h<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>a)&&(v.updateLineNumbers=a),t.curOp.viewChanged=!0,a>=v.viewTo)ki&&nr(t.doc,a)<v.viewTo&&Xn(t);else if(h<=v.viewFrom)ki&&Rr(t.doc,h+f)>v.viewFrom?Xn(t):(v.viewFrom+=f,v.viewTo+=f);else if(a<=v.viewFrom&&h>=v.viewTo)Xn(t);else if(a<=v.viewFrom){var x=Ds(t,h,h+f,1);x?(v.view=v.view.slice(x.index),v.viewFrom=x.lineN,v.viewTo+=f):Xn(t)}else if(h>=v.viewTo){var A=Ds(t,a,a,-1);A?(v.view=v.view.slice(0,A.index),v.viewTo=A.lineN):Xn(t)}else{var I=Ds(t,a,a,-1),z=Ds(t,h,h+f,1);I&&z?(v.view=v.view.slice(0,I.index).concat(ga(t,I.lineN,z.lineN)).concat(v.view.slice(z.index)),v.viewTo+=f):Xn(t)}var Y=v.externalMeasured;Y&&(h<Y.lineN?Y.lineN+=f:a<Y.lineN+Y.size&&(v.externalMeasured=null))}function $o(t,a,h){t.curOp.viewChanged=!0;var f=t.display,v=t.display.externalMeasured;if(v&&a>=v.lineN&&a<v.lineN+v.size&&(f.externalMeasured=null),!(a<f.viewFrom||a>=f.viewTo)){var x=f.view[Po(t,a)];if(x.node!=null){var A=x.changes||(x.changes=[]);ze(A,h)==-1&&A.push(h)}}}function Xn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Ds(t,a,h,f){var v=Po(t,a),x,A=t.display.view;if(!ki||h==t.doc.first+t.doc.size)return{index:v,lineN:h};for(var I=t.display.viewFrom,z=0;z<v;z++)I+=A[z].size;if(I!=a){if(f>0){if(v==A.length-1)return null;x=I+A[v].size-a,v++}else x=I-a;a+=x,h+=x}for(;nr(t.doc,h)!=h;){if(v==(f<0?0:A.length-1))return null;h+=f*A[v-(f<0?1:0)].size,v+=f}return{index:v,lineN:h}}function Ms(t,a,h){var f=t.display,v=f.view;v.length==0||a>=f.viewTo||h<=f.viewFrom?(f.view=ga(t,a,h),f.viewFrom=a):(f.viewFrom>a?f.view=ga(t,a,f.viewFrom).concat(f.view):f.viewFrom<a&&(f.view=f.view.slice(Po(t,a))),f.viewFrom=a,f.viewTo<h?f.view=f.view.concat(ga(t,f.viewTo,h)):f.viewTo>h&&(f.view=f.view.slice(0,Po(t,h)))),f.viewTo=h}function kr(t){for(var a=t.display.view,h=0,f=0;f<a.length;f++){var v=a[f];!v.hidden&&(!v.node||v.changes)&&++h}return h}function Qo(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Xa(t,a){a===void 0&&(a=!0);var h=t.doc,f={},v=f.cursors=document.createDocumentFragment(),x=f.selection=document.createDocumentFragment(),A=t.options.$customCursor;A&&(a=!0);for(var I=0;I<h.sel.ranges.length;I++)if(!(!a&&I==h.sel.primIndex)){var z=h.sel.ranges[I];if(!(z.from().line>=t.display.viewTo||z.to().line<t.display.viewFrom)){var Y=z.empty();if(A){var ge=A(t,z);ge&&oo(t,ge,v)}else(Y||t.options.showCursorWhenSelecting)&&oo(t,z.head,v);Y||Nu(t,z,x)}}return f}function oo(t,a,h){var f=Fe(t,a,"div",null,null,!t.options.singleCursorHeightPerLine),v=h.appendChild(T("div"," ","CodeMirror-cursor"));if(v.style.left=f.left+"px",v.style.top=f.top+"px",v.style.height=Math.max(0,f.bottom-f.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var x=Vr(t,a,"div",null,null),A=x.right-x.left;v.style.width=(A>0?A:t.defaultCharWidth())+"px"}if(f.other){var I=h.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));I.style.display="",I.style.left=f.other.left+"px",I.style.top=f.other.top+"px",I.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function Ya(t,a){return t.top-a.top||t.left-a.left}function Nu(t,a,h){var f=t.display,v=t.doc,x=document.createDocumentFragment(),A=Vo(t.display),I=A.left,z=Math.max(f.sizerWidth,Xr(t)-f.sizer.offsetLeft)-A.right,Y=v.direction=="ltr";function ge(gt,St,Ht,zt){St<0&&(St=0),St=Math.round(St),zt=Math.round(zt),x.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+gt+`px;
                             top: `+St+"px; width: "+(Ht??z-gt)+`px;
                             height: `+(zt-St)+"px"))}function xe(gt,St,Ht){var zt=Dt(v,gt),ei=zt.text.length,Fi,Ln;function Ki(Ri,vn){return Vr(t,ye(gt,Ri),"div",zt,vn)}function rr(Ri,vn,Vn){var bn=Ci(t,zt,null,Ri),_n=vn=="ltr"==(Vn=="after")?"left":"right",sn=Vn=="after"?bn.begin:bn.end-(/\s/.test(zt.text.charAt(bn.end-1))?2:1);return Ki(sn,_n)[_n]}var dr=Ni(zt,v.direction);return Xt(dr,St||0,Ht??ei,function(Ri,vn,Vn,bn){var _n=Vn=="ltr",sn=Ki(Ri,_n?"left":"right"),Ar=Ki(vn-1,_n?"right":"left"),bu=St==null&&Ri==0,rs=Ht==null&&vn==ei,or=bn==0,aa=!dr||bn==dr.length-1;if(Ar.top-sn.top<=3){var Wn=(Y?bu:rs)&&or,Uc=(Y?rs:bu)&&aa,Pa=Wn?I:(_n?sn:Ar).left,Ws=Uc?z:(_n?Ar:sn).right;ge(Pa,sn.top,Ws-Pa,sn.bottom)}else{var os,ar,qs,Wc;_n?(os=Y&&bu&&or?I:sn.left,ar=Y?z:rr(Ri,Vn,"before"),qs=Y?I:rr(vn,Vn,"after"),Wc=Y&&rs&&aa?z:Ar.right):(os=Y?rr(Ri,Vn,"before"):I,ar=!Y&&bu&&or?z:sn.right,qs=!Y&&rs&&aa?I:Ar.left,Wc=Y?rr(vn,Vn,"after"):z),ge(os,sn.top,ar-os,sn.bottom),sn.bottom<Ar.top&&ge(I,sn.bottom,null,Ar.top),ge(qs,Ar.top,Wc-qs,Ar.bottom)}(!Fi||Ya(sn,Fi)<0)&&(Fi=sn),Ya(Ar,Fi)<0&&(Fi=Ar),(!Ln||Ya(sn,Ln)<0)&&(Ln=sn),Ya(Ar,Ln)<0&&(Ln=Ar)}),{start:Fi,end:Ln}}var Ne=a.from(),Ie=a.to();if(Ne.line==Ie.line)xe(Ne.line,Ne.ch,Ie.ch);else{var Ye=Dt(v,Ne.line),it=Dt(v,Ie.line),ht=Gn(Ye)==Gn(it),vt=xe(Ne.line,Ne.ch,ht?Ye.text.length+1:null).end,xt=xe(Ie.line,ht?0:null,Ie.ch).start;ht&&(vt.top<xt.top-2?(ge(vt.right,vt.top,null,vt.bottom),ge(I,xt.top,xt.left,xt.bottom)):ge(vt.right,vt.top,xt.left-vt.right,vt.bottom)),vt.bottom<xt.top&&ge(I,vt.bottom,null,xt.top)}h.appendChild(x)}function Va(t){if(t.state.focused){var a=t.display;clearInterval(a.blinker);var h=!0;a.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?a.blinker=setInterval(function(){t.hasFocus()||so(t),a.cursorDiv.style.visibility=(h=!h)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function ou(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ao(t))}function Jo(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&so(t))},100)}function ao(t,a){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mi(t,"focus",t,a),t.state.focused=!0,We(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),C&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Va(t))}function so(t,a){t.state.delayingBlurEvent||(t.state.focused&&(Mi(t,"blur",t,a),t.state.focused=!1,De(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Ps(t){for(var a=t.display,h=a.lineDiv.offsetTop,f=Math.max(0,a.scroller.getBoundingClientRect().top),v=a.lineDiv.getBoundingClientRect().top,x=0,A=0;A<a.view.length;A++){var I=a.view[A],z=t.options.lineWrapping,Y=void 0,ge=0;if(!I.hidden){if(v+=I.line.height,b&&w<8){var xe=I.node.offsetTop+I.node.offsetHeight;Y=xe-h,h=xe}else{var Ne=I.node.getBoundingClientRect();Y=Ne.bottom-Ne.top,!z&&I.text.firstChild&&(ge=I.text.firstChild.getBoundingClientRect().right-Ne.left-1)}var Ie=I.line.height-Y;if((Ie>.005||Ie<-.005)&&(v<f&&(x-=Ie),zn(I.line,Y),gl(I.line),I.rest))for(var Ye=0;Ye<I.rest.length;Ye++)gl(I.rest[Ye]);if(ge>t.display.sizerWidth){var it=Math.ceil(ge/Za(t.display));it>t.display.maxLineLength&&(t.display.maxLineLength=it,t.display.maxLine=I.line,t.display.maxLineChanged=!0)}}}Math.abs(x)>2&&(a.scroller.scrollTop+=x)}function gl(t){if(t.widgets)for(var a=0;a<t.widgets.length;++a){var h=t.widgets[a],f=h.node.parentNode;f&&(h.height=f.offsetHeight)}}function Os(t,a,h){var f=h&&h.top!=null?Math.max(0,h.top):t.scroller.scrollTop;f=Math.floor(f-fr(t));var v=h&&h.bottom!=null?h.bottom:f+t.wrapper.clientHeight,x=_r(a,f),A=_r(a,v);if(h&&h.ensure){var I=h.ensure.from.line,z=h.ensure.to.line;I<x?(x=I,A=_r(a,Qi(Dt(a,I))+t.wrapper.clientHeight)):Math.min(z,a.lastLine())>=A&&(x=_r(a,Qi(Dt(a,z))-t.wrapper.clientHeight),A=z)}return{from:x,to:Math.max(A,x+1)}}function Is(t,a){if(!Ii(t,"scrollCursorIntoView")){var h=t.display,f=h.sizer.getBoundingClientRect(),v=null,x=h.wrapper.ownerDocument;if(a.top+f.top<0?v=!0:a.bottom+f.top>(x.defaultView.innerHeight||x.documentElement.clientHeight)&&(v=!1),v!=null&&!P){var A=T("div","​",null,`position: absolute;
                         top: `+(a.top-h.viewOffset-fr(t.display))+`px;
                         height: `+(a.bottom-a.top+io(t)+h.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");t.display.lineSpace.appendChild(A),A.scrollIntoView(v),t.display.lineSpace.removeChild(A)}}}function au(t,a,h,f){f==null&&(f=0);var v;!t.options.lineWrapping&&a==h&&(h=a.sticky=="before"?ye(a.line,a.ch+1,"before"):a,a=a.ch?ye(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var x=0;x<5;x++){var A=!1,I=Fe(t,a),z=!h||h==a?I:Fe(t,h);v={left:Math.min(I.left,z.left),top:Math.min(I.top,z.top)-f,right:Math.max(I.left,z.left),bottom:Math.max(I.bottom,z.bottom)+f};var Y=d(t,v),ge=t.doc.scrollTop,xe=t.doc.scrollLeft;if(Y.scrollTop!=null&&(je(t,Y.scrollTop),Math.abs(t.doc.scrollTop-ge)>1&&(A=!0)),Y.scrollLeft!=null&&(wt(t,Y.scrollLeft),Math.abs(t.doc.scrollLeft-xe)>1&&(A=!0)),!A)break}return v}function o(t,a){var h=d(t,a);h.scrollTop!=null&&je(t,h.scrollTop),h.scrollLeft!=null&&wt(t,h.scrollLeft)}function d(t,a){var h=t.display,f=Br(t.display);a.top<0&&(a.top=0);var v=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:h.scroller.scrollTop,x=tu(t),A={};a.bottom-a.top>x&&(a.bottom=a.top+x);var I=t.doc.height+eu(h),z=a.top<f,Y=a.bottom>I-f;if(a.top<v)A.scrollTop=z?0:a.top;else if(a.bottom>v+x){var ge=Math.min(a.top,(Y?I:a.bottom)-x);ge!=v&&(A.scrollTop=ge)}var xe=t.options.fixedGutter?0:h.gutters.offsetWidth,Ne=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:h.scroller.scrollLeft-xe,Ie=Xr(t)-h.gutters.offsetWidth,Ye=a.right-a.left>Ie;return Ye&&(a.right=a.left+Ie),a.left<10?A.scrollLeft=0:a.left<Ne?A.scrollLeft=Math.max(0,a.left+xe-(Ye?0:10)):a.right>Ie+Ne-3&&(A.scrollLeft=a.right+(Ye?0:10)-Ie),A}function _(t,a){a!=null&&(Ee(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+a)}function S(t){Ee(t);var a=t.getCursor();t.curOp.scrollToPos={from:a,to:a,margin:t.options.cursorScrollMargin}}function N(t,a,h){(a!=null||h!=null)&&Ee(t),a!=null&&(t.curOp.scrollLeft=a),h!=null&&(t.curOp.scrollTop=h)}function re(t,a){Ee(t),t.curOp.scrollToPos=a}function Ee(t){var a=t.curOp.scrollToPos;if(a){t.curOp.scrollToPos=null;var h=Je(t,a.from),f=Je(t,a.to);qe(t,h,f,a.margin)}}function qe(t,a,h,f){var v=d(t,{left:Math.min(a.left,h.left),top:Math.min(a.top,h.top)-f,right:Math.max(a.right,h.right),bottom:Math.max(a.bottom,h.bottom)+f});N(t,v.scrollLeft,v.scrollTop)}function je(t,a){Math.abs(t.doc.scrollTop-a)<2||(c||vc(t,{top:a}),st(t,a,!0),c&&vc(t),si(t,100))}function st(t,a,h){a=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,a)),!(t.display.scroller.scrollTop==a&&!h)&&(t.doc.scrollTop=a,t.display.scrollbars.setScrollTop(a),t.display.scroller.scrollTop!=a&&(t.display.scroller.scrollTop=a))}function wt(t,a,h,f){a=Math.max(0,Math.min(a,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((h?a==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-a)<2)&&!f)&&(t.doc.scrollLeft=a,Ef(t),t.display.scroller.scrollLeft!=a&&(t.display.scroller.scrollLeft=a),t.display.scrollbars.setScrollLeft(a))}function Zt(t){var a=t.display,h=a.gutters.offsetWidth,f=Math.round(t.doc.height+eu(t.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:t.options.fixedGutter?h:0,docHeight:f,scrollHeight:f+io(t)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:h}}var Gt=function(t,a,h){this.cm=h;var f=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=v.tabIndex=-1,t(f),t(v),pt(f,"scroll",function(){f.clientHeight&&a(f.scrollTop,"vertical")}),pt(v,"scroll",function(){v.clientWidth&&a(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Gt.prototype.update=function(t){var a=t.scrollWidth>t.clientWidth+1,h=t.scrollHeight>t.clientHeight+1,f=t.nativeBarWidth;if(h){this.vert.style.display="block",this.vert.style.bottom=a?f+"px":"0";var v=t.viewHeight-(a?f:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+v)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=h?f+"px":"0",this.horiz.style.left=t.barLeft+"px";var x=t.viewWidth-t.barLeft-(h?f:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+x)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?f:0,bottom:a?f:0}},Gt.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Gt.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Gt.prototype.zeroWidthHack=function(){var t=B&&!U?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Te,this.disableVert=new Te},Gt.prototype.enableZeroWidthBar=function(t,a,h){t.style.visibility="";function f(){var v=t.getBoundingClientRect(),x=h=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);x!=t?t.style.visibility="hidden":a.set(1e3,f)}a.set(1e3,f)},Gt.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Tn=function(){};Tn.prototype.update=function(){return{bottom:0,right:0}},Tn.prototype.setScrollLeft=function(){},Tn.prototype.setScrollTop=function(){},Tn.prototype.clear=function(){};function Un(t,a){a||(a=Zt(t));var h=t.display.barWidth,f=t.display.barHeight;Oo(t,a);for(var v=0;v<4&&h!=t.display.barWidth||f!=t.display.barHeight;v++)h!=t.display.barWidth&&t.options.lineWrapping&&Ps(t),Oo(t,Zt(t)),h=t.display.barWidth,f=t.display.barHeight}function Oo(t,a){var h=t.display,f=h.scrollbars.update(a);h.sizer.style.paddingRight=(h.barWidth=f.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=f.bottom)+"px",h.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=f.bottom+"px",h.scrollbarFiller.style.width=f.right+"px"):h.scrollbarFiller.style.display="",f.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=f.bottom+"px",h.gutterFiller.style.width=a.gutterWidth+"px"):h.gutterFiller.style.display=""}var Cr={native:Gt,null:Tn};function ya(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&De(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Cr[t.options.scrollbarStyle](function(a){t.display.wrapper.insertBefore(a,t.display.scrollbarFiller),pt(a,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,h){h=="horizontal"?wt(t,a):je(t,a)},t),t.display.scrollbars.addClass&&We(t.display.wrapper,t.display.scrollbars.addClass)}var Ka=0;function xa(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ka,markArrays:null},Wa(t.curOp)}function wa(t){var a=t.curOp;a&&hc(a,function(h){for(var f=0;f<h.ops.length;f++)h.ops[f].cm.curOp=null;vl(h)})}function vl(t){for(var a=t.ops,h=0;h<a.length;h++)mc(a[h]);for(var f=0;f<a.length;f++)bl(a[f]);for(var v=0;v<a.length;v++)Yi(a[v]);for(var x=0;x<a.length;x++)ea(a[x]);for(var A=0;A<a.length;A++)_l(a[A])}function mc(t){var a=t.cm,h=a.display;md(a),t.updateMaxLine&&xs(a),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<h.viewFrom||t.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&a.options.lineWrapping,t.update=t.mustUpdate&&new yl(a,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function bl(t){t.updatedDisplay=t.mustUpdate&&gc(t.cm,t.update)}function Yi(t){var a=t.cm,h=a.display;t.updatedDisplay&&Ps(a),t.barMeasure=Zt(a),h.maxLineChanged&&!a.options.lineWrapping&&(t.adjustWidthTo=Ss(a,h.maxLine,h.maxLine.text.length).left+3,a.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+t.adjustWidthTo+io(a)+a.display.barWidth),t.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+t.adjustWidthTo-Xr(a))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=h.input.prepareSelection())}function ea(t){var a=t.cm;t.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<a.doc.scrollLeft&&wt(a,Math.min(a.display.scroller.scrollLeft,t.maxScrollLeft),!0),a.display.maxLineChanged=!1);var h=t.focus&&t.focus==Ve(F(a));t.preparedSelection&&a.display.input.showSelection(t.preparedSelection,h),(t.updatedDisplay||t.startHeight!=a.doc.height)&&Un(a,t.barMeasure),t.updatedDisplay&&bc(a,t.barMeasure),t.selectionChanged&&Va(a),a.state.focused&&t.updateInput&&a.display.input.reset(t.typing),h&&ou(t.cm)}function _l(t){var a=t.cm,h=a.display,f=a.doc;if(t.updatedDisplay&&Cf(a,t.update),h.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),t.scrollTop!=null&&st(a,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&wt(a,t.scrollLeft,!0,!0),t.scrollToPos){var v=au(a,kt(f,t.scrollToPos.from),kt(f,t.scrollToPos.to),t.scrollToPos.margin);Is(a,v)}var x=t.maybeHiddenMarkers,A=t.maybeUnhiddenMarkers;if(x)for(var I=0;I<x.length;++I)x[I].lines.length||Mi(x[I],"hide");if(A)for(var z=0;z<A.length;++z)A[z].lines.length&&Mi(A[z],"unhide");h.wrapper.offsetHeight&&(f.scrollTop=a.display.scroller.scrollTop),t.changeObjs&&Mi(a,"changes",a,t.changeObjs),t.update&&t.update.finish()}function ae(t,a){if(t.curOp)return a();xa(t);try{return a()}finally{wa(t)}}function Gi(t,a){return function(){if(t.curOp)return a.apply(t,arguments);xa(t);try{return a.apply(t,arguments)}finally{wa(t)}}}function an(t){return function(){if(this.curOp)return t.apply(this,arguments);xa(this);try{return t.apply(this,arguments)}finally{wa(this)}}}function Li(t){return function(){var a=this.cm;if(!a||a.curOp)return t.apply(this,arguments);xa(a);try{return t.apply(this,arguments)}finally{wa(a)}}}function si(t,a){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(a,Pe(pd,t))}function pd(t){var a=t.doc;if(!(a.highlightFrontier>=t.display.viewTo)){var h=+new Date+t.options.workTime,f=Me(t,a.highlightFrontier),v=[];a.iter(f.line,Math.min(a.first+a.size,t.display.viewTo+500),function(x){if(f.line>=t.display.viewFrom){var A=x.styles,I=x.text.length>t.options.maxHighlightLength?Rn(a.mode,f.state):null,z=Re(t,x,f,!0);I&&(f.state=I),x.styles=z.styles;var Y=x.styleClasses,ge=z.classes;ge?x.styleClasses=ge:Y&&(x.styleClasses=null);for(var xe=!A||A.length!=x.styles.length||Y!=ge&&(!Y||!ge||Y.bgClass!=ge.bgClass||Y.textClass!=ge.textClass),Ne=0;!xe&&Ne<A.length;++Ne)xe=A[Ne]!=x.styles[Ne];xe&&v.push(f.line),x.stateAfter=f.save(),f.nextLine()}else x.text.length<=t.options.maxHighlightLength&&Ge(t,x.text,f),x.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>h)return si(t,t.options.workDelay),!0}),a.highlightFrontier=f.line,a.modeFrontier=Math.max(a.modeFrontier,f.line),v.length&&ae(t,function(){for(var x=0;x<v.length;x++)$o(t,v[x],"text")})}}var yl=function(t,a,h){var f=t.display;this.viewport=a,this.visible=Os(f,t.doc,a),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Xr(t),this.force=h,this.dims=Do(t),this.events=[]};yl.prototype.signal=function(t,a){ri(t,a)&&this.events.push(arguments)},yl.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mi.apply(null,this.events[t])};function md(t){var a=t.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=io(t)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=io(t)+"px",a.scrollbarsClipped=!0)}function Fs(t){if(t.hasFocus())return null;var a=Ve(F(t));if(!a||!we(t.display.lineDiv,a))return null;var h={activeElt:a};if(window.getSelection){var f=Ce(t).getSelection();f.anchorNode&&f.extend&&we(t.display.lineDiv,f.anchorNode)&&(h.anchorNode=f.anchorNode,h.anchorOffset=f.anchorOffset,h.focusNode=f.focusNode,h.focusOffset=f.focusOffset)}return h}function gd(t){if(!(!t||!t.activeElt||t.activeElt==Ve(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&we(document.body,t.anchorNode)&&we(document.body,t.focusNode))){var a=t.activeElt.ownerDocument,h=a.defaultView.getSelection(),f=a.createRange();f.setEnd(t.anchorNode,t.anchorOffset),f.collapse(!1),h.removeAllRanges(),h.addRange(f),h.extend(t.focusNode,t.focusOffset)}}function gc(t,a){var h=t.display,f=t.doc;if(a.editorIsHidden)return Xn(t),!1;if(!a.force&&a.visible.from>=h.viewFrom&&a.visible.to<=h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&kr(t)==0)return!1;Sf(t)&&(Xn(t),a.dims=Do(t));var v=f.first+f.size,x=Math.max(a.visible.from-t.options.viewportMargin,f.first),A=Math.min(v,a.visible.to+t.options.viewportMargin);h.viewFrom<x&&x-h.viewFrom<20&&(x=Math.max(f.first,h.viewFrom)),h.viewTo>A&&h.viewTo-A<20&&(A=Math.min(v,h.viewTo)),ki&&(x=nr(t.doc,x),A=Rr(t.doc,A));var I=x!=h.viewFrom||A!=h.viewTo||h.lastWrapHeight!=a.wrapperHeight||h.lastWrapWidth!=a.wrapperWidth;Ms(t,x,A),h.viewOffset=Qi(Dt(t.doc,h.viewFrom)),t.display.mover.style.top=h.viewOffset+"px";var z=kr(t);if(!I&&z==0&&!a.force&&h.renderedView==h.view&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo))return!1;var Y=Fs(t);return z>4&&(h.lineDiv.style.display="none"),vd(t,h.updateLineNumbers,a.dims),z>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,gd(Y),be(h.cursorDiv),be(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,I&&(h.lastWrapHeight=a.wrapperHeight,h.lastWrapWidth=a.wrapperWidth,si(t,400)),h.updateLineNumbers=null,!0}function Cf(t,a){for(var h=a.viewport,f=!0;;f=!1){if(!f||!t.options.lineWrapping||a.oldDisplayWidth==Xr(t)){if(h&&h.top!=null&&(h={top:Math.min(t.doc.height+eu(t.display)-tu(t),h.top)}),a.visible=Os(t.display,t.doc,h),a.visible.from>=t.display.viewFrom&&a.visible.to<=t.display.viewTo)break}else f&&(a.visible=Os(t.display,t.doc,h));if(!gc(t,a))break;Ps(t);var v=Zt(t);Qo(t),Un(t,v),bc(t,v),a.force=!1}a.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(a.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function vc(t,a){var h=new yl(t,a);if(gc(t,h)){Ps(t),Cf(t,h);var f=Zt(t);Qo(t),Un(t,f),bc(t,f),h.finish()}}function vd(t,a,h){var f=t.display,v=t.options.lineNumbers,x=f.lineDiv,A=x.firstChild;function I(Ye){var it=Ye.nextSibling;return C&&B&&t.display.currentWheelTarget==Ye?Ye.style.display="none":Ye.parentNode.removeChild(Ye),it}for(var z=f.view,Y=f.viewFrom,ge=0;ge<z.length;ge++){var xe=z[ge];if(!xe.hidden)if(!xe.node||xe.node.parentNode!=x){var Ne=Fu(t,xe,Y,h);x.insertBefore(Ne,A)}else{for(;A!=xe.node;)A=I(A);var Ie=v&&a!=null&&a<=Y&&xe.lineNumber;xe.changes&&(ze(xe.changes,"gutter")>-1&&(Ie=!1),Yo(t,xe,Y,h)),Ie&&(be(xe.lineNumber),xe.lineNumber.appendChild(document.createTextNode(_e(t.options,Y)))),A=xe.node.nextSibling}Y+=xe.size}for(;A;)A=I(A)}function Io(t){var a=t.gutters.offsetWidth;t.sizer.style.marginLeft=a+"px",Ti(t,"gutterChanged",t)}function bc(t,a){t.display.sizer.style.minHeight=a.docHeight+"px",t.display.heightForcer.style.top=a.docHeight+"px",t.display.gutters.style.height=a.docHeight+t.display.barHeight+io(t)+"px"}function Ef(t){var a=t.display,h=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!t.options.fixedGutter))){for(var f=Ga(a)-a.scroller.scrollLeft+t.doc.scrollLeft,v=a.gutters.offsetWidth,x=f+"px",A=0;A<h.length;A++)if(!h[A].hidden){t.options.fixedGutter&&(h[A].gutter&&(h[A].gutter.style.left=x),h[A].gutterBackground&&(h[A].gutterBackground.style.left=x));var I=h[A].alignable;if(I)for(var z=0;z<I.length;z++)I[z].style.left=x}t.options.fixedGutter&&(a.gutters.style.left=f+v+"px")}}function Sf(t){if(!t.options.lineNumbers)return!1;var a=t.doc,h=_e(t.options,a.first+a.size-1),f=t.display;if(h.length!=f.lineNumChars){var v=f.measure.appendChild(T("div",[T("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),x=v.firstChild.offsetWidth,A=v.offsetWidth-x;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(x,f.lineGutter.offsetWidth-A)+1,f.lineNumWidth=f.lineNumInnerWidth+A,f.lineNumChars=f.lineNumInnerWidth?h.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Io(t.display),!0}return!1}function _c(t,a){for(var h=[],f=!1,v=0;v<t.length;v++){var x=t[v],A=null;if(typeof x!="string"&&(A=x.style,x=x.className),x=="CodeMirror-linenumbers")if(a)f=!0;else continue;h.push({className:x,style:A})}return a&&!f&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function Tf(t){var a=t.gutters,h=t.gutterSpecs;be(a),t.lineGutter=null;for(var f=0;f<h.length;++f){var v=h[f],x=v.className,A=v.style,I=a.appendChild(T("div",null,"CodeMirror-gutter "+x));A&&(I.style.cssText=A),x=="CodeMirror-linenumbers"&&(t.lineGutter=I,I.style.width=(t.lineNumWidth||1)+"px")}a.style.display=h.length?"":"none",Io(t)}function Kr(t){Tf(t.display),mn(t),Ef(t)}function bd(t,a,h,f){var v=this;this.input=h,v.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=se("div",null,"CodeMirror-code"),v.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=T("div",null,"CodeMirror-cursors"),v.measure=T("div",null,"CodeMirror-measure"),v.lineMeasure=T("div",null,"CodeMirror-measure"),v.lineSpace=se("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var x=se("div",[v.lineSpace],"CodeMirror-lines");v.mover=T("div",[x],null,"position: relative"),v.sizer=T("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=T("div",null,null,"position: absolute; height: "+Xe+"px; width: 1px;"),v.gutters=T("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=T("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=T("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),M&&G>=105&&(v.wrapper.style.clipPath="inset(0px)"),v.wrapper.setAttribute("translate","no"),b&&w<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!C&&!(c&&W)&&(v.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(v.wrapper):t(v.wrapper)),v.viewFrom=v.viewTo=a.first,v.reportedViewFrom=v.reportedViewTo=a.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=_c(f.gutters,f.lineNumbers),Tf(v),h.init(v)}var xl=0,ka=null;b?ka=-.53:c?ka=15:M?ka=-.7:Z&&(ka=-1/3);function Af(t){var a=t.wheelDeltaX,h=t.wheelDeltaY;return a==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(a=t.detail),h==null&&t.detail&&t.axis==t.VERTICAL_AXIS?h=t.detail:h==null&&(h=t.wheelDelta),{x:a,y:h}}function _d(t){var a=Af(t);return a.x*=ka,a.y*=ka,a}function $a(t,a){M&&G==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var h=Af(a),f=h.x,v=h.y,x=ka;a.deltaMode===0&&(f=a.deltaX,v=a.deltaY,x=1);var A=t.display,I=A.scroller,z=I.scrollWidth>I.clientWidth,Y=I.scrollHeight>I.clientHeight;if(f&&z||v&&Y){if(v&&B&&C){e:for(var ge=a.target,xe=A.view;ge!=I;ge=ge.parentNode)for(var Ne=0;Ne<xe.length;Ne++)if(xe[Ne].node==ge){t.display.currentWheelTarget=ge;break e}}if(f&&!c&&!R&&x!=null){v&&Y&&je(t,Math.max(0,I.scrollTop+v*x)),wt(t,Math.max(0,I.scrollLeft+f*x)),(!v||v&&Y)&&qi(a),A.wheelStartX=null;return}if(v&&x!=null){var Ie=v*x,Ye=t.doc.scrollTop,it=Ye+A.wrapper.clientHeight;Ie<0?Ye=Math.max(0,Ye+Ie-50):it=Math.min(t.doc.height,it+Ie+50),vc(t,{top:Ye,bottom:it})}xl<20&&a.deltaMode!==0&&(A.wheelStartX==null?(A.wheelStartX=I.scrollLeft,A.wheelStartY=I.scrollTop,A.wheelDX=f,A.wheelDY=v,setTimeout(function(){if(A.wheelStartX!=null){var ht=I.scrollLeft-A.wheelStartX,vt=I.scrollTop-A.wheelStartY,xt=vt&&A.wheelDY&&vt/A.wheelDY||ht&&A.wheelDX&&ht/A.wheelDX;A.wheelStartX=A.wheelStartY=null,xt&&(ka=(ka*xl+xt)/(xl+1),++xl)}},200)):(A.wheelDX+=f,A.wheelDY+=v))}}var $r=function(t,a){this.ranges=t,this.primIndex=a};$r.prototype.primary=function(){return this.ranges[this.primIndex]},$r.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var h=this.ranges[a],f=t.ranges[a];if(!qt(h.anchor,f.anchor)||!qt(h.head,f.head))return!1}return!0},$r.prototype.deepCopy=function(){for(var t=[],a=0;a<this.ranges.length;a++)t[a]=new Pi(Qt(this.ranges[a].anchor),Qt(this.ranges[a].head));return new $r(t,this.primIndex)},$r.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},$r.prototype.contains=function(t,a){a||(a=t);for(var h=0;h<this.ranges.length;h++){var f=this.ranges[h];if(Ue(a,f.from())>=0&&Ue(t,f.to())<=0)return h}return-1};var Pi=function(t,a){this.anchor=t,this.head=a};Pi.prototype.from=function(){return ji(this.anchor,this.head)},Pi.prototype.to=function(){return ni(this.anchor,this.head)},Pi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function gn(t,a,h){var f=t&&t.options.selectionsMayTouch,v=a[h];a.sort(function(Ne,Ie){return Ue(Ne.from(),Ie.from())}),h=ze(a,v);for(var x=1;x<a.length;x++){var A=a[x],I=a[x-1],z=Ue(I.to(),A.from());if(f&&!A.empty()?z>0:z>=0){var Y=ji(I.from(),A.from()),ge=ni(I.to(),A.to()),xe=I.empty()?A.from()==A.head:I.from()==I.head;x<=h&&--h,a.splice(--x,2,new Pi(xe?ge:Y,xe?Y:ge))}}return new $r(a,h)}function Qa(t,a){return new $r([new Pi(t,a||t)],0)}function Ja(t){return t.text?ye(t.from.line+t.text.length-1,Et(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function Lf(t,a){if(Ue(t,a.from)<0)return t;if(Ue(t,a.to)<=0)return Ja(a);var h=t.line+a.text.length-(a.to.line-a.from.line)-1,f=t.ch;return t.line==a.to.line&&(f+=Ja(a).ch-a.to.ch),ye(h,f)}function yc(t,a){for(var h=[],f=0;f<t.sel.ranges.length;f++){var v=t.sel.ranges[f];h.push(new Pi(Lf(v.anchor,a),Lf(v.head,a)))}return gn(t.cm,h,t.sel.primIndex)}function Df(t,a,h){return t.line==a.line?ye(h.line,t.ch-a.ch+h.ch):ye(h.line+(t.line-a.line),t.ch)}function Mf(t,a,h){for(var f=[],v=ye(t.first,0),x=v,A=0;A<a.length;A++){var I=a[A],z=Df(I.from,v,x),Y=Df(Ja(I),v,x);if(v=I.to,x=Y,h=="around"){var ge=t.sel.ranges[A],xe=Ue(ge.head,ge.anchor)<0;f[A]=new Pi(xe?Y:z,xe?z:Y)}else f[A]=new Pi(z,z)}return new $r(f,t.sel.primIndex)}function wl(t){t.doc.mode=Or(t.options,t.doc.modeOption),zu(t)}function zu(t){t.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,si(t,100),t.state.modeGen++,t.curOp&&mn(t)}function Pf(t,a){return a.from.ch==0&&a.to.ch==0&&Et(a.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Bu(t,a,h,f){function v(xt){return h?h[xt]:null}function x(xt,gt,St){fl(xt,gt,St,f),Ti(xt,"change",xt,a)}function A(xt,gt){for(var St=[],Ht=xt;Ht<gt;++Ht)St.push(new ma(Y[Ht],v(Ht),f));return St}var I=a.from,z=a.to,Y=a.text,ge=Dt(t,I.line),xe=Dt(t,z.line),Ne=Et(Y),Ie=v(Y.length-1),Ye=z.line-I.line;if(a.full)t.insert(0,A(0,Y.length)),t.remove(Y.length,t.size-Y.length);else if(Pf(t,a)){var it=A(0,Y.length-1);x(xe,xe.text,Ie),Ye&&t.remove(I.line,Ye),it.length&&t.insert(I.line,it)}else if(ge==xe)if(Y.length==1)x(ge,ge.text.slice(0,I.ch)+Ne+ge.text.slice(z.ch),Ie);else{var ht=A(1,Y.length-1);ht.push(new ma(Ne+ge.text.slice(z.ch),Ie,f)),x(ge,ge.text.slice(0,I.ch)+Y[0],v(0)),t.insert(I.line+1,ht)}else if(Y.length==1)x(ge,ge.text.slice(0,I.ch)+Y[0]+xe.text.slice(z.ch),v(0)),t.remove(I.line+1,Ye);else{x(ge,ge.text.slice(0,I.ch)+Y[0],v(0)),x(xe,Ne+xe.text.slice(z.ch),Ie);var vt=A(1,Y.length-1);Ye>1&&t.remove(I.line+1,Ye-1),t.insert(I.line+1,vt)}Ti(t,"change",t,a)}function uo(t,a,h){function f(v,x,A){if(v.linked)for(var I=0;I<v.linked.length;++I){var z=v.linked[I];if(z.doc!=x){var Y=A&&z.sharedHist;h&&!Y||(a(z.doc,Y),f(z.doc,v,Y))}}}f(t,null,!0)}function Hu(t,a){if(a.cm)throw new Error("This document is already in use.");t.doc=a,a.cm=t,Ai(t),wl(t),Of(t),t.options.direction=a.direction,t.options.lineWrapping||xs(t),t.options.mode=a.modeOption,mn(t)}function Of(t){(t.doc.direction=="rtl"?We:De)(t.display.lineDiv,"CodeMirror-rtl")}function If(t){ae(t,function(){Of(t),mn(t)})}function kl(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Fo(t,a){var h={from:Qt(a.from),to:Ja(a),text:Ir(t,a.from,a.to)};return su(t,h,a.from.line,a.to.line+1),uo(t,function(f){return su(f,h,a.from.line,a.to.line+1)},!0),h}function Cl(t){for(;t.length;){var a=Et(t);if(a.ranges)t.pop();else break}}function Rs(t,a){if(a)return Cl(t.done),Et(t.done);if(t.done.length&&!Et(t.done).ranges)return Et(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),Et(t.done)}function Qr(t,a,h,f){var v=t.history;v.undone.length=0;var x=+new Date,A,I;if((v.lastOp==f||v.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&v.lastModTime>x-(t.cm?t.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(A=Rs(v,v.lastOp==f)))I=Et(A.changes),Ue(a.from,a.to)==0&&Ue(a.from,I.to)==0?I.to=Ja(a):A.changes.push(Fo(t,a));else{var z=Et(v.done);for((!z||!z.ranges)&&Uu(t.sel,v.done),A={changes:[Fo(t,a)],generation:v.generation},v.done.push(A);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(h),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=x,v.lastOp=v.lastSelOp=f,v.lastOrigin=v.lastSelOrigin=a.origin,I||Mi(t,"historyAdded")}function yd(t,a,h,f){var v=a.charAt(0);return v=="*"||v=="+"&&h.ranges.length==f.ranges.length&&h.somethingSelected()==f.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Ff(t,a,h,f){var v=t.history,x=f&&f.origin;h==v.lastSelOp||x&&v.lastSelOrigin==x&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==x||yd(t,x,Et(v.done),a))?v.done[v.done.length-1]=a:Uu(a,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=x,v.lastSelOp=h,f&&f.clearRedo!==!1&&Cl(v.undone)}function Uu(t,a){var h=Et(a);h&&h.ranges&&h.equals(t)||a.push(t)}function su(t,a,h,f){var v=a["spans_"+t.id],x=0;t.iter(Math.max(t.first,h),Math.min(t.first+t.size,f),function(A){A.markedSpans&&((v||(v=a["spans_"+t.id]={}))[x]=A.markedSpans),++x})}function es(t){if(!t)return null;for(var a,h=0;h<t.length;++h)t[h].marker.explicitlyCleared?a||(a=t.slice(0,h)):a&&a.push(t[h]);return a?a.length?a:null:t}function Rf(t,a){var h=a["spans_"+t.id];if(!h)return null;for(var f=[],v=0;v<a.text.length;++v)f.push(es(h[v]));return f}function Nf(t,a){var h=Rf(t,a),f=tr(t,a);if(!h)return f;if(!f)return h;for(var v=0;v<h.length;++v){var x=h[v],A=f[v];if(x&&A)e:for(var I=0;I<A.length;++I){for(var z=A[I],Y=0;Y<x.length;++Y)if(x[Y].marker==z.marker)continue e;x.push(z)}else A&&(h[v]=A)}return h}function Ca(t,a,h){for(var f=[],v=0;v<t.length;++v){var x=t[v];if(x.ranges){f.push(h?$r.prototype.deepCopy.call(x):x);continue}var A=x.changes,I=[];f.push({changes:I});for(var z=0;z<A.length;++z){var Y=A[z],ge=void 0;if(I.push({from:Y.from,to:Y.to,text:Y.text}),a)for(var xe in Y)(ge=xe.match(/^spans_(\d+)$/))&&ze(a,Number(ge[1]))>-1&&(Et(I)[xe]=Y[xe],delete Y[xe])}}return f}function xc(t,a,h,f){if(f){var v=t.anchor;if(h){var x=Ue(a,v)<0;x!=Ue(h,v)<0?(v=a,a=h):x!=Ue(a,h)<0&&(a=h)}return new Pi(v,a)}else return new Pi(h||a,a)}function Wu(t,a,h,f,v){v==null&&(v=t.cm&&(t.cm.display.shift||t.extend)),An(t,new $r([xc(t.sel.primary(),a,h,v)],0),f)}function Yn(t,a,h){for(var f=[],v=t.cm&&(t.cm.display.shift||t.extend),x=0;x<t.sel.ranges.length;x++)f[x]=xc(t.sel.ranges[x],a[x],null,v);var A=gn(t.cm,f,t.sel.primIndex);An(t,A,h)}function qu(t,a,h,f){var v=t.sel.ranges.slice(0);v[a]=h,An(t,gn(t.cm,v,t.sel.primIndex),f)}function wc(t,a,h,f){An(t,Qa(a,h),f)}function ta(t,a,h){var f={ranges:a.ranges,update:function(v){this.ranges=[];for(var x=0;x<v.length;x++)this.ranges[x]=new Pi(kt(t,v[x].anchor),kt(t,v[x].head))},origin:h&&h.origin};return Mi(t,"beforeSelectionChange",t,f),t.cm&&Mi(t.cm,"beforeSelectionChange",t.cm,f),f.ranges!=a.ranges?gn(t.cm,f.ranges,f.ranges.length-1):a}function El(t,a,h){var f=t.history.done,v=Et(f);v&&v.ranges?(f[f.length-1]=a,ia(t,a,h)):An(t,a,h)}function An(t,a,h){ia(t,a,h),Ff(t,t.sel,t.cm?t.cm.curOp.id:NaN,h)}function ia(t,a,h){(ri(t,"beforeSelectionChange")||t.cm&&ri(t.cm,"beforeSelectionChange"))&&(a=ta(t,a,h));var f=h&&h.bias||(Ue(a.primary().head,t.sel.primary().head)<0?-1:1);kc(t,Sl(t,a,f,!0)),!(h&&h.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&S(t.cm)}function kc(t,a){a.equals(t.sel)||(t.sel=a,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,zi(t.cm)),Ti(t,"cursorActivity",t))}function hr(t){kc(t,Sl(t,t.sel,null,!1))}function Sl(t,a,h,f){for(var v,x=0;x<a.ranges.length;x++){var A=a.ranges[x],I=a.ranges.length==t.sel.ranges.length&&t.sel.ranges[x],z=Tl(t,A.anchor,I&&I.anchor,h,f),Y=A.head==A.anchor?z:Tl(t,A.head,I&&I.head,h,f);(v||z!=A.anchor||Y!=A.head)&&(v||(v=a.ranges.slice(0,x)),v[x]=new Pi(z,Y))}return v?gn(t.cm,v,a.primIndex):a}function uu(t,a,h,f,v){var x=Dt(t,a.line);if(x.markedSpans)for(var A=0;A<x.markedSpans.length;++A){var I=x.markedSpans[A],z=I.marker,Y="selectLeft"in z?!z.selectLeft:z.inclusiveLeft,ge="selectRight"in z?!z.selectRight:z.inclusiveRight;if((I.from==null||(Y?I.from<=a.ch:I.from<a.ch))&&(I.to==null||(ge?I.to>=a.ch:I.to>a.ch))){if(v&&(Mi(z,"beforeCursorEnter"),z.explicitlyCleared))if(x.markedSpans){--A;continue}else break;if(!z.atomic)continue;if(h){var xe=z.find(f<0?1:-1),Ne=void 0;if((f<0?ge:Y)&&(xe=zf(t,xe,-f,xe&&xe.line==a.line?x:null)),xe&&xe.line==a.line&&(Ne=Ue(xe,h))&&(f<0?Ne<0:Ne>0))return uu(t,xe,a,f,v)}var Ie=z.find(f<0?-1:1);return(f<0?Y:ge)&&(Ie=zf(t,Ie,f,Ie.line==a.line?x:null)),Ie?uu(t,Ie,a,f,v):null}}return a}function Tl(t,a,h,f,v){var x=f||1,A=uu(t,a,h,x,v)||!v&&uu(t,a,h,x,!0)||uu(t,a,h,-x,v)||!v&&uu(t,a,h,-x,!0);return A||(t.cantEdit=!0,ye(t.first,0))}function zf(t,a,h,f){return h<0&&a.ch==0?a.line>t.first?kt(t,ye(a.line-1)):null:h>0&&a.ch==(f||Dt(t,a.line)).text.length?a.line<t.first+t.size-1?ye(a.line+1,0):null:new ye(a.line,a.ch+h)}function Al(t){t.setSelection(ye(t.firstLine(),0),ye(t.lastLine()),nt)}function Bf(t,a,h){var f={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return f.canceled=!0}};return h&&(f.update=function(v,x,A,I){v&&(f.from=kt(t,v)),x&&(f.to=kt(t,x)),A&&(f.text=A),I!==void 0&&(f.origin=I)}),Mi(t,"beforeChange",t,f),t.cm&&Mi(t.cm,"beforeChange",t.cm,f),f.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function na(t,a,h){if(t.cm){if(!t.cm.curOp)return Gi(t.cm,na)(t,a,h);if(t.cm.state.suppressEdits)return}if(!((ri(t,"beforeChange")||t.cm&&ri(t.cm,"beforeChange"))&&(a=Bf(t,a,!0),!a))){var f=mi&&!h&&ir(t,a.from,a.to);if(f)for(var v=f.length-1;v>=0;--v)Cc(t,{from:f[v].from,to:f[v].to,text:v?[""]:a.text,origin:a.origin});else Cc(t,a)}}function Cc(t,a){if(!(a.text.length==1&&a.text[0]==""&&Ue(a.from,a.to)==0)){var h=yc(t,a);Qr(t,a,h,t.cm?t.cm.curOp.id:NaN),Ea(t,a,h,tr(t,a));var f=[];uo(t,function(v,x){!x&&ze(f,v.history)==-1&&(Uf(v.history,a),f.push(v.history)),Ea(v,a,null,tr(v,a))})}}function Ll(t,a,h){var f=t.cm&&t.cm.state.suppressEdits;if(!(f&&!h)){for(var v=t.history,x,A=t.sel,I=a=="undo"?v.done:v.undone,z=a=="undo"?v.undone:v.done,Y=0;Y<I.length&&(x=I[Y],!(h?x.ranges&&!x.equals(t.sel):!x.ranges));Y++);if(Y!=I.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(x=I.pop(),x.ranges){if(Uu(x,z),h&&!x.equals(t.sel)){An(t,x,{clearRedo:!1});return}A=x}else if(f){I.push(x);return}else break;var ge=[];Uu(A,z),z.push({changes:ge,generation:v.generation}),v.generation=x.generation||++v.maxGeneration;for(var xe=ri(t,"beforeChange")||t.cm&&ri(t.cm,"beforeChange"),Ne=function(it){var ht=x.changes[it];if(ht.origin=a,xe&&!Bf(t,ht,!1))return I.length=0,{};ge.push(Fo(t,ht));var vt=it?yc(t,ht):Et(I);Ea(t,ht,vt,Nf(t,ht)),!it&&t.cm&&t.cm.scrollIntoView({from:ht.from,to:Ja(ht)});var xt=[];uo(t,function(gt,St){!St&&ze(xt,gt.history)==-1&&(Uf(gt.history,ht),xt.push(gt.history)),Ea(gt,ht,null,Nf(gt,ht))})},Ie=x.changes.length-1;Ie>=0;--Ie){var Ye=Ne(Ie);if(Ye)return Ye.v}}}}function Hf(t,a){if(a!=0&&(t.first+=a,t.sel=new $r($t(t.sel.ranges,function(v){return new Pi(ye(v.anchor.line+a,v.anchor.ch),ye(v.head.line+a,v.head.ch))}),t.sel.primIndex),t.cm)){mn(t.cm,t.first,t.first-a,a);for(var h=t.cm.display,f=h.viewFrom;f<h.viewTo;f++)$o(t.cm,f,"gutter")}}function Ea(t,a,h,f){if(t.cm&&!t.cm.curOp)return Gi(t.cm,Ea)(t,a,h,f);if(a.to.line<t.first){Hf(t,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>t.lastLine())){if(a.from.line<t.first){var v=a.text.length-1-(t.first-a.from.line);Hf(t,v),a={from:ye(t.first,0),to:ye(a.to.line+v,a.to.ch),text:[Et(a.text)],origin:a.origin}}var x=t.lastLine();a.to.line>x&&(a={from:a.from,to:ye(x,Dt(t,x).text.length),text:[a.text[0]],origin:a.origin}),a.removed=Ir(t,a.from,a.to),h||(h=yc(t,a)),t.cm?xd(t.cm,a,f):Bu(t,a,f),ia(t,h,nt),t.cantEdit&&Tl(t,ye(t.firstLine(),0))&&(t.cantEdit=!1)}}function xd(t,a,h){var f=t.doc,v=t.display,x=a.from,A=a.to,I=!1,z=x.line;t.options.lineWrapping||(z=li(Gn(Dt(f,x.line))),f.iter(z,A.line+1,function(Ie){if(Ie==v.maxLine)return I=!0,!0})),f.sel.contains(a.from,a.to)>-1&&zi(t),Bu(f,a,h,Mo(t)),t.options.lineWrapping||(f.iter(z,x.line+a.text.length,function(Ie){var Ye=ys(Ie);Ye>v.maxLineLength&&(v.maxLine=Ie,v.maxLineLength=Ye,v.maxLineChanged=!0,I=!1)}),I&&(t.curOp.updateMaxLine=!0)),Oi(f,x.line),si(t,400);var Y=a.text.length-(A.line-x.line)-1;a.full?mn(t):x.line==A.line&&a.text.length==1&&!Pf(t.doc,a)?$o(t,x.line,"text"):mn(t,x.line,A.line+1,Y);var ge=ri(t,"changes"),xe=ri(t,"change");if(xe||ge){var Ne={from:x,to:A,text:a.text,removed:a.removed,origin:a.origin};xe&&Ti(t,"change",t,Ne),ge&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(Ne)}t.display.selForContextMenu=null}function lu(t,a,h,f,v){var x;f||(f=h),Ue(f,h)<0&&(x=[f,h],h=x[0],f=x[1]),typeof a=="string"&&(a=t.splitLines(a)),na(t,{from:h,to:f,text:a,origin:v})}function Dl(t,a,h,f){h<t.line?t.line+=f:a<t.line&&(t.line=a,t.ch=0)}function Ec(t,a,h,f){for(var v=0;v<t.length;++v){var x=t[v],A=!0;if(x.ranges){x.copied||(x=t[v]=x.deepCopy(),x.copied=!0);for(var I=0;I<x.ranges.length;I++)Dl(x.ranges[I].anchor,a,h,f),Dl(x.ranges[I].head,a,h,f);continue}for(var z=0;z<x.changes.length;++z){var Y=x.changes[z];if(h<Y.from.line)Y.from=ye(Y.from.line+f,Y.from.ch),Y.to=ye(Y.to.line+f,Y.to.ch);else if(a<=Y.to.line){A=!1;break}}A||(t.splice(0,v+1),v=0)}}function Uf(t,a){var h=a.from.line,f=a.to.line,v=a.text.length-(f-h)-1;Ec(t.done,h,f,v),Ec(t.undone,h,f,v)}function ju(t,a,h,f){var v=a,x=a;return typeof a=="number"?x=Dt(t,jt(t,a)):v=li(a),v==null?null:(f(x,v)&&t.cm&&$o(t.cm,v,h),x)}function Zu(t){this.lines=t,this.parent=null;for(var a=0,h=0;h<t.length;++h)t[h].parent=this,a+=t[h].height;this.height=a}Zu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,a){for(var h=t,f=t+a;h<f;++h){var v=this.lines[h];this.height-=v.height,Ks(v),Ti(v,"delete")}this.lines.splice(t,a)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,a,h){this.height+=h,this.lines=this.lines.slice(0,t).concat(a).concat(this.lines.slice(t));for(var f=0;f<a.length;++f)a[f].parent=this},iterN:function(t,a,h){for(var f=t+a;t<f;++t)if(h(this.lines[t]))return!0}};function cu(t){this.children=t;for(var a=0,h=0,f=0;f<t.length;++f){var v=t[f];a+=v.chunkSize(),h+=v.height,v.parent=this}this.size=a,this.height=h,this.parent=null}cu.prototype={chunkSize:function(){return this.size},removeInner:function(t,a){this.size-=a;for(var h=0;h<this.children.length;++h){var f=this.children[h],v=f.chunkSize();if(t<v){var x=Math.min(a,v-t),A=f.height;if(f.removeInner(t,x),this.height-=A-f.height,v==x&&(this.children.splice(h--,1),f.parent=null),(a-=x)==0)break;t=0}else t-=v}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof Zu))){var I=[];this.collapse(I),this.children=[new Zu(I)],this.children[0].parent=this}},collapse:function(t){for(var a=0;a<this.children.length;++a)this.children[a].collapse(t)},insertInner:function(t,a,h){this.size+=a.length,this.height+=h;for(var f=0;f<this.children.length;++f){var v=this.children[f],x=v.chunkSize();if(t<=x){if(v.insertInner(t,a,h),v.lines&&v.lines.length>50){for(var A=v.lines.length%25+25,I=A;I<v.lines.length;){var z=new Zu(v.lines.slice(I,I+=25));v.height-=z.height,this.children.splice(++f,0,z),z.parent=this}v.lines=v.lines.slice(0,A),this.maybeSpill()}break}t-=x}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var a=t.children.splice(t.children.length-5,5),h=new cu(a);if(t.parent){t.size-=h.size,t.height-=h.height;var v=ze(t.parent.children,t);t.parent.children.splice(v+1,0,h)}else{var f=new cu(t.children);f.parent=t,t.children=[f,h],t=f}h.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,a,h){for(var f=0;f<this.children.length;++f){var v=this.children[f],x=v.chunkSize();if(t<x){var A=Math.min(a,x-t);if(v.iterN(t,A,h))return!0;if((a-=A)==0)break;t=0}else t-=x}}};var Ns=function(t,a,h){if(h)for(var f in h)h.hasOwnProperty(f)&&(this[f]=h[f]);this.doc=t,this.node=a};Ns.prototype.clear=function(){var t=this.doc.cm,a=this.line.widgets,h=this.line,f=li(h);if(!(f==null||!a)){for(var v=0;v<a.length;++v)a[v]==this&&a.splice(v--,1);a.length||(h.widgets=null);var x=en(this);zn(h,Math.max(0,h.height-x)),t&&(ae(t,function(){Wf(t,h,-x),$o(t,f,"widget")}),Ti(t,"lineWidgetCleared",t,this,f))}},Ns.prototype.changed=function(){var t=this,a=this.height,h=this.doc.cm,f=this.line;this.height=null;var v=en(this)-a;v&&(to(this.doc,f)||zn(f,f.height+v),h&&ae(h,function(){h.curOp.forceUpdate=!0,Wf(h,f,v),Ti(h,"lineWidgetChanged",h,t,li(f))}))},Cn(Ns);function Wf(t,a,h){Qi(a)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&_(t,h)}function Sc(t,a,h,f){var v=new Ns(t,h,f),x=t.cm;return x&&v.noHScroll&&(x.display.alignWidgets=!0),ju(t,a,"widget",function(A){var I=A.widgets||(A.widgets=[]);if(v.insertAt==null?I.push(v):I.splice(Math.min(I.length,Math.max(0,v.insertAt)),0,v),v.line=A,x&&!to(t,A)){var z=Qi(A)<t.scrollTop;zn(A,A.height+en(v)),z&&_(x,v.height),x.curOp.forceUpdate=!0}return!0}),x&&Ti(x,"lineWidgetAdded",x,v,typeof a=="number"?a:li(a)),v}var Tc=0,Sa=function(t,a){this.lines=[],this.type=a,this.doc=t,this.id=++Tc};Sa.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,a=t&&!t.curOp;if(a&&xa(t),ri(this,"clear")){var h=this.find();h&&Ti(this,"clear",h.from,h.to)}for(var f=null,v=null,x=0;x<this.lines.length;++x){var A=this.lines[x],I=Rt(A.markedSpans,this);t&&!this.collapsed?$o(t,li(A),"text"):t&&(I.to!=null&&(v=li(A)),I.from!=null&&(f=li(A))),A.markedSpans=dt(A.markedSpans,I),I.from==null&&this.collapsed&&!to(this.doc,A)&&t&&zn(A,Br(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var z=0;z<this.lines.length;++z){var Y=Gn(this.lines[z]),ge=ys(Y);ge>t.display.maxLineLength&&(t.display.maxLine=Y,t.display.maxLineLength=ge,t.display.maxLineChanged=!0)}f!=null&&t&&this.collapsed&&mn(t,f,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&hr(t.doc)),t&&Ti(t,"markerCleared",t,this,f,v),a&&wa(t),this.parent&&this.parent.clear()}},Sa.prototype.find=function(t,a){t==null&&this.type=="bookmark"&&(t=1);for(var h,f,v=0;v<this.lines.length;++v){var x=this.lines[v],A=Rt(x.markedSpans,this);if(A.from!=null&&(h=ye(a?x:li(x),A.from),t==-1))return h;if(A.to!=null&&(f=ye(a?x:li(x),A.to),t==1))return f}return h&&{from:h,to:f}},Sa.prototype.changed=function(){var t=this,a=this.find(-1,!0),h=this,f=this.doc.cm;!a||!f||ae(f,function(){var v=a.line,x=li(a.line),A=Ru(f,x);if(A&&(ro(A),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!to(h.doc,v)&&h.height!=null){var I=h.height;h.height=null;var z=en(h)-I;z&&zn(v,v.height+z)}Ti(f,"markerChanged",f,t)})},Sa.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||ze(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Sa.prototype.detachLine=function(t){if(this.lines.splice(ze(this.lines,t),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},Cn(Sa);function zs(t,a,h,f,v){if(f&&f.shared)return wd(t,a,h,f,v);if(t.cm&&!t.cm.curOp)return Gi(t.cm,zs)(t,a,h,f,v);var x=new Sa(t,v),A=Ue(a,h);if(f&&q(f,x,!1),A>0||A==0&&x.clearWhenEmpty!==!1)return x;if(x.replacedWith&&(x.collapsed=!0,x.widgetNode=se("span",[x.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||x.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(x.widgetNode.insertLeft=!0)),x.collapsed){if(bs(t,a.line,a,h,x)||a.line!=h.line&&bs(t,h.line,a,h,x))throw new Error("Inserting collapsed marker partially overlapping an existing one");Zi()}x.addToHistory&&Qr(t,{from:a,to:h,origin:"markText"},t.sel,NaN);var I=a.line,z=t.cm,Y;if(t.iter(I,h.line+1,function(xe){z&&x.collapsed&&!z.options.lineWrapping&&Gn(xe)==z.display.maxLine&&(Y=!0),x.collapsed&&I!=a.line&&zn(xe,0),Bt(xe,new er(x,I==a.line?a.ch:null,I==h.line?h.ch:null),t.cm&&t.cm.curOp),++I}),x.collapsed&&t.iter(a.line,h.line+1,function(xe){to(t,xe)&&zn(xe,0)}),x.clearOnEnter&&pt(x,"beforeCursorEnter",function(){return x.clear()}),x.readOnly&&(on(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),x.collapsed&&(x.id=++Tc,x.atomic=!0),z){if(Y&&(z.curOp.updateMaxLine=!0),x.collapsed)mn(z,a.line,h.line+1);else if(x.className||x.startStyle||x.endStyle||x.css||x.attributes||x.title)for(var ge=a.line;ge<=h.line;ge++)$o(z,ge,"text");x.atomic&&hr(z.doc),Ti(z,"markerAdded",z,x)}return x}var ts=function(t,a){this.markers=t,this.primary=a;for(var h=0;h<t.length;++h)t[h].parent=this};ts.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Ti(this,"clear")}},ts.prototype.find=function(t,a){return this.primary.find(t,a)},Cn(ts);function wd(t,a,h,f,v){f=q(f),f.shared=!1;var x=[zs(t,a,h,f,v)],A=x[0],I=f.widgetNode;return uo(t,function(z){I&&(f.widgetNode=I.cloneNode(!0)),x.push(zs(z,kt(z,a),kt(z,h),f,v));for(var Y=0;Y<z.linked.length;++Y)if(z.linked[Y].isParent)return;A=Et(x)}),new ts(x,A)}function Ac(t){return t.findMarks(ye(t.first,0),t.clipPos(ye(t.lastLine())),function(a){return a.parent})}function qf(t,a){for(var h=0;h<a.length;h++){var f=a[h],v=f.find(),x=t.clipPos(v.from),A=t.clipPos(v.to);if(Ue(x,A)){var I=zs(t,x,A,f.primary,f.primary.type);f.markers.push(I),I.parent=f}}}function kd(t){for(var a=function(f){var v=t[f],x=[v.primary.doc];uo(v.primary.doc,function(z){return x.push(z)});for(var A=0;A<v.markers.length;A++){var I=v.markers[A];ze(x,I.doc)==-1&&(I.parent=null,v.markers.splice(A--,1))}},h=0;h<t.length;h++)a(h)}var jf=0,Er=function(t,a,h,f,v){if(!(this instanceof Er))return new Er(t,a,h,f,v);h==null&&(h=0),cu.call(this,[new Zu([new ma("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var x=ye(h,0);this.sel=Qa(x),this.history=new kl(null),this.id=++jf,this.modeOption=a,this.lineSep=f,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Bu(this,{from:x,to:x,text:t}),An(this,Qa(x),nt)};Er.prototype=V(cu.prototype,{constructor:Er,iter:function(t,a,h){h?this.iterN(t-this.first,a-t,h):this.iterN(this.first,this.first+this.size,t)},insert:function(t,a){for(var h=0,f=0;f<a.length;++f)h+=a[f].height;this.insertInner(t-this.first,a,h)},remove:function(t,a){this.removeInner(t-this.first,a)},getValue:function(t){var a=ko(this,this.first,this.first+this.size);return t===!1?a:a.join(t||this.lineSeparator())},setValue:Li(function(t){var a=ye(this.first,0),h=this.first+this.size-1;na(this,{from:a,to:ye(h,Dt(this,h).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&N(this.cm,0,0),An(this,Qa(a),nt)}),replaceRange:function(t,a,h,f){a=kt(this,a),h=h?kt(this,h):a,lu(this,t,a,h,f)},getRange:function(t,a,h){var f=Ir(this,kt(this,t),kt(this,a));return h===!1?f:h===""?f.join(""):f.join(h||this.lineSeparator())},getLine:function(t){var a=this.getLineHandle(t);return a&&a.text},getLineHandle:function(t){if(ie(this,t))return Dt(this,t)},getLineNumber:function(t){return li(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=Dt(this,t)),Gn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return kt(this,t)},getCursor:function(t){var a=this.sel.primary(),h;return t==null||t=="head"?h=a.head:t=="anchor"?h=a.anchor:t=="end"||t=="to"||t===!1?h=a.to():h=a.from(),h},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Li(function(t,a,h){wc(this,kt(this,typeof t=="number"?ye(t,a||0):t),null,h)}),setSelection:Li(function(t,a,h){wc(this,kt(this,t),kt(this,a||t),h)}),extendSelection:Li(function(t,a,h){Wu(this,kt(this,t),a&&kt(this,a),h)}),extendSelections:Li(function(t,a){Yn(this,Q(this,t),a)}),extendSelectionsBy:Li(function(t,a){var h=$t(this.sel.ranges,t);Yn(this,Q(this,h),a)}),setSelections:Li(function(t,a,h){if(t.length){for(var f=[],v=0;v<t.length;v++)f[v]=new Pi(kt(this,t[v].anchor),kt(this,t[v].head||t[v].anchor));a==null&&(a=Math.min(t.length-1,this.sel.primIndex)),An(this,gn(this.cm,f,a),h)}}),addSelection:Li(function(t,a,h){var f=this.sel.ranges.slice(0);f.push(new Pi(kt(this,t),kt(this,a||t))),An(this,gn(this.cm,f,f.length-1),h)}),getSelection:function(t){for(var a=this.sel.ranges,h,f=0;f<a.length;f++){var v=Ir(this,a[f].from(),a[f].to());h=h?h.concat(v):v}return t===!1?h:h.join(t||this.lineSeparator())},getSelections:function(t){for(var a=[],h=this.sel.ranges,f=0;f<h.length;f++){var v=Ir(this,h[f].from(),h[f].to());t!==!1&&(v=v.join(t||this.lineSeparator())),a[f]=v}return a},replaceSelection:function(t,a,h){for(var f=[],v=0;v<this.sel.ranges.length;v++)f[v]=t;this.replaceSelections(f,a,h||"+input")},replaceSelections:Li(function(t,a,h){for(var f=[],v=this.sel,x=0;x<v.ranges.length;x++){var A=v.ranges[x];f[x]={from:A.from(),to:A.to(),text:this.splitLines(t[x]),origin:h}}for(var I=a&&a!="end"&&Mf(this,f,a),z=f.length-1;z>=0;z--)na(this,f[z]);I?El(this,I):this.cm&&S(this.cm)}),undo:Li(function(){Ll(this,"undo")}),redo:Li(function(){Ll(this,"redo")}),undoSelection:Li(function(){Ll(this,"undo",!0)}),redoSelection:Li(function(){Ll(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,a=0,h=0,f=0;f<t.done.length;f++)t.done[f].ranges||++a;for(var v=0;v<t.undone.length;v++)t.undone[v].ranges||++h;return{undo:a,redo:h}},clearHistory:function(){var t=this;this.history=new kl(this.history),uo(this,function(a){return a.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ca(this.history.done),undone:Ca(this.history.undone)}},setHistory:function(t){var a=this.history=new kl(this.history);a.done=Ca(t.done.slice(0),null,!0),a.undone=Ca(t.undone.slice(0),null,!0)},setGutterMarker:Li(function(t,a,h){return ju(this,t,"gutter",function(f){var v=f.gutterMarkers||(f.gutterMarkers={});return v[a]=h,!h&&at(v)&&(f.gutterMarkers=null),!0})}),clearGutter:Li(function(t){var a=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[t]&&ju(a,h,"gutter",function(){return h.gutterMarkers[t]=null,at(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(t){var a;if(typeof t=="number"){if(!ie(this,t)||(a=t,t=Dt(this,t),!t))return null}else if(a=li(t),a==null)return null;return{line:a,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Li(function(t,a,h){return ju(this,t,a=="gutter"?"gutter":"class",function(f){var v=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!f[v])f[v]=h;else{if(ue(h).test(f[v]))return!1;f[v]+=" "+h}return!0})}),removeLineClass:Li(function(t,a,h){return ju(this,t,a=="gutter"?"gutter":"class",function(f){var v=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",x=f[v];if(x)if(h==null)f[v]=null;else{var A=x.match(ue(h));if(!A)return!1;var I=A.index+A[0].length;f[v]=x.slice(0,A.index)+(!A.index||I==x.length?"":" ")+x.slice(I)||null}else return!1;return!0})}),addLineWidget:Li(function(t,a,h){return Sc(this,t,a,h)}),removeLineWidget:function(t){t.clear()},markText:function(t,a,h){return zs(this,kt(this,t),kt(this,a),h,h&&h.type||"range")},setBookmark:function(t,a){var h={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return t=kt(this,t),zs(this,t,t,h,"bookmark")},findMarksAt:function(t){t=kt(this,t);var a=[],h=Dt(this,t.line).markedSpans;if(h)for(var f=0;f<h.length;++f){var v=h[f];(v.from==null||v.from<=t.ch)&&(v.to==null||v.to>=t.ch)&&a.push(v.marker.parent||v.marker)}return a},findMarks:function(t,a,h){t=kt(this,t),a=kt(this,a);var f=[],v=t.line;return this.iter(t.line,a.line+1,function(x){var A=x.markedSpans;if(A)for(var I=0;I<A.length;I++){var z=A[I];!(z.to!=null&&v==t.line&&t.ch>=z.to||z.from==null&&v!=t.line||z.from!=null&&v==a.line&&z.from>=a.ch)&&(!h||h(z.marker))&&f.push(z.marker.parent||z.marker)}++v}),f},getAllMarks:function(){var t=[];return this.iter(function(a){var h=a.markedSpans;if(h)for(var f=0;f<h.length;++f)h[f].from!=null&&t.push(h[f].marker)}),t},posFromIndex:function(t){var a,h=this.first,f=this.lineSeparator().length;return this.iter(function(v){var x=v.text.length+f;if(x>t)return a=t,!0;t-=x,++h}),kt(this,ye(h,a))},indexFromPos:function(t){t=kt(this,t);var a=t.ch;if(t.line<this.first||t.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,t.line,function(f){a+=f.text.length+h}),a},copy:function(t){var a=new Er(ko(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,t&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(t){t||(t={});var a=this.first,h=this.first+this.size;t.from!=null&&t.from>a&&(a=t.from),t.to!=null&&t.to<h&&(h=t.to);var f=new Er(ko(this,a,h),t.mode||this.modeOption,a,this.lineSep,this.direction);return t.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:t.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],qf(f,Ac(this)),f},unlinkDoc:function(t){if(t instanceof Vi&&(t=t.doc),this.linked)for(var a=0;a<this.linked.length;++a){var h=this.linked[a];if(h.doc==t){this.linked.splice(a,1),t.unlinkDoc(this),kd(Ac(this));break}}if(t.history==this.history){var f=[t.id];uo(t,function(v){return f.push(v.id)},!0),t.history=new kl(null),t.history.done=Ca(this.history.done,f),t.history.undone=Ca(this.history.undone,f)}},iterLinkedDocs:function(t){uo(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):jo(t)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Li(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(a){return a.order=null}),this.cm&&If(this.cm))})}),Er.prototype.eachLine=Er.prototype.iter;var Ml=0;function Zf(t){var a=this;if(Pl(a),!(Ii(a,t)||Gr(a.display,t))){qi(t),b&&(Ml=+new Date);var h=Hr(a,t,!0),f=t.dataTransfer.files;if(!(!h||a.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var v=f.length,x=Array(v),A=0,I=function(){++A==v&&Gi(a,function(){h=kt(a.doc,h);var Ie={from:h,to:h,text:a.doc.splitLines(x.filter(function(Ye){return Ye!=null}).join(a.doc.lineSeparator())),origin:"paste"};na(a.doc,Ie),El(a.doc,Qa(kt(a.doc,h),kt(a.doc,Ja(Ie))))})()},z=function(Ie,Ye){if(a.options.allowDropFileTypes&&ze(a.options.allowDropFileTypes,Ie.type)==-1){I();return}var it=new FileReader;it.onerror=function(){return I()},it.onload=function(){var ht=it.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ht)){I();return}x[Ye]=ht,I()},it.readAsText(Ie)},Y=0;Y<f.length;Y++)z(f[Y],Y);else{if(a.state.draggingText&&a.doc.sel.contains(h)>-1){a.state.draggingText(t),setTimeout(function(){return a.display.input.focus()},20);return}try{var ge=t.dataTransfer.getData("Text");if(ge){var xe;if(a.state.draggingText&&!a.state.draggingText.copy&&(xe=a.listSelections()),ia(a.doc,Qa(h,h)),xe)for(var Ne=0;Ne<xe.length;++Ne)lu(a.doc,"",xe[Ne].anchor,xe[Ne].head,"drag");a.replaceSelection(ge,"around","paste"),a.display.input.focus()}}catch{}}}}function Lc(t,a){if(b&&(!t.state.draggingText||+new Date-Ml<100)){Zr(a);return}if(!(Ii(t,a)||Gr(t.display,a))&&(a.dataTransfer.setData("Text",t.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!Z)){var h=T("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",R&&(h.width=h.height=1,t.display.wrapper.appendChild(h),h._top=h.offsetTop),a.dataTransfer.setDragImage(h,0,0),R&&h.parentNode.removeChild(h)}}function Cd(t,a){var h=Hr(t,a);if(h){var f=document.createDocumentFragment();oo(t,h,f),t.display.dragCursor||(t.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),te(t.display.dragCursor,f)}}function Pl(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function fi(t){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),h=[],f=0;f<a.length;f++){var v=a[f].CodeMirror;v&&h.push(v)}h.length&&h[0].operation(function(){for(var x=0;x<h.length;x++)t(h[x])})}}var Gf=!1;function Ed(){Gf||(Gu(),Gf=!0)}function Gu(){var t;pt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,fi(Xf)},100))}),pt(window,"blur",function(){return fi(so)})}function Xf(t){var a=t.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,t.setSize()}for(var is={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Xu=0;Xu<10;Xu++)is[Xu+48]=is[Xu+96]=String(Xu);for(var Sr=65;Sr<=90;Sr++)is[Sr]=String.fromCharCode(Sr);for(var Yu=1;Yu<=12;Yu++)is[Yu+111]=is[Yu+63235]="F"+Yu;var lo={};lo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},lo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},lo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},lo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},lo.default=B?lo.macDefault:lo.pcDefault;function Dc(t){var a=t.split(/-(?!$)/);t=a[a.length-1];for(var h,f,v,x,A=0;A<a.length-1;A++){var I=a[A];if(/^(cmd|meta|m)$/i.test(I))x=!0;else if(/^a(lt)?$/i.test(I))h=!0;else if(/^(c|ctrl|control)$/i.test(I))f=!0;else if(/^s(hift)?$/i.test(I))v=!0;else throw new Error("Unrecognized modifier name: "+I)}return h&&(t="Alt-"+t),f&&(t="Ctrl-"+t),x&&(t="Cmd-"+t),v&&(t="Shift-"+t),t}function Yf(t){var a={};for(var h in t)if(t.hasOwnProperty(h)){var f=t[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if(f=="..."){delete t[h];continue}for(var v=$t(h.split(" "),Dc),x=0;x<v.length;x++){var A=void 0,I=void 0;x==v.length-1?(I=v.join(" "),A=f):(I=v.slice(0,x+1).join(" "),A="...");var z=a[I];if(!z)a[I]=A;else if(z!=A)throw new Error("Inconsistent bindings for "+I)}delete t[h]}for(var Y in a)t[Y]=a[Y];return t}function Bs(t,a,h,f){a=Vu(a);var v=a.call?a.call(t,f):a[t];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&h(v))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return Bs(t,a.fallthrough,h,f);for(var x=0;x<a.fallthrough.length;x++){var A=Bs(t,a.fallthrough[x],h,f);if(A)return A}}}function Ur(t){var a=typeof t=="string"?t:is[t.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function Ta(t,a,h){var f=t;return a.altKey&&f!="Alt"&&(t="Alt-"+t),(fe?a.metaKey:a.ctrlKey)&&f!="Ctrl"&&(t="Ctrl-"+t),(fe?a.ctrlKey:a.metaKey)&&f!="Mod"&&(t="Cmd-"+t),!h&&a.shiftKey&&f!="Shift"&&(t="Shift-"+t),t}function Ol(t,a){if(R&&t.keyCode==34&&t.char)return!1;var h=is[t.keyCode];return h==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(h=t.code),Ta(h,t,a))}function Vu(t){return typeof t=="string"?lo[t]:t}function Aa(t,a){for(var h=t.doc.sel.ranges,f=[],v=0;v<h.length;v++){for(var x=a(h[v]);f.length&&Ue(x.from,Et(f).to)<=0;){var A=f.pop();if(Ue(A.from,x.from)<0){x.from=A.from;break}}f.push(x)}ae(t,function(){for(var I=f.length-1;I>=0;I--)lu(t.doc,"",f[I].from,f[I].to,"+delete");S(t)})}function Il(t,a,h){var f=Ot(t.text,a+h,h);return f<0||f>t.text.length?null:f}function Ku(t,a,h){var f=Il(t,a.ch,h);return f==null?null:new ye(a.line,f,h<0?"after":"before")}function Fl(t,a,h,f,v){if(t){a.doc.direction=="rtl"&&(v=-v);var x=Ni(h,a.doc.direction);if(x){var A=v<0?Et(x):x[0],I=v<0==(A.level==1),z=I?"after":"before",Y;if(A.level>0||a.doc.direction=="rtl"){var ge=no(a,h);Y=v<0?h.text.length-1:0;var xe=Yr(a,ge,Y).top;Y=ut(function(Ne){return Yr(a,ge,Ne).top==xe},v<0==(A.level==1)?A.from:A.to-1,Y),z=="before"&&(Y=Il(h,Y,1))}else Y=v<0?A.to:A.from;return new ye(f,Y,z)}}return new ye(f,v<0?h.text.length:0,v<0?"before":"after")}function Mc(t,a,h,f){var v=Ni(a,t.doc.direction);if(!v)return Ku(a,h,f);h.ch>=a.text.length?(h.ch=a.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var x=bt(v,h.ch,h.sticky),A=v[x];if(t.doc.direction=="ltr"&&A.level%2==0&&(f>0?A.to>h.ch:A.from<h.ch))return Ku(a,h,f);var I=function(vt,xt){return Il(a,vt instanceof ye?vt.ch:vt,xt)},z,Y=function(vt){return t.options.lineWrapping?(z=z||no(t,a),Ci(t,a,z,vt)):{begin:0,end:a.text.length}},ge=Y(h.sticky=="before"?I(h,-1):h.ch);if(t.doc.direction=="rtl"||A.level==1){var xe=A.level==1==f<0,Ne=I(h,xe?1:-1);if(Ne!=null&&(xe?Ne<=A.to&&Ne<=ge.end:Ne>=A.from&&Ne>=ge.begin)){var Ie=xe?"before":"after";return new ye(h.line,Ne,Ie)}}var Ye=function(vt,xt,gt){for(var St=function(Fi,Ln){return Ln?new ye(h.line,I(Fi,1),"before"):new ye(h.line,Fi,"after")};vt>=0&&vt<v.length;vt+=xt){var Ht=v[vt],zt=xt>0==(Ht.level!=1),ei=zt?gt.begin:I(gt.end,-1);if(Ht.from<=ei&&ei<Ht.to||(ei=zt?Ht.from:I(Ht.to,-1),gt.begin<=ei&&ei<gt.end))return St(ei,zt)}},it=Ye(x+f,f,ge);if(it)return it;var ht=f>0?ge.end:I(ge.begin,-1);return ht!=null&&!(f>0&&ht==a.text.length)&&(it=Ye(f>0?0:v.length-1,f,Y(ht)),it)?it:null}var Hs={selectAll:Al,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),nt)},killLine:function(t){return Aa(t,function(a){if(a.empty()){var h=Dt(t.doc,a.head.line).text.length;return a.head.ch==h&&a.head.line<t.lastLine()?{from:a.head,to:ye(a.head.line+1,0)}:{from:a.head,to:ye(a.head.line,h)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(t){return Aa(t,function(a){return{from:ye(a.from().line,0),to:kt(t.doc,ye(a.to().line+1,0))}})},delLineLeft:function(t){return Aa(t,function(a){return{from:ye(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(t){return Aa(t,function(a){var h=t.charCoords(a.head,"div").top+5,f=t.coordsChar({left:0,top:h},"div");return{from:f,to:a.from()}})},delWrappedLineRight:function(t){return Aa(t,function(a){var h=t.charCoords(a.head,"div").top+5,f=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:h},"div");return{from:a.from(),to:f}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(ye(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(ye(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(a){return La(t,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(a){return Da(t,a.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(a){return Sd(t,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(a){var h=t.cursorCoords(a.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:h},"div")},Mt)},goLineLeft:function(t){return t.extendSelectionsBy(function(a){var h=t.cursorCoords(a.head,"div").top+5;return t.coordsChar({left:0,top:h},"div")},Mt)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(a){var h=t.cursorCoords(a.head,"div").top+5,f=t.coordsChar({left:0,top:h},"div");return f.ch<t.getLine(f.line).search(/\S/)?Da(t,a.head):f},Mt)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var a=[],h=t.listSelections(),f=t.options.tabSize,v=0;v<h.length;v++){var x=h[v].from(),A=he(t.getLine(x.line),x.ch,f);a.push(Pt(f-A%f))}t.replaceSelections(a)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return ae(t,function(){for(var a=t.listSelections(),h=[],f=0;f<a.length;f++)if(a[f].empty()){var v=a[f].head,x=Dt(t.doc,v.line).text;if(x){if(v.ch==x.length&&(v=new ye(v.line,v.ch-1)),v.ch>0)v=new ye(v.line,v.ch+1),t.replaceRange(x.charAt(v.ch-1)+x.charAt(v.ch-2),ye(v.line,v.ch-2),v,"+transpose");else if(v.line>t.doc.first){var A=Dt(t.doc,v.line-1).text;A&&(v=new ye(v.line,1),t.replaceRange(x.charAt(0)+t.doc.lineSeparator()+A.charAt(A.length-1),ye(v.line-1,A.length-1),v,"+transpose"))}}h.push(new Pi(v,v))}t.setSelections(h)})},newlineAndIndent:function(t){return ae(t,function(){for(var a=t.listSelections(),h=a.length-1;h>=0;h--)t.replaceRange(t.doc.lineSeparator(),a[h].anchor,a[h].head,"+input");a=t.listSelections();for(var f=0;f<a.length;f++)t.indentLine(a[f].from().line,null,!0);S(t)})},openLine:function(t){return t.replaceSelection(`
`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function La(t,a){var h=Dt(t.doc,a),f=Gn(h);return f!=h&&(a=li(f)),Fl(!0,t,f,a,1)}function Sd(t,a){var h=Dt(t.doc,a),f=gi(h);return f!=h&&(a=li(f)),Fl(!0,t,h,a,-1)}function Da(t,a){var h=La(t,a.line),f=Dt(t.doc,h.line),v=Ni(f,t.doc.direction);if(!v||v[0].level==0){var x=Math.max(h.ch,f.text.search(/\S/)),A=a.line==h.line&&a.ch<=x&&a.ch;return ye(h.line,A?0:x,h.sticky)}return h}function $u(t,a,h){if(typeof a=="string"&&(a=Hs[a],!a))return!1;t.display.input.ensurePolled();var f=t.display.shift,v=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),h&&(t.display.shift=!1),v=a(t)!=et}finally{t.display.shift=f,t.state.suppressEdits=!1}return v}function Vf(t,a,h){for(var f=0;f<t.state.keyMaps.length;f++){var v=Bs(a,t.state.keyMaps[f],h,t);if(v)return v}return t.options.extraKeys&&Bs(a,t.options.extraKeys,h,t)||Bs(a,t.options.keyMap,h,t)}var Pc=new Te;function Qu(t,a,h,f){var v=t.state.keySeq;if(v){if(Ur(a))return"handled";if(/\'$/.test(a)?t.state.keySeq=null:Pc.set(50,function(){t.state.keySeq==v&&(t.state.keySeq=null,t.display.input.reset())}),Kf(t,v+" "+a,h,f))return!0}return Kf(t,a,h,f)}function Kf(t,a,h,f){var v=Vf(t,a,f);return v=="multi"&&(t.state.keySeq=a),v=="handled"&&Ti(t,"keyHandled",t,a,h),(v=="handled"||v=="multi")&&(qi(h),Va(t)),!!v}function $f(t,a){var h=Ol(a,!0);return h?a.shiftKey&&!t.state.keySeq?Qu(t,"Shift-"+h,a,function(f){return $u(t,f,!0)})||Qu(t,h,a,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return $u(t,f)}):Qu(t,h,a,function(f){return $u(t,f)}):!1}function Qf(t,a,h){return Qu(t,"'"+h+"'",a,function(f){return $u(t,f,!0)})}var Rl=null;function Jf(t){var a=this;if(!(t.target&&t.target!=a.display.input.getField())&&(a.curOp.focus=Ve(F(a)),!Ii(a,t))){b&&w<11&&t.keyCode==27&&(t.returnValue=!1);var h=t.keyCode;a.display.shift=h==16||t.shiftKey;var f=$f(a,t);R&&(Rl=f?h:null,!f&&h==88&&!ur&&(B?t.metaKey:t.ctrlKey)&&a.replaceSelection("",null,"cut")),c&&!B&&!f&&h==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),h==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&eh(a)}}function eh(t){var a=t.display.lineDiv;We(a,"CodeMirror-crosshair");function h(f){(f.keyCode==18||!f.altKey)&&(De(a,"CodeMirror-crosshair"),wi(document,"keyup",h),wi(document,"mouseover",h))}pt(document,"keyup",h),pt(document,"mouseover",h)}function Oc(t){t.keyCode==16&&(this.doc.sel.shift=!1),Ii(this,t)}function Tr(t){var a=this;if(!(t.target&&t.target!=a.display.input.getField())&&!(Gr(a.display,t)||Ii(a,t)||t.ctrlKey&&!t.altKey||B&&t.metaKey)){var h=t.keyCode,f=t.charCode;if(R&&h==Rl){Rl=null,qi(t);return}if(!(R&&(!t.which||t.which<10)&&$f(a,t))){var v=String.fromCharCode(f??h);v!="\b"&&(Qf(a,t,v)||a.display.input.onKeyPress(t))}}}var ra=400,Ic=function(t,a,h){this.time=t,this.pos=a,this.button=h};Ic.prototype.compare=function(t,a,h){return this.time+ra>t&&Ue(a,this.pos)==0&&h==this.button};var Ju,ns;function fu(t,a){var h=+new Date;return ns&&ns.compare(h,t,a)?(Ju=ns=null,"triple"):Ju&&Ju.compare(h,t,a)?(ns=new Ic(h,t,a),Ju=null,"double"):(Ju=new Ic(h,t,a),ns=null,"single")}function Fc(t){var a=this,h=a.display;if(!(Ii(a,t)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=t.shiftKey,Gr(h,t)){C||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100));return}if(!pu(a,t)){var f=Hr(a,t),v=Zn(t),x=f?fu(f,v):"single";Ce(a).focus(),v==1&&a.state.selectingText&&a.state.selectingText(t),!(f&&th(a,v,f,x,t))&&(v==1?f?ih(a,f,x,t):pi(t)==h.scroller&&qi(t):v==2?(f&&Wu(a.doc,f),setTimeout(function(){return h.input.focus()},20)):v==3&&(me?a.display.input.onContextMenu(t):Jo(a)))}}}function th(t,a,h,f,v){var x="Click";return f=="double"?x="Double"+x:f=="triple"&&(x="Triple"+x),x=(a==1?"Left":a==2?"Middle":"Right")+x,Qu(t,Ta(x,v),v,function(A){if(typeof A=="string"&&(A=Hs[A]),!A)return!1;var I=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),I=A(t,h)!=et}finally{t.state.suppressEdits=!1}return I})}function Td(t,a,h){var f=t.getOption("configureMouse"),v=f?f(t,a,h):{};if(v.unit==null){var x=H?h.shiftKey&&h.metaKey:h.altKey;v.unit=x?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(v.extend==null||t.doc.extend)&&(v.extend=t.doc.extend||h.shiftKey),v.addNew==null&&(v.addNew=B?h.metaKey:h.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(B?h.altKey:h.ctrlKey)),v}function ih(t,a,h,f){b?setTimeout(Pe(ou,t),0):t.curOp.focus=Ve(F(t));var v=Td(t,h,f),x=t.doc.sel,A;t.options.dragDrop&&Mr&&!t.isReadOnly()&&h=="single"&&(A=x.contains(a))>-1&&(Ue((A=x.ranges[A]).from(),a)<0||a.xRel>0)&&(Ue(A.to(),a)>0||a.xRel<0)?hu(t,f,a,v):Ad(t,f,a,v)}function hu(t,a,h,f){var v=t.display,x=!1,A=Gi(t,function(Y){C&&(v.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Jo(t)),wi(v.wrapper.ownerDocument,"mouseup",A),wi(v.wrapper.ownerDocument,"mousemove",I),wi(v.scroller,"dragstart",z),wi(v.scroller,"drop",A),x||(qi(Y),f.addNew||Wu(t.doc,h,null,null,f.extend),C&&!Z||b&&w==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),I=function(Y){x=x||Math.abs(a.clientX-Y.clientX)+Math.abs(a.clientY-Y.clientY)>=10},z=function(){return x=!0};C&&(v.scroller.draggable=!0),t.state.draggingText=A,A.copy=!f.moveOnDrag,pt(v.wrapper.ownerDocument,"mouseup",A),pt(v.wrapper.ownerDocument,"mousemove",I),pt(v.scroller,"dragstart",z),pt(v.scroller,"drop",A),t.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function du(t,a,h){if(h=="char")return new Pi(a,a);if(h=="word")return t.findWordAt(a);if(h=="line")return new Pi(ye(a.line,0),kt(t.doc,ye(a.line+1,0)));var f=h(t,a);return new Pi(f.from,f.to)}function Ad(t,a,h,f){b&&Jo(t);var v=t.display,x=t.doc;qi(a);var A,I,z=x.sel,Y=z.ranges;if(f.addNew&&!f.extend?(I=x.sel.contains(h),I>-1?A=Y[I]:A=new Pi(h,h)):(A=x.sel.primary(),I=x.sel.primIndex),f.unit=="rectangle")f.addNew||(A=new Pi(h,h)),h=Hr(t,a,!0,!0),I=-1;else{var ge=du(t,h,f.unit);f.extend?A=xc(A,ge.anchor,ge.head,f.extend):A=ge}f.addNew?I==-1?(I=Y.length,An(x,gn(t,Y.concat([A]),I),{scroll:!1,origin:"*mouse"})):Y.length>1&&Y[I].empty()&&f.unit=="char"&&!f.extend?(An(x,gn(t,Y.slice(0,I).concat(Y.slice(I+1)),0),{scroll:!1,origin:"*mouse"}),z=x.sel):qu(x,I,A,Lt):(I=0,An(x,new $r([A],0),Lt),z=x.sel);var xe=h;function Ne(gt){if(Ue(xe,gt)!=0)if(xe=gt,f.unit=="rectangle"){for(var St=[],Ht=t.options.tabSize,zt=he(Dt(x,h.line).text,h.ch,Ht),ei=he(Dt(x,gt.line).text,gt.ch,Ht),Fi=Math.min(zt,ei),Ln=Math.max(zt,ei),Ki=Math.min(h.line,gt.line),rr=Math.min(t.lastLine(),Math.max(h.line,gt.line));Ki<=rr;Ki++){var dr=Dt(x,Ki).text,Ri=Ft(dr,Fi,Ht);Fi==Ln?St.push(new Pi(ye(Ki,Ri),ye(Ki,Ri))):dr.length>Ri&&St.push(new Pi(ye(Ki,Ri),ye(Ki,Ft(dr,Ln,Ht))))}St.length||St.push(new Pi(h,h)),An(x,gn(t,z.ranges.slice(0,I).concat(St),I),{origin:"*mouse",scroll:!1}),t.scrollIntoView(gt)}else{var vn=A,Vn=du(t,gt,f.unit),bn=vn.anchor,_n;Ue(Vn.anchor,bn)>0?(_n=Vn.head,bn=ji(vn.from(),Vn.anchor)):(_n=Vn.anchor,bn=ni(vn.to(),Vn.head));var sn=z.ranges.slice(0);sn[I]=nh(t,new Pi(kt(x,bn),_n)),An(x,gn(t,sn,I),Lt)}}var Ie=v.wrapper.getBoundingClientRect(),Ye=0;function it(gt){var St=++Ye,Ht=Hr(t,gt,!0,f.unit=="rectangle");if(Ht)if(Ue(Ht,xe)!=0){t.curOp.focus=Ve(F(t)),Ne(Ht);var zt=Os(v,x);(Ht.line>=zt.to||Ht.line<zt.from)&&setTimeout(Gi(t,function(){Ye==St&&it(gt)}),150)}else{var ei=gt.clientY<Ie.top?-20:gt.clientY>Ie.bottom?20:0;ei&&setTimeout(Gi(t,function(){Ye==St&&(v.scroller.scrollTop+=ei,it(gt))}),50)}}function ht(gt){t.state.selectingText=!1,Ye=1/0,gt&&(qi(gt),v.input.focus()),wi(v.wrapper.ownerDocument,"mousemove",vt),wi(v.wrapper.ownerDocument,"mouseup",xt),x.history.lastSelOrigin=null}var vt=Gi(t,function(gt){gt.buttons===0||!Zn(gt)?ht(gt):it(gt)}),xt=Gi(t,ht);t.state.selectingText=xt,pt(v.wrapper.ownerDocument,"mousemove",vt),pt(v.wrapper.ownerDocument,"mouseup",xt)}function nh(t,a){var h=a.anchor,f=a.head,v=Dt(t.doc,h.line);if(Ue(h,f)==0&&h.sticky==f.sticky)return a;var x=Ni(v);if(!x)return a;var A=bt(x,h.ch,h.sticky),I=x[A];if(I.from!=h.ch&&I.to!=h.ch)return a;var z=A+(I.from==h.ch==(I.level!=1)?0:1);if(z==0||z==x.length)return a;var Y;if(f.line!=h.line)Y=(f.line-h.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var ge=bt(x,f.ch,f.sticky),xe=ge-A||(f.ch-h.ch)*(I.level==1?-1:1);ge==z-1||ge==z?Y=xe<0:Y=xe>0}var Ne=x[z+(Y?-1:0)],Ie=Y==(Ne.level==1),Ye=Ie?Ne.from:Ne.to,it=Ie?"after":"before";return h.ch==Ye&&h.sticky==it?a:new Pi(new ye(h.line,Ye,it),f)}function Rc(t,a,h,f){var v,x;if(a.touches)v=a.touches[0].clientX,x=a.touches[0].clientY;else try{v=a.clientX,x=a.clientY}catch{return!1}if(v>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;f&&qi(a);var A=t.display,I=A.lineDiv.getBoundingClientRect();if(x>I.bottom||!ri(t,h))return Jn(a);x-=I.top-A.viewOffset;for(var z=0;z<t.display.gutterSpecs.length;++z){var Y=A.gutters.childNodes[z];if(Y&&Y.getBoundingClientRect().right>=v){var ge=_r(t.doc,x),xe=t.display.gutterSpecs[z];return Mi(t,h,t,ge,xe.className,a),Jn(a)}}}function pu(t,a){return Rc(t,a,"gutterClick",!0)}function Nc(t,a){Gr(t.display,a)||Nl(t,a)||Ii(t,a,"contextmenu")||me||t.display.input.onContextMenu(a)}function Nl(t,a){return ri(t,"gutterContextMenu")?Rc(t,a,"gutterContextMenu",!1):!1}function zl(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ko(t)}var Ma={toString:function(){return"CodeMirror.Init"}},rh={},el={};function Bl(t){var a=t.optionHandlers;function h(f,v,x,A){t.defaults[f]=v,x&&(a[f]=A?function(I,z,Y){Y!=Ma&&x(I,z,Y)}:x)}t.defineOption=h,t.Init=Ma,h("value","",function(f,v){return f.setValue(v)},!0),h("mode",null,function(f,v){f.doc.modeOption=v,wl(f)},!0),h("indentUnit",2,wl,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(f){zu(f),Ko(f),mn(f)},!0),h("lineSeparator",null,function(f,v){if(f.doc.lineSep=v,!!v){var x=[],A=f.doc.first;f.doc.iter(function(z){for(var Y=0;;){var ge=z.text.indexOf(v,Y);if(ge==-1)break;Y=ge+v.length,x.push(ye(A,ge))}A++});for(var I=x.length-1;I>=0;I--)lu(f.doc,v,x[I],ye(x[I].line,x[I].ch+v.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(f,v,x){f.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),x!=Ma&&f.refresh()}),h("specialCharPlaceholder",Xo,function(f){return f.refresh()},!0),h("electricChars",!0),h("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(f,v){return f.getInputField().spellcheck=v},!0),h("autocorrect",!1,function(f,v){return f.getInputField().autocorrect=v},!0),h("autocapitalize",!1,function(f,v){return f.getInputField().autocapitalize=v},!0),h("rtlMoveVisually",!j),h("wholeLineUpdateBefore",!0),h("theme","default",function(f){zl(f),Kr(f)},!0),h("keyMap","default",function(f,v,x){var A=Vu(v),I=x!=Ma&&Vu(x);I&&I.detach&&I.detach(f,A),A.attach&&A.attach(f,I||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,zc,!0),h("gutters",[],function(f,v){f.display.gutterSpecs=_c(v,f.options.lineNumbers),Kr(f)},!0),h("fixedGutter",!0,function(f,v){f.display.gutters.style.left=v?Ga(f.display)+"px":"0",f.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(f){return Un(f)},!0),h("scrollbarStyle","native",function(f){ya(f),Un(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),h("lineNumbers",!1,function(f,v){f.display.gutterSpecs=_c(f.options.gutters,v),Kr(f)},!0),h("firstLineNumber",1,Kr,!0),h("lineNumberFormatter",function(f){return f},Kr,!0),h("showCursorWhenSelecting",!1,Qo,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(f,v){v=="nocursor"&&(so(f),f.display.input.blur()),f.display.input.readOnlyChanged(v)}),h("screenReaderLabel",null,function(f,v){v=v===""?null:v,f.display.input.screenReaderLabelChanged(v)}),h("disableInput",!1,function(f,v){v||f.display.input.reset()},!0),h("dragDrop",!0,oh),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,Qo,!0),h("singleCursorHeightPerLine",!0,Qo,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,zu,!0),h("addModeClass",!1,zu,!0),h("pollInterval",100),h("undoDepth",200,function(f,v){return f.doc.history.undoDepth=v}),h("historyEventDelay",1250),h("viewportMargin",10,function(f){return f.refresh()},!0),h("maxHighlightLength",1e4,zu,!0),h("moveInputWithCursor",!0,function(f,v){v||f.display.input.resetPosition()}),h("tabindex",null,function(f,v){return f.display.input.getField().tabIndex=v||""}),h("autofocus",null),h("direction","ltr",function(f,v){return f.doc.setDirection(v)},!0),h("phrases",null)}function oh(t,a,h){var f=h&&h!=Ma;if(!a!=!f){var v=t.display.dragFunctions,x=a?pt:wi;x(t.display.scroller,"dragstart",v.start),x(t.display.scroller,"dragenter",v.enter),x(t.display.scroller,"dragover",v.over),x(t.display.scroller,"dragleave",v.leave),x(t.display.scroller,"drop",v.drop)}}function zc(t){t.options.lineWrapping?(We(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(De(t.display.wrapper,"CodeMirror-wrap"),xs(t)),Ai(t),mn(t),Ko(t),setTimeout(function(){return Un(t)},100)}function Vi(t,a){var h=this;if(!(this instanceof Vi))return new Vi(t,a);this.options=a=a?q(a):{},q(rh,a,!1);var f=a.value;typeof f=="string"?f=new Er(f,a.mode,null,a.lineSeparator,a.direction):a.mode&&(f.modeOption=a.mode),this.doc=f;var v=new Vi.inputStyles[a.inputStyle](this),x=this.display=new bd(t,f,v,a);x.wrapper.CodeMirror=this,zl(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ya(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Te,keySeq:null,specialChars:null},a.autofocus&&!W&&x.input.focus(),b&&w<11&&setTimeout(function(){return h.display.input.reset(!0)},20),ah(this),Ed(),xa(this),this.curOp.forceUpdate=!0,Hu(this,f),a.autofocus&&!W||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&ao(h)},20):so(this);for(var A in el)el.hasOwnProperty(A)&&el[A](this,a[A],Ma);Sf(this),a.finishInit&&a.finishInit(this);for(var I=0;I<Ro.length;++I)Ro[I](this);wa(this),C&&a.lineWrapping&&getComputedStyle(x.lineDiv).textRendering=="optimizelegibility"&&(x.lineDiv.style.textRendering="auto")}Vi.defaults=rh,Vi.optionHandlers=el;function ah(t){var a=t.display;pt(a.scroller,"mousedown",Gi(t,Fc)),b&&w<11?pt(a.scroller,"dblclick",Gi(t,function(z){if(!Ii(t,z)){var Y=Hr(t,z);if(!(!Y||pu(t,z)||Gr(t.display,z))){qi(z);var ge=t.findWordAt(Y);Wu(t.doc,ge.anchor,ge.head)}}})):pt(a.scroller,"dblclick",function(z){return Ii(t,z)||qi(z)}),pt(a.scroller,"contextmenu",function(z){return Nc(t,z)}),pt(a.input.getField(),"contextmenu",function(z){a.scroller.contains(z.target)||Nc(t,z)});var h,f={end:0};function v(){a.activeTouch&&(h=setTimeout(function(){return a.activeTouch=null},1e3),f=a.activeTouch,f.end=+new Date)}function x(z){if(z.touches.length!=1)return!1;var Y=z.touches[0];return Y.radiusX<=1&&Y.radiusY<=1}function A(z,Y){if(Y.left==null)return!0;var ge=Y.left-z.left,xe=Y.top-z.top;return ge*ge+xe*xe>20*20}pt(a.scroller,"touchstart",function(z){if(!Ii(t,z)&&!x(z)&&!pu(t,z)){a.input.ensurePolled(),clearTimeout(h);var Y=+new Date;a.activeTouch={start:Y,moved:!1,prev:Y-f.end<=300?f:null},z.touches.length==1&&(a.activeTouch.left=z.touches[0].pageX,a.activeTouch.top=z.touches[0].pageY)}}),pt(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),pt(a.scroller,"touchend",function(z){var Y=a.activeTouch;if(Y&&!Gr(a,z)&&Y.left!=null&&!Y.moved&&new Date-Y.start<300){var ge=t.coordsChar(a.activeTouch,"page"),xe;!Y.prev||A(Y,Y.prev)?xe=new Pi(ge,ge):!Y.prev.prev||A(Y,Y.prev.prev)?xe=t.findWordAt(ge):xe=new Pi(ye(ge.line,0),kt(t.doc,ye(ge.line+1,0))),t.setSelection(xe.anchor,xe.head),t.focus(),qi(z)}v()}),pt(a.scroller,"touchcancel",v),pt(a.scroller,"scroll",function(){a.scroller.clientHeight&&(je(t,a.scroller.scrollTop),wt(t,a.scroller.scrollLeft,!0),Mi(t,"scroll",t))}),pt(a.scroller,"mousewheel",function(z){return $a(t,z)}),pt(a.scroller,"DOMMouseScroll",function(z){return $a(t,z)}),pt(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(z){Ii(t,z)||Zr(z)},over:function(z){Ii(t,z)||(Cd(t,z),Zr(z))},start:function(z){return Lc(t,z)},drop:Gi(t,Zf),leave:function(z){Ii(t,z)||Pl(t)}};var I=a.input.getField();pt(I,"keyup",function(z){return Oc.call(t,z)}),pt(I,"keydown",Gi(t,Jf)),pt(I,"keypress",Gi(t,Tr)),pt(I,"focus",function(z){return ao(t,z)}),pt(I,"blur",function(z){return so(t,z)})}var Ro=[];Vi.defineInitHook=function(t){return Ro.push(t)};function mu(t,a,h,f){var v=t.doc,x;h==null&&(h="add"),h=="smart"&&(v.mode.indent?x=Me(t,a).state:h="prev");var A=t.options.tabSize,I=Dt(v,a),z=he(I.text,null,A);I.stateAfter&&(I.stateAfter=null);var Y=I.text.match(/^\s*/)[0],ge;if(!f&&!/\S/.test(I.text))ge=0,h="not";else if(h=="smart"&&(ge=v.mode.indent(x,I.text.slice(Y.length),I.text),ge==et||ge>150)){if(!f)return;h="prev"}h=="prev"?a>v.first?ge=he(Dt(v,a-1).text,null,A):ge=0:h=="add"?ge=z+t.options.indentUnit:h=="subtract"?ge=z-t.options.indentUnit:typeof h=="number"&&(ge=z+h),ge=Math.max(0,ge);var xe="",Ne=0;if(t.options.indentWithTabs)for(var Ie=Math.floor(ge/A);Ie;--Ie)Ne+=A,xe+="	";if(Ne<ge&&(xe+=Pt(ge-Ne)),xe!=Y)return lu(v,xe,ye(a,0),ye(a,Y.length),"+input"),I.stateAfter=null,!0;for(var Ye=0;Ye<v.sel.ranges.length;Ye++){var it=v.sel.ranges[Ye];if(it.head.line==a&&it.head.ch<Y.length){var ht=ye(a,Y.length);qu(v,Ye,new Pi(ht,ht));break}}}var co=null;function Hl(t){co=t}function Ul(t,a,h,f,v){var x=t.doc;t.display.shift=!1,f||(f=x.sel);var A=+new Date-200,I=v=="paste"||t.state.pasteIncoming>A,z=jo(a),Y=null;if(I&&f.ranges.length>1)if(co&&co.text.join(`
`)==a){if(f.ranges.length%co.text.length==0){Y=[];for(var ge=0;ge<co.text.length;ge++)Y.push(x.splitLines(co.text[ge]))}}else z.length==f.ranges.length&&t.options.pasteLinesPerSelection&&(Y=$t(z,function(vt){return[vt]}));for(var xe=t.curOp.updateInput,Ne=f.ranges.length-1;Ne>=0;Ne--){var Ie=f.ranges[Ne],Ye=Ie.from(),it=Ie.to();Ie.empty()&&(h&&h>0?Ye=ye(Ye.line,Ye.ch-h):t.state.overwrite&&!I?it=ye(it.line,Math.min(Dt(x,it.line).text.length,it.ch+Et(z).length)):I&&co&&co.lineWise&&co.text.join(`
`)==z.join(`
`)&&(Ye=it=ye(Ye.line,0)));var ht={from:Ye,to:it,text:Y?Y[Ne%Y.length]:z,origin:v||(I?"paste":t.state.cutIncoming>A?"cut":"+input")};na(t.doc,ht),Ti(t,"inputRead",t,ht)}a&&!I&&uh(t,a),S(t),t.curOp.updateInput<2&&(t.curOp.updateInput=xe),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function sh(t,a){var h=t.clipboardData&&t.clipboardData.getData("Text");if(h)return t.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&ae(a,function(){return Ul(a,h,0,null,"paste")}),!0}function uh(t,a){if(!(!t.options.electricChars||!t.options.smartIndent))for(var h=t.doc.sel,f=h.ranges.length-1;f>=0;f--){var v=h.ranges[f];if(!(v.head.ch>100||f&&h.ranges[f-1].head.line==v.head.line)){var x=t.getModeAt(v.head),A=!1;if(x.electricChars){for(var I=0;I<x.electricChars.length;I++)if(a.indexOf(x.electricChars.charAt(I))>-1){A=mu(t,v.head.line,"smart");break}}else x.electricInput&&x.electricInput.test(Dt(t.doc,v.head.line).text.slice(0,v.head.ch))&&(A=mu(t,v.head.line,"smart"));A&&Ti(t,"electricInput",t,v.head.line)}}}function oa(t){for(var a=[],h=[],f=0;f<t.doc.sel.ranges.length;f++){var v=t.doc.sel.ranges[f].head.line,x={anchor:ye(v,0),head:ye(v+1,0)};h.push(x),a.push(t.getRange(x.anchor,x.head))}return{text:a,ranges:h}}function Wl(t,a,h,f){t.setAttribute("autocorrect",h?"":"off"),t.setAttribute("autocapitalize",f?"":"off"),t.setAttribute("spellcheck",!!a)}function ql(){var t=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=T("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?t.style.width="1000px":t.setAttribute("wrap","off"),E&&(t.style.border="1px solid black"),Wl(t),a}function Bc(t){var a=t.optionHandlers,h=t.helpers={};t.prototype={constructor:t,focus:function(){Ce(this).focus(),this.display.input.focus()},setOption:function(f,v){var x=this.options,A=x[f];x[f]==v&&f!="mode"||(x[f]=v,a.hasOwnProperty(f)&&Gi(this,a[f])(this,v,A),Mi(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,v){this.state.keyMaps[v?"push":"unshift"](Vu(f))},removeKeyMap:function(f){for(var v=this.state.keyMaps,x=0;x<v.length;++x)if(v[x]==f||v[x].name==f)return v.splice(x,1),!0},addOverlay:an(function(f,v){var x=f.token?f:t.getMode(this.options,f);if(x.startState)throw new Error("Overlays may not be stateful.");X(this.state.overlays,{mode:x,modeSpec:f,opaque:v&&v.opaque,priority:v&&v.priority||0},function(A){return A.priority}),this.state.modeGen++,mn(this)}),removeOverlay:an(function(f){for(var v=this.state.overlays,x=0;x<v.length;++x){var A=v[x].modeSpec;if(A==f||typeof f=="string"&&A.name==f){v.splice(x,1),this.state.modeGen++,mn(this);return}}}),indentLine:an(function(f,v,x){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),ie(this.doc,f)&&mu(this,f,v,x)}),indentSelection:an(function(f){for(var v=this.doc.sel.ranges,x=-1,A=0;A<v.length;A++){var I=v[A];if(I.empty())I.head.line>x&&(mu(this,I.head.line,f,!0),x=I.head.line,A==this.doc.sel.primIndex&&S(this));else{var z=I.from(),Y=I.to(),ge=Math.max(x,z.line);x=Math.min(this.lastLine(),Y.line-(Y.ch?0:1))+1;for(var xe=ge;xe<x;++xe)mu(this,xe,f);var Ne=this.doc.sel.ranges;z.ch==0&&v.length==Ne.length&&Ne[A].from().ch>0&&qu(this.doc,A,new Pi(z,Ne[A].to()),nt)}}}),getTokenAt:function(f,v){return Ke(this,f,v)},getLineTokens:function(f,v){return Ke(this,ye(f),v,!0)},getTokenTypeAt:function(f){f=kt(this.doc,f);var v=Le(this,Dt(this.doc,f.line)),x=0,A=(v.length-1)/2,I=f.ch,z;if(I==0)z=v[2];else for(;;){var Y=x+A>>1;if((Y?v[Y*2-1]:0)>=I)A=Y;else if(v[Y*2+1]<I)x=Y+1;else{z=v[Y*2+2];break}}var ge=z?z.indexOf("overlay "):-1;return ge<0?z:ge==0?null:z.slice(0,ge-1)},getModeAt:function(f){var v=this.doc.mode;return v.innerMode?t.innerMode(v,this.getTokenAt(f).state).mode:v},getHelper:function(f,v){return this.getHelpers(f,v)[0]},getHelpers:function(f,v){var x=[];if(!h.hasOwnProperty(v))return x;var A=h[v],I=this.getModeAt(f);if(typeof I[v]=="string")A[I[v]]&&x.push(A[I[v]]);else if(I[v])for(var z=0;z<I[v].length;z++){var Y=A[I[v][z]];Y&&x.push(Y)}else I.helperType&&A[I.helperType]?x.push(A[I.helperType]):A[I.name]&&x.push(A[I.name]);for(var ge=0;ge<A._global.length;ge++){var xe=A._global[ge];xe.pred(I,this)&&ze(x,xe.val)==-1&&x.push(xe.val)}return x},getStateAfter:function(f,v){var x=this.doc;return f=jt(x,f??x.first+x.size-1),Me(this,f+1,v).state},cursorCoords:function(f,v){var x,A=this.doc.sel.primary();return f==null?x=A.head:typeof f=="object"?x=kt(this.doc,f):x=f?A.from():A.to(),Fe(this,x,v||"page")},charCoords:function(f,v){return Vr(this,kt(this.doc,f),v||"page")},coordsChar:function(f,v){return f=Ls(this,f,v||"page"),At(this,f.left,f.top)},lineAtHeight:function(f,v){return f=Ls(this,{top:f,left:0},v||"page").top,_r(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,v,x){var A=!1,I;if(typeof f=="number"){var z=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>z&&(f=z,A=!0),I=Dt(this.doc,f)}else I=f;return Lo(this,I,{top:0,left:0},v||"page",x||A).top+(A?this.doc.height-Qi(I):0)},defaultTextHeight:function(){return Br(this.display)},defaultCharWidth:function(){return Za(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,v,x,A,I){var z=this.display;f=Fe(this,kt(this.doc,f));var Y=f.bottom,ge=f.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),z.sizer.appendChild(v),A=="over")Y=f.top;else if(A=="above"||A=="near"){var xe=Math.max(z.wrapper.clientHeight,this.doc.height),Ne=Math.max(z.sizer.clientWidth,z.lineSpace.clientWidth);(A=="above"||f.bottom+v.offsetHeight>xe)&&f.top>v.offsetHeight?Y=f.top-v.offsetHeight:f.bottom+v.offsetHeight<=xe&&(Y=f.bottom),ge+v.offsetWidth>Ne&&(ge=Ne-v.offsetWidth)}v.style.top=Y+"px",v.style.left=v.style.right="",I=="right"?(ge=z.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(I=="left"?ge=0:I=="middle"&&(ge=(z.sizer.clientWidth-v.offsetWidth)/2),v.style.left=ge+"px"),x&&o(this,{left:ge,top:Y,right:ge+v.offsetWidth,bottom:Y+v.offsetHeight})},triggerOnKeyDown:an(Jf),triggerOnKeyPress:an(Tr),triggerOnKeyUp:Oc,triggerOnMouseDown:an(Fc),execCommand:function(f){if(Hs.hasOwnProperty(f))return Hs[f].call(null,this)},triggerElectric:an(function(f){uh(this,f)}),findPosH:function(f,v,x,A){var I=1;v<0&&(I=-1,v=-v);for(var z=kt(this.doc,f),Y=0;Y<v&&(z=gu(this.doc,z,I,x,A),!z.hitSide);++Y);return z},moveH:an(function(f,v){var x=this;this.extendSelectionsBy(function(A){return x.display.shift||x.doc.extend||A.empty()?gu(x.doc,A.head,f,v,x.options.rtlMoveVisually):f<0?A.from():A.to()},Mt)}),deleteH:an(function(f,v){var x=this.doc.sel,A=this.doc;x.somethingSelected()?A.replaceSelection("",null,"+delete"):Aa(this,function(I){var z=gu(A,I.head,f,v,!1);return f<0?{from:z,to:I.head}:{from:I.head,to:z}})}),findPosV:function(f,v,x,A){var I=1,z=A;v<0&&(I=-1,v=-v);for(var Y=kt(this.doc,f),ge=0;ge<v;++ge){var xe=Fe(this,Y,"div");if(z==null?z=xe.left:xe.left=z,Y=Us(this,xe,I,x),Y.hitSide)break}return Y},moveV:an(function(f,v){var x=this,A=this.doc,I=[],z=!this.display.shift&&!A.extend&&A.sel.somethingSelected();if(A.extendSelectionsBy(function(ge){if(z)return f<0?ge.from():ge.to();var xe=Fe(x,ge.head,"div");ge.goalColumn!=null&&(xe.left=ge.goalColumn),I.push(xe.left);var Ne=Us(x,xe,f,v);return v=="page"&&ge==A.sel.primary()&&_(x,Vr(x,Ne,"div").top-xe.top),Ne},Mt),I.length)for(var Y=0;Y<A.sel.ranges.length;Y++)A.sel.ranges[Y].goalColumn=I[Y]}),findWordAt:function(f){var v=this.doc,x=Dt(v,f.line).text,A=f.ch,I=f.ch;if(x){var z=this.getHelper(f,"wordChars");(f.sticky=="before"||I==x.length)&&A?--A:++I;for(var Y=x.charAt(A),ge=He(Y,z)?function(xe){return He(xe,z)}:/\s/.test(Y)?function(xe){return/\s/.test(xe)}:function(xe){return!/\s/.test(xe)&&!He(xe)};A>0&&ge(x.charAt(A-1));)--A;for(;I<x.length&&ge(x.charAt(I));)++I}return new Pi(ye(f.line,A),ye(f.line,I))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?We(this.display.cursorDiv,"CodeMirror-overwrite"):De(this.display.cursorDiv,"CodeMirror-overwrite"),Mi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ve(F(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:an(function(f,v){N(this,f,v)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-io(this)-this.display.barHeight,width:f.scrollWidth-io(this)-this.display.barWidth,clientHeight:tu(this),clientWidth:Xr(this)}},scrollIntoView:an(function(f,v){f==null?(f={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof f=="number"?f={from:ye(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=v||0,f.from.line!=null?re(this,f):qe(this,f.from,f.to,f.margin)}),setSize:an(function(f,v){var x=this,A=function(z){return typeof z=="number"||/^\d+$/.test(String(z))?z+"px":z};f!=null&&(this.display.wrapper.style.width=A(f)),v!=null&&(this.display.wrapper.style.height=A(v)),this.options.lineWrapping&&wr(this);var I=this.display.viewFrom;this.doc.iter(I,this.display.viewTo,function(z){if(z.widgets){for(var Y=0;Y<z.widgets.length;Y++)if(z.widgets[Y].noHScroll){$o(x,I,"widget");break}}++I}),this.curOp.forceUpdate=!0,Mi(this,"refresh",this)}),operation:function(f){return ae(this,f)},startOperation:function(){return xa(this)},endOperation:function(){return wa(this)},refresh:an(function(){var f=this.display.cachedTextHeight;mn(this),this.curOp.forceUpdate=!0,Ko(this),N(this,this.doc.scrollLeft,this.doc.scrollTop),Io(this.display),(f==null||Math.abs(f-Br(this.display))>.5||this.options.lineWrapping)&&Ai(this),Mi(this,"refresh",this)}),swapDoc:an(function(f){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),Hu(this,f),Ko(this),this.display.input.reset(),N(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Ti(this,"swapDoc",this,v),v}),phrase:function(f){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,f)?v[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Cn(t),t.registerHelper=function(f,v,x){h.hasOwnProperty(f)||(h[f]=t[f]={_global:[]}),h[f][v]=x},t.registerGlobalHelper=function(f,v,x,A){t.registerHelper(f,v,A),h[f]._global.push({pred:x,val:A})}}function gu(t,a,h,f,v){var x=a,A=h,I=Dt(t,a.line),z=v&&t.direction=="rtl"?-h:h;function Y(){var xt=a.line+z;return xt<t.first||xt>=t.first+t.size?!1:(a=new ye(xt,a.ch,a.sticky),I=Dt(t,xt))}function ge(xt){var gt;if(f=="codepoint"){var St=I.text.charCodeAt(a.ch+(h>0?0:-1));if(isNaN(St))gt=null;else{var Ht=h>0?St>=55296&&St<56320:St>=56320&&St<57343;gt=new ye(a.line,Math.max(0,Math.min(I.text.length,a.ch+h*(Ht?2:1))),-h)}}else v?gt=Mc(t.cm,I,a,h):gt=Ku(I,a,h);if(gt==null)if(!xt&&Y())a=Fl(v,t.cm,I,a.line,z);else return!1;else a=gt;return!0}if(f=="char"||f=="codepoint")ge();else if(f=="column")ge(!0);else if(f=="word"||f=="group")for(var xe=null,Ne=f=="group",Ie=t.cm&&t.cm.getHelper(a,"wordChars"),Ye=!0;!(h<0&&!ge(!Ye));Ye=!1){var it=I.text.charAt(a.ch)||`
`,ht=He(it,Ie)?"w":Ne&&it==`
`?"n":!Ne||/\s/.test(it)?null:"p";if(Ne&&!Ye&&!ht&&(ht="s"),xe&&xe!=ht){h<0&&(h=1,ge(),a.sticky="after");break}if(ht&&(xe=ht),h>0&&!ge(!Ye))break}var vt=Tl(t,a,x,A,!0);return qt(x,vt)&&(vt.hitSide=!0),vt}function Us(t,a,h,f){var v=t.doc,x=a.left,A;if(f=="page"){var I=Math.min(t.display.wrapper.clientHeight,Ce(t).innerHeight||v(t).documentElement.clientHeight),z=Math.max(I-.5*Br(t.display),3);A=(h>0?a.bottom:a.top)+h*z}else f=="line"&&(A=h>0?a.bottom+3:a.top-3);for(var Y;Y=At(t,x,A),!!Y.outside;){if(h<0?A<=0:A>=v.height){Y.hitSide=!0;break}A+=h*5}return Y}var yt=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Te,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};yt.prototype.init=function(t){var a=this,h=this,f=h.cm,v=h.div=t.lineDiv;v.contentEditable=!0,Wl(v,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function x(I){for(var z=I.target;z;z=z.parentNode){if(z==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(z.className))break}return!1}pt(v,"paste",function(I){!x(I)||Ii(f,I)||sh(I,f)||w<=11&&setTimeout(Gi(f,function(){return a.updateFromDOM()}),20)}),pt(v,"compositionstart",function(I){a.composing={data:I.data,done:!1}}),pt(v,"compositionupdate",function(I){a.composing||(a.composing={data:I.data,done:!1})}),pt(v,"compositionend",function(I){a.composing&&(I.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),pt(v,"touchstart",function(){return h.forceCompositionEnd()}),pt(v,"input",function(){a.composing||a.readFromDOMSoon()});function A(I){if(!(!x(I)||Ii(f,I))){if(f.somethingSelected())Hl({lineWise:!1,text:f.getSelections()}),I.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var z=oa(f);Hl({lineWise:!0,text:z.text}),I.type=="cut"&&f.operation(function(){f.setSelections(z.ranges,0,nt),f.replaceSelection("",null,"cut")})}else return;if(I.clipboardData){I.clipboardData.clearData();var Y=co.text.join(`
`);if(I.clipboardData.setData("Text",Y),I.clipboardData.getData("Text")==Y){I.preventDefault();return}}var ge=ql(),xe=ge.firstChild;f.display.lineSpace.insertBefore(ge,f.display.lineSpace.firstChild),xe.value=co.text.join(`
`);var Ne=Ve(v.ownerDocument);K(xe),setTimeout(function(){f.display.lineSpace.removeChild(ge),Ne.focus(),Ne==v&&h.showPrimarySelection()},50)}}pt(v,"copy",A),pt(v,"cut",A)},yt.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},yt.prototype.prepareSelection=function(){var t=Xa(this.cm,!1);return t.focus=Ve(this.div.ownerDocument)==this.div,t},yt.prototype.showSelection=function(t,a){!t||!this.cm.display.view.length||((t.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(t))},yt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},yt.prototype.showPrimarySelection=function(){var t=this.getSelection(),a=this.cm,h=a.doc.sel.primary(),f=h.from(),v=h.to();if(a.display.viewTo==a.display.viewFrom||f.line>=a.display.viewTo||v.line<a.display.viewFrom){t.removeAllRanges();return}var x=vu(a,t.anchorNode,t.anchorOffset),A=vu(a,t.focusNode,t.focusOffset);if(!(x&&!x.bad&&A&&!A.bad&&Ue(ji(x,A),f)==0&&Ue(ni(x,A),v)==0)){var I=a.display.view,z=f.line>=a.display.viewFrom&&tl(a,f)||{node:I[0].measure.map[2],offset:0},Y=v.line<a.display.viewTo&&tl(a,v);if(!Y){var ge=I[I.length-1].measure,xe=ge.maps?ge.maps[ge.maps.length-1]:ge.map;Y={node:xe[xe.length-1],offset:xe[xe.length-2]-xe[xe.length-3]}}if(!z||!Y){t.removeAllRanges();return}var Ne=t.rangeCount&&t.getRangeAt(0),Ie;try{Ie=ve(z.node,z.offset,Y.offset,Y.node)}catch{}Ie&&(!c&&a.state.focused?(t.collapse(z.node,z.offset),Ie.collapsed||(t.removeAllRanges(),t.addRange(Ie))):(t.removeAllRanges(),t.addRange(Ie)),Ne&&t.anchorNode==null?t.addRange(Ne):c&&this.startGracePeriod()),this.rememberSelection()}},yt.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},yt.prototype.showMultipleSelections=function(t){te(this.cm.display.cursorDiv,t.cursors),te(this.cm.display.selectionDiv,t.selection)},yt.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},yt.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var a=t.getRangeAt(0).commonAncestorContainer;return we(this.div,a)},yt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Ve(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},yt.prototype.blur=function(){this.div.blur()},yt.prototype.getField=function(){return this.div},yt.prototype.supportsTouch=function(){return!0},yt.prototype.receivedFocus=function(){var t=this,a=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):ae(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function h(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,h))}this.polling.set(this.cm.options.pollInterval,h)},yt.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},yt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),a=this.cm;if(D&&M&&this.cm.display.gutterSpecs.length&&Hc(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var h=vu(a,t.anchorNode,t.anchorOffset),f=vu(a,t.focusNode,t.focusOffset);h&&f&&ae(a,function(){An(a.doc,Qa(h,f),nt),(h.bad||f.bad)&&(a.curOp.selectionChanged=!0)})}}},yt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,a=t.display,h=t.doc.sel.primary(),f=h.from(),v=h.to();if(f.ch==0&&f.line>t.firstLine()&&(f=ye(f.line-1,Dt(t.doc,f.line-1).length)),v.ch==Dt(t.doc,v.line).text.length&&v.line<t.lastLine()&&(v=ye(v.line+1,0)),f.line<a.viewFrom||v.line>a.viewTo-1)return!1;var x,A,I;f.line==a.viewFrom||(x=Po(t,f.line))==0?(A=li(a.view[0].line),I=a.view[0].node):(A=li(a.view[x].line),I=a.view[x-1].node.nextSibling);var z=Po(t,v.line),Y,ge;if(z==a.view.length-1?(Y=a.viewTo-1,ge=a.lineDiv.lastChild):(Y=li(a.view[z+1].line)-1,ge=a.view[z+1].node.previousSibling),!I)return!1;for(var xe=t.doc.splitLines(Ld(t,I,ge,A,Y)),Ne=Ir(t.doc,ye(A,0),ye(Y,Dt(t.doc,Y).text.length));xe.length>1&&Ne.length>1;)if(Et(xe)==Et(Ne))xe.pop(),Ne.pop(),Y--;else if(xe[0]==Ne[0])xe.shift(),Ne.shift(),A++;else break;for(var Ie=0,Ye=0,it=xe[0],ht=Ne[0],vt=Math.min(it.length,ht.length);Ie<vt&&it.charCodeAt(Ie)==ht.charCodeAt(Ie);)++Ie;for(var xt=Et(xe),gt=Et(Ne),St=Math.min(xt.length-(xe.length==1?Ie:0),gt.length-(Ne.length==1?Ie:0));Ye<St&&xt.charCodeAt(xt.length-Ye-1)==gt.charCodeAt(gt.length-Ye-1);)++Ye;if(xe.length==1&&Ne.length==1&&A==f.line)for(;Ie&&Ie>f.ch&&xt.charCodeAt(xt.length-Ye-1)==gt.charCodeAt(gt.length-Ye-1);)Ie--,Ye++;xe[xe.length-1]=xt.slice(0,xt.length-Ye).replace(/^\u200b+/,""),xe[0]=xe[0].slice(Ie).replace(/\u200b+$/,"");var Ht=ye(A,Ie),zt=ye(Y,Ne.length?Et(Ne).length-Ye:0);if(xe.length>1||xe[0]||Ue(Ht,zt))return lu(t.doc,xe,Ht,zt,"+input"),!0},yt.prototype.ensurePolled=function(){this.forceCompositionEnd()},yt.prototype.reset=function(){this.forceCompositionEnd()},yt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},yt.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},yt.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&ae(this.cm,function(){return mn(t.cm)})},yt.prototype.setUneditable=function(t){t.contentEditable="false"},yt.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Gi(this.cm,Ul)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},yt.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},yt.prototype.onContextMenu=function(){},yt.prototype.resetPosition=function(){},yt.prototype.needsContentAttribute=!0;function tl(t,a){var h=Ru(t,a.line);if(!h||h.hidden)return null;var f=Dt(t.doc,a.line),v=ml(h,f,a.line),x=Ni(f,t.doc.direction),A="left";if(x){var I=bt(x,a.ch);A=I%2?"right":"left"}var z=Ts(v.map,a.ch,A);return z.offset=z.collapse=="right"?z.end:z.start,z}function Hc(t){for(var a=t;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function fo(t,a){return a&&(t.bad=!0),t}function Ld(t,a,h,f,v){var x="",A=!1,I=t.doc.lineSeparator(),z=!1;function Y(Ie){return function(Ye){return Ye.id==Ie}}function ge(){A&&(x+=I,z&&(x+=I),A=z=!1)}function xe(Ie){Ie&&(ge(),x+=Ie)}function Ne(Ie){if(Ie.nodeType==1){var Ye=Ie.getAttribute("cm-text");if(Ye){xe(Ye);return}var it=Ie.getAttribute("cm-marker"),ht;if(it){var vt=t.findMarks(ye(f,0),ye(v+1,0),Y(+it));vt.length&&(ht=vt[0].find(0))&&xe(Ir(t.doc,ht.from,ht.to).join(I));return}if(Ie.getAttribute("contenteditable")=="false")return;var xt=/^(pre|div|p|li|table|br)$/i.test(Ie.nodeName);if(!/^br$/i.test(Ie.nodeName)&&Ie.textContent.length==0)return;xt&&ge();for(var gt=0;gt<Ie.childNodes.length;gt++)Ne(Ie.childNodes[gt]);/^(pre|p)$/i.test(Ie.nodeName)&&(z=!0),xt&&(A=!0)}else Ie.nodeType==3&&xe(Ie.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ne(a),a!=h;)a=a.nextSibling,z=!1;return x}function vu(t,a,h){var f;if(a==t.display.lineDiv){if(f=t.display.lineDiv.childNodes[h],!f)return fo(t.clipPos(ye(t.display.viewTo-1)),!0);a=null,h=0}else for(f=a;;f=f.parentNode){if(!f||f==t.display.lineDiv)return null;if(f.parentNode&&f.parentNode==t.display.lineDiv)break}for(var v=0;v<t.display.view.length;v++){var x=t.display.view[v];if(x.node==f)return lh(x,a,h)}}function lh(t,a,h){var f=t.text.firstChild,v=!1;if(!a||!we(f,a))return fo(ye(li(t.line),0),!0);if(a==f&&(v=!0,a=f.childNodes[h],h=0,!a)){var x=t.rest?Et(t.rest):t.line;return fo(ye(li(x),x.text.length),v)}var A=a.nodeType==3?a:null,I=a;for(!A&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(A=a.firstChild,h&&(h=A.nodeValue.length));I.parentNode!=f;)I=I.parentNode;var z=t.measure,Y=z.maps;function ge(ht,vt,xt){for(var gt=-1;gt<(Y?Y.length:0);gt++)for(var St=gt<0?z.map:Y[gt],Ht=0;Ht<St.length;Ht+=3){var zt=St[Ht+2];if(zt==ht||zt==vt){var ei=li(gt<0?t.line:t.rest[gt]),Fi=St[Ht]+xt;return(xt<0||zt!=ht)&&(Fi=St[Ht+(xt?1:0)]),ye(ei,Fi)}}}var xe=ge(A,I,h);if(xe)return fo(xe,v);for(var Ne=I.nextSibling,Ie=A?A.nodeValue.length-h:0;Ne;Ne=Ne.nextSibling){if(xe=ge(Ne,Ne.firstChild,0),xe)return fo(ye(xe.line,xe.ch-Ie),v);Ie+=Ne.textContent.length}for(var Ye=I.previousSibling,it=h;Ye;Ye=Ye.previousSibling){if(xe=ge(Ye,Ye.firstChild,-1),xe)return fo(ye(xe.line,xe.ch+it),v);it+=Ye.textContent.length}}var bi=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Te,this.hasSelection=!1,this.composing=null,this.resetting=!1};bi.prototype.init=function(t){var a=this,h=this,f=this.cm;this.createField(t);var v=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),E&&(v.style.width="0px"),pt(v,"input",function(){b&&w>=9&&a.hasSelection&&(a.hasSelection=null),h.poll()}),pt(v,"paste",function(A){Ii(f,A)||sh(A,f)||(f.state.pasteIncoming=+new Date,h.fastPoll())});function x(A){if(!Ii(f,A)){if(f.somethingSelected())Hl({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var I=oa(f);Hl({lineWise:!0,text:I.text}),A.type=="cut"?f.setSelections(I.ranges,null,nt):(h.prevInput="",v.value=I.text.join(`
`),K(v))}else return;A.type=="cut"&&(f.state.cutIncoming=+new Date)}}pt(v,"cut",x),pt(v,"copy",x),pt(t.scroller,"paste",function(A){if(!(Gr(t,A)||Ii(f,A))){if(!v.dispatchEvent){f.state.pasteIncoming=+new Date,h.focus();return}var I=new Event("paste");I.clipboardData=A.clipboardData,v.dispatchEvent(I)}}),pt(t.lineSpace,"selectstart",function(A){Gr(t,A)||qi(A)}),pt(v,"compositionstart",function(){var A=f.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:A,range:f.markText(A,f.getCursor("to"),{className:"CodeMirror-composing"})}}),pt(v,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},bi.prototype.createField=function(t){this.wrapper=ql(),this.textarea=this.wrapper.firstChild},bi.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},bi.prototype.prepareSelection=function(){var t=this.cm,a=t.display,h=t.doc,f=Xa(t);if(t.options.moveInputWithCursor){var v=Fe(t,h.sel.primary().head,"div"),x=a.wrapper.getBoundingClientRect(),A=a.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,v.top+A.top-x.top)),f.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,v.left+A.left-x.left))}return f},bi.prototype.showSelection=function(t){var a=this.cm,h=a.display;te(h.cursorDiv,t.cursors),te(h.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},bi.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var h=a.getSelection();this.textarea.value=h,a.state.focused&&K(this.textarea),b&&w>=9&&(this.hasSelection=h)}else t||(this.prevInput=this.textarea.value="",b&&w>=9&&(this.hasSelection=null));this.resetting=!1}},bi.prototype.getField=function(){return this.textarea},bi.prototype.supportsTouch=function(){return!1},bi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||Ve(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},bi.prototype.blur=function(){this.textarea.blur()},bi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},bi.prototype.receivedFocus=function(){this.slowPoll()},bi.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},bi.prototype.fastPoll=function(){var t=!1,a=this;a.pollingFast=!0;function h(){var f=a.poll();!f&&!t?(t=!0,a.polling.set(60,h)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,h)},bi.prototype.poll=function(){var t=this,a=this.cm,h=this.textarea,f=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||Pr(h)&&!f&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var v=h.value;if(v==f&&!a.somethingSelected())return!1;if(b&&w>=9&&this.hasSelection===v||B&&/[\uf700-\uf7ff]/.test(v))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var x=v.charCodeAt(0);if(x==8203&&!f&&(f="​"),x==8666)return this.reset(),this.cm.execCommand("undo")}for(var A=0,I=Math.min(f.length,v.length);A<I&&f.charCodeAt(A)==v.charCodeAt(A);)++A;return ae(a,function(){Ul(a,v.slice(A),f.length-A,null,t.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?h.value=t.prevInput="":t.prevInput=v,t.composing&&(t.composing.range.clear(),t.composing.range=a.markText(t.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},bi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},bi.prototype.onKeyPress=function(){b&&w>=9&&(this.hasSelection=null),this.fastPoll()},bi.prototype.onContextMenu=function(t){var a=this,h=a.cm,f=h.display,v=a.textarea;a.contextMenuPending&&a.contextMenuPending();var x=Hr(h,t),A=f.scroller.scrollTop;if(!x||R)return;var I=h.options.resetSelectionOnContextMenu;I&&h.doc.sel.contains(x)==-1&&Gi(h,An)(h.doc,Qa(x),nt);var z=v.style.cssText,Y=a.wrapper.style.cssText,ge=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(t.clientY-ge.top-5)+"px; left: "+(t.clientX-ge.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var xe;C&&(xe=v.ownerDocument.defaultView.scrollY),f.input.focus(),C&&v.ownerDocument.defaultView.scrollTo(null,xe),f.input.reset(),h.somethingSelected()||(v.value=a.prevInput=" "),a.contextMenuPending=Ie,f.selForContextMenu=h.doc.sel,clearTimeout(f.detectingSelectAll);function Ne(){if(v.selectionStart!=null){var it=h.somethingSelected(),ht="​"+(it?v.value:"");v.value="⇚",v.value=ht,a.prevInput=it?"":"​",v.selectionStart=1,v.selectionEnd=ht.length,f.selForContextMenu=h.doc.sel}}function Ie(){if(a.contextMenuPending==Ie&&(a.contextMenuPending=!1,a.wrapper.style.cssText=Y,v.style.cssText=z,b&&w<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=A),v.selectionStart!=null)){(!b||b&&w<9)&&Ne();var it=0,ht=function(){f.selForContextMenu==h.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&a.prevInput=="​"?Gi(h,Al)(h):it++<10?f.detectingSelectAll=setTimeout(ht,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(ht,200)}}if(b&&w>=9&&Ne(),me){Zr(t);var Ye=function(){wi(window,"mouseup",Ye),setTimeout(Ie,20)};pt(window,"mouseup",Ye)}else setTimeout(Ie,50)},bi.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},bi.prototype.setUneditable=function(){},bi.prototype.needsContentAttribute=!1;function Dd(t,a){if(a=a?q(a):{},a.value=t.value,!a.tabindex&&t.tabIndex&&(a.tabindex=t.tabIndex),!a.placeholder&&t.placeholder&&(a.placeholder=t.placeholder),a.autofocus==null){var h=Ve(t.ownerDocument);a.autofocus=h==t||t.getAttribute("autofocus")!=null&&h==document.body}function f(){t.value=I.getValue()}var v;if(t.form&&(pt(t.form,"submit",f),!a.leaveSubmitMethodAlone)){var x=t.form;v=x.submit;try{var A=x.submit=function(){f(),x.submit=v,x.submit(),x.submit=A}}catch{}}a.finishInit=function(z){z.save=f,z.getTextArea=function(){return t},z.toTextArea=function(){z.toTextArea=isNaN,f(),t.parentNode.removeChild(z.getWrapperElement()),t.style.display="",t.form&&(wi(t.form,"submit",f),!a.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=v))}},t.style.display="none";var I=Vi(function(z){return t.parentNode.insertBefore(z,t.nextSibling)},a);return I}function Md(t){t.off=wi,t.on=pt,t.wheelEventPixels=_d,t.Doc=Er,t.splitLines=jo,t.countColumn=he,t.findColumn=Ft,t.isWordChar=pe,t.Pass=et,t.signal=Mi,t.Line=ma,t.changeEnd=Ja,t.scrollbarModel=Cr,t.Pos=ye,t.cmpPos=Ue,t.modes=dn,t.mimeModes=In,t.resolveMode=Fn,t.getMode=Or,t.modeExtensions=lr,t.extendMode=da,t.copyState=Rn,t.startState=Nn,t.innerMode=br,t.commands=Hs,t.keyMap=lo,t.keyName=Ol,t.isModifierKey=Ur,t.lookupKey=Bs,t.normalizeKeyMap=Yf,t.StringStream=Wi,t.SharedTextMarker=ts,t.TextMarker=Sa,t.LineWidget=Ns,t.e_preventDefault=qi,t.e_stopPropagation=yo,t.e_stop=Zr,t.addClass=We,t.contains=we,t.rmClass=De,t.keyNames=is}Bl(Vi),Bc(Vi);var ch="iter insert remove copy getEditor constructor".split(" ");for(var jl in Er.prototype)Er.prototype.hasOwnProperty(jl)&&ze(ch,jl)<0&&(Vi.prototype[jl]=function(t){return function(){return t.apply(this.doc,arguments)}}(Er.prototype[jl]));return Cn(Er),Vi.inputStyles={textarea:bi,contenteditable:yt},Vi.defineMode=function(t){!Vi.defaults.mode&&t!="null"&&(Vi.defaults.mode=t),wo.apply(this,arguments)},Vi.defineMIME=Zo,Vi.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Vi.defineMIME("text/plain","null"),Vi.defineExtension=function(t,a){Vi.prototype[t]=a},Vi.defineDocExtension=function(t,a){Er.prototype[t]=a},Vi.fromTextArea=Dd,Md(Vi),Vi.version="5.65.9",Vi})}(Ih)),Ih.exports}var Rx=ps();const Nx=vf(Rx);var Ym={exports:{}},Vm={exports:{}},Km;function kg(){return Km||(Km=1,function(n,e){(function(r){r(ps())})(function(r){var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},c={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(l,p){var g=l.indentUnit,b={},w=p.htmlMode?s:c;for(var C in w)b[C]=w[C];for(var C in p)b[C]=p[C];var k,M;function G(T,se){function ve(We){return se.tokenize=We,We(T,se)}var we=T.next();if(we=="<")return T.eat("!")?T.eat("[")?T.match("CDATA[")?ve(U("atom","]]>")):null:T.match("--")?ve(U("comment","-->")):T.match("DOCTYPE",!0,!0)?(T.eatWhile(/[\w\._\-]/),ve(P(1))):null:T.eat("?")?(T.eatWhile(/[\w\._\-]/),se.tokenize=U("meta","?>"),"meta"):(k=T.eat("/")?"closeTag":"openTag",se.tokenize=R,"tag bracket");if(we=="&"){var Ve;return T.eat("#")?T.eat("x")?Ve=T.eatWhile(/[a-fA-F\d]/)&&T.eat(";"):Ve=T.eatWhile(/[\d]/)&&T.eat(";"):Ve=T.eatWhile(/[\w\.\-:]/)&&T.eat(";"),Ve?"atom":"error"}else return T.eatWhile(/[^&<]/),null}G.isInText=!0;function R(T,se){var ve=T.next();if(ve==">"||ve=="/"&&T.eat(">"))return se.tokenize=G,k=ve==">"?"endTag":"selfcloseTag","tag bracket";if(ve=="=")return k="equals",null;if(ve=="<"){se.tokenize=G,se.state=H,se.tagName=se.tagStart=null;var we=se.tokenize(T,se);return we?we+" tag error":"tag error"}else return/[\'\"]/.test(ve)?(se.tokenize=Z(ve),se.stringStartCol=T.column(),se.tokenize(T,se)):(T.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Z(T){var se=function(ve,we){for(;!ve.eol();)if(ve.next()==T){we.tokenize=R;break}return"string"};return se.isInAttribute=!0,se}function U(T,se){return function(ve,we){for(;!ve.eol();){if(ve.match(se)){we.tokenize=G;break}ve.next()}return T}}function P(T){return function(se,ve){for(var we;(we=se.next())!=null;){if(we=="<")return ve.tokenize=P(T+1),ve.tokenize(se,ve);if(we==">")if(T==1){ve.tokenize=G;break}else return ve.tokenize=P(T-1),ve.tokenize(se,ve)}return"meta"}}function E(T){return T&&T.toLowerCase()}function D(T,se,ve){this.prev=T.context,this.tagName=se||"",this.indent=T.indented,this.startOfLine=ve,(b.doNotIndent.hasOwnProperty(se)||T.context&&T.context.noIndent)&&(this.noIndent=!0)}function W(T){T.context&&(T.context=T.context.prev)}function B(T,se){for(var ve;;){if(!T.context||(ve=T.context.tagName,!b.contextGrabbers.hasOwnProperty(E(ve))||!b.contextGrabbers[E(ve)].hasOwnProperty(E(se))))return;W(T)}}function H(T,se,ve){return T=="openTag"?(ve.tagStart=se.column(),j):T=="closeTag"?ee:H}function j(T,se,ve){return T=="word"?(ve.tagName=se.current(),M="tag",ue):b.allowMissingTagName&&T=="endTag"?(M="tag bracket",ue(T,se,ve)):(M="error",j)}function ee(T,se,ve){if(T=="word"){var we=se.current();return ve.context&&ve.context.tagName!=we&&b.implicitlyClosed.hasOwnProperty(E(ve.context.tagName))&&W(ve),ve.context&&ve.context.tagName==we||b.matchClosing===!1?(M="tag",fe):(M="tag error",me)}else return b.allowMissingTagName&&T=="endTag"?(M="tag bracket",fe(T,se,ve)):(M="error",me)}function fe(T,se,ve){return T!="endTag"?(M="error",fe):(W(ve),H)}function me(T,se,ve){return M="error",fe(T,se,ve)}function ue(T,se,ve){if(T=="word")return M="attribute",De;if(T=="endTag"||T=="selfcloseTag"){var we=ve.tagName,Ve=ve.tagStart;return ve.tagName=ve.tagStart=null,T=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(E(we))?B(ve,we):(B(ve,we),ve.context=new D(ve,we,Ve==ve.indented)),H}return M="error",ue}function De(T,se,ve){return T=="equals"?be:(b.allowMissing||(M="error"),ue(T,se,ve))}function be(T,se,ve){return T=="string"?te:T=="word"&&b.allowUnquoted?(M="string",ue):(M="error",ue(T,se,ve))}function te(T,se,ve){return T=="string"?te:ue(T,se,ve)}return{startState:function(T){var se={tokenize:G,state:H,indented:T||0,tagName:null,tagStart:null,context:null};return T!=null&&(se.baseIndent=T),se},token:function(T,se){if(!se.tagName&&T.sol()&&(se.indented=T.indentation()),T.eatSpace())return null;k=null;var ve=se.tokenize(T,se);return(ve||k)&&ve!="comment"&&(M=null,se.state=se.state(k||ve,T,se),M&&(ve=M=="error"?ve+" error":M)),ve},indent:function(T,se,ve){var we=T.context;if(T.tokenize.isInAttribute)return T.tagStart==T.indented?T.stringStartCol+1:T.indented+g;if(we&&we.noIndent)return r.Pass;if(T.tokenize!=R&&T.tokenize!=G)return ve?ve.match(/^(\s*)/)[0].length:0;if(T.tagName)return b.multilineTagIndentPastTag!==!1?T.tagStart+T.tagName.length+2:T.tagStart+g*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(se))return 0;var Ve=se&&/^<(\/)?([\w_:\.-]*)/.exec(se);if(Ve&&Ve[1])for(;we;)if(we.tagName==Ve[2]){we=we.prev;break}else if(b.implicitlyClosed.hasOwnProperty(E(we.tagName)))we=we.prev;else break;else if(Ve)for(;we;){var We=b.contextGrabbers[E(we.tagName)];if(We&&We.hasOwnProperty(E(Ve[2])))we=we.prev;else break}for(;we&&we.prev&&!we.startOfLine;)we=we.prev;return we?we.indent+g:T.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(T){T.state==be&&(T.state=ue)},xmlCurrentTag:function(T){return T.tagName?{name:T.tagName,close:T.type=="closeTag"}:null},xmlCurrentContext:function(T){for(var se=[],ve=T.context;ve;ve=ve.prev)se.push(ve.tagName);return se.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Vm.exports}var $m={exports:{}},Qm;function zx(){return Qm||(Qm=1,function(n,e){(function(r){r(ps())})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var s=0;s<r.modeInfo.length;s++){var c=r.modeInfo[s];c.mimes&&(c.mime=c.mimes[0])}r.findModeByMIME=function(l){l=l.toLowerCase();for(var p=0;p<r.modeInfo.length;p++){var g=r.modeInfo[p];if(g.mime==l)return g;if(g.mimes){for(var b=0;b<g.mimes.length;b++)if(g.mimes[b]==l)return g}}if(/\+xml$/.test(l))return r.findModeByMIME("application/xml");if(/\+json$/.test(l))return r.findModeByMIME("application/json")},r.findModeByExtension=function(l){l=l.toLowerCase();for(var p=0;p<r.modeInfo.length;p++){var g=r.modeInfo[p];if(g.ext){for(var b=0;b<g.ext.length;b++)if(g.ext[b]==l)return g}}},r.findModeByFileName=function(l){for(var p=0;p<r.modeInfo.length;p++){var g=r.modeInfo[p];if(g.file&&g.file.test(l))return g}var b=l.lastIndexOf("."),w=b>-1&&l.substring(b+1,l.length);if(w)return r.findModeByExtension(w)},r.findModeByName=function(l){l=l.toLowerCase();for(var p=0;p<r.modeInfo.length;p++){var g=r.modeInfo[p];if(g.name.toLowerCase()==l)return g;if(g.alias){for(var b=0;b<g.alias.length;b++)if(g.alias[b].toLowerCase()==l)return g}}}})}()),$m.exports}var Jm;function Cg(){return Jm||(Jm=1,function(n,e){(function(r){r(ps(),kg(),zx())})(function(r){r.defineMode("markdown",function(s,c){var l=r.getMode(s,"text/html"),p=l.name=="null";function g(K){if(r.findModeByName){var F=r.findModeByName(K);F&&(K=F.mime||F.mimes[0])}var Ce=r.getMode(s,K);return Ce.name=="null"?null:Ce}c.highlightFormatting===void 0&&(c.highlightFormatting=!1),c.maxBlockquoteDepth===void 0&&(c.maxBlockquoteDepth=0),c.taskLists===void 0&&(c.taskLists=!1),c.strikethrough===void 0&&(c.strikethrough=!1),c.emoji===void 0&&(c.emoji=!1),c.fencedCodeBlockHighlighting===void 0&&(c.fencedCodeBlockHighlighting=!0),c.fencedCodeBlockDefaultMode===void 0&&(c.fencedCodeBlockDefaultMode="text/plain"),c.xml===void 0&&(c.xml=!0),c.tokenTypeOverrides===void 0&&(c.tokenTypeOverrides={});var b={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var w in b)b.hasOwnProperty(w)&&c.tokenTypeOverrides[w]&&(b[w]=c.tokenTypeOverrides[w]);var C=/^([*\-_])(?:\s*\1){2,}\s*$/,k=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,M=/^\[(x| )\](?=\s)/i,G=c.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,R=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Z=/^[^#!\[\]*_\\<>` "'(~:]+/,U=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,P=/^\s*\[[^\]]+?\]:.*$/,E=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function W(K,F,Ce){return F.f=F.inline=Ce,Ce(K,F)}function B(K,F,Ce){return F.f=F.block=Ce,Ce(K,F)}function H(K){return!K||!/\S/.test(K.string)}function j(K){if(K.linkTitle=!1,K.linkHref=!1,K.linkText=!1,K.em=!1,K.strong=!1,K.strikethrough=!1,K.quote=0,K.indentedCode=!1,K.f==fe){var F=p;if(!F){var Ce=r.innerMode(l,K.htmlState);F=Ce.mode.name=="xml"&&Ce.state.tagStart===null&&!Ce.state.context&&Ce.state.tokenize.isInText}F&&(K.f=be,K.block=ee,K.htmlState=null)}return K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.prevLine=K.thisLine,K.thisLine={stream:null},null}function ee(K,F){var Ce=K.column()===F.indentation,Pe=H(F.prevLine.stream),q=F.indentedCode,he=F.prevLine.hr,Te=F.list!==!1,ze=(F.listStack[F.listStack.length-1]||0)+3;F.indentedCode=!1;var Xe=F.indentation;if(F.indentationDiff===null&&(F.indentationDiff=F.indentation,Te)){for(F.list=null;Xe<F.listStack[F.listStack.length-1];)F.listStack.pop(),F.listStack.length?F.indentation=F.listStack[F.listStack.length-1]:F.list=!1;F.list!==!1&&(F.indentationDiff=Xe-F.listStack[F.listStack.length-1])}var et=!Pe&&!he&&!F.prevLine.header&&(!Te||!q)&&!F.prevLine.fencedCodeEnd,nt=(F.list===!1||he||Pe)&&F.indentation<=ze&&K.match(C),Lt=null;if(F.indentationDiff>=4&&(q||F.prevLine.fencedCodeEnd||F.prevLine.header||Pe))return K.skipToEnd(),F.indentedCode=!0,b.code;if(K.eatSpace())return null;if(Ce&&F.indentation<=ze&&(Lt=K.match(G))&&Lt[1].length<=6)return F.quote=0,F.header=Lt[1].length,F.thisLine.header=!0,c.highlightFormatting&&(F.formatting="header"),F.f=F.inline,ue(F);if(F.indentation<=ze&&K.eat(">"))return F.quote=Ce?1:F.quote+1,c.highlightFormatting&&(F.formatting="quote"),K.eatSpace(),ue(F);if(!nt&&!F.setext&&Ce&&F.indentation<=ze&&(Lt=K.match(k))){var Mt=Lt[1]?"ol":"ul";return F.indentation=Xe+K.current().length,F.list=!0,F.quote=0,F.listStack.push(F.indentation),F.em=!1,F.strong=!1,F.code=!1,F.strikethrough=!1,c.taskLists&&K.match(M,!1)&&(F.taskList=!0),F.f=F.inline,c.highlightFormatting&&(F.formatting=["list","list-"+Mt]),ue(F)}else{if(Ce&&F.indentation<=ze&&(Lt=K.match(U,!0)))return F.quote=0,F.fencedEndRE=new RegExp(Lt[1]+"+ *$"),F.localMode=c.fencedCodeBlockHighlighting&&g(Lt[2]||c.fencedCodeBlockDefaultMode),F.localMode&&(F.localState=r.startState(F.localMode)),F.f=F.block=me,c.highlightFormatting&&(F.formatting="code-block"),F.code=-1,ue(F);if(F.setext||(!et||!Te)&&!F.quote&&F.list===!1&&!F.code&&!nt&&!P.test(K.string)&&(Lt=K.lookAhead(1))&&(Lt=Lt.match(R)))return F.setext?(F.header=F.setext,F.setext=0,K.skipToEnd(),c.highlightFormatting&&(F.formatting="header")):(F.header=Lt[0].charAt(0)=="="?1:2,F.setext=F.header),F.thisLine.header=!0,F.f=F.inline,ue(F);if(nt)return K.skipToEnd(),F.hr=!0,F.thisLine.hr=!0,b.hr;if(K.peek()==="[")return W(K,F,we)}return W(K,F,F.inline)}function fe(K,F){var Ce=l.token(K,F.htmlState);if(!p){var Pe=r.innerMode(l,F.htmlState);(Pe.mode.name=="xml"&&Pe.state.tagStart===null&&!Pe.state.context&&Pe.state.tokenize.isInText||F.md_inside&&K.current().indexOf(">")>-1)&&(F.f=be,F.block=ee,F.htmlState=null)}return Ce}function me(K,F){var Ce=F.listStack[F.listStack.length-1]||0,Pe=F.indentation<Ce,q=Ce+3;if(F.fencedEndRE&&F.indentation<=q&&(Pe||K.match(F.fencedEndRE))){c.highlightFormatting&&(F.formatting="code-block");var he;return Pe||(he=ue(F)),F.localMode=F.localState=null,F.block=ee,F.f=be,F.fencedEndRE=null,F.code=0,F.thisLine.fencedCodeEnd=!0,Pe?B(K,F,F.block):he}else return F.localMode?F.localMode.token(K,F.localState):(K.skipToEnd(),b.code)}function ue(K){var F=[];if(K.formatting){F.push(b.formatting),typeof K.formatting=="string"&&(K.formatting=[K.formatting]);for(var Ce=0;Ce<K.formatting.length;Ce++)F.push(b.formatting+"-"+K.formatting[Ce]),K.formatting[Ce]==="header"&&F.push(b.formatting+"-"+K.formatting[Ce]+"-"+K.header),K.formatting[Ce]==="quote"&&(!c.maxBlockquoteDepth||c.maxBlockquoteDepth>=K.quote?F.push(b.formatting+"-"+K.formatting[Ce]+"-"+K.quote):F.push("error"))}if(K.taskOpen)return F.push("meta"),F.length?F.join(" "):null;if(K.taskClosed)return F.push("property"),F.length?F.join(" "):null;if(K.linkHref?F.push(b.linkHref,"url"):(K.strong&&F.push(b.strong),K.em&&F.push(b.em),K.strikethrough&&F.push(b.strikethrough),K.emoji&&F.push(b.emoji),K.linkText&&F.push(b.linkText),K.code&&F.push(b.code),K.image&&F.push(b.image),K.imageAltText&&F.push(b.imageAltText,"link"),K.imageMarker&&F.push(b.imageMarker)),K.header&&F.push(b.header,b.header+"-"+K.header),K.quote&&(F.push(b.quote),!c.maxBlockquoteDepth||c.maxBlockquoteDepth>=K.quote?F.push(b.quote+"-"+K.quote):F.push(b.quote+"-"+c.maxBlockquoteDepth)),K.list!==!1){var Pe=(K.listStack.length-1)%3;Pe?Pe===1?F.push(b.list2):F.push(b.list3):F.push(b.list1)}return K.trailingSpaceNewLine?F.push("trailing-space-new-line"):K.trailingSpace&&F.push("trailing-space-"+(K.trailingSpace%2?"a":"b")),F.length?F.join(" "):null}function De(K,F){if(K.match(Z,!0))return ue(F)}function be(K,F){var Ce=F.text(K,F);if(typeof Ce<"u")return Ce;if(F.list)return F.list=null,ue(F);if(F.taskList){var Pe=K.match(M,!0)[1]===" ";return Pe?F.taskOpen=!0:F.taskClosed=!0,c.highlightFormatting&&(F.formatting="task"),F.taskList=!1,ue(F)}if(F.taskOpen=!1,F.taskClosed=!1,F.header&&K.match(/^#+$/,!0))return c.highlightFormatting&&(F.formatting="header"),ue(F);var q=K.next();if(F.linkTitle){F.linkTitle=!1;var he=q;q==="("&&(he=")"),he=(he+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Te="^\\s*(?:[^"+he+"\\\\]+|\\\\\\\\|\\\\.)"+he;if(K.match(new RegExp(Te),!0))return b.linkHref}if(q==="`"){var ze=F.formatting;c.highlightFormatting&&(F.formatting="code"),K.eatWhile("`");var Xe=K.current().length;if(F.code==0&&(!F.quote||Xe==1))return F.code=Xe,ue(F);if(Xe==F.code){var et=ue(F);return F.code=0,et}else return F.formatting=ze,ue(F)}else if(F.code)return ue(F);if(q==="\\"&&(K.next(),c.highlightFormatting)){var nt=ue(F),Lt=b.formatting+"-escape";return nt?nt+" "+Lt:Lt}if(q==="!"&&K.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return F.imageMarker=!0,F.image=!0,c.highlightFormatting&&(F.formatting="image"),ue(F);if(q==="["&&F.imageMarker&&K.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return F.imageMarker=!1,F.imageAltText=!0,c.highlightFormatting&&(F.formatting="image"),ue(F);if(q==="]"&&F.imageAltText){c.highlightFormatting&&(F.formatting="image");var nt=ue(F);return F.imageAltText=!1,F.image=!1,F.inline=F.f=T,nt}if(q==="["&&!F.image)return F.linkText&&K.match(/^.*?\]/)||(F.linkText=!0,c.highlightFormatting&&(F.formatting="link")),ue(F);if(q==="]"&&F.linkText){c.highlightFormatting&&(F.formatting="link");var nt=ue(F);return F.linkText=!1,F.inline=F.f=K.match(/\(.*?\)| ?\[.*?\]/,!1)?T:be,nt}if(q==="<"&&K.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){F.f=F.inline=te,c.highlightFormatting&&(F.formatting="link");var nt=ue(F);return nt?nt+=" ":nt="",nt+b.linkInline}if(q==="<"&&K.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){F.f=F.inline=te,c.highlightFormatting&&(F.formatting="link");var nt=ue(F);return nt?nt+=" ":nt="",nt+b.linkEmail}if(c.xml&&q==="<"&&K.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Mt=K.string.indexOf(">",K.pos);if(Mt!=-1){var Ft=K.string.substring(K.start,Mt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Ft)&&(F.md_inside=!0)}return K.backUp(1),F.htmlState=r.startState(l),B(K,F,fe)}if(c.xml&&q==="<"&&K.match(/^\/\w*?>/))return F.md_inside=!1,"tag";if(q==="*"||q==="_"){for(var _t=1,Pt=K.pos==1?" ":K.string.charAt(K.pos-2);_t<3&&K.eat(q);)_t++;var Et=K.peek()||" ",$t=!/\s/.test(Et)&&(!E.test(Et)||/\s/.test(Pt)||E.test(Pt)),X=!/\s/.test(Pt)&&(!E.test(Pt)||/\s/.test(Et)||E.test(Et)),le=null,V=null;if(_t%2&&(!F.em&&$t&&(q==="*"||!X||E.test(Pt))?le=!0:F.em==q&&X&&(q==="*"||!$t||E.test(Et))&&(le=!1)),_t>1&&(!F.strong&&$t&&(q==="*"||!X||E.test(Pt))?V=!0:F.strong==q&&X&&(q==="*"||!$t||E.test(Et))&&(V=!1)),V!=null||le!=null){c.highlightFormatting&&(F.formatting=le==null?"strong":V==null?"em":"strong em"),le===!0&&(F.em=q),V===!0&&(F.strong=q);var et=ue(F);return le===!1&&(F.em=!1),V===!1&&(F.strong=!1),et}}else if(q===" "&&(K.eat("*")||K.eat("_"))){if(K.peek()===" ")return ue(F);K.backUp(1)}if(c.strikethrough){if(q==="~"&&K.eatWhile(q)){if(F.strikethrough){c.highlightFormatting&&(F.formatting="strikethrough");var et=ue(F);return F.strikethrough=!1,et}else if(K.match(/^[^\s]/,!1))return F.strikethrough=!0,c.highlightFormatting&&(F.formatting="strikethrough"),ue(F)}else if(q===" "&&K.match("~~",!0)){if(K.peek()===" ")return ue(F);K.backUp(2)}}if(c.emoji&&q===":"&&K.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){F.emoji=!0,c.highlightFormatting&&(F.formatting="emoji");var ce=ue(F);return F.emoji=!1,ce}return q===" "&&(K.match(/^ +$/,!1)?F.trailingSpace++:F.trailingSpace&&(F.trailingSpaceNewLine=!0)),ue(F)}function te(K,F){var Ce=K.next();if(Ce===">"){F.f=F.inline=be,c.highlightFormatting&&(F.formatting="link");var Pe=ue(F);return Pe?Pe+=" ":Pe="",Pe+b.linkInline}return K.match(/^[^>]+/,!0),b.linkInline}function T(K,F){if(K.eatSpace())return null;var Ce=K.next();return Ce==="("||Ce==="["?(F.f=F.inline=ve(Ce==="("?")":"]"),c.highlightFormatting&&(F.formatting="link-string"),F.linkHref=!0,ue(F)):"error"}var se={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ve(K){return function(F,Ce){var Pe=F.next();if(Pe===K){Ce.f=Ce.inline=be,c.highlightFormatting&&(Ce.formatting="link-string");var q=ue(Ce);return Ce.linkHref=!1,q}return F.match(se[K]),Ce.linkHref=!0,ue(Ce)}}function we(K,F){return K.match(/^([^\]\\]|\\.)*\]:/,!1)?(F.f=Ve,K.next(),c.highlightFormatting&&(F.formatting="link"),F.linkText=!0,ue(F)):W(K,F,be)}function Ve(K,F){if(K.match("]:",!0)){F.f=F.inline=We,c.highlightFormatting&&(F.formatting="link");var Ce=ue(F);return F.linkText=!1,Ce}return K.match(/^([^\]\\]|\\.)+/,!0),b.linkText}function We(K,F){return K.eatSpace()?null:(K.match(/^[^\s]+/,!0),K.peek()===void 0?F.linkTitle=!0:K.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),F.f=F.inline=be,b.linkHref+" url")}var ke={startState:function(){return{f:ee,prevLine:{stream:null},thisLine:{stream:null},block:ee,htmlState:null,indentation:0,inline:be,text:De,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&r.copyState(l,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?r.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:!1,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(K,F){if(F.formatting=!1,K!=F.thisLine.stream){if(F.header=0,F.hr=!1,K.match(/^\s*$/,!0))return j(F),null;if(F.prevLine=F.thisLine,F.thisLine={stream:K},F.taskList=!1,F.trailingSpace=0,F.trailingSpaceNewLine=!1,!F.localState&&(F.f=F.block,F.f!=fe)){var Ce=K.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(F.indentation=Ce,F.indentationDiff=null,Ce>0)return null}}return F.f(K,F)},innerMode:function(K){return K.block==fe?{state:K.htmlState,mode:l}:K.localState?{state:K.localState,mode:K.localMode}:{state:K,mode:ke}},indent:function(K,F,Ce){return K.block==fe&&l.indent?l.indent(K.htmlState,F,Ce):K.localState&&K.localMode.indent?K.localMode.indent(K.localState,F,Ce):r.Pass},blankLine:j,getType:ue,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ke},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})}()),Ym.exports}Cg();var e0={exports:{}},t0;function Bx(){return t0||(t0=1,function(n,e){(function(r){r(ps())})(function(r){r.defineMode("javascript",function(s,c){var l=s.indentUnit,p=c.statementIndent,g=c.jsonld,b=c.json||g,w=c.trackScope!==!1,C=c.typescript,k=c.wordCharacters||/[\w$\xa1-\uffff]/,M=function(){function ie(ji){return{type:ji,style:"keyword"}}var _e=ie("keyword a"),ye=ie("keyword b"),Ue=ie("keyword c"),qt=ie("keyword d"),Qt=ie("operator"),ni={type:"atom",style:"atom"};return{if:ie("if"),while:_e,with:_e,else:ye,do:ye,try:ye,finally:ye,return:qt,break:qt,continue:qt,new:ie("new"),delete:Ue,void:Ue,throw:Ue,debugger:ie("debugger"),var:ie("var"),const:ie("var"),let:ie("var"),function:ie("function"),catch:ie("catch"),for:ie("for"),switch:ie("switch"),case:ie("case"),default:ie("default"),in:Qt,typeof:Qt,instanceof:Qt,true:ni,false:ni,null:ni,undefined:ni,NaN:ni,Infinity:ni,this:ie("this"),class:ie("class"),super:ie("atom"),yield:Ue,export:ie("export"),import:ie("import"),extends:Ue,await:Ue}}(),G=/[+\-*&%=<>!?|~^@]/,R=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Z(ie){for(var _e=!1,ye,Ue=!1;(ye=ie.next())!=null;){if(!_e){if(ye=="/"&&!Ue)return;ye=="["?Ue=!0:Ue&&ye=="]"&&(Ue=!1)}_e=!_e&&ye=="\\"}}var U,P;function E(ie,_e,ye){return U=ie,P=ye,_e}function D(ie,_e){var ye=ie.next();if(ye=='"'||ye=="'")return _e.tokenize=W(ye),_e.tokenize(ie,_e);if(ye=="."&&ie.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return E("number","number");if(ye=="."&&ie.match(".."))return E("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ye))return E(ye);if(ye=="="&&ie.eat(">"))return E("=>","operator");if(ye=="0"&&ie.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return E("number","number");if(/\d/.test(ye))return ie.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),E("number","number");if(ye=="/")return ie.eat("*")?(_e.tokenize=B,B(ie,_e)):ie.eat("/")?(ie.skipToEnd(),E("comment","comment")):_r(ie,_e,1)?(Z(ie),ie.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),E("regexp","string-2")):(ie.eat("="),E("operator","operator",ie.current()));if(ye=="`")return _e.tokenize=H,H(ie,_e);if(ye=="#"&&ie.peek()=="!")return ie.skipToEnd(),E("meta","meta");if(ye=="#"&&ie.eatWhile(k))return E("variable","property");if(ye=="<"&&ie.match("!--")||ye=="-"&&ie.match("->")&&!/\S/.test(ie.string.slice(0,ie.start)))return ie.skipToEnd(),E("comment","comment");if(G.test(ye))return(ye!=">"||!_e.lexical||_e.lexical.type!=">")&&(ie.eat("=")?(ye=="!"||ye=="=")&&ie.eat("="):/[<>*+\-|&?]/.test(ye)&&(ie.eat(ye),ye==">"&&ie.eat(ye))),ye=="?"&&ie.eat(".")?E("."):E("operator","operator",ie.current());if(k.test(ye)){ie.eatWhile(k);var Ue=ie.current();if(_e.lastType!="."){if(M.propertyIsEnumerable(Ue)){var qt=M[Ue];return E(qt.type,qt.style,Ue)}if(Ue=="async"&&ie.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return E("async","keyword",Ue)}return E("variable","variable",Ue)}}function W(ie){return function(_e,ye){var Ue=!1,qt;if(g&&_e.peek()=="@"&&_e.match(R))return ye.tokenize=D,E("jsonld-keyword","meta");for(;(qt=_e.next())!=null&&!(qt==ie&&!Ue);)Ue=!Ue&&qt=="\\";return Ue||(ye.tokenize=D),E("string","string")}}function B(ie,_e){for(var ye=!1,Ue;Ue=ie.next();){if(Ue=="/"&&ye){_e.tokenize=D;break}ye=Ue=="*"}return E("comment","comment")}function H(ie,_e){for(var ye=!1,Ue;(Ue=ie.next())!=null;){if(!ye&&(Ue=="`"||Ue=="$"&&ie.eat("{"))){_e.tokenize=D;break}ye=!ye&&Ue=="\\"}return E("quasi","string-2",ie.current())}var j="([{}])";function ee(ie,_e){_e.fatArrowAt&&(_e.fatArrowAt=null);var ye=ie.string.indexOf("=>",ie.start);if(!(ye<0)){if(C){var Ue=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ie.string.slice(ie.start,ye));Ue&&(ye=Ue.index)}for(var qt=0,Qt=!1,ni=ye-1;ni>=0;--ni){var ji=ie.string.charAt(ni),jt=j.indexOf(ji);if(jt>=0&&jt<3){if(!qt){++ni;break}if(--qt==0){ji=="("&&(Qt=!0);break}}else if(jt>=3&&jt<6)++qt;else if(k.test(ji))Qt=!0;else if(/["'\/`]/.test(ji))for(;;--ni){if(ni==0)return;var kt=ie.string.charAt(ni-1);if(kt==ji&&ie.string.charAt(ni-2)!="\\"){ni--;break}}else if(Qt&&!qt){++ni;break}}Qt&&!qt&&(_e.fatArrowAt=ni)}}var fe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function me(ie,_e,ye,Ue,qt,Qt){this.indented=ie,this.column=_e,this.type=ye,this.prev=qt,this.info=Qt,Ue!=null&&(this.align=Ue)}function ue(ie,_e){if(!w)return!1;for(var ye=ie.localVars;ye;ye=ye.next)if(ye.name==_e)return!0;for(var Ue=ie.context;Ue;Ue=Ue.prev)for(var ye=Ue.vars;ye;ye=ye.next)if(ye.name==_e)return!0}function De(ie,_e,ye,Ue,qt){var Qt=ie.cc;for(be.state=ie,be.stream=qt,be.marked=null,be.cc=Qt,be.style=_e,ie.lexical.hasOwnProperty("align")||(ie.lexical.align=!0);;){var ni=Qt.length?Qt.pop():b?et:ze;if(ni(ye,Ue)){for(;Qt.length&&Qt[Qt.length-1].lex;)Qt.pop()();return be.marked?be.marked:ye=="variable"&&ue(ie,Ue)?"variable-2":_e}}}var be={state:null,marked:null,cc:null};function te(){for(var ie=arguments.length-1;ie>=0;ie--)be.cc.push(arguments[ie])}function T(){return te.apply(null,arguments),!0}function se(ie,_e){for(var ye=_e;ye;ye=ye.next)if(ye.name==ie)return!0;return!1}function ve(ie){var _e=be.state;if(be.marked="def",!!w){if(_e.context){if(_e.lexical.info=="var"&&_e.context&&_e.context.block){var ye=we(ie,_e.context);if(ye!=null){_e.context=ye;return}}else if(!se(ie,_e.localVars)){_e.localVars=new ke(ie,_e.localVars);return}}c.globalVars&&!se(ie,_e.globalVars)&&(_e.globalVars=new ke(ie,_e.globalVars))}}function we(ie,_e){if(_e)if(_e.block){var ye=we(ie,_e.prev);return ye?ye==_e.prev?_e:new We(ye,_e.vars,!0):null}else return se(ie,_e.vars)?_e:new We(_e.prev,new ke(ie,_e.vars),!1);else return null}function Ve(ie){return ie=="public"||ie=="private"||ie=="protected"||ie=="abstract"||ie=="readonly"}function We(ie,_e,ye){this.prev=ie,this.vars=_e,this.block=ye}function ke(ie,_e){this.name=ie,this.next=_e}var K=new ke("this",new ke("arguments",null));function F(){be.state.context=new We(be.state.context,be.state.localVars,!1),be.state.localVars=K}function Ce(){be.state.context=new We(be.state.context,be.state.localVars,!0),be.state.localVars=null}F.lex=Ce.lex=!0;function Pe(){be.state.localVars=be.state.context.vars,be.state.context=be.state.context.prev}Pe.lex=!0;function q(ie,_e){var ye=function(){var Ue=be.state,qt=Ue.indented;if(Ue.lexical.type=="stat")qt=Ue.lexical.indented;else for(var Qt=Ue.lexical;Qt&&Qt.type==")"&&Qt.align;Qt=Qt.prev)qt=Qt.indented;Ue.lexical=new me(qt,be.stream.column(),ie,null,Ue.lexical,_e)};return ye.lex=!0,ye}function he(){var ie=be.state;ie.lexical.prev&&(ie.lexical.type==")"&&(ie.indented=ie.lexical.indented),ie.lexical=ie.lexical.prev)}he.lex=!0;function Te(ie){function _e(ye){return ye==ie?T():ie==";"||ye=="}"||ye==")"||ye=="]"?te():T(_e)}return _e}function ze(ie,_e){return ie=="var"?T(q("vardef",_e),Zr,Te(";"),he):ie=="keyword a"?T(q("form"),Lt,ze,he):ie=="keyword b"?T(q("form"),ze,he):ie=="keyword d"?be.stream.match(/^\s*$/,!1)?T():T(q("stat"),Ft,Te(";"),he):ie=="debugger"?T(Te(";")):ie=="{"?T(q("}"),Ce,ti,he,Pe):ie==";"?T():ie=="if"?(be.state.lexical.info=="else"&&be.state.cc[be.state.cc.length-1]==he&&be.state.cc.pop()(),T(q("form"),Lt,ze,he,fn)):ie=="function"?T(ur):ie=="for"?T(q("form"),Ce,It,ze,Pe,he):ie=="class"||C&&_e=="interface"?(be.marked="keyword",T(q("form",ie=="class"?ie:_e),wo,he)):ie=="variable"?C&&_e=="declare"?(be.marked="keyword",T(ze)):C&&(_e=="module"||_e=="enum"||_e=="type")&&be.stream.match(/^\s*\w/,!1)?(be.marked="keyword",_e=="enum"?T(ko):_e=="type"?T(hn,Te("operator"),pt,Te(";")):T(q("form"),pi,Te("{"),q("}"),ti,he,he)):C&&_e=="namespace"?(be.marked="keyword",T(q("form"),et,ze,he)):C&&_e=="abstract"?(be.marked="keyword",T(ze)):T(q("stat"),He):ie=="switch"?T(q("form"),Lt,Te("{"),q("}","switch"),Ce,ti,he,he,Pe):ie=="case"?T(et,Te(":")):ie=="default"?T(Te(":")):ie=="catch"?T(q("form"),F,Xe,ze,he,Pe):ie=="export"?T(q("stat"),lr,he):ie=="import"?T(q("stat"),Rn,he):ie=="async"?T(ze):_e=="@"?T(et,ze):te(q("stat"),et,Te(";"),he)}function Xe(ie){if(ie=="(")return T(dn,Te(")"))}function et(ie,_e){return Mt(ie,_e,!1)}function nt(ie,_e){return Mt(ie,_e,!0)}function Lt(ie){return ie!="("?te():T(q(")"),Ft,Te(")"),he)}function Mt(ie,_e,ye){if(be.state.fatArrowAt==be.stream.start){var Ue=ye?le:X;if(ie=="(")return T(F,q(")"),ut(dn,")"),he,Te("=>"),Ue,Pe);if(ie=="variable")return te(F,pi,Te("=>"),Ue,Pe)}var qt=ye?Pt:_t;return fe.hasOwnProperty(ie)?T(qt):ie=="function"?T(ur,qt):ie=="class"||C&&_e=="interface"?(be.marked="keyword",T(q("form"),In,he)):ie=="keyword c"||ie=="async"?T(ye?nt:et):ie=="("?T(q(")"),Ft,Te(")"),he,qt):ie=="operator"||ie=="spread"?T(ye?nt:et):ie=="["?T(q("]"),Ir,he,qt):ie=="{"?Xt(Qe,"}",null,qt):ie=="quasi"?te(Et,qt):ie=="new"?T(V(ye)):T()}function Ft(ie){return ie.match(/[;\}\)\],]/)?te():te(et)}function _t(ie,_e){return ie==","?T(Ft):Pt(ie,_e,!1)}function Pt(ie,_e,ye){var Ue=ye==!1?_t:Pt,qt=ye==!1?et:nt;if(ie=="=>")return T(F,ye?le:X,Pe);if(ie=="operator")return/\+\+|--/.test(_e)||C&&_e=="!"?T(Ue):C&&_e=="<"&&be.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(q(">"),ut(pt,">"),he,Ue):_e=="?"?T(et,Te(":"),qt):T(qt);if(ie=="quasi")return te(Et,Ue);if(ie!=";"){if(ie=="(")return Xt(nt,")","call",Ue);if(ie==".")return T(at,Ue);if(ie=="[")return T(q("]"),Ft,Te("]"),he,Ue);if(C&&_e=="as")return be.marked="keyword",T(pt,Ue);if(ie=="regexp")return be.state.lastType=be.marked="operator",be.stream.backUp(be.stream.pos-be.stream.start-1),T(qt)}}function Et(ie,_e){return ie!="quasi"?te():_e.slice(_e.length-2)!="${"?T(Et):T(Ft,$t)}function $t(ie){if(ie=="}")return be.marked="string-2",be.state.tokenize=H,T(Et)}function X(ie){return ee(be.stream,be.state),te(ie=="{"?ze:et)}function le(ie){return ee(be.stream,be.state),te(ie=="{"?ze:nt)}function V(ie){return function(_e){return _e=="."?T(ie?pe:ce):_e=="variable"&&C?T(qi,ie?Pt:_t):te(ie?nt:et)}}function ce(ie,_e){if(_e=="target")return be.marked="keyword",T(_t)}function pe(ie,_e){if(_e=="target")return be.marked="keyword",T(Pt)}function He(ie){return ie==":"?T(he,ze):te(_t,Te(";"),he)}function at(ie){if(ie=="variable")return be.marked="property",T()}function Qe(ie,_e){if(ie=="async")return be.marked="property",T(Qe);if(ie=="variable"||be.style=="keyword"){if(be.marked="property",_e=="get"||_e=="set")return T(mt);var ye;return C&&be.state.fatArrowAt==be.stream.start&&(ye=be.stream.match(/^\s*:\s*/,!1))&&(be.state.fatArrowAt=be.stream.pos+ye[0].length),T(Ot)}else{if(ie=="number"||ie=="string")return be.marked=g?"property":be.style+" property",T(Ot);if(ie=="jsonld-keyword")return T(Ot);if(C&&Ve(_e))return be.marked="keyword",T(Qe);if(ie=="[")return T(et,bt,Te("]"),Ot);if(ie=="spread")return T(nt,Ot);if(_e=="*")return be.marked="keyword",T(Qe);if(ie==":")return te(Ot)}}function mt(ie){return ie!="variable"?te(Ot):(be.marked="property",T(ur))}function Ot(ie){if(ie==":")return T(nt);if(ie=="(")return te(ur)}function ut(ie,_e,ye){function Ue(qt,Qt){if(ye?ye.indexOf(qt)>-1:qt==","){var ni=be.state.lexical;return ni.info=="call"&&(ni.pos=(ni.pos||0)+1),T(function(ji,jt){return ji==_e||jt==_e?te():te(ie)},Ue)}return qt==_e||Qt==_e?T():ye&&ye.indexOf(";")>-1?te(ie):T(Te(_e))}return function(qt,Qt){return qt==_e||Qt==_e?T():te(ie,Ue)}}function Xt(ie,_e,ye){for(var Ue=3;Ue<arguments.length;Ue++)be.cc.push(arguments[Ue]);return T(q(_e,ye),ut(ie,_e),he)}function ti(ie){return ie=="}"?T():te(ze,ti)}function bt(ie,_e){if(C){if(ie==":")return T(pt);if(_e=="?")return T(bt)}}function _i(ie,_e){if(C&&(ie==":"||_e=="in"))return T(pt)}function Ni(ie){if(C&&ie==":")return be.stream.match(/^\s*\w+\s+is\b/,!1)?T(et,un,pt):T(pt)}function un(ie,_e){if(_e=="is")return be.marked="keyword",T()}function pt(ie,_e){if(_e=="keyof"||_e=="typeof"||_e=="infer"||_e=="readonly")return be.marked="keyword",T(_e=="typeof"?nt:pt);if(ie=="variable"||_e=="void")return be.marked="type",T(Cn);if(_e=="|"||_e=="&")return T(pt);if(ie=="string"||ie=="number"||ie=="atom")return T(Cn);if(ie=="[")return T(q("]"),ut(pt,"]",","),he,Cn);if(ie=="{")return T(q("}"),wi,he,Cn);if(ie=="(")return T(ut(ri,")"),Dr,Cn);if(ie=="<")return T(ut(pt,">"),pt);if(ie=="quasi")return te(Ii,Cn)}function Dr(ie){if(ie=="=>")return T(pt)}function wi(ie){return ie.match(/[\}\)\]]/)?T():ie==","||ie==";"?T(wi):te(Mi,wi)}function Mi(ie,_e){if(ie=="variable"||be.style=="keyword")return be.marked="property",T(Mi);if(_e=="?"||ie=="number"||ie=="string")return T(Mi);if(ie==":")return T(pt);if(ie=="[")return T(Te("variable"),_i,Te("]"),Mi);if(ie=="(")return te(Xi,Mi);if(!ie.match(/[;\}\)\],]/))return T()}function Ii(ie,_e){return ie!="quasi"?te():_e.slice(_e.length-2)!="${"?T(Ii):T(pt,zi)}function zi(ie){if(ie=="}")return be.marked="string-2",be.state.tokenize=H,T(Ii)}function ri(ie,_e){return ie=="variable"&&be.stream.match(/^\s*[?:]/,!1)||_e=="?"?T(ri):ie==":"?T(pt):ie=="spread"?T(ri):te(pt)}function Cn(ie,_e){if(_e=="<")return T(q(">"),ut(pt,">"),he,Cn);if(_e=="|"||ie=="."||_e=="&")return T(pt);if(ie=="[")return T(pt,Te("]"),Cn);if(_e=="extends"||_e=="implements")return be.marked="keyword",T(pt);if(_e=="?")return T(pt,Te(":"),pt)}function qi(ie,_e){if(_e=="<")return T(q(">"),ut(pt,">"),he,Cn)}function yo(){return te(pt,Jn)}function Jn(ie,_e){if(_e=="=")return T(pt)}function Zr(ie,_e){return _e=="enum"?(be.marked="keyword",T(ko)):te(pi,bt,sr,xo)}function pi(ie,_e){if(C&&Ve(_e))return be.marked="keyword",T(pi);if(ie=="variable")return ve(_e),T();if(ie=="spread")return T(pi);if(ie=="[")return Xt(Mr,"]");if(ie=="{")return Xt(Zn,"}")}function Zn(ie,_e){return ie=="variable"&&!be.stream.match(/^\s*:/,!1)?(ve(_e),T(sr)):(ie=="variable"&&(be.marked="property"),ie=="spread"?T(pi):ie=="}"?te():ie=="["?T(et,Te("]"),Te(":"),Zn):T(Te(":"),pi,sr))}function Mr(){return te(pi,sr)}function sr(ie,_e){if(_e=="=")return T(nt)}function xo(ie){if(ie==",")return T(Zr)}function fn(ie,_e){if(ie=="keyword b"&&_e=="else")return T(q("form","else"),ze,he)}function It(ie,_e){if(_e=="await")return T(It);if(ie=="(")return T(q(")"),jo,he)}function jo(ie){return ie=="var"?T(Zr,Pr):ie=="variable"?T(Pr):te(Pr)}function Pr(ie,_e){return ie==")"?T():ie==";"?T(Pr):_e=="in"||_e=="of"?(be.marked="keyword",T(et,Pr)):te(et,Pr)}function ur(ie,_e){if(_e=="*")return be.marked="keyword",T(ur);if(ie=="variable")return ve(_e),T(ur);if(ie=="(")return T(F,q(")"),ut(dn,")"),he,Ni,ze,Pe);if(C&&_e=="<")return T(q(">"),ut(yo,">"),he,ur)}function Xi(ie,_e){if(_e=="*")return be.marked="keyword",T(Xi);if(ie=="variable")return ve(_e),T(Xi);if(ie=="(")return T(F,q(")"),ut(dn,")"),he,Ni,Pe);if(C&&_e=="<")return T(q(">"),ut(yo,">"),he,Xi)}function hn(ie,_e){if(ie=="keyword"||ie=="variable")return be.marked="type",T(hn);if(_e=="<")return T(q(">"),ut(yo,">"),he)}function dn(ie,_e){return _e=="@"&&T(et,dn),ie=="spread"?T(dn):C&&Ve(_e)?(be.marked="keyword",T(dn)):C&&ie=="this"?T(bt,sr):te(pi,bt,sr)}function In(ie,_e){return ie=="variable"?wo(ie,_e):Zo(ie,_e)}function wo(ie,_e){if(ie=="variable")return ve(_e),T(Zo)}function Zo(ie,_e){if(_e=="<")return T(q(">"),ut(yo,">"),he,Zo);if(_e=="extends"||_e=="implements"||C&&ie==",")return _e=="implements"&&(be.marked="keyword"),T(C?pt:et,Zo);if(ie=="{")return T(q("}"),Fn,he)}function Fn(ie,_e){if(ie=="async"||ie=="variable"&&(_e=="static"||_e=="get"||_e=="set"||C&&Ve(_e))&&be.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return be.marked="keyword",T(Fn);if(ie=="variable"||be.style=="keyword")return be.marked="property",T(Or,Fn);if(ie=="number"||ie=="string")return T(Or,Fn);if(ie=="[")return T(et,bt,Te("]"),Or,Fn);if(_e=="*")return be.marked="keyword",T(Fn);if(C&&ie=="(")return te(Xi,Fn);if(ie==";"||ie==",")return T(Fn);if(ie=="}")return T();if(_e=="@")return T(et,Fn)}function Or(ie,_e){if(_e=="!"||_e=="?")return T(Or);if(ie==":")return T(pt,sr);if(_e=="=")return T(nt);var ye=be.state.lexical.prev,Ue=ye&&ye.info=="interface";return te(Ue?Xi:ur)}function lr(ie,_e){return _e=="*"?(be.marked="keyword",T(Dt,Te(";"))):_e=="default"?(be.marked="keyword",T(et,Te(";"))):ie=="{"?T(ut(da,"}"),Dt,Te(";")):te(ze)}function da(ie,_e){if(_e=="as")return be.marked="keyword",T(Te("variable"));if(ie=="variable")return te(nt,da)}function Rn(ie){return ie=="string"?T():ie=="("?te(et):ie=="."?te(_t):te(br,Nn,Dt)}function br(ie,_e){return ie=="{"?Xt(br,"}"):(ie=="variable"&&ve(_e),_e=="*"&&(be.marked="keyword"),T(Wi))}function Nn(ie){if(ie==",")return T(br,Nn)}function Wi(ie,_e){if(_e=="as")return be.marked="keyword",T(br)}function Dt(ie,_e){if(_e=="from")return be.marked="keyword",T(et)}function Ir(ie){return ie=="]"?T():te(ut(nt,"]"))}function ko(){return te(q("form"),pi,Te("{"),q("}"),ut(zn,"}"),he,he)}function zn(){return te(pi,sr)}function li(ie,_e){return ie.lastType=="operator"||ie.lastType==","||G.test(_e.charAt(0))||/[,.]/.test(_e.charAt(0))}function _r(ie,_e,ye){return _e.tokenize==D&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(_e.lastType)||_e.lastType=="quasi"&&/\{\s*$/.test(ie.string.slice(0,ie.pos-(ye||0)))}return{startState:function(ie){var _e={tokenize:D,lastType:"sof",cc:[],lexical:new me((ie||0)-l,0,"block",!1),localVars:c.localVars,context:c.localVars&&new We(null,null,!1),indented:ie||0};return c.globalVars&&typeof c.globalVars=="object"&&(_e.globalVars=c.globalVars),_e},token:function(ie,_e){if(ie.sol()&&(_e.lexical.hasOwnProperty("align")||(_e.lexical.align=!1),_e.indented=ie.indentation(),ee(ie,_e)),_e.tokenize!=B&&ie.eatSpace())return null;var ye=_e.tokenize(ie,_e);return U=="comment"?ye:(_e.lastType=U=="operator"&&(P=="++"||P=="--")?"incdec":U,De(_e,ye,U,P,ie))},indent:function(ie,_e){if(ie.tokenize==B||ie.tokenize==H)return r.Pass;if(ie.tokenize!=D)return 0;var ye=_e&&_e.charAt(0),Ue=ie.lexical,qt;if(!/^\s*else\b/.test(_e))for(var Qt=ie.cc.length-1;Qt>=0;--Qt){var ni=ie.cc[Qt];if(ni==he)Ue=Ue.prev;else if(ni!=fn&&ni!=Pe)break}for(;(Ue.type=="stat"||Ue.type=="form")&&(ye=="}"||(qt=ie.cc[ie.cc.length-1])&&(qt==_t||qt==Pt)&&!/^[,\.=+\-*:?[\(]/.test(_e));)Ue=Ue.prev;p&&Ue.type==")"&&Ue.prev.type=="stat"&&(Ue=Ue.prev);var ji=Ue.type,jt=ye==ji;return ji=="vardef"?Ue.indented+(ie.lastType=="operator"||ie.lastType==","?Ue.info.length+1:0):ji=="form"&&ye=="{"?Ue.indented:ji=="form"?Ue.indented+l:ji=="stat"?Ue.indented+(li(ie,_e)?p||l:0):Ue.info=="switch"&&!jt&&c.doubleIndentSwitch!=!1?Ue.indented+(/^(?:case|default)\b/.test(_e)?l:2*l):Ue.align?Ue.column+(jt?0:1):Ue.indented+(jt?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:g,jsonMode:b,expressionAllowed:_r,skipExpression:function(ie){De(ie,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),e0.exports}Bx();var i0={exports:{}},n0;function Hx(){return n0||(n0=1,function(n,e){(function(r){r(ps())})(function(r){r.defineMode("css",function(me,ue){var De=ue.inline;ue.propertyKeywords||(ue=r.resolveMode("text/css"));var be=me.indentUnit,te=ue.tokenHooks,T=ue.documentTypes||{},se=ue.mediaTypes||{},ve=ue.mediaFeatures||{},we=ue.mediaValueKeywords||{},Ve=ue.propertyKeywords||{},We=ue.nonStandardPropertyKeywords||{},ke=ue.fontProperties||{},K=ue.counterDescriptors||{},F=ue.colorKeywords||{},Ce=ue.valueKeywords||{},Pe=ue.allowNested,q=ue.lineComment,he=ue.supportsAtComponent===!0,Te=me.highlightNonStandardPropertyKeywords!==!1,ze,Xe;function et(V,ce){return ze=ce,V}function nt(V,ce){var pe=V.next();if(te[pe]){var He=te[pe](V,ce);if(He!==!1)return He}if(pe=="@")return V.eatWhile(/[\w\\\-]/),et("def",V.current());if(pe=="="||(pe=="~"||pe=="|")&&V.eat("="))return et(null,"compare");if(pe=='"'||pe=="'")return ce.tokenize=Lt(pe),ce.tokenize(V,ce);if(pe=="#")return V.eatWhile(/[\w\\\-]/),et("atom","hash");if(pe=="!")return V.match(/^\s*\w*/),et("keyword","important");if(/\d/.test(pe)||pe=="."&&V.eat(/\d/))return V.eatWhile(/[\w.%]/),et("number","unit");if(pe==="-"){if(/[\d.]/.test(V.peek()))return V.eatWhile(/[\w.%]/),et("number","unit");if(V.match(/^-[\w\\\-]*/))return V.eatWhile(/[\w\\\-]/),V.match(/^\s*:/,!1)?et("variable-2","variable-definition"):et("variable-2","variable");if(V.match(/^\w+-/))return et("meta","meta")}else return/[,+>*\/]/.test(pe)?et(null,"select-op"):pe=="."&&V.match(/^-?[_a-z][_a-z0-9-]*/i)?et("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(pe)?et(null,pe):V.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(V.current())&&(ce.tokenize=Mt),et("variable callee","variable")):/[\w\\\-]/.test(pe)?(V.eatWhile(/[\w\\\-]/),et("property","word")):et(null,null)}function Lt(V){return function(ce,pe){for(var He=!1,at;(at=ce.next())!=null;){if(at==V&&!He){V==")"&&ce.backUp(1);break}He=!He&&at=="\\"}return(at==V||!He&&V!=")")&&(pe.tokenize=null),et("string","string")}}function Mt(V,ce){return V.next(),V.match(/^\s*[\"\')]/,!1)?ce.tokenize=null:ce.tokenize=Lt(")"),et(null,"(")}function Ft(V,ce,pe){this.type=V,this.indent=ce,this.prev=pe}function _t(V,ce,pe,He){return V.context=new Ft(pe,ce.indentation()+(He===!1?0:be),V.context),pe}function Pt(V){return V.context.prev&&(V.context=V.context.prev),V.context.type}function Et(V,ce,pe){return le[pe.context.type](V,ce,pe)}function $t(V,ce,pe,He){for(var at=He||1;at>0;at--)pe.context=pe.context.prev;return Et(V,ce,pe)}function X(V){var ce=V.current().toLowerCase();Ce.hasOwnProperty(ce)?Xe="atom":F.hasOwnProperty(ce)?Xe="keyword":Xe="variable"}var le={};return le.top=function(V,ce,pe){if(V=="{")return _t(pe,ce,"block");if(V=="}"&&pe.context.prev)return Pt(pe);if(he&&/@component/i.test(V))return _t(pe,ce,"atComponentBlock");if(/^@(-moz-)?document$/i.test(V))return _t(pe,ce,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(V))return _t(pe,ce,"atBlock");if(/^@(font-face|counter-style)/i.test(V))return pe.stateArg=V,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(V))return"keyframes";if(V&&V.charAt(0)=="@")return _t(pe,ce,"at");if(V=="hash")Xe="builtin";else if(V=="word")Xe="tag";else{if(V=="variable-definition")return"maybeprop";if(V=="interpolation")return _t(pe,ce,"interpolation");if(V==":")return"pseudo";if(Pe&&V=="(")return _t(pe,ce,"parens")}return pe.context.type},le.block=function(V,ce,pe){if(V=="word"){var He=ce.current().toLowerCase();return Ve.hasOwnProperty(He)?(Xe="property","maybeprop"):We.hasOwnProperty(He)?(Xe=Te?"string-2":"property","maybeprop"):Pe?(Xe=ce.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Xe+=" error","maybeprop")}else return V=="meta"?"block":!Pe&&(V=="hash"||V=="qualifier")?(Xe="error","block"):le.top(V,ce,pe)},le.maybeprop=function(V,ce,pe){return V==":"?_t(pe,ce,"prop"):Et(V,ce,pe)},le.prop=function(V,ce,pe){if(V==";")return Pt(pe);if(V=="{"&&Pe)return _t(pe,ce,"propBlock");if(V=="}"||V=="{")return $t(V,ce,pe);if(V=="(")return _t(pe,ce,"parens");if(V=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(ce.current()))Xe+=" error";else if(V=="word")X(ce);else if(V=="interpolation")return _t(pe,ce,"interpolation");return"prop"},le.propBlock=function(V,ce,pe){return V=="}"?Pt(pe):V=="word"?(Xe="property","maybeprop"):pe.context.type},le.parens=function(V,ce,pe){return V=="{"||V=="}"?$t(V,ce,pe):V==")"?Pt(pe):V=="("?_t(pe,ce,"parens"):V=="interpolation"?_t(pe,ce,"interpolation"):(V=="word"&&X(ce),"parens")},le.pseudo=function(V,ce,pe){return V=="meta"?"pseudo":V=="word"?(Xe="variable-3",pe.context.type):Et(V,ce,pe)},le.documentTypes=function(V,ce,pe){return V=="word"&&T.hasOwnProperty(ce.current())?(Xe="tag",pe.context.type):le.atBlock(V,ce,pe)},le.atBlock=function(V,ce,pe){if(V=="(")return _t(pe,ce,"atBlock_parens");if(V=="}"||V==";")return $t(V,ce,pe);if(V=="{")return Pt(pe)&&_t(pe,ce,Pe?"block":"top");if(V=="interpolation")return _t(pe,ce,"interpolation");if(V=="word"){var He=ce.current().toLowerCase();He=="only"||He=="not"||He=="and"||He=="or"?Xe="keyword":se.hasOwnProperty(He)?Xe="attribute":ve.hasOwnProperty(He)?Xe="property":we.hasOwnProperty(He)?Xe="keyword":Ve.hasOwnProperty(He)?Xe="property":We.hasOwnProperty(He)?Xe=Te?"string-2":"property":Ce.hasOwnProperty(He)?Xe="atom":F.hasOwnProperty(He)?Xe="keyword":Xe="error"}return pe.context.type},le.atComponentBlock=function(V,ce,pe){return V=="}"?$t(V,ce,pe):V=="{"?Pt(pe)&&_t(pe,ce,Pe?"block":"top",!1):(V=="word"&&(Xe="error"),pe.context.type)},le.atBlock_parens=function(V,ce,pe){return V==")"?Pt(pe):V=="{"||V=="}"?$t(V,ce,pe,2):le.atBlock(V,ce,pe)},le.restricted_atBlock_before=function(V,ce,pe){return V=="{"?_t(pe,ce,"restricted_atBlock"):V=="word"&&pe.stateArg=="@counter-style"?(Xe="variable","restricted_atBlock_before"):Et(V,ce,pe)},le.restricted_atBlock=function(V,ce,pe){return V=="}"?(pe.stateArg=null,Pt(pe)):V=="word"?(pe.stateArg=="@font-face"&&!ke.hasOwnProperty(ce.current().toLowerCase())||pe.stateArg=="@counter-style"&&!K.hasOwnProperty(ce.current().toLowerCase())?Xe="error":Xe="property","maybeprop"):"restricted_atBlock"},le.keyframes=function(V,ce,pe){return V=="word"?(Xe="variable","keyframes"):V=="{"?_t(pe,ce,"top"):Et(V,ce,pe)},le.at=function(V,ce,pe){return V==";"?Pt(pe):V=="{"||V=="}"?$t(V,ce,pe):(V=="word"?Xe="tag":V=="hash"&&(Xe="builtin"),"at")},le.interpolation=function(V,ce,pe){return V=="}"?Pt(pe):V=="{"||V==";"?$t(V,ce,pe):(V=="word"?Xe="variable":V!="variable"&&V!="("&&V!=")"&&(Xe="error"),"interpolation")},{startState:function(V){return{tokenize:null,state:De?"block":"top",stateArg:null,context:new Ft(De?"block":"top",V||0,null)}},token:function(V,ce){if(!ce.tokenize&&V.eatSpace())return null;var pe=(ce.tokenize||nt)(V,ce);return pe&&typeof pe=="object"&&(ze=pe[1],pe=pe[0]),Xe=pe,ze!="comment"&&(ce.state=le[ce.state](ze,V,ce)),Xe},indent:function(V,ce){var pe=V.context,He=ce&&ce.charAt(0),at=pe.indent;return pe.type=="prop"&&(He=="}"||He==")")&&(pe=pe.prev),pe.prev&&(He=="}"&&(pe.type=="block"||pe.type=="top"||pe.type=="interpolation"||pe.type=="restricted_atBlock")?(pe=pe.prev,at=pe.indent):(He==")"&&(pe.type=="parens"||pe.type=="atBlock_parens")||He=="{"&&(pe.type=="at"||pe.type=="atBlock"))&&(at=Math.max(0,pe.indent-be))),at},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:q,fold:"brace"}});function s(me){for(var ue={},De=0;De<me.length;++De)ue[me[De].toLowerCase()]=!0;return ue}var c=["domain","regexp","url","url-prefix"],l=s(c),p=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],g=s(p),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],w=s(b),C=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],k=s(C),M=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],G=s(M),R=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],Z=s(R),U=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],P=s(U),E=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],D=s(E),W=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],B=s(W),H=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],j=s(H),ee=c.concat(p).concat(b).concat(C).concat(M).concat(R).concat(W).concat(H);r.registerHelper("hintWords","css",ee);function fe(me,ue){for(var De=!1,be;(be=me.next())!=null;){if(De&&be=="/"){ue.tokenize=null;break}De=be=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:l,mediaTypes:g,mediaFeatures:w,mediaValueKeywords:k,propertyKeywords:G,nonStandardPropertyKeywords:Z,fontProperties:P,counterDescriptors:D,colorKeywords:B,valueKeywords:j,tokenHooks:{"/":function(me,ue){return me.eat("*")?(ue.tokenize=fe,fe(me,ue)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:g,mediaFeatures:w,mediaValueKeywords:k,propertyKeywords:G,nonStandardPropertyKeywords:Z,colorKeywords:B,valueKeywords:j,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(me,ue){return me.eat("/")?(me.skipToEnd(),["comment","comment"]):me.eat("*")?(ue.tokenize=fe,fe(me,ue)):["operator","operator"]},":":function(me){return me.match(/^\s*\{/,!1)?[null,null]:!1},$:function(me){return me.match(/^[\w-]+/),me.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(me){return me.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:g,mediaFeatures:w,mediaValueKeywords:k,propertyKeywords:G,nonStandardPropertyKeywords:Z,colorKeywords:B,valueKeywords:j,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(me,ue){return me.eat("/")?(me.skipToEnd(),["comment","comment"]):me.eat("*")?(ue.tokenize=fe,fe(me,ue)):["operator","operator"]},"@":function(me){return me.eat("{")?[null,"interpolation"]:me.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(me.eatWhile(/[\w\\\-]/),me.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:l,mediaTypes:g,mediaFeatures:w,propertyKeywords:G,nonStandardPropertyKeywords:Z,fontProperties:P,counterDescriptors:D,colorKeywords:B,valueKeywords:j,supportsAtComponent:!0,tokenHooks:{"/":function(me,ue){return me.eat("*")?(ue.tokenize=fe,fe(me,ue)):!1}},name:"css",helperType:"gss"})})}()),i0.exports}Hx();var r0={exports:{}},o0;function Eg(){return o0||(o0=1,function(n,e){(function(r){r(ps())})(function(r){r.overlayMode=function(s,c,l){return{startState:function(){return{base:r.startState(s),overlay:r.startState(c),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(p){return{base:r.copyState(s,p.base),overlay:r.copyState(c,p.overlay),basePos:p.basePos,baseCur:null,overlayPos:p.overlayPos,overlayCur:null}},token:function(p,g){return(p!=g.streamSeen||Math.min(g.basePos,g.overlayPos)<p.start)&&(g.streamSeen=p,g.basePos=g.overlayPos=p.start),p.start==g.basePos&&(g.baseCur=s.token(p,g.base),g.basePos=p.pos),p.start==g.overlayPos&&(p.pos=p.start,g.overlayCur=c.token(p,g.overlay),g.overlayPos=p.pos),p.pos=Math.min(g.basePos,g.overlayPos),g.overlayCur==null?g.baseCur:g.baseCur!=null&&g.overlay.combineTokens||l&&g.overlay.combineTokens==null?g.baseCur+" "+g.overlayCur:g.overlayCur},indent:s.indent&&function(p,g,b){return s.indent(p.base,g,b)},electricChars:s.electricChars,innerMode:function(p){return{state:p.base,mode:s}},blankLine:function(p){var g,b;return s.blankLine&&(g=s.blankLine(p.base)),c.blankLine&&(b=c.blankLine(p.overlay)),b==null?g:l&&g!=null?g+" "+b:b}}}})}()),r0.exports}Eg();kg();var a0={exports:{}},s0;function Ux(){return s0||(s0=1,function(n,e){(function(r){r(ps())})(function(r){r.defineMode("yaml",function(){var s=["true","false","on","off","yes","no"],c=new RegExp("\\b(("+s.join(")|(")+"))$","i");return{token:function(l,p){var g=l.peek(),b=p.escaped;if(p.escaped=!1,g=="#"&&(l.pos==0||/\s/.test(l.string.charAt(l.pos-1))))return l.skipToEnd(),"comment";if(l.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(p.literal&&l.indentation()>p.keyCol)return l.skipToEnd(),"string";if(p.literal&&(p.literal=!1),l.sol()){if(p.keyCol=0,p.pair=!1,p.pairStart=!1,l.match("---")||l.match("..."))return"def";if(l.match(/\s*-\s+/))return"meta"}if(l.match(/^(\{|\}|\[|\])/))return g=="{"?p.inlinePairs++:g=="}"?p.inlinePairs--:g=="["?p.inlineList++:p.inlineList--,"meta";if(p.inlineList>0&&!b&&g==",")return l.next(),"meta";if(p.inlinePairs>0&&!b&&g==",")return p.keyCol=0,p.pair=!1,p.pairStart=!1,l.next(),"meta";if(p.pairStart){if(l.match(/^\s*(\||\>)\s*/))return p.literal=!0,"meta";if(l.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(p.inlinePairs==0&&l.match(/^\s*-?[0-9\.\,]+\s?$/)||p.inlinePairs>0&&l.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(l.match(c))return"keyword"}return!p.pair&&l.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(p.pair=!0,p.keyCol=l.indentation(),"atom"):p.pair&&l.match(/^:\s*/)?(p.pairStart=!0,"meta"):(p.pairStart=!1,p.escaped=g=="\\",l.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-yaml","yaml"),r.defineMIME("text/yaml","yaml")})}()),a0.exports}Ux();var u0={exports:{}},l0;function Wx(){return l0||(l0=1,function(n,e){(function(r){r(ps(),Cg(),Eg())})(function(r){var s=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;r.defineMode("gfm",function(c,l){var p=0;function g(k){return k.code=!1,null}var b={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(k){return{code:k.code,codeBlock:k.codeBlock,ateSpace:k.ateSpace}},token:function(k,M){if(M.combineTokens=null,M.codeBlock)return k.match(/^```+/)?(M.codeBlock=!1,null):(k.skipToEnd(),null);if(k.sol()&&(M.code=!1),k.sol()&&k.match(/^```+/))return k.skipToEnd(),M.codeBlock=!0,null;if(k.peek()==="`"){k.next();var G=k.pos;k.eatWhile("`");var R=1+k.pos-G;return M.code?R===p&&(M.code=!1):(p=R,M.code=!0),null}else if(M.code)return k.next(),null;if(k.eatSpace())return M.ateSpace=!0,null;if((k.sol()||M.ateSpace)&&(M.ateSpace=!1,l.gitHubSpice!==!1)){if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return M.combineTokens=!0,"link";if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return M.combineTokens=!0,"link"}return k.match(s)&&k.string.slice(k.start-2,k.start)!="]("&&(k.start==0||/\W/.test(k.string.charAt(k.start-1)))?(M.combineTokens=!0,"link"):(k.next(),null)},blankLine:g},w={taskLists:!0,strikethrough:!0,emoji:!0};for(var C in l)w[C]=l[C];return w.name="markdown",r.overlayMode(r.getMode(c,w),b)},"markdown"),r.defineMIME("text/x-gfm","gfm")})}()),u0.exports}Wx();var c0={exports:{}},f0;function qx(){return f0||(f0=1,function(n,e){(function(r){r(ps())})(function(r){r.defineOption("rulers",!1,function(c,l){c.state.rulerDiv&&(c.state.rulerDiv.parentElement.removeChild(c.state.rulerDiv),c.state.rulerDiv=null,c.off("refresh",s)),l&&l.length&&(c.state.rulerDiv=c.display.lineSpace.parentElement.insertBefore(document.createElement("div"),c.display.lineSpace),c.state.rulerDiv.className="CodeMirror-rulers",s(c),c.on("refresh",s))});function s(c){c.state.rulerDiv.textContent="";var l=c.getOption("rulers"),p=c.defaultCharWidth(),g=c.charCoords(r.Pos(c.firstLine(),0),"div").left;c.state.rulerDiv.style.minHeight=c.display.scroller.offsetHeight+30+"px";for(var b=0;b<l.length;b++){var w=document.createElement("div");w.className="CodeMirror-ruler";var C,k=l[b];typeof k=="number"?C=k:(C=k.column,k.className&&(w.className+=" "+k.className),k.color&&(w.style.borderColor=k.color),k.lineStyle&&(w.style.borderLeftStyle=k.lineStyle),k.width&&(w.style.borderLeftWidth=k.width)),w.style.left=g+C*p+"px",c.state.rulerDiv.appendChild(w)}}})}()),c0.exports}qx();var h0={};/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var d0;function jx(){return d0||(d0=1,function(n){n(jQuery)}(function(n){var e=0,r=Array.prototype.hasOwnProperty,s=Array.prototype.slice;return n.cleanData=function(c){return function(l){var p,g,b;for(b=0;(g=l[b])!=null;b++)p=n._data(g,"events"),p&&p.remove&&n(g).triggerHandler("remove");c(l)}}(n.cleanData),n.widget=function(c,l,p){var g,b,w,C={},k=c.split(".")[0];c=c.split(".")[1];var M=k+"-"+c;return p||(p=l,l=n.Widget),Array.isArray(p)&&(p=n.extend.apply(null,[{}].concat(p))),n.expr.pseudos[M.toLowerCase()]=function(G){return!!n.data(G,M)},n[k]=n[k]||{},g=n[k][c],b=n[k][c]=function(G,R){if(!this||!this._createWidget)return new b(G,R);arguments.length&&this._createWidget(G,R)},n.extend(b,g,{version:p.version,_proto:n.extend({},p),_childConstructors:[]}),w=new l,w.options=n.widget.extend({},w.options),n.each(p,function(G,R){if(typeof R!="function"){C[G]=R;return}C[G]=function(){function Z(){return l.prototype[G].apply(this,arguments)}function U(P){return l.prototype[G].apply(this,P)}return function(){var P=this._super,E=this._superApply,D;return this._super=Z,this._superApply=U,D=R.apply(this,arguments),this._super=P,this._superApply=E,D}}()}),b.prototype=n.widget.extend(w,{widgetEventPrefix:g&&w.widgetEventPrefix||c},C,{constructor:b,namespace:k,widgetName:c,widgetFullName:M}),g?(n.each(g._childConstructors,function(G,R){var Z=R.prototype;n.widget(Z.namespace+"."+Z.widgetName,b,R._proto)}),delete g._childConstructors):l._childConstructors.push(b),n.widget.bridge(c,b),b},n.widget.extend=function(c){for(var l=s.call(arguments,1),p=0,g=l.length,b,w;p<g;p++)for(b in l[p])w=l[p][b],r.call(l[p],b)&&w!==void 0&&(n.isPlainObject(w)?c[b]=n.isPlainObject(c[b])?n.widget.extend({},c[b],w):n.widget.extend({},w):c[b]=w);return c},n.widget.bridge=function(c,l){var p=l.prototype.widgetFullName||c;n.fn[c]=function(g){var b=typeof g=="string",w=s.call(arguments,1),C=this;return b?!this.length&&g==="instance"?C=void 0:this.each(function(){var k,M=n.data(this,p);if(g==="instance")return C=M,!1;if(!M)return n.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'");if(typeof M[g]!="function"||g.charAt(0)==="_")return n.error("no such method '"+g+"' for "+c+" widget instance");if(k=M[g].apply(M,w),k!==M&&k!==void 0)return C=k&&k.jquery?C.pushStack(k.get()):k,!1}):(w.length&&(g=n.widget.extend.apply(null,[g].concat(w))),this.each(function(){var k=n.data(this,p);k?(k.option(g||{}),k._init&&k._init()):n.data(this,p,new l(g,this))})),C}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(c,l){l=n(l||this.defaultElement||this)[0],this.element=n(l),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=n(),this.hoverable=n(),this.focusable=n(),this.classesElementLookup={},l!==this&&(n.data(l,this.widgetFullName,this),this._on(!0,this.element,{remove:function(p){p.target===l&&this.destroy()}}),this.document=n(l.style?l.ownerDocument:l.document||l),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this.options=n.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){var c=this;this._destroy(),n.each(this.classesElementLookup,function(l,p){c._removeClass(p,l)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:n.noop,widget:function(){return this.element},option:function(c,l){var p=c,g,b,w;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof c=="string")if(p={},g=c.split("."),c=g.shift(),g.length){for(b=p[c]=n.widget.extend({},this.options[c]),w=0;w<g.length-1;w++)b[g[w]]=b[g[w]]||{},b=b[g[w]];if(c=g.pop(),arguments.length===1)return b[c]===void 0?null:b[c];b[c]=l}else{if(arguments.length===1)return this.options[c]===void 0?null:this.options[c];p[c]=l}return this._setOptions(p),this},_setOptions:function(c){var l;for(l in c)this._setOption(l,c[l]);return this},_setOption:function(c,l){return c==="classes"&&this._setOptionClasses(l),this.options[c]=l,c==="disabled"&&this._setOptionDisabled(l),this},_setOptionClasses:function(c){var l,p,g;for(l in c)g=this.classesElementLookup[l],!(c[l]===this.options.classes[l]||!g||!g.length)&&(p=n(g.get()),this._removeClass(g,l),p.addClass(this._classes({element:p,keys:l,classes:c,add:!0})))},_setOptionDisabled:function(c){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!c),c&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(c){var l=[],p=this;c=n.extend({element:this.element,classes:this.options.classes||{}},c);function g(){var w=[];c.element.each(function(C,k){var M=n.map(p.classesElementLookup,function(G){return G}).some(function(G){return G.is(k)});M||w.push(k)}),p._on(n(w),{remove:"_untrackClassesElement"})}function b(w,C){var k,M;for(M=0;M<w.length;M++)k=p.classesElementLookup[w[M]]||n(),c.add?(g(),k=n(n.uniqueSort(k.get().concat(c.element.get())))):k=n(k.not(c.element).get()),p.classesElementLookup[w[M]]=k,l.push(w[M]),C&&c.classes[w[M]]&&l.push(c.classes[w[M]])}return c.keys&&b(c.keys.match(/\S+/g)||[],!0),c.extra&&b(c.extra.match(/\S+/g)||[]),l.join(" ")},_untrackClassesElement:function(c){var l=this;n.each(l.classesElementLookup,function(p,g){n.inArray(c.target,g)!==-1&&(l.classesElementLookup[p]=n(g.not(c.target).get()))}),this._off(n(c.target))},_removeClass:function(c,l,p){return this._toggleClass(c,l,p,!1)},_addClass:function(c,l,p){return this._toggleClass(c,l,p,!0)},_toggleClass:function(c,l,p,g){g=typeof g=="boolean"?g:p;var b=typeof c=="string"||c===null,w={extra:b?l:p,keys:b?c:l,element:b?this.element:c,add:g};return w.element.toggleClass(this._classes(w),g),this},_on:function(c,l,p){var g,b=this;typeof c!="boolean"&&(p=l,l=c,c=!1),p?(l=g=n(l),this.bindings=this.bindings.add(l)):(p=l,l=this.element,g=this.widget()),n.each(p,function(w,C){function k(){if(!(!c&&(b.options.disabled===!0||n(this).hasClass("ui-state-disabled"))))return(typeof C=="string"?b[C]:C).apply(b,arguments)}typeof C!="string"&&(k.guid=C.guid=C.guid||k.guid||n.guid++);var M=w.match(/^([\w:-]*)\s*(.*)$/),G=M[1]+b.eventNamespace,R=M[2];R?g.on(G,R,k):l.on(G,k)})},_off:function(c,l){l=(l||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,c.off(l),this.bindings=n(this.bindings.not(c).get()),this.focusable=n(this.focusable.not(c).get()),this.hoverable=n(this.hoverable.not(c).get())},_delay:function(c,l){function p(){return(typeof c=="string"?g[c]:c).apply(g,arguments)}var g=this;return setTimeout(p,l||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c),this._on(c,{mouseenter:function(l){this._addClass(n(l.currentTarget),null,"ui-state-hover")},mouseleave:function(l){this._removeClass(n(l.currentTarget),null,"ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c),this._on(c,{focusin:function(l){this._addClass(n(l.currentTarget),null,"ui-state-focus")},focusout:function(l){this._removeClass(n(l.currentTarget),null,"ui-state-focus")}})},_trigger:function(c,l,p){var g,b,w=this.options[c];if(p=p||{},l=n.Event(l),l.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),l.target=this.element[0],b=l.originalEvent,b)for(g in b)g in l||(l[g]=b[g]);return this.element.trigger(l,p),!(typeof w=="function"&&w.apply(this.element[0],[l].concat(p))===!1||l.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(c,l){n.Widget.prototype["_"+c]=function(p,g,b){typeof g=="string"&&(g={effect:g});var w,C=g?g===!0||typeof g=="number"?l:g.effect||l:c;g=g||{},typeof g=="number"?g={duration:g}:g===!0&&(g={}),w=!n.isEmptyObject(g),g.complete=b,g.delay&&p.delay(g.delay),w&&n.effects&&n.effects.effect[C]?p[c](g):C!==c&&p[C]?p[C](g.duration,g.easing,b):p.queue(function(k){n(this)[c](),b&&b.call(p[0]),k()})}}),n.widget})),h0}jx();var p0={};/*!
 * jQuery UI Autocomplete 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var m0;function Zx(){return m0||(m0=1,function(n){n(jQuery)}(function(n){return n.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,r,s,c=this.element[0].nodeName.toLowerCase(),l=c==="textarea",p=c==="input";this.isMultiLine=l||!p&&this._isContentEditable(this.element),this.valueMethod=this.element[l||p?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){e=!0,s=!0,r=!0;return}e=!1,s=!1,r=!1;var b=n.ui.keyCode;switch(g.keyCode){case b.PAGE_UP:e=!0,this._move("previousPage",g);break;case b.PAGE_DOWN:e=!0,this._move("nextPage",g);break;case b.UP:e=!0,this._keyEvent("previous",g);break;case b.DOWN:e=!0,this._keyEvent("next",g);break;case b.ENTER:this.menu.active&&(e=!0,g.preventDefault(),this.menu.select(g));break;case b.TAB:this.menu.active&&this.menu.select(g);break;case b.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(g),g.preventDefault());break;default:r=!0,this._searchTimeout(g);break}},keypress:function(g){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&g.preventDefault();return}if(!r){var b=n.ui.keyCode;switch(g.keyCode){case b.PAGE_UP:this._move("previousPage",g);break;case b.PAGE_DOWN:this._move("nextPage",g);break;case b.UP:this._keyEvent("previous",g);break;case b.DOWN:this._keyEvent("next",g);break}}},input:function(g){if(s){s=!1,g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(g){clearTimeout(this.searching),this.close(g),this._change(g)}}),this._initSource(),this.menu=n("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(g){g.preventDefault()},menufocus:function(g,b){var w,C;if(this.isNewMenu&&(this.isNewMenu=!1,g.originalEvent&&/^mouse/.test(g.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){n(g.target).trigger(g.originalEvent)});return}C=b.item.data("ui-autocomplete-item"),this._trigger("focus",g,{item:C})!==!1&&g.originalEvent&&/^key/.test(g.originalEvent.type)&&this._value(C.value),w=b.item.attr("aria-label")||C.value,w&&String.prototype.trim.call(w).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(n("<div>").text(w))},100))},menuselect:function(g,b){var w=b.item.data("ui-autocomplete-item"),C=this.previous;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=C,this._delay(function(){this.previous=C,this.selectedItem=w})),this._trigger("select",g,{item:w})!==!1&&this._value(w.value),this.term=this._value(),this.close(g),this.selectedItem=w}}),this.liveRegion=n("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,r){this._super(e,r),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&r&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var r=this.menu.element[0];return e.target===this.element[0]||e.target===r||n.contains(r,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?n(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,r,s=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(c,l){l(n.ui.autocomplete.filter(e,c.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(c,l){s.xhr&&s.xhr.abort(),s.xhr=n.ajax({url:r,data:c,dataType:"json",success:function(p){l(p)},error:function(){l([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var r=this.term===this._value(),s=this.menu.element.is(":visible"),c=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!r||r&&!s&&!c)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,r){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(r);if(this._trigger("search",r)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(r){e===this.requestIndex&&this.__response(r),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:n.map(e,function(r){return typeof r=="string"?{label:r,value:r}:n.extend({},r,{label:r.label||r.value,value:r.value||r.label})})},_suggest:function(e){var r=this.menu.element.empty();this._renderMenu(r,e),this.isNewMenu=!0,this.menu.refresh(),r.show(),this._resizeMenu(),r.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,r){var s=this;n.each(r,function(c,l){s._renderItemData(e,l)})},_renderItemData:function(e,r){return this._renderItem(e,r).data("ui-autocomplete-item",r)},_renderItem:function(e,r){return n("<li>").append(n("<div>").text(r.label)).appendTo(e)},_move:function(e,r){if(!this.menu.element.is(":visible")){this.search(null,r);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](r)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,r){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,r),r.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var r=e.prop("contentEditable");return r==="inherit"?this._isContentEditable(e.parent()):r==="true"}}),n.extend(n.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,r){var s=new RegExp(n.ui.autocomplete.escapeRegex(r),"i");return n.grep(e,function(c){return s.test(c.label||c.value||c)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var r;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?r=this.options.messages.results(e.length):r=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(n("<div>").text(r))},100))}}),n.ui.autocomplete})),p0}Zx();/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */const jr=typeof window<"u"?window:typeof Up<"u"&&Up.exports&&typeof global<"u"?global:void 0,Xh=function(n,e){var r=n.document,s=n.GreenSockGlobals=n.GreenSockGlobals||n;if(s.TweenLite)return s.TweenLite;var c=function(X){var le=X.split("."),V=s,ce;for(ce=0;ce<le.length;ce++)V[le[ce]]=V=V[le[ce]]||{};return V},l=c("com.greensock"),p=1e-10,g=function(X){var le=[],V=X.length,ce;for(ce=0;ce!==V;le.push(X[ce++]));return le},b=function(){},w=function(){var X=Object.prototype.toString,le=X.call([]);return function(V){return V!=null&&(V instanceof Array||typeof V=="object"&&!!V.push&&X.call(V)===le)}}(),C,k,M,G,R,Z={},U=function(X,le,V,ce){this.sc=Z[X]?Z[X].sc:[],Z[X]=this,this.gsClass=null,this.func=V;var pe=[];this.check=function(He){for(var at=le.length,Qe=at,mt,Ot,ut,Xt;--at>-1;)(mt=Z[le[at]]||new U(le[at],[])).gsClass?(pe[at]=mt.gsClass,Qe--):He&&mt.sc.push(this);if(Qe===0&&V)for(Ot=("com.greensock."+X).split("."),ut=Ot.pop(),Xt=c(Ot.join("."))[ut]=this.gsClass=V.apply(V,pe),ce&&(s[ut]=Xt),at=0;at<this.sc.length;at++)this.sc[at].check()},this.check(!0)},P=n._gsDefine=function(X,le,V,ce){return new U(X,le,V,ce)},E=l._class=function(X,le,V){return le=le||function(){},P(X,[],function(){return le},V),le};P.globals=s;var D=[0,0,1,1],W=E("easing.Ease",function(X,le,V,ce){this._func=X,this._type=V||0,this._power=ce||0,this._params=le?D.concat(le):D},!0),B=W.map={},H=W.register=function(X,le,V,ce){for(var pe=le.split(","),He=pe.length,at=(V||"easeIn,easeOut,easeInOut").split(","),Qe,mt,Ot,ut;--He>-1;)for(mt=pe[He],Qe=ce?E("easing."+mt,null,!0):l.easing[mt]||{},Ot=at.length;--Ot>-1;)ut=at[Ot],B[mt+"."+ut]=B[ut+mt]=Qe[ut]=X.getRatio?X:X[ut]||new X};for(M=W.prototype,M._calcEnd=!1,M.getRatio=function(X){if(this._func)return this._params[0]=X,this._func.apply(null,this._params);var le=this._type,V=this._power,ce=le===1?1-X:le===2?X:X<.5?X*2:(1-X)*2;return V===1?ce*=ce:V===2?ce*=ce*ce:V===3?ce*=ce*ce*ce:V===4&&(ce*=ce*ce*ce*ce),le===1?1-ce:le===2?ce:X<.5?ce/2:1-ce/2},C=["Linear","Quad","Cubic","Quart","Quint,Strong"],k=C.length;--k>-1;)M=C[k]+",Power"+k,H(new W(null,null,1,k),M,"easeOut",!0),H(new W(null,null,2,k),M,"easeIn"+(k===0?",easeNone":"")),H(new W(null,null,3,k),M,"easeInOut");B.linear=l.easing.Linear.easeIn,B.swing=l.easing.Quad.easeInOut;var j=E("events.EventDispatcher",function(X){this._listeners={},this._eventTarget=X||this});M=j.prototype,M.addEventListener=function(X,le,V,ce,pe){pe=pe||0;var He=this._listeners[X],at=0,Qe,mt;for(this===G&&!R&&G.wake(),He==null&&(this._listeners[X]=He=[]),mt=He.length;--mt>-1;)Qe=He[mt],Qe.c===le&&Qe.s===V?He.splice(mt,1):at===0&&Qe.pr<pe&&(at=mt+1);He.splice(at,0,{c:le,s:V,up:ce,pr:pe})},M.removeEventListener=function(X,le){var V=this._listeners[X],ce;if(V){for(ce=V.length;--ce>-1;)if(V[ce].c===le){V.splice(ce,1);return}}},M.dispatchEvent=function(X){var le=this._listeners[X],V,ce,pe;if(le)for(V=le.length,V>1&&(le=le.slice(0)),ce=this._eventTarget;--V>-1;)pe=le[V],pe&&(pe.up?pe.c.call(pe.s||ce,{type:X,target:ce}):pe.c.call(pe.s||ce))};var ee=n.requestAnimationFrame,fe=n.cancelAnimationFrame,me=Date.now||function(){return new Date().getTime()},ue=me();for(C=["ms","moz","webkit","o"],k=C.length;--k>-1&&!ee;)ee=n[C[k]+"RequestAnimationFrame"],fe=n[C[k]+"CancelAnimationFrame"]||n[C[k]+"CancelRequestAnimationFrame"];E("Ticker",function(X,le){var V=this,ce=me(),pe=le!==!1&&ee?"auto":!1,He=500,at=33,Qe="tick",mt,Ot,ut,Xt,ti,bt=function(_i){var Ni=me()-ue,un,pt;Ni>He&&(ce+=Ni-at),ue+=Ni,V.time=(ue-ce)/1e3,un=V.time-ti,(!mt||un>0||_i===!0)&&(V.frame++,ti+=un+(un>=Xt?.004:Xt-un),pt=!0),_i!==!0&&(ut=Ot(bt)),pt&&V.dispatchEvent(Qe)};j.call(V),V.time=V.frame=0,V.tick=function(){bt(!0)},V.lagSmoothing=function(_i,Ni){if(!arguments.length)return He<1/p;He=_i||1/p,at=Math.min(Ni,He,0)},V.sleep=function(){ut!=null&&(!pe||!fe?clearTimeout(ut):fe(ut),Ot=b,ut=null,V===G&&(R=!1))},V.wake=function(_i){ut!==null?V.sleep():_i?ce+=-ue+(ue=me()):V.frame>10&&(ue=me()-He+5),Ot=mt===0?b:!pe||!ee?function(Ni){return setTimeout(Ni,(ti-V.time)*1e3+1|0)}:ee,V===G&&(R=!0),bt(2)},V.fps=function(_i){if(!arguments.length)return mt;mt=_i,Xt=1/(mt||60),ti=this.time+Xt,V.wake()},V.useRAF=function(_i){if(!arguments.length)return pe;V.sleep(),pe=_i,V.fps(mt)},V.fps(X),setTimeout(function(){pe==="auto"&&V.frame<5&&(r||{}).visibilityState!=="hidden"&&V.useRAF(!1)},1500)}),M=l.Ticker.prototype=new l.events.EventDispatcher,M.constructor=l.Ticker;var De=E("core.Animation",function(X,le){if(this.vars=le=le||{},this._duration=this._totalDuration=X||0,this._delay=Number(le.delay)||0,this._timeScale=1,this._active=le.immediateRender===!0,this.data=le.data,this._reversed=le.reversed===!0,!!nt){R||G.wake();var V=this.vars.useFrames?et:nt;V.add(this,V._time),this.vars.paused&&this.paused(!0)}});G=De.ticker=new l.Ticker,M=De.prototype,M._dirty=M._gc=M._initted=M._paused=!1,M._totalTime=M._time=0,M._rawPrevTime=-1,M._next=M._last=M._onUpdate=M._timeline=M.timeline=null,M._paused=!1;var be=function(){R&&me()-ue>2e3&&((r||{}).visibilityState!=="hidden"||!G.lagSmoothing())&&G.wake();var X=setTimeout(be,2e3);X.unref&&X.unref()};be(),M.play=function(X,le){return X!=null&&this.seek(X,le),this.reversed(!1).paused(!1)},M.pause=function(X,le){return X!=null&&this.seek(X,le),this.paused(!0)},M.resume=function(X,le){return X!=null&&this.seek(X,le),this.paused(!1)},M.seek=function(X,le){return this.totalTime(Number(X),le!==!1)},M.restart=function(X,le){return this.reversed(!1).paused(!1).totalTime(X?-this._delay:0,le!==!1,!0)},M.reverse=function(X,le){return X!=null&&this.seek(X||this.totalDuration(),le),this.reversed(!0).paused(!1)},M.render=function(X,le,V){},M.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},M.isActive=function(){var X=this._timeline,le=this._startTime,V;return!X||!this._gc&&!this._paused&&X.isActive()&&(V=X.rawTime(!0))>=le&&V<le+this.totalDuration()/this._timeScale-1e-7},M._enabled=function(X,le){return R||G.wake(),this._gc=!X,this._active=this.isActive(),le!==!0&&(X&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!X&&this.timeline&&this._timeline._remove(this,!0)),!1},M._kill=function(X,le){return this._enabled(!1,!1)},M.kill=function(X,le){return this._kill(X,le),this},M._uncache=function(X){for(var le=X?this:this.timeline;le;)le._dirty=!0,le=le.timeline;return this},M._swapSelfInParams=function(X){for(var le=X.length,V=X.concat();--le>-1;)X[le]==="{self}"&&(V[le]=this);return V},M._callback=function(X){var le=this.vars,V=le[X],ce=le[X+"Params"],pe=le[X+"Scope"]||le.callbackScope||this,He=ce?ce.length:0;switch(He){case 0:V.call(pe);break;case 1:V.call(pe,ce[0]);break;case 2:V.call(pe,ce[0],ce[1]);break;default:V.apply(pe,ce)}},M.eventCallback=function(X,le,V,ce){if((X||"").substr(0,2)==="on"){var pe=this.vars;if(arguments.length===1)return pe[X];le==null?delete pe[X]:(pe[X]=le,pe[X+"Params"]=w(V)&&V.join("").indexOf("{self}")!==-1?this._swapSelfInParams(V):V,pe[X+"Scope"]=ce),X==="onUpdate"&&(this._onUpdate=le)}return this},M.delay=function(X){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+X-this._delay),this._delay=X,this):this._delay},M.duration=function(X){return arguments.length?(this._duration=this._totalDuration=X,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&X!==0&&this.totalTime(this._totalTime*(X/this._duration),!0),this):(this._dirty=!1,this._duration)},M.totalDuration=function(X){return this._dirty=!1,arguments.length?this.duration(X):this._totalDuration},M.time=function(X,le){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(X>this._duration?this._duration:X,le)):this._time},M.totalTime=function(X,le,V){if(R||G.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(X<0&&!V&&(X+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var ce=this._totalDuration,pe=this._timeline;if(X>ce&&!V&&(X=ce),this._startTime=(this._paused?this._pauseTime:pe._time)-(this._reversed?ce-X:X)/this._timeScale,pe._dirty||this._uncache(!1),pe._timeline)for(;pe._timeline;)pe._timeline._time!==(pe._startTime+pe._totalTime)/pe._timeScale&&pe.totalTime(pe._totalTime,!0),pe=pe._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==X||this._duration===0)&&(we.length&&Mt(),this.render(X,le,!1),we.length&&Mt())}return this},M.progress=M.totalProgress=function(X,le){var V=this.duration();return arguments.length?this.totalTime(V*X,le):V?this._time/V:this.ratio},M.startTime=function(X){return arguments.length?(X!==this._startTime&&(this._startTime=X,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,X-this._delay)),this):this._startTime},M.endTime=function(X){return this._startTime+(X!=!1?this.totalDuration():this.duration())/this._timeScale},M.timeScale=function(X){if(!arguments.length)return this._timeScale;var le,V;for(X=X||p,this._timeline&&this._timeline.smoothChildTiming&&(le=this._pauseTime,V=le||le===0?le:this._timeline.totalTime(),this._startTime=V-(V-this._startTime)*this._timeScale/X),this._timeScale=X,V=this.timeline;V&&V.timeline;)V._dirty=!0,V.totalDuration(),V=V.timeline;return this},M.reversed=function(X){return arguments.length?(X!=this._reversed&&(this._reversed=X,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},M.paused=function(X){if(!arguments.length)return this._paused;var le=this._timeline,V,ce;return X!=this._paused&&le&&(!R&&!X&&G.wake(),V=le.rawTime(),ce=V-this._pauseTime,!X&&le.smoothChildTiming&&(this._startTime+=ce,this._uncache(!1)),this._pauseTime=X?V:null,this._paused=X,this._active=this.isActive(),!X&&ce!==0&&this._initted&&this.duration()&&(V=le.smoothChildTiming?this._totalTime:(V-this._startTime)/this._timeScale,this.render(V,V===this._totalTime,!0))),this._gc&&!X&&this._enabled(!0,!1),this};var te=E("core.SimpleTimeline",function(X){De.call(this,0,X),this.autoRemoveChildren=this.smoothChildTiming=!0});M=te.prototype=new De,M.constructor=te,M.kill()._gc=!1,M._first=M._last=M._recent=null,M._sortChildren=!1,M.add=M.insert=function(X,le,V,ce){var pe,He;if(X._startTime=Number(le||0)+X._delay,X._paused&&this!==X._timeline&&(X._pauseTime=this.rawTime()-(X._timeline.rawTime()-X._pauseTime)),X.timeline&&X.timeline._remove(X,!0),X.timeline=X._timeline=this,X._gc&&X._enabled(!0,!0),pe=this._last,this._sortChildren)for(He=X._startTime;pe&&pe._startTime>He;)pe=pe._prev;return pe?(X._next=pe._next,pe._next=X):(X._next=this._first,this._first=X),X._next?X._next._prev=X:this._last=X,X._prev=pe,this._recent=X,this._timeline&&this._uncache(!0),this},M._remove=function(X,le){return X.timeline===this&&(le||X._enabled(!1,!0),X._prev?X._prev._next=X._next:this._first===X&&(this._first=X._next),X._next?X._next._prev=X._prev:this._last===X&&(this._last=X._prev),X._next=X._prev=X.timeline=null,X===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},M.render=function(X,le,V){var ce=this._first,pe;for(this._totalTime=this._time=this._rawPrevTime=X;ce;)pe=ce._next,(ce._active||X>=ce._startTime&&!ce._paused&&!ce._gc)&&(ce._reversed?ce.render((ce._dirty?ce.totalDuration():ce._totalDuration)-(X-ce._startTime)*ce._timeScale,le,V):ce.render((X-ce._startTime)*ce._timeScale,le,V)),ce=pe},M.rawTime=function(){return R||G.wake(),this._totalTime};var T=E("TweenLite",function(X,le,V){if(De.call(this,le,V),this.render=T.prototype.render,X==null)throw"Cannot tween a null target.";this.target=X=typeof X!="string"?X:T.selector(X)||X;var ce=X.jquery||X.length&&X!==n&&X[0]&&(X[0]===n||X[0].nodeType&&X[0].style&&!X.nodeType),pe=this.vars.overwrite,He,at,Qe;if(this._overwrite=pe=pe==null?Xe[T.defaultOverwrite]:typeof pe=="number"?pe>>0:Xe[pe],(ce||X instanceof Array||X.push&&w(X))&&typeof X[0]!="number")for(this._targets=Qe=g(X),this._propLookup=[],this._siblings=[],He=0;He<Qe.length;He++){if(at=Qe[He],at){if(typeof at=="string"){at=Qe[He--]=T.selector(at),typeof at=="string"&&Qe.splice(He+1,1);continue}else if(at.length&&at!==n&&at[0]&&(at[0]===n||at[0].nodeType&&at[0].style&&!at.nodeType)){Qe.splice(He--,1),this._targets=Qe=Qe.concat(g(at));continue}}else{Qe.splice(He--,1);continue}this._siblings[He]=Ft(at,this,!1),pe===1&&this._siblings[He].length>1&&Pt(at,this,null,1,this._siblings[He])}else this._propLookup={},this._siblings=Ft(X,this,!1),pe===1&&this._siblings.length>1&&Pt(X,this,null,1,this._siblings);(this.vars.immediateRender||le===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),se=function(X){return X&&X.length&&X!==n&&X[0]&&(X[0]===n||X[0].nodeType&&X[0].style&&!X.nodeType)},ve=function(X,le){var V={},ce;for(ce in X)!ze[ce]&&(!(ce in le)||ce==="transform"||ce==="x"||ce==="y"||ce==="width"||ce==="height"||ce==="className"||ce==="border")&&(!q[ce]||q[ce]&&q[ce]._autoCSS)&&(V[ce]=X[ce],delete X[ce]);X.css=V};M=T.prototype=new De,M.constructor=T,M.kill()._gc=!1,M.ratio=0,M._firstPT=M._targets=M._overwrittenProps=M._startAt=null,M._notifyPluginsOfEnabled=M._lazy=!1,T.version="1.20.5",T.defaultEase=M._ease=new W(null,null,1,1),T.defaultOverwrite="auto",T.ticker=G,T.autoSleep=120,T.lagSmoothing=function(X,le){G.lagSmoothing(X,le)},T.selector=n.$||n.jQuery||function(X){var le=n.$||n.jQuery;return le?(T.selector=le,le(X)):(r||(r=n.document),r?r.querySelectorAll?r.querySelectorAll(X):r.getElementById(X.charAt(0)==="#"?X.substr(1):X):X)};var we=[],Ve={},We=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,ke=/[\+-]=-?[\.\d]/,K=function(X){for(var le=this._firstPT,V=1e-6,ce;le;)ce=le.blob?X===1&&this.end!=null?this.end:X?this.join(""):this.start:le.c*X+le.s,le.m?ce=le.m.call(this._tween,ce,this._target||le.t,this._tween):ce<V&&ce>-1e-6&&!le.blob&&(ce=0),le.f?le.fp?le.t[le.p](le.fp,ce):le.t[le.p](ce):le.t[le.p]=ce,le=le._next},F=function(X,le,V,ce){var pe=[],He=0,at="",Qe=0,mt,Ot,ut,Xt,ti,bt,_i;for(pe.start=X,pe.end=le,X=pe[0]=X+"",le=pe[1]=le+"",V&&(V(pe),X=pe[0],le=pe[1]),pe.length=0,mt=X.match(We)||[],Ot=le.match(We)||[],ce&&(ce._next=null,ce.blob=1,pe._firstPT=pe._applyPT=ce),ti=Ot.length,Xt=0;Xt<ti;Xt++)_i=Ot[Xt],bt=le.substr(He,le.indexOf(_i,He)-He),at+=bt||!Xt?bt:",",He+=bt.length,Qe?Qe=(Qe+1)%5:bt.substr(-5)==="rgba("&&(Qe=1),_i===mt[Xt]||mt.length<=Xt?at+=_i:(at&&(pe.push(at),at=""),ut=parseFloat(mt[Xt]),pe.push(ut),pe._firstPT={_next:pe._firstPT,t:pe,p:pe.length-1,s:ut,c:(_i.charAt(1)==="="?parseInt(_i.charAt(0)+"1",10)*parseFloat(_i.substr(2)):parseFloat(_i)-ut)||0,f:0,m:Qe&&Qe<4?Math.round:0}),He+=_i.length;return at+=le.substr(He),at&&pe.push(at),pe.setRatio=K,ke.test(le)&&(pe.end=null),pe},Ce=function(X,le,V,ce,pe,He,at,Qe,mt){typeof ce=="function"&&(ce=ce(mt||0,X));var Ot=typeof X[le],ut=Ot!=="function"?"":le.indexOf("set")||typeof X["get"+le.substr(3)]!="function"?le:"get"+le.substr(3),Xt=V!=="get"?V:ut?at?X[ut](at):X[ut]():X[le],ti=typeof ce=="string"&&ce.charAt(1)==="=",bt={t:X,p:le,s:Xt,f:Ot==="function",pg:0,n:pe||le,m:He?typeof He=="function"?He:Math.round:0,pr:0,c:ti?parseInt(ce.charAt(0)+"1",10)*parseFloat(ce.substr(2)):parseFloat(ce)-Xt||0},_i;if((typeof Xt!="number"||typeof ce!="number"&&!ti)&&(at||isNaN(Xt)||!ti&&isNaN(ce)||typeof Xt=="boolean"||typeof ce=="boolean"?(bt.fp=at,_i=F(Xt,ti?parseFloat(bt.s)+bt.c+(bt.s+"").replace(/[0-9\-\.]/g,""):ce,Qe||T.defaultStringFilter,bt),bt={t:_i,p:"setRatio",s:0,c:1,f:2,pg:0,n:pe||le,pr:0,m:0}):(bt.s=parseFloat(Xt),ti||(bt.c=parseFloat(ce)-bt.s||0))),bt.c)return(bt._next=this._firstPT)&&(bt._next._prev=bt),this._firstPT=bt,bt},Pe=T._internals={isArray:w,isSelector:se,lazyTweens:we,blobDif:F},q=T._plugins={},he=Pe.tweenLookup={},Te=0,ze=Pe.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Xe={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},et=De._rootFramesTimeline=new te,nt=De._rootTimeline=new te,Lt=30,Mt=Pe.lazyRender=function(){var X=we.length,le;for(Ve={};--X>-1;)le=we[X],le&&le._lazy!==!1&&(le.render(le._lazy[0],le._lazy[1],!0),le._lazy=!1);we.length=0};nt._startTime=G.time,et._startTime=G.frame,nt._active=et._active=!0,setTimeout(Mt,1),De._updateRoot=T.render=function(){var X,le,V;if(we.length&&Mt(),nt.render((G.time-nt._startTime)*nt._timeScale,!1,!1),et.render((G.frame-et._startTime)*et._timeScale,!1,!1),we.length&&Mt(),G.frame>=Lt){Lt=G.frame+(parseInt(T.autoSleep,10)||120);for(V in he){for(le=he[V].tweens,X=le.length;--X>-1;)le[X]._gc&&le.splice(X,1);le.length===0&&delete he[V]}if(V=nt._first,(!V||V._paused)&&T.autoSleep&&!et._first&&G._listeners.tick.length===1){for(;V&&V._paused;)V=V._next;V||G.sleep()}}},G.addEventListener("tick",De._updateRoot);var Ft=function(X,le,V){var ce=X._gsTweenID,pe,He;if(he[ce||(X._gsTweenID=ce="t"+Te++)]||(he[ce]={target:X,tweens:[]}),le&&(pe=he[ce].tweens,pe[He=pe.length]=le,V))for(;--He>-1;)pe[He]===le&&pe.splice(He,1);return he[ce].tweens},_t=function(X,le,V,ce){var pe=X.vars.onOverwrite,He,at;return pe&&(He=pe(X,le,V,ce)),pe=T.onOverwrite,pe&&(at=pe(X,le,V,ce)),He!==!1&&at!==!1},Pt=function(X,le,V,ce,pe){var He,at,Qe,mt;if(ce===1||ce>=4){for(mt=pe.length,He=0;He<mt;He++)if((Qe=pe[He])!==le)Qe._gc||Qe._kill(null,X,le)&&(at=!0);else if(ce===5)break;return at}var Ot=le._startTime+p,ut=[],Xt=0,ti=le._duration===0,bt;for(He=pe.length;--He>-1;)(Qe=pe[He])===le||Qe._gc||Qe._paused||(Qe._timeline!==le._timeline?(bt=bt||Et(le,0,ti),Et(Qe,bt,ti)===0&&(ut[Xt++]=Qe)):Qe._startTime<=Ot&&Qe._startTime+Qe.totalDuration()/Qe._timeScale>Ot&&((ti||!Qe._initted)&&Ot-Qe._startTime<=2e-10||(ut[Xt++]=Qe)));for(He=Xt;--He>-1;)if(Qe=ut[He],ce===2&&Qe._kill(V,X,le)&&(at=!0),ce!==2||!Qe._firstPT&&Qe._initted){if(ce!==2&&!_t(Qe,le))continue;Qe._enabled(!1,!1)&&(at=!0)}return at},Et=function(X,le,V){for(var ce=X._timeline,pe=ce._timeScale,He=X._startTime;ce._timeline;){if(He+=ce._startTime,pe*=ce._timeScale,ce._paused)return-100;ce=ce._timeline}return He/=pe,He>le?He-le:V&&He===le||!X._initted&&He-le<2*p?p:(He+=X.totalDuration()/X._timeScale/pe)>le+p?0:He-le-p};M._init=function(){var X=this.vars,le=this._overwrittenProps,V=this._duration,ce=!!X.immediateRender,pe=X.ease,He,at,Qe,mt,Ot,ut;if(X.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),Ot={};for(mt in X.startAt)Ot[mt]=X.startAt[mt];if(Ot.data="isStart",Ot.overwrite=!1,Ot.immediateRender=!0,Ot.lazy=ce&&X.lazy!==!1,Ot.startAt=Ot.delay=null,Ot.onUpdate=X.onUpdate,Ot.onUpdateParams=X.onUpdateParams,Ot.onUpdateScope=X.onUpdateScope||X.callbackScope||this,this._startAt=T.to(this.target||{},0,Ot),ce){if(this._time>0)this._startAt=null;else if(V!==0)return}}else if(X.runBackwards&&V!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{this._time!==0&&(ce=!1),Qe={};for(mt in X)(!ze[mt]||mt==="autoCSS")&&(Qe[mt]=X[mt]);if(Qe.overwrite=0,Qe.data="isFromStart",Qe.lazy=ce&&X.lazy!==!1,Qe.immediateRender=ce,this._startAt=T.to(this.target,0,Qe),!ce)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(this._time===0)return}if(this._ease=pe=pe?pe instanceof W?pe:typeof pe=="function"?new W(pe,X.easeParams):B[pe]||T.defaultEase:T.defaultEase,X.easeParams instanceof Array&&pe.config&&(this._ease=pe.config.apply(pe,X.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(ut=this._targets.length,He=0;He<ut;He++)this._initProps(this._targets[He],this._propLookup[He]={},this._siblings[He],le?le[He]:null,He)&&(at=!0);else at=this._initProps(this.target,this._propLookup,this._siblings,le,0);if(at&&T._onPluginEvent("_onInitAllProps",this),le&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),X.runBackwards)for(Qe=this._firstPT;Qe;)Qe.s+=Qe.c,Qe.c=-Qe.c,Qe=Qe._next;this._onUpdate=X.onUpdate,this._initted=!0},M._initProps=function(X,le,V,ce,pe){var He,at,Qe,mt,Ot,ut;if(X==null)return!1;Ve[X._gsTweenID]&&Mt(),this.vars.css||X.style&&X!==n&&X.nodeType&&q.css&&this.vars.autoCSS!==!1&&ve(this.vars,X);for(He in this.vars)if(ut=this.vars[He],ze[He])ut&&(ut instanceof Array||ut.push&&w(ut))&&ut.join("").indexOf("{self}")!==-1&&(this.vars[He]=ut=this._swapSelfInParams(ut,this));else if(q[He]&&(mt=new q[He])._onInitTween(X,this.vars[He],this,pe)){for(this._firstPT=Ot={_next:this._firstPT,t:mt,p:"setRatio",s:0,c:1,f:1,n:He,pg:1,pr:mt._priority,m:0},at=mt._overwriteProps.length;--at>-1;)le[mt._overwriteProps[at]]=this._firstPT;(mt._priority||mt._onInitAllProps)&&(Qe=!0),(mt._onDisable||mt._onEnable)&&(this._notifyPluginsOfEnabled=!0),Ot._next&&(Ot._next._prev=Ot)}else le[He]=Ce.call(this,X,He,"get",ut,He,0,null,this.vars.stringFilter,pe);return ce&&this._kill(ce,X)?this._initProps(X,le,V,ce,pe):this._overwrite>1&&this._firstPT&&V.length>1&&Pt(X,this,le,this._overwrite,V)?(this._kill(le,X),this._initProps(X,le,V,ce,pe)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(Ve[X._gsTweenID]=!0),Qe)},M.render=function(X,le,V){var ce=this._time,pe=this._duration,He=this._rawPrevTime,at,Qe,mt,Ot;if(X>=pe-1e-7&&X>=0)this._totalTime=this._time=pe,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(at=!0,Qe="onComplete",V=V||this._timeline.autoRemoveChildren),pe===0&&(this._initted||!this.vars.lazy||V)&&(this._startTime===this._timeline._duration&&(X=0),(He<0||X<=0&&X>=-1e-7||He===p&&this.data!=="isPause")&&He!==X&&(V=!0,He>p&&(Qe="onReverseComplete")),this._rawPrevTime=Ot=!le||X||He===X?X:p);else if(X<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(ce!==0||pe===0&&He>0)&&(Qe="onReverseComplete",at=this._reversed),X<0&&(this._active=!1,pe===0&&(this._initted||!this.vars.lazy||V)&&(He>=0&&!(He===p&&this.data==="isPause")&&(V=!0),this._rawPrevTime=Ot=!le||X||He===X?X:p)),(!this._initted||this._startAt&&this._startAt.progress())&&(V=!0);else if(this._totalTime=this._time=X,this._easeType){var ut=X/pe,Xt=this._easeType,ti=this._easePower;(Xt===1||Xt===3&&ut>=.5)&&(ut=1-ut),Xt===3&&(ut*=2),ti===1?ut*=ut:ti===2?ut*=ut*ut:ti===3?ut*=ut*ut*ut:ti===4&&(ut*=ut*ut*ut*ut),Xt===1?this.ratio=1-ut:Xt===2?this.ratio=ut:X/pe<.5?this.ratio=ut/2:this.ratio=1-ut/2}else this.ratio=this._ease.getRatio(X/pe);if(!(this._time===ce&&!V)){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!V&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=ce,this._rawPrevTime=He,we.push(this),this._lazy=[X,le];return}this._time&&!at?this.ratio=this._ease.getRatio(this._time/pe):at&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==ce&&X>=0&&(this._active=!0),ce===0&&(this._startAt&&(X>=0?this._startAt.render(X,!0,V):Qe||(Qe="_dummyGS")),this.vars.onStart&&(this._time!==0||pe===0)&&(le||this._callback("onStart"))),mt=this._firstPT;mt;)mt.f?mt.t[mt.p](mt.c*this.ratio+mt.s):mt.t[mt.p]=mt.c*this.ratio+mt.s,mt=mt._next;this._onUpdate&&(X<0&&this._startAt&&X!==-1e-4&&this._startAt.render(X,!0,V),le||(this._time!==ce||at||V)&&this._callback("onUpdate")),Qe&&(!this._gc||V)&&(X<0&&this._startAt&&!this._onUpdate&&X!==-1e-4&&this._startAt.render(X,!0,V),at&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!le&&this.vars[Qe]&&this._callback(Qe),pe===0&&this._rawPrevTime===p&&Ot!==p&&(this._rawPrevTime=0))}},M._kill=function(X,le,V){if(X==="all"&&(X=null),X==null&&(le==null||le===this.target))return this._lazy=!1,this._enabled(!1,!1);le=typeof le!="string"?le||this._targets||this.target:T.selector(le)||le;var ce=V&&this._time&&V._startTime===this._startTime&&this._timeline===V._timeline,pe,He,at,Qe,mt,Ot,ut,Xt,ti;if((w(le)||se(le))&&typeof le[0]!="number")for(pe=le.length;--pe>-1;)this._kill(X,le[pe],V)&&(Ot=!0);else{if(this._targets){for(pe=this._targets.length;--pe>-1;)if(le===this._targets[pe]){mt=this._propLookup[pe]||{},this._overwrittenProps=this._overwrittenProps||[],He=this._overwrittenProps[pe]=X?this._overwrittenProps[pe]||{}:"all";break}}else{if(le!==this.target)return!1;mt=this._propLookup,He=this._overwrittenProps=X?this._overwrittenProps||{}:"all"}if(mt){if(ut=X||mt,Xt=X!==He&&He!=="all"&&X!==mt&&(typeof X!="object"||!X._tempKill),V&&(T.onOverwrite||this.vars.onOverwrite)){for(at in ut)mt[at]&&(ti||(ti=[]),ti.push(at));if((ti||!X)&&!_t(this,V,le,ti))return!1}for(at in ut)(Qe=mt[at])&&(ce&&(Qe.f?Qe.t[Qe.p](Qe.s):Qe.t[Qe.p]=Qe.s,Ot=!0),Qe.pg&&Qe.t._kill(ut)&&(Ot=!0),(!Qe.pg||Qe.t._overwriteProps.length===0)&&(Qe._prev?Qe._prev._next=Qe._next:Qe===this._firstPT&&(this._firstPT=Qe._next),Qe._next&&(Qe._next._prev=Qe._prev),Qe._next=Qe._prev=null),delete mt[at]),Xt&&(He[at]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return Ot},M.invalidate=function(){return this._notifyPluginsOfEnabled&&T._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],De.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},M._enabled=function(X,le){if(R||G.wake(),X&&this._gc){var V=this._targets,ce;if(V)for(ce=V.length;--ce>-1;)this._siblings[ce]=Ft(V[ce],this,!0);else this._siblings=Ft(this.target,this,!0)}return De.prototype._enabled.call(this,X,le),this._notifyPluginsOfEnabled&&this._firstPT?T._onPluginEvent(X?"_onEnable":"_onDisable",this):!1},T.to=function(X,le,V){return new T(X,le,V)},T.from=function(X,le,V){return V.runBackwards=!0,V.immediateRender=V.immediateRender!=!1,new T(X,le,V)},T.fromTo=function(X,le,V,ce){return ce.startAt=V,ce.immediateRender=ce.immediateRender!=!1&&V.immediateRender!=!1,new T(X,le,ce)},T.delayedCall=function(X,le,V,ce,pe){return new T(le,0,{delay:X,onComplete:le,onCompleteParams:V,callbackScope:ce,onReverseComplete:le,onReverseCompleteParams:V,immediateRender:!1,lazy:!1,useFrames:pe,overwrite:0})},T.set=function(X,le){return new T(X,0,le)},T.getTweensOf=function(X,le){if(X==null)return[];X=typeof X!="string"?X:T.selector(X)||X;var V,ce,pe,He;if((w(X)||se(X))&&typeof X[0]!="number"){for(V=X.length,ce=[];--V>-1;)ce=ce.concat(T.getTweensOf(X[V],le));for(V=ce.length;--V>-1;)for(He=ce[V],pe=V;--pe>-1;)He===ce[pe]&&ce.splice(V,1)}else if(X._gsTweenID)for(ce=Ft(X).concat(),V=ce.length;--V>-1;)(ce[V]._gc||le&&!ce[V].isActive())&&ce.splice(V,1);return ce||[]},T.killTweensOf=T.killDelayedCallsTo=function(X,le,V){typeof le=="object"&&(V=le,le=!1);for(var ce=T.getTweensOf(X,le),pe=ce.length;--pe>-1;)ce[pe]._kill(V,X)};var $t=E("plugins.TweenPlugin",function(X,le){this._overwriteProps=(X||"").split(","),this._propName=this._overwriteProps[0],this._priority=le||0,this._super=$t.prototype},!0);if(M=$t.prototype,$t.version="1.19.0",$t.API=2,M._firstPT=null,M._addTween=Ce,M.setRatio=K,M._kill=function(X){var le=this._overwriteProps,V=this._firstPT,ce;if(X[this._propName]!=null)this._overwriteProps=[];else for(ce=le.length;--ce>-1;)X[le[ce]]!=null&&le.splice(ce,1);for(;V;)X[V.n]!=null&&(V._next&&(V._next._prev=V._prev),V._prev?(V._prev._next=V._next,V._prev=null):this._firstPT===V&&(this._firstPT=V._next)),V=V._next;return!1},M._mod=M._roundProps=function(X){for(var le=this._firstPT,V;le;)V=X[this._propName]||le.n!=null&&X[le.n.split(this._propName+"_").join("")],V&&typeof V=="function"&&(le.f===2?le.t._applyPT.m=V:le.m=V),le=le._next},T._onPluginEvent=function(X,le){var V=le._firstPT,ce,pe,He,at,Qe;if(X==="_onInitAllProps"){for(;V;){for(Qe=V._next,pe=He;pe&&pe.pr>V.pr;)pe=pe._next;(V._prev=pe?pe._prev:at)?V._prev._next=V:He=V,(V._next=pe)?pe._prev=V:at=V,V=Qe}V=le._firstPT=He}for(;V;)V.pg&&typeof V.t[X]=="function"&&V.t[X]()&&(ce=!0),V=V._next;return ce},$t.activate=function(X){for(var le=X.length;--le>-1;)X[le].API===$t.API&&(q[new X[le]()._propName]=X[le]);return!0},P.plugin=function(X){if(!X||!X.propName||!X.init||!X.API)throw"illegal plugin definition.";var le=X.propName,V=X.priority||0,ce=X.overwriteProps,pe={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},He=E("plugins."+le.charAt(0).toUpperCase()+le.substr(1)+"Plugin",function(){$t.call(this,le,V),this._overwriteProps=ce||[]},X.global===!0),at=He.prototype=new $t(le),Qe;at.constructor=He,He.API=X.API;for(Qe in pe)typeof X[Qe]=="function"&&(at[pe[Qe]]=X[Qe]);return He.version=X.version,$t.activate([He]),He},C=n._gsQueue,C){for(k=0;k<C.length;k++)C[k]();for(M in Z)Z[M].func||n.console.log("GSAP encountered missing dependency: "+M)}return R=!1,T}(jr),Wp=jr.com.greensock;Wp.core.SimpleTimeline;Wp.core.Animation;const{Ease:as,Linear:CA,Power0:EA,Power1:SA,Power2:TA,Power3:AA,Power4:LA,TweenPlugin:DA}=jr;Wp.events.EventDispatcher;/*!
 * VERSION: 1.16.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/jr._gsDefine("easing.Back",["easing.Ease"],function(){var n=jr.GreenSockGlobals||jr,e=n.com.greensock,r=Math.PI*2,s=Math.PI/2,c=e._class,l=function(P,E){var D=c("easing."+P,function(){},!0),W=D.prototype=new as;return W.constructor=D,W.getRatio=E,D},p=as.register||function(){},g=function(P,E,D,W,B){var H=c("easing."+P,{easeOut:new E,easeIn:new D,easeInOut:new W},!0);return p(H,P),H},b=function(P,E,D){this.t=P,this.v=E,D&&(this.next=D,D.prev=this,this.c=D.v-E,this.gap=D.t-P)},w=function(P,E){var D=c("easing."+P,function(B){this._p1=B||B===0?B:1.70158,this._p2=this._p1*1.525},!0),W=D.prototype=new as;return W.constructor=D,W.getRatio=E,W.config=function(B){return new D(B)},D},C=g("Back",w("BackOut",function(P){return(P=P-1)*P*((this._p1+1)*P+this._p1)+1}),w("BackIn",function(P){return P*P*((this._p1+1)*P-this._p1)}),w("BackInOut",function(P){return(P*=2)<1?.5*P*P*((this._p2+1)*P-this._p2):.5*((P-=2)*P*((this._p2+1)*P+this._p2)+2)})),k=c("easing.SlowMo",function(P,E,D){E=E||E===0?E:.7,P==null?P=.7:P>1&&(P=1),this._p=P!==1?E:0,this._p1=(1-P)/2,this._p2=P,this._p3=this._p1+this._p2,this._calcEnd=D===!0},!0),M=k.prototype=new as,G,R,Z,U;return M.constructor=k,M.getRatio=function(P){var E=P+(.5-P)*this._p;return P<this._p1?this._calcEnd?1-(P=1-P/this._p1)*P:E-(P=1-P/this._p1)*P*P*P*E:P>this._p3?this._calcEnd?P===1?0:1-(P=(P-this._p3)/this._p1)*P:E+(P-E)*(P=(P-this._p3)/this._p1)*P*P*P:this._calcEnd?1:E},k.ease=new k(.7,.7),M.config=k.config=function(P,E,D){return new k(P,E,D)},G=c("easing.SteppedEase",function(P,E){P=P||1,this._p1=1/P,this._p2=P+(E?0:1),this._p3=E?1:0},!0),M=G.prototype=new as,M.constructor=G,M.getRatio=function(P){return P<0?P=0:P>=1&&(P=.999999999),((this._p2*P|0)+this._p3)*this._p1},M.config=G.config=function(P,E){return new G(P,E)},R=c("easing.ExpoScaleEase",function(P,E,D){this._p1=Math.log(E/P),this._p2=E-P,this._p3=P,this._ease=D},!0),M=R.prototype=new as,M.constructor=R,M.getRatio=function(P){return this._ease&&(P=this._ease.getRatio(P)),(this._p3*Math.exp(this._p1*P)-this._p3)/this._p2},M.config=R.config=function(P,E,D){return new R(P,E,D)},Z=c("easing.RoughEase",function(P){P=P||{};for(var E=P.taper||"none",D=[],W=0,B=(P.points||20)|0,H=B,j=P.randomize!==!1,ee=P.clamp===!0,fe=P.template instanceof as?P.template:null,me=typeof P.strength=="number"?P.strength*.4:.4,ue,De,be,te,T,se;--H>-1;)ue=j?Math.random():1/B*H,De=fe?fe.getRatio(ue):ue,E==="none"?be=me:E==="out"?(te=1-ue,be=te*te*me):E==="in"?be=ue*ue*me:ue<.5?(te=ue*2,be=te*te*.5*me):(te=(1-ue)*2,be=te*te*.5*me),j?De+=Math.random()*be-be*.5:H%2?De+=be*.5:De-=be*.5,ee&&(De>1?De=1:De<0&&(De=0)),D[W++]={x:ue,y:De};for(D.sort(function(ve,we){return ve.x-we.x}),se=new b(1,1,null),H=B;--H>-1;)T=D[H],se=new b(T.x,T.y,se);this._prev=new b(0,0,se.t!==0?se:se.next)},!0),M=Z.prototype=new as,M.constructor=Z,M.getRatio=function(P){var E=this._prev;if(P>E.t){for(;E.next&&P>=E.t;)E=E.next;E=E.prev}else for(;E.prev&&P<=E.t;)E=E.prev;return this._prev=E,E.v+(P-E.t)/E.gap*E.c},M.config=function(P){return new Z(P)},Z.ease=new Z,g("Bounce",l("BounceOut",function(P){return P<1/2.75?7.5625*P*P:P<2/2.75?7.5625*(P-=1.5/2.75)*P+.75:P<2.5/2.75?7.5625*(P-=2.25/2.75)*P+.9375:7.5625*(P-=2.625/2.75)*P+.984375}),l("BounceIn",function(P){return(P=1-P)<1/2.75?1-7.5625*P*P:P<2/2.75?1-(7.5625*(P-=1.5/2.75)*P+.75):P<2.5/2.75?1-(7.5625*(P-=2.25/2.75)*P+.9375):1-(7.5625*(P-=2.625/2.75)*P+.984375)}),l("BounceInOut",function(P){var E=P<.5;return E?P=1-P*2:P=P*2-1,P<1/2.75?P=7.5625*P*P:P<2/2.75?P=7.5625*(P-=1.5/2.75)*P+.75:P<2.5/2.75?P=7.5625*(P-=2.25/2.75)*P+.9375:P=7.5625*(P-=2.625/2.75)*P+.984375,E?(1-P)*.5:P*.5+.5})),g("Circ",l("CircOut",function(P){return Math.sqrt(1-(P=P-1)*P)}),l("CircIn",function(P){return-(Math.sqrt(1-P*P)-1)}),l("CircInOut",function(P){return(P*=2)<1?-.5*(Math.sqrt(1-P*P)-1):.5*(Math.sqrt(1-(P-=2)*P)+1)})),U=function(P,E,D){var W=c("easing."+P,function(H,j){this._p1=H>=1?H:1,this._p2=(j||D)/(H<1?H:1),this._p3=this._p2/r*(Math.asin(1/this._p1)||0),this._p2=r/this._p2},!0),B=W.prototype=new as;return B.constructor=W,B.getRatio=E,B.config=function(H,j){return new W(H,j)},W},g("Elastic",U("ElasticOut",function(P){return this._p1*Math.pow(2,-10*P)*Math.sin((P-this._p3)*this._p2)+1},.3),U("ElasticIn",function(P){return-(this._p1*Math.pow(2,10*(P-=1))*Math.sin((P-this._p3)*this._p2))},.3),U("ElasticInOut",function(P){return(P*=2)<1?-.5*(this._p1*Math.pow(2,10*(P-=1))*Math.sin((P-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(P-=1))*Math.sin((P-this._p3)*this._p2)*.5+1},.45)),g("Expo",l("ExpoOut",function(P){return 1-Math.pow(2,-10*P)}),l("ExpoIn",function(P){return Math.pow(2,10*(P-1))-.001}),l("ExpoInOut",function(P){return(P*=2)<1?.5*Math.pow(2,10*(P-1)):.5*(2-Math.pow(2,-10*(P-1)))})),g("Sine",l("SineOut",function(P){return Math.sin(P*s)}),l("SineIn",function(P){return-Math.cos(P*s)+1}),l("SineInOut",function(P){return-.5*(Math.cos(Math.PI*P)-1)})),c("easing.EaseLookup",{find:function(P){return as.map[P]}},!0),p(n.SlowMo,"SlowMo","ease,"),p(Z,"RoughEase","ease,"),p(G,"SteppedEase","ease,"),C},!0);jr.Back;jr.Elastic;jr.Bounce;jr.RoughEase;jr.SlowMo;jr.SteppedEase;jr.Circ;const Yh=jr.Expo;jr.Sine;jr.ExpoScaleEase;var Yd={exports:{}},g0;function Gx(){return g0||(g0=1,function(n){var e=function(){function Z(U,P){for(var E=0;E<P.length;E++){var D=P[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(U,D.key,D)}}return function(U,P,E){return P&&Z(U.prototype,P),E&&Z(U,E),U}}();function r(Z,U){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:Z}function s(Z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);Z.prototype=Object.create(U&&U.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,U):Z.__proto__=U)}function c(Z,U){if(!(Z instanceof U))throw new TypeError("Cannot call a class as a function")}var l=function(){function Z(){c(this,Z)}return e(Z,[{key:"on",value:function(P,E){return this._callbacks=this._callbacks||{},this._callbacks[P]||(this._callbacks[P]=[]),this._callbacks[P].push(E),this}},{key:"emit",value:function(P){this._callbacks=this._callbacks||{};var E=this._callbacks[P];if(E){for(var D=arguments.length,W=Array(D>1?D-1:0),B=1;B<D;B++)W[B-1]=arguments[B];for(var ee=E,H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){var fe;if(H){if(j>=ee.length)break;fe=ee[j++]}else{if(j=ee.next(),j.done)break;fe=j.value}var me=fe;me.apply(this,W)}}return this}},{key:"off",value:function(P,E){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var D=this._callbacks[P];if(!D)return this;if(arguments.length===1)return delete this._callbacks[P],this;for(var W=0;W<D.length;W++){var B=D[W];if(B===E){D.splice(W,1);break}}return this}}]),Z}(),p=function(Z){s(U,Z),e(U,null,[{key:"initClass",value:function(){this.prototype.Emitter=l,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(D,W,B){if(B)return{dzuuid:B.file.upload.uuid,dzchunkindex:B.index,dztotalfilesize:B.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:B.file.upload.totalChunkCount,dzchunkbyteoffset:B.index*this.options.chunkSize}},accept:function(D,W){return W()},chunksUploaded:function(D,W){W()},fallback:function(){var D=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var H=this.element.getElementsByTagName("div"),W=!0,B=0,H=W?H:H[Symbol.iterator]();;){var j;if(W){if(B>=H.length)break;j=H[B++]}else{if(B=H.next(),B.done)break;j=B.value}var ee=j;if(/(^| )dz-message($| )/.test(ee.className)){D=ee,ee.className="dz-message";break}}D||(D=U.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(D));var fe=D.getElementsByTagName("span")[0];return fe&&(fe.textContent!=null?fe.textContent=this.options.dictFallbackMessage:fe.innerText!=null&&(fe.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(D,W,B,H){var j={srcX:0,srcY:0,srcWidth:D.width,srcHeight:D.height},ee=D.width/D.height;W==null&&B==null?(W=j.srcWidth,B=j.srcHeight):W==null?W=B*ee:B==null&&(B=W/ee),W=Math.min(W,j.srcWidth),B=Math.min(B,j.srcHeight);var fe=W/B;if(j.srcWidth>W||j.srcHeight>B)if(H==="crop")ee>fe?(j.srcHeight=D.height,j.srcWidth=j.srcHeight*fe):(j.srcWidth=D.width,j.srcHeight=j.srcWidth/fe);else if(H==="contain")ee>fe?B=W/ee:W=B*ee;else throw new Error("Unknown resizeMethod '"+H+"'");return j.srcX=(D.width-j.srcWidth)/2,j.srcY=(D.height-j.srcHeight)/2,j.trgWidth=W,j.trgHeight=B,j},transformFile:function(D,W){return(this.options.resizeWidth||this.options.resizeHeight)&&D.type.match(/image.*/)?this.resizeImage(D,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,W):W(D)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(D){return this.element.classList.remove("dz-drag-hover")},dragstart:function(D){},dragend:function(D){return this.element.classList.remove("dz-drag-hover")},dragenter:function(D){return this.element.classList.add("dz-drag-hover")},dragover:function(D){return this.element.classList.add("dz-drag-hover")},dragleave:function(D){return this.element.classList.remove("dz-drag-hover")},paste:function(D){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(D){var W=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){D.previewElement=U.createElement(this.options.previewTemplate.trim()),D.previewTemplate=D.previewElement,this.previewsContainer.appendChild(D.previewElement);for(var j=D.previewElement.querySelectorAll("[data-dz-name]"),B=!0,H=0,j=B?j:j[Symbol.iterator]();;){var ee;if(B){if(H>=j.length)break;ee=j[H++]}else{if(H=j.next(),H.done)break;ee=H.value}var fe=ee;fe.textContent=D.name}for(var De=D.previewElement.querySelectorAll("[data-dz-size]"),me=!0,ue=0,De=me?De:De[Symbol.iterator]();;){if(me){if(ue>=De.length)break;fe=De[ue++]}else{if(ue=De.next(),ue.done)break;fe=ue.value}fe.innerHTML=this.filesize(D.size)}this.options.addRemoveLinks&&(D._removeLink=U.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),D.previewElement.appendChild(D._removeLink));for(var be=function(We){return We.preventDefault(),We.stopPropagation(),D.status===U.UPLOADING?U.confirm(W.options.dictCancelUploadConfirmation,function(){return W.removeFile(D)}):W.options.dictRemoveFileConfirmation?U.confirm(W.options.dictRemoveFileConfirmation,function(){return W.removeFile(D)}):W.removeFile(D)},se=D.previewElement.querySelectorAll("[data-dz-remove]"),te=!0,T=0,se=te?se:se[Symbol.iterator]();;){var ve;if(te){if(T>=se.length)break;ve=se[T++]}else{if(T=se.next(),T.done)break;ve=T.value}var we=ve;we.addEventListener("click",be)}}},removedfile:function(D){return D.previewElement!=null&&D.previewElement.parentNode!=null&&D.previewElement.parentNode.removeChild(D.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(D,W){if(D.previewElement){D.previewElement.classList.remove("dz-file-preview");for(var j=D.previewElement.querySelectorAll("[data-dz-thumbnail]"),B=!0,H=0,j=B?j:j[Symbol.iterator]();;){var ee;if(B){if(H>=j.length)break;ee=j[H++]}else{if(H=j.next(),H.done)break;ee=H.value}var fe=ee;fe.alt=D.name,fe.src=W}return setTimeout(function(){return D.previewElement.classList.add("dz-image-preview")},1)}},error:function(D,W){if(D.previewElement){D.previewElement.classList.add("dz-error"),typeof W!="String"&&W.error&&(W=W.error);for(var j=D.previewElement.querySelectorAll("[data-dz-errormessage]"),B=!0,H=0,j=B?j:j[Symbol.iterator]();;){var ee;if(B){if(H>=j.length)break;ee=j[H++]}else{if(H=j.next(),H.done)break;ee=H.value}var fe=ee;fe.textContent=W}}},errormultiple:function(){},processing:function(D){if(D.previewElement&&(D.previewElement.classList.add("dz-processing"),D._removeLink))return D._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(D,W,B){if(D.previewElement)for(var ee=D.previewElement.querySelectorAll("[data-dz-uploadprogress]"),H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){var fe;if(H){if(j>=ee.length)break;fe=ee[j++]}else{if(j=ee.next(),j.done)break;fe=j.value}var me=fe;me.nodeName==="PROGRESS"?me.value=W:me.style.width=W+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(D){if(D.previewElement)return D.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(D){return this.emit("error",D,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(D){if(D._removeLink&&(D._removeLink.innerHTML=this.options.dictRemoveFile),D.previewElement)return D.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(E){for(var D=arguments.length,W=Array(D>1?D-1:0),B=1;B<D;B++)W[B-1]=arguments[B];for(var ee=W,H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){var fe;if(H){if(j>=ee.length)break;fe=ee[j++]}else{if(j=ee.next(),j.done)break;fe=j.value}var me=fe;for(var ue in me){var De=me[ue];E[ue]=De}}return E}}]);function U(P,E){c(this,U);var D=r(this,(U.__proto__||Object.getPrototypeOf(U)).call(this)),W=void 0,B=void 0;if(D.element=P,D.version=U.version,D.defaultOptions.previewTemplate=D.defaultOptions.previewTemplate.replace(/\n*/g,""),D.clickableElements=[],D.listeners=[],D.files=[],typeof D.element=="string"&&(D.element=document.querySelector(D.element)),!D.element||D.element.nodeType==null)throw new Error("Invalid dropzone element.");if(D.element.dropzone)throw new Error("Dropzone already attached.");U.instances.push(D),D.element.dropzone=D;var H=(B=U.optionsForElement(D.element))!=null?B:{};if(D.options=U.extend({},D.defaultOptions,H,E??{}),D.options.forceFallback||!U.isBrowserSupported()){var j;return j=D.options.fallback.call(D),r(D,j)}if(D.options.url==null&&(D.options.url=D.element.getAttribute("action")),!D.options.url)throw new Error("No URL provided.");if(D.options.acceptedFiles&&D.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(D.options.uploadMultiple&&D.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return D.options.acceptedMimeTypes&&(D.options.acceptedFiles=D.options.acceptedMimeTypes,delete D.options.acceptedMimeTypes),D.options.renameFilename!=null&&(D.options.renameFile=function(ee){return D.options.renameFilename.call(D,ee.name,ee)}),D.options.method=D.options.method.toUpperCase(),(W=D.getExistingFallback())&&W.parentNode&&W.parentNode.removeChild(W),D.options.previewsContainer!==!1&&(D.options.previewsContainer?D.previewsContainer=U.getElement(D.options.previewsContainer,"previewsContainer"):D.previewsContainer=D.element),D.options.clickable&&(D.options.clickable===!0?D.clickableElements=[D.element]:D.clickableElements=U.getElements(D.options.clickable,"clickable")),D.init(),D}return e(U,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(E){return E.accepted}).map(function(E){return E})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(E){return!E.accepted}).map(function(E){return E})}},{key:"getFilesWithStatus",value:function(E){return this.files.filter(function(D){return D.status===E}).map(function(D){return D})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(U.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(U.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(U.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(E){return E.status===U.UPLOADING||E.status===U.QUEUED}).map(function(E){return E})}},{key:"init",value:function(){var E=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(U.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var D=function me(){return E.hiddenFileInput&&E.hiddenFileInput.parentNode.removeChild(E.hiddenFileInput),E.hiddenFileInput=document.createElement("input"),E.hiddenFileInput.setAttribute("type","file"),(E.options.maxFiles===null||E.options.maxFiles>1)&&E.hiddenFileInput.setAttribute("multiple","multiple"),E.hiddenFileInput.className="dz-hidden-input",E.options.acceptedFiles!==null&&E.hiddenFileInput.setAttribute("accept",E.options.acceptedFiles),E.options.capture!==null&&E.hiddenFileInput.setAttribute("capture",E.options.capture),E.hiddenFileInput.style.visibility="hidden",E.hiddenFileInput.style.position="absolute",E.hiddenFileInput.style.top="0",E.hiddenFileInput.style.left="0",E.hiddenFileInput.style.height="0",E.hiddenFileInput.style.width="0",U.getElement(E.options.hiddenInputContainer,"hiddenInputContainer").appendChild(E.hiddenFileInput),E.hiddenFileInput.addEventListener("change",function(){var ue=E.hiddenFileInput.files;if(ue.length)for(var te=ue,De=!0,be=0,te=De?te:te[Symbol.iterator]();;){var T;if(De){if(be>=te.length)break;T=te[be++]}else{if(be=te.next(),be.done)break;T=be.value}var se=T;E.addFile(se)}return E.emit("addedfiles",ue),me()})};D()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var H=this.events,W=!0,B=0,H=W?H:H[Symbol.iterator]();;){var j;if(W){if(B>=H.length)break;j=H[B++]}else{if(B=H.next(),B.done)break;j=B.value}var ee=j;this.on(ee,this.options[ee])}this.on("uploadprogress",function(){return E.updateTotalUploadProgress()}),this.on("removedfile",function(){return E.updateTotalUploadProgress()}),this.on("canceled",function(me){return E.emit("complete",me)}),this.on("complete",function(me){if(E.getAddedFiles().length===0&&E.getUploadingFiles().length===0&&E.getQueuedFiles().length===0)return setTimeout(function(){return E.emit("queuecomplete")},0)});var fe=function(ue){return ue.stopPropagation(),ue.preventDefault?ue.preventDefault():ue.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(ue){return E.emit("dragstart",ue)},dragenter:function(ue){return fe(ue),E.emit("dragenter",ue)},dragover:function(ue){var De=void 0;try{De=ue.dataTransfer.effectAllowed}catch{}return ue.dataTransfer.dropEffect=De==="move"||De==="linkMove"?"move":"copy",fe(ue),E.emit("dragover",ue)},dragleave:function(ue){return E.emit("dragleave",ue)},drop:function(ue){return fe(ue),E.drop(ue)},dragend:function(ue){return E.emit("dragend",ue)}}}],this.clickableElements.forEach(function(me){return E.listeners.push({element:me,events:{click:function(De){return(me!==E.element||De.target===E.element||U.elementInside(De.target,E.element.querySelector(".dz-message")))&&E.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,U.instances.splice(U.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var E=void 0,D=0,W=0,B=this.getActiveFiles();if(B.length){for(var ee=this.getActiveFiles(),H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){var fe;if(H){if(j>=ee.length)break;fe=ee[j++]}else{if(j=ee.next(),j.done)break;fe=j.value}var me=fe;D+=me.upload.bytesSent,W+=me.upload.total}E=100*D/W}else E=100;return this.emit("totaluploadprogress",E,W,D)}},{key:"_getParamName",value:function(E){return typeof this.options.paramName=="function"?this.options.paramName(E):""+this.options.paramName+(this.options.uploadMultiple?"["+E+"]":"")}},{key:"_renameFile",value:function(E){return typeof this.options.renameFile!="function"?E.name:this.options.renameFile(E)}},{key:"getFallbackForm",value:function(){var E=void 0,D=void 0;if(E=this.getExistingFallback())return E;var W='<div class="dz-fallback">';this.options.dictFallbackText&&(W+="<p>"+this.options.dictFallbackText+"</p>"),W+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var B=U.createElement(W);return this.element.tagName!=="FORM"?(D=U.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),D.appendChild(B)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),D??B}},{key:"getExistingFallback",value:function(){for(var E=function(ee){for(var ue=ee,fe=!0,me=0,ue=fe?ue:ue[Symbol.iterator]();;){var De;if(fe){if(me>=ue.length)break;De=ue[me++]}else{if(me=ue.next(),me.done)break;De=me.value}var be=De;if(/(^| )fallback($| )/.test(be.className))return be}},D=["div","form"],W=0;W<D.length;W++){var B=D[W],H;if(H=E(this.element.getElementsByTagName(B)))return H}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(E){return function(){var D=[];for(var W in E.events){var B=E.events[W];D.push(E.element.addEventListener(W,B,!1))}return D}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(E){return function(){var D=[];for(var W in E.events){var B=E.events[W];D.push(E.element.removeEventListener(W,B,!1))}return D}()})}},{key:"disable",value:function(){var E=this;return this.clickableElements.forEach(function(D){return D.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(D){return E.cancelUpload(D)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(E){return E.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(E){var D=0,W="b";if(E>0){for(var B=["tb","gb","mb","kb","b"],H=0;H<B.length;H++){var j=B[H],ee=Math.pow(this.options.filesizeBase,4-H)/10;if(E>=ee){D=E/Math.pow(this.options.filesizeBase,4-H),W=j;break}}D=Math.round(10*D)/10}return"<strong>"+D+"</strong> "+this.options.dictFileSizeUnits[W]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(E){if(E.dataTransfer){this.emit("drop",E);for(var D=[],W=0;W<E.dataTransfer.files.length;W++)D[W]=E.dataTransfer.files[W];if(this.emit("addedfiles",D),D.length){var B=E.dataTransfer.items;B&&B.length&&B[0].webkitGetAsEntry!=null?this._addFilesFromItems(B):this.handleFiles(D)}}}},{key:"paste",value:function(E){if(G(E!=null?E.clipboardData:void 0,function(W){return W.items})!=null){this.emit("paste",E);var D=E.clipboardData.items;if(D.length)return this._addFilesFromItems(D)}}},{key:"handleFiles",value:function(E){for(var B=E,D=!0,W=0,B=D?B:B[Symbol.iterator]();;){var H;if(D){if(W>=B.length)break;H=B[W++]}else{if(W=B.next(),W.done)break;H=W.value}var j=H;this.addFile(j)}}},{key:"_addFilesFromItems",value:function(E){var D=this;return function(){for(var W=[],j=E,B=!0,H=0,j=B?j:j[Symbol.iterator]();;){var ee;if(B){if(H>=j.length)break;ee=j[H++]}else{if(H=j.next(),H.done)break;ee=H.value}var fe=ee,me;fe.webkitGetAsEntry!=null&&(me=fe.webkitGetAsEntry())?me.isFile?W.push(D.addFile(fe.getAsFile())):me.isDirectory?W.push(D._addFilesFromDirectory(me,me.name)):W.push(void 0):fe.getAsFile!=null&&(fe.kind==null||fe.kind==="file")?W.push(D.addFile(fe.getAsFile())):W.push(void 0)}return W}()}},{key:"_addFilesFromDirectory",value:function(E,D){var W=this,B=E.createReader(),H=function(fe){return R(console,"log",function(me){return me.log(fe)})},j=function ee(){return B.readEntries(function(fe){if(fe.length>0){for(var De=fe,me=!0,ue=0,De=me?De:De[Symbol.iterator]();;){var be;if(me){if(ue>=De.length)break;be=De[ue++]}else{if(ue=De.next(),ue.done)break;be=ue.value}var te=be;te.isFile?te.file(function(T){if(!(W.options.ignoreHiddenFiles&&T.name.substring(0,1)==="."))return T.fullPath=D+"/"+T.name,W.addFile(T)}):te.isDirectory&&W._addFilesFromDirectory(te,D+"/"+te.name)}ee()}return null},H)};return j()}},{key:"accept",value:function(E,D){return this.options.maxFilesize&&E.size>this.options.maxFilesize*1024*1024?D(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(E.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):U.isValidFile(E,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(D(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",E)):this.options.accept.call(this,E,D):D(this.options.dictInvalidFileType)}},{key:"addFile",value:function(E){var D=this;return E.upload={uuid:U.uuidv4(),progress:0,total:E.size,bytesSent:0,filename:this._renameFile(E),chunked:this.options.chunking&&(this.options.forceChunking||E.size>this.options.chunkSize),totalChunkCount:Math.ceil(E.size/this.options.chunkSize)},this.files.push(E),E.status=U.ADDED,this.emit("addedfile",E),this._enqueueThumbnail(E),this.accept(E,function(W){return W?(E.accepted=!1,D._errorProcessing([E],W)):(E.accepted=!0,D.options.autoQueue&&D.enqueueFile(E)),D._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(E){for(var B=E,D=!0,W=0,B=D?B:B[Symbol.iterator]();;){var H;if(D){if(W>=B.length)break;H=B[W++]}else{if(W=B.next(),W.done)break;H=W.value}var j=H;this.enqueueFile(j)}return null}},{key:"enqueueFile",value:function(E){var D=this;if(E.status===U.ADDED&&E.accepted===!0){if(E.status=U.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return D.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(E){var D=this;if(this.options.createImageThumbnails&&E.type.match(/image.*/)&&E.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(E),setTimeout(function(){return D._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var E=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var D=this._thumbnailQueue.shift();return this.createThumbnail(D,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(W){return E.emit("thumbnail",D,W),E._processingThumbnail=!1,E._processThumbnailQueue()})}}},{key:"removeFile",value:function(E){if(E.status===U.UPLOADING&&this.cancelUpload(E),this.files=g(this.files,E),this.emit("removedfile",E),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(E){E==null&&(E=!1);for(var B=this.files.slice(),D=!0,W=0,B=D?B:B[Symbol.iterator]();;){var H;if(D){if(W>=B.length)break;H=B[W++]}else{if(W=B.next(),W.done)break;H=W.value}var j=H;(j.status!==U.UPLOADING||E)&&this.removeFile(j)}return null}},{key:"resizeImage",value:function(E,D,W,B,H){var j=this;return this.createThumbnail(E,D,W,B,!0,function(ee,fe){if(fe==null)return H(E);var me=j.options.resizeMimeType;me==null&&(me=E.type);var ue=fe.toDataURL(me,j.options.resizeQuality);return(me==="image/jpeg"||me==="image/jpg")&&(ue=k.restore(E.dataURL,ue)),H(U.dataURItoBlob(ue))})}},{key:"createThumbnail",value:function(E,D,W,B,H,j){var ee=this,fe=new FileReader;return fe.onload=function(){if(E.dataURL=fe.result,E.type==="image/svg+xml"){j!=null&&j(fe.result);return}return ee.createThumbnailFromUrl(E,D,W,B,H,j)},fe.readAsDataURL(E)}},{key:"createThumbnailFromUrl",value:function(E,D,W,B,H,j,ee){var fe=this,me=document.createElement("img");return ee&&(me.crossOrigin=ee),me.onload=function(){var ue=function(be){return be(1)};return typeof EXIF<"u"&&EXIF!==null&&H&&(ue=function(be){return EXIF.getData(me,function(){return be(EXIF.getTag(this,"Orientation"))})}),ue(function(De){E.width=me.width,E.height=me.height;var be=fe.options.resize.call(fe,E,D,W,B),te=document.createElement("canvas"),T=te.getContext("2d");switch(te.width=be.trgWidth,te.height=be.trgHeight,De>4&&(te.width=be.trgHeight,te.height=be.trgWidth),De){case 2:T.translate(te.width,0),T.scale(-1,1);break;case 3:T.translate(te.width,te.height),T.rotate(Math.PI);break;case 4:T.translate(0,te.height),T.scale(1,-1);break;case 5:T.rotate(.5*Math.PI),T.scale(1,-1);break;case 6:T.rotate(.5*Math.PI),T.translate(0,-te.width);break;case 7:T.rotate(.5*Math.PI),T.translate(te.height,-te.width),T.scale(-1,1);break;case 8:T.rotate(-.5*Math.PI),T.translate(-te.height,0);break}C(T,me,be.srcX!=null?be.srcX:0,be.srcY!=null?be.srcY:0,be.srcWidth,be.srcHeight,be.trgX!=null?be.trgX:0,be.trgY!=null?be.trgY:0,be.trgWidth,be.trgHeight);var se=te.toDataURL("image/png");if(j!=null)return j(se,te)})},j!=null&&(me.onerror=j),me.src=E.dataURL}},{key:"processQueue",value:function(){var E=this.options.parallelUploads,D=this.getUploadingFiles().length,W=D;if(!(D>=E)){var B=this.getQueuedFiles();if(B.length>0){if(this.options.uploadMultiple)return this.processFiles(B.slice(0,E-D));for(;W<E;){if(!B.length)return;this.processFile(B.shift()),W++}}}}},{key:"processFile",value:function(E){return this.processFiles([E])}},{key:"processFiles",value:function(E){for(var B=E,D=!0,W=0,B=D?B:B[Symbol.iterator]();;){var H;if(D){if(W>=B.length)break;H=B[W++]}else{if(W=B.next(),W.done)break;H=W.value}var j=H;j.processing=!0,j.status=U.UPLOADING,this.emit("processing",j)}return this.options.uploadMultiple&&this.emit("processingmultiple",E),this.uploadFiles(E)}},{key:"_getFilesWithXhr",value:function(E){return this.files.filter(function(D){return D.xhr===E}).map(function(D){return D})}},{key:"cancelUpload",value:function(E){if(E.status===U.UPLOADING){for(var D=this._getFilesWithXhr(E.xhr),H=D,W=!0,B=0,H=W?H:H[Symbol.iterator]();;){var j;if(W){if(B>=H.length)break;j=H[B++]}else{if(B=H.next(),B.done)break;j=B.value}var ee=j;ee.status=U.CANCELED}typeof E.xhr<"u"&&E.xhr.abort();for(var ue=D,fe=!0,me=0,ue=fe?ue:ue[Symbol.iterator]();;){var De;if(fe){if(me>=ue.length)break;De=ue[me++]}else{if(me=ue.next(),me.done)break;De=me.value}var be=De;this.emit("canceled",be)}this.options.uploadMultiple&&this.emit("canceledmultiple",D)}else(E.status===U.ADDED||E.status===U.QUEUED)&&(E.status=U.CANCELED,this.emit("canceled",E),this.options.uploadMultiple&&this.emit("canceledmultiple",[E]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(E){if(typeof E=="function"){for(var D=arguments.length,W=Array(D>1?D-1:0),B=1;B<D;B++)W[B-1]=arguments[B];return E.apply(this,W)}return E}},{key:"uploadFile",value:function(E){return this.uploadFiles([E])}},{key:"uploadFiles",value:function(E){var D=this;this._transformFiles(E,function(W){if(E[0].upload.chunked){var B=E[0],H=W[0];B.upload.chunks=[];var j=function(){for(var De=0;B.upload.chunks[De]!==void 0;)De++;if(!(De>=B.upload.totalChunkCount)){var be=De*D.options.chunkSize,te=Math.min(be+D.options.chunkSize,B.size),T={name:D._getParamName(0),data:H.webkitSlice?H.webkitSlice(be,te):H.slice(be,te),filename:B.upload.filename,chunkIndex:De};B.upload.chunks[De]={file:B,index:De,dataBlock:T,status:U.UPLOADING,progress:0,retries:0},D._uploadData(E,[T])}};if(B.upload.finishedChunkUpload=function(ue){var De=!0;ue.status=U.SUCCESS,ue.dataBlock=null,ue.xhr=null;for(var be=0;be<B.upload.totalChunkCount;be++){if(B.upload.chunks[be]===void 0)return j();B.upload.chunks[be].status!==U.SUCCESS&&(De=!1)}De&&D.options.chunksUploaded(B,function(){D._finished(E,"",null)})},D.options.parallelChunkUploads)for(var ee=0;ee<B.upload.totalChunkCount;ee++)j();else j()}else{for(var fe=[],me=0;me<E.length;me++)fe[me]={name:D._getParamName(me),data:W[me],filename:E[me].upload.filename};D._uploadData(E,fe)}})}},{key:"_getChunk",value:function(E,D){for(var W=0;W<E.upload.totalChunkCount;W++)if(E.upload.chunks[W]!==void 0&&E.upload.chunks[W].xhr===D)return E.upload.chunks[W]}},{key:"_uploadData",value:function(E,D){for(var W=this,B=new XMLHttpRequest,ee=E,H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){var fe;if(H){if(j>=ee.length)break;fe=ee[j++]}else{if(j=ee.next(),j.done)break;fe=j.value}var me=fe;me.xhr=B}E[0].upload.chunked&&(E[0].upload.chunks[D[0].chunkIndex].xhr=B);var ue=this.resolveOption(this.options.method,E),De=this.resolveOption(this.options.url,E);B.open(ue,De,!0),B.timeout=this.resolveOption(this.options.timeout,E),B.withCredentials=!!this.options.withCredentials,B.onload=function(Te){W._finishedUploading(E,B,Te)},B.onerror=function(){W._handleUploadError(E,B)};var be=B.upload!=null?B.upload:B;be.onprogress=function(Te){return W._updateFilesUploadProgress(E,B,Te)};var te={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&U.extend(te,this.options.headers);for(var T in te){var se=te[T];se&&B.setRequestHeader(T,se)}var ve=new FormData;if(this.options.params){var we=this.options.params;typeof we=="function"&&(we=we.call(this,E,B,E[0].upload.chunked?this._getChunk(E[0],B):null));for(var Ve in we){var We=we[Ve];ve.append(Ve,We)}}for(var F=E,ke=!0,K=0,F=ke?F:F[Symbol.iterator]();;){var Ce;if(ke){if(K>=F.length)break;Ce=F[K++]}else{if(K=F.next(),K.done)break;Ce=K.value}var Pe=Ce;this.emit("sending",Pe,B,ve)}this.options.uploadMultiple&&this.emit("sendingmultiple",E,B,ve),this._addFormElementData(ve);for(var q=0;q<D.length;q++){var he=D[q];ve.append(he.name,he.data,he.filename)}this.submitRequest(B,ve,E)}},{key:"_transformFiles",value:function(E,D){for(var W=this,B=[],H=0,j=function(me){W.options.transformFile.call(W,E[me],function(ue){B[me]=ue,++H===E.length&&D(B)})},ee=0;ee<E.length;ee++)j(ee)}},{key:"_addFormElementData",value:function(E){if(this.element.tagName==="FORM")for(var B=this.element.querySelectorAll("input, textarea, select, button"),D=!0,W=0,B=D?B:B[Symbol.iterator]();;){var H;if(D){if(W>=B.length)break;H=B[W++]}else{if(W=B.next(),W.done)break;H=W.value}var j=H,ee=j.getAttribute("name"),fe=j.getAttribute("type");if(fe&&(fe=fe.toLowerCase()),!(typeof ee>"u"||ee===null))if(j.tagName==="SELECT"&&j.hasAttribute("multiple"))for(var De=j.options,me=!0,ue=0,De=me?De:De[Symbol.iterator]();;){var be;if(me){if(ue>=De.length)break;be=De[ue++]}else{if(ue=De.next(),ue.done)break;be=ue.value}var te=be;te.selected&&E.append(ee,te.value)}else(!fe||fe!=="checkbox"&&fe!=="radio"||j.checked)&&E.append(ee,j.value)}}},{key:"_updateFilesUploadProgress",value:function(E,D,W){var B=void 0;if(typeof W<"u"){if(B=100*W.loaded/W.total,E[0].upload.chunked){var H=E[0],j=this._getChunk(H,D);j.progress=B,j.total=W.total,j.bytesSent=W.loaded,H.upload.progress=0,H.upload.total=0,H.upload.bytesSent=0;for(var ee=0;ee<H.upload.totalChunkCount;ee++)H.upload.chunks[ee]!==void 0&&H.upload.chunks[ee].progress!==void 0&&(H.upload.progress+=H.upload.chunks[ee].progress,H.upload.total+=H.upload.chunks[ee].total,H.upload.bytesSent+=H.upload.chunks[ee].bytesSent);H.upload.progress=H.upload.progress/H.upload.totalChunkCount}else for(var ue=E,fe=!0,me=0,ue=fe?ue:ue[Symbol.iterator]();;){var De;if(fe){if(me>=ue.length)break;De=ue[me++]}else{if(me=ue.next(),me.done)break;De=me.value}var be=De;be.upload.progress=B,be.upload.total=W.total,be.upload.bytesSent=W.loaded}for(var se=E,te=!0,T=0,se=te?se:se[Symbol.iterator]();;){var ve;if(te){if(T>=se.length)break;ve=se[T++]}else{if(T=se.next(),T.done)break;ve=T.value}var we=ve;this.emit("uploadprogress",we,we.upload.progress,we.upload.bytesSent)}}else{var Ve=!0;B=100;for(var K=E,We=!0,ke=0,K=We?K:K[Symbol.iterator]();;){var F;if(We){if(ke>=K.length)break;F=K[ke++]}else{if(ke=K.next(),ke.done)break;F=ke.value}var Ce=F;(Ce.upload.progress!==100||Ce.upload.bytesSent!==Ce.upload.total)&&(Ve=!1),Ce.upload.progress=B,Ce.upload.bytesSent=Ce.upload.total}if(Ve)return;for(var he=E,Pe=!0,q=0,he=Pe?he:he[Symbol.iterator]();;){var Te;if(Pe){if(q>=he.length)break;Te=he[q++]}else{if(q=he.next(),q.done)break;Te=q.value}var ze=Te;this.emit("uploadprogress",ze,B,ze.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(E,D,W){var B=void 0;if(E[0].status!==U.CANCELED&&D.readyState===4){if(D.responseType!=="arraybuffer"&&D.responseType!=="blob"&&(B=D.responseText,D.getResponseHeader("content-type")&&~D.getResponseHeader("content-type").indexOf("application/json")))try{B=JSON.parse(B)}catch(H){W=H,B="Invalid JSON response from server."}this._updateFilesUploadProgress(E),200<=D.status&&D.status<300?E[0].upload.chunked?E[0].upload.finishedChunkUpload(this._getChunk(E[0],D)):this._finished(E,B,W):this._handleUploadError(E,D,B)}}},{key:"_handleUploadError",value:function(E,D,W){if(E[0].status!==U.CANCELED){if(E[0].upload.chunked&&this.options.retryChunks){var B=this._getChunk(E[0],D);if(B.retries++<this.options.retryChunksLimit){this._uploadData(E,[B.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var ee=E,H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){if(H){if(j>=ee.length)break;ee[j++]}else{if(j=ee.next(),j.done)break;j.value}this._errorProcessing(E,W||this.options.dictResponseError.replace("{{statusCode}}",D.status),D)}}}},{key:"submitRequest",value:function(E,D,W){E.send(D)}},{key:"_finished",value:function(E,D,W){for(var j=E,B=!0,H=0,j=B?j:j[Symbol.iterator]();;){var ee;if(B){if(H>=j.length)break;ee=j[H++]}else{if(H=j.next(),H.done)break;ee=H.value}var fe=ee;fe.status=U.SUCCESS,this.emit("success",fe,D,W),this.emit("complete",fe)}if(this.options.uploadMultiple&&(this.emit("successmultiple",E,D,W),this.emit("completemultiple",E)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(E,D,W){for(var j=E,B=!0,H=0,j=B?j:j[Symbol.iterator]();;){var ee;if(B){if(H>=j.length)break;ee=j[H++]}else{if(H=j.next(),H.done)break;ee=H.value}var fe=ee;fe.status=U.ERROR,this.emit("error",fe,D,W),this.emit("complete",fe)}if(this.options.uploadMultiple&&(this.emit("errormultiple",E,D,W),this.emit("completemultiple",E)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(E){var D=Math.random()*16|0,W=E==="x"?D:D&3|8;return W.toString(16)})}}]),U}(l);p.initClass(),p.version="5.5.1",p.options={},p.optionsForElement=function(Z){if(Z.getAttribute("id"))return p.options[b(Z.getAttribute("id"))]},p.instances=[],p.forElement=function(Z){if(typeof Z=="string"&&(Z=document.querySelector(Z)),(Z!=null?Z.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return Z.dropzone},p.autoDiscover=!0,p.discover=function(){var Z=void 0;if(document.querySelectorAll)Z=document.querySelectorAll(".dropzone");else{Z=[];var U=function(E){return function(){for(var D=[],H=E,W=!0,B=0,H=W?H:H[Symbol.iterator]();;){var j;if(W){if(B>=H.length)break;j=H[B++]}else{if(B=H.next(),B.done)break;j=B.value}var ee=j;/(^| )dropzone($| )/.test(ee.className)?D.push(Z.push(ee)):D.push(void 0)}return D}()};U(document.getElementsByTagName("div")),U(document.getElementsByTagName("form"))}return function(){for(var P=[],W=Z,E=!0,D=0,W=E?W:W[Symbol.iterator]();;){var B;if(E){if(D>=W.length)break;B=W[D++]}else{if(D=W.next(),D.done)break;B=D.value}var H=B;p.optionsForElement(H)!==!1?P.push(new p(H)):P.push(void 0)}return P}()},p.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],p.isBrowserSupported=function(){var Z=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))Z=!1;else for(var E=p.blacklistedBrowsers,U=!0,P=0,E=U?E:E[Symbol.iterator]();;){var D;if(U){if(P>=E.length)break;D=E[P++]}else{if(P=E.next(),P.done)break;D=P.value}var W=D;if(W.test(navigator.userAgent)){Z=!1;continue}}else Z=!1;return Z},p.dataURItoBlob=function(Z){for(var U=atob(Z.split(",")[1]),P=Z.split(",")[0].split(":")[1].split(";")[0],E=new ArrayBuffer(U.length),D=new Uint8Array(E),W=0,B=U.length,H=0<=B;H?W<=B:W>=B;H?W++:W--)D[W]=U.charCodeAt(W);return new Blob([E],{type:P})};var g=function(U,P){return U.filter(function(E){return E!==P}).map(function(E){return E})},b=function(U){return U.replace(/[\-_](\w)/g,function(P){return P.charAt(1).toUpperCase()})};p.createElement=function(Z){var U=document.createElement("div");return U.innerHTML=Z,U.childNodes[0]},p.elementInside=function(Z,U){if(Z===U)return!0;for(;Z=Z.parentNode;)if(Z===U)return!0;return!1},p.getElement=function(Z,U){var P=void 0;if(typeof Z=="string"?P=document.querySelector(Z):Z.nodeType!=null&&(P=Z),P==null)throw new Error("Invalid `"+U+"` option provided. Please provide a CSS selector or a plain HTML element.");return P},p.getElements=function(Z,U){var P=void 0,E=void 0;if(Z instanceof Array){E=[];try{for(var B=Z,D=!0,W=0,B=D?B:B[Symbol.iterator]();;){if(D){if(W>=B.length)break;P=B[W++]}else{if(W=B.next(),W.done)break;P=W.value}E.push(this.getElement(P,U))}}catch{E=null}}else if(typeof Z=="string"){E=[];for(var ee=document.querySelectorAll(Z),H=!0,j=0,ee=H?ee:ee[Symbol.iterator]();;){if(H){if(j>=ee.length)break;P=ee[j++]}else{if(j=ee.next(),j.done)break;P=j.value}E.push(P)}}else Z.nodeType!=null&&(E=[Z]);if(E==null||!E.length)throw new Error("Invalid `"+U+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return E},p.confirm=function(Z,U,P){if(window.confirm(Z))return U();if(P!=null)return P()},p.isValidFile=function(Z,U){if(!U)return!0;U=U.split(",");for(var P=Z.type,E=P.replace(/\/.*$/,""),B=U,D=!0,W=0,B=D?B:B[Symbol.iterator]();;){var H;if(D){if(W>=B.length)break;H=B[W++]}else{if(W=B.next(),W.done)break;H=W.value}var j=H;if(j=j.trim(),j.charAt(0)==="."){if(Z.name.toLowerCase().indexOf(j.toLowerCase(),Z.name.length-j.length)!==-1)return!0}else if(/\/\*$/.test(j)){if(E===j.replace(/\/.*$/,""))return!0}else if(P===j)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(Z){return this.each(function(){return new p(this,Z)})}),n!==null?n.exports=p:window.Dropzone=p,p.ADDED="added",p.QUEUED="queued",p.ACCEPTED=p.QUEUED,p.UPLOADING="uploading",p.PROCESSING=p.UPLOADING,p.CANCELED="canceled",p.ERROR="error",p.SUCCESS="success";var w=function(U){U.naturalWidth;var P=U.naturalHeight,E=document.createElement("canvas");E.width=1,E.height=P;var D=E.getContext("2d");D.drawImage(U,0,0);for(var W=D.getImageData(1,0,1,P),B=W.data,H=0,j=P,ee=P;ee>H;){var fe=B[(ee-1)*4+3];fe===0?j=ee:H=ee,ee=j+H>>1}var me=ee/P;return me===0?1:me},C=function(U,P,E,D,W,B,H,j,ee,fe){var me=w(P);return U.drawImage(P,E,D,W,B,H,j,ee,fe/me)},k=function(){function Z(){c(this,Z)}return e(Z,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(P){for(var E="",D=void 0,W=void 0,B="",H=void 0,j=void 0,ee=void 0,fe="",me=0;D=P[me++],W=P[me++],B=P[me++],H=D>>2,j=(D&3)<<4|W>>4,ee=(W&15)<<2|B>>6,fe=B&63,isNaN(W)?ee=fe=64:isNaN(B)&&(fe=64),E=E+this.KEY_STR.charAt(H)+this.KEY_STR.charAt(j)+this.KEY_STR.charAt(ee)+this.KEY_STR.charAt(fe),D=W=B="",H=j=ee=fe="",me<P.length;);return E}},{key:"restore",value:function(P,E){if(!P.match("data:image/jpeg;base64,"))return E;var D=this.decode64(P.replace("data:image/jpeg;base64,","")),W=this.slice2Segments(D),B=this.exifManipulation(E,W);return"data:image/jpeg;base64,"+this.encode64(B)}},{key:"exifManipulation",value:function(P,E){var D=this.getExifArray(E),W=this.insertExif(P,D),B=new Uint8Array(W);return B}},{key:"getExifArray",value:function(P){for(var E=void 0,D=0;D<P.length;){if(E=P[D],E[0]===255&E[1]===225)return E;D++}return[]}},{key:"insertExif",value:function(P,E){var D=P.replace("data:image/jpeg;base64,",""),W=this.decode64(D),B=W.indexOf(255,3),H=W.slice(0,B),j=W.slice(B),ee=H;return ee=ee.concat(E),ee=ee.concat(j),ee}},{key:"slice2Segments",value:function(P){for(var E=0,D=[];;){var W;if(P[E]===255&P[E+1]===218)break;if(P[E]===255&P[E+1]===216)E+=2;else{W=P[E+2]*256+P[E+3];var B=E+W+2,H=P.slice(E,B);D.push(H),E=B}if(E>P.length)break}return D}},{key:"decode64",value:function(P){var E=void 0,D=void 0,W="",B=void 0,H=void 0,j=void 0,ee="",fe=0,me=[],ue=/[^A-Za-z0-9\+\/\=]/g;for(ue.exec(P)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),P=P.replace(/[^A-Za-z0-9\+\/\=]/g,"");B=this.KEY_STR.indexOf(P.charAt(fe++)),H=this.KEY_STR.indexOf(P.charAt(fe++)),j=this.KEY_STR.indexOf(P.charAt(fe++)),ee=this.KEY_STR.indexOf(P.charAt(fe++)),E=B<<2|H>>4,D=(H&15)<<4|j>>2,W=(j&3)<<6|ee,me.push(E),j!==64&&me.push(D),ee!==64&&me.push(W),E=D=W="",B=H=j=ee="",fe<P.length;);return me}}]),Z}();k.initClass();var M=function(U,P){var E=!1,D=!0,W=U.document,B=W.documentElement,H=W.addEventListener?"addEventListener":"attachEvent",j=W.addEventListener?"removeEventListener":"detachEvent",ee=W.addEventListener?"":"on",fe=function ue(De){if(!(De.type==="readystatechange"&&W.readyState!=="complete")&&((De.type==="load"?U:W)[j](ee+De.type,ue,!1),!E&&(E=!0)))return P.call(U,De.type||De)},me=function ue(){try{B.doScroll("left")}catch{setTimeout(ue,50);return}return fe("poll")};if(W.readyState!=="complete"){if(W.createEventObject&&B.doScroll){try{D=!U.frameElement}catch{}D&&me()}return W[H](ee+"DOMContentLoaded",fe,!1),W[H](ee+"readystatechange",fe,!1),U[H](ee+"load",fe,!1)}};p._autoDiscoverFunction=function(){if(p.autoDiscover)return p.discover()},M(window,p._autoDiscoverFunction);function G(Z,U){return typeof Z<"u"&&Z!==null?U(Z):void 0}function R(Z,U,P){if(typeof Z<"u"&&Z!==null&&typeof Z[U]=="function")return P(Z,U)}}(Yd)),Yd.exports}var Xx=Gx();const yh=vf(Xx);async function cc(n){return new Promise(e=>setTimeout(e,n))}async function ul(n,e=400){return new Promise(r=>{n.style.opacity=0,n.style.display="block",n.style.transition=`opacity ${e}ms ease-in`,n.offsetWidth,requestAnimationFrame(async()=>{n.style.opacity=1,await cc(e),r()})})}async function Lu(n,e=600){return new Promise(r=>{n.style.opacity=1,n.style.transition=`opacity ${e}ms ease-out`,n.offsetWidth,requestAnimationFrame(async()=>{n.style.opacity=0,await cc(e),n.style.display="none",r()})})}class Yx{constructor(e){this.attached=!1,this.options={onSuccess:s=>{},onError:s=>{},onAdded:s=>{},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},typeof e<"u"&&Object.assign(this.options,e),document.querySelector(this.options.selector)&&!this.attached&&this.init()}init(){const e=this;let s=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");s&&s>0&&(this.options.headers.folderId=parseInt(s),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(s)),yh.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(c,l){e.options.onAdded(c)}),this.on("success",async function(c,l){if(c.previewElement){let p=c.previewElement;await cc(3e3),await Lu(p,500),p.remove()}e.options.onSuccess(l),await window.Rozier.getMessages()}),this.on("canceled",function(c,l){e.options.onError(JSON.parse(l)),window.Rozier.getMessages()}),this.on("error",function(c,l,p){console.error(l)}),this.on("sending",function(c,l,p){l.ontimeout=()=>{e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},yh.autoDiscover=this.options.autoDiscover;try{new yh(this.options.selector,yh.options.uploadDropzoneDocument);let c=document.querySelector(this.options.selector);c.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`),c.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
            <div class="circles-icons">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
                <div class="circle circle-4"></div>
                <div class="circle circle-5"></div>
                <i class="uk-icon-rz-file"></i>
            </div>`),this.attached=!0}catch(c){console.error(c)}}unbind(){}}class Vx{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,s){if(e.target instanceof HTMLInputElement)return;let c=$(s),l=parseInt(c.data("id")),p=c.prev(),g=null,b=null;p.length===0?(p=c.next(),g=parseInt(p.data("id"))):b=parseInt(p.data("id"));const w=window.RozierConfig.routes.attributeValueAjaxEdit;if(!(!w||!l))try{const C=await fetch(w.replace("%attributeValueId%",l),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:l,beforeAttributeValueId:g,afterAttributeValueId:b})});if(!C.ok)throw C;const k=await C.json();window.UIkit.notify({message:k.responseText,status:k.status,timeout:3e3,pos:"top-center"})}catch(C){const k=await C.json();window.UIkit.notify({message:k.title||"",status:"danger",timeout:3e3,pos:"top-center"})}}}class Kx{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,s){let c=$(s),l=parseInt(c.data("field-id")),p=c.prev(),g=null,b=null;p.length===0?(p=c.next(),b=parseInt(p.data("field-id"))):g=parseInt(p.data("field-id"));const w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:l,beforeFieldId:b,afterFieldId:g},C=await fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",l),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(w)});if(C.ok){const k=await C.json();window.UIkit.notify({message:k.responseText,status:k.status,timeout:3e3,pos:"top-center"})}else{const k=await C.json();window.UIkit.notify({message:k.title,status:"danger",timeout:3e3,pos:"top-center"})}}}class sd{constructor(){this.onClick=this.onClick.bind(this),this.moveNodeToPosition=this.moveNodeToPosition.bind(this),document.querySelectorAll(".tree-contextualmenu").forEach(e=>{const r=e.querySelectorAll(".node-actions a"),s=e.querySelector("a.move-node-first-position"),c=e.querySelector("a.move-node-last-position");this.bind(r,s,c)})}bind(e,r,s){e.forEach(c=>{c.removeEventListener("click",this.onClick),c.addEventListener("click",this.onClick)}),r&&(r.removeEventListener("click",c=>this.moveNodeToPosition("first",c)),r.addEventListener("click",c=>this.moveNodeToPosition("first",c))),s&&(s.removeEventListener("click",c=>this.moveNodeToPosition("last",c)),s.addEventListener("click",c=>this.moveNodeToPosition("last",c)))}unbind(){}async onClick(e){e.preventDefault();let r=e.currentTarget,s=r.closest(".nodetree-element"),c=parseInt(s.getAttribute("data-node-id")),l=r.getAttribute("data-status"),p=r.getAttribute("data-value"),g=r.getAttribute("data-action");typeof g<"u"&&(window.Rozier.lazyload.canvasLoader.show(),typeof l<"u"&&typeof p<"u"?await this.changeStatus(c,l,p):g==="duplicate"&&await this.duplicateNode(c))}async changeStatus(e,r,s){await this.postNodeUpdate(window.RozierConfig.routes.nodesStatusesAjax,{_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:e,statusName:r,statusValue:s}),window.Rozier.lazyload.canvasLoader.hide()}async duplicateNode(e){await this.postNodeUpdate(window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",e),{_token:window.RozierConfig.ajaxToken,_action:"duplicate",nodeId:e}),window.Rozier.lazyload.canvasLoader.hide()}async moveNodeToPosition(e,r){window.Rozier.lazyload.canvasLoader.show();let s=r.currentTarget.closest(".nodetree-element"),c=parseInt(s.getAttribute("data-node-id")),l=parseInt(s.closest("ul").getAttribute("data-parent-node-id")),p={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:c};typeof e<"u"&&e==="first"?p.firstPosition=!0:typeof e<"u"&&e==="last"&&(p.lastPosition=!0),isNaN(l)&&(l=null),p.newParent=l,await this.postNodeUpdate(window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",c),p),window.Rozier.lazyload.canvasLoader.hide()}async postNodeUpdate(e,r){return new Promise(async(s,c)=>{try{const l=await fetch(e,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(r)});if(l.ok){const p=await l.json();window.Rozier.refreshAllNodeTrees(),window.Rozier.getMessages(),s(p)}else{const p=await l.json();window.UIkit.notify({message:p.error_message,status:"danger",timeout:3e3,pos:"top-center"}),c(p)}}catch(l){c(l)}})}}const Fh=n=>({}).toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase();(function(){let n,e=()=>{},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=r.length,c=window.console=window.console||{};for(;s--;)n=r[s],c[n]||(c[n]=e)})();const xh=(n,e)=>{e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return n.replace(s,"").replace(r,(c,l)=>e.indexOf("<"+l.toLowerCase()+">")>-1?c:"")},Vh=(n,e)=>{n&&(n.classList?n.classList.add(e):n.className+=" "+e)},$x=(n,e)=>{if(n)if(n.classList)n.classList.remove(e);else{n.className=n.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi"),"");let r=n.className.length-1;n.className[r]===" "&&(n.className=n.className.substring(0,r))}};class Qx{constructor(){this.content=document.querySelector(".content-node-edit-source"),this.form=document.getElementById("edit-node-source-form"),this.formRow=null,this.dropdown=null,this.input=null,this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.inputFocus=this.inputFocus.bind(this),this.inputFocusOut=this.inputFocusOut.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.wrapInTabs=this.wrapInTabs.bind(this),this.content&&this.form&&(this.formRow=this.content.querySelectorAll(".uk-form-row"),window.requestAnimationFrame(this.wrapInTabs),this.init(),this.initEvents())}wrapInTabs(){let e={default:{name:"default",id:"default",fields:[]}},r=this.content.querySelectorAll(".uk-form-row[data-field-group-canonical]"),s=r.length,c=1;if(s>0){for(let l=0;l<s;l++){let p=r[l].getAttribute("data-field-group"),g=r[l].getAttribute("data-field-group-canonical");g?(typeof e[g]>"u"&&(e[g]={name:p,id:g,fields:[]},c++),e[g].fields.push(r[l])):e.default.fields.push(r[l])}if(c>1){this.form.insertAdjacentHTML("beforeend",`<div id="node-source-form-switcher-nav-cont"><ul id="node-source-form-switcher-nav" class="uk-subnav uk-subnav-pill" data-uk-switcher="{connect:'#node-source-form-switcher', swiping:false}"></ul></div><ul id="node-source-form-switcher" class="uk-switcher"></ul>`);const l=this.form.querySelector(".uk-switcher"),p=this.form.querySelector("#node-source-form-switcher-nav");for(let g in e){let b=e[g],C="group-"+b.id.replace(/[\s_]/g,"-").replace(/[^\w-]+/g,"");l.insertAdjacentHTML("beforeend",'<li class="field-group" id="'+C+'"></li>'),b.id==="default"?p.insertAdjacentHTML("beforeend",'<li class="switcher-nav-item"><a href="#"><i class="uk-icon-star"></i></a></li>'):p.insertAdjacentHTML("beforeend",'<li class="switcher-nav-item"><a href="#">'+b.name+"</a></li>");let k=l.querySelector("#"+C);for(let M=0;M<b.fields.length;M++)k.appendChild(b.fields[M])}}}this.content.classList.add("content-tabs-ready")}init(){this.input=this.content.querySelectorAll("input, select"),this.devNames=this.content.querySelectorAll("[data-dev-name]"),this.devNames.forEach(e=>{if(e.getAttribute("data-dev-name")!==""){const r=e.closest(".uk-form-row").querySelector("label"),s=e.querySelector(".uk-navbar-brand.label");r?r.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>"):s&&s.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>")}}),this.formRow.forEach((e,r)=>{e.className.indexOf("children-nodes-widget")>=0&&this.childrenNodeWidgetFlip(r)})}initEvents(){this.content&&(window.addEventListener("keydown",this.onInputKeyDown),window.addEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.addEventListener("focus",this.inputFocus),e.addEventListener("focusout",this.inputFocusOut)}),this.form.addEventListener("submit",this.onFormSubmit))}unbind(){this.content&&(window.removeEventListener("keydown",this.onInputKeyDown),window.removeEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.removeEventListener("focus",this.inputFocus),e.removeEventListener("focusout",this.inputFocusOut)}),this.form.removeEventListener("submit",this.onFormSubmit))}async onFormSubmit(e){e.preventDefault(),window.Rozier.lazyload.canvasLoader.show();const r=new CustomEvent("pagechange");window.dispatchEvent(r);try{const s=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(new FormData(this.form))});if(!s.ok)throw s;const c=await s.json();this.cleanErrors(),c.public_url&&document.querySelectorAll("a.public-url-link").forEach(p=>p.setAttribute("href",c.public_url)),c.preview_url&&document.querySelectorAll("a.preview-url-link").forEach(p=>p.setAttribute("href",c.preview_url))}catch(s){const c=await s.json();c.errors&&(this.displayErrors(c.errors),window.UIkit.notify({message:c.message,status:"danger",timeout:2e3,pos:"top-center"}))}return window.Rozier.lazyload.canvasLoader.hide(),await window.Rozier.getMessages(),window.Rozier.refreshAllNodeTrees(),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(r=>{r.classList.remove("form-errored"),r.querySelector(".error-message").remove()})}displayErrors(e,r=!1,s=""){(!r||r===!1)&&this.cleanErrors(),Object.keys(e).forEach(l=>{const p=e[l];if(Array.isArray(p)){p.forEach((b,w)=>{this.displayErrors(b,!0,s+l+"_"+w+"_")});return}if(Fh(p)==="string"){this.displaySingleError(s,l,e);return}if(Fh(p)!=="object")return;Object.keys(p).forEach(b=>{Fh(p[b])==="object"?this.displayErrors(p[b],!0,s+l+"_"+b+"_"):this.displaySingleError(s,b,p)})})}displaySingleError(e,r,s=[]){const c="source_"+(e+r);let l="";Array.isArray(s[r])?l=s[r][0]:l=s[r];const p=document.getElementById(c);if(p){const g=p.closest(".uk-form-row");g&&(g.classList.add("form-errored"),g.insertAdjacentHTML("beforeend",`<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> ${l}</p>`))}}onInputKeyDown(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}onInputKeyUp(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}childrenNodeWidgetFlip(e){e>=this.formRow.length-2&&(this.dropdown=this.formRow[e].querySelector(".uk-dropdown-small"),this.dropdown.classList.add("uk-dropdown-up"))}inputFocus(e){e.currentTarget.parentElement.classList.add("form-col-focus")}inputFocusOut(e){e.currentTarget.parentElement.classList.remove("form-col-focus")}resize(){}}class Jx{constructor(){this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}init(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.addEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.addEventListener("keyup",this.onMinKeyUp)})}unbind(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMinKeyUp)})}onMaxKeyUp(e){let r=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>s?r.classList.add("uk-form-danger"):r.classList.remove("uk-form-danger")}onMinKeyUp(e){let r=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=s?r.classList.add("uk-form-danger"):r.classList.remove("uk-form-danger")}}class ew{constructor(){this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation a"),this.cleanNodeTree()}unbind(){this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}cleanNodeTree(){document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(e=>{e.remove()}),this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick),e.addEventListener("click",this.onQuickAddClick)})}treeAvailable(){return!!(this.nodeTrees&&this.nodeTrees.length)}async quickAddNode(e,r,s){return new Promise(async(c,l)=>{const p=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:r,translationId:s})});p.ok?c(await p.json()):l(await p.json())})}async onQuickAddClick(e){e.preventDefault();let r=e.currentTarget,s=r.getAttribute("data-children-node-type"),c=parseInt(r.getAttribute("data-children-parent-node")),l=parseInt(r.getAttribute("data-translation-id"));if(s!==""&&c>0)try{await this.quickAddNode(s,c,l),window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();let p=r.closest(".children-nodes-widget").querySelector(".nodetree-widget");await this.refreshNodeTree(p)}catch(p){p=JSON.parse(p.responseText),window.UIkit.notify({message:p.error_message,status:"danger",timeout:3e3,pos:"top-center"})}}async fetchNodeTree(e,r,s=void 0){return new Promise(async(c,l)=>{const p=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:e,translationId:s||null});r.forEach((w,C)=>{p.append("linkedTypes["+C+"]",w)});const g=window.RozierConfig.routes.nodesTreeAjax+"?"+p.toString(),b=await fetch(g,{method:"GET",headers:{Accept:"application/json"}});b.ok?c(await b.json()):l(await b.json())})}async refreshNodeTree(e){if(!e){console.log("No node-tree available.");return}let r=[];const s=e.querySelector(".root-tree");if(!s)return;const c=parseInt(s.getAttribute("data-parent-node-id")),l=s.getAttribute("data-linked-types");let p=s.getAttribute("data-translation-id");l&&(r=JSON.parse(l)),window.Rozier.lazyload.canvasLoader.show();try{const g=await this.fetchNodeTree(c,r,p||null);if(e&&typeof g.nodeTree<"u"){await Lu(e);let b=e.closest(".children-nodes-widget");e.innerHTML=g.nodeTree,e=b.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await ul(e),this.cleanNodeTree(),window.Rozier.lazyload.canvasLoader.hide(),window.Rozier.lazyload.nodeTreeContextActions=new sd}}catch(g){g=JSON.parse(g.responseText),window.UIkit.notify({message:g.error_message,status:"danger",timeout:3e3,pos:"top-center"})}}}class tw{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation a"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(r=>{r.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,r,s=null){try{const c=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:r,translationId:this.getTranslationId(),tagId:s,pushTop:1})});if(!c.ok)throw await c.json();return await c.json()}catch(c){throw c}}async onQuickAddClick(e){e.preventDefault();const r=e.currentTarget,s=r.getAttribute("data-children-node-type"),c=parseInt(r.getAttribute("data-children-parent-node"));let l=null;if(!s||c<=0)return!1;r.hasAttribute("data-filter-tag")&&(l=parseInt(r.getAttribute("data-filter-tag")));try{await this.quickAddNode(s,c,l),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(c,l,1)]),await window.Rozier.getMessages()}catch(p){window.UIkit.notify({message:p.error_message,status:"danger",timeout:3e3,pos:"top-center"})}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,r=void 0,s=void 0){try{const c=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:r||this.getCurrentPage(),tagId:s,translationId:this.getTranslationId()}),l=`${window.RozierConfig.routes.nodesTreeAjax}?${c.toString()}`,p=await fetch(l,{method:"GET",headers:{Accept:"application/json"}});if(!p.ok)throw await p.json();return await p.json()}catch(c){throw c}}async refreshNodeTree(e,r,s){const c=this.page.querySelector(".nodetree-widget");if(!c)return;const l=c.querySelector(".root-tree");if(typeof e>"u"){const g=l.getAttribute("data-parent-node-id");e=g?parseInt(g):null}else e=parseInt(e);window.Rozier.lazyload.canvasLoader.show();const p=await this.fetchNodeTree(e,s?parseInt(s):void 0,r?parseInt(r):void 0);if(p.nodeTree){await Lu(c);const g=document.createElement("div");g.innerHTML=p.nodeTree;const b=g.querySelector(".nodetree-widget");c.replaceWith(b),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await ul(b),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const w=this.page.querySelector(".nodetree-langs");w&&w.remove(),window.Rozier.lazyload.canvasLoader.hide(),window.Rozier.lazyload.nodeTreeContextActions=new sd}}}class iw{constructor(){this.button=document.querySelector(".rz-action-save"),this.actionMenu=document.querySelector(".actions-menu"),this.formToSave=null,this.onClick=this.onClick.bind(this),this.bindKeyboard(),this.button&&this.actionMenu&&this.init()}init(){const e=this.button.getAttribute("data-action-save");this.formToSave=document.querySelector(e),this.formToSave&&(this.actionMenu.insertBefore(this.button,this.actionMenu.firstChild),this.button.addEventListener("click",this.onClick),window.Mousetrap.bind(["mod+s"],r=>(this.formToSave.requestSubmit(),!1)))}unbind(){this.formToSave&&this.formToSave&&this.button.removeEventListener("click",this.onClick)}onClick(){this.formToSave.requestSubmit()}bindKeyboard(){window.Mousetrap.stopCallback=(e,r)=>(" "+r.className+" ").indexOf(" mousetrap ")>-1?!1:r.tagName==="SELECT"}}class nw{constructor(){this.$input=$(".rz-tag-autocomplete").eq(0),this.initialUrl=this.$input.attr("data-get-url"),this.placeholder=this.$input.attr("placeholder"),this.initialTags=[],this.init()}init(){typeof this.initialUrl<"u"&&this.initialUrl!==""?$.getJSON(this.initialUrl,{_action:"getNodeTags",_token:window.RozierConfig.ajaxToken},e=>{this.initialTags=e,this.initAutocomplete()}):this.initAutocomplete()}unbind(){}split(e){return e.split(/,\s*/)}extractLast(e){return this.split(e).pop()}initAutocomplete(){this.$input.tagEditor({autocomplete:{delay:.3,position:{collision:"flip"},source:(e,r)=>{$.getJSON(window.RozierConfig.routes.tagAjaxSearch,{_action:"tagAutocomplete",_token:window.RozierConfig.ajaxToken,search:this.extractLast(e.term)},r)}},placeholder:this.placeholder,initialTags:this.initialTags,animateDelete:0})}}class rw{constructor(){qm(this,"handleOutsideClick",e=>{e.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});const e=this,r=document.querySelector(".rz-folder-autocomplete");r&&(r.addEventListener("keydown",function(s){s.keyCode===9&&r.dataset.menuActive==="true"&&s.preventDefault()}),r.addEventListener("input",async function(){const s=e.extractLast(this.value);if(s.length<2){e.removeAutocompleteMenu();return}const c={_action:"folderAutocomplete",_token:window.RozierConfig.ajaxToken,search:e.extractLast(s)},l=window.RozierConfig.routes.foldersAjaxSearch+"?"+new URLSearchParams(c),g=await(await fetch(l)).json();e.showAutocompleteMenu(this,g)}))}showAutocompleteMenu(e,r){this.removeAutocompleteMenu();const s=document.createElement("ul");s.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",s.style.position="absolute",s.style.zIndex="1000",r.forEach(c=>{const l=document.createElement("li");l.className="ui-menu-item",l.textContent=c,l.addEventListener("mousedown",p=>{p.preventDefault();let g=this.split(e.value);g.pop(),g.push(c),g.push(""),e.value=g.join(", "),this.removeAutocompleteMenu()}),s.appendChild(l)}),e.parentNode.appendChild(s),e.dataset.menuActive="true",e.getBoundingClientRect(),s.style.left=`${e.offsetLeft}px`,s.style.top=`${e.offsetTop+e.offsetHeight}px`,document.addEventListener("click",this.handleOutsideClick)}removeAutocompleteMenu(){const e=document.querySelector(".ui-autocomplete");e&&(e.remove(),document.removeEventListener("click",this.handleOutsideClick));const r=document.querySelector(".rz-folder-autocomplete");r&&(r.dataset.menuActive="false")}unbind(){}split(e){return e.split(/,\s*/)}extractLast(e){return this.split(e).pop()}}class ow{constructor(){this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){e.preventDefault();let r=e.currentTarget.parentElement.parentElement.querySelector(".uk-form");if(r.querySelectorAll("input[type=file]").length)return r.requestSubmit(),!1;r.classList.contains("uk-has-errors")&&(r.querySelector(".uk-alert").remove(),r.classList.remove("uk-has-errors")),window.Rozier.lazyload.canvasLoader.show();const s=new window.FormData(r),c=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:s});if(!c.ok){const l=await c.json();if(l.errors&&l.errors.value)for(let p in l.errors.value)r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+l.errors.value[p]+"</span>");else if(l.errors)for(let p in l.errors){r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+l.errors[p]+"</span>");break}}return await window.Rozier.getMessages(),window.Rozier.lazyload.canvasLoader.hide(),!1}resize(){}}class aw{constructor(){this.content=document.querySelector(".content-node-tree"),this.$dropdown=null,this.content&&(this.$dropdown=this.content.querySelectorAll(".uk-dropdown-small"),this.init())}init(){this.contentHeight=this.content.offsetHeight,this.contentHeight>=window.Rozier.windowHeight-400&&this.dropdownFlip()}unbind(){}dropdownFlip(){for(let e=this.$dropdown.length-1;e>=this.$dropdown.length-3;e--)Vh(this.$dropdown[e],"uk-dropdown-up")}}class sw{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(r=>{const s=r.querySelectorAll(".node-statuses-item"),c=r.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(r,s,c)})}init(e,r,s){r.forEach(c=>{c.removeEventListener("click",this.itemClick),c.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),s.forEach(c=>{c.removeEventListener("change",this.onChange),c.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(c=>{c.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const r=e.currentTarget,s=r.querySelector("ul, nav"),c=r.offsetHeight,l=s?s.offsetHeight:0,p=r.getBoundingClientRect().top+window.scrollY,g=window.innerHeight,b=p+l+c;g<b&&r.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const r=e.currentTarget.querySelector('input[type="radio"]');r&&(r.checked=!0,r.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const r=e.currentTarget;if(!r)return!1;const s=r.getAttribute("name");let c=null;r instanceof HTMLInputElement&&r.type==="checkbox"?c=Number(r.checked):r instanceof HTMLInputElement&&r.type==="radio"&&(this.icon&&(this.icon.className=r.parentElement.querySelector("i").className),c=r.value);const l=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(r.getAttribute("data-node-id")),statusName:s,statusValue:c})});if(l.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();else{const p=await l.json();window.UIkit.notify({message:p.error_message,status:"danger",timeout:3e3,pos:"top-center"})}this.locked=!1}}class uw{constructor(e,r){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s=[];for(let l=1;l<19;l++)s.push({column:this.tabSize*l,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let c={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:s,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(c.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,c),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}const v0={};function lw(n){let e=v0[n];if(e)return e;e=v0[n]=[];for(let r=0;r<128;r++){const s=String.fromCharCode(r);e.push(s)}for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}function ac(n,e){typeof e!="string"&&(e=ac.defaultChars);const r=lw(e);return n.replace(/(%[a-f0-9]{2})+/gi,function(s){let c="";for(let l=0,p=s.length;l<p;l+=3){const g=parseInt(s.slice(l+1,l+3),16);if(g<128){c+=r[g];continue}if((g&224)===192&&l+3<p){const b=parseInt(s.slice(l+4,l+6),16);if((b&192)===128){const w=g<<6&1984|b&63;w<128?c+="��":c+=String.fromCharCode(w),l+=3;continue}}if((g&240)===224&&l+6<p){const b=parseInt(s.slice(l+4,l+6),16),w=parseInt(s.slice(l+7,l+9),16);if((b&192)===128&&(w&192)===128){const C=g<<12&61440|b<<6&4032|w&63;C<2048||C>=55296&&C<=57343?c+="���":c+=String.fromCharCode(C),l+=6;continue}}if((g&248)===240&&l+9<p){const b=parseInt(s.slice(l+4,l+6),16),w=parseInt(s.slice(l+7,l+9),16),C=parseInt(s.slice(l+10,l+12),16);if((b&192)===128&&(w&192)===128&&(C&192)===128){let k=g<<18&1835008|b<<12&258048|w<<6&4032|C&63;k<65536||k>1114111?c+="����":(k-=65536,c+=String.fromCharCode(55296+(k>>10),56320+(k&1023))),l+=9;continue}}c+="�"}return c})}ac.defaultChars=";/?:@&=+$,#";ac.componentChars="";const b0={};function cw(n){let e=b0[n];if(e)return e;e=b0[n]=[];for(let r=0;r<128;r++){const s=String.fromCharCode(r);/^[0-9a-z]$/i.test(s)?e.push(s):e.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<n.length;r++)e[n.charCodeAt(r)]=n[r];return e}function bf(n,e,r){typeof e!="string"&&(r=e,e=bf.defaultChars),typeof r>"u"&&(r=!0);const s=cw(e);let c="";for(let l=0,p=n.length;l<p;l++){const g=n.charCodeAt(l);if(r&&g===37&&l+2<p&&/^[0-9a-f]{2}$/i.test(n.slice(l+1,l+3))){c+=n.slice(l,l+3),l+=2;continue}if(g<128){c+=s[g];continue}if(g>=55296&&g<=57343){if(g>=55296&&g<=56319&&l+1<p){const b=n.charCodeAt(l+1);if(b>=56320&&b<=57343){c+=encodeURIComponent(n[l]+n[l+1]),l++;continue}}c+="%EF%BF%BD";continue}c+=encodeURIComponent(n[l])}return c}bf.defaultChars=";/?:@&=+$,-_.!~*'()#";bf.componentChars="-_.!~*'()";function qp(n){let e="";return e+=n.protocol||"",e+=n.slashes?"//":"",e+=n.auth?n.auth+"@":"",n.hostname&&n.hostname.indexOf(":")!==-1?e+="["+n.hostname+"]":e+=n.hostname||"",e+=n.port?":"+n.port:"",e+=n.pathname||"",e+=n.search||"",e+=n.hash||"",e}function Kh(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const fw=/^([a-z0-9.+-]+:)/i,hw=/:[0-9]*$/,dw=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,pw=["<",">",'"',"`"," ","\r",`
`,"	"],mw=["{","}","|","\\","^","`"].concat(pw),gw=["'"].concat(mw),_0=["%","/","?",";","#"].concat(gw),y0=["/","?","#"],vw=255,x0=/^[+a-z0-9A-Z_-]{0,63}$/,bw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w0={javascript:!0,"javascript:":!0},k0={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function jp(n,e){if(n&&n instanceof Kh)return n;const r=new Kh;return r.parse(n,e),r}Kh.prototype.parse=function(n,e){let r,s,c,l=n;if(l=l.trim(),!e&&n.split("#").length===1){const w=dw.exec(l);if(w)return this.pathname=w[1],w[2]&&(this.search=w[2]),this}let p=fw.exec(l);if(p&&(p=p[0],r=p.toLowerCase(),this.protocol=p,l=l.substr(p.length)),(e||p||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(c=l.substr(0,2)==="//",c&&!(p&&w0[p])&&(l=l.substr(2),this.slashes=!0)),!w0[p]&&(c||p&&!k0[p])){let w=-1;for(let R=0;R<y0.length;R++)s=l.indexOf(y0[R]),s!==-1&&(w===-1||s<w)&&(w=s);let C,k;w===-1?k=l.lastIndexOf("@"):k=l.lastIndexOf("@",w),k!==-1&&(C=l.slice(0,k),l=l.slice(k+1),this.auth=C),w=-1;for(let R=0;R<_0.length;R++)s=l.indexOf(_0[R]),s!==-1&&(w===-1||s<w)&&(w=s);w===-1&&(w=l.length),l[w-1]===":"&&w--;const M=l.slice(0,w);l=l.slice(w),this.parseHost(M),this.hostname=this.hostname||"";const G=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!G){const R=this.hostname.split(/\./);for(let Z=0,U=R.length;Z<U;Z++){const P=R[Z];if(P&&!P.match(x0)){let E="";for(let D=0,W=P.length;D<W;D++)P.charCodeAt(D)>127?E+="x":E+=P[D];if(!E.match(x0)){const D=R.slice(0,Z),W=R.slice(Z+1),B=P.match(bw);B&&(D.push(B[1]),W.unshift(B[2])),W.length&&(l=W.join(".")+l),this.hostname=D.join(".");break}}}}this.hostname.length>vw&&(this.hostname=""),G&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const g=l.indexOf("#");g!==-1&&(this.hash=l.substr(g),l=l.slice(0,g));const b=l.indexOf("?");return b!==-1&&(this.search=l.substr(b),l=l.slice(0,b)),l&&(this.pathname=l),k0[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Kh.prototype.parseHost=function(n){let e=hw.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};const _w=Object.freeze(Object.defineProperty({__proto__:null,decode:ac,encode:bf,format:qp,parse:jp},Symbol.toStringTag,{value:"Module"})),Sg=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Tg=/[\0-\x1F\x7F-\x9F]/,yw=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Zp=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Ag=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Lg=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,xw=Object.freeze(Object.defineProperty({__proto__:null,Any:Sg,Cc:Tg,Cf:yw,P:Zp,S:Ag,Z:Lg},Symbol.toStringTag,{value:"Module"})),ww=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(n=>n.charCodeAt(0))),kw=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(n=>n.charCodeAt(0)));var Vd;const Cw=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ew=(Vd=String.fromCodePoint)!==null&&Vd!==void 0?Vd:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function Sw(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=Cw.get(n))!==null&&e!==void 0?e:n}var vr;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(vr||(vr={}));const Tw=32;var Eu;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(Eu||(Eu={}));function vp(n){return n>=vr.ZERO&&n<=vr.NINE}function Aw(n){return n>=vr.UPPER_A&&n<=vr.UPPER_F||n>=vr.LOWER_A&&n<=vr.LOWER_F}function Lw(n){return n>=vr.UPPER_A&&n<=vr.UPPER_Z||n>=vr.LOWER_A&&n<=vr.LOWER_Z||vp(n)}function Dw(n){return n===vr.EQUALS||Lw(n)}var mr;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(mr||(mr={}));var ku;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(ku||(ku={}));class Mw{constructor(e,r,s){this.decodeTree=e,this.emitCodePoint=r,this.errors=s,this.state=mr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ku.Strict}startEntity(e){this.decodeMode=e,this.state=mr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case mr.EntityStart:return e.charCodeAt(r)===vr.NUM?(this.state=mr.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=mr.NamedEntity,this.stateNamedEntity(e,r));case mr.NumericStart:return this.stateNumericStart(e,r);case mr.NumericDecimal:return this.stateNumericDecimal(e,r);case mr.NumericHex:return this.stateNumericHex(e,r);case mr.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|Tw)===vr.LOWER_X?(this.state=mr.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=mr.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,s,c){if(r!==s){const l=s-r;this.result=this.result*Math.pow(c,l)+parseInt(e.substr(r,l),c),this.consumed+=l}}stateNumericHex(e,r){const s=r;for(;r<e.length;){const c=e.charCodeAt(r);if(vp(c)||Aw(c))r+=1;else return this.addToNumericResult(e,s,r,16),this.emitNumericEntity(c,3)}return this.addToNumericResult(e,s,r,16),-1}stateNumericDecimal(e,r){const s=r;for(;r<e.length;){const c=e.charCodeAt(r);if(vp(c))r+=1;else return this.addToNumericResult(e,s,r,10),this.emitNumericEntity(c,2)}return this.addToNumericResult(e,s,r,10),-1}emitNumericEntity(e,r){var s;if(this.consumed<=r)return(s=this.errors)===null||s===void 0||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===vr.SEMI)this.consumed+=1;else if(this.decodeMode===ku.Strict)return 0;return this.emitCodePoint(Sw(this.result),this.consumed),this.errors&&(e!==vr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:s}=this;let c=s[this.treeIndex],l=(c&Eu.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const p=e.charCodeAt(r);if(this.treeIndex=Pw(s,c,this.treeIndex+Math.max(1,l),p),this.treeIndex<0)return this.result===0||this.decodeMode===ku.Attribute&&(l===0||Dw(p))?0:this.emitNotTerminatedNamedEntity();if(c=s[this.treeIndex],l=(c&Eu.VALUE_LENGTH)>>14,l!==0){if(p===vr.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==ku.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:s}=this,c=(s[r]&Eu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,c,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,s){const{decodeTree:c}=this;return this.emitCodePoint(r===1?c[e]&~Eu.VALUE_LENGTH:c[e+1],s),r===3&&this.emitCodePoint(c[e+2],s),s}end(){var e;switch(this.state){case mr.NamedEntity:return this.result!==0&&(this.decodeMode!==ku.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case mr.NumericDecimal:return this.emitNumericEntity(0,2);case mr.NumericHex:return this.emitNumericEntity(0,3);case mr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mr.EntityStart:return 0}}}function Dg(n){let e="";const r=new Mw(n,s=>e+=Ew(s));return function(c,l){let p=0,g=0;for(;(g=c.indexOf("&",g))>=0;){e+=c.slice(p,g),r.startEntity(l);const w=r.write(c,g+1);if(w<0){p=g+r.end();break}p=g+w,g=w===0?p+1:p}const b=e+c.slice(p);return e="",b}}function Pw(n,e,r,s){const c=(e&Eu.BRANCH_LENGTH)>>7,l=e&Eu.JUMP_TABLE;if(c===0)return l!==0&&s===l?r:-1;if(l){const b=s-l;return b<0||b>=c?-1:n[r+b]-1}let p=r,g=p+c-1;for(;p<=g;){const b=p+g>>>1,w=n[b];if(w<s)p=b+1;else if(w>s)g=b-1;else return n[b+c]}return-1}const Ow=Dg(ww);Dg(kw);function Mg(n,e=ku.Legacy){return Ow(n,e)}function Iw(n){return Object.prototype.toString.call(n)}function Gp(n){return Iw(n)==="[object String]"}const Fw=Object.prototype.hasOwnProperty;function Rw(n,e){return Fw.call(n,e)}function ud(n){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(s){n[s]=r[s]})}}),n}function Pg(n,e,r){return[].concat(n.slice(0,e),r,n.slice(e+1))}function Xp(n){return!(n>=55296&&n<=57343||n>=64976&&n<=65007||(n&65535)===65535||(n&65535)===65534||n>=0&&n<=8||n===11||n>=14&&n<=31||n>=127&&n<=159||n>1114111)}function $h(n){if(n>65535){n-=65536;const e=55296+(n>>10),r=56320+(n&1023);return String.fromCharCode(e,r)}return String.fromCharCode(n)}const Og=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Nw=/&([a-z#][a-z0-9]{1,31});/gi,zw=new RegExp(Og.source+"|"+Nw.source,"gi"),Bw=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Hw(n,e){if(e.charCodeAt(0)===35&&Bw.test(e)){const s=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Xp(s)?$h(s):n}const r=Mg(n);return r!==n?r:n}function Uw(n){return n.indexOf("\\")<0?n:n.replace(Og,"$1")}function sc(n){return n.indexOf("\\")<0&&n.indexOf("&")<0?n:n.replace(zw,function(e,r,s){return r||Hw(e,s)})}const Ww=/[&<>"]/,qw=/[&<>"]/g,jw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Zw(n){return jw[n]}function Du(n){return Ww.test(n)?n.replace(qw,Zw):n}const Gw=/[.?*+^$[\]\\(){}|-]/g;function Xw(n){return n.replace(Gw,"\\$&")}function rn(n){switch(n){case 9:case 32:return!0}return!1}function ff(n){if(n>=8192&&n<=8202)return!0;switch(n){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function hf(n){return Zp.test(n)||Ag.test(n)}function df(n){switch(n){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ld(n){return n=n.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(n=n.replace(/ẞ/g,"ß")),n.toLowerCase().toUpperCase()}const Yw={mdurl:_w,ucmicro:xw},Vw=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Pg,assign:ud,escapeHtml:Du,escapeRE:Xw,fromCodePoint:$h,has:Rw,isMdAsciiPunct:df,isPunctChar:hf,isSpace:rn,isString:Gp,isValidEntityCode:Xp,isWhiteSpace:ff,lib:Yw,normalizeReference:ld,unescapeAll:sc,unescapeMd:Uw},Symbol.toStringTag,{value:"Module"}));function Kw(n,e,r){let s,c,l,p;const g=n.posMax,b=n.pos;for(n.pos=e+1,s=1;n.pos<g;){if(l=n.src.charCodeAt(n.pos),l===93&&(s--,s===0)){c=!0;break}if(p=n.pos,n.md.inline.skipToken(n),l===91){if(p===n.pos-1)s++;else if(r)return n.pos=b,-1}}let w=-1;return c&&(w=n.pos),n.pos=b,w}function $w(n,e,r){let s,c=e;const l={ok:!1,pos:0,str:""};if(n.charCodeAt(c)===60){for(c++;c<r;){if(s=n.charCodeAt(c),s===10||s===60)return l;if(s===62)return l.pos=c+1,l.str=sc(n.slice(e+1,c)),l.ok=!0,l;if(s===92&&c+1<r){c+=2;continue}c++}return l}let p=0;for(;c<r&&(s=n.charCodeAt(c),!(s===32||s<32||s===127));){if(s===92&&c+1<r){if(n.charCodeAt(c+1)===32)break;c+=2;continue}if(s===40&&(p++,p>32))return l;if(s===41){if(p===0)break;p--}c++}return e===c||p!==0||(l.str=sc(n.slice(e,c)),l.pos=c,l.ok=!0),l}function Qw(n,e,r,s){let c,l=e;const p={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)p.str=s.str,p.marker=s.marker;else{if(l>=r)return p;let g=n.charCodeAt(l);if(g!==34&&g!==39&&g!==40)return p;e++,l++,g===40&&(g=41),p.marker=g}for(;l<r;){if(c=n.charCodeAt(l),c===p.marker)return p.pos=l+1,p.str+=sc(n.slice(e,l)),p.ok=!0,p;if(c===40&&p.marker===41)return p;c===92&&l+1<r&&l++,l++}return p.can_continue=!0,p.str+=sc(n.slice(e,l)),p}const Jw=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:$w,parseLinkLabel:Kw,parseLinkTitle:Qw},Symbol.toStringTag,{value:"Module"})),ms={};ms.code_inline=function(n,e,r,s,c){const l=n[e];return"<code"+c.renderAttrs(l)+">"+Du(l.content)+"</code>"};ms.code_block=function(n,e,r,s,c){const l=n[e];return"<pre"+c.renderAttrs(l)+"><code>"+Du(n[e].content)+`</code></pre>
`};ms.fence=function(n,e,r,s,c){const l=n[e],p=l.info?sc(l.info).trim():"";let g="",b="";if(p){const C=p.split(/(\s+)/g);g=C[0],b=C.slice(2).join("")}let w;if(r.highlight?w=r.highlight(l.content,g,b)||Du(l.content):w=Du(l.content),w.indexOf("<pre")===0)return w+`
`;if(p){const C=l.attrIndex("class"),k=l.attrs?l.attrs.slice():[];C<0?k.push(["class",r.langPrefix+g]):(k[C]=k[C].slice(),k[C][1]+=" "+r.langPrefix+g);const M={attrs:k};return`<pre><code${c.renderAttrs(M)}>${w}</code></pre>
`}return`<pre><code${c.renderAttrs(l)}>${w}</code></pre>
`};ms.image=function(n,e,r,s,c){const l=n[e];return l.attrs[l.attrIndex("alt")][1]=c.renderInlineAsText(l.children,r,s),c.renderToken(n,e,r)};ms.hardbreak=function(n,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};ms.softbreak=function(n,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};ms.text=function(n,e){return Du(n[e].content)};ms.html_block=function(n,e){return n[e].content};ms.html_inline=function(n,e){return n[e].content};function fc(){this.rules=ud({},ms)}fc.prototype.renderAttrs=function(e){let r,s,c;if(!e.attrs)return"";for(c="",r=0,s=e.attrs.length;r<s;r++)c+=" "+Du(e.attrs[r][0])+'="'+Du(e.attrs[r][1])+'"';return c};fc.prototype.renderToken=function(e,r,s){const c=e[r];let l="";if(c.hidden)return"";c.block&&c.nesting!==-1&&r&&e[r-1].hidden&&(l+=`
`),l+=(c.nesting===-1?"</":"<")+c.tag,l+=this.renderAttrs(c),c.nesting===0&&s.xhtmlOut&&(l+=" /");let p=!1;if(c.block&&(p=!0,c.nesting===1&&r+1<e.length)){const g=e[r+1];(g.type==="inline"||g.hidden||g.nesting===-1&&g.tag===c.tag)&&(p=!1)}return l+=p?`>
`:">",l};fc.prototype.renderInline=function(n,e,r){let s="";const c=this.rules;for(let l=0,p=n.length;l<p;l++){const g=n[l].type;typeof c[g]<"u"?s+=c[g](n,l,e,r,this):s+=this.renderToken(n,l,e)}return s};fc.prototype.renderInlineAsText=function(n,e,r){let s="";for(let c=0,l=n.length;c<l;c++)switch(n[c].type){case"text":s+=n[c].content;break;case"image":s+=this.renderInlineAsText(n[c].children,e,r);break;case"html_inline":case"html_block":s+=n[c].content;break;case"softbreak":case"hardbreak":s+=`
`;break}return s};fc.prototype.render=function(n,e,r){let s="";const c=this.rules;for(let l=0,p=n.length;l<p;l++){const g=n[l].type;g==="inline"?s+=this.renderInline(n[l].children,e,r):typeof c[g]<"u"?s+=c[g](n,l,e,r,this):s+=this.renderToken(n,l,e,r)}return s};function _o(){this.__rules__=[],this.__cache__=null}_o.prototype.__find__=function(n){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===n)return e;return-1};_o.prototype.__compile__=function(){const n=this,e=[""];n.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(s){e.indexOf(s)<0&&e.push(s)})}),n.__cache__={},e.forEach(function(r){n.__cache__[r]=[],n.__rules__.forEach(function(s){s.enabled&&(r&&s.alt.indexOf(r)<0||n.__cache__[r].push(s.fn))})})};_o.prototype.at=function(n,e,r){const s=this.__find__(n),c=r||{};if(s===-1)throw new Error("Parser rule not found: "+n);this.__rules__[s].fn=e,this.__rules__[s].alt=c.alt||[],this.__cache__=null};_o.prototype.before=function(n,e,r,s){const c=this.__find__(n),l=s||{};if(c===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(c,0,{name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};_o.prototype.after=function(n,e,r,s){const c=this.__find__(n),l=s||{};if(c===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(c+1,0,{name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};_o.prototype.push=function(n,e,r){const s=r||{};this.__rules__.push({name:n,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null};_o.prototype.enable=function(n,e){Array.isArray(n)||(n=[n]);const r=[];return n.forEach(function(s){const c=this.__find__(s);if(c<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[c].enabled=!0,r.push(s)},this),this.__cache__=null,r};_o.prototype.enableOnly=function(n,e){Array.isArray(n)||(n=[n]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(n,e)};_o.prototype.disable=function(n,e){Array.isArray(n)||(n=[n]);const r=[];return n.forEach(function(s){const c=this.__find__(s);if(c<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[c].enabled=!1,r.push(s)},this),this.__cache__=null,r};_o.prototype.getRules=function(n){return this.__cache__===null&&this.__compile__(),this.__cache__[n]||[]};function Ba(n,e,r){this.type=n,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ba.prototype.attrIndex=function(e){if(!this.attrs)return-1;const r=this.attrs;for(let s=0,c=r.length;s<c;s++)if(r[s][0]===e)return s;return-1};Ba.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ba.prototype.attrSet=function(e,r){const s=this.attrIndex(e),c=[e,r];s<0?this.attrPush(c):this.attrs[s]=c};Ba.prototype.attrGet=function(e){const r=this.attrIndex(e);let s=null;return r>=0&&(s=this.attrs[r][1]),s};Ba.prototype.attrJoin=function(e,r){const s=this.attrIndex(e);s<0?this.attrPush([e,r]):this.attrs[s][1]=this.attrs[s][1]+" "+r};function Ig(n,e,r){this.src=n,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}Ig.prototype.Token=Ba;const e2=/\r\n?|\n/g,t2=/\0/g;function i2(n){let e;e=n.src.replace(e2,`
`),e=e.replace(t2,"�"),n.src=e}function n2(n){let e;n.inlineMode?(e=new n.Token("inline","",0),e.content=n.src,e.map=[0,1],e.children=[],n.tokens.push(e)):n.md.block.parse(n.src,n.md,n.env,n.tokens)}function r2(n){const e=n.tokens;for(let r=0,s=e.length;r<s;r++){const c=e[r];c.type==="inline"&&n.md.inline.parse(c.content,n.md,n.env,c.children)}}function o2(n){return/^<a[>\s]/i.test(n)}function a2(n){return/^<\/a\s*>/i.test(n)}function s2(n){const e=n.tokens;if(n.md.options.linkify)for(let r=0,s=e.length;r<s;r++){if(e[r].type!=="inline"||!n.md.linkify.pretest(e[r].content))continue;let c=e[r].children,l=0;for(let p=c.length-1;p>=0;p--){const g=c[p];if(g.type==="link_close"){for(p--;c[p].level!==g.level&&c[p].type!=="link_open";)p--;continue}if(g.type==="html_inline"&&(o2(g.content)&&l>0&&l--,a2(g.content)&&l++),!(l>0)&&g.type==="text"&&n.md.linkify.test(g.content)){const b=g.content;let w=n.md.linkify.match(b);const C=[];let k=g.level,M=0;w.length>0&&w[0].index===0&&p>0&&c[p-1].type==="text_special"&&(w=w.slice(1));for(let G=0;G<w.length;G++){const R=w[G].url,Z=n.md.normalizeLink(R);if(!n.md.validateLink(Z))continue;let U=w[G].text;w[G].schema?w[G].schema==="mailto:"&&!/^mailto:/i.test(U)?U=n.md.normalizeLinkText("mailto:"+U).replace(/^mailto:/,""):U=n.md.normalizeLinkText(U):U=n.md.normalizeLinkText("http://"+U).replace(/^http:\/\//,"");const P=w[G].index;if(P>M){const B=new n.Token("text","",0);B.content=b.slice(M,P),B.level=k,C.push(B)}const E=new n.Token("link_open","a",1);E.attrs=[["href",Z]],E.level=k++,E.markup="linkify",E.info="auto",C.push(E);const D=new n.Token("text","",0);D.content=U,D.level=k,C.push(D);const W=new n.Token("link_close","a",-1);W.level=--k,W.markup="linkify",W.info="auto",C.push(W),M=w[G].lastIndex}if(M<b.length){const G=new n.Token("text","",0);G.content=b.slice(M),G.level=k,C.push(G)}e[r].children=c=Pg(c,p,C)}}}}const Fg=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,u2=/\((c|tm|r)\)/i,l2=/\((c|tm|r)\)/ig,c2={c:"©",r:"®",tm:"™"};function f2(n,e){return c2[e.toLowerCase()]}function h2(n){let e=0;for(let r=n.length-1;r>=0;r--){const s=n[r];s.type==="text"&&!e&&(s.content=s.content.replace(l2,f2)),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function d2(n){let e=0;for(let r=n.length-1;r>=0;r--){const s=n[r];s.type==="text"&&!e&&Fg.test(s.content)&&(s.content=s.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function p2(n){let e;if(n.md.options.typographer)for(e=n.tokens.length-1;e>=0;e--)n.tokens[e].type==="inline"&&(u2.test(n.tokens[e].content)&&h2(n.tokens[e].children),Fg.test(n.tokens[e].content)&&d2(n.tokens[e].children))}const m2=/['"]/,C0=/['"]/g,E0="’";function wh(n,e,r){return n.slice(0,e)+r+n.slice(e+1)}function g2(n,e){let r;const s=[];for(let c=0;c<n.length;c++){const l=n[c],p=n[c].level;for(r=s.length-1;r>=0&&!(s[r].level<=p);r--);if(s.length=r+1,l.type!=="text")continue;let g=l.content,b=0,w=g.length;e:for(;b<w;){C0.lastIndex=b;const C=C0.exec(g);if(!C)break;let k=!0,M=!0;b=C.index+1;const G=C[0]==="'";let R=32;if(C.index-1>=0)R=g.charCodeAt(C.index-1);else for(r=c-1;r>=0&&!(n[r].type==="softbreak"||n[r].type==="hardbreak");r--)if(n[r].content){R=n[r].content.charCodeAt(n[r].content.length-1);break}let Z=32;if(b<w)Z=g.charCodeAt(b);else for(r=c+1;r<n.length&&!(n[r].type==="softbreak"||n[r].type==="hardbreak");r++)if(n[r].content){Z=n[r].content.charCodeAt(0);break}const U=df(R)||hf(String.fromCharCode(R)),P=df(Z)||hf(String.fromCharCode(Z)),E=ff(R),D=ff(Z);if(D?k=!1:P&&(E||U||(k=!1)),E?M=!1:U&&(D||P||(M=!1)),Z===34&&C[0]==='"'&&R>=48&&R<=57&&(M=k=!1),k&&M&&(k=U,M=P),!k&&!M){G&&(l.content=wh(l.content,C.index,E0));continue}if(M)for(r=s.length-1;r>=0;r--){let W=s[r];if(s[r].level<p)break;if(W.single===G&&s[r].level===p){W=s[r];let B,H;G?(B=e.md.options.quotes[2],H=e.md.options.quotes[3]):(B=e.md.options.quotes[0],H=e.md.options.quotes[1]),l.content=wh(l.content,C.index,H),n[W.token].content=wh(n[W.token].content,W.pos,B),b+=H.length-1,W.token===c&&(b+=B.length-1),g=l.content,w=g.length,s.length=r;continue e}}k?s.push({token:c,pos:C.index,single:G,level:p}):M&&G&&(l.content=wh(l.content,C.index,E0))}}}function v2(n){if(n.md.options.typographer)for(let e=n.tokens.length-1;e>=0;e--)n.tokens[e].type!=="inline"||!m2.test(n.tokens[e].content)||g2(n.tokens[e].children,n)}function b2(n){let e,r;const s=n.tokens,c=s.length;for(let l=0;l<c;l++){if(s[l].type!=="inline")continue;const p=s[l].children,g=p.length;for(e=0;e<g;e++)p[e].type==="text_special"&&(p[e].type="text");for(e=r=0;e<g;e++)p[e].type==="text"&&e+1<g&&p[e+1].type==="text"?p[e+1].content=p[e].content+p[e+1].content:(e!==r&&(p[r]=p[e]),r++);e!==r&&(p.length=r)}}const Kd=[["normalize",i2],["block",n2],["inline",r2],["linkify",s2],["replacements",p2],["smartquotes",v2],["text_join",b2]];function Yp(){this.ruler=new _o;for(let n=0;n<Kd.length;n++)this.ruler.push(Kd[n][0],Kd[n][1])}Yp.prototype.process=function(n){const e=this.ruler.getRules("");for(let r=0,s=e.length;r<s;r++)e[r](n)};Yp.prototype.State=Ig;function gs(n,e,r,s){this.src=n,this.md=e,this.env=r,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const c=this.src;for(let l=0,p=0,g=0,b=0,w=c.length,C=!1;p<w;p++){const k=c.charCodeAt(p);if(!C)if(rn(k)){g++,k===9?b+=4-b%4:b++;continue}else C=!0;(k===10||p===w-1)&&(k!==10&&p++,this.bMarks.push(l),this.eMarks.push(p),this.tShift.push(g),this.sCount.push(b),this.bsCount.push(0),C=!1,g=0,b=0,l=p+1)}this.bMarks.push(c.length),this.eMarks.push(c.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}gs.prototype.push=function(n,e,r){const s=new Ba(n,e,r);return s.block=!0,r<0&&this.level--,s.level=this.level,r>0&&this.level++,this.tokens.push(s),s};gs.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};gs.prototype.skipEmptyLines=function(e){for(let r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};gs.prototype.skipSpaces=function(e){for(let r=this.src.length;e<r;e++){const s=this.src.charCodeAt(e);if(!rn(s))break}return e};gs.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!rn(this.src.charCodeAt(--e)))return e+1;return e};gs.prototype.skipChars=function(e,r){for(let s=this.src.length;e<s&&this.src.charCodeAt(e)===r;e++);return e};gs.prototype.skipCharsBack=function(e,r,s){if(e<=s)return e;for(;e>s;)if(r!==this.src.charCodeAt(--e))return e+1;return e};gs.prototype.getLines=function(e,r,s,c){if(e>=r)return"";const l=new Array(r-e);for(let p=0,g=e;g<r;g++,p++){let b=0;const w=this.bMarks[g];let C=w,k;for(g+1<r||c?k=this.eMarks[g]+1:k=this.eMarks[g];C<k&&b<s;){const M=this.src.charCodeAt(C);if(rn(M))M===9?b+=4-(b+this.bsCount[g])%4:b++;else if(C-w<this.tShift[g])b++;else break;C++}b>s?l[p]=new Array(b-s+1).join(" ")+this.src.slice(C,k):l[p]=this.src.slice(C,k)}return l.join("")};gs.prototype.Token=Ba;const _2=65536;function $d(n,e){const r=n.bMarks[e]+n.tShift[e],s=n.eMarks[e];return n.src.slice(r,s)}function S0(n){const e=[],r=n.length;let s=0,c=n.charCodeAt(s),l=!1,p=0,g="";for(;s<r;)c===124&&(l?(g+=n.substring(p,s-1),p=s):(e.push(g+n.substring(p,s)),g="",p=s+1)),l=c===92,s++,c=n.charCodeAt(s);return e.push(g+n.substring(p)),e}function y2(n,e,r,s){if(e+2>r)return!1;let c=e+1;if(n.sCount[c]<n.blkIndent||n.sCount[c]-n.blkIndent>=4)return!1;let l=n.bMarks[c]+n.tShift[c];if(l>=n.eMarks[c])return!1;const p=n.src.charCodeAt(l++);if(p!==124&&p!==45&&p!==58||l>=n.eMarks[c])return!1;const g=n.src.charCodeAt(l++);if(g!==124&&g!==45&&g!==58&&!rn(g)||p===45&&rn(g))return!1;for(;l<n.eMarks[c];){const W=n.src.charCodeAt(l);if(W!==124&&W!==45&&W!==58&&!rn(W))return!1;l++}let b=$d(n,e+1),w=b.split("|");const C=[];for(let W=0;W<w.length;W++){const B=w[W].trim();if(!B){if(W===0||W===w.length-1)continue;return!1}if(!/^:?-+:?$/.test(B))return!1;B.charCodeAt(B.length-1)===58?C.push(B.charCodeAt(0)===58?"center":"right"):B.charCodeAt(0)===58?C.push("left"):C.push("")}if(b=$d(n,e).trim(),b.indexOf("|")===-1||n.sCount[e]-n.blkIndent>=4)return!1;w=S0(b),w.length&&w[0]===""&&w.shift(),w.length&&w[w.length-1]===""&&w.pop();const k=w.length;if(k===0||k!==C.length)return!1;if(s)return!0;const M=n.parentType;n.parentType="table";const G=n.md.block.ruler.getRules("blockquote"),R=n.push("table_open","table",1),Z=[e,0];R.map=Z;const U=n.push("thead_open","thead",1);U.map=[e,e+1];const P=n.push("tr_open","tr",1);P.map=[e,e+1];for(let W=0;W<w.length;W++){const B=n.push("th_open","th",1);C[W]&&(B.attrs=[["style","text-align:"+C[W]]]);const H=n.push("inline","",0);H.content=w[W].trim(),H.children=[],n.push("th_close","th",-1)}n.push("tr_close","tr",-1),n.push("thead_close","thead",-1);let E,D=0;for(c=e+2;c<r&&!(n.sCount[c]<n.blkIndent);c++){let W=!1;for(let H=0,j=G.length;H<j;H++)if(G[H](n,c,r,!0)){W=!0;break}if(W||(b=$d(n,c).trim(),!b)||n.sCount[c]-n.blkIndent>=4||(w=S0(b),w.length&&w[0]===""&&w.shift(),w.length&&w[w.length-1]===""&&w.pop(),D+=k-w.length,D>_2))break;if(c===e+2){const H=n.push("tbody_open","tbody",1);H.map=E=[e+2,0]}const B=n.push("tr_open","tr",1);B.map=[c,c+1];for(let H=0;H<k;H++){const j=n.push("td_open","td",1);C[H]&&(j.attrs=[["style","text-align:"+C[H]]]);const ee=n.push("inline","",0);ee.content=w[H]?w[H].trim():"",ee.children=[],n.push("td_close","td",-1)}n.push("tr_close","tr",-1)}return E&&(n.push("tbody_close","tbody",-1),E[1]=c),n.push("table_close","table",-1),Z[1]=c,n.parentType=M,n.line=c,!0}function x2(n,e,r){if(n.sCount[e]-n.blkIndent<4)return!1;let s=e+1,c=s;for(;s<r;){if(n.isEmpty(s)){s++;continue}if(n.sCount[s]-n.blkIndent>=4){s++,c=s;continue}break}n.line=c;const l=n.push("code_block","code",0);return l.content=n.getLines(e,c,4+n.blkIndent,!1)+`
`,l.map=[e,n.line],!0}function w2(n,e,r,s){let c=n.bMarks[e]+n.tShift[e],l=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||c+3>l)return!1;const p=n.src.charCodeAt(c);if(p!==126&&p!==96)return!1;let g=c;c=n.skipChars(c,p);let b=c-g;if(b<3)return!1;const w=n.src.slice(g,c),C=n.src.slice(c,l);if(p===96&&C.indexOf(String.fromCharCode(p))>=0)return!1;if(s)return!0;let k=e,M=!1;for(;k++,!(k>=r||(c=g=n.bMarks[k]+n.tShift[k],l=n.eMarks[k],c<l&&n.sCount[k]<n.blkIndent));)if(n.src.charCodeAt(c)===p&&!(n.sCount[k]-n.blkIndent>=4)&&(c=n.skipChars(c,p),!(c-g<b)&&(c=n.skipSpaces(c),!(c<l)))){M=!0;break}b=n.sCount[e],n.line=k+(M?1:0);const G=n.push("fence","code",0);return G.info=C,G.content=n.getLines(e+1,k,b,!0),G.markup=w,G.map=[e,n.line],!0}function k2(n,e,r,s){let c=n.bMarks[e]+n.tShift[e],l=n.eMarks[e];const p=n.lineMax;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(c)!==62)return!1;if(s)return!0;const g=[],b=[],w=[],C=[],k=n.md.block.ruler.getRules("blockquote"),M=n.parentType;n.parentType="blockquote";let G=!1,R;for(R=e;R<r;R++){const D=n.sCount[R]<n.blkIndent;if(c=n.bMarks[R]+n.tShift[R],l=n.eMarks[R],c>=l)break;if(n.src.charCodeAt(c++)===62&&!D){let B=n.sCount[R]+1,H,j;n.src.charCodeAt(c)===32?(c++,B++,j=!1,H=!0):n.src.charCodeAt(c)===9?(H=!0,(n.bsCount[R]+B)%4===3?(c++,B++,j=!1):j=!0):H=!1;let ee=B;for(g.push(n.bMarks[R]),n.bMarks[R]=c;c<l;){const fe=n.src.charCodeAt(c);if(rn(fe))fe===9?ee+=4-(ee+n.bsCount[R]+(j?1:0))%4:ee++;else break;c++}G=c>=l,b.push(n.bsCount[R]),n.bsCount[R]=n.sCount[R]+1+(H?1:0),w.push(n.sCount[R]),n.sCount[R]=ee-B,C.push(n.tShift[R]),n.tShift[R]=c-n.bMarks[R];continue}if(G)break;let W=!1;for(let B=0,H=k.length;B<H;B++)if(k[B](n,R,r,!0)){W=!0;break}if(W){n.lineMax=R,n.blkIndent!==0&&(g.push(n.bMarks[R]),b.push(n.bsCount[R]),C.push(n.tShift[R]),w.push(n.sCount[R]),n.sCount[R]-=n.blkIndent);break}g.push(n.bMarks[R]),b.push(n.bsCount[R]),C.push(n.tShift[R]),w.push(n.sCount[R]),n.sCount[R]=-1}const Z=n.blkIndent;n.blkIndent=0;const U=n.push("blockquote_open","blockquote",1);U.markup=">";const P=[e,0];U.map=P,n.md.block.tokenize(n,e,R);const E=n.push("blockquote_close","blockquote",-1);E.markup=">",n.lineMax=p,n.parentType=M,P[1]=n.line;for(let D=0;D<C.length;D++)n.bMarks[D+e]=g[D],n.tShift[D+e]=C[D],n.sCount[D+e]=w[D],n.bsCount[D+e]=b[D];return n.blkIndent=Z,!0}function C2(n,e,r,s){const c=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let l=n.bMarks[e]+n.tShift[e];const p=n.src.charCodeAt(l++);if(p!==42&&p!==45&&p!==95)return!1;let g=1;for(;l<c;){const w=n.src.charCodeAt(l++);if(w!==p&&!rn(w))return!1;w===p&&g++}if(g<3)return!1;if(s)return!0;n.line=e+1;const b=n.push("hr","hr",0);return b.map=[e,n.line],b.markup=Array(g+1).join(String.fromCharCode(p)),!0}function T0(n,e){const r=n.eMarks[e];let s=n.bMarks[e]+n.tShift[e];const c=n.src.charCodeAt(s++);if(c!==42&&c!==45&&c!==43)return-1;if(s<r){const l=n.src.charCodeAt(s);if(!rn(l))return-1}return s}function A0(n,e){const r=n.bMarks[e]+n.tShift[e],s=n.eMarks[e];let c=r;if(c+1>=s)return-1;let l=n.src.charCodeAt(c++);if(l<48||l>57)return-1;for(;;){if(c>=s)return-1;if(l=n.src.charCodeAt(c++),l>=48&&l<=57){if(c-r>=10)return-1;continue}if(l===41||l===46)break;return-1}return c<s&&(l=n.src.charCodeAt(c),!rn(l))?-1:c}function E2(n,e){const r=n.level+2;for(let s=e+2,c=n.tokens.length-2;s<c;s++)n.tokens[s].level===r&&n.tokens[s].type==="paragraph_open"&&(n.tokens[s+2].hidden=!0,n.tokens[s].hidden=!0,s+=2)}function S2(n,e,r,s){let c,l,p,g,b=e,w=!0;if(n.sCount[b]-n.blkIndent>=4||n.listIndent>=0&&n.sCount[b]-n.listIndent>=4&&n.sCount[b]<n.blkIndent)return!1;let C=!1;s&&n.parentType==="paragraph"&&n.sCount[b]>=n.blkIndent&&(C=!0);let k,M,G;if((G=A0(n,b))>=0){if(k=!0,p=n.bMarks[b]+n.tShift[b],M=Number(n.src.slice(p,G-1)),C&&M!==1)return!1}else if((G=T0(n,b))>=0)k=!1;else return!1;if(C&&n.skipSpaces(G)>=n.eMarks[b])return!1;if(s)return!0;const R=n.src.charCodeAt(G-1),Z=n.tokens.length;k?(g=n.push("ordered_list_open","ol",1),M!==1&&(g.attrs=[["start",M]])):g=n.push("bullet_list_open","ul",1);const U=[b,0];g.map=U,g.markup=String.fromCharCode(R);let P=!1;const E=n.md.block.ruler.getRules("list"),D=n.parentType;for(n.parentType="list";b<r;){l=G,c=n.eMarks[b];const W=n.sCount[b]+G-(n.bMarks[b]+n.tShift[b]);let B=W;for(;l<c;){const T=n.src.charCodeAt(l);if(T===9)B+=4-(B+n.bsCount[b])%4;else if(T===32)B++;else break;l++}const H=l;let j;H>=c?j=1:j=B-W,j>4&&(j=1);const ee=W+j;g=n.push("list_item_open","li",1),g.markup=String.fromCharCode(R);const fe=[b,0];g.map=fe,k&&(g.info=n.src.slice(p,G-1));const me=n.tight,ue=n.tShift[b],De=n.sCount[b],be=n.listIndent;if(n.listIndent=n.blkIndent,n.blkIndent=ee,n.tight=!0,n.tShift[b]=H-n.bMarks[b],n.sCount[b]=B,H>=c&&n.isEmpty(b+1)?n.line=Math.min(n.line+2,r):n.md.block.tokenize(n,b,r,!0),(!n.tight||P)&&(w=!1),P=n.line-b>1&&n.isEmpty(n.line-1),n.blkIndent=n.listIndent,n.listIndent=be,n.tShift[b]=ue,n.sCount[b]=De,n.tight=me,g=n.push("list_item_close","li",-1),g.markup=String.fromCharCode(R),b=n.line,fe[1]=b,b>=r||n.sCount[b]<n.blkIndent||n.sCount[b]-n.blkIndent>=4)break;let te=!1;for(let T=0,se=E.length;T<se;T++)if(E[T](n,b,r,!0)){te=!0;break}if(te)break;if(k){if(G=A0(n,b),G<0)break;p=n.bMarks[b]+n.tShift[b]}else if(G=T0(n,b),G<0)break;if(R!==n.src.charCodeAt(G-1))break}return k?g=n.push("ordered_list_close","ol",-1):g=n.push("bullet_list_close","ul",-1),g.markup=String.fromCharCode(R),U[1]=b,n.line=b,n.parentType=D,w&&E2(n,Z),!0}function T2(n,e,r,s){let c=n.bMarks[e]+n.tShift[e],l=n.eMarks[e],p=e+1;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(c)!==91)return!1;function g(E){const D=n.lineMax;if(E>=D||n.isEmpty(E))return null;let W=!1;if(n.sCount[E]-n.blkIndent>3&&(W=!0),n.sCount[E]<0&&(W=!0),!W){const j=n.md.block.ruler.getRules("reference"),ee=n.parentType;n.parentType="reference";let fe=!1;for(let me=0,ue=j.length;me<ue;me++)if(j[me](n,E,D,!0)){fe=!0;break}if(n.parentType=ee,fe)return null}const B=n.bMarks[E]+n.tShift[E],H=n.eMarks[E];return n.src.slice(B,H+1)}let b=n.src.slice(c,l+1);l=b.length;let w=-1;for(c=1;c<l;c++){const E=b.charCodeAt(c);if(E===91)return!1;if(E===93){w=c;break}else if(E===10){const D=g(p);D!==null&&(b+=D,l=b.length,p++)}else if(E===92&&(c++,c<l&&b.charCodeAt(c)===10)){const D=g(p);D!==null&&(b+=D,l=b.length,p++)}}if(w<0||b.charCodeAt(w+1)!==58)return!1;for(c=w+2;c<l;c++){const E=b.charCodeAt(c);if(E===10){const D=g(p);D!==null&&(b+=D,l=b.length,p++)}else if(!rn(E))break}const C=n.md.helpers.parseLinkDestination(b,c,l);if(!C.ok)return!1;const k=n.md.normalizeLink(C.str);if(!n.md.validateLink(k))return!1;c=C.pos;const M=c,G=p,R=c;for(;c<l;c++){const E=b.charCodeAt(c);if(E===10){const D=g(p);D!==null&&(b+=D,l=b.length,p++)}else if(!rn(E))break}let Z=n.md.helpers.parseLinkTitle(b,c,l);for(;Z.can_continue;){const E=g(p);if(E===null)break;b+=E,c=l,l=b.length,p++,Z=n.md.helpers.parseLinkTitle(b,c,l,Z)}let U;for(c<l&&R!==c&&Z.ok?(U=Z.str,c=Z.pos):(U="",c=M,p=G);c<l;){const E=b.charCodeAt(c);if(!rn(E))break;c++}if(c<l&&b.charCodeAt(c)!==10&&U)for(U="",c=M,p=G;c<l;){const E=b.charCodeAt(c);if(!rn(E))break;c++}if(c<l&&b.charCodeAt(c)!==10)return!1;const P=ld(b.slice(1,w));return P?(s||(typeof n.env.references>"u"&&(n.env.references={}),typeof n.env.references[P]>"u"&&(n.env.references[P]={title:U,href:k}),n.line=p),!0):!1}const A2=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],L2="[a-zA-Z_:][a-zA-Z0-9:._-]*",D2="[^\"'=<>`\\x00-\\x20]+",M2="'[^']*'",P2='"[^"]*"',O2="(?:"+D2+"|"+M2+"|"+P2+")",I2="(?:\\s+"+L2+"(?:\\s*=\\s*"+O2+")?)",Rg="<[A-Za-z][A-Za-z0-9\\-]*"+I2+"*\\s*\\/?>",Ng="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",F2="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",R2="<[?][\\s\\S]*?[?]>",N2="<![A-Za-z][^>]*>",z2="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",B2=new RegExp("^(?:"+Rg+"|"+Ng+"|"+F2+"|"+R2+"|"+N2+"|"+z2+")"),H2=new RegExp("^(?:"+Rg+"|"+Ng+")"),Xl=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+A2.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(H2.source+"\\s*$"),/^$/,!1]];function U2(n,e,r,s){let c=n.bMarks[e]+n.tShift[e],l=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||!n.md.options.html||n.src.charCodeAt(c)!==60)return!1;let p=n.src.slice(c,l),g=0;for(;g<Xl.length&&!Xl[g][0].test(p);g++);if(g===Xl.length)return!1;if(s)return Xl[g][2];let b=e+1;if(!Xl[g][1].test(p)){for(;b<r&&!(n.sCount[b]<n.blkIndent);b++)if(c=n.bMarks[b]+n.tShift[b],l=n.eMarks[b],p=n.src.slice(c,l),Xl[g][1].test(p)){p.length!==0&&b++;break}}n.line=b;const w=n.push("html_block","",0);return w.map=[e,b],w.content=n.getLines(e,b,n.blkIndent,!0),!0}function W2(n,e,r,s){let c=n.bMarks[e]+n.tShift[e],l=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let p=n.src.charCodeAt(c);if(p!==35||c>=l)return!1;let g=1;for(p=n.src.charCodeAt(++c);p===35&&c<l&&g<=6;)g++,p=n.src.charCodeAt(++c);if(g>6||c<l&&!rn(p))return!1;if(s)return!0;l=n.skipSpacesBack(l,c);const b=n.skipCharsBack(l,35,c);b>c&&rn(n.src.charCodeAt(b-1))&&(l=b),n.line=e+1;const w=n.push("heading_open","h"+String(g),1);w.markup="########".slice(0,g),w.map=[e,n.line];const C=n.push("inline","",0);C.content=n.src.slice(c,l).trim(),C.map=[e,n.line],C.children=[];const k=n.push("heading_close","h"+String(g),-1);return k.markup="########".slice(0,g),!0}function q2(n,e,r){const s=n.md.block.ruler.getRules("paragraph");if(n.sCount[e]-n.blkIndent>=4)return!1;const c=n.parentType;n.parentType="paragraph";let l=0,p,g=e+1;for(;g<r&&!n.isEmpty(g);g++){if(n.sCount[g]-n.blkIndent>3)continue;if(n.sCount[g]>=n.blkIndent){let G=n.bMarks[g]+n.tShift[g];const R=n.eMarks[g];if(G<R&&(p=n.src.charCodeAt(G),(p===45||p===61)&&(G=n.skipChars(G,p),G=n.skipSpaces(G),G>=R))){l=p===61?1:2;break}}if(n.sCount[g]<0)continue;let M=!1;for(let G=0,R=s.length;G<R;G++)if(s[G](n,g,r,!0)){M=!0;break}if(M)break}if(!l)return!1;const b=n.getLines(e,g,n.blkIndent,!1).trim();n.line=g+1;const w=n.push("heading_open","h"+String(l),1);w.markup=String.fromCharCode(p),w.map=[e,n.line];const C=n.push("inline","",0);C.content=b,C.map=[e,n.line-1],C.children=[];const k=n.push("heading_close","h"+String(l),-1);return k.markup=String.fromCharCode(p),n.parentType=c,!0}function j2(n,e,r){const s=n.md.block.ruler.getRules("paragraph"),c=n.parentType;let l=e+1;for(n.parentType="paragraph";l<r&&!n.isEmpty(l);l++){if(n.sCount[l]-n.blkIndent>3||n.sCount[l]<0)continue;let w=!1;for(let C=0,k=s.length;C<k;C++)if(s[C](n,l,r,!0)){w=!0;break}if(w)break}const p=n.getLines(e,l,n.blkIndent,!1).trim();n.line=l;const g=n.push("paragraph_open","p",1);g.map=[e,n.line];const b=n.push("inline","",0);return b.content=p,b.map=[e,n.line],b.children=[],n.push("paragraph_close","p",-1),n.parentType=c,!0}const kh=[["table",y2,["paragraph","reference"]],["code",x2],["fence",w2,["paragraph","reference","blockquote","list"]],["blockquote",k2,["paragraph","reference","blockquote","list"]],["hr",C2,["paragraph","reference","blockquote","list"]],["list",S2,["paragraph","reference","blockquote"]],["reference",T2],["html_block",U2,["paragraph","reference","blockquote"]],["heading",W2,["paragraph","reference","blockquote"]],["lheading",q2],["paragraph",j2]];function cd(){this.ruler=new _o;for(let n=0;n<kh.length;n++)this.ruler.push(kh[n][0],kh[n][1],{alt:(kh[n][2]||[]).slice()})}cd.prototype.tokenize=function(n,e,r){const s=this.ruler.getRules(""),c=s.length,l=n.md.options.maxNesting;let p=e,g=!1;for(;p<r&&(n.line=p=n.skipEmptyLines(p),!(p>=r||n.sCount[p]<n.blkIndent));){if(n.level>=l){n.line=r;break}const b=n.line;let w=!1;for(let C=0;C<c;C++)if(w=s[C](n,p,r,!1),w){if(b>=n.line)throw new Error("block rule didn't increment state.line");break}if(!w)throw new Error("none of the block rules matched");n.tight=!g,n.isEmpty(n.line-1)&&(g=!0),p=n.line,p<r&&n.isEmpty(p)&&(g=!0,p++,n.line=p)}};cd.prototype.parse=function(n,e,r,s){if(!n)return;const c=new this.State(n,e,r,s);this.tokenize(c,c.line,c.lineMax)};cd.prototype.State=gs;function _f(n,e,r,s){this.src=n,this.env=r,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}_f.prototype.pushPending=function(){const n=new Ba("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n};_f.prototype.push=function(n,e,r){this.pending&&this.pushPending();const s=new Ba(n,e,r);let c=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],c={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(c),s};_f.prototype.scanDelims=function(n,e){const r=this.posMax,s=this.src.charCodeAt(n),c=n>0?this.src.charCodeAt(n-1):32;let l=n;for(;l<r&&this.src.charCodeAt(l)===s;)l++;const p=l-n,g=l<r?this.src.charCodeAt(l):32,b=df(c)||hf(String.fromCharCode(c)),w=df(g)||hf(String.fromCharCode(g)),C=ff(c),k=ff(g),M=!k&&(!w||C||b),G=!C&&(!b||k||w);return{can_open:M&&(e||!G||b),can_close:G&&(e||!M||w),length:p}};_f.prototype.Token=Ba;function Z2(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function G2(n,e){let r=n.pos;for(;r<n.posMax&&!Z2(n.src.charCodeAt(r));)r++;return r===n.pos?!1:(e||(n.pending+=n.src.slice(n.pos,r)),n.pos=r,!0)}const X2=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Y2(n,e){if(!n.md.options.linkify||n.linkLevel>0)return!1;const r=n.pos,s=n.posMax;if(r+3>s||n.src.charCodeAt(r)!==58||n.src.charCodeAt(r+1)!==47||n.src.charCodeAt(r+2)!==47)return!1;const c=n.pending.match(X2);if(!c)return!1;const l=c[1],p=n.md.linkify.matchAtStart(n.src.slice(r-l.length));if(!p)return!1;let g=p.url;if(g.length<=l.length)return!1;g=g.replace(/\*+$/,"");const b=n.md.normalizeLink(g);if(!n.md.validateLink(b))return!1;if(!e){n.pending=n.pending.slice(0,-l.length);const w=n.push("link_open","a",1);w.attrs=[["href",b]],w.markup="linkify",w.info="auto";const C=n.push("text","",0);C.content=n.md.normalizeLinkText(g);const k=n.push("link_close","a",-1);k.markup="linkify",k.info="auto"}return n.pos+=g.length-l.length,!0}function V2(n,e){let r=n.pos;if(n.src.charCodeAt(r)!==10)return!1;const s=n.pending.length-1,c=n.posMax;if(!e)if(s>=0&&n.pending.charCodeAt(s)===32)if(s>=1&&n.pending.charCodeAt(s-1)===32){let l=s-1;for(;l>=1&&n.pending.charCodeAt(l-1)===32;)l--;n.pending=n.pending.slice(0,l),n.push("hardbreak","br",0)}else n.pending=n.pending.slice(0,-1),n.push("softbreak","br",0);else n.push("softbreak","br",0);for(r++;r<c&&rn(n.src.charCodeAt(r));)r++;return n.pos=r,!0}const Vp=[];for(let n=0;n<256;n++)Vp.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){Vp[n.charCodeAt(0)]=1});function K2(n,e){let r=n.pos;const s=n.posMax;if(n.src.charCodeAt(r)!==92||(r++,r>=s))return!1;let c=n.src.charCodeAt(r);if(c===10){for(e||n.push("hardbreak","br",0),r++;r<s&&(c=n.src.charCodeAt(r),!!rn(c));)r++;return n.pos=r,!0}let l=n.src[r];if(c>=55296&&c<=56319&&r+1<s){const g=n.src.charCodeAt(r+1);g>=56320&&g<=57343&&(l+=n.src[r+1],r++)}const p="\\"+l;if(!e){const g=n.push("text_special","",0);c<256&&Vp[c]!==0?g.content=l:g.content=p,g.markup=p,g.info="escape"}return n.pos=r+1,!0}function $2(n,e){let r=n.pos;if(n.src.charCodeAt(r)!==96)return!1;const c=r;r++;const l=n.posMax;for(;r<l&&n.src.charCodeAt(r)===96;)r++;const p=n.src.slice(c,r),g=p.length;if(n.backticksScanned&&(n.backticks[g]||0)<=c)return e||(n.pending+=p),n.pos+=g,!0;let b=r,w;for(;(w=n.src.indexOf("`",b))!==-1;){for(b=w+1;b<l&&n.src.charCodeAt(b)===96;)b++;const C=b-w;if(C===g){if(!e){const k=n.push("code_inline","code",0);k.markup=p,k.content=n.src.slice(r,w).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return n.pos=b,!0}n.backticks[C]=w}return n.backticksScanned=!0,e||(n.pending+=p),n.pos+=g,!0}function Q2(n,e){const r=n.pos,s=n.src.charCodeAt(r);if(e||s!==126)return!1;const c=n.scanDelims(n.pos,!0);let l=c.length;const p=String.fromCharCode(s);if(l<2)return!1;let g;l%2&&(g=n.push("text","",0),g.content=p,l--);for(let b=0;b<l;b+=2)g=n.push("text","",0),g.content=p+p,n.delimiters.push({marker:s,length:0,token:n.tokens.length-1,end:-1,open:c.can_open,close:c.can_close});return n.pos+=c.length,!0}function L0(n,e){let r;const s=[],c=e.length;for(let l=0;l<c;l++){const p=e[l];if(p.marker!==126||p.end===-1)continue;const g=e[p.end];r=n.tokens[p.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=n.tokens[g.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",n.tokens[g.token-1].type==="text"&&n.tokens[g.token-1].content==="~"&&s.push(g.token-1)}for(;s.length;){const l=s.pop();let p=l+1;for(;p<n.tokens.length&&n.tokens[p].type==="s_close";)p++;p--,l!==p&&(r=n.tokens[p],n.tokens[p]=n.tokens[l],n.tokens[l]=r)}}function J2(n){const e=n.tokens_meta,r=n.tokens_meta.length;L0(n,n.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&L0(n,e[s].delimiters)}const zg={tokenize:Q2,postProcess:J2};function ek(n,e){const r=n.pos,s=n.src.charCodeAt(r);if(e||s!==95&&s!==42)return!1;const c=n.scanDelims(n.pos,s===42);for(let l=0;l<c.length;l++){const p=n.push("text","",0);p.content=String.fromCharCode(s),n.delimiters.push({marker:s,length:c.length,token:n.tokens.length-1,end:-1,open:c.can_open,close:c.can_close})}return n.pos+=c.length,!0}function D0(n,e){const r=e.length;for(let s=r-1;s>=0;s--){const c=e[s];if(c.marker!==95&&c.marker!==42||c.end===-1)continue;const l=e[c.end],p=s>0&&e[s-1].end===c.end+1&&e[s-1].marker===c.marker&&e[s-1].token===c.token-1&&e[c.end+1].token===l.token+1,g=String.fromCharCode(c.marker),b=n.tokens[c.token];b.type=p?"strong_open":"em_open",b.tag=p?"strong":"em",b.nesting=1,b.markup=p?g+g:g,b.content="";const w=n.tokens[l.token];w.type=p?"strong_close":"em_close",w.tag=p?"strong":"em",w.nesting=-1,w.markup=p?g+g:g,w.content="",p&&(n.tokens[e[s-1].token].content="",n.tokens[e[c.end+1].token].content="",s--)}}function tk(n){const e=n.tokens_meta,r=n.tokens_meta.length;D0(n,n.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&D0(n,e[s].delimiters)}const Bg={tokenize:ek,postProcess:tk};function ik(n,e){let r,s,c,l,p="",g="",b=n.pos,w=!0;if(n.src.charCodeAt(n.pos)!==91)return!1;const C=n.pos,k=n.posMax,M=n.pos+1,G=n.md.helpers.parseLinkLabel(n,n.pos,!0);if(G<0)return!1;let R=G+1;if(R<k&&n.src.charCodeAt(R)===40){for(w=!1,R++;R<k&&(r=n.src.charCodeAt(R),!(!rn(r)&&r!==10));R++);if(R>=k)return!1;if(b=R,c=n.md.helpers.parseLinkDestination(n.src,R,n.posMax),c.ok){for(p=n.md.normalizeLink(c.str),n.md.validateLink(p)?R=c.pos:p="",b=R;R<k&&(r=n.src.charCodeAt(R),!(!rn(r)&&r!==10));R++);if(c=n.md.helpers.parseLinkTitle(n.src,R,n.posMax),R<k&&b!==R&&c.ok)for(g=c.str,R=c.pos;R<k&&(r=n.src.charCodeAt(R),!(!rn(r)&&r!==10));R++);}(R>=k||n.src.charCodeAt(R)!==41)&&(w=!0),R++}if(w){if(typeof n.env.references>"u")return!1;if(R<k&&n.src.charCodeAt(R)===91?(b=R+1,R=n.md.helpers.parseLinkLabel(n,R),R>=0?s=n.src.slice(b,R++):R=G+1):R=G+1,s||(s=n.src.slice(M,G)),l=n.env.references[ld(s)],!l)return n.pos=C,!1;p=l.href,g=l.title}if(!e){n.pos=M,n.posMax=G;const Z=n.push("link_open","a",1),U=[["href",p]];Z.attrs=U,g&&U.push(["title",g]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,n.push("link_close","a",-1)}return n.pos=R,n.posMax=k,!0}function nk(n,e){let r,s,c,l,p,g,b,w,C="";const k=n.pos,M=n.posMax;if(n.src.charCodeAt(n.pos)!==33||n.src.charCodeAt(n.pos+1)!==91)return!1;const G=n.pos+2,R=n.md.helpers.parseLinkLabel(n,n.pos+1,!1);if(R<0)return!1;if(l=R+1,l<M&&n.src.charCodeAt(l)===40){for(l++;l<M&&(r=n.src.charCodeAt(l),!(!rn(r)&&r!==10));l++);if(l>=M)return!1;for(w=l,g=n.md.helpers.parseLinkDestination(n.src,l,n.posMax),g.ok&&(C=n.md.normalizeLink(g.str),n.md.validateLink(C)?l=g.pos:C=""),w=l;l<M&&(r=n.src.charCodeAt(l),!(!rn(r)&&r!==10));l++);if(g=n.md.helpers.parseLinkTitle(n.src,l,n.posMax),l<M&&w!==l&&g.ok)for(b=g.str,l=g.pos;l<M&&(r=n.src.charCodeAt(l),!(!rn(r)&&r!==10));l++);else b="";if(l>=M||n.src.charCodeAt(l)!==41)return n.pos=k,!1;l++}else{if(typeof n.env.references>"u")return!1;if(l<M&&n.src.charCodeAt(l)===91?(w=l+1,l=n.md.helpers.parseLinkLabel(n,l),l>=0?c=n.src.slice(w,l++):l=R+1):l=R+1,c||(c=n.src.slice(G,R)),p=n.env.references[ld(c)],!p)return n.pos=k,!1;C=p.href,b=p.title}if(!e){s=n.src.slice(G,R);const Z=[];n.md.inline.parse(s,n.md,n.env,Z);const U=n.push("image","img",0),P=[["src",C],["alt",""]];U.attrs=P,U.children=Z,U.content=s,b&&P.push(["title",b])}return n.pos=l,n.posMax=M,!0}const rk=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,ok=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function ak(n,e){let r=n.pos;if(n.src.charCodeAt(r)!==60)return!1;const s=n.pos,c=n.posMax;for(;;){if(++r>=c)return!1;const p=n.src.charCodeAt(r);if(p===60)return!1;if(p===62)break}const l=n.src.slice(s+1,r);if(ok.test(l)){const p=n.md.normalizeLink(l);if(!n.md.validateLink(p))return!1;if(!e){const g=n.push("link_open","a",1);g.attrs=[["href",p]],g.markup="autolink",g.info="auto";const b=n.push("text","",0);b.content=n.md.normalizeLinkText(l);const w=n.push("link_close","a",-1);w.markup="autolink",w.info="auto"}return n.pos+=l.length+2,!0}if(rk.test(l)){const p=n.md.normalizeLink("mailto:"+l);if(!n.md.validateLink(p))return!1;if(!e){const g=n.push("link_open","a",1);g.attrs=[["href",p]],g.markup="autolink",g.info="auto";const b=n.push("text","",0);b.content=n.md.normalizeLinkText(l);const w=n.push("link_close","a",-1);w.markup="autolink",w.info="auto"}return n.pos+=l.length+2,!0}return!1}function sk(n){return/^<a[>\s]/i.test(n)}function uk(n){return/^<\/a\s*>/i.test(n)}function lk(n){const e=n|32;return e>=97&&e<=122}function ck(n,e){if(!n.md.options.html)return!1;const r=n.posMax,s=n.pos;if(n.src.charCodeAt(s)!==60||s+2>=r)return!1;const c=n.src.charCodeAt(s+1);if(c!==33&&c!==63&&c!==47&&!lk(c))return!1;const l=n.src.slice(s).match(B2);if(!l)return!1;if(!e){const p=n.push("html_inline","",0);p.content=l[0],sk(p.content)&&n.linkLevel++,uk(p.content)&&n.linkLevel--}return n.pos+=l[0].length,!0}const fk=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,hk=/^&([a-z][a-z0-9]{1,31});/i;function dk(n,e){const r=n.pos,s=n.posMax;if(n.src.charCodeAt(r)!==38||r+1>=s)return!1;if(n.src.charCodeAt(r+1)===35){const l=n.src.slice(r).match(fk);if(l){if(!e){const p=l[1][0].toLowerCase()==="x"?parseInt(l[1].slice(1),16):parseInt(l[1],10),g=n.push("text_special","",0);g.content=Xp(p)?$h(p):$h(65533),g.markup=l[0],g.info="entity"}return n.pos+=l[0].length,!0}}else{const l=n.src.slice(r).match(hk);if(l){const p=Mg(l[0]);if(p!==l[0]){if(!e){const g=n.push("text_special","",0);g.content=p,g.markup=l[0],g.info="entity"}return n.pos+=l[0].length,!0}}}return!1}function M0(n){const e={},r=n.length;if(!r)return;let s=0,c=-2;const l=[];for(let p=0;p<r;p++){const g=n[p];if(l.push(0),(n[s].marker!==g.marker||c!==g.token-1)&&(s=p),c=g.token,g.length=g.length||0,!g.close)continue;e.hasOwnProperty(g.marker)||(e[g.marker]=[-1,-1,-1,-1,-1,-1]);const b=e[g.marker][(g.open?3:0)+g.length%3];let w=s-l[s]-1,C=w;for(;w>b;w-=l[w]+1){const k=n[w];if(k.marker===g.marker&&k.open&&k.end<0){let M=!1;if((k.close||g.open)&&(k.length+g.length)%3===0&&(k.length%3!==0||g.length%3!==0)&&(M=!0),!M){const G=w>0&&!n[w-1].open?l[w-1]+1:0;l[p]=p-w+G,l[w]=G,g.open=!1,k.end=p,k.close=!1,C=-1,c=-2;break}}}C!==-1&&(e[g.marker][(g.open?3:0)+(g.length||0)%3]=C)}}function pk(n){const e=n.tokens_meta,r=n.tokens_meta.length;M0(n.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&M0(e[s].delimiters)}function mk(n){let e,r,s=0;const c=n.tokens,l=n.tokens.length;for(e=r=0;e<l;e++)c[e].nesting<0&&s--,c[e].level=s,c[e].nesting>0&&s++,c[e].type==="text"&&e+1<l&&c[e+1].type==="text"?c[e+1].content=c[e].content+c[e+1].content:(e!==r&&(c[r]=c[e]),r++);e!==r&&(c.length=r)}const Qd=[["text",G2],["linkify",Y2],["newline",V2],["escape",K2],["backticks",$2],["strikethrough",zg.tokenize],["emphasis",Bg.tokenize],["link",ik],["image",nk],["autolink",ak],["html_inline",ck],["entity",dk]],Jd=[["balance_pairs",pk],["strikethrough",zg.postProcess],["emphasis",Bg.postProcess],["fragments_join",mk]];function yf(){this.ruler=new _o;for(let n=0;n<Qd.length;n++)this.ruler.push(Qd[n][0],Qd[n][1]);this.ruler2=new _o;for(let n=0;n<Jd.length;n++)this.ruler2.push(Jd[n][0],Jd[n][1])}yf.prototype.skipToken=function(n){const e=n.pos,r=this.ruler.getRules(""),s=r.length,c=n.md.options.maxNesting,l=n.cache;if(typeof l[e]<"u"){n.pos=l[e];return}let p=!1;if(n.level<c){for(let g=0;g<s;g++)if(n.level++,p=r[g](n,!0),n.level--,p){if(e>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}else n.pos=n.posMax;p||n.pos++,l[e]=n.pos};yf.prototype.tokenize=function(n){const e=this.ruler.getRules(""),r=e.length,s=n.posMax,c=n.md.options.maxNesting;for(;n.pos<s;){const l=n.pos;let p=!1;if(n.level<c){for(let g=0;g<r;g++)if(p=e[g](n,!1),p){if(l>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}if(p){if(n.pos>=s)break;continue}n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};yf.prototype.parse=function(n,e,r,s){const c=new this.State(n,e,r,s);this.tokenize(c);const l=this.ruler2.getRules(""),p=l.length;for(let g=0;g<p;g++)l[g](c)};yf.prototype.State=_f;function gk(n){const e={};n=n||{},e.src_Any=Sg.source,e.src_Cc=Tg.source,e.src_Z=Lg.source,e.src_P=Zp.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const r="[><｜]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!"+(n["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function bp(n){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(s){n[s]=r[s]})}),n}function fd(n){return Object.prototype.toString.call(n)}function vk(n){return fd(n)==="[object String]"}function bk(n){return fd(n)==="[object Object]"}function _k(n){return fd(n)==="[object RegExp]"}function P0(n){return fd(n)==="[object Function]"}function yk(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Hg={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function xk(n){return Object.keys(n||{}).reduce(function(e,r){return e||Hg.hasOwnProperty(r)},!1)}const wk={"http:":{validate:function(n,e,r){const s=n.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(s)?s.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,e,r){const s=n.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(s)?e>=3&&n[e-3]===":"||e>=3&&n[e-3]==="/"?0:s.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(n,e,r){const s=n.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(s)?s.match(r.re.mailto)[0].length:0}}},kk="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Ck="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Ek(n){n.__index__=-1,n.__text_cache__=""}function Sk(n){return function(e,r){const s=e.slice(r);return n.test(s)?s.match(n)[0].length:0}}function O0(){return function(n,e){e.normalize(n)}}function Qh(n){const e=n.re=gk(n.__opts__),r=n.__tlds__.slice();n.onCompile(),n.__tlds_replaced__||r.push(kk),r.push(e.src_xn),e.src_tlds=r.join("|");function s(g){return g.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const c=[];n.__compiled__={};function l(g,b){throw new Error('(LinkifyIt) Invalid schema "'+g+'": '+b)}Object.keys(n.__schemas__).forEach(function(g){const b=n.__schemas__[g];if(b===null)return;const w={validate:null,link:null};if(n.__compiled__[g]=w,bk(b)){_k(b.validate)?w.validate=Sk(b.validate):P0(b.validate)?w.validate=b.validate:l(g,b),P0(b.normalize)?w.normalize=b.normalize:b.normalize?l(g,b):w.normalize=O0();return}if(vk(b)){c.push(g);return}l(g,b)}),c.forEach(function(g){n.__compiled__[n.__schemas__[g]]&&(n.__compiled__[g].validate=n.__compiled__[n.__schemas__[g]].validate,n.__compiled__[g].normalize=n.__compiled__[n.__schemas__[g]].normalize)}),n.__compiled__[""]={validate:null,normalize:O0()};const p=Object.keys(n.__compiled__).filter(function(g){return g.length>0&&n.__compiled__[g]}).map(yk).join("|");n.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+p+")","i"),n.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+p+")","ig"),n.re.schema_at_start=RegExp("^"+n.re.schema_search.source,"i"),n.re.pretest=RegExp("("+n.re.schema_test.source+")|("+n.re.host_fuzzy_test.source+")|@","i"),Ek(n)}function Tk(n,e){const r=n.__index__,s=n.__last_index__,c=n.__text_cache__.slice(r,s);this.schema=n.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=s+e,this.raw=c,this.text=c,this.url=c}function _p(n,e){const r=new Tk(n,e);return n.__compiled__[r.schema].normalize(r,n),r}function qo(n,e){if(!(this instanceof qo))return new qo(n,e);e||xk(n)&&(e=n,n={}),this.__opts__=bp({},Hg,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=bp({},wk,n),this.__compiled__={},this.__tlds__=Ck,this.__tlds_replaced__=!1,this.re={},Qh(this)}qo.prototype.add=function(e,r){return this.__schemas__[e]=r,Qh(this),this};qo.prototype.set=function(e){return this.__opts__=bp(this.__opts__,e),this};qo.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let r,s,c,l,p,g,b,w,C;if(this.re.schema_test.test(e)){for(b=this.re.schema_search,b.lastIndex=0;(r=b.exec(e))!==null;)if(l=this.testSchemaAt(e,r[2],b.lastIndex),l){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+l;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(w=e.search(this.re.host_fuzzy_test),w>=0&&(this.__index__<0||w<this.__index__)&&(s=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(p=s.index+s[1].length,(this.__index__<0||p<this.__index__)&&(this.__schema__="",this.__index__=p,this.__last_index__=s.index+s[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(C=e.indexOf("@"),C>=0&&(c=e.match(this.re.email_fuzzy))!==null&&(p=c.index+c[1].length,g=c.index+c[0].length,(this.__index__<0||p<this.__index__||p===this.__index__&&g>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=p,this.__last_index__=g))),this.__index__>=0};qo.prototype.pretest=function(e){return this.re.pretest.test(e)};qo.prototype.testSchemaAt=function(e,r,s){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,s,this):0};qo.prototype.match=function(e){const r=[];let s=0;this.__index__>=0&&this.__text_cache__===e&&(r.push(_p(this,s)),s=this.__last_index__);let c=s?e.slice(s):e;for(;this.test(c);)r.push(_p(this,s)),c=c.slice(this.__last_index__),s+=this.__last_index__;return r.length?r:null};qo.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const r=this.re.schema_at_start.exec(e);if(!r)return null;const s=this.testSchemaAt(e,r[2],r[0].length);return s?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s,_p(this,0)):null};qo.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(s,c,l){return s!==l[c-1]}).reverse(),Qh(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Qh(this),this)};qo.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};qo.prototype.onCompile=function(){};const ic=2147483647,us=36,Kp=1,pf=26,Ak=38,Lk=700,Ug=72,Wg=128,qg="-",Dk=/^xn--/,Mk=/[^\0-\x7F]/,Pk=/[\x2E\u3002\uFF0E\uFF61]/g,Ok={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ep=us-Kp,ls=Math.floor,tp=String.fromCharCode;function xu(n){throw new RangeError(Ok[n])}function Ik(n,e){const r=[];let s=n.length;for(;s--;)r[s]=e(n[s]);return r}function jg(n,e){const r=n.split("@");let s="";r.length>1&&(s=r[0]+"@",n=r[1]),n=n.replace(Pk,".");const c=n.split("."),l=Ik(c,e).join(".");return s+l}function Zg(n){const e=[];let r=0;const s=n.length;for(;r<s;){const c=n.charCodeAt(r++);if(c>=55296&&c<=56319&&r<s){const l=n.charCodeAt(r++);(l&64512)==56320?e.push(((c&1023)<<10)+(l&1023)+65536):(e.push(c),r--)}else e.push(c)}return e}const Fk=n=>String.fromCodePoint(...n),Rk=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:us},I0=function(n,e){return n+22+75*(n<26)-((e!=0)<<5)},Gg=function(n,e,r){let s=0;for(n=r?ls(n/Lk):n>>1,n+=ls(n/e);n>ep*pf>>1;s+=us)n=ls(n/ep);return ls(s+(ep+1)*n/(n+Ak))},Xg=function(n){const e=[],r=n.length;let s=0,c=Wg,l=Ug,p=n.lastIndexOf(qg);p<0&&(p=0);for(let g=0;g<p;++g)n.charCodeAt(g)>=128&&xu("not-basic"),e.push(n.charCodeAt(g));for(let g=p>0?p+1:0;g<r;){const b=s;for(let C=1,k=us;;k+=us){g>=r&&xu("invalid-input");const M=Rk(n.charCodeAt(g++));M>=us&&xu("invalid-input"),M>ls((ic-s)/C)&&xu("overflow"),s+=M*C;const G=k<=l?Kp:k>=l+pf?pf:k-l;if(M<G)break;const R=us-G;C>ls(ic/R)&&xu("overflow"),C*=R}const w=e.length+1;l=Gg(s-b,w,b==0),ls(s/w)>ic-c&&xu("overflow"),c+=ls(s/w),s%=w,e.splice(s++,0,c)}return String.fromCodePoint(...e)},Yg=function(n){const e=[];n=Zg(n);const r=n.length;let s=Wg,c=0,l=Ug;for(const b of n)b<128&&e.push(tp(b));const p=e.length;let g=p;for(p&&e.push(qg);g<r;){let b=ic;for(const C of n)C>=s&&C<b&&(b=C);const w=g+1;b-s>ls((ic-c)/w)&&xu("overflow"),c+=(b-s)*w,s=b;for(const C of n)if(C<s&&++c>ic&&xu("overflow"),C===s){let k=c;for(let M=us;;M+=us){const G=M<=l?Kp:M>=l+pf?pf:M-l;if(k<G)break;const R=k-G,Z=us-G;e.push(tp(I0(G+R%Z,0))),k=ls(R/Z)}e.push(tp(I0(k,0))),l=Gg(c,w,g===p),c=0,++g}++c,++s}return e.join("")},Nk=function(n){return jg(n,function(e){return Dk.test(e)?Xg(e.slice(4).toLowerCase()):e})},zk=function(n){return jg(n,function(e){return Mk.test(e)?"xn--"+Yg(e):e})},Vg={version:"2.3.1",ucs2:{decode:Zg,encode:Fk},decode:Xg,encode:Yg,toASCII:zk,toUnicode:Nk},Bk={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Hk={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Uk={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Wk={default:Bk,zero:Hk,commonmark:Uk},qk=/^(vbscript|javascript|file|data):/,jk=/^data:image\/(gif|png|jpeg|webp);/;function Zk(n){const e=n.trim().toLowerCase();return qk.test(e)?jk.test(e):!0}const Kg=["http:","https:","mailto:"];function Gk(n){const e=jp(n,!0);if(e.hostname&&(!e.protocol||Kg.indexOf(e.protocol)>=0))try{e.hostname=Vg.toASCII(e.hostname)}catch{}return bf(qp(e))}function Xk(n){const e=jp(n,!0);if(e.hostname&&(!e.protocol||Kg.indexOf(e.protocol)>=0))try{e.hostname=Vg.toUnicode(e.hostname)}catch{}return ac(qp(e),ac.defaultChars+"%")}function fa(n,e){if(!(this instanceof fa))return new fa(n,e);e||Gp(n)||(e=n||{},n="default"),this.inline=new yf,this.block=new cd,this.core=new Yp,this.renderer=new fc,this.linkify=new qo,this.validateLink=Zk,this.normalizeLink=Gk,this.normalizeLinkText=Xk,this.utils=Vw,this.helpers=ud({},Jw),this.options={},this.configure(n),e&&this.set(e)}fa.prototype.set=function(n){return ud(this.options,n),this};fa.prototype.configure=function(n){const e=this;if(Gp(n)){const r=n;if(n=Wk[r],!n)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&e.set(n.options),n.components&&Object.keys(n.components).forEach(function(r){n.components[r].rules&&e[r].ruler.enableOnly(n.components[r].rules),n.components[r].rules2&&e[r].ruler2.enableOnly(n.components[r].rules2)}),this};fa.prototype.enable=function(n,e){let r=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(c){r=r.concat(this[c].ruler.enable(n,!0))},this),r=r.concat(this.inline.ruler2.enable(n,!0));const s=n.filter(function(c){return r.indexOf(c)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this};fa.prototype.disable=function(n,e){let r=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(c){r=r.concat(this[c].ruler.disable(n,!0))},this),r=r.concat(this.inline.ruler2.disable(n,!0));const s=n.filter(function(c){return r.indexOf(c)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this};fa.prototype.use=function(n){const e=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,e),this};fa.prototype.parse=function(n,e){if(typeof n!="string")throw new Error("Input data should be a String");const r=new this.core.State(n,this,e);return this.core.process(r),r.tokens};fa.prototype.render=function(n,e){return e=e||{},this.renderer.render(this.parse(n,e),this.options,e)};fa.prototype.parseInline=function(n,e){const r=new this.core.State(n,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};fa.prototype.renderInline=function(n,e){return e=e||{},this.renderer.render(this.parseInline(n,e),this.options,e)};function Yk(n,e,r,s){const c=Number(n[e].meta.id+1).toString();let l="";return typeof s.docId=="string"&&(l=`-${s.docId}-`),l+c}function Vk(n,e){let r=Number(n[e].meta.id+1).toString();return n[e].meta.subId>0&&(r+=`:${n[e].meta.subId}`),`[${r}]`}function Kk(n,e,r,s,c){const l=c.rules.footnote_anchor_name(n,e,r,s,c),p=c.rules.footnote_caption(n,e,r,s,c);let g=l;return n[e].meta.subId>0&&(g+=`:${n[e].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${l}" id="fnref${g}">${p}</a></sup>`}function $k(n,e,r){return(r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function Qk(){return`</ol>
</section>
`}function Jk(n,e,r,s,c){let l=c.rules.footnote_anchor_name(n,e,r,s,c);return n[e].meta.subId>0&&(l+=`:${n[e].meta.subId}`),`<li id="fn${l}" class="footnote-item">`}function eC(){return`</li>
`}function tC(n,e,r,s,c){let l=c.rules.footnote_anchor_name(n,e,r,s,c);return n[e].meta.subId>0&&(l+=`:${n[e].meta.subId}`),` <a href="#fnref${l}" class="footnote-backref">↩︎</a>`}function iC(n){const e=n.helpers.parseLinkLabel,r=n.utils.isSpace;n.renderer.rules.footnote_ref=Kk,n.renderer.rules.footnote_block_open=$k,n.renderer.rules.footnote_block_close=Qk,n.renderer.rules.footnote_open=Jk,n.renderer.rules.footnote_close=eC,n.renderer.rules.footnote_anchor=tC,n.renderer.rules.footnote_caption=Vk,n.renderer.rules.footnote_anchor_name=Yk;function s(g,b,w,C){const k=g.bMarks[b]+g.tShift[b],M=g.eMarks[b];if(k+4>M||g.src.charCodeAt(k)!==91||g.src.charCodeAt(k+1)!==94)return!1;let G;for(G=k+2;G<M;G++){if(g.src.charCodeAt(G)===32)return!1;if(g.src.charCodeAt(G)===93)break}if(G===k+2||G+1>=M||g.src.charCodeAt(++G)!==58)return!1;if(C)return!0;G++,g.env.footnotes||(g.env.footnotes={}),g.env.footnotes.refs||(g.env.footnotes.refs={});const R=g.src.slice(k+2,G-2);g.env.footnotes.refs[`:${R}`]=-1;const Z=new g.Token("footnote_reference_open","",1);Z.meta={label:R},Z.level=g.level++,g.tokens.push(Z);const U=g.bMarks[b],P=g.tShift[b],E=g.sCount[b],D=g.parentType,W=G,B=g.sCount[b]+G-(g.bMarks[b]+g.tShift[b]);let H=B;for(;G<M;){const ee=g.src.charCodeAt(G);if(r(ee))ee===9?H+=4-H%4:H++;else break;G++}g.tShift[b]=G-W,g.sCount[b]=H-B,g.bMarks[b]=W,g.blkIndent+=4,g.parentType="footnote",g.sCount[b]<g.blkIndent&&(g.sCount[b]+=g.blkIndent),g.md.block.tokenize(g,b,w,!0),g.parentType=D,g.blkIndent-=4,g.tShift[b]=P,g.sCount[b]=E,g.bMarks[b]=U;const j=new g.Token("footnote_reference_close","",-1);return j.level=--g.level,g.tokens.push(j),!0}function c(g,b){const w=g.posMax,C=g.pos;if(C+2>=w||g.src.charCodeAt(C)!==94||g.src.charCodeAt(C+1)!==91)return!1;const k=C+2,M=e(g,C+1);if(M<0)return!1;if(!b){g.env.footnotes||(g.env.footnotes={}),g.env.footnotes.list||(g.env.footnotes.list=[]);const G=g.env.footnotes.list.length,R=[];g.md.inline.parse(g.src.slice(k,M),g.md,g.env,R);const Z=g.push("footnote_ref","",0);Z.meta={id:G},g.env.footnotes.list[G]={content:g.src.slice(k,M),tokens:R}}return g.pos=M+1,g.posMax=w,!0}function l(g,b){const w=g.posMax,C=g.pos;if(C+3>w||!g.env.footnotes||!g.env.footnotes.refs||g.src.charCodeAt(C)!==91||g.src.charCodeAt(C+1)!==94)return!1;let k;for(k=C+2;k<w;k++){if(g.src.charCodeAt(k)===32||g.src.charCodeAt(k)===10)return!1;if(g.src.charCodeAt(k)===93)break}if(k===C+2||k>=w)return!1;k++;const M=g.src.slice(C+2,k-1);if(typeof g.env.footnotes.refs[`:${M}`]>"u")return!1;if(!b){g.env.footnotes.list||(g.env.footnotes.list=[]);let G;g.env.footnotes.refs[`:${M}`]<0?(G=g.env.footnotes.list.length,g.env.footnotes.list[G]={label:M,count:0},g.env.footnotes.refs[`:${M}`]=G):G=g.env.footnotes.refs[`:${M}`];const R=g.env.footnotes.list[G].count;g.env.footnotes.list[G].count++;const Z=g.push("footnote_ref","",0);Z.meta={id:G,subId:R,label:M}}return g.pos=k,g.posMax=w,!0}function p(g){let b,w,C,k=!1;const M={};if(!g.env.footnotes||(g.tokens=g.tokens.filter(function(R){return R.type==="footnote_reference_open"?(k=!0,w=[],C=R.meta.label,!1):R.type==="footnote_reference_close"?(k=!1,M[":"+C]=w,!1):(k&&w.push(R),!k)}),!g.env.footnotes.list))return;const G=g.env.footnotes.list;g.tokens.push(new g.Token("footnote_block_open","",1));for(let R=0,Z=G.length;R<Z;R++){const U=new g.Token("footnote_open","",1);if(U.meta={id:R,label:G[R].label},g.tokens.push(U),G[R].tokens){b=[];const D=new g.Token("paragraph_open","p",1);D.block=!0,b.push(D);const W=new g.Token("inline","",0);W.children=G[R].tokens,W.content=G[R].content,b.push(W);const B=new g.Token("paragraph_close","p",-1);B.block=!0,b.push(B)}else G[R].label&&(b=M[`:${G[R].label}`]);b&&(g.tokens=g.tokens.concat(b));let P;g.tokens[g.tokens.length-1].type==="paragraph_close"?P=g.tokens.pop():P=null;const E=G[R].count>0?G[R].count:1;for(let D=0;D<E;D++){const W=new g.Token("footnote_anchor","",0);W.meta={id:R,subId:D,label:G[R].label},g.tokens.push(W)}P&&g.tokens.push(P),g.tokens.push(new g.Token("footnote_close","",-1))}g.tokens.push(new g.Token("footnote_block_close","",-1))}n.block.ruler.before("reference","footnote_def",s,{alt:["paragraph","reference"]}),n.inline.ruler.after("image","footnote_inline",c),n.inline.ruler.after("footnote_inline","footnote_ref",l),n.core.ruler.after("inline","footnote_tail",p)}class nC{constructor(e,r){this.markdownit=new fa,this.markdownit.use(iC),this.textarea=e,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&this.textarea.getAttribute("dir")==="rtl"?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled"}),this.editor.addKeyMap({"Ctrl-B":s=>{s.replaceSelections(this.boldSelections())},"Ctrl-I":s=>{s.replaceSelections(this.italicSelections())},"Cmd-B":s=>{s.replaceSelections(this.boldSelections())},"Cmd-I":s=>{s.replaceSelections(this.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=r,this.buttonCode=null,this.buttonPreview=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){if(this.editor.on("change",this.textareaChange),!this.cont||!this.textarea)return;this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),this.editor.getOption("readOnly")===!0&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(g=>{g.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(g=>{g.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(g=>{g.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(g=>{g.setAttribute("data-index",this.index)}),this.$editor.setAttribute("data-index",this.index);const l=document.createElement("div");l.classList.add("markdown-editor-tabs"),this.$editor.before(l),this.tabs=l,this.previewContainer=document.getElementById("codemirror-preview-containers");const p=document.createElement("div");p.classList.add("markdown-editor-preview"),this.$editor.after(p),this.preview=p,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&this.textarea.getAttribute("data-max-length")!==""&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=xh(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")!==""&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")===""&&this.textarea.getAttribute("data-max-length")===""&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&(xh(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,Vh(this.cont,"content-limit")):xh(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,Vh(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(g=>{g.addEventListener("click",this.buttonPreviewClick)}),this.buttons.forEach(g=>{g.addEventListener("click",this.buttonClick)}),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(g=>{g.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()})}async onDropFile(e,r){r.preventDefault(r);for(let s=0;s<r.dataTransfer.files.length;s++){window.Rozier.lazyload.canvasLoader.show();let c=r.dataTransfer.files[s],l=new FormData;l.append("_token",window.RozierConfig.ajaxToken),l.append("form[attachment]",c);const p=await fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json"},body:l});if(p.ok){const g=await p.json();await window.Rozier.getMessages(),this.onDropFileUploaded(e,g)}else{const g=await p.json();g.errors&&window.UIkit.notify({message:g.message,status:"danger",timeout:2e3,pos:"top-center"})}}}onDropFileUploaded(e,r){if(window.Rozier.lazyload.canvasLoader.hide(),r.success===!0){let s="!["+r.document.name+"]("+r.document.url+")";e.replaceSelection(s)}}forceEditorUpdate(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}buttonClick(e){if(this.editor.getOption("readOnly")===!0)return!1;let r=e.currentTarget,s=this.editor.getSelections();if(s.length>0){switch(r.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(s));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(s));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(s));break;case"link":this.editor.replaceSelections(this.linkSelections(s));break;case"image":this.editor.replaceSelections(this.imageSelections(s));break;case"bold":this.editor.replaceSelections(this.boldSelections(s));break;case"italic":this.editor.replaceSelections(this.italicSelections(s));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(s));break;case"h2":this.editor.replaceSelections(this.h2Selections(s));break;case"h3":this.editor.replaceSelections(this.h3Selections(s));break;case"h4":this.editor.replaceSelections(this.h4Selections(s));break;case"h5":this.editor.replaceSelections(this.h5Selections(s));break;case"h6":this.editor.replaceSelections(this.h6Selections(s));break;case"back":this.editor.replaceSelections(this.backSelections(s));break;case"hr":this.editor.replaceSelections(this.hrSelections(s));break}this.editor.focus()}}backSelections(e){for(let r in e)e[r]=`   
`;return e}hrSelections(e){for(let r in e)e[r]=`

---

`;return e}nbspSelections(e){for(let r in e)e[r]=" ";return e}nbHyphenSelections(e){for(let r in e)e[r]="‑";return e}listUlSelections(e){for(let r in e)e[r]=`

* `+e[r]+`

`;return e}linkSelections(e){for(let r in e)e[r]="["+e[r]+"](http://)";return e}imageSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="!["+e[r]+"](/files/)";return e}boldSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="**"+e[r]+"**";return e}italicSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="*"+e[r]+"*";return e}h2Selections(e){for(let r in e)e[r]=`
## `+e[r]+`
`;return e}h3Selections(e){for(let r in e)e[r]=`
### `+e[r]+`
`;return e}h4Selections(e){for(let r in e)e[r]=`
#### `+e[r]+`
`;return e}h5Selections(e){for(let r in e)e[r]=`
##### `+e[r]+`
`;return e}h6Selections(e){for(let r in e)e[r]=`
###### `+e[r]+`
`;return e}blockquoteSelections(e){for(let r in e)e[r]=`
> `+e[r]+`
`;return e}textareaChange(){this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(()=>{this.preview.innerHTML=this.markdownit.render(this.editor.getValue())})),this.limit&&window.requestAnimationFrame(()=>{let e=this.editor.getValue(),s=xh(e).length;this.countCurrent[0].innerHTML=s,s>this.countMaxLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):s<this.countMinLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):this.countAlertActive&&(this.cont.classList.remove("content-limit"),this.countAlertActive=!1)})}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}buttonPreviewClick(e){e.preventDefault();let r=this.preview.offsetWidth;if(this.usePreview)this.closePreview();else{this.usePreview=!0,this.buttonPreview.forEach(c=>{c.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),Xh.fromTo(this.preview,1,{x:r*-1,opacity:0},{x:0,ease:Yh.easeOut,opacity:1}),window.addEventListener("keyup",this.closePreview);let s=new CustomEvent("markdownPreviewOpen",{detail:this});document.body.dispatchEvent(s)}}closePreview(e){if(e)if(e.keyCode===27)e.preventDefault();else return;let r=this.preview.offsetWidth;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(s=>{s.classList.remove("uk-active","active")}),Xh.fromTo(this.preview,1,{x:0,opacity:1},{x:r*-1,opacity:0,ease:Yh.easeOut,onComplete:()=>{this.preview.classList.remove("active")}})}destroy(){this.preview.remove()}resize(){}}class rC{constructor(e,r){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class oC{constructor(e,r){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:c=>c.execCommand("indentMore"),"Shift-Tab":c=>c.execCommand("indentLess")}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}var Qc={exports:{}};/* @preserve
 * Leaflet 1.9.2, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var aC=Qc.exports,F0;function sC(){return F0||(F0=1,function(n,e){(function(r,s){s(e)})(aC,function(r){var s="1.9.2";function c(o){var d,_,S,N;for(_=1,S=arguments.length;_<S;_++){N=arguments[_];for(d in N)o[d]=N[d]}return o}var l=Object.create||function(){function o(){}return function(d){return o.prototype=d,new o}}();function p(o,d){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var S=_.call(arguments,2);return function(){return o.apply(d,S.length?S.concat(_.call(arguments)):arguments)}}var g=0;function b(o){return"_leaflet_id"in o||(o._leaflet_id=++g),o._leaflet_id}function w(o,d,_){var S,N,re,Ee;return Ee=function(){S=!1,N&&(re.apply(_,N),N=!1)},re=function(){S?N=arguments:(o.apply(_,arguments),setTimeout(Ee,d),S=!0)},re}function C(o,d,_){var S=d[1],N=d[0],re=S-N;return o===S&&_?o:((o-N)%re+re)%re+N}function k(){return!1}function M(o,d){if(d===!1)return o;var _=Math.pow(10,d===void 0?6:d);return Math.round(o*_)/_}function G(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function R(o){return G(o).split(/\s+/)}function Z(o,d){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var _ in d)o.options[_]=d[_];return o.options}function U(o,d,_){var S=[];for(var N in o)S.push(encodeURIComponent(_?N.toUpperCase():N)+"="+encodeURIComponent(o[N]));return(!d||d.indexOf("?")===-1?"?":"&")+S.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function E(o,d){return o.replace(P,function(_,S){var N=d[S];if(N===void 0)throw new Error("No value provided for variable "+_);return typeof N=="function"&&(N=N(d)),N})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function W(o,d){for(var _=0;_<o.length;_++)if(o[_]===d)return _;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var j=0;function ee(o){var d=+new Date,_=Math.max(0,16-(d-j));return j=d+_,window.setTimeout(o,_)}var fe=window.requestAnimationFrame||H("RequestAnimationFrame")||ee,me=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ue(o,d,_){if(_&&fe===ee)o.call(d);else return fe.call(window,p(o,d))}function De(o){o&&me.call(window,o)}var be={__proto__:null,extend:c,create:l,bind:p,get lastId(){return g},stamp:b,throttle:w,wrapNum:C,falseFn:k,formatNum:M,trim:G,splitWords:R,setOptions:Z,getParamString:U,template:E,isArray:D,indexOf:W,emptyImageUrl:B,requestFn:fe,cancelFn:me,requestAnimFrame:ue,cancelAnimFrame:De};function te(){}te.extend=function(o){var d=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=d.__super__=this.prototype,S=l(_);S.constructor=d,d.prototype=S;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(d[N]=this[N]);return o.statics&&c(d,o.statics),o.includes&&(T(o.includes),c.apply(null,[S].concat(o.includes))),c(S,o),delete S.statics,delete S.includes,S.options&&(S.options=_.options?l(_.options):{},c(S.options,o.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var re=0,Ee=S._initHooks.length;re<Ee;re++)S._initHooks[re].call(this)}},d},te.include=function(o){var d=this.prototype.options;return c(this.prototype,o),o.options&&(this.prototype.options=d,this.mergeOptions(o.options)),this},te.mergeOptions=function(o){return c(this.prototype.options,o),this},te.addInitHook=function(o){var d=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function T(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var d=0;d<o.length;d++)o[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(o,d,_){if(typeof o=="object")for(var S in o)this._on(S,o[S],d);else{o=R(o);for(var N=0,re=o.length;N<re;N++)this._on(o[N],d,_)}return this},off:function(o,d,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var S in o)this._off(S,o[S],d);else{o=R(o);for(var N=arguments.length===1,re=0,Ee=o.length;re<Ee;re++)N?this._off(o[re]):this._off(o[re],d,_)}return this},_on:function(o,d,_,S){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(o,d,_)===!1){_===this&&(_=void 0);var N={fn:d,ctx:_};S&&(N.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(N)}},_off:function(o,d,_){var S,N,re;if(this._events&&(S=this._events[o],!!S)){if(arguments.length===1){if(this._firingCount)for(N=0,re=S.length;N<re;N++)S[N].fn=k;delete this._events[o];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var Ee=this._listens(o,d,_);if(Ee!==!1){var qe=S[Ee];this._firingCount&&(qe.fn=k,this._events[o]=S=S.slice()),S.splice(Ee,1)}}},fire:function(o,d,_){if(!this.listens(o,_))return this;var S=c({},d,{type:o,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var N=this._events[o];if(N){this._firingCount=this._firingCount+1||1;for(var re=0,Ee=N.length;re<Ee;re++){var qe=N[re],je=qe.fn;qe.once&&this.off(o,je,qe.ctx),je.call(qe.ctx||this,S)}this._firingCount--}}return _&&this._propagateEvent(S),this},listens:function(o,d,_,S){typeof o!="string"&&console.warn('"string" type argument expected');var N=d;typeof d!="function"&&(S=!!d,N=void 0,_=void 0);var re=this._events&&this._events[o];if(re&&re.length&&this._listens(o,N,_)!==!1)return!0;if(S){for(var Ee in this._eventParents)if(this._eventParents[Ee].listens(o,d,_,S))return!0}return!1},_listens:function(o,d,_){if(!this._events)return!1;var S=this._events[o]||[];if(!d)return!!S.length;_===this&&(_=void 0);for(var N=0,re=S.length;N<re;N++)if(S[N].fn===d&&S[N].ctx===_)return N;return!1},once:function(o,d,_){if(typeof o=="object")for(var S in o)this._on(S,o[S],d,!0);else{o=R(o);for(var N=0,re=o.length;N<re;N++)this._on(o[N],d,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[b(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[b(o)],this},_propagateEvent:function(o){for(var d in this._eventParents)this._eventParents[d].fire(o.type,c({layer:o.target,propagatedFrom:o.target},o),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ve=te.extend(se);function we(o,d,_){this.x=_?Math.round(o):o,this.y=_?Math.round(d):d}var Ve=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};we.prototype={clone:function(){return new we(this.x,this.y)},add:function(o){return this.clone()._add(We(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(We(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new we(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new we(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ve(this.x),this.y=Ve(this.y),this},distanceTo:function(o){o=We(o);var d=o.x-this.x,_=o.y-this.y;return Math.sqrt(d*d+_*_)},equals:function(o){return o=We(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=We(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function We(o,d,_){return o instanceof we?o:D(o)?new we(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new we(o.x,o.y):new we(o,d,_)}function ke(o,d){if(o)for(var _=d?[o,d]:o,S=0,N=_.length;S<N;S++)this.extend(_[S])}ke.prototype={extend:function(o){var d,_;if(!o)return this;if(o instanceof we||typeof o[0]=="number"||"x"in o)d=_=We(o);else if(o=K(o),d=o.min,_=o.max,!d||!_)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=_.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return We((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return We(this.min.x,this.max.y)},getTopRight:function(){return We(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var d,_;return typeof o[0]=="number"||o instanceof we?o=We(o):o=K(o),o instanceof ke?(d=o.min,_=o.max):d=_=o,d.x>=this.min.x&&_.x<=this.max.x&&d.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=K(o);var d=this.min,_=this.max,S=o.min,N=o.max,re=N.x>=d.x&&S.x<=_.x,Ee=N.y>=d.y&&S.y<=_.y;return re&&Ee},overlaps:function(o){o=K(o);var d=this.min,_=this.max,S=o.min,N=o.max,re=N.x>d.x&&S.x<_.x,Ee=N.y>d.y&&S.y<_.y;return re&&Ee},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var d=this.min,_=this.max,S=Math.abs(d.x-_.x)*o,N=Math.abs(d.y-_.y)*o;return K(We(d.x-S,d.y-N),We(_.x+S,_.y+N))},equals:function(o){return o?(o=K(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function K(o,d){return!o||o instanceof ke?o:new ke(o,d)}function F(o,d){if(o)for(var _=d?[o,d]:o,S=0,N=_.length;S<N;S++)this.extend(_[S])}F.prototype={extend:function(o){var d=this._southWest,_=this._northEast,S,N;if(o instanceof Pe)S=o,N=o;else if(o instanceof F){if(S=o._southWest,N=o._northEast,!S||!N)return this}else return o?this.extend(q(o)||Ce(o)):this;return!d&&!_?(this._southWest=new Pe(S.lat,S.lng),this._northEast=new Pe(N.lat,N.lng)):(d.lat=Math.min(S.lat,d.lat),d.lng=Math.min(S.lng,d.lng),_.lat=Math.max(N.lat,_.lat),_.lng=Math.max(N.lng,_.lng)),this},pad:function(o){var d=this._southWest,_=this._northEast,S=Math.abs(d.lat-_.lat)*o,N=Math.abs(d.lng-_.lng)*o;return new F(new Pe(d.lat-S,d.lng-N),new Pe(_.lat+S,_.lng+N))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Pe||"lat"in o?o=q(o):o=Ce(o);var d=this._southWest,_=this._northEast,S,N;return o instanceof F?(S=o.getSouthWest(),N=o.getNorthEast()):S=N=o,S.lat>=d.lat&&N.lat<=_.lat&&S.lng>=d.lng&&N.lng<=_.lng},intersects:function(o){o=Ce(o);var d=this._southWest,_=this._northEast,S=o.getSouthWest(),N=o.getNorthEast(),re=N.lat>=d.lat&&S.lat<=_.lat,Ee=N.lng>=d.lng&&S.lng<=_.lng;return re&&Ee},overlaps:function(o){o=Ce(o);var d=this._southWest,_=this._northEast,S=o.getSouthWest(),N=o.getNorthEast(),re=N.lat>d.lat&&S.lat<_.lat,Ee=N.lng>d.lng&&S.lng<_.lng;return re&&Ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,d){return o?(o=Ce(o),this._southWest.equals(o.getSouthWest(),d)&&this._northEast.equals(o.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(o,d){return o instanceof F?o:new F(o,d)}function Pe(o,d,_){if(isNaN(o)||isNaN(d))throw new Error("Invalid LatLng object: ("+o+", "+d+")");this.lat=+o,this.lng=+d,_!==void 0&&(this.alt=+_)}Pe.prototype={equals:function(o,d){if(!o)return!1;o=q(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(d===void 0?1e-9:d)},toString:function(o){return"LatLng("+M(this.lat,o)+", "+M(this.lng,o)+")"},distanceTo:function(o){return Te.distance(this,q(o))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(o){var d=180*o/40075017,_=d/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-d,this.lng-_],[this.lat+d,this.lng+_])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function q(o,d,_){return o instanceof Pe?o:D(o)&&typeof o[0]!="object"?o.length===3?new Pe(o[0],o[1],o[2]):o.length===2?new Pe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Pe(o.lat,"lng"in o?o.lng:o.lon,o.alt):d===void 0?null:new Pe(o,d,_)}var he={latLngToPoint:function(o,d){var _=this.projection.project(o),S=this.scale(d);return this.transformation._transform(_,S)},pointToLatLng:function(o,d){var _=this.scale(d),S=this.transformation.untransform(o,_);return this.projection.unproject(S)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var d=this.projection.bounds,_=this.scale(o),S=this.transformation.transform(d.min,_),N=this.transformation.transform(d.max,_);return new ke(S,N)},infinite:!1,wrapLatLng:function(o){var d=this.wrapLng?C(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?C(o.lat,this.wrapLat,!0):o.lat,S=o.alt;return new Pe(_,d,S)},wrapLatLngBounds:function(o){var d=o.getCenter(),_=this.wrapLatLng(d),S=d.lat-_.lat,N=d.lng-_.lng;if(S===0&&N===0)return o;var re=o.getSouthWest(),Ee=o.getNorthEast(),qe=new Pe(re.lat-S,re.lng-N),je=new Pe(Ee.lat-S,Ee.lng-N);return new F(qe,je)}},Te=c({},he,{wrapLng:[-180,180],R:6371e3,distance:function(o,d){var _=Math.PI/180,S=o.lat*_,N=d.lat*_,re=Math.sin((d.lat-o.lat)*_/2),Ee=Math.sin((d.lng-o.lng)*_/2),qe=re*re+Math.cos(S)*Math.cos(N)*Ee*Ee,je=2*Math.atan2(Math.sqrt(qe),Math.sqrt(1-qe));return this.R*je}}),ze=6378137,Xe={R:ze,MAX_LATITUDE:85.0511287798,project:function(o){var d=Math.PI/180,_=this.MAX_LATITUDE,S=Math.max(Math.min(_,o.lat),-_),N=Math.sin(S*d);return new we(this.R*o.lng*d,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(o){var d=180/Math.PI;return new Pe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*d,o.x*d/this.R)},bounds:function(){var o=ze*Math.PI;return new ke([-o,-o],[o,o])}()};function et(o,d,_,S){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=d,this._c=_,this._d=S}et.prototype={transform:function(o,d){return this._transform(o.clone(),d)},_transform:function(o,d){return d=d||1,o.x=d*(this._a*o.x+this._b),o.y=d*(this._c*o.y+this._d),o},untransform:function(o,d){return d=d||1,new we((o.x/d-this._b)/this._a,(o.y/d-this._d)/this._c)}};function nt(o,d,_,S){return new et(o,d,_,S)}var Lt=c({},Te,{code:"EPSG:3857",projection:Xe,transformation:function(){var o=.5/(Math.PI*Xe.R);return nt(o,.5,-o,.5)}()}),Mt=c({},Lt,{code:"EPSG:900913"});function Ft(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function _t(o,d){var _="",S,N,re,Ee,qe,je;for(S=0,re=o.length;S<re;S++){for(qe=o[S],N=0,Ee=qe.length;N<Ee;N++)je=qe[N],_+=(N?"L":"M")+je.x+" "+je.y;_+=d?It.svg?"z":"x":""}return _||"M0 0"}var Pt=document.documentElement.style,Et="ActiveXObject"in window,$t=Et&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),le=fn("webkit"),V=fn("android"),ce=fn("android 2")||fn("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=V&&fn("Google")&&pe<537&&!("AudioNode"in window),at=!!window.opera,Qe=!X&&fn("chrome"),mt=fn("gecko")&&!le&&!at&&!Et,Ot=!Qe&&fn("safari"),ut=fn("phantom"),Xt="OTransition"in Pt,ti=navigator.platform.indexOf("Win")===0,bt=Et&&"transition"in Pt,_i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ce,Ni="MozPerspective"in Pt,un=!window.L_DISABLE_3D&&(bt||_i||Ni)&&!Xt&&!ut,pt=typeof orientation<"u"||fn("mobile"),Dr=pt&&le,wi=pt&&_i,Mi=!window.PointerEvent&&window.MSPointerEvent,Ii=!!(window.PointerEvent||Mi),zi="ontouchstart"in window||!!window.TouchEvent,ri=!window.L_NO_TOUCH&&(zi||Ii),Cn=pt&&at,qi=pt&&mt,yo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jn=function(){var o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",k,d),window.removeEventListener("testPassiveEventSupport",k,d)}catch{}return o}(),Zr=function(){return!!document.createElement("canvas").getContext}(),pi=!!(document.createElementNS&&Ft("svg").createSVGRect),Zn=!!pi&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mr=!pi&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var d=o.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),sr=navigator.platform.indexOf("Mac")===0,xo=navigator.platform.indexOf("Linux")===0;function fn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var It={ie:Et,ielt9:$t,edge:X,webkit:le,android:V,android23:ce,androidStock:He,opera:at,chrome:Qe,gecko:mt,safari:Ot,phantom:ut,opera12:Xt,win:ti,ie3d:bt,webkit3d:_i,gecko3d:Ni,any3d:un,mobile:pt,mobileWebkit:Dr,mobileWebkit3d:wi,msPointer:Mi,pointer:Ii,touch:ri,touchNative:zi,mobileOpera:Cn,mobileGecko:qi,retina:yo,passiveEvents:Jn,canvas:Zr,svg:pi,vml:Mr,inlineSvg:Zn,mac:sr,linux:xo},jo=It.msPointer?"MSPointerDown":"pointerdown",Pr=It.msPointer?"MSPointerMove":"pointermove",ur=It.msPointer?"MSPointerUp":"pointerup",Xi=It.msPointer?"MSPointerCancel":"pointercancel",hn={touchstart:jo,touchmove:Pr,touchend:ur,touchcancel:Xi},dn={touchstart:Nn,touchmove:br,touchend:br,touchcancel:br},In={},wo=!1;function Zo(o,d,_){return d==="touchstart"&&Rn(),dn[d]?(_=dn[d].bind(this,_),o.addEventListener(hn[d],_,!1),_):(console.warn("wrong event specified:",d),L.Util.falseFn)}function Fn(o,d,_){if(!hn[d]){console.warn("wrong event specified:",d);return}o.removeEventListener(hn[d],_,!1)}function Or(o){In[o.pointerId]=o}function lr(o){In[o.pointerId]&&(In[o.pointerId]=o)}function da(o){delete In[o.pointerId]}function Rn(){wo||(document.addEventListener(jo,Or,!0),document.addEventListener(Pr,lr,!0),document.addEventListener(ur,da,!0),document.addEventListener(Xi,da,!0),wo=!0)}function br(o,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var _ in In)d.touches.push(In[_]);d.changedTouches=[d],o(d)}}function Nn(o,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Nt(d),br(o,d)}function Wi(o){var d={},_,S;for(S in o)_=o[S],d[S]=_&&_.bind?_.bind(o):_;return o=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Dt=200;function Ir(o,d){o.addEventListener("dblclick",d);var _=0,S;function N(re){if(re.detail!==1){S=re.detail;return}if(!(re.pointerType==="mouse"||re.sourceCapabilities&&!re.sourceCapabilities.firesTouchEvents)){var Ee=Co(re);if(!(Ee.some(function(je){return je instanceof HTMLLabelElement&&je.attributes.for})&&!Ee.some(function(je){return je instanceof HTMLInputElement||je instanceof HTMLSelectElement}))){var qe=Date.now();qe-_<=Dt?(S++,S===2&&d(Wi(re))):S=1,_=qe}}}return o.addEventListener("click",N),{dblclick:d,simDblclick:N}}function ko(o,d){o.removeEventListener("dblclick",d.dblclick),o.removeEventListener("click",d.simDblclick)}var zn=Re(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),li=Re(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_r=li==="webkitTransition"||li==="OTransition"?li+"End":"transitionend";function ie(o){return typeof o=="string"?document.getElementById(o):o}function _e(o,d){var _=o.style[d]||o.currentStyle&&o.currentStyle[d];if((!_||_==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(o,null);_=S?S[d]:null}return _==="auto"?null:_}function ye(o,d,_){var S=document.createElement(o);return S.className=d||"",_&&_.appendChild(S),S}function Ue(o){var d=o.parentNode;d&&d.removeChild(o)}function qt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Qt(o){var d=o.parentNode;d&&d.lastChild!==o&&d.appendChild(o)}function ni(o){var d=o.parentNode;d&&d.firstChild!==o&&d.insertBefore(o,d.firstChild)}function ji(o,d){if(o.classList!==void 0)return o.classList.contains(d);var _=Q(o);return _.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(_)}function jt(o,d){if(o.classList!==void 0)for(var _=R(d),S=0,N=_.length;S<N;S++)o.classList.add(_[S]);else if(!ji(o,d)){var re=Q(o);Se(o,(re?re+" ":"")+d)}}function kt(o,d){o.classList!==void 0?o.classList.remove(d):Se(o,G((" "+Q(o)+" ").replace(" "+d+" "," ")))}function Se(o,d){o.className.baseVal===void 0?o.className=d:o.className.baseVal=d}function Q(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function oe(o,d){"opacity"in o.style?o.style.opacity=d:"filter"in o.style&&ne(o,d)}function ne(o,d){var _=!1,S="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(S)}catch{if(d===1)return}d=Math.round(d*100),_?(_.Enabled=d!==100,_.Opacity=d):o.style.filter+=" progid:"+S+"(opacity="+d+")"}function Re(o){for(var d=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in d)return o[_];return!1}function Le(o,d,_){var S=d||new we(0,0);o.style[zn]=(It.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(_?" scale("+_+")":"")}function Me(o,d){o._leaflet_pos=d,It.any3d?Le(o,d):(o.style.left=d.x+"px",o.style.top=d.y+"px")}function Ge(o){return o._leaflet_pos||new we(0,0)}var lt,tt,$e;if("onselectstart"in document)lt=function(){Rt(window,"selectstart",Nt)},tt=function(){Bt(window,"selectstart",Nt)};else{var Ke=Re(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lt=function(){if(Ke){var o=document.documentElement.style;$e=o[Ke],o[Ke]="none"}},tt=function(){Ke&&(document.documentElement.style[Ke]=$e,$e=void 0)}}function ct(){Rt(window,"dragstart",Nt)}function ai(){Bt(window,"dragstart",Nt)}var oi,Oi;function mi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ki(),oi=o,Oi=o.style.outline,o.style.outline="none",Rt(window,"keydown",ki))}function ki(){oi&&(oi.style.outline=Oi,oi=void 0,Oi=void 0,Bt(window,"keydown",ki))}function on(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Zi(o){var d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}var er={__proto__:null,TRANSFORM:zn,TRANSITION:li,TRANSITION_END:_r,get:ie,getStyle:_e,create:ye,remove:Ue,empty:qt,toFront:Qt,toBack:ni,hasClass:ji,addClass:jt,removeClass:kt,setClass:Se,getClass:Q,setOpacity:oe,testProp:Re,setTransform:Le,setPosition:Me,getPosition:Ge,get disableTextSelection(){return lt},get enableTextSelection(){return tt},disableImageDrag:ct,enableImageDrag:ai,preventOutline:mi,restoreOutline:ki,getSizedParentNode:on,getScale:Zi};function Rt(o,d,_,S){if(d&&typeof d=="object")for(var N in d)tr(o,N,d[N],_);else{d=R(d);for(var re=0,Ee=d.length;re<Ee;re++)tr(o,d[re],_,S)}return this}var dt="_leaflet_events";function Bt(o,d,_,S){if(arguments.length===1)$i(o),delete o[dt];else if(d&&typeof d=="object")for(var N in d)Fr(o,N,d[N],_);else if(d=R(d),arguments.length===2)$i(o,function(qe){return W(d,qe)!==-1});else for(var re=0,Ee=d.length;re<Ee;re++)Fr(o,d[re],_,S);return this}function $i(o,d){for(var _ in o[dt]){var S=_.split(/\d/)[0];(!d||d(S))&&Fr(o,S,null,null,_)}}var En={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tr(o,d,_,S){var N=d+b(_)+(S?"_"+b(S):"");if(o[dt]&&o[dt][N])return this;var re=function(qe){return _.call(S||o,qe||window.event)},Ee=re;!It.touchNative&&It.pointer&&d.indexOf("touch")===0?re=Zo(o,d,re):It.touch&&d==="dblclick"?re=Ir(o,re):"addEventListener"in o?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?o.addEventListener(En[d]||d,re,It.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(re=function(qe){qe=qe||window.event,Ua(o,qe)&&Ee(qe)},o.addEventListener(En[d],re,!1)):o.addEventListener(d,Ee,!1):o.attachEvent("on"+d,re),o[dt]=o[dt]||{},o[dt][N]=re}function Fr(o,d,_,S,N){N=N||d+b(_)+(S?"_"+b(S):"");var re=o[dt]&&o[dt][N];if(!re)return this;!It.touchNative&&It.pointer&&d.indexOf("touch")===0?Fn(o,d,re):It.touch&&d==="dblclick"?ko(o,re):"removeEventListener"in o?o.removeEventListener(En[d]||d,re,!1):o.detachEvent("on"+d,re),o[dt][N]=null}function ir(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function yr(o){return tr(o,"wheel",ir),this}function Bn(o){return Rt(o,"mousedown touchstart dblclick contextmenu",ir),o._leaflet_disable_click=!0,this}function Nt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ii(o){return Nt(o),ir(o),this}function Co(o){if(o.composedPath)return o.composedPath();for(var d=[],_=o.target;_;)d.push(_),_=_.parentNode;return d}function pa(o,d){if(!d)return new we(o.clientX,o.clientY);var _=Zi(d),S=_.boundingClientRect;return new we((o.clientX-S.left)/_.x-d.clientLeft,(o.clientY-S.top)/_.y-d.clientTop)}var Ha=It.linux&&It.chrome?window.devicePixelRatio:It.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Go(o){return It.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ha:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ua(o,d){var _=d.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var bs={__proto__:null,on:Rt,off:Bt,stopPropagation:ir,disableScrollPropagation:yr,disableClickPropagation:Bn,preventDefault:Nt,stop:ii,getPropagationPath:Co,getMousePosition:pa,getWheelDelta:Go,isExternalTarget:Ua,addListener:Rt,removeListener:Bt},Gn=ve.extend({run:function(o,d,_,S){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=Ge(o),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ue(this._animate,this),this._step()},_step:function(o){var d=+new Date-this._startTime,_=this._duration*1e3;d<_?this._runFrame(this._easeOut(d/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,d){var _=this._startPos.add(this._offset.multiplyBy(o));d&&_._round(),Me(this._el,_),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),gi=ve.extend({options:{crs:Lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,d){d=Z(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(q(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=li&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,_r,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,d,_){if(d=d===void 0?this._zoom:this._limitZoom(d),o=this._limitCenter(q(o),d,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=c({animate:_.animate},_.zoom),_.pan=c({animate:_.animate,duration:_.duration},_.pan));var S=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,d,_.zoom):this._tryAnimatedPan(o,_.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(o,d,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,d){return this._loaded?this.setView(this.getCenter(),o,{zoom:d}):(this._zoom=o,this)},zoomIn:function(o,d){return o=o||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,d)},zoomOut:function(o,d){return o=o||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,d)},setZoomAround:function(o,d,_){var S=this.getZoomScale(d),N=this.getSize().divideBy(2),re=o instanceof we?o:this.latLngToContainerPoint(o),Ee=re.subtract(N).multiplyBy(1-1/S),qe=this.containerPointToLatLng(N.add(Ee));return this.setView(qe,d,{zoom:_})},_getBoundsCenterZoom:function(o,d){d=d||{},o=o.getBounds?o.getBounds():Ce(o);var _=We(d.paddingTopLeft||d.padding||[0,0]),S=We(d.paddingBottomRight||d.padding||[0,0]),N=this.getBoundsZoom(o,!1,_.add(S));if(N=typeof d.maxZoom=="number"?Math.min(d.maxZoom,N):N,N===1/0)return{center:o.getCenter(),zoom:N};var re=S.subtract(_).divideBy(2),Ee=this.project(o.getSouthWest(),N),qe=this.project(o.getNorthEast(),N),je=this.unproject(Ee.add(qe).divideBy(2).add(re),N);return{center:je,zoom:N}},fitBounds:function(o,d){if(o=Ce(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,d);return this.setView(_.center,_.zoom,d)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,d){return this.setView(o,this._zoom,{pan:d})},panBy:function(o,d){if(o=We(o).round(),d=d||{},!o.x&&!o.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){jt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,d.duration||.25,d.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,d,_){if(_=_||{},_.animate===!1||!It.any3d)return this.setView(o,d,_);this._stop();var S=this.project(this.getCenter()),N=this.project(o),re=this.getSize(),Ee=this._zoom;o=q(o),d=d===void 0?Ee:d;var qe=Math.max(re.x,re.y),je=qe*this.getZoomScale(Ee,d),st=N.distanceTo(S)||1,wt=1.42,Zt=wt*wt;function Gt(Yi){var ea=Yi?-1:1,_l=Yi?je:qe,ae=je*je-qe*qe+ea*Zt*Zt*st*st,Gi=2*_l*Zt*st,an=ae/Gi,Li=Math.sqrt(an*an+1)-an,si=Li<1e-9?-18:Math.log(Li);return si}function Tn(Yi){return(Math.exp(Yi)-Math.exp(-Yi))/2}function Un(Yi){return(Math.exp(Yi)+Math.exp(-Yi))/2}function Oo(Yi){return Tn(Yi)/Un(Yi)}var Cr=Gt(0);function ya(Yi){return qe*(Un(Cr)/Un(Cr+wt*Yi))}function Ka(Yi){return qe*(Un(Cr)*Oo(Cr+wt*Yi)-Tn(Cr))/Zt}function xa(Yi){return 1-Math.pow(1-Yi,1.5)}var wa=Date.now(),vl=(Gt(1)-Cr)/wt,mc=_.duration?1e3*_.duration:1e3*vl*.8;function bl(){var Yi=(Date.now()-wa)/mc,ea=xa(Yi)*vl;Yi<=1?(this._flyToFrame=ue(bl,this),this._move(this.unproject(S.add(N.subtract(S).multiplyBy(Ka(ea)/st)),Ee),this.getScaleZoom(qe/ya(ea),Ee),{flyTo:!0})):this._move(o,d)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),bl.call(this),this},flyToBounds:function(o,d){var _=this._getBoundsCenterZoom(o,d);return this.flyTo(_.center,_.zoom,d)},setMaxBounds:function(o){return o=Ce(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var d=this.options.minZoom;return this.options.minZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var d=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,d){this._enforcingBounds=!0;var _=this.getCenter(),S=this._limitCenter(_,this._zoom,Ce(o));return _.equals(S)||this.panTo(S,d),this._enforcingBounds=!1,this},panInside:function(o,d){d=d||{};var _=We(d.paddingTopLeft||d.padding||[0,0]),S=We(d.paddingBottomRight||d.padding||[0,0]),N=this.project(this.getCenter()),re=this.project(o),Ee=this.getPixelBounds(),qe=K([Ee.min.add(_),Ee.max.subtract(S)]),je=qe.getSize();if(!qe.contains(re)){this._enforcingBounds=!0;var st=re.subtract(qe.getCenter()),wt=qe.extend(re).getSize().subtract(je);N.x+=st.x<0?-wt.x:wt.x,N.y+=st.y<0?-wt.y:wt.y,this.panTo(this.unproject(N),d),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=c({animate:!1,pan:!0},o===!0?{animate:!0}:o);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),S=d.divideBy(2).round(),N=_.divideBy(2).round(),re=S.subtract(N);return!re.x&&!re.y?this:(o.animate&&o.pan?this.panBy(re):(o.pan&&this._rawPanBy(re),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=c({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=p(this._handleGeolocationResponse,this),_=p(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,_,o):navigator.geolocation.getCurrentPosition(d,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var d=o.code,_=o.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var d=o.coords.latitude,_=o.coords.longitude,S=new Pe(d,_),N=S.toBounds(o.coords.accuracy*2),re=this._locateOptions;if(re.setView){var Ee=this.getBoundsZoom(N);this.setView(S,re.maxZoom?Math.min(Ee,re.maxZoom):Ee)}var qe={latlng:S,bounds:N,timestamp:o.timestamp};for(var je in o.coords)typeof o.coords[je]=="number"&&(qe[je]=o.coords[je]);this.fire("locationfound",qe)}},addHandler:function(o,d){if(!d)return this;var _=this[o]=new d(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ue(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,d){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),S=ye("div",_,d||this._mapPane);return o&&(this._panes[o]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),d=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new F(d,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,d,_){o=Ce(o),_=We(_||[0,0]);var S=this.getZoom()||0,N=this.getMinZoom(),re=this.getMaxZoom(),Ee=o.getNorthWest(),qe=o.getSouthEast(),je=this.getSize().subtract(_),st=K(this.project(qe,S),this.project(Ee,S)).getSize(),wt=It.any3d?this.options.zoomSnap:1,Zt=je.x/st.x,Gt=je.y/st.y,Tn=d?Math.max(Zt,Gt):Math.min(Zt,Gt);return S=this.getScaleZoom(Tn,S),wt&&(S=Math.round(S/(wt/100))*(wt/100),S=d?Math.ceil(S/wt)*wt:Math.floor(S/wt)*wt),Math.max(N,Math.min(re,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new we(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,d){var _=this._getTopLeftPoint(o,d);return new ke(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,d){var _=this.options.crs;return d=d===void 0?this._zoom:d,_.scale(o)/_.scale(d)},getScaleZoom:function(o,d){var _=this.options.crs;d=d===void 0?this._zoom:d;var S=_.zoom(o*_.scale(d));return isNaN(S)?1/0:S},project:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(q(o),d)},unproject:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(We(o),d)},layerPointToLatLng:function(o){var d=We(o).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(o){var d=this.project(q(o))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(q(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ce(o))},distance:function(o,d){return this.options.crs.distance(q(o),q(d))},containerPointToLayerPoint:function(o){return We(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return We(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var d=this.containerPointToLayerPoint(We(o));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(o)))},mouseEventToContainerPoint:function(o){return pa(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var d=this._container=ie(o);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Rt(d,"scroll",this._onScroll,this),this._containerId=b(d)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,jt(o,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=_e(o,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new we(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jt(o.markerPane,"leaflet-zoom-hide"),jt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,d,_){Me(this._mapPane,new we(0,0));var S=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var N=this._zoom!==d;this._moveStart(N,_)._move(o,d)._moveEnd(N),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(o,d){return o&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(o,d,_,S){d===void 0&&(d=this._zoom);var N=this._zoom!==d;return this._zoom=d,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),S?_&&_.pinch&&this.fire("zoom",_):((N||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Me(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[b(this._container)]=this;var d=o?Bt:Rt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=ue(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,d){for(var _=[],S,N=d==="mouseout"||d==="mouseover",re=o.target||o.srcElement,Ee=!1;re;){if(S=this._targets[b(re)],S&&(d==="click"||d==="preclick")&&this._draggableMoved(S)){Ee=!0;break}if(S&&S.listens(d,!0)&&(N&&!Ua(re,o)||(_.push(S),N))||re===this._container)break;re=re.parentNode}return!_.length&&!Ee&&!N&&this.listens(d,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var d=o.target||o.srcElement;if(!(!this._loaded||d._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(d))){var _=o.type;_==="mousedown"&&mi(d),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,d,_){if(o.type==="click"){var S=c({},o);S.type="preclick",this._fireDOMEvent(S,S.type,_)}var N=this._findEventTargets(o,d);if(_){for(var re=[],Ee=0;Ee<_.length;Ee++)_[Ee].listens(d,!0)&&re.push(_[Ee]);N=re.concat(N)}if(N.length){d==="contextmenu"&&Nt(o);var qe=N[0],je={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var st=qe.getLatLng&&(!qe._radius||qe._radius<=10);je.containerPoint=st?this.latLngToContainerPoint(qe.getLatLng()):this.mouseEventToContainerPoint(o),je.layerPoint=this.containerPointToLayerPoint(je.containerPoint),je.latlng=st?qe.getLatLng():this.layerPointToLatLng(je.layerPoint)}for(Ee=0;Ee<N.length;Ee++)if(N[Ee].fire(d,je,!0),je.originalEvent._stopped||N[Ee].options.bubblingMouseEvents===!1&&W(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,d=this._handlers.length;o<d;o++)this._handlers[o].disable()},whenReady:function(o,d){return this._loaded?o.call(d||this,{target:this}):this.on("load",o,d),this},_getMapPanePos:function(){return Ge(this._mapPane)||new we(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,d){var _=o&&d!==void 0?this._getNewPixelOrigin(o,d):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,d){var _=this.getSize()._divideBy(2);return this.project(o,d)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,d,_){var S=this._getNewPixelOrigin(_,d);return this.project(o,d)._subtract(S)},_latLngBoundsToNewLayerBounds:function(o,d,_){var S=this._getNewPixelOrigin(_,d);return K([this.project(o.getSouthWest(),d)._subtract(S),this.project(o.getNorthWest(),d)._subtract(S),this.project(o.getSouthEast(),d)._subtract(S),this.project(o.getNorthEast(),d)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,d,_){if(!_)return o;var S=this.project(o,d),N=this.getSize().divideBy(2),re=new ke(S.subtract(N),S.add(N)),Ee=this._getBoundsOffset(re,_,d);return Ee.round().equals([0,0])?o:this.unproject(S.add(Ee),d)},_limitOffset:function(o,d){if(!d)return o;var _=this.getPixelBounds(),S=new ke(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(S,d))},_getBoundsOffset:function(o,d,_){var S=K(this.project(d.getNorthEast(),_),this.project(d.getSouthWest(),_)),N=S.min.subtract(o.min),re=S.max.subtract(o.max),Ee=this._rebound(N.x,-re.x),qe=this._rebound(N.y,-re.y);return new we(Ee,qe)},_rebound:function(o,d){return o+d>0?Math.round(o-d)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(d))},_limitZoom:function(o){var d=this.getMinZoom(),_=this.getMaxZoom(),S=It.any3d?this.options.zoomSnap:1;return S&&(o=Math.round(o/S)*S),Math.max(d,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,d){var _=this._getCenterOffset(o)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,d),!0)},_createAnimProxy:function(){var o=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(d){var _=zn,S=this._proxy.style[_];Le(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),S===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),d=this.getZoom();Le(this._proxy,this.project(o,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,d,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(d),N=this._getCenterOffset(o)._divideBy(1-1/S);return _.animate!==!0&&!this.getSize().contains(N)?!1:(ue(function(){this._moveStart(!0,!1)._animateZoom(o,d,!0)},this),!0)},_animateZoom:function(o,d,_,S){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=d,jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:d,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pn(o,d){return new gi(o,d)}var nr=te.extend({options:{position:"topright"},initialize:function(o){Z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var d=this._map;return d&&d.removeControl(this),this.options.position=o,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var d=this._container=this.onAdd(o),_=this.getPosition(),S=o._controlCorners[_];return jt(d,"leaflet-control"),_.indexOf("bottom")!==-1?S.insertBefore(d,S.firstChild):S.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Rr=function(o){return new nr(o)};gi.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},d="leaflet-",_=this._controlContainer=ye("div",d+"control-container",this._container);function S(N,re){var Ee=d+N+" "+d+re;o[N+re]=ye("div",Ee,_)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ue(this._controlCorners[o]);Ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var to=nr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,d,_,S){return _<S?-1:S<_?1:0}},initialize:function(o,d,_){Z(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var S in o)this._addLayer(o[S],S);for(S in d)this._addLayer(d[S],S,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return nr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,d){return this._addLayer(o,d),this._map?this._update():this},addOverlay:function(o,d){return this._addLayer(o,d,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var d=this._getLayer(b(o));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",d=this._container=ye("div",o),_=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Bn(d),yr(d);var S=this._section=ye("section",o+"-list");_&&(this._map.on("click",this.collapse,this),Rt(d,{mouseenter:function(){Rt(S,"click",Nt),this.expand(),setTimeout(function(){Bt(S,"click",Nt)})},mouseleave:this.collapse},this));var N=this._layersLink=ye("a",o+"-toggle",d);N.href="#",N.title="Layers",N.setAttribute("role","button"),Rt(N,"click",Nt),Rt(N,"focus",this.expand,this),_||this.expand(),this._baseLayersList=ye("div",o+"-base",S),this._separator=ye("div",o+"-separator",S),this._overlaysList=ye("div",o+"-overlays",S),d.appendChild(S)},_getLayer:function(o){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&b(this._layers[d].layer)===o)return this._layers[d]},_addLayer:function(o,d,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:d,overlay:_}),this.options.sortLayers&&this._layers.sort(p(function(S,N){return this.options.sortFunction(S.layer,N.layer,S.name,N.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qt(this._baseLayersList),qt(this._overlaysList),this._layerControlInputs=[];var o,d,_,S,N=0;for(_=0;_<this._layers.length;_++)S=this._layers[_],this._addItem(S),d=d||S.overlay,o=o||!S.overlay,N+=S.overlay?0:1;return this.options.hideSingleBase&&(o=o&&N>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=d&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var d=this._getLayer(b(o.target)),_=d.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,d)},_createRadioElement:function(o,d){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(d?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=_,S.firstChild},_addItem:function(o){var d=document.createElement("label"),_=this._map.hasLayer(o.layer),S;o.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=_):S=this._createRadioElement("leaflet-base-layers_"+b(this),_),this._layerControlInputs.push(S),S.layerId=b(o.layer),Rt(S,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+o.name;var re=document.createElement("span");d.appendChild(re),re.appendChild(S),re.appendChild(N);var Ee=o.overlay?this._overlaysList:this._baseLayersList;return Ee.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){var o=this._layerControlInputs,d,_,S=[],N=[];this._handlingClick=!0;for(var re=o.length-1;re>=0;re--)d=o[re],_=this._getLayer(d.layerId).layer,d.checked?S.push(_):d.checked||N.push(_);for(re=0;re<N.length;re++)this._map.hasLayer(N[re])&&this._map.removeLayer(N[re]);for(re=0;re<S.length;re++)this._map.hasLayer(S[re])||this._map.addLayer(S[re]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,d,_,S=this._map.getZoom(),N=o.length-1;N>=0;N--)d=o[N],_=this._getLayer(d.layerId).layer,d.disabled=_.options.minZoom!==void 0&&S<_.options.minZoom||_.options.maxZoom!==void 0&&S>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),_s=function(o,d,_){return new to(o,d,_)},Qi=nr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var d="leaflet-control-zoom",_=ye("div",d+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,d+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,d+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,d,_,S,N){var re=ye("a",_,S);return re.innerHTML=o,re.href="#",re.title=d,re.setAttribute("role","button"),re.setAttribute("aria-label",d),Bn(re),Rt(re,"click",ii),Rt(re,"click",N,this),Rt(re,"click",this._refocusOnMap,this),re},_updateDisabled:function(){var o=this._map,d="leaflet-disabled";kt(this._zoomInButton,d),kt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(jt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(jt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});gi.mergeOptions({zoomControl:!0}),gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var ys=function(o){return new Qi(o)},xs=nr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var d="leaflet-control-scale",_=ye("div",d),S=this.options;return this._addScales(S,d+"-line",_),o.on(S.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,d,_){o.metric&&(this._mScale=ye("div",d,_)),o.imperial&&(this._iScale=ye("div",d,_))},_update:function(){var o=this._map,d=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,d]),o.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var d=this._getRoundNum(o),_=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,_,d/o)},_updateImperial:function(o){var d=o*3.2808399,_,S,N;d>5280?(_=d/5280,S=this._getRoundNum(_),this._updateScale(this._iScale,S+" mi",S/_)):(N=this._getRoundNum(d),this._updateScale(this._iScale,N+" ft",N/d))},_updateScale:function(o,d,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=d},_getRoundNum:function(o){var d=Math.pow(10,(Math.floor(o)+"").length-1),_=o/d;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,d*_}}),ma=function(o){return new xs(o)},fl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ks=nr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?fl+" ":"")+"Leaflet</a>"},initialize:function(o){Z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),Bn(this._container);for(var d in o._layers)o._layers[d].getAttribution&&this.addAttribution(o._layers[d].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var d in this._attributions)this._attributions[d]&&o.push(d);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});gi.mergeOptions({attributionControl:!0}),gi.addInitHook(function(){this.options.attributionControl&&new Ks().addTo(this)});var hl=function(o){return new Ks(o)};nr.Layers=to,nr.Zoom=Qi,nr.Scale=xs,nr.Attribution=Ks,Rr.layers=_s,Rr.zoom=ys,Rr.scale=ma,Rr.attribution=hl;var Ji=te.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ji.addTo=function(o,d){return o.addHandler(d,this),this};var dl={Events:se},cr=It.touch?"touchstart mousedown":"mousedown",Xo=ve.extend({options:{clickTolerance:3},initialize:function(o,d,_,S){Z(this,S),this._element=o,this._dragStartTarget=d||o,this._preventOutline=_},enable:function(){this._enabled||(Rt(this._dragStartTarget,cr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xo._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,cr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ji(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Xo._dragging===this&&this.finishDrag();return}if(!(Xo._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Xo._dragging=this,this._preventOutline&&mi(this._element),ct(),lt(),!this._moving)){this.fire("down");var d=o.touches?o.touches[0]:o,_=on(this._element);this._startPoint=new we(d.clientX,d.clientY),this._startPos=Ge(this._element),this._parentScale=Zi(_);var S=o.type==="mousedown";Rt(document,S?"mousemove":"touchmove",this._onMove,this),Rt(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var d=o.touches&&o.touches.length===1?o.touches[0]:o,_=new we(d.clientX,d.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Nt(o),this._moved||(this.fire("dragstart"),this._moved=!0,jt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Me(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){kt(document.body,"leaflet-dragging"),this._lastTarget&&(kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),ai(),tt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Xo._dragging=!1}});function Pu(o,d){if(!d||!o.length)return o.slice();var _=d*d;return o=So(o,_),o=Qs(o,_),o}function Eo(o,d,_){return Math.sqrt(To(o,d,_,!0))}function $s(o,d,_){return To(o,d,_)}function Qs(o,d){var _=o.length,S=typeof Uint8Array<"u"?Uint8Array:Array,N=new S(_);N[0]=N[_-1]=1,Hi(o,N,d,0,_-1);var re,Ee=[];for(re=0;re<_;re++)N[re]&&Ee.push(o[re]);return Ee}function Hi(o,d,_,S,N){var re=0,Ee,qe,je;for(qe=S+1;qe<=N-1;qe++)je=To(o[qe],o[S],o[N],!0),je>re&&(Ee=qe,re=je);re>_&&(d[Ee]=1,Hi(o,d,_,S,Ee),Hi(o,d,_,Ee,N))}function So(o,d){for(var _=[o[0]],S=1,N=0,re=o.length;S<re;S++)hc(o[S],o[N])>d&&(_.push(o[S]),N=S);return N<re-1&&_.push(o[re-1]),_}var ga;function va(o,d,_,S,N){var re=S?ga:ba(o,_),Ee=ba(d,_),qe,je,st;for(ga=Ee;;){if(!(re|Ee))return[o,d];if(re&Ee)return!1;qe=re||Ee,je=Wa(o,d,qe,_,N),st=ba(je,_),qe===re?(o=je,re=st):(d=je,Ee=st)}}function Wa(o,d,_,S,N){var re=d.x-o.x,Ee=d.y-o.y,qe=S.min,je=S.max,st,wt;return _&8?(st=o.x+re*(je.y-o.y)/Ee,wt=je.y):_&4?(st=o.x+re*(qe.y-o.y)/Ee,wt=qe.y):_&2?(st=je.x,wt=o.y+Ee*(je.x-o.x)/re):_&1&&(st=qe.x,wt=o.y+Ee*(qe.x-o.x)/re),new we(st,wt,N)}function ba(o,d){var _=0;return o.x<d.min.x?_|=1:o.x>d.max.x&&(_|=2),o.y<d.min.y?_|=4:o.y>d.max.y&&(_|=8),_}function hc(o,d){var _=d.x-o.x,S=d.y-o.y;return _*_+S*S}function To(o,d,_,S){var N=d.x,re=d.y,Ee=_.x-N,qe=_.y-re,je=Ee*Ee+qe*qe,st;return je>0&&(st=((o.x-N)*Ee+(o.y-re)*qe)/je,st>1?(N=_.x,re=_.y):st>0&&(N+=Ee*st,re+=qe*st)),Ee=o.x-N,qe=o.y-re,S?Ee*Ee+qe*qe:new we(N,re)}function Ti(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function ws(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ti(o)}function Yo(o,d){var _,S,N,re,Ee,qe,je,st;if(!o||o.length===0)throw new Error("latlngs not passed");Ti(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var wt=[];for(var Zt in o)wt.push(d.project(q(o[Zt])));var Gt=wt.length;for(_=0,S=0;_<Gt-1;_++)S+=wt[_].distanceTo(wt[_+1])/2;if(S===0)st=wt[0];else for(_=0,re=0;_<Gt-1;_++)if(Ee=wt[_],qe=wt[_+1],N=Ee.distanceTo(qe),re+=N,re>S){je=(re-S)/N,st=[qe.x-je*(qe.x-Ee.x),qe.y-je*(qe.y-Ee.y)];break}return d.unproject(We(st))}var ks={__proto__:null,simplify:Pu,pointToSegmentDistance:Eo,closestPointOnSegment:$s,clipSegment:va,_getEdgeIntersection:Wa,_getBitCode:ba,_sqClosestPointOnSegment:To,isFlat:Ti,_flat:ws,polylineCenter:Yo};function Ou(o,d,_){var S,N=[1,4,2,8],re,Ee,qe,je,st,wt,Zt,Gt;for(re=0,wt=o.length;re<wt;re++)o[re]._code=ba(o[re],d);for(qe=0;qe<4;qe++){for(Zt=N[qe],S=[],re=0,wt=o.length,Ee=wt-1;re<wt;Ee=re++)je=o[re],st=o[Ee],je._code&Zt?st._code&Zt||(Gt=Wa(st,je,Zt,d,_),Gt._code=ba(Gt,d),S.push(Gt)):(st._code&Zt&&(Gt=Wa(st,je,Zt,d,_),Gt._code=ba(Gt,d),S.push(Gt)),S.push(je));o=S}return o}function Js(o,d){var _,S,N,re,Ee,qe,je,st,wt;if(!o||o.length===0)throw new Error("latlngs not passed");Ti(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Zt=[];for(var Gt in o)Zt.push(d.project(q(o[Gt])));var Tn=Zt.length;for(qe=je=st=0,_=0,S=Tn-1;_<Tn;S=_++)N=Zt[_],re=Zt[S],Ee=N.y*re.x-re.y*N.x,je+=(N.x+re.x)*Ee,st+=(N.y+re.y)*Ee,qe+=Ee*3;return qe===0?wt=Zt[0]:wt=[je/qe,st/qe],d.unproject(We(wt))}var Iu={__proto__:null,clipPolygon:Ou,polygonCenter:Js},_a={project:function(o){return new we(o.lng,o.lat)},unproject:function(o){return new Pe(o.y,o.x)},bounds:new ke([-180,-90],[180,90])},Cs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ke([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var d=Math.PI/180,_=this.R,S=o.lat*d,N=this.R_MINOR/_,re=Math.sqrt(1-N*N),Ee=re*Math.sin(S),qe=Math.tan(Math.PI/4-S/2)/Math.pow((1-Ee)/(1+Ee),re/2);return S=-_*Math.log(Math.max(qe,1e-10)),new we(o.lng*d*_,S)},unproject:function(o){for(var d=180/Math.PI,_=this.R,S=this.R_MINOR/_,N=Math.sqrt(1-S*S),re=Math.exp(-o.y/_),Ee=Math.PI/2-2*Math.atan(re),qe=0,je=.1,st;qe<15&&Math.abs(je)>1e-7;qe++)st=N*Math.sin(Ee),st=Math.pow((1-st)/(1+st),N/2),je=Math.PI/2-2*Math.atan(re*st)-Ee,Ee+=je;return new Pe(Ee*d,o.x*d/_)}},dc={__proto__:null,LonLat:_a,Mercator:Cs,SphericalMercator:Xe},Fu=c({},Te,{code:"EPSG:3395",projection:Cs,transformation:function(){var o=.5/(Math.PI*Cs.R);return nt(o,.5,-o,.5)}()}),Es=c({},Te,{code:"EPSG:4326",projection:_a,transformation:nt(1/180,1,-1/180,.5)}),pl=c({},he,{projection:_a,transformation:nt(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,d){var _=d.lng-o.lng,S=d.lat-o.lat;return Math.sqrt(_*_+S*S)},infinite:!0});he.Earth=Te,he.EPSG3395=Fu,he.EPSG3857=Lt,he.EPSG900913=Mt,he.EPSG4326=Es,he.Simple=pl;var Nr=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[b(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[b(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var d=o.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var _=this.getEvents();d.on(_,this),this.once("remove",function(){d.off(_,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});gi.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var d=b(o);return this._layers[d]?this:(this._layers[d]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var d=b(o);return this._layers[d]?(this._loaded&&o.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return b(o)in this._layers},eachLayer:function(o,d){for(var _ in this._layers)o.call(d,this._layers[_]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var d=0,_=o.length;d<_;d++)this.addLayer(o[d])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[b(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var d=b(o);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,d=-1/0,_=this._getZoomSpan();for(var S in this._zoomBoundLayers){var N=this._zoomBoundLayers[S].options;o=N.minZoom===void 0?o:Math.min(o,N.minZoom),d=N.maxZoom===void 0?d:Math.max(d,N.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var en=Nr.extend({initialize:function(o,d){Z(this,d),this._layers={};var _,S;if(o)for(_=0,S=o.length;_<S;_++)this.addLayer(o[_])},addLayer:function(o){var d=this.getLayerId(o);return this._layers[d]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var d=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(o){var d=typeof o=="number"?o:this.getLayerId(o);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d=Array.prototype.slice.call(arguments,1),_,S;for(_ in this._layers)S=this._layers[_],S[o]&&S[o].apply(S,d);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,d){for(var _ in this._layers)o.call(d,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return b(o)}}),Gr=function(o,d){return new en(o,d)},fr=en.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),en.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),en.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new F;for(var d in this._layers){var _=this._layers[d];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),eu=function(o,d){return new fr(o,d)},Vo=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){Z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,d){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(_,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(S,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(o,d){var _=this.options,S=_[d+"Size"];typeof S=="number"&&(S=[S,S]);var N=We(S),re=We(d==="shadow"&&_.shadowAnchor||_.iconAnchor||N&&N.divideBy(2,!0));o.className="leaflet-marker-"+d+" "+(_.className||""),re&&(o.style.marginLeft=-re.x+"px",o.style.marginTop=-re.y+"px"),N&&(o.style.width=N.x+"px",o.style.height=N.y+"px")},_createImg:function(o,d){return d=d||document.createElement("img"),d.src=o,d},_getIconUrl:function(o){return It.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function io(o){return new Vo(o)}var Xr=Vo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Xr.imagePath!="string"&&(Xr.imagePath=this._detectIconPath()),(this.options.imagePath||Xr.imagePath)+Vo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var d=function(_,S,N){var re=S.exec(_);return re&&re[N]};return o=d(o,/^url\((['"])?(.+)\1\)$/,2),o&&d(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ye("div","leaflet-default-icon-path",document.body),d=_e(o,"background-image")||_e(o,"backgroundImage");if(document.body.removeChild(o),d=this._stripUrl(d),d)return d;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),tu=Ji.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Xo(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var d=this._marker,_=d._map,S=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,re=Ge(d._icon),Ee=_.getPixelBounds(),qe=_.getPixelOrigin(),je=K(Ee.min._subtract(qe).add(N),Ee.max._subtract(qe).subtract(N));if(!je.contains(re)){var st=We((Math.max(je.max.x,re.x)-je.max.x)/(Ee.max.x-je.max.x)-(Math.min(je.min.x,re.x)-je.min.x)/(Ee.min.x-je.min.x),(Math.max(je.max.y,re.y)-je.max.y)/(Ee.max.y-je.max.y)-(Math.min(je.min.y,re.y)-je.min.y)/(Ee.min.y-je.min.y)).multiplyBy(S);_.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),Me(d._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ue(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=ue(this._adjustPan.bind(this,o)))},_onDrag:function(o){var d=this._marker,_=d._shadow,S=Ge(d._icon),N=d._map.layerPointToLatLng(S);_&&Me(_,S),d._latlng=N,o.latlng=N,o.oldLatLng=this._oldLatLng,d.fire("move",o).fire("drag",o)},_onDragEnd:function(o){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),iu=Nr.extend({options:{icon:new Xr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,d){Z(this,d),this._latlng=q(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var d=this._latlng;return this._latlng=q(o),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),S=!1;_!==this._icon&&(this._icon&&this._removeIcon(),S=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),jt(_,d),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(_,"focus",this._panOnFocus,this);var N=o.icon.createShadow(this._shadow),re=!1;N!==this._shadow&&(this._removeShadow(),re=!0),N&&(jt(N,d),N.alt=""),this._shadow=N,o.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&re&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ue(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Me(this._icon,o),this._shadow&&Me(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&oe(this._icon,o),this._shadow&&oe(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var d=this.options.icon.options,_=d.iconSize?We(d.iconSize):We(0,0),S=d.iconAnchor?We(d.iconAnchor):We(0,0);o.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:_.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ml(o,d){return new iu(o,d)}var xr=Nr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return Z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ss=xr.extend({options:{fill:!0,radius:10},initialize:function(o,d){Z(this,d),this._latlng=q(o),this._radius=this.options.radius},setLatLng:function(o){var d=this._latlng;return this._latlng=q(o),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var d=o&&o.radius||this._radius;return xr.prototype.setStyle.call(this,o),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,d=this._radiusY||o,_=this._clickTolerance(),S=[o+_,d+_];this._pxBounds=new ke(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ru(o,d){return new Ss(o,d)}var no=Ss.extend({initialize:function(o,d,_){if(typeof d=="number"&&(d=c({},_,{radius:d})),Z(this,d),this._latlng=q(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:xr.prototype.setStyle,_project:function(){var o=this._latlng.lng,d=this._latlng.lat,_=this._map,S=_.options.crs;if(S.distance===Te.distance){var N=Math.PI/180,re=this._mRadius/Te.R/N,Ee=_.project([d+re,o]),qe=_.project([d-re,o]),je=Ee.add(qe).divideBy(2),st=_.unproject(je).lat,wt=Math.acos((Math.cos(re*N)-Math.sin(d*N)*Math.sin(st*N))/(Math.cos(d*N)*Math.cos(st*N)))/N;(isNaN(wt)||wt===0)&&(wt=re/Math.cos(Math.PI/180*d)),this._point=je.subtract(_.getPixelOrigin()),this._radius=isNaN(wt)?0:je.x-_.project([st,o-wt]).x,this._radiusY=je.y-Ee.y}else{var Zt=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Zt).x}this._updateBounds()}});function Yr(o,d,_){return new no(o,d,_)}var Hn=xr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,d){Z(this,d),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var d=1/0,_=null,S=To,N,re,Ee=0,qe=this._parts.length;Ee<qe;Ee++)for(var je=this._parts[Ee],st=1,wt=je.length;st<wt;st++){N=je[st-1],re=je[st];var Zt=S(o,N,re,!0);Zt<d&&(d=Zt,_=S(o,N,re))}return _&&(_.distance=Math.sqrt(d)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,d){return d=d||this._defaultShape(),o=q(o),d.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new F,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ti(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var d=[],_=Ti(o),S=0,N=o.length;S<N;S++)_?(d[S]=q(o[S]),this._bounds.extend(d[S])):d[S]=this._convertLatLngs(o[S]);return d},_project:function(){var o=new ke;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),d=new we(o,o);this._rawPxBounds&&(this._pxBounds=new ke([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(o,d,_){var S=o[0]instanceof Pe,N=o.length,re,Ee;if(S){for(Ee=[],re=0;re<N;re++)Ee[re]=this._map.latLngToLayerPoint(o[re]),_.extend(Ee[re]);d.push(Ee)}else for(re=0;re<N;re++)this._projectLatlngs(o[re],d,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,_,S,N,re,Ee,qe,je;for(_=0,N=0,re=this._rings.length;_<re;_++)for(je=this._rings[_],S=0,Ee=je.length;S<Ee-1;S++)qe=va(je[S],je[S+1],o,S,!0),qe&&(d[N]=d[N]||[],d[N].push(qe[0]),(qe[1]!==je[S+1]||S===Ee-2)&&(d[N].push(qe[1]),N++))}},_simplifyPoints:function(){for(var o=this._parts,d=this.options.smoothFactor,_=0,S=o.length;_<S;_++)o[_]=Pu(o[_],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,d){var _,S,N,re,Ee,qe,je=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,re=this._parts.length;_<re;_++)for(qe=this._parts[_],S=0,Ee=qe.length,N=Ee-1;S<Ee;N=S++)if(!(!d&&S===0)&&Eo(o,qe[N],qe[S])<=je)return!0;return!1}});function Ts(o,d){return new Hn(o,d)}Hn._flat=ws;var qa=Hn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Js(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var d=Hn.prototype._convertLatLngs.call(this,o),_=d.length;return _>=2&&d[0]instanceof Pe&&d[0].equals(d[_-1])&&d.pop(),d},_setLatLngs:function(o){Hn.prototype._setLatLngs.call(this,o),Ti(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ti(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,d=this.options.weight,_=new we(d,d);if(o=new ke(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,N=this._rings.length,re;S<N;S++)re=Ou(this._rings[S],o,!0),re.length&&this._parts.push(re)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d=!1,_,S,N,re,Ee,qe,je,st;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(re=0,je=this._parts.length;re<je;re++)for(_=this._parts[re],Ee=0,st=_.length,qe=st-1;Ee<st;qe=Ee++)S=_[Ee],N=_[qe],S.y>o.y!=N.y>o.y&&o.x<(N.x-S.x)*(o.y-S.y)/(N.y-S.y)+S.x&&(d=!d);return d||Hn.prototype._containsPoint.call(this,o,!0)}});function pc(o,d){return new qa(o,d)}var Ao=fr.extend({initialize:function(o,d){Z(this,d),this._layers={},o&&this.addData(o)},addData:function(o){var d=D(o)?o:o.features,_,S,N;if(d){for(_=0,S=d.length;_<S;_++)N=d[_],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var re=this.options;if(re.filter&&!re.filter(o))return this;var Ee=ro(o,re);return Ee?(Ee.feature=Ls(o),Ee.defaultOptions=Ee.options,this.resetStyle(Ee),re.onEachFeature&&re.onEachFeature(o,Ee),this.addLayer(Ee)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=c({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(d){this._setLayerStyle(d,o)},this)},_setLayerStyle:function(o,d){o.setStyle&&(typeof d=="function"&&(d=d(o.feature)),o.setStyle(d))}});function ro(o,d){var _=o.type==="Feature"?o.geometry:o,S=_?_.coordinates:null,N=[],re=d&&d.pointToLayer,Ee=d&&d.coordsToLatLng||Ko,qe,je,st,wt;if(!S&&!_)return null;switch(_.type){case"Point":return qe=Ee(S),wr(re,o,qe,d);case"MultiPoint":for(st=0,wt=S.length;st<wt;st++)qe=Ee(S[st]),N.push(wr(re,o,qe,d));return new fr(N);case"LineString":case"MultiLineString":return je=As(S,_.type==="LineString"?0:1,Ee),new Hn(je,d);case"Polygon":case"MultiPolygon":return je=As(S,_.type==="Polygon"?1:2,Ee),new qa(je,d);case"GeometryCollection":for(st=0,wt=_.geometries.length;st<wt;st++){var Zt=ro({geometry:_.geometries[st],type:"Feature",properties:o.properties},d);Zt&&N.push(Zt)}return new fr(N);case"FeatureCollection":for(st=0,wt=_.features.length;st<wt;st++){var Gt=ro(_.features[st],d);Gt&&N.push(Gt)}return new fr(N);default:throw new Error("Invalid GeoJSON object.")}}function wr(o,d,_,S){return o?o(d,_):new iu(_,S&&S.markersInheritOptions&&S)}function Ko(o){return new Pe(o[1],o[0],o[2])}function As(o,d,_){for(var S=[],N=0,re=o.length,Ee;N<re;N++)Ee=d?As(o[N],d-1,_):(_||Ko)(o[N]),S.push(Ee);return S}function nu(o,d){return o=q(o),o.alt!==void 0?[M(o.lng,d),M(o.lat,d),M(o.alt,d)]:[M(o.lng,d),M(o.lat,d)]}function ja(o,d,_,S){for(var N=[],re=0,Ee=o.length;re<Ee;re++)N.push(d?ja(o[re],Ti(o[re])?0:d-1,_,S):nu(o[re],S));return!d&&_&&N.push(N[0]),N}function Lo(o,d){return o.feature?c({},o.feature,{geometry:d}):Ls(d)}function Ls(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Vr={toGeoJSON:function(o){return Lo(this,{type:"Point",coordinates:nu(this.getLatLng(),o)})}};iu.include(Vr),no.include(Vr),Ss.include(Vr),Hn.include({toGeoJSON:function(o){var d=!Ti(this._latlngs),_=ja(this._latlngs,d?1:0,!1,o);return Lo(this,{type:(d?"Multi":"")+"LineString",coordinates:_})}}),qa.include({toGeoJSON:function(o){var d=!Ti(this._latlngs),_=d&&!Ti(this._latlngs[0]),S=ja(this._latlngs,_?2:d?1:0,!0,o);return d||(S=[S]),Lo(this,{type:(_?"Multi":"")+"Polygon",coordinates:S})}}),en.include({toMultiPoint:function(o){var d=[];return this.eachLayer(function(_){d.push(_.toGeoJSON(o).geometry.coordinates)}),Lo(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(o){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(o);var _=d==="GeometryCollection",S=[];return this.eachLayer(function(N){if(N.toGeoJSON){var re=N.toGeoJSON(o);if(_)S.push(re.geometry);else{var Ee=Ls(re);Ee.type==="FeatureCollection"?S.push.apply(S,Ee.features):S.push(Ee)}}}),_?Lo(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Fe(o,d){return new Ao(o,d)}var Je=Fe,Ze=Nr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,d,_){this._url=o,this._bounds=Ce(d),Z(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Qt(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ce(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",d=this._image=o?this._url:ye("img");if(jt(d,"leaflet-image-layer"),this._zoomAnimated&&jt(d,"leaflet-zoom-animated"),this.options.className&&jt(d,this.options.className),d.onselectstart=k,d.onmousemove=k,d.onload=p(this.fire,this,"load"),d.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(o){var d=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Le(this._image,_,d)},_reset:function(){var o=this._image,d=new ke(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=d.getSize();Me(o,d.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),At=function(o,d,_){return new Ze(o,d,_)},Yt=Ze.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",d=this._image=o?this._url:ye("video");if(jt(d,"leaflet-image-layer"),this._zoomAnimated&&jt(d,"leaflet-zoom-animated"),this.options.className&&jt(d,this.options.className),d.onselectstart=k,d.onmousemove=k,d.onloadeddata=p(this.fire,this,"load"),o){for(var _=d.getElementsByTagName("source"),S=[],N=0;N<_.length;N++)S.push(_[N].src);this._url=_.length>0?S:[d.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var re=0;re<this._url.length;re++){var Ee=ye("source");Ee.src=this._url[re],d.appendChild(Ee)}}});function Ci(o,d,_){return new Yt(o,d,_)}var tn=Ze.extend({_initImage:function(){var o=this._image=this._url;jt(o,"leaflet-image-layer"),this._zoomAnimated&&jt(o,"leaflet-zoom-animated"),this.options.className&&jt(o,this.options.className),o.onselectstart=k,o.onmousemove=k}});function Bi(o,d,_){return new tn(o,d,_)}var zr=Nr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,d){o&&(o instanceof L.LatLng||D(o))?(this._latlng=q(o),Z(this,d)):(Z(this,o),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&oe(this._container,1),this.bringToFront(),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(oe(this._container,0),this._removeTimeout=setTimeout(p(Ue,void 0,this._container),200)):Ue(this._container),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=q(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qt(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(o){var d=this._source;if(!d._map)return!1;if(d instanceof fr){d=null;var _=this._source._layers;for(var S in _)if(_[S]._map){d=_[S];break}if(!d)return!1;this._source=d}if(!o)if(d.getCenter)o=d.getCenter();else if(d.getLatLng)o=d.getLatLng();else if(d.getBounds)o=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")o.innerHTML=d;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),d=We(this.options.offset),_=this._getAnchor();this._zoomAnimated?Me(this._container,o.add(_)):d=d.add(o).add(_);var S=this._containerBottom=-d.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=S+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});gi.include({_initOverlay:function(o,d,_,S){var N=d;return N instanceof o||(N=new o(S).setContent(d)),_&&N.setLatLng(_),N}}),Nr.include({_initOverlay:function(o,d,_,S){var N=_;return N instanceof o?(Z(N,S),N._source=this):(N=d&&!S?d:new o(S,this),N.setContent(_)),N}});var ru=zr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,zr.prototype.openOn.call(this,o)},onAdd:function(o){zr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xr||this._source.on("preclick",ir))},onRemove:function(o){zr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xr||this._source.off("preclick",ir))},getEvents:function(){var o=zr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",d=this._container=ye("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=ye("div",o+"-content-wrapper",d);if(this._contentNode=ye("div",o+"-content",_),Bn(d),yr(this._contentNode),Rt(d,"contextmenu",ir),this._tipContainer=ye("div",o+"-tip-container",d),this._tip=ye("div",o+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=ye("a",o+"-close-button",d);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(S,"click",function(N){Nt(N),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,d=o.style;d.width="",d.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),d.width=_+1+"px",d.whiteSpace="",d.height="";var S=o.offsetHeight,N=this.options.maxHeight,re="leaflet-popup-scrolled";N&&S>N?(d.height=N+"px",jt(o,re)):kt(o,re),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();Me(this._container,d.add(_))},_adjustPan:function(o){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var d=this._map,_=parseInt(_e(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+_,N=this._containerWidth,re=new we(this._containerLeft,-S-this._containerBottom);re._add(Ge(this._container));var Ee=d.layerPointToContainerPoint(re),qe=We(this.options.autoPanPadding),je=We(this.options.autoPanPaddingTopLeft||qe),st=We(this.options.autoPanPaddingBottomRight||qe),wt=d.getSize(),Zt=0,Gt=0;Ee.x+N+st.x>wt.x&&(Zt=Ee.x+N-wt.x+st.x),Ee.x-Zt-je.x<0&&(Zt=Ee.x-je.x),Ee.y+S+st.y>wt.y&&(Gt=Ee.y+S-wt.y+st.y),Ee.y-Gt-je.y<0&&(Gt=Ee.y-je.y),(Zt||Gt)&&d.fire("autopanstart").panBy([Zt,Gt],{animate:o&&o.type==="moveend"})}},_getAnchor:function(){return We(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Sn=function(o,d){return new ru(o,d)};gi.mergeOptions({closePopupOnClick:!0}),gi.include({openPopup:function(o,d,_){return this._initOverlay(ru,o,d,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Nr.include({bindPopup:function(o,d){return this._popup=this._initOverlay(ru,this._popup,o,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){ii(o);var d=o.layer||o.target;if(this._popup._source===d&&!(d instanceof xr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=d,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Br=zr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){zr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){zr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=zr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",d=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var d,_,S=this._map,N=this._container,re=S.latLngToContainerPoint(S.getCenter()),Ee=S.layerPointToContainerPoint(o),qe=this.options.direction,je=N.offsetWidth,st=N.offsetHeight,wt=We(this.options.offset),Zt=this._getAnchor();qe==="top"?(d=je/2,_=st):qe==="bottom"?(d=je/2,_=0):qe==="center"?(d=je/2,_=st/2):qe==="right"?(d=0,_=st/2):qe==="left"?(d=je,_=st/2):Ee.x<re.x?(qe="right",d=0,_=st/2):(qe="left",d=je+(wt.x+Zt.x)*2,_=st/2),o=o.subtract(We(d,_,!0)).add(wt).add(Zt),kt(N,"leaflet-tooltip-right"),kt(N,"leaflet-tooltip-left"),kt(N,"leaflet-tooltip-top"),kt(N,"leaflet-tooltip-bottom"),jt(N,"leaflet-tooltip-"+qe),Me(N,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&oe(this._container,o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(d)},_getAnchor:function(){return We(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Za=function(o,d){return new Br(o,d)};gi.include({openTooltip:function(o,d,_){return this._initOverlay(Br,o,d,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Nr.include({bindTooltip:function(o,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Br,this._tooltip,o,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var d=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[d](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var d=o.getElement();d&&(Rt(d,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Rt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var d=o.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var d=o.latlng,_,S;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),S=this._map.containerPointToLayerPoint(_),d=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(d)}});var Do=Vo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var d=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(qt(d),d.appendChild(_.html)):d.innerHTML=_.html!==!1?_.html:"",_.bgPos){var S=We(_.bgPos);d.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Ga(o){return new Do(o)}Vo.Default=Xr;var Mo=Nr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){Z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ue(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof we?o:new we(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var d=this.getPane().children,_=-o(-1/0,1/0),S=0,N=d.length,re;S<N;S++)re=d[S].style.zIndex,d[S]!==this._container&&re&&(_=o(_,+re));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){oe(this._container,this.options.opacity);var o=+new Date,d=!1,_=!1;for(var S in this._tiles){var N=this._tiles[S];if(!(!N.current||!N.loaded)){var re=Math.min(1,(o-N.loaded)/200);oe(N.el,re),re<1?d=!0:(N.active?_=!0:this._onOpaqueTile(N),N.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),d&&(De(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,d=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=d-Math.abs(o-_),this._onUpdateLevel(_)):(Ue(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var S=this._levels[o],N=this._map;return S||(S=this._levels[o]={},S.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=d,S.origin=N.project(N.unproject(N.getPixelOrigin()),o).round(),S.zoom=o,this._setZoomTransform(S,N.getCenter(),N.getZoom()),k(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var o,d,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)d=this._tiles[o],d.retain=d.current;for(o in this._tiles)if(d=this._tiles[o],d.current&&!d.active){var S=d.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var d in this._tiles)this._tiles[d].coords.z===o&&this._removeTile(d)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ue(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,d,_,S){var N=Math.floor(o/2),re=Math.floor(d/2),Ee=_-1,qe=new we(+N,+re);qe.z=+Ee;var je=this._tileCoordsToKey(qe),st=this._tiles[je];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),Ee>S?this._retainParent(N,re,Ee,S):!1)},_retainChildren:function(o,d,_,S){for(var N=2*o;N<2*o+2;N++)for(var re=2*d;re<2*d+2;re++){var Ee=new we(N,re);Ee.z=_+1;var qe=this._tileCoordsToKey(Ee),je=this._tiles[qe];if(je&&je.active){je.retain=!0;continue}else je&&je.loaded&&(je.retain=!0);_+1<S&&this._retainChildren(N,re,_+1,S)}},_resetView:function(o){var d=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var d=this.options;return d.minNativeZoom!==void 0&&o<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<o?d.maxNativeZoom:o},_setView:function(o,d,_,S){var N=Math.round(d);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var re=this.options.updateWhenZooming&&N!==this._tileZoom;(!S||re)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,d)},_setZoomTransforms:function(o,d){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,d)},_setZoomTransform:function(o,d,_){var S=this._map.getZoomScale(_,o.zoom),N=o.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(d,_)).round();It.any3d?Le(o.el,N,S):Me(o.el,N)},_resetGrid:function(){var o=this._map,d=o.options.crs,_=this._tileSize=this.getTileSize(),S=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,d.wrapLng[0]],S).x/_.x),Math.ceil(o.project([0,d.wrapLng[1]],S).x/_.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([d.wrapLat[0],0],S).y/_.x),Math.ceil(o.project([d.wrapLat[1],0],S).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var d=this._map,_=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),S=d.getZoomScale(_,this._tileZoom),N=d.project(o,this._tileZoom).floor(),re=d.getSize().divideBy(S*2);return new ke(N.subtract(re),N.add(re))},_update:function(o){var d=this._map;if(d){var _=this._clampZoom(d.getZoom());if(o===void 0&&(o=d.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(o),N=this._pxBoundsToTileRange(S),re=N.getCenter(),Ee=[],qe=this.options.keepBuffer,je=new ke(N.getBottomLeft().subtract([qe,-qe]),N.getTopRight().add([qe,-qe]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var wt=this._tiles[st].coords;(wt.z!==this._tileZoom||!je.contains(new we(wt.x,wt.y)))&&(this._tiles[st].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var Zt=N.min.y;Zt<=N.max.y;Zt++)for(var Gt=N.min.x;Gt<=N.max.x;Gt++){var Tn=new we(Gt,Zt);if(Tn.z=this._tileZoom,!!this._isValidTile(Tn)){var Un=this._tiles[this._tileCoordsToKey(Tn)];Un?Un.current=!0:Ee.push(Tn)}}if(Ee.sort(function(Cr,ya){return Cr.distanceTo(re)-ya.distanceTo(re)}),Ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Oo=document.createDocumentFragment();for(Gt=0;Gt<Ee.length;Gt++)this._addTile(Ee[Gt],Oo);this._level.el.appendChild(Oo)}}}},_isValidTile:function(o){var d=this._map.options.crs;if(!d.infinite){var _=this._globalTileRange;if(!d.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!d.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(o);return Ce(this.options.bounds).overlaps(S)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var d=this._map,_=this.getTileSize(),S=o.scaleBy(_),N=S.add(_),re=d.unproject(S,o.z),Ee=d.unproject(N,o.z);return[re,Ee]},_tileCoordsToBounds:function(o){var d=this._tileCoordsToNwSe(o),_=new F(d[0],d[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var d=o.split(":"),_=new we(+d[0],+d[1]);return _.z=+d[2],_},_removeTile:function(o){var d=this._tiles[o];d&&(Ue(d.el),delete this._tiles[o],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){jt(o,"leaflet-tile");var d=this.getTileSize();o.style.width=d.x+"px",o.style.height=d.y+"px",o.onselectstart=k,o.onmousemove=k,It.ielt9&&this.options.opacity<1&&oe(o,this.options.opacity)},_addTile:function(o,d){var _=this._getTilePos(o),S=this._tileCoordsToKey(o),N=this.createTile(this._wrapCoords(o),p(this._tileReady,this,o));this._initTile(N),this.createTile.length<2&&ue(p(this._tileReady,this,o,null,N)),Me(N,_),this._tiles[S]={el:N,coords:o,current:!0},d.appendChild(N),this.fire("tileloadstart",{tile:N,coords:o})},_tileReady:function(o,d,_){d&&this.fire("tileerror",{error:d,tile:_,coords:o});var S=this._tileCoordsToKey(o);_=this._tiles[S],_&&(_.loaded=+new Date,this._map._fadeAnimated?(oe(_.el,0),De(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),d||(jt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?ue(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var d=new we(this._wrapX?C(o.x,this._wrapX):o.x,this._wrapY?C(o.y,this._wrapY):o.y);return d.z=o.z,d},_pxBoundsToTileRange:function(o){var d=this.getTileSize();return new ke(o.min.unscaleBy(d).floor(),o.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Ai(o){return new Mo(o)}var Hr=Mo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,d){this._url=o,d=Z(this,d),d.detectRetina&&It.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,d){return this._url===o&&d===void 0&&(d=!0),this._url=o,d||this.redraw(),this},createTile:function(o,d){var _=document.createElement("img");return Rt(_,"load",p(this._tileOnLoad,this,d,_)),Rt(_,"error",p(this._tileOnError,this,d,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var d={r:It.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(d.y=_),d["-y"]=_}return E(this._url,c(d,this.options))},_tileOnLoad:function(o,d){It.ielt9?setTimeout(p(o,this,null,d),0):o(null,d)},_tileOnError:function(o,d,_){var S=this.options.errorTileUrl;S&&d.getAttribute("src")!==S&&(d.src=S),o(_,d)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,d=this.options.maxZoom,_=this.options.zoomReverse,S=this.options.zoomOffset;return _&&(o=d-o),o+S},_getSubdomain:function(o){var d=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var o,d;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(d=this._tiles[o].el,d.onload=k,d.onerror=k,!d.complete)){d.src=B;var _=this._tiles[o].coords;Ue(d),delete this._tiles[o],this.fire("tileabort",{tile:d,coords:_})}},_removeTile:function(o){var d=this._tiles[o];if(d)return d.el.setAttribute("src",B),Mo.prototype._removeTile.call(this,o)},_tileReady:function(o,d,_){if(!(!this._map||_&&_.getAttribute("src")===B))return Mo.prototype._tileReady.call(this,o,d,_)}});function Po(o,d){return new Hr(o,d)}var mn=Hr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,d){this._url=o;var _=c({},this.defaultWmsParams);for(var S in d)S in this.options||(_[S]=d[S]);d=Z(this,d);var N=d.detectRetina&&It.retina?2:1,re=this.getTileSize();_.width=re.x*N,_.height=re.y*N,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Hr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var d=this._tileCoordsToNwSe(o),_=this._crs,S=K(_.project(d[0]),_.project(d[1])),N=S.min,re=S.max,Ee=(this._wmsVersion>=1.3&&this._crs===Es?[N.y,N.x,re.y,re.x]:[N.x,N.y,re.x,re.y]).join(","),qe=Hr.prototype.getTileUrl.call(this,o);return qe+U(this.wmsParams,qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ee},setParams:function(o,d){return c(this.wmsParams,o),d||this.redraw(),this}});function $o(o,d){return new mn(o,d)}Hr.WMS=mn,Po.wms=$o;var Xn=Nr.extend({options:{padding:.1},initialize:function(o){Z(this,o),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,d){var _=this._map.getZoomScale(d,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,d),re=S.multiplyBy(-_).add(N).subtract(this._map._getNewPixelOrigin(o,d));It.any3d?Le(this._container,re,_):Me(this._container,re)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,d=this._map.getSize(),_=this._map.containerPointToLayerPoint(d.multiplyBy(-o)).round();this._bounds=new ke(_,_.add(d.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ds=Xn.extend({options:{tolerance:0},getEvents:function(){var o=Xn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Rt(o,"mousemove",this._onMouseMove,this),Rt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,Ue(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var d in this._layers)o=this._layers[d],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var o=this._bounds,d=this._container,_=o.getSize(),S=It.retina?2:1;Me(d,o.min),d.width=S*_.x,d.height=S*_.y,d.style.width=_.x+"px",d.style.height=_.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[b(o)]=o;var d=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var d=o._order,_=d.next,S=d.prev;_?_.prev=S:this._drawLast=S,S?S.next=_:this._drawFirst=_,delete o._order,delete this._layers[b(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var d=o.options.dashArray.split(/[, ]+/),_=[],S,N;for(N=0;N<d.length;N++){if(S=Number(d[N]),isNaN(S))return;_.push(S)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ue(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var d=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ke,this._redrawBounds.extend(o._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(o._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var d=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,d=this._redrawBounds;if(this._ctx.save(),d){var _=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)o=S.layer,(!d||o._pxBounds&&o._pxBounds.intersects(d))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,d){if(this._drawing){var _,S,N,re,Ee=o._parts,qe=Ee.length,je=this._ctx;if(qe){for(je.beginPath(),_=0;_<qe;_++){for(S=0,N=Ee[_].length;S<N;S++)re=Ee[_][S],je[S?"lineTo":"moveTo"](re.x,re.y);d&&je.closePath()}this._fillStroke(je,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var d=o._point,_=this._ctx,S=Math.max(Math.round(o._radius),1),N=(Math.max(Math.round(o._radiusY),1)||S)/S;N!==1&&(_.save(),_.scale(1,N)),_.beginPath(),_.arc(d.x,d.y/N,S,0,Math.PI*2,!1),N!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,d){var _=d.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(d.options&&d.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var d=this._map.mouseEventToLayerPoint(o),_,S,N=this._drawFirst;N;N=N.next)_=N.layer,_.options.interactive&&_._containsPoint(d)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(S=_);this._fireEvent(S?[S]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,d)}},_handleMouseOut:function(o){var d=this._hoveredLayer;d&&(kt(this._container,"leaflet-interactive"),this._fireEvent([d],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,d){if(!this._mouseHoverThrottled){for(var _,S,N=this._drawFirst;N;N=N.next)_=N.layer,_.options.interactive&&_._containsPoint(d)&&(S=_);S!==this._hoveredLayer&&(this._handleMouseOut(o),S&&(jt(this._container,"leaflet-interactive"),this._fireEvent([S],o,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,d,_){this._map._fireDOMEvent(d,_||d.type,o)},_bringToFront:function(o){var d=o._order;if(d){var _=d.next,S=d.prev;if(_)_.prev=S;else return;S?S.next=_:_&&(this._drawFirst=_),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(o)}},_bringToBack:function(o){var d=o._order;if(d){var _=d.next,S=d.prev;if(S)S.next=_;else return;_?_.prev=S:S&&(this._drawLast=S),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(o)}}});function Ms(o){return It.canvas?new Ds(o):null}var kr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qo={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var d=o._container=kr("shape");jt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",o._path=kr("path"),d.appendChild(o._path),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){var d=o._container;this._container.appendChild(d),o.options.interactive&&o.addInteractiveTarget(d)},_removePath:function(o){var d=o._container;Ue(d),o.removeInteractiveTarget(d),delete this._layers[b(o)]},_updateStyle:function(o){var d=o._stroke,_=o._fill,S=o.options,N=o._container;N.stroked=!!S.stroke,N.filled=!!S.fill,S.stroke?(d||(d=o._stroke=kr("stroke")),N.appendChild(d),d.weight=S.weight+"px",d.color=S.color,d.opacity=S.opacity,S.dashArray?d.dashStyle=D(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=S.lineCap.replace("butt","flat"),d.joinstyle=S.lineJoin):d&&(N.removeChild(d),o._stroke=null),S.fill?(_||(_=o._fill=kr("fill")),N.appendChild(_),_.color=S.fillColor||S.color,_.opacity=S.fillOpacity):_&&(N.removeChild(_),o._fill=null)},_updateCircle:function(o){var d=o._point.round(),_=Math.round(o._radius),S=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+d.x+","+d.y+" "+_+","+S+" 0,"+65535*360)},_setPath:function(o,d){o._path.v=d},_bringToFront:function(o){Qt(o._container)},_bringToBack:function(o){ni(o._container)}},Xa=It.vml?kr:Ft,oo=Xn.extend({_initContainer:function(){this._container=Xa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ue(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var o=this._bounds,d=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,_.setAttribute("width",d.x),_.setAttribute("height",d.y)),Me(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(o){var d=o._path=Xa("path");o.options.className&&jt(d,o.options.className),o.options.interactive&&jt(d,"leaflet-interactive"),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ue(o._path),o.removeInteractiveTarget(o._path),delete this._layers[b(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var d=o._path,_=o.options;d&&(_.stroke?(d.setAttribute("stroke",_.color),d.setAttribute("stroke-opacity",_.opacity),d.setAttribute("stroke-width",_.weight),d.setAttribute("stroke-linecap",_.lineCap),d.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?d.setAttribute("stroke-dasharray",_.dashArray):d.removeAttribute("stroke-dasharray"),_.dashOffset?d.setAttribute("stroke-dashoffset",_.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),_.fill?(d.setAttribute("fill",_.fillColor||_.color),d.setAttribute("fill-opacity",_.fillOpacity),d.setAttribute("fill-rule",_.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(o,d){this._setPath(o,_t(o._parts,d))},_updateCircle:function(o){var d=o._point,_=Math.max(Math.round(o._radius),1),S=Math.max(Math.round(o._radiusY),1)||_,N="a"+_+","+S+" 0 1,0 ",re=o._empty()?"M0 0":"M"+(d.x-_)+","+d.y+N+_*2+",0 "+N+-_*2+",0 ";this._setPath(o,re)},_setPath:function(o,d){o._path.setAttribute("d",d)},_bringToFront:function(o){Qt(o._path)},_bringToBack:function(o){ni(o._path)}});It.vml&&oo.include(Qo);function Ya(o){return It.svg||It.vml?new oo(o):null}gi.include({getRenderer:function(o){var d=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var d=this._paneRenderers[o];return d===void 0&&(d=this._createRenderer({pane:o}),this._paneRenderers[o]=d),d},_createRenderer:function(o){return this.options.preferCanvas&&Ms(o)||Ya(o)}});var Nu=qa.extend({initialize:function(o,d){qa.prototype.initialize.call(this,this._boundsToLatLngs(o),d)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ce(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Va(o,d){return new Nu(o,d)}oo.create=Xa,oo.pointsToPath=_t,Ao.geometryToLayer=ro,Ao.coordsToLatLng=Ko,Ao.coordsToLatLngs=As,Ao.latLngToCoords=nu,Ao.latLngsToCoords=ja,Ao.getFeature=Lo,Ao.asFeature=Ls,gi.mergeOptions({boxZoom:!0});var ou=Ji.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lt(),ct(),this._startPoint=this._map.mouseEventToContainerPoint(o),Rt(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var d=new ke(this._point,this._startPoint),_=d.getSize();Me(this._box,d.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Ue(this._box),kt(this._container,"leaflet-crosshair")),tt(),ai(),Bt(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var d=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gi.addInitHook("addHandler","boxZoom",ou),gi.mergeOptions({doubleClickZoom:!0});var Jo=Ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var d=this._map,_=d.getZoom(),S=d.options.zoomDelta,N=o.originalEvent.shiftKey?_-S:_+S;d.options.doubleClickZoom==="center"?d.setZoom(N):d.setZoomAround(o.containerPoint,N)}});gi.addInitHook("addHandler","doubleClickZoom",Jo),gi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ao=Ji.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Xo(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,"leaflet-grab"),kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Ce(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var d=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(d),this._prunePositions(d)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,d){return o-(o-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;o.x<d.min.x&&(o.x=this._viscousLimit(o.x,d.min.x)),o.y<d.min.y&&(o.y=this._viscousLimit(o.y,d.min.y)),o.x>d.max.x&&(o.x=this._viscousLimit(o.x,d.max.x)),o.y>d.max.y&&(o.y=this._viscousLimit(o.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,d=Math.round(o/2),_=this._initialWorldOffset,S=this._draggable._newPos.x,N=(S-d+_)%o+d-_,re=(S+d+_)%o-d-_,Ee=Math.abs(N+_)<Math.abs(re+_)?N:re;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ee},_onDragEnd:function(o){var d=this._map,_=d.options,S=!_.inertia||o.noInertia||this._times.length<2;if(d.fire("dragend",o),S)d.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),re=(this._lastTime-this._times[0])/1e3,Ee=_.easeLinearity,qe=N.multiplyBy(Ee/re),je=qe.distanceTo([0,0]),st=Math.min(_.inertiaMaxSpeed,je),wt=qe.multiplyBy(st/je),Zt=st/(_.inertiaDeceleration*Ee),Gt=wt.multiplyBy(-Zt/2).round();!Gt.x&&!Gt.y?d.fire("moveend"):(Gt=d._limitOffset(Gt,d.options.maxBounds),ue(function(){d.panBy(Gt,{duration:Zt,easeLinearity:Ee,noMoveStart:!0,animate:!0})}))}}});gi.addInitHook("addHandler","dragging",ao),gi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var so=Ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Rt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,d=document.documentElement,_=o.scrollTop||d.scrollTop,S=o.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(S,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var d=this._panKeys={},_=this.keyCodes,S,N;for(S=0,N=_.left.length;S<N;S++)d[_.left[S]]=[-1*o,0];for(S=0,N=_.right.length;S<N;S++)d[_.right[S]]=[o,0];for(S=0,N=_.down.length;S<N;S++)d[_.down[S]]=[0,o];for(S=0,N=_.up.length;S<N;S++)d[_.up[S]]=[0,-1*o]},_setZoomDelta:function(o){var d=this._zoomKeys={},_=this.keyCodes,S,N;for(S=0,N=_.zoomIn.length;S<N;S++)d[_.zoomIn[S]]=o;for(S=0,N=_.zoomOut.length;S<N;S++)d[_.zoomOut[S]]=-o},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var d=o.keyCode,_=this._map,S;if(d in this._panKeys)(!_._panAnim||!_._panAnim._inProgress)&&(S=this._panKeys[d],o.shiftKey&&(S=We(S).multiplyBy(3)),_.panBy(S),_.options.maxBounds&&_.panInsideBounds(_.options.maxBounds));else if(d in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;ii(o)}}});gi.addInitHook("addHandler","keyboard",so),gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ps=Ji.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var d=Go(o),_=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var S=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),S),ii(o)},_performZoom:function(){var o=this._map,d=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,re=_?Math.ceil(N/_)*_:N,Ee=o._limitZoom(d+(this._delta>0?re:-re))-d;this._delta=0,this._startTime=null,Ee&&(o.options.scrollWheelZoom==="center"?o.setZoom(d+Ee):o.setZoomAround(this._lastMousePos,d+Ee))}});gi.addInitHook("addHandler","scrollWheelZoom",Ps);var gl=600;gi.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var Os=Ji.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var d=o.touches[0];this._startPos=this._newPos=new we(d.clientX,d.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",Nt),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),gl),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Bt(document,"touchend",Nt),Bt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(o){var d=o.touches[0];this._newPos=new we(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,d){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});_._simulated=!0,d.target.dispatchEvent(_)}});gi.addInitHook("addHandler","tapHold",Os),gi.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var Is=Ji.extend({addHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var d=this._map;if(!(!o.touches||o.touches.length!==2||d._animatingZoom||this._zooming)){var _=d.mouseEventToContainerPoint(o.touches[0]),S=d.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(_.add(S)._divideBy(2))),this._startDist=_.distanceTo(S),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),Nt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var d=this._map,_=d.mouseEventToContainerPoint(o.touches[0]),S=d.mouseEventToContainerPoint(o.touches[1]),N=_.distanceTo(S)/this._startDist;if(this._zoom=d.getScaleZoom(N,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&N<1||this._zoom>d.getMaxZoom()&&N>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var re=_._add(S)._divideBy(2)._subtract(this._centerPoint);if(N===1&&re.x===0&&re.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(re),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),De(this._animRequest);var Ee=p(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ue(Ee,this,!0),Nt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,De(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gi.addInitHook("addHandler","touchZoom",Is),gi.BoxZoom=ou,gi.DoubleClickZoom=Jo,gi.Drag=ao,gi.Keyboard=so,gi.ScrollWheelZoom=Ps,gi.TapHold=Os,gi.TouchZoom=Is,r.Bounds=ke,r.Browser=It,r.CRS=he,r.Canvas=Ds,r.Circle=no,r.CircleMarker=Ss,r.Class=te,r.Control=nr,r.DivIcon=Do,r.DivOverlay=zr,r.DomEvent=bs,r.DomUtil=er,r.Draggable=Xo,r.Evented=ve,r.FeatureGroup=fr,r.GeoJSON=Ao,r.GridLayer=Mo,r.Handler=Ji,r.Icon=Vo,r.ImageOverlay=Ze,r.LatLng=Pe,r.LatLngBounds=F,r.Layer=Nr,r.LayerGroup=en,r.LineUtil=ks,r.Map=gi,r.Marker=iu,r.Mixin=dl,r.Path=xr,r.Point=we,r.PolyUtil=Iu,r.Polygon=qa,r.Polyline=Hn,r.Popup=ru,r.PosAnimation=Gn,r.Projection=dc,r.Rectangle=Nu,r.Renderer=Xn,r.SVG=oo,r.SVGOverlay=tn,r.TileLayer=Hr,r.Tooltip=Br,r.Transformation=et,r.Util=be,r.VideoOverlay=Yt,r.bind=p,r.bounds=K,r.canvas=Ms,r.circle=Yr,r.circleMarker=Ru,r.control=Rr,r.divIcon=Ga,r.extend=c,r.featureGroup=eu,r.geoJSON=Fe,r.geoJson=Je,r.gridLayer=Ai,r.icon=io,r.imageOverlay=At,r.latLng=q,r.latLngBounds=Ce,r.layerGroup=Gr,r.map=pn,r.marker=ml,r.point=We,r.polygon=pc,r.polyline=Ts,r.popup=Sn,r.rectangle=Va,r.setOptions=Z,r.stamp=b,r.svg=Ya,r.svgOverlay=Bi,r.tileLayer=Po,r.tooltip=Za,r.transformation=nt,r.version=s,r.videoOverlay=Ci;var au=window.L;r.noConflict=function(){return window.L=au,this},window.L=r})}(Qc,Qc.exports)),Qc.exports}var ss=sC();class uC{async geoCode(e){const s=await(await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:e}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"})).json();return s&&s[0]?s[0]:null}}const lC=new uC,cC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIDZVWTWhcVRT+7pskM29+Xl6SaSpdOFGQQlps6UIUrMRNEbvVVVHcGKtVtKEEBf9QoRJEFLFidCG6bJZWrJsG24UbS6uJtrTFdGwlyUySmcz0vUySeU/Oue++30mqBx5z7/n57rnnnp8RruuiE4kvx/fCar2NtbXHsekUI8IurYpM5hyy6ffcFyZmEsZkHwcW3741iKX6d2jYh6CngaF7gKIZtarWgLl5wG4BBf0nDPQ+4z77/uKWwGJyfASLtR8ghI59DwClnQDJw4cLEfzeXAAuXyO5jUHzSXd0YjoB7IPmdR2P7QdSmtTYIlT+AW0HOH8JaNg2dpgPqdBovuJy4xsUdB0H90lQAnTI2xCQAiNyvJuQ7sH9YNuVxvdKzMDi1Ik30Noo4cBuoCsVBdQEUL8DVOtAdVWu1QGudwCBk21ro8RY9L6sUG+M4d6dgJGLXr3dBi7MAEurITAXGDCAR/YCqVTAI1vCmK+OATipcWzX20UMlwIvSHGzDfx8CVi9s4TBvqfdd74W9NGaeSQjHTd0u+EhEBZharDXjyCbBvRMkAHk3fVbQNO2UTRH3Jc+mlKX4HXRHGEZ6ZCusqP0JCx7/Yh8PNqETyaq1ICcfqZTATAvp5/hfPaZ3k0JK5IVvoKHbq3RQ9YSckXbyRLACpRPzlAMzYSFIpIpL+NF5ANbraTXO0ygaR3mnhEj5jWtw6wTLyAPS0NP91neUN2HC+D+XUA+q6OyMi1OnXhKsXldWZlmGen4AiExCLin+yyXtPhg1MLwkI77dgGOE3hB5frLLLBMeaxK3AH6DeDhPUHZE6imAX/9A/wxZ7tvTmZlgWTT51FeOBTxgLDJ8NEHgXoT2HQknyqzNxdUp7okVWh5QWL5Mc7rJ2XZxiqMjMnrQg7oL8ivkJW88IORTaUuy52wFDC3Oz09iytzyWYTPsTp0EI5DAJsq6dnVesM0i2vv8seU7MBkuCdSKmQHfUTwlBnRhr9xLEZdKf2YOSAbEDOFr3YfzAh3+HcRWCjPeuOf+6nZrRAzNzLqFvAjduB4VYkPHDSXbWkbYgiwBwfIzuFK2Xpbad4w8sA4lNq/lmmB50Kj6Wkx0TF3mMQ7hIuXpW5qYnonFN7CsGvV8G6ZBM/O87gadtnHMX8MnCrEoAzYKgY/q6AdfqMo/EJ3REYqucaudP47To1eg/c+8jThgX8foOmxulwrw5T4n9FRPjhi3PI9JR4wHZ5Y4imxoXL1Mxvuq9/MZQw2s5jn/oLz/GkIO9Snre0plFPsm1oW2B+6QHjOMqLMqb00XrAOB7Pgv8VCl/ps7FJ1JrP88bMf+W+8vHoXW3+CzArfvraj3yLVz954q7KAP4FsFfcPBQDhqkAAAAASUVORK5CYII=",fC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAJP0lEQVRoBcVaa2wc1RX+ZvZhr/dpZxOlBOqGJq3AQTQlbYpUBFRU6o9KrUSg/WW1UkUgoUCDEzUGtWpTEhTcFNoQcP+0ioQEOPwEIajkoPwIbaKEKiRpm5dNSZzHxtm1vV6vdz1TnXPnzs7emdmddZz0k652Hvec+82Zc88998xqpmliPtAGt6zCbLUXlep9KJdXoGpkPdWE9Rza2k4jEj6AaHivuX7np64+AdAyUe21zVsxUVyPSrUbtmgzHVrtJxIeRSo+aD7x0g5XtwYITFR7ta8fhclNqBqLIGXCIWBJJ5BJANmMS4aRywP5KeDyNaA6ZynTyNJXkU7uMjcObHfJeKApUX7FE9NvYma2xyaYTQErvwjcIt92Yx22RS/kgFOfAbmJGuH26HGkOn7czCUaEtV2P9uP/OTzqBoxm+Cdy4HFlvWkrJ8OTfM+v5IHTpyrEQ7rJWSSvzOf/L2vdX2Janv6tiJXEIIhHehZDqxYZhHD9RGVl0+fB46fA+YMcZ5N95sbBjx915MoW3J84gUYhvC/e74KZJLgcyc8ZBtCJa7rQH4SOPJv4FoR0DWgK/Wcl2VdROssmeoAHlgNhELi5o0gKvXuPwIUpsW5h2XriPLEyeX/gYoRQ2cc+PbdFE7cr1jlJ8dXiagPYvr0J8KVKnDgE2HZiF5CNvNN5wTT6xQVim/CMGOIhIA1dwiSNws0Fo8ZAnMgLk7j20ahV14q98AwgTu6gVRcWISaYTVTsSb5FDVNaWQhaup1p2WpSb306qnRmDQ2XSuVe5iThZrJJqY28S+FnpW3tWZGCuSX86Sj/t3SwEsyYmEIChr74rgIYYIT+yr7KK8644UXOEzcvxroSlpP7uOTulYjePpzEWbIx7x8lF4phbUVt9YIG4pC1WfHJ4GPjoqw2JV+jlYv8eoni48Ja6aFBYKAlsW/HQaOjwiShGh4lFcaanRMoHvUh/rmp4LpJg7ExcFNw+ubV+Hi+DG+uLYHWJathSFDme3SkhPTwEef1Pql4kPoaPutugxyFJku/woTxUeEvA7c/zUR9pz67dlv/ZIlz+eAj4+L86Vdd4VRqfbyCb2iZd6ZWh0qc8DBT4WlIqGSlkn8xPj5H9529aPnE8Qf1f/0i0fN/NRfUanGWPY794jZ3QjEhTjROJVqr47Z6n3sgzSJ5CxXm3Pmkk+WyuLpF6V7/Ug6wX0WpXtZhmRJh1OnOp6MBswJII46J70EWiqbWrMKnPpcHMdj75gbBva5+viA+8Zj7/Bd0iH9uhEkp3J5hY6qmWXaWadFPWY64UpBzHRNgxZv/43rfhOwDFmQdOQK7s5yXMmDc1wTtHvQXZ0boWDN2mh41NgwcKxBT0+wjIwGhYARwILubTr5hGb9ej1bEb+hUGujODFP2ZpFb+a6Pg/U2Dmd25X1WOfRiPitzgWYeT6Ys2TNRom35pJtzUfTFr9KtVvf03eX634TsMxstbtOVyM4jKcjGhnlJ6Ddoh/sWZgW67VhwizO/Nqnty9YhuIj6SBd6hxQwRNOozc5qiMSHuPbQdZhWk1W3iqOp0oPa3v61rn6+ID7TpUe5ruko9nK5OQUCY/piIYPsEtQWuWXP0pQdnX7LUAsKtb5XH4vLY+ufgq4Ty6/l2VIlnTMGa5+rvGZE4fDA0T0Pe5E/hDEqvTa7l0looRhxsyrE29pu54a4gREHXdwyyq6R33EziEsZIPkp8SllpW9J/LR7etzXAG5/QvA3StrFQ2ZHal+RE9L/vP3E8B0uZb1tEVHoWtFIWvGUZ7tto6BjjZg7Z1iEnnpg2OzRw/yz1PA2TGuqJj9g1kRntrbhjFVWsepFRENAhrwoW+IBOOMlTjLGe0EWfHLVuKse7iTH4iL5CbjqNbRtscsltZxZkNrcKdP6FCLYjTwV24TPsdbh2J9/1QCWJJ2bLd9MnsJ+SDEgbiEdOYG53ZZ27H+CsrVLLqXAqstq84pr95vu2sPpIRlNaD7EZV6pO8e+Q8wehFoC+fMrYOLURfwk/G/sMBnl8TTeM1+NV+kB6Fmn88pzahvat4JB1E5zvSM4EDnxEnawO6cig9A10p8PHoJ/zfIsYkLcVKJmr3bLiMee1dk8eeFhZrFVT9L23UAn5XHVQewGsnQ2HQtHnuXObksSpDJMGfy/3Xpv+GgMWXsVBLzOqK8GUvGPuAnou0C+ZkzpDSzbFBoyownneTDZE0aLxn7QN3RurOnjvZnoaPEu00qtt4sUJ2UrEm+SRwUuIjyk6QTb/CTnbkAzJQdtSSP2NeSJRXfpP07tZlZMRZdS8Xf8CqTu4hCbMKetyPAoX+57i84Dp202GglHtsDnkSNn714CenEbmi6qLOPXa2v2slZ2rJFZXPoGhsHrk4IfenEbh7bA66Kc53e7Y+P8PrdHgEeWlObSH4rTTPoSvJBej48BJQr/P3J7H/9S34aPC1qI9WxWVQ3ZoGzF2o+FTS+2qModVSph5IZ0k33Mok+l1xQouaTu4aQiIlqCFXkglbjgoB0kU5w1WVfs6pLQ6KMbHojfweip6avFzICcFMsJaH6smpJkmVdmvjGRGM0QVOivIx1JUU1Ol8ETo64+rSME46305Xc5Fwq/dBwMjmh7XrqICanv8WXHvy6KGDJNLDRTgCOyUPWJILDR8R5suNjc9Mf73UN5oHA+3ot1fFDO7bK+mirIJmDViwnXdn0D4JqCEyU4xvXOHUxU4+dqflgnd86Wkhpx86KVYjuLUr3BnnlLROFrHEmYkN8MnKptbyV+lLWTkjEhlqprWI+fyxgoRefGOE/FnBNfnWtJu/no5PTwP6jwpcpsP/yNd/A7ofWak8Sncnvs4+Rzx0+2dhf7T5zYi3PJH7q6nOjiHJ205naxhalLyTkr7TTVH2SrtE9+hhLvtyZ2mY8/tKwS+GNIgrhrzsQbxd+NuLwPyfo2ojlx/H2fX7f4oNg3v/SkdB2bjyHmVnhc99dI77rE+g7/IeHxXF7dMTc8upyl3ALmLdFbSztWmvH1+GjQLEkGh3DipfU5zpx3RYlaH/e8gCuFIY57ZNVlmtTwi8Xpx80H9u53yXUIq7fouSvRKQr1W8TvCbX8VT/QpDEQlnUVvbKM29hqiTqpYnY2+bTL/9owXQvJFFW+Moz79Ov+fTL31swpQD+B6DpPQVpybZ7AAAAAElFTkSuQmCC",hC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRIibWVv07DMBDGPyMLFpjiBUQkJrrABA/ABBPvwDvyAkyw0Cld6BTJEl2ciU5ZjK6cUxTbsdO0nxRFdU73u3++CmstDi25q39RqjMA9BwDKACs6Nxq8+3Z5mbCTq8AnAO4YOchtQBqAO9WmzYLIkpFDm8YMEYNgFcCRcvFzu848l1EJZwBqDyIKBWV4Z6jn6pNSWUPQPQnAKcR567eP/x7NmDr7LcQBjxHGtpyI5e9oCoAL571VnUHSQC6Bnpf/jKJaWG12WR8xAYPEQDpLQQQpbrmwQiJAvt055KNi4Ch00nPOY3y7cDUeZkLXBaPGXeg4b7EHDvVocwl396UhjJ1mltt5t4pQ2K9yNWao/d21n/IFC2owaHB2AckGf0UCEVcxWofk+T/gZwlSJPz4S7YWEiTgKx4crJKExJBviIbd81NXXpfxkKsNo0oFTl023RvzjsIv2mb0h4a3dSkAPwCJdSH4GnrpMEAAAAASUVORK5CYII=",dC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAArCAYAAADR0WDhAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVRogdWYsY4aMRCGf0cr0nAVbjjF0lWkCVWqUFFdlwdIqjxguqS5jipp7iquOSqklXLNUrENNI4GzXI+vCy7s/bCfRIS2LvY/3g8Y4+y1uKt8+7NKwCQeC0doIy+BtAHcMWjvQcwALABsOK2NX23abY6NaPo7qSMpokOAVzzp+89VM0WwBLAwqbZv7Ino4hQRpNVP/LkB94Dcp4BzGyaraOIUEb3ANwAGAee+CG0Mr9cN2stgt3lMwvoeQ/EIQfw06YZCZJvbGfyI68zPn1217lIBLvNmAWckxuRCGU0vTjt0G2qGBZ9tUSw9aes/uI4KYIT020A6684soCjV4j/21EpQhk94hWQkHOSeirLumycLy3C8ekQq4yeCiMPTf7eptnC6/HHoAj3TTAG8bvI4KUr0ULAX5tmc6/1CJR5ldHlndXk7hHEE6GMnggEeFm0DuxSEmbuj1dHcd4Dn7xXqpEK6PGeaMrj4UFwL4L9c+K9cpoHoYCJYFPTOPeHja47iZJYkz2AF2PdCgTkvOLbw44EL7459F4LiHNcGQuMRRO/KxMAZyWa7oM9FMlsms28Dsa5W4yECW51bAX2Y+DDgP74h9fTjCKxbZy3roQ3uUYCwCsR4jzUb7OaR1hUrbBLwta6NGZ1Mn5B4lQcLoGcN3CjkJ3EjkoNIMv/OeX/ZXjHjjNAkyb3WUqHPreIJft/Y+u7nEtEa+u7nEOE2PeP0aWInK1fWopsQ8KlwZgRiiw+t2n24PUEFLHxWsOx5NveOuIYOxGrCKWYaK5TRuFOodjyJanRHSOEiMxrlfHIVY5gUacuu5KNMvpri83did9XUYTYpUDEM7tOJ35fhSuibuWh001bh30FsIZL1a7sdY2bsZ+OiLjYyRe8qsUqo787d+LomTYUh2cnWg0qqVCcJwGdh8vGAPgPu3cdHuTAvBEAAAAASUVORK5CYII=",$g={lat:45.769785,lng:4.833967,zoom:14};class Qg{constructor(){this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}init(){this.bindFields()}unbind(){}bindFields(){const e=this.$fields.length;for(let r=0;r<e;r++){const s=this.$fields[r];s.classList.contains("is-enable")||(this.bindSingleField(s),s.classList.add("is-enable"))}}bindSingleField(e){const r=e.parentElement.querySelector(".uk-form-label"),s=r.innerHTML;let c=null;window.RozierConfig.defaultMapLocation?c=window.RozierConfig.defaultMapLocation:c=$g;const l="geotag-canvas-"+this.uniqid(),p=l+"-address",g=l+"-reset";e.style.display="none",r.style.display="none",e.setAttribute("data-geotag-canvas",l);let b=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+p+'" type="text" value="" />','<button type="button" id="'+g+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+l+'" style="width: 100%; height: 400px;"></div>'].join("");const w=document.createElement("div");if(w.innerHTML=b,e.after(w),!document.getElementById(l))throw new Error("Map container does not exist");let k=document.getElementById(p);k&&k.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let M=document.getElementById(g);M&&(M.style.display="none");let G={center:this.createLatLng(c),zoom:c.zoom||c.alt,styles:window.RozierConfig.mapsStyle},R=this.createMap(l,G),Z=null;if(e.value!=="")try{c=JSON.parse(e.value),Z=this.createMarker(c,R),M.style.display="inline-block",Z.on("dragend",this.setMarkerEvent.bind(this,Z,e,M,R)),M.addEventListener("click",this.resetMarker.bind(this,Z,e,M,R))}catch{return e.style.display=null,document.getElementById(l).style.display="none",!1}R.on("click",this.setMarkerEvent.bind(this,Z,e,M,R)),k.addEventListener("keypress",this.requestGeocode.bind(this,Z,e,M,R)),this.resetMap(R,Z,G,null),new ResizeObserver(P=>{R.invalidateSize({animate:!1,pan:!1}),Z!==null?R.panTo(Z.getLatLng(),{animate:!1,pan:!1}):R.panTo(G.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}resetMap(e,r,s){window.requestAnimationFrame(()=>{e.invalidateSize(!0),r!==null?e.panTo(r.getLatLng()):e.panTo(s.center)})}resetMarker(e,r,s,c,l){return l.preventDefault(),e.removeFrom(c),r.value="",s.style.display="none",!1}setMarkerEvent(e,r,s,c,l){if(e||(e=this.createAndBindMarker(l.latlng,c,r,s)),typeof l.latlng<"u")this.setMarker(e,r,s,c,l.latlng);else{const p=e.getLatLng();c.panTo(p),this.applyGeocode(r,s,p,c.getZoom(),void 0)}}createAndBindMarker(e,r,s,c){const l=this.createMarker(e,r);return l.on("dragend",this.setMarkerEvent.bind(this,l,s,c,r)),c.addEventListener("click",this.resetMarker.bind(this,l,s,c,r)),r.off("click"),r.on("click",this.setMarkerEvent.bind(this,l,s,c,r)),l}setMarker(e,r,s,c,l){e||(e=this.createAndBindMarker(l,c,r,s)),e.setLatLng(l),e.addTo(c),c.panTo(l),this.applyGeocode(r,s,e.getLatLng(),c.getZoom(),e.name)}latLngToFeature(e,r,s){return e.alt&&(r=e.alt,e.alt=void 0),{type:"Feature",properties:{name:s||"",zoom:r},geometry:{type:"Point",coordinates:ss.GeoJSON.latLngToCoords(e)}}}applyGeocode(e,r,s,c,l){e.value=JSON.stringify(this.latLngToFeature(s,c,l)),r.style.display="inline-block"}createMarker(e,r){let s=null;e instanceof ss.LatLng?s=e:s=this.createLatLng(e);let c=new ss.Marker(s,{icon:this.createIcon(),draggable:!0}).addTo(r);return r.flyTo(s,s.alt),c.alt=s.alt,e.type&&e.type==="Feature"&&e.properties&&e.properties.name&&(c.name=e.properties.name),e.name&&(c.name=e.name),c}async requestGeocode(e,r,s,c,l){let p=l.currentTarget.value;if(l.which&&l.which===13){l.preventDefault();const g=await this.getLatLngForAddress(p);if(g===null){console.error("Geocode was not successful.");return}this.setMarker(e,r,s,c,g)}}uniqid(){return new Date().getTime()}createMap(e,r){const s=new ss.Map(document.getElementById(e)).setView(r.center,r.zoom),c=new ss.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:"© OpenStreetMap contributors",maxZoom:18});return s.addLayer(c),s}createLatLng(e){if(typeof e.lat=="number"&&typeof e.lng=="number")return new ss.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&e.type==="Feature"){const r=e.properties&&e.properties.zoom?Number.parseInt(e.properties.zoom):7,s=new ss.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],r);return e.properties&&e.properties.name&&(s.name=e.properties.name),s}throw new Error("Cannot create LatLng object from data")}createIcon(){return new ss.Icon({iconUrl:cC,iconRetinaUrl:fC,shadowUrl:hC,shadowRetinaUrl:dC,iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}getLatLngForAddress(e){return lC.geoCode(e).then(r=>{if(r!==null){const s=new ss.LatLng(r.lat,r.lon);return s.name=r.display_name,s}else return null}).catch(r=>null)}}class pC extends Qg{constructor(){super(),this.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}resetMarker(e,r,s,c,l){r.value="";for(const p of e)p!==null&&p.removeFrom(c);return e=[],s.style.display="none",this.syncSelector(l,e,c,r),!1}bindSingleField(e){const r=e.parentElement.querySelector(".uk-form-label"),s=r.innerHTML||"Geotag";r.style.display="none";let c=null;window.RozierConfig.defaultMapLocation?c=window.RozierConfig.defaultMapLocation:c=$g;const l="geotag-canvas-"+this.uniqid(),p=l+"-address",g=l+"-reset",b={center:this.createLatLng(c),zoom:c.zoom||c.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",l);let w=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+p+'" type="text" value="" />','<button type="button" id="'+g+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+l+'"></div>',"</div>"].join("");const C=document.createElement("div");C.innerHTML=w,e.after(C);let k=document.getElementById(p);k.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let M=document.getElementById(g);M.style.display="none";const G=this.createMap(l,b),R=[],Z=e.parentElement.querySelector(".multi-geotag-list-markers");if(e.value!=="")try{const P=JSON.parse(e.value);if(!P.features)throw new Error("Data is not a valid GeoJSON featureCollection");for(const E of P.features){const D=this.createMarker(E,G);D.on("dragend",this.setMarkerEvent.bind(this,D,R,e,M,G,Z)),R.push(D)}}catch{return e.style.display="block",document.getElementById(l).style.display="none",!1}G.on("click",this.setMarkerEvent.bind(this,null,R,e,M,G,Z)),k.addEventListener("keypress",this.requestGeocode.bind(this,R,e,M,G,Z)),this.resetMap(G,R,b,null),this.syncSelector(Z,R,G,e),new ResizeObserver(P=>{G.invalidateSize({animate:!1,pan:!1}),typeof R<"u"&&R.length>0?G.fitBounds(this.getMediumLatLng(R),{animate:!1,pan:!1}):G.panTo(b.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}syncSelector(e,r,s,c){e.innerHTML="";const l=[];let p=0;const g=r.filter(w=>w!==null&&w.getLatLng()!==null);for(const w of g)["<li>",'<span class="multi-geotag-marker-name">',w.name?w.name:"#"+p,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+p+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+p+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(C=>l.push(C)),p++;e.innerHTML=l.join("");let b=0;for(const w of g){let C=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+b+'"]'),k=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+b+'"]');C&&k&&(C.addEventListener("click",this.centerMap.bind(this,s,w)),k.addEventListener("click",this.removeMarker.bind(this,s,r,w,e,c))),b++}}removeMarker(e,r,s,c,l,p){p&&p.preventDefault();const g=r.indexOf(s);return s.removeFrom(e),r.splice(g,1),this.syncSelector(c,r,e,l),this.writeMarkers(r,l),!1}resetMap(e,r,s,c){c&&c.preventDefault(),window.requestAnimationFrame(()=>{e.invalidateSize({animate:!0,pan:!0}),typeof r<"u"&&r.length>0?e.fitBounds(this.getMediumLatLng(r)):e.panTo(s.center)})}centerMap(e,r,s){if(s&&s.preventDefault(),e&&r){const c=r.getLatLng();e.flyTo(c,c.alt)}}getMediumLatLng(e){let r=new ss.LatLngBounds;for(const s of e)r.extend(s.getLatLng());return r}setMarkerEvent(e,r,s,c,l,p,g){if(g.latlng)this.setMarker(e,r,s,c,l,g.latlng);else if(e!==null){const b=e.getLatLng();b.alt=l.getZoom(),e.setLatLng(b),l.flyTo(b,b.alt),this.writeMarkers(r,s)}this.syncSelector(p,r,l,s)}setMarker(e,r,s,c,l,p,g){return l&&(p.alt||(p.alt=l.getZoom()),e===null?e=this.createMarker(p,l):(e.setLatLng(p),e.addTo(l)),e.name=g,l.flyTo(p,p.alt),r.push(e),this.writeMarkers(r,s)),e}writeMarkers(e,r){const s={type:"FeatureCollection",features:[]};for(const c of e)if(c){const l=c.getLatLng();s.features.push(this.latLngToFeature(l,l.alt,c.name))}r.value=JSON.stringify(s)}async requestGeocode(e,r,s,c,l,p){let g=p.currentTarget.value;if(p.which&&p.which===13){p.preventDefault();const b=await this.getLatLngForAddress(g);if(b===null){console.error("Geocode was not successful.");return}b.alt=c.getZoom(),this.setMarker(null,e,r,s,c,b,b.name||""),this.syncSelector(l,e,c,r)}}}class mC{constructor(){this.content=document.querySelector(".content-tag-edit"),this.form=document.getElementById("edit-tag-form"),this.formRow=null,this.dropdown=null,this.onFormSubmit=this.onFormSubmit.bind(this),this.content&&(this.formRow=this.content.querySelectorAll(".uk-form-row"),this.initEvents())}initEvents(){this.form.addEventListener("submit",this.onFormSubmit)}unbind(){this.content&&this.form.removeEventListener("submit",this.onFormSubmit)}async onFormSubmit(e){e.preventDefault(),window.Rozier.lazyload.canvasLoader.show();let r=new CustomEvent("pagechange");window.dispatchEvent(r);const s=new FormData(this.form),c=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:s});if(c.ok)this.cleanErrors();else{const l=await c.json();l.errors&&(this.displayErrors(l.errors),window.UIkit.notify({message:l.message,status:"danger",timeout:2e3,pos:"top-center"}))}return await window.Rozier.refreshMainTagTree(),await window.Rozier.getMessages(),window.Rozier.lazyload.canvasLoader.hide(),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(r=>{r.classList.remove("form-errored"),r.querySelector(".error-message").remove()})}displayErrors(e,r){(!r||r===!1)&&this.cleanErrors();for(let s in e){let c=null,l=null;if(Fh(e[s])==="object")this.displayErrors(e[s],!0);else{c=s.replace("_","-"),e[s]instanceof Array?l=e[s][0]:l=e[s];let p=document.querySelector(".form-col-"+c);p&&(p.classList.add("form-errored"),p.insertAdjacentHTML("beforeend",'<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+l+"</p>"))}}}resize(){}}const R0="roadiz.currentMainTreeTab";class gC{constructor(){this.onTabChange=this.onTabChange.bind(this);const e=document.getElementById("tree-menu"),r=window.localStorage.getItem(R0);e&&(this.tabsMenu=window.UIkit.tab(e,{connect:"#tree-container",swiping:!1,active:r?Number.parseInt(r):0}),this.tabsMenu.on("change.uk.tab",this.onTabChange))}unbind(){this.tabsMenu&&this.tabsMenu.off("change.uk.tab",this.onTabChange)}onTabChange(e,r,s){r=r[0];const c=r.getAttribute("data-index");c&&window.localStorage.setItem(R0,c)}}class vC{constructor(){this.linksSelector=null,this.canvasLoaderContainer=null,this.mainColor=null,this.currentRequest=null,this.nodeTreeContextActions=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.saveButtons=null,this.tagAutocomplete=null,this.folderAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.nodeEditSource=null,this.tagEdit=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),this.canvasLoaderContainer=document.getElementById("canvasloader-container"),this.mainColor=window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color"),this.initLoader(),window.history.pushState({},document.title,window.location.href)}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(this.mainColor),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}parseLinks(){this.linksSelector=document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')}onClick(e){const r=e.currentTarget,s=r.getAttribute("href");if(typeof s<"u"&&s!==null&&!r.classList.contains("rz-no-ajax-link")&&s!==""&&s!=="#"&&(s.indexOf(window.RozierConfig.baseUrl)>=0||s.charAt(0)==="/"||s.charAt(0)==="?"))return e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,s),this.onPopState(null)}),!1}onPopState(e){let r=null;e!==null&&e.originalEvent&&(r=e.originalEvent.state),(typeof r>"u"||r===null)&&(r=window.history.state),r!==null&&(this.canvasLoader.show(),this.loadContent(r,window.location))}loadContent(e,r){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{let s=new CustomEvent("pagechange");window.dispatchEvent(s);try{let c="";const l=r.href.split("?")[0],p=new URLSearchParams(r.href.split("?")[1]);if(e.headerData)for(let[C,k]of Object.entries(e.headerData))Array.isArray(k)?k.forEach((M,G)=>{p.append(C+"["+G+"]",M)}):p.set(C,k);p.toString()!==""?c=l+"?"+p.toString():c=l;const g=await fetch(c,{method:"GET",headers:{"X-Partial":!0,Accept:"text/html"}});if(!g.ok)throw g;const b=await g.text();this.applyContent(b);let w=new CustomEvent("pageload",{detail:b});window.dispatchEvent(w)}catch(c){const l=await c.text();if(l)try{let p=JSON.parse(l);window.UIkit.notify({message:p.message,status:"danger",timeout:3e3,pos:"top-center"})}catch{window.location.href=r.href}else window.UIkit.notify({message:window.RozierConfig.messages.forbiddenPage,status:"danger",timeout:3e3,pos:"top-center"})}this.canvasLoader.hide()})}refreshCodemirrorEditor(){for(let e of this.markdownEditors)e.forceEditorUpdate();for(let e of this.yamlEditors)e.forceEditorUpdate();for(let e of this.cssEditors)e.forceEditorUpdate();for(let e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(let e of this.markdownEditors)e.destroy();for(let e of this.yamlEditors)e.destroy();for(let e of this.cssEditors)e.destroy();for(let e of this.jsonEditors)e.destroy()}async applyContent(e){let r=document.getElementById("main-content-scrollable"),s=r.querySelector(".content-global"),c=document.createElement("div");c.innerHTML=e;const l=c.querySelector("[data-ajax-root]");l&&(c=document.createElement("div"),c.innerHTML=l.innerHTML),c.classList.add("new-content-global"),r.querySelectorAll('meta[name="title"]').forEach(b=>{b.remove()}),r.append(c);const g=r.querySelectorAll('meta[name="title"]');if(g.length&&(document.title=g[0].getAttribute("content")),c=r.querySelector(".new-content-global"),s&&c){await Lu(s,100),s.remove(),this.generalBind(),await ul(c,200),c.classList.remove("new-content-global");const b=new CustomEvent("pageshowend");window.dispatchEvent(b)}}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.mainTreeTabs,this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.nodeTreeContextActions,this.tagAutocomplete,this.folderAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons,this.nodeEditSource,this.tagEdit,this.nodeTree]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.mainTreeTabs=new gC,this.inputLengthWatcher=new Jx,this.documentUploader=new Yx(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new ew,this.geotagField=new Qg,this.multiGeotagField=new pC,this.stackNodeTrees=new tw,this.saveButtons&&this.saveButtons.unbind(),this.saveButtons=new iw,this.tagAutocomplete=new nw,this.folderAutocomplete=new rw,this.attributeValuesPosition=new Vx,this.customFormFieldsPosition=new Kx,this.nodeTreeContextActions=new sd,this.settingsSaveButtons=new ow,this.nodeEditSource=new Qx,this.tagEdit=new mC,this.nodeTree=new aw,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),document.querySelectorAll(".actions-menu").length&&Xh.to(".actions-menu",.5,{right:0,delay:.4,ease:Yh.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new sw,window.Rozier.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(let r of e)r&&r.unbind()}initCollectionsForms(e=null){const r=this;let s=null;e!==null?s=e.querySelectorAll(".rz-collection-form-type"):s=document.querySelectorAll(".rz-collection-form-type"),s.length&&$(s).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(c,l)=>{const p=l[0];return r.initMarkdownEditors(p),r.initJsonEditors(p),r.initCssEditors(p),r.initYamlEditors(p),r.initCollectionsForms(p),p.querySelectorAll("[data-vuejs]").forEach(b=>{window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(b))}),!0}})}initMarkdownEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-markdowneditor]"):r=document.querySelectorAll("textarea[data-rz-markdowneditor]");let s=r.length;if(s)for(let c=0;c<s;c++)this.markdownEditors.push(new nC(r[c],c))}initJsonEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-jsoneditor]"):r=document.querySelectorAll("textarea[data-rz-jsoneditor]");let s=r.length;if(s)for(let c=0;c<s;c++)this.jsonEditors.push(new rC(r[c],c))}initCssEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-csseditor]"):r=document.querySelectorAll("textarea[data-rz-csseditor]");let s=r.length;if(s)for(let c=0;c<s;c++)this.cssEditors.push(new oC(r[c],c))}initYamlEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-yamleditor]"):r=document.querySelectorAll("textarea[data-rz-yamleditor]");let s=r.length;if(s)for(let c=0;c<s;c++)this.yamlEditors.push(new uw(r[c],c))}initFilterBars(){const e=document.querySelectorAll("select.item-per-page");if(e.length){const r=s=>{const c=s.currentTarget.closest("form");c&&c.requestSubmit()};e.forEach(s=>{s.addEventListener("change",r)})}}resize(){this.canvasLoaderContainer&&(this.canvasLoaderContainer.style.left=window.Rozier.mainContentScrollableOffsetLeft+window.Rozier.mainContentScrollableWidth/2+"px")}}class bC{constructor(){this.adminMenuNav=document.getElementById("admin-menu-nav"),this.replaceSubNavs()}replaceSubNavs(){this.adminMenuNav.querySelectorAll(".uk-nav-sub").forEach(e=>{e.style.display="block";const r=e.getBoundingClientRect().top,s=e.getBoundingClientRect().height;e.style.display=null,r+s+20>window.innerHeight&&e.parentElement.classList.add("reversed-nav")})}}const Jg="NODES_SEARCH_REQUEST",ev="NODES_SEARCH_SUCCESS",tv="NODES_SEARCH_RESET",iv="NODES_SEARCH_FAILED",nv="NODES_SEARCH_ENABLE_FOCUS",rv="NODES_SEARCH_DISABLE_FOCUS",ov="EXPLORER_REQUEST",$p="EXPLORER_SUCCESS",yp="EXPLORER_RESET",av="EXPLORER_FAILED",sv="EXPLORER_OPEN",Qp="EXPLORER_CLOSE",uv="EXPLORER_LOAD_MORE",lv="EXPLORER_LOAD_MORE_SUCCESS",cv="EXPLORER_IS_LOADED",Jh="EXPLORER_UPDATE_SEARCH_TERMS",fv="FILTER_EXPLORER_OPEN",hv="FILTER_EXPLORER_CLOSE",dv="FILTER_EXPLORER_REQUEST",pv="FILTER_EXPLORER_SUCCESS",xp="FILTER_EXPLORER_FAILED",Jp="FILTER_EXPLORER_UPDATE",mv="FILTER_EXPLORER_RESET",vs="KEYBOARD_EVENT_ESCAPE",gv="KEYBOARD_EVENT_SPACE",wp="LOGIN_CHECK_DISCONNECTED",vv="LOGIN_CHECK_CONNECTED",kp="HEALTH_CHECK_FAILED",bv="HEALTH_CHECK_SUCCEEDED",_v="DRAWERS_ADD_INSTANCE",yv="DRAWERS_REMOVE_INSTANCE",xv="DRAWERS_ADD_DOCUMENT",wv="DRAWERS_REMOVE_DOCUMENT",kv="DRAWERS_EDIT_INSTANCE",Cv="DRAWERS_UPDATE_LIST",Ev="DRAWERS_ENABLE_DROPZONE",Sv="DRAWERS_DISABLE_DROPZONE",Tv="DRAWERS_INIT_DATA_REQUEST",Cp="DRAWERS_INIT_DATA_REQUEST_SUCCESS",Av="DRAWERS_INIT_DATA_REQUEST_FAILED",Lv="DRAWERS_INIT_DATA_REQUEST_EMPTY",Dv="TAG_CREATE_NEW_REQUEST",Mv="TAG_CREATE_NEW_REQUEST_SUCCESS",Pv="TAG_CREATE_NEW_REQUEST_ERROR",Ov="TAG_CREATOR_READY",Iv="DOCUMENT_PREVIEW_INIT",Fv="DOCUMENT_PREVIEW_DESTROY",Rv="DOCUMENT_PREVIEW_OPEN",Nv="DOCUMENT_PREVIEW_CLOSE",zv="BLANCHETTE_EDITOR_INIT",Ep="BLANCHETTE_EDITOR_IS_LOADING",Rh="BLANCHETTE_EDITOR_LOADED",Bv="BLANCHETTE_EDITOR_ERROR",Hv="BLANCHETTE_EDITOR_SAVE_SUCCESS";function _C(n){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:n};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async r=>{const s=await r.json();return typeof s.data<"u"&&s.data.length>0?s.data:[]}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const yC=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:_C},Symbol.toStringTag,{value:"Module"})),uc="document",xf="node",em="node-type",Uv="join",Wv="explorer-provider",qv="custom-form",lc="tag",jv="node-source-document";function xC({ids:n=[]}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};for(let r=0;r<n.length;r++)e["ids["+r+"]"]=n[r];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{accept:"application/json"}}).then(async r=>{const s=await r.json();return typeof s<"u"&&s.documents?{items:s.documents,trans:s.trans}:null}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function wC({searchTerms:n,filters:e,filterExplorerSelection:r,moreData:s}){const c={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};return r&&r.id&&(c.folderId=r.id),s&&(c.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(c),{method:"GET",headers:{accept:"application/json"}}).then(async l=>{const p=await l.json();return typeof p<"u"&&p.documents?{items:p.documents,filters:p.filters,trans:p.trans}:{}}).catch(async l=>{throw new Error((await l.response.json()).humanMessage)})}function kC(n){return fetch(window.location.href,{method:"POST",body:n,headers:{Accept:"application/json"}})}function CC({ids:n=[]}){const e={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};for(let r=0;r<n.length;r++)e["ids["+r+"]"]=n[r];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async r=>{const s=await r.json();return typeof s<"u"&&s.items?{items:s.items}:null}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function EC({searchTerms:n,preFilters:e,filters:r,filterExplorerSelection:s,moreData:c}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};if(s&&s.id&&(l.tagId=s.id),e&&e.nodeTypes){const p=JSON.parse(e.nodeTypes);Array.isArray(p)&&p.length>0&&(l.nodeTypes=p)}return c&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json"}}).then(async p=>{const g=await p.json();return typeof g<"u"&&g.nodes?{items:g.nodes,filters:g.filters}:{}}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}function SC({ids:n=[]}){n=n.map(r=>r.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let r=0;r<n.length;r++)e["names["+r+"]"]=n[r];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async r=>{const s=await r.json();return typeof s<"u"&&s.items?{items:s.items}:null}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function TC({searchTerms:n,preFilters:e,filters:r,filterExplorerSelection:s,moreData:c}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};return c&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json"}}).then(async p=>{const g=await p.json();return typeof g<"u"&&g.nodeTypes?{items:g.nodeTypes,filters:g.filters}:{}}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}function AC({ids:n=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};for(let s=0;s<n.length;s++)r["ids["+s+"]"]=n[s];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json"}}).then(async s=>{const c=await s.json();return typeof c<"u"&&c.items?{items:c.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function LC({searchTerms:n,preFilters:e,filters:r,filterExplorerSelection:s,moreData:c}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:n,page:1};return e&&e.nodeTypeField&&(l.nodeTypeFieldName=e.nodeTypeField),c&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json"}}).then(async p=>{const g=await p.json();return typeof g<"u"&&g.entities?{items:g.entities,filters:g.filters}:{}}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}function DC({ids:n=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken};for(let s=0;s<n.length;s++)r["ids["+s+"]"]=n[s];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json"}}).then(async s=>({items:(await s.json()).forms})).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function MC({searchTerms:n,filters:e,moreData:r}){const s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};return r&&(s.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json"}}).then(async c=>{const l=await c.json();return typeof l<"u"&&l.customForms?{items:l.customForms,filters:l.filters}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function Zv({searchTerms:n,filters:e,filterExplorerSelection:r,moreData:s}){const c={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:n,page:1};return s&&(c.page=e?e.nextPage:1),r&&r.id&&(c.tagId=r.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(c),{method:"GET",headers:{Accept:"application/json"}}).then(async l=>{const p=await l.json();if(typeof p<"u"&&p.tags)return{items:p.tags,filters:p.filters};throw new Error("No tags found")}).catch(async l=>{throw new Error((await l.response.json()).humanMessage)})}function Gv({ids:n=[]}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};for(let r=0;r<n.length;r++)e["ids["+r+"]"]=n[r];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async r=>{const s=await r.json();return typeof s<"u"&&s.tags?{items:s.tags}:{}}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function Xv({tagName:n}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:n};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(e),{method:"POST",headers:{Accept:"application/json"}}).then(async r=>{const s=await r.json();if(typeof s<"u"&&s.tag)return s.tag;throw new Error("Tag creation error")}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const PC=Object.freeze(Object.defineProperty({__proto__:null,createTag:Xv,getTags:Zv,getTagsByIds:Gv},Symbol.toStringTag,{value:"Module"}));function Yv({ids:n=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};for(let s=0;s<n.length;s++)r["ids["+s+"]"]=n[s];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json"}}).then(async s=>{const c=await s.json();return typeof c<"u"&&c.items?{items:c.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function Vv({searchTerms:n,preFilters:e,filters:r,filterExplorerSelection:s,moreData:c}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};return e&&e.providerClass&&(l.providerClass=e.providerClass),e&&e.providerOptions&&(l.options=e.providerOptions),c&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json"}}).then(async p=>{const g=await p.json();return typeof g<"u"&&g.entities?{items:g.entities,filters:g.filters}:{}}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}const OC=Object.freeze(Object.defineProperty({__proto__:null,getItems:Vv,getItemsByIds:Yv},Symbol.toStringTag,{value:"Module"}));function IC({entity:n,searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:c,moreData:l=!1}){switch(n){case uc:return wC({searchTerms:e,filters:s,filterExplorerSelection:c,moreData:l});case xf:return EC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:c,moreData:l});case em:return TC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:c,moreData:l});case Uv:return LC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:c,moreData:l});case qv:return MC({searchTerms:e,filters:s,moreData:l});case lc:return Zv({searchTerms:e,filters:s,filterExplorerSelection:c,moreData:l});case Wv:return Vv({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:c,moreData:l})}return Promise.reject(new Error("No type entity found"))}const FC=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:IC},Symbol.toStringTag,{value:"Module"}));function RC(){const n={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.folders?{items:r.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function NC(){const n={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function zC(){const n={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function BC({entity:n}){switch(n){case uc:return RC();case xf:return NC();case lc:return zC();default:return Promise.reject(new Error("Entity not found"))}}const HC=Object.freeze(Object.defineProperty({__proto__:null,getFilters:BC},Symbol.toStringTag,{value:"Module"}));function Kv(n,e=[],r){switch(n){case uc:return xC({ids:e});case xf:return CC({ids:e});case em:return SC({ids:e});case Uv:return AC({ids:e,filters:r});case qv:return DC({ids:e,filters:r});case lc:return Gv({ids:e});case Wv:return Yv({ids:e,filters:r})}return Promise.reject(new Error("No type entity found"))}const UC=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:Kv},Symbol.toStringTag,{value:"Module"}));function $v(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}).then(async n=>(await n.json()).url).catch(()=>{throw new Error("Image not found")})}const WC=Object.freeze(Object.defineProperty({__proto__:null,getImage:$v},Symbol.toStringTag,{value:"Module"})),tm={...yC,...FC,...HC,...UC,...PC,...WC,...OC},qC={searchTerms:null,items:[],isFocus:!1,isOpen:!1},jC={},ZC={nodeSourceSearchEnableFocus({commit:n}){n(nv)},nodeSourceSearchDisableFocus({commit:n}){n(rv)},nodeSourceSearchEscape({commit:n}){n(vs)},nodesSourceSearchUpdate({commit:n},e=""){if(!e||e.length<=1){n(tv);return}n(Jg,{searchTerms:e}),tm.getNodesSourceFromSearch(e).then(r=>{n(ev,{items:r})}).catch(()=>{n(iv)})}},GC={[nv](n){n.isFocus=!0},[rv](n){n.isFocus=!1},[Jg](n,{searchTerms:e}){n.searchTerms=e},[ev](n,{items:e}){n.items=e},[iv](n){n.items=[]},[tv](n){n.items=[]},[vs](n){n.items=[],n.isFocus=!1}},XC={state:qC,getters:jC,actions:ZC,mutations:GC};function Nh(n,e,r=0,s="[…]"){if(n&&n.length&&n.length>e+s.length){let c=n.substr(0,Math.floor(e/2)+Math.floor(r/2)),l=n.substr(Math.floor(e/2)*-1+Math.floor(r/2));return c+s+l}else return n}function YC(n,e,r=0,s="…"){return n&&n.length&&n.length>e?n.substr(0,e+r)+s:n}const VC={centralTruncate:Nh,truncate:YC};function kn(n,e,r,s,c,l,p,g){var b=typeof n=="function"?n.options:n;return e&&(b.render=e,b.staticRenderFns=r,b._compiled=!0),l&&(b._scopeId="data-v-"+l),{exports:n,options:b}}const KC={props:["title","href","typeColor"],methods:{onItemClick:function(n){window.Rozier.lazyload.onClick(n),this.$store.commit(vs)}}};var $C=function(){var e=this,r=e._self._c;return r("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(s){return s.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},QC=[],JC=kn(KC,$C,QC,!1,null,null);const im=JC.exports,Qv={bind(n,e){let r=new Image;r.src=e.value,r.onload=async()=>{n.src=e.value,await ul(n,1e3)}}},eE={props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],directives:{DynamicImg:Qv},filters:VC,computed:{shortMimeType:function(){return Nh(this.document.shortMimeType,13)},filename:function(){return Nh(this.document.classname,12)},name:function(){return Nh(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...Ys(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen()},onMouseover(){this.documentPreviewInit({document:this.item})},onMouseleave(){this.documentPreviewDestroy({document:this.item})}},components:{AjaxLink:im}};var tE=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.document?r("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[r("div",{staticClass:"preview-zoom",on:{click:function(s){return s.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-search-plus"})]),r("div",{on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"uk-sortable-handle"}),r("div",{staticClass:"document-border"}),r("div",{staticClass:"document-overflow"},[e.document.isPrivate?[r("div",{staticClass:"document-platform-icon"},[r("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[r("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[r("picture",[r("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),r("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),r("div",{staticClass:"document-platform-icon"},[r("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e.drawerName&&e.entityName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),e.hotspot?r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}):e._e(),e.imageCropAlignment?r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}}):e._e()]:e.drawerName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),r("div",{staticClass:"document-links"},[r("ajax-link",{staticClass:"uk-button document-link uk-button-mini",attrs:{href:e.editUrl}},[r("i",{staticClass:"uk-icon-rz-pencil"})]),r("a",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[r("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e.document.embedPlatform?[r("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),r("div",{staticClass:"document-platform-icon"},[r("i",{class:"uk-icon-"+e.document.icon})])]:[r("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],r("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[r("div",{staticClass:"link-button-inner"},[r("i",{staticClass:"uk-icon-rz-plus"})])])],2),r("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},iE=[],nE=kn(eE,tE,iE,!1,null,null);const N0=nE.exports,rE={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:im}};var oE=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.item?r("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":e.published===!1},on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"uk-sortable-handle"}),r("div",{staticClass:"border",style:{backgroundColor:e.color}}),e.thumbnailUrl&&!e.isThumbnailProcessable?r("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?r("figure",{staticClass:"thumbnail"},[r("picture",[r("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),r("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),r("div",{staticClass:"names"},[e.parentName?r("p",{staticClass:"parent-name"},[e.subParentName?[r("span",{staticClass:"sub"},[e._v(" "+e._s(e.subParentName)+" ")])]:e._e(),r("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),r("span",{staticClass:"name"},[e._v(e._s(e.name))]),e.inputName&&e.item&&e.item.id?r("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),r("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?r("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[r("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),r("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[r("i",{staticClass:"uk-icon-rz-trash-o"})])],1),r("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[r("div",{staticClass:"link-button-inner"},[r("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},aE=[],sE=kn(rE,oE,aE,!1,null,null);const uE=sE.exports,lE={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:uE}};var cE=function(){var e=this,r=e._self._c;return r("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},fE=[],hE=kn(lE,cE,fE,!1,null,null);const z0=hE.exports,dE={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var pE=function(){var e=this,r=e._self._c;return r("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),r("div",{staticClass:"new-tag"},[r("p",{staticClass:"parent-name"}),r("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},mE=[function(){var n=this,e=n._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],gE=kn(dE,pE,mE,!1,null,"22f18d8b");const vE=gE.exports,bE={mounted(){this.tagCreatorReady()},computed:{...ds({translations:n=>n.translations,searchTerms:n=>n.explorer.searchTerms,isTagExisting:n=>n.tags.isTagExisting})},methods:{...Ys(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:vE}};var _E=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?r("div",{staticClass:"tag-creator"},[r("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),r("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},yE=[],xE=kn(bE,_E,yE,!1,null,"bd268ee8");const wE=xE.exports;class Sp{static getState(e){const r={trans:{moreItems:""}};switch(r.isFilterEnable=!1,r.currentListingView=z0,r.trans.moreItems="moreEntities",e){case uc:r.currentListingView=N0,r.filterExplorerIcon="uk-icon-rz-folder-tree-mini",r.trans.moreItems="moreDocuments",r.isFilterEnable=!0;break;case xf:r.filterExplorerIcon="uk-icon-tags",r.trans.moreItems="moreNodes",r.isFilterEnable=!0;break;case em:r.trans.moreItems="moreNodeTypes";break;case lc:r.trans.moreItems="moreTags",r.isFilterEnable=!0,r.filterExplorerIcon="uk-icon-tags";break;default:r.trans.moreItems="moreEntities";break}return r}static getListingView(e){switch(e){case uc:return N0;default:return z0}}static getWidgetView(e){switch(e){case lc:return wE;default:return null}}}const Jv={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},eb={...Jv},kE={getExplorerEntity:n=>n.entity,getExplorerSearchTerms:n=>n.searchTerms},CE={async explorerOpen({commit:n,dispatch:e},{entity:r}){e("filterExplorerClose"),n(yp),n(sv,{entity:r}),await e("explorerMakeSearch"),n(cv)},explorerClose({commit:n,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),n(yp),n(Qp)},explorerToggle({dispatch:n,state:e}){e.isOpen?n("explorerClose"):n("explorerOpen")},explorerResetSearchTerms({commit:n,state:e,dispatch:r}){const s="";e.searchTerms===s?n(Jh,{searchTerms:s}):r("explorerUpdateSearch",{searchTerms:s})},explorerUpdateSearch({commit:n,dispatch:e},{searchTerms:r}){n(Jh,{searchTerms:r}),e("explorerMakeSearch")},explorerMakeSearch({commit:n,state:e,getters:r}){const s=e.entity,c=e.searchTerms,l=r.getDrawerFilters,p=e.filters,g=r.getFilterExplorerSelectedItem,b=e.isLoadingMore;return n(ov),tm.getExplorerItems({entity:s,searchTerms:c,preFilters:l,filters:p,filterExplorerSelection:g,moreData:b}).then(w=>{n($p,{result:w})}).catch(w=>{console.error(w),n(av,{error:w})})},async explorerLoadMore({commit:n,dispatch:e}){n(uv),await e("explorerMakeSearch"),n(lv)}},EE={[ov](n){n.isLoadingMore||(n.isLoading=!0)},[Jh](n,{searchTerms:e}){n.searchTerms=e},[$p](n,{result:e}){n.isLoading=!1,n.isLoadingMore?n.items=[...n.items,...e.items]:n.items=e.items,n.filters=e.filters},[uv](n){n.isLoadingMore=!0},[lv](n){n.isLoadingMore=!1},[Jp](n){n.filters={}},[yp](n){for(let e in n)n.hasOwnProperty(e)&&oc.set(n,e,Jv[e])},[av](n){n.isLoading=!1,n.isLoadingMore=!1,n.error="Request failed"},[sv](n,{entity:e}){n.isOpen=!0,n.isLoading=!0,n.entity=e,n.trans.moreItems="",n.widgetView=Sp.getWidgetView(e);const r=Sp.getState(e);for(let s in r)n.hasOwnProperty(s)&&oc.set(n,s,r[s])},[cv](n){n.isLoading=!1},[Qp](n){n.isOpen=!1,n.isLoading=!1},[vs](){eb.isOpen=!1}},SE={state:eb,getters:kE,actions:CE,mutations:EE};var Jc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var TE=Jc.exports,B0;function AE(){return B0||(B0=1,function(n,e){(function(){var r,s="4.17.21",c=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",g="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",w=500,C="__lodash_placeholder__",k=1,M=2,G=4,R=1,Z=2,U=1,P=2,E=4,D=8,W=16,B=32,H=64,j=128,ee=256,fe=512,me=30,ue="...",De=800,be=16,te=1,T=2,se=3,ve=1/0,we=9007199254740991,Ve=17976931348623157e292,We=NaN,ke=4294967295,K=ke-1,F=ke>>>1,Ce=[["ary",j],["bind",U],["bindKey",P],["curry",D],["curryRight",W],["flip",fe],["partial",B],["partialRight",H],["rearg",ee]],Pe="[object Arguments]",q="[object Array]",he="[object AsyncFunction]",Te="[object Boolean]",ze="[object Date]",Xe="[object DOMException]",et="[object Error]",nt="[object Function]",Lt="[object GeneratorFunction]",Mt="[object Map]",Ft="[object Number]",_t="[object Null]",Pt="[object Object]",Et="[object Promise]",$t="[object Proxy]",X="[object RegExp]",le="[object Set]",V="[object String]",ce="[object Symbol]",pe="[object Undefined]",He="[object WeakMap]",at="[object WeakSet]",Qe="[object ArrayBuffer]",mt="[object DataView]",Ot="[object Float32Array]",ut="[object Float64Array]",Xt="[object Int8Array]",ti="[object Int16Array]",bt="[object Int32Array]",_i="[object Uint8Array]",Ni="[object Uint8ClampedArray]",un="[object Uint16Array]",pt="[object Uint32Array]",Dr=/\b__p \+= '';/g,wi=/\b(__p \+=) '' \+/g,Mi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ii=/&(?:amp|lt|gt|quot|#39);/g,zi=/[&<>"']/g,ri=RegExp(Ii.source),Cn=RegExp(zi.source),qi=/<%-([\s\S]+?)%>/g,yo=/<%([\s\S]+?)%>/g,Jn=/<%=([\s\S]+?)%>/g,Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pi=/^\w*$/,Zn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mr=/[\\^$.*+?()[\]{}|]/g,sr=RegExp(Mr.source),xo=/^\s+/,fn=/\s/,It=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jo=/\{\n\/\* \[wrapped with (.+)\] \*/,Pr=/,? & /,ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xi=/[()=,{}\[\]\/\s]/,hn=/\\(\\)?/g,dn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,In=/\w*$/,wo=/^[-+]0x[0-9a-f]+$/i,Zo=/^0b[01]+$/i,Fn=/^\[object .+?Constructor\]$/,Or=/^0o[0-7]+$/i,lr=/^(?:0|[1-9]\d*)$/,da=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rn=/($^)/,br=/['\n\r\u2028\u2029\\]/g,Nn="\\ud800-\\udfff",Wi="\\u0300-\\u036f",Dt="\\ufe20-\\ufe2f",Ir="\\u20d0-\\u20ff",ko=Wi+Dt+Ir,zn="\\u2700-\\u27bf",li="a-z\\xdf-\\xf6\\xf8-\\xff",_r="\\xac\\xb1\\xd7\\xf7",ie="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_e="\\u2000-\\u206f",ye=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ue="A-Z\\xc0-\\xd6\\xd8-\\xde",qt="\\ufe0e\\ufe0f",Qt=_r+ie+_e+ye,ni="['’]",ji="["+Nn+"]",jt="["+Qt+"]",kt="["+ko+"]",Se="\\d+",Q="["+zn+"]",oe="["+li+"]",ne="[^"+Nn+Qt+Se+zn+li+Ue+"]",Re="\\ud83c[\\udffb-\\udfff]",Le="(?:"+kt+"|"+Re+")",Me="[^"+Nn+"]",Ge="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",tt="["+Ue+"]",$e="\\u200d",Ke="(?:"+oe+"|"+ne+")",ct="(?:"+tt+"|"+ne+")",ai="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",oi="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",Oi=Le+"?",mi="["+qt+"]?",ki="(?:"+$e+"(?:"+[Me,Ge,lt].join("|")+")"+mi+Oi+")*",on="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",er=mi+Oi+ki,Rt="(?:"+[Q,Ge,lt].join("|")+")"+er,dt="(?:"+[Me+kt+"?",kt,Ge,lt,ji].join("|")+")",Bt=RegExp(ni,"g"),$i=RegExp(kt,"g"),En=RegExp(Re+"(?="+Re+")|"+dt+er,"g"),tr=RegExp([tt+"?"+oe+"+"+ai+"(?="+[jt,tt,"$"].join("|")+")",ct+"+"+oi+"(?="+[jt,tt+Ke,"$"].join("|")+")",tt+"?"+Ke+"+"+ai,tt+"+"+oi,Zi,on,Se,Rt].join("|"),"g"),Fr=RegExp("["+$e+Nn+ko+qt+"]"),ir=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bn=-1,Nt={};Nt[Ot]=Nt[ut]=Nt[Xt]=Nt[ti]=Nt[bt]=Nt[_i]=Nt[Ni]=Nt[un]=Nt[pt]=!0,Nt[Pe]=Nt[q]=Nt[Qe]=Nt[Te]=Nt[mt]=Nt[ze]=Nt[et]=Nt[nt]=Nt[Mt]=Nt[Ft]=Nt[Pt]=Nt[X]=Nt[le]=Nt[V]=Nt[He]=!1;var ii={};ii[Pe]=ii[q]=ii[Qe]=ii[mt]=ii[Te]=ii[ze]=ii[Ot]=ii[ut]=ii[Xt]=ii[ti]=ii[bt]=ii[Mt]=ii[Ft]=ii[Pt]=ii[X]=ii[le]=ii[V]=ii[ce]=ii[_i]=ii[Ni]=ii[un]=ii[pt]=!0,ii[et]=ii[nt]=ii[He]=!1;var Co={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ha={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Go={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ua=parseFloat,bs=parseInt,Gn=typeof _h=="object"&&_h&&_h.Object===Object&&_h,gi=typeof self=="object"&&self&&self.Object===Object&&self,pn=Gn||gi||Function("return this")(),nr=e&&!e.nodeType&&e,Rr=nr&&!0&&n&&!n.nodeType&&n,to=Rr&&Rr.exports===nr,_s=to&&Gn.process,Qi=function(){try{var Fe=Rr&&Rr.require&&Rr.require("util").types;return Fe||_s&&_s.binding&&_s.binding("util")}catch{}}(),ys=Qi&&Qi.isArrayBuffer,xs=Qi&&Qi.isDate,ma=Qi&&Qi.isMap,fl=Qi&&Qi.isRegExp,Ks=Qi&&Qi.isSet,hl=Qi&&Qi.isTypedArray;function Ji(Fe,Je,Ze){switch(Ze.length){case 0:return Fe.call(Je);case 1:return Fe.call(Je,Ze[0]);case 2:return Fe.call(Je,Ze[0],Ze[1]);case 3:return Fe.call(Je,Ze[0],Ze[1],Ze[2])}return Fe.apply(Je,Ze)}function dl(Fe,Je,Ze,At){for(var Yt=-1,Ci=Fe==null?0:Fe.length;++Yt<Ci;){var tn=Fe[Yt];Je(At,tn,Ze(tn),Fe)}return At}function cr(Fe,Je){for(var Ze=-1,At=Fe==null?0:Fe.length;++Ze<At&&Je(Fe[Ze],Ze,Fe)!==!1;);return Fe}function Xo(Fe,Je){for(var Ze=Fe==null?0:Fe.length;Ze--&&Je(Fe[Ze],Ze,Fe)!==!1;);return Fe}function Pu(Fe,Je){for(var Ze=-1,At=Fe==null?0:Fe.length;++Ze<At;)if(!Je(Fe[Ze],Ze,Fe))return!1;return!0}function Eo(Fe,Je){for(var Ze=-1,At=Fe==null?0:Fe.length,Yt=0,Ci=[];++Ze<At;){var tn=Fe[Ze];Je(tn,Ze,Fe)&&(Ci[Yt++]=tn)}return Ci}function $s(Fe,Je){var Ze=Fe==null?0:Fe.length;return!!Ze&&Yo(Fe,Je,0)>-1}function Qs(Fe,Je,Ze){for(var At=-1,Yt=Fe==null?0:Fe.length;++At<Yt;)if(Ze(Je,Fe[At]))return!0;return!1}function Hi(Fe,Je){for(var Ze=-1,At=Fe==null?0:Fe.length,Yt=Array(At);++Ze<At;)Yt[Ze]=Je(Fe[Ze],Ze,Fe);return Yt}function So(Fe,Je){for(var Ze=-1,At=Je.length,Yt=Fe.length;++Ze<At;)Fe[Yt+Ze]=Je[Ze];return Fe}function ga(Fe,Je,Ze,At){var Yt=-1,Ci=Fe==null?0:Fe.length;for(At&&Ci&&(Ze=Fe[++Yt]);++Yt<Ci;)Ze=Je(Ze,Fe[Yt],Yt,Fe);return Ze}function va(Fe,Je,Ze,At){var Yt=Fe==null?0:Fe.length;for(At&&Yt&&(Ze=Fe[--Yt]);Yt--;)Ze=Je(Ze,Fe[Yt],Yt,Fe);return Ze}function Wa(Fe,Je){for(var Ze=-1,At=Fe==null?0:Fe.length;++Ze<At;)if(Je(Fe[Ze],Ze,Fe))return!0;return!1}var ba=Iu("length");function hc(Fe){return Fe.split("")}function To(Fe){return Fe.match(ur)||[]}function Ti(Fe,Je,Ze){var At;return Ze(Fe,function(Yt,Ci,tn){if(Je(Yt,Ci,tn))return At=Ci,!1}),At}function ws(Fe,Je,Ze,At){for(var Yt=Fe.length,Ci=Ze+(At?1:-1);At?Ci--:++Ci<Yt;)if(Je(Fe[Ci],Ci,Fe))return Ci;return-1}function Yo(Fe,Je,Ze){return Je===Je?pc(Fe,Je,Ze):ws(Fe,Ou,Ze)}function ks(Fe,Je,Ze,At){for(var Yt=Ze-1,Ci=Fe.length;++Yt<Ci;)if(At(Fe[Yt],Je))return Yt;return-1}function Ou(Fe){return Fe!==Fe}function Js(Fe,Je){var Ze=Fe==null?0:Fe.length;return Ze?Fu(Fe,Je)/Ze:We}function Iu(Fe){return function(Je){return Je==null?r:Je[Fe]}}function _a(Fe){return function(Je){return Fe==null?r:Fe[Je]}}function Cs(Fe,Je,Ze,At,Yt){return Yt(Fe,function(Ci,tn,Bi){Ze=At?(At=!1,Ci):Je(Ze,Ci,tn,Bi)}),Ze}function dc(Fe,Je){var Ze=Fe.length;for(Fe.sort(Je);Ze--;)Fe[Ze]=Fe[Ze].value;return Fe}function Fu(Fe,Je){for(var Ze,At=-1,Yt=Fe.length;++At<Yt;){var Ci=Je(Fe[At]);Ci!==r&&(Ze=Ze===r?Ci:Ze+Ci)}return Ze}function Es(Fe,Je){for(var Ze=-1,At=Array(Fe);++Ze<Fe;)At[Ze]=Je(Ze);return At}function pl(Fe,Je){return Hi(Je,function(Ze){return[Ze,Fe[Ze]]})}function Nr(Fe){return Fe&&Fe.slice(0,Ko(Fe)+1).replace(xo,"")}function en(Fe){return function(Je){return Fe(Je)}}function Gr(Fe,Je){return Hi(Je,function(Ze){return Fe[Ze]})}function fr(Fe,Je){return Fe.has(Je)}function eu(Fe,Je){for(var Ze=-1,At=Fe.length;++Ze<At&&Yo(Je,Fe[Ze],0)>-1;);return Ze}function Vo(Fe,Je){for(var Ze=Fe.length;Ze--&&Yo(Je,Fe[Ze],0)>-1;);return Ze}function io(Fe,Je){for(var Ze=Fe.length,At=0;Ze--;)Fe[Ze]===Je&&++At;return At}var Xr=_a(Co),tu=_a(pa);function iu(Fe){return"\\"+Go[Fe]}function ml(Fe,Je){return Fe==null?r:Fe[Je]}function xr(Fe){return Fr.test(Fe)}function Ss(Fe){return ir.test(Fe)}function Ru(Fe){for(var Je,Ze=[];!(Je=Fe.next()).done;)Ze.push(Je.value);return Ze}function no(Fe){var Je=-1,Ze=Array(Fe.size);return Fe.forEach(function(At,Yt){Ze[++Je]=[Yt,At]}),Ze}function Yr(Fe,Je){return function(Ze){return Fe(Je(Ze))}}function Hn(Fe,Je){for(var Ze=-1,At=Fe.length,Yt=0,Ci=[];++Ze<At;){var tn=Fe[Ze];(tn===Je||tn===C)&&(Fe[Ze]=C,Ci[Yt++]=Ze)}return Ci}function Ts(Fe){var Je=-1,Ze=Array(Fe.size);return Fe.forEach(function(At){Ze[++Je]=At}),Ze}function qa(Fe){var Je=-1,Ze=Array(Fe.size);return Fe.forEach(function(At){Ze[++Je]=[At,At]}),Ze}function pc(Fe,Je,Ze){for(var At=Ze-1,Yt=Fe.length;++At<Yt;)if(Fe[At]===Je)return At;return-1}function Ao(Fe,Je,Ze){for(var At=Ze+1;At--;)if(Fe[At]===Je)return At;return At}function ro(Fe){return xr(Fe)?nu(Fe):ba(Fe)}function wr(Fe){return xr(Fe)?ja(Fe):hc(Fe)}function Ko(Fe){for(var Je=Fe.length;Je--&&fn.test(Fe.charAt(Je)););return Je}var As=_a(Ha);function nu(Fe){for(var Je=En.lastIndex=0;En.test(Fe);)++Je;return Je}function ja(Fe){return Fe.match(En)||[]}function Lo(Fe){return Fe.match(tr)||[]}var Ls=function Fe(Je){Je=Je==null?pn:Vr.defaults(pn.Object(),Je,Vr.pick(pn,yr));var Ze=Je.Array,At=Je.Date,Yt=Je.Error,Ci=Je.Function,tn=Je.Math,Bi=Je.Object,zr=Je.RegExp,ru=Je.String,Sn=Je.TypeError,Br=Ze.prototype,Za=Ci.prototype,Do=Bi.prototype,Ga=Je["__core-js_shared__"],Mo=Za.toString,Ai=Do.hasOwnProperty,Hr=0,Po=function(){var u=/[^.]+$/.exec(Ga&&Ga.keys&&Ga.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),mn=Do.toString,$o=Mo.call(Bi),Xn=pn._,Ds=zr("^"+Mo.call(Ai).replace(Mr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ms=to?Je.Buffer:r,kr=Je.Symbol,Qo=Je.Uint8Array,Xa=Ms?Ms.allocUnsafe:r,oo=Yr(Bi.getPrototypeOf,Bi),Ya=Bi.create,Nu=Do.propertyIsEnumerable,Va=Br.splice,ou=kr?kr.isConcatSpreadable:r,Jo=kr?kr.iterator:r,ao=kr?kr.toStringTag:r,so=function(){try{var u=fo(Bi,"defineProperty");return u({},"",{}),u}catch{}}(),Ps=Je.clearTimeout!==pn.clearTimeout&&Je.clearTimeout,gl=At&&At.now!==pn.Date.now&&At.now,Os=Je.setTimeout!==pn.setTimeout&&Je.setTimeout,Is=tn.ceil,au=tn.floor,o=Bi.getOwnPropertySymbols,d=Ms?Ms.isBuffer:r,_=Je.isFinite,S=Br.join,N=Yr(Bi.keys,Bi),re=tn.max,Ee=tn.min,qe=At.now,je=Je.parseInt,st=tn.random,wt=Br.reverse,Zt=fo(Je,"DataView"),Gt=fo(Je,"Map"),Tn=fo(Je,"Promise"),Un=fo(Je,"Set"),Oo=fo(Je,"WeakMap"),Cr=fo(Bi,"create"),ya=Oo&&new Oo,Ka={},xa=vn(Zt),wa=vn(Gt),vl=vn(Tn),mc=vn(Un),bl=vn(Oo),Yi=kr?kr.prototype:r,ea=Yi?Yi.valueOf:r,_l=Yi?Yi.toString:r;function ae(u){if(Dn(u)&&!ci(u)&&!(u instanceof si)){if(u instanceof Li)return u;if(Ai.call(u,"__wrapped__"))return bn(u)}return new Li(u)}var Gi=function(){function u(){}return function(m){if(!yn(m))return{};if(Ya)return Ya(m);u.prototype=m;var y=new u;return u.prototype=r,y}}();function an(){}function Li(u,m){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=r}ae.templateSettings={escape:qi,evaluate:yo,interpolate:Jn,variable:"",imports:{_:ae}},ae.prototype=an.prototype,ae.prototype.constructor=ae,Li.prototype=Gi(an.prototype),Li.prototype.constructor=Li;function si(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function pd(){var u=new si(this.__wrapped__);return u.__actions__=Tr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Tr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Tr(this.__views__),u}function yl(){if(this.__filtered__){var u=new si(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function md(){var u=this.__wrapped__.value(),m=this.__dir__,y=ci(u),O=m<0,J=y?u.length:0,de=Dd(0,J,this.__views__),Ae=de.start,Oe=de.end,Be=Oe-Ae,rt=O?Oe:Ae-1,ot=this.__iteratees__,ft=ot.length,Tt=0,Wt=Ee(Be,this.__takeCount__);if(!y||!O&&J==Be&&Wt==Be)return Il(u,this.__actions__);var Vt=[];e:for(;Be--&&Tt<Wt;){rt+=m;for(var vi=-1,Kt=u[rt];++vi<ft;){var xi=ot[vi],Di=xi.iteratee,zo=xi.type,Jr=Di(Kt);if(zo==T)Kt=Jr;else if(!Jr){if(zo==te)continue e;break e}}Vt[Tt++]=Kt}return Vt}si.prototype=Gi(an.prototype),si.prototype.constructor=si;function Fs(u){var m=-1,y=u==null?0:u.length;for(this.clear();++m<y;){var O=u[m];this.set(O[0],O[1])}}function gd(){this.__data__=Cr?Cr(null):{},this.size=0}function gc(u){var m=this.has(u)&&delete this.__data__[u];return this.size-=m?1:0,m}function Cf(u){var m=this.__data__;if(Cr){var y=m[u];return y===b?r:y}return Ai.call(m,u)?m[u]:r}function vc(u){var m=this.__data__;return Cr?m[u]!==r:Ai.call(m,u)}function vd(u,m){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=Cr&&m===r?b:m,this}Fs.prototype.clear=gd,Fs.prototype.delete=gc,Fs.prototype.get=Cf,Fs.prototype.has=vc,Fs.prototype.set=vd;function Io(u){var m=-1,y=u==null?0:u.length;for(this.clear();++m<y;){var O=u[m];this.set(O[0],O[1])}}function bc(){this.__data__=[],this.size=0}function Ef(u){var m=this.__data__,y=Hu(m,u);if(y<0)return!1;var O=m.length-1;return y==O?m.pop():Va.call(m,y,1),--this.size,!0}function Sf(u){var m=this.__data__,y=Hu(m,u);return y<0?r:m[y][1]}function _c(u){return Hu(this.__data__,u)>-1}function Tf(u,m){var y=this.__data__,O=Hu(y,u);return O<0?(++this.size,y.push([u,m])):y[O][1]=m,this}Io.prototype.clear=bc,Io.prototype.delete=Ef,Io.prototype.get=Sf,Io.prototype.has=_c,Io.prototype.set=Tf;function Kr(u){var m=-1,y=u==null?0:u.length;for(this.clear();++m<y;){var O=u[m];this.set(O[0],O[1])}}function bd(){this.size=0,this.__data__={hash:new Fs,map:new(Gt||Io),string:new Fs}}function xl(u){var m=tl(this,u).delete(u);return this.size-=m?1:0,m}function ka(u){return tl(this,u).get(u)}function Af(u){return tl(this,u).has(u)}function _d(u,m){var y=tl(this,u),O=y.size;return y.set(u,m),this.size+=y.size==O?0:1,this}Kr.prototype.clear=bd,Kr.prototype.delete=xl,Kr.prototype.get=ka,Kr.prototype.has=Af,Kr.prototype.set=_d;function $a(u){var m=-1,y=u==null?0:u.length;for(this.__data__=new Kr;++m<y;)this.add(u[m])}function $r(u){return this.__data__.set(u,b),this}function Pi(u){return this.__data__.has(u)}$a.prototype.add=$a.prototype.push=$r,$a.prototype.has=Pi;function gn(u){var m=this.__data__=new Io(u);this.size=m.size}function Qa(){this.__data__=new Io,this.size=0}function Ja(u){var m=this.__data__,y=m.delete(u);return this.size=m.size,y}function Lf(u){return this.__data__.get(u)}function yc(u){return this.__data__.has(u)}function Df(u,m){var y=this.__data__;if(y instanceof Io){var O=y.__data__;if(!Gt||O.length<c-1)return O.push([u,m]),this.size=++y.size,this;y=this.__data__=new Kr(O)}return y.set(u,m),this.size=y.size,this}gn.prototype.clear=Qa,gn.prototype.delete=Ja,gn.prototype.get=Lf,gn.prototype.has=yc,gn.prototype.set=Df;function Mf(u,m){var y=ci(u),O=!y&&il(u),J=!y&&!O&&_u(u),de=!y&&!O&&!J&&Zl(u),Ae=y||O||J||de,Oe=Ae?Es(u.length,ru):[],Be=Oe.length;for(var rt in u)(m||Ai.call(u,rt))&&!(Ae&&(rt=="length"||J&&(rt=="offset"||rt=="parent")||de&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||v(rt,Be)))&&Oe.push(rt);return Oe}function wl(u){var m=u.length;return m?u[Lc(0,m-1)]:r}function zu(u,m){return rr(Tr(u),Rs(m,0,u.length))}function Pf(u){return rr(Tr(u))}function Bu(u,m,y){(y!==r&&!Oa(u[m],y)||y===r&&!(m in u))&&Fo(u,m,y)}function uo(u,m,y){var O=u[m];(!(Ai.call(u,m)&&Oa(O,y))||y===r&&!(m in u))&&Fo(u,m,y)}function Hu(u,m){for(var y=u.length;y--;)if(Oa(u[y][0],m))return y;return-1}function Of(u,m,y,O){return es(u,function(J,de,Ae){m(O,J,y(J),Ae)}),O}function If(u,m){return u&&ra(m,pr(m),u)}function kl(u,m){return u&&ra(m,po(m),u)}function Fo(u,m,y){m=="__proto__"&&so?so(u,m,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[m]=y}function Cl(u,m){for(var y=-1,O=m.length,J=Ze(O),de=u==null;++y<O;)J[y]=de?r:zd(u,m[y]);return J}function Rs(u,m,y){return u===u&&(y!==r&&(u=u<=y?u:y),m!==r&&(u=u>=m?u:m)),u}function Qr(u,m,y,O,J,de){var Ae,Oe=m&k,Be=m&M,rt=m&G;if(y&&(Ae=J?y(u,O,J,de):y(u)),Ae!==r)return Ae;if(!yn(u))return u;var ot=ci(u);if(ot){if(Ae=jl(u),!Oe)return Tr(u,Ae)}else{var ft=bi(u),Tt=ft==nt||ft==Lt;if(_u(u))return Vf(u,Oe);if(ft==Pt||ft==Pe||Tt&&!J){if(Ae=Be||Tt?{}:t(u),!Oe)return Be?Ju(u,kl(Ae,u)):Ic(u,If(Ae,u))}else{if(!ii[ft])return J?u:{};Ae=a(u,ft,Oe)}}de||(de=new gn);var Wt=de.get(u);if(Wt)return Wt;de.set(u,Ae),Am(u)?u.forEach(function(Kt){Ae.add(Qr(Kt,m,y,Kt,u,de))}):Sm(u)&&u.forEach(function(Kt,xi){Ae.set(xi,Qr(Kt,m,y,xi,u,de))});var Vt=rt?Be?ql:Wl:Be?po:pr,vi=ot?r:Vt(u);return cr(vi||u,function(Kt,xi){vi&&(xi=Kt,Kt=u[xi]),uo(Ae,xi,Qr(Kt,m,y,xi,u,de))}),Ae}function yd(u){var m=pr(u);return function(y){return Ff(y,u,m)}}function Ff(u,m,y){var O=y.length;if(u==null)return!O;for(u=Bi(u);O--;){var J=y[O],de=m[J],Ae=u[J];if(Ae===r&&!(J in u)||!de(Ae))return!1}return!0}function Uu(u,m,y){if(typeof u!="function")throw new Sn(p);return ei(function(){u.apply(r,y)},m)}function su(u,m,y,O){var J=-1,de=$s,Ae=!0,Oe=u.length,Be=[],rt=m.length;if(!Oe)return Be;y&&(m=Hi(m,en(y))),O?(de=Qs,Ae=!1):m.length>=c&&(de=fr,Ae=!1,m=new $a(m));e:for(;++J<Oe;){var ot=u[J],ft=y==null?ot:y(ot);if(ot=O||ot!==0?ot:0,Ae&&ft===ft){for(var Tt=rt;Tt--;)if(m[Tt]===ft)continue e;Be.push(ot)}else de(m,ft,O)||Be.push(ot)}return Be}var es=Fc(ta),Rf=Fc(El,!0);function Nf(u,m){var y=!0;return es(u,function(O,J,de){return y=!!m(O,J,de),y}),y}function Ca(u,m,y){for(var O=-1,J=u.length;++O<J;){var de=u[O],Ae=m(de);if(Ae!=null&&(Oe===r?Ae===Ae&&!No(Ae):y(Ae,Oe)))var Oe=Ae,Be=de}return Be}function xc(u,m,y,O){var J=u.length;for(y=di(y),y<0&&(y=-y>J?0:J+y),O=O===r||O>J?J:di(O),O<0&&(O+=J),O=y>O?0:Dm(O);y<O;)u[y++]=m;return u}function Wu(u,m){var y=[];return es(u,function(O,J,de){m(O,J,de)&&y.push(O)}),y}function Yn(u,m,y,O,J){var de=-1,Ae=u.length;for(y||(y=f),J||(J=[]);++de<Ae;){var Oe=u[de];m>0&&y(Oe)?m>1?Yn(Oe,m-1,y,O,J):So(J,Oe):O||(J[J.length]=Oe)}return J}var qu=th(),wc=th(!0);function ta(u,m){return u&&qu(u,m,pr)}function El(u,m){return u&&wc(u,m,pr)}function An(u,m){return Eo(m,function(y){return js(u[y])})}function ia(u,m){m=La(m,u);for(var y=0,O=m.length;u!=null&&y<O;)u=u[Ri(m[y++])];return y&&y==O?u:r}function kc(u,m,y){var O=m(u);return ci(u)?O:So(O,y(u))}function hr(u){return u==null?u===r?pe:_t:ao&&ao in Bi(u)?Ld(u):vt(u)}function Sl(u,m){return u>m}function uu(u,m){return u!=null&&Ai.call(u,m)}function Tl(u,m){return u!=null&&m in Bi(u)}function zf(u,m,y){return u>=Ee(m,y)&&u<re(m,y)}function Al(u,m,y){for(var O=y?Qs:$s,J=u[0].length,de=u.length,Ae=de,Oe=Ze(de),Be=1/0,rt=[];Ae--;){var ot=u[Ae];Ae&&m&&(ot=Hi(ot,en(m))),Be=Ee(ot.length,Be),Oe[Ae]=!y&&(m||J>=120&&ot.length>=120)?new $a(Ae&&ot):r}ot=u[0];var ft=-1,Tt=Oe[0];e:for(;++ft<J&&rt.length<Be;){var Wt=ot[ft],Vt=m?m(Wt):Wt;if(Wt=y||Wt!==0?Wt:0,!(Tt?fr(Tt,Vt):O(rt,Vt,y))){for(Ae=de;--Ae;){var vi=Oe[Ae];if(!(vi?fr(vi,Vt):O(u[Ae],Vt,y)))continue e}Tt&&Tt.push(Vt),rt.push(Wt)}}return rt}function Bf(u,m,y,O){return ta(u,function(J,de,Ae){m(O,y(J),de,Ae)}),O}function na(u,m,y){m=La(m,u),u=gt(u,m);var O=u==null?u:u[Ri(sa(m))];return O==null?r:Ji(O,u,y)}function Cc(u){return Dn(u)&&hr(u)==Pe}function Ll(u){return Dn(u)&&hr(u)==Qe}function Hf(u){return Dn(u)&&hr(u)==ze}function Ea(u,m,y,O,J){return u===m?!0:u==null||m==null||!Dn(u)&&!Dn(m)?u!==u&&m!==m:xd(u,m,y,O,Ea,J)}function xd(u,m,y,O,J,de){var Ae=ci(u),Oe=ci(m),Be=Ae?q:bi(u),rt=Oe?q:bi(m);Be=Be==Pe?Pt:Be,rt=rt==Pe?Pt:rt;var ot=Be==Pt,ft=rt==Pt,Tt=Be==rt;if(Tt&&_u(u)){if(!_u(m))return!1;Ae=!0,ot=!1}if(Tt&&!ot)return de||(de=new gn),Ae||Zl(u)?Ul(u,m,y,O,J,de):sh(u,m,Be,y,O,J,de);if(!(y&R)){var Wt=ot&&Ai.call(u,"__wrapped__"),Vt=ft&&Ai.call(m,"__wrapped__");if(Wt||Vt){var vi=Wt?u.value():u,Kt=Vt?m.value():m;return de||(de=new gn),J(vi,Kt,y,O,de)}}return Tt?(de||(de=new gn),uh(u,m,y,O,J,de)):!1}function lu(u){return Dn(u)&&bi(u)==Mt}function Dl(u,m,y,O){var J=y.length,de=J,Ae=!O;if(u==null)return!de;for(u=Bi(u);J--;){var Oe=y[J];if(Ae&&Oe[2]?Oe[1]!==u[Oe[0]]:!(Oe[0]in u))return!1}for(;++J<de;){Oe=y[J];var Be=Oe[0],rt=u[Be],ot=Oe[1];if(Ae&&Oe[2]){if(rt===r&&!(Be in u))return!1}else{var ft=new gn;if(O)var Tt=O(rt,ot,Be,u,m,ft);if(!(Tt===r?Ea(ot,rt,R|Z,O,ft):Tt))return!1}}return!0}function Ec(u){if(!yn(u)||Y(u))return!1;var m=js(u)?Ds:Fn;return m.test(vn(u))}function Uf(u){return Dn(u)&&hr(u)==X}function ju(u){return Dn(u)&&bi(u)==le}function Zu(u){return Dn(u)&&gh(u.length)&&!!Nt[hr(u)]}function cu(u){return typeof u=="function"?u:u==null?mo:typeof u=="object"?ci(u)?zs(u[0],u[1]):Sa(u):Um(u)}function Ns(u){if(!xe(u))return N(u);var m=[];for(var y in Bi(u))Ai.call(u,y)&&y!="constructor"&&m.push(y);return m}function Wf(u){if(!yn(u))return ht(u);var m=xe(u),y=[];for(var O in u)O=="constructor"&&(m||!Ai.call(u,O))||y.push(O);return y}function Sc(u,m){return u<m}function Tc(u,m){var y=-1,O=ho(u)?Ze(u.length):[];return es(u,function(J,de,Ae){O[++y]=m(J,de,Ae)}),O}function Sa(u){var m=Hc(u);return m.length==1&&m[0][2]?Ie(m[0][0],m[0][1]):function(y){return y===u||Dl(y,u,m)}}function zs(u,m){return A(u)&&Ne(m)?Ie(Ri(u),m):function(y){var O=zd(y,u);return O===r&&O===m?Bd(y,u):Ea(m,O,R|Z)}}function ts(u,m,y,O,J){u!==m&&qu(m,function(de,Ae){if(J||(J=new gn),yn(de))wd(u,m,Ae,y,ts,O,J);else{var Oe=O?O(Ht(u,Ae),de,Ae+"",u,m,J):r;Oe===r&&(Oe=de),Bu(u,Ae,Oe)}},po)}function wd(u,m,y,O,J,de,Ae){var Oe=Ht(u,y),Be=Ht(m,y),rt=Ae.get(Be);if(rt){Bu(u,y,rt);return}var ot=de?de(Oe,Be,y+"",u,m,Ae):r,ft=ot===r;if(ft){var Tt=ci(Be),Wt=!Tt&&_u(Be),Vt=!Tt&&!Wt&&Zl(Be);ot=Be,Tt||Wt||Vt?ci(Oe)?ot=Oe:qn(Oe)?ot=Tr(Oe):Wt?(ft=!1,ot=Vf(Be,!0)):Vt?(ft=!1,ot=Qf(Be,!0)):ot=[]:qc(Be)||il(Be)?(ot=Oe,il(Oe)?ot=Mm(Oe):(!yn(Oe)||js(Oe))&&(ot=t(Be))):ft=!1}ft&&(Ae.set(Be,ot),J(ot,Be,O,de,Ae),Ae.delete(Be)),Bu(u,y,ot)}function Ac(u,m){var y=u.length;if(y)return m+=m<0?y:0,v(m,y)?u[m]:r}function qf(u,m,y){m.length?m=Hi(m,function(de){return ci(de)?function(Ae){return ia(Ae,de.length===1?de[0]:de)}:de}):m=[mo];var O=-1;m=Hi(m,en(yt()));var J=Tc(u,function(de,Ae,Oe){var Be=Hi(m,function(rt){return rt(de)});return{criteria:Be,index:++O,value:de}});return dc(J,function(de,Ae){return Jf(de,Ae,y)})}function kd(u,m){return jf(u,m,function(y,O){return Bd(u,O)})}function jf(u,m,y){for(var O=-1,J=m.length,de={};++O<J;){var Ae=m[O],Oe=ia(u,Ae);y(Oe,Ae)&&Gu(de,La(Ae,u),Oe)}return de}function Er(u){return function(m){return ia(m,u)}}function Ml(u,m,y,O){var J=O?ks:Yo,de=-1,Ae=m.length,Oe=u;for(u===m&&(m=Tr(m)),y&&(Oe=Hi(u,en(y)));++de<Ae;)for(var Be=0,rt=m[de],ot=y?y(rt):rt;(Be=J(Oe,ot,Be,O))>-1;)Oe!==u&&Va.call(Oe,Be,1),Va.call(u,Be,1);return u}function Zf(u,m){for(var y=u?m.length:0,O=y-1;y--;){var J=m[y];if(y==O||J!==de){var de=J;v(J)?Va.call(u,J,1):Ol(u,J)}}return u}function Lc(u,m){return u+au(st()*(m-u+1))}function Cd(u,m,y,O){for(var J=-1,de=re(Is((m-u)/(y||1)),0),Ae=Ze(de);de--;)Ae[O?de:++J]=u,u+=y;return Ae}function Pl(u,m){var y="";if(!u||m<1||m>we)return y;do m%2&&(y+=u),m=au(m/2),m&&(u+=u);while(m);return y}function fi(u,m){return Fi(xt(u,m,mo),u+"")}function Gf(u){return wl(Gl(u))}function Ed(u,m){var y=Gl(u);return rr(y,Rs(m,0,y.length))}function Gu(u,m,y,O){if(!yn(u))return u;m=La(m,u);for(var J=-1,de=m.length,Ae=de-1,Oe=u;Oe!=null&&++J<de;){var Be=Ri(m[J]),rt=y;if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return u;if(J!=Ae){var ot=Oe[Be];rt=O?O(ot,Be,Oe):r,rt===r&&(rt=yn(ot)?ot:v(m[J+1])?[]:{})}uo(Oe,Be,rt),Oe=Oe[Be]}return u}var Xf=ya?function(u,m){return ya.set(u,m),u}:mo,is=so?function(u,m){return so(u,"toString",{configurable:!0,enumerable:!1,value:Ud(m),writable:!0})}:mo;function Xu(u){return rr(Gl(u))}function Sr(u,m,y){var O=-1,J=u.length;m<0&&(m=-m>J?0:J+m),y=y>J?J:y,y<0&&(y+=J),J=m>y?0:y-m>>>0,m>>>=0;for(var de=Ze(J);++O<J;)de[O]=u[O+m];return de}function Yu(u,m){var y;return es(u,function(O,J,de){return y=m(O,J,de),!y}),!!y}function lo(u,m,y){var O=0,J=u==null?O:u.length;if(typeof m=="number"&&m===m&&J<=F){for(;O<J;){var de=O+J>>>1,Ae=u[de];Ae!==null&&!No(Ae)&&(y?Ae<=m:Ae<m)?O=de+1:J=de}return J}return Dc(u,m,mo,y)}function Dc(u,m,y,O){var J=0,de=u==null?0:u.length;if(de===0)return 0;m=y(m);for(var Ae=m!==m,Oe=m===null,Be=No(m),rt=m===r;J<de;){var ot=au((J+de)/2),ft=y(u[ot]),Tt=ft!==r,Wt=ft===null,Vt=ft===ft,vi=No(ft);if(Ae)var Kt=O||Vt;else rt?Kt=Vt&&(O||Tt):Oe?Kt=Vt&&Tt&&(O||!Wt):Be?Kt=Vt&&Tt&&!Wt&&(O||!vi):Wt||vi?Kt=!1:Kt=O?ft<=m:ft<m;Kt?J=ot+1:de=ot}return Ee(de,K)}function Yf(u,m){for(var y=-1,O=u.length,J=0,de=[];++y<O;){var Ae=u[y],Oe=m?m(Ae):Ae;if(!y||!Oa(Oe,Be)){var Be=Oe;de[J++]=Ae===0?0:Ae}}return de}function Bs(u){return typeof u=="number"?u:No(u)?We:+u}function Ur(u){if(typeof u=="string")return u;if(ci(u))return Hi(u,Ur)+"";if(No(u))return _l?_l.call(u):"";var m=u+"";return m=="0"&&1/u==-1/0?"-0":m}function Ta(u,m,y){var O=-1,J=$s,de=u.length,Ae=!0,Oe=[],Be=Oe;if(y)Ae=!1,J=Qs;else if(de>=c){var rt=m?null:Vi(u);if(rt)return Ts(rt);Ae=!1,J=fr,Be=new $a}else Be=m?[]:Oe;e:for(;++O<de;){var ot=u[O],ft=m?m(ot):ot;if(ot=y||ot!==0?ot:0,Ae&&ft===ft){for(var Tt=Be.length;Tt--;)if(Be[Tt]===ft)continue e;m&&Be.push(ft),Oe.push(ot)}else J(Be,ft,y)||(Be!==Oe&&Be.push(ft),Oe.push(ot))}return Oe}function Ol(u,m){return m=La(m,u),u=gt(u,m),u==null||delete u[Ri(sa(m))]}function Vu(u,m,y,O){return Gu(u,m,y(ia(u,m)),O)}function Aa(u,m,y,O){for(var J=u.length,de=O?J:-1;(O?de--:++de<J)&&m(u[de],de,u););return y?Sr(u,O?0:de,O?de+1:J):Sr(u,O?de+1:0,O?J:de)}function Il(u,m){var y=u;return y instanceof si&&(y=y.value()),ga(m,function(O,J){return J.func.apply(J.thisArg,So([O],J.args))},y)}function Ku(u,m,y){var O=u.length;if(O<2)return O?Ta(u[0]):[];for(var J=-1,de=Ze(O);++J<O;)for(var Ae=u[J],Oe=-1;++Oe<O;)Oe!=J&&(de[J]=su(de[J]||Ae,u[Oe],m,y));return Ta(Yn(de,1),m,y)}function Fl(u,m,y){for(var O=-1,J=u.length,de=m.length,Ae={};++O<J;){var Oe=O<de?m[O]:r;y(Ae,u[O],Oe)}return Ae}function Mc(u){return qn(u)?u:[]}function Hs(u){return typeof u=="function"?u:mo}function La(u,m){return ci(u)?u:A(u,m)?[u]:dr(Ui(u))}var Sd=fi;function Da(u,m,y){var O=u.length;return y=y===r?O:y,!m&&y>=O?u:Sr(u,m,y)}var $u=Ps||function(u){return pn.clearTimeout(u)};function Vf(u,m){if(m)return u.slice();var y=u.length,O=Xa?Xa(y):new u.constructor(y);return u.copy(O),O}function Pc(u){var m=new u.constructor(u.byteLength);return new Qo(m).set(new Qo(u)),m}function Qu(u,m){var y=m?Pc(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function Kf(u){var m=new u.constructor(u.source,In.exec(u));return m.lastIndex=u.lastIndex,m}function $f(u){return ea?Bi(ea.call(u)):{}}function Qf(u,m){var y=m?Pc(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function Rl(u,m){if(u!==m){var y=u!==r,O=u===null,J=u===u,de=No(u),Ae=m!==r,Oe=m===null,Be=m===m,rt=No(m);if(!Oe&&!rt&&!de&&u>m||de&&Ae&&Be&&!Oe&&!rt||O&&Ae&&Be||!y&&Be||!J)return 1;if(!O&&!de&&!rt&&u<m||rt&&y&&J&&!O&&!de||Oe&&y&&J||!Ae&&J||!Be)return-1}return 0}function Jf(u,m,y){for(var O=-1,J=u.criteria,de=m.criteria,Ae=J.length,Oe=y.length;++O<Ae;){var Be=Rl(J[O],de[O]);if(Be){if(O>=Oe)return Be;var rt=y[O];return Be*(rt=="desc"?-1:1)}}return u.index-m.index}function eh(u,m,y,O){for(var J=-1,de=u.length,Ae=y.length,Oe=-1,Be=m.length,rt=re(de-Ae,0),ot=Ze(Be+rt),ft=!O;++Oe<Be;)ot[Oe]=m[Oe];for(;++J<Ae;)(ft||J<de)&&(ot[y[J]]=u[J]);for(;rt--;)ot[Oe++]=u[J++];return ot}function Oc(u,m,y,O){for(var J=-1,de=u.length,Ae=-1,Oe=y.length,Be=-1,rt=m.length,ot=re(de-Oe,0),ft=Ze(ot+rt),Tt=!O;++J<ot;)ft[J]=u[J];for(var Wt=J;++Be<rt;)ft[Wt+Be]=m[Be];for(;++Ae<Oe;)(Tt||J<de)&&(ft[Wt+y[Ae]]=u[J++]);return ft}function Tr(u,m){var y=-1,O=u.length;for(m||(m=Ze(O));++y<O;)m[y]=u[y];return m}function ra(u,m,y,O){var J=!y;y||(y={});for(var de=-1,Ae=m.length;++de<Ae;){var Oe=m[de],Be=O?O(y[Oe],u[Oe],Oe,y,u):r;Be===r&&(Be=u[Oe]),J?Fo(y,Oe,Be):uo(y,Oe,Be)}return y}function Ic(u,m){return ra(u,vu(u),m)}function Ju(u,m){return ra(u,lh(u),m)}function ns(u,m){return function(y,O){var J=ci(y)?dl:Of,de=m?m():{};return J(y,u,yt(O,2),de)}}function fu(u){return fi(function(m,y){var O=-1,J=y.length,de=J>1?y[J-1]:r,Ae=J>2?y[2]:r;for(de=u.length>3&&typeof de=="function"?(J--,de):r,Ae&&x(y[0],y[1],Ae)&&(de=J<3?r:de,J=1),m=Bi(m);++O<J;){var Oe=y[O];Oe&&u(m,Oe,O,de)}return m})}function Fc(u,m){return function(y,O){if(y==null)return y;if(!ho(y))return u(y,O);for(var J=y.length,de=m?J:-1,Ae=Bi(y);(m?de--:++de<J)&&O(Ae[de],de,Ae)!==!1;);return y}}function th(u){return function(m,y,O){for(var J=-1,de=Bi(m),Ae=O(m),Oe=Ae.length;Oe--;){var Be=Ae[u?Oe:++J];if(y(de[Be],Be,de)===!1)break}return m}}function Td(u,m,y){var O=m&U,J=du(u);function de(){var Ae=this&&this!==pn&&this instanceof de?J:u;return Ae.apply(O?y:this,arguments)}return de}function ih(u){return function(m){m=Ui(m);var y=xr(m)?wr(m):r,O=y?y[0]:m.charAt(0),J=y?Da(y,1).join(""):m.slice(1);return O[u]()+J}}function hu(u){return function(m){return ga(Bm(zm(m).replace(Bt,"")),u,"")}}function du(u){return function(){var m=arguments;switch(m.length){case 0:return new u;case 1:return new u(m[0]);case 2:return new u(m[0],m[1]);case 3:return new u(m[0],m[1],m[2]);case 4:return new u(m[0],m[1],m[2],m[3]);case 5:return new u(m[0],m[1],m[2],m[3],m[4]);case 6:return new u(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new u(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var y=Gi(u.prototype),O=u.apply(y,m);return yn(O)?O:y}}function Ad(u,m,y){var O=du(u);function J(){for(var de=arguments.length,Ae=Ze(de),Oe=de,Be=Us(J);Oe--;)Ae[Oe]=arguments[Oe];var rt=de<3&&Ae[0]!==Be&&Ae[de-1]!==Be?[]:Hn(Ae,Be);if(de-=rt.length,de<y)return oh(u,m,pu,J.placeholder,r,Ae,rt,r,r,y-de);var ot=this&&this!==pn&&this instanceof J?O:u;return Ji(ot,this,Ae)}return J}function nh(u){return function(m,y,O){var J=Bi(m);if(!ho(m)){var de=yt(y,3);m=pr(m),y=function(Oe){return de(J[Oe],Oe,J)}}var Ae=u(m,y,O);return Ae>-1?J[de?m[Ae]:Ae]:r}}function Rc(u){return oa(function(m){var y=m.length,O=y,J=Li.prototype.thru;for(u&&m.reverse();O--;){var de=m[O];if(typeof de!="function")throw new Sn(p);if(J&&!Ae&&gu(de)=="wrapper")var Ae=new Li([],!0)}for(O=Ae?O:y;++O<y;){de=m[O];var Oe=gu(de),Be=Oe=="wrapper"?Bc(de):r;Be&&z(Be[0])&&Be[1]==(j|D|B|ee)&&!Be[4].length&&Be[9]==1?Ae=Ae[gu(Be[0])].apply(Ae,Be[3]):Ae=de.length==1&&z(de)?Ae[Oe]():Ae.thru(de)}return function(){var rt=arguments,ot=rt[0];if(Ae&&rt.length==1&&ci(ot))return Ae.plant(ot).value();for(var ft=0,Tt=y?m[ft].apply(this,rt):ot;++ft<y;)Tt=m[ft].call(this,Tt);return Tt}})}function pu(u,m,y,O,J,de,Ae,Oe,Be,rt){var ot=m&j,ft=m&U,Tt=m&P,Wt=m&(D|W),Vt=m&fe,vi=Tt?r:du(u);function Kt(){for(var xi=arguments.length,Di=Ze(xi),zo=xi;zo--;)Di[zo]=arguments[zo];if(Wt)var Jr=Us(Kt),Bo=io(Di,Jr);if(O&&(Di=eh(Di,O,J,Wt)),de&&(Di=Oc(Di,de,Ae,Wt)),xi-=Bo,Wt&&xi<rt){var jn=Hn(Di,Jr);return oh(u,m,pu,Kt.placeholder,y,Di,jn,Oe,Be,rt-xi)}var Ia=ft?y:this,Gs=Tt?Ia[u]:u;return xi=Di.length,Oe?Di=St(Di,Oe):Vt&&xi>1&&Di.reverse(),ot&&Be<xi&&(Di.length=Be),this&&this!==pn&&this instanceof Kt&&(Gs=vi||du(Gs)),Gs.apply(Ia,Di)}return Kt}function Nc(u,m){return function(y,O){return Bf(y,u,m(O),{})}}function Nl(u,m){return function(y,O){var J;if(y===r&&O===r)return m;if(y!==r&&(J=y),O!==r){if(J===r)return O;typeof y=="string"||typeof O=="string"?(y=Ur(y),O=Ur(O)):(y=Bs(y),O=Bs(O)),J=u(y,O)}return J}}function zl(u){return oa(function(m){return m=Hi(m,en(yt())),fi(function(y){var O=this;return u(m,function(J){return Ji(J,O,y)})})})}function Ma(u,m){m=m===r?" ":Ur(m);var y=m.length;if(y<2)return y?Pl(m,u):m;var O=Pl(m,Is(u/ro(m)));return xr(m)?Da(wr(O),0,u).join(""):O.slice(0,u)}function rh(u,m,y,O){var J=m&U,de=du(u);function Ae(){for(var Oe=-1,Be=arguments.length,rt=-1,ot=O.length,ft=Ze(ot+Be),Tt=this&&this!==pn&&this instanceof Ae?de:u;++rt<ot;)ft[rt]=O[rt];for(;Be--;)ft[rt++]=arguments[++Oe];return Ji(Tt,J?y:this,ft)}return Ae}function el(u){return function(m,y,O){return O&&typeof O!="number"&&x(m,y,O)&&(y=O=r),m=Zs(m),y===r?(y=m,m=0):y=Zs(y),O=O===r?m<y?1:-1:Zs(O),Cd(m,y,O,u)}}function Bl(u){return function(m,y){return typeof m=="string"&&typeof y=="string"||(m=ua(m),y=ua(y)),u(m,y)}}function oh(u,m,y,O,J,de,Ae,Oe,Be,rt){var ot=m&D,ft=ot?Ae:r,Tt=ot?r:Ae,Wt=ot?de:r,Vt=ot?r:de;m|=ot?B:H,m&=~(ot?H:B),m&E||(m&=-4);var vi=[u,m,J,Wt,ft,Vt,Tt,Oe,Be,rt],Kt=y.apply(r,vi);return z(u)&&zt(Kt,vi),Kt.placeholder=O,Ln(Kt,u,m)}function zc(u){var m=tn[u];return function(y,O){if(y=ua(y),O=O==null?0:Ee(di(O),292),O&&_(y)){var J=(Ui(y)+"e").split("e"),de=m(J[0]+"e"+(+J[1]+O));return J=(Ui(de)+"e").split("e"),+(J[0]+"e"+(+J[1]-O))}return m(y)}}var Vi=Un&&1/Ts(new Un([,-0]))[1]==ve?function(u){return new Un(u)}:jd;function ah(u){return function(m){var y=bi(m);return y==Mt?no(m):y==le?qa(m):pl(m,u(m))}}function Ro(u,m,y,O,J,de,Ae,Oe){var Be=m&P;if(!Be&&typeof u!="function")throw new Sn(p);var rt=O?O.length:0;if(rt||(m&=-97,O=J=r),Ae=Ae===r?Ae:re(di(Ae),0),Oe=Oe===r?Oe:di(Oe),rt-=J?J.length:0,m&H){var ot=O,ft=J;O=J=r}var Tt=Be?r:Bc(u),Wt=[u,m,y,O,J,ot,ft,de,Ae,Oe];if(Tt&&it(Wt,Tt),u=Wt[0],m=Wt[1],y=Wt[2],O=Wt[3],J=Wt[4],Oe=Wt[9]=Wt[9]===r?Be?0:u.length:re(Wt[9]-rt,0),!Oe&&m&(D|W)&&(m&=-25),!m||m==U)var Vt=Td(u,m,y);else m==D||m==W?Vt=Ad(u,m,Oe):(m==B||m==(U|B))&&!J.length?Vt=rh(u,m,y,O):Vt=pu.apply(r,Wt);var vi=Tt?Xf:zt;return Ln(vi(Vt,Wt),u,m)}function mu(u,m,y,O){return u===r||Oa(u,Do[y])&&!Ai.call(O,y)?m:u}function co(u,m,y,O,J,de){return yn(u)&&yn(m)&&(de.set(m,u),ts(u,m,r,co,de),de.delete(m)),u}function Hl(u){return qc(u)?r:u}function Ul(u,m,y,O,J,de){var Ae=y&R,Oe=u.length,Be=m.length;if(Oe!=Be&&!(Ae&&Be>Oe))return!1;var rt=de.get(u),ot=de.get(m);if(rt&&ot)return rt==m&&ot==u;var ft=-1,Tt=!0,Wt=y&Z?new $a:r;for(de.set(u,m),de.set(m,u);++ft<Oe;){var Vt=u[ft],vi=m[ft];if(O)var Kt=Ae?O(vi,Vt,ft,m,u,de):O(Vt,vi,ft,u,m,de);if(Kt!==r){if(Kt)continue;Tt=!1;break}if(Wt){if(!Wa(m,function(xi,Di){if(!fr(Wt,Di)&&(Vt===xi||J(Vt,xi,y,O,de)))return Wt.push(Di)})){Tt=!1;break}}else if(!(Vt===vi||J(Vt,vi,y,O,de))){Tt=!1;break}}return de.delete(u),de.delete(m),Tt}function sh(u,m,y,O,J,de,Ae){switch(y){case mt:if(u.byteLength!=m.byteLength||u.byteOffset!=m.byteOffset)return!1;u=u.buffer,m=m.buffer;case Qe:return!(u.byteLength!=m.byteLength||!de(new Qo(u),new Qo(m)));case Te:case ze:case Ft:return Oa(+u,+m);case et:return u.name==m.name&&u.message==m.message;case X:case V:return u==m+"";case Mt:var Oe=no;case le:var Be=O&R;if(Oe||(Oe=Ts),u.size!=m.size&&!Be)return!1;var rt=Ae.get(u);if(rt)return rt==m;O|=Z,Ae.set(u,m);var ot=Ul(Oe(u),Oe(m),O,J,de,Ae);return Ae.delete(u),ot;case ce:if(ea)return ea.call(u)==ea.call(m)}return!1}function uh(u,m,y,O,J,de){var Ae=y&R,Oe=Wl(u),Be=Oe.length,rt=Wl(m),ot=rt.length;if(Be!=ot&&!Ae)return!1;for(var ft=Be;ft--;){var Tt=Oe[ft];if(!(Ae?Tt in m:Ai.call(m,Tt)))return!1}var Wt=de.get(u),Vt=de.get(m);if(Wt&&Vt)return Wt==m&&Vt==u;var vi=!0;de.set(u,m),de.set(m,u);for(var Kt=Ae;++ft<Be;){Tt=Oe[ft];var xi=u[Tt],Di=m[Tt];if(O)var zo=Ae?O(Di,xi,Tt,m,u,de):O(xi,Di,Tt,u,m,de);if(!(zo===r?xi===Di||J(xi,Di,y,O,de):zo)){vi=!1;break}Kt||(Kt=Tt=="constructor")}if(vi&&!Kt){var Jr=u.constructor,Bo=m.constructor;Jr!=Bo&&"constructor"in u&&"constructor"in m&&!(typeof Jr=="function"&&Jr instanceof Jr&&typeof Bo=="function"&&Bo instanceof Bo)&&(vi=!1)}return de.delete(u),de.delete(m),vi}function oa(u){return Fi(xt(u,r,qs),u+"")}function Wl(u){return kc(u,pr,vu)}function ql(u){return kc(u,po,lh)}var Bc=ya?function(u){return ya.get(u)}:jd;function gu(u){for(var m=u.name+"",y=Ka[m],O=Ai.call(Ka,m)?y.length:0;O--;){var J=y[O],de=J.func;if(de==null||de==u)return J.name}return m}function Us(u){var m=Ai.call(ae,"placeholder")?ae:u;return m.placeholder}function yt(){var u=ae.iteratee||Wd;return u=u===Wd?cu:u,arguments.length?u(arguments[0],arguments[1]):u}function tl(u,m){var y=u.__data__;return I(m)?y[typeof m=="string"?"string":"hash"]:y.map}function Hc(u){for(var m=pr(u),y=m.length;y--;){var O=m[y],J=u[O];m[y]=[O,J,Ne(J)]}return m}function fo(u,m){var y=ml(u,m);return Ec(y)?y:r}function Ld(u){var m=Ai.call(u,ao),y=u[ao];try{u[ao]=r;var O=!0}catch{}var J=mn.call(u);return O&&(m?u[ao]=y:delete u[ao]),J}var vu=o?function(u){return u==null?[]:(u=Bi(u),Eo(o(u),function(m){return Nu.call(u,m)}))}:Zd,lh=o?function(u){for(var m=[];u;)So(m,vu(u)),u=oo(u);return m}:Zd,bi=hr;(Zt&&bi(new Zt(new ArrayBuffer(1)))!=mt||Gt&&bi(new Gt)!=Mt||Tn&&bi(Tn.resolve())!=Et||Un&&bi(new Un)!=le||Oo&&bi(new Oo)!=He)&&(bi=function(u){var m=hr(u),y=m==Pt?u.constructor:r,O=y?vn(y):"";if(O)switch(O){case xa:return mt;case wa:return Mt;case vl:return Et;case mc:return le;case bl:return He}return m});function Dd(u,m,y){for(var O=-1,J=y.length;++O<J;){var de=y[O],Ae=de.size;switch(de.type){case"drop":u+=Ae;break;case"dropRight":m-=Ae;break;case"take":m=Ee(m,u+Ae);break;case"takeRight":u=re(u,m-Ae);break}}return{start:u,end:m}}function Md(u){var m=u.match(jo);return m?m[1].split(Pr):[]}function ch(u,m,y){m=La(m,u);for(var O=-1,J=m.length,de=!1;++O<J;){var Ae=Ri(m[O]);if(!(de=u!=null&&y(u,Ae)))break;u=u[Ae]}return de||++O!=J?de:(J=u==null?0:u.length,!!J&&gh(J)&&v(Ae,J)&&(ci(u)||il(u)))}function jl(u){var m=u.length,y=new u.constructor(m);return m&&typeof u[0]=="string"&&Ai.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function t(u){return typeof u.constructor=="function"&&!xe(u)?Gi(oo(u)):{}}function a(u,m,y){var O=u.constructor;switch(m){case Qe:return Pc(u);case Te:case ze:return new O(+u);case mt:return Qu(u,y);case Ot:case ut:case Xt:case ti:case bt:case _i:case Ni:case un:case pt:return Qf(u,y);case Mt:return new O;case Ft:case V:return new O(u);case X:return Kf(u);case le:return new O;case ce:return $f(u)}}function h(u,m){var y=m.length;if(!y)return u;var O=y-1;return m[O]=(y>1?"& ":"")+m[O],m=m.join(y>2?", ":" "),u.replace(It,`{
/* [wrapped with `+m+`] */
`)}function f(u){return ci(u)||il(u)||!!(ou&&u&&u[ou])}function v(u,m){var y=typeof u;return m=m??we,!!m&&(y=="number"||y!="symbol"&&lr.test(u))&&u>-1&&u%1==0&&u<m}function x(u,m,y){if(!yn(y))return!1;var O=typeof m;return(O=="number"?ho(y)&&v(m,y.length):O=="string"&&m in y)?Oa(y[m],u):!1}function A(u,m){if(ci(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||No(u)?!0:pi.test(u)||!Zr.test(u)||m!=null&&u in Bi(m)}function I(u){var m=typeof u;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?u!=="__proto__":u===null}function z(u){var m=gu(u),y=ae[m];if(typeof y!="function"||!(m in si.prototype))return!1;if(u===y)return!0;var O=Bc(y);return!!O&&u===O[0]}function Y(u){return!!Po&&Po in u}var ge=Ga?js:Gd;function xe(u){var m=u&&u.constructor,y=typeof m=="function"&&m.prototype||Do;return u===y}function Ne(u){return u===u&&!yn(u)}function Ie(u,m){return function(y){return y==null?!1:y[u]===m&&(m!==r||u in Bi(y))}}function Ye(u){var m=ph(u,function(O){return y.size===w&&y.clear(),O}),y=m.cache;return m}function it(u,m){var y=u[1],O=m[1],J=y|O,de=J<(U|P|j),Ae=O==j&&y==D||O==j&&y==ee&&u[7].length<=m[8]||O==(j|ee)&&m[7].length<=m[8]&&y==D;if(!(de||Ae))return u;O&U&&(u[2]=m[2],J|=y&U?0:E);var Oe=m[3];if(Oe){var Be=u[3];u[3]=Be?eh(Be,Oe,m[4]):Oe,u[4]=Be?Hn(u[3],C):m[4]}return Oe=m[5],Oe&&(Be=u[5],u[5]=Be?Oc(Be,Oe,m[6]):Oe,u[6]=Be?Hn(u[5],C):m[6]),Oe=m[7],Oe&&(u[7]=Oe),O&j&&(u[8]=u[8]==null?m[8]:Ee(u[8],m[8])),u[9]==null&&(u[9]=m[9]),u[0]=m[0],u[1]=J,u}function ht(u){var m=[];if(u!=null)for(var y in Bi(u))m.push(y);return m}function vt(u){return mn.call(u)}function xt(u,m,y){return m=re(m===r?u.length-1:m,0),function(){for(var O=arguments,J=-1,de=re(O.length-m,0),Ae=Ze(de);++J<de;)Ae[J]=O[m+J];J=-1;for(var Oe=Ze(m+1);++J<m;)Oe[J]=O[J];return Oe[m]=y(Ae),Ji(u,this,Oe)}}function gt(u,m){return m.length<2?u:ia(u,Sr(m,0,-1))}function St(u,m){for(var y=u.length,O=Ee(m.length,y),J=Tr(u);O--;){var de=m[O];u[O]=v(de,y)?J[de]:r}return u}function Ht(u,m){if(!(m==="constructor"&&typeof u[m]=="function")&&m!="__proto__")return u[m]}var zt=Ki(Xf),ei=Os||function(u,m){return pn.setTimeout(u,m)},Fi=Ki(is);function Ln(u,m,y){var O=m+"";return Fi(u,h(O,Vn(Md(O),y)))}function Ki(u){var m=0,y=0;return function(){var O=qe(),J=be-(O-y);if(y=O,J>0){if(++m>=De)return arguments[0]}else m=0;return u.apply(r,arguments)}}function rr(u,m){var y=-1,O=u.length,J=O-1;for(m=m===r?O:m;++y<m;){var de=Lc(y,J),Ae=u[de];u[de]=u[y],u[y]=Ae}return u.length=m,u}var dr=Ye(function(u){var m=[];return u.charCodeAt(0)===46&&m.push(""),u.replace(Zn,function(y,O,J,de){m.push(J?de.replace(hn,"$1"):O||y)}),m});function Ri(u){if(typeof u=="string"||No(u))return u;var m=u+"";return m=="0"&&1/u==-1/0?"-0":m}function vn(u){if(u!=null){try{return Mo.call(u)}catch{}try{return u+""}catch{}}return""}function Vn(u,m){return cr(Ce,function(y){var O="_."+y[0];m&y[1]&&!$s(u,O)&&u.push(O)}),u.sort()}function bn(u){if(u instanceof si)return u.clone();var m=new Li(u.__wrapped__,u.__chain__);return m.__actions__=Tr(u.__actions__),m.__index__=u.__index__,m.__values__=u.__values__,m}function _n(u,m,y){(y?x(u,m,y):m===r)?m=1:m=re(di(m),0);var O=u==null?0:u.length;if(!O||m<1)return[];for(var J=0,de=0,Ae=Ze(Is(O/m));J<O;)Ae[de++]=Sr(u,J,J+=m);return Ae}function sn(u){for(var m=-1,y=u==null?0:u.length,O=0,J=[];++m<y;){var de=u[m];de&&(J[O++]=de)}return J}function Ar(){var u=arguments.length;if(!u)return[];for(var m=Ze(u-1),y=arguments[0],O=u;O--;)m[O-1]=arguments[O];return So(ci(y)?Tr(y):[y],Yn(m,1))}var bu=fi(function(u,m){return qn(u)?su(u,Yn(m,1,qn,!0)):[]}),rs=fi(function(u,m){var y=sa(m);return qn(y)&&(y=r),qn(u)?su(u,Yn(m,1,qn,!0),yt(y,2)):[]}),or=fi(function(u,m){var y=sa(m);return qn(y)&&(y=r),qn(u)?su(u,Yn(m,1,qn,!0),r,y):[]});function aa(u,m,y){var O=u==null?0:u.length;return O?(m=y||m===r?1:di(m),Sr(u,m<0?0:m,O)):[]}function Wn(u,m,y){var O=u==null?0:u.length;return O?(m=y||m===r?1:di(m),m=O-m,Sr(u,0,m<0?0:m)):[]}function Uc(u,m){return u&&u.length?Aa(u,yt(m,3),!0,!0):[]}function Pa(u,m){return u&&u.length?Aa(u,yt(m,3),!0):[]}function Ws(u,m,y,O){var J=u==null?0:u.length;return J?(y&&typeof y!="number"&&x(u,m,y)&&(y=0,O=J),xc(u,m,y,O)):[]}function os(u,m,y){var O=u==null?0:u.length;if(!O)return-1;var J=y==null?0:di(y);return J<0&&(J=re(O+J,0)),ws(u,yt(m,3),J)}function ar(u,m,y){var O=u==null?0:u.length;if(!O)return-1;var J=O-1;return y!==r&&(J=di(y),J=y<0?re(O+J,0):Ee(J,O-1)),ws(u,yt(m,3),J,!0)}function qs(u){var m=u==null?0:u.length;return m?Yn(u,1):[]}function Wc(u){var m=u==null?0:u.length;return m?Yn(u,ve):[]}function Lb(u,m){var y=u==null?0:u.length;return y?(m=m===r?1:di(m),Yn(u,m)):[]}function Db(u){for(var m=-1,y=u==null?0:u.length,O={};++m<y;){var J=u[m];O[J[0]]=J[1]}return O}function hm(u){return u&&u.length?u[0]:r}function Mb(u,m,y){var O=u==null?0:u.length;if(!O)return-1;var J=y==null?0:di(y);return J<0&&(J=re(O+J,0)),Yo(u,m,J)}function Pb(u){var m=u==null?0:u.length;return m?Sr(u,0,-1):[]}var Ob=fi(function(u){var m=Hi(u,Mc);return m.length&&m[0]===u[0]?Al(m):[]}),Ib=fi(function(u){var m=sa(u),y=Hi(u,Mc);return m===sa(y)?m=r:y.pop(),y.length&&y[0]===u[0]?Al(y,yt(m,2)):[]}),Fb=fi(function(u){var m=sa(u),y=Hi(u,Mc);return m=typeof m=="function"?m:r,m&&y.pop(),y.length&&y[0]===u[0]?Al(y,r,m):[]});function Rb(u,m){return u==null?"":S.call(u,m)}function sa(u){var m=u==null?0:u.length;return m?u[m-1]:r}function Nb(u,m,y){var O=u==null?0:u.length;if(!O)return-1;var J=O;return y!==r&&(J=di(y),J=J<0?re(O+J,0):Ee(J,O-1)),m===m?Ao(u,m,J):ws(u,Ou,J,!0)}function zb(u,m){return u&&u.length?Ac(u,di(m)):r}var Bb=fi(dm);function dm(u,m){return u&&u.length&&m&&m.length?Ml(u,m):u}function Hb(u,m,y){return u&&u.length&&m&&m.length?Ml(u,m,yt(y,2)):u}function Ub(u,m,y){return u&&u.length&&m&&m.length?Ml(u,m,r,y):u}var Wb=oa(function(u,m){var y=u==null?0:u.length,O=Cl(u,m);return Zf(u,Hi(m,function(J){return v(J,y)?+J:J}).sort(Rl)),O});function qb(u,m){var y=[];if(!(u&&u.length))return y;var O=-1,J=[],de=u.length;for(m=yt(m,3);++O<de;){var Ae=u[O];m(Ae,O,u)&&(y.push(Ae),J.push(O))}return Zf(u,J),y}function Pd(u){return u==null?u:wt.call(u)}function jb(u,m,y){var O=u==null?0:u.length;return O?(y&&typeof y!="number"&&x(u,m,y)?(m=0,y=O):(m=m==null?0:di(m),y=y===r?O:di(y)),Sr(u,m,y)):[]}function Zb(u,m){return lo(u,m)}function Gb(u,m,y){return Dc(u,m,yt(y,2))}function Xb(u,m){var y=u==null?0:u.length;if(y){var O=lo(u,m);if(O<y&&Oa(u[O],m))return O}return-1}function Yb(u,m){return lo(u,m,!0)}function Vb(u,m,y){return Dc(u,m,yt(y,2),!0)}function Kb(u,m){var y=u==null?0:u.length;if(y){var O=lo(u,m,!0)-1;if(Oa(u[O],m))return O}return-1}function $b(u){return u&&u.length?Yf(u):[]}function Qb(u,m){return u&&u.length?Yf(u,yt(m,2)):[]}function Jb(u){var m=u==null?0:u.length;return m?Sr(u,1,m):[]}function e_(u,m,y){return u&&u.length?(m=y||m===r?1:di(m),Sr(u,0,m<0?0:m)):[]}function t_(u,m,y){var O=u==null?0:u.length;return O?(m=y||m===r?1:di(m),m=O-m,Sr(u,m<0?0:m,O)):[]}function i_(u,m){return u&&u.length?Aa(u,yt(m,3),!1,!0):[]}function n_(u,m){return u&&u.length?Aa(u,yt(m,3)):[]}var r_=fi(function(u){return Ta(Yn(u,1,qn,!0))}),o_=fi(function(u){var m=sa(u);return qn(m)&&(m=r),Ta(Yn(u,1,qn,!0),yt(m,2))}),a_=fi(function(u){var m=sa(u);return m=typeof m=="function"?m:r,Ta(Yn(u,1,qn,!0),r,m)});function s_(u){return u&&u.length?Ta(u):[]}function u_(u,m){return u&&u.length?Ta(u,yt(m,2)):[]}function l_(u,m){return m=typeof m=="function"?m:r,u&&u.length?Ta(u,r,m):[]}function Od(u){if(!(u&&u.length))return[];var m=0;return u=Eo(u,function(y){if(qn(y))return m=re(y.length,m),!0}),Es(m,function(y){return Hi(u,Iu(y))})}function pm(u,m){if(!(u&&u.length))return[];var y=Od(u);return m==null?y:Hi(y,function(O){return Ji(m,r,O)})}var c_=fi(function(u,m){return qn(u)?su(u,m):[]}),f_=fi(function(u){return Ku(Eo(u,qn))}),h_=fi(function(u){var m=sa(u);return qn(m)&&(m=r),Ku(Eo(u,qn),yt(m,2))}),d_=fi(function(u){var m=sa(u);return m=typeof m=="function"?m:r,Ku(Eo(u,qn),r,m)}),p_=fi(Od);function m_(u,m){return Fl(u||[],m||[],uo)}function g_(u,m){return Fl(u||[],m||[],Gu)}var v_=fi(function(u){var m=u.length,y=m>1?u[m-1]:r;return y=typeof y=="function"?(u.pop(),y):r,pm(u,y)});function mm(u){var m=ae(u);return m.__chain__=!0,m}function b_(u,m){return m(u),u}function fh(u,m){return m(u)}var __=oa(function(u){var m=u.length,y=m?u[0]:0,O=this.__wrapped__,J=function(de){return Cl(de,u)};return m>1||this.__actions__.length||!(O instanceof si)||!v(y)?this.thru(J):(O=O.slice(y,+y+(m?1:0)),O.__actions__.push({func:fh,args:[J],thisArg:r}),new Li(O,this.__chain__).thru(function(de){return m&&!de.length&&de.push(r),de}))});function y_(){return mm(this)}function x_(){return new Li(this.value(),this.__chain__)}function w_(){this.__values__===r&&(this.__values__=Lm(this.value()));var u=this.__index__>=this.__values__.length,m=u?r:this.__values__[this.__index__++];return{done:u,value:m}}function k_(){return this}function C_(u){for(var m,y=this;y instanceof an;){var O=bn(y);O.__index__=0,O.__values__=r,m?J.__wrapped__=O:m=O;var J=O;y=y.__wrapped__}return J.__wrapped__=u,m}function E_(){var u=this.__wrapped__;if(u instanceof si){var m=u;return this.__actions__.length&&(m=new si(this)),m=m.reverse(),m.__actions__.push({func:fh,args:[Pd],thisArg:r}),new Li(m,this.__chain__)}return this.thru(Pd)}function S_(){return Il(this.__wrapped__,this.__actions__)}var T_=ns(function(u,m,y){Ai.call(u,y)?++u[y]:Fo(u,y,1)});function A_(u,m,y){var O=ci(u)?Pu:Nf;return y&&x(u,m,y)&&(m=r),O(u,yt(m,3))}function L_(u,m){var y=ci(u)?Eo:Wu;return y(u,yt(m,3))}var D_=nh(os),M_=nh(ar);function P_(u,m){return Yn(hh(u,m),1)}function O_(u,m){return Yn(hh(u,m),ve)}function I_(u,m,y){return y=y===r?1:di(y),Yn(hh(u,m),y)}function gm(u,m){var y=ci(u)?cr:es;return y(u,yt(m,3))}function vm(u,m){var y=ci(u)?Xo:Rf;return y(u,yt(m,3))}var F_=ns(function(u,m,y){Ai.call(u,y)?u[y].push(m):Fo(u,y,[m])});function R_(u,m,y,O){u=ho(u)?u:Gl(u),y=y&&!O?di(y):0;var J=u.length;return y<0&&(y=re(J+y,0)),vh(u)?y<=J&&u.indexOf(m,y)>-1:!!J&&Yo(u,m,y)>-1}var N_=fi(function(u,m,y){var O=-1,J=typeof m=="function",de=ho(u)?Ze(u.length):[];return es(u,function(Ae){de[++O]=J?Ji(m,Ae,y):na(Ae,m,y)}),de}),z_=ns(function(u,m,y){Fo(u,y,m)});function hh(u,m){var y=ci(u)?Hi:Tc;return y(u,yt(m,3))}function B_(u,m,y,O){return u==null?[]:(ci(m)||(m=m==null?[]:[m]),y=O?r:y,ci(y)||(y=y==null?[]:[y]),qf(u,m,y))}var H_=ns(function(u,m,y){u[y?0:1].push(m)},function(){return[[],[]]});function U_(u,m,y){var O=ci(u)?ga:Cs,J=arguments.length<3;return O(u,yt(m,4),y,J,es)}function W_(u,m,y){var O=ci(u)?va:Cs,J=arguments.length<3;return O(u,yt(m,4),y,J,Rf)}function q_(u,m){var y=ci(u)?Eo:Wu;return y(u,mh(yt(m,3)))}function j_(u){var m=ci(u)?wl:Gf;return m(u)}function Z_(u,m,y){(y?x(u,m,y):m===r)?m=1:m=di(m);var O=ci(u)?zu:Ed;return O(u,m)}function G_(u){var m=ci(u)?Pf:Xu;return m(u)}function X_(u){if(u==null)return 0;if(ho(u))return vh(u)?ro(u):u.length;var m=bi(u);return m==Mt||m==le?u.size:Ns(u).length}function Y_(u,m,y){var O=ci(u)?Wa:Yu;return y&&x(u,m,y)&&(m=r),O(u,yt(m,3))}var V_=fi(function(u,m){if(u==null)return[];var y=m.length;return y>1&&x(u,m[0],m[1])?m=[]:y>2&&x(m[0],m[1],m[2])&&(m=[m[0]]),qf(u,Yn(m,1),[])}),dh=gl||function(){return pn.Date.now()};function K_(u,m){if(typeof m!="function")throw new Sn(p);return u=di(u),function(){if(--u<1)return m.apply(this,arguments)}}function bm(u,m,y){return m=y?r:m,m=u&&m==null?u.length:m,Ro(u,j,r,r,r,r,m)}function _m(u,m){var y;if(typeof m!="function")throw new Sn(p);return u=di(u),function(){return--u>0&&(y=m.apply(this,arguments)),u<=1&&(m=r),y}}var Id=fi(function(u,m,y){var O=U;if(y.length){var J=Hn(y,Us(Id));O|=B}return Ro(u,O,m,y,J)}),ym=fi(function(u,m,y){var O=U|P;if(y.length){var J=Hn(y,Us(ym));O|=B}return Ro(m,O,u,y,J)});function xm(u,m,y){m=y?r:m;var O=Ro(u,D,r,r,r,r,r,m);return O.placeholder=xm.placeholder,O}function wm(u,m,y){m=y?r:m;var O=Ro(u,W,r,r,r,r,r,m);return O.placeholder=wm.placeholder,O}function km(u,m,y){var O,J,de,Ae,Oe,Be,rt=0,ot=!1,ft=!1,Tt=!0;if(typeof u!="function")throw new Sn(p);m=ua(m)||0,yn(y)&&(ot=!!y.leading,ft="maxWait"in y,de=ft?re(ua(y.maxWait)||0,m):de,Tt="trailing"in y?!!y.trailing:Tt);function Wt(jn){var Ia=O,Gs=J;return O=J=r,rt=jn,Ae=u.apply(Gs,Ia),Ae}function Vt(jn){return rt=jn,Oe=ei(xi,m),ot?Wt(jn):Ae}function vi(jn){var Ia=jn-Be,Gs=jn-rt,Wm=m-Ia;return ft?Ee(Wm,de-Gs):Wm}function Kt(jn){var Ia=jn-Be,Gs=jn-rt;return Be===r||Ia>=m||Ia<0||ft&&Gs>=de}function xi(){var jn=dh();if(Kt(jn))return Di(jn);Oe=ei(xi,vi(jn))}function Di(jn){return Oe=r,Tt&&O?Wt(jn):(O=J=r,Ae)}function zo(){Oe!==r&&$u(Oe),rt=0,O=Be=J=Oe=r}function Jr(){return Oe===r?Ae:Di(dh())}function Bo(){var jn=dh(),Ia=Kt(jn);if(O=arguments,J=this,Be=jn,Ia){if(Oe===r)return Vt(Be);if(ft)return $u(Oe),Oe=ei(xi,m),Wt(Be)}return Oe===r&&(Oe=ei(xi,m)),Ae}return Bo.cancel=zo,Bo.flush=Jr,Bo}var $_=fi(function(u,m){return Uu(u,1,m)}),Q_=fi(function(u,m,y){return Uu(u,ua(m)||0,y)});function J_(u){return Ro(u,fe)}function ph(u,m){if(typeof u!="function"||m!=null&&typeof m!="function")throw new Sn(p);var y=function(){var O=arguments,J=m?m.apply(this,O):O[0],de=y.cache;if(de.has(J))return de.get(J);var Ae=u.apply(this,O);return y.cache=de.set(J,Ae)||de,Ae};return y.cache=new(ph.Cache||Kr),y}ph.Cache=Kr;function mh(u){if(typeof u!="function")throw new Sn(p);return function(){var m=arguments;switch(m.length){case 0:return!u.call(this);case 1:return!u.call(this,m[0]);case 2:return!u.call(this,m[0],m[1]);case 3:return!u.call(this,m[0],m[1],m[2])}return!u.apply(this,m)}}function e1(u){return _m(2,u)}var t1=Sd(function(u,m){m=m.length==1&&ci(m[0])?Hi(m[0],en(yt())):Hi(Yn(m,1),en(yt()));var y=m.length;return fi(function(O){for(var J=-1,de=Ee(O.length,y);++J<de;)O[J]=m[J].call(this,O[J]);return Ji(u,this,O)})}),Fd=fi(function(u,m){var y=Hn(m,Us(Fd));return Ro(u,B,r,m,y)}),Cm=fi(function(u,m){var y=Hn(m,Us(Cm));return Ro(u,H,r,m,y)}),i1=oa(function(u,m){return Ro(u,ee,r,r,r,m)});function n1(u,m){if(typeof u!="function")throw new Sn(p);return m=m===r?m:di(m),fi(u,m)}function r1(u,m){if(typeof u!="function")throw new Sn(p);return m=m==null?0:re(di(m),0),fi(function(y){var O=y[m],J=Da(y,0,m);return O&&So(J,O),Ji(u,this,J)})}function o1(u,m,y){var O=!0,J=!0;if(typeof u!="function")throw new Sn(p);return yn(y)&&(O="leading"in y?!!y.leading:O,J="trailing"in y?!!y.trailing:J),km(u,m,{leading:O,maxWait:m,trailing:J})}function a1(u){return bm(u,1)}function s1(u,m){return Fd(Hs(m),u)}function u1(){if(!arguments.length)return[];var u=arguments[0];return ci(u)?u:[u]}function l1(u){return Qr(u,G)}function c1(u,m){return m=typeof m=="function"?m:r,Qr(u,G,m)}function f1(u){return Qr(u,k|G)}function h1(u,m){return m=typeof m=="function"?m:r,Qr(u,k|G,m)}function d1(u,m){return m==null||Ff(u,m,pr(m))}function Oa(u,m){return u===m||u!==u&&m!==m}var p1=Bl(Sl),m1=Bl(function(u,m){return u>=m}),il=Cc(function(){return arguments}())?Cc:function(u){return Dn(u)&&Ai.call(u,"callee")&&!Nu.call(u,"callee")},ci=Ze.isArray,g1=ys?en(ys):Ll;function ho(u){return u!=null&&gh(u.length)&&!js(u)}function qn(u){return Dn(u)&&ho(u)}function v1(u){return u===!0||u===!1||Dn(u)&&hr(u)==Te}var _u=d||Gd,b1=xs?en(xs):Hf;function _1(u){return Dn(u)&&u.nodeType===1&&!qc(u)}function y1(u){if(u==null)return!0;if(ho(u)&&(ci(u)||typeof u=="string"||typeof u.splice=="function"||_u(u)||Zl(u)||il(u)))return!u.length;var m=bi(u);if(m==Mt||m==le)return!u.size;if(xe(u))return!Ns(u).length;for(var y in u)if(Ai.call(u,y))return!1;return!0}function x1(u,m){return Ea(u,m)}function w1(u,m,y){y=typeof y=="function"?y:r;var O=y?y(u,m):r;return O===r?Ea(u,m,r,y):!!O}function Rd(u){if(!Dn(u))return!1;var m=hr(u);return m==et||m==Xe||typeof u.message=="string"&&typeof u.name=="string"&&!qc(u)}function k1(u){return typeof u=="number"&&_(u)}function js(u){if(!yn(u))return!1;var m=hr(u);return m==nt||m==Lt||m==he||m==$t}function Em(u){return typeof u=="number"&&u==di(u)}function gh(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=we}function yn(u){var m=typeof u;return u!=null&&(m=="object"||m=="function")}function Dn(u){return u!=null&&typeof u=="object"}var Sm=ma?en(ma):lu;function C1(u,m){return u===m||Dl(u,m,Hc(m))}function E1(u,m,y){return y=typeof y=="function"?y:r,Dl(u,m,Hc(m),y)}function S1(u){return Tm(u)&&u!=+u}function T1(u){if(ge(u))throw new Yt(l);return Ec(u)}function A1(u){return u===null}function L1(u){return u==null}function Tm(u){return typeof u=="number"||Dn(u)&&hr(u)==Ft}function qc(u){if(!Dn(u)||hr(u)!=Pt)return!1;var m=oo(u);if(m===null)return!0;var y=Ai.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&Mo.call(y)==$o}var Nd=fl?en(fl):Uf;function D1(u){return Em(u)&&u>=-9007199254740991&&u<=we}var Am=Ks?en(Ks):ju;function vh(u){return typeof u=="string"||!ci(u)&&Dn(u)&&hr(u)==V}function No(u){return typeof u=="symbol"||Dn(u)&&hr(u)==ce}var Zl=hl?en(hl):Zu;function M1(u){return u===r}function P1(u){return Dn(u)&&bi(u)==He}function O1(u){return Dn(u)&&hr(u)==at}var I1=Bl(Sc),F1=Bl(function(u,m){return u<=m});function Lm(u){if(!u)return[];if(ho(u))return vh(u)?wr(u):Tr(u);if(Jo&&u[Jo])return Ru(u[Jo]());var m=bi(u),y=m==Mt?no:m==le?Ts:Gl;return y(u)}function Zs(u){if(!u)return u===0?u:0;if(u=ua(u),u===ve||u===-1/0){var m=u<0?-1:1;return m*Ve}return u===u?u:0}function di(u){var m=Zs(u),y=m%1;return m===m?y?m-y:m:0}function Dm(u){return u?Rs(di(u),0,ke):0}function ua(u){if(typeof u=="number")return u;if(No(u))return We;if(yn(u)){var m=typeof u.valueOf=="function"?u.valueOf():u;u=yn(m)?m+"":m}if(typeof u!="string")return u===0?u:+u;u=Nr(u);var y=Zo.test(u);return y||Or.test(u)?bs(u.slice(2),y?2:8):wo.test(u)?We:+u}function Mm(u){return ra(u,po(u))}function R1(u){return u?Rs(di(u),-9007199254740991,we):u===0?u:0}function Ui(u){return u==null?"":Ur(u)}var N1=fu(function(u,m){if(xe(m)||ho(m)){ra(m,pr(m),u);return}for(var y in m)Ai.call(m,y)&&uo(u,y,m[y])}),Pm=fu(function(u,m){ra(m,po(m),u)}),bh=fu(function(u,m,y,O){ra(m,po(m),u,O)}),z1=fu(function(u,m,y,O){ra(m,pr(m),u,O)}),B1=oa(Cl);function H1(u,m){var y=Gi(u);return m==null?y:If(y,m)}var U1=fi(function(u,m){u=Bi(u);var y=-1,O=m.length,J=O>2?m[2]:r;for(J&&x(m[0],m[1],J)&&(O=1);++y<O;)for(var de=m[y],Ae=po(de),Oe=-1,Be=Ae.length;++Oe<Be;){var rt=Ae[Oe],ot=u[rt];(ot===r||Oa(ot,Do[rt])&&!Ai.call(u,rt))&&(u[rt]=de[rt])}return u}),W1=fi(function(u){return u.push(r,co),Ji(Om,r,u)});function q1(u,m){return Ti(u,yt(m,3),ta)}function j1(u,m){return Ti(u,yt(m,3),El)}function Z1(u,m){return u==null?u:qu(u,yt(m,3),po)}function G1(u,m){return u==null?u:wc(u,yt(m,3),po)}function X1(u,m){return u&&ta(u,yt(m,3))}function Y1(u,m){return u&&El(u,yt(m,3))}function V1(u){return u==null?[]:An(u,pr(u))}function K1(u){return u==null?[]:An(u,po(u))}function zd(u,m,y){var O=u==null?r:ia(u,m);return O===r?y:O}function $1(u,m){return u!=null&&ch(u,m,uu)}function Bd(u,m){return u!=null&&ch(u,m,Tl)}var Q1=Nc(function(u,m,y){m!=null&&typeof m.toString!="function"&&(m=mn.call(m)),u[m]=y},Ud(mo)),J1=Nc(function(u,m,y){m!=null&&typeof m.toString!="function"&&(m=mn.call(m)),Ai.call(u,m)?u[m].push(y):u[m]=[y]},yt),ey=fi(na);function pr(u){return ho(u)?Mf(u):Ns(u)}function po(u){return ho(u)?Mf(u,!0):Wf(u)}function ty(u,m){var y={};return m=yt(m,3),ta(u,function(O,J,de){Fo(y,m(O,J,de),O)}),y}function iy(u,m){var y={};return m=yt(m,3),ta(u,function(O,J,de){Fo(y,J,m(O,J,de))}),y}var ny=fu(function(u,m,y){ts(u,m,y)}),Om=fu(function(u,m,y,O){ts(u,m,y,O)}),ry=oa(function(u,m){var y={};if(u==null)return y;var O=!1;m=Hi(m,function(de){return de=La(de,u),O||(O=de.length>1),de}),ra(u,ql(u),y),O&&(y=Qr(y,k|M|G,Hl));for(var J=m.length;J--;)Ol(y,m[J]);return y});function oy(u,m){return Im(u,mh(yt(m)))}var ay=oa(function(u,m){return u==null?{}:kd(u,m)});function Im(u,m){if(u==null)return{};var y=Hi(ql(u),function(O){return[O]});return m=yt(m),jf(u,y,function(O,J){return m(O,J[0])})}function sy(u,m,y){m=La(m,u);var O=-1,J=m.length;for(J||(J=1,u=r);++O<J;){var de=u==null?r:u[Ri(m[O])];de===r&&(O=J,de=y),u=js(de)?de.call(u):de}return u}function uy(u,m,y){return u==null?u:Gu(u,m,y)}function ly(u,m,y,O){return O=typeof O=="function"?O:r,u==null?u:Gu(u,m,y,O)}var Fm=ah(pr),Rm=ah(po);function cy(u,m,y){var O=ci(u),J=O||_u(u)||Zl(u);if(m=yt(m,4),y==null){var de=u&&u.constructor;J?y=O?new de:[]:yn(u)?y=js(de)?Gi(oo(u)):{}:y={}}return(J?cr:ta)(u,function(Ae,Oe,Be){return m(y,Ae,Oe,Be)}),y}function fy(u,m){return u==null?!0:Ol(u,m)}function hy(u,m,y){return u==null?u:Vu(u,m,Hs(y))}function dy(u,m,y,O){return O=typeof O=="function"?O:r,u==null?u:Vu(u,m,Hs(y),O)}function Gl(u){return u==null?[]:Gr(u,pr(u))}function py(u){return u==null?[]:Gr(u,po(u))}function my(u,m,y){return y===r&&(y=m,m=r),y!==r&&(y=ua(y),y=y===y?y:0),m!==r&&(m=ua(m),m=m===m?m:0),Rs(ua(u),m,y)}function gy(u,m,y){return m=Zs(m),y===r?(y=m,m=0):y=Zs(y),u=ua(u),zf(u,m,y)}function vy(u,m,y){if(y&&typeof y!="boolean"&&x(u,m,y)&&(m=y=r),y===r&&(typeof m=="boolean"?(y=m,m=r):typeof u=="boolean"&&(y=u,u=r)),u===r&&m===r?(u=0,m=1):(u=Zs(u),m===r?(m=u,u=0):m=Zs(m)),u>m){var O=u;u=m,m=O}if(y||u%1||m%1){var J=st();return Ee(u+J*(m-u+Ua("1e-"+((J+"").length-1))),m)}return Lc(u,m)}var by=hu(function(u,m,y){return m=m.toLowerCase(),u+(y?Nm(m):m)});function Nm(u){return Hd(Ui(u).toLowerCase())}function zm(u){return u=Ui(u),u&&u.replace(da,Xr).replace($i,"")}function _y(u,m,y){u=Ui(u),m=Ur(m);var O=u.length;y=y===r?O:Rs(di(y),0,O);var J=y;return y-=m.length,y>=0&&u.slice(y,J)==m}function yy(u){return u=Ui(u),u&&Cn.test(u)?u.replace(zi,tu):u}function xy(u){return u=Ui(u),u&&sr.test(u)?u.replace(Mr,"\\$&"):u}var wy=hu(function(u,m,y){return u+(y?"-":"")+m.toLowerCase()}),ky=hu(function(u,m,y){return u+(y?" ":"")+m.toLowerCase()}),Cy=ih("toLowerCase");function Ey(u,m,y){u=Ui(u),m=di(m);var O=m?ro(u):0;if(!m||O>=m)return u;var J=(m-O)/2;return Ma(au(J),y)+u+Ma(Is(J),y)}function Sy(u,m,y){u=Ui(u),m=di(m);var O=m?ro(u):0;return m&&O<m?u+Ma(m-O,y):u}function Ty(u,m,y){u=Ui(u),m=di(m);var O=m?ro(u):0;return m&&O<m?Ma(m-O,y)+u:u}function Ay(u,m,y){return y||m==null?m=0:m&&(m=+m),je(Ui(u).replace(xo,""),m||0)}function Ly(u,m,y){return(y?x(u,m,y):m===r)?m=1:m=di(m),Pl(Ui(u),m)}function Dy(){var u=arguments,m=Ui(u[0]);return u.length<3?m:m.replace(u[1],u[2])}var My=hu(function(u,m,y){return u+(y?"_":"")+m.toLowerCase()});function Py(u,m,y){return y&&typeof y!="number"&&x(u,m,y)&&(m=y=r),y=y===r?ke:y>>>0,y?(u=Ui(u),u&&(typeof m=="string"||m!=null&&!Nd(m))&&(m=Ur(m),!m&&xr(u))?Da(wr(u),0,y):u.split(m,y)):[]}var Oy=hu(function(u,m,y){return u+(y?" ":"")+Hd(m)});function Iy(u,m,y){return u=Ui(u),y=y==null?0:Rs(di(y),0,u.length),m=Ur(m),u.slice(y,y+m.length)==m}function Fy(u,m,y){var O=ae.templateSettings;y&&x(u,m,y)&&(m=r),u=Ui(u),m=bh({},m,O,mu);var J=bh({},m.imports,O.imports,mu),de=pr(J),Ae=Gr(J,de),Oe,Be,rt=0,ot=m.interpolate||Rn,ft="__p += '",Tt=zr((m.escape||Rn).source+"|"+ot.source+"|"+(ot===Jn?dn:Rn).source+"|"+(m.evaluate||Rn).source+"|$","g"),Wt="//# sourceURL="+(Ai.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bn+"]")+`
`;u.replace(Tt,function(Kt,xi,Di,zo,Jr,Bo){return Di||(Di=zo),ft+=u.slice(rt,Bo).replace(br,iu),xi&&(Oe=!0,ft+=`' +
__e(`+xi+`) +
'`),Jr&&(Be=!0,ft+=`';
`+Jr+`;
__p += '`),Di&&(ft+=`' +
((__t = (`+Di+`)) == null ? '' : __t) +
'`),rt=Bo+Kt.length,Kt}),ft+=`';
`;var Vt=Ai.call(m,"variable")&&m.variable;if(!Vt)ft=`with (obj) {
`+ft+`
}
`;else if(Xi.test(Vt))throw new Yt(g);ft=(Be?ft.replace(Dr,""):ft).replace(wi,"$1").replace(Mi,"$1;"),ft="function("+(Vt||"obj")+`) {
`+(Vt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Oe?", __e = _.escape":"")+(Be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ft+`return __p
}`;var vi=Hm(function(){return Ci(de,Wt+"return "+ft).apply(r,Ae)});if(vi.source=ft,Rd(vi))throw vi;return vi}function Ry(u){return Ui(u).toLowerCase()}function Ny(u){return Ui(u).toUpperCase()}function zy(u,m,y){if(u=Ui(u),u&&(y||m===r))return Nr(u);if(!u||!(m=Ur(m)))return u;var O=wr(u),J=wr(m),de=eu(O,J),Ae=Vo(O,J)+1;return Da(O,de,Ae).join("")}function By(u,m,y){if(u=Ui(u),u&&(y||m===r))return u.slice(0,Ko(u)+1);if(!u||!(m=Ur(m)))return u;var O=wr(u),J=Vo(O,wr(m))+1;return Da(O,0,J).join("")}function Hy(u,m,y){if(u=Ui(u),u&&(y||m===r))return u.replace(xo,"");if(!u||!(m=Ur(m)))return u;var O=wr(u),J=eu(O,wr(m));return Da(O,J).join("")}function Uy(u,m){var y=me,O=ue;if(yn(m)){var J="separator"in m?m.separator:J;y="length"in m?di(m.length):y,O="omission"in m?Ur(m.omission):O}u=Ui(u);var de=u.length;if(xr(u)){var Ae=wr(u);de=Ae.length}if(y>=de)return u;var Oe=y-ro(O);if(Oe<1)return O;var Be=Ae?Da(Ae,0,Oe).join(""):u.slice(0,Oe);if(J===r)return Be+O;if(Ae&&(Oe+=Be.length-Oe),Nd(J)){if(u.slice(Oe).search(J)){var rt,ot=Be;for(J.global||(J=zr(J.source,Ui(In.exec(J))+"g")),J.lastIndex=0;rt=J.exec(ot);)var ft=rt.index;Be=Be.slice(0,ft===r?Oe:ft)}}else if(u.indexOf(Ur(J),Oe)!=Oe){var Tt=Be.lastIndexOf(J);Tt>-1&&(Be=Be.slice(0,Tt))}return Be+O}function Wy(u){return u=Ui(u),u&&ri.test(u)?u.replace(Ii,As):u}var qy=hu(function(u,m,y){return u+(y?" ":"")+m.toUpperCase()}),Hd=ih("toUpperCase");function Bm(u,m,y){return u=Ui(u),m=y?r:m,m===r?Ss(u)?Lo(u):To(u):u.match(m)||[]}var Hm=fi(function(u,m){try{return Ji(u,r,m)}catch(y){return Rd(y)?y:new Yt(y)}}),jy=oa(function(u,m){return cr(m,function(y){y=Ri(y),Fo(u,y,Id(u[y],u))}),u});function Zy(u){var m=u==null?0:u.length,y=yt();return u=m?Hi(u,function(O){if(typeof O[1]!="function")throw new Sn(p);return[y(O[0]),O[1]]}):[],fi(function(O){for(var J=-1;++J<m;){var de=u[J];if(Ji(de[0],this,O))return Ji(de[1],this,O)}})}function Gy(u){return yd(Qr(u,k))}function Ud(u){return function(){return u}}function Xy(u,m){return u==null||u!==u?m:u}var Yy=Rc(),Vy=Rc(!0);function mo(u){return u}function Wd(u){return cu(typeof u=="function"?u:Qr(u,k))}function Ky(u){return Sa(Qr(u,k))}function $y(u,m){return zs(u,Qr(m,k))}var Qy=fi(function(u,m){return function(y){return na(y,u,m)}}),Jy=fi(function(u,m){return function(y){return na(u,y,m)}});function qd(u,m,y){var O=pr(m),J=An(m,O);y==null&&!(yn(m)&&(J.length||!O.length))&&(y=m,m=u,u=this,J=An(m,pr(m)));var de=!(yn(y)&&"chain"in y)||!!y.chain,Ae=js(u);return cr(J,function(Oe){var Be=m[Oe];u[Oe]=Be,Ae&&(u.prototype[Oe]=function(){var rt=this.__chain__;if(de||rt){var ot=u(this.__wrapped__),ft=ot.__actions__=Tr(this.__actions__);return ft.push({func:Be,args:arguments,thisArg:u}),ot.__chain__=rt,ot}return Be.apply(u,So([this.value()],arguments))})}),u}function ex(){return pn._===this&&(pn._=Xn),this}function jd(){}function tx(u){return u=di(u),fi(function(m){return Ac(m,u)})}var ix=zl(Hi),nx=zl(Pu),rx=zl(Wa);function Um(u){return A(u)?Iu(Ri(u)):Er(u)}function ox(u){return function(m){return u==null?r:ia(u,m)}}var ax=el(),sx=el(!0);function Zd(){return[]}function Gd(){return!1}function ux(){return{}}function lx(){return""}function cx(){return!0}function fx(u,m){if(u=di(u),u<1||u>we)return[];var y=ke,O=Ee(u,ke);m=yt(m),u-=ke;for(var J=Es(O,m);++y<u;)m(y);return J}function hx(u){return ci(u)?Hi(u,Ri):No(u)?[u]:Tr(dr(Ui(u)))}function dx(u){var m=++Hr;return Ui(u)+m}var px=Nl(function(u,m){return u+m},0),mx=zc("ceil"),gx=Nl(function(u,m){return u/m},1),vx=zc("floor");function bx(u){return u&&u.length?Ca(u,mo,Sl):r}function _x(u,m){return u&&u.length?Ca(u,yt(m,2),Sl):r}function yx(u){return Js(u,mo)}function xx(u,m){return Js(u,yt(m,2))}function wx(u){return u&&u.length?Ca(u,mo,Sc):r}function kx(u,m){return u&&u.length?Ca(u,yt(m,2),Sc):r}var Cx=Nl(function(u,m){return u*m},1),Ex=zc("round"),Sx=Nl(function(u,m){return u-m},0);function Tx(u){return u&&u.length?Fu(u,mo):0}function Ax(u,m){return u&&u.length?Fu(u,yt(m,2)):0}return ae.after=K_,ae.ary=bm,ae.assign=N1,ae.assignIn=Pm,ae.assignInWith=bh,ae.assignWith=z1,ae.at=B1,ae.before=_m,ae.bind=Id,ae.bindAll=jy,ae.bindKey=ym,ae.castArray=u1,ae.chain=mm,ae.chunk=_n,ae.compact=sn,ae.concat=Ar,ae.cond=Zy,ae.conforms=Gy,ae.constant=Ud,ae.countBy=T_,ae.create=H1,ae.curry=xm,ae.curryRight=wm,ae.debounce=km,ae.defaults=U1,ae.defaultsDeep=W1,ae.defer=$_,ae.delay=Q_,ae.difference=bu,ae.differenceBy=rs,ae.differenceWith=or,ae.drop=aa,ae.dropRight=Wn,ae.dropRightWhile=Uc,ae.dropWhile=Pa,ae.fill=Ws,ae.filter=L_,ae.flatMap=P_,ae.flatMapDeep=O_,ae.flatMapDepth=I_,ae.flatten=qs,ae.flattenDeep=Wc,ae.flattenDepth=Lb,ae.flip=J_,ae.flow=Yy,ae.flowRight=Vy,ae.fromPairs=Db,ae.functions=V1,ae.functionsIn=K1,ae.groupBy=F_,ae.initial=Pb,ae.intersection=Ob,ae.intersectionBy=Ib,ae.intersectionWith=Fb,ae.invert=Q1,ae.invertBy=J1,ae.invokeMap=N_,ae.iteratee=Wd,ae.keyBy=z_,ae.keys=pr,ae.keysIn=po,ae.map=hh,ae.mapKeys=ty,ae.mapValues=iy,ae.matches=Ky,ae.matchesProperty=$y,ae.memoize=ph,ae.merge=ny,ae.mergeWith=Om,ae.method=Qy,ae.methodOf=Jy,ae.mixin=qd,ae.negate=mh,ae.nthArg=tx,ae.omit=ry,ae.omitBy=oy,ae.once=e1,ae.orderBy=B_,ae.over=ix,ae.overArgs=t1,ae.overEvery=nx,ae.overSome=rx,ae.partial=Fd,ae.partialRight=Cm,ae.partition=H_,ae.pick=ay,ae.pickBy=Im,ae.property=Um,ae.propertyOf=ox,ae.pull=Bb,ae.pullAll=dm,ae.pullAllBy=Hb,ae.pullAllWith=Ub,ae.pullAt=Wb,ae.range=ax,ae.rangeRight=sx,ae.rearg=i1,ae.reject=q_,ae.remove=qb,ae.rest=n1,ae.reverse=Pd,ae.sampleSize=Z_,ae.set=uy,ae.setWith=ly,ae.shuffle=G_,ae.slice=jb,ae.sortBy=V_,ae.sortedUniq=$b,ae.sortedUniqBy=Qb,ae.split=Py,ae.spread=r1,ae.tail=Jb,ae.take=e_,ae.takeRight=t_,ae.takeRightWhile=i_,ae.takeWhile=n_,ae.tap=b_,ae.throttle=o1,ae.thru=fh,ae.toArray=Lm,ae.toPairs=Fm,ae.toPairsIn=Rm,ae.toPath=hx,ae.toPlainObject=Mm,ae.transform=cy,ae.unary=a1,ae.union=r_,ae.unionBy=o_,ae.unionWith=a_,ae.uniq=s_,ae.uniqBy=u_,ae.uniqWith=l_,ae.unset=fy,ae.unzip=Od,ae.unzipWith=pm,ae.update=hy,ae.updateWith=dy,ae.values=Gl,ae.valuesIn=py,ae.without=c_,ae.words=Bm,ae.wrap=s1,ae.xor=f_,ae.xorBy=h_,ae.xorWith=d_,ae.zip=p_,ae.zipObject=m_,ae.zipObjectDeep=g_,ae.zipWith=v_,ae.entries=Fm,ae.entriesIn=Rm,ae.extend=Pm,ae.extendWith=bh,qd(ae,ae),ae.add=px,ae.attempt=Hm,ae.camelCase=by,ae.capitalize=Nm,ae.ceil=mx,ae.clamp=my,ae.clone=l1,ae.cloneDeep=f1,ae.cloneDeepWith=h1,ae.cloneWith=c1,ae.conformsTo=d1,ae.deburr=zm,ae.defaultTo=Xy,ae.divide=gx,ae.endsWith=_y,ae.eq=Oa,ae.escape=yy,ae.escapeRegExp=xy,ae.every=A_,ae.find=D_,ae.findIndex=os,ae.findKey=q1,ae.findLast=M_,ae.findLastIndex=ar,ae.findLastKey=j1,ae.floor=vx,ae.forEach=gm,ae.forEachRight=vm,ae.forIn=Z1,ae.forInRight=G1,ae.forOwn=X1,ae.forOwnRight=Y1,ae.get=zd,ae.gt=p1,ae.gte=m1,ae.has=$1,ae.hasIn=Bd,ae.head=hm,ae.identity=mo,ae.includes=R_,ae.indexOf=Mb,ae.inRange=gy,ae.invoke=ey,ae.isArguments=il,ae.isArray=ci,ae.isArrayBuffer=g1,ae.isArrayLike=ho,ae.isArrayLikeObject=qn,ae.isBoolean=v1,ae.isBuffer=_u,ae.isDate=b1,ae.isElement=_1,ae.isEmpty=y1,ae.isEqual=x1,ae.isEqualWith=w1,ae.isError=Rd,ae.isFinite=k1,ae.isFunction=js,ae.isInteger=Em,ae.isLength=gh,ae.isMap=Sm,ae.isMatch=C1,ae.isMatchWith=E1,ae.isNaN=S1,ae.isNative=T1,ae.isNil=L1,ae.isNull=A1,ae.isNumber=Tm,ae.isObject=yn,ae.isObjectLike=Dn,ae.isPlainObject=qc,ae.isRegExp=Nd,ae.isSafeInteger=D1,ae.isSet=Am,ae.isString=vh,ae.isSymbol=No,ae.isTypedArray=Zl,ae.isUndefined=M1,ae.isWeakMap=P1,ae.isWeakSet=O1,ae.join=Rb,ae.kebabCase=wy,ae.last=sa,ae.lastIndexOf=Nb,ae.lowerCase=ky,ae.lowerFirst=Cy,ae.lt=I1,ae.lte=F1,ae.max=bx,ae.maxBy=_x,ae.mean=yx,ae.meanBy=xx,ae.min=wx,ae.minBy=kx,ae.stubArray=Zd,ae.stubFalse=Gd,ae.stubObject=ux,ae.stubString=lx,ae.stubTrue=cx,ae.multiply=Cx,ae.nth=zb,ae.noConflict=ex,ae.noop=jd,ae.now=dh,ae.pad=Ey,ae.padEnd=Sy,ae.padStart=Ty,ae.parseInt=Ay,ae.random=vy,ae.reduce=U_,ae.reduceRight=W_,ae.repeat=Ly,ae.replace=Dy,ae.result=sy,ae.round=Ex,ae.runInContext=Fe,ae.sample=j_,ae.size=X_,ae.snakeCase=My,ae.some=Y_,ae.sortedIndex=Zb,ae.sortedIndexBy=Gb,ae.sortedIndexOf=Xb,ae.sortedLastIndex=Yb,ae.sortedLastIndexBy=Vb,ae.sortedLastIndexOf=Kb,ae.startCase=Oy,ae.startsWith=Iy,ae.subtract=Sx,ae.sum=Tx,ae.sumBy=Ax,ae.template=Fy,ae.times=fx,ae.toFinite=Zs,ae.toInteger=di,ae.toLength=Dm,ae.toLower=Ry,ae.toNumber=ua,ae.toSafeInteger=R1,ae.toString=Ui,ae.toUpper=Ny,ae.trim=zy,ae.trimEnd=By,ae.trimStart=Hy,ae.truncate=Uy,ae.unescape=Wy,ae.uniqueId=dx,ae.upperCase=qy,ae.upperFirst=Hd,ae.each=gm,ae.eachRight=vm,ae.first=hm,qd(ae,function(){var u={};return ta(ae,function(m,y){Ai.call(ae.prototype,y)||(u[y]=m)}),u}(),{chain:!1}),ae.VERSION=s,cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){ae[u].placeholder=ae}),cr(["drop","take"],function(u,m){si.prototype[u]=function(y){y=y===r?1:re(di(y),0);var O=this.__filtered__&&!m?new si(this):this.clone();return O.__filtered__?O.__takeCount__=Ee(y,O.__takeCount__):O.__views__.push({size:Ee(y,ke),type:u+(O.__dir__<0?"Right":"")}),O},si.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),cr(["filter","map","takeWhile"],function(u,m){var y=m+1,O=y==te||y==se;si.prototype[u]=function(J){var de=this.clone();return de.__iteratees__.push({iteratee:yt(J,3),type:y}),de.__filtered__=de.__filtered__||O,de}}),cr(["head","last"],function(u,m){var y="take"+(m?"Right":"");si.prototype[u]=function(){return this[y](1).value()[0]}}),cr(["initial","tail"],function(u,m){var y="drop"+(m?"":"Right");si.prototype[u]=function(){return this.__filtered__?new si(this):this[y](1)}}),si.prototype.compact=function(){return this.filter(mo)},si.prototype.find=function(u){return this.filter(u).head()},si.prototype.findLast=function(u){return this.reverse().find(u)},si.prototype.invokeMap=fi(function(u,m){return typeof u=="function"?new si(this):this.map(function(y){return na(y,u,m)})}),si.prototype.reject=function(u){return this.filter(mh(yt(u)))},si.prototype.slice=function(u,m){u=di(u);var y=this;return y.__filtered__&&(u>0||m<0)?new si(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),m!==r&&(m=di(m),y=m<0?y.dropRight(-m):y.take(m-u)),y)},si.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},si.prototype.toArray=function(){return this.take(ke)},ta(si.prototype,function(u,m){var y=/^(?:filter|find|map|reject)|While$/.test(m),O=/^(?:head|last)$/.test(m),J=ae[O?"take"+(m=="last"?"Right":""):m],de=O||/^find/.test(m);J&&(ae.prototype[m]=function(){var Ae=this.__wrapped__,Oe=O?[1]:arguments,Be=Ae instanceof si,rt=Oe[0],ot=Be||ci(Ae),ft=function(xi){var Di=J.apply(ae,So([xi],Oe));return O&&Tt?Di[0]:Di};ot&&y&&typeof rt=="function"&&rt.length!=1&&(Be=ot=!1);var Tt=this.__chain__,Wt=!!this.__actions__.length,Vt=de&&!Tt,vi=Be&&!Wt;if(!de&&ot){Ae=vi?Ae:new si(this);var Kt=u.apply(Ae,Oe);return Kt.__actions__.push({func:fh,args:[ft],thisArg:r}),new Li(Kt,Tt)}return Vt&&vi?u.apply(this,Oe):(Kt=this.thru(ft),Vt?O?Kt.value()[0]:Kt.value():Kt)})}),cr(["pop","push","shift","sort","splice","unshift"],function(u){var m=Br[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",O=/^(?:pop|shift)$/.test(u);ae.prototype[u]=function(){var J=arguments;if(O&&!this.__chain__){var de=this.value();return m.apply(ci(de)?de:[],J)}return this[y](function(Ae){return m.apply(ci(Ae)?Ae:[],J)})}}),ta(si.prototype,function(u,m){var y=ae[m];if(y){var O=y.name+"";Ai.call(Ka,O)||(Ka[O]=[]),Ka[O].push({name:m,func:y})}}),Ka[pu(r,P).name]=[{name:"wrapper",func:r}],si.prototype.clone=pd,si.prototype.reverse=yl,si.prototype.value=md,ae.prototype.at=__,ae.prototype.chain=y_,ae.prototype.commit=x_,ae.prototype.next=w_,ae.prototype.plant=C_,ae.prototype.reverse=E_,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=S_,ae.prototype.first=ae.prototype.head,Jo&&(ae.prototype[Jo]=k_),ae},Vr=Ls();Rr?((Rr.exports=Vr)._=Vr,nr._=Vr):pn._=Vr}).call(TE)}(Jc,Jc.exports)),Jc.exports}var of=AE();const tb={list:[],trans:null,selectedDrawer:null},LE={drawersGetById:(n,e)=>r=>n.list.find(s=>s.id===r),getDrawerFilters:n=>n.selectedDrawer?n.selectedDrawer.filters:null},DE={drawersAddInstance({commit:n},e){n(_v,{drawer:e})},drawersRemoveInstance({commit:n},e){n(yv,{drawerToRemove:e})},drawersInitData({commit:n},{drawer:e,entity:r,ids:s,filters:c,maxLength:l,minLength:p,entityName:g}){if(n(Tv,{drawer:e,entity:r,ids:s,filters:c}),!s||s.length===0||!r)n(Lv,{drawer:e,maxLength:l,minLength:p});else{const b=s.map(w=>w&&w.document?w.document:w);Kv(r,b,c).then(w=>{if(w&&g===jv){const C={...w,items:s.map(function(k,M){return{document:w.items[M],hotspot:k.hotspot,imageCropAlignment:k.imageCropAlignment}})};n(Cp,{drawer:e,result:C,maxLength:l,minLength:p});return}n(Cp,{drawer:e,result:w,maxLength:l,minLength:p})}).catch(w=>{n(Av,{drawer:e,error:w})})}},drawersAddItem({commit:n,state:e},{drawer:r,item:s,newIndex:c}){let l=e.selectedDrawer;r&&(l=r),l.acceptMore&&n(xv,{drawer:l,item:s,newIndex:c})},drawersMoveItem({commit:n},{drawer:e,item:r}){},drawersRemoveItem({commit:n},{drawer:e,item:r}){n(wv,{drawer:e,item:r})},drawersExplorerButtonClick({commit:n,dispatch:e},r){n(kv,{drawer:r}),tb.selectedDrawer.isActive?e("explorerOpen",{entity:r.entity}):e("explorerClose")},drawersDropzoneButtonClick({state:n,dispatch:e},r){r.isDropzoneEnable?e("drawersDisableDropzone",{drawer:r}):e("drawersEnableDropzone",{drawer:r})},drawersEnableDropzone({commit:n},{drawer:e}){n(Ev,{drawer:e})},drawersDisableDropzone({commit:n},{drawer:e}){n(Sv,{drawer:e})}},ME={[_v](n,{drawer:e}){n.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[yv](n,{drawerToRemove:e}){n.list=of.remove(n.list,r=>r._uid===e._uid)},[kv](n,{drawer:e}){n.list.forEach(r=>{r!==e&&(r.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,n.selectedDrawer=e},[xv](n,{drawer:e,item:r,newIndex:s=0}){e.items.push(r),e.acceptMore=e.items.length<e.maxLength},[Cv](n,{drawer:e,newList:r}){e.items=r,e.acceptMore=e.items.length<e.maxLength},[wv](n,{drawer:e,item:r}){let s=e.items.indexOf(r);s>=0&&e.items.splice(s,1),e.acceptMore=e.items.length<e.maxLength},[Qp](n){n=H0(n)},[Cp](n,{drawer:e,result:r,maxLength:s,minLength:c}){e.isLoading=!1,e.items=r.items,e.trans=r.trans,e.maxLength=s,e.minLength=c,e.acceptMore=r.items.length<s},[Tv](n,{drawer:e,entity:r,filters:s}){e.isLoading=!0,e.entity=r,e.filters=s,e.currentListingView=Sp.getListingView(r)},[Av](n,{drawer:e,error:r}){e.isLoading=!1,e.errorMessage=r.message},[Lv](n,{drawer:e,maxLength:r,minLength:s}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=r,e.minLength=s},[vs](n){n=H0(n)},[Ev](n,{drawer:e}){n.list.forEach(r=>{r.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[Sv](n,{drawer:e}){e.isDropzoneEnable=!1}};function H0(n){return n.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),n.selectedDrawer=null,n}const PE={state:tb,getters:LE,actions:DE,mutations:ME},OE={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},IE={...OE},FE={getFilterExplorerSelectedItem:n=>n.selectedItem},RE={filterExplorerOpen({commit:n,dispatch:e,getters:r}){const s=r.getExplorerEntity;n(fv,{entity:s}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:n,dispatch:e},{item:r}){n(Jp,{item:r}),e("explorerMakeSearch")},filterExplorerClose({commit:n}){n(hv)},filterExplorerReset({commit:n}){n(mv)},filterExplorerToggle({dispatch:n,state:e}){e.isOpen?n("filterExplorerClose"):n("filterExplorerOpen")},filterExplorerMakeSearch({commit:n,state:e}){n(dv);const r=e.entity;return tm.getFilters({entity:r}).then(s=>{s?n(pv,{result:s}):n(xp)}).catch(s=>{n(xp,{error:s})})}},NE={[Jp](n,{item:e}){n.selectedItem=e},[dv](n){n.isLoading=!0},[pv](n,{result:e}){n.items=e.items,n.isLoading=!1},[fv](n,{entity:e}){switch(n.isOpen=!0,n.entity=e,e){case uc:n.icons.normal="uk-icon-folder",n.icons.active="uk-icon-folder-open";break;case xf:n.icons.normal="uk-icon-tag",n.icons.active="uk-icon-tag";break;case lc:n.icons.normal="uk-icon-tag",n.icons.active="uk-icon-tag";break}},[hv](n){n.isOpen=!1},[mv](n){n.selectedItem=null,n.items=[]},[xp](n,{error:e}){n.isLoading=!1,n.error="Request failed"},[vs](n){n.isLoading=!1,n.isOpen=!1,n.selectedItem=null}},zE={state:IE,getters:FE,actions:RE,mutations:NE},BE={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},HE={tagsSearchExisting:n=>(e,r)=>n.isTagExisting},UE={tagCreatorReady({commit:n}){n(Ov)},tagsCreate({commit:n,dispatch:e},{tagName:r}){n(Dv,{tagName:r}),Xv({tagName:r}).then(s=>{n(Mv,s),e("drawersAddItem",{item:s}),e("explorerResetSearchTerms")}).catch(s=>{n(Pv,s)})}},WE={[Ov](n){n.isReady=!0},[Jh](n,{searchTerms:e}){n.searchTerms=e},[$p](n,{result:e}){if(n.isTagExisting=!1,n.isReady&&n.searchTerms!=="")for(let r of e.items)r.name&&n.searchTerms&&r.name.toLowerCase()===n.searchTerms.toLowerCase()&&(n.isTagExisting=!0)},[Dv](n){n.isLoading=!0},[Mv](n,e){n.isLoading=!1},[Pv](n,e){n.isLoading=!1,n.error=e.message}},qE={state:BE,getters:HE,actions:UE,mutations:WE},jE={document:null,isVisible:!1,isLoading:!1},ZE={documentPreviewGetDocument:n=>n.document},GE={documentPreviewInit({commit:n},{document:e}){n(Iv,{document:e})},documentPreviewDestroy({commit:n}){n(Fv)},documentPreviewClose({commit:n}){n(Nv)},documentPreviewOpen({commit:n}){n(Rv)}},XE={[Iv](n,{document:e}){n.document=e},[Fv](n){n.isVisible||(n.document=null)},[gv](n){n.document!==null&&!n.isVisible?n.isVisible=!0:n.isVisible&&(n.isVisible=!1,n.document=null)},[vs](n){n.isVisible=!1,n.document=null},[Rv](n){n.isVisible=!0},[Nv](n){n.isVisible=!1,n.document=null}},YE={state:jE,getters:ZE,actions:GE,mutations:XE};function VE(n){let e=atob(n.split(",")[1]),r=[];for(let c=0;c<e.length;c++)r.push(e.charCodeAt(c));const s=n.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(r)],{type:s})}const KE={isLoading:!0,originalUrl:"",editor:null},$E={blanchetteEditorInit({commit:n,dispatch:e},{url:r,editor:s}){e("blanchetteEditorIsLoading"),n(zv,{url:r,editor:s})},blanchetteEditorIsLoading({commit:n}){n(Ep)},blanchetteEditorLoaded({commit:n}){n(Rh)},blanchetteEditorSave({commit:n,state:e},{url:r,filename:s}){const c=VE(r),l=e.editor.getElementsByTagName("form")[0];let p=new FormData(l);return p.append("form[editDocument]",c,s),n(Ep),kC(p).then(async g=>{const b=await g.json();if(n(Rh),b&&b.path)window.UIkit.notify({message:b.message,status:"success",timeout:2e3,pos:"top-center"}),n(Hv,{path:b.path});else throw new Error("No path found")}).catch(async g=>{n(Bv,{error:await g.response.json()}),n(Rh)})}},QE={[zv](n,{url:e,editor:r}){n.originalUrl=e,n.editor=r},[Ep](n){n.isLoading=!0},[Bv](n,{error:e}){n.error=e.message},[Rh](n){n.isLoading=!1},[Hv](n,{path:e}){n.originalUrl=e}},JE={state:KE,actions:$E,mutations:QE};oc.use(wg);const Ch=new wg.Store({modules:{nodesSourceSearch:XC,explorer:SE,filterExplorer:zE,drawers:PE,tags:qE,documentPreview:YE,blanchetteEditor:JE},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[vv](n){n.connected=!0},[wp](n){n.connected=!1},[bv](n){n.healthChecked=!0},[kp](n){n.healthChecked=!1}},actions:{escape({commit:n}){n(vs)}}});class eS{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.Mousetrap.bind("esc",()=>this.store.commit(vs))}bindSpace(){window.Mousetrap.bind("space",e=>{e.preventDefault&&this.store.getters.documentPreviewGetDocument?e.preventDefault():this.store.getters.documentPreviewGetDocument&&(e.returnValue=!1),e.target===document.body&&e.preventDefault?e.preventDefault():e.target===document.body&&(e.returnValue=!1),this.store.commit(gv)})}}class tS{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(wp):this.store.commit(kp);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(wp);return}(e.status===200||e.status===202)&&(this.store.commit(vv),this.store.commit(bv),this.check())}}catch{this.store.commit(kp)}},this.intervalDuration)}}const iS={data:function(){return{searchTerms:null}},computed:{...ds({items:n=>n.nodesSourceSearch.items,isFocus:n=>n.nodesSourceSearch.isFocus,isOpen:n=>n.nodesSourceSearch.isOpen})},methods:{...Ys(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),enableFocus:of.debounce(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:of.debounce(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(n){n&&n.key==="Escape"&&(n.preventDefault(),this.nodeSourceSearchEscape())}},watch:{searchTerms:of.debounce(function(n,e){this.nodesSourceSearchUpdate(n,e)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:im}},nS=null,rS=null;var oS=kn(iS,nS,rS,!1,null,null);const aS=oS.exports,sS={name:"rz-button",props:["isActive","callback"]};var uS=function(){var e=this,r=e._self._c;return r("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},lS=[],cS=kn(sS,uS,lS,!1,null,null);const fS=cS.exports;var zh={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Bh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bh=function(e){return typeof e}:Bh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(n)}function hS(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ha(){return ha=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},ha.apply(this,arguments)}function Mu(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),s.forEach(function(c){hS(n,c,r[c])})}return n}function dS(n,e){if(n==null)return{};var r={},s=Object.keys(n),c,l;for(l=0;l<s.length;l++)c=s[l],!(e.indexOf(c)>=0)&&(r[c]=n[c]);return r}function pS(n,e){if(n==null)return{};var r=dS(n,e),s,c;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(c=0;c<l.length;c++)s=l[c],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(r[s]=n[s])}return r}function mS(n){return gS(n)||vS(n)||bS()}function gS(n){if(Array.isArray(n)){for(var e=0,r=new Array(n.length);e<n.length;e++)r[e]=n[e];return r}}function vS(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function bS(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var _S="1.10.2";function Xs(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Vs=Xs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),wf=Xs(/Edge/i),U0=Xs(/firefox/i),Tp=Xs(/safari/i)&&!Xs(/chrome/i)&&!Xs(/android/i),ib=Xs(/iP(ad|od|hone)/i),yS=Xs(/chrome/i)&&Xs(/android/i),nb={capture:!1,passive:!1};function Si(n,e,r){n.addEventListener(e,r,!Vs&&nb)}function yi(n,e,r){n.removeEventListener(e,r,!Vs&&nb)}function ed(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function xS(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function za(n,e,r,s){if(n){r=r||document;do{if(e!=null&&(e[0]===">"?n.parentNode===r&&ed(n,e):ed(n,e))||s&&n===r)return n;if(n===r)break}while(n=xS(n))}return null}var W0=/\s+/g;function wn(n,e,r){if(n&&e)if(n.classList)n.classList[r?"add":"remove"](e);else{var s=(" "+n.className+" ").replace(W0," ").replace(" "+e+" "," ");n.className=(s+(r?" "+e:"")).replace(W0," ")}}function Ut(n,e,r){var s=n&&n.style;if(s){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(r=n.currentStyle),e===void 0?r:r[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=r+(typeof r=="string"?"":"px")}}function ll(n,e){var r="";if(typeof n=="string")r=n;else do{var s=Ut(n,"transform");s&&s!=="none"&&(r=s+" "+r)}while(!e&&(n=n.parentNode));var c=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return c&&new c(r)}function rb(n,e,r){if(n){var s=n.getElementsByTagName(e),c=0,l=s.length;if(r)for(;c<l;c++)r(s[c],c);return s}return[]}function cs(){var n=document.scrollingElement;return n||document.documentElement}function On(n,e,r,s,c){if(!(!n.getBoundingClientRect&&n!==window)){var l,p,g,b,w,C,k;if(n!==window&&n!==cs()?(l=n.getBoundingClientRect(),p=l.top,g=l.left,b=l.bottom,w=l.right,C=l.height,k=l.width):(p=0,g=0,b=window.innerHeight,w=window.innerWidth,C=window.innerHeight,k=window.innerWidth),(e||r)&&n!==window&&(c=c||n.parentNode,!Vs))do if(c&&c.getBoundingClientRect&&(Ut(c,"transform")!=="none"||r&&Ut(c,"position")!=="static")){var M=c.getBoundingClientRect();p-=M.top+parseInt(Ut(c,"border-top-width")),g-=M.left+parseInt(Ut(c,"border-left-width")),b=p+l.height,w=g+l.width;break}while(c=c.parentNode);if(s&&n!==window){var G=ll(c||n),R=G&&G.a,Z=G&&G.d;G&&(p/=Z,g/=R,k/=R,C/=Z,b=p+C,w=g+k)}return{top:p,left:g,bottom:b,right:w,width:k,height:C}}}function q0(n,e,r){for(var s=Su(n,!0),c=On(n)[e];s;){var l=On(s)[r],p=void 0;if(p=c>=l,!p)return s;if(s===cs())break;s=Su(s,!1)}return!1}function td(n,e,r){for(var s=0,c=0,l=n.children;c<l.length;){if(l[c].style.display!=="none"&&l[c]!==Jt.ghost&&l[c]!==Jt.dragged&&za(l[c],r.draggable,n,!1)){if(s===e)return l[c];s++}c++}return null}function nm(n,e){for(var r=n.lastElementChild;r&&(r===Jt.ghost||Ut(r,"display")==="none"||e&&!ed(r,e));)r=r.previousElementSibling;return r||null}function Pn(n,e){var r=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Jt.clone&&(!e||ed(n,e))&&r++;return r}function j0(n){var e=0,r=0,s=cs();if(n)do{var c=ll(n),l=c.a,p=c.d;e+=n.scrollLeft*l,r+=n.scrollTop*p}while(n!==s&&(n=n.parentNode));return[e,r]}function wS(n,e){for(var r in n)if(n.hasOwnProperty(r)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===n[r][s])return Number(r)}return-1}function Su(n,e){if(!n||!n.getBoundingClientRect)return cs();var r=n,s=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var c=Ut(r);if(r.clientWidth<r.scrollWidth&&(c.overflowX=="auto"||c.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(c.overflowY=="auto"||c.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return cs();if(s||e)return r;s=!0}}while(r=r.parentNode);return cs()}function kS(n,e){if(n&&e)for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function ip(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var af;function ob(n,e){return function(){if(!af){var r=arguments,s=this;r.length===1?n.call(s,r[0]):n.apply(s,r),af=setTimeout(function(){af=void 0},e)}}}function CS(){clearTimeout(af),af=void 0}function ab(n,e,r){n.scrollLeft+=e,n.scrollTop+=r}function rm(n){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):r?r(n).clone(!0)[0]:n.cloneNode(!0)}function Z0(n,e){Ut(n,"position","absolute"),Ut(n,"top",e.top),Ut(n,"left",e.left),Ut(n,"width",e.width),Ut(n,"height",e.height)}function np(n){Ut(n,"position",""),Ut(n,"top",""),Ut(n,"left",""),Ut(n,"width",""),Ut(n,"height","")}var qr="Sortable"+new Date().getTime();function ES(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(c){if(!(Ut(c,"display")==="none"||c===Jt.ghost)){n.push({target:c,rect:On(c)});var l=Mu({},n[n.length-1].rect);if(c.thisAnimationDuration){var p=ll(c,!0);p&&(l.top-=p.f,l.left-=p.e)}c.fromRect=l}})}},addAnimationState:function(s){n.push(s)},removeAnimationState:function(s){n.splice(wS(n,{target:s}),1)},animateAll:function(s){var c=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var l=!1,p=0;n.forEach(function(g){var b=0,w=g.target,C=w.fromRect,k=On(w),M=w.prevFromRect,G=w.prevToRect,R=g.rect,Z=ll(w,!0);Z&&(k.top-=Z.f,k.left-=Z.e),w.toRect=k,w.thisAnimationDuration&&ip(M,k)&&!ip(C,k)&&(R.top-k.top)/(R.left-k.left)===(C.top-k.top)/(C.left-k.left)&&(b=TS(R,M,G,c.options)),ip(k,C)||(w.prevFromRect=C,w.prevToRect=k,b||(b=c.options.animation),c.animate(w,R,k,b)),b&&(l=!0,p=Math.max(p,b),clearTimeout(w.animationResetTimer),w.animationResetTimer=setTimeout(function(){w.animationTime=0,w.prevFromRect=null,w.fromRect=null,w.prevToRect=null,w.thisAnimationDuration=null},b),w.thisAnimationDuration=b)}),clearTimeout(e),l?e=setTimeout(function(){typeof s=="function"&&s()},p):typeof s=="function"&&s(),n=[]},animate:function(s,c,l,p){if(p){Ut(s,"transition",""),Ut(s,"transform","");var g=ll(this.el),b=g&&g.a,w=g&&g.d,C=(c.left-l.left)/(b||1),k=(c.top-l.top)/(w||1);s.animatingX=!!C,s.animatingY=!!k,Ut(s,"transform","translate3d("+C+"px,"+k+"px,0)"),SS(s),Ut(s,"transition","transform "+p+"ms"+(this.options.easing?" "+this.options.easing:"")),Ut(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Ut(s,"transition",""),Ut(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},p)}}}}function SS(n){return n.offsetWidth}function TS(n,e,r,s){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*s.animation}var jc=[],rp={initializeByDefault:!0},kf={mount:function(e){for(var r in rp)rp.hasOwnProperty(r)&&!(r in e)&&(e[r]=rp[r]);jc.push(e)},pluginEvent:function(e,r,s){var c=this;this.eventCanceled=!1,s.cancel=function(){c.eventCanceled=!0};var l=e+"Global";jc.forEach(function(p){r[p.pluginName]&&(r[p.pluginName][l]&&r[p.pluginName][l](Mu({sortable:r},s)),r.options[p.pluginName]&&r[p.pluginName][e]&&r[p.pluginName][e](Mu({sortable:r},s)))})},initializePlugins:function(e,r,s,c){jc.forEach(function(g){var b=g.pluginName;if(!(!e.options[b]&&!g.initializeByDefault)){var w=new g(e,r,e.options);w.sortable=e,w.options=e.options,e[b]=w,ha(s,w.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var p=this.modifyOption(e,l,e.options[l]);typeof p<"u"&&(e.options[l]=p)}},getEventProperties:function(e,r){var s={};return jc.forEach(function(c){typeof c.eventProperties=="function"&&ha(s,c.eventProperties.call(r[c.pluginName],e))}),s},modifyOption:function(e,r,s){var c;return jc.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[r]=="function"&&(c=l.optionListeners[r].call(e[l.pluginName],s))}),c}};function ef(n){var e=n.sortable,r=n.rootEl,s=n.name,c=n.targetEl,l=n.cloneEl,p=n.toEl,g=n.fromEl,b=n.oldIndex,w=n.newIndex,C=n.oldDraggableIndex,k=n.newDraggableIndex,M=n.originalEvent,G=n.putSortable,R=n.extraEventProperties;if(e=e||r&&r[qr],!!e){var Z,U=e.options,P="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Vs&&!wf?Z=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(Z=document.createEvent("Event"),Z.initEvent(s,!0,!0)),Z.to=p||r,Z.from=g||r,Z.item=c||r,Z.clone=l,Z.oldIndex=b,Z.newIndex=w,Z.oldDraggableIndex=C,Z.newDraggableIndex=k,Z.originalEvent=M,Z.pullMode=G?G.lastPutMode:void 0;var E=Mu({},R,kf.getEventProperties(s,e));for(var D in E)Z[D]=E[D];r&&r.dispatchEvent(Z),U[P]&&U[P].call(e,Z)}}var go=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=s.evt,l=pS(s,["evt"]);kf.pluginEvent.bind(Jt)(e,r,Mu({dragEl:Ct,parentEl:Kn,ghostEl:hi,rootEl:xn,nextEl:sl,lastDownEl:Hh,cloneEl:Mn,cloneHidden:Cu,dragStarted:tf,putSortable:Lr,activeSortable:Jt.active,originalEvent:c,oldIndex:Jl,oldDraggableIndex:sf,newIndex:Wo,newDraggableIndex:wu,hideGhostForTarget:cb,unhideGhostForTarget:fb,cloneNowHidden:function(){Cu=!0},cloneNowShown:function(){Cu=!1},dispatchSortableEvent:function(g){eo({sortable:r,name:g,originalEvent:c})}},l))};function eo(n){ef(Mu({putSortable:Lr,cloneEl:Mn,targetEl:Ct,rootEl:xn,oldIndex:Jl,oldDraggableIndex:sf,newIndex:Wo,newDraggableIndex:wu},n))}var Ct,Kn,hi,xn,sl,Hh,Mn,Cu,Jl,Wo,sf,wu,Eh,Lr,Ql=!1,id=!1,nd=[],nl,Fa,op,ap,G0,X0,tf,Yl,uf,lf=!1,Sh=!1,Uh,Wr,sp=[],Ap=!1,rd=[],hd=typeof document<"u",Th=ib,Y0=wf||Vs?"cssFloat":"float",AS=hd&&!yS&&!ib&&"draggable"in document.createElement("div"),sb=function(){if(hd){if(Vs)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),ub=function(e,r){var s=Ut(e),c=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=td(e,0,r),p=td(e,1,r),g=l&&Ut(l),b=p&&Ut(p),w=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+On(l).width,C=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+On(p).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&g.float&&g.float!=="none"){var k=g.float==="left"?"left":"right";return p&&(b.clear==="both"||b.clear===k)?"vertical":"horizontal"}return l&&(g.display==="block"||g.display==="flex"||g.display==="table"||g.display==="grid"||w>=c&&s[Y0]==="none"||p&&s[Y0]==="none"&&w+C>c)?"vertical":"horizontal"},LS=function(e,r,s){var c=s?e.left:e.top,l=s?e.right:e.bottom,p=s?e.width:e.height,g=s?r.left:r.top,b=s?r.right:r.bottom,w=s?r.width:r.height;return c===g||l===b||c+p/2===g+w/2},DS=function(e,r){var s;return nd.some(function(c){if(!nm(c)){var l=On(c),p=c[qr].options.emptyInsertThreshold,g=e>=l.left-p&&e<=l.right+p,b=r>=l.top-p&&r<=l.bottom+p;if(p&&g&&b)return s=c}}),s},lb=function(e){function r(l,p){return function(g,b,w,C){var k=g.options.group.name&&b.options.group.name&&g.options.group.name===b.options.group.name;if(l==null&&(p||k))return!0;if(l==null||l===!1)return!1;if(p&&l==="clone")return l;if(typeof l=="function")return r(l(g,b,w,C),p)(g,b,w,C);var M=(p?g:b).options.group.name;return l===!0||typeof l=="string"&&l===M||l.join&&l.indexOf(M)>-1}}var s={},c=e.group;(!c||Bh(c)!="object")&&(c={name:c}),s.name=c.name,s.checkPull=r(c.pull,!0),s.checkPut=r(c.put),s.revertClone=c.revertClone,e.group=s},cb=function(){!sb&&hi&&Ut(hi,"display","none")},fb=function(){!sb&&hi&&Ut(hi,"display","")};hd&&document.addEventListener("click",function(n){if(id)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),id=!1,!1},!0);var rl=function(e){if(Ct){e=e.touches?e.touches[0]:e;var r=DS(e.clientX,e.clientY);if(r){var s={};for(var c in e)e.hasOwnProperty(c)&&(s[c]=e[c]);s.target=s.rootEl=r,s.preventDefault=void 0,s.stopPropagation=void 0,r[qr]._onDragOver(s)}}},MS=function(e){Ct&&Ct.parentNode[qr]._isOutsideThisEl(e.target)};function Jt(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ha({},e),n[qr]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ub(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(p,g){p.setData("Text",g.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Jt.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};kf.initializePlugins(this,n,r);for(var s in r)!(s in e)&&(e[s]=r[s]);lb(e);for(var c in this)c.charAt(0)==="_"&&typeof this[c]=="function"&&(this[c]=this[c].bind(this));this.nativeDraggable=e.forceFallback?!1:AS,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Si(n,"pointerdown",this._onTapStart):(Si(n,"mousedown",this._onTapStart),Si(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Si(n,"dragover",this),Si(n,"dragenter",this)),nd.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ha(this,ES())}Jt.prototype={constructor:Jt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Yl=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,Ct):this.options.direction},_onTapStart:function(e){if(e.cancelable){var r=this,s=this.el,c=this.options,l=c.preventOnFilter,p=e.type,g=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,b=(g||e).target,w=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||b,C=c.filter;if(zS(s),!Ct&&!(/mousedown|pointerdown/.test(p)&&e.button!==0||c.disabled)&&!w.isContentEditable&&(b=za(b,c.draggable,s,!1),!(b&&b.animated)&&Hh!==b)){if(Jl=Pn(b),sf=Pn(b,c.draggable),typeof C=="function"){if(C.call(this,e,b,this)){eo({sortable:r,rootEl:w,name:"filter",targetEl:b,toEl:s,fromEl:s}),go("filter",r,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(C&&(C=C.split(",").some(function(k){if(k=za(w,k.trim(),s,!1),k)return eo({sortable:r,rootEl:k,name:"filter",targetEl:b,fromEl:s,toEl:s}),go("filter",r,{evt:e}),!0}),C)){l&&e.cancelable&&e.preventDefault();return}c.handle&&!za(w,c.handle,s,!1)||this._prepareDragStart(e,g,b)}}},_prepareDragStart:function(e,r,s){var c=this,l=c.el,p=c.options,g=l.ownerDocument,b;if(s&&!Ct&&s.parentNode===l){var w=On(s);if(xn=l,Ct=s,Kn=Ct.parentNode,sl=Ct.nextSibling,Hh=s,Eh=p.group,Jt.dragged=Ct,nl={target:Ct,clientX:(r||e).clientX,clientY:(r||e).clientY},G0=nl.clientX-w.left,X0=nl.clientY-w.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,Ct.style["will-change"]="all",b=function(){if(go("delayEnded",c,{evt:e}),Jt.eventCanceled){c._onDrop();return}c._disableDelayedDragEvents(),!U0&&c.nativeDraggable&&(Ct.draggable=!0),c._triggerDragStart(e,r),eo({sortable:c,name:"choose",originalEvent:e}),wn(Ct,p.chosenClass,!0)},p.ignore.split(",").forEach(function(C){rb(Ct,C.trim(),lp)}),Si(g,"dragover",rl),Si(g,"mousemove",rl),Si(g,"touchmove",rl),Si(g,"mouseup",c._onDrop),Si(g,"touchend",c._onDrop),Si(g,"touchcancel",c._onDrop),U0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ct.draggable=!0),go("delayStart",this,{evt:e}),p.delay&&(!p.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(wf||Vs))){if(Jt.eventCanceled){this._onDrop();return}Si(g,"mouseup",c._disableDelayedDrag),Si(g,"touchend",c._disableDelayedDrag),Si(g,"touchcancel",c._disableDelayedDrag),Si(g,"mousemove",c._delayedDragTouchMoveHandler),Si(g,"touchmove",c._delayedDragTouchMoveHandler),p.supportPointer&&Si(g,"pointermove",c._delayedDragTouchMoveHandler),c._dragStartTimer=setTimeout(b,p.delay)}else b()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ct&&lp(Ct),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;yi(e,"mouseup",this._disableDelayedDrag),yi(e,"touchend",this._disableDelayedDrag),yi(e,"touchcancel",this._disableDelayedDrag),yi(e,"mousemove",this._delayedDragTouchMoveHandler),yi(e,"touchmove",this._delayedDragTouchMoveHandler),yi(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?Si(document,"pointermove",this._onTouchMove):r?Si(document,"touchmove",this._onTouchMove):Si(document,"mousemove",this._onTouchMove):(Si(Ct,"dragend",this),Si(xn,"dragstart",this._onDragStart));try{document.selection?Wh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if(Ql=!1,xn&&Ct){go("dragStarted",this,{evt:r}),this.nativeDraggable&&Si(document,"dragover",MS);var s=this.options;!e&&wn(Ct,s.dragClass,!1),wn(Ct,s.ghostClass,!0),Jt.active=this,e&&this._appendGhost(),eo({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Fa){this._lastX=Fa.clientX,this._lastY=Fa.clientY,cb();for(var e=document.elementFromPoint(Fa.clientX,Fa.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Fa.clientX,Fa.clientY),e!==r);)r=e;if(Ct.parentNode[qr]._isOutsideThisEl(e),r)do{if(r[qr]){var s=void 0;if(s=r[qr]._onDragOver({clientX:Fa.clientX,clientY:Fa.clientY,target:e,rootEl:r}),s&&!this.options.dragoverBubble)break}e=r}while(r=r.parentNode);fb()}},_onTouchMove:function(e){if(nl){var r=this.options,s=r.fallbackTolerance,c=r.fallbackOffset,l=e.touches?e.touches[0]:e,p=hi&&ll(hi,!0),g=hi&&p&&p.a,b=hi&&p&&p.d,w=Th&&Wr&&j0(Wr),C=(l.clientX-nl.clientX+c.x)/(g||1)+(w?w[0]-sp[0]:0)/(g||1),k=(l.clientY-nl.clientY+c.y)/(b||1)+(w?w[1]-sp[1]:0)/(b||1);if(!Jt.active&&!Ql){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(hi){p?(p.e+=C-(op||0),p.f+=k-(ap||0)):p={a:1,b:0,c:0,d:1,e:C,f:k};var M="matrix(".concat(p.a,",").concat(p.b,",").concat(p.c,",").concat(p.d,",").concat(p.e,",").concat(p.f,")");Ut(hi,"webkitTransform",M),Ut(hi,"mozTransform",M),Ut(hi,"msTransform",M),Ut(hi,"transform",M),op=C,ap=k,Fa=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!hi){var e=this.options.fallbackOnBody?document.body:xn,r=On(Ct,!0,Th,!0,e),s=this.options;if(Th){for(Wr=e;Ut(Wr,"position")==="static"&&Ut(Wr,"transform")==="none"&&Wr!==document;)Wr=Wr.parentNode;Wr!==document.body&&Wr!==document.documentElement?(Wr===document&&(Wr=cs()),r.top+=Wr.scrollTop,r.left+=Wr.scrollLeft):Wr=cs(),sp=j0(Wr)}hi=Ct.cloneNode(!0),wn(hi,s.ghostClass,!1),wn(hi,s.fallbackClass,!0),wn(hi,s.dragClass,!0),Ut(hi,"transition",""),Ut(hi,"transform",""),Ut(hi,"box-sizing","border-box"),Ut(hi,"margin",0),Ut(hi,"top",r.top),Ut(hi,"left",r.left),Ut(hi,"width",r.width),Ut(hi,"height",r.height),Ut(hi,"opacity","0.8"),Ut(hi,"position",Th?"absolute":"fixed"),Ut(hi,"zIndex","100000"),Ut(hi,"pointerEvents","none"),Jt.ghost=hi,e.appendChild(hi),Ut(hi,"transform-origin",G0/parseInt(hi.style.width)*100+"% "+X0/parseInt(hi.style.height)*100+"%")}},_onDragStart:function(e,r){var s=this,c=e.dataTransfer,l=s.options;if(go("dragStart",this,{evt:e}),Jt.eventCanceled){this._onDrop();return}go("setupClone",this),Jt.eventCanceled||(Mn=rm(Ct),Mn.draggable=!1,Mn.style["will-change"]="",this._hideClone(),wn(Mn,this.options.chosenClass,!1),Jt.clone=Mn),s.cloneId=Wh(function(){go("clone",s),!Jt.eventCanceled&&(s.options.removeCloneOnHide||xn.insertBefore(Mn,Ct),s._hideClone(),eo({sortable:s,name:"clone"}))}),!r&&wn(Ct,l.dragClass,!0),r?(id=!0,s._loopId=setInterval(s._emulateDragOver,50)):(yi(document,"mouseup",s._onDrop),yi(document,"touchend",s._onDrop),yi(document,"touchcancel",s._onDrop),c&&(c.effectAllowed="move",l.setData&&l.setData.call(s,c,Ct)),Si(document,"drop",s),Ut(Ct,"transform","translateZ(0)")),Ql=!0,s._dragStartId=Wh(s._dragStarted.bind(s,r,e)),Si(document,"selectstart",s),tf=!0,Tp&&Ut(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,s=e.target,c,l,p,g=this.options,b=g.group,w=Jt.active,C=Eh===b,k=g.sort,M=Lr||w,G,R=this,Z=!1;if(Ap)return;function U(ve,we){go(ve,R,Mu({evt:e,isOwner:C,axis:G?"vertical":"horizontal",revert:p,dragRect:c,targetRect:l,canSort:k,fromSortable:M,target:s,completed:E,onMove:function(We,ke){return up(xn,r,Ct,c,We,On(We),e,ke)},changed:D},we))}function P(){U("dragOverAnimationCapture"),R.captureAnimationState(),R!==M&&M.captureAnimationState()}function E(ve){return U("dragOverCompleted",{insertion:ve}),ve&&(C?w._hideClone():w._showClone(R),R!==M&&(wn(Ct,Lr?Lr.options.ghostClass:w.options.ghostClass,!1),wn(Ct,g.ghostClass,!0)),Lr!==R&&R!==Jt.active?Lr=R:R===Jt.active&&Lr&&(Lr=null),M===R&&(R._ignoreWhileAnimating=s),R.animateAll(function(){U("dragOverAnimationComplete"),R._ignoreWhileAnimating=null}),R!==M&&(M.animateAll(),M._ignoreWhileAnimating=null)),(s===Ct&&!Ct.animated||s===r&&!s.animated)&&(Yl=null),!g.dragoverBubble&&!e.rootEl&&s!==document&&(Ct.parentNode[qr]._isOutsideThisEl(e.target),!ve&&rl(e)),!g.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),Z=!0}function D(){Wo=Pn(Ct),wu=Pn(Ct,g.draggable),eo({sortable:R,name:"change",toEl:r,newIndex:Wo,newDraggableIndex:wu,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=za(s,g.draggable,r,!0),U("dragOver"),Jt.eventCanceled)return Z;if(Ct.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||R._ignoreWhileAnimating===s)return E(!1);if(id=!1,w&&!g.disabled&&(C?k||(p=!xn.contains(Ct)):Lr===this||(this.lastPutMode=Eh.checkPull(this,w,Ct,e))&&b.checkPut(this,w,Ct,e))){if(G=this._getDirection(e,s)==="vertical",c=On(Ct),U("dragOverValid"),Jt.eventCanceled)return Z;if(p)return Kn=xn,P(),this._hideClone(),U("revert"),Jt.eventCanceled||(sl?xn.insertBefore(Ct,sl):xn.appendChild(Ct)),E(!0);var W=nm(r,g.draggable);if(!W||IS(e,G,this)&&!W.animated){if(W===Ct)return E(!1);if(W&&r===e.target&&(s=W),s&&(l=On(s)),up(xn,r,Ct,c,s,l,e,!!s)!==!1)return P(),r.appendChild(Ct),Kn=r,D(),E(!0)}else if(s.parentNode===r){l=On(s);var B=0,H,j=Ct.parentNode!==r,ee=!LS(Ct.animated&&Ct.toRect||c,s.animated&&s.toRect||l,G),fe=G?"top":"left",me=q0(s,"top","top")||q0(Ct,"top","top"),ue=me?me.scrollTop:void 0;Yl!==s&&(H=l[fe],lf=!1,Sh=!ee&&g.invertSwap||j),B=FS(e,s,l,G,ee?1:g.swapThreshold,g.invertedSwapThreshold==null?g.swapThreshold:g.invertedSwapThreshold,Sh,Yl===s);var De;if(B!==0){var be=Pn(Ct);do be-=B,De=Kn.children[be];while(De&&(Ut(De,"display")==="none"||De===hi))}if(B===0||De===s)return E(!1);Yl=s,uf=B;var te=s.nextElementSibling,T=!1;T=B===1;var se=up(xn,r,Ct,c,s,l,e,T);if(se!==!1)return(se===1||se===-1)&&(T=se===1),Ap=!0,setTimeout(OS,30),P(),T&&!te?r.appendChild(Ct):s.parentNode.insertBefore(Ct,T?te:s),me&&ab(me,0,ue-me.scrollTop),Kn=Ct.parentNode,H!==void 0&&!Sh&&(Uh=Math.abs(H-On(s)[fe])),D(),E(!0)}if(r.contains(Ct))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){yi(document,"mousemove",this._onTouchMove),yi(document,"touchmove",this._onTouchMove),yi(document,"pointermove",this._onTouchMove),yi(document,"dragover",rl),yi(document,"mousemove",rl),yi(document,"touchmove",rl)},_offUpEvents:function(){var e=this.el.ownerDocument;yi(e,"mouseup",this._onDrop),yi(e,"touchend",this._onDrop),yi(e,"pointerup",this._onDrop),yi(e,"touchcancel",this._onDrop),yi(document,"selectstart",this)},_onDrop:function(e){var r=this.el,s=this.options;if(Wo=Pn(Ct),wu=Pn(Ct,s.draggable),go("drop",this,{evt:e}),Kn=Ct&&Ct.parentNode,Wo=Pn(Ct),wu=Pn(Ct,s.draggable),Jt.eventCanceled){this._nulling();return}Ql=!1,Sh=!1,lf=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Lp(this.cloneId),Lp(this._dragStartId),this.nativeDraggable&&(yi(document,"drop",this),yi(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Tp&&Ut(document.body,"user-select",""),Ut(Ct,"transform",""),e&&(tf&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),hi&&hi.parentNode&&hi.parentNode.removeChild(hi),(xn===Kn||Lr&&Lr.lastPutMode!=="clone")&&Mn&&Mn.parentNode&&Mn.parentNode.removeChild(Mn),Ct&&(this.nativeDraggable&&yi(Ct,"dragend",this),lp(Ct),Ct.style["will-change"]="",tf&&!Ql&&wn(Ct,Lr?Lr.options.ghostClass:this.options.ghostClass,!1),wn(Ct,this.options.chosenClass,!1),eo({sortable:this,name:"unchoose",toEl:Kn,newIndex:null,newDraggableIndex:null,originalEvent:e}),xn!==Kn?(Wo>=0&&(eo({rootEl:Kn,name:"add",toEl:Kn,fromEl:xn,originalEvent:e}),eo({sortable:this,name:"remove",toEl:Kn,originalEvent:e}),eo({rootEl:Kn,name:"sort",toEl:Kn,fromEl:xn,originalEvent:e}),eo({sortable:this,name:"sort",toEl:Kn,originalEvent:e})),Lr&&Lr.save()):Wo!==Jl&&Wo>=0&&(eo({sortable:this,name:"update",toEl:Kn,originalEvent:e}),eo({sortable:this,name:"sort",toEl:Kn,originalEvent:e})),Jt.active&&((Wo==null||Wo===-1)&&(Wo=Jl,wu=sf),eo({sortable:this,name:"end",toEl:Kn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){go("nulling",this),xn=Ct=Kn=hi=sl=Mn=Hh=Cu=nl=Fa=tf=Wo=wu=Jl=sf=Yl=uf=Lr=Eh=Jt.dragged=Jt.ghost=Jt.clone=Jt.active=null,rd.forEach(function(e){e.checked=!0}),rd.length=op=ap=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ct&&(this._onDragOver(e),PS(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,s=this.el.children,c=0,l=s.length,p=this.options;c<l;c++)r=s[c],za(r,p.draggable,this.el,!1)&&e.push(r.getAttribute(p.dataIdAttr)||NS(r));return e},sort:function(e){var r={},s=this.el;this.toArray().forEach(function(c,l){var p=s.children[l];za(p,this.options.draggable,s,!1)&&(r[c]=p)},this),e.forEach(function(c){r[c]&&(s.removeChild(r[c]),s.appendChild(r[c]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return za(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var s=this.options;if(r===void 0)return s[e];var c=kf.modifyOption(this,e,r);typeof c<"u"?s[e]=c:s[e]=r,e==="group"&&lb(s)},destroy:function(){go("destroy",this);var e=this.el;e[qr]=null,yi(e,"mousedown",this._onTapStart),yi(e,"touchstart",this._onTapStart),yi(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(yi(e,"dragover",this),yi(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nd.splice(nd.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Cu){if(go("hideClone",this),Jt.eventCanceled)return;Ut(Mn,"display","none"),this.options.removeCloneOnHide&&Mn.parentNode&&Mn.parentNode.removeChild(Mn),Cu=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Cu){if(go("showClone",this),Jt.eventCanceled)return;xn.contains(Ct)&&!this.options.group.revertClone?xn.insertBefore(Mn,Ct):sl?xn.insertBefore(Mn,sl):xn.appendChild(Mn),this.options.group.revertClone&&this.animate(Ct,Mn),Ut(Mn,"display",""),Cu=!1}}};function PS(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function up(n,e,r,s,c,l,p,g){var b,w=n[qr],C=w.options.onMove,k;return window.CustomEvent&&!Vs&&!wf?b=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent("move",!0,!0)),b.to=e,b.from=n,b.dragged=r,b.draggedRect=s,b.related=c||e,b.relatedRect=l||On(e),b.willInsertAfter=g,b.originalEvent=p,n.dispatchEvent(b),C&&(k=C.call(w,b,p)),k}function lp(n){n.draggable=!1}function OS(){Ap=!1}function IS(n,e,r){var s=On(nm(r.el,r.options.draggable)),c=10;return e?n.clientX>s.right+c||n.clientX<=s.right&&n.clientY>s.bottom&&n.clientX>=s.left:n.clientX>s.right&&n.clientY>s.top||n.clientX<=s.right&&n.clientY>s.bottom+c}function FS(n,e,r,s,c,l,p,g){var b=s?n.clientY:n.clientX,w=s?r.height:r.width,C=s?r.top:r.left,k=s?r.bottom:r.right,M=!1;if(!p){if(g&&Uh<w*c){if(!lf&&(uf===1?b>C+w*l/2:b<k-w*l/2)&&(lf=!0),lf)M=!0;else if(uf===1?b<C+Uh:b>k-Uh)return-uf}else if(b>C+w*(1-c)/2&&b<k-w*(1-c)/2)return RS(e)}return M=M||p,M&&(b<C+w*l/2||b>k-w*l/2)?b>C+w/2?1:-1:0}function RS(n){return Pn(Ct)<Pn(n)?1:-1}function NS(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,r=e.length,s=0;r--;)s+=e.charCodeAt(r);return s.toString(36)}function zS(n){rd.length=0;for(var e=n.getElementsByTagName("input"),r=e.length;r--;){var s=e[r];s.checked&&rd.push(s)}}function Wh(n){return setTimeout(n,0)}function Lp(n){return clearTimeout(n)}hd&&Si(document,"touchmove",function(n){(Jt.active||Ql)&&n.cancelable&&n.preventDefault()});Jt.utils={on:Si,off:yi,css:Ut,find:rb,is:function(e,r){return!!za(e,r,e,!1)},extend:kS,throttle:ob,closest:za,toggleClass:wn,clone:rm,index:Pn,nextTick:Wh,cancelNextTick:Lp,detectDirection:ub,getChild:td};Jt.get=function(n){return n[qr]};Jt.mount=function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Jt.utils=Mu({},Jt.utils,s.utils)),kf.mount(s)})};Jt.create=function(n,e){return new Jt(n,e)};Jt.version=_S;var $n=[],nf,Dp,Mp=!1,cp,fp,od,rf;function BS(){function n(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(r){var s=r.originalEvent;this.sortable.nativeDraggable?Si(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Si(document,"pointermove",this._handleFallbackAutoScroll):s.touches?Si(document,"touchmove",this._handleFallbackAutoScroll):Si(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var s=r.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?yi(document,"dragover",this._handleAutoScroll):(yi(document,"pointermove",this._handleFallbackAutoScroll),yi(document,"touchmove",this._handleFallbackAutoScroll),yi(document,"mousemove",this._handleFallbackAutoScroll)),V0(),qh(),CS()},nulling:function(){od=Dp=nf=Mp=rf=cp=fp=null,$n.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,s){var c=this,l=(r.touches?r.touches[0]:r).clientX,p=(r.touches?r.touches[0]:r).clientY,g=document.elementFromPoint(l,p);if(od=r,s||wf||Vs||Tp){hp(r,this.options,g,s);var b=Su(g,!0);Mp&&(!rf||l!==cp||p!==fp)&&(rf&&V0(),rf=setInterval(function(){var w=Su(document.elementFromPoint(l,p),!0);w!==b&&(b=w,qh()),hp(r,c.options,w,s)},10),cp=l,fp=p)}else{if(!this.options.bubbleScroll||Su(g,!0)===cs()){qh();return}hp(r,this.options,Su(g,!1),!1)}}},ha(n,{pluginName:"scroll",initializeByDefault:!0})}function qh(){$n.forEach(function(n){clearInterval(n.pid)}),$n=[]}function V0(){clearInterval(rf)}var hp=ob(function(n,e,r,s){if(e.scroll){var c=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,p=e.scrollSensitivity,g=e.scrollSpeed,b=cs(),w=!1,C;Dp!==r&&(Dp=r,qh(),nf=e.scroll,C=e.scrollFn,nf===!0&&(nf=Su(r,!0)));var k=0,M=nf;do{var G=M,R=On(G),Z=R.top,U=R.bottom,P=R.left,E=R.right,D=R.width,W=R.height,B=void 0,H=void 0,j=G.scrollWidth,ee=G.scrollHeight,fe=Ut(G),me=G.scrollLeft,ue=G.scrollTop;G===b?(B=D<j&&(fe.overflowX==="auto"||fe.overflowX==="scroll"||fe.overflowX==="visible"),H=W<ee&&(fe.overflowY==="auto"||fe.overflowY==="scroll"||fe.overflowY==="visible")):(B=D<j&&(fe.overflowX==="auto"||fe.overflowX==="scroll"),H=W<ee&&(fe.overflowY==="auto"||fe.overflowY==="scroll"));var De=B&&(Math.abs(E-c)<=p&&me+D<j)-(Math.abs(P-c)<=p&&!!me),be=H&&(Math.abs(U-l)<=p&&ue+W<ee)-(Math.abs(Z-l)<=p&&!!ue);if(!$n[k])for(var te=0;te<=k;te++)$n[te]||($n[te]={});($n[k].vx!=De||$n[k].vy!=be||$n[k].el!==G)&&($n[k].el=G,$n[k].vx=De,$n[k].vy=be,clearInterval($n[k].pid),(De!=0||be!=0)&&(w=!0,$n[k].pid=setInterval((function(){s&&this.layer===0&&Jt.active._onTouchMove(od);var T=$n[this.layer].vy?$n[this.layer].vy*g:0,se=$n[this.layer].vx?$n[this.layer].vx*g:0;typeof C=="function"&&C.call(Jt.dragged.parentNode[qr],se,T,n,od,$n[this.layer].el)!=="continue"||ab($n[this.layer].el,se,T)}).bind({layer:k}),24))),k++}while(e.bubbleScroll&&M!==b&&(M=Su(M,!1)));Mp=w}},30),hb=function(e){var r=e.originalEvent,s=e.putSortable,c=e.dragEl,l=e.activeSortable,p=e.dispatchSortableEvent,g=e.hideGhostForTarget,b=e.unhideGhostForTarget;if(r){var w=s||l;g();var C=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,k=document.elementFromPoint(C.clientX,C.clientY);b(),w&&!w.el.contains(k)&&(p("spill"),this.onSpill({dragEl:c,putSortable:s}))}};function om(){}om.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var c=td(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(r,c):this.sortable.el.appendChild(r),this.sortable.animateAll(),s&&s.animateAll()},drop:hb};ha(om,{pluginName:"revertOnSpill"});function am(){}am.prototype={onSpill:function(e){var r=e.dragEl,s=e.putSortable,c=s||this.sortable;c.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),c.animateAll()},drop:hb};ha(am,{pluginName:"removeOnSpill"});var la;function HS(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(r){var s=r.dragEl;la=s},dragOverValid:function(r){var s=r.completed,c=r.target,l=r.onMove,p=r.activeSortable,g=r.changed,b=r.cancel;if(p.options.swap){var w=this.sortable.el,C=this.options;if(c&&c!==w){var k=la;l(c)!==!1?(wn(c,C.swapClass,!0),la=c):la=null,k&&k!==la&&wn(k,C.swapClass,!1)}g(),s(!0),b()}},drop:function(r){var s=r.activeSortable,c=r.putSortable,l=r.dragEl,p=c||this.sortable,g=this.options;la&&wn(la,g.swapClass,!1),la&&(g.swap||c&&c.options.swap)&&l!==la&&(p.captureAnimationState(),p!==s&&s.captureAnimationState(),US(l,la),p.animateAll(),p!==s&&s.animateAll())},nulling:function(){la=null}},ha(n,{pluginName:"swap",eventProperties:function(){return{swapItem:la}}})}function US(n,e){var r=n.parentNode,s=e.parentNode,c,l;!r||!s||r.isEqualNode(e)||s.isEqualNode(n)||(c=Pn(n),l=Pn(e),r.isEqualNode(s)&&c<l&&l++,r.insertBefore(e,r.children[c]),s.insertBefore(n,s.children[l]))}var ui=[],Uo=[],Zc,Ra,Gc=!1,Ho=!1,Vl=!1,nn,Xc,Ah;function WS(){function n(e){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));e.options.supportPointer?Si(document,"pointerup",this._deselectMultiDrag):(Si(document,"mouseup",this._deselectMultiDrag),Si(document,"touchend",this._deselectMultiDrag)),Si(document,"keydown",this._checkKeyDown),Si(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(c,l){var p="";ui.length&&Ra===e?ui.forEach(function(g,b){p+=(b?", ":"")+g.textContent}):p=l.textContent,c.setData("Text",p)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var s=r.dragEl;nn=s},delayEnded:function(){this.isMultiDrag=~ui.indexOf(nn)},setupClone:function(r){var s=r.sortable,c=r.cancel;if(this.isMultiDrag){for(var l=0;l<ui.length;l++)Uo.push(rm(ui[l])),Uo[l].sortableIndex=ui[l].sortableIndex,Uo[l].draggable=!1,Uo[l].style["will-change"]="",wn(Uo[l],this.options.selectedClass,!1),ui[l]===nn&&wn(Uo[l],this.options.chosenClass,!1);s._hideClone(),c()}},clone:function(r){var s=r.sortable,c=r.rootEl,l=r.dispatchSortableEvent,p=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ui.length&&Ra===s&&(K0(!0,c),l("clone"),p()))},showClone:function(r){var s=r.cloneNowShown,c=r.rootEl,l=r.cancel;this.isMultiDrag&&(K0(!1,c),Uo.forEach(function(p){Ut(p,"display","")}),s(),Ah=!1,l())},hideClone:function(r){var s=this;r.sortable;var c=r.cloneNowHidden,l=r.cancel;this.isMultiDrag&&(Uo.forEach(function(p){Ut(p,"display","none"),s.options.removeCloneOnHide&&p.parentNode&&p.parentNode.removeChild(p)}),c(),Ah=!0,l())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&Ra&&Ra.multiDrag._deselectMultiDrag(),ui.forEach(function(s){s.sortableIndex=Pn(s)}),ui=ui.sort(function(s,c){return s.sortableIndex-c.sortableIndex}),Vl=!0},dragStarted:function(r){var s=this,c=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(c.captureAnimationState(),this.options.animation)){ui.forEach(function(p){p!==nn&&Ut(p,"position","absolute")});var l=On(nn,!1,!0,!0);ui.forEach(function(p){p!==nn&&Z0(p,l)}),Ho=!0,Gc=!0}c.animateAll(function(){Ho=!1,Gc=!1,s.options.animation&&ui.forEach(function(p){np(p)}),s.options.sort&&Lh()})}},dragOver:function(r){var s=r.target,c=r.completed,l=r.cancel;Ho&&~ui.indexOf(s)&&(c(!1),l())},revert:function(r){var s=r.fromSortable,c=r.rootEl,l=r.sortable,p=r.dragRect;ui.length>1&&(ui.forEach(function(g){l.addAnimationState({target:g,rect:Ho?On(g):p}),np(g),g.fromRect=p,s.removeAnimationState(g)}),Ho=!1,qS(!this.options.removeCloneOnHide,c))},dragOverCompleted:function(r){var s=r.sortable,c=r.isOwner,l=r.insertion,p=r.activeSortable,g=r.parentEl,b=r.putSortable,w=this.options;if(l){if(c&&p._hideClone(),Gc=!1,w.animation&&ui.length>1&&(Ho||!c&&!p.options.sort&&!b)){var C=On(nn,!1,!0,!0);ui.forEach(function(M){M!==nn&&(Z0(M,C),g.appendChild(M))}),Ho=!0}if(!c)if(Ho||Lh(),ui.length>1){var k=Ah;p._showClone(s),p.options.animation&&!Ah&&k&&Uo.forEach(function(M){p.addAnimationState({target:M,rect:Xc}),M.fromRect=Xc,M.thisAnimationDuration=null})}else p._showClone(s)}},dragOverAnimationCapture:function(r){var s=r.dragRect,c=r.isOwner,l=r.activeSortable;if(ui.forEach(function(g){g.thisAnimationDuration=null}),l.options.animation&&!c&&l.multiDrag.isMultiDrag){Xc=ha({},s);var p=ll(nn,!0);Xc.top-=p.f,Xc.left-=p.e}},dragOverAnimationComplete:function(){Ho&&(Ho=!1,Lh())},drop:function(r){var s=r.originalEvent,c=r.rootEl,l=r.parentEl,p=r.sortable,g=r.dispatchSortableEvent,b=r.oldIndex,w=r.putSortable,C=w||this.sortable;if(s){var k=this.options,M=l.children;if(!Vl)if(k.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),wn(nn,k.selectedClass,!~ui.indexOf(nn)),~ui.indexOf(nn))ui.splice(ui.indexOf(nn),1),Zc=null,ef({sortable:p,rootEl:c,name:"deselect",targetEl:nn});else{if(ui.push(nn),ef({sortable:p,rootEl:c,name:"select",targetEl:nn}),s.shiftKey&&Zc&&p.el.contains(Zc)){var G=Pn(Zc),R=Pn(nn);if(~G&&~R&&G!==R){var Z,U;for(R>G?(U=G,Z=R):(U=R,Z=G+1);U<Z;U++)~ui.indexOf(M[U])||(wn(M[U],k.selectedClass,!0),ui.push(M[U]),ef({sortable:p,rootEl:c,name:"select",targetEl:M[U]}))}}else Zc=nn;Ra=C}if(Vl&&this.isMultiDrag){if((l[qr].options.sort||l!==c)&&ui.length>1){var P=On(nn),E=Pn(nn,":not(."+this.options.selectedClass+")");if(!Gc&&k.animation&&(nn.thisAnimationDuration=null),C.captureAnimationState(),!Gc&&(k.animation&&(nn.fromRect=P,ui.forEach(function(W){if(W.thisAnimationDuration=null,W!==nn){var B=Ho?On(W):P;W.fromRect=B,C.addAnimationState({target:W,rect:B})}})),Lh(),ui.forEach(function(W){M[E]?l.insertBefore(W,M[E]):l.appendChild(W),E++}),b===Pn(nn))){var D=!1;ui.forEach(function(W){if(W.sortableIndex!==Pn(W)){D=!0;return}}),D&&g("update")}ui.forEach(function(W){np(W)}),C.animateAll()}Ra=C}(c===l||w&&w.lastPutMode!=="clone")&&Uo.forEach(function(W){W.parentNode&&W.parentNode.removeChild(W)})}},nullingGlobal:function(){this.isMultiDrag=Vl=!1,Uo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),yi(document,"pointerup",this._deselectMultiDrag),yi(document,"mouseup",this._deselectMultiDrag),yi(document,"touchend",this._deselectMultiDrag),yi(document,"keydown",this._checkKeyDown),yi(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Vl<"u"&&Vl)&&Ra===this.sortable&&!(r&&za(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;ui.length;){var s=ui[0];wn(s,this.options.selectedClass,!1),ui.shift(),ef({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ha(n,{pluginName:"multiDrag",utils:{select:function(r){var s=r.parentNode[qr];!s||!s.options.multiDrag||~ui.indexOf(r)||(Ra&&Ra!==s&&(Ra.multiDrag._deselectMultiDrag(),Ra=s),wn(r,s.options.selectedClass,!0),ui.push(r))},deselect:function(r){var s=r.parentNode[qr],c=ui.indexOf(r);!s||!s.options.multiDrag||!~c||(wn(r,s.options.selectedClass,!1),ui.splice(c,1))}},eventProperties:function(){var r=this,s=[],c=[];return ui.forEach(function(l){s.push({multiDragElement:l,index:l.sortableIndex});var p;Ho&&l!==nn?p=-1:Ho?p=Pn(l,":not(."+r.options.selectedClass+")"):p=Pn(l),c.push({multiDragElement:l,index:p})}),{items:mS(ui),clones:[].concat(Uo),oldIndicies:s,newIndicies:c}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function qS(n,e){ui.forEach(function(r,s){var c=e.children[r.sortableIndex+(n?Number(s):0)];c?e.insertBefore(r,c):e.appendChild(r)})}function K0(n,e){Uo.forEach(function(r,s){var c=e.children[r.sortableIndex+(n?Number(s):0)];c?e.insertBefore(r,c):e.appendChild(r)})}function Lh(){ui.forEach(function(n){n!==nn&&n.parentNode&&n.parentNode.removeChild(n)})}Jt.mount(new BS);Jt.mount(am,om);const jS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:WS,Sortable:Jt,Swap:HS,default:Jt},Symbol.toStringTag,{value:"Module"})),ZS=xg(jS);var GS=zh.exports,$0;function XS(){return $0||($0=1,function(n,e){(function(s,c){n.exports=c(ZS)})(typeof self<"u"?self:GS,function(r){return function(s){var c={};function l(p){if(c[p])return c[p].exports;var g=c[p]={i:p,l:!1,exports:{}};return s[p].call(g.exports,g,g.exports,l),g.l=!0,g.exports}return l.m=s,l.c=c,l.d=function(p,g,b){l.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:b})},l.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},l.t=function(p,g){if(g&1&&(p=l(p)),g&8||g&4&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(l.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),g&2&&typeof p!="string")for(var w in p)l.d(b,w,(function(C){return p[C]}).bind(null,w));return b},l.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return l.d(g,"a",g),g},l.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},l.p="",l(l.s="fb15")}({"01f9":function(s,c,l){var p=l("2d00"),g=l("5ca1"),b=l("2aba"),w=l("32e9"),C=l("84f2"),k=l("41a0"),M=l("7f20"),G=l("38fd"),R=l("2b4c")("iterator"),Z=!([].keys&&"next"in[].keys()),U="@@iterator",P="keys",E="values",D=function(){return this};s.exports=function(W,B,H,j,ee,fe,me){k(H,B,j);var ue=function(F){if(!Z&&F in T)return T[F];switch(F){case P:return function(){return new H(this,F)};case E:return function(){return new H(this,F)}}return function(){return new H(this,F)}},De=B+" Iterator",be=ee==E,te=!1,T=W.prototype,se=T[R]||T[U]||ee&&T[ee],ve=se||ue(ee),we=ee?be?ue("entries"):ve:void 0,Ve=B=="Array"&&T.entries||se,We,ke,K;if(Ve&&(K=G(Ve.call(new W)),K!==Object.prototype&&K.next&&(M(K,De,!0),!p&&typeof K[R]!="function"&&w(K,R,D))),be&&se&&se.name!==E&&(te=!0,ve=function(){return se.call(this)}),(!p||me)&&(Z||te||!T[R])&&w(T,R,ve),C[B]=ve,C[De]=D,ee)if(We={values:be?ve:ue(E),keys:fe?ve:ue(P),entries:we},me)for(ke in We)ke in T||b(T,ke,We[ke]);else g(g.P+g.F*(Z||te),B,We);return We}},"02f4":function(s,c,l){var p=l("4588"),g=l("be13");s.exports=function(b){return function(w,C){var k=String(g(w)),M=p(C),G=k.length,R,Z;return M<0||M>=G?b?"":void 0:(R=k.charCodeAt(M),R<55296||R>56319||M+1===G||(Z=k.charCodeAt(M+1))<56320||Z>57343?b?k.charAt(M):R:b?k.slice(M,M+2):(R-55296<<10)+(Z-56320)+65536)}}},"0390":function(s,c,l){var p=l("02f4")(!0);s.exports=function(g,b,w){return b+(w?p(g,b).length:1)}},"0bfb":function(s,c,l){var p=l("cb7c");s.exports=function(){var g=p(this),b="";return g.global&&(b+="g"),g.ignoreCase&&(b+="i"),g.multiline&&(b+="m"),g.unicode&&(b+="u"),g.sticky&&(b+="y"),b}},"0d58":function(s,c,l){var p=l("ce10"),g=l("e11e");s.exports=Object.keys||function(w){return p(w,g)}},1495:function(s,c,l){var p=l("86cc"),g=l("cb7c"),b=l("0d58");s.exports=l("9e1e")?Object.defineProperties:function(C,k){g(C);for(var M=b(k),G=M.length,R=0,Z;G>R;)p.f(C,Z=M[R++],k[Z]);return C}},"214f":function(s,c,l){l("b0c5");var p=l("2aba"),g=l("32e9"),b=l("79e5"),w=l("be13"),C=l("2b4c"),k=l("520a"),M=C("species"),G=!b(function(){var Z=/./;return Z.exec=function(){var U=[];return U.groups={a:"7"},U},"".replace(Z,"$<a>")!=="7"}),R=function(){var Z=/(?:)/,U=Z.exec;Z.exec=function(){return U.apply(this,arguments)};var P="ab".split(Z);return P.length===2&&P[0]==="a"&&P[1]==="b"}();s.exports=function(Z,U,P){var E=C(Z),D=!b(function(){var fe={};return fe[E]=function(){return 7},""[Z](fe)!=7}),W=D?!b(function(){var fe=!1,me=/a/;return me.exec=function(){return fe=!0,null},Z==="split"&&(me.constructor={},me.constructor[M]=function(){return me}),me[E](""),!fe}):void 0;if(!D||!W||Z==="replace"&&!G||Z==="split"&&!R){var B=/./[E],H=P(w,E,""[Z],function(me,ue,De,be,te){return ue.exec===k?D&&!te?{done:!0,value:B.call(ue,De,be)}:{done:!0,value:me.call(De,ue,be)}:{done:!1}}),j=H[0],ee=H[1];p(String.prototype,Z,j),g(RegExp.prototype,E,U==2?function(fe,me){return ee.call(fe,this,me)}:function(fe){return ee.call(fe,this)})}}},"230e":function(s,c,l){var p=l("d3f4"),g=l("7726").document,b=p(g)&&p(g.createElement);s.exports=function(w){return b?g.createElement(w):{}}},"23c6":function(s,c,l){var p=l("2d95"),g=l("2b4c")("toStringTag"),b=p(function(){return arguments}())=="Arguments",w=function(C,k){try{return C[k]}catch{}};s.exports=function(C){var k,M,G;return C===void 0?"Undefined":C===null?"Null":typeof(M=w(k=Object(C),g))=="string"?M:b?p(k):(G=p(k))=="Object"&&typeof k.callee=="function"?"Arguments":G}},2621:function(s,c){c.f=Object.getOwnPropertySymbols},"2aba":function(s,c,l){var p=l("7726"),g=l("32e9"),b=l("69a8"),w=l("ca5a")("src"),C=l("fa5b"),k="toString",M=(""+C).split(k);l("8378").inspectSource=function(G){return C.call(G)},(s.exports=function(G,R,Z,U){var P=typeof Z=="function";P&&(b(Z,"name")||g(Z,"name",R)),G[R]!==Z&&(P&&(b(Z,w)||g(Z,w,G[R]?""+G[R]:M.join(String(R)))),G===p?G[R]=Z:U?G[R]?G[R]=Z:g(G,R,Z):(delete G[R],g(G,R,Z)))})(Function.prototype,k,function(){return typeof this=="function"&&this[w]||C.call(this)})},"2aeb":function(s,c,l){var p=l("cb7c"),g=l("1495"),b=l("e11e"),w=l("613b")("IE_PROTO"),C=function(){},k="prototype",M=function(){var G=l("230e")("iframe"),R=b.length,Z="<",U=">",P;for(G.style.display="none",l("fab2").appendChild(G),G.src="javascript:",P=G.contentWindow.document,P.open(),P.write(Z+"script"+U+"document.F=Object"+Z+"/script"+U),P.close(),M=P.F;R--;)delete M[k][b[R]];return M()};s.exports=Object.create||function(R,Z){var U;return R!==null?(C[k]=p(R),U=new C,C[k]=null,U[w]=R):U=M(),Z===void 0?U:g(U,Z)}},"2b4c":function(s,c,l){var p=l("5537")("wks"),g=l("ca5a"),b=l("7726").Symbol,w=typeof b=="function",C=s.exports=function(k){return p[k]||(p[k]=w&&b[k]||(w?b:g)("Symbol."+k))};C.store=p},"2d00":function(s,c){s.exports=!1},"2d95":function(s,c){var l={}.toString;s.exports=function(p){return l.call(p).slice(8,-1)}},"2fdb":function(s,c,l){var p=l("5ca1"),g=l("d2c8"),b="includes";p(p.P+p.F*l("5147")(b),"String",{includes:function(C){return!!~g(this,C,b).indexOf(C,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(s,c,l){var p=l("86cc"),g=l("4630");s.exports=l("9e1e")?function(b,w,C){return p.f(b,w,g(1,C))}:function(b,w,C){return b[w]=C,b}},"38fd":function(s,c,l){var p=l("69a8"),g=l("4bf8"),b=l("613b")("IE_PROTO"),w=Object.prototype;s.exports=Object.getPrototypeOf||function(C){return C=g(C),p(C,b)?C[b]:typeof C.constructor=="function"&&C instanceof C.constructor?C.constructor.prototype:C instanceof Object?w:null}},"41a0":function(s,c,l){var p=l("2aeb"),g=l("4630"),b=l("7f20"),w={};l("32e9")(w,l("2b4c")("iterator"),function(){return this}),s.exports=function(C,k,M){C.prototype=p(w,{next:g(1,M)}),b(C,k+" Iterator")}},"456d":function(s,c,l){var p=l("4bf8"),g=l("0d58");l("5eda")("keys",function(){return function(w){return g(p(w))}})},4588:function(s,c){var l=Math.ceil,p=Math.floor;s.exports=function(g){return isNaN(g=+g)?0:(g>0?p:l)(g)}},4630:function(s,c){s.exports=function(l,p){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:p}}},"4bf8":function(s,c,l){var p=l("be13");s.exports=function(g){return Object(p(g))}},5147:function(s,c,l){var p=l("2b4c")("match");s.exports=function(g){var b=/./;try{"/./"[g](b)}catch{try{return b[p]=!1,!"/./"[g](b)}catch{}}return!0}},"520a":function(s,c,l){var p=l("0bfb"),g=RegExp.prototype.exec,b=String.prototype.replace,w=g,C="lastIndex",k=function(){var R=/a/,Z=/b*/g;return g.call(R,"a"),g.call(Z,"a"),R[C]!==0||Z[C]!==0}(),M=/()??/.exec("")[1]!==void 0,G=k||M;G&&(w=function(Z){var U=this,P,E,D,W;return M&&(E=new RegExp("^"+U.source+"$(?!\\s)",p.call(U))),k&&(P=U[C]),D=g.call(U,Z),k&&D&&(U[C]=U.global?D.index+D[0].length:P),M&&D&&D.length>1&&b.call(D[0],E,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(D[W]=void 0)}),D}),s.exports=w},"52a7":function(s,c){c.f={}.propertyIsEnumerable},5537:function(s,c,l){var p=l("8378"),g=l("7726"),b="__core-js_shared__",w=g[b]||(g[b]={});(s.exports=function(C,k){return w[C]||(w[C]=k!==void 0?k:{})})("versions",[]).push({version:p.version,mode:l("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(s,c,l){var p=l("7726"),g=l("8378"),b=l("32e9"),w=l("2aba"),C=l("9b43"),k="prototype",M=function(G,R,Z){var U=G&M.F,P=G&M.G,E=G&M.S,D=G&M.P,W=G&M.B,B=P?p:E?p[R]||(p[R]={}):(p[R]||{})[k],H=P?g:g[R]||(g[R]={}),j=H[k]||(H[k]={}),ee,fe,me,ue;P&&(Z=R);for(ee in Z)fe=!U&&B&&B[ee]!==void 0,me=(fe?B:Z)[ee],ue=W&&fe?C(me,p):D&&typeof me=="function"?C(Function.call,me):me,B&&w(B,ee,me,G&M.U),H[ee]!=me&&b(H,ee,ue),D&&j[ee]!=me&&(j[ee]=me)};p.core=g,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128,s.exports=M},"5eda":function(s,c,l){var p=l("5ca1"),g=l("8378"),b=l("79e5");s.exports=function(w,C){var k=(g.Object||{})[w]||Object[w],M={};M[w]=C(k),p(p.S+p.F*b(function(){k(1)}),"Object",M)}},"5f1b":function(s,c,l){var p=l("23c6"),g=RegExp.prototype.exec;s.exports=function(b,w){var C=b.exec;if(typeof C=="function"){var k=C.call(b,w);if(typeof k!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return k}if(p(b)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return g.call(b,w)}},"613b":function(s,c,l){var p=l("5537")("keys"),g=l("ca5a");s.exports=function(b){return p[b]||(p[b]=g(b))}},"626a":function(s,c,l){var p=l("2d95");s.exports=Object("z").propertyIsEnumerable(0)?Object:function(g){return p(g)=="String"?g.split(""):Object(g)}},6762:function(s,c,l){var p=l("5ca1"),g=l("c366")(!0);p(p.P,"Array",{includes:function(w){return g(this,w,arguments.length>1?arguments[1]:void 0)}}),l("9c6c")("includes")},6821:function(s,c,l){var p=l("626a"),g=l("be13");s.exports=function(b){return p(g(b))}},"69a8":function(s,c){var l={}.hasOwnProperty;s.exports=function(p,g){return l.call(p,g)}},"6a99":function(s,c,l){var p=l("d3f4");s.exports=function(g,b){if(!p(g))return g;var w,C;if(b&&typeof(w=g.toString)=="function"&&!p(C=w.call(g))||typeof(w=g.valueOf)=="function"&&!p(C=w.call(g))||!b&&typeof(w=g.toString)=="function"&&!p(C=w.call(g)))return C;throw TypeError("Can't convert object to primitive value")}},7333:function(s,c,l){var p=l("0d58"),g=l("2621"),b=l("52a7"),w=l("4bf8"),C=l("626a"),k=Object.assign;s.exports=!k||l("79e5")(function(){var M={},G={},R=Symbol(),Z="abcdefghijklmnopqrst";return M[R]=7,Z.split("").forEach(function(U){G[U]=U}),k({},M)[R]!=7||Object.keys(k({},G)).join("")!=Z})?function(G,R){for(var Z=w(G),U=arguments.length,P=1,E=g.f,D=b.f;U>P;)for(var W=C(arguments[P++]),B=E?p(W).concat(E(W)):p(W),H=B.length,j=0,ee;H>j;)D.call(W,ee=B[j++])&&(Z[ee]=W[ee]);return Z}:k},7726:function(s,c){var l=s.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=l)},"77f1":function(s,c,l){var p=l("4588"),g=Math.max,b=Math.min;s.exports=function(w,C){return w=p(w),w<0?g(w+C,0):b(w,C)}},"79e5":function(s,c){s.exports=function(l){try{return!!l()}catch{return!0}}},"7f20":function(s,c,l){var p=l("86cc").f,g=l("69a8"),b=l("2b4c")("toStringTag");s.exports=function(w,C,k){w&&!g(w=k?w:w.prototype,b)&&p(w,b,{configurable:!0,value:C})}},8378:function(s,c){var l=s.exports={version:"2.6.5"};typeof __e=="number"&&(__e=l)},"84f2":function(s,c){s.exports={}},"86cc":function(s,c,l){var p=l("cb7c"),g=l("c69a"),b=l("6a99"),w=Object.defineProperty;c.f=l("9e1e")?Object.defineProperty:function(k,M,G){if(p(k),M=b(M,!0),p(G),g)try{return w(k,M,G)}catch{}if("get"in G||"set"in G)throw TypeError("Accessors not supported!");return"value"in G&&(k[M]=G.value),k}},"9b43":function(s,c,l){var p=l("d8e8");s.exports=function(g,b,w){if(p(g),b===void 0)return g;switch(w){case 1:return function(C){return g.call(b,C)};case 2:return function(C,k){return g.call(b,C,k)};case 3:return function(C,k,M){return g.call(b,C,k,M)}}return function(){return g.apply(b,arguments)}}},"9c6c":function(s,c,l){var p=l("2b4c")("unscopables"),g=Array.prototype;g[p]==null&&l("32e9")(g,p,{}),s.exports=function(b){g[p][b]=!0}},"9def":function(s,c,l){var p=l("4588"),g=Math.min;s.exports=function(b){return b>0?g(p(b),9007199254740991):0}},"9e1e":function(s,c,l){s.exports=!l("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(s,c){s.exports=r},a481:function(s,c,l){var p=l("cb7c"),g=l("4bf8"),b=l("9def"),w=l("4588"),C=l("0390"),k=l("5f1b"),M=Math.max,G=Math.min,R=Math.floor,Z=/\$([$&`']|\d\d?|<[^>]*>)/g,U=/\$([$&`']|\d\d?)/g,P=function(E){return E===void 0?E:String(E)};l("214f")("replace",2,function(E,D,W,B){return[function(ee,fe){var me=E(this),ue=ee==null?void 0:ee[D];return ue!==void 0?ue.call(ee,me,fe):W.call(String(me),ee,fe)},function(j,ee){var fe=B(W,j,this,ee);if(fe.done)return fe.value;var me=p(j),ue=String(this),De=typeof ee=="function";De||(ee=String(ee));var be=me.global;if(be){var te=me.unicode;me.lastIndex=0}for(var T=[];;){var se=k(me,ue);if(se===null||(T.push(se),!be))break;var ve=String(se[0]);ve===""&&(me.lastIndex=C(ue,b(me.lastIndex),te))}for(var we="",Ve=0,We=0;We<T.length;We++){se=T[We];for(var ke=String(se[0]),K=M(G(w(se.index),ue.length),0),F=[],Ce=1;Ce<se.length;Ce++)F.push(P(se[Ce]));var Pe=se.groups;if(De){var q=[ke].concat(F,K,ue);Pe!==void 0&&q.push(Pe);var he=String(ee.apply(void 0,q))}else he=H(ke,ue,K,F,Pe,ee);K>=Ve&&(we+=ue.slice(Ve,K)+he,Ve=K+ke.length)}return we+ue.slice(Ve)}];function H(j,ee,fe,me,ue,De){var be=fe+j.length,te=me.length,T=U;return ue!==void 0&&(ue=g(ue),T=Z),W.call(De,T,function(se,ve){var we;switch(ve.charAt(0)){case"$":return"$";case"&":return j;case"`":return ee.slice(0,fe);case"'":return ee.slice(be);case"<":we=ue[ve.slice(1,-1)];break;default:var Ve=+ve;if(Ve===0)return se;if(Ve>te){var We=R(Ve/10);return We===0?se:We<=te?me[We-1]===void 0?ve.charAt(1):me[We-1]+ve.charAt(1):se}we=me[Ve-1]}return we===void 0?"":we})}})},aae3:function(s,c,l){var p=l("d3f4"),g=l("2d95"),b=l("2b4c")("match");s.exports=function(w){var C;return p(w)&&((C=w[b])!==void 0?!!C:g(w)=="RegExp")}},ac6a:function(s,c,l){for(var p=l("cadf"),g=l("0d58"),b=l("2aba"),w=l("7726"),C=l("32e9"),k=l("84f2"),M=l("2b4c"),G=M("iterator"),R=M("toStringTag"),Z=k.Array,U={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},P=g(U),E=0;E<P.length;E++){var D=P[E],W=U[D],B=w[D],H=B&&B.prototype,j;if(H&&(H[G]||C(H,G,Z),H[R]||C(H,R,D),k[D]=Z,W))for(j in p)H[j]||b(H,j,p[j],!0)}},b0c5:function(s,c,l){var p=l("520a");l("5ca1")({target:"RegExp",proto:!0,forced:p!==/./.exec},{exec:p})},be13:function(s,c){s.exports=function(l){if(l==null)throw TypeError("Can't call method on  "+l);return l}},c366:function(s,c,l){var p=l("6821"),g=l("9def"),b=l("77f1");s.exports=function(w){return function(C,k,M){var G=p(C),R=g(G.length),Z=b(M,R),U;if(w&&k!=k){for(;R>Z;)if(U=G[Z++],U!=U)return!0}else for(;R>Z;Z++)if((w||Z in G)&&G[Z]===k)return w||Z||0;return!w&&-1}}},c649:function(s,c,l){(function(p){l.d(c,"c",function(){return G}),l.d(c,"a",function(){return k}),l.d(c,"b",function(){return b}),l.d(c,"d",function(){return M}),l("a481");function g(){return typeof window<"u"?window.console:p.console}var b=g();function w(R){var Z=Object.create(null);return function(P){var E=Z[P];return E||(Z[P]=R(P))}}var C=/-(\w)/g,k=w(function(R){return R.replace(C,function(Z,U){return U?U.toUpperCase():""})});function M(R){R.parentElement!==null&&R.parentElement.removeChild(R)}function G(R,Z,U){var P=U===0?R.children[0]:R.children[U-1].nextSibling;R.insertBefore(Z,P)}}).call(this,l("c8ba"))},c69a:function(s,c,l){s.exports=!l("9e1e")&&!l("79e5")(function(){return Object.defineProperty(l("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(s,c){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}s.exports=l},ca5a:function(s,c){var l=0,p=Math.random();s.exports=function(g){return"Symbol(".concat(g===void 0?"":g,")_",(++l+p).toString(36))}},cadf:function(s,c,l){var p=l("9c6c"),g=l("d53b"),b=l("84f2"),w=l("6821");s.exports=l("01f9")(Array,"Array",function(C,k){this._t=w(C),this._i=0,this._k=k},function(){var C=this._t,k=this._k,M=this._i++;return!C||M>=C.length?(this._t=void 0,g(1)):k=="keys"?g(0,M):k=="values"?g(0,C[M]):g(0,[M,C[M]])},"values"),b.Arguments=b.Array,p("keys"),p("values"),p("entries")},cb7c:function(s,c,l){var p=l("d3f4");s.exports=function(g){if(!p(g))throw TypeError(g+" is not an object!");return g}},ce10:function(s,c,l){var p=l("69a8"),g=l("6821"),b=l("c366")(!1),w=l("613b")("IE_PROTO");s.exports=function(C,k){var M=g(C),G=0,R=[],Z;for(Z in M)Z!=w&&p(M,Z)&&R.push(Z);for(;k.length>G;)p(M,Z=k[G++])&&(~b(R,Z)||R.push(Z));return R}},d2c8:function(s,c,l){var p=l("aae3"),g=l("be13");s.exports=function(b,w,C){if(p(w))throw TypeError("String#"+C+" doesn't accept regex!");return String(g(b))}},d3f4:function(s,c){s.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},d53b:function(s,c){s.exports=function(l,p){return{value:p,done:!!l}}},d8e8:function(s,c){s.exports=function(l){if(typeof l!="function")throw TypeError(l+" is not a function!");return l}},e11e:function(s,c){s.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(s,c,l){var p=l("5ca1"),g=l("9def"),b=l("d2c8"),w="startsWith",C=""[w];p(p.P+p.F*l("5147")(w),"String",{startsWith:function(M){var G=b(this,M,w),R=g(Math.min(arguments.length>1?arguments[1]:void 0,G.length)),Z=String(M);return C?C.call(G,Z,R):G.slice(R,R+Z.length)===Z}})},f6fd:function(s,c){(function(l){var p="currentScript",g=l.getElementsByTagName("script");p in l||Object.defineProperty(l,p,{get:function(){try{throw new Error}catch(C){var b,w=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(C.stack)||[!1])[1];for(b in g)if(g[b].src==w||g[b].readyState=="interactive")return g[b];return null}}})})(document)},f751:function(s,c,l){var p=l("5ca1");p(p.S+p.F,"Object",{assign:l("7333")})},fa5b:function(s,c,l){s.exports=l("5537")("native-function-to-string",Function.toString)},fab2:function(s,c,l){var p=l("7726").document;s.exports=p&&p.documentElement},fb15:function(s,c,l){if(l.r(c),typeof window<"u"){l("f6fd");var p;(p=window.document.currentScript)&&(p=p.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(l.p=p[1])}l("f751"),l("f559"),l("ac6a"),l("cadf"),l("456d");function g(ke){if(Array.isArray(ke))return ke}function b(ke,K){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ke)))){var F=[],Ce=!0,Pe=!1,q=void 0;try{for(var he=ke[Symbol.iterator](),Te;!(Ce=(Te=he.next()).done)&&(F.push(Te.value),!(K&&F.length===K));Ce=!0);}catch(ze){Pe=!0,q=ze}finally{try{!Ce&&he.return!=null&&he.return()}finally{if(Pe)throw q}}return F}}function w(ke,K){(K==null||K>ke.length)&&(K=ke.length);for(var F=0,Ce=new Array(K);F<K;F++)Ce[F]=ke[F];return Ce}function C(ke,K){if(ke){if(typeof ke=="string")return w(ke,K);var F=Object.prototype.toString.call(ke).slice(8,-1);if(F==="Object"&&ke.constructor&&(F=ke.constructor.name),F==="Map"||F==="Set")return Array.from(ke);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return w(ke,K)}}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(ke,K){return g(ke)||b(ke,K)||C(ke,K)||k()}l("6762"),l("2fdb");function G(ke){if(Array.isArray(ke))return w(ke)}function R(ke){if(typeof Symbol<"u"&&Symbol.iterator in Object(ke))return Array.from(ke)}function Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(ke){return G(ke)||R(ke)||C(ke)||Z()}var P=l("a352"),E=l.n(P),D=l("c649");function W(ke,K,F){return F===void 0||(ke=ke||{},ke[K]=F),ke}function B(ke,K){return ke.map(function(F){return F.elm}).indexOf(K)}function H(ke,K,F,Ce){if(!ke)return[];var Pe=ke.map(function(Te){return Te.elm}),q=K.length-Ce,he=U(K).map(function(Te,ze){return ze>=q?Pe.length:Pe.indexOf(Te)});return F?he.filter(function(Te){return Te!==-1}):he}function j(ke,K){var F=this;this.$nextTick(function(){return F.$emit(ke.toLowerCase(),K)})}function ee(ke){var K=this;return function(F){K.realList!==null&&K["onDrag"+ke](F),j.call(K,ke,F)}}function fe(ke){return["transition-group","TransitionGroup"].includes(ke)}function me(ke){if(!ke||ke.length!==1)return!1;var K=M(ke,1),F=K[0].componentOptions;return F?fe(F.tag):!1}function ue(ke,K,F){return ke[F]||(K[F]?K[F]():void 0)}function De(ke,K,F){var Ce=0,Pe=0,q=ue(K,F,"header");q&&(Ce=q.length,ke=ke?[].concat(U(q),U(ke)):U(q));var he=ue(K,F,"footer");return he&&(Pe=he.length,ke=ke?[].concat(U(ke),U(he)):U(he)),{children:ke,headerOffset:Ce,footerOffset:Pe}}function be(ke,K){var F=null,Ce=function(Xe,et){F=W(F,Xe,et)},Pe=Object.keys(ke).filter(function(ze){return ze==="id"||ze.startsWith("data-")}).reduce(function(ze,Xe){return ze[Xe]=ke[Xe],ze},{});if(Ce("attrs",Pe),!K)return F;var q=K.on,he=K.props,Te=K.attrs;return Ce("on",q),Ce("props",he),Object.assign(F.attrs,Te),F}var te=["Start","Add","Remove","Update","End"],T=["Choose","Unchoose","Sort","Filter","Clone"],se=["Move"].concat(te,T).map(function(ke){return"on"+ke}),ve=null,we={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(K){return K}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Ve={name:"draggable",inheritAttrs:!1,props:we,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(K){var F=this.$slots.default;this.transitionMode=me(F);var Ce=De(F,this.$slots,this.$scopedSlots),Pe=Ce.children,q=Ce.headerOffset,he=Ce.footerOffset;this.headerOffset=q,this.footerOffset=he;var Te=be(this.$attrs,this.componentData);return K(this.getTag(),Te,Pe)},created:function(){this.list!==null&&this.value!==null&&D.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&D.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&D.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var K=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var F={};te.forEach(function(q){F["on"+q]=ee.call(K,q)}),T.forEach(function(q){F["on"+q]=j.bind(K,q)});var Ce=Object.keys(this.$attrs).reduce(function(q,he){return q[Object(D.a)(he)]=K.$attrs[he],q},{}),Pe=Object.assign({},this.options,Ce,F,{onMove:function(he,Te){return K.onDragMove(he,Te)}});!("draggable"in Pe)&&(Pe.draggable=">*"),this._sortable=new E.a(this.rootContainer,Pe),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(K){this.updateOptions(K)},deep:!0},$attrs:{handler:function(K){this.updateOptions(K)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var K=this._vnode.fnOptions;return K&&K.functional},getTag:function(){return this.tag||this.element},updateOptions:function(K){for(var F in K){var Ce=Object(D.a)(F);se.indexOf(Ce)===-1&&this._sortable.option(Ce,K[F])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var K=this.$slots.default;return this.transitionMode?K[0].child.$slots.default:K},computeIndexes:function(){var K=this;this.$nextTick(function(){K.visibleIndexes=H(K.getChildrenNodes(),K.rootContainer.children,K.transitionMode,K.footerOffset)})},getUnderlyingVm:function(K){var F=B(this.getChildrenNodes()||[],K);if(F===-1)return null;var Ce=this.realList[F];return{index:F,element:Ce}},getUnderlyingPotencialDraggableComponent:function(K){var F=K.__vue__;return!F||!F.$options||!fe(F.$options._componentTag)?!("realList"in F)&&F.$children.length===1&&"realList"in F.$children[0]?F.$children[0]:F:F.$parent},emitChanges:function(K){var F=this;this.$nextTick(function(){F.$emit("change",K)})},alterList:function(K){if(this.list){K(this.list);return}var F=U(this.value);K(F),this.$emit("input",F)},spliceList:function(){var K=arguments,F=function(Pe){return Pe.splice.apply(Pe,U(K))};this.alterList(F)},updatePosition:function(K,F){var Ce=function(q){return q.splice(F,0,q.splice(K,1)[0])};this.alterList(Ce)},getRelatedContextFromMoveEvent:function(K){var F=K.to,Ce=K.related,Pe=this.getUnderlyingPotencialDraggableComponent(F);if(!Pe)return{component:Pe};var q=Pe.realList,he={list:q,component:Pe};if(F!==Ce&&q&&Pe.getUnderlyingVm){var Te=Pe.getUnderlyingVm(Ce);if(Te)return Object.assign(Te,he)}return he},getVmIndex:function(K){var F=this.visibleIndexes,Ce=F.length;return K>Ce-1?Ce:F[K]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(K){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var F=this.getChildrenNodes();F[K].data=null;var Ce=this.getComponent();Ce.children=[],Ce.kept=void 0}},onDragStart:function(K){this.context=this.getUnderlyingVm(K.item),K.item._underlying_vm_=this.clone(this.context.element),ve=K.item},onDragAdd:function(K){var F=K.item._underlying_vm_;if(F!==void 0){Object(D.d)(K.item);var Ce=this.getVmIndex(K.newIndex);this.spliceList(Ce,0,F),this.computeIndexes();var Pe={element:F,newIndex:Ce};this.emitChanges({added:Pe})}},onDragRemove:function(K){if(Object(D.c)(this.rootContainer,K.item,K.oldIndex),K.pullMode==="clone"){Object(D.d)(K.clone);return}var F=this.context.index;this.spliceList(F,1);var Ce={element:this.context.element,oldIndex:F};this.resetTransitionData(F),this.emitChanges({removed:Ce})},onDragUpdate:function(K){Object(D.d)(K.item),Object(D.c)(K.from,K.item,K.oldIndex);var F=this.context.index,Ce=this.getVmIndex(K.newIndex);this.updatePosition(F,Ce);var Pe={element:this.context.element,oldIndex:F,newIndex:Ce};this.emitChanges({moved:Pe})},updateProperty:function(K,F){K.hasOwnProperty(F)&&(K[F]+=this.headerOffset)},computeFutureIndex:function(K,F){if(!K.element)return 0;var Ce=U(F.to.children).filter(function(Te){return Te.style.display!=="none"}),Pe=Ce.indexOf(F.related),q=K.component.getVmIndex(Pe),he=Ce.indexOf(ve)!==-1;return he||!F.willInsertAfter?q:q+1},onDragMove:function(K,F){var Ce=this.move;if(!Ce||!this.realList)return!0;var Pe=this.getRelatedContextFromMoveEvent(K),q=this.context,he=this.computeFutureIndex(Pe,K);Object.assign(q,{futureIndex:he});var Te=Object.assign({},K,{relatedContext:Pe,draggedContext:q});return Ce(Te,F)},onDragEnd:function(){this.computeIndexes(),ve=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",Ve);var We=Ve;c.default=We}}).default})}(zh)),zh.exports}var YS=XS();const db=vf(YS),VS={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(n,e){this.dropzone.options[n]=e},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(n){this.dropzone.removeFile(n)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted(){if(this.$isServer)return;let n=require("dropzone"),e=document.getElementById(this.id);if(n.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new n(e,this.dropzoneOptions);else{this.dropzone=new n(e,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:{_token:window.RozierConfig.ajaxToken,...this.headers},dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:(p,g)=>{let b;g.error?b=g.error:b="Error",p.previewElement.classList.add("dz-error");let w=p.previewElement.querySelectorAll("[data-dz-errormessage]"),C=[];for(let k=0,M=w.length;k<M;k++){let G=w[k];C.push(G.textContent=b)}return C}});const s=e;s.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.language.dictDefaultMessage}</span></div>`),s.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
                <div class="circles-icons">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <i class="uk-icon-rz-file"></i>
                </div>
            `)}const r=this;this.dropzone.on("thumbnail",function(s){r.$emit("vdropzone-thumbnail",s)}),this.dropzone.on("addedfile",function(s){r.$emit("vdropzone-file-added",s)}),this.dropzone.on("removedfile",function(s){r.$emit("vdropzone-removed-file",s)}),this.dropzone.on("success",async function(s,c){if(r.$emit("vdropzone-success",s,c),s.previewElement){let l=s.previewElement;await cc(3e3),await Lu(l,500)}}),this.dropzone.on("successmultiple",function(s,c){r.$emit("vdropzone-success-multiple",s,c)}),this.dropzone.on("error",function(s,c,l){r.$emit("vdropzone-error",s,c,l)}),this.dropzone.on("sending",function(s,c,l){r.$emit("vdropzone-sending",s,c,l),c.ontimeout=()=>{console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(s,c,l){r.$emit("vdropzone-sending-multiple",s,c,l)}),this.dropzone.on("queuecomplete",function(s,c,l){r.$emit("vdropzone-queue-complete",s,c,l)})},beforeDestroy(){this.dropzone.destroy()}};var KS=function(){var e=this,r=e._self._c;return r("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:e.url,id:e.id}})},$S=[],QS=kn(VS,KS,$S,!1,null,null);const JS=QS.exports,eT={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null}),mounted(){this.drawersAddInstance(this),oc.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name");let n=this.ids,e=this.entity;n||(n=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const r=this.$refs.drawer.getAttribute("data-is-sortable"),s=this.$refs.drawer.getAttribute("data-min-length"),c=this.$refs.drawer.getAttribute("data-max-length"),l=c?parseInt(c,10):9999,p=s?parseInt(s,10):0;this.groupName=e,this.isSortable=r==="true";const g=this.$refs.drawer.getAttribute("data-nodetypes"),b=this.$refs.drawer.getAttribute("data-nodetypefield"),w=this.$refs.drawer.getAttribute("data-nodetypename"),C=this.$refs.drawer.getAttribute("data-provider-class"),k=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),M={nodeTypes:g,nodeTypeField:b,providerClass:C,providerOptions:k,nodeTypeName:w};this.drawersInitData({drawer:this.drawer,entity:e,ids:n,filters:M,maxLength:l,minLength:p,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...ds({isActive:function(){let n=this.$store.getters.drawersGetById(this._uid);return n?n.isActive:!1},trans:n=>n.drawers.trans,currentListingView:n=>n.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer.items},set(n){this.$store.commit(Cv,{drawer:this.drawer,newList:n})}}},methods:{...Ys(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(n){this.drawersRemoveItem({drawer:this.drawer,item:n})},addItem:function(n,e=null){this.drawersAddItem({drawer:this.drawer,item:n,newIndex:e})},showSuccess:function(n,e){this.entityName===jv?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(n,e,r){console.error(n),console.error(e),console.error(r)}},components:{RzButton:fS,draggable:db,Dropzone:JS}},tT=null,iT=null;var nT=kn(eT,tT,iT,!1,null,null);const rT=nT.exports,oT={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}};var aT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?r("div",{staticClass:"widget-explorer-nextpage",on:{click:function(s){return s.preventDefault(),e.loadMoreItems.apply(null,arguments)}}},[e.isLoadingMore?[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner light"})])]:[r("i",{staticClass:"uk-icon-plus"}),r("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},sT=[],uT=kn(oT,aT,sT,!1,null,null);const lT=uT.exports,cT={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}};var fT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?r("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},hT=[],dT=kn(cT,fT,hT,!1,null,null);const pT=dT.exports,mT={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}};var gT=function(){var e=this,r=e._self._c;return r("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[r("i",{class:e.icon}),e.filterExplorerSelectedItems?r("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},vT=[],bT=kn(mT,gT,vT,!1,null,null);const _T=bT.exports,yT={data:()=>({searchPlaceHolder:""}),computed:{...ds({isLoadingMore:n=>n.explorer.isLoadingMore,isLoading:n=>n.explorer.isLoading,isOpen:n=>n.explorer.isOpen,items:n=>n.explorer.items,filters:n=>n.explorer.filters,moreItems:n=>n.explorer.trans.moreItems,translations:n=>n.translations,entity:n=>n.explorer.entity,isFilterExplorerOpen:n=>n.filterExplorer.isOpen,filterExplorerSelectedItems:n=>n.filterExplorer.selectedItem,currentListingView:n=>n.explorer.currentListingView,widgetView:n=>n.explorer.widgetView,isFilterEnable:n=>n.explorer.isFilterEnable,filterExplorerIcon:n=>n.explorer.filterExplorerIcon,entityClass:n=>"entity-"+n.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:of.debounce(function(n){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:n})},450)}},methods:{...Ys(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(n){this.drawersAddItem({item:n})}},components:{LoadMoreButton:lT,ExplorerItemsInfos:pT,FilterExplorerButton:_T,draggable:db}};var xT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left"}},[e.isOpen?r("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[r("div",{staticClass:"widget-explorer-wrapper"},[r("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?r("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),r("div",{staticClass:"widget-explorer-search"},[r("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(s){s.preventDefault()}}},[r("div",{staticClass:"uk-form-icon"},[r("i",{staticClass:"uk-icon-search"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:(s.stopPropagation(),s.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(s){s.target.composing||(e.searchTerms=s.target.value)}}})])])]),r("div",{staticClass:"widget-explorer-close",on:{click:function(s){return s.preventDefault(),e.explorerClose.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e.isLoading?r("div",{staticClass:"spinner light"}):e._e(),r("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():r("ul",{staticClass:"uk-sortable"},[r("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(s){e.items=s},expression:"items"}},[r("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(s,c){return r(e.currentListingView,{key:s.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:c,item:s}})}),1)],1)],1)]),e.filters?r("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e.filters?r("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),r(e.widgetView,{tag:"component"})],1)]):e._e()])},wT=[],kT=kn(yT,xT,wT,!1,null,null);const CT=kT.exports,ET={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var ST=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade-in"}},[e.item?r("li",{staticClass:"item"},[r("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onItemClick(e.item)}}},[r("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),r("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),r("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(s,c){return r("filter-explorer-item",{key:s.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:s}})}),1)]):e._e()])},TT=[],AT=kn(ET,ST,TT,!1,null,null);const LT=AT.exports,DT={data:()=>({currentListingView:null}),computed:{...ds({isLoading:n=>n.filterExplorer.isLoading,isOpen:n=>n.filterExplorer.isOpen,items:n=>n.filterExplorer.items,entity:n=>n.explorer.entity,itemCount:n=>n.explorer.filters.itemCount,selectedItem:n=>n.filterExplorer.selectedItem,translations:n=>n.translations,icons:n=>n.filterExplorer.icons})},methods:{...Ys(["filterExplorerUpdate"]),onItemClick:function(n){this.filterExplorerUpdate({item:n})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:LT}};var MT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?r("div",{staticClass:"filter-widget-explorer"},[r("ul",{staticClass:"filters-items"},[r("li",{staticClass:"filters-infos"},[r("div",{staticClass:"infos-content"},[r("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?r("div",[r("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v(" "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+" ")]):e._e()])],1)]),r("li",{staticClass:"item"},[r("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onResetClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(s,c){return r("filter-explorer-item",{key:c,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:s}})})],2)]):e._e()])},PT=[],OT=kn(DT,MT,PT,!1,null,null);const IT=OT.exports;var jh={exports:{}},FT=jh.exports,Q0;function RT(){return Q0||(Q0=1,function(n,e){(function(r,s){n.exports=s()})(FT,function(){return function(r){function s(l){if(c[l])return c[l].exports;var p=c[l]={i:l,l:!1,exports:{}};return r[l].call(p.exports,p,p.exports,s),p.l=!0,p.exports}var c={};return s.m=r,s.c=c,s.i=function(l){return l},s.d=function(l,p,g){s.o(l,p)||Object.defineProperty(l,p,{configurable:!1,enumerable:!0,get:g})},s.n=function(l){var p=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(p,"a",p),p},s.o=function(l,p){return Object.prototype.hasOwnProperty.call(l,p)},s.p="/",s(s.s=8)}([function(r,s,c){function l(U){return U&&U.__esModule?U:{default:U}}function p(U,P,E){return P in U?Object.defineProperty(U,P,{value:E,enumerable:!0,configurable:!0,writable:!0}):U[P]=E,U}function g(U,P){if(!U)return!1;var E=U.toString().toLowerCase();return E.indexOf(P.trim())!==-1}function b(U,P,E){return E?U.filter(function(D){return g(D[E],P)}):U.filter(function(D){return g(D,P)})}function w(U){return U.filter(function(P){return!P.$isLabel})}function C(U,P){return function(E){return E.reduce(function(D,W){return W[U]&&W[U].length?(D.push({$groupLabel:W[P],$isLabel:!0}),D.concat(W[U])):D.concat(W)},[])}}function k(U,P,E,D){return function(W){return W.map(function(B){var H,j=b(B[E],U,P);return j.length?(H={},p(H,D,B[D]),p(H,E,j),H):[]})}}Object.defineProperty(s,"__esModule",{value:!0});var M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},G=c(2),R=l(G),Z=function(){for(var U=arguments.length,P=Array(U),E=0;E<U;E++)P[E]=arguments[E];return function(D){return P.reduce(function(W,B){return B(W)},D)}};s.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,R.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(U,P){return P?U[P]:U}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props can’t be both set to false.")},computed:{filteredOptions:function(){var U=this.search||"",P=U.toLowerCase(),E=this.options.concat();return this.internalSearch?(E=this.groupValues?this.filterAndFlat(E,P,this.label):b(E,P,this.label),E=this.hideSelected?E.filter(this.isNotSelected):E):E=this.groupValues?C(this.groupValues,this.groupLabel)(E):E,this.taggable&&P.length&&!this.isExistingOption(P)&&E.unshift({isTag:!0,label:U}),E.slice(0,this.optionsLimit)},valueKeys:function(){var U=this;return this.trackBy?this.internalValue.map(function(P){return P[U.trackBy]}):this.internalValue},optionKeys:function(){var U=this,P=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?P.map(function(E){return E[U.label].toString().toLowerCase()}):P.map(function(E){return E.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(U,P){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(U){this.internalValue=this.getInternalValue(U)}},methods:{getValue:function(){return this.multiple?(0,R.default)(this.internalValue):this.internalValue.length===0?null:(0,R.default)(this.internalValue[0])},getInternalValue:function(U){return U==null?[]:this.multiple?(0,R.default)(U):(0,R.default)([U])},filterAndFlat:function(U){return Z(k(this.search,this.label,this.groupValues,this.groupLabel),C(this.groupValues,this.groupLabel))(U)},flatAndStrip:function(U){return Z(C(this.groupValues,this.groupLabel),w)(U)},updateSearch:function(U){this.search=U},isExistingOption:function(U){return!!this.options&&this.optionKeys.indexOf(U)>-1},isSelected:function(U){var P=this.trackBy?U[this.trackBy]:U;return this.valueKeys.indexOf(P)>-1},isNotSelected:function(U){return!this.isSelected(U)},getOptionLabel:function(U){return U||U===0?U.isTag?U.label:this.customLabel(U,this.label)||"":""},select:function(U,P){if(!(this.blockKeys.indexOf(P)!==-1||this.disabled||U.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(U.isTag)this.$emit("tag",U.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var E=this.isSelected(U);if(E)return void(P!=="Tab"&&this.removeElement(U));this.multiple?this.internalValue.push(U):this.internalValue=[U],this.$emit("select",(0,R.default)(U),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(U){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var P=(typeof U>"u"?"undefined":M(U))==="object"?this.valueKeys.indexOf(U[this.trackBy]):this.valueKeys.indexOf(U);this.internalValue.splice(P,1),this.$emit("remove",(0,R.default)(U),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(r,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(l,p){return{"multiselect__option--highlight":l===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(p)}},addPointerElement:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",p=l.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],p),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(l){this.pointer=l}}}},function(r,s,c){function l(g){if(Array.isArray(g))return g.map(l);if(g&&(typeof g>"u"?"undefined":p(g))==="object"){for(var b={},w=Object.keys(g),C=0,k=w.length;C<k;C++){var M=w[C];b[M]=l(g[M])}return b}return g}Object.defineProperty(s,"__esModule",{value:!0});var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};s.default=l},function(r,s,c){c(5);var l=c(6)(c(4),c(7),null,null);r.exports=l.exports},function(r,s,c){function l(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(s,"__esModule",{value:!0});var p=c(0),g=l(p),b=c(1),w=l(b);s.default={name:"vue-multiselect",mixins:[g.default,w.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(C){return"and "+C+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(r,s){},function(r,s){r.exports=function(c,l,p,g){var b,w=c=c||{},C=typeof c.default;C!=="object"&&C!=="function"||(b=c,w=c.default);var k=typeof w=="function"?w.options:w;if(l&&(k.render=l.render,k.staticRenderFns=l.staticRenderFns),p&&(k._scopeId=p),g){var M=k.computed||(k.computed={});Object.keys(g).forEach(function(G){var R=g[G];M[G]=function(){return R}})}return{esModule:b,exports:w,options:k}}},function(r,s){r.exports={render:function(){var c=this,l=c.$createElement,p=c._self._c||l;return p("div",{staticClass:"multiselect",class:{"multiselect--active":c.isOpen,"multiselect--disabled":c.disabled,"multiselect--above":!c.hasEnoughSpace},attrs:{tabindex:c.searchable?-1:0},on:{focus:function(g){c.activate()},blur:function(g){!c.searchable&&c.deactivate()},keydown:[function(g){c._k(g.keyCode,"down",40)||g.target===g.currentTarget&&(g.preventDefault(),c.pointerForward())},function(g){c._k(g.keyCode,"up",38)||g.target===g.currentTarget&&(g.preventDefault(),c.pointerBackward())},function(g){c._k(g.keyCode,"enter",13)&&c._k(g.keyCode,"tab",9)||(g.stopPropagation(),g.target===g.currentTarget&&c.addPointerElement(g))}],keyup:function(g){c._k(g.keyCode,"esc",27)||c.deactivate()}}},[c._t("carret",[p("div",{staticClass:"multiselect__select",on:{mousedown:function(g){g.preventDefault(),c.toggle()}}})]),c._v(" "),p("div",{ref:"tags",staticClass:"multiselect__tags"},[c._l(c.visibleValue,function(g){return p("span",{staticClass:"multiselect__tag",on:{mousedown:function(b){b.preventDefault()}}},[p("span",{domProps:{textContent:c._s(c.getOptionLabel(g))}}),c._v(" "),p("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(b){c._k(b.keyCode,"enter",13)||(b.preventDefault(),c.removeElement(g))},mousedown:function(b){b.preventDefault(),c.removeElement(g)}}})])}),c._v(" "),c.internalValue&&c.internalValue.length>c.limit?[p("strong",{domProps:{textContent:c._s(c.limitText(c.internalValue.length-c.limit))}})]:c._e(),c._v(" "),p("transition",{attrs:{name:"multiselect__loading"}},[c._t("loading",[p("div",{directives:[{name:"show",rawName:"v-show",value:c.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),c._v(" "),c.searchable?p("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:c.placeholder,disabled:c.disabled},domProps:{value:c.isOpen?c.search:c.currentOptionLabel},on:{input:function(g){c.updateSearch(g.target.value)},focus:function(g){g.preventDefault(),c.activate()},blur:function(g){g.preventDefault(),c.deactivate()},keyup:function(g){c._k(g.keyCode,"esc",27)||c.deactivate()},keydown:[function(g){c._k(g.keyCode,"down",40)||(g.preventDefault(),c.pointerForward())},function(g){c._k(g.keyCode,"up",38)||(g.preventDefault(),c.pointerBackward())},function(g){c._k(g.keyCode,"enter",13)||g.preventDefault()},function(g){c._k(g.keyCode,"enter",13)&&c._k(g.keyCode,"tab",9)||(g.stopPropagation(),g.target===g.currentTarget&&c.addPointerElement(g))},function(g){c._k(g.keyCode,"delete",[8,46])||c.removeLastElement()}]}}):c._e(),c._v(" "),c.searchable?c._e():p("span",{staticClass:"multiselect__single",domProps:{textContent:c._s(c.currentOptionLabel)}})],2),c._v(" "),p("transition",{attrs:{name:"multiselect"}},[p("ul",{directives:[{name:"show",rawName:"v-show",value:c.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:c.maxHeight+"px"}},[c._t("beforeList"),c._v(" "),c.multiple&&c.max===c.internalValue.length?p("li",[p("span",{staticClass:"multiselect__option"},[c._t("maxElements",[c._v("Maximum of "+c._s(c.max)+" options selected. First remove a selected option to select another.")])],2)]):c._e(),c._v(" "),!c.max||c.internalValue.length<c.max?c._l(c.filteredOptions,function(g,b){return p("li",{key:b,staticClass:"multiselect__element"},[g.$isLabel?c._e():p("span",{staticClass:"multiselect__option",class:c.optionHighlight(b,g),attrs:{tabindex:"0","data-select":g.isTag?c.tagPlaceholder:c.selectLabelText,"data-selected":c.selectedLabelText,"data-deselect":c.deselectLabelText},on:{mousedown:function(w){w.preventDefault(),c.select(g)},mouseenter:function(w){c.pointerSet(b)}}},[c._t("option",[p("span",[c._v(c._s(c.getOptionLabel(g)))])],{option:g,search:c.search})],2),c._v(" "),g.$isLabel?p("span",{staticClass:"multiselect__option multiselect__option--disabled",class:c.optionHighlight(b,g)},[c._v(`
              `+c._s(g.$groupLabel)+`
            `)]):c._e()])}):c._e(),c._v(" "),p("li",{directives:[{name:"show",rawName:"v-show",value:c.filteredOptions.length===0&&c.search&&!c.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[p("span",{staticClass:"multiselect__option"},[c._t("noResult",[c._v("No elements found. Consider changing the search query.")])],2)]),c._v(" "),c._t("afterList")],2)])],2)},staticRenderFns:[]}},function(r,s,c){function l(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(s,"__esModule",{value:!0}),s.deepClone=s.pointerMixin=s.multiselectMixin=s.Multiselect=void 0;var p=c(3),g=l(p),b=c(0),w=l(b),C=c(1),k=l(C),M=c(2),G=l(M);s.default=g.default,s.Multiselect=g.default,s.multiselectMixin=w.default,s.pointerMixin=k.default,s.deepClone=G.default}])})}(jh)),jh.exports}var NT=RT();const zT=vf(NT),BT={mounted(){this.tagsInitData()},computed:{...ds({value:n=>n.tags.value,options:n=>n.tags.options})},methods:{...Ys(["tagsUpdateValue","tagsInitData"]),addTag(n){const e={name:n};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:zT}};var HT=function(){var e=this,r=e._self._c;return r("div",[e._t("default"),r("label",{staticClass:"typo__label"},[e._v("Tagging")]),r("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(s){e.value=s},expression:"value"}}),r("pre",{staticClass:"language-json"},[r("code",[e._v(e._s(e.value))])])],2)},UT=[],WT=kn(BT,HT,UT,!1,null,null);const qT=WT.exports,jT={computed:{...ds({isVisible:n=>n.documentPreview.isVisible,document:n=>n.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},methods:{...Ys(["documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(n){n.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}}};var ZT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?r("div",{staticClass:"document-preview-widget"},[r("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[r("div",{staticClass:"document-preview-widget__information"},[r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),r("div",{staticClass:"close",on:{click:function(s){return s.preventDefault(),e.closePreview.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-times"})])]),r("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[r("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},GT=[],XT=kn(jT,ZT,GT,!1,null,null);const YT=XT.exports;var Dh={};const VT=xg(Px);var Zh={exports:{}};/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */var KT=Zh.exports,J0;function $T(){return J0||(J0=1,function(n,e){(function(r,s){n.exports=s()})(KT,function(){function r(Se,Q){var oe=Object.keys(Se);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(Se);Q&&(ne=ne.filter(function(Re){return Object.getOwnPropertyDescriptor(Se,Re).enumerable})),oe.push.apply(oe,ne)}return oe}function s(Se){for(var Q=1;Q<arguments.length;Q++){var oe=arguments[Q]!=null?arguments[Q]:{};Q%2?r(Object(oe),!0).forEach(function(ne){b(Se,ne,oe[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(oe)):r(Object(oe)).forEach(function(ne){Object.defineProperty(Se,ne,Object.getOwnPropertyDescriptor(oe,ne))})}return Se}function c(Se){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(Q){return typeof Q}:c=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},c(Se)}function l(Se,Q){if(!(Se instanceof Q))throw new TypeError("Cannot call a class as a function")}function p(Se,Q){for(var oe=0;oe<Q.length;oe++){var ne=Q[oe];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Se,ne.key,ne)}}function g(Se,Q,oe){return Q&&p(Se.prototype,Q),oe&&p(Se,oe),Se}function b(Se,Q,oe){return Q in Se?Object.defineProperty(Se,Q,{value:oe,enumerable:!0,configurable:!0,writable:!0}):Se[Q]=oe,Se}function w(Se){return C(Se)||k(Se)||M(Se)||R()}function C(Se){if(Array.isArray(Se))return G(Se)}function k(Se){if(typeof Symbol<"u"&&Se[Symbol.iterator]!=null||Se["@@iterator"]!=null)return Array.from(Se)}function M(Se,Q){if(Se){if(typeof Se=="string")return G(Se,Q);var oe=Object.prototype.toString.call(Se).slice(8,-1);if(oe==="Object"&&Se.constructor&&(oe=Se.constructor.name),oe==="Map"||oe==="Set")return Array.from(Se);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return G(Se,Q)}}function G(Se,Q){(Q==null||Q>Se.length)&&(Q=Se.length);for(var oe=0,ne=new Array(Q);oe<Q;oe++)ne[oe]=Se[oe];return ne}function R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z=typeof window<"u"&&typeof window.document<"u",U=Z?window:{},P=Z&&U.document.documentElement?"ontouchstart"in U.document.documentElement:!1,E=Z?"PointerEvent"in U:!1,D="cropper",W="all",B="crop",H="move",j="zoom",ee="e",fe="w",me="s",ue="n",De="ne",be="nw",te="se",T="sw",se="".concat(D,"-crop"),ve="".concat(D,"-disabled"),we="".concat(D,"-hidden"),Ve="".concat(D,"-hide"),We="".concat(D,"-invisible"),ke="".concat(D,"-modal"),K="".concat(D,"-move"),F="".concat(D,"Action"),Ce="".concat(D,"Preview"),Pe="crop",q="move",he="none",Te="crop",ze="cropend",Xe="cropmove",et="cropstart",nt="dblclick",Lt=P?"touchstart":"mousedown",Mt=P?"touchmove":"mousemove",Ft=P?"touchend touchcancel":"mouseup",_t=E?"pointerdown":Lt,Pt=E?"pointermove":Mt,Et=E?"pointerup pointercancel":Ft,$t="ready",X="resize",le="wheel",V="zoom",ce="image/jpeg",pe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,He=/^data:/,at=/^data:image\/jpeg;base64,/,Qe=/^img|canvas$/i,mt=200,Ot=100,ut={viewMode:0,dragMode:Pe,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:mt,minContainerHeight:Ot,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Xt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ti=Number.isNaN||U.isNaN;function bt(Se){return typeof Se=="number"&&!ti(Se)}var _i=function(Q){return Q>0&&Q<1/0};function Ni(Se){return typeof Se>"u"}function un(Se){return c(Se)==="object"&&Se!==null}var pt=Object.prototype.hasOwnProperty;function Dr(Se){if(!un(Se))return!1;try{var Q=Se.constructor,oe=Q.prototype;return Q&&oe&&pt.call(oe,"isPrototypeOf")}catch{return!1}}function wi(Se){return typeof Se=="function"}var Mi=Array.prototype.slice;function Ii(Se){return Array.from?Array.from(Se):Mi.call(Se)}function zi(Se,Q){return Se&&wi(Q)&&(Array.isArray(Se)||bt(Se.length)?Ii(Se).forEach(function(oe,ne){Q.call(Se,oe,ne,Se)}):un(Se)&&Object.keys(Se).forEach(function(oe){Q.call(Se,Se[oe],oe,Se)})),Se}var ri=Object.assign||function(Q){for(var oe=arguments.length,ne=new Array(oe>1?oe-1:0),Re=1;Re<oe;Re++)ne[Re-1]=arguments[Re];return un(Q)&&ne.length>0&&ne.forEach(function(Le){un(Le)&&Object.keys(Le).forEach(function(Me){Q[Me]=Le[Me]})}),Q},Cn=/\.\d*(?:0|9){12}\d*$/;function qi(Se){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Cn.test(Se)?Math.round(Se*Q)/Q:Se}var yo=/^width|height|left|top|marginLeft|marginTop$/;function Jn(Se,Q){var oe=Se.style;zi(Q,function(ne,Re){yo.test(Re)&&bt(ne)&&(ne="".concat(ne,"px")),oe[Re]=ne})}function Zr(Se,Q){return Se.classList?Se.classList.contains(Q):Se.className.indexOf(Q)>-1}function pi(Se,Q){if(Q){if(bt(Se.length)){zi(Se,function(ne){pi(ne,Q)});return}if(Se.classList){Se.classList.add(Q);return}var oe=Se.className.trim();oe?oe.indexOf(Q)<0&&(Se.className="".concat(oe," ").concat(Q)):Se.className=Q}}function Zn(Se,Q){if(Q){if(bt(Se.length)){zi(Se,function(oe){Zn(oe,Q)});return}if(Se.classList){Se.classList.remove(Q);return}Se.className.indexOf(Q)>=0&&(Se.className=Se.className.replace(Q,""))}}function Mr(Se,Q,oe){if(Q){if(bt(Se.length)){zi(Se,function(ne){Mr(ne,Q,oe)});return}oe?pi(Se,Q):Zn(Se,Q)}}var sr=/([a-z\d])([A-Z])/g;function xo(Se){return Se.replace(sr,"$1-$2").toLowerCase()}function fn(Se,Q){return un(Se[Q])?Se[Q]:Se.dataset?Se.dataset[Q]:Se.getAttribute("data-".concat(xo(Q)))}function It(Se,Q,oe){un(oe)?Se[Q]=oe:Se.dataset?Se.dataset[Q]=oe:Se.setAttribute("data-".concat(xo(Q)),oe)}function jo(Se,Q){if(un(Se[Q]))try{delete Se[Q]}catch{Se[Q]=void 0}else if(Se.dataset)try{delete Se.dataset[Q]}catch{Se.dataset[Q]=void 0}else Se.removeAttribute("data-".concat(xo(Q)))}var Pr=/\s\s*/,ur=function(){var Se=!1;if(Z){var Q=!1,oe=function(){},ne=Object.defineProperty({},"once",{get:function(){return Se=!0,Q},set:function(Le){Q=Le}});U.addEventListener("test",oe,ne),U.removeEventListener("test",oe,ne)}return Se}();function Xi(Se,Q,oe){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Re=oe;Q.trim().split(Pr).forEach(function(Le){if(!ur){var Me=Se.listeners;Me&&Me[Le]&&Me[Le][oe]&&(Re=Me[Le][oe],delete Me[Le][oe],Object.keys(Me[Le]).length===0&&delete Me[Le],Object.keys(Me).length===0&&delete Se.listeners)}Se.removeEventListener(Le,Re,ne)})}function hn(Se,Q,oe){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Re=oe;Q.trim().split(Pr).forEach(function(Le){if(ne.once&&!ur){var Me=Se.listeners,Ge=Me===void 0?{}:Me;Re=function(){delete Ge[Le][oe],Se.removeEventListener(Le,Re,ne);for(var tt=arguments.length,$e=new Array(tt),Ke=0;Ke<tt;Ke++)$e[Ke]=arguments[Ke];oe.apply(Se,$e)},Ge[Le]||(Ge[Le]={}),Ge[Le][oe]&&Se.removeEventListener(Le,Ge[Le][oe],ne),Ge[Le][oe]=Re,Se.listeners=Ge}Se.addEventListener(Le,Re,ne)})}function dn(Se,Q,oe){var ne;return wi(Event)&&wi(CustomEvent)?ne=new CustomEvent(Q,{detail:oe,bubbles:!0,cancelable:!0}):(ne=document.createEvent("CustomEvent"),ne.initCustomEvent(Q,!0,!0,oe)),Se.dispatchEvent(ne)}function In(Se){var Q=Se.getBoundingClientRect();return{left:Q.left+(window.pageXOffset-document.documentElement.clientLeft),top:Q.top+(window.pageYOffset-document.documentElement.clientTop)}}var wo=U.location,Zo=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Fn(Se){var Q=Se.match(Zo);return Q!==null&&(Q[1]!==wo.protocol||Q[2]!==wo.hostname||Q[3]!==wo.port)}function Or(Se){var Q="timestamp=".concat(new Date().getTime());return Se+(Se.indexOf("?")===-1?"?":"&")+Q}function lr(Se){var Q=Se.rotate,oe=Se.scaleX,ne=Se.scaleY,Re=Se.translateX,Le=Se.translateY,Me=[];bt(Re)&&Re!==0&&Me.push("translateX(".concat(Re,"px)")),bt(Le)&&Le!==0&&Me.push("translateY(".concat(Le,"px)")),bt(Q)&&Q!==0&&Me.push("rotate(".concat(Q,"deg)")),bt(oe)&&oe!==1&&Me.push("scaleX(".concat(oe,")")),bt(ne)&&ne!==1&&Me.push("scaleY(".concat(ne,")"));var Ge=Me.length?Me.join(" "):"none";return{WebkitTransform:Ge,msTransform:Ge,transform:Ge}}function da(Se){var Q=s({},Se),oe=0;return zi(Se,function(ne,Re){delete Q[Re],zi(Q,function(Le){var Me=Math.abs(ne.startX-Le.startX),Ge=Math.abs(ne.startY-Le.startY),lt=Math.abs(ne.endX-Le.endX),tt=Math.abs(ne.endY-Le.endY),$e=Math.sqrt(Me*Me+Ge*Ge),Ke=Math.sqrt(lt*lt+tt*tt),ct=(Ke-$e)/$e;Math.abs(ct)>Math.abs(oe)&&(oe=ct)})}),oe}function Rn(Se,Q){var oe=Se.pageX,ne=Se.pageY,Re={endX:oe,endY:ne};return Q?Re:s({startX:oe,startY:ne},Re)}function br(Se){var Q=0,oe=0,ne=0;return zi(Se,function(Re){var Le=Re.startX,Me=Re.startY;Q+=Le,oe+=Me,ne+=1}),Q/=ne,oe/=ne,{pageX:Q,pageY:oe}}function Nn(Se){var Q=Se.aspectRatio,oe=Se.height,ne=Se.width,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",Le=_i(ne),Me=_i(oe);if(Le&&Me){var Ge=oe*Q;Re==="contain"&&Ge>ne||Re==="cover"&&Ge<ne?oe=ne/Q:ne=oe*Q}else Le?oe=ne/Q:Me&&(ne=oe*Q);return{width:ne,height:oe}}function Wi(Se){var Q=Se.width,oe=Se.height,ne=Se.degree;if(ne=Math.abs(ne)%180,ne===90)return{width:oe,height:Q};var Re=ne%90*Math.PI/180,Le=Math.sin(Re),Me=Math.cos(Re),Ge=Q*Me+oe*Le,lt=Q*Le+oe*Me;return ne>90?{width:lt,height:Ge}:{width:Ge,height:lt}}function Dt(Se,Q,oe,ne){var Re=Q.aspectRatio,Le=Q.naturalWidth,Me=Q.naturalHeight,Ge=Q.rotate,lt=Ge===void 0?0:Ge,tt=Q.scaleX,$e=tt===void 0?1:tt,Ke=Q.scaleY,ct=Ke===void 0?1:Ke,ai=oe.aspectRatio,oi=oe.naturalWidth,Oi=oe.naturalHeight,mi=ne.fillColor,ki=mi===void 0?"transparent":mi,on=ne.imageSmoothingEnabled,Zi=on===void 0?!0:on,er=ne.imageSmoothingQuality,Rt=er===void 0?"low":er,dt=ne.maxWidth,Bt=dt===void 0?1/0:dt,$i=ne.maxHeight,En=$i===void 0?1/0:$i,tr=ne.minWidth,Fr=tr===void 0?0:tr,ir=ne.minHeight,yr=ir===void 0?0:ir,Bn=document.createElement("canvas"),Nt=Bn.getContext("2d"),ii=Nn({aspectRatio:ai,width:Bt,height:En}),Co=Nn({aspectRatio:ai,width:Fr,height:yr},"cover"),pa=Math.min(ii.width,Math.max(Co.width,oi)),Ha=Math.min(ii.height,Math.max(Co.height,Oi)),Go=Nn({aspectRatio:Re,width:Bt,height:En}),Ua=Nn({aspectRatio:Re,width:Fr,height:yr},"cover"),bs=Math.min(Go.width,Math.max(Ua.width,Le)),Gn=Math.min(Go.height,Math.max(Ua.height,Me)),gi=[-bs/2,-Gn/2,bs,Gn];return Bn.width=qi(pa),Bn.height=qi(Ha),Nt.fillStyle=ki,Nt.fillRect(0,0,pa,Ha),Nt.save(),Nt.translate(pa/2,Ha/2),Nt.rotate(lt*Math.PI/180),Nt.scale($e,ct),Nt.imageSmoothingEnabled=Zi,Nt.imageSmoothingQuality=Rt,Nt.drawImage.apply(Nt,[Se].concat(w(gi.map(function(pn){return Math.floor(qi(pn))})))),Nt.restore(),Bn}var Ir=String.fromCharCode;function ko(Se,Q,oe){var ne="";oe+=Q;for(var Re=Q;Re<oe;Re+=1)ne+=Ir(Se.getUint8(Re));return ne}var zn=/^data:.*,/;function li(Se){var Q=Se.replace(zn,""),oe=atob(Q),ne=new ArrayBuffer(oe.length),Re=new Uint8Array(ne);return zi(Re,function(Le,Me){Re[Me]=oe.charCodeAt(Me)}),ne}function _r(Se,Q){for(var oe=[],ne=8192,Re=new Uint8Array(Se);Re.length>0;)oe.push(Ir.apply(null,Ii(Re.subarray(0,ne)))),Re=Re.subarray(ne);return"data:".concat(Q,";base64,").concat(btoa(oe.join("")))}function ie(Se){var Q=new DataView(Se),oe;try{var ne,Re,Le;if(Q.getUint8(0)===255&&Q.getUint8(1)===216)for(var Me=Q.byteLength,Ge=2;Ge+1<Me;){if(Q.getUint8(Ge)===255&&Q.getUint8(Ge+1)===225){Re=Ge;break}Ge+=1}if(Re){var lt=Re+4,tt=Re+10;if(ko(Q,lt,4)==="Exif"){var $e=Q.getUint16(tt);if(ne=$e===18761,(ne||$e===19789)&&Q.getUint16(tt+2,ne)===42){var Ke=Q.getUint32(tt+4,ne);Ke>=8&&(Le=tt+Ke)}}}if(Le){var ct=Q.getUint16(Le,ne),ai,oi;for(oi=0;oi<ct;oi+=1)if(ai=Le+oi*12+2,Q.getUint16(ai,ne)===274){ai+=8,oe=Q.getUint16(ai,ne),Q.setUint16(ai,1,ne);break}}}catch{oe=1}return oe}function _e(Se){var Q=0,oe=1,ne=1;switch(Se){case 2:oe=-1;break;case 3:Q=-180;break;case 4:ne=-1;break;case 5:Q=90,ne=-1;break;case 6:Q=90;break;case 7:Q=90,oe=-1;break;case 8:Q=-90;break}return{rotate:Q,scaleX:oe,scaleY:ne}}var ye={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var Q=this.element,oe=this.options,ne=this.container,Re=this.cropper,Le=Number(oe.minContainerWidth),Me=Number(oe.minContainerHeight);pi(Re,we),Zn(Q,we);var Ge={width:Math.max(ne.offsetWidth,Le>=0?Le:mt),height:Math.max(ne.offsetHeight,Me>=0?Me:Ot)};this.containerData=Ge,Jn(Re,{width:Ge.width,height:Ge.height}),pi(Q,we),Zn(Re,we)},initCanvas:function(){var Q=this.containerData,oe=this.imageData,ne=this.options.viewMode,Re=Math.abs(oe.rotate)%180===90,Le=Re?oe.naturalHeight:oe.naturalWidth,Me=Re?oe.naturalWidth:oe.naturalHeight,Ge=Le/Me,lt=Q.width,tt=Q.height;Q.height*Ge>Q.width?ne===3?lt=Q.height*Ge:tt=Q.width/Ge:ne===3?tt=Q.width/Ge:lt=Q.height*Ge;var $e={aspectRatio:Ge,naturalWidth:Le,naturalHeight:Me,width:lt,height:tt};this.canvasData=$e,this.limited=ne===1||ne===2,this.limitCanvas(!0,!0),$e.width=Math.min(Math.max($e.width,$e.minWidth),$e.maxWidth),$e.height=Math.min(Math.max($e.height,$e.minHeight),$e.maxHeight),$e.left=(Q.width-$e.width)/2,$e.top=(Q.height-$e.height)/2,$e.oldLeft=$e.left,$e.oldTop=$e.top,this.initialCanvasData=ri({},$e)},limitCanvas:function(Q,oe){var ne=this.options,Re=this.containerData,Le=this.canvasData,Me=this.cropBoxData,Ge=ne.viewMode,lt=Le.aspectRatio,tt=this.cropped&&Me;if(Q){var $e=Number(ne.minCanvasWidth)||0,Ke=Number(ne.minCanvasHeight)||0;Ge>1?($e=Math.max($e,Re.width),Ke=Math.max(Ke,Re.height),Ge===3&&(Ke*lt>$e?$e=Ke*lt:Ke=$e/lt)):Ge>0&&($e?$e=Math.max($e,tt?Me.width:0):Ke?Ke=Math.max(Ke,tt?Me.height:0):tt&&($e=Me.width,Ke=Me.height,Ke*lt>$e?$e=Ke*lt:Ke=$e/lt));var ct=Nn({aspectRatio:lt,width:$e,height:Ke});$e=ct.width,Ke=ct.height,Le.minWidth=$e,Le.minHeight=Ke,Le.maxWidth=1/0,Le.maxHeight=1/0}if(oe)if(Ge>(tt?0:1)){var ai=Re.width-Le.width,oi=Re.height-Le.height;Le.minLeft=Math.min(0,ai),Le.minTop=Math.min(0,oi),Le.maxLeft=Math.max(0,ai),Le.maxTop=Math.max(0,oi),tt&&this.limited&&(Le.minLeft=Math.min(Me.left,Me.left+(Me.width-Le.width)),Le.minTop=Math.min(Me.top,Me.top+(Me.height-Le.height)),Le.maxLeft=Me.left,Le.maxTop=Me.top,Ge===2&&(Le.width>=Re.width&&(Le.minLeft=Math.min(0,ai),Le.maxLeft=Math.max(0,ai)),Le.height>=Re.height&&(Le.minTop=Math.min(0,oi),Le.maxTop=Math.max(0,oi))))}else Le.minLeft=-Le.width,Le.minTop=-Le.height,Le.maxLeft=Re.width,Le.maxTop=Re.height},renderCanvas:function(Q,oe){var ne=this.canvasData,Re=this.imageData;if(oe){var Le=Wi({width:Re.naturalWidth*Math.abs(Re.scaleX||1),height:Re.naturalHeight*Math.abs(Re.scaleY||1),degree:Re.rotate||0}),Me=Le.width,Ge=Le.height,lt=ne.width*(Me/ne.naturalWidth),tt=ne.height*(Ge/ne.naturalHeight);ne.left-=(lt-ne.width)/2,ne.top-=(tt-ne.height)/2,ne.width=lt,ne.height=tt,ne.aspectRatio=Me/Ge,ne.naturalWidth=Me,ne.naturalHeight=Ge,this.limitCanvas(!0,!1)}(ne.width>ne.maxWidth||ne.width<ne.minWidth)&&(ne.left=ne.oldLeft),(ne.height>ne.maxHeight||ne.height<ne.minHeight)&&(ne.top=ne.oldTop),ne.width=Math.min(Math.max(ne.width,ne.minWidth),ne.maxWidth),ne.height=Math.min(Math.max(ne.height,ne.minHeight),ne.maxHeight),this.limitCanvas(!1,!0),ne.left=Math.min(Math.max(ne.left,ne.minLeft),ne.maxLeft),ne.top=Math.min(Math.max(ne.top,ne.minTop),ne.maxTop),ne.oldLeft=ne.left,ne.oldTop=ne.top,Jn(this.canvas,ri({width:ne.width,height:ne.height},lr({translateX:ne.left,translateY:ne.top}))),this.renderImage(Q),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(Q){var oe=this.canvasData,ne=this.imageData,Re=ne.naturalWidth*(oe.width/oe.naturalWidth),Le=ne.naturalHeight*(oe.height/oe.naturalHeight);ri(ne,{width:Re,height:Le,left:(oe.width-Re)/2,top:(oe.height-Le)/2}),Jn(this.image,ri({width:ne.width,height:ne.height},lr(ri({translateX:ne.left,translateY:ne.top},ne)))),Q&&this.output()},initCropBox:function(){var Q=this.options,oe=this.canvasData,ne=Q.aspectRatio||Q.initialAspectRatio,Re=Number(Q.autoCropArea)||.8,Le={width:oe.width,height:oe.height};ne&&(oe.height*ne>oe.width?Le.height=Le.width/ne:Le.width=Le.height*ne),this.cropBoxData=Le,this.limitCropBox(!0,!0),Le.width=Math.min(Math.max(Le.width,Le.minWidth),Le.maxWidth),Le.height=Math.min(Math.max(Le.height,Le.minHeight),Le.maxHeight),Le.width=Math.max(Le.minWidth,Le.width*Re),Le.height=Math.max(Le.minHeight,Le.height*Re),Le.left=oe.left+(oe.width-Le.width)/2,Le.top=oe.top+(oe.height-Le.height)/2,Le.oldLeft=Le.left,Le.oldTop=Le.top,this.initialCropBoxData=ri({},Le)},limitCropBox:function(Q,oe){var ne=this.options,Re=this.containerData,Le=this.canvasData,Me=this.cropBoxData,Ge=this.limited,lt=ne.aspectRatio;if(Q){var tt=Number(ne.minCropBoxWidth)||0,$e=Number(ne.minCropBoxHeight)||0,Ke=Ge?Math.min(Re.width,Le.width,Le.width+Le.left,Re.width-Le.left):Re.width,ct=Ge?Math.min(Re.height,Le.height,Le.height+Le.top,Re.height-Le.top):Re.height;tt=Math.min(tt,Re.width),$e=Math.min($e,Re.height),lt&&(tt&&$e?$e*lt>tt?$e=tt/lt:tt=$e*lt:tt?$e=tt/lt:$e&&(tt=$e*lt),ct*lt>Ke?ct=Ke/lt:Ke=ct*lt),Me.minWidth=Math.min(tt,Ke),Me.minHeight=Math.min($e,ct),Me.maxWidth=Ke,Me.maxHeight=ct}oe&&(Ge?(Me.minLeft=Math.max(0,Le.left),Me.minTop=Math.max(0,Le.top),Me.maxLeft=Math.min(Re.width,Le.left+Le.width)-Me.width,Me.maxTop=Math.min(Re.height,Le.top+Le.height)-Me.height):(Me.minLeft=0,Me.minTop=0,Me.maxLeft=Re.width-Me.width,Me.maxTop=Re.height-Me.height))},renderCropBox:function(){var Q=this.options,oe=this.containerData,ne=this.cropBoxData;(ne.width>ne.maxWidth||ne.width<ne.minWidth)&&(ne.left=ne.oldLeft),(ne.height>ne.maxHeight||ne.height<ne.minHeight)&&(ne.top=ne.oldTop),ne.width=Math.min(Math.max(ne.width,ne.minWidth),ne.maxWidth),ne.height=Math.min(Math.max(ne.height,ne.minHeight),ne.maxHeight),this.limitCropBox(!1,!0),ne.left=Math.min(Math.max(ne.left,ne.minLeft),ne.maxLeft),ne.top=Math.min(Math.max(ne.top,ne.minTop),ne.maxTop),ne.oldLeft=ne.left,ne.oldTop=ne.top,Q.movable&&Q.cropBoxMovable&&It(this.face,F,ne.width>=oe.width&&ne.height>=oe.height?H:W),Jn(this.cropBox,ri({width:ne.width,height:ne.height},lr({translateX:ne.left,translateY:ne.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),dn(this.element,Te,this.getData())}},Ue={initPreview:function(){var Q=this.element,oe=this.crossOrigin,ne=this.options.preview,Re=oe?this.crossOriginUrl:this.url,Le=Q.alt||"The image to preview",Me=document.createElement("img");if(oe&&(Me.crossOrigin=oe),Me.src=Re,Me.alt=Le,this.viewBox.appendChild(Me),this.viewBoxImage=Me,!!ne){var Ge=ne;typeof ne=="string"?Ge=Q.ownerDocument.querySelectorAll(ne):ne.querySelector&&(Ge=[ne]),this.previews=Ge,zi(Ge,function(lt){var tt=document.createElement("img");It(lt,Ce,{width:lt.offsetWidth,height:lt.offsetHeight,html:lt.innerHTML}),oe&&(tt.crossOrigin=oe),tt.src=Re,tt.alt=Le,tt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',lt.innerHTML="",lt.appendChild(tt)})}},resetPreview:function(){zi(this.previews,function(Q){var oe=fn(Q,Ce);Jn(Q,{width:oe.width,height:oe.height}),Q.innerHTML=oe.html,jo(Q,Ce)})},preview:function(){var Q=this.imageData,oe=this.canvasData,ne=this.cropBoxData,Re=ne.width,Le=ne.height,Me=Q.width,Ge=Q.height,lt=ne.left-oe.left-Q.left,tt=ne.top-oe.top-Q.top;!this.cropped||this.disabled||(Jn(this.viewBoxImage,ri({width:Me,height:Ge},lr(ri({translateX:-lt,translateY:-tt},Q)))),zi(this.previews,function($e){var Ke=fn($e,Ce),ct=Ke.width,ai=Ke.height,oi=ct,Oi=ai,mi=1;Re&&(mi=ct/Re,Oi=Le*mi),Le&&Oi>ai&&(mi=ai/Le,oi=Re*mi,Oi=ai),Jn($e,{width:oi,height:Oi}),Jn($e.getElementsByTagName("img")[0],ri({width:Me*mi,height:Ge*mi},lr(ri({translateX:-lt*mi,translateY:-tt*mi},Q))))}))}},qt={bind:function(){var Q=this.element,oe=this.options,ne=this.cropper;wi(oe.cropstart)&&hn(Q,et,oe.cropstart),wi(oe.cropmove)&&hn(Q,Xe,oe.cropmove),wi(oe.cropend)&&hn(Q,ze,oe.cropend),wi(oe.crop)&&hn(Q,Te,oe.crop),wi(oe.zoom)&&hn(Q,V,oe.zoom),hn(ne,_t,this.onCropStart=this.cropStart.bind(this)),oe.zoomable&&oe.zoomOnWheel&&hn(ne,le,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),oe.toggleDragModeOnDblclick&&hn(ne,nt,this.onDblclick=this.dblclick.bind(this)),hn(Q.ownerDocument,Pt,this.onCropMove=this.cropMove.bind(this)),hn(Q.ownerDocument,Et,this.onCropEnd=this.cropEnd.bind(this)),oe.responsive&&hn(window,X,this.onResize=this.resize.bind(this))},unbind:function(){var Q=this.element,oe=this.options,ne=this.cropper;wi(oe.cropstart)&&Xi(Q,et,oe.cropstart),wi(oe.cropmove)&&Xi(Q,Xe,oe.cropmove),wi(oe.cropend)&&Xi(Q,ze,oe.cropend),wi(oe.crop)&&Xi(Q,Te,oe.crop),wi(oe.zoom)&&Xi(Q,V,oe.zoom),Xi(ne,_t,this.onCropStart),oe.zoomable&&oe.zoomOnWheel&&Xi(ne,le,this.onWheel,{passive:!1,capture:!0}),oe.toggleDragModeOnDblclick&&Xi(ne,nt,this.onDblclick),Xi(Q.ownerDocument,Pt,this.onCropMove),Xi(Q.ownerDocument,Et,this.onCropEnd),oe.responsive&&Xi(window,X,this.onResize)}},Qt={resize:function(){if(!this.disabled){var Q=this.options,oe=this.container,ne=this.containerData,Re=oe.offsetWidth/ne.width,Le=oe.offsetHeight/ne.height,Me=Math.abs(Re-1)>Math.abs(Le-1)?Re:Le;if(Me!==1){var Ge,lt;Q.restore&&(Ge=this.getCanvasData(),lt=this.getCropBoxData()),this.render(),Q.restore&&(this.setCanvasData(zi(Ge,function(tt,$e){Ge[$e]=tt*Me})),this.setCropBoxData(zi(lt,function(tt,$e){lt[$e]=tt*Me})))}}},dblclick:function(){this.disabled||this.options.dragMode===he||this.setDragMode(Zr(this.dragBox,se)?q:Pe)},wheel:function(Q){var oe=this,ne=Number(this.options.wheelZoomRatio)||.1,Re=1;this.disabled||(Q.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){oe.wheeling=!1},50),Q.deltaY?Re=Q.deltaY>0?1:-1:Q.wheelDelta?Re=-Q.wheelDelta/120:Q.detail&&(Re=Q.detail>0?1:-1),this.zoom(-Re*ne,Q)))},cropStart:function(Q){var oe=Q.buttons,ne=Q.button;if(!(this.disabled||(Q.type==="mousedown"||Q.type==="pointerdown"&&Q.pointerType==="mouse")&&(bt(oe)&&oe!==1||bt(ne)&&ne!==0||Q.ctrlKey))){var Re=this.options,Le=this.pointers,Me;Q.changedTouches?zi(Q.changedTouches,function(Ge){Le[Ge.identifier]=Rn(Ge)}):Le[Q.pointerId||0]=Rn(Q),Object.keys(Le).length>1&&Re.zoomable&&Re.zoomOnTouch?Me=j:Me=fn(Q.target,F),pe.test(Me)&&dn(this.element,et,{originalEvent:Q,action:Me})!==!1&&(Q.preventDefault(),this.action=Me,this.cropping=!1,Me===B&&(this.cropping=!0,pi(this.dragBox,ke)))}},cropMove:function(Q){var oe=this.action;if(!(this.disabled||!oe)){var ne=this.pointers;Q.preventDefault(),dn(this.element,Xe,{originalEvent:Q,action:oe})!==!1&&(Q.changedTouches?zi(Q.changedTouches,function(Re){ri(ne[Re.identifier]||{},Rn(Re,!0))}):ri(ne[Q.pointerId||0]||{},Rn(Q,!0)),this.change(Q))}},cropEnd:function(Q){if(!this.disabled){var oe=this.action,ne=this.pointers;Q.changedTouches?zi(Q.changedTouches,function(Re){delete ne[Re.identifier]}):delete ne[Q.pointerId||0],oe&&(Q.preventDefault(),Object.keys(ne).length||(this.action=""),this.cropping&&(this.cropping=!1,Mr(this.dragBox,ke,this.cropped&&this.options.modal)),dn(this.element,ze,{originalEvent:Q,action:oe}))}}},ni={change:function(Q){var oe=this.options,ne=this.canvasData,Re=this.containerData,Le=this.cropBoxData,Me=this.pointers,Ge=this.action,lt=oe.aspectRatio,tt=Le.left,$e=Le.top,Ke=Le.width,ct=Le.height,ai=tt+Ke,oi=$e+ct,Oi=0,mi=0,ki=Re.width,on=Re.height,Zi=!0,er;!lt&&Q.shiftKey&&(lt=Ke&&ct?Ke/ct:1),this.limited&&(Oi=Le.minLeft,mi=Le.minTop,ki=Oi+Math.min(Re.width,ne.width,ne.left+ne.width),on=mi+Math.min(Re.height,ne.height,ne.top+ne.height));var Rt=Me[Object.keys(Me)[0]],dt={x:Rt.endX-Rt.startX,y:Rt.endY-Rt.startY},Bt=function(En){switch(En){case ee:ai+dt.x>ki&&(dt.x=ki-ai);break;case fe:tt+dt.x<Oi&&(dt.x=Oi-tt);break;case ue:$e+dt.y<mi&&(dt.y=mi-$e);break;case me:oi+dt.y>on&&(dt.y=on-oi);break}};switch(Ge){case W:tt+=dt.x,$e+=dt.y;break;case ee:if(dt.x>=0&&(ai>=ki||lt&&($e<=mi||oi>=on))){Zi=!1;break}Bt(ee),Ke+=dt.x,Ke<0&&(Ge=fe,Ke=-Ke,tt-=Ke),lt&&(ct=Ke/lt,$e+=(Le.height-ct)/2);break;case ue:if(dt.y<=0&&($e<=mi||lt&&(tt<=Oi||ai>=ki))){Zi=!1;break}Bt(ue),ct-=dt.y,$e+=dt.y,ct<0&&(Ge=me,ct=-ct,$e-=ct),lt&&(Ke=ct*lt,tt+=(Le.width-Ke)/2);break;case fe:if(dt.x<=0&&(tt<=Oi||lt&&($e<=mi||oi>=on))){Zi=!1;break}Bt(fe),Ke-=dt.x,tt+=dt.x,Ke<0&&(Ge=ee,Ke=-Ke,tt-=Ke),lt&&(ct=Ke/lt,$e+=(Le.height-ct)/2);break;case me:if(dt.y>=0&&(oi>=on||lt&&(tt<=Oi||ai>=ki))){Zi=!1;break}Bt(me),ct+=dt.y,ct<0&&(Ge=ue,ct=-ct,$e-=ct),lt&&(Ke=ct*lt,tt+=(Le.width-Ke)/2);break;case De:if(lt){if(dt.y<=0&&($e<=mi||ai>=ki)){Zi=!1;break}Bt(ue),ct-=dt.y,$e+=dt.y,Ke=ct*lt}else Bt(ue),Bt(ee),dt.x>=0?ai<ki?Ke+=dt.x:dt.y<=0&&$e<=mi&&(Zi=!1):Ke+=dt.x,dt.y<=0?$e>mi&&(ct-=dt.y,$e+=dt.y):(ct-=dt.y,$e+=dt.y);Ke<0&&ct<0?(Ge=T,ct=-ct,Ke=-Ke,$e-=ct,tt-=Ke):Ke<0?(Ge=be,Ke=-Ke,tt-=Ke):ct<0&&(Ge=te,ct=-ct,$e-=ct);break;case be:if(lt){if(dt.y<=0&&($e<=mi||tt<=Oi)){Zi=!1;break}Bt(ue),ct-=dt.y,$e+=dt.y,Ke=ct*lt,tt+=Le.width-Ke}else Bt(ue),Bt(fe),dt.x<=0?tt>Oi?(Ke-=dt.x,tt+=dt.x):dt.y<=0&&$e<=mi&&(Zi=!1):(Ke-=dt.x,tt+=dt.x),dt.y<=0?$e>mi&&(ct-=dt.y,$e+=dt.y):(ct-=dt.y,$e+=dt.y);Ke<0&&ct<0?(Ge=te,ct=-ct,Ke=-Ke,$e-=ct,tt-=Ke):Ke<0?(Ge=De,Ke=-Ke,tt-=Ke):ct<0&&(Ge=T,ct=-ct,$e-=ct);break;case T:if(lt){if(dt.x<=0&&(tt<=Oi||oi>=on)){Zi=!1;break}Bt(fe),Ke-=dt.x,tt+=dt.x,ct=Ke/lt}else Bt(me),Bt(fe),dt.x<=0?tt>Oi?(Ke-=dt.x,tt+=dt.x):dt.y>=0&&oi>=on&&(Zi=!1):(Ke-=dt.x,tt+=dt.x),dt.y>=0?oi<on&&(ct+=dt.y):ct+=dt.y;Ke<0&&ct<0?(Ge=De,ct=-ct,Ke=-Ke,$e-=ct,tt-=Ke):Ke<0?(Ge=te,Ke=-Ke,tt-=Ke):ct<0&&(Ge=be,ct=-ct,$e-=ct);break;case te:if(lt){if(dt.x>=0&&(ai>=ki||oi>=on)){Zi=!1;break}Bt(ee),Ke+=dt.x,ct=Ke/lt}else Bt(me),Bt(ee),dt.x>=0?ai<ki?Ke+=dt.x:dt.y>=0&&oi>=on&&(Zi=!1):Ke+=dt.x,dt.y>=0?oi<on&&(ct+=dt.y):ct+=dt.y;Ke<0&&ct<0?(Ge=be,ct=-ct,Ke=-Ke,$e-=ct,tt-=Ke):Ke<0?(Ge=T,Ke=-Ke,tt-=Ke):ct<0&&(Ge=De,ct=-ct,$e-=ct);break;case H:this.move(dt.x,dt.y),Zi=!1;break;case j:this.zoom(da(Me),Q),Zi=!1;break;case B:if(!dt.x||!dt.y){Zi=!1;break}er=In(this.cropper),tt=Rt.startX-er.left,$e=Rt.startY-er.top,Ke=Le.minWidth,ct=Le.minHeight,dt.x>0?Ge=dt.y>0?te:De:dt.x<0&&(tt-=Ke,Ge=dt.y>0?T:be),dt.y<0&&($e-=ct),this.cropped||(Zn(this.cropBox,we),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Zi&&(Le.width=Ke,Le.height=ct,Le.left=tt,Le.top=$e,this.action=Ge,this.renderCropBox()),zi(Me,function($i){$i.startX=$i.endX,$i.startY=$i.endY})}},ji={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&pi(this.dragBox,ke),Zn(this.cropBox,we),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ri({},this.initialImageData),this.canvasData=ri({},this.initialCanvasData),this.cropBoxData=ri({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ri(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Zn(this.dragBox,ke),pi(this.cropBox,we)),this},replace:function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&Q&&(this.isImg&&(this.element.src=Q),oe?(this.url=Q,this.image.src=Q,this.ready&&(this.viewBoxImage.src=Q,zi(this.previews,function(ne){ne.getElementsByTagName("img")[0].src=Q}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(Q))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Zn(this.cropper,ve)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,pi(this.cropper,ve)),this},destroy:function(){var Q=this.element;return Q[D]?(Q[D]=void 0,this.isImg&&this.replaced&&(Q.src=this.originalUrl),this.uncreate(),this):this},move:function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ne=this.canvasData,Re=ne.left,Le=ne.top;return this.moveTo(Ni(Q)?Q:Re+Number(Q),Ni(oe)?oe:Le+Number(oe))},moveTo:function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ne=this.canvasData,Re=!1;return Q=Number(Q),oe=Number(oe),this.ready&&!this.disabled&&this.options.movable&&(bt(Q)&&(ne.left=Q,Re=!0),bt(oe)&&(ne.top=oe,Re=!0),Re&&this.renderCanvas(!0)),this},zoom:function(Q,oe){var ne=this.canvasData;return Q=Number(Q),Q<0?Q=1/(1-Q):Q=1+Q,this.zoomTo(ne.width*Q/ne.naturalWidth,null,oe)},zoomTo:function(Q,oe,ne){var Re=this.options,Le=this.canvasData,Me=Le.width,Ge=Le.height,lt=Le.naturalWidth,tt=Le.naturalHeight;if(Q=Number(Q),Q>=0&&this.ready&&!this.disabled&&Re.zoomable){var $e=lt*Q,Ke=tt*Q;if(dn(this.element,V,{ratio:Q,oldRatio:Me/lt,originalEvent:ne})===!1)return this;if(ne){var ct=this.pointers,ai=In(this.cropper),oi=ct&&Object.keys(ct).length?br(ct):{pageX:ne.pageX,pageY:ne.pageY};Le.left-=($e-Me)*((oi.pageX-ai.left-Le.left)/Me),Le.top-=(Ke-Ge)*((oi.pageY-ai.top-Le.top)/Ge)}else Dr(oe)&&bt(oe.x)&&bt(oe.y)?(Le.left-=($e-Me)*((oe.x-Le.left)/Me),Le.top-=(Ke-Ge)*((oe.y-Le.top)/Ge)):(Le.left-=($e-Me)/2,Le.top-=(Ke-Ge)/2);Le.width=$e,Le.height=Ke,this.renderCanvas(!0)}return this},rotate:function(Q){return this.rotateTo((this.imageData.rotate||0)+Number(Q))},rotateTo:function(Q){return Q=Number(Q),bt(Q)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=Q%360,this.renderCanvas(!0,!0)),this},scaleX:function(Q){var oe=this.imageData.scaleY;return this.scale(Q,bt(oe)?oe:1)},scaleY:function(Q){var oe=this.imageData.scaleX;return this.scale(bt(oe)?oe:1,Q)},scale:function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ne=this.imageData,Re=!1;return Q=Number(Q),oe=Number(oe),this.ready&&!this.disabled&&this.options.scalable&&(bt(Q)&&(ne.scaleX=Q,Re=!0),bt(oe)&&(ne.scaleY=oe,Re=!0),Re&&this.renderCanvas(!0,!0)),this},getData:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,oe=this.options,ne=this.imageData,Re=this.canvasData,Le=this.cropBoxData,Me;if(this.ready&&this.cropped){Me={x:Le.left-Re.left,y:Le.top-Re.top,width:Le.width,height:Le.height};var Ge=ne.width/ne.naturalWidth;if(zi(Me,function($e,Ke){Me[Ke]=$e/Ge}),Q){var lt=Math.round(Me.y+Me.height),tt=Math.round(Me.x+Me.width);Me.x=Math.round(Me.x),Me.y=Math.round(Me.y),Me.width=tt-Me.x,Me.height=lt-Me.y}}else Me={x:0,y:0,width:0,height:0};return oe.rotatable&&(Me.rotate=ne.rotate||0),oe.scalable&&(Me.scaleX=ne.scaleX||1,Me.scaleY=ne.scaleY||1),Me},setData:function(Q){var oe=this.options,ne=this.imageData,Re=this.canvasData,Le={};if(this.ready&&!this.disabled&&Dr(Q)){var Me=!1;oe.rotatable&&bt(Q.rotate)&&Q.rotate!==ne.rotate&&(ne.rotate=Q.rotate,Me=!0),oe.scalable&&(bt(Q.scaleX)&&Q.scaleX!==ne.scaleX&&(ne.scaleX=Q.scaleX,Me=!0),bt(Q.scaleY)&&Q.scaleY!==ne.scaleY&&(ne.scaleY=Q.scaleY,Me=!0)),Me&&this.renderCanvas(!0,!0);var Ge=ne.width/ne.naturalWidth;bt(Q.x)&&(Le.left=Q.x*Ge+Re.left),bt(Q.y)&&(Le.top=Q.y*Ge+Re.top),bt(Q.width)&&(Le.width=Q.width*Ge),bt(Q.height)&&(Le.height=Q.height*Ge),this.setCropBoxData(Le)}return this},getContainerData:function(){return this.ready?ri({},this.containerData):{}},getImageData:function(){return this.sized?ri({},this.imageData):{}},getCanvasData:function(){var Q=this.canvasData,oe={};return this.ready&&zi(["left","top","width","height","naturalWidth","naturalHeight"],function(ne){oe[ne]=Q[ne]}),oe},setCanvasData:function(Q){var oe=this.canvasData,ne=oe.aspectRatio;return this.ready&&!this.disabled&&Dr(Q)&&(bt(Q.left)&&(oe.left=Q.left),bt(Q.top)&&(oe.top=Q.top),bt(Q.width)?(oe.width=Q.width,oe.height=Q.width/ne):bt(Q.height)&&(oe.height=Q.height,oe.width=Q.height*ne),this.renderCanvas(!0)),this},getCropBoxData:function(){var Q=this.cropBoxData,oe;return this.ready&&this.cropped&&(oe={left:Q.left,top:Q.top,width:Q.width,height:Q.height}),oe||{}},setCropBoxData:function(Q){var oe=this.cropBoxData,ne=this.options.aspectRatio,Re,Le;return this.ready&&this.cropped&&!this.disabled&&Dr(Q)&&(bt(Q.left)&&(oe.left=Q.left),bt(Q.top)&&(oe.top=Q.top),bt(Q.width)&&Q.width!==oe.width&&(Re=!0,oe.width=Q.width),bt(Q.height)&&Q.height!==oe.height&&(Le=!0,oe.height=Q.height),ne&&(Re?oe.height=oe.width/ne:Le&&(oe.width=oe.height*ne)),this.renderCropBox()),this},getCroppedCanvas:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var oe=this.canvasData,ne=Dt(this.image,this.imageData,oe,Q);if(!this.cropped)return ne;var Re=this.getData(),Le=Re.x,Me=Re.y,Ge=Re.width,lt=Re.height,tt=ne.width/Math.floor(oe.naturalWidth);tt!==1&&(Le*=tt,Me*=tt,Ge*=tt,lt*=tt);var $e=Ge/lt,Ke=Nn({aspectRatio:$e,width:Q.maxWidth||1/0,height:Q.maxHeight||1/0}),ct=Nn({aspectRatio:$e,width:Q.minWidth||0,height:Q.minHeight||0},"cover"),ai=Nn({aspectRatio:$e,width:Q.width||(tt!==1?ne.width:Ge),height:Q.height||(tt!==1?ne.height:lt)}),oi=ai.width,Oi=ai.height;oi=Math.min(Ke.width,Math.max(ct.width,oi)),Oi=Math.min(Ke.height,Math.max(ct.height,Oi));var mi=document.createElement("canvas"),ki=mi.getContext("2d");mi.width=qi(oi),mi.height=qi(Oi),ki.fillStyle=Q.fillColor||"transparent",ki.fillRect(0,0,oi,Oi);var on=Q.imageSmoothingEnabled,Zi=on===void 0?!0:on,er=Q.imageSmoothingQuality;ki.imageSmoothingEnabled=Zi,er&&(ki.imageSmoothingQuality=er);var Rt=ne.width,dt=ne.height,Bt=Le,$i=Me,En,tr,Fr,ir,yr,Bn;Bt<=-Ge||Bt>Rt?(Bt=0,En=0,Fr=0,yr=0):Bt<=0?(Fr=-Bt,Bt=0,En=Math.min(Rt,Ge+Bt),yr=En):Bt<=Rt&&(Fr=0,En=Math.min(Ge,Rt-Bt),yr=En),En<=0||$i<=-lt||$i>dt?($i=0,tr=0,ir=0,Bn=0):$i<=0?(ir=-$i,$i=0,tr=Math.min(dt,lt+$i),Bn=tr):$i<=dt&&(ir=0,tr=Math.min(lt,dt-$i),Bn=tr);var Nt=[Bt,$i,En,tr];if(yr>0&&Bn>0){var ii=oi/Ge;Nt.push(Fr*ii,ir*ii,yr*ii,Bn*ii)}return ki.drawImage.apply(ki,[ne].concat(w(Nt.map(function(Co){return Math.floor(qi(Co))})))),mi},setAspectRatio:function(Q){var oe=this.options;return!this.disabled&&!Ni(Q)&&(oe.aspectRatio=Math.max(0,Q)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(Q){var oe=this.options,ne=this.dragBox,Re=this.face;if(this.ready&&!this.disabled){var Le=Q===Pe,Me=oe.movable&&Q===q;Q=Le||Me?Q:he,oe.dragMode=Q,It(ne,F,Q),Mr(ne,se,Le),Mr(ne,K,Me),oe.cropBoxMovable||(It(Re,F,Q),Mr(Re,se,Le),Mr(Re,K,Me))}return this}},jt=U.Cropper,kt=function(){function Se(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l(this,Se),!Q||!Qe.test(Q.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=Q,this.options=ri({},ut,Dr(oe)&&oe),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return g(Se,[{key:"init",value:function(){var oe=this.element,ne=oe.tagName.toLowerCase(),Re;if(!oe[D]){if(oe[D]=this,ne==="img"){if(this.isImg=!0,Re=oe.getAttribute("src")||"",this.originalUrl=Re,!Re)return;Re=oe.src}else ne==="canvas"&&window.HTMLCanvasElement&&(Re=oe.toDataURL());this.load(Re)}}},{key:"load",value:function(oe){var ne=this;if(oe){this.url=oe,this.imageData={};var Re=this.element,Le=this.options;if(!Le.rotatable&&!Le.scalable&&(Le.checkOrientation=!1),!Le.checkOrientation||!window.ArrayBuffer){this.clone();return}if(He.test(oe)){at.test(oe)?this.read(li(oe)):this.clone();return}var Me=new XMLHttpRequest,Ge=this.clone.bind(this);this.reloading=!0,this.xhr=Me,Me.onabort=Ge,Me.onerror=Ge,Me.ontimeout=Ge,Me.onprogress=function(){Me.getResponseHeader("content-type")!==ce&&Me.abort()},Me.onload=function(){ne.read(Me.response)},Me.onloadend=function(){ne.reloading=!1,ne.xhr=null},Le.checkCrossOrigin&&Fn(oe)&&Re.crossOrigin&&(oe=Or(oe)),Me.open("GET",oe,!0),Me.responseType="arraybuffer",Me.withCredentials=Re.crossOrigin==="use-credentials",Me.send()}}},{key:"read",value:function(oe){var ne=this.options,Re=this.imageData,Le=ie(oe),Me=0,Ge=1,lt=1;if(Le>1){this.url=_r(oe,ce);var tt=_e(Le);Me=tt.rotate,Ge=tt.scaleX,lt=tt.scaleY}ne.rotatable&&(Re.rotate=Me),ne.scalable&&(Re.scaleX=Ge,Re.scaleY=lt),this.clone()}},{key:"clone",value:function(){var oe=this.element,ne=this.url,Re=oe.crossOrigin,Le=ne;this.options.checkCrossOrigin&&Fn(ne)&&(Re||(Re="anonymous"),Le=Or(ne)),this.crossOrigin=Re,this.crossOriginUrl=Le;var Me=document.createElement("img");Re&&(Me.crossOrigin=Re),Me.src=Le||ne,Me.alt=oe.alt||"The image to crop",this.image=Me,Me.onload=this.start.bind(this),Me.onerror=this.stop.bind(this),pi(Me,Ve),oe.parentNode.insertBefore(Me,oe.nextSibling)}},{key:"start",value:function(){var oe=this,ne=this.image;ne.onload=null,ne.onerror=null,this.sizing=!0;var Re=U.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(U.navigator.userAgent),Le=function(tt,$e){ri(oe.imageData,{naturalWidth:tt,naturalHeight:$e,aspectRatio:tt/$e}),oe.initialImageData=ri({},oe.imageData),oe.sizing=!1,oe.sized=!0,oe.build()};if(ne.naturalWidth&&!Re){Le(ne.naturalWidth,ne.naturalHeight);return}var Me=document.createElement("img"),Ge=document.body||document.documentElement;this.sizingImage=Me,Me.onload=function(){Le(Me.width,Me.height),Re||Ge.removeChild(Me)},Me.src=ne.src,Re||(Me.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Ge.appendChild(Me))}},{key:"stop",value:function(){var oe=this.image;oe.onload=null,oe.onerror=null,oe.parentNode.removeChild(oe),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var oe=this.element,ne=this.options,Re=this.image,Le=oe.parentNode,Me=document.createElement("div");Me.innerHTML=Xt;var Ge=Me.querySelector(".".concat(D,"-container")),lt=Ge.querySelector(".".concat(D,"-canvas")),tt=Ge.querySelector(".".concat(D,"-drag-box")),$e=Ge.querySelector(".".concat(D,"-crop-box")),Ke=$e.querySelector(".".concat(D,"-face"));this.container=Le,this.cropper=Ge,this.canvas=lt,this.dragBox=tt,this.cropBox=$e,this.viewBox=Ge.querySelector(".".concat(D,"-view-box")),this.face=Ke,lt.appendChild(Re),pi(oe,we),Le.insertBefore(Ge,oe.nextSibling),this.isImg||Zn(Re,Ve),this.initPreview(),this.bind(),ne.initialAspectRatio=Math.max(0,ne.initialAspectRatio)||NaN,ne.aspectRatio=Math.max(0,ne.aspectRatio)||NaN,ne.viewMode=Math.max(0,Math.min(3,Math.round(ne.viewMode)))||0,pi($e,we),ne.guides||pi($e.getElementsByClassName("".concat(D,"-dashed")),we),ne.center||pi($e.getElementsByClassName("".concat(D,"-center")),we),ne.background&&pi(Ge,"".concat(D,"-bg")),ne.highlight||pi(Ke,We),ne.cropBoxMovable&&(pi(Ke,K),It(Ke,F,W)),ne.cropBoxResizable||(pi($e.getElementsByClassName("".concat(D,"-line")),we),pi($e.getElementsByClassName("".concat(D,"-point")),we)),this.render(),this.ready=!0,this.setDragMode(ne.dragMode),ne.autoCrop&&this.crop(),this.setData(ne.data),wi(ne.ready)&&hn(oe,$t,ne.ready,{once:!0}),dn(oe,$t)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Zn(this.element,we))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=jt,Se}},{key:"setDefaults",value:function(oe){ri(ut,Dr(oe)&&oe)}}]),Se}();return ri(kt.prototype,ye,Ue,qt,Qt,ni,ji),kt})}(Zh)),Zh.exports}var eg;function QT(){if(eg)return Dh;eg=1,Object.defineProperty(Dh,"__esModule",{value:!0});var n=VT,e=c(n),r=$T(),s=c(r);function c(b){return b&&b.__esModule?b:{default:b}}function l(b,w){var C={};for(var k in b)w.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(b,k)&&(C[k]=b[k]);return C}var p=e.default.extend({render:function(w){return w("div",{style:this.containerStyle},[w("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var w=this.$options.props;w.containerStyle,w.src,w.alt,w.imgStyle;var C=l(w,["containerStyle","src","alt","imgStyle"]),k={};for(var M in C)this[M]!==void 0&&(k[M]=this[M]);this.cropper=new s.default(this.$refs.img,k)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(w,C)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(w,C){return this.cropper.move(w,C)},moveTo:function(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;return this.cropper.moveTo(w,C)},relativeZoom:function(w,C){return this.cropper.zoom(w,C)},zoomTo:function(w,C){return this.cropper.zoomTo(w,C)},rotate:function(w){return this.cropper.rotate(w)},rotateTo:function(w){return this.cropper.rotateTo(w)},scaleX:function(w){return this.cropper.scaleX(w)},scaleY:function(w){return this.cropper.scaleY(w)},scale:function(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;return this.cropper.scale(w,C)},getData:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(w)},setData:function(w){return this.cropper.setData(w)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(w){return this.cropper.setCanvasData(w)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(w){return this.cropper.setCropBoxData(w)},getCroppedCanvas:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(w)},setAspectRatio:function(w){return this.cropper.setAspectRatio(w)},setDragMode:function(w){return this.cropper.setDragMode(w)}}}),g=e.default.component("vue-cropper",p);return Dh.default=g,Dh}QT();/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */function tg(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,s)}return r}function pb(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tg(Object(r),!0).forEach(function(s){t3(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function Gh(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gh=function(e){return typeof e}:Gh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(n)}function JT(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ig(n,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function e3(n,e,r){return e&&ig(n.prototype,e),r&&ig(n,r),n}function t3(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function mb(n){return i3(n)||n3(n)||r3(n)||o3()}function i3(n){if(Array.isArray(n))return Pp(n)}function n3(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function r3(n,e){if(n){if(typeof n=="string")return Pp(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pp(n,e)}}function Pp(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=n[r];return s}function o3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dd=typeof window<"u"&&typeof window.document<"u",hs=dd?window:{},sm=dd&&hs.document.documentElement?"ontouchstart"in hs.document.documentElement:!1,um=dd?"PointerEvent"in hs:!1,ln="cropper",lm="all",gb="crop",vb="move",bb="zoom",ol="e",al="w",Kl="s",yu="n",Yc="ne",Vc="nw",Kc="se",$c="sw",Op="".concat(ln,"-crop"),ng="".concat(ln,"-disabled"),bo="".concat(ln,"-hidden"),rg="".concat(ln,"-hide"),a3="".concat(ln,"-invisible"),ad="".concat(ln,"-modal"),Ip="".concat(ln,"-move"),mf="".concat(ln,"Action"),Mh="".concat(ln,"Preview"),cm="crop",_b="move",yb="none",Fp="crop",Rp="cropend",Np="cropmove",zp="cropstart",og="dblclick",s3=sm?"touchstart":"mousedown",u3=sm?"touchmove":"mousemove",l3=sm?"touchend touchcancel":"mouseup",ag=um?"pointerdown":s3,sg=um?"pointermove":u3,ug=um?"pointerup pointercancel":l3,lg="ready",cg="resize",fg="wheel",Bp="zoom",hg="image/jpeg",c3=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,f3=/^data:/,h3=/^data:image\/jpeg;base64,/,d3=/^img|canvas$/i,xb=200,wb=100,dg={viewMode:0,dragMode:cm,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:xb,minContainerHeight:wb,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},p3='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',m3=Number.isNaN||hs.isNaN;function Ei(n){return typeof n=="number"&&!m3(n)}var pg=function(e){return e>0&&e<1/0};function dp(n){return typeof n>"u"}function cl(n){return Gh(n)==="object"&&n!==null}var g3=Object.prototype.hasOwnProperty;function ec(n){if(!cl(n))return!1;try{var e=n.constructor,r=e.prototype;return e&&r&&g3.call(r,"isPrototypeOf")}catch{return!1}}function vo(n){return typeof n=="function"}var v3=Array.prototype.slice;function kb(n){return Array.from?Array.from(n):v3.call(n)}function Qn(n,e){return n&&vo(e)&&(Array.isArray(n)||Ei(n.length)?kb(n).forEach(function(r,s){e.call(n,r,s,n)}):cl(n)&&Object.keys(n).forEach(function(r){e.call(n,n[r],r,n)})),n}var cn=Object.assign||function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];return cl(e)&&s.length>0&&s.forEach(function(l){cl(l)&&Object.keys(l).forEach(function(p){e[p]=l[p]})}),e},b3=/\.\d*(?:0|9){12}\d*$/;function nc(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return b3.test(n)?Math.round(n*e)/e:n}var _3=/^width|height|left|top|marginLeft|marginTop$/;function Tu(n,e){var r=n.style;Qn(e,function(s,c){_3.test(c)&&Ei(s)&&(s="".concat(s,"px")),r[c]=s})}function y3(n,e){return n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function gr(n,e){if(e){if(Ei(n.length)){Qn(n,function(s){gr(s,e)});return}if(n.classList){n.classList.add(e);return}var r=n.className.trim();r?r.indexOf(e)<0&&(n.className="".concat(r," ").concat(e)):n.className=e}}function fs(n,e){if(e){if(Ei(n.length)){Qn(n,function(r){fs(r,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function tc(n,e,r){if(e){if(Ei(n.length)){Qn(n,function(s){tc(s,e,r)});return}r?gr(n,e):fs(n,e)}}var x3=/([a-z\d])([A-Z])/g;function fm(n){return n.replace(x3,"$1-$2").toLowerCase()}function Hp(n,e){return cl(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(fm(e)))}function gf(n,e,r){cl(r)?n[e]=r:n.dataset?n.dataset[e]=r:n.setAttribute("data-".concat(fm(e)),r)}function w3(n,e){if(cl(n[e]))try{delete n[e]}catch{n[e]=void 0}else if(n.dataset)try{delete n.dataset[e]}catch{n.dataset[e]=void 0}else n.removeAttribute("data-".concat(fm(e)))}var Cb=/\s\s*/,Eb=function(){var n=!1;if(dd){var e=!1,r=function(){},s=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(l){e=l}});hs.addEventListener("test",r,s),hs.removeEventListener("test",r,s)}return n}();function Na(n,e,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=r;e.trim().split(Cb).forEach(function(l){if(!Eb){var p=n.listeners;p&&p[l]&&p[l][r]&&(c=p[l][r],delete p[l][r],Object.keys(p[l]).length===0&&delete p[l],Object.keys(p).length===0&&delete n.listeners)}n.removeEventListener(l,c,s)})}function ca(n,e,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=r;e.trim().split(Cb).forEach(function(l){if(s.once&&!Eb){var p=n.listeners,g=p===void 0?{}:p;c=function(){delete g[l][r],n.removeEventListener(l,c,s);for(var w=arguments.length,C=new Array(w),k=0;k<w;k++)C[k]=arguments[k];r.apply(n,C)},g[l]||(g[l]={}),g[l][r]&&n.removeEventListener(l,g[l][r],s),g[l][r]=c,n.listeners=g}n.addEventListener(l,c,s)})}function rc(n,e,r){var s;return vo(Event)&&vo(CustomEvent)?s=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(s=document.createEvent("CustomEvent"),s.initCustomEvent(e,!0,!0,r)),n.dispatchEvent(s)}function Sb(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var pp=hs.location,k3=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function mg(n){var e=n.match(k3);return e!==null&&(e[1]!==pp.protocol||e[2]!==pp.hostname||e[3]!==pp.port)}function gg(n){var e="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+e}function cf(n){var e=n.rotate,r=n.scaleX,s=n.scaleY,c=n.translateX,l=n.translateY,p=[];Ei(c)&&c!==0&&p.push("translateX(".concat(c,"px)")),Ei(l)&&l!==0&&p.push("translateY(".concat(l,"px)")),Ei(e)&&e!==0&&p.push("rotate(".concat(e,"deg)")),Ei(r)&&r!==1&&p.push("scaleX(".concat(r,")")),Ei(s)&&s!==1&&p.push("scaleY(".concat(s,")"));var g=p.length?p.join(" "):"none";return{WebkitTransform:g,msTransform:g,transform:g}}function C3(n){var e=pb({},n),r=0;return Qn(n,function(s,c){delete e[c],Qn(e,function(l){var p=Math.abs(s.startX-l.startX),g=Math.abs(s.startY-l.startY),b=Math.abs(s.endX-l.endX),w=Math.abs(s.endY-l.endY),C=Math.sqrt(p*p+g*g),k=Math.sqrt(b*b+w*w),M=(k-C)/C;Math.abs(M)>Math.abs(r)&&(r=M)})}),r}function Ph(n,e){var r=n.pageX,s=n.pageY,c={endX:r,endY:s};return e?c:pb({startX:r,startY:s},c)}function E3(n){var e=0,r=0,s=0;return Qn(n,function(c){var l=c.startX,p=c.startY;e+=l,r+=p,s+=1}),e/=s,r/=s,{pageX:e,pageY:r}}function Au(n){var e=n.aspectRatio,r=n.height,s=n.width,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",l=pg(s),p=pg(r);if(l&&p){var g=r*e;c==="contain"&&g>s||c==="cover"&&g<s?r=s/e:s=r*e}else l?r=s/e:p&&(s=r*e);return{width:s,height:r}}function S3(n){var e=n.width,r=n.height,s=n.degree;if(s=Math.abs(s)%180,s===90)return{width:r,height:e};var c=s%90*Math.PI/180,l=Math.sin(c),p=Math.cos(c),g=e*p+r*l,b=e*l+r*p;return s>90?{width:b,height:g}:{width:g,height:b}}function T3(n,e,r,s){var c=e.aspectRatio,l=e.naturalWidth,p=e.naturalHeight,g=e.rotate,b=g===void 0?0:g,w=e.scaleX,C=w===void 0?1:w,k=e.scaleY,M=k===void 0?1:k,G=r.aspectRatio,R=r.naturalWidth,Z=r.naturalHeight,U=s.fillColor,P=U===void 0?"transparent":U,E=s.imageSmoothingEnabled,D=E===void 0?!0:E,W=s.imageSmoothingQuality,B=W===void 0?"low":W,H=s.maxWidth,j=H===void 0?1/0:H,ee=s.maxHeight,fe=ee===void 0?1/0:ee,me=s.minWidth,ue=me===void 0?0:me,De=s.minHeight,be=De===void 0?0:De,te=document.createElement("canvas"),T=te.getContext("2d"),se=Au({aspectRatio:G,width:j,height:fe}),ve=Au({aspectRatio:G,width:ue,height:be},"cover"),we=Math.min(se.width,Math.max(ve.width,R)),Ve=Math.min(se.height,Math.max(ve.height,Z)),We=Au({aspectRatio:c,width:j,height:fe}),ke=Au({aspectRatio:c,width:ue,height:be},"cover"),K=Math.min(We.width,Math.max(ke.width,l)),F=Math.min(We.height,Math.max(ke.height,p)),Ce=[-K/2,-F/2,K,F];return te.width=nc(we),te.height=nc(Ve),T.fillStyle=P,T.fillRect(0,0,we,Ve),T.save(),T.translate(we/2,Ve/2),T.rotate(b*Math.PI/180),T.scale(C,M),T.imageSmoothingEnabled=D,T.imageSmoothingQuality=B,T.drawImage.apply(T,[n].concat(mb(Ce.map(function(Pe){return Math.floor(nc(Pe))})))),T.restore(),te}var Tb=String.fromCharCode;function A3(n,e,r){var s="";r+=e;for(var c=e;c<r;c+=1)s+=Tb(n.getUint8(c));return s}var L3=/^data:.*,/;function D3(n){var e=n.replace(L3,""),r=atob(e),s=new ArrayBuffer(r.length),c=new Uint8Array(s);return Qn(c,function(l,p){c[p]=r.charCodeAt(p)}),s}function M3(n,e){for(var r=[],s=8192,c=new Uint8Array(n);c.length>0;)r.push(Tb.apply(null,kb(c.subarray(0,s)))),c=c.subarray(s);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}function P3(n){var e=new DataView(n),r;try{var s,c,l;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var p=e.byteLength,g=2;g+1<p;){if(e.getUint8(g)===255&&e.getUint8(g+1)===225){c=g;break}g+=1}if(c){var b=c+4,w=c+10;if(A3(e,b,4)==="Exif"){var C=e.getUint16(w);if(s=C===18761,(s||C===19789)&&e.getUint16(w+2,s)===42){var k=e.getUint32(w+4,s);k>=8&&(l=w+k)}}}if(l){var M=e.getUint16(l,s),G,R;for(R=0;R<M;R+=1)if(G=l+R*12+2,e.getUint16(G,s)===274){G+=8,r=e.getUint16(G,s),e.setUint16(G,1,s);break}}}catch{r=1}return r}function O3(n){var e=0,r=1,s=1;switch(n){case 2:r=-1;break;case 3:e=-180;break;case 4:s=-1;break;case 5:e=90,s=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:s}}var I3={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,r=this.options,s=this.container,c=this.cropper,l=Number(r.minContainerWidth),p=Number(r.minContainerHeight);gr(c,bo),fs(e,bo);var g={width:Math.max(s.offsetWidth,l>=0?l:xb),height:Math.max(s.offsetHeight,p>=0?p:wb)};this.containerData=g,Tu(c,{width:g.width,height:g.height}),gr(e,bo),fs(c,bo)},initCanvas:function(){var e=this.containerData,r=this.imageData,s=this.options.viewMode,c=Math.abs(r.rotate)%180===90,l=c?r.naturalHeight:r.naturalWidth,p=c?r.naturalWidth:r.naturalHeight,g=l/p,b=e.width,w=e.height;e.height*g>e.width?s===3?b=e.height*g:w=e.width/g:s===3?w=e.width/g:b=e.height*g;var C={aspectRatio:g,naturalWidth:l,naturalHeight:p,width:b,height:w};this.canvasData=C,this.limited=s===1||s===2,this.limitCanvas(!0,!0),C.width=Math.min(Math.max(C.width,C.minWidth),C.maxWidth),C.height=Math.min(Math.max(C.height,C.minHeight),C.maxHeight),C.left=(e.width-C.width)/2,C.top=(e.height-C.height)/2,C.oldLeft=C.left,C.oldTop=C.top,this.initialCanvasData=cn({},C)},limitCanvas:function(e,r){var s=this.options,c=this.containerData,l=this.canvasData,p=this.cropBoxData,g=s.viewMode,b=l.aspectRatio,w=this.cropped&&p;if(e){var C=Number(s.minCanvasWidth)||0,k=Number(s.minCanvasHeight)||0;g>1?(C=Math.max(C,c.width),k=Math.max(k,c.height),g===3&&(k*b>C?C=k*b:k=C/b)):g>0&&(C?C=Math.max(C,w?p.width:0):k?k=Math.max(k,w?p.height:0):w&&(C=p.width,k=p.height,k*b>C?C=k*b:k=C/b));var M=Au({aspectRatio:b,width:C,height:k});C=M.width,k=M.height,l.minWidth=C,l.minHeight=k,l.maxWidth=1/0,l.maxHeight=1/0}if(r)if(g>(w?0:1)){var G=c.width-l.width,R=c.height-l.height;l.minLeft=Math.min(0,G),l.minTop=Math.min(0,R),l.maxLeft=Math.max(0,G),l.maxTop=Math.max(0,R),w&&this.limited&&(l.minLeft=Math.min(p.left,p.left+(p.width-l.width)),l.minTop=Math.min(p.top,p.top+(p.height-l.height)),l.maxLeft=p.left,l.maxTop=p.top,g===2&&(l.width>=c.width&&(l.minLeft=Math.min(0,G),l.maxLeft=Math.max(0,G)),l.height>=c.height&&(l.minTop=Math.min(0,R),l.maxTop=Math.max(0,R))))}else l.minLeft=-l.width,l.minTop=-l.height,l.maxLeft=c.width,l.maxTop=c.height},renderCanvas:function(e,r){var s=this.canvasData,c=this.imageData;if(r){var l=S3({width:c.naturalWidth*Math.abs(c.scaleX||1),height:c.naturalHeight*Math.abs(c.scaleY||1),degree:c.rotate||0}),p=l.width,g=l.height,b=s.width*(p/s.naturalWidth),w=s.height*(g/s.naturalHeight);s.left-=(b-s.width)/2,s.top-=(w-s.height)/2,s.width=b,s.height=w,s.aspectRatio=p/g,s.naturalWidth=p,s.naturalHeight=g,this.limitCanvas(!0,!1)}(s.width>s.maxWidth||s.width<s.minWidth)&&(s.left=s.oldLeft),(s.height>s.maxHeight||s.height<s.minHeight)&&(s.top=s.oldTop),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),this.limitCanvas(!1,!0),s.left=Math.min(Math.max(s.left,s.minLeft),s.maxLeft),s.top=Math.min(Math.max(s.top,s.minTop),s.maxTop),s.oldLeft=s.left,s.oldTop=s.top,Tu(this.canvas,cn({width:s.width,height:s.height},cf({translateX:s.left,translateY:s.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var r=this.canvasData,s=this.imageData,c=s.naturalWidth*(r.width/r.naturalWidth),l=s.naturalHeight*(r.height/r.naturalHeight);cn(s,{width:c,height:l,left:(r.width-c)/2,top:(r.height-l)/2}),Tu(this.image,cn({width:s.width,height:s.height},cf(cn({translateX:s.left,translateY:s.top},s)))),e&&this.output()},initCropBox:function(){var e=this.options,r=this.canvasData,s=e.aspectRatio||e.initialAspectRatio,c=Number(e.autoCropArea)||.8,l={width:r.width,height:r.height};s&&(r.height*s>r.width?l.height=l.width/s:l.width=l.height*s),this.cropBoxData=l,this.limitCropBox(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.width=Math.max(l.minWidth,l.width*c),l.height=Math.max(l.minHeight,l.height*c),l.left=r.left+(r.width-l.width)/2,l.top=r.top+(r.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCropBoxData=cn({},l)},limitCropBox:function(e,r){var s=this.options,c=this.containerData,l=this.canvasData,p=this.cropBoxData,g=this.limited,b=s.aspectRatio;if(e){var w=Number(s.minCropBoxWidth)||0,C=Number(s.minCropBoxHeight)||0,k=g?Math.min(c.width,l.width,l.width+l.left,c.width-l.left):c.width,M=g?Math.min(c.height,l.height,l.height+l.top,c.height-l.top):c.height;w=Math.min(w,c.width),C=Math.min(C,c.height),b&&(w&&C?C*b>w?C=w/b:w=C*b:w?C=w/b:C&&(w=C*b),M*b>k?M=k/b:k=M*b),p.minWidth=Math.min(w,k),p.minHeight=Math.min(C,M),p.maxWidth=k,p.maxHeight=M}r&&(g?(p.minLeft=Math.max(0,l.left),p.minTop=Math.max(0,l.top),p.maxLeft=Math.min(c.width,l.left+l.width)-p.width,p.maxTop=Math.min(c.height,l.top+l.height)-p.height):(p.minLeft=0,p.minTop=0,p.maxLeft=c.width-p.width,p.maxTop=c.height-p.height))},renderCropBox:function(){var e=this.options,r=this.containerData,s=this.cropBoxData;(s.width>s.maxWidth||s.width<s.minWidth)&&(s.left=s.oldLeft),(s.height>s.maxHeight||s.height<s.minHeight)&&(s.top=s.oldTop),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),this.limitCropBox(!1,!0),s.left=Math.min(Math.max(s.left,s.minLeft),s.maxLeft),s.top=Math.min(Math.max(s.top,s.minTop),s.maxTop),s.oldLeft=s.left,s.oldTop=s.top,e.movable&&e.cropBoxMovable&&gf(this.face,mf,s.width>=r.width&&s.height>=r.height?vb:lm),Tu(this.cropBox,cn({width:s.width,height:s.height},cf({translateX:s.left,translateY:s.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),rc(this.element,Fp,this.getData())}},F3={initPreview:function(){var e=this.element,r=this.crossOrigin,s=this.options.preview,c=r?this.crossOriginUrl:this.url,l=e.alt||"The image to preview",p=document.createElement("img");if(r&&(p.crossOrigin=r),p.src=c,p.alt=l,this.viewBox.appendChild(p),this.viewBoxImage=p,!!s){var g=s;typeof s=="string"?g=e.ownerDocument.querySelectorAll(s):s.querySelector&&(g=[s]),this.previews=g,Qn(g,function(b){var w=document.createElement("img");gf(b,Mh,{width:b.offsetWidth,height:b.offsetHeight,html:b.innerHTML}),r&&(w.crossOrigin=r),w.src=c,w.alt=l,w.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',b.innerHTML="",b.appendChild(w)})}},resetPreview:function(){Qn(this.previews,function(e){var r=Hp(e,Mh);Tu(e,{width:r.width,height:r.height}),e.innerHTML=r.html,w3(e,Mh)})},preview:function(){var e=this.imageData,r=this.canvasData,s=this.cropBoxData,c=s.width,l=s.height,p=e.width,g=e.height,b=s.left-r.left-e.left,w=s.top-r.top-e.top;!this.cropped||this.disabled||(Tu(this.viewBoxImage,cn({width:p,height:g},cf(cn({translateX:-b,translateY:-w},e)))),Qn(this.previews,function(C){var k=Hp(C,Mh),M=k.width,G=k.height,R=M,Z=G,U=1;c&&(U=M/c,Z=l*U),l&&Z>G&&(U=G/l,R=c*U,Z=G),Tu(C,{width:R,height:Z}),Tu(C.getElementsByTagName("img")[0],cn({width:p*U,height:g*U},cf(cn({translateX:-b*U,translateY:-w*U},e))))}))}},R3={bind:function(){var e=this.element,r=this.options,s=this.cropper;vo(r.cropstart)&&ca(e,zp,r.cropstart),vo(r.cropmove)&&ca(e,Np,r.cropmove),vo(r.cropend)&&ca(e,Rp,r.cropend),vo(r.crop)&&ca(e,Fp,r.crop),vo(r.zoom)&&ca(e,Bp,r.zoom),ca(s,ag,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&ca(s,fg,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&ca(s,og,this.onDblclick=this.dblclick.bind(this)),ca(e.ownerDocument,sg,this.onCropMove=this.cropMove.bind(this)),ca(e.ownerDocument,ug,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&ca(window,cg,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,r=this.options,s=this.cropper;vo(r.cropstart)&&Na(e,zp,r.cropstart),vo(r.cropmove)&&Na(e,Np,r.cropmove),vo(r.cropend)&&Na(e,Rp,r.cropend),vo(r.crop)&&Na(e,Fp,r.crop),vo(r.zoom)&&Na(e,Bp,r.zoom),Na(s,ag,this.onCropStart),r.zoomable&&r.zoomOnWheel&&Na(s,fg,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Na(s,og,this.onDblclick),Na(e.ownerDocument,sg,this.onCropMove),Na(e.ownerDocument,ug,this.onCropEnd),r.responsive&&Na(window,cg,this.onResize)}},N3={resize:function(){if(!this.disabled){var e=this.options,r=this.container,s=this.containerData,c=r.offsetWidth/s.width,l=r.offsetHeight/s.height,p=Math.abs(c-1)>Math.abs(l-1)?c:l;if(p!==1){var g,b;e.restore&&(g=this.getCanvasData(),b=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Qn(g,function(w,C){g[C]=w*p})),this.setCropBoxData(Qn(b,function(w,C){b[C]=w*p})))}}},dblclick:function(){this.disabled||this.options.dragMode===yb||this.setDragMode(y3(this.dragBox,Op)?_b:cm)},wheel:function(e){var r=this,s=Number(this.options.wheelZoomRatio)||.1,c=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),e.deltaY?c=e.deltaY>0?1:-1:e.wheelDelta?c=-e.wheelDelta/120:e.detail&&(c=e.detail>0?1:-1),this.zoom(-c*s,e)))},cropStart:function(e){var r=e.buttons,s=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Ei(r)&&r!==1||Ei(s)&&s!==0||e.ctrlKey))){var c=this.options,l=this.pointers,p;e.changedTouches?Qn(e.changedTouches,function(g){l[g.identifier]=Ph(g)}):l[e.pointerId||0]=Ph(e),Object.keys(l).length>1&&c.zoomable&&c.zoomOnTouch?p=bb:p=Hp(e.target,mf),c3.test(p)&&rc(this.element,zp,{originalEvent:e,action:p})!==!1&&(e.preventDefault(),this.action=p,this.cropping=!1,p===gb&&(this.cropping=!0,gr(this.dragBox,ad)))}},cropMove:function(e){var r=this.action;if(!(this.disabled||!r)){var s=this.pointers;e.preventDefault(),rc(this.element,Np,{originalEvent:e,action:r})!==!1&&(e.changedTouches?Qn(e.changedTouches,function(c){cn(s[c.identifier]||{},Ph(c,!0))}):cn(s[e.pointerId||0]||{},Ph(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var r=this.action,s=this.pointers;e.changedTouches?Qn(e.changedTouches,function(c){delete s[c.identifier]}):delete s[e.pointerId||0],r&&(e.preventDefault(),Object.keys(s).length||(this.action=""),this.cropping&&(this.cropping=!1,tc(this.dragBox,ad,this.cropped&&this.options.modal)),rc(this.element,Rp,{originalEvent:e,action:r}))}}},z3={change:function(e){var r=this.options,s=this.canvasData,c=this.containerData,l=this.cropBoxData,p=this.pointers,g=this.action,b=r.aspectRatio,w=l.left,C=l.top,k=l.width,M=l.height,G=w+k,R=C+M,Z=0,U=0,P=c.width,E=c.height,D=!0,W;!b&&e.shiftKey&&(b=k&&M?k/M:1),this.limited&&(Z=l.minLeft,U=l.minTop,P=Z+Math.min(c.width,s.width,s.left+s.width),E=U+Math.min(c.height,s.height,s.top+s.height));var B=p[Object.keys(p)[0]],H={x:B.endX-B.startX,y:B.endY-B.startY},j=function(fe){switch(fe){case ol:G+H.x>P&&(H.x=P-G);break;case al:w+H.x<Z&&(H.x=Z-w);break;case yu:C+H.y<U&&(H.y=U-C);break;case Kl:R+H.y>E&&(H.y=E-R);break}};switch(g){case lm:w+=H.x,C+=H.y;break;case ol:if(H.x>=0&&(G>=P||b&&(C<=U||R>=E))){D=!1;break}j(ol),k+=H.x,k<0&&(g=al,k=-k,w-=k),b&&(M=k/b,C+=(l.height-M)/2);break;case yu:if(H.y<=0&&(C<=U||b&&(w<=Z||G>=P))){D=!1;break}j(yu),M-=H.y,C+=H.y,M<0&&(g=Kl,M=-M,C-=M),b&&(k=M*b,w+=(l.width-k)/2);break;case al:if(H.x<=0&&(w<=Z||b&&(C<=U||R>=E))){D=!1;break}j(al),k-=H.x,w+=H.x,k<0&&(g=ol,k=-k,w-=k),b&&(M=k/b,C+=(l.height-M)/2);break;case Kl:if(H.y>=0&&(R>=E||b&&(w<=Z||G>=P))){D=!1;break}j(Kl),M+=H.y,M<0&&(g=yu,M=-M,C-=M),b&&(k=M*b,w+=(l.width-k)/2);break;case Yc:if(b){if(H.y<=0&&(C<=U||G>=P)){D=!1;break}j(yu),M-=H.y,C+=H.y,k=M*b}else j(yu),j(ol),H.x>=0?G<P?k+=H.x:H.y<=0&&C<=U&&(D=!1):k+=H.x,H.y<=0?C>U&&(M-=H.y,C+=H.y):(M-=H.y,C+=H.y);k<0&&M<0?(g=$c,M=-M,k=-k,C-=M,w-=k):k<0?(g=Vc,k=-k,w-=k):M<0&&(g=Kc,M=-M,C-=M);break;case Vc:if(b){if(H.y<=0&&(C<=U||w<=Z)){D=!1;break}j(yu),M-=H.y,C+=H.y,k=M*b,w+=l.width-k}else j(yu),j(al),H.x<=0?w>Z?(k-=H.x,w+=H.x):H.y<=0&&C<=U&&(D=!1):(k-=H.x,w+=H.x),H.y<=0?C>U&&(M-=H.y,C+=H.y):(M-=H.y,C+=H.y);k<0&&M<0?(g=Kc,M=-M,k=-k,C-=M,w-=k):k<0?(g=Yc,k=-k,w-=k):M<0&&(g=$c,M=-M,C-=M);break;case $c:if(b){if(H.x<=0&&(w<=Z||R>=E)){D=!1;break}j(al),k-=H.x,w+=H.x,M=k/b}else j(Kl),j(al),H.x<=0?w>Z?(k-=H.x,w+=H.x):H.y>=0&&R>=E&&(D=!1):(k-=H.x,w+=H.x),H.y>=0?R<E&&(M+=H.y):M+=H.y;k<0&&M<0?(g=Yc,M=-M,k=-k,C-=M,w-=k):k<0?(g=Kc,k=-k,w-=k):M<0&&(g=Vc,M=-M,C-=M);break;case Kc:if(b){if(H.x>=0&&(G>=P||R>=E)){D=!1;break}j(ol),k+=H.x,M=k/b}else j(Kl),j(ol),H.x>=0?G<P?k+=H.x:H.y>=0&&R>=E&&(D=!1):k+=H.x,H.y>=0?R<E&&(M+=H.y):M+=H.y;k<0&&M<0?(g=Vc,M=-M,k=-k,C-=M,w-=k):k<0?(g=$c,k=-k,w-=k):M<0&&(g=Yc,M=-M,C-=M);break;case vb:this.move(H.x,H.y),D=!1;break;case bb:this.zoom(C3(p),e),D=!1;break;case gb:if(!H.x||!H.y){D=!1;break}W=Sb(this.cropper),w=B.startX-W.left,C=B.startY-W.top,k=l.minWidth,M=l.minHeight,H.x>0?g=H.y>0?Kc:Yc:H.x<0&&(w-=k,g=H.y>0?$c:Vc),H.y<0&&(C-=M),this.cropped||(fs(this.cropBox,bo),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}D&&(l.width=k,l.height=M,l.left=w,l.top=C,this.action=g,this.renderCropBox()),Qn(p,function(ee){ee.startX=ee.endX,ee.startY=ee.endY})}},B3={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&gr(this.dragBox,ad),fs(this.cropBox,bo),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=cn({},this.initialImageData),this.canvasData=cn({},this.initialCanvasData),this.cropBoxData=cn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(cn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),fs(this.dragBox,ad),gr(this.cropBox,bo)),this},replace:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),r?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Qn(this.previews,function(s){s.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,fs(this.cropper,ng)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,gr(this.cropper,ng)),this},destroy:function(){var e=this.element;return e[ln]?(e[ln]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=this.canvasData,c=s.left,l=s.top;return this.moveTo(dp(e)?e:c+Number(e),dp(r)?r:l+Number(r))},moveTo:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=this.canvasData,c=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(Ei(e)&&(s.left=e,c=!0),Ei(r)&&(s.top=r,c=!0),c&&this.renderCanvas(!0)),this},zoom:function(e,r){var s=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,null,r)},zoomTo:function(e,r,s){var c=this.options,l=this.canvasData,p=l.width,g=l.height,b=l.naturalWidth,w=l.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&c.zoomable){var C=b*e,k=w*e;if(rc(this.element,Bp,{ratio:e,oldRatio:p/b,originalEvent:s})===!1)return this;if(s){var M=this.pointers,G=Sb(this.cropper),R=M&&Object.keys(M).length?E3(M):{pageX:s.pageX,pageY:s.pageY};l.left-=(C-p)*((R.pageX-G.left-l.left)/p),l.top-=(k-g)*((R.pageY-G.top-l.top)/g)}else ec(r)&&Ei(r.x)&&Ei(r.y)?(l.left-=(C-p)*((r.x-l.left)/p),l.top-=(k-g)*((r.y-l.top)/g)):(l.left-=(C-p)/2,l.top-=(k-g)/2);l.width=C,l.height=k,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Ei(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var r=this.imageData.scaleY;return this.scale(e,Ei(r)?r:1)},scaleY:function(e){var r=this.imageData.scaleX;return this.scale(Ei(r)?r:1,e)},scale:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=this.imageData,c=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(Ei(e)&&(s.scaleX=e,c=!0),Ei(r)&&(s.scaleY=r,c=!0),c&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,s=this.imageData,c=this.canvasData,l=this.cropBoxData,p;if(this.ready&&this.cropped){p={x:l.left-c.left,y:l.top-c.top,width:l.width,height:l.height};var g=s.width/s.naturalWidth;if(Qn(p,function(C,k){p[k]=C/g}),e){var b=Math.round(p.y+p.height),w=Math.round(p.x+p.width);p.x=Math.round(p.x),p.y=Math.round(p.y),p.width=w-p.x,p.height=b-p.y}}else p={x:0,y:0,width:0,height:0};return r.rotatable&&(p.rotate=s.rotate||0),r.scalable&&(p.scaleX=s.scaleX||1,p.scaleY=s.scaleY||1),p},setData:function(e){var r=this.options,s=this.imageData,c=this.canvasData,l={};if(this.ready&&!this.disabled&&ec(e)){var p=!1;r.rotatable&&Ei(e.rotate)&&e.rotate!==s.rotate&&(s.rotate=e.rotate,p=!0),r.scalable&&(Ei(e.scaleX)&&e.scaleX!==s.scaleX&&(s.scaleX=e.scaleX,p=!0),Ei(e.scaleY)&&e.scaleY!==s.scaleY&&(s.scaleY=e.scaleY,p=!0)),p&&this.renderCanvas(!0,!0);var g=s.width/s.naturalWidth;Ei(e.x)&&(l.left=e.x*g+c.left),Ei(e.y)&&(l.top=e.y*g+c.top),Ei(e.width)&&(l.width=e.width*g),Ei(e.height)&&(l.height=e.height*g),this.setCropBoxData(l)}return this},getContainerData:function(){return this.ready?cn({},this.containerData):{}},getImageData:function(){return this.sized?cn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,r={};return this.ready&&Qn(["left","top","width","height","naturalWidth","naturalHeight"],function(s){r[s]=e[s]}),r},setCanvasData:function(e){var r=this.canvasData,s=r.aspectRatio;return this.ready&&!this.disabled&&ec(e)&&(Ei(e.left)&&(r.left=e.left),Ei(e.top)&&(r.top=e.top),Ei(e.width)?(r.width=e.width,r.height=e.width/s):Ei(e.height)&&(r.height=e.height,r.width=e.height*s),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:e.left,top:e.top,width:e.width,height:e.height}),r||{}},setCropBoxData:function(e){var r=this.cropBoxData,s=this.options.aspectRatio,c,l;return this.ready&&this.cropped&&!this.disabled&&ec(e)&&(Ei(e.left)&&(r.left=e.left),Ei(e.top)&&(r.top=e.top),Ei(e.width)&&e.width!==r.width&&(c=!0,r.width=e.width),Ei(e.height)&&e.height!==r.height&&(l=!0,r.height=e.height),s&&(c?r.height=r.width/s:l&&(r.width=r.height*s)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,s=T3(this.image,this.imageData,r,e);if(!this.cropped)return s;var c=this.getData(),l=c.x,p=c.y,g=c.width,b=c.height,w=s.width/Math.floor(r.naturalWidth);w!==1&&(l*=w,p*=w,g*=w,b*=w);var C=g/b,k=Au({aspectRatio:C,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),M=Au({aspectRatio:C,width:e.minWidth||0,height:e.minHeight||0},"cover"),G=Au({aspectRatio:C,width:e.width||(w!==1?s.width:g),height:e.height||(w!==1?s.height:b)}),R=G.width,Z=G.height;R=Math.min(k.width,Math.max(M.width,R)),Z=Math.min(k.height,Math.max(M.height,Z));var U=document.createElement("canvas"),P=U.getContext("2d");U.width=nc(R),U.height=nc(Z),P.fillStyle=e.fillColor||"transparent",P.fillRect(0,0,R,Z);var E=e.imageSmoothingEnabled,D=E===void 0?!0:E,W=e.imageSmoothingQuality;P.imageSmoothingEnabled=D,W&&(P.imageSmoothingQuality=W);var B=s.width,H=s.height,j=l,ee=p,fe,me,ue,De,be,te;j<=-g||j>B?(j=0,fe=0,ue=0,be=0):j<=0?(ue=-j,j=0,fe=Math.min(B,g+j),be=fe):j<=B&&(ue=0,fe=Math.min(g,B-j),be=fe),fe<=0||ee<=-b||ee>H?(ee=0,me=0,De=0,te=0):ee<=0?(De=-ee,ee=0,me=Math.min(H,b+ee),te=me):ee<=H&&(De=0,me=Math.min(b,H-ee),te=me);var T=[j,ee,fe,me];if(be>0&&te>0){var se=R/g;T.push(ue*se,De*se,be*se,te*se)}return P.drawImage.apply(P,[s].concat(mb(T.map(function(ve){return Math.floor(nc(ve))})))),U},setAspectRatio:function(e){var r=this.options;return!this.disabled&&!dp(e)&&(r.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var r=this.options,s=this.dragBox,c=this.face;if(this.ready&&!this.disabled){var l=e===cm,p=r.movable&&e===_b;e=l||p?e:yb,r.dragMode=e,gf(s,mf,e),tc(s,Op,l),tc(s,Ip,p),r.cropBoxMovable||(gf(c,mf,e),tc(c,Op,l),tc(c,Ip,p))}return this}},H3=hs.Cropper,Ab=function(){function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(JT(this,n),!e||!d3.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=cn({},dg,ec(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return e3(n,[{key:"init",value:function(){var r=this.element,s=r.tagName.toLowerCase(),c;if(!r[ln]){if(r[ln]=this,s==="img"){if(this.isImg=!0,c=r.getAttribute("src")||"",this.originalUrl=c,!c)return;c=r.src}else s==="canvas"&&window.HTMLCanvasElement&&(c=r.toDataURL());this.load(c)}}},{key:"load",value:function(r){var s=this;if(r){this.url=r,this.imageData={};var c=this.element,l=this.options;if(!l.rotatable&&!l.scalable&&(l.checkOrientation=!1),!l.checkOrientation||!window.ArrayBuffer){this.clone();return}if(f3.test(r)){h3.test(r)?this.read(D3(r)):this.clone();return}var p=new XMLHttpRequest,g=this.clone.bind(this);this.reloading=!0,this.xhr=p,p.onabort=g,p.onerror=g,p.ontimeout=g,p.onprogress=function(){p.getResponseHeader("content-type")!==hg&&p.abort()},p.onload=function(){s.read(p.response)},p.onloadend=function(){s.reloading=!1,s.xhr=null},l.checkCrossOrigin&&mg(r)&&c.crossOrigin&&(r=gg(r)),p.open("GET",r,!0),p.responseType="arraybuffer",p.withCredentials=c.crossOrigin==="use-credentials",p.send()}}},{key:"read",value:function(r){var s=this.options,c=this.imageData,l=P3(r),p=0,g=1,b=1;if(l>1){this.url=M3(r,hg);var w=O3(l);p=w.rotate,g=w.scaleX,b=w.scaleY}s.rotatable&&(c.rotate=p),s.scalable&&(c.scaleX=g,c.scaleY=b),this.clone()}},{key:"clone",value:function(){var r=this.element,s=this.url,c=r.crossOrigin,l=s;this.options.checkCrossOrigin&&mg(s)&&(c||(c="anonymous"),l=gg(s)),this.crossOrigin=c,this.crossOriginUrl=l;var p=document.createElement("img");c&&(p.crossOrigin=c),p.src=l||s,p.alt=r.alt||"The image to crop",this.image=p,p.onload=this.start.bind(this),p.onerror=this.stop.bind(this),gr(p,rg),r.parentNode.insertBefore(p,r.nextSibling)}},{key:"start",value:function(){var r=this,s=this.image;s.onload=null,s.onerror=null,this.sizing=!0;var c=hs.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(hs.navigator.userAgent),l=function(w,C){cn(r.imageData,{naturalWidth:w,naturalHeight:C,aspectRatio:w/C}),r.initialImageData=cn({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(s.naturalWidth&&!c){l(s.naturalWidth,s.naturalHeight);return}var p=document.createElement("img"),g=document.body||document.documentElement;this.sizingImage=p,p.onload=function(){l(p.width,p.height),c||g.removeChild(p)},p.src=s.src,c||(p.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",g.appendChild(p))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,s=this.options,c=this.image,l=r.parentNode,p=document.createElement("div");p.innerHTML=p3;var g=p.querySelector(".".concat(ln,"-container")),b=g.querySelector(".".concat(ln,"-canvas")),w=g.querySelector(".".concat(ln,"-drag-box")),C=g.querySelector(".".concat(ln,"-crop-box")),k=C.querySelector(".".concat(ln,"-face"));this.container=l,this.cropper=g,this.canvas=b,this.dragBox=w,this.cropBox=C,this.viewBox=g.querySelector(".".concat(ln,"-view-box")),this.face=k,b.appendChild(c),gr(r,bo),l.insertBefore(g,r.nextSibling),this.isImg||fs(c,rg),this.initPreview(),this.bind(),s.initialAspectRatio=Math.max(0,s.initialAspectRatio)||NaN,s.aspectRatio=Math.max(0,s.aspectRatio)||NaN,s.viewMode=Math.max(0,Math.min(3,Math.round(s.viewMode)))||0,gr(C,bo),s.guides||gr(C.getElementsByClassName("".concat(ln,"-dashed")),bo),s.center||gr(C.getElementsByClassName("".concat(ln,"-center")),bo),s.background&&gr(g,"".concat(ln,"-bg")),s.highlight||gr(k,a3),s.cropBoxMovable&&(gr(k,Ip),gf(k,mf,lm)),s.cropBoxResizable||(gr(C.getElementsByClassName("".concat(ln,"-line")),bo),gr(C.getElementsByClassName("".concat(ln,"-point")),bo)),this.render(),this.ready=!0,this.setDragMode(s.dragMode),s.autoCrop&&this.crop(),this.setData(s.data),vo(s.ready)&&ca(r,lg,s.ready,{once:!0}),rc(r,lg)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),fs(this.element,bo))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=H3,n}},{key:"setDefaults",value:function(r){cn(dg,ec(r)&&r)}}]),n}();cn(Ab.prototype,I3,F3,R3,N3,z3,B3);const U3={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(n){const e=n.keyCode;switch(e){case 90:this.undo&&(n.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(n.preventDefault(),this.move(-1,0));break;case 38:this.move&&(n.preventDefault(),this.move(0,-1));break;case 39:this.move&&(n.preventDefault(),this.move(1,0));break;case 40:this.move&&(n.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var W3=function(){var e=this,r=e._self._c;return r("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(s){return e.setDragMode("move")}}},[r("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(s){return e.setDragMode("crop")}}},[r("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[r("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[r("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[r("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[r("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[r("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[r("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),r("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(s){var c=Array.prototype.filter.call(s.target.options,function(l){return l.selected}).map(function(l){var p="_value"in l?l._value:l.value;return p});e.ratio=s.target.multiple?c:c[0]},e.aspectRatio]}},[r("optgroup",{attrs:{label:e.translations.other}},[r("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),r("option",{attrs:{value:"1:1"}},[e._v("1:1")]),r("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),r("optgroup",{attrs:{label:e.translations.landscape}},[r("option",{attrs:{value:"16:9"}},[e._v("16:9")]),r("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),r("optgroup",{attrs:{label:e.translations.portrait}},[r("option",{attrs:{value:"9:16"}},[e._v("9:16")]),r("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),r("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[r("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[r("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[r("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},q3=[],j3=kn(U3,W3,q3,!1,null,"49d78b1c");const Z3=j3.exports,G3={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...ds({originalUrl:n=>n.blanchetteEditor.originalUrl,isLoading:n=>n.blanchetteEditor.isLoading,translations:n=>n.translations})},methods:{...Ys(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await cc(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(n){switch(n.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(n){n&&this.cropper&&this.cropper.setDragMode(n)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(n,e){this.cropper.move(n,e)},start(){this.cropper||(this.cropper=new Ab(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(n){n.detail.width>0&&n.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const n=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=n.getData(),this.canvasData=n.getCanvasData(),this.cropBoxData=n.getCropBoxData(),this.url=n.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:Z3}};var X3=function(){var e=this,r=e._self._c;return r("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[r("div",{staticClass:"canvas"},[e.isLoading?r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner-container"},[r("div",{staticClass:"spinner"})])]):e._e(),r("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),r("div",{staticClass:"editor"},[e.url?[r("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},Y3=[],V3=kn(G3,X3,Y3,!1,null,"9956183e");const K3=V3.exports;var mp={exports:{}},vg;function $3(){return vg||(vg=1,function(n,e){(function(r,s){n.exports=s()})(window,function(){return c={},r.m=s=[function(l,p,g){var b=g(6);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,g(4).default)("27d83796",b,!1,{})},function(l,p,g){var b=g(8);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,g(4).default)("0e783494",b,!1,{})},function(l,p,g){var b=g(10);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,g(4).default)("17757f60",b,!1,{})},function(l,p){l.exports=function(g){var b=[];return b.toString=function(){return this.map(function(w){var C=function(k,M){var G=k[1]||"",R=k[3];if(!R)return G;if(M&&typeof btoa=="function"){var Z=function(P){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(P))))+" */"}(R),U=R.sources.map(function(P){return"/*# sourceURL="+R.sourceRoot+P+" */"});return[G].concat(U).concat([Z]).join(`
`)}return[G].join(`
`)}(w,g);return w[2]?"@media "+w[2]+"{"+C+"}":C}).join("")},b.i=function(w,C){typeof w=="string"&&(w=[[null,w,""]]);for(var k={},M=0;M<this.length;M++){var G=this[M][0];typeof G=="number"&&(k[G]=!0)}for(M=0;M<w.length;M++){var R=w[M];typeof R[0]=="number"&&k[R[0]]||(C&&!R[2]?R[2]=C:C&&(R[2]="("+R[2]+") and ("+C+")"),b.push(R))}},b}},function(l,p,g){function b(me,ue){for(var De=[],be={},te=0;te<ue.length;te++){var T=ue[te],se=T[0],ve={id:me+":"+te,css:T[1],media:T[2],sourceMap:T[3]};be[se]?be[se].parts.push(ve):De.push(be[se]={id:se,parts:[ve]})}return De}g.r(p),g.d(p,"default",function(){return D});var w=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!w)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var C={},k=w&&(document.head||document.getElementsByTagName("head")[0]),M=null,G=0,R=!1,Z=function(){},U=null,P="data-vue-ssr-id",E=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function D(me,ue,De,be){R=De,U=be||{};var te=b(me,ue);return W(te),function(T){for(var se=[],ve=0;ve<te.length;ve++){var we=te[ve];(Ve=C[we.id]).refs--,se.push(Ve)}for(T?W(te=b(me,T)):te=[],ve=0;ve<se.length;ve++){var Ve;if((Ve=se[ve]).refs===0){for(var We=0;We<Ve.parts.length;We++)Ve.parts[We]();delete C[Ve.id]}}}}function W(me){for(var ue=0;ue<me.length;ue++){var De=me[ue],be=C[De.id];if(be){be.refs++;for(var te=0;te<be.parts.length;te++)be.parts[te](De.parts[te]);for(;te<De.parts.length;te++)be.parts.push(H(De.parts[te]));be.parts.length>De.parts.length&&(be.parts.length=De.parts.length)}else{var T=[];for(te=0;te<De.parts.length;te++)T.push(H(De.parts[te]));C[De.id]={id:De.id,refs:1,parts:T}}}}function B(){var me=document.createElement("style");return me.type="text/css",k.appendChild(me),me}function H(me){var ue,De,be=document.querySelector("style["+P+'~="'+me.id+'"]');if(be){if(R)return Z;be.parentNode.removeChild(be)}if(E){var te=G++;be=M=M||B(),ue=fe.bind(null,be,te,!1),De=fe.bind(null,be,te,!0)}else be=B(),ue=(function(T,se){var ve=se.css,we=se.media,Ve=se.sourceMap;if(we&&T.setAttribute("media",we),U.ssrId&&T.setAttribute(P,se.id),Ve&&(ve+=`
/*# sourceURL=`+Ve.sources[0]+" */",ve+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ve))))+" */"),T.styleSheet)T.styleSheet.cssText=ve;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(ve))}}).bind(null,be),De=function(){be.parentNode.removeChild(be)};return ue(me),function(T){if(T){if(T.css===me.css&&T.media===me.media&&T.sourceMap===me.sourceMap)return;ue(me=T)}else De()}}var j,ee=(j=[],function(me,ue){return j[me]=ue,j.filter(Boolean).join(`
`)});function fe(me,ue,De,be){var te=De?"":be.css;if(me.styleSheet)me.styleSheet.cssText=ee(ue,te);else{var T=document.createTextNode(te),se=me.childNodes;se[ue]&&me.removeChild(se[ue]),se.length?me.insertBefore(T,se[ue]):me.appendChild(T)}}},function(l,p,g){var b=g(0);g.n(b).a},function(l,p,g){(l.exports=g(3)(!1)).push([l.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(l,p,g){var b=g(1);g.n(b).a},function(l,p,g){(l.exports=g(3)(!1)).push([l.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(l,p,g){var b=g(2);g.n(b).a},function(l,p,g){(l.exports=g(3)(!1)).push([l.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(l,p,g){g.r(p),g.d(p,"getModalsContainer",function(){return F});function b(){var q=this,he=q.$createElement,Te=q._self._c||he;return Te("transition",{attrs:{name:q.overlayTransition}},[q.visibility.overlay?Te("div",{ref:"overlay",class:q.overlayClass,attrs:{"aria-expanded":q.visibility.overlay.toString(),"data-modal":q.name}},[Te("div",{staticClass:"v--modal-background-click",on:{mousedown:function(ze){return ze.target!==ze.currentTarget?null:q.handleBackgroundClick(ze)},touchstart:function(ze){return ze.target!==ze.currentTarget?null:q.handleBackgroundClick(ze)}}},[Te("div",{staticClass:"v--modal-top-right"},[q._t("top-right")],2),q._v(" "),Te("transition",{attrs:{name:q.transition},on:{"before-enter":q.beforeTransitionEnter,"after-enter":q.afterTransitionEnter,"after-leave":q.afterTransitionLeave}},[q.visibility.modal?Te("div",{ref:"modal",class:q.modalClass,style:q.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[q._t("default"),q._v(" "),q.resizable&&!q.isAutoHeight?Te("resizer",{attrs:{"min-width":q.minWidth,"min-height":q.minHeight,"max-width":q.maxWidth,"max-height":q.maxHeight},on:{resize:q.handleModalResize}}):q._e()],2):q._e()])],1)]):q._e()])}function w(){var q=this.$createElement;return(this._self._c||q)("div",{class:this.className})}function C(q,he){return function(Te){if(Array.isArray(Te))return Te}(q)||function(Te,ze){var Xe=[],et=!0,nt=!1,Lt=void 0;try{for(var Mt,Ft=Te[Symbol.iterator]();!(et=(Mt=Ft.next()).done)&&(Xe.push(Mt.value),!ze||Xe.length!==ze);et=!0);}catch(_t){nt=!0,Lt=_t}finally{try{et||Ft.return==null||Ft.return()}finally{if(nt)throw Lt}}return Xe}(q,he)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(q){for(var he=1;he<arguments.length;he++){var Te=arguments[he]!=null?arguments[he]:{},ze=Object.keys(Te);typeof Object.getOwnPropertySymbols=="function"&&(ze=ze.concat(Object.getOwnPropertySymbols(Te).filter(function(Xe){return Object.getOwnPropertyDescriptor(Te,Xe).enumerable}))),ze.forEach(function(Xe){M(q,Xe,Te[Xe])})}return q}function M(q,he,Te){return he in q?Object.defineProperty(q,he,{value:Te,enumerable:!0,configurable:!0,writable:!0}):q[he]=Te,q}w._withStripped=b._withStripped=!0;function G(q,he,Te){return Te<q?q:he<Te?he:Te}function R(){var q=window.innerWidth,he=document.documentElement.clientWidth;return q&&he?Math.min(q,he):he||q}var Z=function(q){var he=0;return function(){return(he++).toString()}}(),U={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(q){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),q.stopPropagation(),q.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(q){this.resize(q)},resize:function(q){var he=this.$el.parentElement;if(he){var Te=q.clientX-he.offsetLeft,ze=q.clientY-he.offsetTop,Xe=Math.min(R(),this.maxWidth),et=Math.min(window.innerHeight,this.maxHeight);Te=G(this.minWidth,Xe,Te),ze=G(this.minHeight,et,ze),this.size={width:Te,height:ze},he.style.width=Te+"px",he.style.height=ze+"px",this.$emit("resize",{element:he,size:this.size})}}}};g(5);function P(q,he,Te,ze,Xe,et,nt,Lt){var Mt,Ft=typeof q=="function"?q.options:q;return he&&(Ft.render=he,Ft.staticRenderFns=Te,Ft._compiled=!0),{exports:q,options:Ft}}var E=P(U,w,[]);E.options.__file="src/Resizer.vue";var D=E.exports;function W(q){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(q)}function B(q){switch(W(q)){case"number":return{type:"px",value:q};case"string":return function(he){if(he==="auto")return{type:he,value:0};var Te=ee.find(function(ze){return ze.regexp.test(he)});return Te?{type:Te.name,value:parseFloat(he)}:{type:"",value:he}}(q);default:return{type:"",value:q}}}function H(q){if(typeof q!="string")return 0<=q;var he=B(q);return(he.type==="%"||he.type==="px")&&0<he.value}var j="[-+]?[0-9]*.?[0-9]+",ee=[{name:"px",regexp:new RegExp("^".concat(j,"px$"))},{name:"%",regexp:new RegExp("^".concat(j,"%$"))},{name:"px",regexp:new RegExp("^".concat(j,"$"))}];function fe(q,he,Te){return he in q?Object.defineProperty(q,he,{value:Te,enumerable:!0,configurable:!0,writable:!0}):q[he]=Te,q}var me={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(q){return 0<=q}},minHeight:{type:Number,default:0,validator:function(q){return 0<=q}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:H},height:{type:[Number,String],default:300,validator:function(q){return q==="auto"||H(q)}},pivotX:{type:Number,default:.5,validator:function(q){return 0<=q&&q<=1}},pivotY:{type:Number,default:.5,validator:function(q){return 0<=q&&q<=1}}},components:{Resizer:D},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var q=this;if(Pe.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var he=function(){if(typeof window<"u")for(var Te=["","WebKit","Moz","O","Ms"],ze=0;ze<Te.length;ze++){var Xe=Te[ze]+"MutationObserver";if(Xe in window)return window[Xe]}return!1}();he?this.mutationObserver=new he(function(Te){q.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Pe.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var q=this.viewportHeight,he=this.viewportWidth,Te=this.shift,ze=this.pivotX,Xe=this.pivotY,et=this.trueModalWidth,nt=this.trueModalHeight,Lt=he-et,Mt=Math.max(q-nt,0),Ft=Te.left+ze*Lt,_t=Te.top+Xe*Mt;return{left:parseInt(G(0,Lt,Ft)),top:parseInt(G(0,Mt,_t))}},trueModalWidth:function(){var q=this.viewportWidth,he=this.modal,Te=this.adaptive,ze=this.minWidth,Xe=this.maxWidth,et=he.widthType==="%"?q/100*he.width:he.width,nt=Math.max(ze,Math.min(q,Xe));return Te?G(ze,nt,et):et},trueModalHeight:function(){var q=this.viewportHeight,he=this.modal,Te=this.isAutoHeight,ze=this.adaptive,Xe=this.minHeight,et=this.maxHeight,nt=he.heightType==="%"?q/100*he.height:he.height;if(Te)return this.modal.renderedHeight;var Lt=Math.max(Xe,Math.min(q,et));return ze?G(Xe,Lt,nt):nt},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(q){return q.trim()}).filter(Boolean).map(function(q){return q.split(":")}).reduce(function(q,he){var Te=C(he,2);return k({},q,M({},Te[0],Te[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(q){var he=this;q?(this.visibility.overlay=!0,setTimeout(function(){he.visibility.modal=!0,he.$nextTick(function(){he.addDraggableListeners(),he.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){he.visibility.overlay=!1,he.$nextTick(function(){he.removeDraggableListeners(),he.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(q,he,Te){if(this.name===q){var ze=he===void 0?!this.visible:he;this.toggle(ze,Te)}},setInitialSize:function(){var q=this.modal,he=B(this.width),Te=B(this.height);q.width=he.value,q.widthType=he.type,q.height=Te.value,q.heightType=Te.type},handleEscapeKeyUp:function(q){q.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=R(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(q){var he=0<arguments.length&&q!==void 0?q:{};return function(Te){var ze=0<arguments.length&&Te!==void 0?Te:{};return k({id:Z(),timestamp:Date.now(),canceled:!1},ze)}(function(Te){for(var ze=1;ze<arguments.length;ze++){var Xe=arguments[ze]!=null?arguments[ze]:{},et=Object.keys(Xe);typeof Object.getOwnPropertySymbols=="function"&&(et=et.concat(Object.getOwnPropertySymbols(Xe).filter(function(nt){return Object.getOwnPropertyDescriptor(Xe,nt).enumerable}))),et.forEach(function(nt){fe(Te,nt,Xe[nt])})}return Te}({name:this.name,ref:this.$refs.modal},he))},handleModalResize:function(q){this.modal.widthType="px",this.modal.width=q.size.width,this.modal.heightType="px",this.modal.height=q.size.height;var he=this.modal.size;this.$emit("resize",this.createModalEvent({size:he}))},toggle:function(q,he){var Te=this.reset,ze=this.scrollable,Xe=this.visible;if(Xe!==q){var et=Xe?"before-close":"before-open";et=="before-open"?(Te&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),ze&&document.body.classList.add("v--modal-block-scroll")):ze&&document.body.classList.remove("v--modal-block-scroll");var nt=!1,Lt=this.createModalEvent({stop:function(){nt=!0},state:q,params:he});this.$emit(et,Lt),nt||(this.visible=q,et=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var q=typeof this.draggable!="string"?".v--modal-box":this.draggable;return q?this.$refs.overlay.querySelector(q):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(q){q?this.connectObserver():this.disconnectObserver();var he=q?"opened":"closed",Te=this.createModalEvent({state:q});this.$emit(he,Te)},addDraggableListeners:function(){var q=this;if(this.draggable){var he=this.getDraggableElement();if(he){var Te=0,ze=0,Xe=0,et=0,nt=function(_t){return _t.touches&&0<_t.touches.length?_t.touches[0]:_t},Lt=function(_t){var Pt=_t.target;if(!Pt||Pt.nodeName!=="INPUT"&&Pt.nodeName!=="TEXTAREA"&&Pt.nodeName!=="SELECT"){var Et=nt(_t),$t=Et.clientX,X=Et.clientY;document.addEventListener("mousemove",Mt),document.addEventListener("touchmove",Mt),document.addEventListener("mouseup",Ft),document.addEventListener("touchend",Ft),Te=$t,ze=X,Xe=q.shift.left,et=q.shift.top}},Mt=function(_t){var Pt=nt(_t),Et=Pt.clientX,$t=Pt.clientY;q.shift.left=Xe+Et-Te,q.shift.top=et+$t-ze,_t.preventDefault()},Ft=function _t(Pt){q.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",Mt),document.removeEventListener("touchmove",Mt),document.removeEventListener("mouseup",_t),document.removeEventListener("touchend",_t),Pt.preventDefault()};he.addEventListener("mousedown",Lt),he.addEventListener("touchstart",Lt)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var q=this.viewportHeight,he=this.viewportWidth,Te=this.shift,ze=this.pivotX,Xe=this.pivotY,et=this.trueModalWidth,nt=this.trueModalHeight,Lt=he-et,Mt=Math.max(q-nt,0),Ft=Te.left+ze*Lt,_t=Te.top+Xe*Mt;this.shift.left-=Ft-G(0,Lt,Ft),this.shift.top-=_t-G(0,Mt,_t)}}},ue=(g(7),P(me,b,[]));ue.options.__file="src/Modal.vue";function De(){var q=this,he=q.$createElement,Te=q._self._c||he;return Te("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:q.width,"pivot-y":.3,adaptive:!0,clickToClose:q.clickToClose,transition:q.transition},on:{"before-open":q.beforeOpened,"before-close":q.beforeClosed,opened:function(ze){q.$emit("opened",ze)},closed:function(ze){q.$emit("closed",ze)}}},[Te("div",{staticClass:"dialog-content"},[q.params.title?Te("div",{staticClass:"dialog-c-title",domProps:{innerHTML:q._s(q.params.title||"")}}):q._e(),q._v(" "),q.params.component?Te(q.params.component,q._b({tag:"component"},"component",q.params.props,!1)):Te("div",{staticClass:"dialog-c-text",domProps:{innerHTML:q._s(q.params.text||"")}})],1),q._v(" "),q.buttons?Te("div",{staticClass:"vue-dialog-buttons"},q._l(q.buttons,function(ze,Xe){return Te("button",{key:Xe,class:ze.class||"vue-dialog-button",style:q.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:q._s(ze.title)},on:{click:function(et){et.stopPropagation(),q.click(Xe,et)}}},[q._v(`
      `+q._s(ze.title)+`
    `)])})):Te("div",{staticClass:"vue-dialog-buttons-none"})])}var be=ue.exports;De._withStripped=!0;var te={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(q){window.addEventListener("keyup",this.onKeyUp),this.params=q.params||{},this.$emit("before-opened",q)},beforeClosed:function(q){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",q)},click:function(q,he,Te){var ze=2<arguments.length&&Te!==void 0?Te:"click",Xe=this.buttons[q];Xe&&typeof Xe.handler=="function"?Xe.handler(q,he,{source:ze}):this.$modal.hide("dialog")},onKeyUp:function(q){if(q.which===13&&0<this.buttons.length){var he=this.buttons.length===1?0:this.buttons.findIndex(function(Te){return Te.default});he!==-1&&this.click(he,q,"keypress")}}}},T=(g(9),P(te,De,[]));T.options.__file="src/Dialog.vue";function se(){var q=this,he=q.$createElement,Te=q._self._c||he;return Te("div",{attrs:{id:"modals-container"}},q._l(q.modals,function(ze){return Te("modal",q._g(q._b({key:ze.id,on:{closed:function(Xe){q.remove(ze.id)}}},"modal",ze.modalAttrs,!1),ze.modalListeners),[Te(ze.component,q._g(q._b({tag:"component",on:{close:function(Xe){q.$modal.hide(ze.modalAttrs.name)}}},"component",ze.componentAttrs,!1),q.$listeners))],1)}))}var ve=T.exports;function we(q,he,Te){return he in q?Object.defineProperty(q,he,{value:Te,enumerable:!0,configurable:!0,writable:!0}):q[he]=Te,q}se._withStripped=!0;var Ve=P({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(q,he,Te,ze){var Xe=this,et=1<arguments.length&&he!==void 0?he:{},nt=2<arguments.length&&Te!==void 0?Te:{},Lt=3<arguments.length&&ze!==void 0?ze:{},Mt=Z(),Ft=nt.name||"_dynamic_modal_"+Mt;this.modals.push({id:Mt,modalAttrs:function(_t){for(var Pt=1;Pt<arguments.length;Pt++){var Et=arguments[Pt]!=null?arguments[Pt]:{},$t=Object.keys(Et);typeof Object.getOwnPropertySymbols=="function"&&($t=$t.concat(Object.getOwnPropertySymbols(Et).filter(function(X){return Object.getOwnPropertyDescriptor(Et,X).enumerable}))),$t.forEach(function(X){we(_t,X,Et[X])})}return _t}({},nt,{name:Ft}),modalListeners:Lt,component:q,componentAttrs:et}),this.$nextTick(function(){Xe.$modal.show(Ft)})},remove:function(q){var he=this.modals.findIndex(function(Te){return Te.id===q});he!==-1&&this.modals.splice(he,1)}}},se,[]);Ve.options.__file="src/ModalsContainer.vue";var We=Ve.exports;function ke(q){return(ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(q)}function K(q,he,Te){return he in q?Object.defineProperty(q,he,{value:Te,enumerable:!0,configurable:!0,writable:!0}):q[he]=Te,q}var F=function(q,he,Te){if(!Te._dynamicContainer&&he.injectModalsContainer){var ze=(Xe=document.createElement("div"),document.body.appendChild(Xe),Xe);new q({parent:Te,render:function(et){return et(We)}}).$mount(ze)}var Xe;return Te._dynamicContainer},Ce={install:function(q,he){var Te=1<arguments.length&&he!==void 0?he:{};if(!this.installed){this.installed=!0,this.event=new q,this.rootInstance=null;var ze=Te.componentName||"Modal",Xe=Te.dynamicDefaults||{},et=function(nt,Lt,Mt,Ft){var _t=Mt&&Mt.root?Mt.root:Ce.rootInstance,Pt=F(q,Te,_t);Pt?Pt.add(nt,Lt,function(Et){for(var $t=1;$t<arguments.length;$t++){var X=arguments[$t]!=null?arguments[$t]:{},le=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(le=le.concat(Object.getOwnPropertySymbols(X).filter(function(V){return Object.getOwnPropertyDescriptor(X,V).enumerable}))),le.forEach(function(V){K(Et,V,X[V])})}return Et}({},Xe,Mt),Ft):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};q.prototype.$modal={show:function(nt){for(var Lt=arguments.length,Mt=new Array(1<Lt?Lt-1:0),Ft=1;Ft<Lt;Ft++)Mt[Ft-1]=arguments[Ft];switch(ke(nt)){case"string":return(function(_t,Pt){Ce.event.$emit("toggle",_t,!0,Pt)}).apply(void 0,[nt].concat(Mt));case"object":case"function":return Te.dynamic?et.apply(void 0,[nt].concat(Mt)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",nt)}},hide:function(nt,Lt){Ce.event.$emit("toggle",nt,!1,Lt)},toggle:function(nt,Lt){Ce.event.$emit("toggle",nt,void 0,Lt)}},q.component(ze,be),Te.dialog&&q.component("VDialog",ve),Te.dynamic&&(q.component("ModalsContainer",We),q.mixin({beforeMount:function(){Ce.rootInstance===null&&(Ce.rootInstance=this.$root)}}))}}},Pe=p.default=Ce}],r.c=c,r.d=function(l,p,g){r.o(l,p)||Object.defineProperty(l,p,{enumerable:!0,get:g})},r.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,p){if(1&p&&(l=r(l)),8&p||4&p&&typeof l=="object"&&l&&l.__esModule)return l;var g=Object.create(null);if(r.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&p&&typeof l!="string")for(var b in l)r.d(g,b,(function(w){return l[w]}).bind(null,b));return g},r.n=function(l){var p=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(p,"a",p),p},r.o=function(l,p){return Object.prototype.hasOwnProperty.call(l,p)},r.p="/dist/",r(r.s=11);function r(l){if(c[l])return c[l].exports;var p=c[l]={i:l,l:!1,exports:{}};return s[l].call(p.exports,p,p.exports,r),p.l=!0,p.exports}var s,c})}(mp)),mp.exports}var Q3=$3();const J3=vf(Q3),Oh=656,eA={data(){return{modalWidth:Oh,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:Qv},mounted(){this.modalWidth=window.innerWidth<Oh?Oh/2:Oh,$v().then(n=>{this.imageUrl=n}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(n){this.manualClose||n.stop()}}};var tA=function(){var e=this,r=e._self._c;return r("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[r("div",{staticClass:"modal",attrs:{id:"partition-register"}},[r("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),r("div",{staticClass:"modal-content"},[r("p",[e._v(e._s(e.content))]),r("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?r("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?r("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?r("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},iA=[],nA=kn(eA,tA,iA,!1,null,"73759aa5");const rA=nA.exports;oc.use(J3);const oA={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...ds({connected:n=>n.connected,healthChecked:n=>n.healthChecked,translations:n=>n.translations})},components:{WarningModal:rA}};var aA=function(){var e=this,r=e._self._c;return r("div",[e.connected?e.healthChecked?e._e():r("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):r("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},sA=[],uA=kn(oA,aA,sA,!1,null,null);const lA=uA.exports,cA={computed:{...ds({isExplorerOpen:n=>n.explorer.isOpen})}};var fA=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?r("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},hA=[],dA=kn(cA,fA,hA,!1,null,null);const pA=dA.exports;class mA{constructor(){this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:aS,DrawerContainer:rT,ExplorerContainer:CT,FilterExplorerContainer:IT,TagsEditorContainer:qT,DocumentPreviewContainer:YT,BlanchetteEditorContainer:K3,ModalContainer:lA},this.registeredComponents={Overlay:pA},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},this.init(),this.initListeners()}init(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new eS(Ch)),this.services.push(new tS(Ch))}onPageChange(){Ch.commit(vs)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildNavTrees(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(r=>{this.mainContentComponents.push(this.buildComponent(r))})}buildComponent(e){return new oc({delimiters:["${","}"],el:e,store:Ch,components:this.vuejsElements})}}class gA{constructor(){this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll("a"),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=this.treeWrapper.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.init()}init(){this.userPicture.length&&Vh(this.userPicture[0],"rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(e=>e.addEventListener("click",this.adminMenuLinkClick)),this.adminMenuNavParents.forEach(e=>e.addEventListener("click",this.adminMenuNavParentClick)),this.searchButton.addEventListener("click",this.searchButtonClick),this.treeButton.addEventListener("click",this.treeButtonClick),this.treeWrapperLink.addEventListener("click",this.treeWrapperLinkClick),this.userPicture.addEventListener("click",this.userPictureClick),this.userActionsLink.addEventListener("click",this.userActionsLinkClick),this.mainContentOverlay.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}menuClick(e){this.menuOpen?this.closeMenu():this.openMenu()}adminMenuNavParentClick(e){e.preventDefault();const r=e.currentTarget;if(!r)return!1;this.adminMenuNavParents.forEach(s=>{s.classList.remove("nav-open")}),r.classList.contains("nav-open")?r.classList.remove("nav-open"):r.classList.add("nav-open")}adminMenuLinkClick(e){this.menuOpen&&this.closeMenu()}showOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}hideOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}openMenu(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}closeMenu(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}searchButtonClick(e){this.searchOpen?this.closeSearch():this.openSearch()}openSearch(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}closeSearch(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}treeButtonClick(e){this.treeOpen?this.closeTree():this.openTree()}treeWrapperLinkClick(e){e.currentTarget.className.indexOf("tab-link")===-1&&this.treeOpen&&this.closeTree()}openTree(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}closeTree(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),$x(this.treeButton,"active"),this.treeOpen=!1}userPictureClick(e){return this.userOpen?this.closeUser():this.openUser(),!1}userActionsLinkClick(e){this.userOpen&&this.closeUser()}openUser(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}closeUser(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}mainContentOverlayClick(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}const $l="bulk-actions--collapsed",gp="bulk-actions--collapsing";function bg(){const n=[],e=document.querySelectorAll(".bulk-layout ."+$l),r=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),s=document.querySelector('.bulk-layout input[name="bulk-selection-all"]'),c=document.querySelector(".bulk-layout .uk-button-select-all"),l=document.querySelectorAll(".bulk-layout .uk-button-bulk"),p=document.querySelectorAll(".bulk-layout input.bulk-form-value"),g=document.querySelectorAll('.bulk-layout input[name="bulk-selection[]"]');e.forEach(C=>C.addEventListener("transitionend",k=>{C.classList.contains(gp)&&C.classList.remove(gp)}));const b=()=>{g.forEach(C=>{C.checked=!1,n.splice(0,n.length),p.forEach(k=>k.value="")}),s&&(s.checked=!1),w()},w=()=>{window.requestAnimationFrame(()=>{e.forEach(C=>C.classList.add(gp)),e.forEach(C=>C.classList.add($l))})};l.forEach(C=>{C.hasAttribute("data-bulk-group")&&C.addEventListener("click",k=>{const M=document.getElementById(C.getAttribute("data-bulk-group"));M&&(document.querySelectorAll(".bulk-group").forEach(G=>{G!==M&&G.classList.remove("bulk-group--open")}),M.classList.toggle("bulk-group--open"))})}),g.forEach(C=>{C.addEventListener("change",k=>{C.checked?n.push(C.value):n.splice(n.indexOf(C.value),1),n.length>0?(e.forEach(M=>M.classList.remove($l)),p.forEach(M=>M.value=JSON.stringify(n))):(w(),s&&(s.checked=!1))})}),r&&r.addEventListener("click",C=>{C.preventDefault(),C.stopPropagation(),b()}),c&&c.addEventListener("click",C=>{C.preventDefault(),C.stopPropagation(),g.forEach(k=>{k.checked=!0,n.push(k.value)}),e.forEach(k=>k.classList.remove($l)),p.forEach(k=>k.value=JSON.stringify(n))}),s&&s.addEventListener("change",C=>{s.checked?g.forEach(k=>{k.checked=!0,n.push(k.value)}):b(),n.length>0?(e.forEach(k=>k.classList.remove($l)),p.forEach(k=>k.value=JSON.stringify(n))):e.forEach(k=>k.classList.add($l))})}function _g(){document.querySelectorAll('input[type="color"]').forEach(e=>{if(e.parentElement&&e.parentElement.classList.contains("color-input-wrapper"))return;const r=e.getAttribute("data-initial-value"),s=document.createElement("div");s.className="color-input-wrapper",e.parentNode.insertBefore(s,e),s.appendChild(e);const c=document.createElement("button");c.type="button",c.classList.add("color-toggle-btn"),c.classList.add("uk-button"),c.textContent="Reset",s.appendChild(c),r&&r!==""&&(s.classList.add("color-input-wrapper--defined"),s.style.setProperty("--color-input-value",r)),yg(e,c,r),c.addEventListener("click",()=>{yg(e,c)}),e.addEventListener("change",()=>{e.value&&e.value!==""?(s.style.setProperty("--color-input-value",e.value),s.classList.add("color-input-wrapper--defined")):(s.style.removeProperty("--color-input-value"),s.classList.remove("color-input-wrapper--defined"))})})}function yg(n,e,r=void 0){n.type==="color"?(n.type="text",e.textContent=n.getAttribute("data-color-picker-label")):(n.type="color",n.value=r||n.value||"#000000",e.textContent=n.getAttribute("data-hex-color-label"))}class vA{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.mobile=null,this.minifyTreePanelButton=null,this.mainTrees=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.entriesPanel=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}onDocumentReady(){this.setupCollapsedNestableState(),this.lazyload=new vC,this.entriesPanel=new bC,this.vueApp=new mA,this.mobile=new gA,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(e=>{e.addEventListener("click",this.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),bg(),_g(),window.addEventListener("pageshowend",()=>{bg(),_g(),this.syncCollapsedNestableState()})}setupCollapsedNestableState(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){var r=e.children(this.options._listClass);r.length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}saveCollapsedNestableState(e=null){e===null&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",JSON.stringify(e))}syncCollapsedNestableState(){this.collapsedNestableState.nodes.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})})}initNestables(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(e=>{const r={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?r.group="nodeTree":e.classList.contains("tagtree")?r.group="tagTree":e.classList.contains("foldertree")&&(r.group="folderTree"),window.UIkit.nestable(e,r)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}bindMainTrees(){document.querySelectorAll(".nodetree-widget .root-tree").forEach(l=>{const p=$(l);p.off("change.uk.nestable",this.onNestableNodeTreeChange),p.on("change.uk.nestable",this.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(l=>{const p=$(l);p.off("change.uk.nestable",this.onNestableTagTreeChange),p.on("change.uk.nestable",this.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(l=>{const p=$(l);p.off("change.uk.nestable",this.onNestableFolderTreeChange),p.on("change.uk.nestable",this.onNestableFolderTreeChange)}),this.mainTrees.querySelectorAll(".tree-element-name").forEach(l=>{l.removeEventListener("contextmenu",this.maintreeElementNameRightClick),l.addEventListener("contextmenu",this.maintreeElementNameRightClick)})}maintreeElementNameRightClick(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(s=>{s.classList.contains("uk-open")&&s.classList.remove("uk-open")});const r=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return r&&(r.classList.contains("uk-open")?r.classList.remove("uk-open"):r.classList.add("uk-open")),!1}bindMainNodeTreeLangs(){document.body.addEventListener("click",e=>{const r=e.target.closest("#tree-container .nodetree-langs a");if(r){this.lazyload.canvasLoader.show();const s=parseInt(r.getAttribute("data-translation-id"),10);return this.refreshMainNodeTree(s),!1}})}fetchSessionMessages(){return new Promise(async(e,r)=>{const s=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),c=window.RozierConfig.routes.ajaxSessionMessages+"?"+s.toString();try{const p=await(await fetch(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();p.messages||e([]),e(p.messages)}catch(l){r(l)}})}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&Array.isArray(e.confirm)&&e.confirm.length>0&&e.confirm.forEach(r=>{window.UIkit.notify({message:r,status:"success",timeout:2e3,pos:"top-center"})}),e.error&&Array.isArray(e.error)&&e.error.length>0&&e.error.forEach(r=>{window.UIkit.notify({message:r,status:"error",timeout:2e3,pos:"top-center"})})}refreshAllNodeTrees(e){const r=[];return r.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&r.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(s=>{r.push(this.lazyload.childrenNodesFields.refreshNodeTree(s))}),Promise.all(r)}async refreshMainNodeTree(e=void 0){const r=document.querySelector("#tree-container .nodetree-widget");if(!r){console.debug("No main node-tree available.");return}const s=r.querySelector(".root-tree");s&&!e&&(e=s.getAttribute("data-translation-id"));try{const c=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:e||null}),l=window.RozierConfig.routes.nodesTreeAjax+"?"+c.toString(),p=await fetch(l,{method:"GET",headers:{Accept:"application/json"}});if(!p.ok)throw p;const g=await p.json();if(typeof g.nodeTree<"u"){await Lu(r),r.insertAdjacentHTML("afterend",g.nodeTree),r.remove();const b=document.querySelector("#tree-container .nodetree-widget");if(b)await ul(b);else{console.debug("No main node-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink(),this.lazyload.nodeTreeContextActions=new sd}}catch{console.log("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),await cc(3e3),this.refreshMainNodeTree(e)}this.lazyload.canvasLoader.hide()}async refreshMainTagTree(){const e=document.querySelector("#tree-container .tagtree-widget");if(!e){console.debug("No main tag-tree available.");return}const r=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),s=window.RozierConfig.routes.tagsTreeAjax+"?"+r.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json"}})).json();if(typeof l.tagTree<"u"){await Lu(e),e.insertAdjacentHTML("afterend",l.tagTree),e.remove();const p=document.querySelector("#tree-container .tagtree-widget");if(p)await ul(p);else{console.debug("No main tag-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}this.lazyload.canvasLoader.hide()}async refreshMainFolderTree(){const e=document.querySelector("#tree-container .foldertree-widget");if(!e){console.debug("No main folder-tree available.");return}const r=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),s=window.RozierConfig.routes.foldersTreeAjax+"?"+r.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json"}})).json();if(typeof l.folderTree<"u"){await Lu(e),e.insertAdjacentHTML("afterend",l.folderTree),e.remove();const p=document.querySelector("#tree-container .foldertree-widget");if(p)await ul(p);else{console.debug("No main folder-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}this.lazyload.canvasLoader.hide()}toggleTreesPanel(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}openTreesPanel(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}toggleUserPanel(){return document.getElementById("user-panel").classList.toggle("minified"),!1}onNestableCollapse({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.push(e[0].getAttribute("data-node-id"));break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.push(e[0].getAttribute("data-tag-id"));break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.push(e[0].getAttribute("data-folder-id"));break}this.saveCollapsedNestableState(this.collapsedNestableState)}}onNestableExpand({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(e[0].getAttribute("data-node-id")),1);break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(e[0].getAttribute("data-tag-id")),1);break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(e[0].getAttribute("data-folder-id")),1);break}this.saveCollapsedNestableState(this.collapsedNestableState)}}async onNestableNodeTreeChange(e,r,s,c){if(c==="removed"||!s)return!1;const l=s[0];if(!l)return console.error("No element found"),!1;const p=parseInt(l.getAttribute("data-node-id"));let g=null;const b=l.parentElement.closest(".nodetree-element"),w=l.parentElement.closest(".stack-tree-widget"),C=l.parentElement.closest(".children-node-widget");if(b?g=parseInt(b.getAttribute("data-node-id")):w?g=parseInt(w.getAttribute("data-parent-node-id")):C&&(g=parseInt(C.getAttribute("data-parent-node-id"))),isNaN(g)&&(g=null),p===g)return console.error("You cannot move a node inside itself!"),window.location.reload(),!1;const k={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:p,newParent:g},M=l.nextElementSibling;if(M&&typeof M.getAttribute("data-node-id")<"u")k.nextNodeId=parseInt(M.getAttribute("data-node-id"));else{const G=l.previousElementSibling;G&&typeof G.getAttribute("data-node-id")<"u"&&(k.prevNodeId=parseInt(G.getAttribute("data-node-id")))}try{const G=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",p),R=await fetch(G,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(k)});if(!R.ok)throw R;const Z=await R.json();window.UIkit.notify({message:Z.responseText||Z.detail,status:Z.status,timeout:3e3,pos:"top-center"})}catch(G){const R=await G.json();window.UIkit.notify({message:R.error_message||R.detail,status:"danger",timeout:3e3,pos:"top-center"})}}async onNestableTagTreeChange(e,r,s,c){if(c==="removed")return!1;const l=s[0];let p=parseInt(l.getAttribute("data-tag-id")),g=null;const b=l.parentElement.closest(".tagtree-element"),w=l.parentElement.closest(".root-tree");if(b?g=parseInt(b.getAttribute("data-tag-id")):w&&(g=parseInt(w.getAttribute("data-parent-tag-id"))),isNaN(g)&&(g=null),p===g)return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),!1;let C={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:p,newParent:g};const k=l.nextElementSibling;if(k&&typeof k.getAttribute("data-tag-id")<"u")C.nextTagId=parseInt(k.getAttribute("data-tag-id"));else{const M=l.previousElementSibling;M&&typeof M.getAttribute("data-tag-id")<"u"&&(C.prevTagId=parseInt(M.getAttribute("data-tag-id")))}try{const M=await fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",p),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(C)});if(!M.ok)throw M;const G=await M.json();window.UIkit.notify({message:G.responseText,status:G.status,timeout:3e3,pos:"top-center"})}catch(M){const G=await M.json();window.UIkit.notify({message:G.error_message||G.detail,status:"danger",timeout:3e3,pos:"top-center"})}}async onNestableFolderTreeChange(e,r,s,c){if(c==="removed")return!1;const l=s[0];let p=parseInt(l.getAttribute("data-folder-id")),g=null;const b=l.parentElement.closest(".foldertree-element"),w=l.parentElement.closest(".root-tree");if(b?g=parseInt(b.getAttribute("data-folder-id")):w&&(g=parseInt(w.getAttribute("data-parent-folder-id"))),isNaN(g)&&(g=null),p===g)return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),!1;let C={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:p,newParent:g};const k=l.nextElementSibling;if(k&&typeof k.getAttribute("data-folder-id")<"u")C.nextFolderId=parseInt(k.getAttribute("data-folder-id"));else{const M=l.previousElementSibling;M&&typeof M.getAttribute("data-folder-id")<"u"&&(C.prevFolderId=parseInt(M.getAttribute("data-folder-id")))}try{const M=await fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",p),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(C)});if(!M.ok)throw M;const G=await M.json();window.UIkit.notify({message:G.responseText,status:G.status,timeout:3e3,pos:"top-center"})}catch(M){const G=await M.json();window.UIkit.notify({message:G.error_message||G.detail,status:"danger",timeout:3e3,pos:"top-center"})}}backTopBtnClick(){return Xh.to(this.mainContentScrollable,.6,{scrollTo:{y:0},ease:Yh.easeOut}),!1}resize(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.entriesPanel.replaceSubNavs(),this.resizeFirst&&(this.resizeFirst=!1)}}window.CodeMirror=Nx;window.UIkit=UIkit;window.Rozier=new vA;const bA=n=>{document.readyState!=="loading"?n():document.addEventListener("DOMContentLoaded",n)};bA(()=>{window.Rozier.onDocumentReady()})});export default _A();
