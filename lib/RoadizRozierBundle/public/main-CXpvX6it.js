var Lw=Object.defineProperty;var Mw=(t,e,n)=>e in t?Lw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pw=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $d=(t,e,n)=>Mw(t,typeof e!="symbol"?e+"":e,n);import{g as bf,c as gh,a as k0}from"./jquery-5sAwpjfl.js";import{m as js,a as ps,V as sc,i as C0,v as Ow}from"./vue-YhlLoeNc.js";var _3=Pw((M3,jp)=>{var Um={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var Ym;function Fw(){return Ym||(Ym=1,function(t){t(jQuery)}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,n){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var a={absolute:!1,clone:!1,includeMargin:!1,display:"block"},l=t.extend(a,n),u=this.eq(0),f,h;if(l.clone===!0)f=function(){var A="position: absolute !important; top: -1000 !important; ";u=u.clone().attr("style",A).appendTo("body")},h=function(){u.remove()};else{var b=[],x="",w;f=function(){w=u.parents().addBack().filter(":hidden"),x+="visibility: hidden !important; display: "+l.display+" !important; ",l.absolute===!0&&(x+="position: absolute !important; "),w.each(function(){var A=t(this),H=A.attr("style");b.push(H),A.attr("style",H?H+";"+x:x)})},h=function(){w.each(function(A){var H=t(this),N=b[A];N===void 0?H.removeAttr("style"):H.attr("style",N)})}}f();var k=/(outer)/.test(e)?u[e](l.includeMargin):u[e]();return h(),k}})})),Um}Fw();(function(t){var e=function(N,q){typeof q>"u"&&(q={}),this.init(N,q)},n=e.prototype,a,l=["canvas","vml"],u=["oval","spiral","square","rect","roundRect"],f=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,b=!!document.createElement("canvas").getContext,x=!0,w=function(O,q,j){var O=document.createElement(O),S;for(S in j)O[S]=j[S];return typeof q<"u"&&q.appendChild(O),O},k=function(N,q){for(var j in q)N.style[j]=q[j];return N},A=function(N,q){for(var j in q)N.setAttribute(j,q[j]);return N},H=function(N,q,j,O){N.save(),N.translate(q,j),N.rotate(O),N.translate(-q,-j),N.beginPath()};n.init=function(N,q){typeof q.safeVML=="boolean"&&(x=q.safeVML);try{this.mum=document.getElementById(N)!==void 0?document.getElementById(N):document.body}catch{this.mum=document.body}if(q.id=typeof q.id<"u"?q.id:"canvasLoader",this.cont=w("div",this.mum,{id:q.id}),b)a=l[0],this.can=w("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=k(w("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(a=l[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(w("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var j=["group","oval","roundrect","fill"],O;for(O in j)e.vmlSheet.addRule(j[O],"behavior:url(#default#VML); position:absolute;")}this.vml=w("group",this.cont)}this.setColor(this.color),this.draw(),k(this.cont,{display:"none"})},n.cont={},n.can={},n.con={},n.cCan={},n.cCon={},n.timer={},n.activeId=0,n.diameter=40,n.setDiameter=function(N){this.diameter=Math.round(Math.abs(N)),this.redraw()},n.getDiameter=function(){return this.diameter},n.cRGB={},n.color="#000000",n.setColor=function(N){this.color=f.test(N)?N:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},n.getColor=function(){return this.color},n.shape=u[0],n.setShape=function(N){for(var q in u)if(N===u[q]){this.shape=N,this.redraw();break}},n.getShape=function(){return this.shape},n.density=40,n.setDensity=function(N){this.density=x&&a===l[1]?Math.round(Math.abs(N))<=40?Math.round(Math.abs(N)):40:Math.round(Math.abs(N)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},n.getDensity=function(){return this.density},n.range=1.3,n.setRange=function(N){this.range=Math.abs(N),this.redraw()},n.getRange=function(){return this.range},n.speed=2,n.setSpeed=function(N){this.speed=Math.round(Math.abs(N))},n.getSpeed=function(){return this.speed},n.fps=24,n.setFPS=function(N){this.fps=Math.round(Math.abs(N)),this.reset()},n.getFPS=function(){return this.fps},n.getRGB=function(N){return N=N.charAt(0)==="#"?N.substring(1,7):N,{r:parseInt(N.substring(0,2),16),g:parseInt(N.substring(2,4),16),b:parseInt(N.substring(4,6),16)}},n.draw=function(){var N=0,q,j,O,S,P,W,I,G=this.density,J=Math.round(G*this.range),ue,de,ge=0;de=this.cCon;var ce=this.diameter;if(a===l[0])for(de.clearRect(0,0,1e3,1e3),A(this.can,{width:ce,height:ce}),A(this.cCan,{width:ce,height:ce});N<G;){switch(ue=N<=J?1-1/J*N:ue=0,W=270-360/G*N,I=W/180*Math.PI,de.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+ue.toString()+")",this.shape){case u[0]:case u[1]:q=ce*.07,S=ce*.47+Math.cos(I)*(ce*.47-q)-ce*.47,P=ce*.47+Math.sin(I)*(ce*.47-q)-ce*.47,de.beginPath(),this.shape===u[1]?de.arc(ce*.5+S,ce*.5+P,q*ue,0,Math.PI*2,!1):de.arc(ce*.5+S,ce*.5+P,q,0,Math.PI*2,!1);break;case u[2]:q=ce*.12,S=Math.cos(I)*(ce*.47-q)+ce*.5,P=Math.sin(I)*(ce*.47-q)+ce*.5,H(de,S,P,I),de.fillRect(S,P-q*.5,q,q);break;case u[3]:case u[4]:j=ce*.3,O=j*.27,S=Math.cos(I)*(O+(ce-O)*.13)+ce*.5,P=Math.sin(I)*(O+(ce-O)*.13)+ce*.5,H(de,S,P,I),this.shape===u[3]?de.fillRect(S,P-O*.5,j,O):(q=O*.55,de.moveTo(S+q,P-O*.5),de.lineTo(S+j-q,P-O*.5),de.quadraticCurveTo(S+j,P-O*.5,S+j,P-O*.5+q),de.lineTo(S+j,P-O*.5+O-q),de.quadraticCurveTo(S+j,P-O*.5+O,S+j-q,P-O*.5+O),de.lineTo(S+q,P-O*.5+O),de.quadraticCurveTo(S,P-O*.5+O,S,P-O*.5+O-q),de.lineTo(S,P-O*.5+q),de.quadraticCurveTo(S,P-O*.5,S+q,P-O*.5))}de.closePath(),de.fill(),de.restore(),++N}else{switch(k(this.cont,{width:ce,height:ce}),k(this.vml,{width:ce,height:ce}),this.shape){case u[0]:case u[1]:I="oval",q=140;break;case u[2]:I="roundrect",q=120;break;case u[3]:case u[4]:I="roundrect",q=300}for(j=O=q,S=500-O,P=-O*.5;N<G;){switch(ue=N<=J?1-1/J*N:ue=0,W=270-360/G*N,this.shape){case u[1]:j=O=q*ue,S=500-q*.5-q*ue*.5,P=(q-q*ue)*.5;break;case u[0]:case u[2]:h&&(P=0,this.shape===u[2]&&(S=500-O*.5));break;case u[3]:case u[4]:j=q*.95,O=j*.28,h?(S=0,P=500-O*.5):(S=500-j,P=-O*.5),ge=this.shape===u[4]?.6:0}de=A(k(w("group",this.vml),{width:1e3,height:1e3,rotation:W}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),de=k(w(I,de,{stroked:!1,arcSize:ge}),{width:j,height:O,top:P,left:S}),w("fill",de,{color:this.color,opacity:ue}),++N}}this.tick(!0)},n.clean=function(){if(a===l[0])this.con.clearRect(0,0,1e3,1e3);else{var N=this.vml;if(N.hasChildNodes())for(;N.childNodes.length>=1;)N.removeChild(N.firstChild)}},n.redraw=function(){this.clean(),this.draw()},n.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},n.tick=function(N){var q=this.con,j=this.diameter;N||(this.activeId+=360/this.density*this.speed),a===l[0]?(q.clearRect(0,0,j,j),H(q,j*.5,j*.5,this.activeId/180*Math.PI),q.drawImage(this.cCan,0,0,j,j),q.restore()):(this.activeId>=360&&(this.activeId-=360),k(this.vml,{rotation:this.activeId}))},n.show=function(){if(typeof this.timer!="number"){var N=this;this.timer=self.setInterval(function(){N.tick()},Math.round(1e3/this.fps)),k(this.cont,{display:"block"})}},n.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,k(this.cont,{display:"none"}))},n.kill=function(){var N=this.cont;typeof this.timer=="number"&&this.hide(),a===l[0]?(N.removeChild(this.can),N.removeChild(this.cCan)):N.removeChild(this.vml);for(var q in this)delete this[q]},t.CanvasLoader=e})(window);(function(t){t.fn.caret=function(e){var n=this[0],a=n.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(a){n.focus();var l=window.getSelection().getRangeAt(0),u=l.cloneRange();return u.selectNodeContents(n),u.setEnd(l.endContainer,l.endOffset),u.toString().length}return n.selectionStart}if(document.selection){if(n.focus(),a){var l=document.selection.createRange(),u=document.body.createTextRange();return u.moveToElementText(n),u.setEndPoint("EndToEnd",l),u.text.length}var e=0,f=n.createTextRange(),u=document.selection.createRange().duplicate(),h=u.getBookmark();for(f.moveToBookmark(h);f.moveStart("character",-1)!==0;)e++;return e}return n.selectionStart?n.selectionStart:0}if(e==-1&&(e=this[a?"text":"val"]().length),window.getSelection)a?(n.focus(),window.getSelection().collapse(n.firstChild,e)):n.setSelectionRange(e,e);else if(document.body.createTextRange)if(a){var f=document.body.createTextRange();f.moveToElementText(n),f.moveStart("character",e),f.collapse(!0),f.select()}else{var f=n.createTextRange();f.move("character",e),f.select()}return a||n.focus(),e}})(jQuery);(function(t){t.fn.tagEditorInput=function(){var e=" ",n=t(this),a=parseInt(n.css("fontSize")),l=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),u=function(){if(e!==(e=n.val())){l.text(e);var f=l.width()+a;20>f&&(f=20),f!=n.width()&&n.width(f)}};return l.insertAfter(n),n.bind("keyup keydown focus",u)},t.fn.tagEditor=function(e,n,a){function l(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var u,f=t.extend({},t.fn.tagEditor.defaults,e),h=this;if(f.dregex=new RegExp("["+f.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var b=[];return h.each(function(){var x=t(this),w=x.data("options"),k=x.next(".tag-editor");if(e=="getTags")b.push({field:x[0],editor:k,tags:k.data("tags")});else if(e=="addTag"){if(w.maxTags&&k.data("tags").length>=w.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+w.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(k).find(".tag-editor-tag").html('<input type="text" maxlength="'+w.maxLength+'">').addClass("active").find("input").val(n).blur(),a?t(".placeholder",k).remove():k.click()}else e=="removeTag"?(t(".tag-editor-tag",k).filter(function(){return t(this).text()==n}).closest("li").find(".tag-editor-delete").click(),a||k.click()):e=="destroy"&&x.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?b:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(x){if(x.which==8||x.which==46||x.ctrlKey&&x.which==88){try{var w=getSelection(),k=document.activeElement.tagName=="BODY"?t(w.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{k=0}if(w.rangeCount>0&&k&&k.length){var A=[],H=w.toString().split(k.prev().data("options").dregex);for(i=0;i<H.length;i++){var N=t.trim(H[i]);N&&A.push(N)}return t(".tag-editor-tag",k).each(function(){~t.inArray(t(this).text(),A)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),h.each(function(){var x=t(this),w=[],k=t("<ul "+(f.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(x);x.addClass("tag-editor-hidden-src").data("options",f).on("focus.tag-editor",function(){k.click()}),k.append('<li style="width:1px">&nbsp;</li>');var A='<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function H(){f.placeholder&&!w.length&&!t(".deleted, .placeholder, input",k).length&&k.append('<li class="placeholder"><div>'+f.placeholder+"</div></li>")}function N(I){var G=w.toString();w=t(".tag-editor-tag:not(.deleted)",k).map(function(J,ue){var de=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(ue).text());if(de)return de}).get(),k.data("tags",w),x.val(w.join(f.delimiter[0])),I||G!=w.toString()&&f.onChange(x,k,w),H()}k.click(function(I,G){var J,ue=99999,de;if(!(window.getSelection&&getSelection()!=""))return f.maxTags&&k.data("tags").length>=f.maxTags?(k.find("input").blur(),!1):(u=!0,t("input:focus",k).blur(),u&&(u=!0,t(".placeholder",k).remove(),G&&G.length?de="before":t(".tag-editor-tag",k).each(function(){var ge=t(this),ce=ge.offset(),Te=ce.left,ve=ce.top;I.pageY>=ve&&I.pageY<=ve+ge.height()&&(I.pageX<Te?(de="before",J=Te-I.pageX):(de="after",J=I.pageX-Te-ge.width()),J<ue&&(ue=J,G=ge))}),de=="before"?t(A).insertBefore(G.closest("li")).find(".tag-editor-tag").click():de=="after"?t(A).insertAfter(G.closest("li")).find(".tag-editor-tag").click():t(A).appendTo(k).find(".tag-editor-tag").click()),!1)}),k.on("click",".tag-editor-delete",function(I){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caret(-1),!1;var G=t(this).closest("li"),J=G.find(".tag-editor-tag");return f.beforeTagDelete(x,k,w,J.text())===!1||(J.addClass("deleted").animate({width:0},f.animateDelete,function(){G.remove(),H()}),N()),!1}),f.clickDelete&&k.on("mousedown",".tag-editor-tag",function(I){if(I.ctrlKey||I.which>1){var G=t(this).closest("li"),J=G.find(".tag-editor-tag");return f.beforeTagDelete(x,k,w,J.text())===!1||(J.addClass("deleted").animate({width:0},f.animateDelete,function(){G.remove(),H()}),N()),!1}}),k.on("click",".tag-editor-tag",function(I){if(f.clickDelete&&(I.ctrlKey||I.which>1))return!1;if(!t(this).hasClass("active")){var G=t(this).text(),J=Math.abs((t(this).offset().left-I.pageX)/t(this).width()),ue=parseInt(G.length*J),de=t(this).html('<input type="text" maxlength="'+f.maxLength+'" value="'+l(G)+'">').addClass("active").find("input");if(de.data("old_tag",G).tagEditorInput().focus().caret(ue),f.autocomplete){var ge=t.extend({},f.autocomplete),ce="select"in ge?f.autocomplete.select:"";ge.select=function(Te,ve){ce&&ce(Te,ve),setTimeout(function(){k.trigger("click",[t(".active",k).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},de.autocomplete(ge)}}return!1});function q(I){for(var G=I.closest("li"),J=I.val().replace(/ +/," ").split(f.dregex),ue=I.data("old_tag"),de=w.slice(0),ge=!1,ce,Te=0;Te<J.length;Te++)if(W=t.trim(J[Te]).slice(0,f.maxLength),f.forceLowercase&&(W=W.toLowerCase()),ce=f.beforeTagSave(x,k,de,ue,W),W=ce||W,!(ce===!1||!W)&&(f.removeDuplicates&&~t.inArray(W,de)&&t(".tag-editor-tag",k).each(function(){t(this).text()==W&&t(this).closest("li").remove()}),de.push(W),G.before('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+l(W)+'</div><div class="tag-editor-delete"><i></i></div></li>'),f.maxTags&&de.length>=f.maxTags)){ge=!0;break}I.attr("maxlength",f.maxLength).removeData("old_tag").val(""),ge?I.blur():I.focus(),N()}k.on("blur","input",function(I){I.stopPropagation();var G=t(this),J=G.data("old_tag"),ue=t.trim(G.val().replace(/ +/," ").replace(f.dregex,f.delimiter[0])),de;if(ue){if(ue.indexOf(f.delimiter[0])>=0){q(G);return}else if(ue!=J)if(f.forceLowercase&&(ue=ue.toLowerCase()),de=f.beforeTagSave(x,k,w,J,ue),ue=de||ue,de===!1){if(J){G.val(J).focus(),u=!1,N();return}try{G.closest("li").remove()}catch{}J&&N()}else f.removeDuplicates&&t(".tag-editor-tag:not(.active)",k).each(function(){t(this).text()==ue&&t(this).closest("li").remove()})}else{if(J&&f.beforeTagDelete(x,k,w,J)===!1){G.val(J).focus(),u=!1,N();return}try{G.closest("li").remove()}catch{}J&&N()}G.parent().html(l(ue)).removeClass("active"),ue!=J&&N(),H()});var j;k.on("paste","input",function(I){t(this).removeAttr("maxlength"),j=t(this),setTimeout(function(){q(j)},30)});var O;k.on("keypress","input",function(I){f.delimiter.indexOf(String.fromCharCode(I.which))>=0&&(O=t(this),setTimeout(function(){q(O)},20))}),k.on("keydown","input",function(I){var G=t(this);if((I.which==37||!f.autocomplete&&I.which==38)&&!G.caret()||I.which==8&&!G.val()){var J=G.closest("li").prev("li").find(".tag-editor-tag");return J.length?J.click().find("input").caret(-1):G.val()&&!(f.maxTags&&k.data("tags").length>=f.maxTags)&&t(A).insertBefore(G.closest("li")).find(".tag-editor-tag").click(),!1}else if((I.which==39||!f.autocomplete&&I.which==40)&&G.caret()==G.val().length){var ue=G.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):G.val()&&k.click(),!1}else if(I.which==9)if(I.shiftKey){var J=G.closest("li").prev("li").find(".tag-editor-tag");if(J.length)J.click().find("input").caret(0);else if(G.val()&&!(f.maxTags&&k.data("tags").length>=f.maxTags))t(A).insertBefore(G.closest("li")).find(".tag-editor-tag").click();else{x.attr("disabled","disabled"),setTimeout(function(){x.removeAttr("disabled")},30);return}return!1}else{var ue=G.closest("li").next("li").find(".tag-editor-tag");if(ue.length)ue.click().find("input").caret(0);else if(G.val())k.click();else return;return!1}else if(I.which==46&&(!t.trim(G.val())||G.caret()==G.val().length)){var ue=G.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):G.val()&&k.click(),!1}else{if(I.which==13)return k.trigger("click",[G.closest("li").next("li").find(".tag-editor-tag")]),f.maxTags&&k.data("tags").length>=f.maxTags&&k.find("input").blur(),!1;if(I.which==36&&!G.caret())k.find(".tag-editor-tag").first().click();else if(I.which==35&&G.caret()==G.val().length)k.find(".tag-editor-tag").last().click();else if(I.which==27)return G.val(G.data("old_tag")?G.data("old_tag"):"").blur(),!1}});for(var S=f.initialTags.length?f.initialTags:x.val().split(f.dregex),P=0;P<S.length&&!(f.maxTags&&P>=f.maxTags);P++){var W=t.trim(S[P].replace(/ +/," "));W&&(f.forceLowercase&&(W=W.toLowerCase()),w.push(W),k.append('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+l(W)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}N(!0),f.sortable&&t.fn.sortable&&k.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){N()}})})},t.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);(function(t){t.fn.collection=function(e){var n={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(ne,D){return!0},after_up:function(ne,D){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(ne,D){return!0},after_down:function(ne,D){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(ne,D){return!0},after_add:function(ne,D){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(ne,D){return!0},after_remove:function(ne,D){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(ne,D){return!0},after_duplicate:function(ne,D){return!0},before_init:function(ne){},after_init:function(ne){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(ne,D){return!0},drag_drop_update:function(ne,D){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},a=function(){var ne=""+Math.random()*1e3*new Date().getTime();return ne.replace(".","").split("").sort(function(){return .5-Math.random()}).join("")},l=function(ne,D){if(!D.attr("id")){var se;do se=ne+"_"+a();while(t("#"+se).length>0);D.attr("id",se)}return D.attr("id")},u=function(ne){try{var D=t(ne)}catch{return null}return D.length===0?null:D.is('input[type="checkbox"]')?D.prop("checked")===!0:D.is('input[type="radio"]')&&D.attr("name")!==void 0?t('input[name="'+D.attr("name")+'"]:checked').val():D.prop("value")!==void 0?D.val():D.html()},f=function(ne,D,se){try{var ye=t(ne)}catch{return}ye.length!==0&&(ye.is('input[type="checkbox"]')?D?ye.attr("checked",!0):ye.removeAttr("checked"):ye.prop("value")!==void 0?se?ye.attr("value",D):ye.val(D):ye.html(D))},h=function(ne){return ne===void 0||ne},b=function(ne){return(ne+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},x=function(ne,D,se,ye){var Ee=function(Ie){var Me=t(Ie);typeof Ie=="object"&&"attributes"in Ie&&t.each(Ie.attributes,function(ie,Y){t.type(Y.value)==="string"&&Me.attr(Y.name.replace(se,ye),Y.value.replace(se,ye))}),Me.length>0&&t.each(Me.data(),function(ie,Y){t.type(Y)==="string"&&Me.data(ie.replace(se,ye),Y.replace(se,ye))})},et=ne.eq(D);Ee(et[0]),et.find("*").each(function(){Ee(this)})},w=function(ne,D,se,ye,Ee,et){var Ie=new RegExp(b(se.name_prefix+"["+Ee+"]"),"g"),Me=se.name_prefix+"["+et+"]";se.children&&t.each(se.children,function(ie,Y){var Le=ne.find(Y.selector).eq(ye),Re=Le.data("collection-settings");Re&&(Re.name_prefix=Re.name_prefix.replace(Ie,Me),Le.data("collection-settings",Re))}),x(D,ye,Ie,Me),Ie=new RegExp(b(ne.attr("id")+"_"+Ee),"g"),Me=ne.attr("id")+"_"+et,se.children&&t.each(se.children,function(ie,Y){var Le=ne.find(Y.selector).eq(ye),Re=Le.data("collection-settings");Re&&(Re.elements_parent_selector=Re.elements_parent_selector.replace(Ie,Me),Re.elements_selector=Re.elements_selector.replace(Ie,Me),Re.prefix=Re.prefix.replace(Ie,Me),Le.data("collection-settings",Re))}),x(D,ye,Ie,Me)},k=function(ne,D,se,ye,Ee,et,Ie){var Me=new RegExp(b(D.name_prefix+"["+et+"]"),"g"),ie=D.name_prefix+"["+Ie+"]";return se=se.replace(Me,ie),Me=new RegExp(b(ne.attr("id")+"_"+ye),"g"),ie=ne.attr("id")+"_"+Ee,se=se.replace(Me,ie),se},A=function(ne){t(ne).find(":input").each(function(D,se){f(se,u(se),!0)})},H=function(ne,D,se,ye){var Ee=ne.data("collection-settings");return!Ee.position_field_selector&&!Ee.preserve_names&&(w(ne,D,Ee,se,se,"__swap__"),w(ne,D,Ee,ye,ye,se),w(ne,D,Ee,se,"__swap__",ye)),D.eq(se).insertBefore(D.eq(ye)),ye>se?D.eq(ye).insertBefore(D.eq(se)):D.eq(ye).insertAfter(D.eq(se)),ne.find(Ee.elements_selector)},N=function(ne,D,se,ye,Ee){for(var et=ye+1;et<=Ee;et++)D=H(ne,D,et,et-1);return ne.find(se.elements_selector)},q=function(ne,D,se,ye,Ee){for(var et=ye-1;et>=Ee;et--)D=H(ne,D,et,et+1);return ne.find(se.elements_selector)},j=function(ne,D,se,ye){for(var Ee=ye+1;Ee<D.length;Ee++)D=H(ne,D,Ee-1,Ee);return ne.find(se.elements_selector)},O=function(ne,D,se,ye){for(var Ee=D.length-2;Ee>ye;Ee--)D=H(ne,D,Ee+1,Ee);return ne.find(se.elements_selector)},S=function(ne,D,se,ye){var Ee=t(D.elements_parent_selector),et=Ee.find("."+D.prefix+"-tmp").length===0,Ie=ne.find(D.elements_selector);if(D.allow_add&&et&&(Ee.append('<span class="'+D.prefix+'-tmp"></span>'),D.add&&Ee.append(t(D.add).addClass(D.prefix+"-action "+D.prefix+"-rescue-add").data("collection",ne.attr("id")))),se){ne.data("collection-offset",Ie.length);for(var Me=t(D.container),ie=ne.find("."+D.prefix+"-add, ."+D.prefix+"-rescue-add, ."+D.prefix+"-duplicate").first(),Y=0;Ie.length<D.init_with_n_elements;){Y++;var Le=Ie.length>0?Ie.last():void 0,Re=Ie.length-1;if(Ie=W(Me,ie,ne,D,Ie,Le,Re,!1),Y>D.init_with_n_elements){console.error("Infinite loop, element selector ("+D.elements_selector+") not found !");break}}ne.data("collection-offset",Ie.length)}if(Ie.each(function(qe){var Ze=t(this);se&&Ze.data("index",qe);var Xe=Ze.find("."+D.prefix+"-actions").addBack().filter("."+D.prefix+"-actions");Xe.length===0&&(Xe=t('<div class="'+D.prefix+'-actions"></div>'),Ze.append(Xe));var ut=0;ye==="remove"&&D.fade_out&&(ut=1);var Et=[{enabled:D.allow_remove,selector:D.prefix+"-remove",html:D.remove,condition:Ie.length-ut>D.min},{enabled:D.allow_up,selector:D.prefix+"-up",html:D.up,condition:Ie.length-ut>1&&Ie.index(Ze)-ut>0},{enabled:D.allow_down,selector:D.prefix+"-down",html:D.down,condition:Ie.length-ut>1&&Ie.index(Ze)!==Ie.length-1},{enabled:D.allow_add&&!D.add_at_the_end&&!D.custom_add_location,selector:D.prefix+"-add",html:D.add,condition:Ie.length-ut<D.max},{enabled:D.allow_duplicate,selector:D.prefix+"-duplicate",html:D.duplicate,condition:Ie.length-ut<D.max}];t.each(Et,function(wt,St){if(St.enabled){var yt=Ze.find("."+St.selector);yt.length===0&&St.html&&(yt=t(St.html).appendTo(Xe).addClass(St.selector)),St.condition?(yt.removeClass(D.prefix+"-action-disabled"),D.hide_useless_buttons&&yt.css("display","")):(yt.addClass(D.prefix+"-action-disabled"),D.hide_useless_buttons&&yt.css("display","none")),yt.addClass(D.prefix+"-action").data("collection",ne.attr("id")).data("element",l(ne.attr("id")+"_"+qe,Ze))}else Ze.find("."+St.selector).css("display","none")})}),D.allow_add){var V=0;ye==="remove"&&D.fade_out&&(V=1);var we=ne.find("."+D.prefix+"-rescue-add").css("display","").removeClass(D.prefix+"-action-disabled"),Ae=ne.find("."+D.prefix+"-add");!D.add_at_the_end&&Ae.length>V||D.custom_add_location?we.css("display","none"):ye==="remove"&&D.fade_out&&(we.css("display","none"),we.fadeIn("fast")),Ie.length-V>=D.max&&(we.addClass(D.prefix+"-action-disabled"),D.hide_useless_buttons&&ne.find("."+D.prefix+"-add, ."+D.prefix+"-rescue-add, ."+D.prefix+"-duplicate").css("display","none"))}},P=function(ne,D,se){se.children&&t.each(se.children,function(ye,Ee){if(!Ee.selector)return console.log("jquery.collection.js: given collection "+ne.attr("id")+" has children collections, but children's root selector is undefined."),!0;D!==null?D.find(Ee.selector).collection(Ee):ne.find(Ee.selector).collection(Ee)})},W=function(ne,D,se,ye,Ee,et,Ie,Me){if(Ee.length<ye.max&&(Me&&h(ye.before_duplicate(se,et))||h(ye.before_add(se,et)))){var ie=se.data("prototype"),Y=se.data("collection-offset");se.data("collection-offset",Y+1),Ie===-1&&(Ie=Ee.length-1);var Le=new RegExp(b(ye.prototype_name),"g"),Re=Y;ye.preserve_names&&(Re=se.data("collection-free-key"),Re===void 0&&(Re=ce(ye,Ee)),se.data("collection-free-key",Re+1));var V=t(ie.replace(Le,Re)).data("index",Y);Te(ye,V);var we=t(ye.elements_parent_selector),Ae=we.find("> ."+ye.prefix+"-tmp");if(t(V).find("[id]").first().attr("id"),Me){var qe=Ee.eq(Ie);A(qe);var Ze=t("<div/>").append(qe.clone()).html(),Xe=ye.preserve_names||ye.position_field_selector?qe.data("index"):Ie,ut=ye.preserve_names?ge(ye,qe):Xe,Et=k(se,ye,Ze,Xe,Y,ut,Re);V=t("<div/>").html(Et).contents().data("index",Y),ye.fade_in&&V.hide(),Ae.before(V).find(ye.prefix+"-actions").remove()}else ye.fade_in&&V.hide(),Ae.before(V);Ee=se.find(ye.elements_selector);var wt=V.find("."+ye.prefix+"-add, ."+ye.prefix+"-duplicate");wt.length>0&&wt.addClass(ye.prefix+"-action").data("collection",se.attr("id")),!ye.add_at_the_end&&Ie+1!==Y?Ee=ue(se,ye,Ee,V,Y,Ie+1):S(se,ye,!1),P(se,V,ye),(Me&&!h(ye.after_duplicate(se,V))||!h(ye.after_add(se,V)))&&(Ie!==-1&&(Ee=j(se,Ee,ye,Ie+1)),V.remove())}if(V!==void 0&&ye.fade_in)V.fadeIn("fast",function(){ye.position_field_selector&&de(ye,Ee)});else if(ye.position_field_selector)return de(ye,Ee);return Ee},I=function(ne,D,se,ye,Ee){if(se.length>D.min&&h(D.before_remove(ne,ye))){var et=function(){var Ie=ye;D.preserve_names||(se=j(ne,se,D,Ee),Ie=se.last());var Me=Ie.clone({withDataAndEvents:!0}).show();if(Ie.remove(),!h(D.after_remove(ne,Me))){var ie=t(D.elements_parent_selector);ie.find("> ."+D.prefix+"-tmp").before(Me),se=ne.find(D.elements_selector),se=O(ne,se,D,Ee-1)}D.position_field_selector&&de(D,se)};D.fade_out?ye.fadeOut("fast",function(){et()}):et()}return se},G=function(ne,D,se,ye,Ee){return Ee!==0&&h(D.before_up(ne,ye))&&(se=H(ne,se,Ee,Ee-1),h(D.after_up(ne,ye))||(se=H(ne,se,Ee-1,Ee))),D.position_field_selector?de(D,se):se},J=function(ne,D,se,ye,Ee){return Ee!==se.length-1&&h(D.before_down(ne,ye))&&(se=H(ne,se,Ee,Ee+1),h(D.after_down(ne,se))||(se=H(ne,se,Ee+1,Ee))),D.position_field_selector?de(D,se):se},ue=function(ne,D,se,ye,Ee,et){return Math.abs(et-Ee)===1?(se=H(ne,se,Ee,et),(et-Ee>0?h(D.after_up(ne,ye)):h(D.after_down(ne,ye)))||(se=H(ne,se,et,Ee))):Ee<et?(se=N(ne,se,D,Ee,et),(et-Ee>0?h(D.after_up(ne,ye)):h(D.after_down(ne,ye)))||(se=q(ne,se,D,et,Ee))):(se=q(ne,se,D,Ee,et),(et-Ee>0?h(D.after_up(ne,ye)):h(D.after_down(ne,ye)))||(se=N(ne,se,D,et,Ee))),S(ne,D,!1),D.position_field_selector?de(D,se):se},de=function(ne,D){return t(D).each(function(){var se=t(this);f(se.find(ne.position_field_selector),D.index(se))}),D},ge=function(ne,D){var se=D.find(':input[name^="'+ne.name_prefix+'["]').attr("name");return se.slice(ne.name_prefix.length+1).split("]",1)[0]},ce=function(ne,D){var se=0;return D.each(function(){var ye=ge(ne,t(this));/^0|[1-9]\d*$/.test(ye)&&ye>=se&&(se=Number(ye)+1)}),se},Te=function(ne,D){var se=["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"];t.each(se,function(){var ye=this;D.each(function(){var Ee=t(this);Ee.hasClass(ne.user_prefix+ye)&&Ee.addClass(ne.prefix+ye),Ee.find("*").each(function(){var et=t(this);et.hasClass(ne.user_prefix+ye)&&et.addClass(ne.prefix+ye)})})})},ve=t(this);return ve.length===0?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(ve.each(function(){var ne=t.extend(!0,{},n,e);if(t(ne.container).length===0)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var D=t(this);if(D.data("collection")!==void 0){var se=t("#"+D.data("collection"));if(se.length===0)return console.log("jquery.collection.js: given collection id does not exist."),!0}else se=D;if(se=t(se),ne.elements_parent_selector=ne.elements_parent_selector.replace("%id%","#"+l("",se)),!ne.elements_parent_selector&&(ne.elements_parent_selector="#"+l("",se),t(ne.elements_parent_selector).length===0))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(ne.user_prefix=ne.prefix,ne.prefix=se.attr("id")+"-"+ne.user_prefix,Te(ne,se),ne.allow_add||(ne.allow_duplicate=!1,ne.add_at_the_end=!1),ne.init_with_n_elements>ne.max&&(ne.init_with_n_elements=ne.max),ne.min&&(!ne.init_with_n_elements||ne.init_with_n_elements<ne.min)&&(ne.init_with_n_elements=ne.min),ne.before_init(se),se.data("prototype")===null)return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(se.data("prototype-name")!==void 0&&(ne.prototype_name=se.data("prototype-name")),se.data("allow-add")!==void 0&&(ne.allow_add=se.data("allow-add"),ne.allow_duplicate=se.data("allow-add")?ne.allow_duplicate:!1),se.data("allow-remove")!==void 0&&(ne.allow_remove=se.data("allow-remove")),se.data("name-prefix")!==void 0&&(ne.name_prefix=se.data("name-prefix")),!ne.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;if(ne.preserve_names&&(ne.allow_up=!1,ne.allow_down=!1,ne.drag_drop=!1,ne.add_at_the_end=!0),typeof jQuery.ui<"u"&&typeof jQuery.ui.sortable<"u"&&se.data("sortable")&&se.sortable("disable"),ne.drag_drop&&ne.allow_up&&ne.allow_down){var ye,Ee;typeof jQuery.ui>"u"||typeof jQuery.ui.sortable>"u"?ne.drag_drop=!1:se.sortable(t.extend(!0,{},{start:function(Y,Le){var Re=se.find(ne.elements_selector),V=Le.item,we=t(this);if(!h(ne.drag_drop_start(Y,Le,Re,V))){we.sortable("cancel");return}Le.placeholder.height(Le.item.height()),Le.placeholder.width(Le.item.width()),ye=Re.index(V)},update:function(Y,Le){var Re=se.find(ne.elements_selector),V=Le.item,we=t(this);we.sortable("cancel"),!(ne.drag_drop_update(Y,Le,Re,V)===!1||!(Ee-ye>0?h(ne.before_up(se,V)):h(ne.before_down(se,V))))&&(Ee=Re.index(V),Re=se.find(ne.elements_selector),ue(se,ne,Re,V,ye,Ee))}},ne.drag_drop_options))}se.data("collection-settings",ne);var et=t(ne.container);if(et.off("click","."+ne.prefix+"-action").on("click","."+ne.prefix+"-action",function(Y){var Le=t(this),Re=t("#"+Le.data("collection")),V=Re.data("collection-settings");if(V===void 0){var Re=t("#"+Le.data("collection")).find("."+Le.data("collection")+"-collection"),V=Re.data("collection-settings");if(V===void 0)throw"Can't find collection: "+Le.data("collection")}var we=Re.find(V.elements_selector),Ae=Le.data("element")?t("#"+Le.data("element")):void 0,qe=Ae&&Ae.length?we.index(Ae):-1,Ze=null,Xe=Le.is("."+V.prefix+"-duplicate");(Le.is("."+V.prefix+"-add")||Le.is("."+V.prefix+"-rescue-add")||Xe)&&V.allow_add&&(Ze="add",we=W(et,Le,Re,V,we,Ae,qe,Xe)),Le.is("."+V.prefix+"-remove")&&V.allow_remove&&(Ze="remove",we=I(Re,V,we,Ae,qe)),Le.is("."+V.prefix+"-up")&&V.allow_up&&(Ze="up",we=G(Re,V,we,Ae,qe)),Le.is("."+V.prefix+"-down")&&V.allow_down&&(Ze="down",we=J(Re,V,we,Ae,qe)),S(Re,V,!1,Ze),Y.preventDefault()}),S(se,ne,!0),P(se,null,ne),ne.position_field_selector){var Ie=[],Me=se.find(ne.elements_selector);Me.each(function(Y){var Le=t(this);Ie.push({position:parseFloat(u(Le.find(ne.position_field_selector))),element:Le})});var ie=function(Y,Le){return Y.position<Le.position?-1:Y.position>Le.position?1:0};Ie.sort(ie),t.each(Ie,function(Y,Le){var Re=[];t(Me).each(function(Ae){Re.push(t(this).attr("id"))});var V=Le.element,we=t.inArray(V.attr("id"),Re);Y!==we&&(Me=ue(se,ne,Me,V,we,Y),f(V.find(ne.position_field_selector),Me.index(V)))})}ne.after_init(se)}),!0)}})(jQuery);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;if(window.jQuery)e=t(window.jQuery);else throw new Error("UIkit 2.x requires jQuery");typeof define=="function"&&define.amd&&define("uikit",function(){return e.load=function(n,a,l,u){var f=n.split(","),h=[],b,x=(u.config&&u.config.uikit&&u.config.uikit.base?u.config.uikit.base:"").replace(/\/+$/g,"");if(!x)throw new Error("Please define base path to UIkit in the requirejs config.");for(b=0;b<f.length;b+=1){var w=f[b].replace(/\./g,"/");h.push(x+"/components/"+w)}a(h,function(){l(e)})},e})})(function(t){if(window.UIkit2)return window.UIkit2;var e={},n=window.UIkit||void 0;if(e.version="2.27.4",e.noConflict=function(){return n&&(window.UIkit=n,t.UIkit=n,t.fn.uk=n.fn),e},window.UIkit2=e,n||(window.UIkit=e),e.$=t,e.$doc=e.$(document),e.$win=e.$(window),e.$html=e.$("html"),e.support={},e.support.transition=function(){var h=function(){var b=document.body||document.documentElement,x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},w;for(w in x)if(b.style[w]!==void 0)return x[w]}();return h&&{end:h}}(),e.support.animation=function(){var h=function(){var b=document.body||document.documentElement,x={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},w;for(w in x)if(b.style[w]!==void 0)return x[w]}();return h&&{end:h}}(),function(){Date.now=Date.now||function(){return new Date().getTime()};for(var h=["webkit","moz"],b=0;b<h.length&&!window.requestAnimationFrame;++b){var x=h[b];window.requestAnimationFrame=window[x+"RequestAnimationFrame"],window.cancelAnimationFrame=window[x+"CancelAnimationFrame"]||window[x+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var w=0;window.requestAnimationFrame=function(k){var A=Date.now(),H=Math.max(w+16,A);return setTimeout(function(){k(w=H)},H-A)},window.cancelAnimationFrame=clearTimeout}}(),e.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,e.Utils={},e.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},e.Utils.str2json=function(h,b){try{return b?JSON.parse(h.replace(/([\$\w]+)\s*:/g,function(x,w){return'"'+w+'":'}).replace(/'([^']+)'/g,function(x,w){return'"'+w+'"'})):new Function("","var json = "+h+"; return JSON.parse(JSON.stringify(json));")()}catch{return!1}},e.Utils.debounce=function(h,b,x){var w;return function(){var k=this,A=arguments,H=function(){w=null,x||h.apply(k,A)},N=x&&!w;clearTimeout(w),w=setTimeout(H,b),N&&h.apply(k,A)}},e.Utils.throttle=function(h,b){var x=!1;return function(){x||(h.call(),x=!0,setTimeout(function(){x=!1},b))}},e.Utils.removeCssRules=function(h){var b,x,w,k,A,H,N,q,j,O;h&&setTimeout(function(){try{for(O=document.styleSheets,k=0,N=O.length;k<N;k++){for(w=O[k],x=[],w.cssRules=w.cssRules,b=A=0,q=w.cssRules.length;A<q;b=++A)w.cssRules[b].type===CSSRule.STYLE_RULE&&h.test(w.cssRules[b].selectorText)&&x.unshift(b);for(H=0,j=x.length;H<j;H++)w.deleteRule(x[H])}}catch{}},0)},e.Utils.isInView=function(h,b){var x=t(h);if(!x.is(":visible"))return!1;var w=e.$win.scrollLeft(),k=e.$win.scrollTop(),A=x.offset(),H=A.left,N=A.top;return b=t.extend({topoffset:0,leftoffset:0},b),N+x.height()>=k&&N-b.topoffset<=k+e.$win.height()&&H+x.width()>=w&&H-b.leftoffset<=w+e.$win.width()},e.Utils.checkDisplay=function(h,b){var x=e.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",h||document);return h&&!x.length&&(x=t(h)),x.trigger("display.uk.check"),b&&(typeof b!="string"&&(b='[class*="uk-animation-"]'),x.find(b).each(function(){var w=e.$(this),k=w.attr("class"),A=k.match(/uk-animation-(.+)/);w.removeClass(A[0]).width(),w.addClass(A[0])})),x},e.Utils.options=function(h){if(t.type(h)!="string")return h;h.indexOf(":")!=-1&&h.trim().substr(-1)!="}"&&(h="{"+h+"}");var b=h?h.indexOf("{"):-1,x={};if(b!=-1)try{x=e.Utils.str2json(h.substr(b))}catch{}return x},e.Utils.animate=function(h,b){var x=t.Deferred();return h=e.$(h),h.css("display","none").addClass(b).one(e.support.animation.end,function(){h.removeClass(b),x.resolve()}),h.css("display",""),x.promise()},e.Utils.uid=function(h){return(h||"id")+new Date().getTime()+"RAND"+Math.ceil(Math.random()*1e5)},e.Utils.template=function(h,b){for(var x=h.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),w=0,k,A,H,N,q=[],j=0;w<x.length;){if(k=x[w],k.match(/\{\{\s*(.+?)\s*\}\}/))switch(w=w+1,k=x[w],A=k[0],H=k.substring(k.match(/^(\^|\#|\!|\~|\:)/)?1:0),A){case"~":q.push("for(var $i=0;$i<"+H+".length;$i++) { var $item = "+H+"[$i];"),j++;break;case":":q.push("for(var $key in "+H+") { var $val = "+H+"[$key];"),j++;break;case"#":q.push("if("+H+") {"),j++;break;case"^":q.push("if(!"+H+") {"),j++;break;case"/":q.push("}"),j--;break;case"!":q.push("__ret.push("+H+");");break;default:q.push("__ret.push(escape("+H+"));");break}else q.push("__ret.push('"+k.replace(/\'/g,"\\'")+"');");w=w+1}return N=new Function("$data",["var __ret = [];","try {","with($data){",j?'__ret = ["Not all blocks are closed correctly."]':q.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',`function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}`].join(`
`)),b?N(b):N},e.Utils.focus=function(h,b){if(h=t(h),!h.length)return h;var x=h.find("[autofocus]:first"),w;return x.length||(x=h.find(":input"+(b&&","+b||"")).first(),x.length)?x.focus():(h.attr("tabindex")||(w=1e3,h.attr("tabindex",w)),h[0].focus(),w&&h.attr("tabindex",""),h)},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.fn=function(h,b){var x=arguments,w=h.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),k=w[1],A=w[2];return e[k]?this.each(function(){var H=t(this),N=H.data(k);N||H.data(k,N=e[k](this,A?void 0:b)),A&&N[A].apply(N,Array.prototype.slice.call(x,1))}):(t.error("UIkit component ["+k+"] does not exist."),this)},t.UIkit=e,t.fn.uk=e.fn,e.langdirection=e.$html.attr("dir")=="rtl"?"right":"left",e.components={},e.component=function(h,b,x){if(e.components[h]&&!x)return e.components[h];var w=function(k,A){var H=this;return this.UIkit=e,this.element=k?e.$(k):null,this.options=t.extend(!0,{},this.defaults,A),this.plugins={},this.element&&this.element.data(h,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(w.plugins)).forEach(function(N){w.plugins[N].init&&(w.plugins[N].init(H),H.plugins[N]=!0)}),this.trigger("init.uk.component",[h,this]),this};return w.plugins={},t.extend(!0,w.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(k,A,H){return e.$(this.element||this).on(k,A,H)},one:function(k,A,H){return e.$(this.element||this).one(k,A,H)},off:function(k){return e.$(this.element||this).off(k)},trigger:function(k,A){return e.$(this.element||this).trigger(k,A)},find:function(k){return e.$(this.element?this.element:[]).find(k)},proxy:function(k,A){var H=this;A.split(" ").forEach(function(N){H[N]||(H[N]=function(){return k[N].apply(k,arguments)})})},mixin:function(k,A){var H=this;A.split(" ").forEach(function(N){H[N]||(H[N]=k[N].bind(H))})},option:function(){if(arguments.length==1)return this.options[arguments[0]]||void 0;arguments.length==2&&(this.options[arguments[0]]=arguments[1])}},b),this.components[h]=w,this[h]=function(){var k,A;if(arguments.length)switch(arguments.length){case 1:typeof arguments[0]=="string"||arguments[0].nodeType||arguments[0]instanceof jQuery?k=t(arguments[0]):A=arguments[0];break;case 2:k=t(arguments[0]),A=arguments[1];break}return k&&k.data(h)?k.data(h):new e.components[h](k,A)},e.domready&&e.component.boot(h),w},e.plugin=function(h,b,x){this.components[h].plugins[b]=x},e.component.boot=function(h){e.components[h].prototype&&e.components[h].prototype.boot&&!e.components[h].booted&&(e.components[h].prototype.boot.apply(e,[]),e.components[h].booted=!0)},e.component.bootComponents=function(){for(var h in e.components)e.component.boot(h)},e.domObservers=[],e.domready=!1,e.ready=function(h){e.domObservers.push(h),e.domready&&h(document)},e.on=function(h,b,x){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready&&b.apply(e.$doc),e.$doc.on(h,b,x)},e.one=function(h,b,x){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready?(b.apply(e.$doc),e.$doc):e.$doc.one(h,b,x)},e.trigger=function(h,b){return e.$doc.trigger(h,b)},e.domObserve=function(h,b){e.support.mutationobserver&&(b=b||function(){},e.$(h).each(function(){var x=this,w=e.$(x);if(!w.data("observer"))try{var k=new e.support.mutationobserver(e.Utils.debounce(function(A){b.apply(x,[w]),w.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});k.observe(x,{childList:!0,subtree:!0}),w.data("observer",k)}catch{}}))},e.init=function(h){h=h||document,e.domObservers.forEach(function(b){b(h)})},e.on("domready.uk.dom",function(){e.init(),e.domready&&e.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",function(){var h=function(){e.$body=e.$("body"),e.trigger("beforeready.uk.dom"),e.component.bootComponents();var b=requestAnimationFrame(function(){var w={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},k=function(){var A=window.pageXOffset,H=window.pageYOffset;(w.x!=A||w.y!=H)&&(A!=w.x?w.dir.x=A>w.x?1:-1:w.dir.x=0,H!=w.y?w.dir.y=H>w.y?1:-1:w.dir.y=0,w.x=A,w.y=H,e.$doc.trigger("scrolling.uk.document",[{dir:{x:w.dir.x,y:w.dir.y},x:A,y:H}])),cancelAnimationFrame(b),b=requestAnimationFrame(k)};return e.support.touch&&e.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",k),(w.x||w.y)&&k(),k}());if(e.trigger("domready.uk.dom"),e.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e.$win.on("load orientationchange resize",e.Utils.debounce(function(){var w=function(){return t(".uk-height-viewport").css("height",window.innerHeight),w};return w()}(),100)),e.trigger("afterready.uk.dom"),e.domready=!0,e.support.mutationobserver){var x=e.Utils.debounce(function(){requestAnimationFrame(function(){e.init(document.body)})},10);new e.support.mutationobserver(function(w){var k=!1;w.every(function(A){if(A.type!="childList")return!0;for(var H=0,N;H<A.addedNodes.length;++H)if(N=A.addedNodes[H],N.outerHTML&&N.outerHTML.indexOf("data-uk-")!==-1)return(k=!0)&&!1;return!0}),k&&x()}).observe(document.body,{childList:!0,subtree:!0})}};return(document.readyState=="complete"||document.readyState=="interactive")&&setTimeout(h),h}()),e.$html.addClass(e.support.touch?"uk-touch":"uk-notouch"),e.support.touch){var a=!1,l,u="uk-hover",f=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";e.$html.on("mouseenter touchstart MSPointerDown pointerdown",f,function(){a&&t("."+u).removeClass(u),a=t(this).addClass(u)}).on("mouseleave touchend MSPointerUp pointerup",function(h){l=t(h.target).parents(f),a&&a.not(l).removeClass(u)})}return e});(function(t){if(t.fn.swipeLeft)return;var e={},n,a,l,u,f=750,h,b="ontouchstart"in window,x=window.PointerEvent,w=b||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;function k(j,O,S,P){return Math.abs(j-O)>=Math.abs(S-P)?j-O>0?"Left":"Right":S-P>0?"Up":"Down"}function A(){u=null,e.last&&(e.el!==void 0&&e.el.trigger("longTap"),e={})}function H(){u&&clearTimeout(u),u=null}function N(){n&&clearTimeout(n),a&&clearTimeout(a),l&&clearTimeout(l),u&&clearTimeout(u),n=a=l=u=null,e={}}function q(j){return j.pointerType==j.MSPOINTER_TYPE_TOUCH&&j.isPrimary}t(function(){var j,O,S=0,P=0,W;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).on("MSGestureEnd gestureend",function(I){var G=I.originalEvent.velocityX>1?"Right":I.originalEvent.velocityX<-1?"Left":I.originalEvent.velocityY>1?"Down":I.originalEvent.velocityY<-1?"Up":null;G&&e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+G))}).on("touchstart MSPointerDown pointerdown",function(I){I.type=="MSPointerDown"&&!q(I.originalEvent)||(W=I.type=="MSPointerDown"||I.type=="pointerdown"?I:I.originalEvent.touches[0],j=Date.now(),O=j-(e.last||j),e.el=t("tagName"in W.target?W.target:W.target.parentNode),n&&clearTimeout(n),e.x1=W.pageX,e.y1=W.pageY,O>0&&O<=250&&(e.isDoubleTap=!0),e.last=j,u=setTimeout(A,f),I.originalEvent&&I.originalEvent.pointerId&&h&&(I.type=="MSPointerDown"||I.type=="pointerdown"||I.type=="touchstart")&&h.addPointer(I.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(I){I.type=="MSPointerMove"&&!q(I.originalEvent)||(W=I.type=="MSPointerMove"||I.type=="pointermove"?I:I.originalEvent.touches[0],H(),e.x2=W.pageX,e.y2=W.pageY,S+=Math.abs(e.x1-e.x2),P+=Math.abs(e.y1-e.y2))}).on("touchend MSPointerUp pointerup",function(I){I.type=="MSPointerUp"&&!q(I.originalEvent)||(H(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?l=setTimeout(function(){e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+k(e.x1,e.x2,e.y1,e.y2))),e={}},0):"last"in e&&(isNaN(S)||S<30&&P<30?a=setTimeout(function(){var G=t.Event("tap");G.cancelTouch=N,e.el!==void 0&&e.el.trigger(G),e.isDoubleTap?(e.el!==void 0&&e.el.trigger("doubleTap"),e={}):n=setTimeout(function(){n=null,e.el!==void 0&&e.el.trigger("singleTap"),e={}},250)},0):e={},S=P=0))}).on("touchcancel MSPointerCancel pointercancel",function(I){(I.type=="touchcancel"&&b&&w||!b&&I.type=="pointercancel"&&x)&&N()}),t(window).on("scroll",N)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(j){t.fn[j]=function(O){return t(this).on(j,O)}})})(jQuery);(function(t){t.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var n=t.$(this);n.data("stackMargin")||t.stackMargin(n,t.Utils.options(n.attr("data-uk-margin")))})})},init:function(){var e=this;t.$win.on("resize orientationchange",function(){var n=function(){e.process()};return t.$(function(){n(),t.$win.on("load",n)}),t.Utils.debounce(n,20)}()),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.process()}).bind(this)),this.options.observe&&t.domObserve(this.element,function(n){e.element.is(":visible")&&e.process()})},process:function(){var e=this.element.children();if(t.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var n={},a=!1;return e.removeClass(this.options.rowfirst).each(function(l,u){u=t.$(this),this.style.display!="none"&&(l=u.offset().left,((n[l]=n[l]||[])&&n[l]).push(this),a=a===!1?l:Math.min(a,l))}),t.$(n[a]).addClass(this.options.rowfirst),this}}),function(){var e=[],n=function(a){if(a.is(":visible")){var l=a.parent().width(),u=a.data("width"),f=l/u,h=Math.floor(f*a.data("height"));a.css({height:l<u?h:a.data("height")})}};t.component("responsiveElement",{defaults:{},boot:function(){t.ready(function(a){t.$("iframe.uk-responsive-width, [data-uk-responsive]",a).each(function(){var l=t.$(this);l.data("responsiveElement")||t.responsiveElement(l,{})})})},init:function(){var a=this.element;a.attr("width")&&a.attr("height")&&(a.data({width:a.attr("width"),height:a.attr("height")}).on("display.uk.check",function(){n(a)}),n(a),e.push(a))}}),t.$win.on("resize load",t.Utils.debounce(function(){e.forEach(function(a){n(a)})},15))}(),t.Utils.stackMargin=function(e,n){n=t.$.extend({cls:"uk-margin-small-top"},n),e=t.$(e).removeClass(n.cls);var a=!1;e.each(function(l,u,f,h){h=t.$(this),h.css("display")!="none"&&(l=h.offset(),u=h.outerHeight(),f=l.top+u,h.data({ukMarginPos:f,ukMarginTop:l.top}),(a===!1||l.top<a.top)&&(a={top:l.top,left:l.left,pos:f}))}).each(function(l){l=t.$(this),l.css("display")!="none"&&l.data("ukMarginTop")>a.top&&l.data("ukMarginPos")>a.pos&&l.addClass(n.cls)})},t.Utils.matchHeights=function(e,n){e=t.$(e).css("min-height",""),n=t.$.extend({row:!0},n);var a=function(l){if(!(l.length<2)){var u=0;l.each(function(){u=Math.max(u,t.$(this).outerHeight())}).each(function(){var f=t.$(this),h=u-(f.css("box-sizing")=="border-box"?0:f.outerHeight()-f.height());f.css("min-height",h+"px")})}};n.row?(e.first().width(),setTimeout(function(){var l=!1,u=[];e.each(function(){var f=t.$(this),h=f.offset().top;h!=l&&u.length&&(a(t.$(u)),u=[],h=f.offset().top),u.push(f),l=h}),u.length&&a(t.$(u))},0)):a(e)},function(e){t.Utils.inlineSvg=function(n,a){t.$(n||'img[src$=".svg"]',a||document).each(function(){var l=t.$(this),u=l.attr("src");if(!e[u]){var f=t.$.Deferred();t.$.get(u,{nc:Math.random()},function(h){f.resolve(t.$(h).find("svg"))}),e[u]=f.promise()}e[u].then(function(h){var b=t.$(h).clone();l.attr("id")&&b.attr("id",l.attr("id")),l.attr("class")&&b.attr("class",l.attr("class")),l.attr("style")&&b.attr("style",l.attr("style")),l.attr("width")&&(b.attr("width",l.attr("width")),l.attr("height")||b.removeAttr("height")),l.attr("height")&&(b.attr("height",l.attr("height")),l.attr("width")||b.removeAttr("width")),l.replaceWith(b)})})},t.ready(function(n){t.Utils.inlineSvg("[data-uk-svg]",n)})}({}),t.Utils.getCssVar=function(e){var n,a=document.documentElement,l=a.appendChild(document.createElement("div"));l.classList.add("var-"+e);try{n=JSON.parse(n=getComputedStyle(l,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch{n=void 0}return a.removeChild(l),n}})(UIkit2);(function(t){t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(n){var a=t.$(this);return a.data("smoothScroll")||(t.smoothScroll(a,t.Utils.options(a.attr("data-uk-smooth-scroll"))),a.trigger("click")),!1})},init:function(){var n=this;this.on("click",function(a){a.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),n.options)})}});function e(n,a){a=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},a);var l=n.offset().top-a.offset,u=t.$doc.height(),f=window.innerHeight;l+f>u&&(l=u-f),t.$("html,body").stop().animate({scrollTop:l},a.duration,a.transition).promise().done(a.complete)}t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(n,a,l,u,f){return a==f?l+u:u*(-Math.pow(2,-10*a/f)+1)+l})})(UIkit2);(function(t){var e=t.$win,n=t.$doc,a=[],l=function(){for(var h=0;h<a.length;h++)window.requestAnimationFrame.apply(window,[a[h].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){n.on("scrolling.uk.document",l),e.on("load resize orientationchange",t.Utils.debounce(l,50)),t.ready(function(h){t.$("[data-uk-scrollspy]",h).each(function(){var b=t.$(this);b.data("scrollspy")||t.scrollspy(b,t.Utils.options(b.attr("data-uk-scrollspy")))})})},init:function(){var h=this,b,x=this.options.cls.split(/,/),w=function(){var k=h.options.target?h.element.find(h.options.target):h.element,A=k.length===1?1:0,H=0;k.each(function(N){var q=t.$(this),j=q.data("inviewstate"),O=t.Utils.isInView(q,h.options),S=q.attr("data-uk-scrollspy-cls")||x[H].trim();O&&!j&&!q.data("scrollspy-idle")&&(b||(q.addClass(h.options.initcls),h.offset=q.offset(),b=!0,q.trigger("init.uk.scrollspy")),q.data("scrollspy-idle",setTimeout(function(){q.addClass("uk-scrollspy-inview").toggleClass(S).width(),q.trigger("inview.uk.scrollspy"),q.data("scrollspy-idle",!1),q.data("inviewstate",!0)},h.options.delay*A)),A++),!O&&j&&h.options.repeat&&(q.data("scrollspy-idle")&&(clearTimeout(q.data("scrollspy-idle")),q.data("scrollspy-idle",!1)),q.removeClass("uk-scrollspy-inview").toggleClass(S),q.data("inviewstate",!1),q.trigger("outview.uk.scrollspy")),H=x[H+1]?H+1:0})};w(),this.check=w,a.push(this)}});var u=[],f=function(){for(var h=0;h<u.length;h++)window.requestAnimationFrame.apply(window,[u[h].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){n.on("scrolling.uk.document",f),e.on("resize orientationchange",t.Utils.debounce(f,50)),t.ready(function(h){t.$("[data-uk-scrollspy-nav]",h).each(function(){var b=t.$(this);b.data("scrollspynav")||t.scrollspynav(b,t.Utils.options(b.attr("data-uk-scrollspy-nav")))})})},init:function(){var h=[],b=this.find("a[href^='#']").each(function(){this.getAttribute("href").trim()!=="#"&&h.push(this.getAttribute("href"))}),x=t.$(h.join(",")),w=this.options.cls,k=this.options.closest||this.options.closest,A=this,H,N=function(){H=[];for(var q=0;q<x.length;q++)t.Utils.isInView(x.eq(q),A.options)&&H.push(x.eq(q));if(H.length){var j,O=e.scrollTop(),S=function(){for(var P=0;P<H.length;P++)if(H[P].offset().top-A.options.topoffset>=O)return H[P]}();if(!S)return;A.options.closest?(b.blur().closest(k).removeClass(w),j=b.filter("a[href='#"+S.attr("id")+"']").closest(k).addClass(w)):j=b.removeClass(w).filter("a[href='#"+S.attr("id")+"']").addClass(w),A.element.trigger("inview.uk.scrollspynav",[S,j])}};this.options.smoothscroll&&t.smoothScroll&&b.each(function(){t.smoothScroll(this,A.options.smoothscroll)}),N(),this.element.data("scrollspynav",this),this.check=N,u.push(this)}})})(UIkit2);(function(t){var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(n){t.$("[data-uk-toggle]",n).each(function(){var a=t.$(this);a.data("toggle")||t.toggle(a,t.Utils.options(a.attr("data-uk-toggle")))}),setTimeout(function(){e.forEach(function(a){a.getToggles()})},0)})},init:function(){var n=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(a){n.element.is('a[href="#"]')&&a.preventDefault(),n.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),!!this.totoggle.length){if(this.options.animation&&t.support.animation){var n=this,a=this.options.animation.split(",");a.length==1&&(a[1]=a[0]),a[0]=a[0].trim(),a[1]=a[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var l=t.$(this);l.hasClass(n.options.cls)?(l.toggleClass(n.options.cls),t.Utils.animate(l,a[0]).then(function(){l.css("animation-duration",""),t.Utils.checkDisplay(l)})):t.Utils.animate(this,a[1]+" uk-animation-reverse").then(function(){l.toggleClass(n.options.cls).css("animation-duration",""),t.Utils.checkDisplay(l)})})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})})(UIkit2);(function(t){t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var n=t.$(this);if(!n.data("alert")){var a=t.alert(n,t.Utils.options(n.attr("data-uk-alert")));t.$(e.target).is(a.options.trigger)&&(e.preventDefault(),a.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(n){n.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),n=(function(){this.trigger("closed.uk.alert").remove()}).bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,n):n()}})})(UIkit2);(function(t){t.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var n=t.$(this);if(!n.data("buttonRadio")){var a=t.buttonRadio(n,t.Utils.options(n.attr("data-uk-button-radio"))),l=t.$(e.target);l.is(a.options.target)&&l.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var a=t.$(this);a.is('a[href="#"]')&&n.preventDefault(),e.find(e.options.target).not(a).removeClass(e.options.activeClass).blur(),a.addClass(e.options.activeClass),e.find(e.options.target).not(a).attr("aria-checked","false"),a.attr("aria-checked","true"),e.trigger("change.uk.button",[a])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var n=t.$(this);if(!n.data("buttonCheckbox")){var a=t.buttonCheckbox(n,t.Utils.options(n.attr("data-uk-button-checkbox"))),l=t.$(e.target);l.is(a.options.target)&&l.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var a=t.$(this);a.is('a[href="#"]')&&n.preventDefault(),a.toggleClass(e.options.activeClass).blur(),a.attr("aria-checked",a.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[a])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var n=t.$(this);n.data("button")||(t.button(n,t.Utils.options(n.attr("data-uk-button"))),n.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(n){e.element.is('a[href="#"]')&&n.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})})(UIkit2);(function(t){var e=!1,n,a={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};t.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:t.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var u=t.support.touch?"click":"mouseenter";t.$html.on(u+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(f){var h=t.$(this);if(!h.data("dropdown")){var b=t.dropdown(h,t.Utils.options(h.attr("data-uk-dropdown")));(f.type=="click"||f.type=="mouseenter"&&b.options.mode=="hover")&&b.element.trigger(u),b.dropdown.length&&f.preventDefault()}})},init:function(){var u=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return t.$.inArray(t.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?t.$(this.options.justify):!1,this.boundary=t.$(this.options.boundary),this.boundary.length||(this.boundary=t.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),this.options.mode=="click"||t.support.touch?this.on("click.uk.dropdown",function(f){var h=t.$(f.target);h.parents(u.options.dropdownSelector).length||((h.is("a[href='#']")||h.parent().is("a[href='#']")||u.dropdown.length&&!u.dropdown.is(":visible"))&&f.preventDefault(),h.blur()),u.element.hasClass("uk-open")?(!u.dropdown.find(f.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&u.hide():u.show()}):this.on("mouseenter",function(f){u.trigger("pointerenter.uk.dropdown",[u]),u.remainIdle&&clearTimeout(u.remainIdle),n&&clearTimeout(n),!(e&&e==u)&&(e&&e!=u?n=setTimeout(function(){n=setTimeout(u.show.bind(u),u.options.delay)},u.options.hoverDelayIdle):n=setTimeout(u.show.bind(u),u.options.delay))}).on("mouseleave",function(){n&&clearTimeout(n),u.remainIdle=setTimeout(function(){e&&e==u&&u.hide()},u.options.remaintime),u.trigger("pointerleave.uk.dropdown",[u])}).on("click",function(f){var h=t.$(f.target);if(u.remainIdle&&clearTimeout(u.remainIdle),e&&e==u){(!u.dropdown.find(f.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&u.hide();return}(h.is("a[href='#']")||h.parent().is("a[href='#']"))&&f.preventDefault(),u.show()})},show:function(){t.$html.off("click.outer.dropdown"),e&&e!=this&&e.hide(!0),n&&clearTimeout(n),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),t.Utils.focus(this.dropdown),e=this,this.registerOuterClick()},hide:function(u){this.trigger("beforehide.uk.dropdown",[this,u]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,u]),e==this&&(e=!1)},registerOuterClick:function(){var u=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(f){n&&clearTimeout(n),t.$(f.target),e==u&&!u.element.find(f.target).length&&(u.hide(!0),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var u=t.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),f=this.options.offset,h=this.dropdown;h.show().offset();var b=h.outerWidth(),x=h.outerHeight(),w=this.boundary.width();this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset();var k=this.options.pos,A={"bottom-left":{top:0+u.height+f,left:0},"bottom-right":{top:0+u.height+f,left:0+u.width-b},"bottom-center":{top:0+u.height+f,left:0+u.width/2-b/2},"top-left":{top:0-x-f,left:0},"top-right":{top:0-x-f,left:0+u.width-b},"top-center":{top:0-x-f,left:0+u.width/2-b/2},"left-top":{top:0,left:0-b-f},"left-bottom":{top:0+u.height-x,left:0-b-f},"left-center":{top:0+u.height/2-x/2,left:0-b-f},"right-top":{top:0,left:0+u.width+f},"right-bottom":{top:0+u.height-x,left:0+u.width+f},"right-center":{top:0+u.height/2-x/2,left:0+u.width+f}},H={},N;if(N=k.split("-"),H=A[k]?A[k]:A["bottom-left"],this.justified&&this.justified.length)l(h.css({left:0}),this.justified,w);else if(this.options.preventflip!==!0){var q;switch(this.checkBoundary(u.left+H.left,u.top+H.top,b,x,w)){case"x":this.options.preventflip!=="x"&&(q=a.x[k]||"right-top");break;case"y":this.options.preventflip!=="y"&&(q=a.y[k]||"top-left");break;case"xy":this.options.preventflip||(q=a.xy[k]||"right-bottom");break}q&&(N=q.split("-"),H=A[q]?A[q]:A["bottom-left"],h.addClass("uk-dropdown-autoflip"),this.checkBoundary(u.left+H.left,u.top+H.top,b,x,w)&&(N=k.split("-"),H=A[k]?A[k]:A["bottom-left"]))}b>w&&(h.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),h.css(H).css("display","").addClass("uk-dropdown-"+N[0])}},checkBoundary:function(u,f,h,b,x){var w="";return(u<0||u-t.$win.scrollLeft()+h>x)&&(w+="x"),(f-t.$win.scrollTop()<0||f-t.$win.scrollTop()+b>window.innerHeight)&&(w+="y"),w}}),t.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){t.ready(function(u){t.$("[data-uk-dropdown-overlay]",u).each(function(){var f=t.$(this);f.data("dropdownOverlay")||t.dropdownOverlay(f,t.Utils.options(f.attr("data-uk-dropdown-overlay")))})})},init:function(){var u=this;this.justified=this.options.justify?t.$(this.options.justify):!1,this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(f,h){u.dropdown=h,u.justified&&u.justified.length&&l(u.overlay.css({display:"block",marginLeft:"",marginRight:""}),u.justified,u.justified.outerWidth())},"show.uk.dropdown":function(f,h){var b=u.dropdown.dropdown.outerHeight(!0);u.dropdown.element.removeClass("uk-open"),u.overlay.stop().css("display","block").animate({height:b},u.options.duration,function(){u.dropdown.dropdown.css("visibility",""),u.dropdown.element.addClass("uk-open"),t.Utils.checkDisplay(u.dropdown.dropdown,!0)}),u.pointerleave=!1},"hide.uk.dropdown":function(){u.overlay.stop().animate({height:0},u.options.duration)},"pointerenter.uk.dropdown":function(f,h){clearTimeout(u.remainIdle)},"pointerleave.uk.dropdown":function(f,h){u.pointerleave=!0}}),this.overlay.on({mouseenter:function(){u.remainIdle&&(clearTimeout(u.dropdown.remainIdle),clearTimeout(u.remainIdle))},mouseleave:function(){u.pointerleave&&e&&(u.remainIdle=setTimeout(function(){e&&e.hide()},e.options.remaintime))}})}});function l(u,f,h,b){if(u=t.$(u),f=t.$(f),h=h||window.innerWidth,b=b||u.offset(),f.length){var x=f.outerWidth();if(u.css("min-width",x),t.langdirection=="right"){var w=h-(f.offset().left+x),k=h-(u.offset().left+u.outerWidth());u.css("margin-right",w-k)}else u.css("margin-left",f.offset().left-b.left)}}})(UIkit2);(function(t){t.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var n=t.$(this);n.data("gridMatchHeight")||t.gridMatchHeight(n,t.Utils.options(n.attr("data-uk-grid-match")))})})},init:function(){var e=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",function(){var n=function(){e.element.is(":visible")&&e.match()};return t.$(function(){n()}),t.Utils.debounce(n,50)}()),this.options.observe&&t.domObserve(this.element,function(n){e.element.is(":visible")&&e.match()}),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.match()}).bind(this)))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var n=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return n&&!this.options.ignorestacked?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var n=t.$(this);n.data("gridMargin")||t.gridMargin(n,t.Utils.options(n.attr("data-uk-grid-margin")))})})},init:function(){t.stackMargin(this.element,this.options)}})})(UIkit2);(function(t){var e=!1,n=0,a=t.$html,l;t.$win.on("resize orientationchange",t.Utils.debounce(function(){t.$(".uk-modal.uk-open").each(function(){return t.$(this).data("modal")&&t.$(this).data("modal").resize()})},150)),t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(l||(l=t.$("body")),!!this.element.length){var f=this;this.paddingdir="padding-"+(t.langdirection=="left"?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(h){h.preventDefault(),f.hide()}).on("click",function(h){var b=t.$(h.target);b[0]==f.element[0]&&f.options.bgclose&&f.hide()}),t.domObserve(this.element,function(h){f.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var f=this;if(!this.isActive())return this.options.modal&&e&&e.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(e=this),this.active=!0,n++,t.support.transition?(this.hasTransitioned=!1,this.element.one(t.support.transition.end,function(){f.hasTransitioned=!0,t.Utils.focus(f.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),t.Utils.focus(this.dialog,"a[href]")),a.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this}},hide:function(f){if(!f&&t.support.transition&&this.hasTransitioned){var h=this;this.one(t.support.transition.end,function(){h._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(f){if(!(!this.isActive()&&!f)){var h=l.width();if(this.scrollbarwidth=window.innerWidth-h,l.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var b=this.dialog.outerHeight(),x=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);b+x<window.innerHeight?this.dialog.css({top:window.innerHeight/2-b/2-x}):this.dialog.css({top:""})}}},updateScrollable:function(){var f=this.dialog.find(".uk-overflow-container:visible:first");if(f.length){f.css("height",0);var h=Math.abs(parseInt(this.dialog.css("margin-top"),10)),b=this.dialog.outerHeight(),x=window.innerHeight,w=x-2*(h<20?20:h)-b;return f.css({maxHeight:w<this.options.minScrollHeight?"":w,height:""}),!0}return!1},_hide:function(){this.active=!1,n>0?n--:n=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),n||(a.removeClass("uk-modal-page"),l.css(this.paddingdir,"")),e===this&&(e=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(f){var h=t.$(this);if(h.is("a")&&f.preventDefault(),!h.data("modalTrigger")){var b=t.modalTrigger(h,t.Utils.options(h.attr("data-uk-modal")));b.show()}}),t.$html.on("keydown.modal.uikit",function(f){e&&f.keyCode===27&&e.options.keyboard&&(f.preventDefault(),e.hide())})},init:function(){var f=this;this.options=t.$.extend({target:f.element.is("a")?f.element.attr("href"):!1},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(h){h.preventDefault(),f.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(f,h){var b=t.modal(t.$(t.modal.dialog.template).appendTo("body"),h);return b.on("hide.uk.modal",function(){b.persist&&(b.persist.appendTo(b.persist.data("modalPersistParent")),b.persist=!1),b.element.remove()}),u(f,b),b},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(f,h){h=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},h);var b=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+h.labels.Ok+"</button></div>"].join(""),h);return b.on("show.uk.modal",function(){setTimeout(function(){b.element.find("button:first").focus()},50)}),b.show()},t.modal.confirm=function(f,h,b){var x=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};h=t.$.isFunction(h)?h:function(){},b=t.$.isFunction(b)?b:function(){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},t.$.isFunction(x)?{}:x);var w=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+x.labels.Ok+"</button></div>"].join(""),x);return w.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){t.$(this).is(".js-modal-confirm")?h():b(),w.hide()}),w.on("show.uk.modal",function(){setTimeout(function(){w.element.find(".js-modal-confirm").focus()},50)}),w.show()},t.modal.prompt=function(f,h,b,x){b=t.$.isFunction(b)?b:function(A){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},x);var w=t.modal.dialog([f?'<div class="uk-modal-content uk-form">'+String(f)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+x.labels.Ok+"</button></div>"].join(""),x),k=w.element.find("input[type='text']").val(h||"").on("keyup",function(A){A.keyCode==13&&w.element.find(".js-modal-ok").trigger("click")});return w.element.find(".js-modal-ok").on("click",function(){b(k.val())!==!1&&w.hide()}),w.show()},t.modal.blockUI=function(f,h){var b=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f||'<div class="uk-text-center">...</div>')+"</div>"].join(""),t.$.extend({bgclose:!1,keyboard:!1,modal:!1},h));return b.content=b.element.find(".uk-modal-content:first"),b.show()},t.modal.labels={Ok:"Ok",Cancel:"Cancel"};function u(f,h){if(h)return typeof f=="object"?(f=f instanceof jQuery?f:t.$(f),f.parent().length&&(h.persist=f,h.persist.data("modalPersistParent",f.parent()))):typeof f=="string"||typeof f=="number"?f=t.$("<div></div>").html(f):f=t.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof f),f.appendTo(h.element.find(".uk-modal-dialog")),h}})(UIkit2);(function(t){t.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(n){t.$("[data-uk-nav]",n).each(function(){var a=t.$(this);a.data("nav")||t.nav(a,t.Utils.options(a.attr("data-uk-nav")))})})},init:function(){var n=this;this.on("click.uk.nav",this.options.toggle,function(a){a.preventDefault();var l=t.$(this);n.open(l.parent()[0]==n.element[0]?l:l.parent("li"))}),this.update(),t.domObserve(this.element,function(a){n.element.find(n.options.lists).not("[role]").length&&n.update()})},update:function(){var n=this;this.find(this.options.lists).each(function(){var a=t.$(this).attr("role","menu"),l=a.closest("li"),u=l.hasClass("uk-active");l.data("list-container")||(a.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),l.data("list-container",a.parent()[u?"removeClass":"addClass"]("uk-hidden"))),l.attr("aria-expanded",l.hasClass("uk-open")),u&&n.open(l,!0)})},open:function(n,a){var l=this,u=this.element,f=t.$(n),h=f.data("list-container");this.options.multiple||u.children(".uk-open").not(n).each(function(){var b=t.$(this);b.data("list-container")&&b.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),f.toggleClass("uk-open"),f.attr("aria-expanded",f.hasClass("uk-open")),h&&(f.hasClass("uk-open")&&h.removeClass("uk-hidden"),a?(h.stop().height(f.hasClass("uk-open")?"auto":0),f.hasClass("uk-open")||h.addClass("uk-hidden"),this.trigger("display.uk.check")):h.stop().animate({height:f.hasClass("uk-open")?e(h.find("ul:first")):0},function(){f.hasClass("uk-open")?h.css("height",""):h.addClass("uk-hidden"),l.trigger("display.uk.check")}))}});function e(n){var a=t.$(n),l="auto";if(a.is(":visible"))l=a.outerHeight();else{var u={position:a.css("position"),visibility:a.css("visibility"),display:a.css("display")};l=a.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),a.css(u)}return l}})(UIkit2);(function(t){var e={x:window.scrollX,y:window.scrollY};t.$win,t.$doc;var n=t.$html,a={show:function(l,u){if(l=t.$(l),!!l.length){u=t.$.extend({mode:"push"},u);var f=t.$("body"),h=l.find(".uk-offcanvas-bar:first"),b=t.langdirection=="right",x=h.hasClass("uk-offcanvas-bar-flip")?-1:1,w=x*(b?-1:1),k=window.innerWidth-f.width();e={x:window.pageXOffset,y:window.pageYOffset},h.attr("mode",u.mode),l.addClass("uk-active"),f.css({width:window.innerWidth-k,height:window.innerHeight}).addClass("uk-offcanvas-page"),(u.mode=="push"||u.mode=="reveal")&&f.css(b?"margin-right":"margin-left",(b?-1:1)*(h.outerWidth()*w)),u.mode=="reveal"&&h.css("clip","rect(0, "+h.outerWidth()+"px, 100vh, 0)"),n.css("margin-top",e.y*-1).width(),h.addClass("uk-offcanvas-bar-show"),this._initElement(l),h.trigger("show.uk.offcanvas",[l,h]),l.attr("aria-hidden","false")}},hide:function(l){var u=t.$("body"),f=t.$(".uk-offcanvas.uk-active"),h=t.langdirection=="right",b=f.find(".uk-offcanvas-bar:first"),x=function(){u.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),f.removeClass("uk-active"),b.removeClass("uk-offcanvas-bar-show"),n.css("margin-top",""),window.scrollTo(e.x,e.y),b.trigger("hide.uk.offcanvas",[f,b]),f.attr("aria-hidden","true")};f.length&&(b.attr("mode")=="none"&&(l=!0),t.support.transition&&!l?(u.one(t.support.transition.end,function(){x()}).css(h?"margin-right":"margin-left",""),b.attr("mode")=="reveal"&&b.css("clip",""),setTimeout(function(){b.removeClass("uk-offcanvas-bar-show")},0)):x())},_initElement:function(l){l.data("OffcanvasInit")||(l.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(u){var f=t.$(u.target);!u.type.match(/swipe/)&&!f.hasClass("uk-offcanvas-close")&&(f.hasClass("uk-offcanvas-bar")||f.parents(".uk-offcanvas-bar:first").length)||(u.stopImmediatePropagation(),a.hide())}),l.on("click",'a[href*="#"]',function(u){var f=t.$(this),h=f.attr("href");h!="#"&&(t.$doc.one("hide.uk.offcanvas",function(){var b;try{b=t.$(f[0].hash)}catch{b=""}b.length||(b=t.$('[name="'+f[0].hash.replace("#","")+'"]')),b.length&&t.Utils.scrollToElement?t.Utils.scrollToElement(b,t.Utils.options(f.attr("data-uk-smooth-scroll")||"{}")):window.location.href=h}),a.hide())}),l.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){n.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(l){l.preventDefault();var u=t.$(this);u.data("offcanvasTrigger")||(t.offcanvasTrigger(u,t.Utils.options(u.attr("data-uk-offcanvas"))),u.trigger("click"))}),n.on("keydown.uk.offcanvas",function(l){l.keyCode===27&&a.hide()})},init:function(){var l=this;this.options=t.$.extend({target:l.element.is("a")?l.element.attr("href"):!1,mode:"push"},this.options),this.on("click",function(u){u.preventDefault(),a.show(l.options.target,l.options)})}}),t.offcanvas=a})(UIkit2);(function(t){var e;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){t.ready(function(a){t.$("[data-uk-switcher]",a).each(function(){var l=t.$(this);l.data("switcher")||t.switcher(l,t.Utils.options(l.attr("data-uk-switcher")))})})},init:function(){var a=this;this.on("click.uk.switcher",this.options.toggle,function(l){l.preventDefault(),a.show(this)}),this.options.connect&&(this.connect=t.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(l){l.preventDefault();var u=t.$(this).attr("data-uk-switcher-item");if(a.index!=u)switch(u){case"next":case"previous":a.show(a.index+(u=="next"?1:-1));break;default:a.show(parseInt(u,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(l){l.preventDefault(),window.getSelection().toString()||a.show(a.index+(l.type=="swipeLeft"?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var a=this.find(this.options.toggle),l=a.filter(".uk-active");if(l.length)this.show(l,!1);else{if(this.options.active===!1)return;l=a.eq(this.options.active),this.show(l.length?l:a.eq(0),!1)}a.not(l).attr("aria-expanded","false"),l.attr("aria-expanded","true")},show:function(a,l){if(!this.animating){var u=this.find(this.options.toggle);isNaN(a)?a=t.$(a):(a=a<0?u.length-1:a,a=u.eq(u[a]?a:0));var f=this,h=t.$(a),b=e[this.options.animation]||function(x,w){if(!f.options.animation)return e.none.apply(f);var k=f.options.animation.split(",");return k.length==1&&(k[1]=k[0]),k[0]=k[0].trim(),k[1]=k[1].trim(),n.apply(f,[k,x,w])};(l===!1||!t.support.animation)&&(b=e.none),!h.hasClass("uk-disabled")&&(u.attr("aria-expanded","false"),h.attr("aria-expanded","true"),u.filter(".uk-active").removeClass("uk-active"),h.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(h),this.index==-1&&(this.index=0),this.connect.each(function(){var x=t.$(this),w=t.$(x.children()),k=t.$(w.filter(".uk-active")),A=t.$(w.eq(f.index));f.animating=!0,b.apply(f,[k,A]).then(function(){k.removeClass("uk-active"),A.addClass("uk-active"),k.attr("aria-hidden","true"),A.attr("aria-hidden","false"),t.Utils.checkDisplay(A,!0),f.animating=!1})})),this.trigger("show.uk.switcher",[h]))}}}),e={none:function(){var a=t.$.Deferred();return a.resolve(),a.promise()},fade:function(a,l){return n.apply(this,["uk-animation-fade",a,l])},"slide-bottom":function(a,l){return n.apply(this,["uk-animation-slide-bottom",a,l])},"slide-top":function(a,l){return n.apply(this,["uk-animation-slide-top",a,l])},"slide-vertical":function(a,l,u){var f=["uk-animation-slide-top","uk-animation-slide-bottom"];return a&&a.index()>l.index()&&f.reverse(),n.apply(this,[f,a,l])},"slide-left":function(a,l){return n.apply(this,["uk-animation-slide-left",a,l])},"slide-right":function(a,l){return n.apply(this,["uk-animation-slide-right",a,l])},"slide-horizontal":function(a,l,u){var f=["uk-animation-slide-right","uk-animation-slide-left"];return a&&a.index()>l.index()&&f.reverse(),n.apply(this,[f,a,l])},scale:function(a,l){return n.apply(this,["uk-animation-scale-up",a,l])}},t.switcher.animations=e;function n(a,l,u){var f=t.$.Deferred(),h=a,b=a,x;return u[0]===l[0]?(f.resolve(),f.promise()):(typeof a=="object"&&(h=a[0],b=a[1]||a[0]),t.$body.css("overflow-x","hidden"),x=function(){l&&l.hide().removeClass("uk-active "+b+" uk-animation-reverse"),u.addClass(h).one(t.support.animation.end,(function(){setTimeout(function(){u.removeClass(""+h).css({opacity:"",display:""})},0),f.resolve(),t.$body.css("overflow-x",""),l&&l.css({opacity:"",display:""})}).bind(this)).show()},u.css("animation-duration",this.options.duration+"ms"),l&&l.length?(l.css("animation-duration",this.options.duration+"ms"),l.css("display","none").addClass(b+" uk-animation-reverse").one(t.support.animation.end,(function(){x()}).bind(this)).css("display","")):(u.addClass("uk-active"),x()),f.promise())}})(UIkit2);(function(t){t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var n=t.$(this);n.data("tab")||t.tab(n,t.Utils.options(n.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(n){if(n.preventDefault(),!(e.switcher&&e.switcher.animating)){var a=e.find(e.options.target).not(this);a.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active"),e.current]),e.current=t.$(this),e.options.connect||(a.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(n){n.preventDefault(),n.stopPropagation();var a=t.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(a.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(n,a){e.responsivetab.caption.html(a.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),t.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length){this.responsivetab.addClass("uk-hidden");return}var n=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),a=!1,l,u;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>n&&(a=!0)}),a)for(var f=0;f<e.length;f++)l=t.$(e.eq(f)),l.find("a"),l.css("float")!="none"&&!l.attr("uk-dropdown")&&(l.hasClass("uk-disabled")||(u=t.$(l[0].outerHTML),u.find("a").data("index",f),this.responsivetab.lst.append(u)),l.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})})(UIkit2);(function(t){t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var n=t.$(this);n.data("cover")||t.cover(n,t.Utils.options(n.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce((function(){this.check()}).bind(this),100)),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.check()}).bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e=this.parent.width(),n=this.parent.height(),a,l;e/this.ratio<n?(a=Math.ceil(n*this.ratio),l=n):(a=e,l=Math.ceil(e/this.ratio)),this.element.css({width:a,height:l})}})})(UIkit2);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-nestable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window,n=t.$html,a=[],l=t.$win,u,f=e?"touchstart":"mousedown",h=e?"touchmove":"mousemove",b=e?"touchend":"mouseup",x=e?"touchcancel":"mouseup";return t.component("nestable",{defaults:{listBaseClass:"uk-nestable",listClass:"uk-nestable-list",listItemClass:"uk-nestable-item",dragClass:"uk-nestable-dragged",movingClass:"uk-nestable-moving",noChildrenClass:"uk-nestable-nochildren",emptyClass:"uk-nestable-empty",handleClass:"",collapsedClass:"uk-collapsed",placeholderClass:"uk-nestable-placeholder",noDragClass:"uk-nestable-nodrag",group:!1,maxDepth:10,threshold:20,idlethreshold:10},boot:function(){t.$html.on("mousemove touchmove",function(w){if(u){var k=u.offset().top;k<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(u.height()/2)):k+u.height()>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(u.height()/2))}}),t.ready(function(w){t.$("[data-uk-nestable]",w).each(function(){var k=t.$(this);k.data("nestable")||t.nestable(k,t.Utils.options(k.attr("data-uk-nestable")))})})},init:function(){var w=this;Object.keys(this.options).forEach(function(N){String(N).indexOf("Class")!=-1&&(w.options["_"+N]="."+w.options[N])}),this.find(this.options._listItemClass).find(">ul").addClass(this.options.listClass),this.checkEmptyList(),this.reset(),this.element.data("nestable-group",this.options.group||t.Utils.uid("nestable-group")),this.find(this.options._listItemClass).each(function(){w.setParent(t.$(this))}),this.on("click","[data-nestable-action]",function(N){if(!(w.dragEl||!e&&N.button!==0)){N.preventDefault();var q=t.$(N.currentTarget),j=q.data("nestableAction"),O=q.closest(w.options._listItemClass);j==="collapse"&&w.collapseItem(O),j==="expand"&&w.expandItem(O),j==="toggle"&&w.toggleItem(O)}});var k=function(N){var q=t.$(N.target),j=q.is("a[href]")?q:q.parents("a[href]");N.target!==w.element[0]&&(q.is(w.options._noDragClass)||q.closest(w.options._noDragClass).length||q.is("[data-nestable-action]")||q.closest("[data-nestable-action]").length||(w.options.handleClass&&!q.hasClass(w.options.handleClass)&&w.options.handleClass&&(q=q.closest(w.options._handleClass)),!(!q.length||w.dragEl||!e&&N.button!==0||e&&N.touches.length!==1)&&(N.originalEvent&&N.originalEvent.touches&&(N=evt.originalEvent.touches[0]),w.delayMove=function(O){j=!1,O.preventDefault(),w.dragStart(N),w.trigger("start.uk.nestable",[w]),w.delayMove=!1},w.delayMove.x=parseInt(N.pageX,10),w.delayMove.y=parseInt(N.pageY,10),w.delayMove.threshold=w.options.idlethreshold,j.length&&b=="touchend"&&w.one(b,function(){j&&j.attr("href").trim()&&(location.href=j.attr("href"))}),N.preventDefault())))},A=function(N){N.originalEvent&&N.originalEvent.touches&&(N=N.originalEvent.touches[0]),w.delayMove&&(Math.abs(N.pageX-w.delayMove.x)>w.delayMove.threshold||Math.abs(N.pageY-w.delayMove.y)>w.delayMove.threshold)&&(window.getSelection().toString()?w.delayMove=!1:w.delayMove(N)),w.dragEl&&(N.preventDefault(),w.dragMove(N),w.trigger("move.uk.nestable",[w]))},H=function(N){w.dragEl&&(N.preventDefault(),w.dragStop(e?N.touches[0]:N)),u=!1,w.delayMove=!1};e?(this.element[0].addEventListener(f,k,!1),window.addEventListener(h,A,!1),window.addEventListener(b,H,!1),window.addEventListener(x,H,!1)):(this.on(f,k),l.on(h,A),l.on(b,H))},serialize:function(){var w,k=this,A=function(H,N){var q=[],j=H.children(k.options._listItemClass);return j.each(function(){for(var O=t.$(this),S={},P,W=O.children(k.options._listClass),I=0,G,J;I<O[0].attributes.length;I++)P=O[0].attributes[I],P.name.indexOf("data-")===0&&(G=P.name.substr(5),J=t.Utils.str2json(P.value),S[G]=J||P.value=="false"||P.value=="0"?J:P.value);W.length&&(S.children=A(W)),q.push(S)}),q};return w=A(k.element),w},list:function(w){var k=[],A=this,H=0,N=function(q,j,O){var S=q.children(w._listItemClass);S.each(function(P){var W=t.$(this),I=t.$.extend({parent_id:O||null,depth:j,order:P},W.data()),G=W.children(w._listClass);k.push(I),G.length&&N(G,j+1,W.data(w.idProperty||"id"))})};return w=t.$.extend({},A.options,w),N(A.element,H),k},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null;for(var w=0;w<a.length;w++)this.checkEmptyList(a[w]);a=[]},toggleItem:function(w){this[w.hasClass(this.options.collapsedClass)?"expandItem":"collapseItem"](w)},expandItem:function(w){w.removeClass(this.options.collapsedClass)},collapseItem:function(w){var k=w.children(this.options._listClass);k.length&&w.addClass(this.options.collapsedClass)},expandAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.expandItem(t.$(this))})},collapseAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.collapseItem(t.$(this))})},setParent:function(w){w.children(this.options._listClass).length&&w.addClass("uk-parent")},unsetParent:function(w){w.removeClass("uk-parent "+this.options.collapsedClass),w.children(this.options._listClass).remove()},dragStart:function(w){var k=this.mouse,A=t.$(w.target),H=A.closest(this.options._listItemClass),N=H.offset();this.placeEl=H,k.offsetX=w.pageX-N.left,k.offsetY=w.pageY-N.top,k.startX=k.lastX=N.left,k.startY=k.lastY=N.top,this.dragRootEl=this.element,this.dragEl=t.$("<ul></ul>").addClass(this.options.listClass+" "+this.options.dragClass).append(H.clone()),this.dragEl.css("width",H.width()),this.placeEl.addClass(this.options.placeholderClass),u=this.dragEl,this.tmpDragOnSiblings=[H[0].previousSibling,H[0].nextSibling],t.$body.append(this.dragEl),this.dragEl.css({left:N.left,top:N.top});var q,j,O=this.dragEl.find(this.options._listItemClass);for(q=0;q<O.length;q++)j=t.$(O[q]).parents(this.options._listClass+","+this.options._listBaseClass).length,j>this.dragDepth&&(this.dragDepth=j);n.addClass(this.options.movingClass)},dragStop:function(w){var k=t.$(this.placeEl),A=this.placeEl.parents(this.options._listBaseClass+":first");this.placeEl.removeClass(this.options.placeholderClass),this.dragEl.remove(),this.element[0]!==A[0]?(A.trigger("change.uk.nestable",[A.data("nestable"),k,"added"]),this.element.trigger("change.uk.nestable",[this,k,"removed"])):this.element.trigger("change.uk.nestable",[this,k,"moved"]),this.trigger("stop.uk.nestable",[this,k]),this.reset(),n.removeClass(this.options.movingClass)},dragMove:function(w){var k,A,H,N,q,j=this.options,O=this.mouse,S=this.dragRootEl?this.dragRootEl.data("nestable").options.maxDepth:j.maxDepth;this.dragEl.css({left:w.pageX-O.offsetX,top:w.pageY-O.offsetY}),O.lastX=O.nowX,O.lastY=O.nowY,O.nowX=w.pageX,O.nowY=w.pageY,O.distX=O.nowX-O.lastX,O.distY=O.nowY-O.lastY,O.lastDirX=O.dirX,O.lastDirY=O.dirY,O.dirX=O.distX===0?0:O.distX>0?1:-1,O.dirY=O.distY===0?0:O.distY>0?1:-1;var P=Math.abs(O.distX)>Math.abs(O.distY)?1:0;if(!O.moving){O.dirAx=P,O.moving=!0;return}if(O.dirAx!==P?(O.distAxX=0,O.distAxY=0):(O.distAxX+=Math.abs(O.distX),O.dirX!==0&&O.dirX!==O.lastDirX&&(O.distAxX=0),O.distAxY+=Math.abs(O.distY),O.dirY!==0&&O.dirY!==O.lastDirY&&(O.distAxY=0)),O.dirAx=P,O.dirAx&&O.distAxX>=j.threshold&&(O.distAxX=0,H=this.placeEl.prev("li"),O.distX>0&&H.length&&!H.hasClass(j.collapsedClass)&&!H.hasClass(j.noChildrenClass)&&(k=H.find(j._listClass).last(),q=this.placeEl.parents(j._listClass+","+j._listBaseClass).length,q+this.dragDepth<=S&&(k.length?(k=H.children(j._listClass).last(),k.append(this.placeEl)):(k=t.$("<ul/>").addClass(j.listClass),k.append(this.placeEl),H.append(k),this.setParent(H)))),O.distX<0&&(N=this.placeEl.next(j._listItemClass),!N.length))){var W=this.placeEl.closest([j._listBaseClass,j._listClass].join(",")),I=W.closest(j._listItemClass);I.length&&(I.after(this.placeEl),W.children().length||this.unsetParent(I))}var G=!1,J=w.pageX-(window.pageXOffset||document.scrollLeft||0),ue=w.pageY-(window.pageYOffset||document.documentElement.scrollTop);if(this.pointEl=t.$(document.elementFromPoint(J,ue)),j.handleClass&&this.pointEl.hasClass(j.handleClass))this.pointEl=this.pointEl.closest(j._listItemClass);else{var de=this.pointEl.closest(j._listItemClass);de.length&&(this.pointEl=de)}if(!this.placeEl.find(this.pointEl).length){if(this.pointEl.data("nestable")&&!this.pointEl.children().length)G=!0,this.checkEmptyList(this.pointEl);else if(!this.pointEl.length||!this.pointEl.hasClass(j.listItemClass))return;var ge=this.element,ce=this.pointEl.closest(this.options._listBaseClass),Te=ge[0]!=ce[0];if(!O.dirAx||Te||G){if(Te&&j.group!==ce.data("nestable-group")||(a.push(ge),q=this.dragDepth-1+this.pointEl.parents(j._listClass+","+j._listBaseClass).length,q>S))return;var ve=w.pageY<this.pointEl.offset().top+this.pointEl.height()/2;A=this.placeEl.parent(),G?this.pointEl.append(this.placeEl):ve?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),A.children().length||A.data("nestable")||this.unsetParent(A.parent()),this.checkEmptyList(this.dragRootEl),this.checkEmptyList(ge),Te&&(this.dragRootEl=ce,this.hasNewRoot=this.element[0]!==this.dragRootEl[0])}}},checkEmptyList:function(w){w=w?t.$(w):this.element,this.options.emptyClass&&w[w.children().length?"removeClass":"addClass"](this.options.emptyClass)}}),t.nestable});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window||"MSGesture"in window||window.DocumentTouch&&document instanceof DocumentTouch,n,a,l,u,f,h,b,x,w,k=e?"MSGesture"in window?"pointerdown":"touchstart":"mousedown",A=e?"MSGesture"in window?"pointermove":"touchmove":"mousemove",H=e?"MSGesture"in window?"pointerup":"touchend":"mouseup";function N(S){S=t.$(S);do{if(S.data("sortable"))return S;S=t.$(S).parent()}while(S.length);return S}t.component("sortable",{defaults:{animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",baseClass:"uk-sortable",noDragClass:"uk-sortable-nodrag",emptyClass:"uk-sortable-empty",dragCustomClass:"",handleClass:!1,group:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){t.ready(function(S){t.$("[data-uk-sortable]",S).each(function(){var P=t.$(this);P.data("sortable")||t.sortable(P,t.Utils.options(P.attr("data-uk-sortable")))})}),t.$html.on(A,function(S){if(f){var P=S.originalEvent.targetTouches?S.originalEvent.targetTouches[0]:S;(Math.abs(P.pageX-f.pos.x)>f.threshold||Math.abs(P.pageY-f.pos.y)>f.threshold)&&f.apply(P)}if(n){u||(u=!0,n.show(),n.$current.addClass(n.$sortable.options.placeholderClass),n.$sortable.element.children().addClass(n.$sortable.options.childClass),t.$html.addClass(n.$sortable.options.dragMovingClass));var W=n.data("mouse-offset"),I=S.originalEvent.touches&&S.originalEvent.touches[0]||S.originalEvent,G=parseInt(I.pageX,10)+W.left,J=parseInt(I.pageY,10)+W.top;if(n.css({left:G,top:J}),J+n.height()/3>document.body.offsetHeight)return;J<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(n.height()/3)):J+n.height()/3>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(n.height()/3))}}),t.$html.on(H,function(S){if(f=!1,!a||!n){a=n=null;return}var P=N(a),W=n.$sortable,I={type:S.type};P[0]&&W.dragDrop(I,W.element),W.dragEnd(I,W.element)})},init:function(){var S=this,P=this.element[0];h=[],this.checkEmptyList(),this.element.data("sortable-group",this.options.group?this.options.group:t.Utils.uid("sortable-group"));var W=ce(function(Te){if(!(Te.data&&Te.data.sortable)){var ve=t.$(Te.target),ne=ve.is("a[href]")?ve:ve.parents("a[href]");if(!ve.is(":input")){if(S.options.handleClass){var D=ve.hasClass(S.options.handleClass)?ve:ve.closest("."+S.options.handleClass,S.element);if(!D.length)return}return Te.preventDefault(),ne.length&&ne.one("click",function(se){se.preventDefault()}).one(H,function(){b||(ne.trigger("click"),e&&ne.attr("href").trim()&&(location.href=ne.attr("href")))}),Te.data=Te.data||{},Te.data.sortable=P,S.dragStart(Te,this)}}}),I=ce(t.Utils.debounce(function(Te){return S.dragEnter(Te,this)})),G=ce(function(Te){var ve=S.dragenterData(this);S.dragenterData(this,ve-1),S.dragenterData(this)||(t.$(this).removeClass(S.options.overClass),S.dragenterData(this,!1))}),J=ce(function(Te){return!a||a===this||l===this?!0:(S.element.children().removeClass(S.options.overClass),l=this,S.moveElementNextTo(a,this),O(Te))});function ue(){e&&w.touches&&w.touches.length?P.addEventListener(A,J,!1):(P.addEventListener("mouseover",I,!1),P.addEventListener("mouseout",G,!1))}function de(){e&&w.touches&&w.touches.length?P.removeEventListener(A,J,!1):(P.removeEventListener("mouseover",I,!1),P.removeEventListener("mouseout",G,!1))}this.addDragHandlers=ue,this.removeDragHandlers=de;function ge(Te){a&&S.dragMove(Te,S)}function ce(Te){return function(ve){var ne,D,se;w=ve,ve&&(ne=ve.touches&&ve.touches[0]||ve,D=ne.target||ve.target,e&&document.elementFromPoint&&(D=document.elementFromPoint(ne.pageX-document.body.scrollLeft,ne.pageY-document.body.scrollTop)),x=t.$(D)),t.$(D).hasClass("."+S.options.childClass)?Te.apply(D,[ve]):D!==P&&(se=j(P,D),se&&Te.apply(se,[ve]))}}window.addEventListener(A,ge,!1),P.addEventListener(k,W,!1)},dragStart:function(S,P){b=!1,u=!1;var W=this,I=t.$(S.target);if(!(!e&&S.button==2)&&!(I.is("."+W.options.noDragClass)||I.closest("."+W.options.noDragClass).length)&&!I.is(":input")){a=P,n&&n.remove();var G=t.$(a),J=G.offset(),ue=S.touches&&S.touches[0]||S;f={pos:{x:ue.pageX,y:ue.pageY},threshold:W.options.handleClass?1:W.options.threshold,apply:function(de){n=t.$('<div class="'+[W.options.draggingClass,W.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:J.top,left:J.left,width:G.width(),height:G.height(),padding:G.css("padding")}).data({"mouse-offset":{left:J.left-parseInt(ue.pageX,10),top:J.top-parseInt(ue.pageY,10)},origin:W.element,index:G.index()}).append(G.html()).appendTo("body"),n.$current=G,n.$sortable=W,G.data({"start-list":G.parent(),"start-index":G.index(),"sortable-group":W.options.group}),W.addDragHandlers(),W.options.start(this,a),W.trigger("start.uk.sortable",[W,a,n]),b=!0,f=!1}}}},dragMove:function(S,P){x=t.$(document.elementFromPoint(S.pageX-(document.body.scrollLeft||document.scrollLeft||0),S.pageY-(document.body.scrollTop||document.documentElement.scrollTop||0)));var W=x.closest("."+this.options.baseClass),I=W.data("sortable-group"),G=t.$(a),J=G.parent(),ue=G.data("sortable-group"),de;W[0]!==J[0]&&ue!==void 0&&I===ue&&(W.data("sortable").addDragHandlers(),h.push(W),W.children().addClass(this.options.childClass),W.children().length>0?(de=x.closest("."+this.options.childClass),de.length?de.before(G):W.append(G)):x.append(G),t.$doc.trigger("mouseover")),this.checkEmptyList(),this.checkEmptyList(J)},dragEnter:function(S,P){if(!a||a===P)return!0;var W=this.dragenterData(P);if(this.dragenterData(P,W+1),W===0){var I=t.$(P).parent(),G=t.$(a).data("start-list");if(I[0]!==G[0]){var J=I.data("sortable-group"),ue=t.$(a).data("sortable-group");if((J||ue)&&J!=ue)return!1}t.$(P).addClass(this.options.overClass),this.moveElementNextTo(a,P)}return!1},dragEnd:function(S,P){var W=this;a&&(this.options.stop(P),this.trigger("stop.uk.sortable",[this])),a=null,l=null,h.push(this.element),h.forEach(function(I,G){t.$(I).children().each(function(){this.nodeType===1&&(t.$(this).removeClass(W.options.overClass).removeClass(W.options.placeholderClass).removeClass(W.options.childClass),W.dragenterData(this,!1))})}),h=[],t.$html.removeClass(this.options.dragMovingClass),this.removeDragHandlers(),n&&(n.remove(),n=null)},dragDrop:function(S,P){S.type==="drop"&&(S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault()),this.triggerChangeEvents()},triggerChangeEvents:function(){if(a){var S=t.$(a),P=n.data("origin"),W=S.closest("."+this.options.baseClass),I=[],G=t.$(a);P[0]===W[0]&&n.data("index")!=S.index()?I.push({sortable:this,mode:"moved"}):P[0]!=W[0]&&I.push({sortable:t.$(W).data("sortable"),mode:"added"},{sortable:t.$(P).data("sortable"),mode:"removed"}),I.forEach(function(J,ue){J.sortable&&J.sortable.element.trigger("change.uk.sortable",[J.sortable,G,J.mode])})}},dragenterData:function(S,P){if(S=t.$(S),arguments.length==1)return parseInt(S.data("child-dragenter"),10)||0;P?S.data("child-dragenter",Math.max(0,P)):S.removeData("child-dragenter")},moveElementNextTo:function(S,P){var W=this,I=t.$(S).parent().css("min-height",""),G=q(S,P)?P:P.nextSibling,J=I.children(),ue=J.length;if(!W.options.animation){P.parentNode.insertBefore(S,G),t.Utils.checkDisplay(W.element.parent());return}I.css("min-height",I.height()),J.stop().each(function(){var de=t.$(this),ge=de.position();ge.width=de.width(),de.data("offset-before",ge)}),P.parentNode.insertBefore(S,G),t.Utils.checkDisplay(W.element.parent()),J=I.children().each(function(){var de=t.$(this);de.data("offset-after",de.position())}).each(function(){var de=t.$(this),ge=de.data("offset-before");de.css({position:"absolute",top:ge.top,left:ge.left,minWidth:ge.width})}),J.each(function(){var de=t.$(this);de.data("offset-before");var ge=de.data("offset-after");de.css("pointer-events","none").width(),setTimeout(function(){de.animate({top:ge.top,left:ge.left},W.options.animation,function(){de.css({position:"",top:"",left:"",minWidth:"","pointer-events":""}).removeClass(W.options.overClass).removeData("child-dragenter"),ue--,ue||(I.css("min-height",""),t.Utils.checkDisplay(W.element.parent()))})},0)})},serialize:function(){var S=[],P,W;return this.element.children().each(function(I,G){P={};for(var J=0,ue,de;J<G.attributes.length;J++)W=G.attributes[J],W.name.indexOf("data-")===0&&(ue=W.name.substr(5),de=t.Utils.str2json(W.value),P[ue]=de||W.value=="false"||W.value=="0"?de:W.value);S.push(P)}),S},checkEmptyList:function(S){S=S?t.$(S):this.element,this.options.emptyClass&&S[S.children().length?"removeClass":"addClass"](this.options.emptyClass)}});function q(S,P){var W=S.parentNode;if(P.parentNode!=W)return!1;for(var I=S.previousSibling;I&&I.nodeType!==9;){if(I===P)return!0;I=I.previousSibling}return!1}function j(S,P){var W=P;if(W==S)return null;for(;W;){if(W.parentNode===S)return W;if(W=W.parentNode,!W||!W.ownerDocument||W.nodeType===11)break}return null}function O(S){S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault(),S.returnValue=!1}return t.sortable});function Rw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gd={exports:{}};/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */var $m;function Nw(){return $m||($m=1,function(t){(function(e){window.UIkit2&&e(UIkit2)})(function(e){var n=!1,a,l;e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(u,f){var h="",b;if(h+='<div class="uk-datepicker-nav">',h+='<a href="" class="uk-datepicker-previous"></a>',h+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var x=new Date().getFullYear(),w=[],k,A,H,N;for(b=0;b<f.i18n.months.length;b++)b==u.month?w.push('<option value="'+b+'" selected>'+f.i18n.months[b]+"</option>"):w.push('<option value="'+b+'">'+f.i18n.months[b]+"</option>");for(k='<span class="uk-form-select">'+f.i18n.months[u.month]+'<select class="update-picker-month">'+w.join("")+"</select></span>",w=[],H=u.minDate?u.minDate.year():x-50,N=u.maxDate?u.maxDate.year():x+20,b=H;b<=N;b++)b==u.year?w.push('<option value="'+b+'" selected>'+b+"</option>"):w.push('<option value="'+b+'">'+b+"</option>");A='<span class="uk-form-select">'+u.year+'<select class="update-picker-year">'+w.join("")+"</select></span>",h+='<div class="uk-datepicker-heading">'+k+" "+A+"</div>"}else h+='<div class="uk-datepicker-heading">'+f.i18n.months[u.month]+" "+u.year+"</div>";for(h+="</div>",h+='<table class="uk-datepicker-table">',h+="<thead>",b=0;b<u.weekdays.length;b++)u.weekdays[b]&&(h+="<th>"+u.weekdays[b]+"</th>");for(h+="</thead>",h+="<tbody>",b=0;b<u.days.length;b++)if(u.days[b]&&u.days[b].length){h+="<tr>";for(var q=0;q<u.days[b].length;q++)if(u.days[b][q]){var j=u.days[b][q],O=[];j.inmonth||O.push("uk-datepicker-table-muted"),j.selected&&O.push("uk-active"),j.disabled&&O.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),h+='<td><a href="" class="'+O.join(" ")+'" data-date="'+j.day.format()+'">'+j.day.format("D")+"</a></td>"}h+="</tr>"}return h+="</tbody>",h+="</table>",h}},boot:function(){e.$win.on("resize orientationchange",function(){n&&n.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(u){var f=e.$(this);f.data("datepicker")||(u.preventDefault(),e.datepicker(f,e.Utils.options(f.attr("data-uk-datepicker"))),f.trigger("focus"))}),e.$html.on("click focus","*",function(u){var f=e.$(u.target);n&&f[0]!=a[0]&&!f.data("datepicker")&&!f.parents(".uk-datepicker:first").length&&n.hide()})},init:function(){if(!(e.support.touch&&this.element.attr("type")=="date"&&!this.options.mobile)){var u=this;this.current=this.element.val()?l(this.element.val(),this.options.format):l(),this.on("click focus",function(){n!==u&&u.pick(this.value?this.value:"")}).on("change",function(){u.element.val()&&!l(u.element.val(),u.options.format).isValid()&&u.element.val(l().format(u.options.format))}),a||(a=e.$('<div class="uk-dropdown uk-datepicker"></div>'),a.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(f){f.stopPropagation(),f.preventDefault();var h=e.$(this);if(h.hasClass("uk-datepicker-date-disabled"))return!1;h.is("[data-date]")?(n.current=l(h.data("date")),n.element.val(n.current.isValid()?n.current.format(n.options.format):null).trigger("change"),n.hide()):n.add(h.hasClass("uk-datepicker-next")?1:-1,"months")}),a.on("change",".update-picker-month, .update-picker-year",function(){var f=e.$(this);n[f.is(".update-picker-year")?"setYear":"setMonth"](Number(f.val()))}),a.appendTo(this.options.container))}},pick:function(u){var f=this.element.offset(),h={left:f.left,right:""};this.current=isNaN(u)?l(u,this.options.format):l(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),e.langdirection=="right"&&(h.right=window.innerWidth-(h.left+this.element.outerWidth()),h.left="");var b=f.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-a.outerHeight(),x=f.top+this.element.outerHeight()+this.options.offsettop;h.top=x,(this.options.pos=="top"||this.options.pos=="auto"&&window.innerHeight-x-a.outerHeight()<0&&b>=0)&&(h.top=b),a.css(h).show(),this.trigger("show.uk.datepicker"),n=this},add:function(u,f){this.current.add(u,f),this.update()},setMonth:function(u){this.current.month(u),this.update()},setYear:function(u){this.current.year(u),this.update()},update:function(){var u=this.getRows(this.current.year(),this.current.month()),f=this.options.template(u,this.options);a.html(f),this.trigger("update.uk.datepicker")},getRows:function(u,f){var h=this.options,b=l().format("YYYY-MM-DD"),x=[31,u%4===0&&u%100!==0||u%400===0?29:28,31,30,31,30,31,31,30,31,30,31][f],w=new Date(u,f,1,12).getDay(),k={month:f,year:u,weekdays:[],days:[],maxDate:!1,minDate:!1},A=[];h.maxDate!==!1&&(k.maxDate=isNaN(h.maxDate)?l(h.maxDate,h.format).startOf("day").hours(12):l().add(h.maxDate,"days").startOf("day").hours(12)),h.minDate!==!1&&(k.minDate=isNaN(h.minDate)?l(h.minDate,h.format).startOf("day").hours(12):l().add(h.minDate-1,"days").startOf("day").hours(12)),k.weekdays=function(){for(var G=0,J=[];G<7;G++){for(var ue=G+(h.weekstart||0);ue>=7;)ue-=7;J.push(h.i18n.weekdays[ue])}return J}(),h.weekstart&&h.weekstart>0&&(w-=h.weekstart,w<0&&(w+=7));for(var H=x+w,N=H;N>7;)N-=7;H+=7-N;for(var q,j,O,S,P,W=0,I=0;W<H;W++)q=new Date(u,f,1+(W-w),12),j=k.minDate&&k.minDate>q||k.maxDate&&q>k.maxDate,P=!(W<w||W>=x+w),q=l(q),O=this.initdate==q.format("YYYY-MM-DD"),S=b==q.format("YYYY-MM-DD"),A.push({selected:O,today:S,disabled:j,day:q,inmonth:P}),++I===7&&(k.days.push(A),A=[],I=0);return k},hide:function(){n&&n===this&&(a.hide(),n=!1,this.trigger("hide.uk.datepicker"))}});//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return l=(function(u){var f,h="2.8.3",b=Math.round,x=Object.prototype.hasOwnProperty,w,k=0,A=1,H=2,N=3,q=4,j=5,O=6,S={},P=[],W=t.exports,I=/^\/?Date\((\-?\d+)/i,G=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,J=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ue=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,de=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ge=/\d\d?/,ce=/\d{1,3}/,Te=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,ne=/\d+/,D=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,se=/Z|[\+\-]\d\d:?\d\d/gi,ye=/T/i,Ee=/[\+\-]?\d+(\.\d{1,3})?/,et=/\d{1,2}/,Ie=/\d/,Me=/\d\d/,ie=/\d{3}/,Y=/\d{4}/,Le=/[+-]?\d{6}/,Re=/[+-]?\d+/,V=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we="YYYY-MM-DDTHH:mm:ssZ",Ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ze=/([\+\-]|\d\d)/gi,Xe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ut={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Et={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},wt={},St={s:45,m:45,h:22,d:26,M:11},yt="DDD w W M D d".split(" "),Mt="M D H h m s w W".split(" "),Ut={M:function(){return this.month()+1},MMM:function(y){return this.localeData().monthsShort(this,y)},MMMM:function(y){return this.localeData().months(this,y)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(y){return this.localeData().weekdaysMin(this,y)},ddd:function(y){return this.localeData().weekdaysShort(this,y)},dddd:function(y){return this.localeData().weekdays(this,y)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return xt(this.year()%100,2)},YYYY:function(){return xt(this.year(),4)},YYYYY:function(){return xt(this.year(),5)},YYYYYY:function(){var y=this.year(),T=y>=0?"+":"-";return T+xt(Math.abs(y),6)},gg:function(){return xt(this.weekYear()%100,2)},gggg:function(){return xt(this.weekYear(),4)},ggggg:function(){return xt(this.weekYear(),5)},GG:function(){return xt(this.isoWeekYear()%100,2)},GGGG:function(){return xt(this.isoWeekYear(),4)},GGGGG:function(){return xt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return si(this.milliseconds()/100)},SS:function(){return xt(si(this.milliseconds()/10),2)},SSS:function(){return xt(this.milliseconds(),3)},SSSS:function(){return xt(this.milliseconds(),3)},Z:function(){var y=-this.zone(),T="+";return y<0&&(y=-y,T="-"),T+xt(si(y/60),2)+":"+xt(si(y)%60,2)},ZZ:function(){var y=-this.zone(),T="+";return y<0&&(y=-y,T="-"),T+xt(si(y/60),2)+xt(si(y)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Kt={},X=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function le(y,T,R){switch(arguments.length){case 2:return y??T;case 3:return y??T??R;default:throw new Error("Implement me")}}function Q(y,T){return x.call(y,T)}function he(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function pe(y){f.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+y)}function Be(y,T){var R=!0;return $t(function(){return R&&(pe(y),R=!1),T.apply(this,arguments)},T)}function ot(y,T){Kt[y]||(pe(T),Kt[y]=!0)}function Qe(y,T){return function(R){return xt(y.call(this,R),T)}}function mt(y,T){return function(R){return this.localeData().ordinal(y.call(this,R),T)}}for(;yt.length;)w=yt.pop(),Ut[w+"o"]=mt(Ut[w],w);for(;Mt.length;)w=Mt.pop(),Ut[w+w]=Qe(Ut[w],2);Ut.DDDD=Qe(Ut.DDD,3);function Pt(){}function ct(y,T){T!==!1&&Wi(y),Qt(this,y),this._d=new Date(+y._d)}function Wt(y){var T=wi(y),R=T.year||0,re=T.quarter||0,ae=T.month||0,_e=T.week||0,Oe=T.day||0,Je=T.hour||0,tt=T.minute||0,Ve=T.second||0,Ke=T.millisecond||0;this._milliseconds=+Ke+Ve*1e3+tt*6e4+Je*36e5,this._days=+Oe+_e*7,this._months=+ae+re*3+R*12,this._data={},this._locale=f.localeData(),this._bubble()}function $t(y,T){for(var R in T)Q(T,R)&&(y[R]=T[R]);return Q(T,"toString")&&(y.toString=T.toString),Q(T,"valueOf")&&(y.valueOf=T.valueOf),y}function Qt(y,T){var R,re,ae;if(typeof T._isAMomentObject<"u"&&(y._isAMomentObject=T._isAMomentObject),typeof T._i<"u"&&(y._i=T._i),typeof T._f<"u"&&(y._f=T._f),typeof T._l<"u"&&(y._l=T._l),typeof T._strict<"u"&&(y._strict=T._strict),typeof T._tzm<"u"&&(y._tzm=T._tzm),typeof T._isUTC<"u"&&(y._isUTC=T._isUTC),typeof T._offset<"u"&&(y._offset=T._offset),typeof T._pf<"u"&&(y._pf=T._pf),typeof T._locale<"u"&&(y._locale=T._locale),P.length>0)for(R in P)re=P[R],ae=T[re],typeof ae<"u"&&(y[re]=ae);return y}function Vt(y){return y<0?Math.ceil(y):Math.floor(y)}function xt(y,T,R){for(var re=""+Math.abs(y),ae=y>=0;re.length<T;)re="0"+re;return(ae?"":"-")+re}function Yn(y,T){var R={milliseconds:0,months:0};return R.months=T.month()-y.month()+(T.year()-y.year())*12,y.clone().add(R.months,"M").isAfter(T)&&--R.months,R.milliseconds=+T-+y.clone().add(R.months,"M"),R}function Yt(y,T){var R;return T=vr(T,y),y.isBefore(T)?R=Yn(y,T):(R=Yn(T,y),R.milliseconds=-R.milliseconds,R.months=-R.months),R}function mr(y,T){return function(R,re){var ae,_e;return re!==null&&!isNaN(+re)&&(ot(T,"moment()."+T+"(period, number) is deprecated. Please use moment()."+T+"(number, period)."),_e=R,R=re,re=_e),R=typeof R=="string"?+R:R,ae=f.duration(R,re),Rt(this,ae,y),this}}function Rt(y,T,R,re){var ae=T._milliseconds,_e=T._days,Oe=T._months;re=re??!0,ae&&y._d.setTime(+y._d+ae*R),_e&&Nt(y,"Date",Yi(y,"Date")+_e*R),Oe&&ni(y,Yi(y,"Month")+Oe*R),re&&f.updateOffset(y,_e||Oe)}function sn(y){return Object.prototype.toString.call(y)==="[object Array]"}function _i(y){return Object.prototype.toString.call(y)==="[object Date]"||y instanceof Date}function Ri(y,T,R){var re=Math.min(y.length,T.length),ae=Math.abs(y.length-T.length),_e=0,Oe;for(Oe=0;Oe<re;Oe++)(R&&y[Oe]!==T[Oe]||!R&&si(y[Oe])!==si(T[Oe]))&&_e++;return _e+ae}function pi(y){if(y){var T=y.toLowerCase().replace(/(.)s$/,"$1");y=ut[y]||Et[T]||T}return y}function wi(y){var T={},R,re;for(re in y)Q(y,re)&&(R=pi(re),R&&(T[R]=y[re]));return T}function ui(y){var T,R;if(y.indexOf("week")===0)T=7,R="day";else if(y.indexOf("month")===0)T=12,R="month";else return;f[y]=function(re,ae){var _e,Oe,Je=f._locale[y],tt=[];if(typeof re=="number"&&(ae=re,re=u),Oe=function(Ve){var Ke=f().utc().set(R,Ve);return Je.call(f._locale,Ke,re||"")},ae!=null)return Oe(ae);for(_e=0;_e<T;_e++)tt.push(Oe(_e));return tt}}function si(y){var T=+y,R=0;return T!==0&&isFinite(T)&&(T>=0?R=Math.floor(T):R=Math.ceil(T)),R}function Bi(y,T){return new Date(Date.UTC(y,T+1,0)).getUTCDate()}function eo(y,T,R){return We(f([y,11,31+T-R]),T,R).week}function Hi(y){return Rr(y)?366:365}function Rr(y){return y%4===0&&y%100!==0||y%400===0}function Wi(y){var T;y._a&&y._pf.overflow===-2&&(T=y._a[A]<0||y._a[A]>11?A:y._a[H]<1||y._a[H]>Bi(y._a[k],y._a[A])?H:y._a[N]<0||y._a[N]>23?N:y._a[q]<0||y._a[q]>59?q:y._a[j]<0||y._a[j]>59?j:y._a[O]<0||y._a[O]>999?O:-1,y._pf._overflowDayOfYear&&(T<k||T>H)&&(T=H),y._pf.overflow=T)}function Ki(y){return y._isValid==null&&(y._isValid=!isNaN(y._d.getTime())&&y._pf.overflow<0&&!y._pf.empty&&!y._pf.invalidMonth&&!y._pf.nullInput&&!y._pf.invalidFormat&&!y._pf.userInvalidated,y._strict&&(y._isValid=y._isValid&&y._pf.charsLeftOver===0&&y._pf.unusedTokens.length===0)),y._isValid}function gr(y){return y&&y.toLowerCase().replace("_","-")}function En(y){for(var T=0,R,re,ae,_e;T<y.length;){for(_e=gr(y[T]).split("-"),R=_e.length,re=gr(y[T+1]),re=re?re.split("-"):null;R>0;){if(ae=Ot(_e.slice(0,R).join("-")),ae)return ae;if(re&&re.length>=R&&Ri(_e,re,!0)>=R-1)break;R--}T++}return null}function Ot(y){var T=null;if(!S[y]&&W)try{T=f.locale(),Rw("./locale/"+y),f.locale(T)}catch{}return S[y]}function vr(y,T){return T._isUTC?f(y).zone(T._offset||0):f(y).local()}$t(Pt.prototype,{set:function(y){var T,R;for(R in y)T=y[R],typeof T=="function"?this[R]=T:this["_"+R]=T},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(y){return this._months[y.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(y){return this._monthsShort[y.month()]},monthsParse:function(y){var T,R,re;for(this._monthsParse||(this._monthsParse=[]),T=0;T<12;T++)if(this._monthsParse[T]||(R=f.utc([2e3,T]),re="^"+this.months(R,"")+"|^"+this.monthsShort(R,""),this._monthsParse[T]=new RegExp(re.replace(".",""),"i")),this._monthsParse[T].test(y))return T},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(y){return this._weekdays[y.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(y){return this._weekdaysShort[y.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(y){return this._weekdaysMin[y.day()]},weekdaysParse:function(y){var T,R,re;for(this._weekdaysParse||(this._weekdaysParse=[]),T=0;T<7;T++)if(this._weekdaysParse[T]||(R=f([2e3,1]).day(T),re="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,""),this._weekdaysParse[T]=new RegExp(re.replace(".",""),"i")),this._weekdaysParse[T].test(y))return T},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(y){var T=this._longDateFormat[y];return!T&&this._longDateFormat[y.toUpperCase()]&&(T=this._longDateFormat[y.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(R){return R.slice(1)}),this._longDateFormat[y]=T),T},isPM:function(y){return(y+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(y,T,R){return y>11?R?"pm":"PM":R?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(y,T){var R=this._calendar[y];return typeof R=="function"?R.apply(T):R},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(y,T,R,re){var ae=this._relativeTime[R];return typeof ae=="function"?ae(y,T,R,re):ae.replace(/%d/i,y)},pastFuture:function(y,T){var R=this._relativeTime[y>0?"future":"past"];return typeof R=="function"?R(T):R.replace(/%s/i,T)},ordinal:function(y){return this._ordinal.replace("%d",y)},_ordinal:"%d",preparse:function(y){return y},postformat:function(y){return y},week:function(y){return We(y,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function $n(y){return y.match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"")}function Gn(y){var T=y.match(ue),R,re;for(R=0,re=T.length;R<re;R++)Ut[T[R]]?T[R]=Ut[T[R]]:T[R]=$n(T[R]);return function(ae){var _e="";for(R=0;R<re;R++)_e+=T[R]instanceof Function?T[R].call(ae,y):T[R];return _e}}function nr(y,T){return y.isValid()?(T=Ur(T,y.localeData()),wt[T]||(wt[T]=Gn(T)),wt[T](y)):y.localeData().invalidDate()}function Ur(y,T){var R=5;function re(ae){return T.longDateFormat(ae)||ae}for(de.lastIndex=0;R>=0&&de.test(y);)y=y.replace(de,re),de.lastIndex=0,R-=1;return y}function Gi(y,T){var R,re=T._strict;switch(y){case"Q":return Ie;case"DDDD":return ie;case"YYYY":case"GGGG":case"gggg":return re?Y:Te;case"Y":case"G":case"g":return Re;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return re?Le:ve;case"S":if(re)return Ie;case"SS":if(re)return Me;case"SSS":if(re)return ie;case"DDD":return ce;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return D;case"a":case"A":return T._locale._meridiemParse;case"X":return Ee;case"Z":case"ZZ":return se;case"T":return ye;case"SSSS":return ne;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return re?Me:ge;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ge;case"Do":return et;default:return R=new RegExp(Nr(Tn(y.replace("\\","")))),R}}function Qi(y){y=y||"";var T=y.match(se)||[],R=T[T.length-1]||[],re=(R+"").match(Ze)||["-",0,0],ae=+(re[1]*60)+si(re[2]);return re[0]==="+"?-ae:ae}function rr(y,T,R){var re,ae=R._a;switch(y){case"Q":T!=null&&(ae[A]=(si(T)-1)*3);break;case"M":case"MM":T!=null&&(ae[A]=si(T)-1);break;case"MMM":case"MMMM":re=R._locale.monthsParse(T),re!=null?ae[A]=re:R._pf.invalidMonth=T;break;case"D":case"DD":T!=null&&(ae[H]=si(T));break;case"Do":T!=null&&(ae[H]=si(parseInt(T,10)));break;case"DDD":case"DDDD":T!=null&&(R._dayOfYear=si(T));break;case"YY":ae[k]=f.parseTwoDigitYear(T);break;case"YYYY":case"YYYYY":case"YYYYYY":ae[k]=si(T);break;case"a":case"A":R._isPm=R._locale.isPM(T);break;case"H":case"HH":case"h":case"hh":ae[N]=si(T);break;case"m":case"mm":ae[q]=si(T);break;case"s":case"ss":ae[j]=si(T);break;case"S":case"SS":case"SSS":case"SSSS":ae[O]=si(("0."+T)*1e3);break;case"X":R._d=new Date(parseFloat(T)*1e3);break;case"Z":case"ZZ":R._useUTC=!0,R._tzm=Qi(T);break;case"dd":case"ddd":case"dddd":re=R._locale.weekdaysParse(T),re!=null?(R._w=R._w||{},R._w.d=re):R._pf.invalidWeekday=T;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":y=y.substr(0,1);case"gggg":case"GGGG":case"GGGGG":y=y.substr(0,2),T&&(R._w=R._w||{},R._w[y]=si(T));break;case"gg":case"GG":R._w=R._w||{},R._w[y]=f.parseTwoDigitYear(T)}}function or(y){var T,R,re,ae,_e,Oe,Je;T=y._w,T.GG!=null||T.W!=null||T.E!=null?(_e=1,Oe=4,R=le(T.GG,y._a[k],We(f(),1,4).year),re=le(T.W,1),ae=le(T.E,1)):(_e=y._locale._week.dow,Oe=y._locale._week.doy,R=le(T.gg,y._a[k],We(f(),_e,Oe).year),re=le(T.w,1),T.d!=null?(ae=T.d,ae<_e&&++re):T.e!=null?ae=T.e+_e:ae=_e),Je=nt(R,re,ae,Oe,_e),y._a[k]=Je.year,y._dayOfYear=Je.dayOfYear}function Sn(y){var T,R,re=[],ae,_e;if(!y._d){for(ae=io(y),y._w&&y._a[H]==null&&y._a[A]==null&&or(y),y._dayOfYear&&(_e=le(y._a[k],ae[k]),y._dayOfYear>Hi(_e)&&(y._pf._overflowDayOfYear=!0),R=ar(_e,0,y._dayOfYear),y._a[A]=R.getUTCMonth(),y._a[H]=R.getUTCDate()),T=0;T<3&&y._a[T]==null;++T)y._a[T]=re[T]=ae[T];for(;T<7;T++)y._a[T]=re[T]=y._a[T]==null?T===2?1:0:y._a[T];y._d=(y._useUTC?ar:Xn).apply(null,re),y._tzm!=null&&y._d.setUTCMinutes(y._d.getUTCMinutes()+y._tzm)}}function to(y){var T;y._d||(T=wi(y._i),y._a=[T.year,T.month,T.day,T.hour,T.minute,T.second,T.millisecond],Sn(y))}function io(y){var T=new Date;return y._useUTC?[T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()]:[T.getFullYear(),T.getMonth(),T.getDate()]}function xr(y){if(y._f===f.ISO_8601){ho(y);return}y._a=[],y._pf.empty=!0;var T=""+y._i,R,re,ae,_e,Oe,Je=T.length,tt=0;for(ae=Ur(y._f,y._locale).match(ue)||[],R=0;R<ae.length;R++)_e=ae[R],re=(T.match(Gi(_e,y))||[])[0],re&&(Oe=T.substr(0,T.indexOf(re)),Oe.length>0&&y._pf.unusedInput.push(Oe),T=T.slice(T.indexOf(re)+re.length),tt+=re.length),Ut[_e]?(re?y._pf.empty=!1:y._pf.unusedTokens.push(_e),rr(_e,re,y)):y._strict&&!re&&y._pf.unusedTokens.push(_e);y._pf.charsLeftOver=Je-tt,T.length>0&&y._pf.unusedInput.push(T),y._isPm&&y._a[N]<12&&(y._a[N]+=12),y._isPm===!1&&y._a[N]===12&&(y._a[N]=0),Sn(y),Wi(y)}function Tn(y){return y.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(T,R,re,ae,_e){return R||re||ae||_e})}function Nr(y){return y.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bn(y){var T,R,re,ae,_e;if(y._f.length===0){y._pf.invalidFormat=!0,y._d=new Date(NaN);return}for(ae=0;ae<y._f.length;ae++)_e=0,T=Qt({},y),y._useUTC!=null&&(T._useUTC=y._useUTC),T._pf=he(),T._f=y._f[ae],xr(T),Ki(T)&&(_e+=T._pf.charsLeftOver,_e+=T._pf.unusedTokens.length*10,T._pf.score=_e,(re==null||_e<re)&&(re=_e,R=T));$t(y,R||T)}function ho(y){var T,R,re=y._i,ae=V.exec(re);if(ae){for(y._pf.iso=!0,T=0,R=Ae.length;T<R;T++)if(Ae[T][1].exec(re)){y._f=Ae[T][0]+(ae[6]||" ");break}for(T=0,R=qe.length;T<R;T++)if(qe[T][1].exec(re)){y._f+=qe[T][0];break}re.match(se)&&(y._f+="Z"),xr(y)}else y._isValid=!1}function Zn(y){ho(y),y._isValid===!1&&(delete y._isValid,f.createFromInputFallback(y))}function Ui(y,T){var R=[],re;for(re=0;re<y.length;++re)R.push(T(y[re],re));return R}function Lt(y){var T=y._i,R;T===u?y._d=new Date:_i(T)?y._d=new Date(+T):(R=I.exec(T))!==null?y._d=new Date(+R[1]):typeof T=="string"?Zn(y):sn(T)?(y._a=Ui(T.slice(0),function(re){return parseInt(re,10)}),Sn(y)):typeof T=="object"?to(y):typeof T=="number"?y._d=new Date(T):f.createFromInputFallback(y)}function Xn(y,T,R,re,ae,_e,Oe){var Je=new Date(y,T,R,re,ae,_e,Oe);return y<1970&&Je.setFullYear(y),Je}function ar(y){var T=new Date(Date.UTC.apply(null,arguments));return y<1970&&T.setUTCFullYear(y),T}function zn(y,T){if(typeof y=="string"){if(!isNaN(y))y=parseInt(y,10);else if(y=T.weekdaysParse(y),typeof y!="number")return null}return y}function ee(y,T,R,re,ae){return ae.relativeTime(T||1,!!R,y,re)}function xe(y,T,R){var re=f.duration(y).abs(),ae=b(re.as("s")),_e=b(re.as("m")),Oe=b(re.as("h")),Je=b(re.as("d")),tt=b(re.as("M")),Ve=b(re.as("y")),Ke=ae<St.s&&["s",ae]||_e===1&&["m"]||_e<St.m&&["mm",_e]||Oe===1&&["h"]||Oe<St.h&&["hh",Oe]||Je===1&&["d"]||Je<St.d&&["dd",Je]||tt===1&&["M"]||tt<St.M&&["MM",tt]||Ve===1&&["y"]||["yy",Ve];return Ke[2]=T,Ke[3]=+y>0,Ke[4]=R,ee.apply({},Ke)}function We(y,T,R){var re=R-T,ae=R-y.day(),_e;return ae>re&&(ae-=7),ae<re-7&&(ae+=7),_e=f(y).add(ae,"d"),{week:Math.ceil(_e.dayOfYear()/7),year:_e.year()}}function nt(y,T,R,re,ae){var _e=ar(y,0,1).getUTCDay(),Oe,Je;return _e=_e===0?7:_e,R=R??ae,Oe=ae-_e+(_e>re?7:0)-(_e<ae?7:0),Je=7*(T-1)+(R-ae)+Oe+1,{year:Je>0?y:y-1,dayOfYear:Je>0?Je:Hi(y-1)+Je}}function Ue(y){var T=y._i,R=y._f;return y._locale=y._locale||f.localeData(y._l),T===null||R===u&&T===""?f.invalid({nullInput:!0}):(typeof T=="string"&&(y._i=T=y._locale.preparse(T)),f.isMoment(T)?new ct(T,!0):(R?sn(R)?bn(y):xr(y):Lt(y),new ct(y)))}f=function(y,T,R,re){var ae;return typeof R=="boolean"&&(re=R,R=u),ae={},ae._isAMomentObject=!0,ae._i=y,ae._f=T,ae._l=R,ae._strict=re,ae._isUTC=!1,ae._pf=he(),Ue(ae)},f.suppressDeprecationWarnings=!1,f.createFromInputFallback=Be("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(y){y._d=new Date(y._i)});function pt(y,T){var R,re;if(T.length===1&&sn(T[0])&&(T=T[0]),!T.length)return f();for(R=T[0],re=1;re<T.length;++re)T[re][y](R)&&(R=T[re]);return R}for(f.min=function(){var y=[].slice.call(arguments,0);return pt("isBefore",y)},f.max=function(){var y=[].slice.call(arguments,0);return pt("isAfter",y)},f.utc=function(y,T,R,re){var ae;return typeof R=="boolean"&&(re=R,R=u),ae={},ae._isAMomentObject=!0,ae._useUTC=!0,ae._isUTC=!0,ae._l=R,ae._i=y,ae._f=T,ae._strict=re,ae._pf=he(),Ue(ae).utc()},f.unix=function(y){return f(y*1e3)},f.duration=function(y,T){var R=y,re=null,ae,_e,Oe,Je;return f.isDuration(y)?R={ms:y._milliseconds,d:y._days,M:y._months}:typeof y=="number"?(R={},T?R[T]=y:R.milliseconds=y):(re=G.exec(y))?(ae=re[1]==="-"?-1:1,R={y:0,d:si(re[H])*ae,h:si(re[N])*ae,m:si(re[q])*ae,s:si(re[j])*ae,ms:si(re[O])*ae}):(re=J.exec(y))?(ae=re[1]==="-"?-1:1,Oe=function(tt){var Ve=tt&&parseFloat(tt.replace(",","."));return(isNaN(Ve)?0:Ve)*ae},R={y:Oe(re[2]),M:Oe(re[3]),d:Oe(re[4]),h:Oe(re[5]),m:Oe(re[6]),s:Oe(re[7]),w:Oe(re[8])}):typeof R=="object"&&("from"in R||"to"in R)&&(Je=Yt(f(R.from),f(R.to)),R={},R.ms=Je.milliseconds,R.M=Je.months),_e=new Wt(R),f.isDuration(y)&&Q(y,"_locale")&&(_e._locale=y._locale),_e},f.version=h,f.defaultFormat=we,f.ISO_8601=function(){},f.momentProperties=P,f.updateOffset=function(){},f.relativeTimeThreshold=function(y,T){return St[y]===u?!1:T===u?St[y]:(St[y]=T,!0)},f.lang=Be("moment.lang is deprecated. Use moment.locale instead.",function(y,T){return f.locale(y,T)}),f.locale=function(y,T){var R;return y&&(typeof T<"u"?R=f.defineLocale(y,T):R=f.localeData(y),R&&(f.duration._locale=f._locale=R)),f._locale._abbr},f.defineLocale=function(y,T){return T!==null?(T.abbr=y,S[y]||(S[y]=new Pt),S[y].set(T),f.locale(y),S[y]):(delete S[y],null)},f.langData=Be("moment.langData is deprecated. Use moment.localeData instead.",function(y){return f.localeData(y)}),f.localeData=function(y){var T;if(y&&y._locale&&y._locale._abbr&&(y=y._locale._abbr),!y)return f._locale;if(!sn(y)){if(T=Ot(y),T)return T;y=[y]}return En(y)},f.isMoment=function(y){return y instanceof ct||y!=null&&Q(y,"_isAMomentObject")},f.isDuration=function(y){return y instanceof Wt},w=X.length-1;w>=0;--w)ui(X[w]);f.normalizeUnits=function(y){return pi(y)},f.invalid=function(y){var T=f.utc(NaN);return y!=null?$t(T._pf,y):T._pf.userInvalidated=!0,T},f.parseZone=function(){return f.apply(null,arguments).parseZone()},f.parseTwoDigitYear=function(y){return si(y)+(si(y)>68?1900:2e3)},$t(f.fn=ct.prototype,{clone:function(){return f(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var y=f(this).utc();return 0<y.year()&&y.year()<=9999?nr(y,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):nr(y,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var y=this;return[y.year(),y.month(),y.date(),y.hours(),y.minutes(),y.seconds(),y.milliseconds()]},isValid:function(){return Ki(this)},isDSTShifted:function(){return this._a?this.isValid()&&Ri(this._a,(this._isUTC?f.utc(this._a):f(this._a)).toArray())>0:!1},parsingFlags:function(){return $t({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(y){return this.zone(0,y)},local:function(y){return this._isUTC&&(this.zone(0,y),this._isUTC=!1,y&&this.add(this._dateTzOffset(),"m")),this},format:function(y){var T=nr(this,y||f.defaultFormat);return this.localeData().postformat(T)},add:mr(1,"add"),subtract:mr(-1,"subtract"),diff:function(y,T,R){var re=vr(y,this),ae=(this.zone()-re.zone())*6e4,_e,Oe,Je;return T=pi(T),T==="year"||T==="month"?(_e=(this.daysInMonth()+re.daysInMonth())*432e5,Oe=(this.year()-re.year())*12+(this.month()-re.month()),Je=this-f(this).startOf("month")-(re-f(re).startOf("month")),Je-=(this.zone()-f(this).startOf("month").zone()-(re.zone()-f(re).startOf("month").zone()))*6e4,Oe+=Je/_e,T==="year"&&(Oe=Oe/12)):(_e=this-re,Oe=T==="second"?_e/1e3:T==="minute"?_e/6e4:T==="hour"?_e/36e5:T==="day"?(_e-ae)/864e5:T==="week"?(_e-ae)/6048e5:_e),R?Oe:Vt(Oe)},from:function(y,T){return f.duration({to:this,from:y}).locale(this.locale()).humanize(!T)},fromNow:function(y){return this.from(f(),y)},calendar:function(y){var T=y||f(),R=vr(T,this).startOf("day"),re=this.diff(R,"days",!0),ae=re<-6?"sameElse":re<-1?"lastWeek":re<0?"lastDay":re<1?"sameDay":re<2?"nextDay":re<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(ae,this))},isLeapYear:function(){return Rr(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(y){var T=this._isUTC?this._d.getUTCDay():this._d.getDay();return y!=null?(y=zn(y,this.localeData()),this.add(y-T,"d")):T},month:li("Month",!0),startOf:function(y){switch(y=pi(y),y){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return y==="week"?this.weekday(0):y==="isoWeek"&&this.isoWeekday(1),y==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(y){return y=pi(y),this.startOf(y).add(1,y==="isoWeek"?"week":y).subtract(1,"ms")},isAfter:function(y,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(y=f.isMoment(y)?y:f(y),+this>+y):+this.clone().startOf(T)>+f(y).startOf(T)},isBefore:function(y,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(y=f.isMoment(y)?y:f(y),+this<+y):+this.clone().startOf(T)<+f(y).startOf(T)},isSame:function(y,T){return T=pi(T||"millisecond"),T==="millisecond"?(y=f.isMoment(y)?y:f(y),+this==+y):+this.clone().startOf(T)==+vr(y,this).startOf(T)},min:Be("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(y){return y=f.apply(null,arguments),y<this?this:y}),max:Be("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(y){return y=f.apply(null,arguments),y>this?this:y}),zone:function(y,T){var R=this._offset||0,re;if(y!=null)typeof y=="string"&&(y=Qi(y)),Math.abs(y)<16&&(y=y*60),!this._isUTC&&T&&(re=this._dateTzOffset()),this._offset=y,this._isUTC=!0,re!=null&&this.subtract(re,"m"),R!==y&&(!T||this._changeInProgress?Rt(this,f.duration(R-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?R:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(y){return y?y=f(y).zone():y=0,(this.zone()-y)%60===0},daysInMonth:function(){return Bi(this.year(),this.month())},dayOfYear:function(y){var T=b((f(this).startOf("day")-f(this).startOf("year"))/864e5)+1;return y==null?T:this.add(y-T,"d")},quarter:function(y){return y==null?Math.ceil((this.month()+1)/3):this.month((y-1)*3+this.month()%3)},weekYear:function(y){var T=We(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return y==null?T:this.add(y-T,"y")},isoWeekYear:function(y){var T=We(this,1,4).year;return y==null?T:this.add(y-T,"y")},week:function(y){var T=this.localeData().week(this);return y==null?T:this.add((y-T)*7,"d")},isoWeek:function(y){var T=We(this,1,4).week;return y==null?T:this.add((y-T)*7,"d")},weekday:function(y){var T=(this.day()+7-this.localeData()._week.dow)%7;return y==null?T:this.add(y-T,"d")},isoWeekday:function(y){return y==null?this.day()||7:this.day(this.day()%7?y:y-7)},isoWeeksInYear:function(){return eo(this.year(),1,4)},weeksInYear:function(){var y=this.localeData()._week;return eo(this.year(),y.dow,y.doy)},get:function(y){return y=pi(y),this[y]()},set:function(y,T){return y=pi(y),typeof this[y]=="function"&&this[y](T),this},locale:function(y){var T;return y===u?this._locale._abbr:(T=f.localeData(y),T!=null&&(this._locale=T),this)},lang:Be("moment().lang() is deprecated. Use moment().localeData() instead.",function(y){return y===u?this.localeData():this.locale(y)}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function ni(y,T){var R;return typeof T=="string"&&(T=y.localeData().monthsParse(T),typeof T!="number")||(R=Math.min(y.date(),Bi(y.year(),T)),y._d["set"+(y._isUTC?"UTC":"")+"Month"](T,R)),y}function Yi(y,T){return y._d["get"+(y._isUTC?"UTC":"")+T]()}function Nt(y,T,R){return T==="Month"?ni(y,R):y._d["set"+(y._isUTC?"UTC":"")+T](R)}function li(y,T){return function(R){return R!=null?(Nt(this,y,R),f.updateOffset(this,T),this):Yi(this,y)}}f.fn.millisecond=f.fn.milliseconds=li("Milliseconds",!1),f.fn.second=f.fn.seconds=li("Seconds",!1),f.fn.minute=f.fn.minutes=li("Minutes",!1),f.fn.hour=f.fn.hours=li("Hours",!0),f.fn.date=li("Date",!0),f.fn.dates=Be("dates accessor is deprecated. Use date instead.",li("Date",!0)),f.fn.year=li("FullYear",!0),f.fn.years=Be("years accessor is deprecated. Use year instead.",li("FullYear",!0)),f.fn.days=f.fn.day,f.fn.months=f.fn.month,f.fn.weeks=f.fn.week,f.fn.isoWeeks=f.fn.isoWeek,f.fn.quarters=f.fn.quarter,f.fn.toJSON=f.fn.toISOString;function po(y){return y*400/146097}function jt(y){return y*146097/400}$t(f.duration.fn=Wt.prototype,{_bubble:function(){var y=this._milliseconds,T=this._days,R=this._months,re=this._data,ae,_e,Oe,Je=0;re.milliseconds=y%1e3,ae=Vt(y/1e3),re.seconds=ae%60,_e=Vt(ae/60),re.minutes=_e%60,Oe=Vt(_e/60),re.hours=Oe%24,T+=Vt(Oe/24),Je=Vt(po(T)),T-=Vt(jt(Je)),R+=Vt(T/30),T%=30,Je+=Vt(R/12),R%=12,re.days=T,re.months=R,re.years=Je},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return Vt(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+si(this._months/12)*31536e6},humanize:function(y){var T=xe(this,!y,this.localeData());return y&&(T=this.localeData().pastFuture(+this,T)),this.localeData().postformat(T)},add:function(y,T){var R=f.duration(y,T);return this._milliseconds+=R._milliseconds,this._days+=R._days,this._months+=R._months,this._bubble(),this},subtract:function(y,T){var R=f.duration(y,T);return this._milliseconds-=R._milliseconds,this._days-=R._days,this._months-=R._months,this._bubble(),this},get:function(y){return y=pi(y),this[y.toLowerCase()+"s"]()},as:function(y){var T,R;if(y=pi(y),y==="month"||y==="year")return T=this._days+this._milliseconds/864e5,R=this._months+po(T)*12,y==="month"?R:R/12;switch(T=this._days+jt(this._months/12),y){case"week":return T/7+this._milliseconds/6048e5;case"day":return T+this._milliseconds/864e5;case"hour":return T*24+this._milliseconds/36e5;case"minute":return T*24*60+this._milliseconds/6e4;case"second":return T*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(T*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+y)}},lang:f.fn.lang,locale:f.fn.locale,toIsoString:Be("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var y=Math.abs(this.years()),T=Math.abs(this.months()),R=Math.abs(this.days()),re=Math.abs(this.hours()),ae=Math.abs(this.minutes()),_e=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(y?y+"Y":"")+(T?T+"M":"")+(R?R+"D":"")+(re||ae||_e?"T":"")+(re?re+"H":"")+(ae?ae+"M":"")+(_e?_e+"S":""):"P0D"},localeData:function(){return this._locale}}),f.duration.fn.toString=f.duration.fn.toISOString;function ke(y){f.duration.fn[y]=function(){return this._data[y]}}for(w in Xe)Q(Xe,w)&&ke(w.toLowerCase());return f.duration.fn.asMilliseconds=function(){return this.as("ms")},f.duration.fn.asSeconds=function(){return this.as("s")},f.duration.fn.asMinutes=function(){return this.as("m")},f.duration.fn.asHours=function(){return this.as("h")},f.duration.fn.asDays=function(){return this.as("d")},f.duration.fn.asWeeks=function(){return this.as("weeks")},f.duration.fn.asMonths=function(){return this.as("M")},f.duration.fn.asYears=function(){return this.as("y")},f.locale("en",{ordinal:function(y){var T=y%10,R=si(y%100/10)===1?"th":T===1?"st":T===2?"nd":T===3?"rd":"th";return y+R}}),f}).call(this),e.Utils.moment=l,e.datepicker})}(Gd)),Gd.exports}Nw();/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||t(UIkit2)})})(function(t){return t.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){t.ready(function(e){t.$("[data-uk-pagination]",e).each(function(){var n=t.$(this);n.data("pagination")||t.pagination(n,t.Utils.options(n.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(n){n.preventDefault(),e.selectPage(t.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(e){this.pages=e||this.pages,this._render()},selectPage:function(e,n){this.currentPage=e,this.render(n),this.options.onSelectPage.apply(this,[e]),this.trigger("select.uk.pagination",[e,this])},_render:function(){var e=this.options,n=this._getInterval(),a;if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),n.start>0&&e.edges>0){var l=Math.min(e.edges,n.start);for(a=0;a<l;a++)this._append(a);e.edges<n.start&&n.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):n.start-e.edges==1&&this._append(e.edges)}for(a=n.start;a<n.end;a++)this._append(a);if(n.end<this.pages&&e.edges>0){this.pages-e.edges>n.end&&this.pages-e.edges-n.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-n.end==1&&this._append(n.end++);var u=Math.max(this.pages-e.edges,n.end);for(a=u;a<this.pages;a++)this._append(a)}e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(e,n){var a,l;e=e<0?0:e<this.pages?e:this.pages-1,l=t.$.extend({text:e+1},n),a=e==this.currentPage?'<li class="uk-active"><span>'+l.text+"</span></li>":'<li><a href="#page-'+(e+1)+'" data-page="'+e+'">'+l.text+"</a></li>",this.element.append(a)}}),t.pagination});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-notify",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e={},n={},a=function(f){return t.$.type(f)=="string"&&(f={message:f}),arguments[1]&&(f=t.$.extend(f,t.$.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new u(f).show()},l=function(f,h){var b;if(f)for(b in n)f===n[b].group&&n[b].close(h);else for(b in n)n[b].close(h)},u=function(f){this.options=t.$.extend({},u.defaults,f),this.uuid=t.Utils.uid("notifymsg"),this.element=t.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,n[this.uuid]=this,e[this.options.pos]||(e[this.options.pos]=t.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var h=t.$(this).data("notifyMessage");h.element.trigger("manualclose.uk.notify",[h]),h.close()}))};return t.$.extend(u.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var f=this;e[this.options.pos].show().prepend(this.element);var h=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:h},function(){if(f.options.timeout){var b=function(){f.close()};f.timeout=setTimeout(b,f.options.timeout),f.element.hover(function(){clearTimeout(f.timeout)},function(){f.timeout=setTimeout(b,f.options.timeout)})}}),this}},close:function(f){var h=this,b=function(){h.element.remove(),e[h.options.pos].children().length||e[h.options.pos].hide(),h.options.onClose.apply(h,[]),h.element.trigger("close.uk.notify",[h]),delete n[h.uuid]};this.timeout&&clearTimeout(this.timeout),f?b():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){b()})},content:function(f){var h=this.element.find(">div");return f?(h.html(f),this):h.html()},status:function(f){return f?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+f),this.currentstatus=f,this):this.currentstatus}}),u.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},t.notify=a,t.notify.message=u,t.notify.closeAll=l,a});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-tooltip",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e,n,a;return t.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(l){var u=l.attr("title");return u!==void 0&&l.data("cached-title",u).removeAttr("title"),l.data("cached-title")}},tip:"",boot:function(){t.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(l){var u=t.$(this);u.data("tooltip")||(t.tooltip(u,t.Utils.options(u.attr("data-uk-tooltip"))),u.trigger("mouseenter"))})},init:function(){var l=this;e||(e=t.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(u){l.show()},blur:function(u){l.hide()},mouseenter:function(u){l.show()},mouseleave:function(u){l.hide()}})},show:function(){if(this.tip=typeof this.options.src=="function"?this.options.src(this.element):this.options.src,n&&clearTimeout(n),a&&clearInterval(a),!(typeof this.tip!="string"||!this.tip.length)){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var l=this,u=t.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),f=e[0].offsetWidth,h=e[0].offsetHeight,b=typeof this.options.offset=="function"?this.options.offset.call(this.element):this.options.offset,x=typeof this.options.pos=="function"?this.options.pos.call(this.element):this.options.pos,w=x.split("-"),k={display:"none",visibility:"visible",top:u.top+u.height+h,left:u.left};if(t.$html.css("position")=="fixed"||t.$body.css("position")=="fixed"){var A=t.$("body").offset(),H=t.$("html").offset(),N={top:H.top+A.top,left:H.left+A.left};u.left-=N.left,u.top-=N.top}(w[0]=="left"||w[0]=="right")&&t.langdirection=="right"&&(w[0]=w[0]=="left"?"right":"left");var q={bottom:{top:u.top+u.height+b,left:u.left+u.width/2-f/2},top:{top:u.top-h-b,left:u.left+u.width/2-f/2},left:{top:u.top+u.height/2-h/2,left:u.left-f-b},right:{top:u.top+u.height/2-h/2,left:u.left+u.width+b}};t.$.extend(k,q[w[0]]),w.length==2&&(k.left=w[1]=="left"?u.left:u.left+u.width-f);var j=this.checkBoundary(k.left,k.top,f,h);if(j){switch(j){case"x":w.length==2?x=w[0]+"-"+(k.left<0?"left":"right"):x=k.left<0?"right":"left";break;case"y":w.length==2?x=(k.top<0?"bottom":"top")+"-"+w[1]:x=k.top<0?"bottom":"top";break;case"xy":w.length==2?x=(k.top<0?"bottom":"top")+"-"+(k.left<0?"left":"right"):x=k.left<0?"right":"left";break}w=x.split("-"),t.$.extend(k,q[w[0]]),w.length==2&&(k.left=w[1]=="left"?u.left:u.left+u.width-f)}k.left-=t.$body.position().left,n=setTimeout(function(){e.css(k).attr("class",["uk-tooltip","uk-tooltip-"+x,l.options.cls].join(" ")),l.options.animation?e.css({opacity:0,display:"block"}).addClass(l.options.activeClass).animate({opacity:1},parseInt(l.options.animation,10)||400):e.show().addClass(l.options.activeClass),n=!1,a=setInterval(function(){l.element.is(":visible")||l.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!(this.element.is("input")&&this.element[0]===document.activeElement))if(n&&clearTimeout(n),a&&clearInterval(a),e.stop(),this.options.animation){var l=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(l.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(l,u,f,h){var b="";return(l<0||l-t.$win.scrollLeft()+f>window.innerWidth)&&(b+="x"),(u<0||u-t.$win.scrollTop()+h>window.innerHeight)&&(b+="y"),b}}),t.tooltip});var Mh={exports:{}},zw=Mh.exports,Gm;function ms(){return Gm||(Gm=1,function(t,e){(function(n,a){t.exports=a()})(zw,function(){var n=navigator.userAgent,a=navigator.platform,l=/gecko\/\d/i.test(n),u=/MSIE \d/.test(n),f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),h=/Edge\/(\d+)/.exec(n),b=u||f||h,x=b&&(u?document.documentMode||6:+(h||f)[1]),w=!h&&/WebKit\//.test(n),k=w&&/Qt\/\d+\.\d+/.test(n),A=!h&&/Chrome\/(\d+)/.exec(n),H=A&&+A[1],N=/Opera\//.test(n),q=/Apple Computer/.test(navigator.vendor),j=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),O=/PhantomJS/.test(n),S=q&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),P=/Android/.test(n),W=S||P||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),I=S||/Mac/.test(a),G=/\bCrOS\b/.test(n),J=/win/i.test(a),ue=N&&n.match(/Version\/(\d*\.\d*)/);ue&&(ue=Number(ue[1])),ue&&ue>=15&&(N=!1,w=!0);var de=I&&(k||N&&(ue==null||ue<12.11)),ge=l||b&&x>=9;function ce(r){return new RegExp("(^|\\s)"+r+"(?:$|\\s)\\s*")}var Te=function(r,s){var p=r.className,d=ce(s).exec(p);if(d){var v=p.slice(d.index+d[0].length);r.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function ve(r){for(var s=r.childNodes.length;s>0;--s)r.removeChild(r.firstChild);return r}function ne(r,s){return ve(r).appendChild(s)}function D(r,s,p,d){var v=document.createElement(r);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof s=="string")v.appendChild(document.createTextNode(s));else if(s)for(var E=0;E<s.length;++E)v.appendChild(s[E]);return v}function se(r,s,p,d){var v=D(r,s,p,d);return v.setAttribute("role","presentation"),v}var ye;document.createRange?ye=function(r,s,p,d){var v=document.createRange();return v.setEnd(d||r,p),v.setStart(r,s),v}:ye=function(r,s,p){var d=document.body.createTextRange();try{d.moveToElementText(r.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",s),d};function Ee(r,s){if(s.nodeType==3&&(s=s.parentNode),r.contains)return r.contains(s);do if(s.nodeType==11&&(s=s.host),s==r)return!0;while(s=s.parentNode)}function et(r){var s=r.ownerDocument||r,p;try{p=r.activeElement}catch{p=s.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function Ie(r,s){var p=r.className;ce(s).test(p)||(r.className+=(p?" ":"")+s)}function Me(r,s){for(var p=r.split(" "),d=0;d<p.length;d++)p[d]&&!ce(p[d]).test(s)&&(s+=" "+p[d]);return s}var ie=function(r){r.select()};S?ie=function(r){r.selectionStart=0,r.selectionEnd=r.value.length}:b&&(ie=function(r){try{r.select()}catch{}});function Y(r){return r.display.wrapper.ownerDocument}function Le(r){return Re(r.display.wrapper)}function Re(r){return r.getRootNode?r.getRootNode():r.ownerDocument}function V(r){return Y(r).defaultView}function we(r){var s=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,s)}}function Ae(r,s,p){s||(s={});for(var d in r)r.hasOwnProperty(d)&&(p!==!1||!s.hasOwnProperty(d))&&(s[d]=r[d]);return s}function qe(r,s,p,d,v){s==null&&(s=r.search(/[^\s\u00a0]/),s==-1&&(s=r.length));for(var E=d||0,F=v||0;;){var B=r.indexOf("	",E);if(B<0||B>=s)return F+(s-E);F+=B-E,F+=p-F%p,E=B+1}}var Ze=function(){this.id=null,this.f=null,this.time=0,this.handler=we(this.onTimeout,this)};Ze.prototype.onTimeout=function(r){r.id=0,r.time<=+new Date?r.f():setTimeout(r.handler,r.time-+new Date)},Ze.prototype.set=function(r,s){this.f=s;var p=+new Date+r;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,r),this.time=p)};function Xe(r,s){for(var p=0;p<r.length;++p)if(r[p]==s)return p;return-1}var ut=50,Et={toString:function(){return"CodeMirror.Pass"}},wt={scroll:!1},St={origin:"*mouse"},yt={origin:"+move"};function Mt(r,s,p){for(var d=0,v=0;;){var E=r.indexOf("	",d);E==-1&&(E=r.length);var F=E-d;if(E==r.length||v+F>=s)return d+Math.min(F,s-v);if(v+=E-d,v+=p-v%p,d=E+1,v>=s)return d}}var Ut=[""];function Kt(r){for(;Ut.length<=r;)Ut.push(X(Ut)+" ");return Ut[r]}function X(r){return r[r.length-1]}function le(r,s){for(var p=[],d=0;d<r.length;d++)p[d]=s(r[d],d);return p}function Q(r,s,p){for(var d=0,v=p(s);d<r.length&&p(r[d])<=v;)d++;r.splice(d,0,s)}function he(){}function pe(r,s){var p;return Object.create?p=Object.create(r):(he.prototype=r,p=new he),s&&Ae(s,p),p}var Be=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ot(r){return/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Be.test(r))}function Qe(r,s){return s?s.source.indexOf("\\w")>-1&&ot(r)?!0:s.test(r):ot(r)}function mt(r){for(var s in r)if(r.hasOwnProperty(s)&&r[s])return!1;return!0}var Pt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(r){return r.charCodeAt(0)>=768&&Pt.test(r)}function Wt(r,s,p){for(;(p<0?s>0:s<r.length)&&ct(r.charAt(s));)s+=p;return s}function $t(r,s,p){for(var d=s>p?-1:1;;){if(s==p)return s;var v=(s+p)/2,E=d<0?Math.ceil(v):Math.floor(v);if(E==s)return r(E)?s:p;r(E)?p=E:s=E+d}}function Qt(r,s,p,d){if(!r)return d(s,p,"ltr",0);for(var v=!1,E=0;E<r.length;++E){var F=r[E];(F.from<p&&F.to>s||s==p&&F.to==s)&&(d(Math.max(F.from,s),Math.min(F.to,p),F.level==1?"rtl":"ltr",E),v=!0)}v||d(s,p,"ltr")}var Vt=null;function xt(r,s,p){var d;Vt=null;for(var v=0;v<r.length;++v){var E=r[v];if(E.from<s&&E.to>s)return v;E.to==s&&(E.from!=E.to&&p=="before"?d=v:Vt=v),E.from==s&&(E.from!=E.to&&p!="before"?d=v:Vt=v)}return d??Vt}var Yn=function(){var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(K){return K<=247?r.charAt(K):1424<=K&&K<=1524?"R":1536<=K&&K<=1785?s.charAt(K-1536):1774<=K&&K<=2220?"r":8192<=K&&K<=8203?"w":K==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,E=/[LRr]/,F=/[Lb1n]/,B=/[1n]/;function Z(K,be,Ce){this.level=K,this.from=be,this.to=Ce}return function(K,be){var Ce=be=="ltr"?"L":"R";if(K.length==0||be=="ltr"&&!d.test(K))return!1;for(var ze=K.length,Fe=[],Ge=0;Ge<ze;++Ge)Fe.push(p(K.charCodeAt(Ge)));for(var rt=0,dt=Ce;rt<ze;++rt){var bt=Fe[rt];bt=="m"?Fe[rt]=dt:dt=bt}for(var _t=0,vt=Ce;_t<ze;++_t){var Tt=Fe[_t];Tt=="1"&&vt=="r"?Fe[_t]="n":E.test(Tt)&&(vt=Tt,Tt=="r"&&(Fe[_t]="R"))}for(var Bt=1,zt=Fe[0];Bt<ze-1;++Bt){var ci=Fe[Bt];ci=="+"&&zt=="1"&&Fe[Bt+1]=="1"?Fe[Bt]="1":ci==","&&zt==Fe[Bt+1]&&(zt=="1"||zt=="n")&&(Fe[Bt]=zt),zt=ci}for(var $i=0;$i<ze;++$i){var xn=Fe[$i];if(xn==",")Fe[$i]="N";else if(xn=="%"){var an=void 0;for(an=$i+1;an<ze&&Fe[an]=="%";++an);for(var gn=$i&&Fe[$i-1]=="!"||an<ze&&Fe[an]=="1"?"1":"N",Ln=$i;Ln<an;++Ln)Fe[Ln]=gn;$i=an-1}}for(var Mn=0,Dr=Ce;Mn<ze;++Mn){var fr=Fe[Mn];Dr=="L"&&fr=="1"?Fe[Mn]="L":E.test(fr)&&(Dr=fr)}for(var Hn=0;Hn<ze;++Hn)if(v.test(Fe[Hn])){var Pn=void 0;for(Pn=Hn+1;Pn<ze&&v.test(Fe[Pn]);++Pn);for(var vn=(Hn?Fe[Hn-1]:Ce)=="L",jr=(Pn<ze?Fe[Pn]:Ce)=="L",Cu=vn==jr?vn?"L":"R":Ce,rs=Hn;rs<Pn;++rs)Fe[rs]=Cu;Hn=Pn-1}for(var wr=[],ha,er=0;er<ze;)if(F.test(Fe[er])){var jc=er;for(++er;er<ze&&F.test(Fe[er]);++er);wr.push(new Z(0,jc,er))}else{var da=er,os=wr.length,as=be=="rtl"?1:0;for(++er;er<ze&&Fe[er]!="L";++er);for(var Lr=da;Lr<er;)if(B.test(Fe[Lr])){da<Lr&&(wr.splice(os,0,new Z(1,da,Lr)),os+=as);var Eu=Lr;for(++Lr;Lr<er&&B.test(Fe[Lr]);++Lr);wr.splice(os,0,new Z(2,Eu,Lr)),os+=as,da=Lr}else++Lr;da<er&&wr.splice(os,0,new Z(1,da,er))}return be=="ltr"&&(wr[0].level==1&&(ha=K.match(/^\s+/))&&(wr[0].from=ha[0].length,wr.unshift(new Z(0,0,ha[0].length))),X(wr).level==1&&(ha=K.match(/\s+$/))&&(X(wr).to-=ha[0].length,wr.push(new Z(0,ze-ha[0].length,ze)))),be=="rtl"?wr.reverse():wr}}();function Yt(r,s){var p=r.order;return p==null&&(p=r.order=Yn(r.text,s)),p}var mr=[],Rt=function(r,s,p){if(r.addEventListener)r.addEventListener(s,p,!1);else if(r.attachEvent)r.attachEvent("on"+s,p);else{var d=r._handlers||(r._handlers={});d[s]=(d[s]||mr).concat(p)}};function sn(r,s){return r._handlers&&r._handlers[s]||mr}function _i(r,s,p){if(r.removeEventListener)r.removeEventListener(s,p,!1);else if(r.detachEvent)r.detachEvent("on"+s,p);else{var d=r._handlers,v=d&&d[s];if(v){var E=Xe(v,p);E>-1&&(d[s]=v.slice(0,E).concat(v.slice(E+1)))}}}function Ri(r,s){var p=sn(r,s);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function pi(r,s,p){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),Ri(r,p||s.type,r,s),Hi(s)||s.codemirrorIgnore}function wi(r){var s=r._handlers&&r._handlers.cursorActivity;if(s)for(var p=r.curOp.cursorActivityHandlers||(r.curOp.cursorActivityHandlers=[]),d=0;d<s.length;++d)Xe(p,s[d])==-1&&p.push(s[d])}function ui(r,s){return sn(r,s).length>0}function si(r){r.prototype.on=function(s,p){Rt(this,s,p)},r.prototype.off=function(s,p){_i(this,s,p)}}function Bi(r){r.preventDefault?r.preventDefault():r.returnValue=!1}function eo(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0}function Hi(r){return r.defaultPrevented!=null?r.defaultPrevented:r.returnValue==!1}function Rr(r){Bi(r),eo(r)}function Wi(r){return r.target||r.srcElement}function Ki(r){var s=r.which;return s==null&&(r.button&1?s=1:r.button&2?s=3:r.button&4&&(s=2)),I&&r.ctrlKey&&s==1&&(s=3),s}var gr=function(){if(b&&x<9)return!1;var r=D("div");return"draggable"in r||"dragDrop"in r}(),En;function Ot(r){if(En==null){var s=D("span","");ne(r,D("span",[s,document.createTextNode("x")])),r.firstChild.offsetHeight!=0&&(En=s.offsetWidth<=1&&s.offsetHeight>2&&!(b&&x<8))}var p=En?D("span",""):D("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var vr;function $n(r){if(vr!=null)return vr;var s=ne(r,document.createTextNode("AA")),p=ye(s,0,1).getBoundingClientRect(),d=ye(s,1,2).getBoundingClientRect();return ve(r),!p||p.left==p.right?!1:vr=d.right-p.right<3}var Gn=`

b`.split(/\n/).length!=3?function(r){for(var s=0,p=[],d=r.length;s<=d;){var v=r.indexOf(`
`,s);v==-1&&(v=r.length);var E=r.slice(s,r.charAt(v-1)=="\r"?v-1:v),F=E.indexOf("\r");F!=-1?(p.push(E.slice(0,F)),s+=F+1):(p.push(E),s=v+1)}return p}:function(r){return r.split(/\r\n?|\n/)},nr=window.getSelection?function(r){try{return r.selectionStart!=r.selectionEnd}catch{return!1}}:function(r){var s;try{s=r.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=r?!1:s.compareEndPoints("StartToEnd",s)!=0},Ur=function(){var r=D("div");return"oncopy"in r?!0:(r.setAttribute("oncopy","return;"),typeof r.oncopy=="function")}(),Gi=null;function Qi(r){if(Gi!=null)return Gi;var s=ne(r,D("span","x")),p=s.getBoundingClientRect(),d=ye(s,0,1).getBoundingClientRect();return Gi=Math.abs(p.left-d.left)>1}var rr={},or={};function Sn(r,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),rr[r]=s}function to(r,s){or[r]=s}function io(r){if(typeof r=="string"&&or.hasOwnProperty(r))r=or[r];else if(r&&typeof r.name=="string"&&or.hasOwnProperty(r.name)){var s=or[r.name];typeof s=="string"&&(s={name:s}),r=pe(s,r),r.name=s.name}else{if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(r))return io("application/xml");if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(r))return io("application/json")}return typeof r=="string"?{name:r}:r||{name:"null"}}function xr(r,s){s=io(s);var p=rr[s.name];if(!p)return xr(r,"text/plain");var d=p(r,s);if(Tn.hasOwnProperty(s.name)){var v=Tn[s.name];for(var E in v)v.hasOwnProperty(E)&&(d.hasOwnProperty(E)&&(d["_"+E]=d[E]),d[E]=v[E])}if(d.name=s.name,s.helperType&&(d.helperType=s.helperType),s.modeProps)for(var F in s.modeProps)d[F]=s.modeProps[F];return d}var Tn={};function Nr(r,s){var p=Tn.hasOwnProperty(r)?Tn[r]:Tn[r]={};Ae(s,p)}function bn(r,s){if(s===!0)return s;if(r.copyState)return r.copyState(s);var p={};for(var d in s){var v=s[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function ho(r,s){for(var p;r.innerMode&&(p=r.innerMode(s),!(!p||p.mode==r));)s=p.state,r=p.mode;return p||{mode:r,state:s}}function Zn(r,s,p){return r.startState?r.startState(s,p):!0}var Ui=function(r,s,p){this.pos=this.start=0,this.string=r,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Ui.prototype.eol=function(){return this.pos>=this.string.length},Ui.prototype.sol=function(){return this.pos==this.lineStart},Ui.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ui.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ui.prototype.eat=function(r){var s=this.string.charAt(this.pos),p;if(typeof r=="string"?p=s==r:p=s&&(r.test?r.test(s):r(s)),p)return++this.pos,s},Ui.prototype.eatWhile=function(r){for(var s=this.pos;this.eat(r););return this.pos>s},Ui.prototype.eatSpace=function(){for(var r=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r},Ui.prototype.skipToEnd=function(){this.pos=this.string.length},Ui.prototype.skipTo=function(r){var s=this.string.indexOf(r,this.pos);if(s>-1)return this.pos=s,!0},Ui.prototype.backUp=function(r){this.pos-=r},Ui.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},Ui.prototype.indentation=function(){return qe(this.string,null,this.tabSize)-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},Ui.prototype.match=function(r,s,p){if(typeof r=="string"){var d=function(F){return p?F.toLowerCase():F},v=this.string.substr(this.pos,r.length);if(d(v)==d(r))return s!==!1&&(this.pos+=r.length),!0}else{var E=this.string.slice(this.pos).match(r);return E&&E.index>0?null:(E&&s!==!1&&(this.pos+=E[0].length),E)}},Ui.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ui.prototype.hideFirstChars=function(r,s){this.lineStart+=r;try{return s()}finally{this.lineStart-=r}},Ui.prototype.lookAhead=function(r){var s=this.lineOracle;return s&&s.lookAhead(r)},Ui.prototype.baseToken=function(){var r=this.lineOracle;return r&&r.baseToken(this.pos)};function Lt(r,s){if(s-=r.first,s<0||s>=r.size)throw new Error("There is no line "+(s+r.first)+" in the document.");for(var p=r;!p.lines;)for(var d=0;;++d){var v=p.children[d],E=v.chunkSize();if(s<E){p=v;break}s-=E}return p.lines[s]}function Xn(r,s,p){var d=[],v=s.line;return r.iter(s.line,p.line+1,function(E){var F=E.text;v==p.line&&(F=F.slice(0,p.ch)),v==s.line&&(F=F.slice(s.ch)),d.push(F),++v}),d}function ar(r,s,p){var d=[];return r.iter(s,p,function(v){d.push(v.text)}),d}function zn(r,s){var p=s-r.height;if(p)for(var d=r;d;d=d.parent)d.height+=p}function ee(r){if(r.parent==null)return null;for(var s=r.parent,p=Xe(s.lines,r),d=s.parent;d;s=d,d=d.parent)for(var v=0;d.children[v]!=s;++v)p+=d.children[v].chunkSize();return p+s.first}function xe(r,s){var p=r.first;e:do{for(var d=0;d<r.children.length;++d){var v=r.children[d],E=v.height;if(s<E){r=v;continue e}s-=E,p+=v.chunkSize()}return p}while(!r.lines);for(var F=0;F<r.lines.length;++F){var B=r.lines[F],Z=B.height;if(s<Z)break;s-=Z}return p+F}function We(r,s){return s>=r.first&&s<r.first+r.size}function nt(r,s){return String(r.lineNumberFormatter(s+r.firstLineNumber))}function Ue(r,s,p){if(p===void 0&&(p=null),!(this instanceof Ue))return new Ue(r,s,p);this.line=r,this.ch=s,this.sticky=p}function pt(r,s){return r.line-s.line||r.ch-s.ch}function ni(r,s){return r.sticky==s.sticky&&pt(r,s)==0}function Yi(r){return Ue(r.line,r.ch)}function Nt(r,s){return pt(r,s)<0?s:r}function li(r,s){return pt(r,s)<0?r:s}function po(r,s){return Math.max(r.first,Math.min(s,r.first+r.size-1))}function jt(r,s){if(s.line<r.first)return Ue(r.first,0);var p=r.first+r.size-1;return s.line>p?Ue(p,Lt(r,p).text.length):ke(s,Lt(r,s.line).text.length)}function ke(r,s){var p=r.ch;return p==null||p>s?Ue(r.line,s):p<0?Ue(r.line,0):r}function y(r,s){for(var p=[],d=0;d<s.length;d++)p[d]=jt(r,s[d]);return p}var T=function(r,s){this.state=r,this.lookAhead=s},R=function(r,s,p,d){this.state=s,this.doc=r,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};R.prototype.lookAhead=function(r){var s=this.doc.getLine(this.line+r);return s!=null&&r>this.maxLookAhead&&(this.maxLookAhead=r),s},R.prototype.baseToken=function(r){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=r;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-r}},R.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},R.fromSaved=function(r,s,p){return s instanceof T?new R(r,bn(r.mode,s.state),p,s.lookAhead):new R(r,bn(r.mode,s),p)},R.prototype.save=function(r){var s=r!==!1?bn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new T(s,this.maxLookAhead):s};function re(r,s,p,d){var v=[r.state.modeGen],E={};fi(r,s.text,r.doc.mode,p,function(K,be){return v.push(K,be)},E,d);for(var F=p.state,B=function(K){p.baseTokens=v;var be=r.state.overlays[K],Ce=1,ze=0;p.state=!0,fi(r,s.text,be.mode,p,function(Fe,Ge){for(var rt=Ce;ze<Fe;){var dt=v[Ce];dt>Fe&&v.splice(Ce,1,Fe,v[Ce+1],dt),Ce+=2,ze=Math.min(Fe,dt)}if(Ge)if(be.opaque)v.splice(rt,Ce-rt,Fe,"overlay "+Ge),Ce=rt+2;else for(;rt<Ce;rt+=2){var bt=v[rt+1];v[rt+1]=(bt?bt+" ":"")+"overlay "+Ge}},E),p.state=F,p.baseTokens=null,p.baseTokenPos=1},Z=0;Z<r.state.overlays.length;++Z)B(Z);return{styles:v,classes:E.bgClass||E.textClass?E:null}}function ae(r,s,p){if(!s.styles||s.styles[0]!=r.state.modeGen){var d=_e(r,ee(s)),v=s.text.length>r.options.maxHighlightLength&&bn(r.doc.mode,d.state),E=re(r,s,d);v&&(d.state=v),s.stateAfter=d.save(!v),s.styles=E.styles,E.classes?s.styleClasses=E.classes:s.styleClasses&&(s.styleClasses=null),p===r.doc.highlightFrontier&&(r.doc.modeFrontier=Math.max(r.doc.modeFrontier,++r.doc.highlightFrontier))}return s.styles}function _e(r,s,p){var d=r.doc,v=r.display;if(!d.mode.startState)return new R(d,!0,s);var E=hi(r,s,p),F=E>d.first&&Lt(d,E-1).stateAfter,B=F?R.fromSaved(d,F,E):new R(d,Zn(d.mode),E);return d.iter(E,s,function(Z){Oe(r,Z.text,B);var K=B.line;Z.stateAfter=K==s-1||K%5==0||K>=v.viewFrom&&K<v.viewTo?B.save():null,B.nextLine()}),p&&(d.modeFrontier=B.line),B}function Oe(r,s,p,d){var v=r.doc.mode,E=new Ui(s,r.options.tabSize,p);for(E.start=E.pos=d||0,s==""&&Je(v,p.state);!E.eol();)tt(v,E,p.state),E.start=E.pos}function Je(r,s){if(r.blankLine)return r.blankLine(s);if(r.innerMode){var p=ho(r,s);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function tt(r,s,p,d){for(var v=0;v<10;v++){d&&(d[0]=ho(r,p).mode);var E=r.token(s,p);if(s.pos>s.start)return E}throw new Error("Mode "+r.name+" failed to advance stream.")}var Ve=function(r,s,p){this.start=r.start,this.end=r.pos,this.string=r.current(),this.type=s||null,this.state=p};function Ke(r,s,p,d){var v=r.doc,E=v.mode,F;s=jt(v,s);var B=Lt(v,s.line),Z=_e(r,s.line,p),K=new Ui(B.text,r.options.tabSize,Z),be;for(d&&(be=[]);(d||K.pos<s.ch)&&!K.eol();)K.start=K.pos,F=tt(E,K,Z.state),d&&be.push(new Ve(K,F,bn(v.mode,Z.state)));return d?be:new Ve(K,F,Z.state)}function ft(r,s){if(r)for(;;){var p=r.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;r=r.slice(0,p.index)+r.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";s[d]==null?s[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(s[d])||(s[d]+=" "+p[2])}return r}function fi(r,s,p,d,v,E,F){var B=p.flattenSpans;B==null&&(B=r.options.flattenSpans);var Z=0,K=null,be=new Ui(s,r.options.tabSize,d),Ce,ze=r.options.addModeClass&&[null];for(s==""&&ft(Je(p,d.state),E);!be.eol();){if(be.pos>r.options.maxHighlightLength?(B=!1,F&&Oe(r,s,d,be.pos),be.pos=s.length,Ce=null):Ce=ft(tt(p,be,d.state,ze),E),ze){var Fe=ze[0].name;Fe&&(Ce="m-"+(Ce?Fe+" "+Ce:Fe))}if(!B||K!=Ce){for(;Z<be.start;)Z=Math.min(be.start,Z+5e3),v(Z,K);K=Ce}be.start=be.pos}for(;Z<be.pos;){var Ge=Math.min(be.pos,Z+5e3);v(Ge,K),Z=Ge}}function hi(r,s,p){for(var d,v,E=r.doc,F=p?-1:s-(r.doc.mode.innerMode?1e3:100),B=s;B>F;--B){if(B<=E.first)return E.first;var Z=Lt(E,B-1),K=Z.stateAfter;if(K&&(!p||B+(K instanceof T?K.lookAhead:0)<=E.modeFrontier))return B;var be=qe(Z.text,null,r.options.tabSize);(v==null||d>be)&&(v=B-1,d=be)}return v}function ji(r,s){if(r.modeFrontier=Math.min(r.modeFrontier,s),!(r.highlightFrontier<s-10)){for(var p=r.first,d=s-1;d>p;d--){var v=Lt(r,d).stateAfter;if(v&&(!(v instanceof T)||d+v.lookAhead<s)){p=d+1;break}}r.highlightFrontier=Math.min(r.highlightFrontier,p)}}var Ei=!1,Pi=!1;function fn(){Ei=!0}function Ft(){Pi=!0}function rn(r,s,p){this.marker=r,this.from=s,this.to=p}function ri(r,s){if(r)for(var p=0;p<r.length;++p){var d=r[p];if(d.marker==s)return d}}function gt(r,s){for(var p,d=0;d<r.length;++d)r[d]!=s&&(p||(p=[])).push(r[d]);return p}function xi(r,s,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&r.markedSpans&&d.has(r.markedSpans)?r.markedSpans.push(s):(r.markedSpans=r.markedSpans?r.markedSpans.concat([s]):[s],d&&d.add(r.markedSpans)),s.marker.attachLine(r)}function on(r,s,p){var d;if(r)for(var v=0;v<r.length;++v){var E=r[v],F=E.marker,B=E.from==null||(F.inclusiveLeft?E.from<=s:E.from<s);if(B||E.from==s&&F.type=="bookmark"&&(!p||!E.marker.insertLeft)){var Z=E.to==null||(F.inclusiveRight?E.to>=s:E.to>s);(d||(d=[])).push(new rn(F,E.from,Z?null:E.to))}}return d}function sr(r,s,p){var d;if(r)for(var v=0;v<r.length;++v){var E=r[v],F=E.marker,B=E.to==null||(F.inclusiveRight?E.to>=s:E.to>s);if(B||E.from==s&&F.type=="bookmark"&&(!p||E.marker.insertLeft)){var Z=E.from==null||(F.inclusiveLeft?E.from<=s:E.from<s);(d||(d=[])).push(new rn(F,Z?null:E.from-s,E.to==null?null:E.to-s))}}return d}function An(r,s){if(s.full)return null;var p=We(r,s.from.line)&&Lt(r,s.from.line).markedSpans,d=We(r,s.to.line)&&Lt(r,s.to.line).markedSpans;if(!p&&!d)return null;var v=s.from.ch,E=s.to.ch,F=pt(s.from,s.to)==0,B=on(p,v,F),Z=sr(d,E,F),K=s.text.length==1,be=X(s.text).length+(K?v:0);if(B)for(var Ce=0;Ce<B.length;++Ce){var ze=B[Ce];if(ze.to==null){var Fe=ri(Z,ze.marker);Fe?K&&(ze.to=Fe.to==null?null:Fe.to+be):ze.to=v}}if(Z)for(var Ge=0;Ge<Z.length;++Ge){var rt=Z[Ge];if(rt.to!=null&&(rt.to+=be),rt.from==null){var dt=ri(B,rt.marker);dt||(rt.from=be,K&&(B||(B=[])).push(rt))}else rt.from+=be,K&&(B||(B=[])).push(rt)}B&&(B=Yr(B)),Z&&Z!=B&&(Z=Yr(Z));var bt=[B];if(!K){var _t=s.text.length-2,vt;if(_t>0&&B)for(var Tt=0;Tt<B.length;++Tt)B[Tt].to==null&&(vt||(vt=[])).push(new rn(B[Tt].marker,null,null));for(var Bt=0;Bt<_t;++Bt)bt.push(vt);bt.push(Z)}return bt}function Yr(r){for(var s=0;s<r.length;++s){var p=r[s];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&r.splice(s--,1)}return r.length?r:null}function zr(r,s,p){var d=null;if(r.iter(s.line,p.line+1,function(Fe){if(Fe.markedSpans)for(var Ge=0;Ge<Fe.markedSpans.length;++Ge){var rt=Fe.markedSpans[Ge].marker;rt.readOnly&&(!d||Xe(d,rt)==-1)&&(d||(d=[])).push(rt)}}),!d)return null;for(var v=[{from:s,to:p}],E=0;E<d.length;++E)for(var F=d[E],B=F.find(0),Z=0;Z<v.length;++Z){var K=v[Z];if(!(pt(K.to,B.from)<0||pt(K.from,B.to)>0)){var be=[Z,1],Ce=pt(K.from,B.from),ze=pt(K.to,B.to);(Ce<0||!F.inclusiveLeft&&!Ce)&&be.push({from:K.from,to:B.from}),(ze>0||!F.inclusiveRight&&!ze)&&be.push({from:B.to,to:K.to}),v.splice.apply(v,be),Z+=be.length-3}}return v}function Zt(r){var s=r.markedSpans;if(s){for(var p=0;p<s.length;++p)s[p].marker.detachLine(r);r.markedSpans=null}}function oi(r,s){if(s){for(var p=0;p<s.length;++p)s[p].marker.attachLine(r);r.markedSpans=s}}function yn(r){return r.inclusiveLeft?-1:0}function Ir(r){return r.inclusiveRight?1:0}function Zo(r,s){var p=r.lines.length-s.lines.length;if(p!=0)return p;var d=r.find(),v=s.find(),E=pt(d.from,v.from)||yn(r)-yn(s);if(E)return-E;var F=pt(d.to,v.to)||Ir(r)-Ir(s);return F||s.id-r.id}function _a(r,s){var p=Pi&&r.markedSpans,d;if(p)for(var v=void 0,E=0;E<p.length;++E)v=p[E],v.marker.collapsed&&(s?v.from:v.to)==null&&(!d||Zo(d,v.marker)<0)&&(d=v.marker);return d}function Xo(r){return _a(r,!0)}function wa(r){return _a(r,!1)}function Ba(r,s){var p=Pi&&r.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var E=p[v];E.marker.collapsed&&(E.from==null||E.from<s)&&(E.to==null||E.to>s)&&(!d||Zo(d,E.marker)<0)&&(d=E.marker)}return d}function gi(r,s,p,d,v){var E=Lt(r,s),F=Pi&&E.markedSpans;if(F)for(var B=0;B<F.length;++B){var Z=F[B];if(Z.marker.collapsed){var K=Z.marker.find(0),be=pt(K.from,p)||yn(Z.marker)-yn(v),Ce=pt(K.to,d)||Ir(Z.marker)-Ir(v);if(!(be>=0&&Ce<=0||be<=0&&Ce>=0)&&(be<=0&&(Z.marker.inclusiveRight&&v.inclusiveLeft?pt(K.to,p)>=0:pt(K.to,p)>0)||be>=0&&(Z.marker.inclusiveRight&&v.inclusiveLeft?pt(K.from,d)<=0:pt(K.from,d)<0)))return!0}}}function Ni(r){for(var s;s=Xo(r);)r=s.find(-1,!0).line;return r}function br(r){for(var s;s=wa(r);)r=s.find(1,!0).line;return r}function Br(r){for(var s,p;s=wa(r);)r=s.find(1,!0).line,(p||(p=[])).push(r);return p}function ys(r,s){var p=Lt(r,s),d=Ni(p);return p==d?s:ee(d)}function Us(r,s){if(s>r.lastLine())return s;var p=Lt(r,s),d;if(!hn(r,p))return s;for(;d=wa(p);)p=d.find(1,!0).line;return ee(p)+1}function hn(r,s){var p=Pi&&s.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Ys(r,s,d))return!0}}}function Ys(r,s,p){if(p.to==null){var d=p.marker.find(1,!0);return Ys(r,d.line,ri(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==s.text.length)return!0;for(var v=void 0,E=0;E<s.markedSpans.length;++E)if(v=s.markedSpans[E],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&Ys(r,s,v))return!0}function no(r){r=Ni(r);for(var s=0,p=r.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==r)break;s+=v.height}for(var E=p.parent;E;p=E,E=p.parent)for(var F=0;F<E.children.length;++F){var B=E.children[F];if(B==p)break;s+=B.height}return s}function _s(r){if(r.height==0)return 0;for(var s=r.text.length,p,d=r;p=Xo(d);){var v=p.find(0,!0);d=v.from.line,s+=v.from.ch-v.to.ch}for(d=r;p=wa(d);){var E=p.find(0,!0);s-=d.text.length-E.from.ch,d=E.to.line,s+=d.text.length-E.to.ch}return s}function $s(r){var s=r.display,p=r.doc;s.maxLine=Lt(p,p.first),s.maxLineLength=_s(s.maxLine),s.maxLineChanged=!0,p.iter(function(d){var v=_s(d);v>s.maxLineLength&&(s.maxLineLength=v,s.maxLine=d)})}var Ao=function(r,s,p){this.text=r,oi(this,s),this.height=p?p(this):1};Ao.prototype.lineNo=function(){return ee(this)},si(Ao);function yl(r,s,p,d){r.text=s,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),r.order!=null&&(r.order=null),Zt(r),oi(r,p);var v=d?d(r):1;v!=r.height&&zn(r,v)}function un(r){r.parent=null,Zt(r)}var pc={},Hr={};function Do(r,s){if(!r||/^\s*$/.test(r))return null;var p=s.addModeClass?Hr:pc;return p[r]||(p[r]=r.replace(/\S+/g,"cm-$&"))}function Gs(r,s){var p=se("span",null,null,w?"padding-right: .1px":null),d={pre:se("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:r,trailingSpace:!1,splitSpaces:r.getOption("lineWrapping")};s.measure={};for(var v=0;v<=(s.rest?s.rest.length:0);v++){var E=v?s.rest[v-1]:s.line,F=void 0;d.pos=0,d.addToken=Ha,$n(r.display.measure)&&(F=Yt(E,r.doc.direction))&&(d.addToken=Ji(d.addToken,F)),d.map=[];var B=s!=r.display.externalMeasured&&ee(E);Hu(E,d,ae(r,E,B)),E.styleClasses&&(E.styleClasses.bgClass&&(d.bgClass=Me(E.styleClasses.bgClass,d.bgClass||"")),E.styleClasses.textClass&&(d.textClass=Me(E.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(Ot(r.display.measure))),v==0?(s.measure.map=d.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(d.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(w){var Z=d.content.lastChild;(/\bcm-tab\b/.test(Z.className)||Z.querySelector&&Z.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Ri(r,"renderLine",r,s.line,d.pre),d.pre.className&&(d.textClass=Me(d.pre.className,d.textClass||"")),d}function Lo(r){var s=D("span","","cm-invalidchar");return s.title="\\u"+r.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function Ha(r,s,p,d,v,E,F){if(s){var B=r.splitSpaces?Bu(s,r.trailingSpace):s,Z=r.cm.state.specialChars,K=!1,be;if(!Z.test(s))r.col+=s.length,be=document.createTextNode(B),r.map.push(r.pos,r.pos+s.length,be),b&&x<9&&(K=!0),r.pos+=s.length;else{be=document.createDocumentFragment();for(var Ce=0;;){Z.lastIndex=Ce;var ze=Z.exec(s),Fe=ze?ze.index-Ce:s.length-Ce;if(Fe){var Ge=document.createTextNode(B.slice(Ce,Ce+Fe));b&&x<9?be.appendChild(D("span",[Ge])):be.appendChild(Ge),r.map.push(r.pos,r.pos+Fe,Ge),r.col+=Fe,r.pos+=Fe}if(!ze)break;Ce+=Fe+1;var rt=void 0;if(ze[0]=="	"){var dt=r.cm.options.tabSize,bt=dt-r.col%dt;rt=be.appendChild(D("span",Kt(bt),"cm-tab")),rt.setAttribute("role","presentation"),rt.setAttribute("cm-text","	"),r.col+=bt}else ze[0]=="\r"||ze[0]==`
`?(rt=be.appendChild(D("span",ze[0]=="\r"?"":"","cm-invalidchar")),rt.setAttribute("cm-text",ze[0]),r.col+=1):(rt=r.cm.options.specialCharPlaceholder(ze[0]),rt.setAttribute("cm-text",ze[0]),b&&x<9?be.appendChild(D("span",[rt])):be.appendChild(rt),r.col+=1);r.map.push(r.pos,r.pos+1,rt),r.pos++}}if(r.trailingSpace=B.charCodeAt(s.length-1)==32,p||d||v||K||E||F){var _t=p||"";d&&(_t+=d),v&&(_t+=v);var vt=D("span",[be],_t,E);if(F)for(var Tt in F)F.hasOwnProperty(Tt)&&Tt!="style"&&Tt!="class"&&vt.setAttribute(Tt,F[Tt]);return r.content.appendChild(vt)}r.content.appendChild(be)}}function Bu(r,s){if(r.length>1&&!/  /.test(r))return r;for(var p=s,d="",v=0;v<r.length;v++){var E=r.charAt(v);E==" "&&p&&(v==r.length-1||r.charCodeAt(v+1)==32)&&(E=""),d+=E,p=E==" "}return d}function Ji(r,s){return function(p,d,v,E,F,B,Z){v=v?v+" cm-force-border":"cm-force-border";for(var K=p.pos,be=K+d.length;;){for(var Ce=void 0,ze=0;ze<s.length&&(Ce=s[ze],!(Ce.to>K&&Ce.from<=K));ze++);if(Ce.to>=be)return r(p,d,v,E,F,B,Z);r(p,d.slice(0,Ce.to-K),v,E,null,B,Z),E=null,d=d.slice(Ce.to-K),K=Ce.to}}}function mo(r,s,p,d){var v=!d&&p.widgetNode;v&&r.map.push(r.pos,r.pos+s,v),!d&&r.cm.display.input.needsContentAttribute&&(v||(v=r.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(r.cm.display.input.setUneditable(v),r.content.appendChild(v)),r.pos+=s,r.trailingSpace=!1}function Hu(r,s,p){var d=r.markedSpans,v=r.text,E=0;if(!d){for(var F=1;F<p.length;F+=2)s.addToken(s,v.slice(E,E=p[F]),Do(p[F+1],s.cm.options));return}for(var B=v.length,Z=0,K=1,be="",Ce,ze,Fe=0,Ge,rt,dt,bt,_t;;){if(Fe==Z){Ge=rt=dt=ze="",_t=null,bt=null,Fe=1/0;for(var vt=[],Tt=void 0,Bt=0;Bt<d.length;++Bt){var zt=d[Bt],ci=zt.marker;if(ci.type=="bookmark"&&zt.from==Z&&ci.widgetNode)vt.push(ci);else if(zt.from<=Z&&(zt.to==null||zt.to>Z||ci.collapsed&&zt.to==Z&&zt.from==Z)){if(zt.to!=null&&zt.to!=Z&&Fe>zt.to&&(Fe=zt.to,rt=""),ci.className&&(Ge+=" "+ci.className),ci.css&&(ze=(ze?ze+";":"")+ci.css),ci.startStyle&&zt.from==Z&&(dt+=" "+ci.startStyle),ci.endStyle&&zt.to==Fe&&(Tt||(Tt=[])).push(ci.endStyle,zt.to),ci.title&&((_t||(_t={})).title=ci.title),ci.attributes)for(var $i in ci.attributes)(_t||(_t={}))[$i]=ci.attributes[$i];ci.collapsed&&(!bt||Zo(bt.marker,ci)<0)&&(bt=zt)}else zt.from>Z&&Fe>zt.from&&(Fe=zt.from)}if(Tt)for(var xn=0;xn<Tt.length;xn+=2)Tt[xn+1]==Fe&&(rt+=" "+Tt[xn]);if(!bt||bt.from==Z)for(var an=0;an<vt.length;++an)mo(s,0,vt[an]);if(bt&&(bt.from||0)==Z){if(mo(s,(bt.to==null?B+1:bt.to)-Z,bt.marker,bt.from==null),bt.to==null)return;bt.to==Z&&(bt=!1)}}if(Z>=B)break;for(var gn=Math.min(B,Fe);;){if(be){var Ln=Z+be.length;if(!bt){var Mn=Ln>gn?be.slice(0,gn-Z):be;s.addToken(s,Mn,Ce?Ce+Ge:Ge,dt,Z+Mn.length==Fe?rt:"",ze,_t)}if(Ln>=gn){be=be.slice(gn-Z),Z=gn;break}Z=Ln,dt=""}be=v.slice(E,E=p[K++]),Ce=Do(p[K++],s.cm.options)}}}function _l(r,s,p){this.line=s,this.rest=Br(s),this.size=this.rest?ee(X(this.rest))-p+1:1,this.node=this.text=null,this.hidden=hn(r,s)}function Vo(r,s,p){for(var d=[],v,E=s;E<p;E=v){var F=new _l(r.doc,Lt(r.doc,E),E);v=E+F.size,d.push(F)}return d}var Wa=null;function wl(r){Wa?Wa.ops.push(r):r.ownsGroup=Wa={ops:[r],delayedCallbacks:[]}}function xl(r){var s=r.delayedCallbacks,p=0;do{for(;p<s.length;p++)s[p].call(null);for(var d=0;d<r.ops.length;d++){var v=r.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<s.length)}function ws(r,s){var p=r.ownsGroup;if(p)try{xl(p)}finally{Wa=null,s(p)}}var kr=null;function en(r,s){var p=sn(r,s);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;Wa?v=Wa.delayedCallbacks:kr?v=kr:(v=kr=[],setTimeout(xs,0));for(var E=function(B){v.push(function(){return p[B].apply(null,d)})},F=0;F<p.length;++F)E(F)}}function xs(){var r=kr;kr=null;for(var s=0;s<r.length;++s)r[s]()}function Cr(r,s,p,d){for(var v=0;v<s.changes.length;v++){var E=s.changes[v];E=="text"?Vs(r,s):E=="gutter"?Ks(r,s,p,d):E=="class"?ks(r,s):E=="widget"&&Wu(r,s,d)}s.changes=null}function xa(r){return r.node==r.text&&(r.node=D("div",null,null,"position: relative"),r.text.parentNode&&r.text.parentNode.replaceChild(r.node,r.text),r.node.appendChild(r.text),b&&x<8&&(r.node.style.zIndex=2)),r.node}function Zs(r,s){var p=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),s.background)p?s.background.className=p:(s.background.parentNode.removeChild(s.background),s.background=null);else if(p){var d=xa(s);s.background=d.insertBefore(D("div",null,p),d.firstChild),r.display.input.setUneditable(s.background)}}function Xs(r,s){var p=r.display.externalMeasured;return p&&p.line==s.line?(r.display.externalMeasured=null,s.measure=p.measure,p.built):Gs(r,s)}function Vs(r,s){var p=s.text.className,d=Xs(r,s);s.text==s.node&&(s.node=d.pre),s.text.parentNode.replaceChild(d.pre,s.text),s.text=d.pre,d.bgClass!=s.bgClass||d.textClass!=s.textClass?(s.bgClass=d.bgClass,s.textClass=d.textClass,ks(r,s)):p&&(s.text.className=p)}function ks(r,s){Zs(r,s),s.line.wrapClass?xa(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var p=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=p||""}function Ks(r,s,p,d){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var v=xa(s);s.gutterBackground=D("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),r.display.input.setUneditable(s.gutterBackground),v.insertBefore(s.gutterBackground,s.text)}var E=s.line.gutterMarkers;if(r.options.lineNumbers||E){var F=xa(s),B=s.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(B.setAttribute("aria-hidden","true"),r.display.input.setUneditable(B),F.insertBefore(B,s.text),s.line.gutterClass&&(B.className+=" "+s.line.gutterClass),r.options.lineNumbers&&(!E||!E["CodeMirror-linenumbers"])&&(s.lineNumber=B.appendChild(D("div",nt(r.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+r.display.lineNumInnerWidth+"px"))),E)for(var Z=0;Z<r.display.gutterSpecs.length;++Z){var K=r.display.gutterSpecs[Z].className,be=E.hasOwnProperty(K)&&E[K];be&&B.appendChild(D("div",[be],"CodeMirror-gutter-elt","left: "+d.gutterLeft[K]+"px; width: "+d.gutterWidth[K]+"px"))}}}function Wu(r,s,p){s.alignable&&(s.alignable=null);for(var d=ce("CodeMirror-linewidget"),v=s.node.firstChild,E=void 0;v;v=E)E=v.nextSibling,d.test(v.className)&&s.node.removeChild(v);ju(r,s,p)}function kl(r,s,p,d){var v=Xs(r,s);return s.text=s.node=v.pre,v.bgClass&&(s.bgClass=v.bgClass),v.textClass&&(s.textClass=v.textClass),ks(r,s),Ks(r,s,p,d),ju(r,s,d),s.node}function ju(r,s,p){if(tn(r,s.line,s,p,!0),s.rest)for(var d=0;d<s.rest.length;d++)tn(r,s.rest[d],s,p,!1)}function tn(r,s,p,d,v){if(s.widgets)for(var E=xa(p),F=0,B=s.widgets;F<B.length;++F){var Z=B[F],K=D("div",[Z.node],"CodeMirror-linewidget"+(Z.className?" "+Z.className:""));Z.handleMouseEvents||K.setAttribute("cm-ignore-events","true"),Ko(Z,K,p,d),r.display.input.setUneditable(K),v&&Z.above?E.insertBefore(K,p.gutter||p.text):E.appendChild(K),en(Z,"redraw")}}function Ko(r,s,p,d){if(r.noHScroll){(p.alignable||(p.alignable=[])).push(s);var v=d.wrapperWidth;s.style.left=d.fixedPos+"px",r.coverGutter||(v-=d.gutterTotalWidth,s.style.paddingLeft=d.gutterTotalWidth+"px"),s.style.width=v+"px"}r.coverGutter&&(s.style.zIndex=5,s.style.position="relative",r.noHScroll||(s.style.marginLeft=-d.gutterTotalWidth+"px"))}function Mo(r){if(r.height!=null)return r.height;var s=r.doc.cm;if(!s)return 0;if(!Ee(document.body,r.node)){var p="position: relative;";r.coverGutter&&(p+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),r.noHScroll&&(p+="width: "+s.display.wrapper.clientWidth+"px;"),ne(s.display.measure,D("div",[r.node],null,p))}return r.height=r.node.parentNode.offsetHeight}function In(r,s){for(var p=Wi(s);p!=r.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==r.sizer&&p!=r.mover)return!0}function Cs(r){return r.lineSpace.offsetTop}function Qo(r){return r.mover.offsetHeight-r.lineSpace.offsetHeight}function Cl(r){if(r.cachedPaddingH)return r.cachedPaddingH;var s=ne(r.measure,D("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(r.cachedPaddingH=d),d}function Er(r){return ut-r.display.nativeBarWidth}function Jo(r){return r.display.scroller.clientWidth-Er(r)-r.display.barWidth}function ja(r){return r.display.scroller.clientHeight-Er(r)-r.display.barHeight}function qa(r,s,p){var d=r.options.lineWrapping,v=d&&Jo(r);if(!s.measure.heights||d&&s.measure.width!=v){var E=s.measure.heights=[];if(d){s.measure.width=v;for(var F=s.text.firstChild.getClientRects(),B=0;B<F.length-1;B++){var Z=F[B],K=F[B+1];Math.abs(Z.bottom-K.bottom)>2&&E.push((Z.bottom+K.top)/2-p.top)}}E.push(p.bottom-p.top)}}function Po(r,s,p){if(r.line==s)return{map:r.measure.map,cache:r.measure.cache};if(r.rest){for(var d=0;d<r.rest.length;d++)if(r.rest[d]==s)return{map:r.measure.maps[d],cache:r.measure.caches[d]};for(var v=0;v<r.rest.length;v++)if(ee(r.rest[v])>p)return{map:r.measure.maps[v],cache:r.measure.caches[v],before:!0}}}function Qs(r,s){s=Ni(s);var p=ee(s),d=r.display.externalMeasured=new _l(r.doc,s,p);d.lineN=p;var v=d.built=Gs(r,d);return d.text=v.pre,ne(r.display.lineMeasure,v.pre),d}function Js(r,s,p,d){return dn(r,Wr(r,s),p,d)}function Ua(r,s){if(s>=r.display.viewFrom&&s<r.display.viewTo)return r.display.view[ia(r,s)];var p=r.display.externalMeasured;if(p&&s>=p.lineN&&s<p.lineN+p.size)return p}function Wr(r,s){var p=ee(s),d=Ua(r,p);d&&!d.text?d=null:d&&d.changes&&(Cr(r,d,p,Ya(r)),r.curOp.forceUpdate=!0),d||(d=Qs(r,s));var v=Po(d,s,p);return{line:s,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function dn(r,s,p,d,v){s.before&&(p=-1);var E=p+(d||""),F;return s.cache.hasOwnProperty(E)?F=s.cache[E]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(qa(r,s.view,s.rect),s.hasHeights=!0),F=Sr(r,s,p,d),F.bogus||(s.cache[E]=F)),{left:F.left,right:F.right,top:v?F.rtop:F.top,bottom:v?F.rbottom:F.bottom}}var El={left:0,right:0,top:0,bottom:0};function ka(r,s,p){for(var d,v,E,F,B,Z,K=0;K<r.length;K+=3)if(B=r[K],Z=r[K+1],s<B?(v=0,E=1,F="left"):s<Z?(v=s-B,E=v+1):(K==r.length-3||s==Z&&r[K+3]>s)&&(E=Z-B,v=E-1,s>=Z&&(F="right")),v!=null){if(d=r[K+2],B==Z&&p==(d.insertLeft?"left":"right")&&(F=p),p=="left"&&v==0)for(;K&&r[K-2]==r[K-3]&&r[K-1].insertLeft;)d=r[(K-=3)+2],F="left";if(p=="right"&&v==Z-B)for(;K<r.length-3&&r[K+3]==r[K+4]&&!r[K+5].insertLeft;)d=r[(K+=3)+2],F="right";break}return{node:d,start:v,end:E,collapse:F,coverStart:B,coverEnd:Z}}function mc(r,s){var p=El;if(s=="left")for(var d=0;d<r.length&&(p=r[d]).left==p.right;d++);else for(var v=r.length-1;v>=0&&(p=r[v]).left==p.right;v--);return p}function Sr(r,s,p,d){var v=ka(s.map,p,d),E=v.node,F=v.start,B=v.end,Z=v.collapse,K;if(E.nodeType==3){for(var be=0;be<4;be++){for(;F&&ct(s.line.text.charAt(v.coverStart+F));)--F;for(;v.coverStart+B<v.coverEnd&&ct(s.line.text.charAt(v.coverStart+B));)++B;if(b&&x<9&&F==0&&B==v.coverEnd-v.coverStart?K=E.parentNode.getBoundingClientRect():K=mc(ye(E,F,B).getClientRects(),d),K.left||K.right||F==0)break;B=F,F=F-1,Z="right"}b&&x<11&&(K=Tr(r.display.measure,K))}else{F>0&&(Z=d="right");var Ce;r.options.lineWrapping&&(Ce=E.getClientRects()).length>1?K=Ce[d=="right"?Ce.length-1:0]:K=E.getBoundingClientRect()}if(b&&x<9&&!F&&(!K||!K.left&&!K.right)){var ze=E.parentNode.getClientRects()[0];ze?K={left:ze.left,right:ze.left+bo(r.display),top:ze.top,bottom:ze.bottom}:K=El}for(var Fe=K.top-s.rect.top,Ge=K.bottom-s.rect.top,rt=(Fe+Ge)/2,dt=s.view.measure.heights,bt=0;bt<dt.length-1&&!(rt<dt[bt]);bt++);var _t=bt?dt[bt-1]:0,vt=dt[bt],Tt={left:(Z=="right"?K.right:K.left)-s.rect.left,right:(Z=="left"?K.left:K.right)-s.rect.left,top:_t,bottom:vt};return!K.left&&!K.right&&(Tt.bogus=!0),r.options.singleCursorHeightPerLine||(Tt.rtop=Fe,Tt.rbottom=Ge),Tt}function Tr(r,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Qi(r))return s;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*p,right:s.right*p,top:s.top*d,bottom:s.bottom*d}}function eu(r){if(r.measure&&(r.measure.cache={},r.measure.heights=null,r.rest))for(var s=0;s<r.rest.length;s++)r.measure.caches[s]={}}function tu(r){r.display.externalMeasure=null,ve(r.display.lineMeasure);for(var s=0;s<r.display.view.length;s++)eu(r.display.view[s])}function ea(r){tu(r),r.display.cachedCharWidth=r.display.cachedTextHeight=r.display.cachedPaddingH=null,r.options.lineWrapping||(r.display.maxLineChanged=!0),r.display.lineNumChars=null}function iu(r){return A&&P?-(r.body.getBoundingClientRect().left-parseInt(getComputedStyle(r.body).marginLeft)):r.defaultView.pageXOffset||(r.documentElement||r.body).scrollLeft}function Es(r){return A&&P?-(r.body.getBoundingClientRect().top-parseInt(getComputedStyle(r.body).marginTop)):r.defaultView.pageYOffset||(r.documentElement||r.body).scrollTop}function ta(r){var s=Ni(r),p=s.widgets,d=0;if(p)for(var v=0;v<p.length;++v)p[v].above&&(d+=Mo(p[v]));return d}function $r(r,s,p,d,v){if(!v){var E=ta(s);p.top+=E,p.bottom+=E}if(d=="line")return p;d||(d="local");var F=no(s);if(d=="local"?F+=Cs(r.display):F-=r.display.viewOffset,d=="page"||d=="window"){var B=r.display.lineSpace.getBoundingClientRect();F+=B.top+(d=="window"?0:Es(Y(r)));var Z=B.left+(d=="window"?0:iu(Y(r)));p.left+=Z,p.right+=Z}return p.top+=F,p.bottom+=F,p}function Ne(r,s,p){if(p=="div")return s;var d=s.left,v=s.top;if(p=="page")d-=iu(Y(r)),v-=Es(Y(r));else if(p=="local"||!p){var E=r.display.sizer.getBoundingClientRect();d+=E.left,v+=E.top}var F=r.display.lineSpace.getBoundingClientRect();return{left:d-F.left,top:v-F.top}}function it(r,s,p,d,v){return d||(d=Lt(r.doc,s.line)),$r(r,d,Js(r,d,s.ch,v),p)}function Ye(r,s,p,d,v,E){d=d||Lt(r.doc,s.line),v||(v=Wr(r,d));function F(Ge,rt){var dt=dn(r,v,Ge,rt?"right":"left",E);return rt?dt.left=dt.right:dt.right=dt.left,$r(r,d,dt,p)}var B=Yt(d,r.doc.direction),Z=s.ch,K=s.sticky;if(Z>=d.text.length?(Z=d.text.length,K="before"):Z<=0&&(Z=0,K="after"),!B)return F(K=="before"?Z-1:Z,K=="before");function be(Ge,rt,dt){var bt=B[rt],_t=bt.level==1;return F(dt?Ge-1:Ge,_t!=dt)}var Ce=xt(B,Z,K),ze=Vt,Fe=be(Z,Ce,K=="before");return ze!=null&&(Fe.other=be(Z,ze,K!="before")),Fe}function At(r,s){var p=0;s=jt(r.doc,s),r.options.lineWrapping||(p=bo(r.display)*s.ch);var d=Lt(r.doc,s.line),v=no(d)+Cs(r.display);return{left:p,right:p,top:v,bottom:v+d.height}}function Jt(r,s,p,d,v){var E=Ue(r,s,p);return E.xRel=v,d&&(E.outside=d),E}function Si(r,s,p){var d=r.doc;if(p+=r.display.viewOffset,p<0)return Jt(d.first,0,null,-1,-1);var v=xe(d,p),E=d.first+d.size-1;if(v>E)return Jt(d.first+d.size-1,Lt(d,E).text.length,null,1,1);s<0&&(s=0);for(var F=Lt(d,v);;){var B=go(r,F,v,s,p),Z=Ba(F,B.ch+(B.xRel>0||B.outside>0?1:0));if(!Z)return B;var K=Z.find(1);if(K.line==v)return K;F=Lt(d,v=K.line)}}function _n(r,s,p,d){d-=ta(s);var v=s.text.length,E=$t(function(F){return dn(r,p,F-1).bottom<=d},v,0);return v=$t(function(F){return dn(r,p,F).top>d},E,v),{begin:E,end:v}}function qi(r,s,p,d){p||(p=Wr(r,s));var v=$r(r,s,dn(r,p,d),"line").top;return _n(r,s,p,v)}function Ss(r,s,p,d){return r.bottom<=p?!1:r.top>p?!0:(d?r.left:r.right)>s}function go(r,s,p,d,v){v-=no(s);var E=Wr(r,s),F=ta(s),B=0,Z=s.text.length,K=!0,be=Yt(s,r.doc.direction);if(be){var Ce=(r.options.lineWrapping?nu:yr)(r,s,p,E,be,d,v);K=Ce.level!=1,B=K?Ce.from:Ce.to-1,Z=K?Ce.to:Ce.from-1}var ze=null,Fe=null,Ge=$t(function(Bt){var zt=dn(r,E,Bt);return zt.top+=F,zt.bottom+=F,Ss(zt,d,v,!1)?(zt.top<=v&&zt.left<=d&&(ze=Bt,Fe=zt),!0):!1},B,Z),rt,dt,bt=!1;if(Fe){var _t=d-Fe.left<Fe.right-d,vt=_t==K;Ge=ze+(vt?0:1),dt=vt?"after":"before",rt=_t?Fe.left:Fe.right}else{!K&&(Ge==Z||Ge==B)&&Ge++,dt=Ge==0?"after":Ge==s.text.length?"before":dn(r,E,Ge-(K?1:0)).bottom+F<=v==K?"after":"before";var Tt=Ye(r,Ue(p,Ge,dt),"line",s,E);rt=Tt.left,bt=v<Tt.top?-1:v>=Tt.bottom?1:0}return Ge=Wt(s.text,Ge,1),Jt(p,Ge,dt,bt,d-rt)}function yr(r,s,p,d,v,E,F){var B=$t(function(Ce){var ze=v[Ce],Fe=ze.level!=1;return Ss(Ye(r,Ue(p,Fe?ze.to:ze.from,Fe?"before":"after"),"line",s,d),E,F,!0)},0,v.length-1),Z=v[B];if(B>0){var K=Z.level!=1,be=Ye(r,Ue(p,K?Z.from:Z.to,K?"after":"before"),"line",s,d);Ss(be,E,F,!0)&&be.top>F&&(Z=v[B-1])}return Z}function nu(r,s,p,d,v,E,F){var B=_n(r,s,d,F),Z=B.begin,K=B.end;/\s/.test(s.text.charAt(K-1))&&K--;for(var be=null,Ce=null,ze=0;ze<v.length;ze++){var Fe=v[ze];if(!(Fe.from>=K||Fe.to<=Z)){var Ge=Fe.level!=1,rt=dn(r,d,Ge?Math.min(K,Fe.to)-1:Math.max(Z,Fe.from)).right,dt=rt<E?E-rt+1e9:rt-E;(!be||Ce>dt)&&(be=Fe,Ce=dt)}}return be||(be=v[v.length-1]),be.from<Z&&(be={from:Z,to:be.to,level:be.level}),be.to>K&&(be={from:be.from,to:K,level:be.level}),be}var vo;function ro(r){if(r.cachedTextHeight!=null)return r.cachedTextHeight;if(vo==null){vo=D("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)vo.appendChild(document.createTextNode("x")),vo.appendChild(D("br"));vo.appendChild(document.createTextNode("x"))}ne(r.measure,vo);var p=vo.offsetHeight/50;return p>3&&(r.cachedTextHeight=p),ve(r.measure),p||1}function bo(r){if(r.cachedCharWidth!=null)return r.cachedCharWidth;var s=D("span","xxxxxxxxxx"),p=D("pre",[s],"CodeMirror-line-like");ne(r.measure,p);var d=s.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(r.cachedCharWidth=v),v||10}function Ya(r){for(var s=r.display,p={},d={},v=s.gutters.clientLeft,E=s.gutters.firstChild,F=0;E;E=E.nextSibling,++F){var B=r.display.gutterSpecs[F].className;p[B]=E.offsetLeft+E.clientLeft+v,d[B]=E.clientWidth}return{fixedPos:Ci(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:s.wrapper.clientWidth}}function Ci(r){return r.scroller.getBoundingClientRect().left-r.sizer.getBoundingClientRect().left}function Sl(r){var s=ro(r.display),p=r.options.lineWrapping,d=p&&Math.max(5,r.display.scroller.clientWidth/bo(r.display)-3);return function(v){if(hn(r.doc,v))return 0;var E=0;if(v.widgets)for(var F=0;F<v.widgets.length;F++)v.widgets[F].height&&(E+=v.widgets[F].height);return p?E+(Math.ceil(v.text.length/d)||1)*s:E+s}}function Oo(r){var s=r.doc,p=Sl(r);s.iter(function(d){var v=p(d);v!=d.height&&zn(d,v)})}function oo(r,s,p,d){var v=r.display;if(!p&&Wi(s).getAttribute("cm-not-content")=="true")return null;var E,F,B=v.lineSpace.getBoundingClientRect();try{E=s.clientX-B.left,F=s.clientY-B.top}catch{return null}var Z=Si(r,E,F),K;if(d&&Z.xRel>0&&(K=Lt(r.doc,Z.line).text).length==Z.ch){var be=qe(K,K.length,r.options.tabSize)-K.length;Z=Ue(Z.line,Math.max(0,Math.round((E-Cl(r.display).left)/bo(r.display))-be))}return Z}function ia(r,s){if(s>=r.display.viewTo||(s-=r.display.viewFrom,s<0))return null;for(var p=r.display.view,d=0;d<p.length;d++)if(s-=p[d].size,s<0)return d}function _r(r,s,p,d){s==null&&(s=r.doc.first),p==null&&(p=r.doc.first+r.doc.size),d||(d=0);var v=r.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>s)&&(v.updateLineNumbers=s),r.curOp.viewChanged=!0,s>=v.viewTo)Pi&&ys(r.doc,s)<v.viewTo&&Gr(r);else if(p<=v.viewFrom)Pi&&Us(r.doc,p+d)>v.viewFrom?Gr(r):(v.viewFrom+=d,v.viewTo+=d);else if(s<=v.viewFrom&&p>=v.viewTo)Gr(r);else if(s<=v.viewFrom){var E=Zr(r,p,p+d,1);E?(v.view=v.view.slice(E.index),v.viewFrom=E.lineN,v.viewTo+=d):Gr(r)}else if(p>=v.viewTo){var F=Zr(r,s,s,-1);F?(v.view=v.view.slice(0,F.index),v.viewTo=F.lineN):Gr(r)}else{var B=Zr(r,s,s,-1),Z=Zr(r,p,p+d,1);B&&Z?(v.view=v.view.slice(0,B.index).concat(Vo(r,B.lineN,Z.lineN)).concat(v.view.slice(Z.index)),v.viewTo+=d):Gr(r)}var K=v.externalMeasured;K&&(p<K.lineN?K.lineN+=d:s<K.lineN+K.size&&(v.externalMeasured=null))}function ur(r,s,p){r.curOp.viewChanged=!0;var d=r.display,v=r.display.externalMeasured;if(v&&s>=v.lineN&&s<v.lineN+v.size&&(d.externalMeasured=null),!(s<d.viewFrom||s>=d.viewTo)){var E=d.view[ia(r,s)];if(E.node!=null){var F=E.changes||(E.changes=[]);Xe(F,p)==-1&&F.push(p)}}}function Gr(r){r.display.viewFrom=r.display.viewTo=r.doc.first,r.display.view=[],r.display.viewOffset=0}function Zr(r,s,p,d){var v=ia(r,s),E,F=r.display.view;if(!Pi||p==r.doc.first+r.doc.size)return{index:v,lineN:p};for(var B=r.display.viewFrom,Z=0;Z<v;Z++)B+=F[Z].size;if(B!=s){if(d>0){if(v==F.length-1)return null;E=B+F[v].size-s,v++}else E=B-s;s+=E,p+=E}for(;ys(r.doc,p)!=p;){if(v==(d<0?0:F.length-1))return null;p+=d*F[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function na(r,s,p){var d=r.display,v=d.view;v.length==0||s>=d.viewTo||p<=d.viewFrom?(d.view=Vo(r,s,p),d.viewFrom=s):(d.viewFrom>s?d.view=Vo(r,s,d.viewFrom).concat(d.view):d.viewFrom<s&&(d.view=d.view.slice(ia(r,s))),d.viewFrom=s,d.viewTo<p?d.view=d.view.concat(Vo(r,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,ia(r,p)))),d.viewTo=p}function qu(r){for(var s=r.display.view,p=0,d=0;d<s.length;d++){var v=s[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function ao(r){r.display.input.showSelection(r.display.input.prepareSelection())}function Ca(r,s){s===void 0&&(s=!0);var p=r.doc,d={},v=d.cursors=document.createDocumentFragment(),E=d.selection=document.createDocumentFragment(),F=r.options.$customCursor;F&&(s=!0);for(var B=0;B<p.sel.ranges.length;B++)if(!(!s&&B==p.sel.primIndex)){var Z=p.sel.ranges[B];if(!(Z.from().line>=r.display.viewTo||Z.to().line<r.display.viewFrom)){var K=Z.empty();if(F){var be=F(r,Z);be&&Ts(r,be,v)}else(K||r.options.showCursorWhenSelecting)&&Ts(r,Z.head,v);K||Tl(r,Z,E)}}return d}function Ts(r,s,p){var d=Ye(r,s,"div",null,null,!r.options.singleCursorHeightPerLine),v=p.appendChild(D("div","","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*r.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(r.getWrapperElement().className)){var E=it(r,s,"div",null,null),F=E.right-E.left;v.style.width=(F>0?F:r.defaultCharWidth())+"px"}if(d.other){var B=p.appendChild(D("div","","CodeMirror-cursor CodeMirror-secondarycursor"));B.style.display="",B.style.left=d.other.left+"px",B.style.top=d.other.top+"px",B.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function ra(r,s){return r.top-s.top||r.left-s.left}function Tl(r,s,p){var d=r.display,v=r.doc,E=document.createDocumentFragment(),F=Cl(r.display),B=F.left,Z=Math.max(d.sizerWidth,Jo(r)-d.sizer.offsetLeft)-F.right,K=v.direction=="ltr";function be(vt,Tt,Bt,zt){Tt<0&&(Tt=0),Tt=Math.round(Tt),zt=Math.round(zt),E.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+vt+`px;
                             top: `+Tt+"px; width: "+(Bt??Z-vt)+`px;
                             height: `+(zt-Tt)+"px"))}function Ce(vt,Tt,Bt){var zt=Lt(v,vt),ci=zt.text.length,$i,xn;function an(Mn,Dr){return it(r,Ue(vt,Mn),"div",zt,Dr)}function gn(Mn,Dr,fr){var Hn=qi(r,zt,null,Mn),Pn=Dr=="ltr"==(fr=="after")?"left":"right",vn=fr=="after"?Hn.begin:Hn.end-(/\s/.test(zt.text.charAt(Hn.end-1))?2:1);return an(vn,Pn)[Pn]}var Ln=Yt(zt,v.direction);return Qt(Ln,Tt||0,Bt??ci,function(Mn,Dr,fr,Hn){var Pn=fr=="ltr",vn=an(Mn,Pn?"left":"right"),jr=an(Dr-1,Pn?"right":"left"),Cu=Tt==null&&Mn==0,rs=Bt==null&&Dr==ci,wr=Hn==0,ha=!Ln||Hn==Ln.length-1;if(jr.top-vn.top<=3){var er=(K?Cu:rs)&&wr,jc=(K?rs:Cu)&&ha,da=er?B:(Pn?vn:jr).left,os=jc?Z:(Pn?jr:vn).right;be(da,vn.top,os-da,vn.bottom)}else{var as,Lr,Eu,qc;Pn?(as=K&&Cu&&wr?B:vn.left,Lr=K?Z:gn(Mn,fr,"before"),Eu=K?B:gn(Dr,fr,"after"),qc=K&&rs&&ha?Z:jr.right):(as=K?gn(Mn,fr,"before"):B,Lr=!K&&Cu&&wr?Z:vn.right,Eu=!K&&rs&&ha?B:jr.left,qc=K?gn(Dr,fr,"after"):Z),be(as,vn.top,Lr-as,vn.bottom),vn.bottom<jr.top&&be(B,vn.bottom,null,jr.top),be(Eu,jr.top,qc-Eu,jr.bottom)}(!$i||ra(vn,$i)<0)&&($i=vn),ra(jr,$i)<0&&($i=jr),(!xn||ra(vn,xn)<0)&&(xn=vn),ra(jr,xn)<0&&(xn=jr)}),{start:$i,end:xn}}var ze=s.from(),Fe=s.to();if(ze.line==Fe.line)Ce(ze.line,ze.ch,Fe.ch);else{var Ge=Lt(v,ze.line),rt=Lt(v,Fe.line),dt=Ni(Ge)==Ni(rt),bt=Ce(ze.line,ze.ch,dt?Ge.text.length+1:null).end,_t=Ce(Fe.line,dt?0:null,Fe.ch).start;dt&&(bt.top<_t.top-2?(be(bt.right,bt.top,null,bt.bottom),be(B,_t.top,_t.left,_t.bottom)):be(bt.right,bt.top,_t.left-bt.right,bt.bottom)),bt.bottom<_t.top&&be(B,bt.bottom,null,_t.top)}p.appendChild(E)}function oa(r){if(r.state.focused){var s=r.display;clearInterval(s.blinker);var p=!0;s.cursorDiv.style.visibility="",r.options.cursorBlinkRate>0?s.blinker=setInterval(function(){r.hasFocus()||Sa(r),s.cursorDiv.style.visibility=(p=!p)?"":"hidden"},r.options.cursorBlinkRate):r.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Fo(r){r.hasFocus()||(r.display.input.focus(),r.state.focused||ru(r))}function Ea(r){r.state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,r.state.focused&&Sa(r))},100)}function ru(r,s){r.state.delayingBlurEvent&&!r.state.draggingText&&(r.state.delayingBlurEvent=!1),r.options.readOnly!="nocursor"&&(r.state.focused||(Ri(r,"focus",r,s),r.state.focused=!0,Ie(r.display.wrapper,"CodeMirror-focused"),!r.curOp&&r.display.selForContextMenu!=r.doc.sel&&(r.display.input.reset(),w&&setTimeout(function(){return r.display.input.reset(!0)},20)),r.display.input.receivedFocus()),oa(r))}function Sa(r,s){r.state.delayingBlurEvent||(r.state.focused&&(Ri(r,"blur",r,s),r.state.focused=!1,Te(r.display.wrapper,"CodeMirror-focused")),clearInterval(r.display.blinker),setTimeout(function(){r.state.focused||(r.display.shift=!1)},150))}function ou(r){for(var s=r.display,p=s.lineDiv.offsetTop,d=Math.max(0,s.scroller.getBoundingClientRect().top),v=s.lineDiv.getBoundingClientRect().top,E=0,F=0;F<s.view.length;F++){var B=s.view[F],Z=r.options.lineWrapping,K=void 0,be=0;if(!B.hidden){if(v+=B.line.height,b&&x<8){var Ce=B.node.offsetTop+B.node.offsetHeight;K=Ce-p,p=Ce}else{var ze=B.node.getBoundingClientRect();K=ze.bottom-ze.top,!Z&&B.text.firstChild&&(be=B.text.firstChild.getBoundingClientRect().right-ze.left-1)}var Fe=B.line.height-K;if((Fe>.005||Fe<-.005)&&(v<d&&(E-=Fe),zn(B.line,K),$a(B.line),B.rest))for(var Ge=0;Ge<B.rest.length;Ge++)$a(B.rest[Ge]);if(be>r.display.sizerWidth){var rt=Math.ceil(be/bo(r.display));rt>r.display.maxLineLength&&(r.display.maxLineLength=rt,r.display.maxLine=B.line,r.display.maxLineChanged=!0)}}}Math.abs(E)>2&&(s.scroller.scrollTop+=E)}function $a(r){if(r.widgets)for(var s=0;s<r.widgets.length;++s){var p=r.widgets[s],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function aa(r,s,p){var d=p&&p.top!=null?Math.max(0,p.top):r.scroller.scrollTop;d=Math.floor(d-Cs(r));var v=p&&p.bottom!=null?p.bottom:d+r.wrapper.clientHeight,E=xe(s,d),F=xe(s,v);if(p&&p.ensure){var B=p.ensure.from.line,Z=p.ensure.to.line;B<E?(E=B,F=xe(s,no(Lt(s,B))+r.wrapper.clientHeight)):Math.min(Z,s.lastLine())>=F&&(E=xe(s,no(Lt(s,Z))-r.wrapper.clientHeight),F=Z)}return{from:E,to:Math.max(F,E+1)}}function Uu(r,s){if(!pi(r,"scrollCursorIntoView")){var p=r.display,d=p.sizer.getBoundingClientRect(),v=null,E=p.wrapper.ownerDocument;if(s.top+d.top<0?v=!0:s.bottom+d.top>(E.defaultView.innerHeight||E.documentElement.clientHeight)&&(v=!1),v!=null&&!O){var F=D("div","",null,`position: absolute;
                         top: `+(s.top-p.viewOffset-Cs(r.display))+`px;
                         height: `+(s.bottom-s.top+Er(r)+p.barHeight)+`px;
                         left: `+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");r.display.lineSpace.appendChild(F),F.scrollIntoView(v),r.display.lineSpace.removeChild(F)}}}function o(r,s,p,d){d==null&&(d=0);var v;!r.options.lineWrapping&&s==p&&(p=s.sticky=="before"?Ue(s.line,s.ch+1,"before"):s,s=s.ch?Ue(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var E=0;E<5;E++){var F=!1,B=Ye(r,s),Z=!p||p==s?B:Ye(r,p);v={left:Math.min(B.left,Z.left),top:Math.min(B.top,Z.top)-d,right:Math.max(B.left,Z.left),bottom:Math.max(B.bottom,Z.bottom)+d};var K=_(r,v),be=r.doc.scrollTop,Ce=r.doc.scrollLeft;if(K.scrollTop!=null&&(lt(r,K.scrollTop),Math.abs(r.doc.scrollTop-be)>1&&(F=!0)),K.scrollLeft!=null&&(It(r,K.scrollLeft),Math.abs(r.doc.scrollLeft-Ce)>1&&(F=!0)),!F)break}return v}function m(r,s){var p=_(r,s);p.scrollTop!=null&&lt(r,p.scrollTop),p.scrollLeft!=null&&It(r,p.scrollLeft)}function _(r,s){var p=r.display,d=ro(r.display);s.top<0&&(s.top=0);var v=r.curOp&&r.curOp.scrollTop!=null?r.curOp.scrollTop:p.scroller.scrollTop,E=ja(r),F={};s.bottom-s.top>E&&(s.bottom=s.top+E);var B=r.doc.height+Qo(p),Z=s.top<d,K=s.bottom>B-d;if(s.top<v)F.scrollTop=Z?0:s.top;else if(s.bottom>v+E){var be=Math.min(s.top,(K?B:s.bottom)-E);be!=v&&(F.scrollTop=be)}var Ce=r.options.fixedGutter?0:p.gutters.offsetWidth,ze=r.curOp&&r.curOp.scrollLeft!=null?r.curOp.scrollLeft:p.scroller.scrollLeft-Ce,Fe=Jo(r)-p.gutters.offsetWidth,Ge=s.right-s.left>Fe;return Ge&&(s.right=s.left+Fe),s.left<10?F.scrollLeft=0:s.left<ze?F.scrollLeft=Math.max(0,s.left+Ce-(Ge?0:10)):s.right>Fe+ze-3&&(F.scrollLeft=s.right+(Ge?0:10)-Fe),F}function M(r,s){s!=null&&(je(r),r.curOp.scrollTop=(r.curOp.scrollTop==null?r.doc.scrollTop:r.curOp.scrollTop)+s)}function U(r){je(r);var s=r.getCursor();r.curOp.scrollToPos={from:s,to:s,margin:r.options.cursorScrollMargin}}function oe(r,s,p){(s!=null||p!=null)&&je(r),s!=null&&(r.curOp.scrollLeft=s),p!=null&&(r.curOp.scrollTop=p)}function De(r,s){je(r),r.curOp.scrollToPos=s}function je(r){var s=r.curOp.scrollToPos;if(s){r.curOp.scrollToPos=null;var p=At(r,s.from),d=At(r,s.to);$e(r,p,d,s.margin)}}function $e(r,s,p,d){var v=_(r,{left:Math.min(s.left,p.left),top:Math.min(s.top,p.top)-d,right:Math.max(s.right,p.right),bottom:Math.max(s.bottom,p.bottom)+d});oe(r,v.scrollLeft,v.scrollTop)}function lt(r,s){Math.abs(r.doc.scrollTop-s)<2||(l||Ro(r,{top:s}),Ct(r,s,!0),l&&Ro(r),Yu(r,100))}function Ct(r,s,p){s=Math.max(0,Math.min(r.display.scroller.scrollHeight-r.display.scroller.clientHeight,s)),!(r.display.scroller.scrollTop==s&&!p)&&(r.doc.scrollTop=s,r.display.scrollbars.setScrollTop(s),r.display.scroller.scrollTop!=s&&(r.display.scroller.scrollTop=s))}function It(r,s,p,d){s=Math.max(0,Math.min(s,r.display.scroller.scrollWidth-r.display.scroller.clientWidth)),!((p?s==r.doc.scrollLeft:Math.abs(r.doc.scrollLeft-s)<2)&&!d)&&(r.doc.scrollLeft=s,Sf(r),r.display.scroller.scrollLeft!=s&&(r.display.scroller.scrollLeft=s),r.display.scrollbars.setScrollLeft(s))}function ai(r){var s=r.display,p=s.gutters.offsetWidth,d=Math.round(r.doc.height+Qo(r.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:r.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Er(r)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:p}}var Zi=function(r,s,p){this.cm=p;var d=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,r(d),r(v),Rt(d,"scroll",function(){d.clientHeight&&s(d.scrollTop,"vertical")}),Rt(v,"scroll",function(){v.clientWidth&&s(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Zi.prototype.update=function(r){var s=r.scrollWidth>r.clientWidth+1,p=r.scrollHeight>r.clientHeight+1,d=r.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=s?d+"px":"0";var v=r.viewHeight-(s?d:0);this.vert.firstChild.style.height=Math.max(0,r.scrollHeight-r.clientHeight+v)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=r.barLeft+"px";var E=r.viewWidth-r.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,r.scrollWidth-r.clientWidth+E)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&r.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:s?d:0}},Zi.prototype.setScrollLeft=function(r){this.horiz.scrollLeft!=r&&(this.horiz.scrollLeft=r),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Zi.prototype.setScrollTop=function(r){this.vert.scrollTop!=r&&(this.vert.scrollTop=r),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Zi.prototype.zeroWidthHack=function(){var r=I&&!j?"12px":"18px";this.horiz.style.height=this.vert.style.width=r,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ze,this.disableVert=new Ze},Zi.prototype.enableZeroWidthBar=function(r,s,p){r.style.visibility="";function d(){var v=r.getBoundingClientRect(),E=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);E!=r?r.style.visibility="hidden":s.set(1e3,d)}s.set(1e3,d)},Zi.prototype.clear=function(){var r=this.horiz.parentNode;r.removeChild(this.horiz),r.removeChild(this.vert)};var Xi=function(){};Xi.prototype.update=function(){return{bottom:0,right:0}},Xi.prototype.setScrollLeft=function(){},Xi.prototype.setScrollTop=function(){},Xi.prototype.clear=function(){};function pn(r,s){s||(s=ai(r));var p=r.display.barWidth,d=r.display.barHeight;Bn(r,s);for(var v=0;v<4&&p!=r.display.barWidth||d!=r.display.barHeight;v++)p!=r.display.barWidth&&r.options.lineWrapping&&ou(r),Bn(r,ai(r)),p=r.display.barWidth,d=r.display.barHeight}function Bn(r,s){var p=r.display,d=p.scrollbars.update(s);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&r.options.coverGutterNextToScrollbar&&r.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=s.gutterWidth+"px"):p.gutterFiller.style.display=""}var Xr={native:Zi,null:Xi};function Al(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&Te(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new Xr[r.options.scrollbarStyle](function(s){r.display.wrapper.insertBefore(s,r.display.scrollbarFiller),Rt(s,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,p){p=="horizontal"?It(r,s):lt(r,s)},r),r.display.scrollbars.addClass&&Ie(r.display.wrapper,r.display.scrollbars.addClass)}var gc=0;function Ta(r){r.curOp={cm:r,viewChanged:!1,startHeight:r.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++gc,markArrays:null},wl(r.curOp)}function sa(r){var s=r.curOp;s&&ws(s,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;vc(p)})}function vc(r){for(var s=r.ops,p=0;p<s.length;p++)As(s[p]);for(var d=0;d<s.length;d++)nn(s[d]);for(var v=0;v<s.length;v++)Ds(s[v]);for(var E=0;E<s.length;E++)fe(s[E]);for(var F=0;F<s.length;F++)Ga(s[F])}function As(r){var s=r.cm,p=s.display;ld(s),r.updateMaxLine&&$s(s),r.mustUpdate=r.viewChanged||r.forceUpdate||r.scrollTop!=null||r.scrollToPos&&(r.scrollToPos.from.line<p.viewFrom||r.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&s.options.lineWrapping,r.update=r.mustUpdate&&new ua(s,r.mustUpdate&&{top:r.scrollTop,ensure:r.scrollToPos},r.forceUpdate)}function nn(r){r.updatedDisplay=r.mustUpdate&&bc(r.cm,r.update)}function Ds(r){var s=r.cm,p=s.display;r.updatedDisplay&&ou(s),r.barMeasure=ai(s),p.maxLineChanged&&!s.options.lineWrapping&&(r.adjustWidthTo=Js(s,p.maxLine,p.maxLine.text.length).left+3,s.display.sizerWidth=r.adjustWidthTo,r.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+r.adjustWidthTo+Er(s)+s.display.barWidth),r.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+r.adjustWidthTo-Jo(s))),(r.updatedDisplay||r.selectionChanged)&&(r.preparedSelection=p.input.prepareSelection())}function fe(r){var s=r.cm;r.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=r.adjustWidthTo+"px",r.maxScrollLeft<s.doc.scrollLeft&&It(s,Math.min(s.display.scroller.scrollLeft,r.maxScrollLeft),!0),s.display.maxLineChanged=!1);var p=r.focus&&r.focus==et(Le(s));r.preparedSelection&&s.display.input.showSelection(r.preparedSelection,p),(r.updatedDisplay||r.startHeight!=s.doc.height)&&pn(s,r.barMeasure),r.updatedDisplay&&_c(s,r.barMeasure),r.selectionChanged&&oa(s),s.state.focused&&r.updateInput&&s.display.input.reset(r.typing),p&&Fo(r.cm)}function Ga(r){var s=r.cm,p=s.display,d=s.doc;if(r.updatedDisplay&&Ef(s,r.update),p.wheelStartX!=null&&(r.scrollTop!=null||r.scrollLeft!=null||r.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),r.scrollTop!=null&&Ct(s,r.scrollTop,r.forceScroll),r.scrollLeft!=null&&It(s,r.scrollLeft,!0,!0),r.scrollToPos){var v=o(s,jt(d,r.scrollToPos.from),jt(d,r.scrollToPos.to),r.scrollToPos.margin);Uu(s,v)}var E=r.maybeHiddenMarkers,F=r.maybeUnhiddenMarkers;if(E)for(var B=0;B<E.length;++B)E[B].lines.length||Ri(E[B],"hide");if(F)for(var Z=0;Z<F.length;++Z)F[Z].lines.length&&Ri(F[Z],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=s.display.scroller.scrollTop),r.changeObjs&&Ri(s,"changes",s,r.changeObjs),r.update&&r.update.finish()}function Vn(r,s){if(r.curOp)return s();Ta(r);try{return s()}finally{sa(r)}}function Di(r,s){return function(){if(r.curOp)return s.apply(r,arguments);Ta(r);try{return s.apply(r,arguments)}finally{sa(r)}}}function Gt(r){return function(){if(this.curOp)return r.apply(this,arguments);Ta(this);try{return r.apply(this,arguments)}finally{sa(this)}}}function Dn(r){return function(){var s=this.cm;if(!s||s.curOp)return r.apply(this,arguments);Ta(s);try{return r.apply(this,arguments)}finally{sa(s)}}}function Yu(r,s){r.doc.highlightFrontier<r.display.viewTo&&r.state.highlight.set(s,we(ud,r))}function ud(r){var s=r.doc;if(!(s.highlightFrontier>=r.display.viewTo)){var p=+new Date+r.options.workTime,d=_e(r,s.highlightFrontier),v=[];s.iter(d.line,Math.min(s.first+s.size,r.display.viewTo+500),function(E){if(d.line>=r.display.viewFrom){var F=E.styles,B=E.text.length>r.options.maxHighlightLength?bn(s.mode,d.state):null,Z=re(r,E,d,!0);B&&(d.state=B),E.styles=Z.styles;var K=E.styleClasses,be=Z.classes;be?E.styleClasses=be:K&&(E.styleClasses=null);for(var Ce=!F||F.length!=E.styles.length||K!=be&&(!K||!be||K.bgClass!=be.bgClass||K.textClass!=be.textClass),ze=0;!Ce&&ze<F.length;++ze)Ce=F[ze]!=E.styles[ze];Ce&&v.push(d.line),E.stateAfter=d.save(),d.nextLine()}else E.text.length<=r.options.maxHighlightLength&&Oe(r,E.text,d),E.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Yu(r,r.options.workDelay),!0}),s.highlightFrontier=d.line,s.modeFrontier=Math.max(s.modeFrontier,d.line),v.length&&Vn(r,function(){for(var E=0;E<v.length;E++)ur(r,v[E],"text")})}}var ua=function(r,s,p){var d=r.display;this.viewport=s,this.visible=aa(d,r.doc,s),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Jo(r),this.force=p,this.dims=Ya(r),this.events=[]};ua.prototype.signal=function(r,s){ui(r,s)&&this.events.push(arguments)},ua.prototype.finish=function(){for(var r=0;r<this.events.length;r++)Ri.apply(null,this.events[r])};function ld(r){var s=r.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Er(r)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Er(r)+"px",s.scrollbarsClipped=!0)}function cd(r){if(r.hasFocus())return null;var s=et(Le(r));if(!s||!Ee(r.display.lineDiv,s))return null;var p={activeElt:s};if(window.getSelection){var d=V(r).getSelection();d.anchorNode&&d.extend&&Ee(r.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function fd(r){if(!(!r||!r.activeElt||r.activeElt==et(Re(r.activeElt)))&&(r.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(r.activeElt.nodeName)&&r.anchorNode&&Ee(document.body,r.anchorNode)&&Ee(document.body,r.focusNode))){var s=r.activeElt.ownerDocument,p=s.defaultView.getSelection(),d=s.createRange();d.setEnd(r.anchorNode,r.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(r.focusNode,r.focusOffset)}}function bc(r,s){var p=r.display,d=r.doc;if(s.editorIsHidden)return Gr(r),!1;if(!s.force&&s.visible.from>=p.viewFrom&&s.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&qu(r)==0)return!1;Tf(r)&&(Gr(r),s.dims=Ya(r));var v=d.first+d.size,E=Math.max(s.visible.from-r.options.viewportMargin,d.first),F=Math.min(v,s.visible.to+r.options.viewportMargin);p.viewFrom<E&&E-p.viewFrom<20&&(E=Math.max(d.first,p.viewFrom)),p.viewTo>F&&p.viewTo-F<20&&(F=Math.min(v,p.viewTo)),Pi&&(E=ys(r.doc,E),F=Us(r.doc,F));var B=E!=p.viewFrom||F!=p.viewTo||p.lastWrapHeight!=s.wrapperHeight||p.lastWrapWidth!=s.wrapperWidth;na(r,E,F),p.viewOffset=no(Lt(r.doc,p.viewFrom)),r.display.mover.style.top=p.viewOffset+"px";var Z=qu(r);if(!B&&Z==0&&!s.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var K=cd(r);return Z>4&&(p.lineDiv.style.display="none"),hd(r,p.updateLineNumbers,s.dims),Z>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,fd(K),ve(p.cursorDiv),ve(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,B&&(p.lastWrapHeight=s.wrapperHeight,p.lastWrapWidth=s.wrapperWidth,Yu(r,400)),p.updateLineNumbers=null,!0}function Ef(r,s){for(var p=s.viewport,d=!0;;d=!1){if(!d||!r.options.lineWrapping||s.oldDisplayWidth==Jo(r)){if(p&&p.top!=null&&(p={top:Math.min(r.doc.height+Qo(r.display)-ja(r),p.top)}),s.visible=aa(r.display,r.doc,p),s.visible.from>=r.display.viewFrom&&s.visible.to<=r.display.viewTo)break}else d&&(s.visible=aa(r.display,r.doc,p));if(!bc(r,s))break;ou(r);var v=ai(r);ao(r),pn(r,v),_c(r,v),s.force=!1}s.signal(r,"update",r),(r.display.viewFrom!=r.display.reportedViewFrom||r.display.viewTo!=r.display.reportedViewTo)&&(s.signal(r,"viewportChange",r,r.display.viewFrom,r.display.viewTo),r.display.reportedViewFrom=r.display.viewFrom,r.display.reportedViewTo=r.display.viewTo)}function Ro(r,s){var p=new ua(r,s);if(bc(r,p)){ou(r),Ef(r,p);var d=ai(r);ao(r),pn(r,d),_c(r,d),p.finish()}}function hd(r,s,p){var d=r.display,v=r.options.lineNumbers,E=d.lineDiv,F=E.firstChild;function B(Ge){var rt=Ge.nextSibling;return w&&I&&r.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),rt}for(var Z=d.view,K=d.viewFrom,be=0;be<Z.length;be++){var Ce=Z[be];if(!Ce.hidden)if(!Ce.node||Ce.node.parentNode!=E){var ze=kl(r,Ce,K,p);E.insertBefore(ze,F)}else{for(;F!=Ce.node;)F=B(F);var Fe=v&&s!=null&&s<=K&&Ce.lineNumber;Ce.changes&&(Xe(Ce.changes,"gutter")>-1&&(Fe=!1),Cr(r,Ce,K,p)),Fe&&(ve(Ce.lineNumber),Ce.lineNumber.appendChild(document.createTextNode(nt(r.options,K)))),F=Ce.node.nextSibling}K+=Ce.size}for(;F;)F=B(F)}function yc(r){var s=r.gutters.offsetWidth;r.sizer.style.marginLeft=s+"px",en(r,"gutterChanged",r)}function _c(r,s){r.display.sizer.style.minHeight=s.docHeight+"px",r.display.heightForcer.style.top=s.docHeight+"px",r.display.gutters.style.height=s.docHeight+r.display.barHeight+Er(r)+"px"}function Sf(r){var s=r.display,p=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!r.options.fixedGutter))){for(var d=Ci(s)-s.scroller.scrollLeft+r.doc.scrollLeft,v=s.gutters.offsetWidth,E=d+"px",F=0;F<p.length;F++)if(!p[F].hidden){r.options.fixedGutter&&(p[F].gutter&&(p[F].gutter.style.left=E),p[F].gutterBackground&&(p[F].gutterBackground.style.left=E));var B=p[F].alignable;if(B)for(var Z=0;Z<B.length;Z++)B[Z].style.left=E}r.options.fixedGutter&&(s.gutters.style.left=d+v+"px")}}function Tf(r){if(!r.options.lineNumbers)return!1;var s=r.doc,p=nt(r.options,s.first+s.size-1),d=r.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(D("div",[D("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),E=v.firstChild.offsetWidth,F=v.offsetWidth-E;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(E,d.lineGutter.offsetWidth-F)+1,d.lineNumWidth=d.lineNumInnerWidth+F,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",yc(r.display),!0}return!1}function No(r,s){for(var p=[],d=!1,v=0;v<r.length;v++){var E=r[v],F=null;if(typeof E!="string"&&(F=E.style,E=E.className),E=="CodeMirror-linenumbers")if(s)d=!0;else continue;p.push({className:E,style:F})}return s&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Af(r){var s=r.gutters,p=r.gutterSpecs;ve(s),r.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],E=v.className,F=v.style,B=s.appendChild(D("div",null,"CodeMirror-gutter "+E));F&&(B.style.cssText=F),E=="CodeMirror-linenumbers"&&(r.lineGutter=B,B.style.width=(r.lineNumWidth||1)+"px")}s.style.display=p.length?"":"none",yc(r)}function $u(r){Af(r.display),_r(r),Sf(r)}function dd(r,s,p,d){var v=this;this.input=p,v.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=se("div",null,"CodeMirror-code"),v.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=D("div",null,"CodeMirror-cursors"),v.measure=D("div",null,"CodeMirror-measure"),v.lineMeasure=D("div",null,"CodeMirror-measure"),v.lineSpace=se("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var E=se("div",[v.lineSpace],"CodeMirror-lines");v.mover=D("div",[E],null,"position: relative"),v.sizer=D("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=D("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),v.gutters=D("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=D("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=D("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),A&&H>=105&&(v.wrapper.style.clipPath="inset(0px)"),v.wrapper.setAttribute("translate","no"),b&&x<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!w&&!(l&&W)&&(v.scroller.draggable=!0),r&&(r.appendChild?r.appendChild(v.wrapper):r(v.wrapper)),v.viewFrom=v.viewTo=s.first,v.reportedViewFrom=v.reportedViewTo=s.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=No(d.gutters,d.lineNumbers),Af(v),p.init(v)}var Dl=0,Aa=null;b?Aa=-.53:l?Aa=15:A?Aa=-.7:q&&(Aa=-1/3);function Za(r){var s=r.wheelDeltaX,p=r.wheelDeltaY;return s==null&&r.detail&&r.axis==r.HORIZONTAL_AXIS&&(s=r.detail),p==null&&r.detail&&r.axis==r.VERTICAL_AXIS?p=r.detail:p==null&&(p=r.wheelDelta),{x:s,y:p}}function pd(r){var s=Za(r);return s.x*=Aa,s.y*=Aa,s}function Df(r,s){A&&H==102&&(r.display.chromeScrollHack==null?r.display.sizer.style.pointerEvents="none":clearTimeout(r.display.chromeScrollHack),r.display.chromeScrollHack=setTimeout(function(){r.display.chromeScrollHack=null,r.display.sizer.style.pointerEvents=""},100));var p=Za(s),d=p.x,v=p.y,E=Aa;s.deltaMode===0&&(d=s.deltaX,v=s.deltaY,E=1);var F=r.display,B=F.scroller,Z=B.scrollWidth>B.clientWidth,K=B.scrollHeight>B.clientHeight;if(d&&Z||v&&K){if(v&&I&&w){e:for(var be=s.target,Ce=F.view;be!=B;be=be.parentNode)for(var ze=0;ze<Ce.length;ze++)if(Ce[ze].node==be){r.display.currentWheelTarget=be;break e}}if(d&&!l&&!N&&E!=null){v&&K&&lt(r,Math.max(0,B.scrollTop+v*E)),It(r,Math.max(0,B.scrollLeft+d*E)),(!v||v&&K)&&Bi(s),F.wheelStartX=null;return}if(v&&E!=null){var Fe=v*E,Ge=r.doc.scrollTop,rt=Ge+F.wrapper.clientHeight;Fe<0?Ge=Math.max(0,Ge+Fe-50):rt=Math.min(r.doc.height,rt+Fe+50),Ro(r,{top:Ge,bottom:rt})}Dl<20&&s.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=B.scrollLeft,F.wheelStartY=B.scrollTop,F.wheelDX=d,F.wheelDY=v,setTimeout(function(){if(F.wheelStartX!=null){var dt=B.scrollLeft-F.wheelStartX,bt=B.scrollTop-F.wheelStartY,_t=bt&&F.wheelDY&&bt/F.wheelDY||dt&&F.wheelDX&&dt/F.wheelDX;F.wheelStartX=F.wheelStartY=null,_t&&(Aa=(Aa*Dl+_t)/(Dl+1),++Dl)}},200)):(F.wheelDX+=d,F.wheelDY+=v))}}var mn=function(r,s){this.ranges=r,this.primIndex=s};mn.prototype.primary=function(){return this.ranges[this.primIndex]},mn.prototype.equals=function(r){if(r==this)return!0;if(r.primIndex!=this.primIndex||r.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var p=this.ranges[s],d=r.ranges[s];if(!ni(p.anchor,d.anchor)||!ni(p.head,d.head))return!1}return!0},mn.prototype.deepCopy=function(){for(var r=[],s=0;s<this.ranges.length;s++)r[s]=new zi(Yi(this.ranges[s].anchor),Yi(this.ranges[s].head));return new mn(r,this.primIndex)},mn.prototype.somethingSelected=function(){for(var r=0;r<this.ranges.length;r++)if(!this.ranges[r].empty())return!0;return!1},mn.prototype.contains=function(r,s){s||(s=r);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(pt(s,d.from())>=0&&pt(r,d.to())<=0)return p}return-1};var zi=function(r,s){this.anchor=r,this.head=s};zi.prototype.from=function(){return li(this.anchor,this.head)},zi.prototype.to=function(){return Nt(this.anchor,this.head)},zi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function zo(r,s,p){var d=r&&r.options.selectionsMayTouch,v=s[p];s.sort(function(ze,Fe){return pt(ze.from(),Fe.from())}),p=Xe(s,v);for(var E=1;E<s.length;E++){var F=s[E],B=s[E-1],Z=pt(B.to(),F.from());if(d&&!F.empty()?Z>0:Z>=0){var K=li(B.from(),F.from()),be=Nt(B.to(),F.to()),Ce=B.empty()?F.from()==F.head:B.from()==B.head;E<=p&&--p,s.splice(--E,2,new zi(Ce?be:K,Ce?K:be))}}return new mn(s,p)}function Xa(r,s){return new mn([new zi(r,s||r)],0)}function Va(r){return r.text?Ue(r.from.line+r.text.length-1,X(r.text).length+(r.text.length==1?r.from.ch:0)):r.to}function Lf(r,s){if(pt(r,s.from)<0)return r;if(pt(r,s.to)<=0)return Va(s);var p=r.line+s.text.length-(s.to.line-s.from.line)-1,d=r.ch;return r.line==s.to.line&&(d+=Va(s).ch-s.to.ch),Ue(p,d)}function Ll(r,s){for(var p=[],d=0;d<r.sel.ranges.length;d++){var v=r.sel.ranges[d];p.push(new zi(Lf(v.anchor,s),Lf(v.head,s)))}return zo(r.cm,p,r.sel.primIndex)}function wc(r,s,p){return r.line==s.line?Ue(p.line,r.ch-s.ch+p.ch):Ue(p.line+(r.line-s.line),r.ch)}function md(r,s,p){for(var d=[],v=Ue(r.first,0),E=v,F=0;F<s.length;F++){var B=s[F],Z=wc(B.from,v,E),K=wc(Va(B),v,E);if(v=B.to,E=K,p=="around"){var be=r.sel.ranges[F],Ce=pt(be.head,be.anchor)<0;d[F]=new zi(Ce?K:Z,Ce?Z:K)}else d[F]=new zi(Z,Z)}return new mn(d,r.sel.primIndex)}function xc(r){r.doc.mode=xr(r.options,r.doc.modeOption),Ls(r)}function Ls(r){r.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),r.doc.modeFrontier=r.doc.highlightFrontier=r.doc.first,Yu(r,100),r.state.modeGen++,r.curOp&&_r(r)}function au(r,s){return s.from.ch==0&&s.to.ch==0&&X(s.text)==""&&(!r.cm||r.cm.options.wholeLineUpdateBefore)}function su(r,s,p,d){function v(_t){return p?p[_t]:null}function E(_t,vt,Tt){yl(_t,vt,Tt,d),en(_t,"change",_t,s)}function F(_t,vt){for(var Tt=[],Bt=_t;Bt<vt;++Bt)Tt.push(new Ao(K[Bt],v(Bt),d));return Tt}var B=s.from,Z=s.to,K=s.text,be=Lt(r,B.line),Ce=Lt(r,Z.line),ze=X(K),Fe=v(K.length-1),Ge=Z.line-B.line;if(s.full)r.insert(0,F(0,K.length)),r.remove(K.length,r.size-K.length);else if(au(r,s)){var rt=F(0,K.length-1);E(Ce,Ce.text,Fe),Ge&&r.remove(B.line,Ge),rt.length&&r.insert(B.line,rt)}else if(be==Ce)if(K.length==1)E(be,be.text.slice(0,B.ch)+ze+be.text.slice(Z.ch),Fe);else{var dt=F(1,K.length-1);dt.push(new Ao(ze+be.text.slice(Z.ch),Fe,d)),E(be,be.text.slice(0,B.ch)+K[0],v(0)),r.insert(B.line+1,dt)}else if(K.length==1)E(be,be.text.slice(0,B.ch)+K[0]+Ce.text.slice(Z.ch),v(0)),r.remove(B.line+1,Ge);else{E(be,be.text.slice(0,B.ch)+K[0],v(0)),E(Ce,ze+Ce.text.slice(Z.ch),Fe);var bt=F(1,K.length-1);Ge>1&&r.remove(B.line+1,Ge-1),r.insert(B.line+1,bt)}en(r,"change",r,s)}function Ka(r,s,p){function d(v,E,F){if(v.linked)for(var B=0;B<v.linked.length;++B){var Z=v.linked[B];if(Z.doc!=E){var K=F&&Z.sharedHist;p&&!K||(s(Z.doc,K),d(Z.doc,v,K))}}}d(r,null,!0)}function kc(r,s){if(s.cm)throw new Error("This document is already in use.");r.doc=s,s.cm=r,Oo(r),xc(r),Mf(r),r.options.direction=s.direction,r.options.lineWrapping||$s(r),r.options.mode=s.modeOption,_r(r)}function Mf(r){(r.doc.direction=="rtl"?Ie:Te)(r.display.lineDiv,"CodeMirror-rtl")}function Da(r){Vn(r,function(){Mf(r),_r(r)})}function uu(r){this.done=[],this.undone=[],this.undoDepth=r?r.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=r?r.maxGeneration:1}function La(r,s){var p={from:Yi(s.from),to:Va(s),text:Xn(r,s.from,s.to)};return Ec(r,p,s.from.line,s.to.line+1),Ka(r,function(d){return Ec(d,p,s.from.line,s.to.line+1)},!0),p}function so(r){for(;r.length;){var s=X(r);if(s.ranges)r.pop();else break}}function gd(r,s){if(s)return so(r.done),X(r.done);if(r.done.length&&!X(r.done).ranges)return X(r.done);if(r.done.length>1&&!r.done[r.done.length-2].ranges)return r.done.pop(),X(r.done)}function Cc(r,s,p,d){var v=r.history;v.undone.length=0;var E=+new Date,F,B;if((v.lastOp==d||v.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&v.lastModTime>E-(r.cm?r.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(F=gd(v,v.lastOp==d)))B=X(F.changes),pt(s.from,s.to)==0&&pt(s.from,B.to)==0?B.to=Va(s):F.changes.push(La(r,s));else{var Z=X(v.done);for((!Z||!Z.ranges)&&Io(r.sel,v.done),F={changes:[La(r,s)],generation:v.generation},v.done.push(F);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=E,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=s.origin,B||Ri(r,"historyAdded")}function Pf(r,s,p,d){var v=s.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)}function Gu(r,s,p,d){var v=r.history,E=d&&d.origin;p==v.lastSelOp||E&&v.lastSelOrigin==E&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==E||Pf(r,E,X(v.done),s))?v.done[v.done.length-1]=s:Io(s,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=E,v.lastSelOp=p,d&&d.clearRedo!==!1&&so(v.undone)}function Io(r,s){var p=X(s);p&&p.ranges&&p.equals(r)||s.push(r)}function Ec(r,s,p,d){var v=s["spans_"+r.id],E=0;r.iter(Math.max(r.first,p),Math.min(r.first+r.size,d),function(F){F.markedSpans&&((v||(v=s["spans_"+r.id]={}))[E]=F.markedSpans),++E})}function vd(r){if(!r)return null;for(var s,p=0;p<r.length;++p)r[p].marker.explicitlyCleared?s||(s=r.slice(0,p)):s&&s.push(r[p]);return s?s.length?s:null:r}function Ml(r,s){var p=s["spans_"+r.id];if(!p)return null;for(var d=[],v=0;v<s.text.length;++v)d.push(vd(p[v]));return d}function Of(r,s){var p=Ml(r,s),d=An(r,s);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var E=p[v],F=d[v];if(E&&F)e:for(var B=0;B<F.length;++B){for(var Z=F[B],K=0;K<E.length;++K)if(E[K].marker==Z.marker)continue e;E.push(Z)}else F&&(p[v]=F)}return p}function Ms(r,s,p){for(var d=[],v=0;v<r.length;++v){var E=r[v];if(E.ranges){d.push(p?mn.prototype.deepCopy.call(E):E);continue}var F=E.changes,B=[];d.push({changes:B});for(var Z=0;Z<F.length;++Z){var K=F[Z],be=void 0;if(B.push({from:K.from,to:K.to,text:K.text}),s)for(var Ce in K)(be=Ce.match(/^spans_(\d+)$/))&&Xe(s,Number(be[1]))>-1&&(X(B)[Ce]=K[Ce],delete K[Ce])}}return d}function Kn(r,s,p,d){if(d){var v=r.anchor;if(p){var E=pt(s,v)<0;E!=pt(p,v)<0?(v=s,s=p):E!=pt(s,p)<0&&(s=p)}return new zi(v,s)}else return new zi(p||s,s)}function lu(r,s,p,d,v){v==null&&(v=r.cm&&(r.cm.display.shift||r.extend)),lr(r,new mn([Kn(r.sel.primary(),s,p,v)],0),d)}function Sc(r,s,p){for(var d=[],v=r.cm&&(r.cm.display.shift||r.extend),E=0;E<r.sel.ranges.length;E++)d[E]=Kn(r.sel.ranges[E],s[E],null,v);var F=zo(r.cm,d,r.sel.primIndex);lr(r,F,p)}function yo(r,s,p,d){var v=r.sel.ranges.slice(0);v[s]=p,lr(r,zo(r.cm,v,r.sel.primIndex),d)}function Pl(r,s,p,d){lr(r,Xa(s,p),d)}function Ol(r,s,p){var d={ranges:s.ranges,update:function(v){this.ranges=[];for(var E=0;E<v.length;E++)this.ranges[E]=new zi(jt(r,v[E].anchor),jt(r,v[E].head))},origin:p&&p.origin};return Ri(r,"beforeSelectionChange",r,d),r.cm&&Ri(r.cm,"beforeSelectionChange",r.cm,d),d.ranges!=s.ranges?zo(r.cm,d.ranges,d.ranges.length-1):s}function Qa(r,s,p){var d=r.history.done,v=X(d);v&&v.ranges?(d[d.length-1]=s,cr(r,s,p)):lr(r,s,p)}function lr(r,s,p){cr(r,s,p),Gu(r,r.sel,r.cm?r.cm.curOp.id:NaN,p)}function cr(r,s,p){(ui(r,"beforeSelectionChange")||r.cm&&ui(r.cm,"beforeSelectionChange"))&&(s=Ol(r,s,p));var d=p&&p.bias||(pt(s.primary().head,r.sel.primary().head)<0?-1:1);Fl(r,Rf(r,s,d,!0)),!(p&&p.scroll===!1)&&r.cm&&r.cm.getOption("readOnly")!="nocursor"&&U(r.cm)}function Fl(r,s){s.equals(r.sel)||(r.sel=s,r.cm&&(r.cm.curOp.updateInput=1,r.cm.curOp.selectionChanged=!0,wi(r.cm)),en(r,"cursorActivity",r))}function Ff(r){Fl(r,Rf(r,r.sel,null,!1))}function Rf(r,s,p,d){for(var v,E=0;E<s.ranges.length;E++){var F=s.ranges[E],B=s.ranges.length==r.sel.ranges.length&&r.sel.ranges[E],Z=fu(r,F.anchor,B&&B.anchor,p,d),K=F.head==F.anchor?Z:fu(r,F.head,B&&B.head,p,d);(v||Z!=F.anchor||K!=F.head)&&(v||(v=s.ranges.slice(0,E)),v[E]=new zi(Z,K))}return v?zo(r.cm,v,s.primIndex):s}function cu(r,s,p,d,v){var E=Lt(r,s.line);if(E.markedSpans)for(var F=0;F<E.markedSpans.length;++F){var B=E.markedSpans[F],Z=B.marker,K="selectLeft"in Z?!Z.selectLeft:Z.inclusiveLeft,be="selectRight"in Z?!Z.selectRight:Z.inclusiveRight;if((B.from==null||(K?B.from<=s.ch:B.from<s.ch))&&(B.to==null||(be?B.to>=s.ch:B.to>s.ch))){if(v&&(Ri(Z,"beforeCursorEnter"),Z.explicitlyCleared))if(E.markedSpans){--F;continue}else break;if(!Z.atomic)continue;if(p){var Ce=Z.find(d<0?1:-1),ze=void 0;if((d<0?be:K)&&(Ce=Nf(r,Ce,-d,Ce&&Ce.line==s.line?E:null)),Ce&&Ce.line==s.line&&(ze=pt(Ce,p))&&(d<0?ze<0:ze>0))return cu(r,Ce,s,d,v)}var Fe=Z.find(d<0?-1:1);return(d<0?K:be)&&(Fe=Nf(r,Fe,d,Fe.line==s.line?E:null)),Fe?cu(r,Fe,s,d,v):null}}return s}function fu(r,s,p,d,v){var E=d||1,F=cu(r,s,p,E,v)||!v&&cu(r,s,p,E,!0)||cu(r,s,p,-E,v)||!v&&cu(r,s,p,-E,!0);return F||(r.cantEdit=!0,Ue(r.first,0))}function Nf(r,s,p,d){return p<0&&s.ch==0?s.line>r.first?jt(r,Ue(s.line-1)):null:p>0&&s.ch==(d||Lt(r,s.line)).text.length?s.line<r.first+r.size-1?Ue(s.line+1,0):null:new Ue(s.line,s.ch+p)}function hu(r){r.setSelection(Ue(r.firstLine(),0),Ue(r.lastLine()),wt)}function Tc(r,s,p){var d={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,E,F,B){v&&(d.from=jt(r,v)),E&&(d.to=jt(r,E)),F&&(d.text=F),B!==void 0&&(d.origin=B)}),Ri(r,"beforeChange",r,d),r.cm&&Ri(r.cm,"beforeChange",r.cm,d),d.canceled?(r.cm&&(r.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function du(r,s,p){if(r.cm){if(!r.cm.curOp)return Di(r.cm,du)(r,s,p);if(r.cm.state.suppressEdits)return}if(!((ui(r,"beforeChange")||r.cm&&ui(r.cm,"beforeChange"))&&(s=Tc(r,s,!0),!s))){var d=Ei&&!p&&zr(r,s.from,s.to);if(d)for(var v=d.length-1;v>=0;--v)zf(r,{from:d[v].from,to:d[v].to,text:v?[""]:s.text,origin:s.origin});else zf(r,s)}}function zf(r,s){if(!(s.text.length==1&&s.text[0]==""&&pt(s.from,s.to)==0)){var p=Ll(r,s);Cc(r,s,p,r.cm?r.cm.curOp.id:NaN),Zu(r,s,p,An(r,s));var d=[];Ka(r,function(v,E){!E&&Xe(d,v.history)==-1&&(Wf(v.history,s),d.push(v.history)),Zu(v,s,null,An(v,s))})}}function Ja(r,s,p){var d=r.cm&&r.cm.state.suppressEdits;if(!(d&&!p)){for(var v=r.history,E,F=r.sel,B=s=="undo"?v.done:v.undone,Z=s=="undo"?v.undone:v.done,K=0;K<B.length&&(E=B[K],!(p?E.ranges&&!E.equals(r.sel):!E.ranges));K++);if(K!=B.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(E=B.pop(),E.ranges){if(Io(E,Z),p&&!E.equals(r.sel)){lr(r,E,{clearRedo:!1});return}F=E}else if(d){B.push(E);return}else break;var be=[];Io(F,Z),Z.push({changes:be,generation:v.generation}),v.generation=E.generation||++v.maxGeneration;for(var Ce=ui(r,"beforeChange")||r.cm&&ui(r.cm,"beforeChange"),ze=function(rt){var dt=E.changes[rt];if(dt.origin=s,Ce&&!Tc(r,dt,!1))return B.length=0,{};be.push(La(r,dt));var bt=rt?Ll(r,dt):X(B);Zu(r,dt,bt,Of(r,dt)),!rt&&r.cm&&r.cm.scrollIntoView({from:dt.from,to:Va(dt)});var _t=[];Ka(r,function(vt,Tt){!Tt&&Xe(_t,vt.history)==-1&&(Wf(vt.history,dt),_t.push(vt.history)),Zu(vt,dt,null,Of(vt,dt))})},Fe=E.changes.length-1;Fe>=0;--Fe){var Ge=ze(Fe);if(Ge)return Ge.v}}}}function If(r,s){if(s!=0&&(r.first+=s,r.sel=new mn(le(r.sel.ranges,function(v){return new zi(Ue(v.anchor.line+s,v.anchor.ch),Ue(v.head.line+s,v.head.ch))}),r.sel.primIndex),r.cm)){_r(r.cm,r.first,r.first-s,s);for(var p=r.cm.display,d=p.viewFrom;d<p.viewTo;d++)ur(r.cm,d,"gutter")}}function Zu(r,s,p,d){if(r.cm&&!r.cm.curOp)return Di(r.cm,Zu)(r,s,p,d);if(s.to.line<r.first){If(r,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>r.lastLine())){if(s.from.line<r.first){var v=s.text.length-1-(r.first-s.from.line);If(r,v),s={from:Ue(r.first,0),to:Ue(s.to.line+v,s.to.ch),text:[X(s.text)],origin:s.origin}}var E=r.lastLine();s.to.line>E&&(s={from:s.from,to:Ue(E,Lt(r,E).text.length),text:[s.text[0]],origin:s.origin}),s.removed=Xn(r,s.from,s.to),p||(p=Ll(r,s)),r.cm?Ac(r.cm,s,d):su(r,s,d),cr(r,p,wt),r.cantEdit&&fu(r,Ue(r.firstLine(),0))&&(r.cantEdit=!1)}}function Ac(r,s,p){var d=r.doc,v=r.display,E=s.from,F=s.to,B=!1,Z=E.line;r.options.lineWrapping||(Z=ee(Ni(Lt(d,E.line))),d.iter(Z,F.line+1,function(Fe){if(Fe==v.maxLine)return B=!0,!0})),d.sel.contains(s.from,s.to)>-1&&wi(r),su(d,s,p,Sl(r)),r.options.lineWrapping||(d.iter(Z,E.line+s.text.length,function(Fe){var Ge=_s(Fe);Ge>v.maxLineLength&&(v.maxLine=Fe,v.maxLineLength=Ge,v.maxLineChanged=!0,B=!1)}),B&&(r.curOp.updateMaxLine=!0)),ji(d,E.line),Yu(r,400);var K=s.text.length-(F.line-E.line)-1;s.full?_r(r):E.line==F.line&&s.text.length==1&&!au(r.doc,s)?ur(r,E.line,"text"):_r(r,E.line,F.line+1,K);var be=ui(r,"changes"),Ce=ui(r,"change");if(Ce||be){var ze={from:E,to:F,text:s.text,removed:s.removed,origin:s.origin};Ce&&en(r,"change",r,ze),be&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(ze)}r.display.selForContextMenu=null}function Ps(r,s,p,d,v){var E;d||(d=p),pt(d,p)<0&&(E=[d,p],p=E[0],d=E[1]),typeof s=="string"&&(s=r.splitLines(s)),du(r,{from:p,to:d,text:s,origin:v})}function Bf(r,s,p,d){p<r.line?r.line+=d:s<r.line&&(r.line=s,r.ch=0)}function Hf(r,s,p,d){for(var v=0;v<r.length;++v){var E=r[v],F=!0;if(E.ranges){E.copied||(E=r[v]=E.deepCopy(),E.copied=!0);for(var B=0;B<E.ranges.length;B++)Bf(E.ranges[B].anchor,s,p,d),Bf(E.ranges[B].head,s,p,d);continue}for(var Z=0;Z<E.changes.length;++Z){var K=E.changes[Z];if(p<K.from.line)K.from=Ue(K.from.line+d,K.from.ch),K.to=Ue(K.to.line+d,K.to.ch);else if(s<=K.to.line){F=!1;break}}F||(r.splice(0,v+1),v=0)}}function Wf(r,s){var p=s.from.line,d=s.to.line,v=s.text.length-(d-p)-1;Hf(r.done,p,d,v),Hf(r.undone,p,d,v)}function pu(r,s,p,d){var v=s,E=s;return typeof s=="number"?E=Lt(r,po(r,s)):v=ee(s),v==null?null:(d(E,v)&&r.cm&&ur(r.cm,v,p),E)}function Os(r){this.lines=r,this.parent=null;for(var s=0,p=0;p<r.length;++p)r[p].parent=this,s+=r[p].height;this.height=s}Os.prototype={chunkSize:function(){return this.lines.length},removeInner:function(r,s){for(var p=r,d=r+s;p<d;++p){var v=this.lines[p];this.height-=v.height,un(v),en(v,"delete")}this.lines.splice(r,s)},collapse:function(r){r.push.apply(r,this.lines)},insertInner:function(r,s,p){this.height+=p,this.lines=this.lines.slice(0,r).concat(s).concat(this.lines.slice(r));for(var d=0;d<s.length;++d)s[d].parent=this},iterN:function(r,s,p){for(var d=r+s;r<d;++r)if(p(this.lines[r]))return!0}};function Xu(r){this.children=r;for(var s=0,p=0,d=0;d<r.length;++d){var v=r[d];s+=v.chunkSize(),p+=v.height,v.parent=this}this.size=s,this.height=p,this.parent=null}Xu.prototype={chunkSize:function(){return this.size},removeInner:function(r,s){this.size-=s;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(r<v){var E=Math.min(s,v-r),F=d.height;if(d.removeInner(r,E),this.height-=F-d.height,v==E&&(this.children.splice(p--,1),d.parent=null),(s-=E)==0)break;r=0}else r-=v}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof Os))){var B=[];this.collapse(B),this.children=[new Os(B)],this.children[0].parent=this}},collapse:function(r){for(var s=0;s<this.children.length;++s)this.children[s].collapse(r)},insertInner:function(r,s,p){this.size+=s.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],E=v.chunkSize();if(r<=E){if(v.insertInner(r,s,p),v.lines&&v.lines.length>50){for(var F=v.lines.length%25+25,B=F;B<v.lines.length;){var Z=new Os(v.lines.slice(B,B+=25));v.height-=Z.height,this.children.splice(++d,0,Z),Z.parent=this}v.lines=v.lines.slice(0,F),this.maybeSpill()}break}r-=E}},maybeSpill:function(){if(!(this.children.length<=10)){var r=this;do{var s=r.children.splice(r.children.length-5,5),p=new Xu(s);if(r.parent){r.size-=p.size,r.height-=p.height;var v=Xe(r.parent.children,r);r.parent.children.splice(v+1,0,p)}else{var d=new Xu(r.children);d.parent=r,r.children=[d,p],r=d}p.parent=r.parent}while(r.children.length>10);r.parent.maybeSpill()}},iterN:function(r,s,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],E=v.chunkSize();if(r<E){var F=Math.min(s,E-r);if(v.iterN(r,F,p))return!0;if((s-=F)==0)break;r=0}else r-=E}}};var Fs=function(r,s,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=r,this.node=s};Fs.prototype.clear=function(){var r=this.doc.cm,s=this.line.widgets,p=this.line,d=ee(p);if(!(d==null||!s)){for(var v=0;v<s.length;++v)s[v]==this&&s.splice(v--,1);s.length||(p.widgets=null);var E=Mo(this);zn(p,Math.max(0,p.height-E)),r&&(Vn(r,function(){Dc(r,p,-E),ur(r,d,"widget")}),en(r,"lineWidgetCleared",r,this,d))}},Fs.prototype.changed=function(){var r=this,s=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=Mo(this)-s;v&&(hn(this.doc,d)||zn(d,d.height+v),p&&Vn(p,function(){p.curOp.forceUpdate=!0,Dc(p,d,v),en(p,"lineWidgetChanged",p,r,ee(d))}))},si(Fs);function Dc(r,s,p){no(s)<(r.curOp&&r.curOp.scrollTop||r.doc.scrollTop)&&M(r,p)}function jf(r,s,p,d){var v=new Fs(r,p,d),E=r.cm;return E&&v.noHScroll&&(E.display.alignWidgets=!0),pu(r,s,"widget",function(F){var B=F.widgets||(F.widgets=[]);if(v.insertAt==null?B.push(v):B.splice(Math.min(B.length,Math.max(0,v.insertAt)),0,v),v.line=F,E&&!hn(r,F)){var Z=no(F)<r.scrollTop;zn(F,F.height+Mo(v)),Z&&M(E,v.height),E.curOp.forceUpdate=!0}return!0}),E&&en(E,"lineWidgetAdded",E,v,typeof s=="number"?s:ee(s)),v}var Lc=0,Bo=function(r,s){this.lines=[],this.type=s,this.doc=r,this.id=++Lc};Bo.prototype.clear=function(){if(!this.explicitlyCleared){var r=this.doc.cm,s=r&&!r.curOp;if(s&&Ta(r),ui(this,"clear")){var p=this.find();p&&en(this,"clear",p.from,p.to)}for(var d=null,v=null,E=0;E<this.lines.length;++E){var F=this.lines[E],B=ri(F.markedSpans,this);r&&!this.collapsed?ur(r,ee(F),"text"):r&&(B.to!=null&&(v=ee(F)),B.from!=null&&(d=ee(F))),F.markedSpans=gt(F.markedSpans,B),B.from==null&&this.collapsed&&!hn(this.doc,F)&&r&&zn(F,ro(r.display))}if(r&&this.collapsed&&!r.options.lineWrapping)for(var Z=0;Z<this.lines.length;++Z){var K=Ni(this.lines[Z]),be=_s(K);be>r.display.maxLineLength&&(r.display.maxLine=K,r.display.maxLineLength=be,r.display.maxLineChanged=!0)}d!=null&&r&&this.collapsed&&_r(r,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,r&&Ff(r.doc)),r&&en(r,"markerCleared",r,this,d,v),s&&sa(r),this.parent&&this.parent.clear()}},Bo.prototype.find=function(r,s){r==null&&this.type=="bookmark"&&(r=1);for(var p,d,v=0;v<this.lines.length;++v){var E=this.lines[v],F=ri(E.markedSpans,this);if(F.from!=null&&(p=Ue(s?E:ee(E),F.from),r==-1))return p;if(F.to!=null&&(d=Ue(s?E:ee(E),F.to),r==1))return d}return p&&{from:p,to:d}},Bo.prototype.changed=function(){var r=this,s=this.find(-1,!0),p=this,d=this.doc.cm;!s||!d||Vn(d,function(){var v=s.line,E=ee(s.line),F=Ua(d,E);if(F&&(eu(F),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!hn(p.doc,v)&&p.height!=null){var B=p.height;p.height=null;var Z=Mo(p)-B;Z&&zn(v,v.height+Z)}en(d,"markerChanged",d,r)})},Bo.prototype.attachLine=function(r){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||Xe(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(r)},Bo.prototype.detachLine=function(r){if(this.lines.splice(Xe(this.lines,r),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},si(Bo);function mu(r,s,p,d,v){if(d&&d.shared)return qf(r,s,p,d,v);if(r.cm&&!r.cm.curOp)return Di(r.cm,mu)(r,s,p,d,v);var E=new Bo(r,v),F=pt(s,p);if(d&&Ae(d,E,!1),F>0||F==0&&E.clearWhenEmpty!==!1)return E;if(E.replacedWith&&(E.collapsed=!0,E.widgetNode=se("span",[E.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||E.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(E.widgetNode.insertLeft=!0)),E.collapsed){if(gi(r,s.line,s,p,E)||s.line!=p.line&&gi(r,p.line,s,p,E))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ft()}E.addToHistory&&Cc(r,{from:s,to:p,origin:"markText"},r.sel,NaN);var B=s.line,Z=r.cm,K;if(r.iter(B,p.line+1,function(Ce){Z&&E.collapsed&&!Z.options.lineWrapping&&Ni(Ce)==Z.display.maxLine&&(K=!0),E.collapsed&&B!=s.line&&zn(Ce,0),xi(Ce,new rn(E,B==s.line?s.ch:null,B==p.line?p.ch:null),r.cm&&r.cm.curOp),++B}),E.collapsed&&r.iter(s.line,p.line+1,function(Ce){hn(r,Ce)&&zn(Ce,0)}),E.clearOnEnter&&Rt(E,"beforeCursorEnter",function(){return E.clear()}),E.readOnly&&(fn(),(r.history.done.length||r.history.undone.length)&&r.clearHistory()),E.collapsed&&(E.id=++Lc,E.atomic=!0),Z){if(K&&(Z.curOp.updateMaxLine=!0),E.collapsed)_r(Z,s.line,p.line+1);else if(E.className||E.startStyle||E.endStyle||E.css||E.attributes||E.title)for(var be=s.line;be<=p.line;be++)ur(Z,be,"text");E.atomic&&Ff(Z.doc),en(Z,"markerAdded",Z,E)}return E}var gu=function(r,s){this.markers=r,this.primary=s;for(var p=0;p<r.length;++p)r[p].parent=this};gu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var r=0;r<this.markers.length;++r)this.markers[r].clear();en(this,"clear")}},gu.prototype.find=function(r,s){return this.primary.find(r,s)},si(gu);function qf(r,s,p,d,v){d=Ae(d),d.shared=!1;var E=[mu(r,s,p,d,v)],F=E[0],B=d.widgetNode;return Ka(r,function(Z){B&&(d.widgetNode=B.cloneNode(!0)),E.push(mu(Z,jt(Z,s),jt(Z,p),d,v));for(var K=0;K<Z.linked.length;++K)if(Z.linked[K].isParent)return;F=X(E)}),new gu(E,F)}function Uf(r){return r.findMarks(Ue(r.first,0),r.clipPos(Ue(r.lastLine())),function(s){return s.parent})}function Yf(r,s){for(var p=0;p<s.length;p++){var d=s[p],v=d.find(),E=r.clipPos(v.from),F=r.clipPos(v.to);if(pt(E,F)){var B=mu(r,E,F,d.primary,d.primary.type);d.markers.push(B),B.parent=d}}}function bd(r){for(var s=function(d){var v=r[d],E=[v.primary.doc];Ka(v.primary.doc,function(Z){return E.push(Z)});for(var F=0;F<v.markers.length;F++){var B=v.markers[F];Xe(E,B.doc)==-1&&(B.parent=null,v.markers.splice(F--,1))}},p=0;p<r.length;p++)s(p)}var Mc=0,Ar=function(r,s,p,d,v){if(!(this instanceof Ar))return new Ar(r,s,p,d,v);p==null&&(p=0),Xu.call(this,[new Os([new Ao("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var E=Ue(p,0);this.sel=Xa(E),this.history=new uu(null),this.id=++Mc,this.modeOption=s,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof r=="string"&&(r=this.splitLines(r)),su(this,{from:E,to:E,text:r}),lr(this,Xa(E),wt)};Ar.prototype=pe(Xu.prototype,{constructor:Ar,iter:function(r,s,p){p?this.iterN(r-this.first,s-r,p):this.iterN(this.first,this.first+this.size,r)},insert:function(r,s){for(var p=0,d=0;d<s.length;++d)p+=s[d].height;this.insertInner(r-this.first,s,p)},remove:function(r,s){this.removeInner(r-this.first,s)},getValue:function(r){var s=ar(this,this.first,this.first+this.size);return r===!1?s:s.join(r||this.lineSeparator())},setValue:Dn(function(r){var s=Ue(this.first,0),p=this.first+this.size-1;du(this,{from:s,to:Ue(p,Lt(this,p).text.length),text:this.splitLines(r),origin:"setValue",full:!0},!0),this.cm&&oe(this.cm,0,0),lr(this,Xa(s),wt)}),replaceRange:function(r,s,p,d){s=jt(this,s),p=p?jt(this,p):s,Ps(this,r,s,p,d)},getRange:function(r,s,p){var d=Xn(this,jt(this,r),jt(this,s));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(r){var s=this.getLineHandle(r);return s&&s.text},getLineHandle:function(r){if(We(this,r))return Lt(this,r)},getLineNumber:function(r){return ee(r)},getLineHandleVisualStart:function(r){return typeof r=="number"&&(r=Lt(this,r)),Ni(r)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(r){return jt(this,r)},getCursor:function(r){var s=this.sel.primary(),p;return r==null||r=="head"?p=s.head:r=="anchor"?p=s.anchor:r=="end"||r=="to"||r===!1?p=s.to():p=s.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dn(function(r,s,p){Pl(this,jt(this,typeof r=="number"?Ue(r,s||0):r),null,p)}),setSelection:Dn(function(r,s,p){Pl(this,jt(this,r),jt(this,s||r),p)}),extendSelection:Dn(function(r,s,p){lu(this,jt(this,r),s&&jt(this,s),p)}),extendSelections:Dn(function(r,s){Sc(this,y(this,r),s)}),extendSelectionsBy:Dn(function(r,s){var p=le(this.sel.ranges,r);Sc(this,y(this,p),s)}),setSelections:Dn(function(r,s,p){if(r.length){for(var d=[],v=0;v<r.length;v++)d[v]=new zi(jt(this,r[v].anchor),jt(this,r[v].head||r[v].anchor));s==null&&(s=Math.min(r.length-1,this.sel.primIndex)),lr(this,zo(this.cm,d,s),p)}}),addSelection:Dn(function(r,s,p){var d=this.sel.ranges.slice(0);d.push(new zi(jt(this,r),jt(this,s||r))),lr(this,zo(this.cm,d,d.length-1),p)}),getSelection:function(r){for(var s=this.sel.ranges,p,d=0;d<s.length;d++){var v=Xn(this,s[d].from(),s[d].to());p=p?p.concat(v):v}return r===!1?p:p.join(r||this.lineSeparator())},getSelections:function(r){for(var s=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=Xn(this,p[d].from(),p[d].to());r!==!1&&(v=v.join(r||this.lineSeparator())),s[d]=v}return s},replaceSelection:function(r,s,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=r;this.replaceSelections(d,s,p||"+input")},replaceSelections:Dn(function(r,s,p){for(var d=[],v=this.sel,E=0;E<v.ranges.length;E++){var F=v.ranges[E];d[E]={from:F.from(),to:F.to(),text:this.splitLines(r[E]),origin:p}}for(var B=s&&s!="end"&&md(this,d,s),Z=d.length-1;Z>=0;Z--)du(this,d[Z]);B?Qa(this,B):this.cm&&U(this.cm)}),undo:Dn(function(){Ja(this,"undo")}),redo:Dn(function(){Ja(this,"redo")}),undoSelection:Dn(function(){Ja(this,"undo",!0)}),redoSelection:Dn(function(){Ja(this,"redo",!0)}),setExtending:function(r){this.extend=r},getExtending:function(){return this.extend},historySize:function(){for(var r=this.history,s=0,p=0,d=0;d<r.done.length;d++)r.done[d].ranges||++s;for(var v=0;v<r.undone.length;v++)r.undone[v].ranges||++p;return{undo:s,redo:p}},clearHistory:function(){var r=this;this.history=new uu(this.history),Ka(this,function(s){return s.history=r.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(r){return r&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(r){return this.history.generation==(r||this.cleanGeneration)},getHistory:function(){return{done:Ms(this.history.done),undone:Ms(this.history.undone)}},setHistory:function(r){var s=this.history=new uu(this.history);s.done=Ms(r.done.slice(0),null,!0),s.undone=Ms(r.undone.slice(0),null,!0)},setGutterMarker:Dn(function(r,s,p){return pu(this,r,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[s]=p,!p&&mt(v)&&(d.gutterMarkers=null),!0})}),clearGutter:Dn(function(r){var s=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[r]&&pu(s,p,"gutter",function(){return p.gutterMarkers[r]=null,mt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(r){var s;if(typeof r=="number"){if(!We(this,r)||(s=r,r=Lt(this,r),!r))return null}else if(s=ee(r),s==null)return null;return{line:s,handle:r,text:r.text,gutterMarkers:r.gutterMarkers,textClass:r.textClass,bgClass:r.bgClass,wrapClass:r.wrapClass,widgets:r.widgets}},addLineClass:Dn(function(r,s,p){return pu(this,r,s=="gutter"?"gutter":"class",function(d){var v=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if(ce(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:Dn(function(r,s,p){return pu(this,r,s=="gutter"?"gutter":"class",function(d){var v=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",E=d[v];if(E)if(p==null)d[v]=null;else{var F=E.match(ce(p));if(!F)return!1;var B=F.index+F[0].length;d[v]=E.slice(0,F.index)+(!F.index||B==E.length?"":" ")+E.slice(B)||null}else return!1;return!0})}),addLineWidget:Dn(function(r,s,p){return jf(this,r,s,p)}),removeLineWidget:function(r){r.clear()},markText:function(r,s,p){return mu(this,jt(this,r),jt(this,s),p,p&&p.type||"range")},setBookmark:function(r,s){var p={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return r=jt(this,r),mu(this,r,r,p,"bookmark")},findMarksAt:function(r){r=jt(this,r);var s=[],p=Lt(this,r.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=r.ch)&&(v.to==null||v.to>=r.ch)&&s.push(v.marker.parent||v.marker)}return s},findMarks:function(r,s,p){r=jt(this,r),s=jt(this,s);var d=[],v=r.line;return this.iter(r.line,s.line+1,function(E){var F=E.markedSpans;if(F)for(var B=0;B<F.length;B++){var Z=F[B];!(Z.to!=null&&v==r.line&&r.ch>=Z.to||Z.from==null&&v!=r.line||Z.from!=null&&v==s.line&&Z.from>=s.ch)&&(!p||p(Z.marker))&&d.push(Z.marker.parent||Z.marker)}++v}),d},getAllMarks:function(){var r=[];return this.iter(function(s){var p=s.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&r.push(p[d].marker)}),r},posFromIndex:function(r){var s,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var E=v.text.length+d;if(E>r)return s=r,!0;r-=E,++p}),jt(this,Ue(p,s))},indexFromPos:function(r){r=jt(this,r);var s=r.ch;if(r.line<this.first||r.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,r.line,function(d){s+=d.text.length+p}),s},copy:function(r){var s=new Ar(ar(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,r&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(r){r||(r={});var s=this.first,p=this.first+this.size;r.from!=null&&r.from>s&&(s=r.from),r.to!=null&&r.to<p&&(p=r.to);var d=new Ar(ar(this,s,p),r.mode||this.modeOption,s,this.lineSep,this.direction);return r.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:r.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:r.sharedHist}],Yf(d,Uf(this)),d},unlinkDoc:function(r){if(r instanceof Oi&&(r=r.doc),this.linked)for(var s=0;s<this.linked.length;++s){var p=this.linked[s];if(p.doc==r){this.linked.splice(s,1),r.unlinkDoc(this),bd(Uf(this));break}}if(r.history==this.history){var d=[r.id];Ka(r,function(v){return d.push(v.id)},!0),r.history=new uu(null),r.history.done=Ms(this.history.done,d),r.history.undone=Ms(this.history.undone,d)}},iterLinkedDocs:function(r){Ka(this,r)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(r){return this.lineSep?r.split(this.lineSep):Gn(r)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Dn(function(r){r!="rtl"&&(r="ltr"),r!=this.direction&&(this.direction=r,this.iter(function(s){return s.order=null}),this.cm&&Da(this.cm))})}),Ar.prototype.eachLine=Ar.prototype.iter;var Rl=0;function yd(r){var s=this;if($f(s),!(pi(s,r)||In(s.display,r))){Bi(r),b&&(Rl=+new Date);var p=oo(s,r,!0),d=r.dataTransfer.files;if(!(!p||s.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,E=Array(v),F=0,B=function(){++F==v&&Di(s,function(){p=jt(s.doc,p);var Fe={from:p,to:p,text:s.doc.splitLines(E.filter(function(Ge){return Ge!=null}).join(s.doc.lineSeparator())),origin:"paste"};du(s.doc,Fe),Qa(s.doc,Xa(jt(s.doc,p),jt(s.doc,Va(Fe))))})()},Z=function(Fe,Ge){if(s.options.allowDropFileTypes&&Xe(s.options.allowDropFileTypes,Fe.type)==-1){B();return}var rt=new FileReader;rt.onerror=function(){return B()},rt.onload=function(){var dt=rt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(dt)){B();return}E[Ge]=dt,B()},rt.readAsText(Fe)},K=0;K<d.length;K++)Z(d[K],K);else{if(s.state.draggingText&&s.doc.sel.contains(p)>-1){s.state.draggingText(r),setTimeout(function(){return s.display.input.focus()},20);return}try{var be=r.dataTransfer.getData("Text");if(be){var Ce;if(s.state.draggingText&&!s.state.draggingText.copy&&(Ce=s.listSelections()),cr(s.doc,Xa(p,p)),Ce)for(var ze=0;ze<Ce.length;++ze)Ps(s.doc,"",Ce[ze].anchor,Ce[ze].head,"drag");s.replaceSelection(be,"around","paste"),s.display.input.focus()}}catch{}}}}function Pc(r,s){if(b&&(!r.state.draggingText||+new Date-Rl<100)){Rr(s);return}if(!(pi(r,s)||In(r.display,s))&&(s.dataTransfer.setData("Text",r.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!q)){var p=D("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",N&&(p.width=p.height=1,r.display.wrapper.appendChild(p),p._top=p.offsetTop),s.dataTransfer.setDragImage(p,0,0),N&&p.parentNode.removeChild(p)}}function bi(r,s){var p=oo(r,s);if(p){var d=document.createDocumentFragment();Ts(r,p,d),r.display.dragCursor||(r.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),ne(r.display.dragCursor,d)}}function $f(r){r.display.dragCursor&&(r.display.lineSpace.removeChild(r.display.dragCursor),r.display.dragCursor=null)}function Gf(r){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<s.length;d++){var v=s[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var E=0;E<p.length;E++)r(p[E])})}}var vu=!1;function Zf(){vu||(_d(),vu=!0)}function _d(){var r;Rt(window,"resize",function(){r==null&&(r=setTimeout(function(){r=null,Gf(wd)},100))}),Rt(window,"blur",function(){return Gf(Sa)})}function wd(r){var s=r.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,r.setSize()}for(var Qn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vu=0;Vu<10;Vu++)Qn[Vu+48]=Qn[Vu+96]=String(Vu);for(var Rs=65;Rs<=90;Rs++)Qn[Rs]=String.fromCharCode(Rs);for(var Ns=1;Ns<=12;Ns++)Qn[Ns+111]=Qn[Ns+63235]="F"+Ns;var la={};la.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},la.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},la.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},la.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},la.default=I?la.macDefault:la.pcDefault;function Xf(r){var s=r.split(/-(?!$)/);r=s[s.length-1];for(var p,d,v,E,F=0;F<s.length-1;F++){var B=s[F];if(/^(cmd|meta|m)$/i.test(B))E=!0;else if(/^a(lt)?$/i.test(B))p=!0;else if(/^(c|ctrl|control)$/i.test(B))d=!0;else if(/^s(hift)?$/i.test(B))v=!0;else throw new Error("Unrecognized modifier name: "+B)}return p&&(r="Alt-"+r),d&&(r="Ctrl-"+r),E&&(r="Cmd-"+r),v&&(r="Shift-"+r),r}function uo(r){var s={};for(var p in r)if(r.hasOwnProperty(p)){var d=r[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete r[p];continue}for(var v=le(p.split(" "),Xf),E=0;E<v.length;E++){var F=void 0,B=void 0;E==v.length-1?(B=v.join(" "),F=d):(B=v.slice(0,E+1).join(" "),F="...");var Z=s[B];if(!Z)s[B]=F;else if(Z!=F)throw new Error("Inconsistent bindings for "+B)}delete r[p]}for(var K in s)r[K]=s[K];return r}function lo(r,s,p,d){s=Qu(s);var v=s.call?s.call(r,d):s[r];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return lo(r,s.fallthrough,p,d);for(var E=0;E<s.fallthrough.length;E++){var F=lo(r,s.fallthrough[E],p,d);if(F)return F}}}function Nl(r){var s=typeof r=="string"?r:Qn[r.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function Oc(r,s,p){var d=r;return s.altKey&&d!="Alt"&&(r="Alt-"+r),(de?s.metaKey:s.ctrlKey)&&d!="Ctrl"&&(r="Ctrl-"+r),(de?s.ctrlKey:s.metaKey)&&d!="Mod"&&(r="Cmd-"+r),!p&&s.shiftKey&&d!="Shift"&&(r="Shift-"+r),r}function Ku(r,s){if(N&&r.keyCode==34&&r.char)return!1;var p=Qn[r.keyCode];return p==null||r.altGraphKey?!1:(r.keyCode==3&&r.code&&(p=r.code),Oc(p,r,s))}function Qu(r){return typeof r=="string"?la[r]:r}function es(r,s){for(var p=r.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var E=s(p[v]);d.length&&pt(E.from,X(d).to)<=0;){var F=d.pop();if(pt(F.from,E.from)<0){E.from=F.from;break}}d.push(E)}Vn(r,function(){for(var B=d.length-1;B>=0;B--)Ps(r.doc,"",d[B].from,d[B].to,"+delete");U(r)})}function zl(r,s,p){var d=Wt(r.text,s+p,p);return d<0||d>r.text.length?null:d}function Ju(r,s,p){var d=zl(r,s.ch,p);return d==null?null:new Ue(s.line,d,p<0?"after":"before")}function el(r,s,p,d,v){if(r){s.doc.direction=="rtl"&&(v=-v);var E=Yt(p,s.doc.direction);if(E){var F=v<0?X(E):E[0],B=v<0==(F.level==1),Z=B?"after":"before",K;if(F.level>0||s.doc.direction=="rtl"){var be=Wr(s,p);K=v<0?p.text.length-1:0;var Ce=dn(s,be,K).top;K=$t(function(ze){return dn(s,be,ze).top==Ce},v<0==(F.level==1)?F.from:F.to-1,K),Z=="before"&&(K=zl(p,K,1))}else K=v<0?F.to:F.from;return new Ue(d,K,Z)}}return new Ue(d,v<0?p.text.length:0,v<0?"before":"after")}function ts(r,s,p,d){var v=Yt(s,r.doc.direction);if(!v)return Ju(s,p,d);p.ch>=s.text.length?(p.ch=s.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var E=xt(v,p.ch,p.sticky),F=v[E];if(r.doc.direction=="ltr"&&F.level%2==0&&(d>0?F.to>p.ch:F.from<p.ch))return Ju(s,p,d);var B=function(bt,_t){return zl(s,bt instanceof Ue?bt.ch:bt,_t)},Z,K=function(bt){return r.options.lineWrapping?(Z=Z||Wr(r,s),qi(r,s,Z,bt)):{begin:0,end:s.text.length}},be=K(p.sticky=="before"?B(p,-1):p.ch);if(r.doc.direction=="rtl"||F.level==1){var Ce=F.level==1==d<0,ze=B(p,Ce?1:-1);if(ze!=null&&(Ce?ze<=F.to&&ze<=be.end:ze>=F.from&&ze>=be.begin)){var Fe=Ce?"before":"after";return new Ue(p.line,ze,Fe)}}var Ge=function(bt,_t,vt){for(var Tt=function($i,xn){return xn?new Ue(p.line,B($i,1),"before"):new Ue(p.line,$i,"after")};bt>=0&&bt<v.length;bt+=_t){var Bt=v[bt],zt=_t>0==(Bt.level!=1),ci=zt?vt.begin:B(vt.end,-1);if(Bt.from<=ci&&ci<Bt.to||(ci=zt?Bt.from:B(Bt.to,-1),vt.begin<=ci&&ci<vt.end))return Tt(ci,zt)}},rt=Ge(E+d,d,be);if(rt)return rt;var dt=d>0?be.end:B(be.begin,-1);return dt!=null&&!(d>0&&dt==s.text.length)&&(rt=Ge(d>0?0:v.length-1,d,K(dt)),rt)?rt:null}var tl={selectAll:hu,singleSelection:function(r){return r.setSelection(r.getCursor("anchor"),r.getCursor("head"),wt)},killLine:function(r){return es(r,function(s){if(s.empty()){var p=Lt(r.doc,s.head.line).text.length;return s.head.ch==p&&s.head.line<r.lastLine()?{from:s.head,to:Ue(s.head.line+1,0)}:{from:s.head,to:Ue(s.head.line,p)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(r){return es(r,function(s){return{from:Ue(s.from().line,0),to:jt(r.doc,Ue(s.to().line+1,0))}})},delLineLeft:function(r){return es(r,function(s){return{from:Ue(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(r){return es(r,function(s){var p=r.charCoords(s.head,"div").top+5,d=r.coordsChar({left:0,top:p},"div");return{from:d,to:s.from()}})},delWrappedLineRight:function(r){return es(r,function(s){var p=r.charCoords(s.head,"div").top+5,d=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:p},"div");return{from:s.from(),to:d}})},undo:function(r){return r.undo()},redo:function(r){return r.redo()},undoSelection:function(r){return r.undoSelection()},redoSelection:function(r){return r.redoSelection()},goDocStart:function(r){return r.extendSelection(Ue(r.firstLine(),0))},goDocEnd:function(r){return r.extendSelection(Ue(r.lastLine()))},goLineStart:function(r){return r.extendSelectionsBy(function(s){return Ma(r,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(r){return r.extendSelectionsBy(function(s){return Fc(r,s.head)},{origin:"+move",bias:1})},goLineEnd:function(r){return r.extendSelectionsBy(function(s){return Vf(r,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(s){var p=r.cursorCoords(s.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:p},"div")},yt)},goLineLeft:function(r){return r.extendSelectionsBy(function(s){var p=r.cursorCoords(s.head,"div").top+5;return r.coordsChar({left:0,top:p},"div")},yt)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(s){var p=r.cursorCoords(s.head,"div").top+5,d=r.coordsChar({left:0,top:p},"div");return d.ch<r.getLine(d.line).search(/\S/)?Fc(r,s.head):d},yt)},goLineUp:function(r){return r.moveV(-1,"line")},goLineDown:function(r){return r.moveV(1,"line")},goPageUp:function(r){return r.moveV(-1,"page")},goPageDown:function(r){return r.moveV(1,"page")},goCharLeft:function(r){return r.moveH(-1,"char")},goCharRight:function(r){return r.moveH(1,"char")},goColumnLeft:function(r){return r.moveH(-1,"column")},goColumnRight:function(r){return r.moveH(1,"column")},goWordLeft:function(r){return r.moveH(-1,"word")},goGroupRight:function(r){return r.moveH(1,"group")},goGroupLeft:function(r){return r.moveH(-1,"group")},goWordRight:function(r){return r.moveH(1,"word")},delCharBefore:function(r){return r.deleteH(-1,"codepoint")},delCharAfter:function(r){return r.deleteH(1,"char")},delWordBefore:function(r){return r.deleteH(-1,"word")},delWordAfter:function(r){return r.deleteH(1,"word")},delGroupBefore:function(r){return r.deleteH(-1,"group")},delGroupAfter:function(r){return r.deleteH(1,"group")},indentAuto:function(r){return r.indentSelection("smart")},indentMore:function(r){return r.indentSelection("add")},indentLess:function(r){return r.indentSelection("subtract")},insertTab:function(r){return r.replaceSelection("	")},insertSoftTab:function(r){for(var s=[],p=r.listSelections(),d=r.options.tabSize,v=0;v<p.length;v++){var E=p[v].from(),F=qe(r.getLine(E.line),E.ch,d);s.push(Kt(d-F%d))}r.replaceSelections(s)},defaultTab:function(r){r.somethingSelected()?r.indentSelection("add"):r.execCommand("insertTab")},transposeChars:function(r){return Vn(r,function(){for(var s=r.listSelections(),p=[],d=0;d<s.length;d++)if(s[d].empty()){var v=s[d].head,E=Lt(r.doc,v.line).text;if(E){if(v.ch==E.length&&(v=new Ue(v.line,v.ch-1)),v.ch>0)v=new Ue(v.line,v.ch+1),r.replaceRange(E.charAt(v.ch-1)+E.charAt(v.ch-2),Ue(v.line,v.ch-2),v,"+transpose");else if(v.line>r.doc.first){var F=Lt(r.doc,v.line-1).text;F&&(v=new Ue(v.line,1),r.replaceRange(E.charAt(0)+r.doc.lineSeparator()+F.charAt(F.length-1),Ue(v.line-1,F.length-1),v,"+transpose"))}}p.push(new zi(v,v))}r.setSelections(p)})},newlineAndIndent:function(r){return Vn(r,function(){for(var s=r.listSelections(),p=s.length-1;p>=0;p--)r.replaceRange(r.doc.lineSeparator(),s[p].anchor,s[p].head,"+input");s=r.listSelections();for(var d=0;d<s.length;d++)r.indentLine(s[d].from().line,null,!0);U(r)})},openLine:function(r){return r.replaceSelection(`
`,"start")},toggleOverwrite:function(r){return r.toggleOverwrite()}};function Ma(r,s){var p=Lt(r.doc,s),d=Ni(p);return d!=p&&(s=ee(d)),el(!0,r,d,s,1)}function Vf(r,s){var p=Lt(r.doc,s),d=br(p);return d!=p&&(s=ee(d)),el(!0,r,p,s,-1)}function Fc(r,s){var p=Ma(r,s.line),d=Lt(r.doc,p.line),v=Yt(d,r.doc.direction);if(!v||v[0].level==0){var E=Math.max(p.ch,d.text.search(/\S/)),F=s.line==p.line&&s.ch<=E&&s.ch;return Ue(p.line,F?0:E,p.sticky)}return p}function bu(r,s,p){if(typeof s=="string"&&(s=tl[s],!s))return!1;r.display.input.ensurePolled();var d=r.display.shift,v=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),p&&(r.display.shift=!1),v=s(r)!=Et}finally{r.display.shift=d,r.state.suppressEdits=!1}return v}function xd(r,s,p){for(var d=0;d<r.state.keyMaps.length;d++){var v=lo(s,r.state.keyMaps[d],p,r);if(v)return v}return r.options.extraKeys&&lo(s,r.options.extraKeys,p,r)||lo(s,r.options.keyMap,p,r)}var kd=new Ze;function il(r,s,p,d){var v=r.state.keySeq;if(v){if(Nl(s))return"handled";if(/\'$/.test(s)?r.state.keySeq=null:kd.set(50,function(){r.state.keySeq==v&&(r.state.keySeq=null,r.display.input.reset())}),Rc(r,v+" "+s,p,d))return!0}return Rc(r,s,p,d)}function Rc(r,s,p,d){var v=xd(r,s,d);return v=="multi"&&(r.state.keySeq=s),v=="handled"&&en(r,"keyHandled",r,s,p),(v=="handled"||v=="multi")&&(Bi(p),oa(r)),!!v}function Nc(r,s){var p=Ku(s,!0);return p?s.shiftKey&&!r.state.keySeq?il(r,"Shift-"+p,s,function(d){return bu(r,d,!0)})||il(r,p,s,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return bu(r,d)}):il(r,p,s,function(d){return bu(r,d)}):!1}function Cd(r,s,p){return il(r,"'"+p+"'",s,function(d){return bu(r,d,!0)})}var Il=null;function zc(r){var s=this;if(!(r.target&&r.target!=s.display.input.getField())&&(s.curOp.focus=et(Le(s)),!pi(s,r))){b&&x<11&&r.keyCode==27&&(r.returnValue=!1);var p=r.keyCode;s.display.shift=p==16||r.shiftKey;var d=Nc(s,r);N&&(Il=d?p:null,!d&&p==88&&!Ur&&(I?r.metaKey:r.ctrlKey)&&s.replaceSelection("",null,"cut")),l&&!I&&!d&&p==46&&r.shiftKey&&!r.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&Vr(s)}}function Vr(r){var s=r.display.lineDiv;Ie(s,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(Te(s,"CodeMirror-crosshair"),_i(document,"keyup",p),_i(document,"mouseover",p))}Rt(document,"keyup",p),Rt(document,"mouseover",p)}function Ho(r){r.keyCode==16&&(this.doc.sel.shift=!1),pi(this,r)}function Kf(r){var s=this;if(!(r.target&&r.target!=s.display.input.getField())&&!(In(s.display,r)||pi(s,r)||r.ctrlKey&&!r.altKey||I&&r.metaKey)){var p=r.keyCode,d=r.charCode;if(N&&p==Il){Il=null,Bi(r);return}if(!(N&&(!r.which||r.which<10)&&Nc(s,r))){var v=String.fromCharCode(d??p);v!="\b"&&(Cd(s,r,v)||s.display.input.onKeyPress(r))}}}var Ed=400,yu=function(r,s,p){this.time=r,this.pos=s,this.button=p};yu.prototype.compare=function(r,s,p){return this.time+Ed>r&&pt(s,this.pos)==0&&p==this.button};var ca,_u;function Qf(r,s){var p=+new Date;return _u&&_u.compare(p,r,s)?(ca=_u=null,"triple"):ca&&ca.compare(p,r,s)?(_u=new yu(p,r,s),ca=null,"double"):(ca=new yu(p,r,s),_u=null,"single")}function Jf(r){var s=this,p=s.display;if(!(pi(s,r)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=r.shiftKey,In(p,r)){w||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!xu(s,r)){var d=oo(s,r),v=Ki(r),E=d?Qf(d,v):"single";V(s).focus(),v==1&&s.state.selectingText&&s.state.selectingText(r),!(d&&eh(s,v,d,E,r))&&(v==1?d?nl(s,d,E,r):Wi(r)==p.scroller&&Bi(r):v==2?(d&&lu(s.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&(ge?s.display.input.onContextMenu(r):Ea(s)))}}}function eh(r,s,p,d,v){var E="Click";return d=="double"?E="Double"+E:d=="triple"&&(E="Triple"+E),E=(s==1?"Left":s==2?"Middle":"Right")+E,il(r,Oc(E,v),v,function(F){if(typeof F=="string"&&(F=tl[F]),!F)return!1;var B=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),B=F(r,p)!=Et}finally{r.state.suppressEdits=!1}return B})}function wu(r,s,p){var d=r.getOption("configureMouse"),v=d?d(r,s,p):{};if(v.unit==null){var E=G?p.shiftKey&&p.metaKey:p.altKey;v.unit=E?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(v.extend==null||r.doc.extend)&&(v.extend=r.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=I?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(I?p.altKey:p.ctrlKey)),v}function nl(r,s,p,d){b?setTimeout(we(Fo,r),0):r.curOp.focus=et(Le(r));var v=wu(r,p,d),E=r.doc.sel,F;r.options.dragDrop&&gr&&!r.isReadOnly()&&p=="single"&&(F=E.contains(s))>-1&&(pt((F=E.ranges[F]).from(),s)<0||s.xRel>0)&&(pt(F.to(),s)>0||s.xRel<0)?Sd(r,d,s,v):th(r,d,s,v)}function Sd(r,s,p,d){var v=r.display,E=!1,F=Di(r,function(K){w&&(v.scroller.draggable=!1),r.state.draggingText=!1,r.state.delayingBlurEvent&&(r.hasFocus()?r.state.delayingBlurEvent=!1:Ea(r)),_i(v.wrapper.ownerDocument,"mouseup",F),_i(v.wrapper.ownerDocument,"mousemove",B),_i(v.scroller,"dragstart",Z),_i(v.scroller,"drop",F),E||(Bi(K),d.addNew||lu(r.doc,p,null,null,d.extend),w&&!q||b&&x==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),B=function(K){E=E||Math.abs(s.clientX-K.clientX)+Math.abs(s.clientY-K.clientY)>=10},Z=function(){return E=!0};w&&(v.scroller.draggable=!0),r.state.draggingText=F,F.copy=!d.moveOnDrag,Rt(v.wrapper.ownerDocument,"mouseup",F),Rt(v.wrapper.ownerDocument,"mousemove",B),Rt(v.scroller,"dragstart",Z),Rt(v.scroller,"drop",F),r.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function Ic(r,s,p){if(p=="char")return new zi(s,s);if(p=="word")return r.findWordAt(s);if(p=="line")return new zi(Ue(s.line,0),jt(r.doc,Ue(s.line+1,0)));var d=p(r,s);return new zi(d.from,d.to)}function th(r,s,p,d){b&&Ea(r);var v=r.display,E=r.doc;Bi(s);var F,B,Z=E.sel,K=Z.ranges;if(d.addNew&&!d.extend?(B=E.sel.contains(p),B>-1?F=K[B]:F=new zi(p,p)):(F=E.sel.primary(),B=E.sel.primIndex),d.unit=="rectangle")d.addNew||(F=new zi(p,p)),p=oo(r,s,!0,!0),B=-1;else{var be=Ic(r,p,d.unit);d.extend?F=Kn(F,be.anchor,be.head,d.extend):F=be}d.addNew?B==-1?(B=K.length,lr(E,zo(r,K.concat([F]),B),{scroll:!1,origin:"*mouse"})):K.length>1&&K[B].empty()&&d.unit=="char"&&!d.extend?(lr(E,zo(r,K.slice(0,B).concat(K.slice(B+1)),0),{scroll:!1,origin:"*mouse"}),Z=E.sel):yo(E,B,F,St):(B=0,lr(E,new mn([F],0),St),Z=E.sel);var Ce=p;function ze(vt){if(pt(Ce,vt)!=0)if(Ce=vt,d.unit=="rectangle"){for(var Tt=[],Bt=r.options.tabSize,zt=qe(Lt(E,p.line).text,p.ch,Bt),ci=qe(Lt(E,vt.line).text,vt.ch,Bt),$i=Math.min(zt,ci),xn=Math.max(zt,ci),an=Math.min(p.line,vt.line),gn=Math.min(r.lastLine(),Math.max(p.line,vt.line));an<=gn;an++){var Ln=Lt(E,an).text,Mn=Mt(Ln,$i,Bt);$i==xn?Tt.push(new zi(Ue(an,Mn),Ue(an,Mn))):Ln.length>Mn&&Tt.push(new zi(Ue(an,Mn),Ue(an,Mt(Ln,xn,Bt))))}Tt.length||Tt.push(new zi(p,p)),lr(E,zo(r,Z.ranges.slice(0,B).concat(Tt),B),{origin:"*mouse",scroll:!1}),r.scrollIntoView(vt)}else{var Dr=F,fr=Ic(r,vt,d.unit),Hn=Dr.anchor,Pn;pt(fr.anchor,Hn)>0?(Pn=fr.head,Hn=li(Dr.from(),fr.anchor)):(Pn=fr.anchor,Hn=Nt(Dr.to(),fr.head));var vn=Z.ranges.slice(0);vn[B]=Bl(r,new zi(jt(E,Hn),Pn)),lr(E,zo(r,vn,B),St)}}var Fe=v.wrapper.getBoundingClientRect(),Ge=0;function rt(vt){var Tt=++Ge,Bt=oo(r,vt,!0,d.unit=="rectangle");if(Bt)if(pt(Bt,Ce)!=0){r.curOp.focus=et(Le(r)),ze(Bt);var zt=aa(v,E);(Bt.line>=zt.to||Bt.line<zt.from)&&setTimeout(Di(r,function(){Ge==Tt&&rt(vt)}),150)}else{var ci=vt.clientY<Fe.top?-20:vt.clientY>Fe.bottom?20:0;ci&&setTimeout(Di(r,function(){Ge==Tt&&(v.scroller.scrollTop+=ci,rt(vt))}),50)}}function dt(vt){r.state.selectingText=!1,Ge=1/0,vt&&(Bi(vt),v.input.focus()),_i(v.wrapper.ownerDocument,"mousemove",bt),_i(v.wrapper.ownerDocument,"mouseup",_t),E.history.lastSelOrigin=null}var bt=Di(r,function(vt){vt.buttons===0||!Ki(vt)?dt(vt):rt(vt)}),_t=Di(r,dt);r.state.selectingText=_t,Rt(v.wrapper.ownerDocument,"mousemove",bt),Rt(v.wrapper.ownerDocument,"mouseup",_t)}function Bl(r,s){var p=s.anchor,d=s.head,v=Lt(r.doc,p.line);if(pt(p,d)==0&&p.sticky==d.sticky)return s;var E=Yt(v);if(!E)return s;var F=xt(E,p.ch,p.sticky),B=E[F];if(B.from!=p.ch&&B.to!=p.ch)return s;var Z=F+(B.from==p.ch==(B.level!=1)?0:1);if(Z==0||Z==E.length)return s;var K;if(d.line!=p.line)K=(d.line-p.line)*(r.doc.direction=="ltr"?1:-1)>0;else{var be=xt(E,d.ch,d.sticky),Ce=be-F||(d.ch-p.ch)*(B.level==1?-1:1);be==Z-1||be==Z?K=Ce<0:K=Ce>0}var ze=E[Z+(K?-1:0)],Fe=K==(ze.level==1),Ge=Fe?ze.from:ze.to,rt=Fe?"after":"before";return p.ch==Ge&&p.sticky==rt?s:new zi(new Ue(p.line,Ge,rt),d)}function Bc(r,s,p,d){var v,E;if(s.touches)v=s.touches[0].clientX,E=s.touches[0].clientY;else try{v=s.clientX,E=s.clientY}catch{return!1}if(v>=Math.floor(r.display.gutters.getBoundingClientRect().right))return!1;d&&Bi(s);var F=r.display,B=F.lineDiv.getBoundingClientRect();if(E>B.bottom||!ui(r,p))return Hi(s);E-=B.top-F.viewOffset;for(var Z=0;Z<r.display.gutterSpecs.length;++Z){var K=F.gutters.childNodes[Z];if(K&&K.getBoundingClientRect().right>=v){var be=xe(r.doc,E),Ce=r.display.gutterSpecs[Z];return Ri(r,p,r,be,Ce.className,s),Hi(s)}}}function xu(r,s){return Bc(r,s,"gutterClick",!0)}function Hl(r,s){In(r.display,s)||Wl(r,s)||pi(r,s,"contextmenu")||ge||r.display.input.onContextMenu(s)}function Wl(r,s){return ui(r,"gutterContextMenu")?Bc(r,s,"gutterContextMenu",!1):!1}function ih(r){r.display.wrapper.className=r.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+r.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ea(r)}var zs={toString:function(){return"CodeMirror.Init"}},rl={},ol={};function Hc(r){var s=r.optionHandlers;function p(d,v,E,F){r.defaults[d]=v,E&&(s[d]=F?function(B,Z,K){K!=zs&&E(B,Z,K)}:E)}r.defineOption=p,r.Init=zs,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,xc(d)},!0),p("indentUnit",2,xc,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){Ls(d),ea(d),_r(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var E=[],F=d.doc.first;d.doc.iter(function(Z){for(var K=0;;){var be=Z.text.indexOf(v,K);if(be==-1)break;K=be+v.length,E.push(Ue(F,be))}F++});for(var B=E.length-1;B>=0;B--)Ps(d.doc,v,E[B],Ue(E[B].line,E[B].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,v,E){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),E!=zs&&d.refresh()}),p("specialCharPlaceholder",Lo,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!J),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){ih(d),$u(d)},!0),p("keyMap","default",function(d,v,E){var F=Qu(v),B=E!=zs&&Qu(E);B&&B.detach&&B.detach(d,F),F.attach&&F.attach(d,B||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,nh,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=No(v,d.options.lineNumbers),$u(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?Ci(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return pn(d)},!0),p("scrollbarStyle","native",function(d){Al(d),pn(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=No(d.options.gutters,v),$u(d)},!0),p("firstLineNumber",1,$u,!0),p("lineNumberFormatter",function(d){return d},$u,!0),p("showCursorWhenSelecting",!1,ao,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(Sa(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,Td),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,ao,!0),p("singleCursorHeightPerLine",!0,ao,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Ls,!0),p("addModeClass",!1,Ls,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,Ls,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function Td(r,s,p){var d=p&&p!=zs;if(!s!=!d){var v=r.display.dragFunctions,E=s?Rt:_i;E(r.display.scroller,"dragstart",v.start),E(r.display.scroller,"dragenter",v.enter),E(r.display.scroller,"dragover",v.over),E(r.display.scroller,"dragleave",v.leave),E(r.display.scroller,"drop",v.drop)}}function nh(r){r.options.lineWrapping?(Ie(r.display.wrapper,"CodeMirror-wrap"),r.display.sizer.style.minWidth="",r.display.sizerWidth=null):(Te(r.display.wrapper,"CodeMirror-wrap"),$s(r)),Oo(r),_r(r),ea(r),setTimeout(function(){return pn(r)},100)}function Oi(r,s){var p=this;if(!(this instanceof Oi))return new Oi(r,s);this.options=s=s?Ae(s):{},Ae(rl,s,!1);var d=s.value;typeof d=="string"?d=new Ar(d,s.mode,null,s.lineSeparator,s.direction):s.mode&&(d.modeOption=s.mode),this.doc=d;var v=new Oi.inputStyles[s.inputStyle](this),E=this.display=new dd(r,d,v,s);E.wrapper.CodeMirror=this,ih(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Al(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ze,keySeq:null,specialChars:null},s.autofocus&&!W&&E.input.focus(),b&&x<11&&setTimeout(function(){return p.display.input.reset(!0)},20),rh(this),Zf(),Ta(this),this.curOp.forceUpdate=!0,kc(this,d),s.autofocus&&!W||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&ru(p)},20):Sa(this);for(var F in ol)ol.hasOwnProperty(F)&&ol[F](this,s[F],zs);Tf(this),s.finishInit&&s.finishInit(this);for(var B=0;B<jl.length;++B)jl[B](this);sa(this),w&&s.lineWrapping&&getComputedStyle(E.lineDiv).textRendering=="optimizelegibility"&&(E.lineDiv.style.textRendering="auto")}Oi.defaults=rl,Oi.optionHandlers=ol;function rh(r){var s=r.display;Rt(s.scroller,"mousedown",Di(r,Jf)),b&&x<11?Rt(s.scroller,"dblclick",Di(r,function(Z){if(!pi(r,Z)){var K=oo(r,Z);if(!(!K||xu(r,Z)||In(r.display,Z))){Bi(Z);var be=r.findWordAt(K);lu(r.doc,be.anchor,be.head)}}})):Rt(s.scroller,"dblclick",function(Z){return pi(r,Z)||Bi(Z)}),Rt(s.scroller,"contextmenu",function(Z){return Hl(r,Z)}),Rt(s.input.getField(),"contextmenu",function(Z){s.scroller.contains(Z.target)||Hl(r,Z)});var p,d={end:0};function v(){s.activeTouch&&(p=setTimeout(function(){return s.activeTouch=null},1e3),d=s.activeTouch,d.end=+new Date)}function E(Z){if(Z.touches.length!=1)return!1;var K=Z.touches[0];return K.radiusX<=1&&K.radiusY<=1}function F(Z,K){if(K.left==null)return!0;var be=K.left-Z.left,Ce=K.top-Z.top;return be*be+Ce*Ce>20*20}Rt(s.scroller,"touchstart",function(Z){if(!pi(r,Z)&&!E(Z)&&!xu(r,Z)){s.input.ensurePolled(),clearTimeout(p);var K=+new Date;s.activeTouch={start:K,moved:!1,prev:K-d.end<=300?d:null},Z.touches.length==1&&(s.activeTouch.left=Z.touches[0].pageX,s.activeTouch.top=Z.touches[0].pageY)}}),Rt(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Rt(s.scroller,"touchend",function(Z){var K=s.activeTouch;if(K&&!In(s,Z)&&K.left!=null&&!K.moved&&new Date-K.start<300){var be=r.coordsChar(s.activeTouch,"page"),Ce;!K.prev||F(K,K.prev)?Ce=new zi(be,be):!K.prev.prev||F(K,K.prev.prev)?Ce=r.findWordAt(be):Ce=new zi(Ue(be.line,0),jt(r.doc,Ue(be.line+1,0))),r.setSelection(Ce.anchor,Ce.head),r.focus(),Bi(Z)}v()}),Rt(s.scroller,"touchcancel",v),Rt(s.scroller,"scroll",function(){s.scroller.clientHeight&&(lt(r,s.scroller.scrollTop),It(r,s.scroller.scrollLeft,!0),Ri(r,"scroll",r))}),Rt(s.scroller,"mousewheel",function(Z){return Df(r,Z)}),Rt(s.scroller,"DOMMouseScroll",function(Z){return Df(r,Z)}),Rt(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(Z){pi(r,Z)||Rr(Z)},over:function(Z){pi(r,Z)||(bi(r,Z),Rr(Z))},start:function(Z){return Pc(r,Z)},drop:Di(r,yd),leave:function(Z){pi(r,Z)||$f(r)}};var B=s.input.getField();Rt(B,"keyup",function(Z){return Ho.call(r,Z)}),Rt(B,"keydown",Di(r,zc)),Rt(B,"keypress",Di(r,Kf)),Rt(B,"focus",function(Z){return ru(r,Z)}),Rt(B,"blur",function(Z){return Sa(r,Z)})}var jl=[];Oi.defineInitHook=function(r){return jl.push(r)};function al(r,s,p,d){var v=r.doc,E;p==null&&(p="add"),p=="smart"&&(v.mode.indent?E=_e(r,s).state:p="prev");var F=r.options.tabSize,B=Lt(v,s),Z=qe(B.text,null,F);B.stateAfter&&(B.stateAfter=null);var K=B.text.match(/^\s*/)[0],be;if(!d&&!/\S/.test(B.text))be=0,p="not";else if(p=="smart"&&(be=v.mode.indent(E,B.text.slice(K.length),B.text),be==Et||be>150)){if(!d)return;p="prev"}p=="prev"?s>v.first?be=qe(Lt(v,s-1).text,null,F):be=0:p=="add"?be=Z+r.options.indentUnit:p=="subtract"?be=Z-r.options.indentUnit:typeof p=="number"&&(be=Z+p),be=Math.max(0,be);var Ce="",ze=0;if(r.options.indentWithTabs)for(var Fe=Math.floor(be/F);Fe;--Fe)ze+=F,Ce+="	";if(ze<be&&(Ce+=Kt(be-ze)),Ce!=K)return Ps(v,Ce,Ue(s,0),Ue(s,K.length),"+input"),B.stateAfter=null,!0;for(var Ge=0;Ge<v.sel.ranges.length;Ge++){var rt=v.sel.ranges[Ge];if(rt.head.line==s&&rt.head.ch<K.length){var dt=Ue(s,K.length);yo(v,Ge,new zi(dt,dt));break}}}var _o=null;function ql(r){_o=r}function Wc(r,s,p,d,v){var E=r.doc;r.display.shift=!1,d||(d=E.sel);var F=+new Date-200,B=v=="paste"||r.state.pasteIncoming>F,Z=Gn(s),K=null;if(B&&d.ranges.length>1)if(_o&&_o.text.join(`
`)==s){if(d.ranges.length%_o.text.length==0){K=[];for(var be=0;be<_o.text.length;be++)K.push(E.splitLines(_o.text[be]))}}else Z.length==d.ranges.length&&r.options.pasteLinesPerSelection&&(K=le(Z,function(bt){return[bt]}));for(var Ce=r.curOp.updateInput,ze=d.ranges.length-1;ze>=0;ze--){var Fe=d.ranges[ze],Ge=Fe.from(),rt=Fe.to();Fe.empty()&&(p&&p>0?Ge=Ue(Ge.line,Ge.ch-p):r.state.overwrite&&!B?rt=Ue(rt.line,Math.min(Lt(E,rt.line).text.length,rt.ch+X(Z).length)):B&&_o&&_o.lineWise&&_o.text.join(`
`)==Z.join(`
`)&&(Ge=rt=Ue(Ge.line,0)));var dt={from:Ge,to:rt,text:K?K[ze%K.length]:Z,origin:v||(B?"paste":r.state.cutIncoming>F?"cut":"+input")};du(r.doc,dt),en(r,"inputRead",r,dt)}s&&!B&&Ul(r,s),U(r),r.curOp.updateInput<2&&(r.curOp.updateInput=Ce),r.curOp.typing=!0,r.state.pasteIncoming=r.state.cutIncoming=-1}function fa(r,s){var p=r.clipboardData&&r.clipboardData.getData("Text");if(p)return r.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&s.hasFocus()&&Vn(s,function(){return Wc(s,p,0,null,"paste")}),!0}function Ul(r,s){if(!(!r.options.electricChars||!r.options.smartIndent))for(var p=r.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var E=r.getModeAt(v.head),F=!1;if(E.electricChars){for(var B=0;B<E.electricChars.length;B++)if(s.indexOf(E.electricChars.charAt(B))>-1){F=al(r,v.head.line,"smart");break}}else E.electricInput&&E.electricInput.test(Lt(r.doc,v.head.line).text.slice(0,v.head.ch))&&(F=al(r,v.head.line,"smart"));F&&en(r,"electricInput",r,v.head.line)}}}function Yl(r){for(var s=[],p=[],d=0;d<r.doc.sel.ranges.length;d++){var v=r.doc.sel.ranges[d].head.line,E={anchor:Ue(v,0),head:Ue(v+1,0)};p.push(E),s.push(r.getRange(E.anchor,E.head))}return{text:s,ranges:p}}function sl(r,s,p,d){r.setAttribute("autocorrect",p?"on":"off"),r.setAttribute("autocapitalize",d?"on":"off"),r.setAttribute("spellcheck",!!s)}function ul(){var r=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=D("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return w?r.style.width="1000px":r.setAttribute("wrap","off"),S&&(r.style.border="1px solid black"),s}function ku(r){var s=r.optionHandlers,p=r.helpers={};r.prototype={constructor:r,focus:function(){V(this).focus(),this.display.input.focus()},setOption:function(d,v){var E=this.options,F=E[d];E[d]==v&&d!="mode"||(E[d]=v,s.hasOwnProperty(d)&&Di(this,s[d])(this,v,F),Ri(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](Qu(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,E=0;E<v.length;++E)if(v[E]==d||v[E].name==d)return v.splice(E,1),!0},addOverlay:Gt(function(d,v){var E=d.token?d:r.getMode(this.options,d);if(E.startState)throw new Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:E,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(F){return F.priority}),this.state.modeGen++,_r(this)}),removeOverlay:Gt(function(d){for(var v=this.state.overlays,E=0;E<v.length;++E){var F=v[E].modeSpec;if(F==d||typeof d=="string"&&F.name==d){v.splice(E,1),this.state.modeGen++,_r(this);return}}}),indentLine:Gt(function(d,v,E){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),We(this.doc,d)&&al(this,d,v,E)}),indentSelection:Gt(function(d){for(var v=this.doc.sel.ranges,E=-1,F=0;F<v.length;F++){var B=v[F];if(B.empty())B.head.line>E&&(al(this,B.head.line,d,!0),E=B.head.line,F==this.doc.sel.primIndex&&U(this));else{var Z=B.from(),K=B.to(),be=Math.max(E,Z.line);E=Math.min(this.lastLine(),K.line-(K.ch?0:1))+1;for(var Ce=be;Ce<E;++Ce)al(this,Ce,d);var ze=this.doc.sel.ranges;Z.ch==0&&v.length==ze.length&&ze[F].from().ch>0&&yo(this.doc,F,new zi(Z,ze[F].to()),wt)}}}),getTokenAt:function(d,v){return Ke(this,d,v)},getLineTokens:function(d,v){return Ke(this,Ue(d),v,!0)},getTokenTypeAt:function(d){d=jt(this.doc,d);var v=ae(this,Lt(this.doc,d.line)),E=0,F=(v.length-1)/2,B=d.ch,Z;if(B==0)Z=v[2];else for(;;){var K=E+F>>1;if((K?v[K*2-1]:0)>=B)F=K;else if(v[K*2+1]<B)E=K+1;else{Z=v[K*2+2];break}}var be=Z?Z.indexOf("overlay "):-1;return be<0?Z:be==0?null:Z.slice(0,be-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?r.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var E=[];if(!p.hasOwnProperty(v))return E;var F=p[v],B=this.getModeAt(d);if(typeof B[v]=="string")F[B[v]]&&E.push(F[B[v]]);else if(B[v])for(var Z=0;Z<B[v].length;Z++){var K=F[B[v][Z]];K&&E.push(K)}else B.helperType&&F[B.helperType]?E.push(F[B.helperType]):F[B.name]&&E.push(F[B.name]);for(var be=0;be<F._global.length;be++){var Ce=F._global[be];Ce.pred(B,this)&&Xe(E,Ce.val)==-1&&E.push(Ce.val)}return E},getStateAfter:function(d,v){var E=this.doc;return d=po(E,d??E.first+E.size-1),_e(this,d+1,v).state},cursorCoords:function(d,v){var E,F=this.doc.sel.primary();return d==null?E=F.head:typeof d=="object"?E=jt(this.doc,d):E=d?F.from():F.to(),Ye(this,E,v||"page")},charCoords:function(d,v){return it(this,jt(this.doc,d),v||"page")},coordsChar:function(d,v){return d=Ne(this,d,v||"page"),Si(this,d.left,d.top)},lineAtHeight:function(d,v){return d=Ne(this,{top:d,left:0},v||"page").top,xe(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,E){var F=!1,B;if(typeof d=="number"){var Z=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>Z&&(d=Z,F=!0),B=Lt(this.doc,d)}else B=d;return $r(this,B,{top:0,left:0},v||"page",E||F).top+(F?this.doc.height-no(B):0)},defaultTextHeight:function(){return ro(this.display)},defaultCharWidth:function(){return bo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,E,F,B){var Z=this.display;d=Ye(this,jt(this.doc,d));var K=d.bottom,be=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),Z.sizer.appendChild(v),F=="over")K=d.top;else if(F=="above"||F=="near"){var Ce=Math.max(Z.wrapper.clientHeight,this.doc.height),ze=Math.max(Z.sizer.clientWidth,Z.lineSpace.clientWidth);(F=="above"||d.bottom+v.offsetHeight>Ce)&&d.top>v.offsetHeight?K=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=Ce&&(K=d.bottom),be+v.offsetWidth>ze&&(be=ze-v.offsetWidth)}v.style.top=K+"px",v.style.left=v.style.right="",B=="right"?(be=Z.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(B=="left"?be=0:B=="middle"&&(be=(Z.sizer.clientWidth-v.offsetWidth)/2),v.style.left=be+"px"),E&&m(this,{left:be,top:K,right:be+v.offsetWidth,bottom:K+v.offsetHeight})},triggerOnKeyDown:Gt(zc),triggerOnKeyPress:Gt(Kf),triggerOnKeyUp:Ho,triggerOnMouseDown:Gt(Jf),execCommand:function(d){if(tl.hasOwnProperty(d))return tl[d].call(null,this)},triggerElectric:Gt(function(d){Ul(this,d)}),findPosH:function(d,v,E,F){var B=1;v<0&&(B=-1,v=-v);for(var Z=jt(this.doc,d),K=0;K<v&&(Z=Xt(this.doc,Z,B,E,F),!Z.hitSide);++K);return Z},moveH:Gt(function(d,v){var E=this;this.extendSelectionsBy(function(F){return E.display.shift||E.doc.extend||F.empty()?Xt(E.doc,F.head,d,v,E.options.rtlMoveVisually):d<0?F.from():F.to()},yt)}),deleteH:Gt(function(d,v){var E=this.doc.sel,F=this.doc;E.somethingSelected()?F.replaceSelection("",null,"+delete"):es(this,function(B){var Z=Xt(F,B.head,d,v,!1);return d<0?{from:Z,to:B.head}:{from:B.head,to:Z}})}),findPosV:function(d,v,E,F){var B=1,Z=F;v<0&&(B=-1,v=-v);for(var K=jt(this.doc,d),be=0;be<v;++be){var Ce=Ye(this,K,"div");if(Z==null?Z=Ce.left:Ce.left=Z,K=ll(this,Ce,B,E),K.hitSide)break}return K},moveV:Gt(function(d,v){var E=this,F=this.doc,B=[],Z=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(be){if(Z)return d<0?be.from():be.to();var Ce=Ye(E,be.head,"div");be.goalColumn!=null&&(Ce.left=be.goalColumn),B.push(Ce.left);var ze=ll(E,Ce,d,v);return v=="page"&&be==F.sel.primary()&&M(E,it(E,ze,"div").top-Ce.top),ze},yt),B.length)for(var K=0;K<F.sel.ranges.length;K++)F.sel.ranges[K].goalColumn=B[K]}),findWordAt:function(d){var v=this.doc,E=Lt(v,d.line).text,F=d.ch,B=d.ch;if(E){var Z=this.getHelper(d,"wordChars");(d.sticky=="before"||B==E.length)&&F?--F:++B;for(var K=E.charAt(F),be=Qe(K,Z)?function(Ce){return Qe(Ce,Z)}:/\s/.test(K)?function(Ce){return/\s/.test(Ce)}:function(Ce){return!/\s/.test(Ce)&&!Qe(Ce)};F>0&&be(E.charAt(F-1));)--F;for(;B<E.length&&be(E.charAt(B));)++B}return new zi(Ue(d.line,F),Ue(d.line,B))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ie(this.display.cursorDiv,"CodeMirror-overwrite"):Te(this.display.cursorDiv,"CodeMirror-overwrite"),Ri(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==et(Le(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gt(function(d,v){oe(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Er(this)-this.display.barHeight,width:d.scrollWidth-Er(this)-this.display.barWidth,clientHeight:ja(this),clientWidth:Jo(this)}},scrollIntoView:Gt(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:Ue(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?De(this,d):$e(this,d.from,d.to,d.margin)}),setSize:Gt(function(d,v){var E=this,F=function(Z){return typeof Z=="number"||/^\d+$/.test(String(Z))?Z+"px":Z};d!=null&&(this.display.wrapper.style.width=F(d)),v!=null&&(this.display.wrapper.style.height=F(v)),this.options.lineWrapping&&tu(this);var B=this.display.viewFrom;this.doc.iter(B,this.display.viewTo,function(Z){if(Z.widgets){for(var K=0;K<Z.widgets.length;K++)if(Z.widgets[K].noHScroll){ur(E,B,"widget");break}}++B}),this.curOp.forceUpdate=!0,Ri(this,"refresh",this)}),operation:function(d){return Vn(this,d)},startOperation:function(){return Ta(this)},endOperation:function(){return sa(this)},refresh:Gt(function(){var d=this.display.cachedTextHeight;_r(this),this.curOp.forceUpdate=!0,ea(this),oe(this,this.doc.scrollLeft,this.doc.scrollTop),yc(this.display),(d==null||Math.abs(d-ro(this.display))>.5||this.options.lineWrapping)&&Oo(this),Ri(this,"refresh",this)}),swapDoc:Gt(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),kc(this,d),ea(this),this.display.input.reset(),oe(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,en(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},si(r),r.registerHelper=function(d,v,E){p.hasOwnProperty(d)||(p[d]=r[d]={_global:[]}),p[d][v]=E},r.registerGlobalHelper=function(d,v,E,F){r.registerHelper(d,v,F),p[d]._global.push({pred:E,val:F})}}function Xt(r,s,p,d,v){var E=s,F=p,B=Lt(r,s.line),Z=v&&r.direction=="rtl"?-p:p;function K(){var _t=s.line+Z;return _t<r.first||_t>=r.first+r.size?!1:(s=new Ue(_t,s.ch,s.sticky),B=Lt(r,_t))}function be(_t){var vt;if(d=="codepoint"){var Tt=B.text.charCodeAt(s.ch+(p>0?0:-1));if(isNaN(Tt))vt=null;else{var Bt=p>0?Tt>=55296&&Tt<56320:Tt>=56320&&Tt<57343;vt=new Ue(s.line,Math.max(0,Math.min(B.text.length,s.ch+p*(Bt?2:1))),-p)}}else v?vt=ts(r.cm,B,s,p):vt=Ju(B,s,p);if(vt==null)if(!_t&&K())s=el(v,r.cm,B,s.line,Z);else return!1;else s=vt;return!0}if(d=="char"||d=="codepoint")be();else if(d=="column")be(!0);else if(d=="word"||d=="group")for(var Ce=null,ze=d=="group",Fe=r.cm&&r.cm.getHelper(s,"wordChars"),Ge=!0;!(p<0&&!be(!Ge));Ge=!1){var rt=B.text.charAt(s.ch)||`
`,dt=Qe(rt,Fe)?"w":ze&&rt==`
`?"n":!ze||/\s/.test(rt)?null:"p";if(ze&&!Ge&&!dt&&(dt="s"),Ce&&Ce!=dt){p<0&&(p=1,be(),s.sticky="after");break}if(dt&&(Ce=dt),p>0&&!be(!Ge))break}var bt=fu(r,s,E,F,!0);return ni(E,bt)&&(bt.hitSide=!0),bt}function ll(r,s,p,d){var v=r.doc,E=s.left,F;if(d=="page"){var B=Math.min(r.display.wrapper.clientHeight,V(r).innerHeight||v(r).documentElement.clientHeight),Z=Math.max(B-.5*ro(r.display),3);F=(p>0?s.bottom:s.top)+p*Z}else d=="line"&&(F=p>0?s.bottom+3:s.top-3);for(var K;K=Si(r,E,F),!!K.outside;){if(p<0?F<=0:F>=v.height){K.hitSide=!0;break}F+=p*5}return K}var Ii=function(r){this.cm=r,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ze,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ii.prototype.init=function(r){var s=this,p=this,d=p.cm,v=p.div=r.lineDiv;v.contentEditable=!0,sl(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function E(B){for(var Z=B.target;Z;Z=Z.parentNode){if(Z==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Z.className))break}return!1}Rt(v,"paste",function(B){!E(B)||pi(d,B)||fa(B,d)||x<=11&&setTimeout(Di(d,function(){return s.updateFromDOM()}),20)}),Rt(v,"compositionstart",function(B){s.composing={data:B.data,done:!1}}),Rt(v,"compositionupdate",function(B){s.composing||(s.composing={data:B.data,done:!1})}),Rt(v,"compositionend",function(B){s.composing&&(B.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),Rt(v,"touchstart",function(){return p.forceCompositionEnd()}),Rt(v,"input",function(){s.composing||s.readFromDOMSoon()});function F(B){if(!(!E(B)||pi(d,B))){if(d.somethingSelected())ql({lineWise:!1,text:d.getSelections()}),B.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var Z=Yl(d);ql({lineWise:!0,text:Z.text}),B.type=="cut"&&d.operation(function(){d.setSelections(Z.ranges,0,wt),d.replaceSelection("",null,"cut")})}else return;if(B.clipboardData){B.clipboardData.clearData();var K=_o.text.join(`
`);if(B.clipboardData.setData("Text",K),B.clipboardData.getData("Text")==K){B.preventDefault();return}}var be=ul(),Ce=be.firstChild;sl(Ce),d.display.lineSpace.insertBefore(be,d.display.lineSpace.firstChild),Ce.value=_o.text.join(`
`);var ze=et(Re(v));ie(Ce),setTimeout(function(){d.display.lineSpace.removeChild(be),ze.focus(),ze==v&&p.showPrimarySelection()},50)}}Rt(v,"copy",F),Rt(v,"cut",F)},Ii.prototype.screenReaderLabelChanged=function(r){r?this.div.setAttribute("aria-label",r):this.div.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var r=Ca(this.cm,!1);return r.focus=et(Re(this.div))==this.div,r},Ii.prototype.showSelection=function(r,s){!r||!this.cm.display.view.length||((r.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(r))},Ii.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ii.prototype.showPrimarySelection=function(){var r=this.getSelection(),s=this.cm,p=s.doc.sel.primary(),d=p.from(),v=p.to();if(s.display.viewTo==s.display.viewFrom||d.line>=s.display.viewTo||v.line<s.display.viewFrom){r.removeAllRanges();return}var E=Jn(s,r.anchorNode,r.anchorOffset),F=Jn(s,r.focusNode,r.focusOffset);if(!(E&&!E.bad&&F&&!F.bad&&pt(li(E,F),d)==0&&pt(Nt(E,F),v)==0)){var B=s.display.view,Z=d.line>=s.display.viewFrom&&is(s,d)||{node:B[0].measure.map[2],offset:0},K=v.line<s.display.viewTo&&is(s,v);if(!K){var be=B[B.length-1].measure,Ce=be.maps?be.maps[be.maps.length-1]:be.map;K={node:Ce[Ce.length-1],offset:Ce[Ce.length-2]-Ce[Ce.length-3]}}if(!Z||!K){r.removeAllRanges();return}var ze=r.rangeCount&&r.getRangeAt(0),Fe;try{Fe=ye(Z.node,Z.offset,K.offset,K.node)}catch{}Fe&&(!l&&s.state.focused?(r.collapse(Z.node,Z.offset),Fe.collapsed||(r.removeAllRanges(),r.addRange(Fe))):(r.removeAllRanges(),r.addRange(Fe)),ze&&r.anchorNode==null?r.addRange(ze):l&&this.startGracePeriod()),this.rememberSelection()}},Ii.prototype.startGracePeriod=function(){var r=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){r.gracePeriod=!1,r.selectionChanged()&&r.cm.operation(function(){return r.cm.curOp.selectionChanged=!0})},20)},Ii.prototype.showMultipleSelections=function(r){ne(this.cm.display.cursorDiv,r.cursors),ne(this.cm.display.selectionDiv,r.selection)},Ii.prototype.rememberSelection=function(){var r=this.getSelection();this.lastAnchorNode=r.anchorNode,this.lastAnchorOffset=r.anchorOffset,this.lastFocusNode=r.focusNode,this.lastFocusOffset=r.focusOffset},Ii.prototype.selectionInEditor=function(){var r=this.getSelection();if(!r.rangeCount)return!1;var s=r.getRangeAt(0).commonAncestorContainer;return Ee(this.div,s)},Ii.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||et(Re(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ii.prototype.blur=function(){this.div.blur()},Ii.prototype.getField=function(){return this.div},Ii.prototype.supportsTouch=function(){return!0},Ii.prototype.receivedFocus=function(){var r=this,s=this;this.selectionInEditor()?setTimeout(function(){return r.pollSelection()},20):Vn(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function p(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Ii.prototype.selectionChanged=function(){var r=this.getSelection();return r.anchorNode!=this.lastAnchorNode||r.anchorOffset!=this.lastAnchorOffset||r.focusNode!=this.lastFocusNode||r.focusOffset!=this.lastFocusOffset},Ii.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var r=this.getSelection(),s=this.cm;if(P&&A&&this.cm.display.gutterSpecs.length&&Ad(r.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=Jn(s,r.anchorNode,r.anchorOffset),d=Jn(s,r.focusNode,r.focusOffset);p&&d&&Vn(s,function(){lr(s.doc,Xa(p,d),wt),(p.bad||d.bad)&&(s.curOp.selectionChanged=!0)})}}},Ii.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var r=this.cm,s=r.display,p=r.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>r.firstLine()&&(d=Ue(d.line-1,Lt(r.doc,d.line-1).length)),v.ch==Lt(r.doc,v.line).text.length&&v.line<r.lastLine()&&(v=Ue(v.line+1,0)),d.line<s.viewFrom||v.line>s.viewTo-1)return!1;var E,F,B;d.line==s.viewFrom||(E=ia(r,d.line))==0?(F=ee(s.view[0].line),B=s.view[0].node):(F=ee(s.view[E].line),B=s.view[E-1].node.nextSibling);var Z=ia(r,v.line),K,be;if(Z==s.view.length-1?(K=s.viewTo-1,be=s.lineDiv.lastChild):(K=ee(s.view[Z+1].line)-1,be=s.view[Z+1].node.previousSibling),!B)return!1;for(var Ce=r.doc.splitLines(oh(r,B,be,F,K)),ze=Xn(r.doc,Ue(F,0),Ue(K,Lt(r.doc,K).text.length));Ce.length>1&&ze.length>1;)if(X(Ce)==X(ze))Ce.pop(),ze.pop(),K--;else if(Ce[0]==ze[0])Ce.shift(),ze.shift(),F++;else break;for(var Fe=0,Ge=0,rt=Ce[0],dt=ze[0],bt=Math.min(rt.length,dt.length);Fe<bt&&rt.charCodeAt(Fe)==dt.charCodeAt(Fe);)++Fe;for(var _t=X(Ce),vt=X(ze),Tt=Math.min(_t.length-(Ce.length==1?Fe:0),vt.length-(ze.length==1?Fe:0));Ge<Tt&&_t.charCodeAt(_t.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)++Ge;if(Ce.length==1&&ze.length==1&&F==d.line)for(;Fe&&Fe>d.ch&&_t.charCodeAt(_t.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)Fe--,Ge++;Ce[Ce.length-1]=_t.slice(0,_t.length-Ge).replace(/^\u200b+/,""),Ce[0]=Ce[0].slice(Fe).replace(/\u200b+$/,"");var Bt=Ue(F,Fe),zt=Ue(K,ze.length?X(ze).length-Ge:0);if(Ce.length>1||Ce[0]||pt(Bt,zt))return Ps(r.doc,Ce,Bt,zt,"+input"),!0},Ii.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ii.prototype.reset=function(){this.forceCompositionEnd()},Ii.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ii.prototype.readFromDOMSoon=function(){var r=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(r.readDOMTimeout=null,r.composing)if(r.composing.done)r.composing=null;else return;r.updateFromDOM()},80))},Ii.prototype.updateFromDOM=function(){var r=this;(this.cm.isReadOnly()||!this.pollContent())&&Vn(this.cm,function(){return _r(r.cm)})},Ii.prototype.setUneditable=function(r){r.contentEditable="false"},Ii.prototype.onKeyPress=function(r){r.charCode==0||this.composing||(r.preventDefault(),this.cm.isReadOnly()||Di(this.cm,Wc)(this.cm,String.fromCharCode(r.charCode==null?r.keyCode:r.charCode),0))},Ii.prototype.readOnlyChanged=function(r){this.div.contentEditable=String(r!="nocursor")},Ii.prototype.onContextMenu=function(){},Ii.prototype.resetPosition=function(){},Ii.prototype.needsContentAttribute=!0;function is(r,s){var p=Ua(r,s.line);if(!p||p.hidden)return null;var d=Lt(r.doc,s.line),v=Po(p,d,s.line),E=Yt(d,r.doc.direction),F="left";if(E){var B=xt(E,s.ch);F=B%2?"right":"left"}var Z=ka(v.map,s.ch,F);return Z.offset=Z.collapse=="right"?Z.end:Z.start,Z}function Ad(r){for(var s=r;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function ns(r,s){return s&&(r.bad=!0),r}function oh(r,s,p,d,v){var E="",F=!1,B=r.doc.lineSeparator(),Z=!1;function K(Fe){return function(Ge){return Ge.id==Fe}}function be(){F&&(E+=B,Z&&(E+=B),F=Z=!1)}function Ce(Fe){Fe&&(be(),E+=Fe)}function ze(Fe){if(Fe.nodeType==1){var Ge=Fe.getAttribute("cm-text");if(Ge){Ce(Ge);return}var rt=Fe.getAttribute("cm-marker"),dt;if(rt){var bt=r.findMarks(Ue(d,0),Ue(v+1,0),K(+rt));bt.length&&(dt=bt[0].find(0))&&Ce(Xn(r.doc,dt.from,dt.to).join(B));return}if(Fe.getAttribute("contenteditable")=="false")return;var _t=/^(pre|div|p|li|table|br)$/i.test(Fe.nodeName);if(!/^br$/i.test(Fe.nodeName)&&Fe.textContent.length==0)return;_t&&be();for(var vt=0;vt<Fe.childNodes.length;vt++)ze(Fe.childNodes[vt]);/^(pre|p)$/i.test(Fe.nodeName)&&(Z=!0),_t&&(F=!0)}else Fe.nodeType==3&&Ce(Fe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ze(s),s!=p;)s=s.nextSibling,Z=!1;return E}function Jn(r,s,p){var d;if(s==r.display.lineDiv){if(d=r.display.lineDiv.childNodes[p],!d)return ns(r.clipPos(Ue(r.display.viewTo-1)),!0);s=null,p=0}else for(d=s;;d=d.parentNode){if(!d||d==r.display.lineDiv)return null;if(d.parentNode&&d.parentNode==r.display.lineDiv)break}for(var v=0;v<r.display.view.length;v++){var E=r.display.view[v];if(E.node==d)return Dd(E,s,p)}}function Dd(r,s,p){var d=r.text.firstChild,v=!1;if(!s||!Ee(d,s))return ns(Ue(ee(r.line),0),!0);if(s==d&&(v=!0,s=d.childNodes[p],p=0,!s)){var E=r.rest?X(r.rest):r.line;return ns(Ue(ee(E),E.text.length),v)}var F=s.nodeType==3?s:null,B=s;for(!F&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(F=s.firstChild,p&&(p=F.nodeValue.length));B.parentNode!=d;)B=B.parentNode;var Z=r.measure,K=Z.maps;function be(dt,bt,_t){for(var vt=-1;vt<(K?K.length:0);vt++)for(var Tt=vt<0?Z.map:K[vt],Bt=0;Bt<Tt.length;Bt+=3){var zt=Tt[Bt+2];if(zt==dt||zt==bt){var ci=ee(vt<0?r.line:r.rest[vt]),$i=Tt[Bt]+_t;return(_t<0||zt!=dt)&&($i=Tt[Bt+(_t?1:0)]),Ue(ci,$i)}}}var Ce=be(F,B,p);if(Ce)return ns(Ce,v);for(var ze=B.nextSibling,Fe=F?F.nodeValue.length-p:0;ze;ze=ze.nextSibling){if(Ce=be(ze,ze.firstChild,0),Ce)return ns(Ue(Ce.line,Ce.ch-Fe),v);Fe+=ze.textContent.length}for(var Ge=B.previousSibling,rt=p;Ge;Ge=Ge.previousSibling){if(Ce=be(Ge,Ge.firstChild,-1),Ce)return ns(Ue(Ce.line,Ce.ch+rt),v);rt+=Ge.textContent.length}}var wn=function(r){this.cm=r,this.prevInput="",this.pollingFast=!1,this.polling=new Ze,this.hasSelection=!1,this.composing=null,this.resetting=!1};wn.prototype.init=function(r){var s=this,p=this,d=this.cm;this.createField(r);var v=this.textarea;r.wrapper.insertBefore(this.wrapper,r.wrapper.firstChild),S&&(v.style.width="0px"),Rt(v,"input",function(){b&&x>=9&&s.hasSelection&&(s.hasSelection=null),p.poll()}),Rt(v,"paste",function(F){pi(d,F)||fa(F,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function E(F){if(!pi(d,F)){if(d.somethingSelected())ql({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var B=Yl(d);ql({lineWise:!0,text:B.text}),F.type=="cut"?d.setSelections(B.ranges,null,wt):(p.prevInput="",v.value=B.text.join(`
`),ie(v))}else return;F.type=="cut"&&(d.state.cutIncoming=+new Date)}}Rt(v,"cut",E),Rt(v,"copy",E),Rt(r.scroller,"paste",function(F){if(!(In(r,F)||pi(d,F))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var B=new Event("paste");B.clipboardData=F.clipboardData,v.dispatchEvent(B)}}),Rt(r.lineSpace,"selectstart",function(F){In(r,F)||Bi(F)}),Rt(v,"compositionstart",function(){var F=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:F,range:d.markText(F,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Rt(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},wn.prototype.createField=function(r){this.wrapper=ul(),this.textarea=this.wrapper.firstChild;var s=this.cm.options;sl(this.textarea,s.spellcheck,s.autocorrect,s.autocapitalize)},wn.prototype.screenReaderLabelChanged=function(r){r?this.textarea.setAttribute("aria-label",r):this.textarea.removeAttribute("aria-label")},wn.prototype.prepareSelection=function(){var r=this.cm,s=r.display,p=r.doc,d=Ca(r);if(r.options.moveInputWithCursor){var v=Ye(r,p.sel.primary().head,"div"),E=s.wrapper.getBoundingClientRect(),F=s.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,v.top+F.top-E.top)),d.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,v.left+F.left-E.left))}return d},wn.prototype.showSelection=function(r){var s=this.cm,p=s.display;ne(p.cursorDiv,r.cursors),ne(p.selectionDiv,r.selection),r.teTop!=null&&(this.wrapper.style.top=r.teTop+"px",this.wrapper.style.left=r.teLeft+"px")},wn.prototype.reset=function(r){if(!(this.contextMenuPending||this.composing&&r)){var s=this.cm;if(this.resetting=!0,s.somethingSelected()){this.prevInput="";var p=s.getSelection();this.textarea.value=p,s.state.focused&&ie(this.textarea),b&&x>=9&&(this.hasSelection=p)}else r||(this.prevInput=this.textarea.value="",b&&x>=9&&(this.hasSelection=null));this.resetting=!1}},wn.prototype.getField=function(){return this.textarea},wn.prototype.supportsTouch=function(){return!1},wn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||et(Re(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},wn.prototype.blur=function(){this.textarea.blur()},wn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},wn.prototype.receivedFocus=function(){this.slowPoll()},wn.prototype.slowPoll=function(){var r=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){r.poll(),r.cm.state.focused&&r.slowPoll()})},wn.prototype.fastPoll=function(){var r=!1,s=this;s.pollingFast=!0;function p(){var d=s.poll();!d&&!r?(r=!0,s.polling.set(60,p)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,p)},wn.prototype.poll=function(){var r=this,s=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!s.state.focused||nr(p)&&!d&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var v=p.value;if(v==d&&!s.somethingSelected())return!1;if(b&&x>=9&&this.hasSelection===v||I&&/[\uf700-\uf7ff]/.test(v))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var E=v.charCodeAt(0);if(E==8203&&!d&&(d=""),E==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,B=Math.min(d.length,v.length);F<B&&d.charCodeAt(F)==v.charCodeAt(F);)++F;return Vn(s,function(){Wc(s,v.slice(F),d.length-F,null,r.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=r.prevInput="":r.prevInput=v,r.composing&&(r.composing.range.clear(),r.composing.range=s.markText(r.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},wn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},wn.prototype.onKeyPress=function(){b&&x>=9&&(this.hasSelection=null),this.fastPoll()},wn.prototype.onContextMenu=function(r){var s=this,p=s.cm,d=p.display,v=s.textarea;s.contextMenuPending&&s.contextMenuPending();var E=oo(p,r),F=d.scroller.scrollTop;if(!E||N)return;var B=p.options.resetSelectionOnContextMenu;B&&p.doc.sel.contains(E)==-1&&Di(p,lr)(p.doc,Xa(E),wt);var Z=v.style.cssText,K=s.wrapper.style.cssText,be=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(r.clientY-be.top-5)+"px; left: "+(r.clientX-be.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ce;w&&(Ce=v.ownerDocument.defaultView.scrollY),d.input.focus(),w&&v.ownerDocument.defaultView.scrollTo(null,Ce),d.input.reset(),p.somethingSelected()||(v.value=s.prevInput=" "),s.contextMenuPending=Fe,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function ze(){if(v.selectionStart!=null){var rt=p.somethingSelected(),dt=""+(rt?v.value:"");v.value="",v.value=dt,s.prevInput=rt?"":"",v.selectionStart=1,v.selectionEnd=dt.length,d.selForContextMenu=p.doc.sel}}function Fe(){if(s.contextMenuPending==Fe&&(s.contextMenuPending=!1,s.wrapper.style.cssText=K,v.style.cssText=Z,b&&x<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=F),v.selectionStart!=null)){(!b||b&&x<9)&&ze();var rt=0,dt=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&s.prevInput==""?Di(p,hu)(p):rt++<10?d.detectingSelectAll=setTimeout(dt,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(dt,200)}}if(b&&x>=9&&ze(),ge){Rr(r);var Ge=function(){_i(window,"mouseup",Ge),setTimeout(Fe,20)};Rt(window,"mouseup",Ge)}else setTimeout(Fe,50)},wn.prototype.readOnlyChanged=function(r){r||this.reset(),this.textarea.disabled=r=="nocursor",this.textarea.readOnly=!!r},wn.prototype.setUneditable=function(){},wn.prototype.needsContentAttribute=!1;function ah(r,s){if(s=s?Ae(s):{},s.value=r.value,!s.tabindex&&r.tabIndex&&(s.tabindex=r.tabIndex),!s.placeholder&&r.placeholder&&(s.placeholder=r.placeholder),s.autofocus==null){var p=et(Re(r));s.autofocus=p==r||r.getAttribute("autofocus")!=null&&p==document.body}function d(){r.value=B.getValue()}var v;if(r.form&&(Rt(r.form,"submit",d),!s.leaveSubmitMethodAlone)){var E=r.form;v=E.submit;try{var F=E.submit=function(){d(),E.submit=v,E.submit(),E.submit=F}}catch{}}s.finishInit=function(Z){Z.save=d,Z.getTextArea=function(){return r},Z.toTextArea=function(){Z.toTextArea=isNaN,d(),r.parentNode.removeChild(Z.getWrapperElement()),r.style.display="",r.form&&(_i(r.form,"submit",d),!s.leaveSubmitMethodAlone&&typeof r.form.submit=="function"&&(r.form.submit=v))}},r.style.display="none";var B=Oi(function(Z){return r.parentNode.insertBefore(Z,r.nextSibling)},s);return B}function Ld(r){r.off=_i,r.on=Rt,r.wheelEventPixels=pd,r.Doc=Ar,r.splitLines=Gn,r.countColumn=qe,r.findColumn=Mt,r.isWordChar=ot,r.Pass=Et,r.signal=Ri,r.Line=Ao,r.changeEnd=Va,r.scrollbarModel=Xr,r.Pos=Ue,r.cmpPos=pt,r.modes=rr,r.mimeModes=or,r.resolveMode=io,r.getMode=xr,r.modeExtensions=Tn,r.extendMode=Nr,r.copyState=bn,r.startState=Zn,r.innerMode=ho,r.commands=tl,r.keyMap=la,r.keyName=Ku,r.isModifierKey=Nl,r.lookupKey=lo,r.normalizeKeyMap=uo,r.StringStream=Ui,r.SharedTextMarker=gu,r.TextMarker=Bo,r.LineWidget=Fs,r.e_preventDefault=Bi,r.e_stopPropagation=eo,r.e_stop=Rr,r.addClass=Ie,r.contains=Ee,r.rmClass=Te,r.keyNames=Qn}Hc(Oi),ku(Oi);var sh="iter insert remove copy getEditor constructor".split(" ");for(var $l in Ar.prototype)Ar.prototype.hasOwnProperty($l)&&Xe(sh,$l)<0&&(Oi.prototype[$l]=function(r){return function(){return r.apply(this.doc,arguments)}}(Ar.prototype[$l]));return si(Ar),Oi.inputStyles={textarea:wn,contenteditable:Ii},Oi.defineMode=function(r){!Oi.defaults.mode&&r!="null"&&(Oi.defaults.mode=r),Sn.apply(this,arguments)},Oi.defineMIME=to,Oi.defineMode("null",function(){return{token:function(r){return r.skipToEnd()}}}),Oi.defineMIME("text/plain","null"),Oi.defineExtension=function(r,s){Oi.prototype[r]=s},Oi.defineDocExtension=function(r,s){Ar.prototype[r]=s},Oi.fromTextArea=ah,Ld(Oi),Oi.version="5.65.19",Oi})}(Mh)),Mh.exports}var Iw=ms();const Bw=bf(Iw);var Zm={exports:{}},Xm={exports:{}},Vm;function E0(){return Vm||(Vm=1,function(t,e){(function(n){n(ms())})(function(n){var a={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},l={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(u,f){var h=u.indentUnit,b={},x=f.htmlMode?a:l;for(var w in x)b[w]=x[w];for(var w in f)b[w]=f[w];var k,A;function H(D,se){function ye(Ie){return se.tokenize=Ie,Ie(D,se)}var Ee=D.next();if(Ee=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?ye(j("atom","]]>")):null:D.match("--")?ye(j("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),ye(O(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),se.tokenize=j("meta","?>"),"meta"):(k=D.eat("/")?"closeTag":"openTag",se.tokenize=N,"tag bracket");if(Ee=="&"){var et;return D.eat("#")?D.eat("x")?et=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):et=D.eatWhile(/[\d]/)&&D.eat(";"):et=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),et?"atom":"error"}else return D.eatWhile(/[^&<]/),null}H.isInText=!0;function N(D,se){var ye=D.next();if(ye==">"||ye=="/"&&D.eat(">"))return se.tokenize=H,k=ye==">"?"endTag":"selfcloseTag","tag bracket";if(ye=="=")return k="equals",null;if(ye=="<"){se.tokenize=H,se.state=G,se.tagName=se.tagStart=null;var Ee=se.tokenize(D,se);return Ee?Ee+" tag error":"tag error"}else return/[\'\"]/.test(ye)?(se.tokenize=q(ye),se.stringStartCol=D.column(),se.tokenize(D,se)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function q(D){var se=function(ye,Ee){for(;!ye.eol();)if(ye.next()==D){Ee.tokenize=N;break}return"string"};return se.isInAttribute=!0,se}function j(D,se){return function(ye,Ee){for(;!ye.eol();){if(ye.match(se)){Ee.tokenize=H;break}ye.next()}return D}}function O(D){return function(se,ye){for(var Ee;(Ee=se.next())!=null;){if(Ee=="<")return ye.tokenize=O(D+1),ye.tokenize(se,ye);if(Ee==">")if(D==1){ye.tokenize=H;break}else return ye.tokenize=O(D-1),ye.tokenize(se,ye)}return"meta"}}function S(D){return D&&D.toLowerCase()}function P(D,se,ye){this.prev=D.context,this.tagName=se||"",this.indent=D.indented,this.startOfLine=ye,(b.doNotIndent.hasOwnProperty(se)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function W(D){D.context&&(D.context=D.context.prev)}function I(D,se){for(var ye;;){if(!D.context||(ye=D.context.tagName,!b.contextGrabbers.hasOwnProperty(S(ye))||!b.contextGrabbers[S(ye)].hasOwnProperty(S(se))))return;W(D)}}function G(D,se,ye){return D=="openTag"?(ye.tagStart=se.column(),J):D=="closeTag"?ue:G}function J(D,se,ye){return D=="word"?(ye.tagName=se.current(),A="tag",ce):b.allowMissingTagName&&D=="endTag"?(A="tag bracket",ce(D,se,ye)):(A="error",J)}function ue(D,se,ye){if(D=="word"){var Ee=se.current();return ye.context&&ye.context.tagName!=Ee&&b.implicitlyClosed.hasOwnProperty(S(ye.context.tagName))&&W(ye),ye.context&&ye.context.tagName==Ee||b.matchClosing===!1?(A="tag",de):(A="tag error",ge)}else return b.allowMissingTagName&&D=="endTag"?(A="tag bracket",de(D,se,ye)):(A="error",ge)}function de(D,se,ye){return D!="endTag"?(A="error",de):(W(ye),G)}function ge(D,se,ye){return A="error",de(D,se,ye)}function ce(D,se,ye){if(D=="word")return A="attribute",Te;if(D=="endTag"||D=="selfcloseTag"){var Ee=ye.tagName,et=ye.tagStart;return ye.tagName=ye.tagStart=null,D=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(S(Ee))?I(ye,Ee):(I(ye,Ee),ye.context=new P(ye,Ee,et==ye.indented)),G}return A="error",ce}function Te(D,se,ye){return D=="equals"?ve:(b.allowMissing||(A="error"),ce(D,se,ye))}function ve(D,se,ye){return D=="string"?ne:D=="word"&&b.allowUnquoted?(A="string",ce):(A="error",ce(D,se,ye))}function ne(D,se,ye){return D=="string"?ne:ce(D,se,ye)}return{startState:function(D){var se={tokenize:H,state:G,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(se.baseIndent=D),se},token:function(D,se){if(!se.tagName&&D.sol()&&(se.indented=D.indentation()),D.eatSpace())return null;k=null;var ye=se.tokenize(D,se);return(ye||k)&&ye!="comment"&&(A=null,se.state=se.state(k||ye,D,se),A&&(ye=A=="error"?ye+" error":A)),ye},indent:function(D,se,ye){var Ee=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+h;if(Ee&&Ee.noIndent)return n.Pass;if(D.tokenize!=N&&D.tokenize!=H)return ye?ye.match(/^(\s*)/)[0].length:0;if(D.tagName)return b.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+h*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(se))return 0;var et=se&&/^<(\/)?([\w_:\.-]*)/.exec(se);if(et&&et[1])for(;Ee;)if(Ee.tagName==et[2]){Ee=Ee.prev;break}else if(b.implicitlyClosed.hasOwnProperty(S(Ee.tagName)))Ee=Ee.prev;else break;else if(et)for(;Ee;){var Ie=b.contextGrabbers[S(Ee.tagName)];if(Ie&&Ie.hasOwnProperty(S(et[2])))Ee=Ee.prev;else break}for(;Ee&&Ee.prev&&!Ee.startOfLine;)Ee=Ee.prev;return Ee?Ee.indent+h:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(D){D.state==ve&&(D.state=ce)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var se=[],ye=D.context;ye;ye=ye.prev)se.push(ye.tagName);return se.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Xm.exports}var Km={exports:{}},Qm;function Hw(){return Qm||(Qm=1,function(t,e){(function(n){n(ms())})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];l.mimes&&(l.mime=l.mimes[0])}n.findModeByMIME=function(u){u=u.toLowerCase();for(var f=0;f<n.modeInfo.length;f++){var h=n.modeInfo[f];if(h.mime==u)return h;if(h.mimes){for(var b=0;b<h.mimes.length;b++)if(h.mimes[b]==u)return h}}if(/\+xml$/.test(u))return n.findModeByMIME("application/xml");if(/\+json$/.test(u))return n.findModeByMIME("application/json")},n.findModeByExtension=function(u){u=u.toLowerCase();for(var f=0;f<n.modeInfo.length;f++){var h=n.modeInfo[f];if(h.ext){for(var b=0;b<h.ext.length;b++)if(h.ext[b]==u)return h}}},n.findModeByFileName=function(u){for(var f=0;f<n.modeInfo.length;f++){var h=n.modeInfo[f];if(h.file&&h.file.test(u))return h}var b=u.lastIndexOf("."),x=b>-1&&u.substring(b+1,u.length);if(x)return n.findModeByExtension(x)},n.findModeByName=function(u){u=u.toLowerCase();for(var f=0;f<n.modeInfo.length;f++){var h=n.modeInfo[f];if(h.name.toLowerCase()==u)return h;if(h.alias){for(var b=0;b<h.alias.length;b++)if(h.alias[b].toLowerCase()==u)return h}}}})}()),Km.exports}var Jm;function S0(){return Jm||(Jm=1,function(t,e){(function(n){n(ms(),E0(),Hw())})(function(n){n.defineMode("markdown",function(a,l){var u=n.getMode(a,"text/html"),f=u.name=="null";function h(ie){if(n.findModeByName){var Y=n.findModeByName(ie);Y&&(ie=Y.mime||Y.mimes[0])}var Le=n.getMode(a,ie);return Le.name=="null"?null:Le}l.highlightFormatting===void 0&&(l.highlightFormatting=!1),l.maxBlockquoteDepth===void 0&&(l.maxBlockquoteDepth=0),l.taskLists===void 0&&(l.taskLists=!1),l.strikethrough===void 0&&(l.strikethrough=!1),l.emoji===void 0&&(l.emoji=!1),l.fencedCodeBlockHighlighting===void 0&&(l.fencedCodeBlockHighlighting=!0),l.fencedCodeBlockDefaultMode===void 0&&(l.fencedCodeBlockDefaultMode="text/plain"),l.xml===void 0&&(l.xml=!0),l.tokenTypeOverrides===void 0&&(l.tokenTypeOverrides={});var b={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var x in b)b.hasOwnProperty(x)&&l.tokenTypeOverrides[x]&&(b[x]=l.tokenTypeOverrides[x]);var w=/^([*\-_])(?:\s*\1){2,}\s*$/,k=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,A=/^\[(x| )\](?=\s)/i,H=l.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,N=/^ {0,3}(?:\={1,}|-{2,})\s*$/,q=/^[^#!\[\]*_\\<>` "'(~:]+/,j=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,O=/^\s*\[[^\]]+?\]:.*$/,S=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,P="    ";function W(ie,Y,Le){return Y.f=Y.inline=Le,Le(ie,Y)}function I(ie,Y,Le){return Y.f=Y.block=Le,Le(ie,Y)}function G(ie){return!ie||!/\S/.test(ie.string)}function J(ie){if(ie.linkTitle=!1,ie.linkHref=!1,ie.linkText=!1,ie.em=!1,ie.strong=!1,ie.strikethrough=!1,ie.quote=0,ie.indentedCode=!1,ie.f==de){var Y=f;if(!Y){var Le=n.innerMode(u,ie.htmlState);Y=Le.mode.name=="xml"&&Le.state.tagStart===null&&!Le.state.context&&Le.state.tokenize.isInText}Y&&(ie.f=ve,ie.block=ue,ie.htmlState=null)}return ie.trailingSpace=0,ie.trailingSpaceNewLine=!1,ie.prevLine=ie.thisLine,ie.thisLine={stream:null},null}function ue(ie,Y){var Le=ie.column()===Y.indentation,Re=G(Y.prevLine.stream),V=Y.indentedCode,we=Y.prevLine.hr,Ae=Y.list!==!1,qe=(Y.listStack[Y.listStack.length-1]||0)+3;Y.indentedCode=!1;var Ze=Y.indentation;if(Y.indentationDiff===null&&(Y.indentationDiff=Y.indentation,Ae)){for(Y.list=null;Ze<Y.listStack[Y.listStack.length-1];)Y.listStack.pop(),Y.listStack.length?Y.indentation=Y.listStack[Y.listStack.length-1]:Y.list=!1;Y.list!==!1&&(Y.indentationDiff=Ze-Y.listStack[Y.listStack.length-1])}var Xe=!Re&&!we&&!Y.prevLine.header&&(!Ae||!V)&&!Y.prevLine.fencedCodeEnd,ut=(Y.list===!1||we||Re)&&Y.indentation<=qe&&ie.match(w),Et=null;if(Y.indentationDiff>=4&&(V||Y.prevLine.fencedCodeEnd||Y.prevLine.header||Re))return ie.skipToEnd(),Y.indentedCode=!0,b.code;if(ie.eatSpace())return null;if(Le&&Y.indentation<=qe&&(Et=ie.match(H))&&Et[1].length<=6)return Y.quote=0,Y.header=Et[1].length,Y.thisLine.header=!0,l.highlightFormatting&&(Y.formatting="header"),Y.f=Y.inline,ce(Y);if(Y.indentation<=qe&&ie.eat(">"))return Y.quote=Le?1:Y.quote+1,l.highlightFormatting&&(Y.formatting="quote"),ie.eatSpace(),ce(Y);if(!ut&&!Y.setext&&Le&&Y.indentation<=qe&&(Et=ie.match(k))){var wt=Et[1]?"ol":"ul";return Y.indentation=Ze+ie.current().length,Y.list=!0,Y.quote=0,Y.listStack.push(Y.indentation),Y.em=!1,Y.strong=!1,Y.code=!1,Y.strikethrough=!1,l.taskLists&&ie.match(A,!1)&&(Y.taskList=!0),Y.f=Y.inline,l.highlightFormatting&&(Y.formatting=["list","list-"+wt]),ce(Y)}else{if(Le&&Y.indentation<=qe&&(Et=ie.match(j,!0)))return Y.quote=0,Y.fencedEndRE=new RegExp(Et[1]+"+ *$"),Y.localMode=l.fencedCodeBlockHighlighting&&h(Et[2]||l.fencedCodeBlockDefaultMode),Y.localMode&&(Y.localState=n.startState(Y.localMode)),Y.f=Y.block=ge,l.highlightFormatting&&(Y.formatting="code-block"),Y.code=-1,ce(Y);if(Y.setext||(!Xe||!Ae)&&!Y.quote&&Y.list===!1&&!Y.code&&!ut&&!O.test(ie.string)&&(Et=ie.lookAhead(1))&&(Et=Et.match(N)))return Y.setext?(Y.header=Y.setext,Y.setext=0,ie.skipToEnd(),l.highlightFormatting&&(Y.formatting="header")):(Y.header=Et[0].charAt(0)=="="?1:2,Y.setext=Y.header),Y.thisLine.header=!0,Y.f=Y.inline,ce(Y);if(ut)return ie.skipToEnd(),Y.hr=!0,Y.thisLine.hr=!0,b.hr;if(ie.peek()==="[")return W(ie,Y,Ee)}return W(ie,Y,Y.inline)}function de(ie,Y){var Le=u.token(ie,Y.htmlState);if(!f){var Re=n.innerMode(u,Y.htmlState);(Re.mode.name=="xml"&&Re.state.tagStart===null&&!Re.state.context&&Re.state.tokenize.isInText||Y.md_inside&&ie.current().indexOf(">")>-1)&&(Y.f=ve,Y.block=ue,Y.htmlState=null)}return Le}function ge(ie,Y){var Le=Y.listStack[Y.listStack.length-1]||0,Re=Y.indentation<Le,V=Le+3;if(Y.fencedEndRE&&Y.indentation<=V&&(Re||ie.match(Y.fencedEndRE))){l.highlightFormatting&&(Y.formatting="code-block");var we;return Re||(we=ce(Y)),Y.localMode=Y.localState=null,Y.block=ue,Y.f=ve,Y.fencedEndRE=null,Y.code=0,Y.thisLine.fencedCodeEnd=!0,Re?I(ie,Y,Y.block):we}else return Y.localMode?Y.localMode.token(ie,Y.localState):(ie.skipToEnd(),b.code)}function ce(ie){var Y=[];if(ie.formatting){Y.push(b.formatting),typeof ie.formatting=="string"&&(ie.formatting=[ie.formatting]);for(var Le=0;Le<ie.formatting.length;Le++)Y.push(b.formatting+"-"+ie.formatting[Le]),ie.formatting[Le]==="header"&&Y.push(b.formatting+"-"+ie.formatting[Le]+"-"+ie.header),ie.formatting[Le]==="quote"&&(!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=ie.quote?Y.push(b.formatting+"-"+ie.formatting[Le]+"-"+ie.quote):Y.push("error"))}if(ie.taskOpen)return Y.push("meta"),Y.length?Y.join(" "):null;if(ie.taskClosed)return Y.push("property"),Y.length?Y.join(" "):null;if(ie.linkHref?Y.push(b.linkHref,"url"):(ie.strong&&Y.push(b.strong),ie.em&&Y.push(b.em),ie.strikethrough&&Y.push(b.strikethrough),ie.emoji&&Y.push(b.emoji),ie.linkText&&Y.push(b.linkText),ie.code&&Y.push(b.code),ie.image&&Y.push(b.image),ie.imageAltText&&Y.push(b.imageAltText,"link"),ie.imageMarker&&Y.push(b.imageMarker)),ie.header&&Y.push(b.header,b.header+"-"+ie.header),ie.quote&&(Y.push(b.quote),!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=ie.quote?Y.push(b.quote+"-"+ie.quote):Y.push(b.quote+"-"+l.maxBlockquoteDepth)),ie.list!==!1){var Re=(ie.listStack.length-1)%3;Re?Re===1?Y.push(b.list2):Y.push(b.list3):Y.push(b.list1)}return ie.trailingSpaceNewLine?Y.push("trailing-space-new-line"):ie.trailingSpace&&Y.push("trailing-space-"+(ie.trailingSpace%2?"a":"b")),Y.length?Y.join(" "):null}function Te(ie,Y){if(ie.match(q,!0))return ce(Y)}function ve(ie,Y){var Le=Y.text(ie,Y);if(typeof Le<"u")return Le;if(Y.list)return Y.list=null,ce(Y);if(Y.taskList){var Re=ie.match(A,!0)[1]===" ";return Re?Y.taskOpen=!0:Y.taskClosed=!0,l.highlightFormatting&&(Y.formatting="task"),Y.taskList=!1,ce(Y)}if(Y.taskOpen=!1,Y.taskClosed=!1,Y.header&&ie.match(/^#+$/,!0))return l.highlightFormatting&&(Y.formatting="header"),ce(Y);var V=ie.next();if(Y.linkTitle){Y.linkTitle=!1;var we=V;V==="("&&(we=")"),we=(we+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Ae="^\\s*(?:[^"+we+"\\\\]+|\\\\\\\\|\\\\.)"+we;if(ie.match(new RegExp(Ae),!0))return b.linkHref}if(V==="`"){var qe=Y.formatting;l.highlightFormatting&&(Y.formatting="code"),ie.eatWhile("`");var Ze=ie.current().length;if(Y.code==0&&(!Y.quote||Ze==1))return Y.code=Ze,ce(Y);if(Ze==Y.code){var Xe=ce(Y);return Y.code=0,Xe}else return Y.formatting=qe,ce(Y)}else if(Y.code)return ce(Y);if(V==="\\"&&(ie.next(),l.highlightFormatting)){var ut=ce(Y),Et=b.formatting+"-escape";return ut?ut+" "+Et:Et}if(V==="!"&&ie.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Y.imageMarker=!0,Y.image=!0,l.highlightFormatting&&(Y.formatting="image"),ce(Y);if(V==="["&&Y.imageMarker&&ie.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Y.imageMarker=!1,Y.imageAltText=!0,l.highlightFormatting&&(Y.formatting="image"),ce(Y);if(V==="]"&&Y.imageAltText){l.highlightFormatting&&(Y.formatting="image");var ut=ce(Y);return Y.imageAltText=!1,Y.image=!1,Y.inline=Y.f=D,ut}if(V==="["&&!Y.image)return Y.linkText&&ie.match(/^.*?\]/)||(Y.linkText=!0,l.highlightFormatting&&(Y.formatting="link")),ce(Y);if(V==="]"&&Y.linkText){l.highlightFormatting&&(Y.formatting="link");var ut=ce(Y);return Y.linkText=!1,Y.inline=Y.f=ie.match(/\(.*?\)| ?\[.*?\]/,!1)?D:ve,ut}if(V==="<"&&ie.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=ne,l.highlightFormatting&&(Y.formatting="link");var ut=ce(Y);return ut?ut+=" ":ut="",ut+b.linkInline}if(V==="<"&&ie.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=ne,l.highlightFormatting&&(Y.formatting="link");var ut=ce(Y);return ut?ut+=" ":ut="",ut+b.linkEmail}if(l.xml&&V==="<"&&ie.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var wt=ie.string.indexOf(">",ie.pos);if(wt!=-1){var St=ie.string.substring(ie.start,wt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(St)&&(Y.md_inside=!0)}return ie.backUp(1),Y.htmlState=n.startState(u),I(ie,Y,de)}if(l.xml&&V==="<"&&ie.match(/^\/\w*?>/))return Y.md_inside=!1,"tag";if(V==="*"||V==="_"){for(var yt=1,Mt=ie.pos==1?" ":ie.string.charAt(ie.pos-2);yt<3&&ie.eat(V);)yt++;var Ut=ie.peek()||" ",Kt=!/\s/.test(Ut)&&(!S.test(Ut)||/\s/.test(Mt)||S.test(Mt)),X=!/\s/.test(Mt)&&(!S.test(Mt)||/\s/.test(Ut)||S.test(Ut)),le=null,Q=null;if(yt%2&&(!Y.em&&Kt&&(V==="*"||!X||S.test(Mt))?le=!0:Y.em==V&&X&&(V==="*"||!Kt||S.test(Ut))&&(le=!1)),yt>1&&(!Y.strong&&Kt&&(V==="*"||!X||S.test(Mt))?Q=!0:Y.strong==V&&X&&(V==="*"||!Kt||S.test(Ut))&&(Q=!1)),Q!=null||le!=null){l.highlightFormatting&&(Y.formatting=le==null?"strong":Q==null?"em":"strong em"),le===!0&&(Y.em=V),Q===!0&&(Y.strong=V);var Xe=ce(Y);return le===!1&&(Y.em=!1),Q===!1&&(Y.strong=!1),Xe}}else if(V===" "&&(ie.eat("*")||ie.eat("_"))){if(ie.peek()===" ")return ce(Y);ie.backUp(1)}if(l.strikethrough){if(V==="~"&&ie.eatWhile(V)){if(Y.strikethrough){l.highlightFormatting&&(Y.formatting="strikethrough");var Xe=ce(Y);return Y.strikethrough=!1,Xe}else if(ie.match(/^[^\s]/,!1))return Y.strikethrough=!0,l.highlightFormatting&&(Y.formatting="strikethrough"),ce(Y)}else if(V===" "&&ie.match("~~",!0)){if(ie.peek()===" ")return ce(Y);ie.backUp(2)}}if(l.emoji&&V===":"&&ie.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Y.emoji=!0,l.highlightFormatting&&(Y.formatting="emoji");var he=ce(Y);return Y.emoji=!1,he}return V===" "&&(ie.match(/^ +$/,!1)?Y.trailingSpace++:Y.trailingSpace&&(Y.trailingSpaceNewLine=!0)),ce(Y)}function ne(ie,Y){var Le=ie.next();if(Le===">"){Y.f=Y.inline=ve,l.highlightFormatting&&(Y.formatting="link");var Re=ce(Y);return Re?Re+=" ":Re="",Re+b.linkInline}return ie.match(/^[^>]+/,!0),b.linkInline}function D(ie,Y){if(ie.eatSpace())return null;var Le=ie.next();return Le==="("||Le==="["?(Y.f=Y.inline=ye(Le==="("?")":"]"),l.highlightFormatting&&(Y.formatting="link-string"),Y.linkHref=!0,ce(Y)):"error"}var se={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ye(ie){return function(Y,Le){var Re=Y.next();if(Re===ie){Le.f=Le.inline=ve,l.highlightFormatting&&(Le.formatting="link-string");var V=ce(Le);return Le.linkHref=!1,V}return Y.match(se[ie]),Le.linkHref=!0,ce(Le)}}function Ee(ie,Y){return ie.match(/^([^\]\\]|\\.)*\]:/,!1)?(Y.f=et,ie.next(),l.highlightFormatting&&(Y.formatting="link"),Y.linkText=!0,ce(Y)):W(ie,Y,ve)}function et(ie,Y){if(ie.match("]:",!0)){Y.f=Y.inline=Ie,l.highlightFormatting&&(Y.formatting="link");var Le=ce(Y);return Y.linkText=!1,Le}return ie.match(/^([^\]\\]|\\.)+/,!0),b.linkText}function Ie(ie,Y){return ie.eatSpace()?null:(ie.match(/^[^\s]+/,!0),ie.peek()===void 0?Y.linkTitle=!0:ie.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Y.f=Y.inline=ve,b.linkHref+" url")}var Me={startState:function(){return{f:ue,prevLine:{stream:null},thisLine:{stream:null},block:ue,htmlState:null,indentation:0,inline:ve,text:Te,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ie){return{f:ie.f,prevLine:ie.prevLine,thisLine:ie.thisLine,block:ie.block,htmlState:ie.htmlState&&n.copyState(u,ie.htmlState),indentation:ie.indentation,localMode:ie.localMode,localState:ie.localMode?n.copyState(ie.localMode,ie.localState):null,inline:ie.inline,text:ie.text,formatting:!1,linkText:ie.linkText,linkTitle:ie.linkTitle,linkHref:ie.linkHref,code:ie.code,em:ie.em,strong:ie.strong,strikethrough:ie.strikethrough,emoji:ie.emoji,header:ie.header,setext:ie.setext,hr:ie.hr,taskList:ie.taskList,list:ie.list,listStack:ie.listStack.slice(0),quote:ie.quote,indentedCode:ie.indentedCode,trailingSpace:ie.trailingSpace,trailingSpaceNewLine:ie.trailingSpaceNewLine,md_inside:ie.md_inside,fencedEndRE:ie.fencedEndRE}},token:function(ie,Y){if(Y.formatting=!1,ie!=Y.thisLine.stream){if(Y.header=0,Y.hr=!1,ie.match(/^\s*$/,!0))return J(Y),null;if(Y.prevLine=Y.thisLine,Y.thisLine={stream:ie},Y.taskList=!1,Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,!Y.localState&&(Y.f=Y.block,Y.f!=de)){var Le=ie.match(/^\s*/,!0)[0].replace(/\t/g,P).length;if(Y.indentation=Le,Y.indentationDiff=null,Le>0)return null}}return Y.f(ie,Y)},innerMode:function(ie){return ie.block==de?{state:ie.htmlState,mode:u}:ie.localState?{state:ie.localState,mode:ie.localMode}:{state:ie,mode:Me}},indent:function(ie,Y,Le){return ie.block==de&&u.indent?u.indent(ie.htmlState,Y,Le):ie.localState&&ie.localMode.indent?ie.localMode.indent(ie.localState,Y,Le):n.Pass},blankLine:J,getType:ce,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Me},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})}()),Zm.exports}S0();var eg={exports:{}},tg;function Ww(){return tg||(tg=1,function(t,e){(function(n){n(ms())})(function(n){n.defineMode("javascript",function(a,l){var u=a.indentUnit,f=l.statementIndent,h=l.jsonld,b=l.json||h,x=l.trackScope!==!1,w=l.typescript,k=l.wordCharacters||/[\w$\xa1-\uffff]/,A=function(){function ee(Yi){return{type:Yi,style:"keyword"}}var xe=ee("keyword a"),We=ee("keyword b"),nt=ee("keyword c"),Ue=ee("keyword d"),pt=ee("operator"),ni={type:"atom",style:"atom"};return{if:ee("if"),while:xe,with:xe,else:We,do:We,try:We,finally:We,return:Ue,break:Ue,continue:Ue,new:ee("new"),delete:nt,void:nt,throw:nt,debugger:ee("debugger"),var:ee("var"),const:ee("var"),let:ee("var"),function:ee("function"),catch:ee("catch"),for:ee("for"),switch:ee("switch"),case:ee("case"),default:ee("default"),in:pt,typeof:pt,instanceof:pt,true:ni,false:ni,null:ni,undefined:ni,NaN:ni,Infinity:ni,this:ee("this"),class:ee("class"),super:ee("atom"),yield:nt,export:ee("export"),import:ee("import"),extends:nt,await:nt}}(),H=/[+\-*&%=<>!?|~^@]/,N=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function q(ee){for(var xe=!1,We,nt=!1;(We=ee.next())!=null;){if(!xe){if(We=="/"&&!nt)return;We=="["?nt=!0:nt&&We=="]"&&(nt=!1)}xe=!xe&&We=="\\"}}var j,O;function S(ee,xe,We){return j=ee,O=We,xe}function P(ee,xe){var We=ee.next();if(We=='"'||We=="'")return xe.tokenize=W(We),xe.tokenize(ee,xe);if(We=="."&&ee.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(We=="."&&ee.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(We))return S(We);if(We=="="&&ee.eat(">"))return S("=>","operator");if(We=="0"&&ee.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(We))return ee.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(We=="/")return ee.eat("*")?(xe.tokenize=I,I(ee,xe)):ee.eat("/")?(ee.skipToEnd(),S("comment","comment")):zn(ee,xe,1)?(q(ee),ee.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(ee.eat("="),S("operator","operator",ee.current()));if(We=="`")return xe.tokenize=G,G(ee,xe);if(We=="#"&&ee.peek()=="!")return ee.skipToEnd(),S("meta","meta");if(We=="#"&&ee.eatWhile(k))return S("variable","property");if(We=="<"&&ee.match("!--")||We=="-"&&ee.match("->")&&!/\S/.test(ee.string.slice(0,ee.start)))return ee.skipToEnd(),S("comment","comment");if(H.test(We))return(We!=">"||!xe.lexical||xe.lexical.type!=">")&&(ee.eat("=")?(We=="!"||We=="=")&&ee.eat("="):/[<>*+\-|&?]/.test(We)&&(ee.eat(We),We==">"&&ee.eat(We))),We=="?"&&ee.eat(".")?S("."):S("operator","operator",ee.current());if(k.test(We)){ee.eatWhile(k);var nt=ee.current();if(xe.lastType!="."){if(A.propertyIsEnumerable(nt)){var Ue=A[nt];return S(Ue.type,Ue.style,nt)}if(nt=="async"&&ee.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",nt)}return S("variable","variable",nt)}}function W(ee){return function(xe,We){var nt=!1,Ue;if(h&&xe.peek()=="@"&&xe.match(N))return We.tokenize=P,S("jsonld-keyword","meta");for(;(Ue=xe.next())!=null&&!(Ue==ee&&!nt);)nt=!nt&&Ue=="\\";return nt||(We.tokenize=P),S("string","string")}}function I(ee,xe){for(var We=!1,nt;nt=ee.next();){if(nt=="/"&&We){xe.tokenize=P;break}We=nt=="*"}return S("comment","comment")}function G(ee,xe){for(var We=!1,nt;(nt=ee.next())!=null;){if(!We&&(nt=="`"||nt=="$"&&ee.eat("{"))){xe.tokenize=P;break}We=!We&&nt=="\\"}return S("quasi","string-2",ee.current())}var J="([{}])";function ue(ee,xe){xe.fatArrowAt&&(xe.fatArrowAt=null);var We=ee.string.indexOf("=>",ee.start);if(!(We<0)){if(w){var nt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ee.string.slice(ee.start,We));nt&&(We=nt.index)}for(var Ue=0,pt=!1,ni=We-1;ni>=0;--ni){var Yi=ee.string.charAt(ni),Nt=J.indexOf(Yi);if(Nt>=0&&Nt<3){if(!Ue){++ni;break}if(--Ue==0){Yi=="("&&(pt=!0);break}}else if(Nt>=3&&Nt<6)++Ue;else if(k.test(Yi))pt=!0;else if(/["'\/`]/.test(Yi))for(;;--ni){if(ni==0)return;var li=ee.string.charAt(ni-1);if(li==Yi&&ee.string.charAt(ni-2)!="\\"){ni--;break}}else if(pt&&!Ue){++ni;break}}pt&&!Ue&&(xe.fatArrowAt=ni)}}var de={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ge(ee,xe,We,nt,Ue,pt){this.indented=ee,this.column=xe,this.type=We,this.prev=Ue,this.info=pt,nt!=null&&(this.align=nt)}function ce(ee,xe){if(!x)return!1;for(var We=ee.localVars;We;We=We.next)if(We.name==xe)return!0;for(var nt=ee.context;nt;nt=nt.prev)for(var We=nt.vars;We;We=We.next)if(We.name==xe)return!0}function Te(ee,xe,We,nt,Ue){var pt=ee.cc;for(ve.state=ee,ve.stream=Ue,ve.marked=null,ve.cc=pt,ve.style=xe,ee.lexical.hasOwnProperty("align")||(ee.lexical.align=!0);;){var ni=pt.length?pt.pop():b?Xe:qe;if(ni(We,nt)){for(;pt.length&&pt[pt.length-1].lex;)pt.pop()();return ve.marked?ve.marked:We=="variable"&&ce(ee,nt)?"variable-2":xe}}}var ve={state:null,marked:null,cc:null};function ne(){for(var ee=arguments.length-1;ee>=0;ee--)ve.cc.push(arguments[ee])}function D(){return ne.apply(null,arguments),!0}function se(ee,xe){for(var We=xe;We;We=We.next)if(We.name==ee)return!0;return!1}function ye(ee){var xe=ve.state;if(ve.marked="def",!!x){if(xe.context){if(xe.lexical.info=="var"&&xe.context&&xe.context.block){var We=Ee(ee,xe.context);if(We!=null){xe.context=We;return}}else if(!se(ee,xe.localVars)){xe.localVars=new Me(ee,xe.localVars);return}}l.globalVars&&!se(ee,xe.globalVars)&&(xe.globalVars=new Me(ee,xe.globalVars))}}function Ee(ee,xe){if(xe)if(xe.block){var We=Ee(ee,xe.prev);return We?We==xe.prev?xe:new Ie(We,xe.vars,!0):null}else return se(ee,xe.vars)?xe:new Ie(xe.prev,new Me(ee,xe.vars),!1);else return null}function et(ee){return ee=="public"||ee=="private"||ee=="protected"||ee=="abstract"||ee=="readonly"}function Ie(ee,xe,We){this.prev=ee,this.vars=xe,this.block=We}function Me(ee,xe){this.name=ee,this.next=xe}var ie=new Me("this",new Me("arguments",null));function Y(){ve.state.context=new Ie(ve.state.context,ve.state.localVars,!1),ve.state.localVars=ie}function Le(){ve.state.context=new Ie(ve.state.context,ve.state.localVars,!0),ve.state.localVars=null}Y.lex=Le.lex=!0;function Re(){ve.state.localVars=ve.state.context.vars,ve.state.context=ve.state.context.prev}Re.lex=!0;function V(ee,xe){var We=function(){var nt=ve.state,Ue=nt.indented;if(nt.lexical.type=="stat")Ue=nt.lexical.indented;else for(var pt=nt.lexical;pt&&pt.type==")"&&pt.align;pt=pt.prev)Ue=pt.indented;nt.lexical=new ge(Ue,ve.stream.column(),ee,null,nt.lexical,xe)};return We.lex=!0,We}function we(){var ee=ve.state;ee.lexical.prev&&(ee.lexical.type==")"&&(ee.indented=ee.lexical.indented),ee.lexical=ee.lexical.prev)}we.lex=!0;function Ae(ee){function xe(We){return We==ee?D():ee==";"||We=="}"||We==")"||We=="]"?ne():D(xe)}return xe}function qe(ee,xe){return ee=="var"?D(V("vardef",xe),eo,Ae(";"),we):ee=="keyword a"?D(V("form"),Et,qe,we):ee=="keyword b"?D(V("form"),qe,we):ee=="keyword d"?ve.stream.match(/^\s*$/,!1)?D():D(V("stat"),St,Ae(";"),we):ee=="debugger"?D(Ae(";")):ee=="{"?D(V("}"),Le,$t,we,Re):ee==";"?D():ee=="if"?(ve.state.lexical.info=="else"&&ve.state.cc[ve.state.cc.length-1]==we&&ve.state.cc.pop()(),D(V("form"),Et,qe,we,En)):ee=="function"?D(Gn):ee=="for"?D(V("form"),Le,Ot,qe,Re,we):ee=="class"||w&&xe=="interface"?(ve.marked="keyword",D(V("form",ee=="class"?ee:xe),rr,we)):ee=="variable"?w&&xe=="declare"?(ve.marked="keyword",D(qe)):w&&(xe=="module"||xe=="enum"||xe=="type")&&ve.stream.match(/^\s*\w/,!1)?(ve.marked="keyword",xe=="enum"?D(Lt):xe=="type"?D(Ur,Ae("operator"),Yt,Ae(";")):D(V("form"),Hi,Ae("{"),V("}"),$t,we,we)):w&&xe=="namespace"?(ve.marked="keyword",D(V("form"),Xe,qe,we)):w&&xe=="abstract"?(ve.marked="keyword",D(qe)):D(V("stat"),Be):ee=="switch"?D(V("form"),Et,Ae("{"),V("}","switch"),Le,$t,we,we,Re):ee=="case"?D(Xe,Ae(":")):ee=="default"?D(Ae(":")):ee=="catch"?D(V("form"),Y,Ze,qe,we,Re):ee=="export"?D(V("stat"),io,we):ee=="import"?D(V("stat"),Tn,we):ee=="async"?D(qe):xe=="@"?D(Xe,qe):ne(V("stat"),Xe,Ae(";"),we)}function Ze(ee){if(ee=="(")return D(Gi,Ae(")"))}function Xe(ee,xe){return wt(ee,xe,!1)}function ut(ee,xe){return wt(ee,xe,!0)}function Et(ee){return ee!="("?ne():D(V(")"),St,Ae(")"),we)}function wt(ee,xe,We){if(ve.state.fatArrowAt==ve.stream.start){var nt=We?le:X;if(ee=="(")return D(Y,V(")"),ct(Gi,")"),we,Ae("=>"),nt,Re);if(ee=="variable")return ne(Y,Hi,Ae("=>"),nt,Re)}var Ue=We?Mt:yt;return de.hasOwnProperty(ee)?D(Ue):ee=="function"?D(Gn,Ue):ee=="class"||w&&xe=="interface"?(ve.marked="keyword",D(V("form"),Qi,we)):ee=="keyword c"||ee=="async"?D(We?ut:Xe):ee=="("?D(V(")"),St,Ae(")"),we,Ue):ee=="operator"||ee=="spread"?D(We?ut:Xe):ee=="["?D(V("]"),Ui,we,Ue):ee=="{"?Wt(Qe,"}",null,Ue):ee=="quasi"?ne(Ut,Ue):ee=="new"?D(Q(We)):D()}function St(ee){return ee.match(/[;\}\)\],]/)?ne():ne(Xe)}function yt(ee,xe){return ee==","?D(St):Mt(ee,xe,!1)}function Mt(ee,xe,We){var nt=We==!1?yt:Mt,Ue=We==!1?Xe:ut;if(ee=="=>")return D(Y,We?le:X,Re);if(ee=="operator")return/\+\+|--/.test(xe)||w&&xe=="!"?D(nt):w&&xe=="<"&&ve.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(V(">"),ct(Yt,">"),we,nt):xe=="?"?D(Xe,Ae(":"),Ue):D(Ue);if(ee=="quasi")return ne(Ut,nt);if(ee!=";"){if(ee=="(")return Wt(ut,")","call",nt);if(ee==".")return D(ot,nt);if(ee=="[")return D(V("]"),St,Ae("]"),we,nt);if(w&&xe=="as")return ve.marked="keyword",D(Yt,nt);if(ee=="regexp")return ve.state.lastType=ve.marked="operator",ve.stream.backUp(ve.stream.pos-ve.stream.start-1),D(Ue)}}function Ut(ee,xe){return ee!="quasi"?ne():xe.slice(xe.length-2)!="${"?D(Ut):D(St,Kt)}function Kt(ee){if(ee=="}")return ve.marked="string-2",ve.state.tokenize=G,D(Ut)}function X(ee){return ue(ve.stream,ve.state),ne(ee=="{"?qe:Xe)}function le(ee){return ue(ve.stream,ve.state),ne(ee=="{"?qe:ut)}function Q(ee){return function(xe){return xe=="."?D(ee?pe:he):xe=="variable"&&w?D(ui,ee?Mt:yt):ne(ee?ut:Xe)}}function he(ee,xe){if(xe=="target")return ve.marked="keyword",D(yt)}function pe(ee,xe){if(xe=="target")return ve.marked="keyword",D(Mt)}function Be(ee){return ee==":"?D(we,qe):ne(yt,Ae(";"),we)}function ot(ee){if(ee=="variable")return ve.marked="property",D()}function Qe(ee,xe){if(ee=="async")return ve.marked="property",D(Qe);if(ee=="variable"||ve.style=="keyword"){if(ve.marked="property",xe=="get"||xe=="set")return D(mt);var We;return w&&ve.state.fatArrowAt==ve.stream.start&&(We=ve.stream.match(/^\s*:\s*/,!1))&&(ve.state.fatArrowAt=ve.stream.pos+We[0].length),D(Pt)}else{if(ee=="number"||ee=="string")return ve.marked=h?"property":ve.style+" property",D(Pt);if(ee=="jsonld-keyword")return D(Pt);if(w&&et(xe))return ve.marked="keyword",D(Qe);if(ee=="[")return D(Xe,Qt,Ae("]"),Pt);if(ee=="spread")return D(ut,Pt);if(xe=="*")return ve.marked="keyword",D(Qe);if(ee==":")return ne(Pt)}}function mt(ee){return ee!="variable"?ne(Pt):(ve.marked="property",D(Gn))}function Pt(ee){if(ee==":")return D(ut);if(ee=="(")return ne(Gn)}function ct(ee,xe,We){function nt(Ue,pt){if(We?We.indexOf(Ue)>-1:Ue==","){var ni=ve.state.lexical;return ni.info=="call"&&(ni.pos=(ni.pos||0)+1),D(function(Yi,Nt){return Yi==xe||Nt==xe?ne():ne(ee)},nt)}return Ue==xe||pt==xe?D():We&&We.indexOf(";")>-1?ne(ee):D(Ae(xe))}return function(Ue,pt){return Ue==xe||pt==xe?D():ne(ee,nt)}}function Wt(ee,xe,We){for(var nt=3;nt<arguments.length;nt++)ve.cc.push(arguments[nt]);return D(V(xe,We),ct(ee,xe),we)}function $t(ee){return ee=="}"?D():ne(qe,$t)}function Qt(ee,xe){if(w){if(ee==":")return D(Yt);if(xe=="?")return D(Qt)}}function Vt(ee,xe){if(w&&(ee==":"||xe=="in"))return D(Yt)}function xt(ee){if(w&&ee==":")return ve.stream.match(/^\s*\w+\s+is\b/,!1)?D(Xe,Yn,Yt):D(Yt)}function Yn(ee,xe){if(xe=="is")return ve.marked="keyword",D()}function Yt(ee,xe){if(xe=="keyof"||xe=="typeof"||xe=="infer"||xe=="readonly")return ve.marked="keyword",D(xe=="typeof"?ut:Yt);if(ee=="variable"||xe=="void")return ve.marked="type",D(wi);if(xe=="|"||xe=="&")return D(Yt);if(ee=="string"||ee=="number"||ee=="atom")return D(wi);if(ee=="[")return D(V("]"),ct(Yt,"]",","),we,wi);if(ee=="{")return D(V("}"),Rt,we,wi);if(ee=="(")return D(ct(pi,")"),mr,wi);if(ee=="<")return D(ct(Yt,">"),Yt);if(ee=="quasi")return ne(_i,wi)}function mr(ee){if(ee=="=>")return D(Yt)}function Rt(ee){return ee.match(/[\}\)\]]/)?D():ee==","||ee==";"?D(Rt):ne(sn,Rt)}function sn(ee,xe){if(ee=="variable"||ve.style=="keyword")return ve.marked="property",D(sn);if(xe=="?"||ee=="number"||ee=="string")return D(sn);if(ee==":")return D(Yt);if(ee=="[")return D(Ae("variable"),Vt,Ae("]"),sn);if(ee=="(")return ne(nr,sn);if(!ee.match(/[;\}\)\],]/))return D()}function _i(ee,xe){return ee!="quasi"?ne():xe.slice(xe.length-2)!="${"?D(_i):D(Yt,Ri)}function Ri(ee){if(ee=="}")return ve.marked="string-2",ve.state.tokenize=G,D(_i)}function pi(ee,xe){return ee=="variable"&&ve.stream.match(/^\s*[?:]/,!1)||xe=="?"?D(pi):ee==":"?D(Yt):ee=="spread"?D(pi):ne(Yt)}function wi(ee,xe){if(xe=="<")return D(V(">"),ct(Yt,">"),we,wi);if(xe=="|"||ee=="."||xe=="&")return D(Yt);if(ee=="[")return D(Yt,Ae("]"),wi);if(xe=="extends"||xe=="implements")return ve.marked="keyword",D(Yt);if(xe=="?")return D(Yt,Ae(":"),Yt)}function ui(ee,xe){if(xe=="<")return D(V(">"),ct(Yt,">"),we,wi)}function si(){return ne(Yt,Bi)}function Bi(ee,xe){if(xe=="=")return D(Yt)}function eo(ee,xe){return xe=="enum"?(ve.marked="keyword",D(Lt)):ne(Hi,Qt,Ki,gr)}function Hi(ee,xe){if(w&&et(xe))return ve.marked="keyword",D(Hi);if(ee=="variable")return ye(xe),D();if(ee=="spread")return D(Hi);if(ee=="[")return Wt(Wi,"]");if(ee=="{")return Wt(Rr,"}")}function Rr(ee,xe){return ee=="variable"&&!ve.stream.match(/^\s*:/,!1)?(ye(xe),D(Ki)):(ee=="variable"&&(ve.marked="property"),ee=="spread"?D(Hi):ee=="}"?ne():ee=="["?D(Xe,Ae("]"),Ae(":"),Rr):D(Ae(":"),Hi,Ki))}function Wi(){return ne(Hi,Ki)}function Ki(ee,xe){if(xe=="=")return D(ut)}function gr(ee){if(ee==",")return D(eo)}function En(ee,xe){if(ee=="keyword b"&&xe=="else")return D(V("form","else"),qe,we)}function Ot(ee,xe){if(xe=="await")return D(Ot);if(ee=="(")return D(V(")"),vr,we)}function vr(ee){return ee=="var"?D(eo,$n):ee=="variable"?D($n):ne($n)}function $n(ee,xe){return ee==")"?D():ee==";"?D($n):xe=="in"||xe=="of"?(ve.marked="keyword",D(Xe,$n)):ne(Xe,$n)}function Gn(ee,xe){if(xe=="*")return ve.marked="keyword",D(Gn);if(ee=="variable")return ye(xe),D(Gn);if(ee=="(")return D(Y,V(")"),ct(Gi,")"),we,xt,qe,Re);if(w&&xe=="<")return D(V(">"),ct(si,">"),we,Gn)}function nr(ee,xe){if(xe=="*")return ve.marked="keyword",D(nr);if(ee=="variable")return ye(xe),D(nr);if(ee=="(")return D(Y,V(")"),ct(Gi,")"),we,xt,Re);if(w&&xe=="<")return D(V(">"),ct(si,">"),we,nr)}function Ur(ee,xe){if(ee=="keyword"||ee=="variable")return ve.marked="type",D(Ur);if(xe=="<")return D(V(">"),ct(si,">"),we)}function Gi(ee,xe){return xe=="@"&&D(Xe,Gi),ee=="spread"?D(Gi):w&&et(xe)?(ve.marked="keyword",D(Gi)):w&&ee=="this"?D(Qt,Ki):ne(Hi,Qt,Ki)}function Qi(ee,xe){return ee=="variable"?rr(ee,xe):or(ee,xe)}function rr(ee,xe){if(ee=="variable")return ye(xe),D(or)}function or(ee,xe){if(xe=="<")return D(V(">"),ct(si,">"),we,or);if(xe=="extends"||xe=="implements"||w&&ee==",")return xe=="implements"&&(ve.marked="keyword"),D(w?Yt:Xe,or);if(ee=="{")return D(V("}"),Sn,we)}function Sn(ee,xe){if(ee=="async"||ee=="variable"&&(xe=="static"||xe=="get"||xe=="set"||w&&et(xe))&&ve.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return ve.marked="keyword",D(Sn);if(ee=="variable"||ve.style=="keyword")return ve.marked="property",D(to,Sn);if(ee=="number"||ee=="string")return D(to,Sn);if(ee=="[")return D(Xe,Qt,Ae("]"),to,Sn);if(xe=="*")return ve.marked="keyword",D(Sn);if(w&&ee=="(")return ne(nr,Sn);if(ee==";"||ee==",")return D(Sn);if(ee=="}")return D();if(xe=="@")return D(Xe,Sn)}function to(ee,xe){if(xe=="!"||xe=="?")return D(to);if(ee==":")return D(Yt,Ki);if(xe=="=")return D(ut);var We=ve.state.lexical.prev,nt=We&&We.info=="interface";return ne(nt?nr:Gn)}function io(ee,xe){return xe=="*"?(ve.marked="keyword",D(Zn,Ae(";"))):xe=="default"?(ve.marked="keyword",D(Xe,Ae(";"))):ee=="{"?D(ct(xr,"}"),Zn,Ae(";")):ne(qe)}function xr(ee,xe){if(xe=="as")return ve.marked="keyword",D(Ae("variable"));if(ee=="variable")return ne(ut,xr)}function Tn(ee){return ee=="string"?D():ee=="("?ne(Xe):ee=="."?ne(yt):ne(Nr,bn,Zn)}function Nr(ee,xe){return ee=="{"?Wt(Nr,"}"):(ee=="variable"&&ye(xe),xe=="*"&&(ve.marked="keyword"),D(ho))}function bn(ee){if(ee==",")return D(Nr,bn)}function ho(ee,xe){if(xe=="as")return ve.marked="keyword",D(Nr)}function Zn(ee,xe){if(xe=="from")return ve.marked="keyword",D(Xe)}function Ui(ee){return ee=="]"?D():ne(ct(ut,"]"))}function Lt(){return ne(V("form"),Hi,Ae("{"),V("}"),ct(Xn,"}"),we,we)}function Xn(){return ne(Hi,Ki)}function ar(ee,xe){return ee.lastType=="operator"||ee.lastType==","||H.test(xe.charAt(0))||/[,.]/.test(xe.charAt(0))}function zn(ee,xe,We){return xe.tokenize==P&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(xe.lastType)||xe.lastType=="quasi"&&/\{\s*$/.test(ee.string.slice(0,ee.pos-(We||0)))}return{startState:function(ee){var xe={tokenize:P,lastType:"sof",cc:[],lexical:new ge((ee||0)-u,0,"block",!1),localVars:l.localVars,context:l.localVars&&new Ie(null,null,!1),indented:ee||0};return l.globalVars&&typeof l.globalVars=="object"&&(xe.globalVars=l.globalVars),xe},token:function(ee,xe){if(ee.sol()&&(xe.lexical.hasOwnProperty("align")||(xe.lexical.align=!1),xe.indented=ee.indentation(),ue(ee,xe)),xe.tokenize!=I&&ee.eatSpace())return null;var We=xe.tokenize(ee,xe);return j=="comment"?We:(xe.lastType=j=="operator"&&(O=="++"||O=="--")?"incdec":j,Te(xe,We,j,O,ee))},indent:function(ee,xe){if(ee.tokenize==I||ee.tokenize==G)return n.Pass;if(ee.tokenize!=P)return 0;var We=xe&&xe.charAt(0),nt=ee.lexical,Ue;if(!/^\s*else\b/.test(xe))for(var pt=ee.cc.length-1;pt>=0;--pt){var ni=ee.cc[pt];if(ni==we)nt=nt.prev;else if(ni!=En&&ni!=Re)break}for(;(nt.type=="stat"||nt.type=="form")&&(We=="}"||(Ue=ee.cc[ee.cc.length-1])&&(Ue==yt||Ue==Mt)&&!/^[,\.=+\-*:?[\(]/.test(xe));)nt=nt.prev;f&&nt.type==")"&&nt.prev.type=="stat"&&(nt=nt.prev);var Yi=nt.type,Nt=We==Yi;return Yi=="vardef"?nt.indented+(ee.lastType=="operator"||ee.lastType==","?nt.info.length+1:0):Yi=="form"&&We=="{"?nt.indented:Yi=="form"?nt.indented+u:Yi=="stat"?nt.indented+(ar(ee,xe)?f||u:0):nt.info=="switch"&&!Nt&&l.doubleIndentSwitch!=!1?nt.indented+(/^(?:case|default)\b/.test(xe)?u:2*u):nt.align?nt.column+(Nt?0:1):nt.indented+(Nt?0:u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:h,jsonMode:b,expressionAllowed:zn,skipExpression:function(ee){Te(ee,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),eg.exports}Ww();var ig={exports:{}},ng;function jw(){return ng||(ng=1,function(t,e){(function(n){n(ms())})(function(n){n.defineMode("css",function(ge,ce){var Te=ce.inline;ce.propertyKeywords||(ce=n.resolveMode("text/css"));var ve=ge.indentUnit,ne=ce.tokenHooks,D=ce.documentTypes||{},se=ce.mediaTypes||{},ye=ce.mediaFeatures||{},Ee=ce.mediaValueKeywords||{},et=ce.propertyKeywords||{},Ie=ce.nonStandardPropertyKeywords||{},Me=ce.fontProperties||{},ie=ce.counterDescriptors||{},Y=ce.colorKeywords||{},Le=ce.valueKeywords||{},Re=ce.allowNested,V=ce.lineComment,we=ce.supportsAtComponent===!0,Ae=ge.highlightNonStandardPropertyKeywords!==!1,qe,Ze;function Xe(Q,he){return qe=he,Q}function ut(Q,he){var pe=Q.next();if(ne[pe]){var Be=ne[pe](Q,he);if(Be!==!1)return Be}if(pe=="@")return Q.eatWhile(/[\w\\\-]/),Xe("def",Q.current());if(pe=="="||(pe=="~"||pe=="|")&&Q.eat("="))return Xe(null,"compare");if(pe=='"'||pe=="'")return he.tokenize=Et(pe),he.tokenize(Q,he);if(pe=="#")return Q.eatWhile(/[\w\\\-]/),Xe("atom","hash");if(pe=="!")return Q.match(/^\s*\w*/),Xe("keyword","important");if(/\d/.test(pe)||pe=="."&&Q.eat(/\d/))return Q.eatWhile(/[\w.%]/),Xe("number","unit");if(pe==="-"){if(/[\d.]/.test(Q.peek()))return Q.eatWhile(/[\w.%]/),Xe("number","unit");if(Q.match(/^-[\w\\\-]*/))return Q.eatWhile(/[\w\\\-]/),Q.match(/^\s*:/,!1)?Xe("variable-2","variable-definition"):Xe("variable-2","variable");if(Q.match(/^\w+-/))return Xe("meta","meta")}else return/[,+>*\/]/.test(pe)?Xe(null,"select-op"):pe=="."&&Q.match(/^-?[_a-z][_a-z0-9-]*/i)?Xe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(pe)?Xe(null,pe):Q.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Q.current())&&(he.tokenize=wt),Xe("variable callee","variable")):/[\w\\\-]/.test(pe)?(Q.eatWhile(/[\w\\\-]/),Xe("property","word")):Xe(null,null)}function Et(Q){return function(he,pe){for(var Be=!1,ot;(ot=he.next())!=null;){if(ot==Q&&!Be){Q==")"&&he.backUp(1);break}Be=!Be&&ot=="\\"}return(ot==Q||!Be&&Q!=")")&&(pe.tokenize=null),Xe("string","string")}}function wt(Q,he){return Q.next(),Q.match(/^\s*[\"\')]/,!1)?he.tokenize=null:he.tokenize=Et(")"),Xe(null,"(")}function St(Q,he,pe){this.type=Q,this.indent=he,this.prev=pe}function yt(Q,he,pe,Be){return Q.context=new St(pe,he.indentation()+(Be===!1?0:ve),Q.context),pe}function Mt(Q){return Q.context.prev&&(Q.context=Q.context.prev),Q.context.type}function Ut(Q,he,pe){return le[pe.context.type](Q,he,pe)}function Kt(Q,he,pe,Be){for(var ot=Be||1;ot>0;ot--)pe.context=pe.context.prev;return Ut(Q,he,pe)}function X(Q){var he=Q.current().toLowerCase();Le.hasOwnProperty(he)?Ze="atom":Y.hasOwnProperty(he)?Ze="keyword":Ze="variable"}var le={};return le.top=function(Q,he,pe){if(Q=="{")return yt(pe,he,"block");if(Q=="}"&&pe.context.prev)return Mt(pe);if(we&&/@component/i.test(Q))return yt(pe,he,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Q))return yt(pe,he,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Q))return yt(pe,he,"atBlock");if(/^@(font-face|counter-style)/i.test(Q))return pe.stateArg=Q,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Q))return"keyframes";if(Q&&Q.charAt(0)=="@")return yt(pe,he,"at");if(Q=="hash")Ze="builtin";else if(Q=="word")Ze="tag";else{if(Q=="variable-definition")return"maybeprop";if(Q=="interpolation")return yt(pe,he,"interpolation");if(Q==":")return"pseudo";if(Re&&Q=="(")return yt(pe,he,"parens")}return pe.context.type},le.block=function(Q,he,pe){if(Q=="word"){var Be=he.current().toLowerCase();return et.hasOwnProperty(Be)?(Ze="property","maybeprop"):Ie.hasOwnProperty(Be)?(Ze=Ae?"string-2":"property","maybeprop"):Re?(Ze=he.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ze+=" error","maybeprop")}else return Q=="meta"?"block":!Re&&(Q=="hash"||Q=="qualifier")?(Ze="error","block"):le.top(Q,he,pe)},le.maybeprop=function(Q,he,pe){return Q==":"?yt(pe,he,"prop"):Ut(Q,he,pe)},le.prop=function(Q,he,pe){if(Q==";")return Mt(pe);if(Q=="{"&&Re)return yt(pe,he,"propBlock");if(Q=="}"||Q=="{")return Kt(Q,he,pe);if(Q=="(")return yt(pe,he,"parens");if(Q=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(he.current()))Ze+=" error";else if(Q=="word")X(he);else if(Q=="interpolation")return yt(pe,he,"interpolation");return"prop"},le.propBlock=function(Q,he,pe){return Q=="}"?Mt(pe):Q=="word"?(Ze="property","maybeprop"):pe.context.type},le.parens=function(Q,he,pe){return Q=="{"||Q=="}"?Kt(Q,he,pe):Q==")"?Mt(pe):Q=="("?yt(pe,he,"parens"):Q=="interpolation"?yt(pe,he,"interpolation"):(Q=="word"&&X(he),"parens")},le.pseudo=function(Q,he,pe){return Q=="meta"?"pseudo":Q=="word"?(Ze="variable-3",pe.context.type):Ut(Q,he,pe)},le.documentTypes=function(Q,he,pe){return Q=="word"&&D.hasOwnProperty(he.current())?(Ze="tag",pe.context.type):le.atBlock(Q,he,pe)},le.atBlock=function(Q,he,pe){if(Q=="(")return yt(pe,he,"atBlock_parens");if(Q=="}"||Q==";")return Kt(Q,he,pe);if(Q=="{")return Mt(pe)&&yt(pe,he,Re?"block":"top");if(Q=="interpolation")return yt(pe,he,"interpolation");if(Q=="word"){var Be=he.current().toLowerCase();Be=="only"||Be=="not"||Be=="and"||Be=="or"?Ze="keyword":se.hasOwnProperty(Be)?Ze="attribute":ye.hasOwnProperty(Be)?Ze="property":Ee.hasOwnProperty(Be)?Ze="keyword":et.hasOwnProperty(Be)?Ze="property":Ie.hasOwnProperty(Be)?Ze=Ae?"string-2":"property":Le.hasOwnProperty(Be)?Ze="atom":Y.hasOwnProperty(Be)?Ze="keyword":Ze="error"}return pe.context.type},le.atComponentBlock=function(Q,he,pe){return Q=="}"?Kt(Q,he,pe):Q=="{"?Mt(pe)&&yt(pe,he,Re?"block":"top",!1):(Q=="word"&&(Ze="error"),pe.context.type)},le.atBlock_parens=function(Q,he,pe){return Q==")"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,he,pe,2):le.atBlock(Q,he,pe)},le.restricted_atBlock_before=function(Q,he,pe){return Q=="{"?yt(pe,he,"restricted_atBlock"):Q=="word"&&pe.stateArg=="@counter-style"?(Ze="variable","restricted_atBlock_before"):Ut(Q,he,pe)},le.restricted_atBlock=function(Q,he,pe){return Q=="}"?(pe.stateArg=null,Mt(pe)):Q=="word"?(pe.stateArg=="@font-face"&&!Me.hasOwnProperty(he.current().toLowerCase())||pe.stateArg=="@counter-style"&&!ie.hasOwnProperty(he.current().toLowerCase())?Ze="error":Ze="property","maybeprop"):"restricted_atBlock"},le.keyframes=function(Q,he,pe){return Q=="word"?(Ze="variable","keyframes"):Q=="{"?yt(pe,he,"top"):Ut(Q,he,pe)},le.at=function(Q,he,pe){return Q==";"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,he,pe):(Q=="word"?Ze="tag":Q=="hash"&&(Ze="builtin"),"at")},le.interpolation=function(Q,he,pe){return Q=="}"?Mt(pe):Q=="{"||Q==";"?Kt(Q,he,pe):(Q=="word"?Ze="variable":Q!="variable"&&Q!="("&&Q!=")"&&(Ze="error"),"interpolation")},{startState:function(Q){return{tokenize:null,state:Te?"block":"top",stateArg:null,context:new St(Te?"block":"top",Q||0,null)}},token:function(Q,he){if(!he.tokenize&&Q.eatSpace())return null;var pe=(he.tokenize||ut)(Q,he);return pe&&typeof pe=="object"&&(qe=pe[1],pe=pe[0]),Ze=pe,qe!="comment"&&(he.state=le[he.state](qe,Q,he)),Ze},indent:function(Q,he){var pe=Q.context,Be=he&&he.charAt(0),ot=pe.indent;return pe.type=="prop"&&(Be=="}"||Be==")")&&(pe=pe.prev),pe.prev&&(Be=="}"&&(pe.type=="block"||pe.type=="top"||pe.type=="interpolation"||pe.type=="restricted_atBlock")?(pe=pe.prev,ot=pe.indent):(Be==")"&&(pe.type=="parens"||pe.type=="atBlock_parens")||Be=="{"&&(pe.type=="at"||pe.type=="atBlock"))&&(ot=Math.max(0,pe.indent-ve))),ot},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:V,fold:"brace"}});function a(ge){for(var ce={},Te=0;Te<ge.length;++Te)ce[ge[Te].toLowerCase()]=!0;return ce}var l=["domain","regexp","url","url-prefix"],u=a(l),f=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],h=a(f),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],x=a(b),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],k=a(w),A=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],H=a(A),N=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],q=a(N),j=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],O=a(j),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],P=a(S),W=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],I=a(W),G=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],J=a(G),ue=l.concat(f).concat(b).concat(w).concat(A).concat(N).concat(W).concat(G);n.registerHelper("hintWords","css",ue);function de(ge,ce){for(var Te=!1,ve;(ve=ge.next())!=null;){if(Te&&ve=="/"){ce.tokenize=null;break}Te=ve=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:u,mediaTypes:h,mediaFeatures:x,mediaValueKeywords:k,propertyKeywords:H,nonStandardPropertyKeywords:q,fontProperties:O,counterDescriptors:P,colorKeywords:I,valueKeywords:J,tokenHooks:{"/":function(ge,ce){return ge.eat("*")?(ce.tokenize=de,de(ge,ce)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:h,mediaFeatures:x,mediaValueKeywords:k,propertyKeywords:H,nonStandardPropertyKeywords:q,colorKeywords:I,valueKeywords:J,fontProperties:O,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,ce){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(ce.tokenize=de,de(ge,ce)):["operator","operator"]},":":function(ge){return ge.match(/^\s*\{/,!1)?[null,null]:!1},$:function(ge){return ge.match(/^[\w-]+/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(ge){return ge.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:h,mediaFeatures:x,mediaValueKeywords:k,propertyKeywords:H,nonStandardPropertyKeywords:q,colorKeywords:I,valueKeywords:J,fontProperties:O,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,ce){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(ce.tokenize=de,de(ge,ce)):["operator","operator"]},"@":function(ge){return ge.eat("{")?[null,"interpolation"]:ge.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(ge.eatWhile(/[\w\\\-]/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:u,mediaTypes:h,mediaFeatures:x,propertyKeywords:H,nonStandardPropertyKeywords:q,fontProperties:O,counterDescriptors:P,colorKeywords:I,valueKeywords:J,supportsAtComponent:!0,tokenHooks:{"/":function(ge,ce){return ge.eat("*")?(ce.tokenize=de,de(ge,ce)):!1}},name:"css",helperType:"gss"})})}()),ig.exports}jw();var rg={exports:{}},og;function T0(){return og||(og=1,function(t,e){(function(n){n(ms())})(function(n){n.overlayMode=function(a,l,u){return{startState:function(){return{base:n.startState(a),overlay:n.startState(l),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(f){return{base:n.copyState(a,f.base),overlay:n.copyState(l,f.overlay),basePos:f.basePos,baseCur:null,overlayPos:f.overlayPos,overlayCur:null}},token:function(f,h){return(f!=h.streamSeen||Math.min(h.basePos,h.overlayPos)<f.start)&&(h.streamSeen=f,h.basePos=h.overlayPos=f.start),f.start==h.basePos&&(h.baseCur=a.token(f,h.base),h.basePos=f.pos),f.start==h.overlayPos&&(f.pos=f.start,h.overlayCur=l.token(f,h.overlay),h.overlayPos=f.pos),f.pos=Math.min(h.basePos,h.overlayPos),h.overlayCur==null?h.baseCur:h.baseCur!=null&&h.overlay.combineTokens||u&&h.overlay.combineTokens==null?h.baseCur+" "+h.overlayCur:h.overlayCur},indent:a.indent&&function(f,h,b){return a.indent(f.base,h,b)},electricChars:a.electricChars,innerMode:function(f){return{state:f.base,mode:a}},blankLine:function(f){var h,b;return a.blankLine&&(h=a.blankLine(f.base)),l.blankLine&&(b=l.blankLine(f.overlay)),b==null?h:u&&h!=null?h+" "+b:b}}}})}()),rg.exports}T0();E0();var ag={exports:{}},sg;function qw(){return sg||(sg=1,function(t,e){(function(n){n(ms())})(function(n){n.defineMode("yaml",function(){var a=["true","false","on","off","yes","no"],l=new RegExp("\\b(("+a.join(")|(")+"))$","i");return{token:function(u,f){var h=u.peek(),b=f.escaped;if(f.escaped=!1,h=="#"&&(u.pos==0||/\s/.test(u.string.charAt(u.pos-1))))return u.skipToEnd(),"comment";if(u.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(f.literal&&u.indentation()>f.keyCol)return u.skipToEnd(),"string";if(f.literal&&(f.literal=!1),u.sol()){if(f.keyCol=0,f.pair=!1,f.pairStart=!1,u.match("---")||u.match("..."))return"def";if(u.match(/\s*-\s+/))return"meta"}if(u.match(/^(\{|\}|\[|\])/))return h=="{"?f.inlinePairs++:h=="}"?f.inlinePairs--:h=="["?f.inlineList++:f.inlineList--,"meta";if(f.inlineList>0&&!b&&h==",")return u.next(),"meta";if(f.inlinePairs>0&&!b&&h==",")return f.keyCol=0,f.pair=!1,f.pairStart=!1,u.next(),"meta";if(f.pairStart){if(u.match(/^\s*(\||\>)\s*/))return f.literal=!0,"meta";if(u.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(f.inlinePairs==0&&u.match(/^\s*-?[0-9\.\,]+\s?$/)||f.inlinePairs>0&&u.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(u.match(l))return"keyword"}return!f.pair&&u.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(f.pair=!0,f.keyCol=u.indentation(),"atom"):f.pair&&u.match(/^:\s*/)?(f.pairStart=!0,"meta"):(f.pairStart=!1,f.escaped=h=="\\",u.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),n.defineMIME("text/x-yaml","yaml"),n.defineMIME("text/yaml","yaml")})}()),ag.exports}qw();var ug={exports:{}},lg;function Uw(){return lg||(lg=1,function(t,e){(function(n){n(ms(),S0(),T0())})(function(n){var a=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(l,u){var f=0;function h(k){return k.code=!1,null}var b={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(k){return{code:k.code,codeBlock:k.codeBlock,ateSpace:k.ateSpace}},token:function(k,A){if(A.combineTokens=null,A.codeBlock)return k.match(/^```+/)?(A.codeBlock=!1,null):(k.skipToEnd(),null);if(k.sol()&&(A.code=!1),k.sol()&&k.match(/^```+/))return k.skipToEnd(),A.codeBlock=!0,null;if(k.peek()==="`"){k.next();var H=k.pos;k.eatWhile("`");var N=1+k.pos-H;return A.code?N===f&&(A.code=!1):(f=N,A.code=!0),null}else if(A.code)return k.next(),null;if(k.eatSpace())return A.ateSpace=!0,null;if((k.sol()||A.ateSpace)&&(A.ateSpace=!1,u.gitHubSpice!==!1)){if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return A.combineTokens=!0,"link";if(k.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return A.combineTokens=!0,"link"}return k.match(a)&&k.string.slice(k.start-2,k.start)!="]("&&(k.start==0||/\W/.test(k.string.charAt(k.start-1)))?(A.combineTokens=!0,"link"):(k.next(),null)},blankLine:h},x={taskLists:!0,strikethrough:!0,emoji:!0};for(var w in u)x[w]=u[w];return x.name="markdown",n.overlayMode(n.getMode(l,x),b)},"markdown"),n.defineMIME("text/x-gfm","gfm")})}()),ug.exports}Uw();var cg={exports:{}},fg;function Yw(){return fg||(fg=1,function(t,e){(function(n){n(ms())})(function(n){n.defineOption("rulers",!1,function(l,u){l.state.rulerDiv&&(l.state.rulerDiv.parentElement.removeChild(l.state.rulerDiv),l.state.rulerDiv=null,l.off("refresh",a)),u&&u.length&&(l.state.rulerDiv=l.display.lineSpace.parentElement.insertBefore(document.createElement("div"),l.display.lineSpace),l.state.rulerDiv.className="CodeMirror-rulers",a(l),l.on("refresh",a))});function a(l){l.state.rulerDiv.textContent="";var u=l.getOption("rulers"),f=l.defaultCharWidth(),h=l.charCoords(n.Pos(l.firstLine(),0),"div").left;l.state.rulerDiv.style.minHeight=l.display.scroller.offsetHeight+30+"px";for(var b=0;b<u.length;b++){var x=document.createElement("div");x.className="CodeMirror-ruler";var w,k=u[b];typeof k=="number"?w=k:(w=k.column,k.className&&(x.className+=" "+k.className),k.color&&(x.style.borderColor=k.color),k.lineStyle&&(x.style.borderLeftStyle=k.lineStyle),k.width&&(x.style.borderLeftWidth=k.width)),x.style.left=h+w*f+"px",l.state.rulerDiv.appendChild(x)}}})}()),cg.exports}Yw();var hg={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var dg;function $w(){return dg||(dg=1,function(t){t(jQuery)}(function(t){var e=0,n=Array.prototype.hasOwnProperty,a=Array.prototype.slice;return t.cleanData=function(l){return function(u){var f,h,b;for(b=0;(h=u[b])!=null;b++)f=t._data(h,"events"),f&&f.remove&&t(h).triggerHandler("remove");l(u)}}(t.cleanData),t.widget=function(l,u,f){var h,b,x,w={},k=l.split(".")[0];if(l=l.split(".")[1],l==="__proto__"||l==="constructor")return t.error("Invalid widget name: "+l);var A=k+"-"+l;return f||(f=u,u=t.Widget),Array.isArray(f)&&(f=t.extend.apply(null,[{}].concat(f))),t.expr.pseudos[A.toLowerCase()]=function(H){return!!t.data(H,A)},t[k]=t[k]||{},h=t[k][l],b=t[k][l]=function(H,N){if(!this||!this._createWidget)return new b(H,N);arguments.length&&this._createWidget(H,N)},t.extend(b,h,{version:f.version,_proto:t.extend({},f),_childConstructors:[]}),x=new u,x.options=t.widget.extend({},x.options),t.each(f,function(H,N){if(typeof N!="function"){w[H]=N;return}w[H]=function(){function q(){return u.prototype[H].apply(this,arguments)}function j(O){return u.prototype[H].apply(this,O)}return function(){var O=this._super,S=this._superApply,P;return this._super=q,this._superApply=j,P=N.apply(this,arguments),this._super=O,this._superApply=S,P}}()}),b.prototype=t.widget.extend(x,{widgetEventPrefix:h&&x.widgetEventPrefix||l},w,{constructor:b,namespace:k,widgetName:l,widgetFullName:A}),h?(t.each(h._childConstructors,function(H,N){var q=N.prototype;t.widget(q.namespace+"."+q.widgetName,b,N._proto)}),delete h._childConstructors):u._childConstructors.push(b),t.widget.bridge(l,b),b},t.widget.extend=function(l){for(var u=a.call(arguments,1),f=0,h=u.length,b,x;f<h;f++)for(b in u[f])x=u[f][b],n.call(u[f],b)&&x!==void 0&&(t.isPlainObject(x)?l[b]=t.isPlainObject(l[b])?t.widget.extend({},l[b],x):t.widget.extend({},x):l[b]=x);return l},t.widget.bridge=function(l,u){var f=u.prototype.widgetFullName||l;t.fn[l]=function(h){var b=typeof h=="string",x=a.call(arguments,1),w=this;return b?!this.length&&h==="instance"?w=void 0:this.each(function(){var k,A=t.data(this,f);if(h==="instance")return w=A,!1;if(!A)return t.error("cannot call methods on "+l+" prior to initialization; attempted to call method '"+h+"'");if(typeof A[h]!="function"||h.charAt(0)==="_")return t.error("no such method '"+h+"' for "+l+" widget instance");if(k=A[h].apply(A,x),k!==A&&k!==void 0)return w=k&&k.jquery?w.pushStack(k.get()):k,!1}):(x.length&&(h=t.widget.extend.apply(null,[h].concat(x))),this.each(function(){var k=t.data(this,f);k?(k.option(h||{}),k._init&&k._init()):t.data(this,f,new u(h,this))})),w}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(l,u){u=t(u||this.defaultElement||this)[0],this.element=t(u),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},u!==this&&(t.data(u,this.widgetFullName,this),this._on(!0,this.element,{remove:function(f){f.target===u&&this.destroy()}}),this.document=t(u.style?u.ownerDocument:u.document||u),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),l),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var l=this;this._destroy(),t.each(this.classesElementLookup,function(u,f){l._removeClass(f,u)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(l,u){var f=l,h,b,x;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof l=="string")if(f={},h=l.split("."),l=h.shift(),h.length){for(b=f[l]=t.widget.extend({},this.options[l]),x=0;x<h.length-1;x++)b[h[x]]=b[h[x]]||{},b=b[h[x]];if(l=h.pop(),arguments.length===1)return b[l]===void 0?null:b[l];b[l]=u}else{if(arguments.length===1)return this.options[l]===void 0?null:this.options[l];f[l]=u}return this._setOptions(f),this},_setOptions:function(l){var u;for(u in l)this._setOption(u,l[u]);return this},_setOption:function(l,u){return l==="classes"&&this._setOptionClasses(u),this.options[l]=u,l==="disabled"&&this._setOptionDisabled(u),this},_setOptionClasses:function(l){var u,f,h;for(u in l)h=this.classesElementLookup[u],!(l[u]===this.options.classes[u]||!h||!h.length)&&(f=t(h.get()),this._removeClass(h,u),f.addClass(this._classes({element:f,keys:u,classes:l,add:!0})))},_setOptionDisabled:function(l){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!l),l&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(l){var u=[],f=this;l=t.extend({element:this.element,classes:this.options.classes||{}},l);function h(){var x=[];l.element.each(function(w,k){var A=t.map(f.classesElementLookup,function(H){return H}).some(function(H){return H.is(k)});A||x.push(k)}),f._on(t(x),{remove:"_untrackClassesElement"})}function b(x,w){var k,A;for(A=0;A<x.length;A++)k=f.classesElementLookup[x[A]]||t(),l.add?(h(),k=t(t.uniqueSort(k.get().concat(l.element.get())))):k=t(k.not(l.element).get()),f.classesElementLookup[x[A]]=k,u.push(x[A]),w&&l.classes[x[A]]&&u.push(l.classes[x[A]])}return l.keys&&b(l.keys.match(/\S+/g)||[],!0),l.extra&&b(l.extra.match(/\S+/g)||[]),u.join(" ")},_untrackClassesElement:function(l){var u=this;t.each(u.classesElementLookup,function(f,h){t.inArray(l.target,h)!==-1&&(u.classesElementLookup[f]=t(h.not(l.target).get()))}),this._off(t(l.target))},_removeClass:function(l,u,f){return this._toggleClass(l,u,f,!1)},_addClass:function(l,u,f){return this._toggleClass(l,u,f,!0)},_toggleClass:function(l,u,f,h){h=typeof h=="boolean"?h:f;var b=typeof l=="string"||l===null,x={extra:b?u:f,keys:b?l:u,element:b?this.element:l,add:h};return x.element.toggleClass(this._classes(x),h),this},_on:function(l,u,f){var h,b=this;typeof l!="boolean"&&(f=u,u=l,l=!1),f?(u=h=t(u),this.bindings=this.bindings.add(u)):(f=u,u=this.element,h=this.widget()),t.each(f,function(x,w){function k(){if(!(!l&&(b.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof w=="string"?b[w]:w).apply(b,arguments)}typeof w!="string"&&(k.guid=w.guid=w.guid||k.guid||t.guid++);var A=x.match(/^([\w:-]*)\s*(.*)$/),H=A[1]+b.eventNamespace,N=A[2];N?h.on(H,N,k):u.on(H,k)})},_off:function(l,u){u=(u||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,l.off(u),this.bindings=t(this.bindings.not(l).get()),this.focusable=t(this.focusable.not(l).get()),this.hoverable=t(this.hoverable.not(l).get())},_delay:function(l,u){function f(){return(typeof l=="string"?h[l]:l).apply(h,arguments)}var h=this;return setTimeout(f,u||0)},_hoverable:function(l){this.hoverable=this.hoverable.add(l),this._on(l,{mouseenter:function(u){this._addClass(t(u.currentTarget),null,"ui-state-hover")},mouseleave:function(u){this._removeClass(t(u.currentTarget),null,"ui-state-hover")}})},_focusable:function(l){this.focusable=this.focusable.add(l),this._on(l,{focusin:function(u){this._addClass(t(u.currentTarget),null,"ui-state-focus")},focusout:function(u){this._removeClass(t(u.currentTarget),null,"ui-state-focus")}})},_trigger:function(l,u,f){var h,b,x=this.options[l];if(f=f||{},u=t.Event(u),u.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),u.target=this.element[0],b=u.originalEvent,b)for(h in b)h in u||(u[h]=b[h]);return this.element.trigger(u,f),!(typeof x=="function"&&x.apply(this.element[0],[u].concat(f))===!1||u.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(l,u){t.Widget.prototype["_"+l]=function(f,h,b){typeof h=="string"&&(h={effect:h});var x,w=h?h===!0||typeof h=="number"?u:h.effect||u:l;h=h||{},typeof h=="number"?h={duration:h}:h===!0&&(h={}),x=!t.isEmptyObject(h),h.complete=b,h.delay&&f.delay(h.delay),x&&t.effects&&t.effects.effect[w]?f[l](h):w!==l&&f[w]?f[w](h.duration,h.easing,b):f.queue(function(k){t(this)[l](),b&&b.call(f[0]),k()})}}),t.widget})),hg}$w();var pg={};/*!
 * jQuery UI Autocomplete 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var mg;function Gw(){return mg||(mg=1,function(t){t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,n,a,l=this.element[0].nodeName.toLowerCase(),u=l==="textarea",f=l==="input";this.isMultiLine=u||!f&&this.element.prop("contentEditable")==="true",this.valueMethod=this.element[u||f?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(h){if(this.element.prop("readOnly")){e=!0,a=!0,n=!0;return}e=!1,a=!1,n=!1;var b=t.ui.keyCode;switch(h.keyCode){case b.PAGE_UP:e=!0,this._move("previousPage",h);break;case b.PAGE_DOWN:e=!0,this._move("nextPage",h);break;case b.UP:e=!0,this._keyEvent("previous",h);break;case b.DOWN:e=!0,this._keyEvent("next",h);break;case b.ENTER:this.menu.active&&(e=!0,h.preventDefault(),this.menu.select(h));break;case b.TAB:this.menu.active&&this.menu.select(h);break;case b.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(h),h.preventDefault());break;default:n=!0,this._searchTimeout(h);break}},keypress:function(h){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&h.preventDefault();return}if(!n){var b=t.ui.keyCode;switch(h.keyCode){case b.PAGE_UP:this._move("previousPage",h);break;case b.PAGE_DOWN:this._move("nextPage",h);break;case b.UP:this._keyEvent("previous",h);break;case b.DOWN:this._keyEvent("next",h);break}}},input:function(h){if(a){a=!1,h.preventDefault();return}this._searchTimeout(h)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){clearTimeout(this.searching),this.close(h),this._change(h)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(h){h.preventDefault()},menufocus:function(h,b){var x,w;if(this.isNewMenu&&(this.isNewMenu=!1,h.originalEvent&&/^mouse/.test(h.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(h.target).trigger(h.originalEvent)});return}w=b.item.data("ui-autocomplete-item"),this._trigger("focus",h,{item:w})!==!1&&h.originalEvent&&/^key/.test(h.originalEvent.type)&&this._value(w.value),x=b.item.attr("aria-label")||w.value,x&&String.prototype.trim.call(x).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(x))},100))},menuselect:function(h,b){var x=b.item.data("ui-autocomplete-item"),w=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=w),this._trigger("select",h,{item:x})!==!1&&this._value(x.value),this.term=this._value(),this.close(h),this.selectedItem=x}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,n){this._super(e,n),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&n&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,a=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(l,u){u(t.ui.autocomplete.filter(e,l.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(l,u){a.xhr&&a.xhr.abort(),a.xhr=t.ajax({url:n,data:l,dataType:"json",success:function(f){u(f)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var n=this.term===this._value(),a=this.menu.element.is(":visible"),l=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!n||n&&!a&&!l)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,n){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(n);if(this._trigger("search",n)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(n){e===this.requestIndex&&this.__response(n),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(n){return typeof n=="string"?{label:n,value:n}:t.extend({},n,{label:n.label||n.value,value:n.value||n.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var a=this;t.each(n,function(l,u){a._renderItemData(e,u)})},_renderItemData:function(e,n){return this._renderItem(e,n).data("ui-autocomplete-item",n)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(e,n){if(!this.menu.element.is(":visible")){this.search(null,n);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](n)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,n){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,n),n.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var a=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(l){return a.test(l.label||l.value||l)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?n=this.options.messages.results(e.length):n=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(n))},100))}}),t.ui.autocomplete})),pg}Gw();function gg(){document.querySelectorAll('input[type="color"]').forEach(e=>{if(e.parentElement&&e.parentElement.classList.contains("color-input-wrapper"))return;const n=e.getAttribute("data-initial-value"),a=document.createElement("div");a.className="color-input-wrapper",e.parentNode.insertBefore(a,e),a.appendChild(e);const l=document.createElement("button");l.type="button",l.classList.add("color-toggle-btn"),l.classList.add("uk-button"),l.textContent="Reset",a.appendChild(l),n&&n!==""&&(a.classList.add("color-input-wrapper--defined"),a.style.setProperty("--color-input-value",n)),vg(e,l,n),l.addEventListener("click",()=>{vg(e,l)}),e.addEventListener("change",()=>{e.value&&e.value!==""?(a.style.setProperty("--color-input-value",e.value),a.classList.add("color-input-wrapper--defined")):(a.style.removeProperty("--color-input-value"),a.classList.remove("color-input-wrapper--defined"))})})}function vg(t,e,n=void 0){t.type==="color"?(t.type="text",e.textContent=t.getAttribute("data-color-picker-label")):(t.type="color",t.value=n||t.value||"#000000",e.textContent=t.getAttribute("data-hex-color-label"))}const Xl="bulk-actions--collapsed",Zd="bulk-actions--collapsing";function bg(){const t=[],e=document.querySelectorAll(".bulk-layout ."+Xl),n=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),a=document.querySelector('.bulk-layout input[name="bulk-selection-all"]'),l=document.querySelector(".bulk-layout .uk-button-select-all"),u=document.querySelectorAll(".bulk-layout .uk-button-bulk"),f=document.querySelectorAll(".bulk-layout input.bulk-form-value"),h=document.querySelectorAll('.bulk-layout input[name="bulk-selection[]"]');e.forEach(w=>w.addEventListener("transitionend",k=>{w.classList.contains(Zd)&&w.classList.remove(Zd)}));const b=()=>{h.forEach(w=>{w.checked=!1,t.splice(0,t.length),f.forEach(k=>k.value="")}),a&&(a.checked=!1),x()},x=()=>{window.requestAnimationFrame(()=>{e.forEach(w=>w.classList.add(Zd)),e.forEach(w=>w.classList.add(Xl))})};u.forEach(w=>{w.hasAttribute("data-bulk-group")&&w.addEventListener("click",k=>{const A=document.getElementById(w.getAttribute("data-bulk-group"));A&&(document.querySelectorAll(".bulk-group").forEach(H=>{H!==A&&H.classList.remove("bulk-group--open")}),A.classList.toggle("bulk-group--open"))})}),h.forEach(w=>{w.addEventListener("change",k=>{w.checked?t.push(w.value):t.splice(t.indexOf(w.value),1),t.length>0?(e.forEach(A=>A.classList.remove(Xl)),f.forEach(A=>A.value=JSON.stringify(t))):(x(),a&&(a.checked=!1))})}),n&&n.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),b()}),l&&l.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),h.forEach(k=>{k.checked=!0,t.push(k.value)}),e.forEach(k=>k.classList.remove(Xl)),f.forEach(k=>k.value=JSON.stringify(t))}),a&&a.addEventListener("change",w=>{a.checked?h.forEach(k=>{k.checked=!0,t.push(k.value)}):b(),t.length>0?(e.forEach(k=>k.classList.remove(Xl)),f.forEach(k=>k.value=JSON.stringify(t))):e.forEach(k=>k.classList.add(Xl))})}class Zw{constructor(){var e,n;this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll("a"),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=(e=this.treeWrapper)==null?void 0:e.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.userPicture.length&&this.userPicture[0].classList.add("rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(a=>a.addEventListener("click",this.adminMenuLinkClick)),this.adminMenuNavParents.forEach(a=>a.addEventListener("click",this.adminMenuNavParentClick)),this.searchButton.addEventListener("click",this.searchButtonClick),this.treeButton.addEventListener("click",this.treeButtonClick),(n=this.treeWrapperLink)==null||n.addEventListener("click",this.treeWrapperLinkClick),this.userPicture.addEventListener("click",this.userPictureClick),this.userActionsLink.addEventListener("click",this.userActionsLinkClick),this.mainContentOverlay.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}menuClick(e){this.menuOpen?this.closeMenu():this.openMenu()}adminMenuNavParentClick(e){e.preventDefault();const n=e.currentTarget;if(!n)return!1;this.adminMenuNavParents.forEach(a=>{a.classList.remove("nav-open")}),n.classList.contains("nav-open")?n.classList.remove("nav-open"):n.classList.add("nav-open")}adminMenuLinkClick(e){this.menuOpen&&this.closeMenu()}showOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}hideOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}openMenu(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}closeMenu(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}searchButtonClick(e){this.searchOpen?this.closeSearch():this.openSearch()}openSearch(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}closeSearch(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}treeButtonClick(e){this.treeOpen?this.closeTree():this.openTree()}treeWrapperLinkClick(e){e.currentTarget.className.indexOf("tab-link")===-1&&this.treeOpen&&this.closeTree()}openTree(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}closeTree(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),this.treeButton.classList.remove("active"),this.treeOpen=!1}userPictureClick(e){return this.userOpen?this.closeUser():this.openUser(),!1}userActionsLinkClick(e){this.userOpen&&this.closeUser()}openUser(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}closeUser(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}mainContentOverlayClick(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}class yg{constructor(){if(this.button=document.querySelector(".rz-action-save"),this.actionMenu=document.querySelector(".actions-menu"),this.formToSave=null,!this.button||!this.actionMenu)return;this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.button.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown);const e=this.button.getAttribute("data-action-save");e&&(this.formToSave=document.querySelector(e),this.formToSave&&(this.actionMenu.insertBefore(this.button,this.actionMenu.firstChild),this.button.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown)))}onKeyDown(e){if(this.formToSave&&(e.metaKey||e.ctrlKey)&&e.key==="s")return e.preventDefault(),this.formToSave.requestSubmit(),!1}onClick(){this.formToSave.requestSubmit()}}class Xw extends HTMLElement{get contextualMenuPath(){return this.getAttribute("data-contextual-menu-path")}get editPath(){return this.getAttribute("data-node-edit-path")}get statusPath(){return this.getAttribute("data-node-status-path")}connectedCallback(){const e=this.querySelector(".tree-contextualmenu-button"),n=this.contextualMenuPath;!e||!n||(this.onClick=this.onClick.bind(this),this.moveNodeToPosition=this.moveNodeToPosition.bind(this),e.addEventListener("click",async a=>{if(!this.querySelector("nav.uk-dropdown")){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const b=await fetch(n);this.insertAdjacentHTML("beforeend",await b.text()),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}const u=this.querySelectorAll(".node-actions a"),f=this.querySelector("a.move-node-first-position"),h=this.querySelector("a.move-node-last-position");u.forEach(b=>{b.removeEventListener("click",this.onClick),b.addEventListener("click",this.onClick)}),f&&f.addEventListener("click",b=>this.moveNodeToPosition("first",b)),h&&h.addEventListener("click",b=>this.moveNodeToPosition("last",b))}))}async onClick(e){e.preventDefault();let n=e.currentTarget,a=n.closest(".nodetree-element"),l=parseInt(a.getAttribute("data-node-id")),u=n.getAttribute("data-status"),f=n.getAttribute("data-value"),h=n.getAttribute("data-action");typeof h<"u"&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),typeof u<"u"&&typeof f<"u"?await this.changeStatus(l,u,f):h==="duplicate"&&await this.duplicateNode(l))}async changeStatus(e,n,a){await this.postNodeUpdate(this.statusPath,{_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:e,statusName:n,statusValue:a}),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async duplicateNode(e){await this.postNodeUpdate(this.editPath,{_token:window.RozierConfig.ajaxToken,_action:"duplicate",nodeId:e}),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async moveNodeToPosition(e,n){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let a=n.currentTarget.closest(".nodetree-element"),l=parseInt(a.getAttribute("data-node-id")),u=parseInt(a.closest("ul").getAttribute("data-parent-node-id")),f={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:l};typeof e<"u"&&e==="first"?f.firstPosition=!0:typeof e<"u"&&e==="last"&&(f.lastPosition=!0),isNaN(u)&&(u=null),f.newParent=u,await this.postNodeUpdate(this.editPath,f),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async postNodeUpdate(e,n){return new Promise(async(a,l)=>{try{const u=await fetch(e,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(n)});if(u.ok){const f=await u.json();window.dispatchEvent(new CustomEvent("requestAllNodeTreeChange")),a(f)}else{const f=await u.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}})),l(f)}}catch(u){l(u)}})}}const Ph=t=>({}).toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase();(function(){let t,e=()=>{},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=n.length,l=window.console=window.console||{};for(;a--;)t=n[a],l[t]||(l[t]=e)})();const vh=(t,e)=>{e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,a=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(a,"").replace(n,(l,u)=>e.indexOf("<"+u.toLowerCase()+">")>-1?l:"")},_g=(t,e)=>{t&&(t.classList?t.classList.add(e):t.className+=" "+e)};class Vw extends HTMLElement{constructor(){super(),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.inputFocus=this.inputFocus.bind(this),this.inputFocusOut=this.inputFocusOut.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.wrapInTabs=this.wrapInTabs.bind(this),this.dropdown=null,this.form=this.querySelector("#edit-node-source-form"),this.formRow=this.querySelectorAll(".uk-form-row"),this.input=this.querySelectorAll("input, select"),this.devNames=this.querySelectorAll("[data-dev-name]")}connectedCallback(){this.form&&(this.wrapInTabs(),this.devNames.forEach(e=>{if(e.getAttribute("data-dev-name")!==""){const n=e.closest(".uk-form-row").querySelector("label"),a=e.querySelector(".uk-navbar-brand.label");n?n.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>"):a&&a.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>")}}),this.formRow.forEach((e,n)=>{e.className.indexOf("children-nodes-widget")>=0&&this.childrenNodeWidgetFlip(n)}),window.addEventListener("keydown",this.onInputKeyDown),window.addEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.addEventListener("focus",this.inputFocus),e.addEventListener("focusout",this.inputFocusOut)}),this.form.addEventListener("submit",this.onFormSubmit))}disconnectedCallback(){this.form&&(window.removeEventListener("keydown",this.onInputKeyDown),window.removeEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.removeEventListener("focus",this.inputFocus),e.removeEventListener("focusout",this.inputFocusOut)}),this.form.removeEventListener("submit",this.onFormSubmit))}wrapInTabs(){let e={default:{name:"default",id:"default",fields:[]}},n=this.querySelectorAll(".uk-form-row[data-field-group-canonical]");const a=n.length;let l=1;if(a<=0){this.classList.add("content-tabs-ready");return}for(let u=0;u<a;u++){let f=n[u].getAttribute("data-field-group"),h=n[u].getAttribute("data-field-group-canonical");h?(typeof e[h]>"u"&&(e[h]={name:f,id:h,fields:[]},l++),e[h].fields.push(n[u])):e.default.fields.push(n[u])}if(l>1){this.form.insertAdjacentHTML("beforeend",'<div id="node-source-form-switcher-nav-cont"><nav role="tablist" id="node-source-form-switcher-nav"></nav></div><ul id="node-source-form-switcher"></ul>');const u=this.form.querySelector("#node-source-form-switcher"),f=this.form.querySelector("#node-source-form-switcher-nav");for(let h in e){const b=e[h],x=b.id.replace(/[\s_]/g,"-").replace(/[^\w-]+/g,""),w="group-"+x,k="tab-"+x;u.insertAdjacentHTML("beforeend",'<li role="tabpanel" aria-labelledby="'+k+'" class="field-group" id="'+w+'"></li>'),b.id==="default"?f.insertAdjacentHTML("beforeend",'<button id="'+k+'" role="tab" class="switcher-nav-item" type="button" aria-controls="'+w+'"><i class="uk-icon-star"></i></button>'):f.insertAdjacentHTML("beforeend",'<button id="'+k+'" role="tab" class="switcher-nav-item" type="button" aria-controls="'+w+'">'+b.name+"</button>");let A=u.querySelector("#"+w);for(let H=0;H<b.fields.length;H++)A.appendChild(b.fields[H])}}this.activateTab(this.form.querySelector("#group-default")),this.activateTabNav(this.form.querySelector(".switcher-nav-item")),this.form.querySelectorAll(".switcher-nav-item").forEach(u=>{u.addEventListener("click",f=>{const h=u.getAttribute("aria-controls");this.form.querySelectorAll(".switcher-nav-item").forEach(b=>this.desactivateTabNav(b)),this.activateTabNav(u.closest(".switcher-nav-item")),this.form.querySelectorAll(".field-group").forEach(b=>this.desactivateTab(b)),this.activateTab(this.form.querySelector("#"+h))})}),this.classList.add("content-tabs-ready")}activateTab(e){e==null||e.classList.add("active")}activateTabNav(e){e==null||e.classList.add("active"),e==null||e.setAttribute("aria-selected",!0)}desactivateTab(e){e==null||e.classList.remove("active")}desactivateTabNav(e){e==null||e.classList.remove("active"),e==null||e.removeAttribute("aria-selected")}async onFormSubmit(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("requestLoaderShow")),window.dispatchEvent(new CustomEvent("pagechange"));try{const n=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(new FormData(this.form))});if(!n.ok)throw n;const a=await n.json();this.cleanErrors(),a.public_url&&document.querySelectorAll("a.public-url-link").forEach(u=>u.setAttribute("href",a.public_url)),a.preview_url&&document.querySelectorAll("a.preview-url-link").forEach(u=>u.setAttribute("href",a.preview_url))}catch(n){const a=await n.json();a.errors&&(this.displayErrors(a.errors),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:a.message,status:"danger"}})))}return window.dispatchEvent(new CustomEvent("requestLoaderHide")),window.dispatchEvent(new CustomEvent("requestAllNodeTreeChange")),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(n=>{n.classList.remove("form-errored"),n.querySelector(".error-message").remove()})}displayErrors(e,n=!1,a=""){(!n||n===!1)&&this.cleanErrors(),Object.keys(e).forEach(u=>{const f=e[u];if(Array.isArray(f)){f.forEach((b,x)=>{this.displayErrors(b,!0,a+u+"_"+x+"_")});return}if(Ph(f)==="string"){this.displaySingleError(a,u,e);return}if(Ph(f)!=="object")return;Object.keys(f).forEach(b=>{Ph(f[b])==="object"?this.displayErrors(f[b],!0,a+u+"_"+b+"_"):this.displaySingleError(a,b,f)})})}displaySingleError(e,n,a=[]){const l="source_"+(e+n);let u="";Array.isArray(a[n])?u=a[n][0]:u=a[n];const f=document.getElementById(l);if(f){const h=f.closest(".uk-form-row");h&&(h.classList.add("form-errored"),h.insertAdjacentHTML("beforeend",`<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> ${u}</p>`))}}onInputKeyDown(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}onInputKeyUp(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}childrenNodeWidgetFlip(e){e>=this.formRow.length-2&&(this.dropdown=this.formRow[e].querySelector(".uk-dropdown-small"),this.dropdown.classList.add("uk-dropdown-up"))}inputFocus(e){e.currentTarget.parentElement.classList.add("form-col-focus")}inputFocusOut(e){e.currentTarget.parentElement.classList.remove("form-col-focus")}}class Kw extends HTMLElement{constructor(){super(),this.form=this.querySelector("#edit-tag-form"),this.formRow=this.querySelectorAll(".uk-form-row"),this.dropdown=null,this.onFormSubmit=this.onFormSubmit.bind(this)}connectedCallback(){this.form&&this.form.addEventListener("submit",this.onFormSubmit)}disconnectedCallback(){this.form&&this.form.removeEventListener("submit",this.onFormSubmit)}async onFormSubmit(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("requestLoaderShow"));let n=new CustomEvent("pagechange");window.dispatchEvent(n);const a=new FormData(this.form),l=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:a});if(l.ok)this.cleanErrors();else{const u=await l.json();u.errors&&(this.displayErrors(u.errors),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:u.message,status:"danger"}})))}return await window.Rozier.refreshMainTagTree(),await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(n=>{n.classList.remove("form-errored"),n.querySelector(".error-message").remove()})}displayErrors(e,n){(!n||n===!1)&&this.cleanErrors();for(let a in e){let l=null,u=null;if(Ph(e[a])==="object")this.displayErrors(e[a],!0);else{l=a.replace("_","-"),e[a]instanceof Array?u=e[a][0]:u=e[a];let f=document.querySelector(".form-col-"+l);f&&(f.classList.add("form-errored"),f.insertAdjacentHTML("beforeend",'<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+u+"</p>"))}}}}class Qw extends HTMLElement{connectedCallback(){this.reverseSubNav=this.reverseSubNav.bind(this),window.addEventListener("resize",this.reverseSubNav),this.querySelectorAll('ul[role="menu"]').forEach(e=>{const n=e.closest("li");n&&(n.addEventListener("mouseenter",()=>this.enterMenuItem(n)),n.addEventListener("focusin",()=>this.enterMenuItem(n)),n.addEventListener("mouseleave",()=>this.leaveMenuItem(n)),n.addEventListener("focusout",()=>this.leaveMenuItem(n)))}),this.reverseSubNav()}enterMenuItem(e){const n=e.querySelector('[role="menuitem"]');n==null||n.setAttribute("aria-expanded","true")}leaveMenuItem(e){const n=e.querySelector('[role="menuitem"]');n==null||n.setAttribute("aria-expanded","false")}disconnectedCallback(){window.removeEventListener("resize",this.reverseSubNav)}reverseSubNav(){this.querySelectorAll(".uk-nav-sub").forEach(e=>{e.style.display="block";const n=e.getBoundingClientRect().top,a=e.getBoundingClientRect().height;e.style.display=null,n+a+20>window.innerHeight&&e.parentElement.classList.add("reversed-nav")})}}class Jw extends HTMLElement{constructor(){super();$d(this,"handleOutsideClick",n=>{n.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});this.debounce=null,this.input=this.querySelector(".rz-folder-autocomplete"),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.resize=this.resize.bind(this)}get value(){return this.input?this.input.value:""}get searchPath(){return this.getAttribute("data-search-path")}get csrfToken(){return this.getAttribute("data-csrf-token")}connectedCallback(){this.input&&(this.input.setAttribute("autocomplete","off"),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("input",this.onInput),window.addEventListener("resize",this.resize))}disconnectedCallback(){this.input&&(this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("input",this.onInput),window.removeEventListener("resize",this.resize))}onKeyDown(n){n.keyCode===9&&this.input.dataset.menuActive==="true"&&n.preventDefault()}async onInput(n){const a=this.extractLast(this.value);if(a.length<2){this.removeAutocompleteMenu();return}const l={_action:"folderAutocomplete",_token:this.csrfToken,search:this.extractLast(a)},u=this.searchPath+"?"+new URLSearchParams(l);this.debounce&&(window.clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout(async()=>{const f=await fetch(u);this.showAutocompleteMenu(await f.json())},300)}showAutocompleteMenu(n){this.removeAutocompleteMenu();const a=document.createElement("ul");a.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",n.forEach(l=>{const u=document.createElement("li");u.className="ui-menu-item",u.textContent=l,u.addEventListener("mousedown",f=>{f.preventDefault();let h=this.split(this.input.value);h.pop(),h.push(l),h.push(""),this.input.value=h.join(", "),this.removeAutocompleteMenu()}),a.appendChild(u)}),this.appendChild(a),this.input.dataset.menuActive="true",this.resize(),document.addEventListener("click",this.handleOutsideClick)}resize(){const n=this.querySelector(".ui-autocomplete");n&&(this.input.getBoundingClientRect(),n.style.left=`${this.input.offsetLeft}px`,n.style.top=`${this.input.offsetTop+this.input.offsetHeight}px`)}removeAutocompleteMenu(){const n=this.querySelector(".ui-autocomplete");n&&(n.remove(),document.removeEventListener("click",this.handleOutsideClick)),this.input&&(this.input.dataset.menuActive="false")}unbind(){}split(n){return n.split(/,\s*/)}extractLast(n){return this.split(n).pop()}}class ex extends HTMLElement{constructor(){super();$d(this,"handleOutsideClick",n=>{n.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});this.debounce=null,this.input=this.querySelector(".rz-tag-autocomplete"),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.resize=this.resize.bind(this)}get value(){return this.input?this.input.value:""}get searchPath(){return this.getAttribute("data-search-path")}get csrfToken(){return this.getAttribute("data-csrf-token")}connectedCallback(){this.input&&(this.input.setAttribute("autocomplete","off"),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("input",this.onInput),window.addEventListener("resize",this.resize))}disconnectedCallback(){this.input&&(this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("input",this.onInput),window.removeEventListener("resize",this.resize))}onKeyDown(n){n.keyCode===9&&this.input.dataset.menuActive==="true"&&n.preventDefault()}async onInput(n){const a=this.extractLast(this.value);if(a.length<2){this.removeAutocompleteMenu();return}const l={_action:"tagAutocomplete",_token:this.csrfToken,search:this.extractLast(a)},u=this.searchPath+"?"+new URLSearchParams(l);this.debounce&&(window.clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout(async()=>{const f=await fetch(u);this.showAutocompleteMenu(await f.json())},300)}showAutocompleteMenu(n){this.removeAutocompleteMenu();const a=document.createElement("ul");a.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",n.forEach(l=>{const u=document.createElement("li");u.className="ui-menu-item",u.textContent=l,u.addEventListener("mousedown",f=>{f.preventDefault();let h=this.split(this.input.value);h.pop(),h.push(l),h.push(""),this.input.value=h.join(", "),this.removeAutocompleteMenu()}),a.appendChild(u)}),this.appendChild(a),this.input.dataset.menuActive="true",this.resize(),document.addEventListener("click",this.handleOutsideClick)}resize(){const n=this.querySelector(".ui-autocomplete");n&&(this.input.getBoundingClientRect(),n.style.left=`${this.input.offsetLeft}px`,n.style.top=`${this.input.offsetTop+this.input.offsetHeight}px`)}removeAutocompleteMenu(){const n=this.querySelector(".ui-autocomplete");n&&(n.remove(),document.removeEventListener("click",this.handleOutsideClick)),this.input&&(this.input.dataset.menuActive="false")}unbind(){}split(n){return n.split(/,\s*/)}extractLast(n){return this.split(n).pop()}}const wg="roadiz.currentMainTreeTab";class tx extends HTMLElement{constructor(){super(),this.activateTab=this.activateTab.bind(this),this.activateTabNav=this.activateTabNav.bind(this),this.currentTabId=window.localStorage.getItem(wg)}connectedCallback(){this.querySelector("#tree-menu").querySelectorAll(".tab-link").forEach(l=>{l.addEventListener("click",u=>{u.preventDefault(),this.activateTabNav(l),this.activateTab(this.querySelector("#"+l.getAttribute("aria-controls")))})});let a=this.querySelector(".tab-link");this.currentTabId&&typeof this.currentTabId=="string"&&this.currentTabId.startsWith("tree")&&(a=this.querySelector("#"+this.currentTabId)),this.activateTabNav(a),this.activateTab(this.querySelector("#"+a.getAttribute("aria-controls")))}disconnectedCallback(){}activateTab(e){this.querySelectorAll(".tree-tab-content").forEach(n=>{this.desactivateTab(n)}),e==null||e.classList.add("active")}activateTabNav(e){this.querySelectorAll(".tab-link").forEach(a=>{this.desactivateTabNav(a)}),e==null||e.classList.add("active"),e==null||e.setAttribute("aria-selected",!0);const n=e.id;n&&(this.currentTabId=n,window.localStorage.setItem(wg,n))}desactivateTab(e){e==null||e.classList.remove("active")}desactivateTabNav(e){e==null||e.classList.remove("active"),e==null||e.removeAttribute("aria-selected")}}/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */const Jr=typeof window<"u"?window:typeof jp<"u"&&jp.exports&&typeof global<"u"?global:void 0,qh=function(t,e){var n=t.document,a=t.GreenSockGlobals=t.GreenSockGlobals||t;if(a.TweenLite)return a.TweenLite;var l=function(X){var le=X.split("."),Q=a,he;for(he=0;he<le.length;he++)Q[le[he]]=Q=Q[le[he]]||{};return Q},u=l("com.greensock"),f=1e-10,h=function(X){var le=[],Q=X.length,he;for(he=0;he!==Q;le.push(X[he++]));return le},b=function(){},x=function(){var X=Object.prototype.toString,le=X.call([]);return function(Q){return Q!=null&&(Q instanceof Array||typeof Q=="object"&&!!Q.push&&X.call(Q)===le)}}(),w,k,A,H,N,q={},j=function(X,le,Q,he){this.sc=q[X]?q[X].sc:[],q[X]=this,this.gsClass=null,this.func=Q;var pe=[];this.check=function(Be){for(var ot=le.length,Qe=ot,mt,Pt,ct,Wt;--ot>-1;)(mt=q[le[ot]]||new j(le[ot],[])).gsClass?(pe[ot]=mt.gsClass,Qe--):Be&&mt.sc.push(this);if(Qe===0&&Q)for(Pt=("com.greensock."+X).split("."),ct=Pt.pop(),Wt=l(Pt.join("."))[ct]=this.gsClass=Q.apply(Q,pe),he&&(a[ct]=Wt),ot=0;ot<this.sc.length;ot++)this.sc[ot].check()},this.check(!0)},O=t._gsDefine=function(X,le,Q,he){return new j(X,le,Q,he)},S=u._class=function(X,le,Q){return le=le||function(){},O(X,[],function(){return le},Q),le};O.globals=a;var P=[0,0,1,1],W=S("easing.Ease",function(X,le,Q,he){this._func=X,this._type=Q||0,this._power=he||0,this._params=le?P.concat(le):P},!0),I=W.map={},G=W.register=function(X,le,Q,he){for(var pe=le.split(","),Be=pe.length,ot=(Q||"easeIn,easeOut,easeInOut").split(","),Qe,mt,Pt,ct;--Be>-1;)for(mt=pe[Be],Qe=he?S("easing."+mt,null,!0):u.easing[mt]||{},Pt=ot.length;--Pt>-1;)ct=ot[Pt],I[mt+"."+ct]=I[ct+mt]=Qe[ct]=X.getRatio?X:X[ct]||new X};for(A=W.prototype,A._calcEnd=!1,A.getRatio=function(X){if(this._func)return this._params[0]=X,this._func.apply(null,this._params);var le=this._type,Q=this._power,he=le===1?1-X:le===2?X:X<.5?X*2:(1-X)*2;return Q===1?he*=he:Q===2?he*=he*he:Q===3?he*=he*he*he:Q===4&&(he*=he*he*he*he),le===1?1-he:le===2?he:X<.5?he/2:1-he/2},w=["Linear","Quad","Cubic","Quart","Quint,Strong"],k=w.length;--k>-1;)A=w[k]+",Power"+k,G(new W(null,null,1,k),A,"easeOut",!0),G(new W(null,null,2,k),A,"easeIn"+(k===0?",easeNone":"")),G(new W(null,null,3,k),A,"easeInOut");I.linear=u.easing.Linear.easeIn,I.swing=u.easing.Quad.easeInOut;var J=S("events.EventDispatcher",function(X){this._listeners={},this._eventTarget=X||this});A=J.prototype,A.addEventListener=function(X,le,Q,he,pe){pe=pe||0;var Be=this._listeners[X],ot=0,Qe,mt;for(this===H&&!N&&H.wake(),Be==null&&(this._listeners[X]=Be=[]),mt=Be.length;--mt>-1;)Qe=Be[mt],Qe.c===le&&Qe.s===Q?Be.splice(mt,1):ot===0&&Qe.pr<pe&&(ot=mt+1);Be.splice(ot,0,{c:le,s:Q,up:he,pr:pe})},A.removeEventListener=function(X,le){var Q=this._listeners[X],he;if(Q){for(he=Q.length;--he>-1;)if(Q[he].c===le){Q.splice(he,1);return}}},A.dispatchEvent=function(X){var le=this._listeners[X],Q,he,pe;if(le)for(Q=le.length,Q>1&&(le=le.slice(0)),he=this._eventTarget;--Q>-1;)pe=le[Q],pe&&(pe.up?pe.c.call(pe.s||he,{type:X,target:he}):pe.c.call(pe.s||he))};var ue=t.requestAnimationFrame,de=t.cancelAnimationFrame,ge=Date.now||function(){return new Date().getTime()},ce=ge();for(w=["ms","moz","webkit","o"],k=w.length;--k>-1&&!ue;)ue=t[w[k]+"RequestAnimationFrame"],de=t[w[k]+"CancelAnimationFrame"]||t[w[k]+"CancelRequestAnimationFrame"];S("Ticker",function(X,le){var Q=this,he=ge(),pe=le!==!1&&ue?"auto":!1,Be=500,ot=33,Qe="tick",mt,Pt,ct,Wt,$t,Qt=function(Vt){var xt=ge()-ce,Yn,Yt;xt>Be&&(he+=xt-ot),ce+=xt,Q.time=(ce-he)/1e3,Yn=Q.time-$t,(!mt||Yn>0||Vt===!0)&&(Q.frame++,$t+=Yn+(Yn>=Wt?.004:Wt-Yn),Yt=!0),Vt!==!0&&(ct=Pt(Qt)),Yt&&Q.dispatchEvent(Qe)};J.call(Q),Q.time=Q.frame=0,Q.tick=function(){Qt(!0)},Q.lagSmoothing=function(Vt,xt){if(!arguments.length)return Be<1/f;Be=Vt||1/f,ot=Math.min(xt,Be,0)},Q.sleep=function(){ct!=null&&(!pe||!de?clearTimeout(ct):de(ct),Pt=b,ct=null,Q===H&&(N=!1))},Q.wake=function(Vt){ct!==null?Q.sleep():Vt?he+=-ce+(ce=ge()):Q.frame>10&&(ce=ge()-Be+5),Pt=mt===0?b:!pe||!ue?function(xt){return setTimeout(xt,($t-Q.time)*1e3+1|0)}:ue,Q===H&&(N=!0),Qt(2)},Q.fps=function(Vt){if(!arguments.length)return mt;mt=Vt,Wt=1/(mt||60),$t=this.time+Wt,Q.wake()},Q.useRAF=function(Vt){if(!arguments.length)return pe;Q.sleep(),pe=Vt,Q.fps(mt)},Q.fps(X),setTimeout(function(){pe==="auto"&&Q.frame<5&&(n||{}).visibilityState!=="hidden"&&Q.useRAF(!1)},1500)}),A=u.Ticker.prototype=new u.events.EventDispatcher,A.constructor=u.Ticker;var Te=S("core.Animation",function(X,le){if(this.vars=le=le||{},this._duration=this._totalDuration=X||0,this._delay=Number(le.delay)||0,this._timeScale=1,this._active=le.immediateRender===!0,this.data=le.data,this._reversed=le.reversed===!0,!!ut){N||H.wake();var Q=this.vars.useFrames?Xe:ut;Q.add(this,Q._time),this.vars.paused&&this.paused(!0)}});H=Te.ticker=new u.Ticker,A=Te.prototype,A._dirty=A._gc=A._initted=A._paused=!1,A._totalTime=A._time=0,A._rawPrevTime=-1,A._next=A._last=A._onUpdate=A._timeline=A.timeline=null,A._paused=!1;var ve=function(){N&&ge()-ce>2e3&&((n||{}).visibilityState!=="hidden"||!H.lagSmoothing())&&H.wake();var X=setTimeout(ve,2e3);X.unref&&X.unref()};ve(),A.play=function(X,le){return X!=null&&this.seek(X,le),this.reversed(!1).paused(!1)},A.pause=function(X,le){return X!=null&&this.seek(X,le),this.paused(!0)},A.resume=function(X,le){return X!=null&&this.seek(X,le),this.paused(!1)},A.seek=function(X,le){return this.totalTime(Number(X),le!==!1)},A.restart=function(X,le){return this.reversed(!1).paused(!1).totalTime(X?-this._delay:0,le!==!1,!0)},A.reverse=function(X,le){return X!=null&&this.seek(X||this.totalDuration(),le),this.reversed(!0).paused(!1)},A.render=function(X,le,Q){},A.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},A.isActive=function(){var X=this._timeline,le=this._startTime,Q;return!X||!this._gc&&!this._paused&&X.isActive()&&(Q=X.rawTime(!0))>=le&&Q<le+this.totalDuration()/this._timeScale-1e-7},A._enabled=function(X,le){return N||H.wake(),this._gc=!X,this._active=this.isActive(),le!==!0&&(X&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!X&&this.timeline&&this._timeline._remove(this,!0)),!1},A._kill=function(X,le){return this._enabled(!1,!1)},A.kill=function(X,le){return this._kill(X,le),this},A._uncache=function(X){for(var le=X?this:this.timeline;le;)le._dirty=!0,le=le.timeline;return this},A._swapSelfInParams=function(X){for(var le=X.length,Q=X.concat();--le>-1;)X[le]==="{self}"&&(Q[le]=this);return Q},A._callback=function(X){var le=this.vars,Q=le[X],he=le[X+"Params"],pe=le[X+"Scope"]||le.callbackScope||this,Be=he?he.length:0;switch(Be){case 0:Q.call(pe);break;case 1:Q.call(pe,he[0]);break;case 2:Q.call(pe,he[0],he[1]);break;default:Q.apply(pe,he)}},A.eventCallback=function(X,le,Q,he){if((X||"").substr(0,2)==="on"){var pe=this.vars;if(arguments.length===1)return pe[X];le==null?delete pe[X]:(pe[X]=le,pe[X+"Params"]=x(Q)&&Q.join("").indexOf("{self}")!==-1?this._swapSelfInParams(Q):Q,pe[X+"Scope"]=he),X==="onUpdate"&&(this._onUpdate=le)}return this},A.delay=function(X){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+X-this._delay),this._delay=X,this):this._delay},A.duration=function(X){return arguments.length?(this._duration=this._totalDuration=X,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&X!==0&&this.totalTime(this._totalTime*(X/this._duration),!0),this):(this._dirty=!1,this._duration)},A.totalDuration=function(X){return this._dirty=!1,arguments.length?this.duration(X):this._totalDuration},A.time=function(X,le){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(X>this._duration?this._duration:X,le)):this._time},A.totalTime=function(X,le,Q){if(N||H.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(X<0&&!Q&&(X+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var he=this._totalDuration,pe=this._timeline;if(X>he&&!Q&&(X=he),this._startTime=(this._paused?this._pauseTime:pe._time)-(this._reversed?he-X:X)/this._timeScale,pe._dirty||this._uncache(!1),pe._timeline)for(;pe._timeline;)pe._timeline._time!==(pe._startTime+pe._totalTime)/pe._timeScale&&pe.totalTime(pe._totalTime,!0),pe=pe._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==X||this._duration===0)&&(Ee.length&&wt(),this.render(X,le,!1),Ee.length&&wt())}return this},A.progress=A.totalProgress=function(X,le){var Q=this.duration();return arguments.length?this.totalTime(Q*X,le):Q?this._time/Q:this.ratio},A.startTime=function(X){return arguments.length?(X!==this._startTime&&(this._startTime=X,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,X-this._delay)),this):this._startTime},A.endTime=function(X){return this._startTime+(X!=!1?this.totalDuration():this.duration())/this._timeScale},A.timeScale=function(X){if(!arguments.length)return this._timeScale;var le,Q;for(X=X||f,this._timeline&&this._timeline.smoothChildTiming&&(le=this._pauseTime,Q=le||le===0?le:this._timeline.totalTime(),this._startTime=Q-(Q-this._startTime)*this._timeScale/X),this._timeScale=X,Q=this.timeline;Q&&Q.timeline;)Q._dirty=!0,Q.totalDuration(),Q=Q.timeline;return this},A.reversed=function(X){return arguments.length?(X!=this._reversed&&(this._reversed=X,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},A.paused=function(X){if(!arguments.length)return this._paused;var le=this._timeline,Q,he;return X!=this._paused&&le&&(!N&&!X&&H.wake(),Q=le.rawTime(),he=Q-this._pauseTime,!X&&le.smoothChildTiming&&(this._startTime+=he,this._uncache(!1)),this._pauseTime=X?Q:null,this._paused=X,this._active=this.isActive(),!X&&he!==0&&this._initted&&this.duration()&&(Q=le.smoothChildTiming?this._totalTime:(Q-this._startTime)/this._timeScale,this.render(Q,Q===this._totalTime,!0))),this._gc&&!X&&this._enabled(!0,!1),this};var ne=S("core.SimpleTimeline",function(X){Te.call(this,0,X),this.autoRemoveChildren=this.smoothChildTiming=!0});A=ne.prototype=new Te,A.constructor=ne,A.kill()._gc=!1,A._first=A._last=A._recent=null,A._sortChildren=!1,A.add=A.insert=function(X,le,Q,he){var pe,Be;if(X._startTime=Number(le||0)+X._delay,X._paused&&this!==X._timeline&&(X._pauseTime=this.rawTime()-(X._timeline.rawTime()-X._pauseTime)),X.timeline&&X.timeline._remove(X,!0),X.timeline=X._timeline=this,X._gc&&X._enabled(!0,!0),pe=this._last,this._sortChildren)for(Be=X._startTime;pe&&pe._startTime>Be;)pe=pe._prev;return pe?(X._next=pe._next,pe._next=X):(X._next=this._first,this._first=X),X._next?X._next._prev=X:this._last=X,X._prev=pe,this._recent=X,this._timeline&&this._uncache(!0),this},A._remove=function(X,le){return X.timeline===this&&(le||X._enabled(!1,!0),X._prev?X._prev._next=X._next:this._first===X&&(this._first=X._next),X._next?X._next._prev=X._prev:this._last===X&&(this._last=X._prev),X._next=X._prev=X.timeline=null,X===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},A.render=function(X,le,Q){var he=this._first,pe;for(this._totalTime=this._time=this._rawPrevTime=X;he;)pe=he._next,(he._active||X>=he._startTime&&!he._paused&&!he._gc)&&(he._reversed?he.render((he._dirty?he.totalDuration():he._totalDuration)-(X-he._startTime)*he._timeScale,le,Q):he.render((X-he._startTime)*he._timeScale,le,Q)),he=pe},A.rawTime=function(){return N||H.wake(),this._totalTime};var D=S("TweenLite",function(X,le,Q){if(Te.call(this,le,Q),this.render=D.prototype.render,X==null)throw"Cannot tween a null target.";this.target=X=typeof X!="string"?X:D.selector(X)||X;var he=X.jquery||X.length&&X!==t&&X[0]&&(X[0]===t||X[0].nodeType&&X[0].style&&!X.nodeType),pe=this.vars.overwrite,Be,ot,Qe;if(this._overwrite=pe=pe==null?Ze[D.defaultOverwrite]:typeof pe=="number"?pe>>0:Ze[pe],(he||X instanceof Array||X.push&&x(X))&&typeof X[0]!="number")for(this._targets=Qe=h(X),this._propLookup=[],this._siblings=[],Be=0;Be<Qe.length;Be++){if(ot=Qe[Be],ot){if(typeof ot=="string"){ot=Qe[Be--]=D.selector(ot),typeof ot=="string"&&Qe.splice(Be+1,1);continue}else if(ot.length&&ot!==t&&ot[0]&&(ot[0]===t||ot[0].nodeType&&ot[0].style&&!ot.nodeType)){Qe.splice(Be--,1),this._targets=Qe=Qe.concat(h(ot));continue}}else{Qe.splice(Be--,1);continue}this._siblings[Be]=St(ot,this,!1),pe===1&&this._siblings[Be].length>1&&Mt(ot,this,null,1,this._siblings[Be])}else this._propLookup={},this._siblings=St(X,this,!1),pe===1&&this._siblings.length>1&&Mt(X,this,null,1,this._siblings);(this.vars.immediateRender||le===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-f,this.render(Math.min(0,-this._delay)))},!0),se=function(X){return X&&X.length&&X!==t&&X[0]&&(X[0]===t||X[0].nodeType&&X[0].style&&!X.nodeType)},ye=function(X,le){var Q={},he;for(he in X)!qe[he]&&(!(he in le)||he==="transform"||he==="x"||he==="y"||he==="width"||he==="height"||he==="className"||he==="border")&&(!V[he]||V[he]&&V[he]._autoCSS)&&(Q[he]=X[he],delete X[he]);X.css=Q};A=D.prototype=new Te,A.constructor=D,A.kill()._gc=!1,A.ratio=0,A._firstPT=A._targets=A._overwrittenProps=A._startAt=null,A._notifyPluginsOfEnabled=A._lazy=!1,D.version="1.20.5",D.defaultEase=A._ease=new W(null,null,1,1),D.defaultOverwrite="auto",D.ticker=H,D.autoSleep=120,D.lagSmoothing=function(X,le){H.lagSmoothing(X,le)},D.selector=t.$||t.jQuery||function(X){var le=t.$||t.jQuery;return le?(D.selector=le,le(X)):(n||(n=t.document),n?n.querySelectorAll?n.querySelectorAll(X):n.getElementById(X.charAt(0)==="#"?X.substr(1):X):X)};var Ee=[],et={},Ie=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Me=/[\+-]=-?[\.\d]/,ie=function(X){for(var le=this._firstPT,Q=1e-6,he;le;)he=le.blob?X===1&&this.end!=null?this.end:X?this.join(""):this.start:le.c*X+le.s,le.m?he=le.m.call(this._tween,he,this._target||le.t,this._tween):he<Q&&he>-Q&&!le.blob&&(he=0),le.f?le.fp?le.t[le.p](le.fp,he):le.t[le.p](he):le.t[le.p]=he,le=le._next},Y=function(X,le,Q,he){var pe=[],Be=0,ot="",Qe=0,mt,Pt,ct,Wt,$t,Qt,Vt;for(pe.start=X,pe.end=le,X=pe[0]=X+"",le=pe[1]=le+"",Q&&(Q(pe),X=pe[0],le=pe[1]),pe.length=0,mt=X.match(Ie)||[],Pt=le.match(Ie)||[],he&&(he._next=null,he.blob=1,pe._firstPT=pe._applyPT=he),$t=Pt.length,Wt=0;Wt<$t;Wt++)Vt=Pt[Wt],Qt=le.substr(Be,le.indexOf(Vt,Be)-Be),ot+=Qt||!Wt?Qt:",",Be+=Qt.length,Qe?Qe=(Qe+1)%5:Qt.substr(-5)==="rgba("&&(Qe=1),Vt===mt[Wt]||mt.length<=Wt?ot+=Vt:(ot&&(pe.push(ot),ot=""),ct=parseFloat(mt[Wt]),pe.push(ct),pe._firstPT={_next:pe._firstPT,t:pe,p:pe.length-1,s:ct,c:(Vt.charAt(1)==="="?parseInt(Vt.charAt(0)+"1",10)*parseFloat(Vt.substr(2)):parseFloat(Vt)-ct)||0,f:0,m:Qe&&Qe<4?Math.round:0}),Be+=Vt.length;return ot+=le.substr(Be),ot&&pe.push(ot),pe.setRatio=ie,Me.test(le)&&(pe.end=null),pe},Le=function(X,le,Q,he,pe,Be,ot,Qe,mt){typeof he=="function"&&(he=he(mt||0,X));var Pt=typeof X[le],ct=Pt!=="function"?"":le.indexOf("set")||typeof X["get"+le.substr(3)]!="function"?le:"get"+le.substr(3),Wt=Q!=="get"?Q:ct?ot?X[ct](ot):X[ct]():X[le],$t=typeof he=="string"&&he.charAt(1)==="=",Qt={t:X,p:le,s:Wt,f:Pt==="function",pg:0,n:pe||le,m:Be?typeof Be=="function"?Be:Math.round:0,pr:0,c:$t?parseInt(he.charAt(0)+"1",10)*parseFloat(he.substr(2)):parseFloat(he)-Wt||0},Vt;if((typeof Wt!="number"||typeof he!="number"&&!$t)&&(ot||isNaN(Wt)||!$t&&isNaN(he)||typeof Wt=="boolean"||typeof he=="boolean"?(Qt.fp=ot,Vt=Y(Wt,$t?parseFloat(Qt.s)+Qt.c+(Qt.s+"").replace(/[0-9\-\.]/g,""):he,Qe||D.defaultStringFilter,Qt),Qt={t:Vt,p:"setRatio",s:0,c:1,f:2,pg:0,n:pe||le,pr:0,m:0}):(Qt.s=parseFloat(Wt),$t||(Qt.c=parseFloat(he)-Qt.s||0))),Qt.c)return(Qt._next=this._firstPT)&&(Qt._next._prev=Qt),this._firstPT=Qt,Qt},Re=D._internals={isArray:x,isSelector:se,lazyTweens:Ee,blobDif:Y},V=D._plugins={},we=Re.tweenLookup={},Ae=0,qe=Re.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Ze={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Xe=Te._rootFramesTimeline=new ne,ut=Te._rootTimeline=new ne,Et=30,wt=Re.lazyRender=function(){var X=Ee.length,le;for(et={};--X>-1;)le=Ee[X],le&&le._lazy!==!1&&(le.render(le._lazy[0],le._lazy[1],!0),le._lazy=!1);Ee.length=0};ut._startTime=H.time,Xe._startTime=H.frame,ut._active=Xe._active=!0,setTimeout(wt,1),Te._updateRoot=D.render=function(){var X,le,Q;if(Ee.length&&wt(),ut.render((H.time-ut._startTime)*ut._timeScale,!1,!1),Xe.render((H.frame-Xe._startTime)*Xe._timeScale,!1,!1),Ee.length&&wt(),H.frame>=Et){Et=H.frame+(parseInt(D.autoSleep,10)||120);for(Q in we){for(le=we[Q].tweens,X=le.length;--X>-1;)le[X]._gc&&le.splice(X,1);le.length===0&&delete we[Q]}if(Q=ut._first,(!Q||Q._paused)&&D.autoSleep&&!Xe._first&&H._listeners.tick.length===1){for(;Q&&Q._paused;)Q=Q._next;Q||H.sleep()}}},H.addEventListener("tick",Te._updateRoot);var St=function(X,le,Q){var he=X._gsTweenID,pe,Be;if(we[he||(X._gsTweenID=he="t"+Ae++)]||(we[he]={target:X,tweens:[]}),le&&(pe=we[he].tweens,pe[Be=pe.length]=le,Q))for(;--Be>-1;)pe[Be]===le&&pe.splice(Be,1);return we[he].tweens},yt=function(X,le,Q,he){var pe=X.vars.onOverwrite,Be,ot;return pe&&(Be=pe(X,le,Q,he)),pe=D.onOverwrite,pe&&(ot=pe(X,le,Q,he)),Be!==!1&&ot!==!1},Mt=function(X,le,Q,he,pe){var Be,ot,Qe,mt;if(he===1||he>=4){for(mt=pe.length,Be=0;Be<mt;Be++)if((Qe=pe[Be])!==le)Qe._gc||Qe._kill(null,X,le)&&(ot=!0);else if(he===5)break;return ot}var Pt=le._startTime+f,ct=[],Wt=0,$t=le._duration===0,Qt;for(Be=pe.length;--Be>-1;)(Qe=pe[Be])===le||Qe._gc||Qe._paused||(Qe._timeline!==le._timeline?(Qt=Qt||Ut(le,0,$t),Ut(Qe,Qt,$t)===0&&(ct[Wt++]=Qe)):Qe._startTime<=Pt&&Qe._startTime+Qe.totalDuration()/Qe._timeScale>Pt&&(($t||!Qe._initted)&&Pt-Qe._startTime<=2e-10||(ct[Wt++]=Qe)));for(Be=Wt;--Be>-1;)if(Qe=ct[Be],he===2&&Qe._kill(Q,X,le)&&(ot=!0),he!==2||!Qe._firstPT&&Qe._initted){if(he!==2&&!yt(Qe,le))continue;Qe._enabled(!1,!1)&&(ot=!0)}return ot},Ut=function(X,le,Q){for(var he=X._timeline,pe=he._timeScale,Be=X._startTime;he._timeline;){if(Be+=he._startTime,pe*=he._timeScale,he._paused)return-100;he=he._timeline}return Be/=pe,Be>le?Be-le:Q&&Be===le||!X._initted&&Be-le<2*f?f:(Be+=X.totalDuration()/X._timeScale/pe)>le+f?0:Be-le-f};A._init=function(){var X=this.vars,le=this._overwrittenProps,Q=this._duration,he=!!X.immediateRender,pe=X.ease,Be,ot,Qe,mt,Pt,ct;if(X.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),Pt={};for(mt in X.startAt)Pt[mt]=X.startAt[mt];if(Pt.data="isStart",Pt.overwrite=!1,Pt.immediateRender=!0,Pt.lazy=he&&X.lazy!==!1,Pt.startAt=Pt.delay=null,Pt.onUpdate=X.onUpdate,Pt.onUpdateParams=X.onUpdateParams,Pt.onUpdateScope=X.onUpdateScope||X.callbackScope||this,this._startAt=D.to(this.target||{},0,Pt),he){if(this._time>0)this._startAt=null;else if(Q!==0)return}}else if(X.runBackwards&&Q!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{this._time!==0&&(he=!1),Qe={};for(mt in X)(!qe[mt]||mt==="autoCSS")&&(Qe[mt]=X[mt]);if(Qe.overwrite=0,Qe.data="isFromStart",Qe.lazy=he&&X.lazy!==!1,Qe.immediateRender=he,this._startAt=D.to(this.target,0,Qe),!he)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(this._time===0)return}if(this._ease=pe=pe?pe instanceof W?pe:typeof pe=="function"?new W(pe,X.easeParams):I[pe]||D.defaultEase:D.defaultEase,X.easeParams instanceof Array&&pe.config&&(this._ease=pe.config.apply(pe,X.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(ct=this._targets.length,Be=0;Be<ct;Be++)this._initProps(this._targets[Be],this._propLookup[Be]={},this._siblings[Be],le?le[Be]:null,Be)&&(ot=!0);else ot=this._initProps(this.target,this._propLookup,this._siblings,le,0);if(ot&&D._onPluginEvent("_onInitAllProps",this),le&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),X.runBackwards)for(Qe=this._firstPT;Qe;)Qe.s+=Qe.c,Qe.c=-Qe.c,Qe=Qe._next;this._onUpdate=X.onUpdate,this._initted=!0},A._initProps=function(X,le,Q,he,pe){var Be,ot,Qe,mt,Pt,ct;if(X==null)return!1;et[X._gsTweenID]&&wt(),this.vars.css||X.style&&X!==t&&X.nodeType&&V.css&&this.vars.autoCSS!==!1&&ye(this.vars,X);for(Be in this.vars)if(ct=this.vars[Be],qe[Be])ct&&(ct instanceof Array||ct.push&&x(ct))&&ct.join("").indexOf("{self}")!==-1&&(this.vars[Be]=ct=this._swapSelfInParams(ct,this));else if(V[Be]&&(mt=new V[Be])._onInitTween(X,this.vars[Be],this,pe)){for(this._firstPT=Pt={_next:this._firstPT,t:mt,p:"setRatio",s:0,c:1,f:1,n:Be,pg:1,pr:mt._priority,m:0},ot=mt._overwriteProps.length;--ot>-1;)le[mt._overwriteProps[ot]]=this._firstPT;(mt._priority||mt._onInitAllProps)&&(Qe=!0),(mt._onDisable||mt._onEnable)&&(this._notifyPluginsOfEnabled=!0),Pt._next&&(Pt._next._prev=Pt)}else le[Be]=Le.call(this,X,Be,"get",ct,Be,0,null,this.vars.stringFilter,pe);return he&&this._kill(he,X)?this._initProps(X,le,Q,he,pe):this._overwrite>1&&this._firstPT&&Q.length>1&&Mt(X,this,le,this._overwrite,Q)?(this._kill(le,X),this._initProps(X,le,Q,he,pe)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(et[X._gsTweenID]=!0),Qe)},A.render=function(X,le,Q){var he=this._time,pe=this._duration,Be=this._rawPrevTime,ot,Qe,mt,Pt;if(X>=pe-1e-7&&X>=0)this._totalTime=this._time=pe,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(ot=!0,Qe="onComplete",Q=Q||this._timeline.autoRemoveChildren),pe===0&&(this._initted||!this.vars.lazy||Q)&&(this._startTime===this._timeline._duration&&(X=0),(Be<0||X<=0&&X>=-1e-7||Be===f&&this.data!=="isPause")&&Be!==X&&(Q=!0,Be>f&&(Qe="onReverseComplete")),this._rawPrevTime=Pt=!le||X||Be===X?X:f);else if(X<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(he!==0||pe===0&&Be>0)&&(Qe="onReverseComplete",ot=this._reversed),X<0&&(this._active=!1,pe===0&&(this._initted||!this.vars.lazy||Q)&&(Be>=0&&!(Be===f&&this.data==="isPause")&&(Q=!0),this._rawPrevTime=Pt=!le||X||Be===X?X:f)),(!this._initted||this._startAt&&this._startAt.progress())&&(Q=!0);else if(this._totalTime=this._time=X,this._easeType){var ct=X/pe,Wt=this._easeType,$t=this._easePower;(Wt===1||Wt===3&&ct>=.5)&&(ct=1-ct),Wt===3&&(ct*=2),$t===1?ct*=ct:$t===2?ct*=ct*ct:$t===3?ct*=ct*ct*ct:$t===4&&(ct*=ct*ct*ct*ct),Wt===1?this.ratio=1-ct:Wt===2?this.ratio=ct:X/pe<.5?this.ratio=ct/2:this.ratio=1-ct/2}else this.ratio=this._ease.getRatio(X/pe);if(!(this._time===he&&!Q)){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!Q&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=he,this._rawPrevTime=Be,Ee.push(this),this._lazy=[X,le];return}this._time&&!ot?this.ratio=this._ease.getRatio(this._time/pe):ot&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==he&&X>=0&&(this._active=!0),he===0&&(this._startAt&&(X>=0?this._startAt.render(X,!0,Q):Qe||(Qe="_dummyGS")),this.vars.onStart&&(this._time!==0||pe===0)&&(le||this._callback("onStart"))),mt=this._firstPT;mt;)mt.f?mt.t[mt.p](mt.c*this.ratio+mt.s):mt.t[mt.p]=mt.c*this.ratio+mt.s,mt=mt._next;this._onUpdate&&(X<0&&this._startAt&&X!==-1e-4&&this._startAt.render(X,!0,Q),le||(this._time!==he||ot||Q)&&this._callback("onUpdate")),Qe&&(!this._gc||Q)&&(X<0&&this._startAt&&!this._onUpdate&&X!==-1e-4&&this._startAt.render(X,!0,Q),ot&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!le&&this.vars[Qe]&&this._callback(Qe),pe===0&&this._rawPrevTime===f&&Pt!==f&&(this._rawPrevTime=0))}},A._kill=function(X,le,Q){if(X==="all"&&(X=null),X==null&&(le==null||le===this.target))return this._lazy=!1,this._enabled(!1,!1);le=typeof le!="string"?le||this._targets||this.target:D.selector(le)||le;var he=Q&&this._time&&Q._startTime===this._startTime&&this._timeline===Q._timeline,pe,Be,ot,Qe,mt,Pt,ct,Wt,$t;if((x(le)||se(le))&&typeof le[0]!="number")for(pe=le.length;--pe>-1;)this._kill(X,le[pe],Q)&&(Pt=!0);else{if(this._targets){for(pe=this._targets.length;--pe>-1;)if(le===this._targets[pe]){mt=this._propLookup[pe]||{},this._overwrittenProps=this._overwrittenProps||[],Be=this._overwrittenProps[pe]=X?this._overwrittenProps[pe]||{}:"all";break}}else{if(le!==this.target)return!1;mt=this._propLookup,Be=this._overwrittenProps=X?this._overwrittenProps||{}:"all"}if(mt){if(ct=X||mt,Wt=X!==Be&&Be!=="all"&&X!==mt&&(typeof X!="object"||!X._tempKill),Q&&(D.onOverwrite||this.vars.onOverwrite)){for(ot in ct)mt[ot]&&($t||($t=[]),$t.push(ot));if(($t||!X)&&!yt(this,Q,le,$t))return!1}for(ot in ct)(Qe=mt[ot])&&(he&&(Qe.f?Qe.t[Qe.p](Qe.s):Qe.t[Qe.p]=Qe.s,Pt=!0),Qe.pg&&Qe.t._kill(ct)&&(Pt=!0),(!Qe.pg||Qe.t._overwriteProps.length===0)&&(Qe._prev?Qe._prev._next=Qe._next:Qe===this._firstPT&&(this._firstPT=Qe._next),Qe._next&&(Qe._next._prev=Qe._prev),Qe._next=Qe._prev=null),delete mt[ot]),Wt&&(Be[ot]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return Pt},A.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Te.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-f,this.render(Math.min(0,-this._delay))),this},A._enabled=function(X,le){if(N||H.wake(),X&&this._gc){var Q=this._targets,he;if(Q)for(he=Q.length;--he>-1;)this._siblings[he]=St(Q[he],this,!0);else this._siblings=St(this.target,this,!0)}return Te.prototype._enabled.call(this,X,le),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(X?"_onEnable":"_onDisable",this):!1},D.to=function(X,le,Q){return new D(X,le,Q)},D.from=function(X,le,Q){return Q.runBackwards=!0,Q.immediateRender=Q.immediateRender!=!1,new D(X,le,Q)},D.fromTo=function(X,le,Q,he){return he.startAt=Q,he.immediateRender=he.immediateRender!=!1&&Q.immediateRender!=!1,new D(X,le,he)},D.delayedCall=function(X,le,Q,he,pe){return new D(le,0,{delay:X,onComplete:le,onCompleteParams:Q,callbackScope:he,onReverseComplete:le,onReverseCompleteParams:Q,immediateRender:!1,lazy:!1,useFrames:pe,overwrite:0})},D.set=function(X,le){return new D(X,0,le)},D.getTweensOf=function(X,le){if(X==null)return[];X=typeof X!="string"?X:D.selector(X)||X;var Q,he,pe,Be;if((x(X)||se(X))&&typeof X[0]!="number"){for(Q=X.length,he=[];--Q>-1;)he=he.concat(D.getTweensOf(X[Q],le));for(Q=he.length;--Q>-1;)for(Be=he[Q],pe=Q;--pe>-1;)Be===he[pe]&&he.splice(Q,1)}else if(X._gsTweenID)for(he=St(X).concat(),Q=he.length;--Q>-1;)(he[Q]._gc||le&&!he[Q].isActive())&&he.splice(Q,1);return he||[]},D.killTweensOf=D.killDelayedCallsTo=function(X,le,Q){typeof le=="object"&&(Q=le,le=!1);for(var he=D.getTweensOf(X,le),pe=he.length;--pe>-1;)he[pe]._kill(Q,X)};var Kt=S("plugins.TweenPlugin",function(X,le){this._overwriteProps=(X||"").split(","),this._propName=this._overwriteProps[0],this._priority=le||0,this._super=Kt.prototype},!0);if(A=Kt.prototype,Kt.version="1.19.0",Kt.API=2,A._firstPT=null,A._addTween=Le,A.setRatio=ie,A._kill=function(X){var le=this._overwriteProps,Q=this._firstPT,he;if(X[this._propName]!=null)this._overwriteProps=[];else for(he=le.length;--he>-1;)X[le[he]]!=null&&le.splice(he,1);for(;Q;)X[Q.n]!=null&&(Q._next&&(Q._next._prev=Q._prev),Q._prev?(Q._prev._next=Q._next,Q._prev=null):this._firstPT===Q&&(this._firstPT=Q._next)),Q=Q._next;return!1},A._mod=A._roundProps=function(X){for(var le=this._firstPT,Q;le;)Q=X[this._propName]||le.n!=null&&X[le.n.split(this._propName+"_").join("")],Q&&typeof Q=="function"&&(le.f===2?le.t._applyPT.m=Q:le.m=Q),le=le._next},D._onPluginEvent=function(X,le){var Q=le._firstPT,he,pe,Be,ot,Qe;if(X==="_onInitAllProps"){for(;Q;){for(Qe=Q._next,pe=Be;pe&&pe.pr>Q.pr;)pe=pe._next;(Q._prev=pe?pe._prev:ot)?Q._prev._next=Q:Be=Q,(Q._next=pe)?pe._prev=Q:ot=Q,Q=Qe}Q=le._firstPT=Be}for(;Q;)Q.pg&&typeof Q.t[X]=="function"&&Q.t[X]()&&(he=!0),Q=Q._next;return he},Kt.activate=function(X){for(var le=X.length;--le>-1;)X[le].API===Kt.API&&(V[new X[le]()._propName]=X[le]);return!0},O.plugin=function(X){if(!X||!X.propName||!X.init||!X.API)throw"illegal plugin definition.";var le=X.propName,Q=X.priority||0,he=X.overwriteProps,pe={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},Be=S("plugins."+le.charAt(0).toUpperCase()+le.substr(1)+"Plugin",function(){Kt.call(this,le,Q),this._overwriteProps=he||[]},X.global===!0),ot=Be.prototype=new Kt(le),Qe;ot.constructor=Be,Be.API=X.API;for(Qe in pe)typeof X[Qe]=="function"&&(ot[pe[Qe]]=X[Qe]);return Be.version=X.version,Kt.activate([Be]),Be},w=t._gsQueue,w){for(k=0;k<w.length;k++)w[k]();for(A in q)q[A].func||t.console.log("GSAP encountered missing dependency: "+A)}return N=!1,D}(Jr),qp=Jr.com.greensock;qp.core.SimpleTimeline;qp.core.Animation;const{Ease:ss,Linear:C3,Power0:E3,Power1:S3,Power2:T3,Power3:A3,Power4:D3,TweenPlugin:L3}=Jr;qp.events.EventDispatcher;/*!
 * VERSION: 1.16.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/Jr._gsDefine("easing.Back",["easing.Ease"],function(){var t=Jr.GreenSockGlobals||Jr,e=t.com.greensock,n=Math.PI*2,a=Math.PI/2,l=e._class,u=function(O,S){var P=l("easing."+O,function(){},!0),W=P.prototype=new ss;return W.constructor=P,W.getRatio=S,P},f=ss.register||function(){},h=function(O,S,P,W,I){var G=l("easing."+O,{easeOut:new S,easeIn:new P,easeInOut:new W},!0);return f(G,O),G},b=function(O,S,P){this.t=O,this.v=S,P&&(this.next=P,P.prev=this,this.c=P.v-S,this.gap=P.t-O)},x=function(O,S){var P=l("easing."+O,function(I){this._p1=I||I===0?I:1.70158,this._p2=this._p1*1.525},!0),W=P.prototype=new ss;return W.constructor=P,W.getRatio=S,W.config=function(I){return new P(I)},P},w=h("Back",x("BackOut",function(O){return(O=O-1)*O*((this._p1+1)*O+this._p1)+1}),x("BackIn",function(O){return O*O*((this._p1+1)*O-this._p1)}),x("BackInOut",function(O){return(O*=2)<1?.5*O*O*((this._p2+1)*O-this._p2):.5*((O-=2)*O*((this._p2+1)*O+this._p2)+2)})),k=l("easing.SlowMo",function(O,S,P){S=S||S===0?S:.7,O==null?O=.7:O>1&&(O=1),this._p=O!==1?S:0,this._p1=(1-O)/2,this._p2=O,this._p3=this._p1+this._p2,this._calcEnd=P===!0},!0),A=k.prototype=new ss,H,N,q,j;return A.constructor=k,A.getRatio=function(O){var S=O+(.5-O)*this._p;return O<this._p1?this._calcEnd?1-(O=1-O/this._p1)*O:S-(O=1-O/this._p1)*O*O*O*S:O>this._p3?this._calcEnd?O===1?0:1-(O=(O-this._p3)/this._p1)*O:S+(O-S)*(O=(O-this._p3)/this._p1)*O*O*O:this._calcEnd?1:S},k.ease=new k(.7,.7),A.config=k.config=function(O,S,P){return new k(O,S,P)},H=l("easing.SteppedEase",function(O,S){O=O||1,this._p1=1/O,this._p2=O+(S?0:1),this._p3=S?1:0},!0),A=H.prototype=new ss,A.constructor=H,A.getRatio=function(O){return O<0?O=0:O>=1&&(O=.999999999),((this._p2*O|0)+this._p3)*this._p1},A.config=H.config=function(O,S){return new H(O,S)},N=l("easing.ExpoScaleEase",function(O,S,P){this._p1=Math.log(S/O),this._p2=S-O,this._p3=O,this._ease=P},!0),A=N.prototype=new ss,A.constructor=N,A.getRatio=function(O){return this._ease&&(O=this._ease.getRatio(O)),(this._p3*Math.exp(this._p1*O)-this._p3)/this._p2},A.config=N.config=function(O,S,P){return new N(O,S,P)},q=l("easing.RoughEase",function(O){O=O||{};for(var S=O.taper||"none",P=[],W=0,I=(O.points||20)|0,G=I,J=O.randomize!==!1,ue=O.clamp===!0,de=O.template instanceof ss?O.template:null,ge=typeof O.strength=="number"?O.strength*.4:.4,ce,Te,ve,ne,D,se;--G>-1;)ce=J?Math.random():1/I*G,Te=de?de.getRatio(ce):ce,S==="none"?ve=ge:S==="out"?(ne=1-ce,ve=ne*ne*ge):S==="in"?ve=ce*ce*ge:ce<.5?(ne=ce*2,ve=ne*ne*.5*ge):(ne=(1-ce)*2,ve=ne*ne*.5*ge),J?Te+=Math.random()*ve-ve*.5:G%2?Te+=ve*.5:Te-=ve*.5,ue&&(Te>1?Te=1:Te<0&&(Te=0)),P[W++]={x:ce,y:Te};for(P.sort(function(ye,Ee){return ye.x-Ee.x}),se=new b(1,1,null),G=I;--G>-1;)D=P[G],se=new b(D.x,D.y,se);this._prev=new b(0,0,se.t!==0?se:se.next)},!0),A=q.prototype=new ss,A.constructor=q,A.getRatio=function(O){var S=this._prev;if(O>S.t){for(;S.next&&O>=S.t;)S=S.next;S=S.prev}else for(;S.prev&&O<=S.t;)S=S.prev;return this._prev=S,S.v+(O-S.t)/S.gap*S.c},A.config=function(O){return new q(O)},q.ease=new q,h("Bounce",u("BounceOut",function(O){return O<1/2.75?7.5625*O*O:O<2/2.75?7.5625*(O-=1.5/2.75)*O+.75:O<2.5/2.75?7.5625*(O-=2.25/2.75)*O+.9375:7.5625*(O-=2.625/2.75)*O+.984375}),u("BounceIn",function(O){return(O=1-O)<1/2.75?1-7.5625*O*O:O<2/2.75?1-(7.5625*(O-=1.5/2.75)*O+.75):O<2.5/2.75?1-(7.5625*(O-=2.25/2.75)*O+.9375):1-(7.5625*(O-=2.625/2.75)*O+.984375)}),u("BounceInOut",function(O){var S=O<.5;return S?O=1-O*2:O=O*2-1,O<1/2.75?O=7.5625*O*O:O<2/2.75?O=7.5625*(O-=1.5/2.75)*O+.75:O<2.5/2.75?O=7.5625*(O-=2.25/2.75)*O+.9375:O=7.5625*(O-=2.625/2.75)*O+.984375,S?(1-O)*.5:O*.5+.5})),h("Circ",u("CircOut",function(O){return Math.sqrt(1-(O=O-1)*O)}),u("CircIn",function(O){return-(Math.sqrt(1-O*O)-1)}),u("CircInOut",function(O){return(O*=2)<1?-.5*(Math.sqrt(1-O*O)-1):.5*(Math.sqrt(1-(O-=2)*O)+1)})),j=function(O,S,P){var W=l("easing."+O,function(G,J){this._p1=G>=1?G:1,this._p2=(J||P)/(G<1?G:1),this._p3=this._p2/n*(Math.asin(1/this._p1)||0),this._p2=n/this._p2},!0),I=W.prototype=new ss;return I.constructor=W,I.getRatio=S,I.config=function(G,J){return new W(G,J)},W},h("Elastic",j("ElasticOut",function(O){return this._p1*Math.pow(2,-10*O)*Math.sin((O-this._p3)*this._p2)+1},.3),j("ElasticIn",function(O){return-(this._p1*Math.pow(2,10*(O-=1))*Math.sin((O-this._p3)*this._p2))},.3),j("ElasticInOut",function(O){return(O*=2)<1?-.5*(this._p1*Math.pow(2,10*(O-=1))*Math.sin((O-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(O-=1))*Math.sin((O-this._p3)*this._p2)*.5+1},.45)),h("Expo",u("ExpoOut",function(O){return 1-Math.pow(2,-10*O)}),u("ExpoIn",function(O){return Math.pow(2,10*(O-1))-.001}),u("ExpoInOut",function(O){return(O*=2)<1?.5*Math.pow(2,10*(O-1)):.5*(2-Math.pow(2,-10*(O-1)))})),h("Sine",u("SineOut",function(O){return Math.sin(O*a)}),u("SineIn",function(O){return-Math.cos(O*a)+1}),u("SineInOut",function(O){return-.5*(Math.cos(Math.PI*O)-1)})),l("easing.EaseLookup",{find:function(O){return ss.map[O]}},!0),f(t.SlowMo,"SlowMo","ease,"),f(q,"RoughEase","ease,"),f(H,"SteppedEase","ease,"),w},!0);Jr.Back;Jr.Elastic;Jr.Bounce;Jr.RoughEase;Jr.SlowMo;Jr.SteppedEase;Jr.Circ;const Uh=Jr.Expo;Jr.Sine;Jr.ExpoScaleEase;var Xd={exports:{}},xg;function ix(){return xg||(xg=1,function(t){var e=function(){function q(j,O){for(var S=0;S<O.length;S++){var P=O[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,O,S){return O&&q(j.prototype,O),S&&q(j,S),j}}();function n(q,j){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:q}function a(q,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);q.prototype=Object.create(j&&j.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(q,j):q.__proto__=j)}function l(q,j){if(!(q instanceof j))throw new TypeError("Cannot call a class as a function")}var u=function(){function q(){l(this,q)}return e(q,[{key:"on",value:function(O,S){return this._callbacks=this._callbacks||{},this._callbacks[O]||(this._callbacks[O]=[]),this._callbacks[O].push(S),this}},{key:"emit",value:function(O){this._callbacks=this._callbacks||{};var S=this._callbacks[O];if(S){for(var P=arguments.length,W=Array(P>1?P-1:0),I=1;I<P;I++)W[I-1]=arguments[I];for(var ue=S,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;ge.apply(this,W)}}return this}},{key:"off",value:function(O,S){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var P=this._callbacks[O];if(!P)return this;if(arguments.length===1)return delete this._callbacks[O],this;for(var W=0;W<P.length;W++){var I=P[W];if(I===S){P.splice(W,1);break}}return this}}]),q}(),f=function(q){a(j,q),e(j,null,[{key:"initClass",value:function(){this.prototype.Emitter=u,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(P,W,I){if(I)return{dzuuid:I.file.upload.uuid,dzchunkindex:I.index,dztotalfilesize:I.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:I.file.upload.totalChunkCount,dzchunkbyteoffset:I.index*this.options.chunkSize}},accept:function(P,W){return W()},chunksUploaded:function(P,W){W()},fallback:function(){var P=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var G=this.element.getElementsByTagName("div"),W=!0,I=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(I>=G.length)break;J=G[I++]}else{if(I=G.next(),I.done)break;J=I.value}var ue=J;if(/(^| )dz-message($| )/.test(ue.className)){P=ue,ue.className="dz-message";break}}P||(P=j.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(P));var de=P.getElementsByTagName("span")[0];return de&&(de.textContent!=null?de.textContent=this.options.dictFallbackMessage:de.innerText!=null&&(de.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(P,W,I,G){var J={srcX:0,srcY:0,srcWidth:P.width,srcHeight:P.height},ue=P.width/P.height;W==null&&I==null?(W=J.srcWidth,I=J.srcHeight):W==null?W=I*ue:I==null&&(I=W/ue),W=Math.min(W,J.srcWidth),I=Math.min(I,J.srcHeight);var de=W/I;if(J.srcWidth>W||J.srcHeight>I)if(G==="crop")ue>de?(J.srcHeight=P.height,J.srcWidth=J.srcHeight*de):(J.srcWidth=P.width,J.srcHeight=J.srcWidth/de);else if(G==="contain")ue>de?I=W/ue:W=I*ue;else throw new Error("Unknown resizeMethod '"+G+"'");return J.srcX=(P.width-J.srcWidth)/2,J.srcY=(P.height-J.srcHeight)/2,J.trgWidth=W,J.trgHeight=I,J},transformFile:function(P,W){return(this.options.resizeWidth||this.options.resizeHeight)&&P.type.match(/image.*/)?this.resizeImage(P,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,W):W(P)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(P){return this.element.classList.remove("dz-drag-hover")},dragstart:function(P){},dragend:function(P){return this.element.classList.remove("dz-drag-hover")},dragenter:function(P){return this.element.classList.add("dz-drag-hover")},dragover:function(P){return this.element.classList.add("dz-drag-hover")},dragleave:function(P){return this.element.classList.remove("dz-drag-hover")},paste:function(P){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(P){var W=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){P.previewElement=j.createElement(this.options.previewTemplate.trim()),P.previewTemplate=P.previewElement,this.previewsContainer.appendChild(P.previewElement);for(var J=P.previewElement.querySelectorAll("[data-dz-name]"),I=!0,G=0,J=I?J:J[Symbol.iterator]();;){var ue;if(I){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.textContent=P.name}for(var Te=P.previewElement.querySelectorAll("[data-dz-size]"),ge=!0,ce=0,Te=ge?Te:Te[Symbol.iterator]();;){if(ge){if(ce>=Te.length)break;de=Te[ce++]}else{if(ce=Te.next(),ce.done)break;de=ce.value}de.innerHTML=this.filesize(P.size)}this.options.addRemoveLinks&&(P._removeLink=j.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),P.previewElement.appendChild(P._removeLink));for(var ve=function(Ie){return Ie.preventDefault(),Ie.stopPropagation(),P.status===j.UPLOADING?j.confirm(W.options.dictCancelUploadConfirmation,function(){return W.removeFile(P)}):W.options.dictRemoveFileConfirmation?j.confirm(W.options.dictRemoveFileConfirmation,function(){return W.removeFile(P)}):W.removeFile(P)},se=P.previewElement.querySelectorAll("[data-dz-remove]"),ne=!0,D=0,se=ne?se:se[Symbol.iterator]();;){var ye;if(ne){if(D>=se.length)break;ye=se[D++]}else{if(D=se.next(),D.done)break;ye=D.value}var Ee=ye;Ee.addEventListener("click",ve)}}},removedfile:function(P){return P.previewElement!=null&&P.previewElement.parentNode!=null&&P.previewElement.parentNode.removeChild(P.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(P,W){if(P.previewElement){P.previewElement.classList.remove("dz-file-preview");for(var J=P.previewElement.querySelectorAll("[data-dz-thumbnail]"),I=!0,G=0,J=I?J:J[Symbol.iterator]();;){var ue;if(I){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.alt=P.name,de.src=W}return setTimeout(function(){return P.previewElement.classList.add("dz-image-preview")},1)}},error:function(P,W){if(P.previewElement){P.previewElement.classList.add("dz-error"),typeof W!="String"&&W.error&&(W=W.error);for(var J=P.previewElement.querySelectorAll("[data-dz-errormessage]"),I=!0,G=0,J=I?J:J[Symbol.iterator]();;){var ue;if(I){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.textContent=W}}},errormultiple:function(){},processing:function(P){if(P.previewElement&&(P.previewElement.classList.add("dz-processing"),P._removeLink))return P._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(P,W,I){if(P.previewElement)for(var ue=P.previewElement.querySelectorAll("[data-dz-uploadprogress]"),G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;ge.nodeName==="PROGRESS"?ge.value=W:ge.style.width=W+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(P){if(P.previewElement)return P.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(P){return this.emit("error",P,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(P){if(P._removeLink&&(P._removeLink.innerHTML=this.options.dictRemoveFile),P.previewElement)return P.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(S){for(var P=arguments.length,W=Array(P>1?P-1:0),I=1;I<P;I++)W[I-1]=arguments[I];for(var ue=W,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;for(var ce in ge){var Te=ge[ce];S[ce]=Te}}return S}}]);function j(O,S){l(this,j);var P=n(this,(j.__proto__||Object.getPrototypeOf(j)).call(this)),W=void 0,I=void 0;if(P.element=O,P.version=j.version,P.defaultOptions.previewTemplate=P.defaultOptions.previewTemplate.replace(/\n*/g,""),P.clickableElements=[],P.listeners=[],P.files=[],typeof P.element=="string"&&(P.element=document.querySelector(P.element)),!P.element||P.element.nodeType==null)throw new Error("Invalid dropzone element.");if(P.element.dropzone)throw new Error("Dropzone already attached.");j.instances.push(P),P.element.dropzone=P;var G=(I=j.optionsForElement(P.element))!=null?I:{};if(P.options=j.extend({},P.defaultOptions,G,S??{}),P.options.forceFallback||!j.isBrowserSupported()){var J;return J=P.options.fallback.call(P),n(P,J)}if(P.options.url==null&&(P.options.url=P.element.getAttribute("action")),!P.options.url)throw new Error("No URL provided.");if(P.options.acceptedFiles&&P.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(P.options.uploadMultiple&&P.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return P.options.acceptedMimeTypes&&(P.options.acceptedFiles=P.options.acceptedMimeTypes,delete P.options.acceptedMimeTypes),P.options.renameFilename!=null&&(P.options.renameFile=function(ue){return P.options.renameFilename.call(P,ue.name,ue)}),P.options.method=P.options.method.toUpperCase(),(W=P.getExistingFallback())&&W.parentNode&&W.parentNode.removeChild(W),P.options.previewsContainer!==!1&&(P.options.previewsContainer?P.previewsContainer=j.getElement(P.options.previewsContainer,"previewsContainer"):P.previewsContainer=P.element),P.options.clickable&&(P.options.clickable===!0?P.clickableElements=[P.element]:P.clickableElements=j.getElements(P.options.clickable,"clickable")),P.init(),P}return e(j,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(S){return S.accepted}).map(function(S){return S})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(S){return!S.accepted}).map(function(S){return S})}},{key:"getFilesWithStatus",value:function(S){return this.files.filter(function(P){return P.status===S}).map(function(P){return P})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(j.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(j.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(j.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(S){return S.status===j.UPLOADING||S.status===j.QUEUED}).map(function(S){return S})}},{key:"init",value:function(){var S=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(j.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var P=function ge(){return S.hiddenFileInput&&S.hiddenFileInput.parentNode.removeChild(S.hiddenFileInput),S.hiddenFileInput=document.createElement("input"),S.hiddenFileInput.setAttribute("type","file"),(S.options.maxFiles===null||S.options.maxFiles>1)&&S.hiddenFileInput.setAttribute("multiple","multiple"),S.hiddenFileInput.className="dz-hidden-input",S.options.acceptedFiles!==null&&S.hiddenFileInput.setAttribute("accept",S.options.acceptedFiles),S.options.capture!==null&&S.hiddenFileInput.setAttribute("capture",S.options.capture),S.hiddenFileInput.style.visibility="hidden",S.hiddenFileInput.style.position="absolute",S.hiddenFileInput.style.top="0",S.hiddenFileInput.style.left="0",S.hiddenFileInput.style.height="0",S.hiddenFileInput.style.width="0",j.getElement(S.options.hiddenInputContainer,"hiddenInputContainer").appendChild(S.hiddenFileInput),S.hiddenFileInput.addEventListener("change",function(){var ce=S.hiddenFileInput.files;if(ce.length)for(var ne=ce,Te=!0,ve=0,ne=Te?ne:ne[Symbol.iterator]();;){var D;if(Te){if(ve>=ne.length)break;D=ne[ve++]}else{if(ve=ne.next(),ve.done)break;D=ve.value}var se=D;S.addFile(se)}return S.emit("addedfiles",ce),ge()})};P()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var G=this.events,W=!0,I=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(I>=G.length)break;J=G[I++]}else{if(I=G.next(),I.done)break;J=I.value}var ue=J;this.on(ue,this.options[ue])}this.on("uploadprogress",function(){return S.updateTotalUploadProgress()}),this.on("removedfile",function(){return S.updateTotalUploadProgress()}),this.on("canceled",function(ge){return S.emit("complete",ge)}),this.on("complete",function(ge){if(S.getAddedFiles().length===0&&S.getUploadingFiles().length===0&&S.getQueuedFiles().length===0)return setTimeout(function(){return S.emit("queuecomplete")},0)});var de=function(ce){return ce.stopPropagation(),ce.preventDefault?ce.preventDefault():ce.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(ce){return S.emit("dragstart",ce)},dragenter:function(ce){return de(ce),S.emit("dragenter",ce)},dragover:function(ce){var Te=void 0;try{Te=ce.dataTransfer.effectAllowed}catch{}return ce.dataTransfer.dropEffect=Te==="move"||Te==="linkMove"?"move":"copy",de(ce),S.emit("dragover",ce)},dragleave:function(ce){return S.emit("dragleave",ce)},drop:function(ce){return de(ce),S.drop(ce)},dragend:function(ce){return S.emit("dragend",ce)}}}],this.clickableElements.forEach(function(ge){return S.listeners.push({element:ge,events:{click:function(Te){return(ge!==S.element||Te.target===S.element||j.elementInside(Te.target,S.element.querySelector(".dz-message")))&&S.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,j.instances.splice(j.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var S=void 0,P=0,W=0,I=this.getActiveFiles();if(I.length){for(var ue=this.getActiveFiles(),G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;P+=ge.upload.bytesSent,W+=ge.upload.total}S=100*P/W}else S=100;return this.emit("totaluploadprogress",S,W,P)}},{key:"_getParamName",value:function(S){return typeof this.options.paramName=="function"?this.options.paramName(S):""+this.options.paramName+(this.options.uploadMultiple?"["+S+"]":"")}},{key:"_renameFile",value:function(S){return typeof this.options.renameFile!="function"?S.name:this.options.renameFile(S)}},{key:"getFallbackForm",value:function(){var S=void 0,P=void 0;if(S=this.getExistingFallback())return S;var W='<div class="dz-fallback">';this.options.dictFallbackText&&(W+="<p>"+this.options.dictFallbackText+"</p>"),W+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var I=j.createElement(W);return this.element.tagName!=="FORM"?(P=j.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),P.appendChild(I)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),P??I}},{key:"getExistingFallback",value:function(){for(var S=function(ue){for(var ce=ue,de=!0,ge=0,ce=de?ce:ce[Symbol.iterator]();;){var Te;if(de){if(ge>=ce.length)break;Te=ce[ge++]}else{if(ge=ce.next(),ge.done)break;Te=ge.value}var ve=Te;if(/(^| )fallback($| )/.test(ve.className))return ve}},P=["div","form"],W=0;W<P.length;W++){var I=P[W],G;if(G=S(this.element.getElementsByTagName(I)))return G}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(S){return function(){var P=[];for(var W in S.events){var I=S.events[W];P.push(S.element.addEventListener(W,I,!1))}return P}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(S){return function(){var P=[];for(var W in S.events){var I=S.events[W];P.push(S.element.removeEventListener(W,I,!1))}return P}()})}},{key:"disable",value:function(){var S=this;return this.clickableElements.forEach(function(P){return P.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(P){return S.cancelUpload(P)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(S){return S.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(S){var P=0,W="b";if(S>0){for(var I=["tb","gb","mb","kb","b"],G=0;G<I.length;G++){var J=I[G],ue=Math.pow(this.options.filesizeBase,4-G)/10;if(S>=ue){P=S/Math.pow(this.options.filesizeBase,4-G),W=J;break}}P=Math.round(10*P)/10}return"<strong>"+P+"</strong> "+this.options.dictFileSizeUnits[W]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(S){if(S.dataTransfer){this.emit("drop",S);for(var P=[],W=0;W<S.dataTransfer.files.length;W++)P[W]=S.dataTransfer.files[W];if(this.emit("addedfiles",P),P.length){var I=S.dataTransfer.items;I&&I.length&&I[0].webkitGetAsEntry!=null?this._addFilesFromItems(I):this.handleFiles(P)}}}},{key:"paste",value:function(S){if(H(S!=null?S.clipboardData:void 0,function(W){return W.items})!=null){this.emit("paste",S);var P=S.clipboardData.items;if(P.length)return this._addFilesFromItems(P)}}},{key:"handleFiles",value:function(S){for(var I=S,P=!0,W=0,I=P?I:I[Symbol.iterator]();;){var G;if(P){if(W>=I.length)break;G=I[W++]}else{if(W=I.next(),W.done)break;G=W.value}var J=G;this.addFile(J)}}},{key:"_addFilesFromItems",value:function(S){var P=this;return function(){for(var W=[],J=S,I=!0,G=0,J=I?J:J[Symbol.iterator]();;){var ue;if(I){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue,ge;de.webkitGetAsEntry!=null&&(ge=de.webkitGetAsEntry())?ge.isFile?W.push(P.addFile(de.getAsFile())):ge.isDirectory?W.push(P._addFilesFromDirectory(ge,ge.name)):W.push(void 0):de.getAsFile!=null&&(de.kind==null||de.kind==="file")?W.push(P.addFile(de.getAsFile())):W.push(void 0)}return W}()}},{key:"_addFilesFromDirectory",value:function(S,P){var W=this,I=S.createReader(),G=function(de){return N(console,"log",function(ge){return ge.log(de)})},J=function ue(){return I.readEntries(function(de){if(de.length>0){for(var Te=de,ge=!0,ce=0,Te=ge?Te:Te[Symbol.iterator]();;){var ve;if(ge){if(ce>=Te.length)break;ve=Te[ce++]}else{if(ce=Te.next(),ce.done)break;ve=ce.value}var ne=ve;ne.isFile?ne.file(function(D){if(!(W.options.ignoreHiddenFiles&&D.name.substring(0,1)==="."))return D.fullPath=P+"/"+D.name,W.addFile(D)}):ne.isDirectory&&W._addFilesFromDirectory(ne,P+"/"+ne.name)}ue()}return null},G)};return J()}},{key:"accept",value:function(S,P){return this.options.maxFilesize&&S.size>this.options.maxFilesize*1024*1024?P(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(S.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):j.isValidFile(S,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(P(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",S)):this.options.accept.call(this,S,P):P(this.options.dictInvalidFileType)}},{key:"addFile",value:function(S){var P=this;return S.upload={uuid:j.uuidv4(),progress:0,total:S.size,bytesSent:0,filename:this._renameFile(S),chunked:this.options.chunking&&(this.options.forceChunking||S.size>this.options.chunkSize),totalChunkCount:Math.ceil(S.size/this.options.chunkSize)},this.files.push(S),S.status=j.ADDED,this.emit("addedfile",S),this._enqueueThumbnail(S),this.accept(S,function(W){return W?(S.accepted=!1,P._errorProcessing([S],W)):(S.accepted=!0,P.options.autoQueue&&P.enqueueFile(S)),P._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(S){for(var I=S,P=!0,W=0,I=P?I:I[Symbol.iterator]();;){var G;if(P){if(W>=I.length)break;G=I[W++]}else{if(W=I.next(),W.done)break;G=W.value}var J=G;this.enqueueFile(J)}return null}},{key:"enqueueFile",value:function(S){var P=this;if(S.status===j.ADDED&&S.accepted===!0){if(S.status=j.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return P.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(S){var P=this;if(this.options.createImageThumbnails&&S.type.match(/image.*/)&&S.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(S),setTimeout(function(){return P._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var S=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var P=this._thumbnailQueue.shift();return this.createThumbnail(P,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(W){return S.emit("thumbnail",P,W),S._processingThumbnail=!1,S._processThumbnailQueue()})}}},{key:"removeFile",value:function(S){if(S.status===j.UPLOADING&&this.cancelUpload(S),this.files=h(this.files,S),this.emit("removedfile",S),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(S){S==null&&(S=!1);for(var I=this.files.slice(),P=!0,W=0,I=P?I:I[Symbol.iterator]();;){var G;if(P){if(W>=I.length)break;G=I[W++]}else{if(W=I.next(),W.done)break;G=W.value}var J=G;(J.status!==j.UPLOADING||S)&&this.removeFile(J)}return null}},{key:"resizeImage",value:function(S,P,W,I,G){var J=this;return this.createThumbnail(S,P,W,I,!0,function(ue,de){if(de==null)return G(S);var ge=J.options.resizeMimeType;ge==null&&(ge=S.type);var ce=de.toDataURL(ge,J.options.resizeQuality);return(ge==="image/jpeg"||ge==="image/jpg")&&(ce=k.restore(S.dataURL,ce)),G(j.dataURItoBlob(ce))})}},{key:"createThumbnail",value:function(S,P,W,I,G,J){var ue=this,de=new FileReader;return de.onload=function(){if(S.dataURL=de.result,S.type==="image/svg+xml"){J!=null&&J(de.result);return}return ue.createThumbnailFromUrl(S,P,W,I,G,J)},de.readAsDataURL(S)}},{key:"createThumbnailFromUrl",value:function(S,P,W,I,G,J,ue){var de=this,ge=document.createElement("img");return ue&&(ge.crossOrigin=ue),ge.onload=function(){var ce=function(ve){return ve(1)};return typeof EXIF<"u"&&EXIF!==null&&G&&(ce=function(ve){return EXIF.getData(ge,function(){return ve(EXIF.getTag(this,"Orientation"))})}),ce(function(Te){S.width=ge.width,S.height=ge.height;var ve=de.options.resize.call(de,S,P,W,I),ne=document.createElement("canvas"),D=ne.getContext("2d");switch(ne.width=ve.trgWidth,ne.height=ve.trgHeight,Te>4&&(ne.width=ve.trgHeight,ne.height=ve.trgWidth),Te){case 2:D.translate(ne.width,0),D.scale(-1,1);break;case 3:D.translate(ne.width,ne.height),D.rotate(Math.PI);break;case 4:D.translate(0,ne.height),D.scale(1,-1);break;case 5:D.rotate(.5*Math.PI),D.scale(1,-1);break;case 6:D.rotate(.5*Math.PI),D.translate(0,-ne.width);break;case 7:D.rotate(.5*Math.PI),D.translate(ne.height,-ne.width),D.scale(-1,1);break;case 8:D.rotate(-.5*Math.PI),D.translate(-ne.height,0);break}w(D,ge,ve.srcX!=null?ve.srcX:0,ve.srcY!=null?ve.srcY:0,ve.srcWidth,ve.srcHeight,ve.trgX!=null?ve.trgX:0,ve.trgY!=null?ve.trgY:0,ve.trgWidth,ve.trgHeight);var se=ne.toDataURL("image/png");if(J!=null)return J(se,ne)})},J!=null&&(ge.onerror=J),ge.src=S.dataURL}},{key:"processQueue",value:function(){var S=this.options.parallelUploads,P=this.getUploadingFiles().length,W=P;if(!(P>=S)){var I=this.getQueuedFiles();if(I.length>0){if(this.options.uploadMultiple)return this.processFiles(I.slice(0,S-P));for(;W<S;){if(!I.length)return;this.processFile(I.shift()),W++}}}}},{key:"processFile",value:function(S){return this.processFiles([S])}},{key:"processFiles",value:function(S){for(var I=S,P=!0,W=0,I=P?I:I[Symbol.iterator]();;){var G;if(P){if(W>=I.length)break;G=I[W++]}else{if(W=I.next(),W.done)break;G=W.value}var J=G;J.processing=!0,J.status=j.UPLOADING,this.emit("processing",J)}return this.options.uploadMultiple&&this.emit("processingmultiple",S),this.uploadFiles(S)}},{key:"_getFilesWithXhr",value:function(S){return this.files.filter(function(P){return P.xhr===S}).map(function(P){return P})}},{key:"cancelUpload",value:function(S){if(S.status===j.UPLOADING){for(var P=this._getFilesWithXhr(S.xhr),G=P,W=!0,I=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(I>=G.length)break;J=G[I++]}else{if(I=G.next(),I.done)break;J=I.value}var ue=J;ue.status=j.CANCELED}typeof S.xhr<"u"&&S.xhr.abort();for(var ce=P,de=!0,ge=0,ce=de?ce:ce[Symbol.iterator]();;){var Te;if(de){if(ge>=ce.length)break;Te=ce[ge++]}else{if(ge=ce.next(),ge.done)break;Te=ge.value}var ve=Te;this.emit("canceled",ve)}this.options.uploadMultiple&&this.emit("canceledmultiple",P)}else(S.status===j.ADDED||S.status===j.QUEUED)&&(S.status=j.CANCELED,this.emit("canceled",S),this.options.uploadMultiple&&this.emit("canceledmultiple",[S]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(S){if(typeof S=="function"){for(var P=arguments.length,W=Array(P>1?P-1:0),I=1;I<P;I++)W[I-1]=arguments[I];return S.apply(this,W)}return S}},{key:"uploadFile",value:function(S){return this.uploadFiles([S])}},{key:"uploadFiles",value:function(S){var P=this;this._transformFiles(S,function(W){if(S[0].upload.chunked){var I=S[0],G=W[0];I.upload.chunks=[];var J=function(){for(var Te=0;I.upload.chunks[Te]!==void 0;)Te++;if(!(Te>=I.upload.totalChunkCount)){var ve=Te*P.options.chunkSize,ne=Math.min(ve+P.options.chunkSize,I.size),D={name:P._getParamName(0),data:G.webkitSlice?G.webkitSlice(ve,ne):G.slice(ve,ne),filename:I.upload.filename,chunkIndex:Te};I.upload.chunks[Te]={file:I,index:Te,dataBlock:D,status:j.UPLOADING,progress:0,retries:0},P._uploadData(S,[D])}};if(I.upload.finishedChunkUpload=function(ce){var Te=!0;ce.status=j.SUCCESS,ce.dataBlock=null,ce.xhr=null;for(var ve=0;ve<I.upload.totalChunkCount;ve++){if(I.upload.chunks[ve]===void 0)return J();I.upload.chunks[ve].status!==j.SUCCESS&&(Te=!1)}Te&&P.options.chunksUploaded(I,function(){P._finished(S,"",null)})},P.options.parallelChunkUploads)for(var ue=0;ue<I.upload.totalChunkCount;ue++)J();else J()}else{for(var de=[],ge=0;ge<S.length;ge++)de[ge]={name:P._getParamName(ge),data:W[ge],filename:S[ge].upload.filename};P._uploadData(S,de)}})}},{key:"_getChunk",value:function(S,P){for(var W=0;W<S.upload.totalChunkCount;W++)if(S.upload.chunks[W]!==void 0&&S.upload.chunks[W].xhr===P)return S.upload.chunks[W]}},{key:"_uploadData",value:function(S,P){for(var W=this,I=new XMLHttpRequest,ue=S,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){var de;if(G){if(J>=ue.length)break;de=ue[J++]}else{if(J=ue.next(),J.done)break;de=J.value}var ge=de;ge.xhr=I}S[0].upload.chunked&&(S[0].upload.chunks[P[0].chunkIndex].xhr=I);var ce=this.resolveOption(this.options.method,S),Te=this.resolveOption(this.options.url,S);I.open(ce,Te,!0),I.timeout=this.resolveOption(this.options.timeout,S),I.withCredentials=!!this.options.withCredentials,I.onload=function(Ae){W._finishedUploading(S,I,Ae)},I.onerror=function(){W._handleUploadError(S,I)};var ve=I.upload!=null?I.upload:I;ve.onprogress=function(Ae){return W._updateFilesUploadProgress(S,I,Ae)};var ne={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&j.extend(ne,this.options.headers);for(var D in ne){var se=ne[D];se&&I.setRequestHeader(D,se)}var ye=new FormData;if(this.options.params){var Ee=this.options.params;typeof Ee=="function"&&(Ee=Ee.call(this,S,I,S[0].upload.chunked?this._getChunk(S[0],I):null));for(var et in Ee){var Ie=Ee[et];ye.append(et,Ie)}}for(var Y=S,Me=!0,ie=0,Y=Me?Y:Y[Symbol.iterator]();;){var Le;if(Me){if(ie>=Y.length)break;Le=Y[ie++]}else{if(ie=Y.next(),ie.done)break;Le=ie.value}var Re=Le;this.emit("sending",Re,I,ye)}this.options.uploadMultiple&&this.emit("sendingmultiple",S,I,ye),this._addFormElementData(ye);for(var V=0;V<P.length;V++){var we=P[V];ye.append(we.name,we.data,we.filename)}this.submitRequest(I,ye,S)}},{key:"_transformFiles",value:function(S,P){for(var W=this,I=[],G=0,J=function(ge){W.options.transformFile.call(W,S[ge],function(ce){I[ge]=ce,++G===S.length&&P(I)})},ue=0;ue<S.length;ue++)J(ue)}},{key:"_addFormElementData",value:function(S){if(this.element.tagName==="FORM")for(var I=this.element.querySelectorAll("input, textarea, select, button"),P=!0,W=0,I=P?I:I[Symbol.iterator]();;){var G;if(P){if(W>=I.length)break;G=I[W++]}else{if(W=I.next(),W.done)break;G=W.value}var J=G,ue=J.getAttribute("name"),de=J.getAttribute("type");if(de&&(de=de.toLowerCase()),!(typeof ue>"u"||ue===null))if(J.tagName==="SELECT"&&J.hasAttribute("multiple"))for(var Te=J.options,ge=!0,ce=0,Te=ge?Te:Te[Symbol.iterator]();;){var ve;if(ge){if(ce>=Te.length)break;ve=Te[ce++]}else{if(ce=Te.next(),ce.done)break;ve=ce.value}var ne=ve;ne.selected&&S.append(ue,ne.value)}else(!de||de!=="checkbox"&&de!=="radio"||J.checked)&&S.append(ue,J.value)}}},{key:"_updateFilesUploadProgress",value:function(S,P,W){var I=void 0;if(typeof W<"u"){if(I=100*W.loaded/W.total,S[0].upload.chunked){var G=S[0],J=this._getChunk(G,P);J.progress=I,J.total=W.total,J.bytesSent=W.loaded,G.upload.progress=0,G.upload.total=0,G.upload.bytesSent=0;for(var ue=0;ue<G.upload.totalChunkCount;ue++)G.upload.chunks[ue]!==void 0&&G.upload.chunks[ue].progress!==void 0&&(G.upload.progress+=G.upload.chunks[ue].progress,G.upload.total+=G.upload.chunks[ue].total,G.upload.bytesSent+=G.upload.chunks[ue].bytesSent);G.upload.progress=G.upload.progress/G.upload.totalChunkCount}else for(var ce=S,de=!0,ge=0,ce=de?ce:ce[Symbol.iterator]();;){var Te;if(de){if(ge>=ce.length)break;Te=ce[ge++]}else{if(ge=ce.next(),ge.done)break;Te=ge.value}var ve=Te;ve.upload.progress=I,ve.upload.total=W.total,ve.upload.bytesSent=W.loaded}for(var se=S,ne=!0,D=0,se=ne?se:se[Symbol.iterator]();;){var ye;if(ne){if(D>=se.length)break;ye=se[D++]}else{if(D=se.next(),D.done)break;ye=D.value}var Ee=ye;this.emit("uploadprogress",Ee,Ee.upload.progress,Ee.upload.bytesSent)}}else{var et=!0;I=100;for(var ie=S,Ie=!0,Me=0,ie=Ie?ie:ie[Symbol.iterator]();;){var Y;if(Ie){if(Me>=ie.length)break;Y=ie[Me++]}else{if(Me=ie.next(),Me.done)break;Y=Me.value}var Le=Y;(Le.upload.progress!==100||Le.upload.bytesSent!==Le.upload.total)&&(et=!1),Le.upload.progress=I,Le.upload.bytesSent=Le.upload.total}if(et)return;for(var we=S,Re=!0,V=0,we=Re?we:we[Symbol.iterator]();;){var Ae;if(Re){if(V>=we.length)break;Ae=we[V++]}else{if(V=we.next(),V.done)break;Ae=V.value}var qe=Ae;this.emit("uploadprogress",qe,I,qe.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(S,P,W){var I=void 0;if(S[0].status!==j.CANCELED&&P.readyState===4){if(P.responseType!=="arraybuffer"&&P.responseType!=="blob"&&(I=P.responseText,P.getResponseHeader("content-type")&&~P.getResponseHeader("content-type").indexOf("application/json")))try{I=JSON.parse(I)}catch(G){W=G,I="Invalid JSON response from server."}this._updateFilesUploadProgress(S),200<=P.status&&P.status<300?S[0].upload.chunked?S[0].upload.finishedChunkUpload(this._getChunk(S[0],P)):this._finished(S,I,W):this._handleUploadError(S,P,I)}}},{key:"_handleUploadError",value:function(S,P,W){if(S[0].status!==j.CANCELED){if(S[0].upload.chunked&&this.options.retryChunks){var I=this._getChunk(S[0],P);if(I.retries++<this.options.retryChunksLimit){this._uploadData(S,[I.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var ue=S,G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){if(G){if(J>=ue.length)break;ue[J++]}else{if(J=ue.next(),J.done)break;J.value}this._errorProcessing(S,W||this.options.dictResponseError.replace("{{statusCode}}",P.status),P)}}}},{key:"submitRequest",value:function(S,P,W){S.send(P)}},{key:"_finished",value:function(S,P,W){for(var J=S,I=!0,G=0,J=I?J:J[Symbol.iterator]();;){var ue;if(I){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.status=j.SUCCESS,this.emit("success",de,P,W),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("successmultiple",S,P,W),this.emit("completemultiple",S)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(S,P,W){for(var J=S,I=!0,G=0,J=I?J:J[Symbol.iterator]();;){var ue;if(I){if(G>=J.length)break;ue=J[G++]}else{if(G=J.next(),G.done)break;ue=G.value}var de=ue;de.status=j.ERROR,this.emit("error",de,P,W),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("errormultiple",S,P,W),this.emit("completemultiple",S)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(S){var P=Math.random()*16|0,W=S==="x"?P:P&3|8;return W.toString(16)})}}]),j}(u);f.initClass(),f.version="5.5.1",f.options={},f.optionsForElement=function(q){if(q.getAttribute("id"))return f.options[b(q.getAttribute("id"))]},f.instances=[],f.forElement=function(q){if(typeof q=="string"&&(q=document.querySelector(q)),(q!=null?q.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return q.dropzone},f.autoDiscover=!0,f.discover=function(){var q=void 0;if(document.querySelectorAll)q=document.querySelectorAll(".dropzone");else{q=[];var j=function(S){return function(){for(var P=[],G=S,W=!0,I=0,G=W?G:G[Symbol.iterator]();;){var J;if(W){if(I>=G.length)break;J=G[I++]}else{if(I=G.next(),I.done)break;J=I.value}var ue=J;/(^| )dropzone($| )/.test(ue.className)?P.push(q.push(ue)):P.push(void 0)}return P}()};j(document.getElementsByTagName("div")),j(document.getElementsByTagName("form"))}return function(){for(var O=[],W=q,S=!0,P=0,W=S?W:W[Symbol.iterator]();;){var I;if(S){if(P>=W.length)break;I=W[P++]}else{if(P=W.next(),P.done)break;I=P.value}var G=I;f.optionsForElement(G)!==!1?O.push(new f(G)):O.push(void 0)}return O}()},f.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],f.isBrowserSupported=function(){var q=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))q=!1;else for(var S=f.blacklistedBrowsers,j=!0,O=0,S=j?S:S[Symbol.iterator]();;){var P;if(j){if(O>=S.length)break;P=S[O++]}else{if(O=S.next(),O.done)break;P=O.value}var W=P;if(W.test(navigator.userAgent)){q=!1;continue}}else q=!1;return q},f.dataURItoBlob=function(q){for(var j=atob(q.split(",")[1]),O=q.split(",")[0].split(":")[1].split(";")[0],S=new ArrayBuffer(j.length),P=new Uint8Array(S),W=0,I=j.length,G=0<=I;G?W<=I:W>=I;G?W++:W--)P[W]=j.charCodeAt(W);return new Blob([S],{type:O})};var h=function(j,O){return j.filter(function(S){return S!==O}).map(function(S){return S})},b=function(j){return j.replace(/[\-_](\w)/g,function(O){return O.charAt(1).toUpperCase()})};f.createElement=function(q){var j=document.createElement("div");return j.innerHTML=q,j.childNodes[0]},f.elementInside=function(q,j){if(q===j)return!0;for(;q=q.parentNode;)if(q===j)return!0;return!1},f.getElement=function(q,j){var O=void 0;if(typeof q=="string"?O=document.querySelector(q):q.nodeType!=null&&(O=q),O==null)throw new Error("Invalid `"+j+"` option provided. Please provide a CSS selector or a plain HTML element.");return O},f.getElements=function(q,j){var O=void 0,S=void 0;if(q instanceof Array){S=[];try{for(var I=q,P=!0,W=0,I=P?I:I[Symbol.iterator]();;){if(P){if(W>=I.length)break;O=I[W++]}else{if(W=I.next(),W.done)break;O=W.value}S.push(this.getElement(O,j))}}catch{S=null}}else if(typeof q=="string"){S=[];for(var ue=document.querySelectorAll(q),G=!0,J=0,ue=G?ue:ue[Symbol.iterator]();;){if(G){if(J>=ue.length)break;O=ue[J++]}else{if(J=ue.next(),J.done)break;O=J.value}S.push(O)}}else q.nodeType!=null&&(S=[q]);if(S==null||!S.length)throw new Error("Invalid `"+j+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return S},f.confirm=function(q,j,O){if(window.confirm(q))return j();if(O!=null)return O()},f.isValidFile=function(q,j){if(!j)return!0;j=j.split(",");for(var O=q.type,S=O.replace(/\/.*$/,""),I=j,P=!0,W=0,I=P?I:I[Symbol.iterator]();;){var G;if(P){if(W>=I.length)break;G=I[W++]}else{if(W=I.next(),W.done)break;G=W.value}var J=G;if(J=J.trim(),J.charAt(0)==="."){if(q.name.toLowerCase().indexOf(J.toLowerCase(),q.name.length-J.length)!==-1)return!0}else if(/\/\*$/.test(J)){if(S===J.replace(/\/.*$/,""))return!0}else if(O===J)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(q){return this.each(function(){return new f(this,q)})}),t!==null?t.exports=f:window.Dropzone=f,f.ADDED="added",f.QUEUED="queued",f.ACCEPTED=f.QUEUED,f.UPLOADING="uploading",f.PROCESSING=f.UPLOADING,f.CANCELED="canceled",f.ERROR="error",f.SUCCESS="success";var x=function(j){j.naturalWidth;var O=j.naturalHeight,S=document.createElement("canvas");S.width=1,S.height=O;var P=S.getContext("2d");P.drawImage(j,0,0);for(var W=P.getImageData(1,0,1,O),I=W.data,G=0,J=O,ue=O;ue>G;){var de=I[(ue-1)*4+3];de===0?J=ue:G=ue,ue=J+G>>1}var ge=ue/O;return ge===0?1:ge},w=function(j,O,S,P,W,I,G,J,ue,de){var ge=x(O);return j.drawImage(O,S,P,W,I,G,J,ue,de/ge)},k=function(){function q(){l(this,q)}return e(q,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(O){for(var S="",P=void 0,W=void 0,I="",G=void 0,J=void 0,ue=void 0,de="",ge=0;P=O[ge++],W=O[ge++],I=O[ge++],G=P>>2,J=(P&3)<<4|W>>4,ue=(W&15)<<2|I>>6,de=I&63,isNaN(W)?ue=de=64:isNaN(I)&&(de=64),S=S+this.KEY_STR.charAt(G)+this.KEY_STR.charAt(J)+this.KEY_STR.charAt(ue)+this.KEY_STR.charAt(de),P=W=I="",G=J=ue=de="",ge<O.length;);return S}},{key:"restore",value:function(O,S){if(!O.match("data:image/jpeg;base64,"))return S;var P=this.decode64(O.replace("data:image/jpeg;base64,","")),W=this.slice2Segments(P),I=this.exifManipulation(S,W);return"data:image/jpeg;base64,"+this.encode64(I)}},{key:"exifManipulation",value:function(O,S){var P=this.getExifArray(S),W=this.insertExif(O,P),I=new Uint8Array(W);return I}},{key:"getExifArray",value:function(O){for(var S=void 0,P=0;P<O.length;){if(S=O[P],S[0]===255&S[1]===225)return S;P++}return[]}},{key:"insertExif",value:function(O,S){var P=O.replace("data:image/jpeg;base64,",""),W=this.decode64(P),I=W.indexOf(255,3),G=W.slice(0,I),J=W.slice(I),ue=G;return ue=ue.concat(S),ue=ue.concat(J),ue}},{key:"slice2Segments",value:function(O){for(var S=0,P=[];;){var W;if(O[S]===255&O[S+1]===218)break;if(O[S]===255&O[S+1]===216)S+=2;else{W=O[S+2]*256+O[S+3];var I=S+W+2,G=O.slice(S,I);P.push(G),S=I}if(S>O.length)break}return P}},{key:"decode64",value:function(O){var S=void 0,P=void 0,W="",I=void 0,G=void 0,J=void 0,ue="",de=0,ge=[],ce=/[^A-Za-z0-9\+\/\=]/g;for(ce.exec(O)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),O=O.replace(/[^A-Za-z0-9\+\/\=]/g,"");I=this.KEY_STR.indexOf(O.charAt(de++)),G=this.KEY_STR.indexOf(O.charAt(de++)),J=this.KEY_STR.indexOf(O.charAt(de++)),ue=this.KEY_STR.indexOf(O.charAt(de++)),S=I<<2|G>>4,P=(G&15)<<4|J>>2,W=(J&3)<<6|ue,ge.push(S),J!==64&&ge.push(P),ue!==64&&ge.push(W),S=P=W="",I=G=J=ue="",de<O.length;);return ge}}]),q}();k.initClass();var A=function(j,O){var S=!1,P=!0,W=j.document,I=W.documentElement,G=W.addEventListener?"addEventListener":"attachEvent",J=W.addEventListener?"removeEventListener":"detachEvent",ue=W.addEventListener?"":"on",de=function ce(Te){if(!(Te.type==="readystatechange"&&W.readyState!=="complete")&&((Te.type==="load"?j:W)[J](ue+Te.type,ce,!1),!S&&(S=!0)))return O.call(j,Te.type||Te)},ge=function ce(){try{I.doScroll("left")}catch{setTimeout(ce,50);return}return de("poll")};if(W.readyState!=="complete"){if(W.createEventObject&&I.doScroll){try{P=!j.frameElement}catch{}P&&ge()}return W[G](ue+"DOMContentLoaded",de,!1),W[G](ue+"readystatechange",de,!1),j[G](ue+"load",de,!1)}};f._autoDiscoverFunction=function(){if(f.autoDiscover)return f.discover()},A(window,f._autoDiscoverFunction);function H(q,j){return typeof q<"u"&&q!==null?j(q):void 0}function N(q,j,O){if(typeof q<"u"&&q!==null&&typeof q[j]=="function")return O(q,j)}}(Xd)),Xd.exports}var nx=ix();const bh=bf(nx);async function hc(t){return new Promise(e=>setTimeout(e,t))}async function gl(t,e=400){return new Promise(n=>{t.style.opacity=0,t.style.display="block",t.style.transition=`opacity ${e}ms ease-in`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=1,await hc(e),n()})})}async function Nu(t,e=600){return new Promise(n=>{t.style.opacity=1,t.style.transition=`opacity ${e}ms ease-out`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=0,await hc(e),t.style.display="none",n()})})}class rx{constructor(e){this.attached=!1,this.options={onSuccess:a=>{},onError:a=>{},onAdded:a=>{},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},typeof e<"u"&&Object.assign(this.options,e),document.querySelector(this.options.selector)&&!this.attached&&this.init()}init(){const e=this;let a=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");a&&a>0&&(this.options.headers.folderId=parseInt(a),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(a)),bh.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(l,u){e.options.onAdded(l)}),this.on("success",async function(l,u){if(l.previewElement){let f=l.previewElement;await hc(3e3),await Nu(f,500),f.remove()}e.options.onSuccess(u),await window.Rozier.getMessages()}),this.on("canceled",function(l,u){e.options.onError(JSON.parse(u)),window.Rozier.getMessages()}),this.on("error",function(l,u,f){console.error(u)}),this.on("sending",function(l,u,f){u.ontimeout=()=>{e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},bh.autoDiscover=this.options.autoDiscover;try{new bh(this.options.selector,bh.options.uploadDropzoneDocument);let l=document.querySelector(this.options.selector);l.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`),l.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
            <div class="circles-icons">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
                <div class="circle circle-4"></div>
                <div class="circle circle-5"></div>
                <i class="uk-icon-rz-file"></i>
            </div>`),this.attached=!0}catch(l){console.error(l)}}unbind(){}}class ox{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,n,a){if(e.target instanceof HTMLInputElement)return;let l=$(a),u=parseInt(l.data("id")),f=l.prev(),h=null,b=null;f.length===0?(f=l.next(),h=parseInt(f.data("id"))):b=parseInt(f.data("id"));const x=window.RozierConfig.routes.attributeValueAjaxEdit;if(!(!x||!u))try{const w=await fetch(x.replace("%attributeValueId%",u),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:u,beforeAttributeValueId:h,afterAttributeValueId:b})});if(!w.ok)throw w;const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.responseText,status:k.status}}))}catch(w){const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.title||"",status:"danger"}}))}}}class ax{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,n,a){let l=$(a),u=parseInt(l.data("field-id")),f=l.prev(),h=null,b=null;f.length===0?(f=l.next(),b=parseInt(f.data("field-id"))):h=parseInt(f.data("field-id"));const x={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:u,beforeFieldId:b,afterFieldId:h},w=await fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",u),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(x)});if(w.ok){const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.responseText,status:k.status}}))}else{const k=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:k.title,status:"danger"}}))}}}class sx{constructor(){this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}init(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.addEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.addEventListener("keyup",this.onMinKeyUp)})}unbind(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMinKeyUp)})}onMaxKeyUp(e){let n=e.currentTarget,a=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>a?n.classList.add("uk-form-danger"):n.classList.remove("uk-form-danger")}onMinKeyUp(e){let n=e.currentTarget,a=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=a?n.classList.add("uk-form-danger"):n.classList.remove("uk-form-danger")}}class ux{constructor(){this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation a"),this.cleanNodeTree()}unbind(){this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}cleanNodeTree(){document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(e=>{e.remove()}),this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick),e.addEventListener("click",this.onQuickAddClick)})}treeAvailable(){return!!(this.nodeTrees&&this.nodeTrees.length)}async quickAddNode(e,n,a){return new Promise(async(l,u)=>{const f=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:n,translationId:a})});f.ok?l(await f.json()):u(await f.json())})}async onQuickAddClick(e){e.preventDefault();let n=e.currentTarget,a=n.getAttribute("data-children-node-type"),l=parseInt(n.getAttribute("data-children-parent-node")),u=parseInt(n.getAttribute("data-translation-id"));if(a!==""&&l>0)try{await this.quickAddNode(a,l,u),window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();let f=n.closest(".children-nodes-widget").querySelector(".nodetree-widget");await this.refreshNodeTree(f)}catch(f){f=JSON.parse(f.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}}async fetchNodeTree(e,n,a=void 0){return new Promise(async(l,u)=>{const f=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:e,translationId:a||null});n.forEach((x,w)=>{f.append("linkedTypes["+w+"]",x)});const h=window.RozierConfig.routes.nodesTreeAjax+"?"+f.toString(),b=await fetch(h,{method:"GET",headers:{Accept:"application/json"}});b.ok?l(await b.json()):u(await b.json())})}async refreshNodeTree(e){if(!e){console.log("No node-tree available.");return}let n=[];const a=e.querySelector(".root-tree");if(!a)return;const l=parseInt(a.getAttribute("data-parent-node-id")),u=a.getAttribute("data-linked-types");let f=a.getAttribute("data-translation-id");u&&(n=JSON.parse(u)),window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const h=await this.fetchNodeTree(l,n,f||null);if(e&&typeof h.nodeTree<"u"){await Nu(e);let b=e.closest(".children-nodes-widget");e.innerHTML=h.nodeTree,e=b.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await gl(e),this.cleanNodeTree(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}catch(h){h=JSON.parse(h.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}}))}}}class lx{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation a"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(n=>{n.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,n,a=null){try{const l=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:n,translationId:this.getTranslationId(),tagId:a,pushTop:1})});if(!l.ok)throw await l.json();return await l.json()}catch(l){throw l}}async onQuickAddClick(e){e.preventDefault();const n=e.currentTarget,a=n.getAttribute("data-children-node-type"),l=parseInt(n.getAttribute("data-children-parent-node"));let u=null;if(!a||l<=0)return!1;n.hasAttribute("data-filter-tag")&&(u=parseInt(n.getAttribute("data-filter-tag")));try{await this.quickAddNode(a,l,u),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(l,u,1)]),await window.Rozier.getMessages()}catch(f){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,n=void 0,a=void 0){try{const l=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:n||this.getCurrentPage(),tagId:a,translationId:this.getTranslationId()}),u=`${window.RozierConfig.routes.nodesTreeAjax}?${l.toString()}`,f=await fetch(u,{method:"GET",headers:{Accept:"application/json"}});if(!f.ok)throw await f.json();return await f.json()}catch(l){throw l}}async refreshNodeTree(e,n,a){const l=this.page.querySelector(".nodetree-widget");if(!l)return;const u=l.querySelector(".root-tree");if(typeof e>"u"){const h=u.getAttribute("data-parent-node-id");e=h?parseInt(h):null}else e=parseInt(e);window.dispatchEvent(new CustomEvent("requestLoaderShow"));const f=await this.fetchNodeTree(e,a?parseInt(a):void 0,n?parseInt(n):void 0);if(f.nodeTree){await Nu(l);const h=document.createElement("div");h.innerHTML=f.nodeTree;const b=h.querySelector(".nodetree-widget");l.replaceWith(b),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await gl(b),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const x=this.page.querySelector(".nodetree-langs");x&&x.remove(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}}class cx{constructor(){this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){e.preventDefault();let n=e.currentTarget.parentElement.parentElement.querySelector(".uk-form");if(n.querySelectorAll("input[type=file]").length)return n.requestSubmit(),!1;n.classList.contains("uk-has-errors")&&(n.querySelector(".uk-alert").remove(),n.classList.remove("uk-has-errors")),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const a=new window.FormData(n),l=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:a});if(!l.ok){const u=await l.json();if(u.errors&&u.errors.value)for(let f in u.errors.value)n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+u.errors.value[f]+"</span>");else if(u.errors)for(let f in u.errors){n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+u.errors[f]+"</span>");break}}return await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}resize(){}}class fx{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(n=>{const a=n.querySelectorAll(".node-statuses-item"),l=n.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(n,a,l)})}init(e,n,a){n.forEach(l=>{l.removeEventListener("click",this.itemClick),l.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),a.forEach(l=>{l.removeEventListener("change",this.onChange),l.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(l=>{l.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const n=e.currentTarget,a=n.querySelector("ul, nav"),l=n.offsetHeight,u=a?a.offsetHeight:0,f=n.getBoundingClientRect().top+window.scrollY,h=window.innerHeight,b=f+u+l;h<b&&n.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const n=e.currentTarget.querySelector('input[type="radio"]');n&&(n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const n=e.currentTarget;if(!n)return!1;const a=n.getAttribute("name");let l=null;n instanceof HTMLInputElement&&n.type==="checkbox"?l=Number(n.checked):n instanceof HTMLInputElement&&n.type==="radio"&&(this.icon&&(this.icon.className=n.parentElement.querySelector("i").className),l=n.value),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const u=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(n.getAttribute("data-node-id")),statusName:a,statusValue:l})});if(u.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestAllNodeTreeRefresh"));else{const f=await u.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}this.locked=!1,window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}class hx{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let a=[];for(let u=1;u<19;u++)a.push({column:this.tabSize*u,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let l={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:a,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(l.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,l),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}const kg={};function dx(t){let e=kg[t];if(e)return e;e=kg[t]=[];for(let n=0;n<128;n++){const a=String.fromCharCode(n);e.push(a)}for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);e[a]="%"+("0"+a.toString(16).toUpperCase()).slice(-2)}return e}function uc(t,e){typeof e!="string"&&(e=uc.defaultChars);const n=dx(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(a){let l="";for(let u=0,f=a.length;u<f;u+=3){const h=parseInt(a.slice(u+1,u+3),16);if(h<128){l+=n[h];continue}if((h&224)===192&&u+3<f){const b=parseInt(a.slice(u+4,u+6),16);if((b&192)===128){const x=h<<6&1984|b&63;x<128?l+="":l+=String.fromCharCode(x),u+=3;continue}}if((h&240)===224&&u+6<f){const b=parseInt(a.slice(u+4,u+6),16),x=parseInt(a.slice(u+7,u+9),16);if((b&192)===128&&(x&192)===128){const w=h<<12&61440|b<<6&4032|x&63;w<2048||w>=55296&&w<=57343?l+="":l+=String.fromCharCode(w),u+=6;continue}}if((h&248)===240&&u+9<f){const b=parseInt(a.slice(u+4,u+6),16),x=parseInt(a.slice(u+7,u+9),16),w=parseInt(a.slice(u+10,u+12),16);if((b&192)===128&&(x&192)===128&&(w&192)===128){let k=h<<18&1835008|b<<12&258048|x<<6&4032|w&63;k<65536||k>1114111?l+="":(k-=65536,l+=String.fromCharCode(55296+(k>>10),56320+(k&1023))),u+=9;continue}}l+=""}return l})}uc.defaultChars=";/?:@&=+$,#";uc.componentChars="";const Cg={};function px(t){let e=Cg[t];if(e)return e;e=Cg[t]=[];for(let n=0;n<128;n++){const a=String.fromCharCode(n);/^[0-9a-z]$/i.test(a)?e.push(a):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function yf(t,e,n){typeof e!="string"&&(n=e,e=yf.defaultChars),typeof n>"u"&&(n=!0);const a=px(e);let l="";for(let u=0,f=t.length;u<f;u++){const h=t.charCodeAt(u);if(n&&h===37&&u+2<f&&/^[0-9a-f]{2}$/i.test(t.slice(u+1,u+3))){l+=t.slice(u,u+3),u+=2;continue}if(h<128){l+=a[h];continue}if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&u+1<f){const b=t.charCodeAt(u+1);if(b>=56320&&b<=57343){l+=encodeURIComponent(t[u]+t[u+1]),u++;continue}}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[u])}return l}yf.defaultChars=";/?:@&=+$,-_.!~*'()#";yf.componentChars="-_.!~*'()";function Up(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Yh(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const mx=/^([a-z0-9.+-]+:)/i,gx=/:[0-9]*$/,vx=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,bx=["<",">",'"',"`"," ","\r",`
`,"	"],yx=["{","}","|","\\","^","`"].concat(bx),_x=["'"].concat(yx),Eg=["%","/","?",";","#"].concat(_x),Sg=["/","?","#"],wx=255,Tg=/^[+a-z0-9A-Z_-]{0,63}$/,xx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ag={javascript:!0,"javascript:":!0},Dg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Yp(t,e){if(t&&t instanceof Yh)return t;const n=new Yh;return n.parse(t,e),n}Yh.prototype.parse=function(t,e){let n,a,l,u=t;if(u=u.trim(),!e&&t.split("#").length===1){const x=vx.exec(u);if(x)return this.pathname=x[1],x[2]&&(this.search=x[2]),this}let f=mx.exec(u);if(f&&(f=f[0],n=f.toLowerCase(),this.protocol=f,u=u.substr(f.length)),(e||f||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(l=u.substr(0,2)==="//",l&&!(f&&Ag[f])&&(u=u.substr(2),this.slashes=!0)),!Ag[f]&&(l||f&&!Dg[f])){let x=-1;for(let N=0;N<Sg.length;N++)a=u.indexOf(Sg[N]),a!==-1&&(x===-1||a<x)&&(x=a);let w,k;x===-1?k=u.lastIndexOf("@"):k=u.lastIndexOf("@",x),k!==-1&&(w=u.slice(0,k),u=u.slice(k+1),this.auth=w),x=-1;for(let N=0;N<Eg.length;N++)a=u.indexOf(Eg[N]),a!==-1&&(x===-1||a<x)&&(x=a);x===-1&&(x=u.length),u[x-1]===":"&&x--;const A=u.slice(0,x);u=u.slice(x),this.parseHost(A),this.hostname=this.hostname||"";const H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H){const N=this.hostname.split(/\./);for(let q=0,j=N.length;q<j;q++){const O=N[q];if(O&&!O.match(Tg)){let S="";for(let P=0,W=O.length;P<W;P++)O.charCodeAt(P)>127?S+="x":S+=O[P];if(!S.match(Tg)){const P=N.slice(0,q),W=N.slice(q+1),I=O.match(xx);I&&(P.push(I[1]),W.unshift(I[2])),W.length&&(u=W.join(".")+u),this.hostname=P.join(".");break}}}}this.hostname.length>wx&&(this.hostname=""),H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const h=u.indexOf("#");h!==-1&&(this.hash=u.substr(h),u=u.slice(0,h));const b=u.indexOf("?");return b!==-1&&(this.search=u.substr(b),u=u.slice(0,b)),u&&(this.pathname=u),Dg[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Yh.prototype.parseHost=function(t){let e=gx.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const kx=Object.freeze(Object.defineProperty({__proto__:null,decode:uc,encode:yf,format:Up,parse:Yp},Symbol.toStringTag,{value:"Module"})),A0=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,D0=/[\0-\x1F\x7F-\x9F]/,Cx=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,$p=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,L0=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,M0=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Ex=Object.freeze(Object.defineProperty({__proto__:null,Any:A0,Cc:D0,Cf:Cx,P:$p,S:L0,Z:M0},Symbol.toStringTag,{value:"Module"})),Sx=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Tx=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Vd;const Ax=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Dx=(Vd=String.fromCodePoint)!==null&&Vd!==void 0?Vd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function Lx(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Ax.get(t))!==null&&e!==void 0?e:t}var Fr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Fr||(Fr={}));const Mx=32;var Pu;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Pu||(Pu={}));function vp(t){return t>=Fr.ZERO&&t<=Fr.NINE}function Px(t){return t>=Fr.UPPER_A&&t<=Fr.UPPER_F||t>=Fr.LOWER_A&&t<=Fr.LOWER_F}function Ox(t){return t>=Fr.UPPER_A&&t<=Fr.UPPER_Z||t>=Fr.LOWER_A&&t<=Fr.LOWER_Z||vp(t)}function Fx(t){return t===Fr.EQUALS||Ox(t)}var Pr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Pr||(Pr={}));var Lu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Lu||(Lu={}));class Rx{constructor(e,n,a){this.decodeTree=e,this.emitCodePoint=n,this.errors=a,this.state=Pr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Lu.Strict}startEntity(e){this.decodeMode=e,this.state=Pr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Pr.EntityStart:return e.charCodeAt(n)===Fr.NUM?(this.state=Pr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Pr.NamedEntity,this.stateNamedEntity(e,n));case Pr.NumericStart:return this.stateNumericStart(e,n);case Pr.NumericDecimal:return this.stateNumericDecimal(e,n);case Pr.NumericHex:return this.stateNumericHex(e,n);case Pr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Mx)===Fr.LOWER_X?(this.state=Pr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Pr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,a,l){if(n!==a){const u=a-n;this.result=this.result*Math.pow(l,u)+parseInt(e.substr(n,u),l),this.consumed+=u}}stateNumericHex(e,n){const a=n;for(;n<e.length;){const l=e.charCodeAt(n);if(vp(l)||Px(l))n+=1;else return this.addToNumericResult(e,a,n,16),this.emitNumericEntity(l,3)}return this.addToNumericResult(e,a,n,16),-1}stateNumericDecimal(e,n){const a=n;for(;n<e.length;){const l=e.charCodeAt(n);if(vp(l))n+=1;else return this.addToNumericResult(e,a,n,10),this.emitNumericEntity(l,2)}return this.addToNumericResult(e,a,n,10),-1}emitNumericEntity(e,n){var a;if(this.consumed<=n)return(a=this.errors)===null||a===void 0||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Fr.SEMI)this.consumed+=1;else if(this.decodeMode===Lu.Strict)return 0;return this.emitCodePoint(Lx(this.result),this.consumed),this.errors&&(e!==Fr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:a}=this;let l=a[this.treeIndex],u=(l&Pu.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const f=e.charCodeAt(n);if(this.treeIndex=Nx(a,l,this.treeIndex+Math.max(1,u),f),this.treeIndex<0)return this.result===0||this.decodeMode===Lu.Attribute&&(u===0||Fx(f))?0:this.emitNotTerminatedNamedEntity();if(l=a[this.treeIndex],u=(l&Pu.VALUE_LENGTH)>>14,u!==0){if(f===Fr.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==Lu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:a}=this,l=(a[n]&Pu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,l,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,a){const{decodeTree:l}=this;return this.emitCodePoint(n===1?l[e]&~Pu.VALUE_LENGTH:l[e+1],a),n===3&&this.emitCodePoint(l[e+2],a),a}end(){var e;switch(this.state){case Pr.NamedEntity:return this.result!==0&&(this.decodeMode!==Lu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Pr.NumericDecimal:return this.emitNumericEntity(0,2);case Pr.NumericHex:return this.emitNumericEntity(0,3);case Pr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Pr.EntityStart:return 0}}}function P0(t){let e="";const n=new Rx(t,a=>e+=Dx(a));return function(l,u){let f=0,h=0;for(;(h=l.indexOf("&",h))>=0;){e+=l.slice(f,h),n.startEntity(u);const x=n.write(l,h+1);if(x<0){f=h+n.end();break}f=h+x,h=x===0?f+1:f}const b=e+l.slice(f);return e="",b}}function Nx(t,e,n,a){const l=(e&Pu.BRANCH_LENGTH)>>7,u=e&Pu.JUMP_TABLE;if(l===0)return u!==0&&a===u?n:-1;if(u){const b=a-u;return b<0||b>=l?-1:t[n+b]-1}let f=n,h=f+l-1;for(;f<=h;){const b=f+h>>>1,x=t[b];if(x<a)f=b+1;else if(x>a)h=b-1;else return t[b+l]}return-1}const zx=P0(Sx);P0(Tx);function O0(t,e=Lu.Legacy){return zx(t,e)}function Ix(t){return Object.prototype.toString.call(t)}function Gp(t){return Ix(t)==="[object String]"}const Bx=Object.prototype.hasOwnProperty;function Hx(t,e){return Bx.call(t,e)}function id(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(a){t[a]=n[a]})}}),t}function F0(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Zp(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function $h(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const R0=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Wx=/&([a-z#][a-z0-9]{1,31});/gi,jx=new RegExp(R0.source+"|"+Wx.source,"gi"),qx=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Ux(t,e){if(e.charCodeAt(0)===35&&qx.test(e)){const a=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Zp(a)?$h(a):t}const n=O0(t);return n!==t?n:t}function Yx(t){return t.indexOf("\\")<0?t:t.replace(R0,"$1")}function lc(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(jx,function(e,n,a){return n||Ux(e,a)})}const $x=/[&<>"]/,Gx=/[&<>"]/g,Zx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Xx(t){return Zx[t]}function zu(t){return $x.test(t)?t.replace(Gx,Xx):t}const Vx=/[.?*+^$[\]\\(){}|-]/g;function Kx(t){return t.replace(Vx,"\\$&")}function cn(t){switch(t){case 9:case 32:return!0}return!1}function hf(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function df(t){return $p.test(t)||L0.test(t)}function pf(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function nd(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Qx={mdurl:kx,ucmicro:Ex},Jx=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:F0,assign:id,escapeHtml:zu,escapeRE:Kx,fromCodePoint:$h,has:Hx,isMdAsciiPunct:pf,isPunctChar:df,isSpace:cn,isString:Gp,isValidEntityCode:Zp,isWhiteSpace:hf,lib:Qx,normalizeReference:nd,unescapeAll:lc,unescapeMd:Yx},Symbol.toStringTag,{value:"Module"}));function ek(t,e,n){let a,l,u,f;const h=t.posMax,b=t.pos;for(t.pos=e+1,a=1;t.pos<h;){if(u=t.src.charCodeAt(t.pos),u===93&&(a--,a===0)){l=!0;break}if(f=t.pos,t.md.inline.skipToken(t),u===91){if(f===t.pos-1)a++;else if(n)return t.pos=b,-1}}let x=-1;return l&&(x=t.pos),t.pos=b,x}function tk(t,e,n){let a,l=e;const u={ok:!1,pos:0,str:""};if(t.charCodeAt(l)===60){for(l++;l<n;){if(a=t.charCodeAt(l),a===10||a===60)return u;if(a===62)return u.pos=l+1,u.str=lc(t.slice(e+1,l)),u.ok=!0,u;if(a===92&&l+1<n){l+=2;continue}l++}return u}let f=0;for(;l<n&&(a=t.charCodeAt(l),!(a===32||a<32||a===127));){if(a===92&&l+1<n){if(t.charCodeAt(l+1)===32)break;l+=2;continue}if(a===40&&(f++,f>32))return u;if(a===41){if(f===0)break;f--}l++}return e===l||f!==0||(u.str=lc(t.slice(e,l)),u.pos=l,u.ok=!0),u}function ik(t,e,n,a){let l,u=e;const f={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(a)f.str=a.str,f.marker=a.marker;else{if(u>=n)return f;let h=t.charCodeAt(u);if(h!==34&&h!==39&&h!==40)return f;e++,u++,h===40&&(h=41),f.marker=h}for(;u<n;){if(l=t.charCodeAt(u),l===f.marker)return f.pos=u+1,f.str+=lc(t.slice(e,u)),f.ok=!0,f;if(l===40&&f.marker===41)return f;l===92&&u+1<n&&u++,u++}return f.can_continue=!0,f.str+=lc(t.slice(e,u)),f}const nk=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:tk,parseLinkLabel:ek,parseLinkTitle:ik},Symbol.toStringTag,{value:"Module"})),gs={};gs.code_inline=function(t,e,n,a,l){const u=t[e];return"<code"+l.renderAttrs(u)+">"+zu(u.content)+"</code>"};gs.code_block=function(t,e,n,a,l){const u=t[e];return"<pre"+l.renderAttrs(u)+"><code>"+zu(t[e].content)+`</code></pre>
`};gs.fence=function(t,e,n,a,l){const u=t[e],f=u.info?lc(u.info).trim():"";let h="",b="";if(f){const w=f.split(/(\s+)/g);h=w[0],b=w.slice(2).join("")}let x;if(n.highlight?x=n.highlight(u.content,h,b)||zu(u.content):x=zu(u.content),x.indexOf("<pre")===0)return x+`
`;if(f){const w=u.attrIndex("class"),k=u.attrs?u.attrs.slice():[];w<0?k.push(["class",n.langPrefix+h]):(k[w]=k[w].slice(),k[w][1]+=" "+n.langPrefix+h);const A={attrs:k};return`<pre><code${l.renderAttrs(A)}>${x}</code></pre>
`}return`<pre><code${l.renderAttrs(u)}>${x}</code></pre>
`};gs.image=function(t,e,n,a,l){const u=t[e];return u.attrs[u.attrIndex("alt")][1]=l.renderInlineAsText(u.children,n,a),l.renderToken(t,e,n)};gs.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};gs.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};gs.text=function(t,e){return zu(t[e].content)};gs.html_block=function(t,e){return t[e].content};gs.html_inline=function(t,e){return t[e].content};function dc(){this.rules=id({},gs)}dc.prototype.renderAttrs=function(e){let n,a,l;if(!e.attrs)return"";for(l="",n=0,a=e.attrs.length;n<a;n++)l+=" "+zu(e.attrs[n][0])+'="'+zu(e.attrs[n][1])+'"';return l};dc.prototype.renderToken=function(e,n,a){const l=e[n];let u="";if(l.hidden)return"";l.block&&l.nesting!==-1&&n&&e[n-1].hidden&&(u+=`
`),u+=(l.nesting===-1?"</":"<")+l.tag,u+=this.renderAttrs(l),l.nesting===0&&a.xhtmlOut&&(u+=" /");let f=!1;if(l.block&&(f=!0,l.nesting===1&&n+1<e.length)){const h=e[n+1];(h.type==="inline"||h.hidden||h.nesting===-1&&h.tag===l.tag)&&(f=!1)}return u+=f?`>
`:">",u};dc.prototype.renderInline=function(t,e,n){let a="";const l=this.rules;for(let u=0,f=t.length;u<f;u++){const h=t[u].type;typeof l[h]<"u"?a+=l[h](t,u,e,n,this):a+=this.renderToken(t,u,e)}return a};dc.prototype.renderInlineAsText=function(t,e,n){let a="";for(let l=0,u=t.length;l<u;l++)switch(t[l].type){case"text":a+=t[l].content;break;case"image":a+=this.renderInlineAsText(t[l].children,e,n);break;case"html_inline":case"html_block":a+=t[l].content;break;case"softbreak":case"hardbreak":a+=`
`;break}return a};dc.prototype.render=function(t,e,n){let a="";const l=this.rules;for(let u=0,f=t.length;u<f;u++){const h=t[u].type;h==="inline"?a+=this.renderInline(t[u].children,e,n):typeof l[h]<"u"?a+=l[h](t,u,e,n,this):a+=this.renderToken(t,u,e,n)}return a};function To(){this.__rules__=[],this.__cache__=null}To.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};To.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(a){e.indexOf(a)<0&&e.push(a)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(a){a.enabled&&(n&&a.alt.indexOf(n)<0||t.__cache__[n].push(a.fn))})})};To.prototype.at=function(t,e,n){const a=this.__find__(t),l=n||{};if(a===-1)throw new Error("Parser rule not found: "+t);this.__rules__[a].fn=e,this.__rules__[a].alt=l.alt||[],this.__cache__=null};To.prototype.before=function(t,e,n,a){const l=this.__find__(t),u=a||{};if(l===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(l,0,{name:e,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};To.prototype.after=function(t,e,n,a){const l=this.__find__(t),u=a||{};if(l===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(l+1,0,{name:e,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};To.prototype.push=function(t,e,n){const a=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:a.alt||[]}),this.__cache__=null};To.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(a){const l=this.__find__(a);if(l<0){if(e)return;throw new Error("Rules manager: invalid rule name "+a)}this.__rules__[l].enabled=!0,n.push(a)},this),this.__cache__=null,n};To.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};To.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(a){const l=this.__find__(a);if(l<0){if(e)return;throw new Error("Rules manager: invalid rule name "+a)}this.__rules__[l].enabled=!1,n.push(a)},this),this.__cache__=null,n};To.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ia(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ia.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let a=0,l=n.length;a<l;a++)if(n[a][0]===e)return a;return-1};Ia.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ia.prototype.attrSet=function(e,n){const a=this.attrIndex(e),l=[e,n];a<0?this.attrPush(l):this.attrs[a]=l};Ia.prototype.attrGet=function(e){const n=this.attrIndex(e);let a=null;return n>=0&&(a=this.attrs[n][1]),a};Ia.prototype.attrJoin=function(e,n){const a=this.attrIndex(e);a<0?this.attrPush([e,n]):this.attrs[a][1]=this.attrs[a][1]+" "+n};function N0(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}N0.prototype.Token=Ia;const rk=/\r\n?|\n/g,ok=/\0/g;function ak(t){let e;e=t.src.replace(rk,`
`),e=e.replace(ok,""),t.src=e}function sk(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function uk(t){const e=t.tokens;for(let n=0,a=e.length;n<a;n++){const l=e[n];l.type==="inline"&&t.md.inline.parse(l.content,t.md,t.env,l.children)}}function lk(t){return/^<a[>\s]/i.test(t)}function ck(t){return/^<\/a\s*>/i.test(t)}function fk(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,a=e.length;n<a;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let l=e[n].children,u=0;for(let f=l.length-1;f>=0;f--){const h=l[f];if(h.type==="link_close"){for(f--;l[f].level!==h.level&&l[f].type!=="link_open";)f--;continue}if(h.type==="html_inline"&&(lk(h.content)&&u>0&&u--,ck(h.content)&&u++),!(u>0)&&h.type==="text"&&t.md.linkify.test(h.content)){const b=h.content;let x=t.md.linkify.match(b);const w=[];let k=h.level,A=0;x.length>0&&x[0].index===0&&f>0&&l[f-1].type==="text_special"&&(x=x.slice(1));for(let H=0;H<x.length;H++){const N=x[H].url,q=t.md.normalizeLink(N);if(!t.md.validateLink(q))continue;let j=x[H].text;x[H].schema?x[H].schema==="mailto:"&&!/^mailto:/i.test(j)?j=t.md.normalizeLinkText("mailto:"+j).replace(/^mailto:/,""):j=t.md.normalizeLinkText(j):j=t.md.normalizeLinkText("http://"+j).replace(/^http:\/\//,"");const O=x[H].index;if(O>A){const I=new t.Token("text","",0);I.content=b.slice(A,O),I.level=k,w.push(I)}const S=new t.Token("link_open","a",1);S.attrs=[["href",q]],S.level=k++,S.markup="linkify",S.info="auto",w.push(S);const P=new t.Token("text","",0);P.content=j,P.level=k,w.push(P);const W=new t.Token("link_close","a",-1);W.level=--k,W.markup="linkify",W.info="auto",w.push(W),A=x[H].lastIndex}if(A<b.length){const H=new t.Token("text","",0);H.content=b.slice(A),H.level=k,w.push(H)}e[n].children=l=F0(l,f,w)}}}}const z0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,hk=/\((c|tm|r)\)/i,dk=/\((c|tm|r)\)/ig,pk={c:"",r:"",tm:""};function mk(t,e){return pk[e.toLowerCase()]}function gk(t){let e=0;for(let n=t.length-1;n>=0;n--){const a=t[n];a.type==="text"&&!e&&(a.content=a.content.replace(dk,mk)),a.type==="link_open"&&a.info==="auto"&&e--,a.type==="link_close"&&a.info==="auto"&&e++}}function vk(t){let e=0;for(let n=t.length-1;n>=0;n--){const a=t[n];a.type==="text"&&!e&&z0.test(a.content)&&(a.content=a.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),a.type==="link_open"&&a.info==="auto"&&e--,a.type==="link_close"&&a.info==="auto"&&e++}}function bk(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(hk.test(t.tokens[e].content)&&gk(t.tokens[e].children),z0.test(t.tokens[e].content)&&vk(t.tokens[e].children))}const yk=/['"]/,Lg=/['"]/g,Mg="";function yh(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function _k(t,e){let n;const a=[];for(let l=0;l<t.length;l++){const u=t[l],f=t[l].level;for(n=a.length-1;n>=0&&!(a[n].level<=f);n--);if(a.length=n+1,u.type!=="text")continue;let h=u.content,b=0,x=h.length;e:for(;b<x;){Lg.lastIndex=b;const w=Lg.exec(h);if(!w)break;let k=!0,A=!0;b=w.index+1;const H=w[0]==="'";let N=32;if(w.index-1>=0)N=h.charCodeAt(w.index-1);else for(n=l-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){N=t[n].content.charCodeAt(t[n].content.length-1);break}let q=32;if(b<x)q=h.charCodeAt(b);else for(n=l+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){q=t[n].content.charCodeAt(0);break}const j=pf(N)||df(String.fromCharCode(N)),O=pf(q)||df(String.fromCharCode(q)),S=hf(N),P=hf(q);if(P?k=!1:O&&(S||j||(k=!1)),S?A=!1:j&&(P||O||(A=!1)),q===34&&w[0]==='"'&&N>=48&&N<=57&&(A=k=!1),k&&A&&(k=j,A=O),!k&&!A){H&&(u.content=yh(u.content,w.index,Mg));continue}if(A)for(n=a.length-1;n>=0;n--){let W=a[n];if(a[n].level<f)break;if(W.single===H&&a[n].level===f){W=a[n];let I,G;H?(I=e.md.options.quotes[2],G=e.md.options.quotes[3]):(I=e.md.options.quotes[0],G=e.md.options.quotes[1]),u.content=yh(u.content,w.index,G),t[W.token].content=yh(t[W.token].content,W.pos,I),b+=G.length-1,W.token===l&&(b+=I.length-1),h=u.content,x=h.length,a.length=n;continue e}}k?a.push({token:l,pos:w.index,single:H,level:f}):A&&H&&(u.content=yh(u.content,w.index,Mg))}}}function wk(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!yk.test(t.tokens[e].content)||_k(t.tokens[e].children,t)}function xk(t){let e,n;const a=t.tokens,l=a.length;for(let u=0;u<l;u++){if(a[u].type!=="inline")continue;const f=a[u].children,h=f.length;for(e=0;e<h;e++)f[e].type==="text_special"&&(f[e].type="text");for(e=n=0;e<h;e++)f[e].type==="text"&&e+1<h&&f[e+1].type==="text"?f[e+1].content=f[e].content+f[e+1].content:(e!==n&&(f[n]=f[e]),n++);e!==n&&(f.length=n)}}const Kd=[["normalize",ak],["block",sk],["inline",uk],["linkify",fk],["replacements",bk],["smartquotes",wk],["text_join",xk]];function Xp(){this.ruler=new To;for(let t=0;t<Kd.length;t++)this.ruler.push(Kd[t][0],Kd[t][1])}Xp.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,a=e.length;n<a;n++)e[n](t)};Xp.prototype.State=N0;function vs(t,e,n,a){this.src=t,this.md=e,this.env=n,this.tokens=a,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const l=this.src;for(let u=0,f=0,h=0,b=0,x=l.length,w=!1;f<x;f++){const k=l.charCodeAt(f);if(!w)if(cn(k)){h++,k===9?b+=4-b%4:b++;continue}else w=!0;(k===10||f===x-1)&&(k!==10&&f++,this.bMarks.push(u),this.eMarks.push(f),this.tShift.push(h),this.sCount.push(b),this.bsCount.push(0),w=!1,h=0,b=0,u=f+1)}this.bMarks.push(l.length),this.eMarks.push(l.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}vs.prototype.push=function(t,e,n){const a=new Ia(t,e,n);return a.block=!0,n<0&&this.level--,a.level=this.level,n>0&&this.level++,this.tokens.push(a),a};vs.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};vs.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};vs.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const a=this.src.charCodeAt(e);if(!cn(a))break}return e};vs.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!cn(this.src.charCodeAt(--e)))return e+1;return e};vs.prototype.skipChars=function(e,n){for(let a=this.src.length;e<a&&this.src.charCodeAt(e)===n;e++);return e};vs.prototype.skipCharsBack=function(e,n,a){if(e<=a)return e;for(;e>a;)if(n!==this.src.charCodeAt(--e))return e+1;return e};vs.prototype.getLines=function(e,n,a,l){if(e>=n)return"";const u=new Array(n-e);for(let f=0,h=e;h<n;h++,f++){let b=0;const x=this.bMarks[h];let w=x,k;for(h+1<n||l?k=this.eMarks[h]+1:k=this.eMarks[h];w<k&&b<a;){const A=this.src.charCodeAt(w);if(cn(A))A===9?b+=4-(b+this.bsCount[h])%4:b++;else if(w-x<this.tShift[h])b++;else break;w++}b>a?u[f]=new Array(b-a+1).join(" ")+this.src.slice(w,k):u[f]=this.src.slice(w,k)}return u.join("")};vs.prototype.Token=Ia;const kk=65536;function Qd(t,e){const n=t.bMarks[e]+t.tShift[e],a=t.eMarks[e];return t.src.slice(n,a)}function Pg(t){const e=[],n=t.length;let a=0,l=t.charCodeAt(a),u=!1,f=0,h="";for(;a<n;)l===124&&(u?(h+=t.substring(f,a-1),f=a):(e.push(h+t.substring(f,a)),h="",f=a+1)),u=l===92,a++,l=t.charCodeAt(a);return e.push(h+t.substring(f)),e}function Ck(t,e,n,a){if(e+2>n)return!1;let l=e+1;if(t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)return!1;let u=t.bMarks[l]+t.tShift[l];if(u>=t.eMarks[l])return!1;const f=t.src.charCodeAt(u++);if(f!==124&&f!==45&&f!==58||u>=t.eMarks[l])return!1;const h=t.src.charCodeAt(u++);if(h!==124&&h!==45&&h!==58&&!cn(h)||f===45&&cn(h))return!1;for(;u<t.eMarks[l];){const W=t.src.charCodeAt(u);if(W!==124&&W!==45&&W!==58&&!cn(W))return!1;u++}let b=Qd(t,e+1),x=b.split("|");const w=[];for(let W=0;W<x.length;W++){const I=x[W].trim();if(!I){if(W===0||W===x.length-1)continue;return!1}if(!/^:?-+:?$/.test(I))return!1;I.charCodeAt(I.length-1)===58?w.push(I.charCodeAt(0)===58?"center":"right"):I.charCodeAt(0)===58?w.push("left"):w.push("")}if(b=Qd(t,e).trim(),b.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;x=Pg(b),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop();const k=x.length;if(k===0||k!==w.length)return!1;if(a)return!0;const A=t.parentType;t.parentType="table";const H=t.md.block.ruler.getRules("blockquote"),N=t.push("table_open","table",1),q=[e,0];N.map=q;const j=t.push("thead_open","thead",1);j.map=[e,e+1];const O=t.push("tr_open","tr",1);O.map=[e,e+1];for(let W=0;W<x.length;W++){const I=t.push("th_open","th",1);w[W]&&(I.attrs=[["style","text-align:"+w[W]]]);const G=t.push("inline","",0);G.content=x[W].trim(),G.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,P=0;for(l=e+2;l<n&&!(t.sCount[l]<t.blkIndent);l++){let W=!1;for(let G=0,J=H.length;G<J;G++)if(H[G](t,l,n,!0)){W=!0;break}if(W||(b=Qd(t,l).trim(),!b)||t.sCount[l]-t.blkIndent>=4||(x=Pg(b),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),P+=k-x.length,P>kk))break;if(l===e+2){const G=t.push("tbody_open","tbody",1);G.map=S=[e+2,0]}const I=t.push("tr_open","tr",1);I.map=[l,l+1];for(let G=0;G<k;G++){const J=t.push("td_open","td",1);w[G]&&(J.attrs=[["style","text-align:"+w[G]]]);const ue=t.push("inline","",0);ue.content=x[G]?x[G].trim():"",ue.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=l),t.push("table_close","table",-1),q[1]=l,t.parentType=A,t.line=l,!0}function Ek(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let a=e+1,l=a;for(;a<n;){if(t.isEmpty(a)){a++;continue}if(t.sCount[a]-t.blkIndent>=4){a++,l=a;continue}break}t.line=l;const u=t.push("code_block","code",0);return u.content=t.getLines(e,l,4+t.blkIndent,!1)+`
`,u.map=[e,t.line],!0}function Sk(t,e,n,a){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||l+3>u)return!1;const f=t.src.charCodeAt(l);if(f!==126&&f!==96)return!1;let h=l;l=t.skipChars(l,f);let b=l-h;if(b<3)return!1;const x=t.src.slice(h,l),w=t.src.slice(l,u);if(f===96&&w.indexOf(String.fromCharCode(f))>=0)return!1;if(a)return!0;let k=e,A=!1;for(;k++,!(k>=n||(l=h=t.bMarks[k]+t.tShift[k],u=t.eMarks[k],l<u&&t.sCount[k]<t.blkIndent));)if(t.src.charCodeAt(l)===f&&!(t.sCount[k]-t.blkIndent>=4)&&(l=t.skipChars(l,f),!(l-h<b)&&(l=t.skipSpaces(l),!(l<u)))){A=!0;break}b=t.sCount[e],t.line=k+(A?1:0);const H=t.push("fence","code",0);return H.info=w,H.content=t.getLines(e+1,k,b,!0),H.markup=x,H.map=[e,t.line],!0}function Tk(t,e,n,a){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];const f=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(l)!==62)return!1;if(a)return!0;const h=[],b=[],x=[],w=[],k=t.md.block.ruler.getRules("blockquote"),A=t.parentType;t.parentType="blockquote";let H=!1,N;for(N=e;N<n;N++){const P=t.sCount[N]<t.blkIndent;if(l=t.bMarks[N]+t.tShift[N],u=t.eMarks[N],l>=u)break;if(t.src.charCodeAt(l++)===62&&!P){let I=t.sCount[N]+1,G,J;t.src.charCodeAt(l)===32?(l++,I++,J=!1,G=!0):t.src.charCodeAt(l)===9?(G=!0,(t.bsCount[N]+I)%4===3?(l++,I++,J=!1):J=!0):G=!1;let ue=I;for(h.push(t.bMarks[N]),t.bMarks[N]=l;l<u;){const de=t.src.charCodeAt(l);if(cn(de))de===9?ue+=4-(ue+t.bsCount[N]+(J?1:0))%4:ue++;else break;l++}H=l>=u,b.push(t.bsCount[N]),t.bsCount[N]=t.sCount[N]+1+(G?1:0),x.push(t.sCount[N]),t.sCount[N]=ue-I,w.push(t.tShift[N]),t.tShift[N]=l-t.bMarks[N];continue}if(H)break;let W=!1;for(let I=0,G=k.length;I<G;I++)if(k[I](t,N,n,!0)){W=!0;break}if(W){t.lineMax=N,t.blkIndent!==0&&(h.push(t.bMarks[N]),b.push(t.bsCount[N]),w.push(t.tShift[N]),x.push(t.sCount[N]),t.sCount[N]-=t.blkIndent);break}h.push(t.bMarks[N]),b.push(t.bsCount[N]),w.push(t.tShift[N]),x.push(t.sCount[N]),t.sCount[N]=-1}const q=t.blkIndent;t.blkIndent=0;const j=t.push("blockquote_open","blockquote",1);j.markup=">";const O=[e,0];j.map=O,t.md.block.tokenize(t,e,N);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=f,t.parentType=A,O[1]=t.line;for(let P=0;P<w.length;P++)t.bMarks[P+e]=h[P],t.tShift[P+e]=w[P],t.sCount[P+e]=x[P],t.bsCount[P+e]=b[P];return t.blkIndent=q,!0}function Ak(t,e,n,a){const l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let u=t.bMarks[e]+t.tShift[e];const f=t.src.charCodeAt(u++);if(f!==42&&f!==45&&f!==95)return!1;let h=1;for(;u<l;){const x=t.src.charCodeAt(u++);if(x!==f&&!cn(x))return!1;x===f&&h++}if(h<3)return!1;if(a)return!0;t.line=e+1;const b=t.push("hr","hr",0);return b.map=[e,t.line],b.markup=Array(h+1).join(String.fromCharCode(f)),!0}function Og(t,e){const n=t.eMarks[e];let a=t.bMarks[e]+t.tShift[e];const l=t.src.charCodeAt(a++);if(l!==42&&l!==45&&l!==43)return-1;if(a<n){const u=t.src.charCodeAt(a);if(!cn(u))return-1}return a}function Fg(t,e){const n=t.bMarks[e]+t.tShift[e],a=t.eMarks[e];let l=n;if(l+1>=a)return-1;let u=t.src.charCodeAt(l++);if(u<48||u>57)return-1;for(;;){if(l>=a)return-1;if(u=t.src.charCodeAt(l++),u>=48&&u<=57){if(l-n>=10)return-1;continue}if(u===41||u===46)break;return-1}return l<a&&(u=t.src.charCodeAt(l),!cn(u))?-1:l}function Dk(t,e){const n=t.level+2;for(let a=e+2,l=t.tokens.length-2;a<l;a++)t.tokens[a].level===n&&t.tokens[a].type==="paragraph_open"&&(t.tokens[a+2].hidden=!0,t.tokens[a].hidden=!0,a+=2)}function Lk(t,e,n,a){let l,u,f,h,b=e,x=!0;if(t.sCount[b]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[b]-t.listIndent>=4&&t.sCount[b]<t.blkIndent)return!1;let w=!1;a&&t.parentType==="paragraph"&&t.sCount[b]>=t.blkIndent&&(w=!0);let k,A,H;if((H=Fg(t,b))>=0){if(k=!0,f=t.bMarks[b]+t.tShift[b],A=Number(t.src.slice(f,H-1)),w&&A!==1)return!1}else if((H=Og(t,b))>=0)k=!1;else return!1;if(w&&t.skipSpaces(H)>=t.eMarks[b])return!1;if(a)return!0;const N=t.src.charCodeAt(H-1),q=t.tokens.length;k?(h=t.push("ordered_list_open","ol",1),A!==1&&(h.attrs=[["start",A]])):h=t.push("bullet_list_open","ul",1);const j=[b,0];h.map=j,h.markup=String.fromCharCode(N);let O=!1;const S=t.md.block.ruler.getRules("list"),P=t.parentType;for(t.parentType="list";b<n;){u=H,l=t.eMarks[b];const W=t.sCount[b]+H-(t.bMarks[b]+t.tShift[b]);let I=W;for(;u<l;){const D=t.src.charCodeAt(u);if(D===9)I+=4-(I+t.bsCount[b])%4;else if(D===32)I++;else break;u++}const G=u;let J;G>=l?J=1:J=I-W,J>4&&(J=1);const ue=W+J;h=t.push("list_item_open","li",1),h.markup=String.fromCharCode(N);const de=[b,0];h.map=de,k&&(h.info=t.src.slice(f,H-1));const ge=t.tight,ce=t.tShift[b],Te=t.sCount[b],ve=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=ue,t.tight=!0,t.tShift[b]=G-t.bMarks[b],t.sCount[b]=I,G>=l&&t.isEmpty(b+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,b,n,!0),(!t.tight||O)&&(x=!1),O=t.line-b>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ve,t.tShift[b]=ce,t.sCount[b]=Te,t.tight=ge,h=t.push("list_item_close","li",-1),h.markup=String.fromCharCode(N),b=t.line,de[1]=b,b>=n||t.sCount[b]<t.blkIndent||t.sCount[b]-t.blkIndent>=4)break;let ne=!1;for(let D=0,se=S.length;D<se;D++)if(S[D](t,b,n,!0)){ne=!0;break}if(ne)break;if(k){if(H=Fg(t,b),H<0)break;f=t.bMarks[b]+t.tShift[b]}else if(H=Og(t,b),H<0)break;if(N!==t.src.charCodeAt(H-1))break}return k?h=t.push("ordered_list_close","ol",-1):h=t.push("bullet_list_close","ul",-1),h.markup=String.fromCharCode(N),j[1]=b,t.line=b,t.parentType=P,x&&Dk(t,q),!0}function Mk(t,e,n,a){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e],f=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(l)!==91)return!1;function h(S){const P=t.lineMax;if(S>=P||t.isEmpty(S))return null;let W=!1;if(t.sCount[S]-t.blkIndent>3&&(W=!0),t.sCount[S]<0&&(W=!0),!W){const J=t.md.block.ruler.getRules("reference"),ue=t.parentType;t.parentType="reference";let de=!1;for(let ge=0,ce=J.length;ge<ce;ge++)if(J[ge](t,S,P,!0)){de=!0;break}if(t.parentType=ue,de)return null}const I=t.bMarks[S]+t.tShift[S],G=t.eMarks[S];return t.src.slice(I,G+1)}let b=t.src.slice(l,u+1);u=b.length;let x=-1;for(l=1;l<u;l++){const S=b.charCodeAt(l);if(S===91)return!1;if(S===93){x=l;break}else if(S===10){const P=h(f);P!==null&&(b+=P,u=b.length,f++)}else if(S===92&&(l++,l<u&&b.charCodeAt(l)===10)){const P=h(f);P!==null&&(b+=P,u=b.length,f++)}}if(x<0||b.charCodeAt(x+1)!==58)return!1;for(l=x+2;l<u;l++){const S=b.charCodeAt(l);if(S===10){const P=h(f);P!==null&&(b+=P,u=b.length,f++)}else if(!cn(S))break}const w=t.md.helpers.parseLinkDestination(b,l,u);if(!w.ok)return!1;const k=t.md.normalizeLink(w.str);if(!t.md.validateLink(k))return!1;l=w.pos;const A=l,H=f,N=l;for(;l<u;l++){const S=b.charCodeAt(l);if(S===10){const P=h(f);P!==null&&(b+=P,u=b.length,f++)}else if(!cn(S))break}let q=t.md.helpers.parseLinkTitle(b,l,u);for(;q.can_continue;){const S=h(f);if(S===null)break;b+=S,l=u,u=b.length,f++,q=t.md.helpers.parseLinkTitle(b,l,u,q)}let j;for(l<u&&N!==l&&q.ok?(j=q.str,l=q.pos):(j="",l=A,f=H);l<u;){const S=b.charCodeAt(l);if(!cn(S))break;l++}if(l<u&&b.charCodeAt(l)!==10&&j)for(j="",l=A,f=H;l<u;){const S=b.charCodeAt(l);if(!cn(S))break;l++}if(l<u&&b.charCodeAt(l)!==10)return!1;const O=nd(b.slice(1,x));return O?(a||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[O]>"u"&&(t.env.references[O]={title:j,href:k}),t.line=f),!0):!1}const Pk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ok="[a-zA-Z_:][a-zA-Z0-9:._-]*",Fk="[^\"'=<>`\\x00-\\x20]+",Rk="'[^']*'",Nk='"[^"]*"',zk="(?:"+Fk+"|"+Rk+"|"+Nk+")",Ik="(?:\\s+"+Ok+"(?:\\s*=\\s*"+zk+")?)",I0="<[A-Za-z][A-Za-z0-9\\-]*"+Ik+"*\\s*\\/?>",B0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Bk="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Hk="<[?][\\s\\S]*?[?]>",Wk="<![A-Za-z][^>]*>",jk="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",qk=new RegExp("^(?:"+I0+"|"+B0+"|"+Bk+"|"+Hk+"|"+Wk+"|"+jk+")"),Uk=new RegExp("^(?:"+I0+"|"+B0+")"),Vl=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Pk.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Uk.source+"\\s*$"),/^$/,!1]];function Yk(t,e,n,a){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(l)!==60)return!1;let f=t.src.slice(l,u),h=0;for(;h<Vl.length&&!Vl[h][0].test(f);h++);if(h===Vl.length)return!1;if(a)return Vl[h][2];let b=e+1;if(!Vl[h][1].test(f)){for(;b<n&&!(t.sCount[b]<t.blkIndent);b++)if(l=t.bMarks[b]+t.tShift[b],u=t.eMarks[b],f=t.src.slice(l,u),Vl[h][1].test(f)){f.length!==0&&b++;break}}t.line=b;const x=t.push("html_block","",0);return x.map=[e,b],x.content=t.getLines(e,b,t.blkIndent,!0),!0}function $k(t,e,n,a){let l=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let f=t.src.charCodeAt(l);if(f!==35||l>=u)return!1;let h=1;for(f=t.src.charCodeAt(++l);f===35&&l<u&&h<=6;)h++,f=t.src.charCodeAt(++l);if(h>6||l<u&&!cn(f))return!1;if(a)return!0;u=t.skipSpacesBack(u,l);const b=t.skipCharsBack(u,35,l);b>l&&cn(t.src.charCodeAt(b-1))&&(u=b),t.line=e+1;const x=t.push("heading_open","h"+String(h),1);x.markup="########".slice(0,h),x.map=[e,t.line];const w=t.push("inline","",0);w.content=t.src.slice(l,u).trim(),w.map=[e,t.line],w.children=[];const k=t.push("heading_close","h"+String(h),-1);return k.markup="########".slice(0,h),!0}function Gk(t,e,n){const a=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const l=t.parentType;t.parentType="paragraph";let u=0,f,h=e+1;for(;h<n&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3)continue;if(t.sCount[h]>=t.blkIndent){let H=t.bMarks[h]+t.tShift[h];const N=t.eMarks[h];if(H<N&&(f=t.src.charCodeAt(H),(f===45||f===61)&&(H=t.skipChars(H,f),H=t.skipSpaces(H),H>=N))){u=f===61?1:2;break}}if(t.sCount[h]<0)continue;let A=!1;for(let H=0,N=a.length;H<N;H++)if(a[H](t,h,n,!0)){A=!0;break}if(A)break}if(!u)return!1;const b=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h+1;const x=t.push("heading_open","h"+String(u),1);x.markup=String.fromCharCode(f),x.map=[e,t.line];const w=t.push("inline","",0);w.content=b,w.map=[e,t.line-1],w.children=[];const k=t.push("heading_close","h"+String(u),-1);return k.markup=String.fromCharCode(f),t.parentType=l,!0}function Zk(t,e,n){const a=t.md.block.ruler.getRules("paragraph"),l=t.parentType;let u=e+1;for(t.parentType="paragraph";u<n&&!t.isEmpty(u);u++){if(t.sCount[u]-t.blkIndent>3||t.sCount[u]<0)continue;let x=!1;for(let w=0,k=a.length;w<k;w++)if(a[w](t,u,n,!0)){x=!0;break}if(x)break}const f=t.getLines(e,u,t.blkIndent,!1).trim();t.line=u;const h=t.push("paragraph_open","p",1);h.map=[e,t.line];const b=t.push("inline","",0);return b.content=f,b.map=[e,t.line],b.children=[],t.push("paragraph_close","p",-1),t.parentType=l,!0}const _h=[["table",Ck,["paragraph","reference"]],["code",Ek],["fence",Sk,["paragraph","reference","blockquote","list"]],["blockquote",Tk,["paragraph","reference","blockquote","list"]],["hr",Ak,["paragraph","reference","blockquote","list"]],["list",Lk,["paragraph","reference","blockquote"]],["reference",Mk],["html_block",Yk,["paragraph","reference","blockquote"]],["heading",$k,["paragraph","reference","blockquote"]],["lheading",Gk],["paragraph",Zk]];function rd(){this.ruler=new To;for(let t=0;t<_h.length;t++)this.ruler.push(_h[t][0],_h[t][1],{alt:(_h[t][2]||[]).slice()})}rd.prototype.tokenize=function(t,e,n){const a=this.ruler.getRules(""),l=a.length,u=t.md.options.maxNesting;let f=e,h=!1;for(;f<n&&(t.line=f=t.skipEmptyLines(f),!(f>=n||t.sCount[f]<t.blkIndent));){if(t.level>=u){t.line=n;break}const b=t.line;let x=!1;for(let w=0;w<l;w++)if(x=a[w](t,f,n,!1),x){if(b>=t.line)throw new Error("block rule didn't increment state.line");break}if(!x)throw new Error("none of the block rules matched");t.tight=!h,t.isEmpty(t.line-1)&&(h=!0),f=t.line,f<n&&t.isEmpty(f)&&(h=!0,f++,t.line=f)}};rd.prototype.parse=function(t,e,n,a){if(!t)return;const l=new this.State(t,e,n,a);this.tokenize(l,l.line,l.lineMax)};rd.prototype.State=vs;function _f(t,e,n,a){this.src=t,this.env=n,this.md=e,this.tokens=a,this.tokens_meta=Array(a.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}_f.prototype.pushPending=function(){const t=new Ia("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};_f.prototype.push=function(t,e,n){this.pending&&this.pushPending();const a=new Ia(t,e,n);let l=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),a.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],l={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(a),this.tokens_meta.push(l),a};_f.prototype.scanDelims=function(t,e){const n=this.posMax,a=this.src.charCodeAt(t),l=t>0?this.src.charCodeAt(t-1):32;let u=t;for(;u<n&&this.src.charCodeAt(u)===a;)u++;const f=u-t,h=u<n?this.src.charCodeAt(u):32,b=pf(l)||df(String.fromCharCode(l)),x=pf(h)||df(String.fromCharCode(h)),w=hf(l),k=hf(h),A=!k&&(!x||w||b),H=!w&&(!b||k||x);return{can_open:A&&(e||!H||b),can_close:H&&(e||!A||x),length:f}};_f.prototype.Token=Ia;function Xk(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Vk(t,e){let n=t.pos;for(;n<t.posMax&&!Xk(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const Kk=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Qk(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,a=t.posMax;if(n+3>a||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const l=t.pending.match(Kk);if(!l)return!1;const u=l[1],f=t.md.linkify.matchAtStart(t.src.slice(n-u.length));if(!f)return!1;let h=f.url;if(h.length<=u.length)return!1;h=h.replace(/\*+$/,"");const b=t.md.normalizeLink(h);if(!t.md.validateLink(b))return!1;if(!e){t.pending=t.pending.slice(0,-u.length);const x=t.push("link_open","a",1);x.attrs=[["href",b]],x.markup="linkify",x.info="auto";const w=t.push("text","",0);w.content=t.md.normalizeLinkText(h);const k=t.push("link_close","a",-1);k.markup="linkify",k.info="auto"}return t.pos+=h.length-u.length,!0}function Jk(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const a=t.pending.length-1,l=t.posMax;if(!e)if(a>=0&&t.pending.charCodeAt(a)===32)if(a>=1&&t.pending.charCodeAt(a-1)===32){let u=a-1;for(;u>=1&&t.pending.charCodeAt(u-1)===32;)u--;t.pending=t.pending.slice(0,u),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<l&&cn(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const Vp=[];for(let t=0;t<256;t++)Vp.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Vp[t.charCodeAt(0)]=1});function e2(t,e){let n=t.pos;const a=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=a))return!1;let l=t.src.charCodeAt(n);if(l===10){for(e||t.push("hardbreak","br",0),n++;n<a&&(l=t.src.charCodeAt(n),!!cn(l));)n++;return t.pos=n,!0}let u=t.src[n];if(l>=55296&&l<=56319&&n+1<a){const h=t.src.charCodeAt(n+1);h>=56320&&h<=57343&&(u+=t.src[n+1],n++)}const f="\\"+u;if(!e){const h=t.push("text_special","",0);l<256&&Vp[l]!==0?h.content=u:h.content=f,h.markup=f,h.info="escape"}return t.pos=n+1,!0}function t2(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const l=n;n++;const u=t.posMax;for(;n<u&&t.src.charCodeAt(n)===96;)n++;const f=t.src.slice(l,n),h=f.length;if(t.backticksScanned&&(t.backticks[h]||0)<=l)return e||(t.pending+=f),t.pos+=h,!0;let b=n,x;for(;(x=t.src.indexOf("`",b))!==-1;){for(b=x+1;b<u&&t.src.charCodeAt(b)===96;)b++;const w=b-x;if(w===h){if(!e){const k=t.push("code_inline","code",0);k.markup=f,k.content=t.src.slice(n,x).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=b,!0}t.backticks[w]=x}return t.backticksScanned=!0,e||(t.pending+=f),t.pos+=h,!0}function i2(t,e){const n=t.pos,a=t.src.charCodeAt(n);if(e||a!==126)return!1;const l=t.scanDelims(t.pos,!0);let u=l.length;const f=String.fromCharCode(a);if(u<2)return!1;let h;u%2&&(h=t.push("text","",0),h.content=f,u--);for(let b=0;b<u;b+=2)h=t.push("text","",0),h.content=f+f,t.delimiters.push({marker:a,length:0,token:t.tokens.length-1,end:-1,open:l.can_open,close:l.can_close});return t.pos+=l.length,!0}function Rg(t,e){let n;const a=[],l=e.length;for(let u=0;u<l;u++){const f=e[u];if(f.marker!==126||f.end===-1)continue;const h=e[f.end];n=t.tokens[f.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[h.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[h.token-1].type==="text"&&t.tokens[h.token-1].content==="~"&&a.push(h.token-1)}for(;a.length;){const u=a.pop();let f=u+1;for(;f<t.tokens.length&&t.tokens[f].type==="s_close";)f++;f--,u!==f&&(n=t.tokens[f],t.tokens[f]=t.tokens[u],t.tokens[u]=n)}}function n2(t){const e=t.tokens_meta,n=t.tokens_meta.length;Rg(t,t.delimiters);for(let a=0;a<n;a++)e[a]&&e[a].delimiters&&Rg(t,e[a].delimiters)}const H0={tokenize:i2,postProcess:n2};function r2(t,e){const n=t.pos,a=t.src.charCodeAt(n);if(e||a!==95&&a!==42)return!1;const l=t.scanDelims(t.pos,a===42);for(let u=0;u<l.length;u++){const f=t.push("text","",0);f.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:l.length,token:t.tokens.length-1,end:-1,open:l.can_open,close:l.can_close})}return t.pos+=l.length,!0}function Ng(t,e){const n=e.length;for(let a=n-1;a>=0;a--){const l=e[a];if(l.marker!==95&&l.marker!==42||l.end===-1)continue;const u=e[l.end],f=a>0&&e[a-1].end===l.end+1&&e[a-1].marker===l.marker&&e[a-1].token===l.token-1&&e[l.end+1].token===u.token+1,h=String.fromCharCode(l.marker),b=t.tokens[l.token];b.type=f?"strong_open":"em_open",b.tag=f?"strong":"em",b.nesting=1,b.markup=f?h+h:h,b.content="";const x=t.tokens[u.token];x.type=f?"strong_close":"em_close",x.tag=f?"strong":"em",x.nesting=-1,x.markup=f?h+h:h,x.content="",f&&(t.tokens[e[a-1].token].content="",t.tokens[e[l.end+1].token].content="",a--)}}function o2(t){const e=t.tokens_meta,n=t.tokens_meta.length;Ng(t,t.delimiters);for(let a=0;a<n;a++)e[a]&&e[a].delimiters&&Ng(t,e[a].delimiters)}const W0={tokenize:r2,postProcess:o2};function a2(t,e){let n,a,l,u,f="",h="",b=t.pos,x=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const w=t.pos,k=t.posMax,A=t.pos+1,H=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(H<0)return!1;let N=H+1;if(N<k&&t.src.charCodeAt(N)===40){for(x=!1,N++;N<k&&(n=t.src.charCodeAt(N),!(!cn(n)&&n!==10));N++);if(N>=k)return!1;if(b=N,l=t.md.helpers.parseLinkDestination(t.src,N,t.posMax),l.ok){for(f=t.md.normalizeLink(l.str),t.md.validateLink(f)?N=l.pos:f="",b=N;N<k&&(n=t.src.charCodeAt(N),!(!cn(n)&&n!==10));N++);if(l=t.md.helpers.parseLinkTitle(t.src,N,t.posMax),N<k&&b!==N&&l.ok)for(h=l.str,N=l.pos;N<k&&(n=t.src.charCodeAt(N),!(!cn(n)&&n!==10));N++);}(N>=k||t.src.charCodeAt(N)!==41)&&(x=!0),N++}if(x){if(typeof t.env.references>"u")return!1;if(N<k&&t.src.charCodeAt(N)===91?(b=N+1,N=t.md.helpers.parseLinkLabel(t,N),N>=0?a=t.src.slice(b,N++):N=H+1):N=H+1,a||(a=t.src.slice(A,H)),u=t.env.references[nd(a)],!u)return t.pos=w,!1;f=u.href,h=u.title}if(!e){t.pos=A,t.posMax=H;const q=t.push("link_open","a",1),j=[["href",f]];q.attrs=j,h&&j.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=N,t.posMax=k,!0}function s2(t,e){let n,a,l,u,f,h,b,x,w="";const k=t.pos,A=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const H=t.pos+2,N=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(N<0)return!1;if(u=N+1,u<A&&t.src.charCodeAt(u)===40){for(u++;u<A&&(n=t.src.charCodeAt(u),!(!cn(n)&&n!==10));u++);if(u>=A)return!1;for(x=u,h=t.md.helpers.parseLinkDestination(t.src,u,t.posMax),h.ok&&(w=t.md.normalizeLink(h.str),t.md.validateLink(w)?u=h.pos:w=""),x=u;u<A&&(n=t.src.charCodeAt(u),!(!cn(n)&&n!==10));u++);if(h=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<A&&x!==u&&h.ok)for(b=h.str,u=h.pos;u<A&&(n=t.src.charCodeAt(u),!(!cn(n)&&n!==10));u++);else b="";if(u>=A||t.src.charCodeAt(u)!==41)return t.pos=k,!1;u++}else{if(typeof t.env.references>"u")return!1;if(u<A&&t.src.charCodeAt(u)===91?(x=u+1,u=t.md.helpers.parseLinkLabel(t,u),u>=0?l=t.src.slice(x,u++):u=N+1):u=N+1,l||(l=t.src.slice(H,N)),f=t.env.references[nd(l)],!f)return t.pos=k,!1;w=f.href,b=f.title}if(!e){a=t.src.slice(H,N);const q=[];t.md.inline.parse(a,t.md,t.env,q);const j=t.push("image","img",0),O=[["src",w],["alt",""]];j.attrs=O,j.children=q,j.content=a,b&&O.push(["title",b])}return t.pos=u,t.posMax=A,!0}const u2=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,l2=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function c2(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const a=t.pos,l=t.posMax;for(;;){if(++n>=l)return!1;const f=t.src.charCodeAt(n);if(f===60)return!1;if(f===62)break}const u=t.src.slice(a+1,n);if(l2.test(u)){const f=t.md.normalizeLink(u);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const b=t.push("text","",0);b.content=t.md.normalizeLinkText(u);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=u.length+2,!0}if(u2.test(u)){const f=t.md.normalizeLink("mailto:"+u);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const b=t.push("text","",0);b.content=t.md.normalizeLinkText(u);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=u.length+2,!0}return!1}function f2(t){return/^<a[>\s]/i.test(t)}function h2(t){return/^<\/a\s*>/i.test(t)}function d2(t){const e=t|32;return e>=97&&e<=122}function p2(t,e){if(!t.md.options.html)return!1;const n=t.posMax,a=t.pos;if(t.src.charCodeAt(a)!==60||a+2>=n)return!1;const l=t.src.charCodeAt(a+1);if(l!==33&&l!==63&&l!==47&&!d2(l))return!1;const u=t.src.slice(a).match(qk);if(!u)return!1;if(!e){const f=t.push("html_inline","",0);f.content=u[0],f2(f.content)&&t.linkLevel++,h2(f.content)&&t.linkLevel--}return t.pos+=u[0].length,!0}const m2=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,g2=/^&([a-z][a-z0-9]{1,31});/i;function v2(t,e){const n=t.pos,a=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=a)return!1;if(t.src.charCodeAt(n+1)===35){const u=t.src.slice(n).match(m2);if(u){if(!e){const f=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),h=t.push("text_special","",0);h.content=Zp(f)?$h(f):$h(65533),h.markup=u[0],h.info="entity"}return t.pos+=u[0].length,!0}}else{const u=t.src.slice(n).match(g2);if(u){const f=O0(u[0]);if(f!==u[0]){if(!e){const h=t.push("text_special","",0);h.content=f,h.markup=u[0],h.info="entity"}return t.pos+=u[0].length,!0}}}return!1}function zg(t){const e={},n=t.length;if(!n)return;let a=0,l=-2;const u=[];for(let f=0;f<n;f++){const h=t[f];if(u.push(0),(t[a].marker!==h.marker||l!==h.token-1)&&(a=f),l=h.token,h.length=h.length||0,!h.close)continue;e.hasOwnProperty(h.marker)||(e[h.marker]=[-1,-1,-1,-1,-1,-1]);const b=e[h.marker][(h.open?3:0)+h.length%3];let x=a-u[a]-1,w=x;for(;x>b;x-=u[x]+1){const k=t[x];if(k.marker===h.marker&&k.open&&k.end<0){let A=!1;if((k.close||h.open)&&(k.length+h.length)%3===0&&(k.length%3!==0||h.length%3!==0)&&(A=!0),!A){const H=x>0&&!t[x-1].open?u[x-1]+1:0;u[f]=f-x+H,u[x]=H,h.open=!1,k.end=f,k.close=!1,w=-1,l=-2;break}}}w!==-1&&(e[h.marker][(h.open?3:0)+(h.length||0)%3]=w)}}function b2(t){const e=t.tokens_meta,n=t.tokens_meta.length;zg(t.delimiters);for(let a=0;a<n;a++)e[a]&&e[a].delimiters&&zg(e[a].delimiters)}function y2(t){let e,n,a=0;const l=t.tokens,u=t.tokens.length;for(e=n=0;e<u;e++)l[e].nesting<0&&a--,l[e].level=a,l[e].nesting>0&&a++,l[e].type==="text"&&e+1<u&&l[e+1].type==="text"?l[e+1].content=l[e].content+l[e+1].content:(e!==n&&(l[n]=l[e]),n++);e!==n&&(l.length=n)}const Jd=[["text",Vk],["linkify",Qk],["newline",Jk],["escape",e2],["backticks",t2],["strikethrough",H0.tokenize],["emphasis",W0.tokenize],["link",a2],["image",s2],["autolink",c2],["html_inline",p2],["entity",v2]],ep=[["balance_pairs",b2],["strikethrough",H0.postProcess],["emphasis",W0.postProcess],["fragments_join",y2]];function wf(){this.ruler=new To;for(let t=0;t<Jd.length;t++)this.ruler.push(Jd[t][0],Jd[t][1]);this.ruler2=new To;for(let t=0;t<ep.length;t++)this.ruler2.push(ep[t][0],ep[t][1])}wf.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),a=n.length,l=t.md.options.maxNesting,u=t.cache;if(typeof u[e]<"u"){t.pos=u[e];return}let f=!1;if(t.level<l){for(let h=0;h<a;h++)if(t.level++,f=n[h](t,!0),t.level--,f){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;f||t.pos++,u[e]=t.pos};wf.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,a=t.posMax,l=t.md.options.maxNesting;for(;t.pos<a;){const u=t.pos;let f=!1;if(t.level<l){for(let h=0;h<n;h++)if(f=e[h](t,!1),f){if(u>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(f){if(t.pos>=a)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};wf.prototype.parse=function(t,e,n,a){const l=new this.State(t,e,n,a);this.tokenize(l);const u=this.ruler2.getRules(""),f=u.length;for(let h=0;h<f;h++)u[h](l)};wf.prototype.State=_f;function _2(t){const e={};t=t||{},e.src_Any=A0.source,e.src_Cc=D0.source,e.src_Z=M0.source,e.src_P=$p.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function bp(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(a){t[a]=n[a]})}),t}function od(t){return Object.prototype.toString.call(t)}function w2(t){return od(t)==="[object String]"}function x2(t){return od(t)==="[object Object]"}function k2(t){return od(t)==="[object RegExp]"}function Ig(t){return od(t)==="[object Function]"}function C2(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const j0={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function E2(t){return Object.keys(t||{}).reduce(function(e,n){return e||j0.hasOwnProperty(n)},!1)}const S2={"http:":{validate:function(t,e,n){const a=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(a)?a.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const a=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(a)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:a.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const a=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(a)?a.match(n.re.mailto)[0].length:0}}},T2="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",A2="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function D2(t){t.__index__=-1,t.__text_cache__=""}function L2(t){return function(e,n){const a=e.slice(n);return t.test(a)?a.match(t)[0].length:0}}function Bg(){return function(t,e){e.normalize(t)}}function Gh(t){const e=t.re=_2(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(T2),n.push(e.src_xn),e.src_tlds=n.join("|");function a(h){return h.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(a(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(a(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(a(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(a(e.tpl_host_fuzzy_test),"i");const l=[];t.__compiled__={};function u(h,b){throw new Error('(LinkifyIt) Invalid schema "'+h+'": '+b)}Object.keys(t.__schemas__).forEach(function(h){const b=t.__schemas__[h];if(b===null)return;const x={validate:null,link:null};if(t.__compiled__[h]=x,x2(b)){k2(b.validate)?x.validate=L2(b.validate):Ig(b.validate)?x.validate=b.validate:u(h,b),Ig(b.normalize)?x.normalize=b.normalize:b.normalize?u(h,b):x.normalize=Bg();return}if(w2(b)){l.push(h);return}u(h,b)}),l.forEach(function(h){t.__compiled__[t.__schemas__[h]]&&(t.__compiled__[h].validate=t.__compiled__[t.__schemas__[h]].validate,t.__compiled__[h].normalize=t.__compiled__[t.__schemas__[h]].normalize)}),t.__compiled__[""]={validate:null,normalize:Bg()};const f=Object.keys(t.__compiled__).filter(function(h){return h.length>0&&t.__compiled__[h]}).map(C2).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),D2(t)}function M2(t,e){const n=t.__index__,a=t.__last_index__,l=t.__text_cache__.slice(n,a);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=a+e,this.raw=l,this.text=l,this.url=l}function yp(t,e){const n=new M2(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Go(t,e){if(!(this instanceof Go))return new Go(t,e);e||E2(t)&&(e=t,t={}),this.__opts__=bp({},j0,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=bp({},S2,t),this.__compiled__={},this.__tlds__=A2,this.__tlds_replaced__=!1,this.re={},Gh(this)}Go.prototype.add=function(e,n){return this.__schemas__[e]=n,Gh(this),this};Go.prototype.set=function(e){return this.__opts__=bp(this.__opts__,e),this};Go.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,a,l,u,f,h,b,x,w;if(this.re.schema_test.test(e)){for(b=this.re.schema_search,b.lastIndex=0;(n=b.exec(e))!==null;)if(u=this.testSchemaAt(e,n[2],b.lastIndex),u){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(x=e.search(this.re.host_fuzzy_test),x>=0&&(this.__index__<0||x<this.__index__)&&(a=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(f=a.index+a[1].length,(this.__index__<0||f<this.__index__)&&(this.__schema__="",this.__index__=f,this.__last_index__=a.index+a[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(w=e.indexOf("@"),w>=0&&(l=e.match(this.re.email_fuzzy))!==null&&(f=l.index+l[1].length,h=l.index+l[0].length,(this.__index__<0||f<this.__index__||f===this.__index__&&h>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=f,this.__last_index__=h))),this.__index__>=0};Go.prototype.pretest=function(e){return this.re.pretest.test(e)};Go.prototype.testSchemaAt=function(e,n,a){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,a,this):0};Go.prototype.match=function(e){const n=[];let a=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(yp(this,a)),a=this.__last_index__);let l=a?e.slice(a):e;for(;this.test(l);)n.push(yp(this,a)),l=l.slice(this.__last_index__),a+=this.__last_index__;return n.length?n:null};Go.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const a=this.testSchemaAt(e,n[2],n[0].length);return a?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+a,yp(this,0)):null};Go.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(a,l,u){return a!==u[l-1]}).reverse(),Gh(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Gh(this),this)};Go.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Go.prototype.onCompile=function(){};const rc=2147483647,ls=36,Kp=1,mf=26,P2=38,O2=700,q0=72,U0=128,Y0="-",F2=/^xn--/,R2=/[^\0-\x7F]/,N2=/[\x2E\u3002\uFF0E\uFF61]/g,z2={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},tp=ls-Kp,cs=Math.floor,ip=String.fromCharCode;function Au(t){throw new RangeError(z2[t])}function I2(t,e){const n=[];let a=t.length;for(;a--;)n[a]=e(t[a]);return n}function $0(t,e){const n=t.split("@");let a="";n.length>1&&(a=n[0]+"@",t=n[1]),t=t.replace(N2,".");const l=t.split("."),u=I2(l,e).join(".");return a+u}function G0(t){const e=[];let n=0;const a=t.length;for(;n<a;){const l=t.charCodeAt(n++);if(l>=55296&&l<=56319&&n<a){const u=t.charCodeAt(n++);(u&64512)==56320?e.push(((l&1023)<<10)+(u&1023)+65536):(e.push(l),n--)}else e.push(l)}return e}const B2=t=>String.fromCodePoint(...t),H2=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:ls},Hg=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Z0=function(t,e,n){let a=0;for(t=n?cs(t/O2):t>>1,t+=cs(t/e);t>tp*mf>>1;a+=ls)t=cs(t/tp);return cs(a+(tp+1)*t/(t+P2))},X0=function(t){const e=[],n=t.length;let a=0,l=U0,u=q0,f=t.lastIndexOf(Y0);f<0&&(f=0);for(let h=0;h<f;++h)t.charCodeAt(h)>=128&&Au("not-basic"),e.push(t.charCodeAt(h));for(let h=f>0?f+1:0;h<n;){const b=a;for(let w=1,k=ls;;k+=ls){h>=n&&Au("invalid-input");const A=H2(t.charCodeAt(h++));A>=ls&&Au("invalid-input"),A>cs((rc-a)/w)&&Au("overflow"),a+=A*w;const H=k<=u?Kp:k>=u+mf?mf:k-u;if(A<H)break;const N=ls-H;w>cs(rc/N)&&Au("overflow"),w*=N}const x=e.length+1;u=Z0(a-b,x,b==0),cs(a/x)>rc-l&&Au("overflow"),l+=cs(a/x),a%=x,e.splice(a++,0,l)}return String.fromCodePoint(...e)},V0=function(t){const e=[];t=G0(t);const n=t.length;let a=U0,l=0,u=q0;for(const b of t)b<128&&e.push(ip(b));const f=e.length;let h=f;for(f&&e.push(Y0);h<n;){let b=rc;for(const w of t)w>=a&&w<b&&(b=w);const x=h+1;b-a>cs((rc-l)/x)&&Au("overflow"),l+=(b-a)*x,a=b;for(const w of t)if(w<a&&++l>rc&&Au("overflow"),w===a){let k=l;for(let A=ls;;A+=ls){const H=A<=u?Kp:A>=u+mf?mf:A-u;if(k<H)break;const N=k-H,q=ls-H;e.push(ip(Hg(H+N%q,0))),k=cs(N/q)}e.push(ip(Hg(k,0))),u=Z0(l,x,h===f),l=0,++h}++l,++a}return e.join("")},W2=function(t){return $0(t,function(e){return F2.test(e)?X0(e.slice(4).toLowerCase()):e})},j2=function(t){return $0(t,function(e){return R2.test(e)?"xn--"+V0(e):e})},K0={version:"2.3.1",ucs2:{decode:G0,encode:B2},decode:X0,encode:V0,toASCII:j2,toUnicode:W2},q2={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},U2={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Y2={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},$2={default:q2,zero:U2,commonmark:Y2},G2=/^(vbscript|javascript|file|data):/,Z2=/^data:image\/(gif|png|jpeg|webp);/;function X2(t){const e=t.trim().toLowerCase();return G2.test(e)?Z2.test(e):!0}const Q0=["http:","https:","mailto:"];function V2(t){const e=Yp(t,!0);if(e.hostname&&(!e.protocol||Q0.indexOf(e.protocol)>=0))try{e.hostname=K0.toASCII(e.hostname)}catch{}return yf(Up(e))}function K2(t){const e=Yp(t,!0);if(e.hostname&&(!e.protocol||Q0.indexOf(e.protocol)>=0))try{e.hostname=K0.toUnicode(e.hostname)}catch{}return uc(Up(e),uc.defaultChars+"%")}function ba(t,e){if(!(this instanceof ba))return new ba(t,e);e||Gp(t)||(e=t||{},t="default"),this.inline=new wf,this.block=new rd,this.core=new Xp,this.renderer=new dc,this.linkify=new Go,this.validateLink=X2,this.normalizeLink=V2,this.normalizeLinkText=K2,this.utils=Jx,this.helpers=id({},nk),this.options={},this.configure(t),e&&this.set(e)}ba.prototype.set=function(t){return id(this.options,t),this};ba.prototype.configure=function(t){const e=this;if(Gp(t)){const n=t;if(t=$2[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};ba.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(l){n=n.concat(this[l].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const a=t.filter(function(l){return n.indexOf(l)<0});if(a.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+a);return this};ba.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(l){n=n.concat(this[l].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const a=t.filter(function(l){return n.indexOf(l)<0});if(a.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+a);return this};ba.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};ba.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};ba.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};ba.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};ba.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function Q2(t,e,n,a){const l=Number(t[e].meta.id+1).toString();let u="";return typeof a.docId=="string"&&(u=`-${a.docId}-`),u+l}function J2(t,e){let n=Number(t[e].meta.id+1).toString();return t[e].meta.subId>0&&(n+=`:${t[e].meta.subId}`),`[${n}]`}function eC(t,e,n,a,l){const u=l.rules.footnote_anchor_name(t,e,n,a,l),f=l.rules.footnote_caption(t,e,n,a,l);let h=u;return t[e].meta.subId>0&&(h+=`:${t[e].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${u}" id="fnref${h}">${f}</a></sup>`}function tC(t,e,n){return(n.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function iC(){return`</ol>
</section>
`}function nC(t,e,n,a,l){let u=l.rules.footnote_anchor_name(t,e,n,a,l);return t[e].meta.subId>0&&(u+=`:${t[e].meta.subId}`),`<li id="fn${u}" class="footnote-item">`}function rC(){return`</li>
`}function oC(t,e,n,a,l){let u=l.rules.footnote_anchor_name(t,e,n,a,l);return t[e].meta.subId>0&&(u+=`:${t[e].meta.subId}`),` <a href="#fnref${u}" class="footnote-backref"></a>`}function aC(t){const e=t.helpers.parseLinkLabel,n=t.utils.isSpace;t.renderer.rules.footnote_ref=eC,t.renderer.rules.footnote_block_open=tC,t.renderer.rules.footnote_block_close=iC,t.renderer.rules.footnote_open=nC,t.renderer.rules.footnote_close=rC,t.renderer.rules.footnote_anchor=oC,t.renderer.rules.footnote_caption=J2,t.renderer.rules.footnote_anchor_name=Q2;function a(h,b,x,w){const k=h.bMarks[b]+h.tShift[b],A=h.eMarks[b];if(k+4>A||h.src.charCodeAt(k)!==91||h.src.charCodeAt(k+1)!==94)return!1;let H;for(H=k+2;H<A;H++){if(h.src.charCodeAt(H)===32)return!1;if(h.src.charCodeAt(H)===93)break}if(H===k+2||H+1>=A||h.src.charCodeAt(++H)!==58)return!1;if(w)return!0;H++,h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.refs||(h.env.footnotes.refs={});const N=h.src.slice(k+2,H-2);h.env.footnotes.refs[`:${N}`]=-1;const q=new h.Token("footnote_reference_open","",1);q.meta={label:N},q.level=h.level++,h.tokens.push(q);const j=h.bMarks[b],O=h.tShift[b],S=h.sCount[b],P=h.parentType,W=H,I=h.sCount[b]+H-(h.bMarks[b]+h.tShift[b]);let G=I;for(;H<A;){const ue=h.src.charCodeAt(H);if(n(ue))ue===9?G+=4-G%4:G++;else break;H++}h.tShift[b]=H-W,h.sCount[b]=G-I,h.bMarks[b]=W,h.blkIndent+=4,h.parentType="footnote",h.sCount[b]<h.blkIndent&&(h.sCount[b]+=h.blkIndent),h.md.block.tokenize(h,b,x,!0),h.parentType=P,h.blkIndent-=4,h.tShift[b]=O,h.sCount[b]=S,h.bMarks[b]=j;const J=new h.Token("footnote_reference_close","",-1);return J.level=--h.level,h.tokens.push(J),!0}function l(h,b){const x=h.posMax,w=h.pos;if(w+2>=x||h.src.charCodeAt(w)!==94||h.src.charCodeAt(w+1)!==91)return!1;const k=w+2,A=e(h,w+1);if(A<0)return!1;if(!b){h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.list||(h.env.footnotes.list=[]);const H=h.env.footnotes.list.length,N=[];h.md.inline.parse(h.src.slice(k,A),h.md,h.env,N);const q=h.push("footnote_ref","",0);q.meta={id:H},h.env.footnotes.list[H]={content:h.src.slice(k,A),tokens:N}}return h.pos=A+1,h.posMax=x,!0}function u(h,b){const x=h.posMax,w=h.pos;if(w+3>x||!h.env.footnotes||!h.env.footnotes.refs||h.src.charCodeAt(w)!==91||h.src.charCodeAt(w+1)!==94)return!1;let k;for(k=w+2;k<x;k++){if(h.src.charCodeAt(k)===32||h.src.charCodeAt(k)===10)return!1;if(h.src.charCodeAt(k)===93)break}if(k===w+2||k>=x)return!1;k++;const A=h.src.slice(w+2,k-1);if(typeof h.env.footnotes.refs[`:${A}`]>"u")return!1;if(!b){h.env.footnotes.list||(h.env.footnotes.list=[]);let H;h.env.footnotes.refs[`:${A}`]<0?(H=h.env.footnotes.list.length,h.env.footnotes.list[H]={label:A,count:0},h.env.footnotes.refs[`:${A}`]=H):H=h.env.footnotes.refs[`:${A}`];const N=h.env.footnotes.list[H].count;h.env.footnotes.list[H].count++;const q=h.push("footnote_ref","",0);q.meta={id:H,subId:N,label:A}}return h.pos=k,h.posMax=x,!0}function f(h){let b,x,w,k=!1;const A={};if(!h.env.footnotes||(h.tokens=h.tokens.filter(function(N){return N.type==="footnote_reference_open"?(k=!0,x=[],w=N.meta.label,!1):N.type==="footnote_reference_close"?(k=!1,A[":"+w]=x,!1):(k&&x.push(N),!k)}),!h.env.footnotes.list))return;const H=h.env.footnotes.list;h.tokens.push(new h.Token("footnote_block_open","",1));for(let N=0,q=H.length;N<q;N++){const j=new h.Token("footnote_open","",1);if(j.meta={id:N,label:H[N].label},h.tokens.push(j),H[N].tokens){b=[];const P=new h.Token("paragraph_open","p",1);P.block=!0,b.push(P);const W=new h.Token("inline","",0);W.children=H[N].tokens,W.content=H[N].content,b.push(W);const I=new h.Token("paragraph_close","p",-1);I.block=!0,b.push(I)}else H[N].label&&(b=A[`:${H[N].label}`]);b&&(h.tokens=h.tokens.concat(b));let O;h.tokens[h.tokens.length-1].type==="paragraph_close"?O=h.tokens.pop():O=null;const S=H[N].count>0?H[N].count:1;for(let P=0;P<S;P++){const W=new h.Token("footnote_anchor","",0);W.meta={id:N,subId:P,label:H[N].label},h.tokens.push(W)}O&&h.tokens.push(O),h.tokens.push(new h.Token("footnote_close","",-1))}h.tokens.push(new h.Token("footnote_block_close","",-1))}t.block.ruler.before("reference","footnote_def",a,{alt:["paragraph","reference"]}),t.inline.ruler.after("image","footnote_inline",l),t.inline.ruler.after("footnote_inline","footnote_ref",u),t.core.ruler.after("inline","footnote_tail",f)}class sC{constructor(e,n){this.markdownit=new ba,this.markdownit.use(aC),this.textarea=e,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&this.textarea.getAttribute("dir")==="rtl"?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled"}),this.editor.addKeyMap({"Ctrl-B":a=>{a.replaceSelections(this.boldSelections())},"Ctrl-I":a=>{a.replaceSelections(this.italicSelections())},"Cmd-B":a=>{a.replaceSelections(this.boldSelections())},"Cmd-I":a=>{a.replaceSelections(this.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=n,this.buttonCode=null,this.buttonPreview=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){if(this.editor.on("change",this.textareaChange),!this.cont||!this.textarea)return;this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),this.editor.getOption("readOnly")===!0&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(h=>{h.setAttribute("data-index",this.index)}),this.$editor.setAttribute("data-index",this.index);const u=document.createElement("div");u.classList.add("markdown-editor-tabs"),this.$editor.before(u),this.tabs=u,this.previewContainer=document.getElementById("codemirror-preview-containers");const f=document.createElement("div");f.classList.add("markdown-editor-preview"),this.$editor.after(f),this.preview=f,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&this.textarea.getAttribute("data-max-length")!==""&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=vh(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")!==""&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")===""&&this.textarea.getAttribute("data-max-length")===""&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&(vh(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,_g(this.cont,"content-limit")):vh(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,_g(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(h=>{h.addEventListener("click",this.buttonPreviewClick)}),this.buttons.forEach(h=>{h.addEventListener("click",this.buttonClick)}),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(h=>{h.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()})}async onDropFile(e,n){n.preventDefault(n);for(let a=0;a<n.dataTransfer.files.length;a++){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let l=n.dataTransfer.files[a],u=new FormData;u.append("_token",window.RozierConfig.ajaxToken),u.append("form[attachment]",l);const f=await fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json"},body:u});if(f.ok){const h=await f.json();await window.Rozier.getMessages(),this.onDropFileUploaded(e,h)}else{const h=await f.json();h.errors&&window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.message,status:"danger"}}))}}}onDropFileUploaded(e,n){if(window.dispatchEvent(new CustomEvent("requestLoaderHide")),n.success===!0){let a="!["+n.document.name+"]("+n.document.url+")";e.replaceSelection(a)}}forceEditorUpdate(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}buttonClick(e){if(this.editor.getOption("readOnly")===!0)return!1;let n=e.currentTarget,a=this.editor.getSelections();if(a.length>0){switch(n.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(a));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(a));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(a));break;case"link":this.editor.replaceSelections(this.linkSelections(a));break;case"image":this.editor.replaceSelections(this.imageSelections(a));break;case"bold":this.editor.replaceSelections(this.boldSelections(a));break;case"italic":this.editor.replaceSelections(this.italicSelections(a));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(a));break;case"h2":this.editor.replaceSelections(this.h2Selections(a));break;case"h3":this.editor.replaceSelections(this.h3Selections(a));break;case"h4":this.editor.replaceSelections(this.h4Selections(a));break;case"h5":this.editor.replaceSelections(this.h5Selections(a));break;case"h6":this.editor.replaceSelections(this.h6Selections(a));break;case"back":this.editor.replaceSelections(this.backSelections(a));break;case"hr":this.editor.replaceSelections(this.hrSelections(a));break}this.editor.focus()}}backSelections(e){for(let n in e)e[n]=`   
`;return e}hrSelections(e){for(let n in e)e[n]=`

---

`;return e}nbspSelections(e){for(let n in e)e[n]="";return e}nbHyphenSelections(e){for(let n in e)e[n]="";return e}listUlSelections(e){for(let n in e)e[n]=`

* `+e[n]+`

`;return e}linkSelections(e){for(let n in e)e[n]="["+e[n]+"](http://)";return e}imageSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="!["+e[n]+"](/files/)";return e}boldSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="**"+e[n]+"**";return e}italicSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="*"+e[n]+"*";return e}h2Selections(e){for(let n in e)e[n]=`
## `+e[n]+`
`;return e}h3Selections(e){for(let n in e)e[n]=`
### `+e[n]+`
`;return e}h4Selections(e){for(let n in e)e[n]=`
#### `+e[n]+`
`;return e}h5Selections(e){for(let n in e)e[n]=`
##### `+e[n]+`
`;return e}h6Selections(e){for(let n in e)e[n]=`
###### `+e[n]+`
`;return e}blockquoteSelections(e){for(let n in e)e[n]=`
> `+e[n]+`
`;return e}textareaChange(){this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(()=>{this.preview.innerHTML=this.markdownit.render(this.editor.getValue())})),this.limit&&window.requestAnimationFrame(()=>{let e=this.editor.getValue(),a=vh(e).length;this.countCurrent[0].innerHTML=a,a>this.countMaxLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):a<this.countMinLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):this.countAlertActive&&(this.cont.classList.remove("content-limit"),this.countAlertActive=!1)})}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}buttonPreviewClick(e){e.preventDefault();let n=this.preview.offsetWidth;this.usePreview?this.closePreview():(this.usePreview=!0,this.buttonPreview.forEach(a=>{a.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),qh.fromTo(this.preview,1,{x:n*-1,opacity:0},{x:0,ease:Uh.easeOut,opacity:1}),window.addEventListener("keyup",this.closePreview),document.body.dispatchEvent(new CustomEvent("markdownPreviewOpen",{detail:this})))}closePreview(e){if(e)if(e.keyCode===27)e.preventDefault();else return;let n=this.preview.offsetWidth;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(a=>{a.classList.remove("uk-active","active")}),qh.fromTo(this.preview,1,{x:0,opacity:1},{x:n*-1,opacity:0,ease:Uh.easeOut,onComplete:()=>{this.preview.classList.remove("active")}})}destroy(){this.preview.remove()}resize(){}}class uC{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let a={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(a.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,a),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class lC{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let a={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:l=>l.execCommand("indentMore"),"Shift-Tab":l=>l.execCommand("indentLess")}};this.settingRow&&(a.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,a),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}var Jc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var cC=Jc.exports,Wg;function fC(){return Wg||(Wg=1,function(t,e){(function(n,a){a(e)})(cC,function(n){var a="1.9.4";function l(o){var m,_,M,U;for(_=1,M=arguments.length;_<M;_++){U=arguments[_];for(m in U)o[m]=U[m]}return o}var u=Object.create||function(){function o(){}return function(m){return o.prototype=m,new o}}();function f(o,m){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var M=_.call(arguments,2);return function(){return o.apply(m,M.length?M.concat(_.call(arguments)):arguments)}}var h=0;function b(o){return"_leaflet_id"in o||(o._leaflet_id=++h),o._leaflet_id}function x(o,m,_){var M,U,oe,De;return De=function(){M=!1,U&&(oe.apply(_,U),U=!1)},oe=function(){M?U=arguments:(o.apply(_,arguments),setTimeout(De,m),M=!0)},oe}function w(o,m,_){var M=m[1],U=m[0],oe=M-U;return o===M&&_?o:((o-U)%oe+oe)%oe+U}function k(){return!1}function A(o,m){if(m===!1)return o;var _=Math.pow(10,m===void 0?6:m);return Math.round(o*_)/_}function H(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function N(o){return H(o).split(/\s+/)}function q(o,m){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var _ in m)o.options[_]=m[_];return o.options}function j(o,m,_){var M=[];for(var U in o)M.push(encodeURIComponent(_?U.toUpperCase():U)+"="+encodeURIComponent(o[U]));return(!m||m.indexOf("?")===-1?"?":"&")+M.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function S(o,m){return o.replace(O,function(_,M){var U=m[M];if(U===void 0)throw new Error("No value provided for variable "+_);return typeof U=="function"&&(U=U(m)),U})}var P=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function W(o,m){for(var _=0;_<o.length;_++)if(o[_]===m)return _;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var J=0;function ue(o){var m=+new Date,_=Math.max(0,16-(m-J));return J=m+_,window.setTimeout(o,_)}var de=window.requestAnimationFrame||G("RequestAnimationFrame")||ue,ge=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ce(o,m,_){if(_&&de===ue)o.call(m);else return de.call(window,f(o,m))}function Te(o){o&&ge.call(window,o)}var ve={__proto__:null,extend:l,create:u,bind:f,get lastId(){return h},stamp:b,throttle:x,wrapNum:w,falseFn:k,formatNum:A,trim:H,splitWords:N,setOptions:q,getParamString:j,template:S,isArray:P,indexOf:W,emptyImageUrl:I,requestFn:de,cancelFn:ge,requestAnimFrame:ce,cancelAnimFrame:Te};function ne(){}ne.extend=function(o){var m=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=m.__super__=this.prototype,M=u(_);M.constructor=m,m.prototype=M;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(m[U]=this[U]);return o.statics&&l(m,o.statics),o.includes&&(D(o.includes),l.apply(null,[M].concat(o.includes))),l(M,o),delete M.statics,delete M.includes,M.options&&(M.options=_.options?u(_.options):{},l(M.options,o.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,De=M._initHooks.length;oe<De;oe++)M._initHooks[oe].call(this)}},m},ne.include=function(o){var m=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=m,this.mergeOptions(o.options)),this},ne.mergeOptions=function(o){return l(this.prototype.options,o),this},ne.addInitHook=function(o){var m=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function D(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=P(o)?o:[o];for(var m=0;m<o.length;m++)o[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(o,m,_){if(typeof o=="object")for(var M in o)this._on(M,o[M],m);else{o=N(o);for(var U=0,oe=o.length;U<oe;U++)this._on(o[U],m,_)}return this},off:function(o,m,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var M in o)this._off(M,o[M],m);else{o=N(o);for(var U=arguments.length===1,oe=0,De=o.length;oe<De;oe++)U?this._off(o[oe]):this._off(o[oe],m,_)}return this},_on:function(o,m,_,M){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(o,m,_)===!1){_===this&&(_=void 0);var U={fn:m,ctx:_};M&&(U.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(U)}},_off:function(o,m,_){var M,U,oe;if(this._events&&(M=this._events[o],!!M)){if(arguments.length===1){if(this._firingCount)for(U=0,oe=M.length;U<oe;U++)M[U].fn=k;delete this._events[o];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var De=this._listens(o,m,_);if(De!==!1){var je=M[De];this._firingCount&&(je.fn=k,this._events[o]=M=M.slice()),M.splice(De,1)}}},fire:function(o,m,_){if(!this.listens(o,_))return this;var M=l({},m,{type:o,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var U=this._events[o];if(U){this._firingCount=this._firingCount+1||1;for(var oe=0,De=U.length;oe<De;oe++){var je=U[oe],$e=je.fn;je.once&&this.off(o,$e,je.ctx),$e.call(je.ctx||this,M)}this._firingCount--}}return _&&this._propagateEvent(M),this},listens:function(o,m,_,M){typeof o!="string"&&console.warn('"string" type argument expected');var U=m;typeof m!="function"&&(M=!!m,U=void 0,_=void 0);var oe=this._events&&this._events[o];if(oe&&oe.length&&this._listens(o,U,_)!==!1)return!0;if(M){for(var De in this._eventParents)if(this._eventParents[De].listens(o,m,_,M))return!0}return!1},_listens:function(o,m,_){if(!this._events)return!1;var M=this._events[o]||[];if(!m)return!!M.length;_===this&&(_=void 0);for(var U=0,oe=M.length;U<oe;U++)if(M[U].fn===m&&M[U].ctx===_)return U;return!1},once:function(o,m,_){if(typeof o=="object")for(var M in o)this._on(M,o[M],m,!0);else{o=N(o);for(var U=0,oe=o.length;U<oe;U++)this._on(o[U],m,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[b(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[b(o)],this},_propagateEvent:function(o){for(var m in this._eventParents)this._eventParents[m].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ye=ne.extend(se);function Ee(o,m,_){this.x=_?Math.round(o):o,this.y=_?Math.round(m):m}var et=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Ee.prototype={clone:function(){return new Ee(this.x,this.y)},add:function(o){return this.clone()._add(Ie(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Ie(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Ee(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Ee(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(o){o=Ie(o);var m=o.x-this.x,_=o.y-this.y;return Math.sqrt(m*m+_*_)},equals:function(o){return o=Ie(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Ie(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function Ie(o,m,_){return o instanceof Ee?o:P(o)?new Ee(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Ee(o.x,o.y):new Ee(o,m,_)}function Me(o,m){if(o)for(var _=m?[o,m]:o,M=0,U=_.length;M<U;M++)this.extend(_[M])}Me.prototype={extend:function(o){var m,_;if(!o)return this;if(o instanceof Ee||typeof o[0]=="number"||"x"in o)m=_=Ie(o);else if(o=ie(o),m=o.min,_=o.max,!m||!_)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=_.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return Ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Ie(this.min.x,this.max.y)},getTopRight:function(){return Ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var m,_;return typeof o[0]=="number"||o instanceof Ee?o=Ie(o):o=ie(o),o instanceof Me?(m=o.min,_=o.max):m=_=o,m.x>=this.min.x&&_.x<=this.max.x&&m.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=ie(o);var m=this.min,_=this.max,M=o.min,U=o.max,oe=U.x>=m.x&&M.x<=_.x,De=U.y>=m.y&&M.y<=_.y;return oe&&De},overlaps:function(o){o=ie(o);var m=this.min,_=this.max,M=o.min,U=o.max,oe=U.x>m.x&&M.x<_.x,De=U.y>m.y&&M.y<_.y;return oe&&De},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var m=this.min,_=this.max,M=Math.abs(m.x-_.x)*o,U=Math.abs(m.y-_.y)*o;return ie(Ie(m.x-M,m.y-U),Ie(_.x+M,_.y+U))},equals:function(o){return o?(o=ie(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ie(o,m){return!o||o instanceof Me?o:new Me(o,m)}function Y(o,m){if(o)for(var _=m?[o,m]:o,M=0,U=_.length;M<U;M++)this.extend(_[M])}Y.prototype={extend:function(o){var m=this._southWest,_=this._northEast,M,U;if(o instanceof Re)M=o,U=o;else if(o instanceof Y){if(M=o._southWest,U=o._northEast,!M||!U)return this}else return o?this.extend(V(o)||Le(o)):this;return!m&&!_?(this._southWest=new Re(M.lat,M.lng),this._northEast=new Re(U.lat,U.lng)):(m.lat=Math.min(M.lat,m.lat),m.lng=Math.min(M.lng,m.lng),_.lat=Math.max(U.lat,_.lat),_.lng=Math.max(U.lng,_.lng)),this},pad:function(o){var m=this._southWest,_=this._northEast,M=Math.abs(m.lat-_.lat)*o,U=Math.abs(m.lng-_.lng)*o;return new Y(new Re(m.lat-M,m.lng-U),new Re(_.lat+M,_.lng+U))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=V(o):o=Le(o);var m=this._southWest,_=this._northEast,M,U;return o instanceof Y?(M=o.getSouthWest(),U=o.getNorthEast()):M=U=o,M.lat>=m.lat&&U.lat<=_.lat&&M.lng>=m.lng&&U.lng<=_.lng},intersects:function(o){o=Le(o);var m=this._southWest,_=this._northEast,M=o.getSouthWest(),U=o.getNorthEast(),oe=U.lat>=m.lat&&M.lat<=_.lat,De=U.lng>=m.lng&&M.lng<=_.lng;return oe&&De},overlaps:function(o){o=Le(o);var m=this._southWest,_=this._northEast,M=o.getSouthWest(),U=o.getNorthEast(),oe=U.lat>m.lat&&M.lat<_.lat,De=U.lng>m.lng&&M.lng<_.lng;return oe&&De},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,m){return o?(o=Le(o),this._southWest.equals(o.getSouthWest(),m)&&this._northEast.equals(o.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Le(o,m){return o instanceof Y?o:new Y(o,m)}function Re(o,m,_){if(isNaN(o)||isNaN(m))throw new Error("Invalid LatLng object: ("+o+", "+m+")");this.lat=+o,this.lng=+m,_!==void 0&&(this.alt=+_)}Re.prototype={equals:function(o,m){if(!o)return!1;o=V(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(m===void 0?1e-9:m)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return Ae.distance(this,V(o))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(o){var m=180*o/40075017,_=m/Math.cos(Math.PI/180*this.lat);return Le([this.lat-m,this.lng-_],[this.lat+m,this.lng+_])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function V(o,m,_){return o instanceof Re?o:P(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):m===void 0?null:new Re(o,m,_)}var we={latLngToPoint:function(o,m){var _=this.projection.project(o),M=this.scale(m);return this.transformation._transform(_,M)},pointToLatLng:function(o,m){var _=this.scale(m),M=this.transformation.untransform(o,_);return this.projection.unproject(M)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var m=this.projection.bounds,_=this.scale(o),M=this.transformation.transform(m.min,_),U=this.transformation.transform(m.max,_);return new Me(M,U)},infinite:!1,wrapLatLng:function(o){var m=this.wrapLng?w(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?w(o.lat,this.wrapLat,!0):o.lat,M=o.alt;return new Re(_,m,M)},wrapLatLngBounds:function(o){var m=o.getCenter(),_=this.wrapLatLng(m),M=m.lat-_.lat,U=m.lng-_.lng;if(M===0&&U===0)return o;var oe=o.getSouthWest(),De=o.getNorthEast(),je=new Re(oe.lat-M,oe.lng-U),$e=new Re(De.lat-M,De.lng-U);return new Y(je,$e)}},Ae=l({},we,{wrapLng:[-180,180],R:6371e3,distance:function(o,m){var _=Math.PI/180,M=o.lat*_,U=m.lat*_,oe=Math.sin((m.lat-o.lat)*_/2),De=Math.sin((m.lng-o.lng)*_/2),je=oe*oe+Math.cos(M)*Math.cos(U)*De*De,$e=2*Math.atan2(Math.sqrt(je),Math.sqrt(1-je));return this.R*$e}}),qe=6378137,Ze={R:qe,MAX_LATITUDE:85.0511287798,project:function(o){var m=Math.PI/180,_=this.MAX_LATITUDE,M=Math.max(Math.min(_,o.lat),-_),U=Math.sin(M*m);return new Ee(this.R*o.lng*m,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(o){var m=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*m,o.x*m/this.R)},bounds:function(){var o=qe*Math.PI;return new Me([-o,-o],[o,o])}()};function Xe(o,m,_,M){if(P(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=m,this._c=_,this._d=M}Xe.prototype={transform:function(o,m){return this._transform(o.clone(),m)},_transform:function(o,m){return m=m||1,o.x=m*(this._a*o.x+this._b),o.y=m*(this._c*o.y+this._d),o},untransform:function(o,m){return m=m||1,new Ee((o.x/m-this._b)/this._a,(o.y/m-this._d)/this._c)}};function ut(o,m,_,M){return new Xe(o,m,_,M)}var Et=l({},Ae,{code:"EPSG:3857",projection:Ze,transformation:function(){var o=.5/(Math.PI*Ze.R);return ut(o,.5,-o,.5)}()}),wt=l({},Et,{code:"EPSG:900913"});function St(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function yt(o,m){var _="",M,U,oe,De,je,$e;for(M=0,oe=o.length;M<oe;M++){for(je=o[M],U=0,De=je.length;U<De;U++)$e=je[U],_+=(U?"L":"M")+$e.x+" "+$e.y;_+=m?Ot.svg?"z":"x":""}return _||"M0 0"}var Mt=document.documentElement.style,Ut="ActiveXObject"in window,Kt=Ut&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),le=En("webkit"),Q=En("android"),he=En("android 2")||En("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Be=Q&&En("Google")&&pe<537&&!("AudioNode"in window),ot=!!window.opera,Qe=!X&&En("chrome"),mt=En("gecko")&&!le&&!ot&&!Ut,Pt=!Qe&&En("safari"),ct=En("phantom"),Wt="OTransition"in Mt,$t=navigator.platform.indexOf("Win")===0,Qt=Ut&&"transition"in Mt,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!he,xt="MozPerspective"in Mt,Yn=!window.L_DISABLE_3D&&(Qt||Vt||xt)&&!Wt&&!ct,Yt=typeof orientation<"u"||En("mobile"),mr=Yt&&le,Rt=Yt&&Vt,sn=!window.PointerEvent&&window.MSPointerEvent,_i=!!(window.PointerEvent||sn),Ri="ontouchstart"in window||!!window.TouchEvent,pi=!window.L_NO_TOUCH&&(Ri||_i),wi=Yt&&ot,ui=Yt&&mt,si=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bi=function(){var o=!1;try{var m=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",k,m),window.removeEventListener("testPassiveEventSupport",k,m)}catch{}return o}(),eo=function(){return!!document.createElement("canvas").getContext}(),Hi=!!(document.createElementNS&&St("svg").createSVGRect),Rr=!!Hi&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wi=!Hi&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var m=o.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),Ki=navigator.platform.indexOf("Mac")===0,gr=navigator.platform.indexOf("Linux")===0;function En(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ot={ie:Ut,ielt9:Kt,edge:X,webkit:le,android:Q,android23:he,androidStock:Be,opera:ot,chrome:Qe,gecko:mt,safari:Pt,phantom:ct,opera12:Wt,win:$t,ie3d:Qt,webkit3d:Vt,gecko3d:xt,any3d:Yn,mobile:Yt,mobileWebkit:mr,mobileWebkit3d:Rt,msPointer:sn,pointer:_i,touch:pi,touchNative:Ri,mobileOpera:wi,mobileGecko:ui,retina:si,passiveEvents:Bi,canvas:eo,svg:Hi,vml:Wi,inlineSvg:Rr,mac:Ki,linux:gr},vr=Ot.msPointer?"MSPointerDown":"pointerdown",$n=Ot.msPointer?"MSPointerMove":"pointermove",Gn=Ot.msPointer?"MSPointerUp":"pointerup",nr=Ot.msPointer?"MSPointerCancel":"pointercancel",Ur={touchstart:vr,touchmove:$n,touchend:Gn,touchcancel:nr},Gi={touchstart:bn,touchmove:Nr,touchend:Nr,touchcancel:Nr},Qi={},rr=!1;function or(o,m,_){return m==="touchstart"&&Tn(),Gi[m]?(_=Gi[m].bind(this,_),o.addEventListener(Ur[m],_,!1),_):(console.warn("wrong event specified:",m),k)}function Sn(o,m,_){if(!Ur[m]){console.warn("wrong event specified:",m);return}o.removeEventListener(Ur[m],_,!1)}function to(o){Qi[o.pointerId]=o}function io(o){Qi[o.pointerId]&&(Qi[o.pointerId]=o)}function xr(o){delete Qi[o.pointerId]}function Tn(){rr||(document.addEventListener(vr,to,!0),document.addEventListener($n,io,!0),document.addEventListener(Gn,xr,!0),document.addEventListener(nr,xr,!0),rr=!0)}function Nr(o,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var _ in Qi)m.touches.push(Qi[_]);m.changedTouches=[m],o(m)}}function bn(o,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Zt(m),Nr(o,m)}function ho(o){var m={},_,M;for(M in o)_=o[M],m[M]=_&&_.bind?_.bind(o):_;return o=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Zn=200;function Ui(o,m){o.addEventListener("dblclick",m);var _=0,M;function U(oe){if(oe.detail!==1){M=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var De=yn(oe);if(!(De.some(function($e){return $e instanceof HTMLLabelElement&&$e.attributes.for})&&!De.some(function($e){return $e instanceof HTMLInputElement||$e instanceof HTMLSelectElement}))){var je=Date.now();je-_<=Zn?(M++,M===2&&m(ho(oe))):M=1,_=je}}}return o.addEventListener("click",U),{dblclick:m,simDblclick:U}}function Lt(o,m){o.removeEventListener("dblclick",m.dblclick),o.removeEventListener("click",m.simDblclick)}var Xn=T(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ar=T(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zn=ar==="webkitTransition"||ar==="OTransition"?ar+"End":"transitionend";function ee(o){return typeof o=="string"?document.getElementById(o):o}function xe(o,m){var _=o.style[m]||o.currentStyle&&o.currentStyle[m];if((!_||_==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(o,null);_=M?M[m]:null}return _==="auto"?null:_}function We(o,m,_){var M=document.createElement(o);return M.className=m||"",_&&_.appendChild(M),M}function nt(o){var m=o.parentNode;m&&m.removeChild(o)}function Ue(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function pt(o){var m=o.parentNode;m&&m.lastChild!==o&&m.appendChild(o)}function ni(o){var m=o.parentNode;m&&m.firstChild!==o&&m.insertBefore(o,m.firstChild)}function Yi(o,m){if(o.classList!==void 0)return o.classList.contains(m);var _=jt(o);return _.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(_)}function Nt(o,m){if(o.classList!==void 0)for(var _=N(m),M=0,U=_.length;M<U;M++)o.classList.add(_[M]);else if(!Yi(o,m)){var oe=jt(o);po(o,(oe?oe+" ":"")+m)}}function li(o,m){o.classList!==void 0?o.classList.remove(m):po(o,H((" "+jt(o)+" ").replace(" "+m+" "," ")))}function po(o,m){o.className.baseVal===void 0?o.className=m:o.className.baseVal=m}function jt(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ke(o,m){"opacity"in o.style?o.style.opacity=m:"filter"in o.style&&y(o,m)}function y(o,m){var _=!1,M="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(M)}catch{if(m===1)return}m=Math.round(m*100),_?(_.Enabled=m!==100,_.Opacity=m):o.style.filter+=" progid:"+M+"(opacity="+m+")"}function T(o){for(var m=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in m)return o[_];return!1}function R(o,m,_){var M=m||new Ee(0,0);o.style[Xn]=(Ot.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(_?" scale("+_+")":"")}function re(o,m){o._leaflet_pos=m,Ot.any3d?R(o,m):(o.style.left=m.x+"px",o.style.top=m.y+"px")}function ae(o){return o._leaflet_pos||new Ee(0,0)}var _e,Oe,Je;if("onselectstart"in document)_e=function(){Ft(window,"selectstart",Zt)},Oe=function(){ri(window,"selectstart",Zt)};else{var tt=T(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_e=function(){if(tt){var o=document.documentElement.style;Je=o[tt],o[tt]="none"}},Oe=function(){tt&&(document.documentElement.style[tt]=Je,Je=void 0)}}function Ve(){Ft(window,"dragstart",Zt)}function Ke(){ri(window,"dragstart",Zt)}var ft,fi;function hi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ji(),ft=o,fi=o.style.outlineStyle,o.style.outlineStyle="none",Ft(window,"keydown",ji))}function ji(){ft&&(ft.style.outlineStyle=fi,ft=void 0,fi=void 0,ri(window,"keydown",ji))}function Ei(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Pi(o){var m=o.getBoundingClientRect();return{x:m.width/o.offsetWidth||1,y:m.height/o.offsetHeight||1,boundingClientRect:m}}var fn={__proto__:null,TRANSFORM:Xn,TRANSITION:ar,TRANSITION_END:zn,get:ee,getStyle:xe,create:We,remove:nt,empty:Ue,toFront:pt,toBack:ni,hasClass:Yi,addClass:Nt,removeClass:li,setClass:po,getClass:jt,setOpacity:ke,testProp:T,setTransform:R,setPosition:re,getPosition:ae,get disableTextSelection(){return _e},get enableTextSelection(){return Oe},disableImageDrag:Ve,enableImageDrag:Ke,preventOutline:hi,restoreOutline:ji,getSizedParentNode:Ei,getScale:Pi};function Ft(o,m,_,M){if(m&&typeof m=="object")for(var U in m)on(o,U,m[U],_);else{m=N(m);for(var oe=0,De=m.length;oe<De;oe++)on(o,m[oe],_,M)}return this}var rn="_leaflet_events";function ri(o,m,_,M){if(arguments.length===1)gt(o),delete o[rn];else if(m&&typeof m=="object")for(var U in m)sr(o,U,m[U],_);else if(m=N(m),arguments.length===2)gt(o,function(je){return W(m,je)!==-1});else for(var oe=0,De=m.length;oe<De;oe++)sr(o,m[oe],_,M);return this}function gt(o,m){for(var _ in o[rn]){var M=_.split(/\d/)[0];(!m||m(M))&&sr(o,M,null,null,_)}}var xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function on(o,m,_,M){var U=m+b(_)+(M?"_"+b(M):"");if(o[rn]&&o[rn][U])return this;var oe=function(je){return _.call(M||o,je||window.event)},De=oe;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?oe=or(o,m,oe):Ot.touch&&m==="dblclick"?oe=Ui(o,oe):"addEventListener"in o?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?o.addEventListener(xi[m]||m,oe,Ot.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(oe=function(je){je=je||window.event,Xo(o,je)&&De(je)},o.addEventListener(xi[m],oe,!1)):o.addEventListener(m,De,!1):o.attachEvent("on"+m,oe),o[rn]=o[rn]||{},o[rn][U]=oe}function sr(o,m,_,M,U){U=U||m+b(_)+(M?"_"+b(M):"");var oe=o[rn]&&o[rn][U];if(!oe)return this;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?Sn(o,m,oe):Ot.touch&&m==="dblclick"?Lt(o,oe):"removeEventListener"in o?o.removeEventListener(xi[m]||m,oe,!1):o.detachEvent("on"+m,oe),o[rn][U]=null}function An(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Yr(o){return on(o,"wheel",An),this}function zr(o){return Ft(o,"mousedown touchstart dblclick contextmenu",An),o._leaflet_disable_click=!0,this}function Zt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function oi(o){return Zt(o),An(o),this}function yn(o){if(o.composedPath)return o.composedPath();for(var m=[],_=o.target;_;)m.push(_),_=_.parentNode;return m}function Ir(o,m){if(!m)return new Ee(o.clientX,o.clientY);var _=Pi(m),M=_.boundingClientRect;return new Ee((o.clientX-M.left)/_.x-m.clientLeft,(o.clientY-M.top)/_.y-m.clientTop)}var Zo=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _a(o){return Ot.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Zo:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Xo(o,m){var _=m.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var wa={__proto__:null,on:Ft,off:ri,stopPropagation:An,disableScrollPropagation:Yr,disableClickPropagation:zr,preventDefault:Zt,stop:oi,getPropagationPath:yn,getMousePosition:Ir,getWheelDelta:_a,isExternalTarget:Xo,addListener:Ft,removeListener:ri},Ba=ye.extend({run:function(o,m,_,M){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=ae(o),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ce(this._animate,this),this._step()},_step:function(o){var m=+new Date-this._startTime,_=this._duration*1e3;m<_?this._runFrame(this._easeOut(m/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,m){var _=this._startPos.add(this._offset.multiplyBy(o));m&&_._round(),re(this._el,_),this.fire("step")},_complete:function(){Te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),gi=ye.extend({options:{crs:Et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,m){m=q(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(V(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ar&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,zn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,m,_){if(m=m===void 0?this._zoom:this._limitZoom(m),o=this._limitCenter(V(o),m,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=l({animate:_.animate},_.zoom),_.pan=l({animate:_.animate,duration:_.duration},_.pan));var M=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,m,_.zoom):this._tryAnimatedPan(o,_.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(o,m,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,m){return this._loaded?this.setView(this.getCenter(),o,{zoom:m}):(this._zoom=o,this)},zoomIn:function(o,m){return o=o||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,m)},zoomOut:function(o,m){return o=o||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,m)},setZoomAround:function(o,m,_){var M=this.getZoomScale(m),U=this.getSize().divideBy(2),oe=o instanceof Ee?o:this.latLngToContainerPoint(o),De=oe.subtract(U).multiplyBy(1-1/M),je=this.containerPointToLatLng(U.add(De));return this.setView(je,m,{zoom:_})},_getBoundsCenterZoom:function(o,m){m=m||{},o=o.getBounds?o.getBounds():Le(o);var _=Ie(m.paddingTopLeft||m.padding||[0,0]),M=Ie(m.paddingBottomRight||m.padding||[0,0]),U=this.getBoundsZoom(o,!1,_.add(M));if(U=typeof m.maxZoom=="number"?Math.min(m.maxZoom,U):U,U===1/0)return{center:o.getCenter(),zoom:U};var oe=M.subtract(_).divideBy(2),De=this.project(o.getSouthWest(),U),je=this.project(o.getNorthEast(),U),$e=this.unproject(De.add(je).divideBy(2).add(oe),U);return{center:$e,zoom:U}},fitBounds:function(o,m){if(o=Le(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,m);return this.setView(_.center,_.zoom,m)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,m){return this.setView(o,this._zoom,{pan:m})},panBy:function(o,m){if(o=Ie(o).round(),m=m||{},!o.x&&!o.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,m.duration||.25,m.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,m,_){if(_=_||{},_.animate===!1||!Ot.any3d)return this.setView(o,m,_);this._stop();var M=this.project(this.getCenter()),U=this.project(o),oe=this.getSize(),De=this._zoom;o=V(o),m=m===void 0?De:m;var je=Math.max(oe.x,oe.y),$e=je*this.getZoomScale(De,m),lt=U.distanceTo(M)||1,Ct=1.42,It=Ct*Ct;function ai(nn){var Ds=nn?-1:1,fe=nn?$e:je,Ga=$e*$e-je*je+Ds*It*It*lt*lt,Vn=2*fe*It*lt,Di=Ga/Vn,Gt=Math.sqrt(Di*Di+1)-Di,Dn=Gt<1e-9?-18:Math.log(Gt);return Dn}function Zi(nn){return(Math.exp(nn)-Math.exp(-nn))/2}function Xi(nn){return(Math.exp(nn)+Math.exp(-nn))/2}function pn(nn){return Zi(nn)/Xi(nn)}var Bn=ai(0);function Xr(nn){return je*(Xi(Bn)/Xi(Bn+Ct*nn))}function Al(nn){return je*(Xi(Bn)*pn(Bn+Ct*nn)-Zi(Bn))/It}function gc(nn){return 1-Math.pow(1-nn,1.5)}var Ta=Date.now(),sa=(ai(1)-Bn)/Ct,vc=_.duration?1e3*_.duration:1e3*sa*.8;function As(){var nn=(Date.now()-Ta)/vc,Ds=gc(nn)*sa;nn<=1?(this._flyToFrame=ce(As,this),this._move(this.unproject(M.add(U.subtract(M).multiplyBy(Al(Ds)/lt)),De),this.getScaleZoom(je/Xr(Ds),De),{flyTo:!0})):this._move(o,m)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),As.call(this),this},flyToBounds:function(o,m){var _=this._getBoundsCenterZoom(o,m);return this.flyTo(_.center,_.zoom,m)},setMaxBounds:function(o){return o=Le(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var m=this.options.minZoom;return this.options.minZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var m=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,m){this._enforcingBounds=!0;var _=this.getCenter(),M=this._limitCenter(_,this._zoom,Le(o));return _.equals(M)||this.panTo(M,m),this._enforcingBounds=!1,this},panInside:function(o,m){m=m||{};var _=Ie(m.paddingTopLeft||m.padding||[0,0]),M=Ie(m.paddingBottomRight||m.padding||[0,0]),U=this.project(this.getCenter()),oe=this.project(o),De=this.getPixelBounds(),je=ie([De.min.add(_),De.max.subtract(M)]),$e=je.getSize();if(!je.contains(oe)){this._enforcingBounds=!0;var lt=oe.subtract(je.getCenter()),Ct=je.extend(oe).getSize().subtract($e);U.x+=lt.x<0?-Ct.x:Ct.x,U.y+=lt.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(U),m),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),M=m.divideBy(2).round(),U=_.divideBy(2).round(),oe=M.subtract(U);return!oe.x&&!oe.y?this:(o.animate&&o.pan?this.panBy(oe):(o.pan&&this._rawPanBy(oe),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=f(this._handleGeolocationResponse,this),_=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,_,o):navigator.geolocation.getCurrentPosition(m,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var m=o.code,_=o.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var m=o.coords.latitude,_=o.coords.longitude,M=new Re(m,_),U=M.toBounds(o.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var De=this.getBoundsZoom(U);this.setView(M,oe.maxZoom?Math.min(De,oe.maxZoom):De)}var je={latlng:M,bounds:U,timestamp:o.timestamp};for(var $e in o.coords)typeof o.coords[$e]=="number"&&(je[$e]=o.coords[$e]);this.fire("locationfound",je)}},addHandler:function(o,m){if(!m)return this;var _=this[o]=new m(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)nt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,m){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),M=We("div",_,m||this._mapPane);return o&&(this._panes[o]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),m=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Y(m,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,m,_){o=Le(o),_=Ie(_||[0,0]);var M=this.getZoom()||0,U=this.getMinZoom(),oe=this.getMaxZoom(),De=o.getNorthWest(),je=o.getSouthEast(),$e=this.getSize().subtract(_),lt=ie(this.project(je,M),this.project(De,M)).getSize(),Ct=Ot.any3d?this.options.zoomSnap:1,It=$e.x/lt.x,ai=$e.y/lt.y,Zi=m?Math.max(It,ai):Math.min(It,ai);return M=this.getScaleZoom(Zi,M),Ct&&(M=Math.round(M/(Ct/100))*(Ct/100),M=m?Math.ceil(M/Ct)*Ct:Math.floor(M/Ct)*Ct),Math.max(U,Math.min(oe,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,m){var _=this._getTopLeftPoint(o,m);return new Me(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,m){var _=this.options.crs;return m=m===void 0?this._zoom:m,_.scale(o)/_.scale(m)},getScaleZoom:function(o,m){var _=this.options.crs;m=m===void 0?this._zoom:m;var M=_.zoom(o*_.scale(m));return isNaN(M)?1/0:M},project:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(V(o),m)},unproject:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Ie(o),m)},layerPointToLatLng:function(o){var m=Ie(o).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(o){var m=this.project(V(o))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(V(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Le(o))},distance:function(o,m){return this.options.crs.distance(V(o),V(m))},containerPointToLayerPoint:function(o){return Ie(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Ie(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var m=this.containerPointToLayerPoint(Ie(o));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(o)))},mouseEventToContainerPoint:function(o){return Ir(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var m=this._container=ee(o);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(m,"scroll",this._onScroll,this),this._containerId=b(m)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Nt(o,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=xe(o,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),re(this._mapPane,new Ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(o.markerPane,"leaflet-zoom-hide"),Nt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,m,_){re(this._mapPane,new Ee(0,0));var M=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var U=this._zoom!==m;this._moveStart(U,_)._move(o,m)._moveEnd(U),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(o,m){return o&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(o,m,_,M){m===void 0&&(m=this._zoom);var U=this._zoom!==m;return this._zoom=m,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),M?_&&_.pinch&&this.fire("zoom",_):((U||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){re(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[b(this._container)]=this;var m=o?ri:Ft;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Te(this._resizeRequest),this._resizeRequest=ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,m){for(var _=[],M,U=m==="mouseout"||m==="mouseover",oe=o.target||o.srcElement,De=!1;oe;){if(M=this._targets[b(oe)],M&&(m==="click"||m==="preclick")&&this._draggableMoved(M)){De=!0;break}if(M&&M.listens(m,!0)&&(U&&!Xo(oe,o)||(_.push(M),U))||oe===this._container)break;oe=oe.parentNode}return!_.length&&!De&&!U&&this.listens(m,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var m=o.target||o.srcElement;if(!(!this._loaded||m._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(m))){var _=o.type;_==="mousedown"&&hi(m),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,m,_){if(o.type==="click"){var M=l({},o);M.type="preclick",this._fireDOMEvent(M,M.type,_)}var U=this._findEventTargets(o,m);if(_){for(var oe=[],De=0;De<_.length;De++)_[De].listens(m,!0)&&oe.push(_[De]);U=oe.concat(U)}if(U.length){m==="contextmenu"&&Zt(o);var je=U[0],$e={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var lt=je.getLatLng&&(!je._radius||je._radius<=10);$e.containerPoint=lt?this.latLngToContainerPoint(je.getLatLng()):this.mouseEventToContainerPoint(o),$e.layerPoint=this.containerPointToLayerPoint($e.containerPoint),$e.latlng=lt?je.getLatLng():this.layerPointToLatLng($e.layerPoint)}for(De=0;De<U.length;De++)if(U[De].fire(m,$e,!0),$e.originalEvent._stopped||U[De].options.bubblingMouseEvents===!1&&W(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,m=this._handlers.length;o<m;o++)this._handlers[o].disable()},whenReady:function(o,m){return this._loaded?o.call(m||this,{target:this}):this.on("load",o,m),this},_getMapPanePos:function(){return ae(this._mapPane)||new Ee(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,m){var _=o&&m!==void 0?this._getNewPixelOrigin(o,m):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,m){var _=this.getSize()._divideBy(2);return this.project(o,m)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,m,_){var M=this._getNewPixelOrigin(_,m);return this.project(o,m)._subtract(M)},_latLngBoundsToNewLayerBounds:function(o,m,_){var M=this._getNewPixelOrigin(_,m);return ie([this.project(o.getSouthWest(),m)._subtract(M),this.project(o.getNorthWest(),m)._subtract(M),this.project(o.getSouthEast(),m)._subtract(M),this.project(o.getNorthEast(),m)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,m,_){if(!_)return o;var M=this.project(o,m),U=this.getSize().divideBy(2),oe=new Me(M.subtract(U),M.add(U)),De=this._getBoundsOffset(oe,_,m);return Math.abs(De.x)<=1&&Math.abs(De.y)<=1?o:this.unproject(M.add(De),m)},_limitOffset:function(o,m){if(!m)return o;var _=this.getPixelBounds(),M=new Me(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(M,m))},_getBoundsOffset:function(o,m,_){var M=ie(this.project(m.getNorthEast(),_),this.project(m.getSouthWest(),_)),U=M.min.subtract(o.min),oe=M.max.subtract(o.max),De=this._rebound(U.x,-oe.x),je=this._rebound(U.y,-oe.y);return new Ee(De,je)},_rebound:function(o,m){return o+m>0?Math.round(o-m)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(m))},_limitZoom:function(o){var m=this.getMinZoom(),_=this.getMaxZoom(),M=Ot.any3d?this.options.zoomSnap:1;return M&&(o=Math.round(o/M)*M),Math.max(m,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,m){var _=this._getCenterOffset(o)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,m),!0)},_createAnimProxy:function(){var o=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(m){var _=Xn,M=this._proxy.style[_];R(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),M===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),m=this.getZoom();R(this._proxy,this.project(o,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,m,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(m),U=this._getCenterOffset(o)._divideBy(1-1/M);return _.animate!==!0&&!this.getSize().contains(U)?!1:(ce(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,m,!0)},this),!0)},_animateZoom:function(o,m,_,M){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=m,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:m,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ni(o,m){return new gi(o,m)}var br=ne.extend({options:{position:"topright"},initialize:function(o){q(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var m=this._map;return m&&m.removeControl(this),this.options.position=o,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var m=this._container=this.onAdd(o),_=this.getPosition(),M=o._controlCorners[_];return Nt(m,"leaflet-control"),_.indexOf("bottom")!==-1?M.insertBefore(m,M.firstChild):M.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Br=function(o){return new br(o)};gi.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},m="leaflet-",_=this._controlContainer=We("div",m+"control-container",this._container);function M(U,oe){var De=m+U+" "+m+oe;o[U+oe]=We("div",De,_)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)nt(this._controlCorners[o]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ys=br.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,m,_,M){return _<M?-1:M<_?1:0}},initialize:function(o,m,_){q(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in o)this._addLayer(o[M],M);for(M in m)this._addLayer(m[M],M,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return br.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,m){return this._addLayer(o,m),this._map?this._update():this},addOverlay:function(o,m){return this._addLayer(o,m,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var m=this._getLayer(b(o));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",m=this._container=We("div",o),_=this.options.collapsed;m.setAttribute("aria-haspopup",!0),zr(m),Yr(m);var M=this._section=We("section",o+"-list");_&&(this._map.on("click",this.collapse,this),Ft(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=We("a",o+"-toggle",m);U.href="#",U.title="Layers",U.setAttribute("role","button"),Ft(U,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Zt(oe),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=We("div",o+"-base",M),this._separator=We("div",o+"-separator",M),this._overlaysList=We("div",o+"-overlays",M),m.appendChild(M)},_getLayer:function(o){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&b(this._layers[m].layer)===o)return this._layers[m]},_addLayer:function(o,m,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:m,overlay:_}),this.options.sortLayers&&this._layers.sort(f(function(M,U){return this.options.sortFunction(M.layer,U.layer,M.name,U.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ue(this._baseLayersList),Ue(this._overlaysList),this._layerControlInputs=[];var o,m,_,M,U=0;for(_=0;_<this._layers.length;_++)M=this._layers[_],this._addItem(M),m=m||M.overlay,o=o||!M.overlay,U+=M.overlay?0:1;return this.options.hideSingleBase&&(o=o&&U>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=m&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var m=this._getLayer(b(o.target)),_=m.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,m)},_createRadioElement:function(o,m){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(m?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=_,M.firstChild},_addItem:function(o){var m=document.createElement("label"),_=this._map.hasLayer(o.layer),M;o.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=_):M=this._createRadioElement("leaflet-base-layers_"+b(this),_),this._layerControlInputs.push(M),M.layerId=b(o.layer),Ft(M,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+o.name;var oe=document.createElement("span");m.appendChild(oe),oe.appendChild(M),oe.appendChild(U);var De=o.overlay?this._overlaysList:this._baseLayersList;return De.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,m,_,M=[],U=[];this._handlingClick=!0;for(var oe=o.length-1;oe>=0;oe--)m=o[oe],_=this._getLayer(m.layerId).layer,m.checked?M.push(_):m.checked||U.push(_);for(oe=0;oe<U.length;oe++)this._map.hasLayer(U[oe])&&this._map.removeLayer(U[oe]);for(oe=0;oe<M.length;oe++)this._map.hasLayer(M[oe])||this._map.addLayer(M[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,m,_,M=this._map.getZoom(),U=o.length-1;U>=0;U--)m=o[U],_=this._getLayer(m.layerId).layer,m.disabled=_.options.minZoom!==void 0&&M<_.options.minZoom||_.options.maxZoom!==void 0&&M>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ft(o,"click",Zt),this.expand();var m=this;setTimeout(function(){ri(o,"click",Zt),m._preventClick=!1})}}),Us=function(o,m,_){return new ys(o,m,_)},hn=br.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var m="leaflet-control-zoom",_=We("div",m+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,m+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,m+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,m,_,M,U){var oe=We("a",_,M);return oe.innerHTML=o,oe.href="#",oe.title=m,oe.setAttribute("role","button"),oe.setAttribute("aria-label",m),zr(oe),Ft(oe,"click",oi),Ft(oe,"click",U,this),Ft(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var o=this._map,m="leaflet-disabled";li(this._zoomInButton,m),li(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Nt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Nt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});gi.mergeOptions({zoomControl:!0}),gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hn,this.addControl(this.zoomControl))});var Ys=function(o){return new hn(o)},no=br.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var m="leaflet-control-scale",_=We("div",m),M=this.options;return this._addScales(M,m+"-line",_),o.on(M.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,m,_){o.metric&&(this._mScale=We("div",m,_)),o.imperial&&(this._iScale=We("div",m,_))},_update:function(){var o=this._map,m=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,m]),o.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var m=this._getRoundNum(o),_=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,_,m/o)},_updateImperial:function(o){var m=o*3.2808399,_,M,U;m>5280?(_=m/5280,M=this._getRoundNum(_),this._updateScale(this._iScale,M+" mi",M/_)):(U=this._getRoundNum(m),this._updateScale(this._iScale,U+" ft",U/m))},_updateScale:function(o,m,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=m},_getRoundNum:function(o){var m=Math.pow(10,(Math.floor(o)+"").length-1),_=o/m;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,m*_}}),_s=function(o){return new no(o)},$s='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ao=br.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?$s+" ":"")+"Leaflet</a>"},initialize:function(o){q(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=We("div","leaflet-control-attribution"),zr(this._container);for(var m in o._layers)o._layers[m].getAttribution&&this.addAttribution(o._layers[m].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var m in this._attributions)this._attributions[m]&&o.push(m);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});gi.mergeOptions({attributionControl:!0}),gi.addInitHook(function(){this.options.attributionControl&&new Ao().addTo(this)});var yl=function(o){return new Ao(o)};br.Layers=ys,br.Zoom=hn,br.Scale=no,br.Attribution=Ao,Br.layers=Us,Br.zoom=Ys,Br.scale=_s,Br.attribution=yl;var un=ne.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(o,m){return o.addHandler(m,this),this};var pc={Events:se},Hr=Ot.touch?"touchstart mousedown":"mousedown",Do=ye.extend({options:{clickTolerance:3},initialize:function(o,m,_,M){q(this,M),this._element=o,this._dragStartTarget=m||o,this._preventOutline=_},enable:function(){this._enabled||(Ft(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Do._dragging===this&&this.finishDrag(!0),ri(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Yi(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Do._dragging===this&&this.finishDrag();return}if(!(Do._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Do._dragging=this,this._preventOutline&&hi(this._element),Ve(),_e(),!this._moving)){this.fire("down");var m=o.touches?o.touches[0]:o,_=Ei(this._element);this._startPoint=new Ee(m.clientX,m.clientY),this._startPos=ae(this._element),this._parentScale=Pi(_);var M=o.type==="mousedown";Ft(document,M?"mousemove":"touchmove",this._onMove,this),Ft(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var m=o.touches&&o.touches.length===1?o.touches[0]:o,_=new Ee(m.clientX,m.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Zt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),re(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){li(document.body,"leaflet-dragging"),this._lastTarget&&(li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ri(document,"mousemove touchmove",this._onMove,this),ri(document,"mouseup touchend touchcancel",this._onUp,this),Ke(),Oe();var m=this._moved&&this._moving;this._moving=!1,Do._dragging=!1,m&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Gs(o,m,_){var M,U=[1,4,2,8],oe,De,je,$e,lt,Ct,It,ai;for(oe=0,Ct=o.length;oe<Ct;oe++)o[oe]._code=kr(o[oe],m);for(je=0;je<4;je++){for(It=U[je],M=[],oe=0,Ct=o.length,De=Ct-1;oe<Ct;De=oe++)$e=o[oe],lt=o[De],$e._code&It?lt._code&It||(ai=ws(lt,$e,It,m,_),ai._code=kr(ai,m),M.push(ai)):(lt._code&It&&(ai=ws(lt,$e,It,m,_),ai._code=kr(ai,m),M.push(ai)),M.push($e));o=M}return o}function Lo(o,m){var _,M,U,oe,De,je,$e,lt,Ct;if(!o||o.length===0)throw new Error("latlngs not passed");Cr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var It=V([0,0]),ai=Le(o),Zi=ai.getNorthWest().distanceTo(ai.getSouthWest())*ai.getNorthEast().distanceTo(ai.getNorthWest());Zi<1700&&(It=Ha(o));var Xi=o.length,pn=[];for(_=0;_<Xi;_++){var Bn=V(o[_]);pn.push(m.project(V([Bn.lat-It.lat,Bn.lng-It.lng])))}for(je=$e=lt=0,_=0,M=Xi-1;_<Xi;M=_++)U=pn[_],oe=pn[M],De=U.y*oe.x-oe.y*U.x,$e+=(U.x+oe.x)*De,lt+=(U.y+oe.y)*De,je+=De*3;je===0?Ct=pn[0]:Ct=[$e/je,lt/je];var Xr=m.unproject(Ie(Ct));return V([Xr.lat+It.lat,Xr.lng+It.lng])}function Ha(o){for(var m=0,_=0,M=0,U=0;U<o.length;U++){var oe=V(o[U]);m+=oe.lat,_+=oe.lng,M++}return V([m/M,_/M])}var Bu={__proto__:null,clipPolygon:Gs,polygonCenter:Lo,centroid:Ha};function Ji(o,m){if(!m||!o.length)return o.slice();var _=m*m;return o=Wa(o,_),o=_l(o,_),o}function mo(o,m,_){return Math.sqrt(xs(o,m,_,!0))}function Hu(o,m,_){return xs(o,m,_)}function _l(o,m){var _=o.length,M=typeof Uint8Array<"u"?Uint8Array:Array,U=new M(_);U[0]=U[_-1]=1,Vo(o,U,m,0,_-1);var oe,De=[];for(oe=0;oe<_;oe++)U[oe]&&De.push(o[oe]);return De}function Vo(o,m,_,M,U){var oe=0,De,je,$e;for(je=M+1;je<=U-1;je++)$e=xs(o[je],o[M],o[U],!0),$e>oe&&(De=je,oe=$e);oe>_&&(m[De]=1,Vo(o,m,_,M,De),Vo(o,m,_,De,U))}function Wa(o,m){for(var _=[o[0]],M=1,U=0,oe=o.length;M<oe;M++)en(o[M],o[U])>m&&(_.push(o[M]),U=M);return U<oe-1&&_.push(o[oe-1]),_}var wl;function xl(o,m,_,M,U){var oe=M?wl:kr(o,_),De=kr(m,_),je,$e,lt;for(wl=De;;){if(!(oe|De))return[o,m];if(oe&De)return!1;je=oe||De,$e=ws(o,m,je,_,U),lt=kr($e,_),je===oe?(o=$e,oe=lt):(m=$e,De=lt)}}function ws(o,m,_,M,U){var oe=m.x-o.x,De=m.y-o.y,je=M.min,$e=M.max,lt,Ct;return _&8?(lt=o.x+oe*($e.y-o.y)/De,Ct=$e.y):_&4?(lt=o.x+oe*(je.y-o.y)/De,Ct=je.y):_&2?(lt=$e.x,Ct=o.y+De*($e.x-o.x)/oe):_&1&&(lt=je.x,Ct=o.y+De*(je.x-o.x)/oe),new Ee(lt,Ct,U)}function kr(o,m){var _=0;return o.x<m.min.x?_|=1:o.x>m.max.x&&(_|=2),o.y<m.min.y?_|=4:o.y>m.max.y&&(_|=8),_}function en(o,m){var _=m.x-o.x,M=m.y-o.y;return _*_+M*M}function xs(o,m,_,M){var U=m.x,oe=m.y,De=_.x-U,je=_.y-oe,$e=De*De+je*je,lt;return $e>0&&(lt=((o.x-U)*De+(o.y-oe)*je)/$e,lt>1?(U=_.x,oe=_.y):lt>0&&(U+=De*lt,oe+=je*lt)),De=o.x-U,je=o.y-oe,M?De*De+je*je:new Ee(U,oe)}function Cr(o){return!P(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function xa(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Cr(o)}function Zs(o,m){var _,M,U,oe,De,je,$e,lt;if(!o||o.length===0)throw new Error("latlngs not passed");Cr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ct=V([0,0]),It=Le(o),ai=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());ai<1700&&(Ct=Ha(o));var Zi=o.length,Xi=[];for(_=0;_<Zi;_++){var pn=V(o[_]);Xi.push(m.project(V([pn.lat-Ct.lat,pn.lng-Ct.lng])))}for(_=0,M=0;_<Zi-1;_++)M+=Xi[_].distanceTo(Xi[_+1])/2;if(M===0)lt=Xi[0];else for(_=0,oe=0;_<Zi-1;_++)if(De=Xi[_],je=Xi[_+1],U=De.distanceTo(je),oe+=U,oe>M){$e=(oe-M)/U,lt=[je.x-$e*(je.x-De.x),je.y-$e*(je.y-De.y)];break}var Bn=m.unproject(Ie(lt));return V([Bn.lat+Ct.lat,Bn.lng+Ct.lng])}var Xs={__proto__:null,simplify:Ji,pointToSegmentDistance:mo,closestPointOnSegment:Hu,clipSegment:xl,_getEdgeIntersection:ws,_getBitCode:kr,_sqClosestPointOnSegment:xs,isFlat:Cr,_flat:xa,polylineCenter:Zs},Vs={project:function(o){return new Ee(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new Me([-180,-90],[180,90])},ks={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Me([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var m=Math.PI/180,_=this.R,M=o.lat*m,U=this.R_MINOR/_,oe=Math.sqrt(1-U*U),De=oe*Math.sin(M),je=Math.tan(Math.PI/4-M/2)/Math.pow((1-De)/(1+De),oe/2);return M=-_*Math.log(Math.max(je,1e-10)),new Ee(o.lng*m*_,M)},unproject:function(o){for(var m=180/Math.PI,_=this.R,M=this.R_MINOR/_,U=Math.sqrt(1-M*M),oe=Math.exp(-o.y/_),De=Math.PI/2-2*Math.atan(oe),je=0,$e=.1,lt;je<15&&Math.abs($e)>1e-7;je++)lt=U*Math.sin(De),lt=Math.pow((1-lt)/(1+lt),U/2),$e=Math.PI/2-2*Math.atan(oe*lt)-De,De+=$e;return new Re(De*m,o.x*m/_)}},Ks={__proto__:null,LonLat:Vs,Mercator:ks,SphericalMercator:Ze},Wu=l({},Ae,{code:"EPSG:3395",projection:ks,transformation:function(){var o=.5/(Math.PI*ks.R);return ut(o,.5,-o,.5)}()}),kl=l({},Ae,{code:"EPSG:4326",projection:Vs,transformation:ut(1/180,1,-1/180,.5)}),ju=l({},we,{projection:Vs,transformation:ut(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,m){var _=m.lng-o.lng,M=m.lat-o.lat;return Math.sqrt(_*_+M*M)},infinite:!0});we.Earth=Ae,we.EPSG3395=Wu,we.EPSG3857=Et,we.EPSG900913=wt,we.EPSG4326=kl,we.Simple=ju;var tn=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[b(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[b(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var m=o.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var _=this.getEvents();m.on(_,this),this.once("remove",function(){m.off(_,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});gi.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var m=b(o);return this._layers[m]?this:(this._layers[m]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var m=b(o);return this._layers[m]?(this._loaded&&o.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return b(o)in this._layers},eachLayer:function(o,m){for(var _ in this._layers)o.call(m,this._layers[_]);return this},_addLayers:function(o){o=o?P(o)?o:[o]:[];for(var m=0,_=o.length;m<_;m++)this.addLayer(o[m])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[b(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var m=b(o);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,m=-1/0,_=this._getZoomSpan();for(var M in this._zoomBoundLayers){var U=this._zoomBoundLayers[M].options;o=U.minZoom===void 0?o:Math.min(o,U.minZoom),m=U.maxZoom===void 0?m:Math.max(m,U.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ko=tn.extend({initialize:function(o,m){q(this,m),this._layers={};var _,M;if(o)for(_=0,M=o.length;_<M;_++)this.addLayer(o[_])},addLayer:function(o){var m=this.getLayerId(o);return this._layers[m]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var m=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(o){var m=typeof o=="number"?o:this.getLayerId(o);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var m=Array.prototype.slice.call(arguments,1),_,M;for(_ in this._layers)M=this._layers[_],M[o]&&M[o].apply(M,m);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,m){for(var _ in this._layers)o.call(m,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return b(o)}}),Mo=function(o,m){return new Ko(o,m)},In=Ko.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ko.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ko.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Y;for(var m in this._layers){var _=this._layers[m];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),Cs=function(o,m){return new In(o,m)},Qo=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){q(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,m){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(_,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(M,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(o,m){var _=this.options,M=_[m+"Size"];typeof M=="number"&&(M=[M,M]);var U=Ie(M),oe=Ie(m==="shadow"&&_.shadowAnchor||_.iconAnchor||U&&U.divideBy(2,!0));o.className="leaflet-marker-"+m+" "+(_.className||""),oe&&(o.style.marginLeft=-oe.x+"px",o.style.marginTop=-oe.y+"px"),U&&(o.style.width=U.x+"px",o.style.height=U.y+"px")},_createImg:function(o,m){return m=m||document.createElement("img"),m.src=o,m},_getIconUrl:function(o){return Ot.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Cl(o){return new Qo(o)}var Er=Qo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Er.imagePath!="string"&&(Er.imagePath=this._detectIconPath()),(this.options.imagePath||Er.imagePath)+Qo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var m=function(_,M,U){var oe=M.exec(_);return oe&&oe[U]};return o=m(o,/^url\((['"])?(.+)\1\)$/,2),o&&m(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=We("div","leaflet-default-icon-path",document.body),m=xe(o,"background-image")||xe(o,"backgroundImage");if(document.body.removeChild(o),m=this._stripUrl(m),m)return m;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Jo=un.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Do(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var m=this._marker,_=m._map,M=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,oe=ae(m._icon),De=_.getPixelBounds(),je=_.getPixelOrigin(),$e=ie(De.min._subtract(je).add(U),De.max._subtract(je).subtract(U));if(!$e.contains(oe)){var lt=Ie((Math.max($e.max.x,oe.x)-$e.max.x)/(De.max.x-$e.max.x)-(Math.min($e.min.x,oe.x)-$e.min.x)/(De.min.x-$e.min.x),(Math.max($e.max.y,oe.y)-$e.max.y)/(De.max.y-$e.max.y)-(Math.min($e.min.y,oe.y)-$e.min.y)/(De.min.y-$e.min.y)).multiplyBy(M);_.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),re(m._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ce(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Te(this._panRequest),this._panRequest=ce(this._adjustPan.bind(this,o)))},_onDrag:function(o){var m=this._marker,_=m._shadow,M=ae(m._icon),U=m._map.layerPointToLatLng(M);_&&re(_,M),m._latlng=U,o.latlng=U,o.oldLatLng=this._oldLatLng,m.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ja=tn.extend({options:{icon:new Er,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,m){q(this,m),this._latlng=V(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var m=this._latlng;return this._latlng=V(o),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),M=!1;_!==this._icon&&(this._icon&&this._removeIcon(),M=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),Nt(_,m),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(_,"focus",this._panOnFocus,this);var U=o.icon.createShadow(this._shadow),oe=!1;U!==this._shadow&&(this._removeShadow(),oe=!0),U&&(Nt(U,m),U.alt=""),this._shadow=U,o.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&oe&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ri(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&re(this._icon,o),this._shadow&&re(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ke(this._icon,o),this._shadow&&ke(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var m=this.options.icon.options,_=m.iconSize?Ie(m.iconSize):Ie(0,0),M=m.iconAnchor?Ie(m.iconAnchor):Ie(0,0);o.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:_.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qa(o,m){return new ja(o,m)}var Po=tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return q(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qs=Po.extend({options:{fill:!0,radius:10},initialize:function(o,m){q(this,m),this._latlng=V(o),this._radius=this.options.radius},setLatLng:function(o){var m=this._latlng;return this._latlng=V(o),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var m=o&&o.radius||this._radius;return Po.prototype.setStyle.call(this,o),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,m=this._radiusY||o,_=this._clickTolerance(),M=[o+_,m+_];this._pxBounds=new Me(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Js(o,m){return new Qs(o,m)}var Ua=Qs.extend({initialize:function(o,m,_){if(typeof m=="number"&&(m=l({},_,{radius:m})),q(this,m),this._latlng=V(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Po.prototype.setStyle,_project:function(){var o=this._latlng.lng,m=this._latlng.lat,_=this._map,M=_.options.crs;if(M.distance===Ae.distance){var U=Math.PI/180,oe=this._mRadius/Ae.R/U,De=_.project([m+oe,o]),je=_.project([m-oe,o]),$e=De.add(je).divideBy(2),lt=_.unproject($e).lat,Ct=Math.acos((Math.cos(oe*U)-Math.sin(m*U)*Math.sin(lt*U))/(Math.cos(m*U)*Math.cos(lt*U)))/U;(isNaN(Ct)||Ct===0)&&(Ct=oe/Math.cos(Math.PI/180*m)),this._point=$e.subtract(_.getPixelOrigin()),this._radius=isNaN(Ct)?0:$e.x-_.project([lt,o-Ct]).x,this._radiusY=$e.y-De.y}else{var It=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(It).x}this._updateBounds()}});function Wr(o,m,_){return new Ua(o,m,_)}var dn=Po.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,m){q(this,m),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var m=1/0,_=null,M=xs,U,oe,De=0,je=this._parts.length;De<je;De++)for(var $e=this._parts[De],lt=1,Ct=$e.length;lt<Ct;lt++){U=$e[lt-1],oe=$e[lt];var It=M(o,U,oe,!0);It<m&&(m=It,_=M(o,U,oe))}return _&&(_.distance=Math.sqrt(m)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,m){return m=m||this._defaultShape(),o=V(o),m.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Y,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Cr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var m=[],_=Cr(o),M=0,U=o.length;M<U;M++)_?(m[M]=V(o[M]),this._bounds.extend(m[M])):m[M]=this._convertLatLngs(o[M]);return m},_project:function(){var o=new Me;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),m=new Ee(o,o);this._rawPxBounds&&(this._pxBounds=new Me([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(o,m,_){var M=o[0]instanceof Re,U=o.length,oe,De;if(M){for(De=[],oe=0;oe<U;oe++)De[oe]=this._map.latLngToLayerPoint(o[oe]),_.extend(De[oe]);m.push(De)}else for(oe=0;oe<U;oe++)this._projectLatlngs(o[oe],m,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,_,M,U,oe,De,je,$e;for(_=0,U=0,oe=this._rings.length;_<oe;_++)for($e=this._rings[_],M=0,De=$e.length;M<De-1;M++)je=xl($e[M],$e[M+1],o,M,!0),je&&(m[U]=m[U]||[],m[U].push(je[0]),(je[1]!==$e[M+1]||M===De-2)&&(m[U].push(je[1]),U++))}},_simplifyPoints:function(){for(var o=this._parts,m=this.options.smoothFactor,_=0,M=o.length;_<M;_++)o[_]=Ji(o[_],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,m){var _,M,U,oe,De,je,$e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,oe=this._parts.length;_<oe;_++)for(je=this._parts[_],M=0,De=je.length,U=De-1;M<De;U=M++)if(!(!m&&M===0)&&mo(o,je[U],je[M])<=$e)return!0;return!1}});function El(o,m){return new dn(o,m)}dn._flat=xa;var ka=dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var m=dn.prototype._convertLatLngs.call(this,o),_=m.length;return _>=2&&m[0]instanceof Re&&m[0].equals(m[_-1])&&m.pop(),m},_setLatLngs:function(o){dn.prototype._setLatLngs.call(this,o),Cr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Cr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,m=this.options.weight,_=new Ee(m,m);if(o=new Me(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,U=this._rings.length,oe;M<U;M++)oe=Gs(this._rings[M],o,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var m=!1,_,M,U,oe,De,je,$e,lt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(oe=0,$e=this._parts.length;oe<$e;oe++)for(_=this._parts[oe],De=0,lt=_.length,je=lt-1;De<lt;je=De++)M=_[De],U=_[je],M.y>o.y!=U.y>o.y&&o.x<(U.x-M.x)*(o.y-M.y)/(U.y-M.y)+M.x&&(m=!m);return m||dn.prototype._containsPoint.call(this,o,!0)}});function mc(o,m){return new ka(o,m)}var Sr=In.extend({initialize:function(o,m){q(this,m),this._layers={},o&&this.addData(o)},addData:function(o){var m=P(o)?o:o.features,_,M,U;if(m){for(_=0,M=m.length;_<M;_++)U=m[_],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var oe=this.options;if(oe.filter&&!oe.filter(o))return this;var De=Tr(o,oe);return De?(De.feature=$r(o),De.defaultOptions=De.options,this.resetStyle(De),oe.onEachFeature&&oe.onEachFeature(o,De),this.addLayer(De)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(m){this._setLayerStyle(m,o)},this)},_setLayerStyle:function(o,m){o.setStyle&&(typeof m=="function"&&(m=m(o.feature)),o.setStyle(m))}});function Tr(o,m){var _=o.type==="Feature"?o.geometry:o,M=_?_.coordinates:null,U=[],oe=m&&m.pointToLayer,De=m&&m.coordsToLatLng||tu,je,$e,lt,Ct;if(!M&&!_)return null;switch(_.type){case"Point":return je=De(M),eu(oe,o,je,m);case"MultiPoint":for(lt=0,Ct=M.length;lt<Ct;lt++)je=De(M[lt]),U.push(eu(oe,o,je,m));return new In(U);case"LineString":case"MultiLineString":return $e=ea(M,_.type==="LineString"?0:1,De),new dn($e,m);case"Polygon":case"MultiPolygon":return $e=ea(M,_.type==="Polygon"?1:2,De),new ka($e,m);case"GeometryCollection":for(lt=0,Ct=_.geometries.length;lt<Ct;lt++){var It=Tr({geometry:_.geometries[lt],type:"Feature",properties:o.properties},m);It&&U.push(It)}return new In(U);case"FeatureCollection":for(lt=0,Ct=_.features.length;lt<Ct;lt++){var ai=Tr(_.features[lt],m);ai&&U.push(ai)}return new In(U);default:throw new Error("Invalid GeoJSON object.")}}function eu(o,m,_,M){return o?o(m,_):new ja(_,M&&M.markersInheritOptions&&M)}function tu(o){return new Re(o[1],o[0],o[2])}function ea(o,m,_){for(var M=[],U=0,oe=o.length,De;U<oe;U++)De=m?ea(o[U],m-1,_):(_||tu)(o[U]),M.push(De);return M}function iu(o,m){return o=V(o),o.alt!==void 0?[A(o.lng,m),A(o.lat,m),A(o.alt,m)]:[A(o.lng,m),A(o.lat,m)]}function Es(o,m,_,M){for(var U=[],oe=0,De=o.length;oe<De;oe++)U.push(m?Es(o[oe],Cr(o[oe])?0:m-1,_,M):iu(o[oe],M));return!m&&_&&U.length>0&&U.push(U[0].slice()),U}function ta(o,m){return o.feature?l({},o.feature,{geometry:m}):$r(m)}function $r(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ne={toGeoJSON:function(o){return ta(this,{type:"Point",coordinates:iu(this.getLatLng(),o)})}};ja.include(Ne),Ua.include(Ne),Qs.include(Ne),dn.include({toGeoJSON:function(o){var m=!Cr(this._latlngs),_=Es(this._latlngs,m?1:0,!1,o);return ta(this,{type:(m?"Multi":"")+"LineString",coordinates:_})}}),ka.include({toGeoJSON:function(o){var m=!Cr(this._latlngs),_=m&&!Cr(this._latlngs[0]),M=Es(this._latlngs,_?2:m?1:0,!0,o);return m||(M=[M]),ta(this,{type:(_?"Multi":"")+"Polygon",coordinates:M})}}),Ko.include({toMultiPoint:function(o){var m=[];return this.eachLayer(function(_){m.push(_.toGeoJSON(o).geometry.coordinates)}),ta(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(o){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(o);var _=m==="GeometryCollection",M=[];return this.eachLayer(function(U){if(U.toGeoJSON){var oe=U.toGeoJSON(o);if(_)M.push(oe.geometry);else{var De=$r(oe);De.type==="FeatureCollection"?M.push.apply(M,De.features):M.push(De)}}}),_?ta(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function it(o,m){return new Sr(o,m)}var Ye=it,At=tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,m,_){this._url=o,this._bounds=Le(m),q(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&pt(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Le(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",m=this._image=o?this._url:We("img");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=k,m.onmousemove=k,m.onload=f(this.fire,this,"load"),m.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(o){var m=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;R(this._image,_,m)},_reset:function(){var o=this._image,m=new Me(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=m.getSize();re(o,m.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Jt=function(o,m,_){return new At(o,m,_)},Si=At.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",m=this._image=o?this._url:We("video");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=k,m.onmousemove=k,m.onloadeddata=f(this.fire,this,"load"),o){for(var _=m.getElementsByTagName("source"),M=[],U=0;U<_.length;U++)M.push(_[U].src);this._url=_.length>0?M:[m.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var De=We("source");De.src=this._url[oe],m.appendChild(De)}}});function _n(o,m,_){return new Si(o,m,_)}var qi=At.extend({_initImage:function(){var o=this._image=this._url;Nt(o,"leaflet-image-layer"),this._zoomAnimated&&Nt(o,"leaflet-zoom-animated"),this.options.className&&Nt(o,this.options.className),o.onselectstart=k,o.onmousemove=k}});function Ss(o,m,_){return new qi(o,m,_)}var go=tn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,m){o&&(o instanceof Re||P(o))?(this._latlng=V(o),q(this,m)):(q(this,o),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(f(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(li(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=V(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pt(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(o){var m=this._source;if(!m._map)return!1;if(m instanceof In){m=null;var _=this._source._layers;for(var M in _)if(_[M]._map){m=_[M];break}if(!m)return!1;this._source=m}if(!o)if(m.getCenter)o=m.getCenter();else if(m.getLatLng)o=m.getLatLng();else if(m.getBounds)o=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")o.innerHTML=m;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),m=Ie(this.options.offset),_=this._getAnchor();this._zoomAnimated?re(this._container,o.add(_)):m=m.add(o).add(_);var M=this._containerBottom=-m.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=M+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});gi.include({_initOverlay:function(o,m,_,M){var U=m;return U instanceof o||(U=new o(M).setContent(m)),_&&U.setLatLng(_),U}}),tn.include({_initOverlay:function(o,m,_,M){var U=_;return U instanceof o?(q(U,M),U._source=this):(U=m&&!M?m:new o(M,this),U.setContent(_)),U}});var yr=go.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,go.prototype.openOn.call(this,o)},onAdd:function(o){go.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Po||this._source.on("preclick",An))},onRemove:function(o){go.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Po||this._source.off("preclick",An))},getEvents:function(){var o=go.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",m=this._container=We("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=We("div",o+"-content-wrapper",m);if(this._contentNode=We("div",o+"-content",_),zr(m),Yr(this._contentNode),Ft(m,"contextmenu",An),this._tipContainer=We("div",o+"-tip-container",m),this._tip=We("div",o+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=We("a",o+"-close-button",m);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(M,"click",function(U){Zt(U),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,m=o.style;m.width="",m.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),m.width=_+1+"px",m.whiteSpace="",m.height="";var M=o.offsetHeight,U=this.options.maxHeight,oe="leaflet-popup-scrolled";U&&M>U?(m.height=U+"px",Nt(o,oe)):li(o,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();re(this._container,m.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,m=parseInt(xe(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+m,M=this._containerWidth,U=new Ee(this._containerLeft,-_-this._containerBottom);U._add(ae(this._container));var oe=o.layerPointToContainerPoint(U),De=Ie(this.options.autoPanPadding),je=Ie(this.options.autoPanPaddingTopLeft||De),$e=Ie(this.options.autoPanPaddingBottomRight||De),lt=o.getSize(),Ct=0,It=0;oe.x+M+$e.x>lt.x&&(Ct=oe.x+M-lt.x+$e.x),oe.x-Ct-je.x<0&&(Ct=oe.x-je.x),oe.y+_+$e.y>lt.y&&(It=oe.y+_-lt.y+$e.y),oe.y-It-je.y<0&&(It=oe.y-je.y),(Ct||It)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ct,It]))}},_getAnchor:function(){return Ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),nu=function(o,m){return new yr(o,m)};gi.mergeOptions({closePopupOnClick:!0}),gi.include({openPopup:function(o,m,_){return this._initOverlay(yr,o,m,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),tn.include({bindPopup:function(o,m){return this._popup=this._initOverlay(yr,this._popup,o,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){oi(o);var m=o.layer||o.target;if(this._popup._source===m&&!(m instanceof Po)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=m,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var vo=go.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){go.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){go.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=go.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",m=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var m,_,M=this._map,U=this._container,oe=M.latLngToContainerPoint(M.getCenter()),De=M.layerPointToContainerPoint(o),je=this.options.direction,$e=U.offsetWidth,lt=U.offsetHeight,Ct=Ie(this.options.offset),It=this._getAnchor();je==="top"?(m=$e/2,_=lt):je==="bottom"?(m=$e/2,_=0):je==="center"?(m=$e/2,_=lt/2):je==="right"?(m=0,_=lt/2):je==="left"?(m=$e,_=lt/2):De.x<oe.x?(je="right",m=0,_=lt/2):(je="left",m=$e+(Ct.x+It.x)*2,_=lt/2),o=o.subtract(Ie(m,_,!0)).add(Ct).add(It),li(U,"leaflet-tooltip-right"),li(U,"leaflet-tooltip-left"),li(U,"leaflet-tooltip-top"),li(U,"leaflet-tooltip-bottom"),Nt(U,"leaflet-tooltip-"+je),re(U,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ke(this._container,o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(m)},_getAnchor:function(){return Ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ro=function(o,m){return new vo(o,m)};gi.include({openTooltip:function(o,m,_){return this._initOverlay(vo,o,m,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),tn.include({bindTooltip:function(o,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vo,this._tooltip,o,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var m=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[m](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&(Ft(m,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ft(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var m=o.latlng,_,M;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),M=this._map.containerPointToLayerPoint(_),m=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(m)}});var bo=Qo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var m=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Ue(m),m.appendChild(_.html)):m.innerHTML=_.html!==!1?_.html:"",_.bgPos){var M=Ie(_.bgPos);m.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Ya(o){return new bo(o)}Qo.Default=Er;var Ci=tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){q(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),nt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Ee?o:new Ee(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var m=this.getPane().children,_=-o(-1/0,1/0),M=0,U=m.length,oe;M<U;M++)oe=m[M].style.zIndex,m[M]!==this._container&&oe&&(_=o(_,+oe));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){ke(this._container,this.options.opacity);var o=+new Date,m=!1,_=!1;for(var M in this._tiles){var U=this._tiles[M];if(!(!U.current||!U.loaded)){var oe=Math.min(1,(o-U.loaded)/200);ke(U.el,oe),oe<1?m=!0:(U.active?_=!0:this._onOpaqueTile(U),U.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),m&&(Te(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,m=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=m-Math.abs(o-_),this._onUpdateLevel(_)):(nt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var M=this._levels[o],U=this._map;return M||(M=this._levels[o]={},M.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=m,M.origin=U.project(U.unproject(U.getPixelOrigin()),o).round(),M.zoom=o,this._setZoomTransform(M,U.getCenter(),U.getZoom()),k(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var o,m,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)m=this._tiles[o],m.retain=m.current;for(o in this._tiles)if(m=this._tiles[o],m.current&&!m.active){var M=m.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var m in this._tiles)this._tiles[m].coords.z===o&&this._removeTile(m)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)nt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,m,_,M){var U=Math.floor(o/2),oe=Math.floor(m/2),De=_-1,je=new Ee(+U,+oe);je.z=+De;var $e=this._tileCoordsToKey(je),lt=this._tiles[$e];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),De>M?this._retainParent(U,oe,De,M):!1)},_retainChildren:function(o,m,_,M){for(var U=2*o;U<2*o+2;U++)for(var oe=2*m;oe<2*m+2;oe++){var De=new Ee(U,oe);De.z=_+1;var je=this._tileCoordsToKey(De),$e=this._tiles[je];if($e&&$e.active){$e.retain=!0;continue}else $e&&$e.loaded&&($e.retain=!0);_+1<M&&this._retainChildren(U,oe,_+1,M)}},_resetView:function(o){var m=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var m=this.options;return m.minNativeZoom!==void 0&&o<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<o?m.maxNativeZoom:o},_setView:function(o,m,_,M){var U=Math.round(m);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var oe=this.options.updateWhenZooming&&U!==this._tileZoom;(!M||oe)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,m)},_setZoomTransforms:function(o,m){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,m)},_setZoomTransform:function(o,m,_){var M=this._map.getZoomScale(_,o.zoom),U=o.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(m,_)).round();Ot.any3d?R(o.el,U,M):re(o.el,U)},_resetGrid:function(){var o=this._map,m=o.options.crs,_=this._tileSize=this.getTileSize(),M=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,m.wrapLng[0]],M).x/_.x),Math.ceil(o.project([0,m.wrapLng[1]],M).x/_.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([m.wrapLat[0],0],M).y/_.x),Math.ceil(o.project([m.wrapLat[1],0],M).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var m=this._map,_=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),M=m.getZoomScale(_,this._tileZoom),U=m.project(o,this._tileZoom).floor(),oe=m.getSize().divideBy(M*2);return new Me(U.subtract(oe),U.add(oe))},_update:function(o){var m=this._map;if(m){var _=this._clampZoom(m.getZoom());if(o===void 0&&(o=m.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(o),U=this._pxBoundsToTileRange(M),oe=U.getCenter(),De=[],je=this.options.keepBuffer,$e=new Me(U.getBottomLeft().subtract([je,-je]),U.getTopRight().add([je,-je]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Ct=this._tiles[lt].coords;(Ct.z!==this._tileZoom||!$e.contains(new Ee(Ct.x,Ct.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var It=U.min.y;It<=U.max.y;It++)for(var ai=U.min.x;ai<=U.max.x;ai++){var Zi=new Ee(ai,It);if(Zi.z=this._tileZoom,!!this._isValidTile(Zi)){var Xi=this._tiles[this._tileCoordsToKey(Zi)];Xi?Xi.current=!0:De.push(Zi)}}if(De.sort(function(Bn,Xr){return Bn.distanceTo(oe)-Xr.distanceTo(oe)}),De.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(ai=0;ai<De.length;ai++)this._addTile(De[ai],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(o){var m=this._map.options.crs;if(!m.infinite){var _=this._globalTileRange;if(!m.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!m.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(o);return Le(this.options.bounds).overlaps(M)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var m=this._map,_=this.getTileSize(),M=o.scaleBy(_),U=M.add(_),oe=m.unproject(M,o.z),De=m.unproject(U,o.z);return[oe,De]},_tileCoordsToBounds:function(o){var m=this._tileCoordsToNwSe(o),_=new Y(m[0],m[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var m=o.split(":"),_=new Ee(+m[0],+m[1]);return _.z=+m[2],_},_removeTile:function(o){var m=this._tiles[o];m&&(nt(m.el),delete this._tiles[o],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Nt(o,"leaflet-tile");var m=this.getTileSize();o.style.width=m.x+"px",o.style.height=m.y+"px",o.onselectstart=k,o.onmousemove=k,Ot.ielt9&&this.options.opacity<1&&ke(o,this.options.opacity)},_addTile:function(o,m){var _=this._getTilePos(o),M=this._tileCoordsToKey(o),U=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(U),this.createTile.length<2&&ce(f(this._tileReady,this,o,null,U)),re(U,_),this._tiles[M]={el:U,coords:o,current:!0},m.appendChild(U),this.fire("tileloadstart",{tile:U,coords:o})},_tileReady:function(o,m,_){m&&this.fire("tileerror",{error:m,tile:_,coords:o});var M=this._tileCoordsToKey(o);_=this._tiles[M],_&&(_.loaded=+new Date,this._map._fadeAnimated?(ke(_.el,0),Te(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),m||(Nt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?ce(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var m=new Ee(this._wrapX?w(o.x,this._wrapX):o.x,this._wrapY?w(o.y,this._wrapY):o.y);return m.z=o.z,m},_pxBoundsToTileRange:function(o){var m=this.getTileSize();return new Me(o.min.unscaleBy(m).floor(),o.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Sl(o){return new Ci(o)}var Oo=Ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,m){this._url=o,m=q(this,m),m.detectRetina&&Ot.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,m){return this._url===o&&m===void 0&&(m=!0),this._url=o,m||this.redraw(),this},createTile:function(o,m){var _=document.createElement("img");return Ft(_,"load",f(this._tileOnLoad,this,m,_)),Ft(_,"error",f(this._tileOnError,this,m,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var m={r:Ot.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(m.y=_),m["-y"]=_}return S(this._url,l(m,this.options))},_tileOnLoad:function(o,m){Ot.ielt9?setTimeout(f(o,this,null,m),0):o(null,m)},_tileOnError:function(o,m,_){var M=this.options.errorTileUrl;M&&m.getAttribute("src")!==M&&(m.src=M),o(_,m)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,m=this.options.maxZoom,_=this.options.zoomReverse,M=this.options.zoomOffset;return _&&(o=m-o),o+M},_getSubdomain:function(o){var m=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var o,m;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(m=this._tiles[o].el,m.onload=k,m.onerror=k,!m.complete)){m.src=I;var _=this._tiles[o].coords;nt(m),delete this._tiles[o],this.fire("tileabort",{tile:m,coords:_})}},_removeTile:function(o){var m=this._tiles[o];if(m)return m.el.setAttribute("src",I),Ci.prototype._removeTile.call(this,o)},_tileReady:function(o,m,_){if(!(!this._map||_&&_.getAttribute("src")===I))return Ci.prototype._tileReady.call(this,o,m,_)}});function oo(o,m){return new Oo(o,m)}var ia=Oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,m){this._url=o;var _=l({},this.defaultWmsParams);for(var M in m)M in this.options||(_[M]=m[M]);m=q(this,m);var U=m.detectRetina&&Ot.retina?2:1,oe=this.getTileSize();_.width=oe.x*U,_.height=oe.y*U,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Oo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var m=this._tileCoordsToNwSe(o),_=this._crs,M=ie(_.project(m[0]),_.project(m[1])),U=M.min,oe=M.max,De=(this._wmsVersion>=1.3&&this._crs===kl?[U.y,U.x,oe.y,oe.x]:[U.x,U.y,oe.x,oe.y]).join(","),je=Oo.prototype.getTileUrl.call(this,o);return je+j(this.wmsParams,je,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+De},setParams:function(o,m){return l(this.wmsParams,o),m||this.redraw(),this}});function _r(o,m){return new ia(o,m)}Oo.WMS=ia,oo.wms=_r;var ur=tn.extend({options:{padding:.1},initialize:function(o){q(this,o),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,m){var _=this._map.getZoomScale(m,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,m),oe=M.multiplyBy(-_).add(U).subtract(this._map._getNewPixelOrigin(o,m));Ot.any3d?R(this._container,oe,_):re(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,m=this._map.getSize(),_=this._map.containerPointToLayerPoint(m.multiplyBy(-o)).round();this._bounds=new Me(_,_.add(m.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gr=ur.extend({options:{tolerance:0},getEvents:function(){var o=ur.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ft(o,"mousemove",this._onMouseMove,this),Ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Te(this._redrawRequest),delete this._ctx,nt(this._container),ri(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var m in this._layers)o=this._layers[m],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var o=this._bounds,m=this._container,_=o.getSize(),M=Ot.retina?2:1;re(m,o.min),m.width=M*_.x,m.height=M*_.y,m.style.width=_.x+"px",m.style.height=_.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[b(o)]=o;var m=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var m=o._order,_=m.next,M=m.prev;_?_.prev=M:this._drawLast=M,M?M.next=_:this._drawFirst=_,delete o._order,delete this._layers[b(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var m=o.options.dashArray.split(/[, ]+/),_=[],M,U;for(U=0;U<m.length;U++){if(M=Number(m[U]),isNaN(M))return;_.push(M)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ce(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var m=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Me,this._redrawBounds.extend(o._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(o._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var m=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,m=this._redrawBounds;if(this._ctx.save(),m){var _=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)o=M.layer,(!m||o._pxBounds&&o._pxBounds.intersects(m))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,m){if(this._drawing){var _,M,U,oe,De=o._parts,je=De.length,$e=this._ctx;if(je){for($e.beginPath(),_=0;_<je;_++){for(M=0,U=De[_].length;M<U;M++)oe=De[_][M],$e[M?"lineTo":"moveTo"](oe.x,oe.y);m&&$e.closePath()}this._fillStroke($e,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var m=o._point,_=this._ctx,M=Math.max(Math.round(o._radius),1),U=(Math.max(Math.round(o._radiusY),1)||M)/M;U!==1&&(_.save(),_.scale(1,U)),_.beginPath(),_.arc(m.x,m.y/U,M,0,Math.PI*2,!1),U!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,m){var _=m.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(m.options&&m.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var m=this._map.mouseEventToLayerPoint(o),_,M,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(m)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(M=_);this._fireEvent(M?[M]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,m)}},_handleMouseOut:function(o){var m=this._hoveredLayer;m&&(li(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,m){if(!this._mouseHoverThrottled){for(var _,M,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(m)&&(M=_);M!==this._hoveredLayer&&(this._handleMouseOut(o),M&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([M],o,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,m,_){this._map._fireDOMEvent(m,_||m.type,o)},_bringToFront:function(o){var m=o._order;if(m){var _=m.next,M=m.prev;if(_)_.prev=M;else return;M?M.next=_:_&&(this._drawFirst=_),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(o)}},_bringToBack:function(o){var m=o._order;if(m){var _=m.next,M=m.prev;if(M)M.next=_;else return;_?_.prev=M:M&&(this._drawLast=M),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(o)}}});function Zr(o){return Ot.canvas?new Gr(o):null}var na=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qu={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var m=o._container=na("shape");Nt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",o._path=na("path"),m.appendChild(o._path),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){var m=o._container;this._container.appendChild(m),o.options.interactive&&o.addInteractiveTarget(m)},_removePath:function(o){var m=o._container;nt(m),o.removeInteractiveTarget(m),delete this._layers[b(o)]},_updateStyle:function(o){var m=o._stroke,_=o._fill,M=o.options,U=o._container;U.stroked=!!M.stroke,U.filled=!!M.fill,M.stroke?(m||(m=o._stroke=na("stroke")),U.appendChild(m),m.weight=M.weight+"px",m.color=M.color,m.opacity=M.opacity,M.dashArray?m.dashStyle=P(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=M.lineCap.replace("butt","flat"),m.joinstyle=M.lineJoin):m&&(U.removeChild(m),o._stroke=null),M.fill?(_||(_=o._fill=na("fill")),U.appendChild(_),_.color=M.fillColor||M.color,_.opacity=M.fillOpacity):_&&(U.removeChild(_),o._fill=null)},_updateCircle:function(o){var m=o._point.round(),_=Math.round(o._radius),M=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+m.x+","+m.y+" "+_+","+M+" 0,"+65535*360)},_setPath:function(o,m){o._path.v=m},_bringToFront:function(o){pt(o._container)},_bringToBack:function(o){ni(o._container)}},ao=Ot.vml?na:St,Ca=ur.extend({_initContainer:function(){this._container=ao("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ao("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),ri(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var o=this._bounds,m=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,_.setAttribute("width",m.x),_.setAttribute("height",m.y)),re(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(o){var m=o._path=ao("path");o.options.className&&Nt(m,o.options.className),o.options.interactive&&Nt(m,"leaflet-interactive"),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){nt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[b(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var m=o._path,_=o.options;m&&(_.stroke?(m.setAttribute("stroke",_.color),m.setAttribute("stroke-opacity",_.opacity),m.setAttribute("stroke-width",_.weight),m.setAttribute("stroke-linecap",_.lineCap),m.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?m.setAttribute("stroke-dasharray",_.dashArray):m.removeAttribute("stroke-dasharray"),_.dashOffset?m.setAttribute("stroke-dashoffset",_.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),_.fill?(m.setAttribute("fill",_.fillColor||_.color),m.setAttribute("fill-opacity",_.fillOpacity),m.setAttribute("fill-rule",_.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(o,m){this._setPath(o,yt(o._parts,m))},_updateCircle:function(o){var m=o._point,_=Math.max(Math.round(o._radius),1),M=Math.max(Math.round(o._radiusY),1)||_,U="a"+_+","+M+" 0 1,0 ",oe=o._empty()?"M0 0":"M"+(m.x-_)+","+m.y+U+_*2+",0 "+U+-_*2+",0 ";this._setPath(o,oe)},_setPath:function(o,m){o._path.setAttribute("d",m)},_bringToFront:function(o){pt(o._path)},_bringToBack:function(o){ni(o._path)}});Ot.vml&&Ca.include(qu);function Ts(o){return Ot.svg||Ot.vml?new Ca(o):null}gi.include({getRenderer:function(o){var m=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var m=this._paneRenderers[o];return m===void 0&&(m=this._createRenderer({pane:o}),this._paneRenderers[o]=m),m},_createRenderer:function(o){return this.options.preferCanvas&&Zr(o)||Ts(o)}});var ra=ka.extend({initialize:function(o,m){ka.prototype.initialize.call(this,this._boundsToLatLngs(o),m)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Le(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Tl(o,m){return new ra(o,m)}Ca.create=ao,Ca.pointsToPath=yt,Sr.geometryToLayer=Tr,Sr.coordsToLatLng=tu,Sr.coordsToLatLngs=ea,Sr.latLngToCoords=iu,Sr.latLngsToCoords=Es,Sr.getFeature=ta,Sr.asFeature=$r,gi.mergeOptions({boxZoom:!0});var oa=un.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ri(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_e(),Ve(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ft(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var m=new Me(this._point,this._startPoint),_=m.getSize();re(this._box,m.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(nt(this._box),li(this._container,"leaflet-crosshair")),Oe(),Ke(),ri(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var m=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gi.addInitHook("addHandler","boxZoom",oa),gi.mergeOptions({doubleClickZoom:!0});var Fo=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var m=this._map,_=m.getZoom(),M=m.options.zoomDelta,U=o.originalEvent.shiftKey?_-M:_+M;m.options.doubleClickZoom==="center"?m.setZoom(U):m.setZoomAround(o.containerPoint,U)}});gi.addInitHook("addHandler","doubleClickZoom",Fo),gi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ea=un.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Do(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){li(this._map._container,"leaflet-grab"),li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Le(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var m=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(m),this._prunePositions(m)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,m){return o-(o-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;o.x<m.min.x&&(o.x=this._viscousLimit(o.x,m.min.x)),o.y<m.min.y&&(o.y=this._viscousLimit(o.y,m.min.y)),o.x>m.max.x&&(o.x=this._viscousLimit(o.x,m.max.x)),o.y>m.max.y&&(o.y=this._viscousLimit(o.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,m=Math.round(o/2),_=this._initialWorldOffset,M=this._draggable._newPos.x,U=(M-m+_)%o+m-_,oe=(M+m+_)%o-m-_,De=Math.abs(U+_)<Math.abs(oe+_)?U:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=De},_onDragEnd:function(o){var m=this._map,_=m.options,M=!_.inertia||o.noInertia||this._times.length<2;if(m.fire("dragend",o),M)m.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,De=_.easeLinearity,je=U.multiplyBy(De/oe),$e=je.distanceTo([0,0]),lt=Math.min(_.inertiaMaxSpeed,$e),Ct=je.multiplyBy(lt/$e),It=lt/(_.inertiaDeceleration*De),ai=Ct.multiplyBy(-It/2).round();!ai.x&&!ai.y?m.fire("moveend"):(ai=m._limitOffset(ai,m.options.maxBounds),ce(function(){m.panBy(ai,{duration:It,easeLinearity:De,noMoveStart:!0,animate:!0})}))}}});gi.addInitHook("addHandler","dragging",Ea),gi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ru=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ri(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,m=document.documentElement,_=o.scrollTop||m.scrollTop,M=o.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(M,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var m=this._panKeys={},_=this.keyCodes,M,U;for(M=0,U=_.left.length;M<U;M++)m[_.left[M]]=[-1*o,0];for(M=0,U=_.right.length;M<U;M++)m[_.right[M]]=[o,0];for(M=0,U=_.down.length;M<U;M++)m[_.down[M]]=[0,o];for(M=0,U=_.up.length;M<U;M++)m[_.up[M]]=[0,-1*o]},_setZoomDelta:function(o){var m=this._zoomKeys={},_=this.keyCodes,M,U;for(M=0,U=_.zoomIn.length;M<U;M++)m[_.zoomIn[M]]=o;for(M=0,U=_.zoomOut.length;M<U;M++)m[_.zoomOut[M]]=-o},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ri(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var m=o.keyCode,_=this._map,M;if(m in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(M=this._panKeys[m],o.shiftKey&&(M=Ie(M).multiplyBy(3)),_.options.maxBounds&&(M=_._limitOffset(Ie(M),_.options.maxBounds)),_.options.worldCopyJump){var U=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(M)));_.panTo(U)}else _.panBy(M)}else if(m in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;oi(o)}}});gi.addInitHook("addHandler","keyboard",ru),gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sa=un.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ri(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var m=_a(o),_=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var M=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),M),oi(o)},_performZoom:function(){var o=this._map,m=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,oe=_?Math.ceil(U/_)*_:U,De=o._limitZoom(m+(this._delta>0?oe:-oe))-m;this._delta=0,this._startTime=null,De&&(o.options.scrollWheelZoom==="center"?o.setZoom(m+De):o.setZoomAround(this._lastMousePos,m+De))}});gi.addInitHook("addHandler","scrollWheelZoom",Sa);var ou=600;gi.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var $a=un.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ri(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var m=o.touches[0];this._startPos=this._newPos=new Ee(m.clientX,m.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Zt),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ou),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ri(document,"touchend",Zt),ri(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ri(document,"touchend touchcancel contextmenu",this._cancel,this),ri(document,"touchmove",this._onMove,this)},_onMove:function(o){var m=o.touches[0];this._newPos=new Ee(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,m){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});_._simulated=!0,m.target.dispatchEvent(_)}});gi.addInitHook("addHandler","tapHold",$a),gi.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var aa=un.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){li(this._map._container,"leaflet-touch-zoom"),ri(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var m=this._map;if(!(!o.touches||o.touches.length!==2||m._animatingZoom||this._zooming)){var _=m.mouseEventToContainerPoint(o.touches[0]),M=m.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(_.add(M)._divideBy(2))),this._startDist=_.distanceTo(M),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Zt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var m=this._map,_=m.mouseEventToContainerPoint(o.touches[0]),M=m.mouseEventToContainerPoint(o.touches[1]),U=_.distanceTo(M)/this._startDist;if(this._zoom=m.getScaleZoom(U,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&U<1||this._zoom>m.getMaxZoom()&&U>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var oe=_._add(M)._divideBy(2)._subtract(this._centerPoint);if(U===1&&oe.x===0&&oe.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Te(this._animRequest);var De=f(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ce(De,this,!0),Zt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Te(this._animRequest),ri(document,"touchmove",this._onTouchMove,this),ri(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gi.addInitHook("addHandler","touchZoom",aa),gi.BoxZoom=oa,gi.DoubleClickZoom=Fo,gi.Drag=Ea,gi.Keyboard=ru,gi.ScrollWheelZoom=Sa,gi.TapHold=$a,gi.TouchZoom=aa,n.Bounds=Me,n.Browser=Ot,n.CRS=we,n.Canvas=Gr,n.Circle=Ua,n.CircleMarker=Qs,n.Class=ne,n.Control=br,n.DivIcon=bo,n.DivOverlay=go,n.DomEvent=wa,n.DomUtil=fn,n.Draggable=Do,n.Evented=ye,n.FeatureGroup=In,n.GeoJSON=Sr,n.GridLayer=Ci,n.Handler=un,n.Icon=Qo,n.ImageOverlay=At,n.LatLng=Re,n.LatLngBounds=Y,n.Layer=tn,n.LayerGroup=Ko,n.LineUtil=Xs,n.Map=gi,n.Marker=ja,n.Mixin=pc,n.Path=Po,n.Point=Ee,n.PolyUtil=Bu,n.Polygon=ka,n.Polyline=dn,n.Popup=yr,n.PosAnimation=Ba,n.Projection=Ks,n.Rectangle=ra,n.Renderer=ur,n.SVG=Ca,n.SVGOverlay=qi,n.TileLayer=Oo,n.Tooltip=vo,n.Transformation=Xe,n.Util=ve,n.VideoOverlay=Si,n.bind=f,n.bounds=ie,n.canvas=Zr,n.circle=Wr,n.circleMarker=Js,n.control=Br,n.divIcon=Ya,n.extend=l,n.featureGroup=Cs,n.geoJSON=it,n.geoJson=Ye,n.gridLayer=Sl,n.icon=Cl,n.imageOverlay=Jt,n.latLng=V,n.latLngBounds=Le,n.layerGroup=Mo,n.map=Ni,n.marker=qa,n.point=Ie,n.polygon=mc,n.polyline=El,n.popup=nu,n.rectangle=Tl,n.setOptions=q,n.stamp=b,n.svg=Ts,n.svgOverlay=Ss,n.tileLayer=oo,n.tooltip=ro,n.transformation=ut,n.version=a,n.videoOverlay=_n;var Uu=window.L;n.noConflict=function(){return window.L=Uu,this},window.L=n})}(Jc,Jc.exports)),Jc.exports}var us=fC();class hC{async geoCode(e){const a=await(await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:e}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"})).json();return a&&a[0]?a[0]:null}}const dC=new hC,pC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIDZVWTWhcVRT+7pskM29+Xl6SaSpdOFGQQlps6UIUrMRNEbvVVVHcGKtVtKEEBf9QoRJEFLFidCG6bJZWrJsG24UbS6uJtrTFdGwlyUySmcz0vUySeU/Oue++30mqBx5z7/n57rnnnp8RruuiE4kvx/fCar2NtbXHsekUI8IurYpM5hyy6ffcFyZmEsZkHwcW3741iKX6d2jYh6CngaF7gKIZtarWgLl5wG4BBf0nDPQ+4z77/uKWwGJyfASLtR8ghI59DwClnQDJw4cLEfzeXAAuXyO5jUHzSXd0YjoB7IPmdR2P7QdSmtTYIlT+AW0HOH8JaNg2dpgPqdBovuJy4xsUdB0H90lQAnTI2xCQAiNyvJuQ7sH9YNuVxvdKzMDi1Ik30Noo4cBuoCsVBdQEUL8DVOtAdVWu1QGudwCBk21ro8RY9L6sUG+M4d6dgJGLXr3dBi7MAEurITAXGDCAR/YCqVTAI1vCmK+OATipcWzX20UMlwIvSHGzDfx8CVi9s4TBvqfdd74W9NGaeSQjHTd0u+EhEBZharDXjyCbBvRMkAHk3fVbQNO2UTRH3Jc+mlKX4HXRHGEZ6ZCusqP0JCx7/Yh8PNqETyaq1ICcfqZTATAvp5/hfPaZ3k0JK5IVvoKHbq3RQ9YSckXbyRLACpRPzlAMzYSFIpIpL+NF5ANbraTXO0ygaR3mnhEj5jWtw6wTLyAPS0NP91neUN2HC+D+XUA+q6OyMi1OnXhKsXldWZlmGen4AiExCLin+yyXtPhg1MLwkI77dgGOE3hB5frLLLBMeaxK3AH6DeDhPUHZE6imAX/9A/wxZ7tvTmZlgWTT51FeOBTxgLDJ8NEHgXoT2HQknyqzNxdUp7okVWh5QWL5Mc7rJ2XZxiqMjMnrQg7oL8ivkJW88IORTaUuy52wFDC3Oz09iytzyWYTPsTp0EI5DAJsq6dnVesM0i2vv8seU7MBkuCdSKmQHfUTwlBnRhr9xLEZdKf2YOSAbEDOFr3YfzAh3+HcRWCjPeuOf+6nZrRAzNzLqFvAjduB4VYkPHDSXbWkbYgiwBwfIzuFK2Xpbad4w8sA4lNq/lmmB50Kj6Wkx0TF3mMQ7hIuXpW5qYnonFN7CsGvV8G6ZBM/O87gadtnHMX8MnCrEoAzYKgY/q6AdfqMo/EJ3REYqucaudP47To1eg/c+8jThgX8foOmxulwrw5T4n9FRPjhi3PI9JR4wHZ5Y4imxoXL1Mxvuq9/MZQw2s5jn/oLz/GkIO9Snre0plFPsm1oW2B+6QHjOMqLMqb00XrAOB7Pgv8VCl/ps7FJ1JrP88bMf+W+8vHoXW3+CzArfvraj3yLVz954q7KAP4FsFfcPBQDhqkAAAAASUVORK5CYII=",mC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAJP0lEQVRoBcVaa2wc1RX+ZvZhr/dpZxOlBOqGJq3AQTQlbYpUBFRU6o9KrUSg/WW1UkUgoUCDEzUGtWpTEhTcFNoQcP+0ioQEOPwEIajkoPwIbaKEKiRpm5dNSZzHxtm1vV6vdz1TnXPnzs7emdmddZz0k652Hvec+82Zc88998xqpmliPtAGt6zCbLUXlep9KJdXoGpkPdWE9Rza2k4jEj6AaHivuX7np64+AdAyUe21zVsxUVyPSrUbtmgzHVrtJxIeRSo+aD7x0g5XtwYITFR7ta8fhclNqBqLIGXCIWBJJ5BJANmMS4aRywP5KeDyNaA6ZynTyNJXkU7uMjcObHfJeKApUX7FE9NvYma2xyaYTQErvwjcIt92Yx22RS/kgFOfAbmJGuH26HGkOn7czCUaEtV2P9uP/OTzqBoxm+Cdy4HFlvWkrJ8OTfM+v5IHTpyrEQ7rJWSSvzOf/L2vdX2Janv6tiJXEIIhHehZDqxYZhHD9RGVl0+fB46fA+YMcZ5N95sbBjx915MoW3J84gUYhvC/e74KZJLgcyc8ZBtCJa7rQH4SOPJv4FoR0DWgK/Wcl2VdROssmeoAHlgNhELi5o0gKvXuPwIUpsW5h2XriPLEyeX/gYoRQ2cc+PbdFE7cr1jlJ8dXiagPYvr0J8KVKnDgE2HZiF5CNvNN5wTT6xQVim/CMGOIhIA1dwiSNws0Fo8ZAnMgLk7j20ahV14q98AwgTu6gVRcWISaYTVTsSb5FDVNaWQhaup1p2WpSb306qnRmDQ2XSuVe5iThZrJJqY28S+FnpW3tWZGCuSX86Sj/t3SwEsyYmEIChr74rgIYYIT+yr7KK8644UXOEzcvxroSlpP7uOTulYjePpzEWbIx7x8lF4phbUVt9YIG4pC1WfHJ4GPjoqw2JV+jlYv8eoni48Ja6aFBYKAlsW/HQaOjwiShGh4lFcaanRMoHvUh/rmp4LpJg7ExcFNw+ubV+Hi+DG+uLYHWJathSFDme3SkhPTwEef1Pql4kPoaPutugxyFJku/woTxUeEvA7c/zUR9pz67dlv/ZIlz+eAj4+L86Vdd4VRqfbyCb2iZd6ZWh0qc8DBT4WlIqGSlkn8xPj5H9529aPnE8Qf1f/0i0fN/NRfUanGWPY794jZ3QjEhTjROJVqr47Z6n3sgzSJ5CxXm3Pmkk+WyuLpF6V7/Ug6wX0WpXtZhmRJh1OnOp6MBswJII46J70EWiqbWrMKnPpcHMdj75gbBva5+viA+8Zj7/Bd0iH9uhEkp3J5hY6qmWXaWadFPWY64UpBzHRNgxZv/43rfhOwDFmQdOQK7s5yXMmDc1wTtHvQXZ0boWDN2mh41NgwcKxBT0+wjIwGhYARwILubTr5hGb9ej1bEb+hUGujODFP2ZpFb+a6Pg/U2Dmd25X1WOfRiPitzgWYeT6Ys2TNRom35pJtzUfTFr9KtVvf03eX634TsMxstbtOVyM4jKcjGhnlJ6Ddoh/sWZgW67VhwizO/Nqnty9YhuIj6SBd6hxQwRNOozc5qiMSHuPbQdZhWk1W3iqOp0oPa3v61rn6+ID7TpUe5ruko9nK5OQUCY/piIYPsEtQWuWXP0pQdnX7LUAsKtb5XH4vLY+ufgq4Ty6/l2VIlnTMGa5+rvGZE4fDA0T0Pe5E/hDEqvTa7l0looRhxsyrE29pu54a4gREHXdwyyq6R33EziEsZIPkp8SllpW9J/LR7etzXAG5/QvA3StrFQ2ZHal+RE9L/vP3E8B0uZb1tEVHoWtFIWvGUZ7tto6BjjZg7Z1iEnnpg2OzRw/yz1PA2TGuqJj9g1kRntrbhjFVWsepFRENAhrwoW+IBOOMlTjLGe0EWfHLVuKse7iTH4iL5CbjqNbRtscsltZxZkNrcKdP6FCLYjTwV24TPsdbh2J9/1QCWJJ2bLd9MnsJ+SDEgbiEdOYG53ZZ27H+CsrVLLqXAqstq84pr95vu2sPpIRlNaD7EZV6pO8e+Q8wehFoC+fMrYOLURfwk/G/sMBnl8TTeM1+NV+kB6Fmn88pzahvat4JB1E5zvSM4EDnxEnawO6cig9A10p8PHoJ/zfIsYkLcVKJmr3bLiMee1dk8eeFhZrFVT9L23UAn5XHVQewGsnQ2HQtHnuXObksSpDJMGfy/3Xpv+GgMWXsVBLzOqK8GUvGPuAnou0C+ZkzpDSzbFBoyownneTDZE0aLxn7QN3RurOnjvZnoaPEu00qtt4sUJ2UrEm+SRwUuIjyk6QTb/CTnbkAzJQdtSSP2NeSJRXfpP07tZlZMRZdS8Xf8CqTu4hCbMKetyPAoX+57i84Dp202GglHtsDnkSNn714CenEbmi6qLOPXa2v2slZ2rJFZXPoGhsHrk4IfenEbh7bA66Kc53e7Y+P8PrdHgEeWlObSH4rTTPoSvJBej48BJQr/P3J7H/9S34aPC1qI9WxWVQ3ZoGzF2o+FTS+2qModVSph5IZ0k33Mok+l1xQouaTu4aQiIlqCFXkglbjgoB0kU5w1WVfs6pLQ6KMbHojfweip6avFzICcFMsJaH6smpJkmVdmvjGRGM0QVOivIx1JUU1Ol8ETo64+rSME46305Xc5Fwq/dBwMjmh7XrqICanv8WXHvy6KGDJNLDRTgCOyUPWJILDR8R5suNjc9Mf73UN5oHA+3ot1fFDO7bK+mirIJmDViwnXdn0D4JqCEyU4xvXOHUxU4+dqflgnd86Wkhpx86KVYjuLUr3BnnlLROFrHEmYkN8MnKptbyV+lLWTkjEhlqprWI+fyxgoRefGOE/FnBNfnWtJu/no5PTwP6jwpcpsP/yNd/A7ofWak8Sncnvs4+Rzx0+2dhf7T5zYi3PJH7q6nOjiHJ205naxhalLyTkr7TTVH2SrtE9+hhLvtyZ2mY8/tKwS+GNIgrhrzsQbxd+NuLwPyfo2ojlx/H2fX7f4oNg3v/SkdB2bjyHmVnhc99dI77rE+g7/IeHxXF7dMTc8upyl3ALmLdFbSztWmvH1+GjQLEkGh3DipfU5zpx3RYlaH/e8gCuFIY57ZNVlmtTwi8Xpx80H9u53yXUIq7fouSvRKQr1W8TvCbX8VT/QpDEQlnUVvbKM29hqiTqpYnY2+bTL/9owXQvJFFW+Moz79Ov+fTL31swpQD+B6DpPQVpybZ7AAAAAElFTkSuQmCC",gC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRIibWVv07DMBDGPyMLFpjiBUQkJrrABA/ABBPvwDvyAkyw0Cld6BTJEl2ciU5ZjK6cUxTbsdO0nxRFdU73u3++CmstDi25q39RqjMA9BwDKACs6Nxq8+3Z5mbCTq8AnAO4YOchtQBqAO9WmzYLIkpFDm8YMEYNgFcCRcvFzu848l1EJZwBqDyIKBWV4Z6jn6pNSWUPQPQnAKcR567eP/x7NmDr7LcQBjxHGtpyI5e9oCoAL571VnUHSQC6Bnpf/jKJaWG12WR8xAYPEQDpLQQQpbrmwQiJAvt055KNi4Ch00nPOY3y7cDUeZkLXBaPGXeg4b7EHDvVocwl396UhjJ1mltt5t4pQ2K9yNWao/d21n/IFC2owaHB2AckGf0UCEVcxWofk+T/gZwlSJPz4S7YWEiTgKx4crJKExJBviIbd81NXXpfxkKsNo0oFTl023RvzjsIv2mb0h4a3dSkAPwCJdSH4GnrpMEAAAAASUVORK5CYII=",vC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAArCAYAAADR0WDhAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVRogdWYsY4aMRCGf0cr0nAVbjjF0lWkCVWqUFFdlwdIqjxguqS5jipp7iquOSqklXLNUrENNI4GzXI+vCy7s/bCfRIS2LvY/3g8Y4+y1uKt8+7NKwCQeC0doIy+BtAHcMWjvQcwALABsOK2NX23abY6NaPo7qSMpokOAVzzp+89VM0WwBLAwqbZv7Ino4hQRpNVP/LkB94Dcp4BzGyaraOIUEb3ANwAGAee+CG0Mr9cN2stgt3lMwvoeQ/EIQfw06YZCZJvbGfyI68zPn1217lIBLvNmAWckxuRCGU0vTjt0G2qGBZ9tUSw9aes/uI4KYIT020A6684soCjV4j/21EpQhk94hWQkHOSeirLumycLy3C8ekQq4yeCiMPTf7eptnC6/HHoAj3TTAG8bvI4KUr0ULAX5tmc6/1CJR5ldHlndXk7hHEE6GMnggEeFm0DuxSEmbuj1dHcd4Dn7xXqpEK6PGeaMrj4UFwL4L9c+K9cpoHoYCJYFPTOPeHja47iZJYkz2AF2PdCgTkvOLbw44EL7459F4LiHNcGQuMRRO/KxMAZyWa7oM9FMlsms28Dsa5W4yECW51bAX2Y+DDgP74h9fTjCKxbZy3roQ3uUYCwCsR4jzUb7OaR1hUrbBLwta6NGZ1Mn5B4lQcLoGcN3CjkJ3EjkoNIMv/OeX/ZXjHjjNAkyb3WUqHPreIJft/Y+u7nEtEa+u7nEOE2PeP0aWInK1fWopsQ8KlwZgRiiw+t2n24PUEFLHxWsOx5NveOuIYOxGrCKWYaK5TRuFOodjyJanRHSOEiMxrlfHIVY5gUacuu5KNMvpri83did9XUYTYpUDEM7tOJ35fhSuibuWh001bh30FsIZL1a7sdY2bsZ+OiLjYyRe8qsUqo787d+LomTYUh2cnWg0qqVCcJwGdh8vGAPgPu3cdHuTAvBEAAAAASUVORK5CYII=",J0={lat:45.769785,lng:4.833967,zoom:14};class ev{constructor(){this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}init(){this.bindFields()}unbind(){}bindFields(){const e=this.$fields.length;for(let n=0;n<e;n++){const a=this.$fields[n];a.classList.contains("is-enable")||(this.bindSingleField(a),a.classList.add("is-enable"))}}bindSingleField(e){const n=e.parentElement.querySelector(".uk-form-label"),a=n.innerHTML;let l=null;window.RozierConfig.defaultMapLocation?l=window.RozierConfig.defaultMapLocation:l=J0;const u="geotag-canvas-"+this.uniqid(),f=u+"-address",h=u+"-reset";e.style.display="none",n.style.display="none",e.setAttribute("data-geotag-canvas",u);let b=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+a+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+f+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+u+'" style="width: 100%; height: 400px;"></div>'].join("");const x=document.createElement("div");if(x.innerHTML=b,e.after(x),!document.getElementById(u))throw new Error("Map container does not exist");let k=document.getElementById(f);k&&k.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let A=document.getElementById(h);A&&(A.style.display="none");let H={center:this.createLatLng(l),zoom:l.zoom||l.alt,styles:window.RozierConfig.mapsStyle},N=this.createMap(u,H),q=null;if(e.value!=="")try{l=JSON.parse(e.value),q=this.createMarker(l,N),A.style.display="inline-block",q.on("dragend",this.setMarkerEvent.bind(this,q,e,A,N)),A.addEventListener("click",this.resetMarker.bind(this,q,e,A,N))}catch{return e.style.display=null,document.getElementById(u).style.display="none",!1}N.on("click",this.setMarkerEvent.bind(this,q,e,A,N)),k.addEventListener("keypress",this.requestGeocode.bind(this,q,e,A,N)),this.resetMap(N,q,H,null),new ResizeObserver(O=>{N.invalidateSize({animate:!1,pan:!1}),q!==null?N.panTo(q.getLatLng(),{animate:!1,pan:!1}):N.panTo(H.center,{animate:!1,pan:!1})}).observe(document.getElementById(u))}resetMap(e,n,a){window.requestAnimationFrame(()=>{e.invalidateSize(!0),n!==null?e.panTo(n.getLatLng()):e.panTo(a.center)})}resetMarker(e,n,a,l,u){return u.preventDefault(),e.removeFrom(l),n.value="",a.style.display="none",!1}setMarkerEvent(e,n,a,l,u){if(e||(e=this.createAndBindMarker(u.latlng,l,n,a)),typeof u.latlng<"u")this.setMarker(e,n,a,l,u.latlng);else{const f=e.getLatLng();l.panTo(f),this.applyGeocode(n,a,f,l.getZoom(),void 0)}}createAndBindMarker(e,n,a,l){const u=this.createMarker(e,n);return u.on("dragend",this.setMarkerEvent.bind(this,u,a,l,n)),l.addEventListener("click",this.resetMarker.bind(this,u,a,l,n)),n.off("click"),n.on("click",this.setMarkerEvent.bind(this,u,a,l,n)),u}setMarker(e,n,a,l,u){e||(e=this.createAndBindMarker(u,l,n,a)),e.setLatLng(u),e.addTo(l),l.panTo(u),this.applyGeocode(n,a,e.getLatLng(),l.getZoom(),e.name)}latLngToFeature(e,n,a){return e.alt&&(n=e.alt,e.alt=void 0),{type:"Feature",properties:{name:a||"",zoom:n},geometry:{type:"Point",coordinates:us.GeoJSON.latLngToCoords(e)}}}applyGeocode(e,n,a,l,u){e.value=JSON.stringify(this.latLngToFeature(a,l,u)),n.style.display="inline-block"}createMarker(e,n){let a=null;e instanceof us.LatLng?a=e:a=this.createLatLng(e);let l=new us.Marker(a,{icon:this.createIcon(),draggable:!0}).addTo(n);return n.flyTo(a,a.alt),l.alt=a.alt,e.type&&e.type==="Feature"&&e.properties&&e.properties.name&&(l.name=e.properties.name),e.name&&(l.name=e.name),l}async requestGeocode(e,n,a,l,u){let f=u.currentTarget.value;if(u.which&&u.which===13){u.preventDefault();const h=await this.getLatLngForAddress(f);if(h===null){console.error("Geocode was not successful.");return}this.setMarker(e,n,a,l,h)}}uniqid(){return new Date().getTime()}createMap(e,n){const a=new us.Map(document.getElementById(e)).setView(n.center,n.zoom),l=new us.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return a.addLayer(l),a}createLatLng(e){if(typeof e.lat=="number"&&typeof e.lng=="number")return new us.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&e.type==="Feature"){const n=e.properties&&e.properties.zoom?Number.parseInt(e.properties.zoom):7,a=new us.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],n);return e.properties&&e.properties.name&&(a.name=e.properties.name),a}throw new Error("Cannot create LatLng object from data")}createIcon(){return new us.Icon({iconUrl:pC,iconRetinaUrl:mC,shadowUrl:gC,shadowRetinaUrl:vC,iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}getLatLngForAddress(e){return dC.geoCode(e).then(n=>{if(n!==null){const a=new us.LatLng(n.lat,n.lon);return a.name=n.display_name,a}else return null}).catch(n=>null)}}class bC extends ev{constructor(){super(),this.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}resetMarker(e,n,a,l,u){n.value="";for(const f of e)f!==null&&f.removeFrom(l);return e=[],a.style.display="none",this.syncSelector(u,e,l,n),!1}bindSingleField(e){const n=e.parentElement.querySelector(".uk-form-label"),a=n.innerHTML||"Geotag";n.style.display="none";let l=null;window.RozierConfig.defaultMapLocation?l=window.RozierConfig.defaultMapLocation:l=J0;const u="geotag-canvas-"+this.uniqid(),f=u+"-address",h=u+"-reset",b={center:this.createLatLng(l),zoom:l.zoom||l.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",u);let x=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+a+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+f+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+u+'"></div>',"</div>"].join("");const w=document.createElement("div");w.innerHTML=x,e.after(w);let k=document.getElementById(f);k.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let A=document.getElementById(h);A.style.display="none";const H=this.createMap(u,b),N=[],q=e.parentElement.querySelector(".multi-geotag-list-markers");if(e.value!=="")try{const O=JSON.parse(e.value);if(!O.features)throw new Error("Data is not a valid GeoJSON featureCollection");for(const S of O.features){const P=this.createMarker(S,H);P.on("dragend",this.setMarkerEvent.bind(this,P,N,e,A,H,q)),N.push(P)}}catch{return e.style.display="block",document.getElementById(u).style.display="none",!1}H.on("click",this.setMarkerEvent.bind(this,null,N,e,A,H,q)),k.addEventListener("keypress",this.requestGeocode.bind(this,N,e,A,H,q)),this.resetMap(H,N,b,null),this.syncSelector(q,N,H,e),new ResizeObserver(O=>{H.invalidateSize({animate:!1,pan:!1}),typeof N<"u"&&N.length>0?H.fitBounds(this.getMediumLatLng(N),{animate:!1,pan:!1}):H.panTo(b.center,{animate:!1,pan:!1})}).observe(document.getElementById(u))}syncSelector(e,n,a,l){e.innerHTML="";const u=[];let f=0;const h=n.filter(x=>x!==null&&x.getLatLng()!==null);for(const x of h)["<li>",'<span class="multi-geotag-marker-name">',x.name?x.name:"#"+f,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+f+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+f+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(w=>u.push(w)),f++;e.innerHTML=u.join("");let b=0;for(const x of h){let w=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+b+'"]'),k=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+b+'"]');w&&k&&(w.addEventListener("click",this.centerMap.bind(this,a,x)),k.addEventListener("click",this.removeMarker.bind(this,a,n,x,e,l))),b++}}removeMarker(e,n,a,l,u,f){f&&f.preventDefault();const h=n.indexOf(a);return a.removeFrom(e),n.splice(h,1),this.syncSelector(l,n,e,u),this.writeMarkers(n,u),!1}resetMap(e,n,a,l){l&&l.preventDefault(),window.requestAnimationFrame(()=>{e.invalidateSize({animate:!0,pan:!0}),typeof n<"u"&&n.length>0?e.fitBounds(this.getMediumLatLng(n)):e.panTo(a.center)})}centerMap(e,n,a){if(a&&a.preventDefault(),e&&n){const l=n.getLatLng();e.flyTo(l,l.alt)}}getMediumLatLng(e){let n=new us.LatLngBounds;for(const a of e)n.extend(a.getLatLng());return n}setMarkerEvent(e,n,a,l,u,f,h){if(h.latlng)this.setMarker(e,n,a,l,u,h.latlng);else if(e!==null){const b=e.getLatLng();b.alt=u.getZoom(),e.setLatLng(b),u.flyTo(b,b.alt),this.writeMarkers(n,a)}this.syncSelector(f,n,u,a)}setMarker(e,n,a,l,u,f,h){return u&&(f.alt||(f.alt=u.getZoom()),e===null?e=this.createMarker(f,u):(e.setLatLng(f),e.addTo(u)),e.name=h,u.flyTo(f,f.alt),n.push(e),this.writeMarkers(n,a)),e}writeMarkers(e,n){const a={type:"FeatureCollection",features:[]};for(const l of e)if(l){const u=l.getLatLng();a.features.push(this.latLngToFeature(u,u.alt,l.name))}n.value=JSON.stringify(a)}async requestGeocode(e,n,a,l,u,f){let h=f.currentTarget.value;if(f.which&&f.which===13){f.preventDefault();const b=await this.getLatLngForAddress(h);if(b===null){console.error("Geocode was not successful.");return}b.alt=l.getZoom(),this.setMarker(null,e,n,a,l,b,b.name||""),this.syncSelector(u,e,l,n)}}}class yC{constructor(){this.linksSelector=null,this.currentRequest=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.tagAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),window.history.pushState({},document.title,window.location.href)}parseLinks(){this.linksSelector=document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')}onClick(e){const n=e.currentTarget,a=n.getAttribute("href");if(typeof a<"u"&&a!==null&&!n.classList.contains("rz-no-ajax-link")&&a!==""&&a!=="#"&&(a.indexOf(window.RozierConfig.baseUrl)>=0||a.charAt(0)==="/"||a.charAt(0)==="?"))return e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,a),this.onPopState(null)}),!1}onPopState(e){let n=null;e!==null&&e.originalEvent&&(n=e.originalEvent.state),(typeof n>"u"||n===null)&&(n=window.history.state),n!==null&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),this.loadContent(n,window.location))}loadContent(e,n){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{let a=new CustomEvent("pagechange");window.dispatchEvent(a);try{let l="";const u=n.href.split("?")[0],f=new URLSearchParams(n.href.split("?")[1]);if(e.headerData)for(let[w,k]of Object.entries(e.headerData))Array.isArray(k)?k.forEach((A,H)=>{f.append(w+"["+H+"]",A)}):f.set(w,k);f.toString()!==""?l=u+"?"+f.toString():l=u;const h=await fetch(l,{method:"GET",headers:{"X-Partial":!0,Accept:"text/html"}});if(!h.ok)throw h;const b=await h.text();this.applyContent(b);let x=new CustomEvent("pageload",{detail:b});window.dispatchEvent(x)}catch(l){const u=await l.text();if(u)try{let f=JSON.parse(u);window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.message,status:"danger"}}))}catch{window.location.href=n.href}else window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:window.RozierConfig.messages.forbiddenPage,status:"danger"}}))}window.dispatchEvent(new CustomEvent("requestLoaderHide"))})}refreshCodemirrorEditor(){for(let e of this.markdownEditors)e.forceEditorUpdate();for(let e of this.yamlEditors)e.forceEditorUpdate();for(let e of this.cssEditors)e.forceEditorUpdate();for(let e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(let e of this.markdownEditors)e.destroy();for(let e of this.yamlEditors)e.destroy();for(let e of this.cssEditors)e.destroy();for(let e of this.jsonEditors)e.destroy()}async applyContent(e){let n=document.getElementById("main-content-scrollable"),a=n.querySelector(".content-global"),l=document.createElement("div");l.innerHTML=e;const u=l.querySelector("[data-ajax-root]");u&&(l=document.createElement("div"),l.innerHTML=u.innerHTML),l.classList.add("new-content-global"),n.querySelectorAll('meta[name="title"]').forEach(b=>{b.remove()}),n.append(l);const h=n.querySelectorAll('meta[name="title"]');if(h.length&&(document.title=h[0].getAttribute("content")),l=n.querySelector(".new-content-global"),a&&l){await Nu(a,100),a.remove(),this.generalBind(),await gl(l,200),l.classList.remove("new-content-global");const b=new CustomEvent("pageshowend");window.dispatchEvent(b)}}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.tagAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.inputLengthWatcher=new sx,this.documentUploader=new rx(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new ux,this.geotagField=new ev,this.multiGeotagField=new bC,this.stackNodeTrees=new lx,this.attributeValuesPosition=new ox,this.customFormFieldsPosition=new ax,this.settingsSaveButtons=new cx,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),document.querySelectorAll(".actions-menu").length&&qh.to(".actions-menu",.5,{right:0,delay:.4,ease:Uh.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new fx,window.Rozier.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(let n of e)n&&n.unbind()}initCollectionsForms(e=null){const n=this;let a=null;e!==null?a=e.querySelectorAll(".rz-collection-form-type"):a=document.querySelectorAll(".rz-collection-form-type"),a.length&&$(a).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(l,u)=>{const f=u[0];return n.initMarkdownEditors(f),n.initJsonEditors(f),n.initCssEditors(f),n.initYamlEditors(f),n.initCollectionsForms(f),f.querySelectorAll("[data-vuejs]").forEach(b=>{window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(b))}),!0}})}initMarkdownEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-markdowneditor]"):n=document.querySelectorAll("textarea[data-rz-markdowneditor]");let a=n.length;if(a)for(let l=0;l<a;l++)this.markdownEditors.push(new sC(n[l],l))}initJsonEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-jsoneditor]"):n=document.querySelectorAll("textarea[data-rz-jsoneditor]");let a=n.length;if(a)for(let l=0;l<a;l++)this.jsonEditors.push(new uC(n[l],l))}initCssEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-csseditor]"):n=document.querySelectorAll("textarea[data-rz-csseditor]");let a=n.length;if(a)for(let l=0;l<a;l++)this.cssEditors.push(new lC(n[l],l))}initYamlEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-yamleditor]"):n=document.querySelectorAll("textarea[data-rz-yamleditor]");let a=n.length;if(a)for(let l=0;l<a;l++)this.yamlEditors.push(new hx(n[l],l))}initFilterBars(){const e=document.querySelectorAll("select.item-per-page");if(e.length){const n=a=>{const l=a.currentTarget.closest("form");l&&l.requestSubmit()};e.forEach(a=>{a.addEventListener("change",n)})}}resize(){}}const tv="NODES_SEARCH_REQUEST",iv="NODES_SEARCH_SUCCESS",nv="NODES_SEARCH_RESET",rv="NODES_SEARCH_FAILED",ov="NODES_SEARCH_ENABLE_FOCUS",av="NODES_SEARCH_DISABLE_FOCUS",sv="EXPLORER_REQUEST",Qp="EXPLORER_SUCCESS",_p="EXPLORER_RESET",uv="EXPLORER_FAILED",lv="EXPLORER_OPEN",Jp="EXPLORER_CLOSE",cv="EXPLORER_LOAD_MORE",fv="EXPLORER_LOAD_MORE_SUCCESS",hv="EXPLORER_IS_LOADED",Zh="EXPLORER_UPDATE_SEARCH_TERMS",dv="FILTER_EXPLORER_OPEN",pv="FILTER_EXPLORER_CLOSE",mv="FILTER_EXPLORER_REQUEST",gv="FILTER_EXPLORER_SUCCESS",wp="FILTER_EXPLORER_FAILED",em="FILTER_EXPLORER_UPDATE",vv="FILTER_EXPLORER_RESET",bs="KEYBOARD_EVENT_ESCAPE",bv="KEYBOARD_EVENT_SPACE",xp="LOGIN_CHECK_DISCONNECTED",yv="LOGIN_CHECK_CONNECTED",kp="HEALTH_CHECK_FAILED",_v="HEALTH_CHECK_SUCCEEDED",wv="DRAWERS_ADD_INSTANCE",xv="DRAWERS_REMOVE_INSTANCE",kv="DRAWERS_ADD_DOCUMENT",Cv="DRAWERS_REMOVE_DOCUMENT",Ev="DRAWERS_EDIT_INSTANCE",Sv="DRAWERS_UPDATE_LIST",Tv="DRAWERS_ENABLE_DROPZONE",Av="DRAWERS_DISABLE_DROPZONE",Dv="DRAWERS_INIT_DATA_REQUEST",Cp="DRAWERS_INIT_DATA_REQUEST_SUCCESS",Lv="DRAWERS_INIT_DATA_REQUEST_FAILED",Mv="DRAWERS_INIT_DATA_REQUEST_EMPTY",Pv="TAG_CREATE_NEW_REQUEST",Ov="TAG_CREATE_NEW_REQUEST_SUCCESS",Fv="TAG_CREATE_NEW_REQUEST_ERROR",Rv="TAG_CREATOR_READY",Nv="DOCUMENT_PREVIEW_INIT",zv="DOCUMENT_PREVIEW_DESTROY",Iv="DOCUMENT_PREVIEW_OPEN",Bv="DOCUMENT_PREVIEW_CLOSE",Hv="BLANCHETTE_EDITOR_INIT",Ep="BLANCHETTE_EDITOR_IS_LOADING",Oh="BLANCHETTE_EDITOR_LOADED",Wv="BLANCHETTE_EDITOR_ERROR",jv="BLANCHETTE_EDITOR_SAVE_SUCCESS";function _C(t){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:t};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async n=>{const a=await n.json();return typeof a.data<"u"&&a.data.length>0?a.data:[]}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}const wC=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:_C},Symbol.toStringTag,{value:"Module"})),cc="document",xf="node",tm="node-type",qv="join",Uv="explorer-provider",Yv="custom-form",fc="tag",$v="node-source-document";function xC({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(n._locale=e._locale);for(let a=0;a<t.length;a++)n["ids["+a+"]"]=t[a];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json"}}).then(async a=>{const l=await a.json();return typeof l<"u"&&l.documents?{items:l.documents,trans:l.trans}:null}).catch(async a=>{throw new Error((await a.response.json()).humanMessage)})}function kC({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:a,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),a&&a.id&&(u.folderId=a.id),l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.documents?{items:h.documents,filters:h.filters,trans:h.trans}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function CC(t){return fetch(window.location.href,{method:"POST",body:t,headers:{Accept:"application/json"}})}function EC({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};e&&e._locale&&(n._locale=e._locale);for(let a=0;a<t.length;a++)n["ids["+a+"]"]=t[a];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async a=>{const l=await a.json();return typeof l<"u"&&l.items?{items:l.items}:null}).catch(async a=>{throw new Error((await a.response.json()).humanMessage)})}function SC({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:a,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};if(e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),a&&a.id&&(u.tagId=a.id),e&&e.nodeTypes){const f=JSON.parse(e.nodeTypes);Array.isArray(f)&&f.length>0&&(u.nodeTypes=f)}return l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.nodes?{items:h.nodes,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function TC({ids:t=[]}){t=t.map(n=>n.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let n=0;n<t.length;n++)e["names["+n+"]"]=t[n];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json"}}).then(async n=>{const a=await n.json();return typeof a<"u"&&a.items?{items:a.items}:null}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}function AC({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:a,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.nodeTypes?{items:h.nodeTypes,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function DC({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};e&&e._locale&&(n._locale=e._locale);for(let a=0;a<t.length;a++)n["ids["+a+"]"]=t[a];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json"}}).then(async a=>{const l=await a.json();return typeof l<"u"&&l.items?{items:l.items}:null}).catch(async a=>{throw new Error((await a.response.json()).humanMessage)})}function LC({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:a,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),e&&e.nodeTypeField&&(u.nodeTypeFieldName=e.nodeTypeField),l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.entities?{items:h.entities,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function MC({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken};for(let a=0;a<t.length;a++)n["ids["+a+"]"]=t[a];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json"}}).then(async a=>({items:(await a.json()).forms})).catch(async a=>{throw new Error((await a.response.json()).humanMessage)})}function PC({searchTerms:t,filters:e,moreData:n}){const a={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return n&&(a.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(a),{method:"GET",headers:{accept:"application/json"}}).then(async l=>{const u=await l.json();return typeof u<"u"&&u.customForms?{items:u.customForms,filters:u.filters}:{}}).catch(async l=>{throw new Error((await l.response.json()).humanMessage)})}function Gv({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:a,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),l&&(u.page=n?n.nextPage:1),a&&a.id&&(u.tagId=a.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async f=>{const h=await f.json();if(typeof h<"u"&&h.tags)return{items:h.tags,filters:h.filters};throw new Error("No tags found")}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function Zv({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(n._locale=e._locale);for(let a=0;a<t.length;a++)n["ids["+a+"]"]=t[a];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async a=>{const l=await a.json();return typeof l<"u"&&l.tags?{items:l.tags}:{}}).catch(async a=>{throw new Error((await a.response.json()).humanMessage)})}function Xv({tagName:t}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:t};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(e),{method:"POST",headers:{Accept:"application/json"}}).then(async n=>{const a=await n.json();if(typeof a<"u"&&a.tag)return a.tag;throw new Error("Tag creation error")}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}const OC=Object.freeze(Object.defineProperty({__proto__:null,createTag:Xv,getTags:Gv,getTagsByIds:Zv},Symbol.toStringTag,{value:"Module"}));function Vv({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};e&&e._locale&&(n._locale=e._locale);for(let a=0;a<t.length;a++)n["ids["+a+"]"]=t[a];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(async a=>{const l=await a.json();return typeof l<"u"&&l.items?{items:l.items}:null}).catch(async a=>{throw new Error((await a.response.json()).humanMessage)})}function Kv({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:a,moreData:l}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),n&&n._locale&&(u._locale=n._locale),e&&e.providerClass&&(u.providerClass=e.providerClass),e&&e.providerOptions&&(u.options=e.providerOptions),l&&(u.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.entities?{items:h.entities,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}const FC=Object.freeze(Object.defineProperty({__proto__:null,getItems:Kv,getItemsByIds:Vv},Symbol.toStringTag,{value:"Module"}));function RC({entity:t,searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u=!1}){switch(t){case cc:return kC({searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u});case xf:return SC({searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u});case tm:return AC({searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u});case qv:return LC({searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u});case Yv:return PC({searchTerms:e,filters:a,moreData:u});case fc:return Gv({searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u});case Uv:return Kv({searchTerms:e,preFilters:n,filters:a,filterExplorerSelection:l,moreData:u})}return Promise.reject(new Error("No type entity found"))}const NC=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:RC},Symbol.toStringTag,{value:"Module"}));function zC(){const t={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.folders?{items:n.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function IC(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.tags?{items:n.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function BC(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.tags?{items:n.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function HC({entity:t}){switch(t){case cc:return zC();case xf:return IC();case fc:return BC();default:return Promise.reject(new Error("Entity not found"))}}const WC=Object.freeze(Object.defineProperty({__proto__:null,getFilters:HC},Symbol.toStringTag,{value:"Module"}));function Qv(t,e=[],n){switch(t){case cc:return xC({ids:e,filters:n});case xf:return EC({ids:e,filters:n});case tm:return TC({ids:e});case qv:return DC({ids:e,filters:n});case Yv:return MC({ids:e,filters:n});case fc:return Zv({ids:e,filters:n});case Uv:return Vv({ids:e,filters:n})}return Promise.reject(new Error("No type entity found"))}const jC=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:Qv},Symbol.toStringTag,{value:"Module"}));function Jv(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}).then(async t=>(await t.json()).url).catch(()=>{throw new Error("Image not found")})}const qC=Object.freeze(Object.defineProperty({__proto__:null,getImage:Jv},Symbol.toStringTag,{value:"Module"})),im={...wC,...NC,...WC,...jC,...OC,...qC,...FC},UC={searchTerms:null,items:[],isFocus:!1,isOpen:!1},YC={},$C={nodeSourceSearchEnableFocus({commit:t}){t(ov)},nodeSourceSearchDisableFocus({commit:t}){t(av)},nodeSourceSearchEscape({commit:t}){t(bs)},nodesSourceSearchUpdate({commit:t},e=""){if(!e||e.length<=1){t(nv);return}t(tv,{searchTerms:e}),im.getNodesSourceFromSearch(e).then(n=>{t(iv,{items:n})}).catch(()=>{t(rv)})}},GC={[ov](t){t.isFocus=!0},[av](t){t.isFocus=!1},[tv](t,{searchTerms:e}){t.searchTerms=e},[iv](t,{items:e}){t.items=e},[rv](t){t.items=[]},[nv](t){t.items=[]},[bs](t){t.items=[],t.isFocus=!1}},ZC={state:UC,getters:YC,actions:$C,mutations:GC};function Fh(t,e,n=0,a="[]"){if(t&&t.length&&t.length>e+a.length){let l=t.substr(0,Math.floor(e/2)+Math.floor(n/2)),u=t.substr(Math.floor(e/2)*-1+Math.floor(n/2));return l+a+u}else return t}function XC(t,e,n=0,a=""){return t&&t.length&&t.length>e?t.substr(0,e+n)+a:t}const VC={centralTruncate:Fh,truncate:XC};function Nn(t,e,n,a,l,u,f,h){var b=typeof t=="function"?t.options:t;return e&&(b.render=e,b.staticRenderFns=n,b._compiled=!0),u&&(b._scopeId="data-v-"+u),{exports:t,options:b}}const KC={props:["title","href","typeColor"],methods:{onItemClick:function(t){window.Rozier.lazyload.onClick(t),this.$store.commit(bs)}}};var QC=function(){var e=this,n=e._self._c;return n("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(a){return a.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},JC=[],eE=Nn(KC,QC,JC,!1,null,null);const nm=eE.exports,eb={bind(t,e){let n=new Image;n.src=e.value,n.onload=async()=>{t.src=e.value,await gl(t,1e3)}}},tE={props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],directives:{DynamicImg:eb},filters:VC,computed:{shortMimeType:function(){return Fh(this.document.shortMimeType,13)},filename:function(){return Fh(this.document.classname,12)},name:function(){return Fh(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...js(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen({document:this.item})},onMouseover(){this.documentPreviewInit({document:this.item})},onMouseleave(){this.documentPreviewDestroy({document:this.item})}},components:{AjaxLink:nm}};var iE=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.document?n("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[n("div",{staticClass:"preview-zoom",on:{click:function(a){return a.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-search-plus"})]),n("div",{on:{click:function(a){return a.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[n("div",{staticClass:"uk-sortable-handle"}),n("div",{staticClass:"document-border"}),n("div",{staticClass:"document-overflow"},[e.document.isPrivate?[n("div",{staticClass:"document-platform-icon"},[n("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[n("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[n("picture",[n("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),n("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e.drawerName&&e.entityName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),e.hotspot?n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}):e._e(),e.imageCropAlignment?n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}}):e._e()]:e.drawerName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),n("div",{staticClass:"document-links"},[n("ajax-link",{staticClass:"uk-button document-link uk-button-mini",attrs:{href:e.editUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]),n("a",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e.document.embedPlatform?[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-"+e.document.icon})])]:[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])],2),n("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},nE=[],rE=Nn(tE,iE,nE,!1,null,null);const jg=rE.exports,oE={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:nm}};var aE=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.item?n("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":e.published===!1},on:{click:function(a){return a.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[n("div",{staticClass:"uk-sortable-handle"}),n("div",{staticClass:"border",style:{backgroundColor:e.color}}),e.thumbnailUrl&&!e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail"},[n("picture",[n("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),n("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),n("div",{staticClass:"names"},[e.parentName?n("p",{staticClass:"parent-name"},[e.subParentName?[n("span",{staticClass:"sub"},[e._v(" "+e._s(e.subParentName)+" ")])]:e._e(),n("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),n("span",{staticClass:"name"},[e._v(e._s(e.name))]),e.inputName&&e.item&&e.item.id?n("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),n("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?n("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),n("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},sE=[],uE=Nn(oE,aE,sE,!1,null,null);const lE=uE.exports,cE={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:lE}};var fE=function(){var e=this,n=e._self._c;return n("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},hE=[],dE=Nn(cE,fE,hE,!1,null,null);const qg=dE.exports,pE={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var mE=function(){var e=this,n=e._self._c;return n("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),n("div",{staticClass:"new-tag"},[n("p",{staticClass:"parent-name"}),n("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},gE=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],vE=Nn(pE,mE,gE,!1,null,"22f18d8b");const bE=vE.exports,yE={mounted(){this.tagCreatorReady()},computed:{...ps({translations:t=>t.translations,searchTerms:t=>t.explorer.searchTerms,isTagExisting:t=>t.tags.isTagExisting})},methods:{...js(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:bE}};var _E=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?n("div",{staticClass:"tag-creator"},[n("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),n("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},wE=[],xE=Nn(yE,_E,wE,!1,null,"bd268ee8");const kE=xE.exports;class Sp{static getState(e){const n={trans:{moreItems:""}};switch(n.isFilterEnable=!1,n.currentListingView=qg,n.trans.moreItems="moreEntities",e){case cc:n.currentListingView=jg,n.filterExplorerIcon="uk-icon-rz-folder-tree-mini",n.trans.moreItems="moreDocuments",n.isFilterEnable=!0;break;case xf:n.filterExplorerIcon="uk-icon-tags",n.trans.moreItems="moreNodes",n.isFilterEnable=!0;break;case tm:n.trans.moreItems="moreNodeTypes";break;case fc:n.trans.moreItems="moreTags",n.isFilterEnable=!0,n.filterExplorerIcon="uk-icon-tags";break;default:n.trans.moreItems="moreEntities";break}return n}static getListingView(e){switch(e){case cc:return jg;default:return qg}}static getWidgetView(e){switch(e){case fc:return kE;default:return null}}}const tb={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},ib={...tb},CE={getExplorerEntity:t=>t.entity,getExplorerSearchTerms:t=>t.searchTerms},EE={async explorerOpen({commit:t,dispatch:e},{entity:n}){e("filterExplorerClose"),t(_p),t(lv,{entity:n}),await e("explorerMakeSearch"),t(hv)},explorerClose({commit:t,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),t(_p),t(Jp)},explorerToggle({dispatch:t,state:e}){e.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms({commit:t,state:e,dispatch:n}){const a="";e.searchTerms===a?t(Zh,{searchTerms:a}):n("explorerUpdateSearch",{searchTerms:a})},explorerUpdateSearch({commit:t,dispatch:e},{searchTerms:n}){t(Zh,{searchTerms:n}),e("explorerMakeSearch")},explorerMakeSearch({commit:t,state:e,getters:n}){const a=e.entity,l=e.searchTerms,u=n.getDrawerFilters,f=e.filters,h=n.getFilterExplorerSelectedItem,b=e.isLoadingMore;return t(sv),im.getExplorerItems({entity:a,searchTerms:l,preFilters:u,filters:f,filterExplorerSelection:h,moreData:b}).then(x=>{t(Qp,{result:x})}).catch(x=>{console.error(x),t(uv,{error:x})})},async explorerLoadMore({commit:t,dispatch:e}){t(cv),await e("explorerMakeSearch"),t(fv)}},SE={[sv](t){t.isLoadingMore||(t.isLoading=!0)},[Zh](t,{searchTerms:e}){t.searchTerms=e},[Qp](t,{result:e}){t.isLoading=!1,t.isLoadingMore?t.items=[...t.items,...e.items]:t.items=e.items,t.filters=e.filters},[cv](t){t.isLoadingMore=!0},[fv](t){t.isLoadingMore=!1},[em](t){t.filters={}},[_p](t){for(let e in t)t.hasOwnProperty(e)&&sc.set(t,e,tb[e])},[uv](t){t.isLoading=!1,t.isLoadingMore=!1,t.error="Request failed"},[lv](t,{entity:e}){t.isOpen=!0,t.isLoading=!0,t.entity=e,t.trans.moreItems="",t.widgetView=Sp.getWidgetView(e);const n=Sp.getState(e);for(let a in n)t.hasOwnProperty(a)&&sc.set(t,a,n[a])},[hv](t){t.isLoading=!1},[Jp](t){t.isOpen=!1,t.isLoading=!1},[bs](){ib.isOpen=!1}},TE={state:ib,getters:CE,actions:EE,mutations:SE};var ef={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var AE=ef.exports,Ug;function DE(){return Ug||(Ug=1,function(t,e){(function(){var n,a="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",h="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",x=500,w="__lodash_placeholder__",k=1,A=2,H=4,N=1,q=2,j=1,O=2,S=4,P=8,W=16,I=32,G=64,J=128,ue=256,de=512,ge=30,ce="...",Te=800,ve=16,ne=1,D=2,se=3,ye=1/0,Ee=9007199254740991,et=17976931348623157e292,Ie=NaN,Me=4294967295,ie=Me-1,Y=Me>>>1,Le=[["ary",J],["bind",j],["bindKey",O],["curry",P],["curryRight",W],["flip",de],["partial",I],["partialRight",G],["rearg",ue]],Re="[object Arguments]",V="[object Array]",we="[object AsyncFunction]",Ae="[object Boolean]",qe="[object Date]",Ze="[object DOMException]",Xe="[object Error]",ut="[object Function]",Et="[object GeneratorFunction]",wt="[object Map]",St="[object Number]",yt="[object Null]",Mt="[object Object]",Ut="[object Promise]",Kt="[object Proxy]",X="[object RegExp]",le="[object Set]",Q="[object String]",he="[object Symbol]",pe="[object Undefined]",Be="[object WeakMap]",ot="[object WeakSet]",Qe="[object ArrayBuffer]",mt="[object DataView]",Pt="[object Float32Array]",ct="[object Float64Array]",Wt="[object Int8Array]",$t="[object Int16Array]",Qt="[object Int32Array]",Vt="[object Uint8Array]",xt="[object Uint8ClampedArray]",Yn="[object Uint16Array]",Yt="[object Uint32Array]",mr=/\b__p \+= '';/g,Rt=/\b(__p \+=) '' \+/g,sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_i=/&(?:amp|lt|gt|quot|#39);/g,Ri=/[&<>"']/g,pi=RegExp(_i.source),wi=RegExp(Ri.source),ui=/<%-([\s\S]+?)%>/g,si=/<%([\s\S]+?)%>/g,Bi=/<%=([\s\S]+?)%>/g,eo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hi=/^\w*$/,Rr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wi=/[\\^$.*+?()[\]{}|]/g,Ki=RegExp(Wi.source),gr=/^\s+/,En=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vr=/\{\n\/\* \[wrapped with (.+)\] \*/,$n=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nr=/[()=,{}\[\]\/\s]/,Ur=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qi=/\w*$/,rr=/^[-+]0x[0-9a-f]+$/i,or=/^0b[01]+$/i,Sn=/^\[object .+?Constructor\]$/,to=/^0o[0-7]+$/i,io=/^(?:0|[1-9]\d*)$/,xr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tn=/($^)/,Nr=/['\n\r\u2028\u2029\\]/g,bn="\\ud800-\\udfff",ho="\\u0300-\\u036f",Zn="\\ufe20-\\ufe2f",Ui="\\u20d0-\\u20ff",Lt=ho+Zn+Ui,Xn="\\u2700-\\u27bf",ar="a-z\\xdf-\\xf6\\xf8-\\xff",zn="\\xac\\xb1\\xd7\\xf7",ee="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xe="\\u2000-\\u206f",We=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ue="\\ufe0e\\ufe0f",pt=zn+ee+xe+We,ni="[']",Yi="["+bn+"]",Nt="["+pt+"]",li="["+Lt+"]",po="\\d+",jt="["+Xn+"]",ke="["+ar+"]",y="[^"+bn+pt+po+Xn+ar+nt+"]",T="\\ud83c[\\udffb-\\udfff]",R="(?:"+li+"|"+T+")",re="[^"+bn+"]",ae="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+nt+"]",Je="\\u200d",tt="(?:"+ke+"|"+y+")",Ve="(?:"+Oe+"|"+y+")",Ke="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",ft="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",fi=R+"?",hi="["+Ue+"]?",ji="(?:"+Je+"(?:"+[re,ae,_e].join("|")+")"+hi+fi+")*",Ei="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fn=hi+fi+ji,Ft="(?:"+[jt,ae,_e].join("|")+")"+fn,rn="(?:"+[re+li+"?",li,ae,_e,Yi].join("|")+")",ri=RegExp(ni,"g"),gt=RegExp(li,"g"),xi=RegExp(T+"(?="+T+")|"+rn+fn,"g"),on=RegExp([Oe+"?"+ke+"+"+Ke+"(?="+[Nt,Oe,"$"].join("|")+")",Ve+"+"+ft+"(?="+[Nt,Oe+tt,"$"].join("|")+")",Oe+"?"+tt+"+"+Ke,Oe+"+"+ft,Pi,Ei,po,Ft].join("|"),"g"),sr=RegExp("["+Je+bn+Lt+Ue+"]"),An=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zr=-1,Zt={};Zt[Pt]=Zt[ct]=Zt[Wt]=Zt[$t]=Zt[Qt]=Zt[Vt]=Zt[xt]=Zt[Yn]=Zt[Yt]=!0,Zt[Re]=Zt[V]=Zt[Qe]=Zt[Ae]=Zt[mt]=Zt[qe]=Zt[Xe]=Zt[ut]=Zt[wt]=Zt[St]=Zt[Mt]=Zt[X]=Zt[le]=Zt[Q]=Zt[Be]=!1;var oi={};oi[Re]=oi[V]=oi[Qe]=oi[mt]=oi[Ae]=oi[qe]=oi[Pt]=oi[ct]=oi[Wt]=oi[$t]=oi[Qt]=oi[wt]=oi[St]=oi[Mt]=oi[X]=oi[le]=oi[Q]=oi[he]=oi[Vt]=oi[xt]=oi[Yn]=oi[Yt]=!0,oi[Xe]=oi[ut]=oi[Be]=!1;var yn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ir={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_a={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xo=parseFloat,wa=parseInt,Ba=typeof gh=="object"&&gh&&gh.Object===Object&&gh,gi=typeof self=="object"&&self&&self.Object===Object&&self,Ni=Ba||gi||Function("return this")(),br=e&&!e.nodeType&&e,Br=br&&!0&&t&&!t.nodeType&&t,ys=Br&&Br.exports===br,Us=ys&&Ba.process,hn=function(){try{var Ne=Br&&Br.require&&Br.require("util").types;return Ne||Us&&Us.binding&&Us.binding("util")}catch{}}(),Ys=hn&&hn.isArrayBuffer,no=hn&&hn.isDate,_s=hn&&hn.isMap,$s=hn&&hn.isRegExp,Ao=hn&&hn.isSet,yl=hn&&hn.isTypedArray;function un(Ne,it,Ye){switch(Ye.length){case 0:return Ne.call(it);case 1:return Ne.call(it,Ye[0]);case 2:return Ne.call(it,Ye[0],Ye[1]);case 3:return Ne.call(it,Ye[0],Ye[1],Ye[2])}return Ne.apply(it,Ye)}function pc(Ne,it,Ye,At){for(var Jt=-1,Si=Ne==null?0:Ne.length;++Jt<Si;){var _n=Ne[Jt];it(At,_n,Ye(_n),Ne)}return At}function Hr(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length;++Ye<At&&it(Ne[Ye],Ye,Ne)!==!1;);return Ne}function Do(Ne,it){for(var Ye=Ne==null?0:Ne.length;Ye--&&it(Ne[Ye],Ye,Ne)!==!1;);return Ne}function Gs(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length;++Ye<At;)if(!it(Ne[Ye],Ye,Ne))return!1;return!0}function Lo(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length,Jt=0,Si=[];++Ye<At;){var _n=Ne[Ye];it(_n,Ye,Ne)&&(Si[Jt++]=_n)}return Si}function Ha(Ne,it){var Ye=Ne==null?0:Ne.length;return!!Ye&&en(Ne,it,0)>-1}function Bu(Ne,it,Ye){for(var At=-1,Jt=Ne==null?0:Ne.length;++At<Jt;)if(Ye(it,Ne[At]))return!0;return!1}function Ji(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length,Jt=Array(At);++Ye<At;)Jt[Ye]=it(Ne[Ye],Ye,Ne);return Jt}function mo(Ne,it){for(var Ye=-1,At=it.length,Jt=Ne.length;++Ye<At;)Ne[Jt+Ye]=it[Ye];return Ne}function Hu(Ne,it,Ye,At){var Jt=-1,Si=Ne==null?0:Ne.length;for(At&&Si&&(Ye=Ne[++Jt]);++Jt<Si;)Ye=it(Ye,Ne[Jt],Jt,Ne);return Ye}function _l(Ne,it,Ye,At){var Jt=Ne==null?0:Ne.length;for(At&&Jt&&(Ye=Ne[--Jt]);Jt--;)Ye=it(Ye,Ne[Jt],Jt,Ne);return Ye}function Vo(Ne,it){for(var Ye=-1,At=Ne==null?0:Ne.length;++Ye<At;)if(it(Ne[Ye],Ye,Ne))return!0;return!1}var Wa=Zs("length");function wl(Ne){return Ne.split("")}function xl(Ne){return Ne.match(Gn)||[]}function ws(Ne,it,Ye){var At;return Ye(Ne,function(Jt,Si,_n){if(it(Jt,Si,_n))return At=Si,!1}),At}function kr(Ne,it,Ye,At){for(var Jt=Ne.length,Si=Ye+(At?1:-1);At?Si--:++Si<Jt;)if(it(Ne[Si],Si,Ne))return Si;return-1}function en(Ne,it,Ye){return it===it?ka(Ne,it,Ye):kr(Ne,Cr,Ye)}function xs(Ne,it,Ye,At){for(var Jt=Ye-1,Si=Ne.length;++Jt<Si;)if(At(Ne[Jt],it))return Jt;return-1}function Cr(Ne){return Ne!==Ne}function xa(Ne,it){var Ye=Ne==null?0:Ne.length;return Ye?Ks(Ne,it)/Ye:Ie}function Zs(Ne){return function(it){return it==null?n:it[Ne]}}function Xs(Ne){return function(it){return Ne==null?n:Ne[it]}}function Vs(Ne,it,Ye,At,Jt){return Jt(Ne,function(Si,_n,qi){Ye=At?(At=!1,Si):it(Ye,Si,_n,qi)}),Ye}function ks(Ne,it){var Ye=Ne.length;for(Ne.sort(it);Ye--;)Ne[Ye]=Ne[Ye].value;return Ne}function Ks(Ne,it){for(var Ye,At=-1,Jt=Ne.length;++At<Jt;){var Si=it(Ne[At]);Si!==n&&(Ye=Ye===n?Si:Ye+Si)}return Ye}function Wu(Ne,it){for(var Ye=-1,At=Array(Ne);++Ye<Ne;)At[Ye]=it(Ye);return At}function kl(Ne,it){return Ji(it,function(Ye){return[Ye,Ne[Ye]]})}function ju(Ne){return Ne&&Ne.slice(0,eu(Ne)+1).replace(gr,"")}function tn(Ne){return function(it){return Ne(it)}}function Ko(Ne,it){return Ji(it,function(Ye){return Ne[Ye]})}function Mo(Ne,it){return Ne.has(it)}function In(Ne,it){for(var Ye=-1,At=Ne.length;++Ye<At&&en(it,Ne[Ye],0)>-1;);return Ye}function Cs(Ne,it){for(var Ye=Ne.length;Ye--&&en(it,Ne[Ye],0)>-1;);return Ye}function Qo(Ne,it){for(var Ye=Ne.length,At=0;Ye--;)Ne[Ye]===it&&++At;return At}var Cl=Xs(yn),Er=Xs(Ir);function Jo(Ne){return"\\"+_a[Ne]}function ja(Ne,it){return Ne==null?n:Ne[it]}function qa(Ne){return sr.test(Ne)}function Po(Ne){return An.test(Ne)}function Qs(Ne){for(var it,Ye=[];!(it=Ne.next()).done;)Ye.push(it.value);return Ye}function Js(Ne){var it=-1,Ye=Array(Ne.size);return Ne.forEach(function(At,Jt){Ye[++it]=[Jt,At]}),Ye}function Ua(Ne,it){return function(Ye){return Ne(it(Ye))}}function Wr(Ne,it){for(var Ye=-1,At=Ne.length,Jt=0,Si=[];++Ye<At;){var _n=Ne[Ye];(_n===it||_n===w)&&(Ne[Ye]=w,Si[Jt++]=Ye)}return Si}function dn(Ne){var it=-1,Ye=Array(Ne.size);return Ne.forEach(function(At){Ye[++it]=At}),Ye}function El(Ne){var it=-1,Ye=Array(Ne.size);return Ne.forEach(function(At){Ye[++it]=[At,At]}),Ye}function ka(Ne,it,Ye){for(var At=Ye-1,Jt=Ne.length;++At<Jt;)if(Ne[At]===it)return At;return-1}function mc(Ne,it,Ye){for(var At=Ye+1;At--;)if(Ne[At]===it)return At;return At}function Sr(Ne){return qa(Ne)?ea(Ne):Wa(Ne)}function Tr(Ne){return qa(Ne)?iu(Ne):wl(Ne)}function eu(Ne){for(var it=Ne.length;it--&&En.test(Ne.charAt(it)););return it}var tu=Xs(Zo);function ea(Ne){for(var it=xi.lastIndex=0;xi.test(Ne);)++it;return it}function iu(Ne){return Ne.match(xi)||[]}function Es(Ne){return Ne.match(on)||[]}var ta=function Ne(it){it=it==null?Ni:$r.defaults(Ni.Object(),it,$r.pick(Ni,Yr));var Ye=it.Array,At=it.Date,Jt=it.Error,Si=it.Function,_n=it.Math,qi=it.Object,Ss=it.RegExp,go=it.String,yr=it.TypeError,nu=Ye.prototype,vo=Si.prototype,ro=qi.prototype,bo=it["__core-js_shared__"],Ya=vo.toString,Ci=ro.hasOwnProperty,Sl=0,Oo=function(){var c=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),oo=ro.toString,ia=Ya.call(qi),_r=Ni._,ur=Ss("^"+Ya.call(Ci).replace(Wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gr=ys?it.Buffer:n,Zr=it.Symbol,na=it.Uint8Array,qu=Gr?Gr.allocUnsafe:n,ao=Ua(qi.getPrototypeOf,qi),Ca=qi.create,Ts=ro.propertyIsEnumerable,ra=nu.splice,Tl=Zr?Zr.isConcatSpreadable:n,oa=Zr?Zr.iterator:n,Fo=Zr?Zr.toStringTag:n,Ea=function(){try{var c=is(qi,"defineProperty");return c({},"",{}),c}catch{}}(),ru=it.clearTimeout!==Ni.clearTimeout&&it.clearTimeout,Sa=At&&At.now!==Ni.Date.now&&At.now,ou=it.setTimeout!==Ni.setTimeout&&it.setTimeout,$a=_n.ceil,aa=_n.floor,Uu=qi.getOwnPropertySymbols,o=Gr?Gr.isBuffer:n,m=it.isFinite,_=nu.join,M=Ua(qi.keys,qi),U=_n.max,oe=_n.min,De=At.now,je=it.parseInt,$e=_n.random,lt=nu.reverse,Ct=is(it,"DataView"),It=is(it,"Map"),ai=is(it,"Promise"),Zi=is(it,"Set"),Xi=is(it,"WeakMap"),pn=is(qi,"create"),Bn=Xi&&new Xi,Xr={},Al=Ln(Ct),gc=Ln(It),Ta=Ln(ai),sa=Ln(Zi),vc=Ln(Xi),As=Zr?Zr.prototype:n,nn=As?As.valueOf:n,Ds=As?As.toString:n;function fe(c){if(Wn(c)&&!mi(c)&&!(c instanceof Gt)){if(c instanceof Di)return c;if(Ci.call(c,"__wrapped__"))return Dr(c)}return new Di(c)}var Ga=function(){function c(){}return function(g){if(!On(g))return{};if(Ca)return Ca(g);c.prototype=g;var C=new c;return c.prototype=n,C}}();function Vn(){}function Di(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}fe.templateSettings={escape:ui,evaluate:si,interpolate:Bi,variable:"",imports:{_:fe}},fe.prototype=Vn.prototype,fe.prototype.constructor=fe,Di.prototype=Ga(Vn.prototype),Di.prototype.constructor=Di;function Gt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function Dn(){var c=new Gt(this.__wrapped__);return c.__actions__=Vr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Vr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Vr(this.__views__),c}function Yu(){if(this.__filtered__){var c=new Gt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ud(){var c=this.__wrapped__.value(),g=this.__dir__,C=mi(c),z=g<0,te=C?c.length:0,me=Dd(0,te,this.__views__),Se=me.start,Pe=me.end,He=Pe-Se,at=z?Pe:Se-1,st=this.__iteratees__,ht=st.length,Dt=0,qt=oe(He,this.__takeCount__);if(!C||!z&&te==He&&qt==He)return Qu(c,this.__actions__);var ei=[];e:for(;He--&&Dt<qt;){at+=g;for(var ki=-1,ti=c[at];++ki<ht;){var Ai=st[ki],Fi=Ai.iteratee,jo=Ai.type,co=Fi(ti);if(jo==D)ti=co;else if(!co){if(jo==ne)continue e;break e}}ei[Dt++]=ti}return ei}Gt.prototype=Ga(Vn.prototype),Gt.prototype.constructor=Gt;function ua(c){var g=-1,C=c==null?0:c.length;for(this.clear();++g<C;){var z=c[g];this.set(z[0],z[1])}}function ld(){this.__data__=pn?pn(null):{},this.size=0}function cd(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function fd(c){var g=this.__data__;if(pn){var C=g[c];return C===b?n:C}return Ci.call(g,c)?g[c]:n}function bc(c){var g=this.__data__;return pn?g[c]!==n:Ci.call(g,c)}function Ef(c,g){var C=this.__data__;return this.size+=this.has(c)?0:1,C[c]=pn&&g===n?b:g,this}ua.prototype.clear=ld,ua.prototype.delete=cd,ua.prototype.get=fd,ua.prototype.has=bc,ua.prototype.set=Ef;function Ro(c){var g=-1,C=c==null?0:c.length;for(this.clear();++g<C;){var z=c[g];this.set(z[0],z[1])}}function hd(){this.__data__=[],this.size=0}function yc(c){var g=this.__data__,C=su(g,c);if(C<0)return!1;var z=g.length-1;return C==z?g.pop():ra.call(g,C,1),--this.size,!0}function _c(c){var g=this.__data__,C=su(g,c);return C<0?n:g[C][1]}function Sf(c){return su(this.__data__,c)>-1}function Tf(c,g){var C=this.__data__,z=su(C,c);return z<0?(++this.size,C.push([c,g])):C[z][1]=g,this}Ro.prototype.clear=hd,Ro.prototype.delete=yc,Ro.prototype.get=_c,Ro.prototype.has=Sf,Ro.prototype.set=Tf;function No(c){var g=-1,C=c==null?0:c.length;for(this.clear();++g<C;){var z=c[g];this.set(z[0],z[1])}}function Af(){this.size=0,this.__data__={hash:new ua,map:new(It||Ro),string:new ua}}function $u(c){var g=ll(this,c).delete(c);return this.size-=g?1:0,g}function dd(c){return ll(this,c).get(c)}function Dl(c){return ll(this,c).has(c)}function Aa(c,g){var C=ll(this,c),z=C.size;return C.set(c,g),this.size+=C.size==z?0:1,this}No.prototype.clear=Af,No.prototype.delete=$u,No.prototype.get=dd,No.prototype.has=Dl,No.prototype.set=Aa;function Za(c){var g=-1,C=c==null?0:c.length;for(this.__data__=new No;++g<C;)this.add(c[g])}function pd(c){return this.__data__.set(c,b),this}function Df(c){return this.__data__.has(c)}Za.prototype.add=Za.prototype.push=pd,Za.prototype.has=Df;function mn(c){var g=this.__data__=new Ro(c);this.size=g.size}function zi(){this.__data__=new Ro,this.size=0}function zo(c){var g=this.__data__,C=g.delete(c);return this.size=g.size,C}function Xa(c){return this.__data__.get(c)}function Va(c){return this.__data__.has(c)}function Lf(c,g){var C=this.__data__;if(C instanceof Ro){var z=C.__data__;if(!It||z.length<l-1)return z.push([c,g]),this.size=++C.size,this;C=this.__data__=new No(z)}return C.set(c,g),this.size=C.size,this}mn.prototype.clear=zi,mn.prototype.delete=zo,mn.prototype.get=Xa,mn.prototype.has=Va,mn.prototype.set=Lf;function Ll(c,g){var C=mi(c),z=!C&&cl(c),te=!C&&!z&&Su(c),me=!C&&!z&&!te&&Gl(c),Se=C||z||te||me,Pe=Se?Wu(c.length,go):[],He=Pe.length;for(var at in c)(g||Ci.call(c,at))&&!(Se&&(at=="length"||te&&(at=="offset"||at=="parent")||me&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||p(at,He)))&&Pe.push(at);return Pe}function wc(c){var g=c.length;return g?c[Rl(0,g-1)]:n}function md(c,g){return xn(Vr(c),La(g,0,c.length))}function xc(c){return xn(Vr(c))}function Ls(c,g,C){(C!==n&&!Pa(c[g],C)||C===n&&!(g in c))&&Da(c,g,C)}function au(c,g,C){var z=c[g];(!(Ci.call(c,g)&&Pa(z,C))||C===n&&!(g in c))&&Da(c,g,C)}function su(c,g){for(var C=c.length;C--;)if(Pa(c[C][0],g))return C;return-1}function Ka(c,g,C,z){return Io(c,function(te,me,Se){g(z,te,C(te),Se)}),z}function kc(c,g){return c&&Ho(g,Mr(g),c)}function Mf(c,g){return c&&Ho(g,xo(g),c)}function Da(c,g,C){g=="__proto__"&&Ea?Ea(c,g,{configurable:!0,enumerable:!0,value:C,writable:!0}):c[g]=C}function uu(c,g){for(var C=-1,z=g.length,te=Ye(z),me=c==null;++C<z;)te[C]=me?n:zd(c,g[C]);return te}function La(c,g,C){return c===c&&(C!==n&&(c=c<=C?c:C),g!==n&&(c=c>=g?c:g)),c}function so(c,g,C,z,te,me){var Se,Pe=g&k,He=g&A,at=g&H;if(C&&(Se=te?C(c,z,te,me):C(c)),Se!==n)return Se;if(!On(c))return c;var st=mi(c);if(st){if(Se=Ld(c),!Pe)return Vr(c,Se)}else{var ht=Jn(c),Dt=ht==ut||ht==Et;if(Su(c))return Fc(c,Pe);if(ht==Mt||ht==Re||Dt&&!te){if(Se=He||Dt?{}:sh(c),!Pe)return He?Ed(c,Mf(Se,c)):Kf(c,kc(Se,c))}else{if(!oi[ht])return te?c:{};Se=$l(c,ht,Pe)}}me||(me=new mn);var qt=me.get(c);if(qt)return qt;me.set(c,Se),Dm(c)?c.forEach(function(ti){Se.add(so(ti,g,C,ti,c,me))}):Tm(c)&&c.forEach(function(ti,Ai){Se.set(Ai,so(ti,g,C,Ai,c,me))});var ei=at?He?Yl:Ul:He?xo:Mr,ki=st?n:ei(c);return Hr(ki||c,function(ti,Ai){ki&&(Ai=ti,ti=c[Ai]),au(Se,Ai,so(ti,g,C,Ai,c,me))}),Se}function gd(c){var g=Mr(c);return function(C){return Cc(C,c,g)}}function Cc(c,g,C){var z=C.length;if(c==null)return!z;for(c=qi(c);z--;){var te=C[z],me=g[te],Se=c[te];if(Se===n&&!(te in c)||!me(Se))return!1}return!0}function Pf(c,g,C){if(typeof c!="function")throw new yr(f);return Bt(function(){c.apply(n,C)},g)}function Gu(c,g,C,z){var te=-1,me=Ha,Se=!0,Pe=c.length,He=[],at=g.length;if(!Pe)return He;C&&(g=Ji(g,tn(C))),z?(me=Bu,Se=!1):g.length>=l&&(me=Mo,Se=!1,g=new Za(g));e:for(;++te<Pe;){var st=c[te],ht=C==null?st:C(st);if(st=z||st!==0?st:0,Se&&ht===ht){for(var Dt=at;Dt--;)if(g[Dt]===ht)continue e;He.push(st)}else me(g,ht,z)||He.push(st)}return He}var Io=_u(yo),Ec=_u(Pl,!0);function vd(c,g){var C=!0;return Io(c,function(z,te,me){return C=!!g(z,te,me),C}),C}function Ml(c,g,C){for(var z=-1,te=c.length;++z<te;){var me=c[z],Se=g(me);if(Se!=null&&(Pe===n?Se===Se&&!Wo(Se):C(Se,Pe)))var Pe=Se,He=me}return He}function Of(c,g,C,z){var te=c.length;for(C=yi(C),C<0&&(C=-C>te?0:te+C),z=z===n||z>te?te:yi(z),z<0&&(z+=te),z=C>z?0:Mm(z);C<z;)c[C++]=g;return c}function Ms(c,g){var C=[];return Io(c,function(z,te,me){g(z,te,me)&&C.push(z)}),C}function Kn(c,g,C,z,te){var me=-1,Se=c.length;for(C||(C=s),te||(te=[]);++me<Se;){var Pe=c[me];g>0&&C(Pe)?g>1?Kn(Pe,g-1,C,z,te):mo(te,Pe):z||(te[te.length]=Pe)}return te}var lu=Qf(),Sc=Qf(!0);function yo(c,g){return c&&lu(c,g,Mr)}function Pl(c,g){return c&&Sc(c,g,Mr)}function Ol(c,g){return Lo(g,function(C){return Is(c[C])})}function Qa(c,g){g=ts(g,c);for(var C=0,z=g.length;c!=null&&C<z;)c=c[gn(g[C++])];return C&&C==z?c:n}function lr(c,g,C){var z=g(c);return mi(c)?z:mo(z,C(c))}function cr(c){return c==null?c===n?pe:yt:Fo&&Fo in qi(c)?Ad(c):rt(c)}function Fl(c,g){return c>g}function Ff(c,g){return c!=null&&Ci.call(c,g)}function Rf(c,g){return c!=null&&g in qi(c)}function cu(c,g,C){return c>=oe(g,C)&&c<U(g,C)}function fu(c,g,C){for(var z=C?Bu:Ha,te=c[0].length,me=c.length,Se=me,Pe=Ye(me),He=1/0,at=[];Se--;){var st=c[Se];Se&&g&&(st=Ji(st,tn(g))),He=oe(st.length,He),Pe[Se]=!C&&(g||te>=120&&st.length>=120)?new Za(Se&&st):n}st=c[0];var ht=-1,Dt=Pe[0];e:for(;++ht<te&&at.length<He;){var qt=st[ht],ei=g?g(qt):qt;if(qt=C||qt!==0?qt:0,!(Dt?Mo(Dt,ei):z(at,ei,C))){for(Se=me;--Se;){var ki=Pe[Se];if(!(ki?Mo(ki,ei):z(c[Se],ei,C)))continue e}Dt&&Dt.push(ei),at.push(qt)}}return at}function Nf(c,g,C,z){return yo(c,function(te,me,Se){g(z,C(te),me,Se)}),z}function hu(c,g,C){g=ts(g,c),c=bt(c,g);var z=c==null?c:c[gn(pa(g))];return z==null?n:un(z,c,C)}function Tc(c){return Wn(c)&&cr(c)==Re}function du(c){return Wn(c)&&cr(c)==Qe}function zf(c){return Wn(c)&&cr(c)==qe}function Ja(c,g,C,z,te){return c===g?!0:c==null||g==null||!Wn(c)&&!Wn(g)?c!==c&&g!==g:If(c,g,C,z,Ja,te)}function If(c,g,C,z,te,me){var Se=mi(c),Pe=mi(g),He=Se?V:Jn(c),at=Pe?V:Jn(g);He=He==Re?Mt:He,at=at==Re?Mt:at;var st=He==Mt,ht=at==Mt,Dt=He==at;if(Dt&&Su(c)){if(!Su(g))return!1;Se=!0,st=!1}if(Dt&&!st)return me||(me=new mn),Se||Gl(c)?_o(c,g,C,z,te,me):ql(c,g,He,C,z,te,me);if(!(C&N)){var qt=st&&Ci.call(c,"__wrapped__"),ei=ht&&Ci.call(g,"__wrapped__");if(qt||ei){var ki=qt?c.value():c,ti=ei?g.value():g;return me||(me=new mn),te(ki,ti,C,z,me)}}return Dt?(me||(me=new mn),Wc(c,g,C,z,te,me)):!1}function Zu(c){return Wn(c)&&Jn(c)==wt}function Ac(c,g,C,z){var te=C.length,me=te,Se=!z;if(c==null)return!me;for(c=qi(c);te--;){var Pe=C[te];if(Se&&Pe[2]?Pe[1]!==c[Pe[0]]:!(Pe[0]in c))return!1}for(;++te<me;){Pe=C[te];var He=Pe[0],at=c[He],st=Pe[1];if(Se&&Pe[2]){if(at===n&&!(He in c))return!1}else{var ht=new mn;if(z)var Dt=z(at,st,He,c,g,ht);if(!(Dt===n?Ja(st,at,N|q,z,ht):Dt))return!1}}return!0}function Ps(c){if(!On(c)||B(c))return!1;var g=Is(c)?ur:Sn;return g.test(Ln(c))}function Bf(c){return Wn(c)&&cr(c)==X}function Hf(c){return Wn(c)&&Jn(c)==le}function Wf(c){return Wn(c)&&dh(c.length)&&!!Zt[cr(c)]}function pu(c){return typeof c=="function"?c:c==null?ko:typeof c=="object"?mi(c)?Lc(c[0],c[1]):jf(c):jm(c)}function Os(c){if(!K(c))return M(c);var g=[];for(var C in qi(c))Ci.call(c,C)&&C!="constructor"&&g.push(C);return g}function Xu(c){if(!On(c))return Ge(c);var g=K(c),C=[];for(var z in c)z=="constructor"&&(g||!Ci.call(c,z))||C.push(z);return C}function Fs(c,g){return c<g}function Dc(c,g){var C=-1,z=wo(c)?Ye(c.length):[];return Io(c,function(te,me,Se){z[++C]=g(te,me,Se)}),z}function jf(c){var g=Ii(c);return g.length==1&&g[0][2]?Ce(g[0][0],g[0][1]):function(C){return C===c||Ac(C,c,g)}}function Lc(c,g){return v(c)&&be(g)?Ce(gn(c),g):function(C){var z=zd(C,c);return z===n&&z===g?Id(C,c):Ja(g,z,N|q)}}function Bo(c,g,C,z,te){c!==g&&lu(g,function(me,Se){if(te||(te=new mn),On(me))mu(c,g,Se,C,Bo,z,te);else{var Pe=z?z(vt(c,Se),me,Se+"",c,g,te):n;Pe===n&&(Pe=me),Ls(c,Se,Pe)}},xo)}function mu(c,g,C,z,te,me,Se){var Pe=vt(c,C),He=vt(g,C),at=Se.get(He);if(at){Ls(c,C,at);return}var st=me?me(Pe,He,C+"",c,g,Se):n,ht=st===n;if(ht){var Dt=mi(He),qt=!Dt&&Su(He),ei=!Dt&&!qt&&Gl(He);st=He,Dt||qt||ei?mi(Pe)?st=Pe:tr(Pe)?st=Vr(Pe):qt?(ht=!1,st=Fc(He,!0)):ei?(ht=!1,st=Rc(He,!0)):st=[]:Uc(He)||cl(He)?(st=Pe,cl(Pe)?st=Pm(Pe):(!On(Pe)||Is(Pe))&&(st=sh(He))):ht=!1}ht&&(Se.set(He,st),te(st,He,z,me,Se),Se.delete(He)),Ls(c,C,st)}function gu(c,g){var C=c.length;if(C)return g+=g<0?C:0,p(g,C)?c[g]:n}function qf(c,g,C){g.length?g=Ji(g,function(me){return mi(me)?function(Se){return Qa(Se,me.length===1?me[0]:me)}:me}):g=[ko];var z=-1;g=Ji(g,tn(Xt()));var te=Dc(c,function(me,Se,Pe){var He=Ji(g,function(at){return at(me)});return{criteria:He,index:++z,value:me}});return ks(te,function(me,Se){return Cd(me,Se,C)})}function Uf(c,g){return Yf(c,g,function(C,z){return Id(c,z)})}function Yf(c,g,C){for(var z=-1,te=g.length,me={};++z<te;){var Se=g[z],Pe=Qa(c,Se);C(Pe,Se)&&vu(me,ts(Se,c),Pe)}return me}function bd(c){return function(g){return Qa(g,c)}}function Mc(c,g,C,z){var te=z?xs:en,me=-1,Se=g.length,Pe=c;for(c===g&&(g=Vr(g)),C&&(Pe=Ji(c,tn(C)));++me<Se;)for(var He=0,at=g[me],st=C?C(at):at;(He=te(Pe,st,He,z))>-1;)Pe!==c&&ra.call(Pe,He,1),ra.call(c,He,1);return c}function Ar(c,g){for(var C=c?g.length:0,z=C-1;C--;){var te=g[C];if(C==z||te!==me){var me=te;p(te)?ra.call(c,te,1):Nl(c,te)}}return c}function Rl(c,g){return c+aa($e()*(g-c+1))}function yd(c,g,C,z){for(var te=-1,me=U($a((g-c)/(C||1)),0),Se=Ye(me);me--;)Se[z?me:++te]=c,c+=C;return Se}function Pc(c,g){var C="";if(!c||g<1||g>Ee)return C;do g%2&&(C+=c),g=aa(g/2),g&&(c+=c);while(g);return C}function bi(c,g){return zt(dt(c,g,ko),c+"")}function $f(c){return wc(Zl(c))}function Gf(c,g){var C=Zl(c);return xn(C,La(g,0,C.length))}function vu(c,g,C,z){if(!On(c))return c;g=ts(g,c);for(var te=-1,me=g.length,Se=me-1,Pe=c;Pe!=null&&++te<me;){var He=gn(g[te]),at=C;if(He==="__proto__"||He==="constructor"||He==="prototype")return c;if(te!=Se){var st=Pe[He];at=z?z(st,He,Pe):n,at===n&&(at=On(st)?st:p(g[te+1])?[]:{})}au(Pe,He,at),Pe=Pe[He]}return c}var Zf=Bn?function(c,g){return Bn.set(c,g),c}:ko,_d=Ea?function(c,g){return Ea(c,"toString",{configurable:!0,enumerable:!1,value:Hd(g),writable:!0})}:ko;function wd(c){return xn(Zl(c))}function Qn(c,g,C){var z=-1,te=c.length;g<0&&(g=-g>te?0:te+g),C=C>te?te:C,C<0&&(C+=te),te=g>C?0:C-g>>>0,g>>>=0;for(var me=Ye(te);++z<te;)me[z]=c[z+g];return me}function Vu(c,g){var C;return Io(c,function(z,te,me){return C=g(z,te,me),!C}),!!C}function Rs(c,g,C){var z=0,te=c==null?z:c.length;if(typeof g=="number"&&g===g&&te<=Y){for(;z<te;){var me=z+te>>>1,Se=c[me];Se!==null&&!Wo(Se)&&(C?Se<=g:Se<g)?z=me+1:te=me}return te}return Ns(c,g,ko,C)}function Ns(c,g,C,z){var te=0,me=c==null?0:c.length;if(me===0)return 0;g=C(g);for(var Se=g!==g,Pe=g===null,He=Wo(g),at=g===n;te<me;){var st=aa((te+me)/2),ht=C(c[st]),Dt=ht!==n,qt=ht===null,ei=ht===ht,ki=Wo(ht);if(Se)var ti=z||ei;else at?ti=ei&&(z||Dt):Pe?ti=ei&&Dt&&(z||!qt):He?ti=ei&&Dt&&!qt&&(z||!ki):qt||ki?ti=!1:ti=z?ht<=g:ht<g;ti?te=st+1:me=st}return oe(me,ie)}function la(c,g){for(var C=-1,z=c.length,te=0,me=[];++C<z;){var Se=c[C],Pe=g?g(Se):Se;if(!C||!Pa(Pe,He)){var He=Pe;me[te++]=Se===0?0:Se}}return me}function Xf(c){return typeof c=="number"?c:Wo(c)?Ie:+c}function uo(c){if(typeof c=="string")return c;if(mi(c))return Ji(c,uo)+"";if(Wo(c))return Ds?Ds.call(c):"";var g=c+"";return g=="0"&&1/c==-ye?"-0":g}function lo(c,g,C){var z=-1,te=Ha,me=c.length,Se=!0,Pe=[],He=Pe;if(C)Se=!1,te=Bu;else if(me>=l){var at=g?null:Td(c);if(at)return dn(at);Se=!1,te=Mo,He=new Za}else He=g?[]:Pe;e:for(;++z<me;){var st=c[z],ht=g?g(st):st;if(st=C||st!==0?st:0,Se&&ht===ht){for(var Dt=He.length;Dt--;)if(He[Dt]===ht)continue e;g&&He.push(ht),Pe.push(st)}else te(He,ht,C)||(He!==Pe&&He.push(ht),Pe.push(st))}return Pe}function Nl(c,g){return g=ts(g,c),c=bt(c,g),c==null||delete c[gn(pa(g))]}function Oc(c,g,C,z){return vu(c,g,C(Qa(c,g)),z)}function Ku(c,g,C,z){for(var te=c.length,me=z?te:-1;(z?me--:++me<te)&&g(c[me],me,c););return C?Qn(c,z?0:me,z?me+1:te):Qn(c,z?me+1:0,z?te:me)}function Qu(c,g){var C=c;return C instanceof Gt&&(C=C.value()),Hu(g,function(z,te){return te.func.apply(te.thisArg,mo([z],te.args))},C)}function es(c,g,C){var z=c.length;if(z<2)return z?lo(c[0]):[];for(var te=-1,me=Ye(z);++te<z;)for(var Se=c[te],Pe=-1;++Pe<z;)Pe!=te&&(me[te]=Gu(me[te]||Se,c[Pe],g,C));return lo(Kn(me,1),g,C)}function zl(c,g,C){for(var z=-1,te=c.length,me=g.length,Se={};++z<te;){var Pe=z<me?g[z]:n;C(Se,c[z],Pe)}return Se}function Ju(c){return tr(c)?c:[]}function el(c){return typeof c=="function"?c:ko}function ts(c,g){return mi(c)?c:v(c,g)?[c]:an(Vi(c))}var tl=bi;function Ma(c,g,C){var z=c.length;return C=C===n?z:C,!g&&C>=z?c:Qn(c,g,C)}var Vf=ru||function(c){return Ni.clearTimeout(c)};function Fc(c,g){if(g)return c.slice();var C=c.length,z=qu?qu(C):new c.constructor(C);return c.copy(z),z}function bu(c){var g=new c.constructor(c.byteLength);return new na(g).set(new na(c)),g}function xd(c,g){var C=g?bu(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.byteLength)}function kd(c){var g=new c.constructor(c.source,Qi.exec(c));return g.lastIndex=c.lastIndex,g}function il(c){return nn?qi(nn.call(c)):{}}function Rc(c,g){var C=g?bu(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.length)}function Nc(c,g){if(c!==g){var C=c!==n,z=c===null,te=c===c,me=Wo(c),Se=g!==n,Pe=g===null,He=g===g,at=Wo(g);if(!Pe&&!at&&!me&&c>g||me&&Se&&He&&!Pe&&!at||z&&Se&&He||!C&&He||!te)return 1;if(!z&&!me&&!at&&c<g||at&&C&&te&&!z&&!me||Pe&&C&&te||!Se&&te||!He)return-1}return 0}function Cd(c,g,C){for(var z=-1,te=c.criteria,me=g.criteria,Se=te.length,Pe=C.length;++z<Se;){var He=Nc(te[z],me[z]);if(He){if(z>=Pe)return He;var at=C[z];return He*(at=="desc"?-1:1)}}return c.index-g.index}function Il(c,g,C,z){for(var te=-1,me=c.length,Se=C.length,Pe=-1,He=g.length,at=U(me-Se,0),st=Ye(He+at),ht=!z;++Pe<He;)st[Pe]=g[Pe];for(;++te<Se;)(ht||te<me)&&(st[C[te]]=c[te]);for(;at--;)st[Pe++]=c[te++];return st}function zc(c,g,C,z){for(var te=-1,me=c.length,Se=-1,Pe=C.length,He=-1,at=g.length,st=U(me-Pe,0),ht=Ye(st+at),Dt=!z;++te<st;)ht[te]=c[te];for(var qt=te;++He<at;)ht[qt+He]=g[He];for(;++Se<Pe;)(Dt||te<me)&&(ht[qt+C[Se]]=c[te++]);return ht}function Vr(c,g){var C=-1,z=c.length;for(g||(g=Ye(z));++C<z;)g[C]=c[C];return g}function Ho(c,g,C,z){var te=!C;C||(C={});for(var me=-1,Se=g.length;++me<Se;){var Pe=g[me],He=z?z(C[Pe],c[Pe],Pe,C,c):n;He===n&&(He=c[Pe]),te?Da(C,Pe,He):au(C,Pe,He)}return C}function Kf(c,g){return Ho(c,ns(c),g)}function Ed(c,g){return Ho(c,oh(c),g)}function yu(c,g){return function(C,z){var te=mi(C)?pc:Ka,me=g?g():{};return te(C,c,Xt(z,2),me)}}function ca(c){return bi(function(g,C){var z=-1,te=C.length,me=te>1?C[te-1]:n,Se=te>2?C[2]:n;for(me=c.length>3&&typeof me=="function"?(te--,me):n,Se&&d(C[0],C[1],Se)&&(me=te<3?n:me,te=1),g=qi(g);++z<te;){var Pe=C[z];Pe&&c(g,Pe,z,me)}return g})}function _u(c,g){return function(C,z){if(C==null)return C;if(!wo(C))return c(C,z);for(var te=C.length,me=g?te:-1,Se=qi(C);(g?me--:++me<te)&&z(Se[me],me,Se)!==!1;);return C}}function Qf(c){return function(g,C,z){for(var te=-1,me=qi(g),Se=z(g),Pe=Se.length;Pe--;){var He=Se[c?Pe:++te];if(C(me[He],He,me)===!1)break}return g}}function Jf(c,g,C){var z=g&j,te=nl(c);function me(){var Se=this&&this!==Ni&&this instanceof me?te:c;return Se.apply(z?C:this,arguments)}return me}function eh(c){return function(g){g=Vi(g);var C=qa(g)?Tr(g):n,z=C?C[0]:g.charAt(0),te=C?Ma(C,1).join(""):g.slice(1);return z[c]()+te}}function wu(c){return function(g){return Hu(Hm(Bm(g).replace(ri,"")),c,"")}}function nl(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var C=Ga(c.prototype),z=c.apply(C,g);return On(z)?z:C}}function Sd(c,g,C){var z=nl(c);function te(){for(var me=arguments.length,Se=Ye(me),Pe=me,He=ku(te);Pe--;)Se[Pe]=arguments[Pe];var at=me<3&&Se[0]!==He&&Se[me-1]!==He?[]:Wr(Se,He);if(me-=at.length,me<C)return ol(c,g,Bl,te.placeholder,n,Se,at,n,n,C-me);var st=this&&this!==Ni&&this instanceof te?z:c;return un(st,this,Se)}return te}function Ic(c){return function(g,C,z){var te=qi(g);if(!wo(g)){var me=Xt(C,3);g=Mr(g),C=function(Pe){return me(te[Pe],Pe,te)}}var Se=c(g,C,z);return Se>-1?te[me?g[Se]:Se]:n}}function th(c){return fa(function(g){var C=g.length,z=C,te=Di.prototype.thru;for(c&&g.reverse();z--;){var me=g[z];if(typeof me!="function")throw new yr(f);if(te&&!Se&&ul(me)=="wrapper")var Se=new Di([],!0)}for(z=Se?z:C;++z<C;){me=g[z];var Pe=ul(me),He=Pe=="wrapper"?sl(me):n;He&&F(He[0])&&He[1]==(J|P|I|ue)&&!He[4].length&&He[9]==1?Se=Se[ul(He[0])].apply(Se,He[3]):Se=me.length==1&&F(me)?Se[Pe]():Se.thru(me)}return function(){var at=arguments,st=at[0];if(Se&&at.length==1&&mi(st))return Se.plant(st).value();for(var ht=0,Dt=C?g[ht].apply(this,at):st;++ht<C;)Dt=g[ht].call(this,Dt);return Dt}})}function Bl(c,g,C,z,te,me,Se,Pe,He,at){var st=g&J,ht=g&j,Dt=g&O,qt=g&(P|W),ei=g&de,ki=Dt?n:nl(c);function ti(){for(var Ai=arguments.length,Fi=Ye(Ai),jo=Ai;jo--;)Fi[jo]=arguments[jo];if(qt)var co=ku(ti),qo=Qo(Fi,co);if(z&&(Fi=Il(Fi,z,te,qt)),me&&(Fi=zc(Fi,me,Se,qt)),Ai-=qo,qt&&Ai<at){var ir=Wr(Fi,co);return ol(c,g,Bl,ti.placeholder,C,Fi,ir,Pe,He,at-Ai)}var Oa=ht?C:this,Hs=Dt?Oa[c]:c;return Ai=Fi.length,Pe?Fi=_t(Fi,Pe):ei&&Ai>1&&Fi.reverse(),st&&He<Ai&&(Fi.length=He),this&&this!==Ni&&this instanceof ti&&(Hs=ki||nl(Hs)),Hs.apply(Oa,Fi)}return ti}function Bc(c,g){return function(C,z){return Nf(C,c,g(z),{})}}function xu(c,g){return function(C,z){var te;if(C===n&&z===n)return g;if(C!==n&&(te=C),z!==n){if(te===n)return z;typeof C=="string"||typeof z=="string"?(C=uo(C),z=uo(z)):(C=Xf(C),z=Xf(z)),te=c(C,z)}return te}}function Hl(c){return fa(function(g){return g=Ji(g,tn(Xt())),bi(function(C){var z=this;return c(g,function(te){return un(te,z,C)})})})}function Wl(c,g){g=g===n?" ":uo(g);var C=g.length;if(C<2)return C?Pc(g,c):g;var z=Pc(g,$a(c/Sr(g)));return qa(g)?Ma(Tr(z),0,c).join(""):z.slice(0,c)}function ih(c,g,C,z){var te=g&j,me=nl(c);function Se(){for(var Pe=-1,He=arguments.length,at=-1,st=z.length,ht=Ye(st+He),Dt=this&&this!==Ni&&this instanceof Se?me:c;++at<st;)ht[at]=z[at];for(;He--;)ht[at++]=arguments[++Pe];return un(Dt,te?C:this,ht)}return Se}function zs(c){return function(g,C,z){return z&&typeof z!="number"&&d(g,C,z)&&(C=z=n),g=Bs(g),C===n?(C=g,g=0):C=Bs(C),z=z===n?g<C?1:-1:Bs(z),yd(g,C,z,c)}}function rl(c){return function(g,C){return typeof g=="string"&&typeof C=="string"||(g=ma(g),C=ma(C)),c(g,C)}}function ol(c,g,C,z,te,me,Se,Pe,He,at){var st=g&P,ht=st?Se:n,Dt=st?n:Se,qt=st?me:n,ei=st?n:me;g|=st?I:G,g&=~(st?G:I),g&S||(g&=-4);var ki=[c,g,te,qt,ht,ei,Dt,Pe,He,at],ti=C.apply(n,ki);return F(c)&&Tt(ti,ki),ti.placeholder=z,ci(ti,c,g)}function Hc(c){var g=_n[c];return function(C,z){if(C=ma(C),z=z==null?0:oe(yi(z),292),z&&m(C)){var te=(Vi(C)+"e").split("e"),me=g(te[0]+"e"+(+te[1]+z));return te=(Vi(me)+"e").split("e"),+(te[0]+"e"+(+te[1]-z))}return g(C)}}var Td=Zi&&1/dn(new Zi([,-0]))[1]==ye?function(c){return new Zi(c)}:qd;function nh(c){return function(g){var C=Jn(g);return C==wt?Js(g):C==le?El(g):kl(g,c(g))}}function Oi(c,g,C,z,te,me,Se,Pe){var He=g&O;if(!He&&typeof c!="function")throw new yr(f);var at=z?z.length:0;if(at||(g&=-97,z=te=n),Se=Se===n?Se:U(yi(Se),0),Pe=Pe===n?Pe:yi(Pe),at-=te?te.length:0,g&G){var st=z,ht=te;z=te=n}var Dt=He?n:sl(c),qt=[c,g,C,z,te,st,ht,me,Se,Pe];if(Dt&&Fe(qt,Dt),c=qt[0],g=qt[1],C=qt[2],z=qt[3],te=qt[4],Pe=qt[9]=qt[9]===n?He?0:c.length:U(qt[9]-at,0),!Pe&&g&(P|W)&&(g&=-25),!g||g==j)var ei=Jf(c,g,C);else g==P||g==W?ei=Sd(c,g,Pe):(g==I||g==(j|I))&&!te.length?ei=ih(c,g,C,z):ei=Bl.apply(n,qt);var ki=Dt?Zf:Tt;return ci(ki(ei,qt),c,g)}function rh(c,g,C,z){return c===n||Pa(c,ro[C])&&!Ci.call(z,C)?g:c}function jl(c,g,C,z,te,me){return On(c)&&On(g)&&(me.set(g,c),Bo(c,g,n,jl,me),me.delete(g)),c}function al(c){return Uc(c)?n:c}function _o(c,g,C,z,te,me){var Se=C&N,Pe=c.length,He=g.length;if(Pe!=He&&!(Se&&He>Pe))return!1;var at=me.get(c),st=me.get(g);if(at&&st)return at==g&&st==c;var ht=-1,Dt=!0,qt=C&q?new Za:n;for(me.set(c,g),me.set(g,c);++ht<Pe;){var ei=c[ht],ki=g[ht];if(z)var ti=Se?z(ki,ei,ht,g,c,me):z(ei,ki,ht,c,g,me);if(ti!==n){if(ti)continue;Dt=!1;break}if(qt){if(!Vo(g,function(Ai,Fi){if(!Mo(qt,Fi)&&(ei===Ai||te(ei,Ai,C,z,me)))return qt.push(Fi)})){Dt=!1;break}}else if(!(ei===ki||te(ei,ki,C,z,me))){Dt=!1;break}}return me.delete(c),me.delete(g),Dt}function ql(c,g,C,z,te,me,Se){switch(C){case mt:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case Qe:return!(c.byteLength!=g.byteLength||!me(new na(c),new na(g)));case Ae:case qe:case St:return Pa(+c,+g);case Xe:return c.name==g.name&&c.message==g.message;case X:case Q:return c==g+"";case wt:var Pe=Js;case le:var He=z&N;if(Pe||(Pe=dn),c.size!=g.size&&!He)return!1;var at=Se.get(c);if(at)return at==g;z|=q,Se.set(c,g);var st=_o(Pe(c),Pe(g),z,te,me,Se);return Se.delete(c),st;case he:if(nn)return nn.call(c)==nn.call(g)}return!1}function Wc(c,g,C,z,te,me){var Se=C&N,Pe=Ul(c),He=Pe.length,at=Ul(g),st=at.length;if(He!=st&&!Se)return!1;for(var ht=He;ht--;){var Dt=Pe[ht];if(!(Se?Dt in g:Ci.call(g,Dt)))return!1}var qt=me.get(c),ei=me.get(g);if(qt&&ei)return qt==g&&ei==c;var ki=!0;me.set(c,g),me.set(g,c);for(var ti=Se;++ht<He;){Dt=Pe[ht];var Ai=c[Dt],Fi=g[Dt];if(z)var jo=Se?z(Fi,Ai,Dt,g,c,me):z(Ai,Fi,Dt,c,g,me);if(!(jo===n?Ai===Fi||te(Ai,Fi,C,z,me):jo)){ki=!1;break}ti||(ti=Dt=="constructor")}if(ki&&!ti){var co=c.constructor,qo=g.constructor;co!=qo&&"constructor"in c&&"constructor"in g&&!(typeof co=="function"&&co instanceof co&&typeof qo=="function"&&qo instanceof qo)&&(ki=!1)}return me.delete(c),me.delete(g),ki}function fa(c){return zt(dt(c,n,as),c+"")}function Ul(c){return lr(c,Mr,ns)}function Yl(c){return lr(c,xo,oh)}var sl=Bn?function(c){return Bn.get(c)}:qd;function ul(c){for(var g=c.name+"",C=Xr[g],z=Ci.call(Xr,g)?C.length:0;z--;){var te=C[z],me=te.func;if(me==null||me==c)return te.name}return g}function ku(c){var g=Ci.call(fe,"placeholder")?fe:c;return g.placeholder}function Xt(){var c=fe.iteratee||Wd;return c=c===Wd?pu:c,arguments.length?c(arguments[0],arguments[1]):c}function ll(c,g){var C=c.__data__;return E(g)?C[typeof g=="string"?"string":"hash"]:C.map}function Ii(c){for(var g=Mr(c),C=g.length;C--;){var z=g[C],te=c[z];g[C]=[z,te,be(te)]}return g}function is(c,g){var C=ja(c,g);return Ps(C)?C:n}function Ad(c){var g=Ci.call(c,Fo),C=c[Fo];try{c[Fo]=n;var z=!0}catch{}var te=oo.call(c);return z&&(g?c[Fo]=C:delete c[Fo]),te}var ns=Uu?function(c){return c==null?[]:(c=qi(c),Lo(Uu(c),function(g){return Ts.call(c,g)}))}:Ud,oh=Uu?function(c){for(var g=[];c;)mo(g,ns(c)),c=ao(c);return g}:Ud,Jn=cr;(Ct&&Jn(new Ct(new ArrayBuffer(1)))!=mt||It&&Jn(new It)!=wt||ai&&Jn(ai.resolve())!=Ut||Zi&&Jn(new Zi)!=le||Xi&&Jn(new Xi)!=Be)&&(Jn=function(c){var g=cr(c),C=g==Mt?c.constructor:n,z=C?Ln(C):"";if(z)switch(z){case Al:return mt;case gc:return wt;case Ta:return Ut;case sa:return le;case vc:return Be}return g});function Dd(c,g,C){for(var z=-1,te=C.length;++z<te;){var me=C[z],Se=me.size;switch(me.type){case"drop":c+=Se;break;case"dropRight":g-=Se;break;case"take":g=oe(g,c+Se);break;case"takeRight":c=U(c,g-Se);break}}return{start:c,end:g}}function wn(c){var g=c.match(vr);return g?g[1].split($n):[]}function ah(c,g,C){g=ts(g,c);for(var z=-1,te=g.length,me=!1;++z<te;){var Se=gn(g[z]);if(!(me=c!=null&&C(c,Se)))break;c=c[Se]}return me||++z!=te?me:(te=c==null?0:c.length,!!te&&dh(te)&&p(Se,te)&&(mi(c)||cl(c)))}function Ld(c){var g=c.length,C=new c.constructor(g);return g&&typeof c[0]=="string"&&Ci.call(c,"index")&&(C.index=c.index,C.input=c.input),C}function sh(c){return typeof c.constructor=="function"&&!K(c)?Ga(ao(c)):{}}function $l(c,g,C){var z=c.constructor;switch(g){case Qe:return bu(c);case Ae:case qe:return new z(+c);case mt:return xd(c,C);case Pt:case ct:case Wt:case $t:case Qt:case Vt:case xt:case Yn:case Yt:return Rc(c,C);case wt:return new z;case St:case Q:return new z(c);case X:return kd(c);case le:return new z;case he:return il(c)}}function r(c,g){var C=g.length;if(!C)return c;var z=C-1;return g[z]=(C>1?"& ":"")+g[z],g=g.join(C>2?", ":" "),c.replace(Ot,`{
/* [wrapped with `+g+`] */
`)}function s(c){return mi(c)||cl(c)||!!(Tl&&c&&c[Tl])}function p(c,g){var C=typeof c;return g=g??Ee,!!g&&(C=="number"||C!="symbol"&&io.test(c))&&c>-1&&c%1==0&&c<g}function d(c,g,C){if(!On(C))return!1;var z=typeof g;return(z=="number"?wo(C)&&p(g,C.length):z=="string"&&g in C)?Pa(C[g],c):!1}function v(c,g){if(mi(c))return!1;var C=typeof c;return C=="number"||C=="symbol"||C=="boolean"||c==null||Wo(c)?!0:Hi.test(c)||!eo.test(c)||g!=null&&c in qi(g)}function E(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function F(c){var g=ul(c),C=fe[g];if(typeof C!="function"||!(g in Gt.prototype))return!1;if(c===C)return!0;var z=sl(C);return!!z&&c===z[0]}function B(c){return!!Oo&&Oo in c}var Z=bo?Is:Yd;function K(c){var g=c&&c.constructor,C=typeof g=="function"&&g.prototype||ro;return c===C}function be(c){return c===c&&!On(c)}function Ce(c,g){return function(C){return C==null?!1:C[c]===g&&(g!==n||c in qi(C))}}function ze(c){var g=fh(c,function(z){return C.size===x&&C.clear(),z}),C=g.cache;return g}function Fe(c,g){var C=c[1],z=g[1],te=C|z,me=te<(j|O|J),Se=z==J&&C==P||z==J&&C==ue&&c[7].length<=g[8]||z==(J|ue)&&g[7].length<=g[8]&&C==P;if(!(me||Se))return c;z&j&&(c[2]=g[2],te|=C&j?0:S);var Pe=g[3];if(Pe){var He=c[3];c[3]=He?Il(He,Pe,g[4]):Pe,c[4]=He?Wr(c[3],w):g[4]}return Pe=g[5],Pe&&(He=c[5],c[5]=He?zc(He,Pe,g[6]):Pe,c[6]=He?Wr(c[5],w):g[6]),Pe=g[7],Pe&&(c[7]=Pe),z&J&&(c[8]=c[8]==null?g[8]:oe(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=te,c}function Ge(c){var g=[];if(c!=null)for(var C in qi(c))g.push(C);return g}function rt(c){return oo.call(c)}function dt(c,g,C){return g=U(g===n?c.length-1:g,0),function(){for(var z=arguments,te=-1,me=U(z.length-g,0),Se=Ye(me);++te<me;)Se[te]=z[g+te];te=-1;for(var Pe=Ye(g+1);++te<g;)Pe[te]=z[te];return Pe[g]=C(Se),un(c,this,Pe)}}function bt(c,g){return g.length<2?c:Qa(c,Qn(g,0,-1))}function _t(c,g){for(var C=c.length,z=oe(g.length,C),te=Vr(c);z--;){var me=g[z];c[z]=p(me,C)?te[me]:n}return c}function vt(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var Tt=$i(Zf),Bt=ou||function(c,g){return Ni.setTimeout(c,g)},zt=$i(_d);function ci(c,g,C){var z=g+"";return zt(c,r(z,Mn(wn(z),C)))}function $i(c){var g=0,C=0;return function(){var z=De(),te=ve-(z-C);if(C=z,te>0){if(++g>=Te)return arguments[0]}else g=0;return c.apply(n,arguments)}}function xn(c,g){var C=-1,z=c.length,te=z-1;for(g=g===n?z:g;++C<g;){var me=Rl(C,te),Se=c[me];c[me]=c[C],c[C]=Se}return c.length=g,c}var an=ze(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(Rr,function(C,z,te,me){g.push(te?me.replace(Ur,"$1"):z||C)}),g});function gn(c){if(typeof c=="string"||Wo(c))return c;var g=c+"";return g=="0"&&1/c==-ye?"-0":g}function Ln(c){if(c!=null){try{return Ya.call(c)}catch{}try{return c+""}catch{}}return""}function Mn(c,g){return Hr(Le,function(C){var z="_."+C[0];g&C[1]&&!Ha(c,z)&&c.push(z)}),c.sort()}function Dr(c){if(c instanceof Gt)return c.clone();var g=new Di(c.__wrapped__,c.__chain__);return g.__actions__=Vr(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function fr(c,g,C){(C?d(c,g,C):g===n)?g=1:g=U(yi(g),0);var z=c==null?0:c.length;if(!z||g<1)return[];for(var te=0,me=0,Se=Ye($a(z/g));te<z;)Se[me++]=Qn(c,te,te+=g);return Se}function Hn(c){for(var g=-1,C=c==null?0:c.length,z=0,te=[];++g<C;){var me=c[g];me&&(te[z++]=me)}return te}function Pn(){var c=arguments.length;if(!c)return[];for(var g=Ye(c-1),C=arguments[0],z=c;z--;)g[z-1]=arguments[z];return mo(mi(C)?Vr(C):[C],Kn(g,1))}var vn=bi(function(c,g){return tr(c)?Gu(c,Kn(g,1,tr,!0)):[]}),jr=bi(function(c,g){var C=pa(g);return tr(C)&&(C=n),tr(c)?Gu(c,Kn(g,1,tr,!0),Xt(C,2)):[]}),Cu=bi(function(c,g){var C=pa(g);return tr(C)&&(C=n),tr(c)?Gu(c,Kn(g,1,tr,!0),n,C):[]});function rs(c,g,C){var z=c==null?0:c.length;return z?(g=C||g===n?1:yi(g),Qn(c,g<0?0:g,z)):[]}function wr(c,g,C){var z=c==null?0:c.length;return z?(g=C||g===n?1:yi(g),g=z-g,Qn(c,0,g<0?0:g)):[]}function ha(c,g){return c&&c.length?Ku(c,Xt(g,3),!0,!0):[]}function er(c,g){return c&&c.length?Ku(c,Xt(g,3),!0):[]}function jc(c,g,C,z){var te=c==null?0:c.length;return te?(C&&typeof C!="number"&&d(c,g,C)&&(C=0,z=te),Of(c,g,C,z)):[]}function da(c,g,C){var z=c==null?0:c.length;if(!z)return-1;var te=C==null?0:yi(C);return te<0&&(te=U(z+te,0)),kr(c,Xt(g,3),te)}function os(c,g,C){var z=c==null?0:c.length;if(!z)return-1;var te=z-1;return C!==n&&(te=yi(C),te=C<0?U(z+te,0):oe(te,z-1)),kr(c,Xt(g,3),te,!0)}function as(c){var g=c==null?0:c.length;return g?Kn(c,1):[]}function Lr(c){var g=c==null?0:c.length;return g?Kn(c,ye):[]}function Eu(c,g){var C=c==null?0:c.length;return C?(g=g===n?1:yi(g),Kn(c,g)):[]}function qc(c){for(var g=-1,C=c==null?0:c.length,z={};++g<C;){var te=c[g];z[te[0]]=te[1]}return z}function dm(c){return c&&c.length?c[0]:n}function Pb(c,g,C){var z=c==null?0:c.length;if(!z)return-1;var te=C==null?0:yi(C);return te<0&&(te=U(z+te,0)),en(c,g,te)}function Ob(c){var g=c==null?0:c.length;return g?Qn(c,0,-1):[]}var Fb=bi(function(c){var g=Ji(c,Ju);return g.length&&g[0]===c[0]?fu(g):[]}),Rb=bi(function(c){var g=pa(c),C=Ji(c,Ju);return g===pa(C)?g=n:C.pop(),C.length&&C[0]===c[0]?fu(C,Xt(g,2)):[]}),Nb=bi(function(c){var g=pa(c),C=Ji(c,Ju);return g=typeof g=="function"?g:n,g&&C.pop(),C.length&&C[0]===c[0]?fu(C,n,g):[]});function zb(c,g){return c==null?"":_.call(c,g)}function pa(c){var g=c==null?0:c.length;return g?c[g-1]:n}function Ib(c,g,C){var z=c==null?0:c.length;if(!z)return-1;var te=z;return C!==n&&(te=yi(C),te=te<0?U(z+te,0):oe(te,z-1)),g===g?mc(c,g,te):kr(c,Cr,te,!0)}function Bb(c,g){return c&&c.length?gu(c,yi(g)):n}var Hb=bi(pm);function pm(c,g){return c&&c.length&&g&&g.length?Mc(c,g):c}function Wb(c,g,C){return c&&c.length&&g&&g.length?Mc(c,g,Xt(C,2)):c}function jb(c,g,C){return c&&c.length&&g&&g.length?Mc(c,g,n,C):c}var qb=fa(function(c,g){var C=c==null?0:c.length,z=uu(c,g);return Ar(c,Ji(g,function(te){return p(te,C)?+te:te}).sort(Nc)),z});function Ub(c,g){var C=[];if(!(c&&c.length))return C;var z=-1,te=[],me=c.length;for(g=Xt(g,3);++z<me;){var Se=c[z];g(Se,z,c)&&(C.push(Se),te.push(z))}return Ar(c,te),C}function Md(c){return c==null?c:lt.call(c)}function Yb(c,g,C){var z=c==null?0:c.length;return z?(C&&typeof C!="number"&&d(c,g,C)?(g=0,C=z):(g=g==null?0:yi(g),C=C===n?z:yi(C)),Qn(c,g,C)):[]}function $b(c,g){return Rs(c,g)}function Gb(c,g,C){return Ns(c,g,Xt(C,2))}function Zb(c,g){var C=c==null?0:c.length;if(C){var z=Rs(c,g);if(z<C&&Pa(c[z],g))return z}return-1}function Xb(c,g){return Rs(c,g,!0)}function Vb(c,g,C){return Ns(c,g,Xt(C,2),!0)}function Kb(c,g){var C=c==null?0:c.length;if(C){var z=Rs(c,g,!0)-1;if(Pa(c[z],g))return z}return-1}function Qb(c){return c&&c.length?la(c):[]}function Jb(c,g){return c&&c.length?la(c,Xt(g,2)):[]}function ey(c){var g=c==null?0:c.length;return g?Qn(c,1,g):[]}function ty(c,g,C){return c&&c.length?(g=C||g===n?1:yi(g),Qn(c,0,g<0?0:g)):[]}function iy(c,g,C){var z=c==null?0:c.length;return z?(g=C||g===n?1:yi(g),g=z-g,Qn(c,g<0?0:g,z)):[]}function ny(c,g){return c&&c.length?Ku(c,Xt(g,3),!1,!0):[]}function ry(c,g){return c&&c.length?Ku(c,Xt(g,3)):[]}var oy=bi(function(c){return lo(Kn(c,1,tr,!0))}),ay=bi(function(c){var g=pa(c);return tr(g)&&(g=n),lo(Kn(c,1,tr,!0),Xt(g,2))}),sy=bi(function(c){var g=pa(c);return g=typeof g=="function"?g:n,lo(Kn(c,1,tr,!0),n,g)});function uy(c){return c&&c.length?lo(c):[]}function ly(c,g){return c&&c.length?lo(c,Xt(g,2)):[]}function cy(c,g){return g=typeof g=="function"?g:n,c&&c.length?lo(c,n,g):[]}function Pd(c){if(!(c&&c.length))return[];var g=0;return c=Lo(c,function(C){if(tr(C))return g=U(C.length,g),!0}),Wu(g,function(C){return Ji(c,Zs(C))})}function mm(c,g){if(!(c&&c.length))return[];var C=Pd(c);return g==null?C:Ji(C,function(z){return un(g,n,z)})}var fy=bi(function(c,g){return tr(c)?Gu(c,g):[]}),hy=bi(function(c){return es(Lo(c,tr))}),dy=bi(function(c){var g=pa(c);return tr(g)&&(g=n),es(Lo(c,tr),Xt(g,2))}),py=bi(function(c){var g=pa(c);return g=typeof g=="function"?g:n,es(Lo(c,tr),n,g)}),my=bi(Pd);function gy(c,g){return zl(c||[],g||[],au)}function vy(c,g){return zl(c||[],g||[],vu)}var by=bi(function(c){var g=c.length,C=g>1?c[g-1]:n;return C=typeof C=="function"?(c.pop(),C):n,mm(c,C)});function gm(c){var g=fe(c);return g.__chain__=!0,g}function yy(c,g){return g(c),c}function uh(c,g){return g(c)}var _y=fa(function(c){var g=c.length,C=g?c[0]:0,z=this.__wrapped__,te=function(me){return uu(me,c)};return g>1||this.__actions__.length||!(z instanceof Gt)||!p(C)?this.thru(te):(z=z.slice(C,+C+(g?1:0)),z.__actions__.push({func:uh,args:[te],thisArg:n}),new Di(z,this.__chain__).thru(function(me){return g&&!me.length&&me.push(n),me}))});function wy(){return gm(this)}function xy(){return new Di(this.value(),this.__chain__)}function ky(){this.__values__===n&&(this.__values__=Lm(this.value()));var c=this.__index__>=this.__values__.length,g=c?n:this.__values__[this.__index__++];return{done:c,value:g}}function Cy(){return this}function Ey(c){for(var g,C=this;C instanceof Vn;){var z=Dr(C);z.__index__=0,z.__values__=n,g?te.__wrapped__=z:g=z;var te=z;C=C.__wrapped__}return te.__wrapped__=c,g}function Sy(){var c=this.__wrapped__;if(c instanceof Gt){var g=c;return this.__actions__.length&&(g=new Gt(this)),g=g.reverse(),g.__actions__.push({func:uh,args:[Md],thisArg:n}),new Di(g,this.__chain__)}return this.thru(Md)}function Ty(){return Qu(this.__wrapped__,this.__actions__)}var Ay=yu(function(c,g,C){Ci.call(c,C)?++c[C]:Da(c,C,1)});function Dy(c,g,C){var z=mi(c)?Gs:vd;return C&&d(c,g,C)&&(g=n),z(c,Xt(g,3))}function Ly(c,g){var C=mi(c)?Lo:Ms;return C(c,Xt(g,3))}var My=Ic(da),Py=Ic(os);function Oy(c,g){return Kn(lh(c,g),1)}function Fy(c,g){return Kn(lh(c,g),ye)}function Ry(c,g,C){return C=C===n?1:yi(C),Kn(lh(c,g),C)}function vm(c,g){var C=mi(c)?Hr:Io;return C(c,Xt(g,3))}function bm(c,g){var C=mi(c)?Do:Ec;return C(c,Xt(g,3))}var Ny=yu(function(c,g,C){Ci.call(c,C)?c[C].push(g):Da(c,C,[g])});function zy(c,g,C,z){c=wo(c)?c:Zl(c),C=C&&!z?yi(C):0;var te=c.length;return C<0&&(C=U(te+C,0)),ph(c)?C<=te&&c.indexOf(g,C)>-1:!!te&&en(c,g,C)>-1}var Iy=bi(function(c,g,C){var z=-1,te=typeof g=="function",me=wo(c)?Ye(c.length):[];return Io(c,function(Se){me[++z]=te?un(g,Se,C):hu(Se,g,C)}),me}),By=yu(function(c,g,C){Da(c,C,g)});function lh(c,g){var C=mi(c)?Ji:Dc;return C(c,Xt(g,3))}function Hy(c,g,C,z){return c==null?[]:(mi(g)||(g=g==null?[]:[g]),C=z?n:C,mi(C)||(C=C==null?[]:[C]),qf(c,g,C))}var Wy=yu(function(c,g,C){c[C?0:1].push(g)},function(){return[[],[]]});function jy(c,g,C){var z=mi(c)?Hu:Vs,te=arguments.length<3;return z(c,Xt(g,4),C,te,Io)}function qy(c,g,C){var z=mi(c)?_l:Vs,te=arguments.length<3;return z(c,Xt(g,4),C,te,Ec)}function Uy(c,g){var C=mi(c)?Lo:Ms;return C(c,hh(Xt(g,3)))}function Yy(c){var g=mi(c)?wc:$f;return g(c)}function $y(c,g,C){(C?d(c,g,C):g===n)?g=1:g=yi(g);var z=mi(c)?md:Gf;return z(c,g)}function Gy(c){var g=mi(c)?xc:wd;return g(c)}function Zy(c){if(c==null)return 0;if(wo(c))return ph(c)?Sr(c):c.length;var g=Jn(c);return g==wt||g==le?c.size:Os(c).length}function Xy(c,g,C){var z=mi(c)?Vo:Vu;return C&&d(c,g,C)&&(g=n),z(c,Xt(g,3))}var Vy=bi(function(c,g){if(c==null)return[];var C=g.length;return C>1&&d(c,g[0],g[1])?g=[]:C>2&&d(g[0],g[1],g[2])&&(g=[g[0]]),qf(c,Kn(g,1),[])}),ch=Sa||function(){return Ni.Date.now()};function Ky(c,g){if(typeof g!="function")throw new yr(f);return c=yi(c),function(){if(--c<1)return g.apply(this,arguments)}}function ym(c,g,C){return g=C?n:g,g=c&&g==null?c.length:g,Oi(c,J,n,n,n,n,g)}function _m(c,g){var C;if(typeof g!="function")throw new yr(f);return c=yi(c),function(){return--c>0&&(C=g.apply(this,arguments)),c<=1&&(g=n),C}}var Od=bi(function(c,g,C){var z=j;if(C.length){var te=Wr(C,ku(Od));z|=I}return Oi(c,z,g,C,te)}),wm=bi(function(c,g,C){var z=j|O;if(C.length){var te=Wr(C,ku(wm));z|=I}return Oi(g,z,c,C,te)});function xm(c,g,C){g=C?n:g;var z=Oi(c,P,n,n,n,n,n,g);return z.placeholder=xm.placeholder,z}function km(c,g,C){g=C?n:g;var z=Oi(c,W,n,n,n,n,n,g);return z.placeholder=km.placeholder,z}function Cm(c,g,C){var z,te,me,Se,Pe,He,at=0,st=!1,ht=!1,Dt=!0;if(typeof c!="function")throw new yr(f);g=ma(g)||0,On(C)&&(st=!!C.leading,ht="maxWait"in C,me=ht?U(ma(C.maxWait)||0,g):me,Dt="trailing"in C?!!C.trailing:Dt);function qt(ir){var Oa=z,Hs=te;return z=te=n,at=ir,Se=c.apply(Hs,Oa),Se}function ei(ir){return at=ir,Pe=Bt(Ai,g),st?qt(ir):Se}function ki(ir){var Oa=ir-He,Hs=ir-at,qm=g-Oa;return ht?oe(qm,me-Hs):qm}function ti(ir){var Oa=ir-He,Hs=ir-at;return He===n||Oa>=g||Oa<0||ht&&Hs>=me}function Ai(){var ir=ch();if(ti(ir))return Fi(ir);Pe=Bt(Ai,ki(ir))}function Fi(ir){return Pe=n,Dt&&z?qt(ir):(z=te=n,Se)}function jo(){Pe!==n&&Vf(Pe),at=0,z=He=te=Pe=n}function co(){return Pe===n?Se:Fi(ch())}function qo(){var ir=ch(),Oa=ti(ir);if(z=arguments,te=this,He=ir,Oa){if(Pe===n)return ei(He);if(ht)return Vf(Pe),Pe=Bt(Ai,g),qt(He)}return Pe===n&&(Pe=Bt(Ai,g)),Se}return qo.cancel=jo,qo.flush=co,qo}var Qy=bi(function(c,g){return Pf(c,1,g)}),Jy=bi(function(c,g,C){return Pf(c,ma(g)||0,C)});function e_(c){return Oi(c,de)}function fh(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new yr(f);var C=function(){var z=arguments,te=g?g.apply(this,z):z[0],me=C.cache;if(me.has(te))return me.get(te);var Se=c.apply(this,z);return C.cache=me.set(te,Se)||me,Se};return C.cache=new(fh.Cache||No),C}fh.Cache=No;function hh(c){if(typeof c!="function")throw new yr(f);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function t_(c){return _m(2,c)}var i_=tl(function(c,g){g=g.length==1&&mi(g[0])?Ji(g[0],tn(Xt())):Ji(Kn(g,1),tn(Xt()));var C=g.length;return bi(function(z){for(var te=-1,me=oe(z.length,C);++te<me;)z[te]=g[te].call(this,z[te]);return un(c,this,z)})}),Fd=bi(function(c,g){var C=Wr(g,ku(Fd));return Oi(c,I,n,g,C)}),Em=bi(function(c,g){var C=Wr(g,ku(Em));return Oi(c,G,n,g,C)}),n_=fa(function(c,g){return Oi(c,ue,n,n,n,g)});function r_(c,g){if(typeof c!="function")throw new yr(f);return g=g===n?g:yi(g),bi(c,g)}function o_(c,g){if(typeof c!="function")throw new yr(f);return g=g==null?0:U(yi(g),0),bi(function(C){var z=C[g],te=Ma(C,0,g);return z&&mo(te,z),un(c,this,te)})}function a_(c,g,C){var z=!0,te=!0;if(typeof c!="function")throw new yr(f);return On(C)&&(z="leading"in C?!!C.leading:z,te="trailing"in C?!!C.trailing:te),Cm(c,g,{leading:z,maxWait:g,trailing:te})}function s_(c){return ym(c,1)}function u_(c,g){return Fd(el(g),c)}function l_(){if(!arguments.length)return[];var c=arguments[0];return mi(c)?c:[c]}function c_(c){return so(c,H)}function f_(c,g){return g=typeof g=="function"?g:n,so(c,H,g)}function h_(c){return so(c,k|H)}function d_(c,g){return g=typeof g=="function"?g:n,so(c,k|H,g)}function p_(c,g){return g==null||Cc(c,g,Mr(g))}function Pa(c,g){return c===g||c!==c&&g!==g}var m_=rl(Fl),g_=rl(function(c,g){return c>=g}),cl=Tc(function(){return arguments}())?Tc:function(c){return Wn(c)&&Ci.call(c,"callee")&&!Ts.call(c,"callee")},mi=Ye.isArray,v_=Ys?tn(Ys):du;function wo(c){return c!=null&&dh(c.length)&&!Is(c)}function tr(c){return Wn(c)&&wo(c)}function b_(c){return c===!0||c===!1||Wn(c)&&cr(c)==Ae}var Su=o||Yd,y_=no?tn(no):zf;function __(c){return Wn(c)&&c.nodeType===1&&!Uc(c)}function w_(c){if(c==null)return!0;if(wo(c)&&(mi(c)||typeof c=="string"||typeof c.splice=="function"||Su(c)||Gl(c)||cl(c)))return!c.length;var g=Jn(c);if(g==wt||g==le)return!c.size;if(K(c))return!Os(c).length;for(var C in c)if(Ci.call(c,C))return!1;return!0}function x_(c,g){return Ja(c,g)}function k_(c,g,C){C=typeof C=="function"?C:n;var z=C?C(c,g):n;return z===n?Ja(c,g,n,C):!!z}function Rd(c){if(!Wn(c))return!1;var g=cr(c);return g==Xe||g==Ze||typeof c.message=="string"&&typeof c.name=="string"&&!Uc(c)}function C_(c){return typeof c=="number"&&m(c)}function Is(c){if(!On(c))return!1;var g=cr(c);return g==ut||g==Et||g==we||g==Kt}function Sm(c){return typeof c=="number"&&c==yi(c)}function dh(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ee}function On(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function Wn(c){return c!=null&&typeof c=="object"}var Tm=_s?tn(_s):Zu;function E_(c,g){return c===g||Ac(c,g,Ii(g))}function S_(c,g,C){return C=typeof C=="function"?C:n,Ac(c,g,Ii(g),C)}function T_(c){return Am(c)&&c!=+c}function A_(c){if(Z(c))throw new Jt(u);return Ps(c)}function D_(c){return c===null}function L_(c){return c==null}function Am(c){return typeof c=="number"||Wn(c)&&cr(c)==St}function Uc(c){if(!Wn(c)||cr(c)!=Mt)return!1;var g=ao(c);if(g===null)return!0;var C=Ci.call(g,"constructor")&&g.constructor;return typeof C=="function"&&C instanceof C&&Ya.call(C)==ia}var Nd=$s?tn($s):Bf;function M_(c){return Sm(c)&&c>=-Ee&&c<=Ee}var Dm=Ao?tn(Ao):Hf;function ph(c){return typeof c=="string"||!mi(c)&&Wn(c)&&cr(c)==Q}function Wo(c){return typeof c=="symbol"||Wn(c)&&cr(c)==he}var Gl=yl?tn(yl):Wf;function P_(c){return c===n}function O_(c){return Wn(c)&&Jn(c)==Be}function F_(c){return Wn(c)&&cr(c)==ot}var R_=rl(Fs),N_=rl(function(c,g){return c<=g});function Lm(c){if(!c)return[];if(wo(c))return ph(c)?Tr(c):Vr(c);if(oa&&c[oa])return Qs(c[oa]());var g=Jn(c),C=g==wt?Js:g==le?dn:Zl;return C(c)}function Bs(c){if(!c)return c===0?c:0;if(c=ma(c),c===ye||c===-ye){var g=c<0?-1:1;return g*et}return c===c?c:0}function yi(c){var g=Bs(c),C=g%1;return g===g?C?g-C:g:0}function Mm(c){return c?La(yi(c),0,Me):0}function ma(c){if(typeof c=="number")return c;if(Wo(c))return Ie;if(On(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=On(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=ju(c);var C=or.test(c);return C||to.test(c)?wa(c.slice(2),C?2:8):rr.test(c)?Ie:+c}function Pm(c){return Ho(c,xo(c))}function z_(c){return c?La(yi(c),-Ee,Ee):c===0?c:0}function Vi(c){return c==null?"":uo(c)}var I_=ca(function(c,g){if(K(g)||wo(g)){Ho(g,Mr(g),c);return}for(var C in g)Ci.call(g,C)&&au(c,C,g[C])}),Om=ca(function(c,g){Ho(g,xo(g),c)}),mh=ca(function(c,g,C,z){Ho(g,xo(g),c,z)}),B_=ca(function(c,g,C,z){Ho(g,Mr(g),c,z)}),H_=fa(uu);function W_(c,g){var C=Ga(c);return g==null?C:kc(C,g)}var j_=bi(function(c,g){c=qi(c);var C=-1,z=g.length,te=z>2?g[2]:n;for(te&&d(g[0],g[1],te)&&(z=1);++C<z;)for(var me=g[C],Se=xo(me),Pe=-1,He=Se.length;++Pe<He;){var at=Se[Pe],st=c[at];(st===n||Pa(st,ro[at])&&!Ci.call(c,at))&&(c[at]=me[at])}return c}),q_=bi(function(c){return c.push(n,jl),un(Fm,n,c)});function U_(c,g){return ws(c,Xt(g,3),yo)}function Y_(c,g){return ws(c,Xt(g,3),Pl)}function $_(c,g){return c==null?c:lu(c,Xt(g,3),xo)}function G_(c,g){return c==null?c:Sc(c,Xt(g,3),xo)}function Z_(c,g){return c&&yo(c,Xt(g,3))}function X_(c,g){return c&&Pl(c,Xt(g,3))}function V_(c){return c==null?[]:Ol(c,Mr(c))}function K_(c){return c==null?[]:Ol(c,xo(c))}function zd(c,g,C){var z=c==null?n:Qa(c,g);return z===n?C:z}function Q_(c,g){return c!=null&&ah(c,g,Ff)}function Id(c,g){return c!=null&&ah(c,g,Rf)}var J_=Bc(function(c,g,C){g!=null&&typeof g.toString!="function"&&(g=oo.call(g)),c[g]=C},Hd(ko)),e1=Bc(function(c,g,C){g!=null&&typeof g.toString!="function"&&(g=oo.call(g)),Ci.call(c,g)?c[g].push(C):c[g]=[C]},Xt),t1=bi(hu);function Mr(c){return wo(c)?Ll(c):Os(c)}function xo(c){return wo(c)?Ll(c,!0):Xu(c)}function i1(c,g){var C={};return g=Xt(g,3),yo(c,function(z,te,me){Da(C,g(z,te,me),z)}),C}function n1(c,g){var C={};return g=Xt(g,3),yo(c,function(z,te,me){Da(C,te,g(z,te,me))}),C}var r1=ca(function(c,g,C){Bo(c,g,C)}),Fm=ca(function(c,g,C,z){Bo(c,g,C,z)}),o1=fa(function(c,g){var C={};if(c==null)return C;var z=!1;g=Ji(g,function(me){return me=ts(me,c),z||(z=me.length>1),me}),Ho(c,Yl(c),C),z&&(C=so(C,k|A|H,al));for(var te=g.length;te--;)Nl(C,g[te]);return C});function a1(c,g){return Rm(c,hh(Xt(g)))}var s1=fa(function(c,g){return c==null?{}:Uf(c,g)});function Rm(c,g){if(c==null)return{};var C=Ji(Yl(c),function(z){return[z]});return g=Xt(g),Yf(c,C,function(z,te){return g(z,te[0])})}function u1(c,g,C){g=ts(g,c);var z=-1,te=g.length;for(te||(te=1,c=n);++z<te;){var me=c==null?n:c[gn(g[z])];me===n&&(z=te,me=C),c=Is(me)?me.call(c):me}return c}function l1(c,g,C){return c==null?c:vu(c,g,C)}function c1(c,g,C,z){return z=typeof z=="function"?z:n,c==null?c:vu(c,g,C,z)}var Nm=nh(Mr),zm=nh(xo);function f1(c,g,C){var z=mi(c),te=z||Su(c)||Gl(c);if(g=Xt(g,4),C==null){var me=c&&c.constructor;te?C=z?new me:[]:On(c)?C=Is(me)?Ga(ao(c)):{}:C={}}return(te?Hr:yo)(c,function(Se,Pe,He){return g(C,Se,Pe,He)}),C}function h1(c,g){return c==null?!0:Nl(c,g)}function d1(c,g,C){return c==null?c:Oc(c,g,el(C))}function p1(c,g,C,z){return z=typeof z=="function"?z:n,c==null?c:Oc(c,g,el(C),z)}function Zl(c){return c==null?[]:Ko(c,Mr(c))}function m1(c){return c==null?[]:Ko(c,xo(c))}function g1(c,g,C){return C===n&&(C=g,g=n),C!==n&&(C=ma(C),C=C===C?C:0),g!==n&&(g=ma(g),g=g===g?g:0),La(ma(c),g,C)}function v1(c,g,C){return g=Bs(g),C===n?(C=g,g=0):C=Bs(C),c=ma(c),cu(c,g,C)}function b1(c,g,C){if(C&&typeof C!="boolean"&&d(c,g,C)&&(g=C=n),C===n&&(typeof g=="boolean"?(C=g,g=n):typeof c=="boolean"&&(C=c,c=n)),c===n&&g===n?(c=0,g=1):(c=Bs(c),g===n?(g=c,c=0):g=Bs(g)),c>g){var z=c;c=g,g=z}if(C||c%1||g%1){var te=$e();return oe(c+te*(g-c+Xo("1e-"+((te+"").length-1))),g)}return Rl(c,g)}var y1=wu(function(c,g,C){return g=g.toLowerCase(),c+(C?Im(g):g)});function Im(c){return Bd(Vi(c).toLowerCase())}function Bm(c){return c=Vi(c),c&&c.replace(xr,Cl).replace(gt,"")}function _1(c,g,C){c=Vi(c),g=uo(g);var z=c.length;C=C===n?z:La(yi(C),0,z);var te=C;return C-=g.length,C>=0&&c.slice(C,te)==g}function w1(c){return c=Vi(c),c&&wi.test(c)?c.replace(Ri,Er):c}function x1(c){return c=Vi(c),c&&Ki.test(c)?c.replace(Wi,"\\$&"):c}var k1=wu(function(c,g,C){return c+(C?"-":"")+g.toLowerCase()}),C1=wu(function(c,g,C){return c+(C?" ":"")+g.toLowerCase()}),E1=eh("toLowerCase");function S1(c,g,C){c=Vi(c),g=yi(g);var z=g?Sr(c):0;if(!g||z>=g)return c;var te=(g-z)/2;return Wl(aa(te),C)+c+Wl($a(te),C)}function T1(c,g,C){c=Vi(c),g=yi(g);var z=g?Sr(c):0;return g&&z<g?c+Wl(g-z,C):c}function A1(c,g,C){c=Vi(c),g=yi(g);var z=g?Sr(c):0;return g&&z<g?Wl(g-z,C)+c:c}function D1(c,g,C){return C||g==null?g=0:g&&(g=+g),je(Vi(c).replace(gr,""),g||0)}function L1(c,g,C){return(C?d(c,g,C):g===n)?g=1:g=yi(g),Pc(Vi(c),g)}function M1(){var c=arguments,g=Vi(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var P1=wu(function(c,g,C){return c+(C?"_":"")+g.toLowerCase()});function O1(c,g,C){return C&&typeof C!="number"&&d(c,g,C)&&(g=C=n),C=C===n?Me:C>>>0,C?(c=Vi(c),c&&(typeof g=="string"||g!=null&&!Nd(g))&&(g=uo(g),!g&&qa(c))?Ma(Tr(c),0,C):c.split(g,C)):[]}var F1=wu(function(c,g,C){return c+(C?" ":"")+Bd(g)});function R1(c,g,C){return c=Vi(c),C=C==null?0:La(yi(C),0,c.length),g=uo(g),c.slice(C,C+g.length)==g}function N1(c,g,C){var z=fe.templateSettings;C&&d(c,g,C)&&(g=n),c=Vi(c),g=mh({},g,z,rh);var te=mh({},g.imports,z.imports,rh),me=Mr(te),Se=Ko(te,me),Pe,He,at=0,st=g.interpolate||Tn,ht="__p += '",Dt=Ss((g.escape||Tn).source+"|"+st.source+"|"+(st===Bi?Gi:Tn).source+"|"+(g.evaluate||Tn).source+"|$","g"),qt="//# sourceURL="+(Ci.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zr+"]")+`
`;c.replace(Dt,function(ti,Ai,Fi,jo,co,qo){return Fi||(Fi=jo),ht+=c.slice(at,qo).replace(Nr,Jo),Ai&&(Pe=!0,ht+=`' +
__e(`+Ai+`) +
'`),co&&(He=!0,ht+=`';
`+co+`;
__p += '`),Fi&&(ht+=`' +
((__t = (`+Fi+`)) == null ? '' : __t) +
'`),at=qo+ti.length,ti}),ht+=`';
`;var ei=Ci.call(g,"variable")&&g.variable;if(!ei)ht=`with (obj) {
`+ht+`
}
`;else if(nr.test(ei))throw new Jt(h);ht=(He?ht.replace(mr,""):ht).replace(Rt,"$1").replace(sn,"$1;"),ht="function("+(ei||"obj")+`) {
`+(ei?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(He?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ht+`return __p
}`;var ki=Wm(function(){return Si(me,qt+"return "+ht).apply(n,Se)});if(ki.source=ht,Rd(ki))throw ki;return ki}function z1(c){return Vi(c).toLowerCase()}function I1(c){return Vi(c).toUpperCase()}function B1(c,g,C){if(c=Vi(c),c&&(C||g===n))return ju(c);if(!c||!(g=uo(g)))return c;var z=Tr(c),te=Tr(g),me=In(z,te),Se=Cs(z,te)+1;return Ma(z,me,Se).join("")}function H1(c,g,C){if(c=Vi(c),c&&(C||g===n))return c.slice(0,eu(c)+1);if(!c||!(g=uo(g)))return c;var z=Tr(c),te=Cs(z,Tr(g))+1;return Ma(z,0,te).join("")}function W1(c,g,C){if(c=Vi(c),c&&(C||g===n))return c.replace(gr,"");if(!c||!(g=uo(g)))return c;var z=Tr(c),te=In(z,Tr(g));return Ma(z,te).join("")}function j1(c,g){var C=ge,z=ce;if(On(g)){var te="separator"in g?g.separator:te;C="length"in g?yi(g.length):C,z="omission"in g?uo(g.omission):z}c=Vi(c);var me=c.length;if(qa(c)){var Se=Tr(c);me=Se.length}if(C>=me)return c;var Pe=C-Sr(z);if(Pe<1)return z;var He=Se?Ma(Se,0,Pe).join(""):c.slice(0,Pe);if(te===n)return He+z;if(Se&&(Pe+=He.length-Pe),Nd(te)){if(c.slice(Pe).search(te)){var at,st=He;for(te.global||(te=Ss(te.source,Vi(Qi.exec(te))+"g")),te.lastIndex=0;at=te.exec(st);)var ht=at.index;He=He.slice(0,ht===n?Pe:ht)}}else if(c.indexOf(uo(te),Pe)!=Pe){var Dt=He.lastIndexOf(te);Dt>-1&&(He=He.slice(0,Dt))}return He+z}function q1(c){return c=Vi(c),c&&pi.test(c)?c.replace(_i,tu):c}var U1=wu(function(c,g,C){return c+(C?" ":"")+g.toUpperCase()}),Bd=eh("toUpperCase");function Hm(c,g,C){return c=Vi(c),g=C?n:g,g===n?Po(c)?Es(c):xl(c):c.match(g)||[]}var Wm=bi(function(c,g){try{return un(c,n,g)}catch(C){return Rd(C)?C:new Jt(C)}}),Y1=fa(function(c,g){return Hr(g,function(C){C=gn(C),Da(c,C,Od(c[C],c))}),c});function $1(c){var g=c==null?0:c.length,C=Xt();return c=g?Ji(c,function(z){if(typeof z[1]!="function")throw new yr(f);return[C(z[0]),z[1]]}):[],bi(function(z){for(var te=-1;++te<g;){var me=c[te];if(un(me[0],this,z))return un(me[1],this,z)}})}function G1(c){return gd(so(c,k))}function Hd(c){return function(){return c}}function Z1(c,g){return c==null||c!==c?g:c}var X1=th(),V1=th(!0);function ko(c){return c}function Wd(c){return pu(typeof c=="function"?c:so(c,k))}function K1(c){return jf(so(c,k))}function Q1(c,g){return Lc(c,so(g,k))}var J1=bi(function(c,g){return function(C){return hu(C,c,g)}}),ew=bi(function(c,g){return function(C){return hu(c,C,g)}});function jd(c,g,C){var z=Mr(g),te=Ol(g,z);C==null&&!(On(g)&&(te.length||!z.length))&&(C=g,g=c,c=this,te=Ol(g,Mr(g)));var me=!(On(C)&&"chain"in C)||!!C.chain,Se=Is(c);return Hr(te,function(Pe){var He=g[Pe];c[Pe]=He,Se&&(c.prototype[Pe]=function(){var at=this.__chain__;if(me||at){var st=c(this.__wrapped__),ht=st.__actions__=Vr(this.__actions__);return ht.push({func:He,args:arguments,thisArg:c}),st.__chain__=at,st}return He.apply(c,mo([this.value()],arguments))})}),c}function tw(){return Ni._===this&&(Ni._=_r),this}function qd(){}function iw(c){return c=yi(c),bi(function(g){return gu(g,c)})}var nw=Hl(Ji),rw=Hl(Gs),ow=Hl(Vo);function jm(c){return v(c)?Zs(gn(c)):bd(c)}function aw(c){return function(g){return c==null?n:Qa(c,g)}}var sw=zs(),uw=zs(!0);function Ud(){return[]}function Yd(){return!1}function lw(){return{}}function cw(){return""}function fw(){return!0}function hw(c,g){if(c=yi(c),c<1||c>Ee)return[];var C=Me,z=oe(c,Me);g=Xt(g),c-=Me;for(var te=Wu(z,g);++C<c;)g(C);return te}function dw(c){return mi(c)?Ji(c,gn):Wo(c)?[c]:Vr(an(Vi(c)))}function pw(c){var g=++Sl;return Vi(c)+g}var mw=xu(function(c,g){return c+g},0),gw=Hc("ceil"),vw=xu(function(c,g){return c/g},1),bw=Hc("floor");function yw(c){return c&&c.length?Ml(c,ko,Fl):n}function _w(c,g){return c&&c.length?Ml(c,Xt(g,2),Fl):n}function ww(c){return xa(c,ko)}function xw(c,g){return xa(c,Xt(g,2))}function kw(c){return c&&c.length?Ml(c,ko,Fs):n}function Cw(c,g){return c&&c.length?Ml(c,Xt(g,2),Fs):n}var Ew=xu(function(c,g){return c*g},1),Sw=Hc("round"),Tw=xu(function(c,g){return c-g},0);function Aw(c){return c&&c.length?Ks(c,ko):0}function Dw(c,g){return c&&c.length?Ks(c,Xt(g,2)):0}return fe.after=Ky,fe.ary=ym,fe.assign=I_,fe.assignIn=Om,fe.assignInWith=mh,fe.assignWith=B_,fe.at=H_,fe.before=_m,fe.bind=Od,fe.bindAll=Y1,fe.bindKey=wm,fe.castArray=l_,fe.chain=gm,fe.chunk=fr,fe.compact=Hn,fe.concat=Pn,fe.cond=$1,fe.conforms=G1,fe.constant=Hd,fe.countBy=Ay,fe.create=W_,fe.curry=xm,fe.curryRight=km,fe.debounce=Cm,fe.defaults=j_,fe.defaultsDeep=q_,fe.defer=Qy,fe.delay=Jy,fe.difference=vn,fe.differenceBy=jr,fe.differenceWith=Cu,fe.drop=rs,fe.dropRight=wr,fe.dropRightWhile=ha,fe.dropWhile=er,fe.fill=jc,fe.filter=Ly,fe.flatMap=Oy,fe.flatMapDeep=Fy,fe.flatMapDepth=Ry,fe.flatten=as,fe.flattenDeep=Lr,fe.flattenDepth=Eu,fe.flip=e_,fe.flow=X1,fe.flowRight=V1,fe.fromPairs=qc,fe.functions=V_,fe.functionsIn=K_,fe.groupBy=Ny,fe.initial=Ob,fe.intersection=Fb,fe.intersectionBy=Rb,fe.intersectionWith=Nb,fe.invert=J_,fe.invertBy=e1,fe.invokeMap=Iy,fe.iteratee=Wd,fe.keyBy=By,fe.keys=Mr,fe.keysIn=xo,fe.map=lh,fe.mapKeys=i1,fe.mapValues=n1,fe.matches=K1,fe.matchesProperty=Q1,fe.memoize=fh,fe.merge=r1,fe.mergeWith=Fm,fe.method=J1,fe.methodOf=ew,fe.mixin=jd,fe.negate=hh,fe.nthArg=iw,fe.omit=o1,fe.omitBy=a1,fe.once=t_,fe.orderBy=Hy,fe.over=nw,fe.overArgs=i_,fe.overEvery=rw,fe.overSome=ow,fe.partial=Fd,fe.partialRight=Em,fe.partition=Wy,fe.pick=s1,fe.pickBy=Rm,fe.property=jm,fe.propertyOf=aw,fe.pull=Hb,fe.pullAll=pm,fe.pullAllBy=Wb,fe.pullAllWith=jb,fe.pullAt=qb,fe.range=sw,fe.rangeRight=uw,fe.rearg=n_,fe.reject=Uy,fe.remove=Ub,fe.rest=r_,fe.reverse=Md,fe.sampleSize=$y,fe.set=l1,fe.setWith=c1,fe.shuffle=Gy,fe.slice=Yb,fe.sortBy=Vy,fe.sortedUniq=Qb,fe.sortedUniqBy=Jb,fe.split=O1,fe.spread=o_,fe.tail=ey,fe.take=ty,fe.takeRight=iy,fe.takeRightWhile=ny,fe.takeWhile=ry,fe.tap=yy,fe.throttle=a_,fe.thru=uh,fe.toArray=Lm,fe.toPairs=Nm,fe.toPairsIn=zm,fe.toPath=dw,fe.toPlainObject=Pm,fe.transform=f1,fe.unary=s_,fe.union=oy,fe.unionBy=ay,fe.unionWith=sy,fe.uniq=uy,fe.uniqBy=ly,fe.uniqWith=cy,fe.unset=h1,fe.unzip=Pd,fe.unzipWith=mm,fe.update=d1,fe.updateWith=p1,fe.values=Zl,fe.valuesIn=m1,fe.without=fy,fe.words=Hm,fe.wrap=u_,fe.xor=hy,fe.xorBy=dy,fe.xorWith=py,fe.zip=my,fe.zipObject=gy,fe.zipObjectDeep=vy,fe.zipWith=by,fe.entries=Nm,fe.entriesIn=zm,fe.extend=Om,fe.extendWith=mh,jd(fe,fe),fe.add=mw,fe.attempt=Wm,fe.camelCase=y1,fe.capitalize=Im,fe.ceil=gw,fe.clamp=g1,fe.clone=c_,fe.cloneDeep=h_,fe.cloneDeepWith=d_,fe.cloneWith=f_,fe.conformsTo=p_,fe.deburr=Bm,fe.defaultTo=Z1,fe.divide=vw,fe.endsWith=_1,fe.eq=Pa,fe.escape=w1,fe.escapeRegExp=x1,fe.every=Dy,fe.find=My,fe.findIndex=da,fe.findKey=U_,fe.findLast=Py,fe.findLastIndex=os,fe.findLastKey=Y_,fe.floor=bw,fe.forEach=vm,fe.forEachRight=bm,fe.forIn=$_,fe.forInRight=G_,fe.forOwn=Z_,fe.forOwnRight=X_,fe.get=zd,fe.gt=m_,fe.gte=g_,fe.has=Q_,fe.hasIn=Id,fe.head=dm,fe.identity=ko,fe.includes=zy,fe.indexOf=Pb,fe.inRange=v1,fe.invoke=t1,fe.isArguments=cl,fe.isArray=mi,fe.isArrayBuffer=v_,fe.isArrayLike=wo,fe.isArrayLikeObject=tr,fe.isBoolean=b_,fe.isBuffer=Su,fe.isDate=y_,fe.isElement=__,fe.isEmpty=w_,fe.isEqual=x_,fe.isEqualWith=k_,fe.isError=Rd,fe.isFinite=C_,fe.isFunction=Is,fe.isInteger=Sm,fe.isLength=dh,fe.isMap=Tm,fe.isMatch=E_,fe.isMatchWith=S_,fe.isNaN=T_,fe.isNative=A_,fe.isNil=L_,fe.isNull=D_,fe.isNumber=Am,fe.isObject=On,fe.isObjectLike=Wn,fe.isPlainObject=Uc,fe.isRegExp=Nd,fe.isSafeInteger=M_,fe.isSet=Dm,fe.isString=ph,fe.isSymbol=Wo,fe.isTypedArray=Gl,fe.isUndefined=P_,fe.isWeakMap=O_,fe.isWeakSet=F_,fe.join=zb,fe.kebabCase=k1,fe.last=pa,fe.lastIndexOf=Ib,fe.lowerCase=C1,fe.lowerFirst=E1,fe.lt=R_,fe.lte=N_,fe.max=yw,fe.maxBy=_w,fe.mean=ww,fe.meanBy=xw,fe.min=kw,fe.minBy=Cw,fe.stubArray=Ud,fe.stubFalse=Yd,fe.stubObject=lw,fe.stubString=cw,fe.stubTrue=fw,fe.multiply=Ew,fe.nth=Bb,fe.noConflict=tw,fe.noop=qd,fe.now=ch,fe.pad=S1,fe.padEnd=T1,fe.padStart=A1,fe.parseInt=D1,fe.random=b1,fe.reduce=jy,fe.reduceRight=qy,fe.repeat=L1,fe.replace=M1,fe.result=u1,fe.round=Sw,fe.runInContext=Ne,fe.sample=Yy,fe.size=Zy,fe.snakeCase=P1,fe.some=Xy,fe.sortedIndex=$b,fe.sortedIndexBy=Gb,fe.sortedIndexOf=Zb,fe.sortedLastIndex=Xb,fe.sortedLastIndexBy=Vb,fe.sortedLastIndexOf=Kb,fe.startCase=F1,fe.startsWith=R1,fe.subtract=Tw,fe.sum=Aw,fe.sumBy=Dw,fe.template=N1,fe.times=hw,fe.toFinite=Bs,fe.toInteger=yi,fe.toLength=Mm,fe.toLower=z1,fe.toNumber=ma,fe.toSafeInteger=z_,fe.toString=Vi,fe.toUpper=I1,fe.trim=B1,fe.trimEnd=H1,fe.trimStart=W1,fe.truncate=j1,fe.unescape=q1,fe.uniqueId=pw,fe.upperCase=U1,fe.upperFirst=Bd,fe.each=vm,fe.eachRight=bm,fe.first=dm,jd(fe,function(){var c={};return yo(fe,function(g,C){Ci.call(fe.prototype,C)||(c[C]=g)}),c}(),{chain:!1}),fe.VERSION=a,Hr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){fe[c].placeholder=fe}),Hr(["drop","take"],function(c,g){Gt.prototype[c]=function(C){C=C===n?1:U(yi(C),0);var z=this.__filtered__&&!g?new Gt(this):this.clone();return z.__filtered__?z.__takeCount__=oe(C,z.__takeCount__):z.__views__.push({size:oe(C,Me),type:c+(z.__dir__<0?"Right":"")}),z},Gt.prototype[c+"Right"]=function(C){return this.reverse()[c](C).reverse()}}),Hr(["filter","map","takeWhile"],function(c,g){var C=g+1,z=C==ne||C==se;Gt.prototype[c]=function(te){var me=this.clone();return me.__iteratees__.push({iteratee:Xt(te,3),type:C}),me.__filtered__=me.__filtered__||z,me}}),Hr(["head","last"],function(c,g){var C="take"+(g?"Right":"");Gt.prototype[c]=function(){return this[C](1).value()[0]}}),Hr(["initial","tail"],function(c,g){var C="drop"+(g?"":"Right");Gt.prototype[c]=function(){return this.__filtered__?new Gt(this):this[C](1)}}),Gt.prototype.compact=function(){return this.filter(ko)},Gt.prototype.find=function(c){return this.filter(c).head()},Gt.prototype.findLast=function(c){return this.reverse().find(c)},Gt.prototype.invokeMap=bi(function(c,g){return typeof c=="function"?new Gt(this):this.map(function(C){return hu(C,c,g)})}),Gt.prototype.reject=function(c){return this.filter(hh(Xt(c)))},Gt.prototype.slice=function(c,g){c=yi(c);var C=this;return C.__filtered__&&(c>0||g<0)?new Gt(C):(c<0?C=C.takeRight(-c):c&&(C=C.drop(c)),g!==n&&(g=yi(g),C=g<0?C.dropRight(-g):C.take(g-c)),C)},Gt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Gt.prototype.toArray=function(){return this.take(Me)},yo(Gt.prototype,function(c,g){var C=/^(?:filter|find|map|reject)|While$/.test(g),z=/^(?:head|last)$/.test(g),te=fe[z?"take"+(g=="last"?"Right":""):g],me=z||/^find/.test(g);te&&(fe.prototype[g]=function(){var Se=this.__wrapped__,Pe=z?[1]:arguments,He=Se instanceof Gt,at=Pe[0],st=He||mi(Se),ht=function(Ai){var Fi=te.apply(fe,mo([Ai],Pe));return z&&Dt?Fi[0]:Fi};st&&C&&typeof at=="function"&&at.length!=1&&(He=st=!1);var Dt=this.__chain__,qt=!!this.__actions__.length,ei=me&&!Dt,ki=He&&!qt;if(!me&&st){Se=ki?Se:new Gt(this);var ti=c.apply(Se,Pe);return ti.__actions__.push({func:uh,args:[ht],thisArg:n}),new Di(ti,Dt)}return ei&&ki?c.apply(this,Pe):(ti=this.thru(ht),ei?z?ti.value()[0]:ti.value():ti)})}),Hr(["pop","push","shift","sort","splice","unshift"],function(c){var g=nu[c],C=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",z=/^(?:pop|shift)$/.test(c);fe.prototype[c]=function(){var te=arguments;if(z&&!this.__chain__){var me=this.value();return g.apply(mi(me)?me:[],te)}return this[C](function(Se){return g.apply(mi(Se)?Se:[],te)})}}),yo(Gt.prototype,function(c,g){var C=fe[g];if(C){var z=C.name+"";Ci.call(Xr,z)||(Xr[z]=[]),Xr[z].push({name:g,func:C})}}),Xr[Bl(n,O).name]=[{name:"wrapper",func:n}],Gt.prototype.clone=Dn,Gt.prototype.reverse=Yu,Gt.prototype.value=ud,fe.prototype.at=_y,fe.prototype.chain=wy,fe.prototype.commit=xy,fe.prototype.next=ky,fe.prototype.plant=Ey,fe.prototype.reverse=Sy,fe.prototype.toJSON=fe.prototype.valueOf=fe.prototype.value=Ty,fe.prototype.first=fe.prototype.head,oa&&(fe.prototype[oa]=Cy),fe},$r=ta();Br?((Br.exports=$r)._=$r,br._=$r):Ni._=$r}).call(AE)}(ef,ef.exports)),ef.exports}var af=DE();const nb={list:[],trans:null,selectedDrawer:null},LE={drawersGetById:(t,e)=>n=>t.list.find(a=>a.id===n),getDrawerFilters:t=>t.selectedDrawer?t.selectedDrawer.filters:null},ME={drawersAddInstance({commit:t},e){t(wv,{drawer:e})},drawersRemoveInstance({commit:t},e){t(xv,{drawerToRemove:e})},drawersInitData({commit:t},{drawer:e,entity:n,ids:a,filters:l,maxLength:u,minLength:f,entityName:h}){if(t(Dv,{drawer:e,entity:n,ids:a,filters:l}),!a||a.length===0||!n)t(Mv,{drawer:e,maxLength:u,minLength:f});else{const b=a.map(x=>x&&x.document?x.document:x);Qv(n,b,l).then(x=>{if(x&&h===$v){const w={...x,items:a.map(function(k,A){return{document:x.items[A],hotspot:k.hotspot,imageCropAlignment:k.imageCropAlignment}})};t(Cp,{drawer:e,result:w,maxLength:u,minLength:f});return}t(Cp,{drawer:e,result:x,maxLength:u,minLength:f})}).catch(x=>{t(Lv,{drawer:e,error:x})})}},drawersAddItem({commit:t,state:e},{drawer:n,item:a,newIndex:l}){let u=e.selectedDrawer;n&&(u=n),u.acceptMore&&t(kv,{drawer:u,item:a,newIndex:l})},drawersMoveItem({commit:t},{drawer:e,item:n}){},drawersRemoveItem({commit:t},{drawer:e,item:n}){t(Cv,{drawer:e,item:n})},drawersExplorerButtonClick({commit:t,dispatch:e},n){t(Ev,{drawer:n}),nb.selectedDrawer.isActive?e("explorerOpen",{entity:n.entity}):e("explorerClose")},drawersDropzoneButtonClick({state:t,dispatch:e},n){n.isDropzoneEnable?e("drawersDisableDropzone",{drawer:n}):e("drawersEnableDropzone",{drawer:n})},drawersEnableDropzone({commit:t},{drawer:e}){t(Tv,{drawer:e})},drawersDisableDropzone({commit:t},{drawer:e}){t(Av,{drawer:e})}},PE={[wv](t,{drawer:e}){t.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[xv](t,{drawerToRemove:e}){t.list=af.remove(t.list,n=>n._uid===e._uid)},[Ev](t,{drawer:e}){t.list.forEach(n=>{n!==e&&(n.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,t.selectedDrawer=e},[kv](t,{drawer:e,item:n,newIndex:a=0}){e.items.push(n),e.acceptMore=e.items.length<e.maxLength},[Sv](t,{drawer:e,newList:n}){e.items=n,e.acceptMore=e.items.length<e.maxLength},[Cv](t,{drawer:e,item:n}){let a=e.items.indexOf(n);a>=0&&e.items.splice(a,1),e.acceptMore=e.items.length<e.maxLength},[Jp](t){t=Yg(t)},[Cp](t,{drawer:e,result:n,maxLength:a,minLength:l}){e.isLoading=!1,e.items=n.items,e.trans=n.trans,e.maxLength=a,e.minLength=l,e.acceptMore=n.items.length<a},[Dv](t,{drawer:e,entity:n,filters:a}){e.isLoading=!0,e.entity=n,e.filters=a,e.currentListingView=Sp.getListingView(n)},[Lv](t,{drawer:e,error:n}){e.isLoading=!1,e.errorMessage=n.message},[Mv](t,{drawer:e,maxLength:n,minLength:a}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=n,e.minLength=a},[bs](t){t=Yg(t)},[Tv](t,{drawer:e}){t.list.forEach(n=>{n.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[Av](t,{drawer:e}){e.isDropzoneEnable=!1}};function Yg(t){return t.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),t.selectedDrawer=null,t}const OE={state:nb,getters:LE,actions:ME,mutations:PE},FE={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},RE={...FE},NE={getFilterExplorerSelectedItem:t=>t.selectedItem},zE={filterExplorerOpen({commit:t,dispatch:e,getters:n}){const a=n.getExplorerEntity;t(dv,{entity:a}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:t,dispatch:e},{item:n}){t(em,{item:n}),e("explorerMakeSearch")},filterExplorerClose({commit:t}){t(pv)},filterExplorerReset({commit:t}){t(vv)},filterExplorerToggle({dispatch:t,state:e}){e.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch({commit:t,state:e}){t(mv);const n=e.entity;return im.getFilters({entity:n}).then(a=>{a?t(gv,{result:a}):t(wp)}).catch(a=>{t(wp,{error:a})})}},IE={[em](t,{item:e}){t.selectedItem=e},[mv](t){t.isLoading=!0},[gv](t,{result:e}){t.items=e.items,t.isLoading=!1},[dv](t,{entity:e}){switch(t.isOpen=!0,t.entity=e,e){case cc:t.icons.normal="uk-icon-folder",t.icons.active="uk-icon-folder-open";break;case xf:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break;case fc:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break}},[pv](t){t.isOpen=!1},[vv](t){t.selectedItem=null,t.items=[]},[wp](t,{error:e}){t.isLoading=!1,t.error="Request failed"},[bs](t){t.isLoading=!1,t.isOpen=!1,t.selectedItem=null}},BE={state:RE,getters:NE,actions:zE,mutations:IE},HE={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},WE={tagsSearchExisting:t=>(e,n)=>t.isTagExisting},jE={tagCreatorReady({commit:t}){t(Rv)},tagsCreate({commit:t,dispatch:e},{tagName:n}){t(Pv,{tagName:n}),Xv({tagName:n}).then(a=>{t(Ov,a),e("drawersAddItem",{item:a}),e("explorerResetSearchTerms")}).catch(a=>{t(Fv,a)})}},qE={[Rv](t){t.isReady=!0},[Zh](t,{searchTerms:e}){t.searchTerms=e},[Qp](t,{result:e}){if(t.isTagExisting=!1,t.isReady&&t.searchTerms!=="")for(let n of e.items)n.name&&t.searchTerms&&n.name.toLowerCase()===t.searchTerms.toLowerCase()&&(t.isTagExisting=!0)},[Pv](t){t.isLoading=!0},[Ov](t,e){t.isLoading=!1},[Fv](t,e){t.isLoading=!1,t.error=e.message}},UE={state:HE,getters:WE,actions:jE,mutations:qE},YE={document:null,isVisible:!1,isLoading:!1},$E={documentPreviewGetDocument:t=>t.document},GE={documentPreviewInit({commit:t},{document:e}){t(Nv,{document:e})},documentPreviewDestroy({commit:t}){t(zv)},documentPreviewClose({commit:t}){t(Bv)},documentPreviewOpen({commit:t},{document:e}){t(Iv,{document:e})}},ZE={[Nv](t,{document:e}){t.document=e},[zv](t){t.isVisible=!1,t.document=null},[bv](t){t.document&&!t.isVisible?t.isVisible=!0:(t.isVisible=!1,t.document=null)},[bs](t){t.isVisible=!1,t.document=null},[Iv](t,{document:e}){e&&(t.document=e),t.isVisible=!0},[Bv](t){t.isVisible=!1,t.document=null}},XE={state:YE,getters:$E,actions:GE,mutations:ZE};function VE(t){let e=atob(t.split(",")[1]),n=[];for(let l=0;l<e.length;l++)n.push(e.charCodeAt(l));const a=t.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(n)],{type:a})}const KE={isLoading:!0,originalUrl:"",editor:null},QE={blanchetteEditorInit({commit:t,dispatch:e},{url:n,editor:a}){e("blanchetteEditorIsLoading"),t(Hv,{url:n,editor:a})},blanchetteEditorIsLoading({commit:t}){t(Ep)},blanchetteEditorLoaded({commit:t}){t(Oh)},blanchetteEditorSave({commit:t,state:e},{url:n,filename:a}){const l=VE(n),u=e.editor.getElementsByTagName("form")[0];let f=new FormData(u);return f.append("form[editDocument]",l,a),t(Ep),CC(f).then(async h=>{const b=await h.json();if(t(Oh),b&&b.path)window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:b.message,status:"success"}})),t(jv,{path:b.path});else throw new Error("No path found")}).catch(async h=>{t(Wv,{error:await h.response.json()}),t(Oh)})}},JE={[Hv](t,{url:e,editor:n}){t.originalUrl=e,t.editor=n},[Ep](t){t.isLoading=!0},[Wv](t,{error:e}){t.error=e.message},[Oh](t){t.isLoading=!1},[jv](t,{path:e}){t.originalUrl=e}},eS={state:KE,actions:QE,mutations:JE};sc.use(C0);const wh=new C0.Store({modules:{nodesSourceSearch:ZC,explorer:TE,filterExplorer:BE,drawers:OE,tags:UE,documentPreview:XE,blanchetteEditor:eS},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[yv](t){t.connected=!0},[xp](t){t.connected=!1},[_v](t){t.healthChecked=!0},[kp](t){t.healthChecked=!1}},actions:{escape({commit:t}){t(bs)}}});class tS{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.addEventListener("keyup",e=>{(e.key==="Escape"||e.keyCode===27)&&this.store.commit(bs)})}bindSpace(){window.addEventListener("keyup",e=>{if(!(!e.key==="Space"||!this.store.getters.documentPreviewGetDocument))return e.preventDefault(),this.store.commit(bv,{event:e}),!1})}}class iS{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(xp):this.store.commit(kp);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(xp);return}(e.status===200||e.status===202)&&(this.store.commit(yv),this.store.commit(_v),this.check())}}catch{this.store.commit(kp)}},this.intervalDuration)}}const nS={data:function(){return{searchTerms:null}},computed:{...ps({items:t=>t.nodesSourceSearch.items,isFocus:t=>t.nodesSourceSearch.isFocus,isOpen:t=>t.nodesSourceSearch.isOpen})},methods:{...js(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),enableFocus:af.debounce(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:af.debounce(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(t){t&&t.key==="Escape"&&(t.preventDefault(),this.nodeSourceSearchEscape())}},watch:{searchTerms:af.debounce(function(t,e){this.nodesSourceSearchUpdate(t,e)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:nm}},rS=null,oS=null;var aS=Nn(nS,rS,oS,!1,null,null);const sS=aS.exports,uS={name:"rz-button",props:["isActive","callback"]};var lS=function(){var e=this,n=e._self._c;return n("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},cS=[],fS=Nn(uS,lS,cS,!1,null,null);const hS=fS.exports;var Rh={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Nh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nh=function(e){return typeof e}:Nh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function dS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ya(){return ya=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ya.apply(this,arguments)}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){dS(t,l,n[l])})}return t}function pS(t,e){if(t==null)return{};var n={},a=Object.keys(t),l,u;for(u=0;u<a.length;u++)l=a[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function mS(t,e){if(t==null)return{};var n=pS(t,e),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)a=u[l],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function gS(t){return vS(t)||bS(t)||yS()}function vS(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function bS(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function yS(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var _S="1.10.2";function Ws(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var qs=Ws(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kf=Ws(/Edge/i),$g=Ws(/firefox/i),Tp=Ws(/safari/i)&&!Ws(/chrome/i)&&!Ws(/android/i),rb=Ws(/iP(ad|od|hone)/i),wS=Ws(/chrome/i)&&Ws(/android/i),ob={capture:!1,passive:!1};function Mi(t,e,n){t.addEventListener(e,n,!qs&&ob)}function Ti(t,e,n){t.removeEventListener(e,n,!qs&&ob)}function Xh(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function xS(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function za(t,e,n,a){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Xh(t,e):Xh(t,e))||a&&t===n)return t;if(t===n)break}while(t=xS(t))}return null}var Gg=/\s+/g;function Rn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var a=(" "+t.className+" ").replace(Gg," ").replace(" "+e+" "," ");t.className=(a+(n?" "+e:"")).replace(Gg," ")}}function Ht(t,e,n){var a=t&&t.style;if(a){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=n+(typeof n=="string"?"":"px")}}function vl(t,e){var n="";if(typeof t=="string")n=t;else do{var a=Ht(t,"transform");a&&a!=="none"&&(n=a+" "+n)}while(!e&&(t=t.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function ab(t,e,n){if(t){var a=t.getElementsByTagName(e),l=0,u=a.length;if(n)for(;l<u;l++)n(a[l],l);return a}return[]}function fs(){var t=document.scrollingElement;return t||document.documentElement}function Un(t,e,n,a,l){if(!(!t.getBoundingClientRect&&t!==window)){var u,f,h,b,x,w,k;if(t!==window&&t!==fs()?(u=t.getBoundingClientRect(),f=u.top,h=u.left,b=u.bottom,x=u.right,w=u.height,k=u.width):(f=0,h=0,b=window.innerHeight,x=window.innerWidth,w=window.innerHeight,k=window.innerWidth),(e||n)&&t!==window&&(l=l||t.parentNode,!qs))do if(l&&l.getBoundingClientRect&&(Ht(l,"transform")!=="none"||n&&Ht(l,"position")!=="static")){var A=l.getBoundingClientRect();f-=A.top+parseInt(Ht(l,"border-top-width")),h-=A.left+parseInt(Ht(l,"border-left-width")),b=f+u.height,x=h+u.width;break}while(l=l.parentNode);if(a&&t!==window){var H=vl(l||t),N=H&&H.a,q=H&&H.d;H&&(f/=q,h/=N,k/=N,w/=q,b=f+w,x=h+k)}return{top:f,left:h,bottom:b,right:x,width:k,height:w}}}function Zg(t,e,n){for(var a=Ou(t,!0),l=Un(t)[e];a;){var u=Un(a)[n],f=void 0;if(f=l>=u,!f)return a;if(a===fs())break;a=Ou(a,!1)}return!1}function Vh(t,e,n){for(var a=0,l=0,u=t.children;l<u.length;){if(u[l].style.display!=="none"&&u[l]!==ii.ghost&&u[l]!==ii.dragged&&za(u[l],n.draggable,t,!1)){if(a===e)return u[l];a++}l++}return null}function rm(t,e){for(var n=t.lastElementChild;n&&(n===ii.ghost||Ht(n,"display")==="none"||e&&!Xh(n,e));)n=n.previousElementSibling;return n||null}function qn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ii.clone&&(!e||Xh(t,e))&&n++;return n}function Xg(t){var e=0,n=0,a=fs();if(t)do{var l=vl(t),u=l.a,f=l.d;e+=t.scrollLeft*u,n+=t.scrollTop*f}while(t!==a&&(t=t.parentNode));return[e,n]}function kS(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===t[n][a])return Number(n)}return-1}function Ou(t,e){if(!t||!t.getBoundingClientRect)return fs();var n=t,a=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=Ht(n);if(n.clientWidth<n.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return fs();if(a||e)return n;a=!0}}while(n=n.parentNode);return fs()}function CS(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function np(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var sf;function sb(t,e){return function(){if(!sf){var n=arguments,a=this;n.length===1?t.call(a,n[0]):t.apply(a,n),sf=setTimeout(function(){sf=void 0},e)}}}function ES(){clearTimeout(sf),sf=void 0}function ub(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function om(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Vg(t,e){Ht(t,"position","absolute"),Ht(t,"top",e.top),Ht(t,"left",e.left),Ht(t,"width",e.width),Ht(t,"height",e.height)}function rp(t){Ht(t,"position",""),Ht(t,"top",""),Ht(t,"left",""),Ht(t,"width",""),Ht(t,"height","")}var Qr="Sortable"+new Date().getTime();function SS(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(l){if(!(Ht(l,"display")==="none"||l===ii.ghost)){t.push({target:l,rect:Un(l)});var u=Iu({},t[t.length-1].rect);if(l.thisAnimationDuration){var f=vl(l,!0);f&&(u.top-=f.f,u.left-=f.e)}l.fromRect=u}})}},addAnimationState:function(a){t.push(a)},removeAnimationState:function(a){t.splice(kS(t,{target:a}),1)},animateAll:function(a){var l=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var u=!1,f=0;t.forEach(function(h){var b=0,x=h.target,w=x.fromRect,k=Un(x),A=x.prevFromRect,H=x.prevToRect,N=h.rect,q=vl(x,!0);q&&(k.top-=q.f,k.left-=q.e),x.toRect=k,x.thisAnimationDuration&&np(A,k)&&!np(w,k)&&(N.top-k.top)/(N.left-k.left)===(w.top-k.top)/(w.left-k.left)&&(b=AS(N,A,H,l.options)),np(k,w)||(x.prevFromRect=w,x.prevToRect=k,b||(b=l.options.animation),l.animate(x,N,k,b)),b&&(u=!0,f=Math.max(f,b),clearTimeout(x.animationResetTimer),x.animationResetTimer=setTimeout(function(){x.animationTime=0,x.prevFromRect=null,x.fromRect=null,x.prevToRect=null,x.thisAnimationDuration=null},b),x.thisAnimationDuration=b)}),clearTimeout(e),u?e=setTimeout(function(){typeof a=="function"&&a()},f):typeof a=="function"&&a(),t=[]},animate:function(a,l,u,f){if(f){Ht(a,"transition",""),Ht(a,"transform","");var h=vl(this.el),b=h&&h.a,x=h&&h.d,w=(l.left-u.left)/(b||1),k=(l.top-u.top)/(x||1);a.animatingX=!!w,a.animatingY=!!k,Ht(a,"transform","translate3d("+w+"px,"+k+"px,0)"),TS(a),Ht(a,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),Ht(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){Ht(a,"transition",""),Ht(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},f)}}}}function TS(t){return t.offsetWidth}function AS(t,e,n,a){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*a.animation}var Yc=[],op={initializeByDefault:!0},Cf={mount:function(e){for(var n in op)op.hasOwnProperty(n)&&!(n in e)&&(e[n]=op[n]);Yc.push(e)},pluginEvent:function(e,n,a){var l=this;this.eventCanceled=!1,a.cancel=function(){l.eventCanceled=!0};var u=e+"Global";Yc.forEach(function(f){n[f.pluginName]&&(n[f.pluginName][u]&&n[f.pluginName][u](Iu({sortable:n},a)),n.options[f.pluginName]&&n[f.pluginName][e]&&n[f.pluginName][e](Iu({sortable:n},a)))})},initializePlugins:function(e,n,a,l){Yc.forEach(function(h){var b=h.pluginName;if(!(!e.options[b]&&!h.initializeByDefault)){var x=new h(e,n,e.options);x.sortable=e,x.options=e.options,e[b]=x,ya(a,x.defaults)}});for(var u in e.options)if(e.options.hasOwnProperty(u)){var f=this.modifyOption(e,u,e.options[u]);typeof f<"u"&&(e.options[u]=f)}},getEventProperties:function(e,n){var a={};return Yc.forEach(function(l){typeof l.eventProperties=="function"&&ya(a,l.eventProperties.call(n[l.pluginName],e))}),a},modifyOption:function(e,n,a){var l;return Yc.forEach(function(u){e[u.pluginName]&&u.optionListeners&&typeof u.optionListeners[n]=="function"&&(l=u.optionListeners[n].call(e[u.pluginName],a))}),l}};function tf(t){var e=t.sortable,n=t.rootEl,a=t.name,l=t.targetEl,u=t.cloneEl,f=t.toEl,h=t.fromEl,b=t.oldIndex,x=t.newIndex,w=t.oldDraggableIndex,k=t.newDraggableIndex,A=t.originalEvent,H=t.putSortable,N=t.extraEventProperties;if(e=e||n&&n[Qr],!!e){var q,j=e.options,O="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!qs&&!kf?q=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(q=document.createEvent("Event"),q.initEvent(a,!0,!0)),q.to=f||n,q.from=h||n,q.item=l||n,q.clone=u,q.oldIndex=b,q.newIndex=x,q.oldDraggableIndex=w,q.newDraggableIndex=k,q.originalEvent=A,q.pullMode=H?H.lastPutMode:void 0;var S=Iu({},N,Cf.getEventProperties(a,e));for(var P in S)q[P]=S[P];n&&n.dispatchEvent(q),j[O]&&j[O].call(e,q)}}var Co=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=a.evt,u=mS(a,["evt"]);Cf.pluginEvent.bind(ii)(e,n,Iu({dragEl:kt,parentEl:hr,ghostEl:vi,rootEl:Fn,nextEl:ml,lastDownEl:zh,cloneEl:jn,cloneHidden:Mu,dragStarted:nf,putSortable:qr,activeSortable:ii.active,originalEvent:l,oldIndex:tc,oldDraggableIndex:uf,newIndex:$o,newDraggableIndex:Du,hideGhostForTarget:hb,unhideGhostForTarget:db,cloneNowHidden:function(){Mu=!0},cloneNowShown:function(){Mu=!1},dispatchSortableEvent:function(h){fo({sortable:n,name:h,originalEvent:l})}},u))};function fo(t){tf(Iu({putSortable:qr,cloneEl:jn,targetEl:kt,rootEl:Fn,oldIndex:tc,oldDraggableIndex:uf,newIndex:$o,newDraggableIndex:Du},t))}var kt,hr,vi,Fn,ml,zh,jn,Mu,tc,$o,uf,Du,xh,qr,ec=!1,Kh=!1,Qh=[],fl,Fa,ap,sp,Kg,Qg,nf,Kl,lf,cf=!1,kh=!1,Ih,Kr,up=[],Ap=!1,Jh=[],ad=typeof document<"u",Ch=rb,Jg=kf||qs?"cssFloat":"float",DS=ad&&!wS&&!rb&&"draggable"in document.createElement("div"),lb=function(){if(ad){if(qs)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),cb=function(e,n){var a=Ht(e),l=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),u=Vh(e,0,n),f=Vh(e,1,n),h=u&&Ht(u),b=f&&Ht(f),x=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Un(u).width,w=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+Un(f).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(u&&h.float&&h.float!=="none"){var k=h.float==="left"?"left":"right";return f&&(b.clear==="both"||b.clear===k)?"vertical":"horizontal"}return u&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||x>=l&&a[Jg]==="none"||f&&a[Jg]==="none"&&x+w>l)?"vertical":"horizontal"},LS=function(e,n,a){var l=a?e.left:e.top,u=a?e.right:e.bottom,f=a?e.width:e.height,h=a?n.left:n.top,b=a?n.right:n.bottom,x=a?n.width:n.height;return l===h||u===b||l+f/2===h+x/2},MS=function(e,n){var a;return Qh.some(function(l){if(!rm(l)){var u=Un(l),f=l[Qr].options.emptyInsertThreshold,h=e>=u.left-f&&e<=u.right+f,b=n>=u.top-f&&n<=u.bottom+f;if(f&&h&&b)return a=l}}),a},fb=function(e){function n(u,f){return function(h,b,x,w){var k=h.options.group.name&&b.options.group.name&&h.options.group.name===b.options.group.name;if(u==null&&(f||k))return!0;if(u==null||u===!1)return!1;if(f&&u==="clone")return u;if(typeof u=="function")return n(u(h,b,x,w),f)(h,b,x,w);var A=(f?h:b).options.group.name;return u===!0||typeof u=="string"&&u===A||u.join&&u.indexOf(A)>-1}}var a={},l=e.group;(!l||Nh(l)!="object")&&(l={name:l}),a.name=l.name,a.checkPull=n(l.pull,!0),a.checkPut=n(l.put),a.revertClone=l.revertClone,e.group=a},hb=function(){!lb&&vi&&Ht(vi,"display","none")},db=function(){!lb&&vi&&Ht(vi,"display","")};ad&&document.addEventListener("click",function(t){if(Kh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Kh=!1,!1},!0);var hl=function(e){if(kt){e=e.touches?e.touches[0]:e;var n=MS(e.clientX,e.clientY);if(n){var a={};for(var l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);a.target=a.rootEl=n,a.preventDefault=void 0,a.stopPropagation=void 0,n[Qr]._onDragOver(a)}}},PS=function(e){kt&&kt.parentNode[Qr]._isOutsideThisEl(e.target)};function ii(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ya({},e),t[Qr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return cb(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,h){f.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ii.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};Cf.initializePlugins(this,t,n);for(var a in n)!(a in e)&&(e[a]=n[a]);fb(e);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=e.forceFallback?!1:DS,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Mi(t,"pointerdown",this._onTapStart):(Mi(t,"mousedown",this._onTapStart),Mi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mi(t,"dragover",this),Mi(t,"dragenter",this)),Qh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ya(this,SS())}ii.prototype={constructor:ii,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Kl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,kt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,a=this.el,l=this.options,u=l.preventOnFilter,f=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,b=(h||e).target,x=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||b,w=l.filter;if(BS(a),!kt&&!(/mousedown|pointerdown/.test(f)&&e.button!==0||l.disabled)&&!x.isContentEditable&&(b=za(b,l.draggable,a,!1),!(b&&b.animated)&&zh!==b)){if(tc=qn(b),uf=qn(b,l.draggable),typeof w=="function"){if(w.call(this,e,b,this)){fo({sortable:n,rootEl:x,name:"filter",targetEl:b,toEl:a,fromEl:a}),Co("filter",n,{evt:e}),u&&e.cancelable&&e.preventDefault();return}}else if(w&&(w=w.split(",").some(function(k){if(k=za(x,k.trim(),a,!1),k)return fo({sortable:n,rootEl:k,name:"filter",targetEl:b,fromEl:a,toEl:a}),Co("filter",n,{evt:e}),!0}),w)){u&&e.cancelable&&e.preventDefault();return}l.handle&&!za(x,l.handle,a,!1)||this._prepareDragStart(e,h,b)}}},_prepareDragStart:function(e,n,a){var l=this,u=l.el,f=l.options,h=u.ownerDocument,b;if(a&&!kt&&a.parentNode===u){var x=Un(a);if(Fn=u,kt=a,hr=kt.parentNode,ml=kt.nextSibling,zh=a,xh=f.group,ii.dragged=kt,fl={target:kt,clientX:(n||e).clientX,clientY:(n||e).clientY},Kg=fl.clientX-x.left,Qg=fl.clientY-x.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,kt.style["will-change"]="all",b=function(){if(Co("delayEnded",l,{evt:e}),ii.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!$g&&l.nativeDraggable&&(kt.draggable=!0),l._triggerDragStart(e,n),fo({sortable:l,name:"choose",originalEvent:e}),Rn(kt,f.chosenClass,!0)},f.ignore.split(",").forEach(function(w){ab(kt,w.trim(),cp)}),Mi(h,"dragover",hl),Mi(h,"mousemove",hl),Mi(h,"touchmove",hl),Mi(h,"mouseup",l._onDrop),Mi(h,"touchend",l._onDrop),Mi(h,"touchcancel",l._onDrop),$g&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kt.draggable=!0),Co("delayStart",this,{evt:e}),f.delay&&(!f.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(kf||qs))){if(ii.eventCanceled){this._onDrop();return}Mi(h,"mouseup",l._disableDelayedDrag),Mi(h,"touchend",l._disableDelayedDrag),Mi(h,"touchcancel",l._disableDelayedDrag),Mi(h,"mousemove",l._delayedDragTouchMoveHandler),Mi(h,"touchmove",l._delayedDragTouchMoveHandler),f.supportPointer&&Mi(h,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(b,f.delay)}else b()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kt&&cp(kt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._disableDelayedDrag),Ti(e,"touchend",this._disableDelayedDrag),Ti(e,"touchcancel",this._disableDelayedDrag),Ti(e,"mousemove",this._delayedDragTouchMoveHandler),Ti(e,"touchmove",this._delayedDragTouchMoveHandler),Ti(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Mi(document,"pointermove",this._onTouchMove):n?Mi(document,"touchmove",this._onTouchMove):Mi(document,"mousemove",this._onTouchMove):(Mi(kt,"dragend",this),Mi(Fn,"dragstart",this._onDragStart));try{document.selection?Bh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ec=!1,Fn&&kt){Co("dragStarted",this,{evt:n}),this.nativeDraggable&&Mi(document,"dragover",PS);var a=this.options;!e&&Rn(kt,a.dragClass,!1),Rn(kt,a.ghostClass,!0),ii.active=this,e&&this._appendGhost(),fo({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Fa){this._lastX=Fa.clientX,this._lastY=Fa.clientY,hb();for(var e=document.elementFromPoint(Fa.clientX,Fa.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Fa.clientX,Fa.clientY),e!==n);)n=e;if(kt.parentNode[Qr]._isOutsideThisEl(e),n)do{if(n[Qr]){var a=void 0;if(a=n[Qr]._onDragOver({clientX:Fa.clientX,clientY:Fa.clientY,target:e,rootEl:n}),a&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);db()}},_onTouchMove:function(e){if(fl){var n=this.options,a=n.fallbackTolerance,l=n.fallbackOffset,u=e.touches?e.touches[0]:e,f=vi&&vl(vi,!0),h=vi&&f&&f.a,b=vi&&f&&f.d,x=Ch&&Kr&&Xg(Kr),w=(u.clientX-fl.clientX+l.x)/(h||1)+(x?x[0]-up[0]:0)/(h||1),k=(u.clientY-fl.clientY+l.y)/(b||1)+(x?x[1]-up[1]:0)/(b||1);if(!ii.active&&!ec){if(a&&Math.max(Math.abs(u.clientX-this._lastX),Math.abs(u.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(vi){f?(f.e+=w-(ap||0),f.f+=k-(sp||0)):f={a:1,b:0,c:0,d:1,e:w,f:k};var A="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");Ht(vi,"webkitTransform",A),Ht(vi,"mozTransform",A),Ht(vi,"msTransform",A),Ht(vi,"transform",A),ap=w,sp=k,Fa=u}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!vi){var e=this.options.fallbackOnBody?document.body:Fn,n=Un(kt,!0,Ch,!0,e),a=this.options;if(Ch){for(Kr=e;Ht(Kr,"position")==="static"&&Ht(Kr,"transform")==="none"&&Kr!==document;)Kr=Kr.parentNode;Kr!==document.body&&Kr!==document.documentElement?(Kr===document&&(Kr=fs()),n.top+=Kr.scrollTop,n.left+=Kr.scrollLeft):Kr=fs(),up=Xg(Kr)}vi=kt.cloneNode(!0),Rn(vi,a.ghostClass,!1),Rn(vi,a.fallbackClass,!0),Rn(vi,a.dragClass,!0),Ht(vi,"transition",""),Ht(vi,"transform",""),Ht(vi,"box-sizing","border-box"),Ht(vi,"margin",0),Ht(vi,"top",n.top),Ht(vi,"left",n.left),Ht(vi,"width",n.width),Ht(vi,"height",n.height),Ht(vi,"opacity","0.8"),Ht(vi,"position",Ch?"absolute":"fixed"),Ht(vi,"zIndex","100000"),Ht(vi,"pointerEvents","none"),ii.ghost=vi,e.appendChild(vi),Ht(vi,"transform-origin",Kg/parseInt(vi.style.width)*100+"% "+Qg/parseInt(vi.style.height)*100+"%")}},_onDragStart:function(e,n){var a=this,l=e.dataTransfer,u=a.options;if(Co("dragStart",this,{evt:e}),ii.eventCanceled){this._onDrop();return}Co("setupClone",this),ii.eventCanceled||(jn=om(kt),jn.draggable=!1,jn.style["will-change"]="",this._hideClone(),Rn(jn,this.options.chosenClass,!1),ii.clone=jn),a.cloneId=Bh(function(){Co("clone",a),!ii.eventCanceled&&(a.options.removeCloneOnHide||Fn.insertBefore(jn,kt),a._hideClone(),fo({sortable:a,name:"clone"}))}),!n&&Rn(kt,u.dragClass,!0),n?(Kh=!0,a._loopId=setInterval(a._emulateDragOver,50)):(Ti(document,"mouseup",a._onDrop),Ti(document,"touchend",a._onDrop),Ti(document,"touchcancel",a._onDrop),l&&(l.effectAllowed="move",u.setData&&u.setData.call(a,l,kt)),Mi(document,"drop",a),Ht(kt,"transform","translateZ(0)")),ec=!0,a._dragStartId=Bh(a._dragStarted.bind(a,n,e)),Mi(document,"selectstart",a),nf=!0,Tp&&Ht(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,a=e.target,l,u,f,h=this.options,b=h.group,x=ii.active,w=xh===b,k=h.sort,A=qr||x,H,N=this,q=!1;if(Ap)return;function j(ye,Ee){Co(ye,N,Iu({evt:e,isOwner:w,axis:H?"vertical":"horizontal",revert:f,dragRect:l,targetRect:u,canSort:k,fromSortable:A,target:a,completed:S,onMove:function(Ie,Me){return lp(Fn,n,kt,l,Ie,Un(Ie),e,Me)},changed:P},Ee))}function O(){j("dragOverAnimationCapture"),N.captureAnimationState(),N!==A&&A.captureAnimationState()}function S(ye){return j("dragOverCompleted",{insertion:ye}),ye&&(w?x._hideClone():x._showClone(N),N!==A&&(Rn(kt,qr?qr.options.ghostClass:x.options.ghostClass,!1),Rn(kt,h.ghostClass,!0)),qr!==N&&N!==ii.active?qr=N:N===ii.active&&qr&&(qr=null),A===N&&(N._ignoreWhileAnimating=a),N.animateAll(function(){j("dragOverAnimationComplete"),N._ignoreWhileAnimating=null}),N!==A&&(A.animateAll(),A._ignoreWhileAnimating=null)),(a===kt&&!kt.animated||a===n&&!a.animated)&&(Kl=null),!h.dragoverBubble&&!e.rootEl&&a!==document&&(kt.parentNode[Qr]._isOutsideThisEl(e.target),!ye&&hl(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),q=!0}function P(){$o=qn(kt),Du=qn(kt,h.draggable),fo({sortable:N,name:"change",toEl:n,newIndex:$o,newDraggableIndex:Du,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=za(a,h.draggable,n,!0),j("dragOver"),ii.eventCanceled)return q;if(kt.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||N._ignoreWhileAnimating===a)return S(!1);if(Kh=!1,x&&!h.disabled&&(w?k||(f=!Fn.contains(kt)):qr===this||(this.lastPutMode=xh.checkPull(this,x,kt,e))&&b.checkPut(this,x,kt,e))){if(H=this._getDirection(e,a)==="vertical",l=Un(kt),j("dragOverValid"),ii.eventCanceled)return q;if(f)return hr=Fn,O(),this._hideClone(),j("revert"),ii.eventCanceled||(ml?Fn.insertBefore(kt,ml):Fn.appendChild(kt)),S(!0);var W=rm(n,h.draggable);if(!W||RS(e,H,this)&&!W.animated){if(W===kt)return S(!1);if(W&&n===e.target&&(a=W),a&&(u=Un(a)),lp(Fn,n,kt,l,a,u,e,!!a)!==!1)return O(),n.appendChild(kt),hr=n,P(),S(!0)}else if(a.parentNode===n){u=Un(a);var I=0,G,J=kt.parentNode!==n,ue=!LS(kt.animated&&kt.toRect||l,a.animated&&a.toRect||u,H),de=H?"top":"left",ge=Zg(a,"top","top")||Zg(kt,"top","top"),ce=ge?ge.scrollTop:void 0;Kl!==a&&(G=u[de],cf=!1,kh=!ue&&h.invertSwap||J),I=NS(e,a,u,H,ue?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,kh,Kl===a);var Te;if(I!==0){var ve=qn(kt);do ve-=I,Te=hr.children[ve];while(Te&&(Ht(Te,"display")==="none"||Te===vi))}if(I===0||Te===a)return S(!1);Kl=a,lf=I;var ne=a.nextElementSibling,D=!1;D=I===1;var se=lp(Fn,n,kt,l,a,u,e,D);if(se!==!1)return(se===1||se===-1)&&(D=se===1),Ap=!0,setTimeout(FS,30),O(),D&&!ne?n.appendChild(kt):a.parentNode.insertBefore(kt,D?ne:a),ge&&ub(ge,0,ce-ge.scrollTop),hr=kt.parentNode,G!==void 0&&!kh&&(Ih=Math.abs(G-Un(a)[de])),P(),S(!0)}if(n.contains(kt))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ti(document,"mousemove",this._onTouchMove),Ti(document,"touchmove",this._onTouchMove),Ti(document,"pointermove",this._onTouchMove),Ti(document,"dragover",hl),Ti(document,"mousemove",hl),Ti(document,"touchmove",hl)},_offUpEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._onDrop),Ti(e,"touchend",this._onDrop),Ti(e,"pointerup",this._onDrop),Ti(e,"touchcancel",this._onDrop),Ti(document,"selectstart",this)},_onDrop:function(e){var n=this.el,a=this.options;if($o=qn(kt),Du=qn(kt,a.draggable),Co("drop",this,{evt:e}),hr=kt&&kt.parentNode,$o=qn(kt),Du=qn(kt,a.draggable),ii.eventCanceled){this._nulling();return}ec=!1,kh=!1,cf=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Dp(this.cloneId),Dp(this._dragStartId),this.nativeDraggable&&(Ti(document,"drop",this),Ti(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Tp&&Ht(document.body,"user-select",""),Ht(kt,"transform",""),e&&(nf&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),vi&&vi.parentNode&&vi.parentNode.removeChild(vi),(Fn===hr||qr&&qr.lastPutMode!=="clone")&&jn&&jn.parentNode&&jn.parentNode.removeChild(jn),kt&&(this.nativeDraggable&&Ti(kt,"dragend",this),cp(kt),kt.style["will-change"]="",nf&&!ec&&Rn(kt,qr?qr.options.ghostClass:this.options.ghostClass,!1),Rn(kt,this.options.chosenClass,!1),fo({sortable:this,name:"unchoose",toEl:hr,newIndex:null,newDraggableIndex:null,originalEvent:e}),Fn!==hr?($o>=0&&(fo({rootEl:hr,name:"add",toEl:hr,fromEl:Fn,originalEvent:e}),fo({sortable:this,name:"remove",toEl:hr,originalEvent:e}),fo({rootEl:hr,name:"sort",toEl:hr,fromEl:Fn,originalEvent:e}),fo({sortable:this,name:"sort",toEl:hr,originalEvent:e})),qr&&qr.save()):$o!==tc&&$o>=0&&(fo({sortable:this,name:"update",toEl:hr,originalEvent:e}),fo({sortable:this,name:"sort",toEl:hr,originalEvent:e})),ii.active&&(($o==null||$o===-1)&&($o=tc,Du=uf),fo({sortable:this,name:"end",toEl:hr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Co("nulling",this),Fn=kt=hr=vi=ml=jn=zh=Mu=fl=Fa=nf=$o=Du=tc=uf=Kl=lf=qr=xh=ii.dragged=ii.ghost=ii.clone=ii.active=null,Jh.forEach(function(e){e.checked=!0}),Jh.length=ap=sp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":kt&&(this._onDragOver(e),OS(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,a=this.el.children,l=0,u=a.length,f=this.options;l<u;l++)n=a[l],za(n,f.draggable,this.el,!1)&&e.push(n.getAttribute(f.dataIdAttr)||IS(n));return e},sort:function(e){var n={},a=this.el;this.toArray().forEach(function(l,u){var f=a.children[u];za(f,this.options.draggable,a,!1)&&(n[l]=f)},this),e.forEach(function(l){n[l]&&(a.removeChild(n[l]),a.appendChild(n[l]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return za(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var a=this.options;if(n===void 0)return a[e];var l=Cf.modifyOption(this,e,n);typeof l<"u"?a[e]=l:a[e]=n,e==="group"&&fb(a)},destroy:function(){Co("destroy",this);var e=this.el;e[Qr]=null,Ti(e,"mousedown",this._onTapStart),Ti(e,"touchstart",this._onTapStart),Ti(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ti(e,"dragover",this),Ti(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qh.splice(Qh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Mu){if(Co("hideClone",this),ii.eventCanceled)return;Ht(jn,"display","none"),this.options.removeCloneOnHide&&jn.parentNode&&jn.parentNode.removeChild(jn),Mu=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Mu){if(Co("showClone",this),ii.eventCanceled)return;Fn.contains(kt)&&!this.options.group.revertClone?Fn.insertBefore(jn,kt):ml?Fn.insertBefore(jn,ml):Fn.appendChild(jn),this.options.group.revertClone&&this.animate(kt,jn),Ht(jn,"display",""),Mu=!1}}};function OS(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function lp(t,e,n,a,l,u,f,h){var b,x=t[Qr],w=x.options.onMove,k;return window.CustomEvent&&!qs&&!kf?b=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent("move",!0,!0)),b.to=e,b.from=t,b.dragged=n,b.draggedRect=a,b.related=l||e,b.relatedRect=u||Un(e),b.willInsertAfter=h,b.originalEvent=f,t.dispatchEvent(b),w&&(k=w.call(x,b,f)),k}function cp(t){t.draggable=!1}function FS(){Ap=!1}function RS(t,e,n){var a=Un(rm(n.el,n.options.draggable)),l=10;return e?t.clientX>a.right+l||t.clientX<=a.right&&t.clientY>a.bottom&&t.clientX>=a.left:t.clientX>a.right&&t.clientY>a.top||t.clientX<=a.right&&t.clientY>a.bottom+l}function NS(t,e,n,a,l,u,f,h){var b=a?t.clientY:t.clientX,x=a?n.height:n.width,w=a?n.top:n.left,k=a?n.bottom:n.right,A=!1;if(!f){if(h&&Ih<x*l){if(!cf&&(lf===1?b>w+x*u/2:b<k-x*u/2)&&(cf=!0),cf)A=!0;else if(lf===1?b<w+Ih:b>k-Ih)return-lf}else if(b>w+x*(1-l)/2&&b<k-x*(1-l)/2)return zS(e)}return A=A||f,A&&(b<w+x*u/2||b>k-x*u/2)?b>w+x/2?1:-1:0}function zS(t){return qn(kt)<qn(t)?1:-1}function IS(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,a=0;n--;)a+=e.charCodeAt(n);return a.toString(36)}function BS(t){Jh.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var a=e[n];a.checked&&Jh.push(a)}}function Bh(t){return setTimeout(t,0)}function Dp(t){return clearTimeout(t)}ad&&Mi(document,"touchmove",function(t){(ii.active||ec)&&t.cancelable&&t.preventDefault()});ii.utils={on:Mi,off:Ti,css:Ht,find:ab,is:function(e,n){return!!za(e,n,e,!1)},extend:CS,throttle:sb,closest:za,toggleClass:Rn,clone:om,index:qn,nextTick:Bh,cancelNextTick:Dp,detectDirection:cb,getChild:Vh};ii.get=function(t){return t[Qr]};ii.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(ii.utils=Iu({},ii.utils,a.utils)),Cf.mount(a)})};ii.create=function(t,e){return new ii(t,e)};ii.version=_S;var dr=[],rf,Lp,Mp=!1,fp,hp,ed,of;function HS(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var a=n.originalEvent;this.sortable.nativeDraggable?Mi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mi(document,"pointermove",this._handleFallbackAutoScroll):a.touches?Mi(document,"touchmove",this._handleFallbackAutoScroll):Mi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var a=n.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?Ti(document,"dragover",this._handleAutoScroll):(Ti(document,"pointermove",this._handleFallbackAutoScroll),Ti(document,"touchmove",this._handleFallbackAutoScroll),Ti(document,"mousemove",this._handleFallbackAutoScroll)),e0(),Hh(),ES()},nulling:function(){ed=Lp=rf=Mp=of=fp=hp=null,dr.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,a){var l=this,u=(n.touches?n.touches[0]:n).clientX,f=(n.touches?n.touches[0]:n).clientY,h=document.elementFromPoint(u,f);if(ed=n,a||kf||qs||Tp){dp(n,this.options,h,a);var b=Ou(h,!0);Mp&&(!of||u!==fp||f!==hp)&&(of&&e0(),of=setInterval(function(){var x=Ou(document.elementFromPoint(u,f),!0);x!==b&&(b=x,Hh()),dp(n,l.options,x,a)},10),fp=u,hp=f)}else{if(!this.options.bubbleScroll||Ou(h,!0)===fs()){Hh();return}dp(n,this.options,Ou(h,!1),!1)}}},ya(t,{pluginName:"scroll",initializeByDefault:!0})}function Hh(){dr.forEach(function(t){clearInterval(t.pid)}),dr=[]}function e0(){clearInterval(of)}var dp=sb(function(t,e,n,a){if(e.scroll){var l=(t.touches?t.touches[0]:t).clientX,u=(t.touches?t.touches[0]:t).clientY,f=e.scrollSensitivity,h=e.scrollSpeed,b=fs(),x=!1,w;Lp!==n&&(Lp=n,Hh(),rf=e.scroll,w=e.scrollFn,rf===!0&&(rf=Ou(n,!0)));var k=0,A=rf;do{var H=A,N=Un(H),q=N.top,j=N.bottom,O=N.left,S=N.right,P=N.width,W=N.height,I=void 0,G=void 0,J=H.scrollWidth,ue=H.scrollHeight,de=Ht(H),ge=H.scrollLeft,ce=H.scrollTop;H===b?(I=P<J&&(de.overflowX==="auto"||de.overflowX==="scroll"||de.overflowX==="visible"),G=W<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"||de.overflowY==="visible")):(I=P<J&&(de.overflowX==="auto"||de.overflowX==="scroll"),G=W<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"));var Te=I&&(Math.abs(S-l)<=f&&ge+P<J)-(Math.abs(O-l)<=f&&!!ge),ve=G&&(Math.abs(j-u)<=f&&ce+W<ue)-(Math.abs(q-u)<=f&&!!ce);if(!dr[k])for(var ne=0;ne<=k;ne++)dr[ne]||(dr[ne]={});(dr[k].vx!=Te||dr[k].vy!=ve||dr[k].el!==H)&&(dr[k].el=H,dr[k].vx=Te,dr[k].vy=ve,clearInterval(dr[k].pid),(Te!=0||ve!=0)&&(x=!0,dr[k].pid=setInterval((function(){a&&this.layer===0&&ii.active._onTouchMove(ed);var D=dr[this.layer].vy?dr[this.layer].vy*h:0,se=dr[this.layer].vx?dr[this.layer].vx*h:0;typeof w=="function"&&w.call(ii.dragged.parentNode[Qr],se,D,t,ed,dr[this.layer].el)!=="continue"||ub(dr[this.layer].el,se,D)}).bind({layer:k}),24))),k++}while(e.bubbleScroll&&A!==b&&(A=Ou(A,!1)));Mp=x}},30),pb=function(e){var n=e.originalEvent,a=e.putSortable,l=e.dragEl,u=e.activeSortable,f=e.dispatchSortableEvent,h=e.hideGhostForTarget,b=e.unhideGhostForTarget;if(n){var x=a||u;h();var w=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,k=document.elementFromPoint(w.clientX,w.clientY);b(),x&&!x.el.contains(k)&&(f("spill"),this.onSpill({dragEl:l,putSortable:a}))}};function am(){}am.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var l=Vh(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(n,l):this.sortable.el.appendChild(n),this.sortable.animateAll(),a&&a.animateAll()},drop:pb};ya(am,{pluginName:"revertOnSpill"});function sm(){}sm.prototype={onSpill:function(e){var n=e.dragEl,a=e.putSortable,l=a||this.sortable;l.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),l.animateAll()},drop:pb};ya(sm,{pluginName:"removeOnSpill"});var ga;function WS(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var a=n.dragEl;ga=a},dragOverValid:function(n){var a=n.completed,l=n.target,u=n.onMove,f=n.activeSortable,h=n.changed,b=n.cancel;if(f.options.swap){var x=this.sortable.el,w=this.options;if(l&&l!==x){var k=ga;u(l)!==!1?(Rn(l,w.swapClass,!0),ga=l):ga=null,k&&k!==ga&&Rn(k,w.swapClass,!1)}h(),a(!0),b()}},drop:function(n){var a=n.activeSortable,l=n.putSortable,u=n.dragEl,f=l||this.sortable,h=this.options;ga&&Rn(ga,h.swapClass,!1),ga&&(h.swap||l&&l.options.swap)&&u!==ga&&(f.captureAnimationState(),f!==a&&a.captureAnimationState(),jS(u,ga),f.animateAll(),f!==a&&a.animateAll())},nulling:function(){ga=null}},ya(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ga}}})}function jS(t,e){var n=t.parentNode,a=e.parentNode,l,u;!n||!a||n.isEqualNode(e)||a.isEqualNode(t)||(l=qn(t),u=qn(e),n.isEqualNode(a)&&l<u&&u++,n.insertBefore(e,n.children[l]),a.insertBefore(t,a.children[u]))}var di=[],Yo=[],$c,Ra,Gc=!1,Uo=!1,Ql=!1,ln,Zc,Eh;function qS(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Mi(document,"pointerup",this._deselectMultiDrag):(Mi(document,"mouseup",this._deselectMultiDrag),Mi(document,"touchend",this._deselectMultiDrag)),Mi(document,"keydown",this._checkKeyDown),Mi(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(l,u){var f="";di.length&&Ra===e?di.forEach(function(h,b){f+=(b?", ":"")+h.textContent}):f=u.textContent,l.setData("Text",f)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var a=n.dragEl;ln=a},delayEnded:function(){this.isMultiDrag=~di.indexOf(ln)},setupClone:function(n){var a=n.sortable,l=n.cancel;if(this.isMultiDrag){for(var u=0;u<di.length;u++)Yo.push(om(di[u])),Yo[u].sortableIndex=di[u].sortableIndex,Yo[u].draggable=!1,Yo[u].style["will-change"]="",Rn(Yo[u],this.options.selectedClass,!1),di[u]===ln&&Rn(Yo[u],this.options.chosenClass,!1);a._hideClone(),l()}},clone:function(n){var a=n.sortable,l=n.rootEl,u=n.dispatchSortableEvent,f=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||di.length&&Ra===a&&(t0(!0,l),u("clone"),f()))},showClone:function(n){var a=n.cloneNowShown,l=n.rootEl,u=n.cancel;this.isMultiDrag&&(t0(!1,l),Yo.forEach(function(f){Ht(f,"display","")}),a(),Eh=!1,u())},hideClone:function(n){var a=this;n.sortable;var l=n.cloneNowHidden,u=n.cancel;this.isMultiDrag&&(Yo.forEach(function(f){Ht(f,"display","none"),a.options.removeCloneOnHide&&f.parentNode&&f.parentNode.removeChild(f)}),l(),Eh=!0,u())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Ra&&Ra.multiDrag._deselectMultiDrag(),di.forEach(function(a){a.sortableIndex=qn(a)}),di=di.sort(function(a,l){return a.sortableIndex-l.sortableIndex}),Ql=!0},dragStarted:function(n){var a=this,l=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(l.captureAnimationState(),this.options.animation)){di.forEach(function(f){f!==ln&&Ht(f,"position","absolute")});var u=Un(ln,!1,!0,!0);di.forEach(function(f){f!==ln&&Vg(f,u)}),Uo=!0,Gc=!0}l.animateAll(function(){Uo=!1,Gc=!1,a.options.animation&&di.forEach(function(f){rp(f)}),a.options.sort&&Sh()})}},dragOver:function(n){var a=n.target,l=n.completed,u=n.cancel;Uo&&~di.indexOf(a)&&(l(!1),u())},revert:function(n){var a=n.fromSortable,l=n.rootEl,u=n.sortable,f=n.dragRect;di.length>1&&(di.forEach(function(h){u.addAnimationState({target:h,rect:Uo?Un(h):f}),rp(h),h.fromRect=f,a.removeAnimationState(h)}),Uo=!1,US(!this.options.removeCloneOnHide,l))},dragOverCompleted:function(n){var a=n.sortable,l=n.isOwner,u=n.insertion,f=n.activeSortable,h=n.parentEl,b=n.putSortable,x=this.options;if(u){if(l&&f._hideClone(),Gc=!1,x.animation&&di.length>1&&(Uo||!l&&!f.options.sort&&!b)){var w=Un(ln,!1,!0,!0);di.forEach(function(A){A!==ln&&(Vg(A,w),h.appendChild(A))}),Uo=!0}if(!l)if(Uo||Sh(),di.length>1){var k=Eh;f._showClone(a),f.options.animation&&!Eh&&k&&Yo.forEach(function(A){f.addAnimationState({target:A,rect:Zc}),A.fromRect=Zc,A.thisAnimationDuration=null})}else f._showClone(a)}},dragOverAnimationCapture:function(n){var a=n.dragRect,l=n.isOwner,u=n.activeSortable;if(di.forEach(function(h){h.thisAnimationDuration=null}),u.options.animation&&!l&&u.multiDrag.isMultiDrag){Zc=ya({},a);var f=vl(ln,!0);Zc.top-=f.f,Zc.left-=f.e}},dragOverAnimationComplete:function(){Uo&&(Uo=!1,Sh())},drop:function(n){var a=n.originalEvent,l=n.rootEl,u=n.parentEl,f=n.sortable,h=n.dispatchSortableEvent,b=n.oldIndex,x=n.putSortable,w=x||this.sortable;if(a){var k=this.options,A=u.children;if(!Ql)if(k.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Rn(ln,k.selectedClass,!~di.indexOf(ln)),~di.indexOf(ln))di.splice(di.indexOf(ln),1),$c=null,tf({sortable:f,rootEl:l,name:"deselect",targetEl:ln});else{if(di.push(ln),tf({sortable:f,rootEl:l,name:"select",targetEl:ln}),a.shiftKey&&$c&&f.el.contains($c)){var H=qn($c),N=qn(ln);if(~H&&~N&&H!==N){var q,j;for(N>H?(j=H,q=N):(j=N,q=H+1);j<q;j++)~di.indexOf(A[j])||(Rn(A[j],k.selectedClass,!0),di.push(A[j]),tf({sortable:f,rootEl:l,name:"select",targetEl:A[j]}))}}else $c=ln;Ra=w}if(Ql&&this.isMultiDrag){if((u[Qr].options.sort||u!==l)&&di.length>1){var O=Un(ln),S=qn(ln,":not(."+this.options.selectedClass+")");if(!Gc&&k.animation&&(ln.thisAnimationDuration=null),w.captureAnimationState(),!Gc&&(k.animation&&(ln.fromRect=O,di.forEach(function(W){if(W.thisAnimationDuration=null,W!==ln){var I=Uo?Un(W):O;W.fromRect=I,w.addAnimationState({target:W,rect:I})}})),Sh(),di.forEach(function(W){A[S]?u.insertBefore(W,A[S]):u.appendChild(W),S++}),b===qn(ln))){var P=!1;di.forEach(function(W){if(W.sortableIndex!==qn(W)){P=!0;return}}),P&&h("update")}di.forEach(function(W){rp(W)}),w.animateAll()}Ra=w}(l===u||x&&x.lastPutMode!=="clone")&&Yo.forEach(function(W){W.parentNode&&W.parentNode.removeChild(W)})}},nullingGlobal:function(){this.isMultiDrag=Ql=!1,Yo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ti(document,"pointerup",this._deselectMultiDrag),Ti(document,"mouseup",this._deselectMultiDrag),Ti(document,"touchend",this._deselectMultiDrag),Ti(document,"keydown",this._checkKeyDown),Ti(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Ql<"u"&&Ql)&&Ra===this.sortable&&!(n&&za(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;di.length;){var a=di[0];Rn(a,this.options.selectedClass,!1),di.shift(),tf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ya(t,{pluginName:"multiDrag",utils:{select:function(n){var a=n.parentNode[Qr];!a||!a.options.multiDrag||~di.indexOf(n)||(Ra&&Ra!==a&&(Ra.multiDrag._deselectMultiDrag(),Ra=a),Rn(n,a.options.selectedClass,!0),di.push(n))},deselect:function(n){var a=n.parentNode[Qr],l=di.indexOf(n);!a||!a.options.multiDrag||!~l||(Rn(n,a.options.selectedClass,!1),di.splice(l,1))}},eventProperties:function(){var n=this,a=[],l=[];return di.forEach(function(u){a.push({multiDragElement:u,index:u.sortableIndex});var f;Uo&&u!==ln?f=-1:Uo?f=qn(u,":not(."+n.options.selectedClass+")"):f=qn(u),l.push({multiDragElement:u,index:f})}),{items:gS(di),clones:[].concat(Yo),oldIndicies:a,newIndicies:l}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function US(t,e){di.forEach(function(n,a){var l=e.children[n.sortableIndex+(t?Number(a):0)];l?e.insertBefore(n,l):e.appendChild(n)})}function t0(t,e){Yo.forEach(function(n,a){var l=e.children[n.sortableIndex+(t?Number(a):0)];l?e.insertBefore(n,l):e.appendChild(n)})}function Sh(){di.forEach(function(t){t!==ln&&t.parentNode&&t.parentNode.removeChild(t)})}ii.mount(new HS);ii.mount(sm,am);const YS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:qS,Sortable:ii,Swap:WS,default:ii},Symbol.toStringTag,{value:"Module"})),$S=k0(YS);var GS=Rh.exports,i0;function ZS(){return i0||(i0=1,function(t,e){(function(a,l){t.exports=l($S)})(typeof self<"u"?self:GS,function(n){return function(a){var l={};function u(f){if(l[f])return l[f].exports;var h=l[f]={i:f,l:!1,exports:{}};return a[f].call(h.exports,h,h.exports,u),h.l=!0,h.exports}return u.m=a,u.c=l,u.d=function(f,h,b){u.o(f,h)||Object.defineProperty(f,h,{enumerable:!0,get:b})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,h){if(h&1&&(f=u(f)),h&8||h&4&&typeof f=="object"&&f&&f.__esModule)return f;var b=Object.create(null);if(u.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:f}),h&2&&typeof f!="string")for(var x in f)u.d(b,x,(function(w){return f[w]}).bind(null,x));return b},u.n=function(f){var h=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(h,"a",h),h},u.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)},u.p="",u(u.s="fb15")}({"01f9":function(a,l,u){var f=u("2d00"),h=u("5ca1"),b=u("2aba"),x=u("32e9"),w=u("84f2"),k=u("41a0"),A=u("7f20"),H=u("38fd"),N=u("2b4c")("iterator"),q=!([].keys&&"next"in[].keys()),j="@@iterator",O="keys",S="values",P=function(){return this};a.exports=function(W,I,G,J,ue,de,ge){k(G,I,J);var ce=function(Y){if(!q&&Y in D)return D[Y];switch(Y){case O:return function(){return new G(this,Y)};case S:return function(){return new G(this,Y)}}return function(){return new G(this,Y)}},Te=I+" Iterator",ve=ue==S,ne=!1,D=W.prototype,se=D[N]||D[j]||ue&&D[ue],ye=se||ce(ue),Ee=ue?ve?ce("entries"):ye:void 0,et=I=="Array"&&D.entries||se,Ie,Me,ie;if(et&&(ie=H(et.call(new W)),ie!==Object.prototype&&ie.next&&(A(ie,Te,!0),!f&&typeof ie[N]!="function"&&x(ie,N,P))),ve&&se&&se.name!==S&&(ne=!0,ye=function(){return se.call(this)}),(!f||ge)&&(q||ne||!D[N])&&x(D,N,ye),w[I]=ye,w[Te]=P,ue)if(Ie={values:ve?ye:ce(S),keys:de?ye:ce(O),entries:Ee},ge)for(Me in Ie)Me in D||b(D,Me,Ie[Me]);else h(h.P+h.F*(q||ne),I,Ie);return Ie}},"02f4":function(a,l,u){var f=u("4588"),h=u("be13");a.exports=function(b){return function(x,w){var k=String(h(x)),A=f(w),H=k.length,N,q;return A<0||A>=H?b?"":void 0:(N=k.charCodeAt(A),N<55296||N>56319||A+1===H||(q=k.charCodeAt(A+1))<56320||q>57343?b?k.charAt(A):N:b?k.slice(A,A+2):(N-55296<<10)+(q-56320)+65536)}}},"0390":function(a,l,u){var f=u("02f4")(!0);a.exports=function(h,b,x){return b+(x?f(h,b).length:1)}},"0bfb":function(a,l,u){var f=u("cb7c");a.exports=function(){var h=f(this),b="";return h.global&&(b+="g"),h.ignoreCase&&(b+="i"),h.multiline&&(b+="m"),h.unicode&&(b+="u"),h.sticky&&(b+="y"),b}},"0d58":function(a,l,u){var f=u("ce10"),h=u("e11e");a.exports=Object.keys||function(x){return f(x,h)}},1495:function(a,l,u){var f=u("86cc"),h=u("cb7c"),b=u("0d58");a.exports=u("9e1e")?Object.defineProperties:function(w,k){h(w);for(var A=b(k),H=A.length,N=0,q;H>N;)f.f(w,q=A[N++],k[q]);return w}},"214f":function(a,l,u){u("b0c5");var f=u("2aba"),h=u("32e9"),b=u("79e5"),x=u("be13"),w=u("2b4c"),k=u("520a"),A=w("species"),H=!b(function(){var q=/./;return q.exec=function(){var j=[];return j.groups={a:"7"},j},"".replace(q,"$<a>")!=="7"}),N=function(){var q=/(?:)/,j=q.exec;q.exec=function(){return j.apply(this,arguments)};var O="ab".split(q);return O.length===2&&O[0]==="a"&&O[1]==="b"}();a.exports=function(q,j,O){var S=w(q),P=!b(function(){var de={};return de[S]=function(){return 7},""[q](de)!=7}),W=P?!b(function(){var de=!1,ge=/a/;return ge.exec=function(){return de=!0,null},q==="split"&&(ge.constructor={},ge.constructor[A]=function(){return ge}),ge[S](""),!de}):void 0;if(!P||!W||q==="replace"&&!H||q==="split"&&!N){var I=/./[S],G=O(x,S,""[q],function(ge,ce,Te,ve,ne){return ce.exec===k?P&&!ne?{done:!0,value:I.call(ce,Te,ve)}:{done:!0,value:ge.call(Te,ce,ve)}:{done:!1}}),J=G[0],ue=G[1];f(String.prototype,q,J),h(RegExp.prototype,S,j==2?function(de,ge){return ue.call(de,this,ge)}:function(de){return ue.call(de,this)})}}},"230e":function(a,l,u){var f=u("d3f4"),h=u("7726").document,b=f(h)&&f(h.createElement);a.exports=function(x){return b?h.createElement(x):{}}},"23c6":function(a,l,u){var f=u("2d95"),h=u("2b4c")("toStringTag"),b=f(function(){return arguments}())=="Arguments",x=function(w,k){try{return w[k]}catch{}};a.exports=function(w){var k,A,H;return w===void 0?"Undefined":w===null?"Null":typeof(A=x(k=Object(w),h))=="string"?A:b?f(k):(H=f(k))=="Object"&&typeof k.callee=="function"?"Arguments":H}},2621:function(a,l){l.f=Object.getOwnPropertySymbols},"2aba":function(a,l,u){var f=u("7726"),h=u("32e9"),b=u("69a8"),x=u("ca5a")("src"),w=u("fa5b"),k="toString",A=(""+w).split(k);u("8378").inspectSource=function(H){return w.call(H)},(a.exports=function(H,N,q,j){var O=typeof q=="function";O&&(b(q,"name")||h(q,"name",N)),H[N]!==q&&(O&&(b(q,x)||h(q,x,H[N]?""+H[N]:A.join(String(N)))),H===f?H[N]=q:j?H[N]?H[N]=q:h(H,N,q):(delete H[N],h(H,N,q)))})(Function.prototype,k,function(){return typeof this=="function"&&this[x]||w.call(this)})},"2aeb":function(a,l,u){var f=u("cb7c"),h=u("1495"),b=u("e11e"),x=u("613b")("IE_PROTO"),w=function(){},k="prototype",A=function(){var H=u("230e")("iframe"),N=b.length,q="<",j=">",O;for(H.style.display="none",u("fab2").appendChild(H),H.src="javascript:",O=H.contentWindow.document,O.open(),O.write(q+"script"+j+"document.F=Object"+q+"/script"+j),O.close(),A=O.F;N--;)delete A[k][b[N]];return A()};a.exports=Object.create||function(N,q){var j;return N!==null?(w[k]=f(N),j=new w,w[k]=null,j[x]=N):j=A(),q===void 0?j:h(j,q)}},"2b4c":function(a,l,u){var f=u("5537")("wks"),h=u("ca5a"),b=u("7726").Symbol,x=typeof b=="function",w=a.exports=function(k){return f[k]||(f[k]=x&&b[k]||(x?b:h)("Symbol."+k))};w.store=f},"2d00":function(a,l){a.exports=!1},"2d95":function(a,l){var u={}.toString;a.exports=function(f){return u.call(f).slice(8,-1)}},"2fdb":function(a,l,u){var f=u("5ca1"),h=u("d2c8"),b="includes";f(f.P+f.F*u("5147")(b),"String",{includes:function(w){return!!~h(this,w,b).indexOf(w,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(a,l,u){var f=u("86cc"),h=u("4630");a.exports=u("9e1e")?function(b,x,w){return f.f(b,x,h(1,w))}:function(b,x,w){return b[x]=w,b}},"38fd":function(a,l,u){var f=u("69a8"),h=u("4bf8"),b=u("613b")("IE_PROTO"),x=Object.prototype;a.exports=Object.getPrototypeOf||function(w){return w=h(w),f(w,b)?w[b]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?x:null}},"41a0":function(a,l,u){var f=u("2aeb"),h=u("4630"),b=u("7f20"),x={};u("32e9")(x,u("2b4c")("iterator"),function(){return this}),a.exports=function(w,k,A){w.prototype=f(x,{next:h(1,A)}),b(w,k+" Iterator")}},"456d":function(a,l,u){var f=u("4bf8"),h=u("0d58");u("5eda")("keys",function(){return function(x){return h(f(x))}})},4588:function(a,l){var u=Math.ceil,f=Math.floor;a.exports=function(h){return isNaN(h=+h)?0:(h>0?f:u)(h)}},4630:function(a,l){a.exports=function(u,f){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:f}}},"4bf8":function(a,l,u){var f=u("be13");a.exports=function(h){return Object(f(h))}},5147:function(a,l,u){var f=u("2b4c")("match");a.exports=function(h){var b=/./;try{"/./"[h](b)}catch{try{return b[f]=!1,!"/./"[h](b)}catch{}}return!0}},"520a":function(a,l,u){var f=u("0bfb"),h=RegExp.prototype.exec,b=String.prototype.replace,x=h,w="lastIndex",k=function(){var N=/a/,q=/b*/g;return h.call(N,"a"),h.call(q,"a"),N[w]!==0||q[w]!==0}(),A=/()??/.exec("")[1]!==void 0,H=k||A;H&&(x=function(q){var j=this,O,S,P,W;return A&&(S=new RegExp("^"+j.source+"$(?!\\s)",f.call(j))),k&&(O=j[w]),P=h.call(j,q),k&&P&&(j[w]=j.global?P.index+P[0].length:O),A&&P&&P.length>1&&b.call(P[0],S,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(P[W]=void 0)}),P}),a.exports=x},"52a7":function(a,l){l.f={}.propertyIsEnumerable},5537:function(a,l,u){var f=u("8378"),h=u("7726"),b="__core-js_shared__",x=h[b]||(h[b]={});(a.exports=function(w,k){return x[w]||(x[w]=k!==void 0?k:{})})("versions",[]).push({version:f.version,mode:u("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(a,l,u){var f=u("7726"),h=u("8378"),b=u("32e9"),x=u("2aba"),w=u("9b43"),k="prototype",A=function(H,N,q){var j=H&A.F,O=H&A.G,S=H&A.S,P=H&A.P,W=H&A.B,I=O?f:S?f[N]||(f[N]={}):(f[N]||{})[k],G=O?h:h[N]||(h[N]={}),J=G[k]||(G[k]={}),ue,de,ge,ce;O&&(q=N);for(ue in q)de=!j&&I&&I[ue]!==void 0,ge=(de?I:q)[ue],ce=W&&de?w(ge,f):P&&typeof ge=="function"?w(Function.call,ge):ge,I&&x(I,ue,ge,H&A.U),G[ue]!=ge&&b(G,ue,ce),P&&J[ue]!=ge&&(J[ue]=ge)};f.core=h,A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,a.exports=A},"5eda":function(a,l,u){var f=u("5ca1"),h=u("8378"),b=u("79e5");a.exports=function(x,w){var k=(h.Object||{})[x]||Object[x],A={};A[x]=w(k),f(f.S+f.F*b(function(){k(1)}),"Object",A)}},"5f1b":function(a,l,u){var f=u("23c6"),h=RegExp.prototype.exec;a.exports=function(b,x){var w=b.exec;if(typeof w=="function"){var k=w.call(b,x);if(typeof k!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return k}if(f(b)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return h.call(b,x)}},"613b":function(a,l,u){var f=u("5537")("keys"),h=u("ca5a");a.exports=function(b){return f[b]||(f[b]=h(b))}},"626a":function(a,l,u){var f=u("2d95");a.exports=Object("z").propertyIsEnumerable(0)?Object:function(h){return f(h)=="String"?h.split(""):Object(h)}},6762:function(a,l,u){var f=u("5ca1"),h=u("c366")(!0);f(f.P,"Array",{includes:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}}),u("9c6c")("includes")},6821:function(a,l,u){var f=u("626a"),h=u("be13");a.exports=function(b){return f(h(b))}},"69a8":function(a,l){var u={}.hasOwnProperty;a.exports=function(f,h){return u.call(f,h)}},"6a99":function(a,l,u){var f=u("d3f4");a.exports=function(h,b){if(!f(h))return h;var x,w;if(b&&typeof(x=h.toString)=="function"&&!f(w=x.call(h))||typeof(x=h.valueOf)=="function"&&!f(w=x.call(h))||!b&&typeof(x=h.toString)=="function"&&!f(w=x.call(h)))return w;throw TypeError("Can't convert object to primitive value")}},7333:function(a,l,u){var f=u("0d58"),h=u("2621"),b=u("52a7"),x=u("4bf8"),w=u("626a"),k=Object.assign;a.exports=!k||u("79e5")(function(){var A={},H={},N=Symbol(),q="abcdefghijklmnopqrst";return A[N]=7,q.split("").forEach(function(j){H[j]=j}),k({},A)[N]!=7||Object.keys(k({},H)).join("")!=q})?function(H,N){for(var q=x(H),j=arguments.length,O=1,S=h.f,P=b.f;j>O;)for(var W=w(arguments[O++]),I=S?f(W).concat(S(W)):f(W),G=I.length,J=0,ue;G>J;)P.call(W,ue=I[J++])&&(q[ue]=W[ue]);return q}:k},7726:function(a,l){var u=a.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=u)},"77f1":function(a,l,u){var f=u("4588"),h=Math.max,b=Math.min;a.exports=function(x,w){return x=f(x),x<0?h(x+w,0):b(x,w)}},"79e5":function(a,l){a.exports=function(u){try{return!!u()}catch{return!0}}},"7f20":function(a,l,u){var f=u("86cc").f,h=u("69a8"),b=u("2b4c")("toStringTag");a.exports=function(x,w,k){x&&!h(x=k?x:x.prototype,b)&&f(x,b,{configurable:!0,value:w})}},8378:function(a,l){var u=a.exports={version:"2.6.5"};typeof __e=="number"&&(__e=u)},"84f2":function(a,l){a.exports={}},"86cc":function(a,l,u){var f=u("cb7c"),h=u("c69a"),b=u("6a99"),x=Object.defineProperty;l.f=u("9e1e")?Object.defineProperty:function(k,A,H){if(f(k),A=b(A,!0),f(H),h)try{return x(k,A,H)}catch{}if("get"in H||"set"in H)throw TypeError("Accessors not supported!");return"value"in H&&(k[A]=H.value),k}},"9b43":function(a,l,u){var f=u("d8e8");a.exports=function(h,b,x){if(f(h),b===void 0)return h;switch(x){case 1:return function(w){return h.call(b,w)};case 2:return function(w,k){return h.call(b,w,k)};case 3:return function(w,k,A){return h.call(b,w,k,A)}}return function(){return h.apply(b,arguments)}}},"9c6c":function(a,l,u){var f=u("2b4c")("unscopables"),h=Array.prototype;h[f]==null&&u("32e9")(h,f,{}),a.exports=function(b){h[f][b]=!0}},"9def":function(a,l,u){var f=u("4588"),h=Math.min;a.exports=function(b){return b>0?h(f(b),9007199254740991):0}},"9e1e":function(a,l,u){a.exports=!u("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(a,l){a.exports=n},a481:function(a,l,u){var f=u("cb7c"),h=u("4bf8"),b=u("9def"),x=u("4588"),w=u("0390"),k=u("5f1b"),A=Math.max,H=Math.min,N=Math.floor,q=/\$([$&`']|\d\d?|<[^>]*>)/g,j=/\$([$&`']|\d\d?)/g,O=function(S){return S===void 0?S:String(S)};u("214f")("replace",2,function(S,P,W,I){return[function(ue,de){var ge=S(this),ce=ue==null?void 0:ue[P];return ce!==void 0?ce.call(ue,ge,de):W.call(String(ge),ue,de)},function(J,ue){var de=I(W,J,this,ue);if(de.done)return de.value;var ge=f(J),ce=String(this),Te=typeof ue=="function";Te||(ue=String(ue));var ve=ge.global;if(ve){var ne=ge.unicode;ge.lastIndex=0}for(var D=[];;){var se=k(ge,ce);if(se===null||(D.push(se),!ve))break;var ye=String(se[0]);ye===""&&(ge.lastIndex=w(ce,b(ge.lastIndex),ne))}for(var Ee="",et=0,Ie=0;Ie<D.length;Ie++){se=D[Ie];for(var Me=String(se[0]),ie=A(H(x(se.index),ce.length),0),Y=[],Le=1;Le<se.length;Le++)Y.push(O(se[Le]));var Re=se.groups;if(Te){var V=[Me].concat(Y,ie,ce);Re!==void 0&&V.push(Re);var we=String(ue.apply(void 0,V))}else we=G(Me,ce,ie,Y,Re,ue);ie>=et&&(Ee+=ce.slice(et,ie)+we,et=ie+Me.length)}return Ee+ce.slice(et)}];function G(J,ue,de,ge,ce,Te){var ve=de+J.length,ne=ge.length,D=j;return ce!==void 0&&(ce=h(ce),D=q),W.call(Te,D,function(se,ye){var Ee;switch(ye.charAt(0)){case"$":return"$";case"&":return J;case"`":return ue.slice(0,de);case"'":return ue.slice(ve);case"<":Ee=ce[ye.slice(1,-1)];break;default:var et=+ye;if(et===0)return se;if(et>ne){var Ie=N(et/10);return Ie===0?se:Ie<=ne?ge[Ie-1]===void 0?ye.charAt(1):ge[Ie-1]+ye.charAt(1):se}Ee=ge[et-1]}return Ee===void 0?"":Ee})}})},aae3:function(a,l,u){var f=u("d3f4"),h=u("2d95"),b=u("2b4c")("match");a.exports=function(x){var w;return f(x)&&((w=x[b])!==void 0?!!w:h(x)=="RegExp")}},ac6a:function(a,l,u){for(var f=u("cadf"),h=u("0d58"),b=u("2aba"),x=u("7726"),w=u("32e9"),k=u("84f2"),A=u("2b4c"),H=A("iterator"),N=A("toStringTag"),q=k.Array,j={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},O=h(j),S=0;S<O.length;S++){var P=O[S],W=j[P],I=x[P],G=I&&I.prototype,J;if(G&&(G[H]||w(G,H,q),G[N]||w(G,N,P),k[P]=q,W))for(J in f)G[J]||b(G,J,f[J],!0)}},b0c5:function(a,l,u){var f=u("520a");u("5ca1")({target:"RegExp",proto:!0,forced:f!==/./.exec},{exec:f})},be13:function(a,l){a.exports=function(u){if(u==null)throw TypeError("Can't call method on  "+u);return u}},c366:function(a,l,u){var f=u("6821"),h=u("9def"),b=u("77f1");a.exports=function(x){return function(w,k,A){var H=f(w),N=h(H.length),q=b(A,N),j;if(x&&k!=k){for(;N>q;)if(j=H[q++],j!=j)return!0}else for(;N>q;q++)if((x||q in H)&&H[q]===k)return x||q||0;return!x&&-1}}},c649:function(a,l,u){(function(f){u.d(l,"c",function(){return H}),u.d(l,"a",function(){return k}),u.d(l,"b",function(){return b}),u.d(l,"d",function(){return A}),u("a481");function h(){return typeof window<"u"?window.console:f.console}var b=h();function x(N){var q=Object.create(null);return function(O){var S=q[O];return S||(q[O]=N(O))}}var w=/-(\w)/g,k=x(function(N){return N.replace(w,function(q,j){return j?j.toUpperCase():""})});function A(N){N.parentElement!==null&&N.parentElement.removeChild(N)}function H(N,q,j){var O=j===0?N.children[0]:N.children[j-1].nextSibling;N.insertBefore(q,O)}}).call(this,u("c8ba"))},c69a:function(a,l,u){a.exports=!u("9e1e")&&!u("79e5")(function(){return Object.defineProperty(u("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(a,l){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}a.exports=u},ca5a:function(a,l){var u=0,f=Math.random();a.exports=function(h){return"Symbol(".concat(h===void 0?"":h,")_",(++u+f).toString(36))}},cadf:function(a,l,u){var f=u("9c6c"),h=u("d53b"),b=u("84f2"),x=u("6821");a.exports=u("01f9")(Array,"Array",function(w,k){this._t=x(w),this._i=0,this._k=k},function(){var w=this._t,k=this._k,A=this._i++;return!w||A>=w.length?(this._t=void 0,h(1)):k=="keys"?h(0,A):k=="values"?h(0,w[A]):h(0,[A,w[A]])},"values"),b.Arguments=b.Array,f("keys"),f("values"),f("entries")},cb7c:function(a,l,u){var f=u("d3f4");a.exports=function(h){if(!f(h))throw TypeError(h+" is not an object!");return h}},ce10:function(a,l,u){var f=u("69a8"),h=u("6821"),b=u("c366")(!1),x=u("613b")("IE_PROTO");a.exports=function(w,k){var A=h(w),H=0,N=[],q;for(q in A)q!=x&&f(A,q)&&N.push(q);for(;k.length>H;)f(A,q=k[H++])&&(~b(N,q)||N.push(q));return N}},d2c8:function(a,l,u){var f=u("aae3"),h=u("be13");a.exports=function(b,x,w){if(f(x))throw TypeError("String#"+w+" doesn't accept regex!");return String(h(b))}},d3f4:function(a,l){a.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},d53b:function(a,l){a.exports=function(u,f){return{value:f,done:!!u}}},d8e8:function(a,l){a.exports=function(u){if(typeof u!="function")throw TypeError(u+" is not a function!");return u}},e11e:function(a,l){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(a,l,u){var f=u("5ca1"),h=u("9def"),b=u("d2c8"),x="startsWith",w=""[x];f(f.P+f.F*u("5147")(x),"String",{startsWith:function(A){var H=b(this,A,x),N=h(Math.min(arguments.length>1?arguments[1]:void 0,H.length)),q=String(A);return w?w.call(H,q,N):H.slice(N,N+q.length)===q}})},f6fd:function(a,l){(function(u){var f="currentScript",h=u.getElementsByTagName("script");f in u||Object.defineProperty(u,f,{get:function(){try{throw new Error}catch(w){var b,x=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(w.stack)||[!1])[1];for(b in h)if(h[b].src==x||h[b].readyState=="interactive")return h[b];return null}}})})(document)},f751:function(a,l,u){var f=u("5ca1");f(f.S+f.F,"Object",{assign:u("7333")})},fa5b:function(a,l,u){a.exports=u("5537")("native-function-to-string",Function.toString)},fab2:function(a,l,u){var f=u("7726").document;a.exports=f&&f.documentElement},fb15:function(a,l,u){if(u.r(l),typeof window<"u"){u("f6fd");var f;(f=window.document.currentScript)&&(f=f.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(u.p=f[1])}u("f751"),u("f559"),u("ac6a"),u("cadf"),u("456d");function h(Me){if(Array.isArray(Me))return Me}function b(Me,ie){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Me)))){var Y=[],Le=!0,Re=!1,V=void 0;try{for(var we=Me[Symbol.iterator](),Ae;!(Le=(Ae=we.next()).done)&&(Y.push(Ae.value),!(ie&&Y.length===ie));Le=!0);}catch(qe){Re=!0,V=qe}finally{try{!Le&&we.return!=null&&we.return()}finally{if(Re)throw V}}return Y}}function x(Me,ie){(ie==null||ie>Me.length)&&(ie=Me.length);for(var Y=0,Le=new Array(ie);Y<ie;Y++)Le[Y]=Me[Y];return Le}function w(Me,ie){if(Me){if(typeof Me=="string")return x(Me,ie);var Y=Object.prototype.toString.call(Me).slice(8,-1);if(Y==="Object"&&Me.constructor&&(Y=Me.constructor.name),Y==="Map"||Y==="Set")return Array.from(Me);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return x(Me,ie)}}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(Me,ie){return h(Me)||b(Me,ie)||w(Me,ie)||k()}u("6762"),u("2fdb");function H(Me){if(Array.isArray(Me))return x(Me)}function N(Me){if(typeof Symbol<"u"&&Symbol.iterator in Object(Me))return Array.from(Me)}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(Me){return H(Me)||N(Me)||w(Me)||q()}var O=u("a352"),S=u.n(O),P=u("c649");function W(Me,ie,Y){return Y===void 0||(Me=Me||{},Me[ie]=Y),Me}function I(Me,ie){return Me.map(function(Y){return Y.elm}).indexOf(ie)}function G(Me,ie,Y,Le){if(!Me)return[];var Re=Me.map(function(Ae){return Ae.elm}),V=ie.length-Le,we=j(ie).map(function(Ae,qe){return qe>=V?Re.length:Re.indexOf(Ae)});return Y?we.filter(function(Ae){return Ae!==-1}):we}function J(Me,ie){var Y=this;this.$nextTick(function(){return Y.$emit(Me.toLowerCase(),ie)})}function ue(Me){var ie=this;return function(Y){ie.realList!==null&&ie["onDrag"+Me](Y),J.call(ie,Me,Y)}}function de(Me){return["transition-group","TransitionGroup"].includes(Me)}function ge(Me){if(!Me||Me.length!==1)return!1;var ie=A(Me,1),Y=ie[0].componentOptions;return Y?de(Y.tag):!1}function ce(Me,ie,Y){return Me[Y]||(ie[Y]?ie[Y]():void 0)}function Te(Me,ie,Y){var Le=0,Re=0,V=ce(ie,Y,"header");V&&(Le=V.length,Me=Me?[].concat(j(V),j(Me)):j(V));var we=ce(ie,Y,"footer");return we&&(Re=we.length,Me=Me?[].concat(j(Me),j(we)):j(we)),{children:Me,headerOffset:Le,footerOffset:Re}}function ve(Me,ie){var Y=null,Le=function(Ze,Xe){Y=W(Y,Ze,Xe)},Re=Object.keys(Me).filter(function(qe){return qe==="id"||qe.startsWith("data-")}).reduce(function(qe,Ze){return qe[Ze]=Me[Ze],qe},{});if(Le("attrs",Re),!ie)return Y;var V=ie.on,we=ie.props,Ae=ie.attrs;return Le("on",V),Le("props",we),Object.assign(Y.attrs,Ae),Y}var ne=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],se=["Move"].concat(ne,D).map(function(Me){return"on"+Me}),ye=null,Ee={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(ie){return ie}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},et={name:"draggable",inheritAttrs:!1,props:Ee,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(ie){var Y=this.$slots.default;this.transitionMode=ge(Y);var Le=Te(Y,this.$slots,this.$scopedSlots),Re=Le.children,V=Le.headerOffset,we=Le.footerOffset;this.headerOffset=V,this.footerOffset=we;var Ae=ve(this.$attrs,this.componentData);return ie(this.getTag(),Ae,Re)},created:function(){this.list!==null&&this.value!==null&&P.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&P.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&P.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var ie=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var Y={};ne.forEach(function(V){Y["on"+V]=ue.call(ie,V)}),D.forEach(function(V){Y["on"+V]=J.bind(ie,V)});var Le=Object.keys(this.$attrs).reduce(function(V,we){return V[Object(P.a)(we)]=ie.$attrs[we],V},{}),Re=Object.assign({},this.options,Le,Y,{onMove:function(we,Ae){return ie.onDragMove(we,Ae)}});!("draggable"in Re)&&(Re.draggable=">*"),this._sortable=new S.a(this.rootContainer,Re),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(ie){this.updateOptions(ie)},deep:!0},$attrs:{handler:function(ie){this.updateOptions(ie)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var ie=this._vnode.fnOptions;return ie&&ie.functional},getTag:function(){return this.tag||this.element},updateOptions:function(ie){for(var Y in ie){var Le=Object(P.a)(Y);se.indexOf(Le)===-1&&this._sortable.option(Le,ie[Y])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var ie=this.$slots.default;return this.transitionMode?ie[0].child.$slots.default:ie},computeIndexes:function(){var ie=this;this.$nextTick(function(){ie.visibleIndexes=G(ie.getChildrenNodes(),ie.rootContainer.children,ie.transitionMode,ie.footerOffset)})},getUnderlyingVm:function(ie){var Y=I(this.getChildrenNodes()||[],ie);if(Y===-1)return null;var Le=this.realList[Y];return{index:Y,element:Le}},getUnderlyingPotencialDraggableComponent:function(ie){var Y=ie.__vue__;return!Y||!Y.$options||!de(Y.$options._componentTag)?!("realList"in Y)&&Y.$children.length===1&&"realList"in Y.$children[0]?Y.$children[0]:Y:Y.$parent},emitChanges:function(ie){var Y=this;this.$nextTick(function(){Y.$emit("change",ie)})},alterList:function(ie){if(this.list){ie(this.list);return}var Y=j(this.value);ie(Y),this.$emit("input",Y)},spliceList:function(){var ie=arguments,Y=function(Re){return Re.splice.apply(Re,j(ie))};this.alterList(Y)},updatePosition:function(ie,Y){var Le=function(V){return V.splice(Y,0,V.splice(ie,1)[0])};this.alterList(Le)},getRelatedContextFromMoveEvent:function(ie){var Y=ie.to,Le=ie.related,Re=this.getUnderlyingPotencialDraggableComponent(Y);if(!Re)return{component:Re};var V=Re.realList,we={list:V,component:Re};if(Y!==Le&&V&&Re.getUnderlyingVm){var Ae=Re.getUnderlyingVm(Le);if(Ae)return Object.assign(Ae,we)}return we},getVmIndex:function(ie){var Y=this.visibleIndexes,Le=Y.length;return ie>Le-1?Le:Y[ie]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(ie){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var Y=this.getChildrenNodes();Y[ie].data=null;var Le=this.getComponent();Le.children=[],Le.kept=void 0}},onDragStart:function(ie){this.context=this.getUnderlyingVm(ie.item),ie.item._underlying_vm_=this.clone(this.context.element),ye=ie.item},onDragAdd:function(ie){var Y=ie.item._underlying_vm_;if(Y!==void 0){Object(P.d)(ie.item);var Le=this.getVmIndex(ie.newIndex);this.spliceList(Le,0,Y),this.computeIndexes();var Re={element:Y,newIndex:Le};this.emitChanges({added:Re})}},onDragRemove:function(ie){if(Object(P.c)(this.rootContainer,ie.item,ie.oldIndex),ie.pullMode==="clone"){Object(P.d)(ie.clone);return}var Y=this.context.index;this.spliceList(Y,1);var Le={element:this.context.element,oldIndex:Y};this.resetTransitionData(Y),this.emitChanges({removed:Le})},onDragUpdate:function(ie){Object(P.d)(ie.item),Object(P.c)(ie.from,ie.item,ie.oldIndex);var Y=this.context.index,Le=this.getVmIndex(ie.newIndex);this.updatePosition(Y,Le);var Re={element:this.context.element,oldIndex:Y,newIndex:Le};this.emitChanges({moved:Re})},updateProperty:function(ie,Y){ie.hasOwnProperty(Y)&&(ie[Y]+=this.headerOffset)},computeFutureIndex:function(ie,Y){if(!ie.element)return 0;var Le=j(Y.to.children).filter(function(Ae){return Ae.style.display!=="none"}),Re=Le.indexOf(Y.related),V=ie.component.getVmIndex(Re),we=Le.indexOf(ye)!==-1;return we||!Y.willInsertAfter?V:V+1},onDragMove:function(ie,Y){var Le=this.move;if(!Le||!this.realList)return!0;var Re=this.getRelatedContextFromMoveEvent(ie),V=this.context,we=this.computeFutureIndex(Re,ie);Object.assign(V,{futureIndex:we});var Ae=Object.assign({},ie,{relatedContext:Re,draggedContext:V});return Le(Ae,Y)},onDragEnd:function(){this.computeIndexes(),ye=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",et);var Ie=et;l.default=Ie}}).default})}(Rh)),Rh.exports}var XS=ZS();const mb=bf(XS),VS={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(t,e){this.dropzone.options[t]=e},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(t){this.dropzone.removeFile(t)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted(){if(this.$isServer)return;let t=require("dropzone"),e=document.getElementById(this.id);if(t.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new t(e,this.dropzoneOptions);else{this.dropzone=new t(e,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:{_token:window.RozierConfig.ajaxToken,...this.headers},dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:(f,h)=>{let b;h.error?b=h.error:b="Error",f.previewElement.classList.add("dz-error");let x=f.previewElement.querySelectorAll("[data-dz-errormessage]"),w=[];for(let k=0,A=x.length;k<A;k++){let H=x[k];w.push(H.textContent=b)}return w}});const a=e;a.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.language.dictDefaultMessage}</span></div>`),a.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
                <div class="circles-icons">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <i class="uk-icon-rz-file"></i>
                </div>
            `)}const n=this;this.dropzone.on("thumbnail",function(a){n.$emit("vdropzone-thumbnail",a)}),this.dropzone.on("addedfile",function(a){n.$emit("vdropzone-file-added",a)}),this.dropzone.on("removedfile",function(a){n.$emit("vdropzone-removed-file",a)}),this.dropzone.on("success",async function(a,l){if(n.$emit("vdropzone-success",a,l),a.previewElement){let u=a.previewElement;await hc(3e3),await Nu(u,500)}}),this.dropzone.on("successmultiple",function(a,l){n.$emit("vdropzone-success-multiple",a,l)}),this.dropzone.on("error",function(a,l,u){n.$emit("vdropzone-error",a,l,u)}),this.dropzone.on("sending",function(a,l,u){n.$emit("vdropzone-sending",a,l,u),l.ontimeout=()=>{console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(a,l,u){n.$emit("vdropzone-sending-multiple",a,l,u)}),this.dropzone.on("queuecomplete",function(a,l,u){n.$emit("vdropzone-queue-complete",a,l,u)})},beforeDestroy(){this.dropzone.destroy()}};var KS=function(){var e=this,n=e._self._c;return n("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:e.url,id:e.id}})},QS=[],JS=Nn(VS,KS,QS,!1,null,null);const eT=JS.exports,tT={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null}),mounted(){this.drawersAddInstance(this),sc.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name");let t=this.ids,e=this.entity;t||(t=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const n=this.$refs.drawer.getAttribute("data-is-sortable"),a=this.$refs.drawer.getAttribute("data-min-length"),l=this.$refs.drawer.getAttribute("data-max-length"),u=l?parseInt(l,10):9999,f=a?parseInt(a,10):0;this.groupName=e,this.isSortable=n==="true";const h=this.$refs.drawer.getAttribute("data-nodetypes"),b=this.$refs.drawer.getAttribute("data-nodetypefield"),x=this.$refs.drawer.getAttribute("data-nodetypename"),w=this.$refs.drawer.getAttribute("data-provider-class"),k=this.$refs.drawer.getAttribute("data-locale"),A=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),H={nodeTypes:h,nodeTypeField:b,providerClass:w,providerOptions:A,nodeTypeName:x,_locale:k};this.drawersInitData({drawer:this.drawer,entity:e,ids:t,filters:H,maxLength:u,minLength:f,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...ps({isActive:function(){let t=this.$store.getters.drawersGetById(this._uid);return t?t.isActive:!1},trans:t=>t.drawers.trans,currentListingView:t=>t.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer.items},set(t){this.$store.commit(Sv,{drawer:this.drawer,newList:t})}}},methods:{...js(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(t){this.drawersRemoveItem({drawer:this.drawer,item:t})},addItem:function(t,e=null){this.drawersAddItem({drawer:this.drawer,item:t,newIndex:e})},showSuccess:function(t,e){this.entityName===$v?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(t,e,n){console.error(t),console.error(e),console.error(n)}},components:{RzButton:hS,draggable:mb,Dropzone:eT}},iT=null,nT=null;var rT=Nn(tT,iT,nT,!1,null,null);const oT=rT.exports,aT={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}};var sT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?n("div",{staticClass:"widget-explorer-nextpage",on:{click:function(a){return a.preventDefault(),e.loadMoreItems.apply(null,arguments)}}},[e.isLoadingMore?[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner light"})])]:[n("i",{staticClass:"uk-icon-plus"}),n("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},uT=[],lT=Nn(aT,sT,uT,!1,null,null);const cT=lT.exports,fT={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}};var hT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?n("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},dT=[],pT=Nn(fT,hT,dT,!1,null,null);const mT=pT.exports,gT={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}};var vT=function(){var e=this,n=e._self._c;return n("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.onClick.apply(null,arguments)}}},[n("i",{class:e.icon}),e.filterExplorerSelectedItems?n("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},bT=[],yT=Nn(gT,vT,bT,!1,null,null);const _T=yT.exports,wT={data:()=>({searchPlaceHolder:""}),computed:{...ps({isLoadingMore:t=>t.explorer.isLoadingMore,isLoading:t=>t.explorer.isLoading,isOpen:t=>t.explorer.isOpen,items:t=>t.explorer.items,filters:t=>t.explorer.filters,moreItems:t=>t.explorer.trans.moreItems,translations:t=>t.translations,entity:t=>t.explorer.entity,isFilterExplorerOpen:t=>t.filterExplorer.isOpen,filterExplorerSelectedItems:t=>t.filterExplorer.selectedItem,currentListingView:t=>t.explorer.currentListingView,widgetView:t=>t.explorer.widgetView,isFilterEnable:t=>t.explorer.isFilterEnable,filterExplorerIcon:t=>t.explorer.filterExplorerIcon,entityClass:t=>"entity-"+t.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:af.debounce(function(t){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:t})},450)}},methods:{...js(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(t){this.drawersAddItem({item:t})}},components:{LoadMoreButton:cT,ExplorerItemsInfos:mT,FilterExplorerButton:_T,draggable:mb}};var xT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"slide-left"}},[e.isOpen?n("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[n("div",{staticClass:"widget-explorer-wrapper"},[n("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?n("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),n("div",{staticClass:"widget-explorer-search"},[n("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(a){a.preventDefault()}}},[n("div",{staticClass:"uk-form-icon"},[n("i",{staticClass:"uk-icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.stopPropagation(),a.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(a){a.target.composing||(e.searchTerms=a.target.value)}}})])])]),n("div",{staticClass:"widget-explorer-close",on:{click:function(a){return a.preventDefault(),e.explorerClose.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e.isLoading?n("div",{staticClass:"spinner light"}):e._e(),n("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():n("ul",{staticClass:"uk-sortable"},[n("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(a){e.items=a},expression:"items"}},[n("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(a,l){return n(e.currentListingView,{key:a.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:l,item:a}})}),1)],1)],1)]),e.filters?n("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e.filters?n("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),n(e.widgetView,{tag:"component"})],1)]):e._e()])},kT=[],CT=Nn(wT,xT,kT,!1,null,null);const ET=CT.exports,ST={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var TT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade-in"}},[e.item?n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.onItemClick(e.item)}}},[n("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),n("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),n("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(a,l){return n("filter-explorer-item",{key:a.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:a}})}),1)]):e._e()])},AT=[],DT=Nn(ST,TT,AT,!1,null,null);const LT=DT.exports,MT={data:()=>({currentListingView:null}),computed:{...ps({isLoading:t=>t.filterExplorer.isLoading,isOpen:t=>t.filterExplorer.isOpen,items:t=>t.filterExplorer.items,entity:t=>t.explorer.entity,itemCount:t=>t.explorer.filters.itemCount,selectedItem:t=>t.filterExplorer.selectedItem,translations:t=>t.translations,icons:t=>t.filterExplorer.icons})},methods:{...js(["filterExplorerUpdate"]),onItemClick:function(t){this.filterExplorerUpdate({item:t})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:LT}};var PT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?n("div",{staticClass:"filter-widget-explorer"},[n("ul",{staticClass:"filters-items"},[n("li",{staticClass:"filters-infos"},[n("div",{staticClass:"infos-content"},[n("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?n("div",[n("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v(" "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+" ")]):e._e()])],1)]),n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.onResetClick.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(a,l){return n("filter-explorer-item",{key:l,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:a}})})],2)]):e._e()])},OT=[],FT=Nn(MT,PT,OT,!1,null,null);const RT=FT.exports;var Wh={exports:{}},NT=Wh.exports,n0;function zT(){return n0||(n0=1,function(t,e){(function(n,a){t.exports=a()})(NT,function(){return function(n){function a(u){if(l[u])return l[u].exports;var f=l[u]={i:u,l:!1,exports:{}};return n[u].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var l={};return a.m=n,a.c=l,a.i=function(u){return u},a.d=function(u,f,h){a.o(u,f)||Object.defineProperty(u,f,{configurable:!1,enumerable:!0,get:h})},a.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return a.d(f,"a",f),f},a.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},a.p="/",a(a.s=8)}([function(n,a,l){function u(j){return j&&j.__esModule?j:{default:j}}function f(j,O,S){return O in j?Object.defineProperty(j,O,{value:S,enumerable:!0,configurable:!0,writable:!0}):j[O]=S,j}function h(j,O){if(!j)return!1;var S=j.toString().toLowerCase();return S.indexOf(O.trim())!==-1}function b(j,O,S){return S?j.filter(function(P){return h(P[S],O)}):j.filter(function(P){return h(P,O)})}function x(j){return j.filter(function(O){return!O.$isLabel})}function w(j,O){return function(S){return S.reduce(function(P,W){return W[j]&&W[j].length?(P.push({$groupLabel:W[O],$isLabel:!0}),P.concat(W[j])):P.concat(W)},[])}}function k(j,O,S,P){return function(W){return W.map(function(I){var G,J=b(I[S],j,O);return J.length?(G={},f(G,P,I[P]),f(G,S,J),G):[]})}}Object.defineProperty(a,"__esModule",{value:!0});var A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},H=l(2),N=u(H),q=function(){for(var j=arguments.length,O=Array(j),S=0;S<j;S++)O[S]=arguments[S];return function(P){return O.reduce(function(W,I){return I(W)},P)}};a.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,N.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(j,O){return O?j[O]:j}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props cant be both set to false.")},computed:{filteredOptions:function(){var j=this.search||"",O=j.toLowerCase(),S=this.options.concat();return this.internalSearch?(S=this.groupValues?this.filterAndFlat(S,O,this.label):b(S,O,this.label),S=this.hideSelected?S.filter(this.isNotSelected):S):S=this.groupValues?w(this.groupValues,this.groupLabel)(S):S,this.taggable&&O.length&&!this.isExistingOption(O)&&S.unshift({isTag:!0,label:j}),S.slice(0,this.optionsLimit)},valueKeys:function(){var j=this;return this.trackBy?this.internalValue.map(function(O){return O[j.trackBy]}):this.internalValue},optionKeys:function(){var j=this,O=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?O.map(function(S){return S[j.label].toString().toLowerCase()}):O.map(function(S){return S.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(j,O){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(j){this.internalValue=this.getInternalValue(j)}},methods:{getValue:function(){return this.multiple?(0,N.default)(this.internalValue):this.internalValue.length===0?null:(0,N.default)(this.internalValue[0])},getInternalValue:function(j){return j==null?[]:this.multiple?(0,N.default)(j):(0,N.default)([j])},filterAndFlat:function(j){return q(k(this.search,this.label,this.groupValues,this.groupLabel),w(this.groupValues,this.groupLabel))(j)},flatAndStrip:function(j){return q(w(this.groupValues,this.groupLabel),x)(j)},updateSearch:function(j){this.search=j},isExistingOption:function(j){return!!this.options&&this.optionKeys.indexOf(j)>-1},isSelected:function(j){var O=this.trackBy?j[this.trackBy]:j;return this.valueKeys.indexOf(O)>-1},isNotSelected:function(j){return!this.isSelected(j)},getOptionLabel:function(j){return j||j===0?j.isTag?j.label:this.customLabel(j,this.label)||"":""},select:function(j,O){if(!(this.blockKeys.indexOf(O)!==-1||this.disabled||j.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(j.isTag)this.$emit("tag",j.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var S=this.isSelected(j);if(S)return void(O!=="Tab"&&this.removeElement(j));this.multiple?this.internalValue.push(j):this.internalValue=[j],this.$emit("select",(0,N.default)(j),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(j){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var O=(typeof j>"u"?"undefined":A(j))==="object"?this.valueKeys.indexOf(j[this.trackBy]):this.valueKeys.indexOf(j);this.internalValue.splice(O,1),this.$emit("remove",(0,N.default)(j),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(n,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(u,f){return{"multiselect__option--highlight":u===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(f)}},addPointerElement:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",f=u.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],f),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(u){this.pointer=u}}}},function(n,a,l){function u(h){if(Array.isArray(h))return h.map(u);if(h&&(typeof h>"u"?"undefined":f(h))==="object"){for(var b={},x=Object.keys(h),w=0,k=x.length;w<k;w++){var A=x[w];b[A]=u(h[A])}return b}return h}Object.defineProperty(a,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};a.default=u},function(n,a,l){l(5);var u=l(6)(l(4),l(7),null,null);n.exports=u.exports},function(n,a,l){function u(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(a,"__esModule",{value:!0});var f=l(0),h=u(f),b=l(1),x=u(b);a.default={name:"vue-multiselect",mixins:[h.default,x.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(w){return"and "+w+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(n,a){},function(n,a){n.exports=function(l,u,f,h){var b,x=l=l||{},w=typeof l.default;w!=="object"&&w!=="function"||(b=l,x=l.default);var k=typeof x=="function"?x.options:x;if(u&&(k.render=u.render,k.staticRenderFns=u.staticRenderFns),f&&(k._scopeId=f),h){var A=k.computed||(k.computed={});Object.keys(h).forEach(function(H){var N=h[H];A[H]=function(){return N}})}return{esModule:b,exports:x,options:k}}},function(n,a){n.exports={render:function(){var l=this,u=l.$createElement,f=l._self._c||u;return f("div",{staticClass:"multiselect",class:{"multiselect--active":l.isOpen,"multiselect--disabled":l.disabled,"multiselect--above":!l.hasEnoughSpace},attrs:{tabindex:l.searchable?-1:0},on:{focus:function(h){l.activate()},blur:function(h){!l.searchable&&l.deactivate()},keydown:[function(h){l._k(h.keyCode,"down",40)||h.target===h.currentTarget&&(h.preventDefault(),l.pointerForward())},function(h){l._k(h.keyCode,"up",38)||h.target===h.currentTarget&&(h.preventDefault(),l.pointerBackward())},function(h){l._k(h.keyCode,"enter",13)&&l._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&l.addPointerElement(h))}],keyup:function(h){l._k(h.keyCode,"esc",27)||l.deactivate()}}},[l._t("carret",[f("div",{staticClass:"multiselect__select",on:{mousedown:function(h){h.preventDefault(),l.toggle()}}})]),l._v(" "),f("div",{ref:"tags",staticClass:"multiselect__tags"},[l._l(l.visibleValue,function(h){return f("span",{staticClass:"multiselect__tag",on:{mousedown:function(b){b.preventDefault()}}},[f("span",{domProps:{textContent:l._s(l.getOptionLabel(h))}}),l._v(" "),f("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(b){l._k(b.keyCode,"enter",13)||(b.preventDefault(),l.removeElement(h))},mousedown:function(b){b.preventDefault(),l.removeElement(h)}}})])}),l._v(" "),l.internalValue&&l.internalValue.length>l.limit?[f("strong",{domProps:{textContent:l._s(l.limitText(l.internalValue.length-l.limit))}})]:l._e(),l._v(" "),f("transition",{attrs:{name:"multiselect__loading"}},[l._t("loading",[f("div",{directives:[{name:"show",rawName:"v-show",value:l.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),l._v(" "),l.searchable?f("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:l.placeholder,disabled:l.disabled},domProps:{value:l.isOpen?l.search:l.currentOptionLabel},on:{input:function(h){l.updateSearch(h.target.value)},focus:function(h){h.preventDefault(),l.activate()},blur:function(h){h.preventDefault(),l.deactivate()},keyup:function(h){l._k(h.keyCode,"esc",27)||l.deactivate()},keydown:[function(h){l._k(h.keyCode,"down",40)||(h.preventDefault(),l.pointerForward())},function(h){l._k(h.keyCode,"up",38)||(h.preventDefault(),l.pointerBackward())},function(h){l._k(h.keyCode,"enter",13)||h.preventDefault()},function(h){l._k(h.keyCode,"enter",13)&&l._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&l.addPointerElement(h))},function(h){l._k(h.keyCode,"delete",[8,46])||l.removeLastElement()}]}}):l._e(),l._v(" "),l.searchable?l._e():f("span",{staticClass:"multiselect__single",domProps:{textContent:l._s(l.currentOptionLabel)}})],2),l._v(" "),f("transition",{attrs:{name:"multiselect"}},[f("ul",{directives:[{name:"show",rawName:"v-show",value:l.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:l.maxHeight+"px"}},[l._t("beforeList"),l._v(" "),l.multiple&&l.max===l.internalValue.length?f("li",[f("span",{staticClass:"multiselect__option"},[l._t("maxElements",[l._v("Maximum of "+l._s(l.max)+" options selected. First remove a selected option to select another.")])],2)]):l._e(),l._v(" "),!l.max||l.internalValue.length<l.max?l._l(l.filteredOptions,function(h,b){return f("li",{key:b,staticClass:"multiselect__element"},[h.$isLabel?l._e():f("span",{staticClass:"multiselect__option",class:l.optionHighlight(b,h),attrs:{tabindex:"0","data-select":h.isTag?l.tagPlaceholder:l.selectLabelText,"data-selected":l.selectedLabelText,"data-deselect":l.deselectLabelText},on:{mousedown:function(x){x.preventDefault(),l.select(h)},mouseenter:function(x){l.pointerSet(b)}}},[l._t("option",[f("span",[l._v(l._s(l.getOptionLabel(h)))])],{option:h,search:l.search})],2),l._v(" "),h.$isLabel?f("span",{staticClass:"multiselect__option multiselect__option--disabled",class:l.optionHighlight(b,h)},[l._v(`
              `+l._s(h.$groupLabel)+`
            `)]):l._e()])}):l._e(),l._v(" "),f("li",{directives:[{name:"show",rawName:"v-show",value:l.filteredOptions.length===0&&l.search&&!l.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[f("span",{staticClass:"multiselect__option"},[l._t("noResult",[l._v("No elements found. Consider changing the search query.")])],2)]),l._v(" "),l._t("afterList")],2)])],2)},staticRenderFns:[]}},function(n,a,l){function u(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(a,"__esModule",{value:!0}),a.deepClone=a.pointerMixin=a.multiselectMixin=a.Multiselect=void 0;var f=l(3),h=u(f),b=l(0),x=u(b),w=l(1),k=u(w),A=l(2),H=u(A);a.default=h.default,a.Multiselect=h.default,a.multiselectMixin=x.default,a.pointerMixin=k.default,a.deepClone=H.default}])})}(Wh)),Wh.exports}var IT=zT();const BT=bf(IT),HT={mounted(){this.tagsInitData()},computed:{...ps({value:t=>t.tags.value,options:t=>t.tags.options})},methods:{...js(["tagsUpdateValue","tagsInitData"]),addTag(t){const e={name:t};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:BT}};var WT=function(){var e=this,n=e._self._c;return n("div",[e._t("default"),n("label",{staticClass:"typo__label"},[e._v("Tagging")]),n("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}}),n("pre",{staticClass:"language-json"},[n("code",[e._v(e._s(e.value))])])],2)},jT=[],qT=Nn(HT,WT,jT,!1,null,null);const UT=qT.exports,YT={computed:{...ps({isVisible:t=>t.documentPreview.isVisible,document:t=>t.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},methods:{...js(["documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(t){t.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}}};var $T=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?n("div",{staticClass:"document-preview-widget"},[n("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(a){return a.preventDefault(),e.onClick.apply(null,arguments)}}},[n("div",{staticClass:"document-preview-widget__information"},[n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),n("div",{staticClass:"close",on:{click:function(a){return a.preventDefault(),e.closePreview.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-times"})])]),n("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[n("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},GT=[],ZT=Nn(YT,$T,GT,!1,null,null);const XT=ZT.exports;var Th={};const VT=k0(Ow);var jh={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var KT=jh.exports,r0;function QT(){return r0||(r0=1,function(t,e){(function(n,a){t.exports=a()})(KT,function(){function n(ke,y){var T=Object.keys(ke);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(ke);y&&(R=R.filter(function(re){return Object.getOwnPropertyDescriptor(ke,re).enumerable})),T.push.apply(T,R)}return T}function a(ke){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?n(Object(T),!0).forEach(function(R){w(ke,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(T)):n(Object(T)).forEach(function(R){Object.defineProperty(ke,R,Object.getOwnPropertyDescriptor(T,R))})}return ke}function l(ke,y){if(typeof ke!="object"||!ke)return ke;var T=ke[Symbol.toPrimitive];if(T!==void 0){var R=T.call(ke,y);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(ke)}function u(ke){var y=l(ke,"string");return typeof y=="symbol"?y:y+""}function f(ke){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},f(ke)}function h(ke,y){if(!(ke instanceof y))throw new TypeError("Cannot call a class as a function")}function b(ke,y){for(var T=0;T<y.length;T++){var R=y[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(ke,u(R.key),R)}}function x(ke,y,T){return y&&b(ke.prototype,y),T&&b(ke,T),Object.defineProperty(ke,"prototype",{writable:!1}),ke}function w(ke,y,T){return y=u(y),y in ke?Object.defineProperty(ke,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):ke[y]=T,ke}function k(ke){return A(ke)||H(ke)||N(ke)||j()}function A(ke){if(Array.isArray(ke))return q(ke)}function H(ke){if(typeof Symbol<"u"&&ke[Symbol.iterator]!=null||ke["@@iterator"]!=null)return Array.from(ke)}function N(ke,y){if(ke){if(typeof ke=="string")return q(ke,y);var T=Object.prototype.toString.call(ke).slice(8,-1);if(T==="Object"&&ke.constructor&&(T=ke.constructor.name),T==="Map"||T==="Set")return Array.from(ke);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return q(ke,y)}}function q(ke,y){(y==null||y>ke.length)&&(y=ke.length);for(var T=0,R=new Array(y);T<y;T++)R[T]=ke[T];return R}function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=typeof window<"u"&&typeof window.document<"u",S=O?window:{},P=O&&S.document.documentElement?"ontouchstart"in S.document.documentElement:!1,W=O?"PointerEvent"in S:!1,I="cropper",G="all",J="crop",ue="move",de="zoom",ge="e",ce="w",Te="s",ve="n",ne="ne",D="nw",se="se",ye="sw",Ee="".concat(I,"-crop"),et="".concat(I,"-disabled"),Ie="".concat(I,"-hidden"),Me="".concat(I,"-hide"),ie="".concat(I,"-invisible"),Y="".concat(I,"-modal"),Le="".concat(I,"-move"),Re="".concat(I,"Action"),V="".concat(I,"Preview"),we="crop",Ae="move",qe="none",Ze="crop",Xe="cropend",ut="cropmove",Et="cropstart",wt="dblclick",St=P?"touchstart":"mousedown",yt=P?"touchmove":"mousemove",Mt=P?"touchend touchcancel":"mouseup",Ut=W?"pointerdown":St,Kt=W?"pointermove":yt,X=W?"pointerup pointercancel":Mt,le="ready",Q="resize",he="wheel",pe="zoom",Be="image/jpeg",ot=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Qe=/^data:/,mt=/^data:image\/jpeg;base64,/,Pt=/^img|canvas$/i,ct=200,Wt=100,$t={viewMode:0,dragMode:we,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ct,minContainerHeight:Wt,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Qt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Vt=Number.isNaN||S.isNaN;function xt(ke){return typeof ke=="number"&&!Vt(ke)}var Yn=function(y){return y>0&&y<1/0};function Yt(ke){return typeof ke>"u"}function mr(ke){return f(ke)==="object"&&ke!==null}var Rt=Object.prototype.hasOwnProperty;function sn(ke){if(!mr(ke))return!1;try{var y=ke.constructor,T=y.prototype;return y&&T&&Rt.call(T,"isPrototypeOf")}catch{return!1}}function _i(ke){return typeof ke=="function"}var Ri=Array.prototype.slice;function pi(ke){return Array.from?Array.from(ke):Ri.call(ke)}function wi(ke,y){return ke&&_i(y)&&(Array.isArray(ke)||xt(ke.length)?pi(ke).forEach(function(T,R){y.call(ke,T,R,ke)}):mr(ke)&&Object.keys(ke).forEach(function(T){y.call(ke,ke[T],T,ke)})),ke}var ui=Object.assign||function(y){for(var T=arguments.length,R=new Array(T>1?T-1:0),re=1;re<T;re++)R[re-1]=arguments[re];return mr(y)&&R.length>0&&R.forEach(function(ae){mr(ae)&&Object.keys(ae).forEach(function(_e){y[_e]=ae[_e]})}),y},si=/\.\d*(?:0|9){12}\d*$/;function Bi(ke){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return si.test(ke)?Math.round(ke*y)/y:ke}var eo=/^width|height|left|top|marginLeft|marginTop$/;function Hi(ke,y){var T=ke.style;wi(y,function(R,re){eo.test(re)&&xt(R)&&(R="".concat(R,"px")),T[re]=R})}function Rr(ke,y){return ke.classList?ke.classList.contains(y):ke.className.indexOf(y)>-1}function Wi(ke,y){if(y){if(xt(ke.length)){wi(ke,function(R){Wi(R,y)});return}if(ke.classList){ke.classList.add(y);return}var T=ke.className.trim();T?T.indexOf(y)<0&&(ke.className="".concat(T," ").concat(y)):ke.className=y}}function Ki(ke,y){if(y){if(xt(ke.length)){wi(ke,function(T){Ki(T,y)});return}if(ke.classList){ke.classList.remove(y);return}ke.className.indexOf(y)>=0&&(ke.className=ke.className.replace(y,""))}}function gr(ke,y,T){if(y){if(xt(ke.length)){wi(ke,function(R){gr(R,y,T)});return}T?Wi(ke,y):Ki(ke,y)}}var En=/([a-z\d])([A-Z])/g;function Ot(ke){return ke.replace(En,"$1-$2").toLowerCase()}function vr(ke,y){return mr(ke[y])?ke[y]:ke.dataset?ke.dataset[y]:ke.getAttribute("data-".concat(Ot(y)))}function $n(ke,y,T){mr(T)?ke[y]=T:ke.dataset?ke.dataset[y]=T:ke.setAttribute("data-".concat(Ot(y)),T)}function Gn(ke,y){if(mr(ke[y]))try{delete ke[y]}catch{ke[y]=void 0}else if(ke.dataset)try{delete ke.dataset[y]}catch{ke.dataset[y]=void 0}else ke.removeAttribute("data-".concat(Ot(y)))}var nr=/\s\s*/,Ur=function(){var ke=!1;if(O){var y=!1,T=function(){},R=Object.defineProperty({},"once",{get:function(){return ke=!0,y},set:function(ae){y=ae}});S.addEventListener("test",T,R),S.removeEventListener("test",T,R)}return ke}();function Gi(ke,y,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},re=T;y.trim().split(nr).forEach(function(ae){if(!Ur){var _e=ke.listeners;_e&&_e[ae]&&_e[ae][T]&&(re=_e[ae][T],delete _e[ae][T],Object.keys(_e[ae]).length===0&&delete _e[ae],Object.keys(_e).length===0&&delete ke.listeners)}ke.removeEventListener(ae,re,R)})}function Qi(ke,y,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},re=T;y.trim().split(nr).forEach(function(ae){if(R.once&&!Ur){var _e=ke.listeners,Oe=_e===void 0?{}:_e;re=function(){delete Oe[ae][T],ke.removeEventListener(ae,re,R);for(var tt=arguments.length,Ve=new Array(tt),Ke=0;Ke<tt;Ke++)Ve[Ke]=arguments[Ke];T.apply(ke,Ve)},Oe[ae]||(Oe[ae]={}),Oe[ae][T]&&ke.removeEventListener(ae,Oe[ae][T],R),Oe[ae][T]=re,ke.listeners=Oe}ke.addEventListener(ae,re,R)})}function rr(ke,y,T){var R;return _i(Event)&&_i(CustomEvent)?R=new CustomEvent(y,{detail:T,bubbles:!0,cancelable:!0}):(R=document.createEvent("CustomEvent"),R.initCustomEvent(y,!0,!0,T)),ke.dispatchEvent(R)}function or(ke){var y=ke.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var Sn=S.location,to=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function io(ke){var y=ke.match(to);return y!==null&&(y[1]!==Sn.protocol||y[2]!==Sn.hostname||y[3]!==Sn.port)}function xr(ke){var y="timestamp=".concat(new Date().getTime());return ke+(ke.indexOf("?")===-1?"?":"&")+y}function Tn(ke){var y=ke.rotate,T=ke.scaleX,R=ke.scaleY,re=ke.translateX,ae=ke.translateY,_e=[];xt(re)&&re!==0&&_e.push("translateX(".concat(re,"px)")),xt(ae)&&ae!==0&&_e.push("translateY(".concat(ae,"px)")),xt(y)&&y!==0&&_e.push("rotate(".concat(y,"deg)")),xt(T)&&T!==1&&_e.push("scaleX(".concat(T,")")),xt(R)&&R!==1&&_e.push("scaleY(".concat(R,")"));var Oe=_e.length?_e.join(" "):"none";return{WebkitTransform:Oe,msTransform:Oe,transform:Oe}}function Nr(ke){var y=a({},ke),T=0;return wi(ke,function(R,re){delete y[re],wi(y,function(ae){var _e=Math.abs(R.startX-ae.startX),Oe=Math.abs(R.startY-ae.startY),Je=Math.abs(R.endX-ae.endX),tt=Math.abs(R.endY-ae.endY),Ve=Math.sqrt(_e*_e+Oe*Oe),Ke=Math.sqrt(Je*Je+tt*tt),ft=(Ke-Ve)/Ve;Math.abs(ft)>Math.abs(T)&&(T=ft)})}),T}function bn(ke,y){var T=ke.pageX,R=ke.pageY,re={endX:T,endY:R};return y?re:a({startX:T,startY:R},re)}function ho(ke){var y=0,T=0,R=0;return wi(ke,function(re){var ae=re.startX,_e=re.startY;y+=ae,T+=_e,R+=1}),y/=R,T/=R,{pageX:y,pageY:T}}function Zn(ke){var y=ke.aspectRatio,T=ke.height,R=ke.width,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",ae=Yn(R),_e=Yn(T);if(ae&&_e){var Oe=T*y;re==="contain"&&Oe>R||re==="cover"&&Oe<R?T=R/y:R=T*y}else ae?T=R/y:_e&&(R=T*y);return{width:R,height:T}}function Ui(ke){var y=ke.width,T=ke.height,R=ke.degree;if(R=Math.abs(R)%180,R===90)return{width:T,height:y};var re=R%90*Math.PI/180,ae=Math.sin(re),_e=Math.cos(re),Oe=y*_e+T*ae,Je=y*ae+T*_e;return R>90?{width:Je,height:Oe}:{width:Oe,height:Je}}function Lt(ke,y,T,R){var re=y.aspectRatio,ae=y.naturalWidth,_e=y.naturalHeight,Oe=y.rotate,Je=Oe===void 0?0:Oe,tt=y.scaleX,Ve=tt===void 0?1:tt,Ke=y.scaleY,ft=Ke===void 0?1:Ke,fi=T.aspectRatio,hi=T.naturalWidth,ji=T.naturalHeight,Ei=R.fillColor,Pi=Ei===void 0?"transparent":Ei,fn=R.imageSmoothingEnabled,Ft=fn===void 0?!0:fn,rn=R.imageSmoothingQuality,ri=rn===void 0?"low":rn,gt=R.maxWidth,xi=gt===void 0?1/0:gt,on=R.maxHeight,sr=on===void 0?1/0:on,An=R.minWidth,Yr=An===void 0?0:An,zr=R.minHeight,Zt=zr===void 0?0:zr,oi=document.createElement("canvas"),yn=oi.getContext("2d"),Ir=Zn({aspectRatio:fi,width:xi,height:sr}),Zo=Zn({aspectRatio:fi,width:Yr,height:Zt},"cover"),_a=Math.min(Ir.width,Math.max(Zo.width,hi)),Xo=Math.min(Ir.height,Math.max(Zo.height,ji)),wa=Zn({aspectRatio:re,width:xi,height:sr}),Ba=Zn({aspectRatio:re,width:Yr,height:Zt},"cover"),gi=Math.min(wa.width,Math.max(Ba.width,ae)),Ni=Math.min(wa.height,Math.max(Ba.height,_e)),br=[-gi/2,-Ni/2,gi,Ni];return oi.width=Bi(_a),oi.height=Bi(Xo),yn.fillStyle=Pi,yn.fillRect(0,0,_a,Xo),yn.save(),yn.translate(_a/2,Xo/2),yn.rotate(Je*Math.PI/180),yn.scale(Ve,ft),yn.imageSmoothingEnabled=Ft,yn.imageSmoothingQuality=ri,yn.drawImage.apply(yn,[ke].concat(k(br.map(function(Br){return Math.floor(Bi(Br))})))),yn.restore(),oi}var Xn=String.fromCharCode;function ar(ke,y,T){var R="";T+=y;for(var re=y;re<T;re+=1)R+=Xn(ke.getUint8(re));return R}var zn=/^data:.*,/;function ee(ke){var y=ke.replace(zn,""),T=atob(y),R=new ArrayBuffer(T.length),re=new Uint8Array(R);return wi(re,function(ae,_e){re[_e]=T.charCodeAt(_e)}),R}function xe(ke,y){for(var T=[],R=8192,re=new Uint8Array(ke);re.length>0;)T.push(Xn.apply(null,pi(re.subarray(0,R)))),re=re.subarray(R);return"data:".concat(y,";base64,").concat(btoa(T.join("")))}function We(ke){var y=new DataView(ke),T;try{var R,re,ae;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var _e=y.byteLength,Oe=2;Oe+1<_e;){if(y.getUint8(Oe)===255&&y.getUint8(Oe+1)===225){re=Oe;break}Oe+=1}if(re){var Je=re+4,tt=re+10;if(ar(y,Je,4)==="Exif"){var Ve=y.getUint16(tt);if(R=Ve===18761,(R||Ve===19789)&&y.getUint16(tt+2,R)===42){var Ke=y.getUint32(tt+4,R);Ke>=8&&(ae=tt+Ke)}}}if(ae){var ft=y.getUint16(ae,R),fi,hi;for(hi=0;hi<ft;hi+=1)if(fi=ae+hi*12+2,y.getUint16(fi,R)===274){fi+=8,T=y.getUint16(fi,R),y.setUint16(fi,1,R);break}}}catch{T=1}return T}function nt(ke){var y=0,T=1,R=1;switch(ke){case 2:T=-1;break;case 3:y=-180;break;case 4:R=-1;break;case 5:y=90,R=-1;break;case 6:y=90;break;case 7:y=90,T=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:T,scaleY:R}}var Ue={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,T=this.options,R=this.container,re=this.cropper,ae=Number(T.minContainerWidth),_e=Number(T.minContainerHeight);Wi(re,Ie),Ki(y,Ie);var Oe={width:Math.max(R.offsetWidth,ae>=0?ae:ct),height:Math.max(R.offsetHeight,_e>=0?_e:Wt)};this.containerData=Oe,Hi(re,{width:Oe.width,height:Oe.height}),Wi(y,Ie),Ki(re,Ie)},initCanvas:function(){var y=this.containerData,T=this.imageData,R=this.options.viewMode,re=Math.abs(T.rotate)%180===90,ae=re?T.naturalHeight:T.naturalWidth,_e=re?T.naturalWidth:T.naturalHeight,Oe=ae/_e,Je=y.width,tt=y.height;y.height*Oe>y.width?R===3?Je=y.height*Oe:tt=y.width/Oe:R===3?tt=y.width/Oe:Je=y.height*Oe;var Ve={aspectRatio:Oe,naturalWidth:ae,naturalHeight:_e,width:Je,height:tt};this.canvasData=Ve,this.limited=R===1||R===2,this.limitCanvas(!0,!0),Ve.width=Math.min(Math.max(Ve.width,Ve.minWidth),Ve.maxWidth),Ve.height=Math.min(Math.max(Ve.height,Ve.minHeight),Ve.maxHeight),Ve.left=(y.width-Ve.width)/2,Ve.top=(y.height-Ve.height)/2,Ve.oldLeft=Ve.left,Ve.oldTop=Ve.top,this.initialCanvasData=ui({},Ve)},limitCanvas:function(y,T){var R=this.options,re=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=R.viewMode,Je=ae.aspectRatio,tt=this.cropped&&_e;if(y){var Ve=Number(R.minCanvasWidth)||0,Ke=Number(R.minCanvasHeight)||0;Oe>1?(Ve=Math.max(Ve,re.width),Ke=Math.max(Ke,re.height),Oe===3&&(Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je)):Oe>0&&(Ve?Ve=Math.max(Ve,tt?_e.width:0):Ke?Ke=Math.max(Ke,tt?_e.height:0):tt&&(Ve=_e.width,Ke=_e.height,Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je));var ft=Zn({aspectRatio:Je,width:Ve,height:Ke});Ve=ft.width,Ke=ft.height,ae.minWidth=Ve,ae.minHeight=Ke,ae.maxWidth=1/0,ae.maxHeight=1/0}if(T)if(Oe>(tt?0:1)){var fi=re.width-ae.width,hi=re.height-ae.height;ae.minLeft=Math.min(0,fi),ae.minTop=Math.min(0,hi),ae.maxLeft=Math.max(0,fi),ae.maxTop=Math.max(0,hi),tt&&this.limited&&(ae.minLeft=Math.min(_e.left,_e.left+(_e.width-ae.width)),ae.minTop=Math.min(_e.top,_e.top+(_e.height-ae.height)),ae.maxLeft=_e.left,ae.maxTop=_e.top,Oe===2&&(ae.width>=re.width&&(ae.minLeft=Math.min(0,fi),ae.maxLeft=Math.max(0,fi)),ae.height>=re.height&&(ae.minTop=Math.min(0,hi),ae.maxTop=Math.max(0,hi))))}else ae.minLeft=-ae.width,ae.minTop=-ae.height,ae.maxLeft=re.width,ae.maxTop=re.height},renderCanvas:function(y,T){var R=this.canvasData,re=this.imageData;if(T){var ae=Ui({width:re.naturalWidth*Math.abs(re.scaleX||1),height:re.naturalHeight*Math.abs(re.scaleY||1),degree:re.rotate||0}),_e=ae.width,Oe=ae.height,Je=R.width*(_e/R.naturalWidth),tt=R.height*(Oe/R.naturalHeight);R.left-=(Je-R.width)/2,R.top-=(tt-R.height)/2,R.width=Je,R.height=tt,R.aspectRatio=_e/Oe,R.naturalWidth=_e,R.naturalHeight=Oe,this.limitCanvas(!0,!1)}(R.width>R.maxWidth||R.width<R.minWidth)&&(R.left=R.oldLeft),(R.height>R.maxHeight||R.height<R.minHeight)&&(R.top=R.oldTop),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),this.limitCanvas(!1,!0),R.left=Math.min(Math.max(R.left,R.minLeft),R.maxLeft),R.top=Math.min(Math.max(R.top,R.minTop),R.maxTop),R.oldLeft=R.left,R.oldTop=R.top,Hi(this.canvas,ui({width:R.width,height:R.height},Tn({translateX:R.left,translateY:R.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var T=this.canvasData,R=this.imageData,re=R.naturalWidth*(T.width/T.naturalWidth),ae=R.naturalHeight*(T.height/T.naturalHeight);ui(R,{width:re,height:ae,left:(T.width-re)/2,top:(T.height-ae)/2}),Hi(this.image,ui({width:R.width,height:R.height},Tn(ui({translateX:R.left,translateY:R.top},R)))),y&&this.output()},initCropBox:function(){var y=this.options,T=this.canvasData,R=y.aspectRatio||y.initialAspectRatio,re=Number(y.autoCropArea)||.8,ae={width:T.width,height:T.height};R&&(T.height*R>T.width?ae.height=ae.width/R:ae.width=ae.height*R),this.cropBoxData=ae,this.limitCropBox(!0,!0),ae.width=Math.min(Math.max(ae.width,ae.minWidth),ae.maxWidth),ae.height=Math.min(Math.max(ae.height,ae.minHeight),ae.maxHeight),ae.width=Math.max(ae.minWidth,ae.width*re),ae.height=Math.max(ae.minHeight,ae.height*re),ae.left=T.left+(T.width-ae.width)/2,ae.top=T.top+(T.height-ae.height)/2,ae.oldLeft=ae.left,ae.oldTop=ae.top,this.initialCropBoxData=ui({},ae)},limitCropBox:function(y,T){var R=this.options,re=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=this.limited,Je=R.aspectRatio;if(y){var tt=Number(R.minCropBoxWidth)||0,Ve=Number(R.minCropBoxHeight)||0,Ke=Oe?Math.min(re.width,ae.width,ae.width+ae.left,re.width-ae.left):re.width,ft=Oe?Math.min(re.height,ae.height,ae.height+ae.top,re.height-ae.top):re.height;tt=Math.min(tt,re.width),Ve=Math.min(Ve,re.height),Je&&(tt&&Ve?Ve*Je>tt?Ve=tt/Je:tt=Ve*Je:tt?Ve=tt/Je:Ve&&(tt=Ve*Je),ft*Je>Ke?ft=Ke/Je:Ke=ft*Je),_e.minWidth=Math.min(tt,Ke),_e.minHeight=Math.min(Ve,ft),_e.maxWidth=Ke,_e.maxHeight=ft}T&&(Oe?(_e.minLeft=Math.max(0,ae.left),_e.minTop=Math.max(0,ae.top),_e.maxLeft=Math.min(re.width,ae.left+ae.width)-_e.width,_e.maxTop=Math.min(re.height,ae.top+ae.height)-_e.height):(_e.minLeft=0,_e.minTop=0,_e.maxLeft=re.width-_e.width,_e.maxTop=re.height-_e.height))},renderCropBox:function(){var y=this.options,T=this.containerData,R=this.cropBoxData;(R.width>R.maxWidth||R.width<R.minWidth)&&(R.left=R.oldLeft),(R.height>R.maxHeight||R.height<R.minHeight)&&(R.top=R.oldTop),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),this.limitCropBox(!1,!0),R.left=Math.min(Math.max(R.left,R.minLeft),R.maxLeft),R.top=Math.min(Math.max(R.top,R.minTop),R.maxTop),R.oldLeft=R.left,R.oldTop=R.top,y.movable&&y.cropBoxMovable&&$n(this.face,Re,R.width>=T.width&&R.height>=T.height?ue:G),Hi(this.cropBox,ui({width:R.width,height:R.height},Tn({translateX:R.left,translateY:R.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),rr(this.element,Ze,this.getData())}},pt={initPreview:function(){var y=this.element,T=this.crossOrigin,R=this.options.preview,re=T?this.crossOriginUrl:this.url,ae=y.alt||"The image to preview",_e=document.createElement("img");if(T&&(_e.crossOrigin=T),_e.src=re,_e.alt=ae,this.viewBox.appendChild(_e),this.viewBoxImage=_e,!!R){var Oe=R;typeof R=="string"?Oe=y.ownerDocument.querySelectorAll(R):R.querySelector&&(Oe=[R]),this.previews=Oe,wi(Oe,function(Je){var tt=document.createElement("img");$n(Je,V,{width:Je.offsetWidth,height:Je.offsetHeight,html:Je.innerHTML}),T&&(tt.crossOrigin=T),tt.src=re,tt.alt=ae,tt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Je.innerHTML="",Je.appendChild(tt)})}},resetPreview:function(){wi(this.previews,function(y){var T=vr(y,V);Hi(y,{width:T.width,height:T.height}),y.innerHTML=T.html,Gn(y,V)})},preview:function(){var y=this.imageData,T=this.canvasData,R=this.cropBoxData,re=R.width,ae=R.height,_e=y.width,Oe=y.height,Je=R.left-T.left-y.left,tt=R.top-T.top-y.top;!this.cropped||this.disabled||(Hi(this.viewBoxImage,ui({width:_e,height:Oe},Tn(ui({translateX:-Je,translateY:-tt},y)))),wi(this.previews,function(Ve){var Ke=vr(Ve,V),ft=Ke.width,fi=Ke.height,hi=ft,ji=fi,Ei=1;re&&(Ei=ft/re,ji=ae*Ei),ae&&ji>fi&&(Ei=fi/ae,hi=re*Ei,ji=fi),Hi(Ve,{width:hi,height:ji}),Hi(Ve.getElementsByTagName("img")[0],ui({width:_e*Ei,height:Oe*Ei},Tn(ui({translateX:-Je*Ei,translateY:-tt*Ei},y))))}))}},ni={bind:function(){var y=this.element,T=this.options,R=this.cropper;_i(T.cropstart)&&Qi(y,Et,T.cropstart),_i(T.cropmove)&&Qi(y,ut,T.cropmove),_i(T.cropend)&&Qi(y,Xe,T.cropend),_i(T.crop)&&Qi(y,Ze,T.crop),_i(T.zoom)&&Qi(y,pe,T.zoom),Qi(R,Ut,this.onCropStart=this.cropStart.bind(this)),T.zoomable&&T.zoomOnWheel&&Qi(R,he,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Qi(R,wt,this.onDblclick=this.dblclick.bind(this)),Qi(y.ownerDocument,Kt,this.onCropMove=this.cropMove.bind(this)),Qi(y.ownerDocument,X,this.onCropEnd=this.cropEnd.bind(this)),T.responsive&&Qi(window,Q,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,T=this.options,R=this.cropper;_i(T.cropstart)&&Gi(y,Et,T.cropstart),_i(T.cropmove)&&Gi(y,ut,T.cropmove),_i(T.cropend)&&Gi(y,Xe,T.cropend),_i(T.crop)&&Gi(y,Ze,T.crop),_i(T.zoom)&&Gi(y,pe,T.zoom),Gi(R,Ut,this.onCropStart),T.zoomable&&T.zoomOnWheel&&Gi(R,he,this.onWheel,{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Gi(R,wt,this.onDblclick),Gi(y.ownerDocument,Kt,this.onCropMove),Gi(y.ownerDocument,X,this.onCropEnd),T.responsive&&Gi(window,Q,this.onResize)}},Yi={resize:function(){if(!this.disabled){var y=this.options,T=this.container,R=this.containerData,re=T.offsetWidth/R.width,ae=T.offsetHeight/R.height,_e=Math.abs(re-1)>Math.abs(ae-1)?re:ae;if(_e!==1){var Oe,Je;y.restore&&(Oe=this.getCanvasData(),Je=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(wi(Oe,function(tt,Ve){Oe[Ve]=tt*_e})),this.setCropBoxData(wi(Je,function(tt,Ve){Je[Ve]=tt*_e})))}}},dblclick:function(){this.disabled||this.options.dragMode===qe||this.setDragMode(Rr(this.dragBox,Ee)?Ae:we)},wheel:function(y){var T=this,R=Number(this.options.wheelZoomRatio)||.1,re=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){T.wheeling=!1},50),y.deltaY?re=y.deltaY>0?1:-1:y.wheelDelta?re=-y.wheelDelta/120:y.detail&&(re=y.detail>0?1:-1),this.zoom(-re*R,y)))},cropStart:function(y){var T=y.buttons,R=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(xt(T)&&T!==1||xt(R)&&R!==0||y.ctrlKey))){var re=this.options,ae=this.pointers,_e;y.changedTouches?wi(y.changedTouches,function(Oe){ae[Oe.identifier]=bn(Oe)}):ae[y.pointerId||0]=bn(y),Object.keys(ae).length>1&&re.zoomable&&re.zoomOnTouch?_e=de:_e=vr(y.target,Re),ot.test(_e)&&rr(this.element,Et,{originalEvent:y,action:_e})!==!1&&(y.preventDefault(),this.action=_e,this.cropping=!1,_e===J&&(this.cropping=!0,Wi(this.dragBox,Y)))}},cropMove:function(y){var T=this.action;if(!(this.disabled||!T)){var R=this.pointers;y.preventDefault(),rr(this.element,ut,{originalEvent:y,action:T})!==!1&&(y.changedTouches?wi(y.changedTouches,function(re){ui(R[re.identifier]||{},bn(re,!0))}):ui(R[y.pointerId||0]||{},bn(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var T=this.action,R=this.pointers;y.changedTouches?wi(y.changedTouches,function(re){delete R[re.identifier]}):delete R[y.pointerId||0],T&&(y.preventDefault(),Object.keys(R).length||(this.action=""),this.cropping&&(this.cropping=!1,gr(this.dragBox,Y,this.cropped&&this.options.modal)),rr(this.element,Xe,{originalEvent:y,action:T}))}}},Nt={change:function(y){var T=this.options,R=this.canvasData,re=this.containerData,ae=this.cropBoxData,_e=this.pointers,Oe=this.action,Je=T.aspectRatio,tt=ae.left,Ve=ae.top,Ke=ae.width,ft=ae.height,fi=tt+Ke,hi=Ve+ft,ji=0,Ei=0,Pi=re.width,fn=re.height,Ft=!0,rn;!Je&&y.shiftKey&&(Je=Ke&&ft?Ke/ft:1),this.limited&&(ji=ae.minLeft,Ei=ae.minTop,Pi=ji+Math.min(re.width,R.width,R.left+R.width),fn=Ei+Math.min(re.height,R.height,R.top+R.height));var ri=_e[Object.keys(_e)[0]],gt={x:ri.endX-ri.startX,y:ri.endY-ri.startY},xi=function(sr){switch(sr){case ge:fi+gt.x>Pi&&(gt.x=Pi-fi);break;case ce:tt+gt.x<ji&&(gt.x=ji-tt);break;case ve:Ve+gt.y<Ei&&(gt.y=Ei-Ve);break;case Te:hi+gt.y>fn&&(gt.y=fn-hi);break}};switch(Oe){case G:tt+=gt.x,Ve+=gt.y;break;case ge:if(gt.x>=0&&(fi>=Pi||Je&&(Ve<=Ei||hi>=fn))){Ft=!1;break}xi(ge),Ke+=gt.x,Ke<0&&(Oe=ce,Ke=-Ke,tt-=Ke),Je&&(ft=Ke/Je,Ve+=(ae.height-ft)/2);break;case ve:if(gt.y<=0&&(Ve<=Ei||Je&&(tt<=ji||fi>=Pi))){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,ft<0&&(Oe=Te,ft=-ft,Ve-=ft),Je&&(Ke=ft*Je,tt+=(ae.width-Ke)/2);break;case ce:if(gt.x<=0&&(tt<=ji||Je&&(Ve<=Ei||hi>=fn))){Ft=!1;break}xi(ce),Ke-=gt.x,tt+=gt.x,Ke<0&&(Oe=ge,Ke=-Ke,tt-=Ke),Je&&(ft=Ke/Je,Ve+=(ae.height-ft)/2);break;case Te:if(gt.y>=0&&(hi>=fn||Je&&(tt<=ji||fi>=Pi))){Ft=!1;break}xi(Te),ft+=gt.y,ft<0&&(Oe=ve,ft=-ft,Ve-=ft),Je&&(Ke=ft*Je,tt+=(ae.width-Ke)/2);break;case ne:if(Je){if(gt.y<=0&&(Ve<=Ei||fi>=Pi)){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,Ke=ft*Je}else xi(ve),xi(ge),gt.x>=0?fi<Pi?Ke+=gt.x:gt.y<=0&&Ve<=Ei&&(Ft=!1):Ke+=gt.x,gt.y<=0?Ve>Ei&&(ft-=gt.y,Ve+=gt.y):(ft-=gt.y,Ve+=gt.y);Ke<0&&ft<0?(Oe=ye,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=D,Ke=-Ke,tt-=Ke):ft<0&&(Oe=se,ft=-ft,Ve-=ft);break;case D:if(Je){if(gt.y<=0&&(Ve<=Ei||tt<=ji)){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,Ke=ft*Je,tt+=ae.width-Ke}else xi(ve),xi(ce),gt.x<=0?tt>ji?(Ke-=gt.x,tt+=gt.x):gt.y<=0&&Ve<=Ei&&(Ft=!1):(Ke-=gt.x,tt+=gt.x),gt.y<=0?Ve>Ei&&(ft-=gt.y,Ve+=gt.y):(ft-=gt.y,Ve+=gt.y);Ke<0&&ft<0?(Oe=se,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=ne,Ke=-Ke,tt-=Ke):ft<0&&(Oe=ye,ft=-ft,Ve-=ft);break;case ye:if(Je){if(gt.x<=0&&(tt<=ji||hi>=fn)){Ft=!1;break}xi(ce),Ke-=gt.x,tt+=gt.x,ft=Ke/Je}else xi(Te),xi(ce),gt.x<=0?tt>ji?(Ke-=gt.x,tt+=gt.x):gt.y>=0&&hi>=fn&&(Ft=!1):(Ke-=gt.x,tt+=gt.x),gt.y>=0?hi<fn&&(ft+=gt.y):ft+=gt.y;Ke<0&&ft<0?(Oe=ne,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=se,Ke=-Ke,tt-=Ke):ft<0&&(Oe=D,ft=-ft,Ve-=ft);break;case se:if(Je){if(gt.x>=0&&(fi>=Pi||hi>=fn)){Ft=!1;break}xi(ge),Ke+=gt.x,ft=Ke/Je}else xi(Te),xi(ge),gt.x>=0?fi<Pi?Ke+=gt.x:gt.y>=0&&hi>=fn&&(Ft=!1):Ke+=gt.x,gt.y>=0?hi<fn&&(ft+=gt.y):ft+=gt.y;Ke<0&&ft<0?(Oe=D,ft=-ft,Ke=-Ke,Ve-=ft,tt-=Ke):Ke<0?(Oe=ye,Ke=-Ke,tt-=Ke):ft<0&&(Oe=ne,ft=-ft,Ve-=ft);break;case ue:this.move(gt.x,gt.y),Ft=!1;break;case de:this.zoom(Nr(_e),y),Ft=!1;break;case J:if(!gt.x||!gt.y){Ft=!1;break}rn=or(this.cropper),tt=ri.startX-rn.left,Ve=ri.startY-rn.top,Ke=ae.minWidth,ft=ae.minHeight,gt.x>0?Oe=gt.y>0?se:ne:gt.x<0&&(tt-=Ke,Oe=gt.y>0?ye:D),gt.y<0&&(Ve-=ft),this.cropped||(Ki(this.cropBox,Ie),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ft&&(ae.width=Ke,ae.height=ft,ae.left=tt,ae.top=Ve,this.action=Oe,this.renderCropBox()),wi(_e,function(on){on.startX=on.endX,on.startY=on.endY})}},li={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Wi(this.dragBox,Y),Ki(this.cropBox,Ie),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ui({},this.initialImageData),this.canvasData=ui({},this.initialCanvasData),this.cropBoxData=ui({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ui(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ki(this.dragBox,Y),Wi(this.cropBox,Ie)),this},replace:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),T?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,wi(this.previews,function(R){R.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ki(this.cropper,et)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Wi(this.cropper,et)),this},destroy:function(){var y=this.element;return y[I]?(y[I]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=this.canvasData,re=R.left,ae=R.top;return this.moveTo(Yt(y)?y:re+Number(y),Yt(T)?T:ae+Number(T))},moveTo:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=this.canvasData,re=!1;return y=Number(y),T=Number(T),this.ready&&!this.disabled&&this.options.movable&&(xt(y)&&(R.left=y,re=!0),xt(T)&&(R.top=T,re=!0),re&&this.renderCanvas(!0)),this},zoom:function(y,T){var R=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(R.width*y/R.naturalWidth,null,T)},zoomTo:function(y,T,R){var re=this.options,ae=this.canvasData,_e=ae.width,Oe=ae.height,Je=ae.naturalWidth,tt=ae.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&re.zoomable){var Ve=Je*y,Ke=tt*y;if(rr(this.element,pe,{ratio:y,oldRatio:_e/Je,originalEvent:R})===!1)return this;if(R){var ft=this.pointers,fi=or(this.cropper),hi=ft&&Object.keys(ft).length?ho(ft):{pageX:R.pageX,pageY:R.pageY};ae.left-=(Ve-_e)*((hi.pageX-fi.left-ae.left)/_e),ae.top-=(Ke-Oe)*((hi.pageY-fi.top-ae.top)/Oe)}else sn(T)&&xt(T.x)&&xt(T.y)?(ae.left-=(Ve-_e)*((T.x-ae.left)/_e),ae.top-=(Ke-Oe)*((T.y-ae.top)/Oe)):(ae.left-=(Ve-_e)/2,ae.top-=(Ke-Oe)/2);ae.width=Ve,ae.height=Ke,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),xt(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var T=this.imageData.scaleY;return this.scale(y,xt(T)?T:1)},scaleY:function(y){var T=this.imageData.scaleX;return this.scale(xt(T)?T:1,y)},scale:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=this.imageData,re=!1;return y=Number(y),T=Number(T),this.ready&&!this.disabled&&this.options.scalable&&(xt(y)&&(R.scaleX=y,re=!0),xt(T)&&(R.scaleY=T,re=!0),re&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.options,R=this.imageData,re=this.canvasData,ae=this.cropBoxData,_e;if(this.ready&&this.cropped){_e={x:ae.left-re.left,y:ae.top-re.top,width:ae.width,height:ae.height};var Oe=R.width/R.naturalWidth;if(wi(_e,function(Ve,Ke){_e[Ke]=Ve/Oe}),y){var Je=Math.round(_e.y+_e.height),tt=Math.round(_e.x+_e.width);_e.x=Math.round(_e.x),_e.y=Math.round(_e.y),_e.width=tt-_e.x,_e.height=Je-_e.y}}else _e={x:0,y:0,width:0,height:0};return T.rotatable&&(_e.rotate=R.rotate||0),T.scalable&&(_e.scaleX=R.scaleX||1,_e.scaleY=R.scaleY||1),_e},setData:function(y){var T=this.options,R=this.imageData,re=this.canvasData,ae={};if(this.ready&&!this.disabled&&sn(y)){var _e=!1;T.rotatable&&xt(y.rotate)&&y.rotate!==R.rotate&&(R.rotate=y.rotate,_e=!0),T.scalable&&(xt(y.scaleX)&&y.scaleX!==R.scaleX&&(R.scaleX=y.scaleX,_e=!0),xt(y.scaleY)&&y.scaleY!==R.scaleY&&(R.scaleY=y.scaleY,_e=!0)),_e&&this.renderCanvas(!0,!0);var Oe=R.width/R.naturalWidth;xt(y.x)&&(ae.left=y.x*Oe+re.left),xt(y.y)&&(ae.top=y.y*Oe+re.top),xt(y.width)&&(ae.width=y.width*Oe),xt(y.height)&&(ae.height=y.height*Oe),this.setCropBoxData(ae)}return this},getContainerData:function(){return this.ready?ui({},this.containerData):{}},getImageData:function(){return this.sized?ui({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,T={};return this.ready&&wi(["left","top","width","height","naturalWidth","naturalHeight"],function(R){T[R]=y[R]}),T},setCanvasData:function(y){var T=this.canvasData,R=T.aspectRatio;return this.ready&&!this.disabled&&sn(y)&&(xt(y.left)&&(T.left=y.left),xt(y.top)&&(T.top=y.top),xt(y.width)?(T.width=y.width,T.height=y.width/R):xt(y.height)&&(T.height=y.height,T.width=y.height*R),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,T;return this.ready&&this.cropped&&(T={left:y.left,top:y.top,width:y.width,height:y.height}),T||{}},setCropBoxData:function(y){var T=this.cropBoxData,R=this.options.aspectRatio,re,ae;return this.ready&&this.cropped&&!this.disabled&&sn(y)&&(xt(y.left)&&(T.left=y.left),xt(y.top)&&(T.top=y.top),xt(y.width)&&y.width!==T.width&&(re=!0,T.width=y.width),xt(y.height)&&y.height!==T.height&&(ae=!0,T.height=y.height),R&&(re?T.height=T.width/R:ae&&(T.width=T.height*R)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var T=this.canvasData,R=Lt(this.image,this.imageData,T,y);if(!this.cropped)return R;var re=this.getData(y.rounded),ae=re.x,_e=re.y,Oe=re.width,Je=re.height,tt=R.width/Math.floor(T.naturalWidth);tt!==1&&(ae*=tt,_e*=tt,Oe*=tt,Je*=tt);var Ve=Oe/Je,Ke=Zn({aspectRatio:Ve,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),ft=Zn({aspectRatio:Ve,width:y.minWidth||0,height:y.minHeight||0},"cover"),fi=Zn({aspectRatio:Ve,width:y.width||(tt!==1?R.width:Oe),height:y.height||(tt!==1?R.height:Je)}),hi=fi.width,ji=fi.height;hi=Math.min(Ke.width,Math.max(ft.width,hi)),ji=Math.min(Ke.height,Math.max(ft.height,ji));var Ei=document.createElement("canvas"),Pi=Ei.getContext("2d");Ei.width=Bi(hi),Ei.height=Bi(ji),Pi.fillStyle=y.fillColor||"transparent",Pi.fillRect(0,0,hi,ji);var fn=y.imageSmoothingEnabled,Ft=fn===void 0?!0:fn,rn=y.imageSmoothingQuality;Pi.imageSmoothingEnabled=Ft,rn&&(Pi.imageSmoothingQuality=rn);var ri=R.width,gt=R.height,xi=ae,on=_e,sr,An,Yr,zr,Zt,oi;xi<=-Oe||xi>ri?(xi=0,sr=0,Yr=0,Zt=0):xi<=0?(Yr=-xi,xi=0,sr=Math.min(ri,Oe+xi),Zt=sr):xi<=ri&&(Yr=0,sr=Math.min(Oe,ri-xi),Zt=sr),sr<=0||on<=-Je||on>gt?(on=0,An=0,zr=0,oi=0):on<=0?(zr=-on,on=0,An=Math.min(gt,Je+on),oi=An):on<=gt&&(zr=0,An=Math.min(Je,gt-on),oi=An);var yn=[xi,on,sr,An];if(Zt>0&&oi>0){var Ir=hi/Oe;yn.push(Yr*Ir,zr*Ir,Zt*Ir,oi*Ir)}return Pi.drawImage.apply(Pi,[R].concat(k(yn.map(function(Zo){return Math.floor(Bi(Zo))})))),Ei},setAspectRatio:function(y){var T=this.options;return!this.disabled&&!Yt(y)&&(T.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var T=this.options,R=this.dragBox,re=this.face;if(this.ready&&!this.disabled){var ae=y===we,_e=T.movable&&y===Ae;y=ae||_e?y:qe,T.dragMode=y,$n(R,Re,y),gr(R,Ee,ae),gr(R,Le,_e),T.cropBoxMovable||($n(re,Re,y),gr(re,Ee,ae),gr(re,Le,_e))}return this}},po=S.Cropper,jt=function(){function ke(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(h(this,ke),!y||!Pt.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=ui({},$t,sn(T)&&T),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return x(ke,[{key:"init",value:function(){var T=this.element,R=T.tagName.toLowerCase(),re;if(!T[I]){if(T[I]=this,R==="img"){if(this.isImg=!0,re=T.getAttribute("src")||"",this.originalUrl=re,!re)return;re=T.src}else R==="canvas"&&window.HTMLCanvasElement&&(re=T.toDataURL());this.load(re)}}},{key:"load",value:function(T){var R=this;if(T){this.url=T,this.imageData={};var re=this.element,ae=this.options;if(!ae.rotatable&&!ae.scalable&&(ae.checkOrientation=!1),!ae.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Qe.test(T)){mt.test(T)?this.read(ee(T)):this.clone();return}var _e=new XMLHttpRequest,Oe=this.clone.bind(this);this.reloading=!0,this.xhr=_e,_e.onabort=Oe,_e.onerror=Oe,_e.ontimeout=Oe,_e.onprogress=function(){_e.getResponseHeader("content-type")!==Be&&_e.abort()},_e.onload=function(){R.read(_e.response)},_e.onloadend=function(){R.reloading=!1,R.xhr=null},ae.checkCrossOrigin&&io(T)&&re.crossOrigin&&(T=xr(T)),_e.open("GET",T,!0),_e.responseType="arraybuffer",_e.withCredentials=re.crossOrigin==="use-credentials",_e.send()}}},{key:"read",value:function(T){var R=this.options,re=this.imageData,ae=We(T),_e=0,Oe=1,Je=1;if(ae>1){this.url=xe(T,Be);var tt=nt(ae);_e=tt.rotate,Oe=tt.scaleX,Je=tt.scaleY}R.rotatable&&(re.rotate=_e),R.scalable&&(re.scaleX=Oe,re.scaleY=Je),this.clone()}},{key:"clone",value:function(){var T=this.element,R=this.url,re=T.crossOrigin,ae=R;this.options.checkCrossOrigin&&io(R)&&(re||(re="anonymous"),ae=xr(R)),this.crossOrigin=re,this.crossOriginUrl=ae;var _e=document.createElement("img");re&&(_e.crossOrigin=re),_e.src=ae||R,_e.alt=T.alt||"The image to crop",this.image=_e,_e.onload=this.start.bind(this),_e.onerror=this.stop.bind(this),Wi(_e,Me),T.parentNode.insertBefore(_e,T.nextSibling)}},{key:"start",value:function(){var T=this,R=this.image;R.onload=null,R.onerror=null,this.sizing=!0;var re=S.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(S.navigator.userAgent),ae=function(tt,Ve){ui(T.imageData,{naturalWidth:tt,naturalHeight:Ve,aspectRatio:tt/Ve}),T.initialImageData=ui({},T.imageData),T.sizing=!1,T.sized=!0,T.build()};if(R.naturalWidth&&!re){ae(R.naturalWidth,R.naturalHeight);return}var _e=document.createElement("img"),Oe=document.body||document.documentElement;this.sizingImage=_e,_e.onload=function(){ae(_e.width,_e.height),re||Oe.removeChild(_e)},_e.src=R.src,re||(_e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Oe.appendChild(_e))}},{key:"stop",value:function(){var T=this.image;T.onload=null,T.onerror=null,T.parentNode.removeChild(T),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var T=this.element,R=this.options,re=this.image,ae=T.parentNode,_e=document.createElement("div");_e.innerHTML=Qt;var Oe=_e.querySelector(".".concat(I,"-container")),Je=Oe.querySelector(".".concat(I,"-canvas")),tt=Oe.querySelector(".".concat(I,"-drag-box")),Ve=Oe.querySelector(".".concat(I,"-crop-box")),Ke=Ve.querySelector(".".concat(I,"-face"));this.container=ae,this.cropper=Oe,this.canvas=Je,this.dragBox=tt,this.cropBox=Ve,this.viewBox=Oe.querySelector(".".concat(I,"-view-box")),this.face=Ke,Je.appendChild(re),Wi(T,Ie),ae.insertBefore(Oe,T.nextSibling),Ki(re,Me),this.initPreview(),this.bind(),R.initialAspectRatio=Math.max(0,R.initialAspectRatio)||NaN,R.aspectRatio=Math.max(0,R.aspectRatio)||NaN,R.viewMode=Math.max(0,Math.min(3,Math.round(R.viewMode)))||0,Wi(Ve,Ie),R.guides||Wi(Ve.getElementsByClassName("".concat(I,"-dashed")),Ie),R.center||Wi(Ve.getElementsByClassName("".concat(I,"-center")),Ie),R.background&&Wi(Oe,"".concat(I,"-bg")),R.highlight||Wi(Ke,ie),R.cropBoxMovable&&(Wi(Ke,Le),$n(Ke,Re,G)),R.cropBoxResizable||(Wi(Ve.getElementsByClassName("".concat(I,"-line")),Ie),Wi(Ve.getElementsByClassName("".concat(I,"-point")),Ie)),this.render(),this.ready=!0,this.setDragMode(R.dragMode),R.autoCrop&&this.crop(),this.setData(R.data),_i(R.ready)&&Qi(T,le,R.ready,{once:!0}),rr(T,le)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var T=this.cropper.parentNode;T&&T.removeChild(this.cropper),Ki(this.element,Ie)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=po,ke}},{key:"setDefaults",value:function(T){ui($t,sn(T)&&T)}}])}();return ui(jt.prototype,Ue,pt,ni,Yi,Nt,li),jt})}(jh)),jh.exports}var o0;function JT(){if(o0)return Th;o0=1,Object.defineProperty(Th,"__esModule",{value:!0});var t=VT,e=l(t),n=QT(),a=l(n);function l(b){return b&&b.__esModule?b:{default:b}}function u(b,x){var w={};for(var k in b)x.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(b,k)&&(w[k]=b[k]);return w}var f=e.default.extend({render:function(x){return x("div",{style:this.containerStyle},[x("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var x=this.$options.props;x.containerStyle,x.src,x.alt,x.imgStyle;var w=u(x,["containerStyle","src","alt","imgStyle"]),k={};for(var A in w)this[A]!==void 0&&(k[A]=this[A]);this.cropper=new a.default(this.$refs.img,k)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(x,w)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(x,w){return this.cropper.move(x,w)},moveTo:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.moveTo(x,w)},relativeZoom:function(x,w){return this.cropper.zoom(x,w)},zoomTo:function(x,w){return this.cropper.zoomTo(x,w)},rotate:function(x){return this.cropper.rotate(x)},rotateTo:function(x){return this.cropper.rotateTo(x)},scaleX:function(x){return this.cropper.scaleX(x)},scaleY:function(x){return this.cropper.scaleY(x)},scale:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.scale(x,w)},getData:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(x)},setData:function(x){return this.cropper.setData(x)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(x){return this.cropper.setCanvasData(x)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(x){return this.cropper.setCropBoxData(x)},getCroppedCanvas:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(x)},setAspectRatio:function(x){return this.cropper.setAspectRatio(x)},setDragMode:function(x){return this.cropper.setDragMode(x)}}}),h=e.default.component("vue-cropper",f);return Th.default=h,Th}JT();/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function a0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,a)}return n}function gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a0(Object(n),!0).forEach(function(a){nA(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function eA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vb(t){var e=eA(t,"string");return typeof e=="symbol"?e:e+""}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function tA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s0(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,vb(a.key),a)}}function iA(t,e,n){return e&&s0(t.prototype,e),n&&s0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nA(t,e,n){return e=vb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bb(t){return rA(t)||oA(t)||aA(t)||sA()}function rA(t){if(Array.isArray(t))return Op(t)}function oA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aA(t,e){if(t){if(typeof t=="string")return Op(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Op(t,e)}}function Op(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function sA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sd=typeof window<"u"&&typeof window.document<"u",ds=sd?window:{},um=sd&&ds.document.documentElement?"ontouchstart"in ds.document.documentElement:!1,lm=sd?"PointerEvent"in ds:!1,kn="cropper",cm="all",yb="crop",_b="move",wb="zoom",dl="e",pl="w",Jl="s",Tu="n",Xc="ne",Vc="nw",Kc="se",Qc="sw",Fp="".concat(kn,"-crop"),u0="".concat(kn,"-disabled"),So="".concat(kn,"-hidden"),l0="".concat(kn,"-hide"),uA="".concat(kn,"-invisible"),td="".concat(kn,"-modal"),Rp="".concat(kn,"-move"),gf="".concat(kn,"Action"),Ah="".concat(kn,"Preview"),fm="crop",xb="move",kb="none",Np="crop",zp="cropend",Ip="cropmove",Bp="cropstart",c0="dblclick",lA=um?"touchstart":"mousedown",cA=um?"touchmove":"mousemove",fA=um?"touchend touchcancel":"mouseup",f0=lm?"pointerdown":lA,h0=lm?"pointermove":cA,d0=lm?"pointerup pointercancel":fA,p0="ready",m0="resize",g0="wheel",Hp="zoom",v0="image/jpeg",hA=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,dA=/^data:/,pA=/^data:image\/jpeg;base64,/,mA=/^img|canvas$/i,Cb=200,Eb=100,b0={viewMode:0,dragMode:fm,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Cb,minContainerHeight:Eb,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},gA='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',vA=Number.isNaN||ds.isNaN;function Li(t){return typeof t=="number"&&!vA(t)}var y0=function(e){return e>0&&e<1/0};function pp(t){return typeof t>"u"}function bl(t){return Pp(t)==="object"&&t!==null}var bA=Object.prototype.hasOwnProperty;function ic(t){if(!bl(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&bA.call(n,"isPrototypeOf")}catch{return!1}}function Eo(t){return typeof t=="function"}var yA=Array.prototype.slice;function Sb(t){return Array.from?Array.from(t):yA.call(t)}function pr(t,e){return t&&Eo(e)&&(Array.isArray(t)||Li(t.length)?Sb(t).forEach(function(n,a){e.call(t,n,a,t)}):bl(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Cn=Object.assign||function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return bl(e)&&a.length>0&&a.forEach(function(u){bl(u)&&Object.keys(u).forEach(function(f){e[f]=u[f]})}),e},_A=/\.\d*(?:0|9){12}\d*$/;function oc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return _A.test(t)?Math.round(t*e)/e:t}var wA=/^width|height|left|top|marginLeft|marginTop$/;function Fu(t,e){var n=t.style;pr(e,function(a,l){wA.test(l)&&Li(a)&&(a="".concat(a,"px")),n[l]=a})}function xA(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Or(t,e){if(e){if(Li(t.length)){pr(t,function(a){Or(a,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function hs(t,e){if(e){if(Li(t.length)){pr(t,function(n){hs(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function nc(t,e,n){if(e){if(Li(t.length)){pr(t,function(a){nc(a,e,n)});return}n?Or(t,e):hs(t,e)}}var kA=/([a-z\d])([A-Z])/g;function hm(t){return t.replace(kA,"$1-$2").toLowerCase()}function Wp(t,e){return bl(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(hm(e)))}function vf(t,e,n){bl(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(hm(e)),n)}function CA(t,e){if(bl(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(hm(e)))}var Tb=/\s\s*/,Ab=function(){var t=!1;if(sd){var e=!1,n=function(){},a=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(u){e=u}});ds.addEventListener("test",n,a),ds.removeEventListener("test",n,a)}return t}();function Na(t,e,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=n;e.trim().split(Tb).forEach(function(u){if(!Ab){var f=t.listeners;f&&f[u]&&f[u][n]&&(l=f[u][n],delete f[u][n],Object.keys(f[u]).length===0&&delete f[u],Object.keys(f).length===0&&delete t.listeners)}t.removeEventListener(u,l,a)})}function va(t,e,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=n;e.trim().split(Tb).forEach(function(u){if(a.once&&!Ab){var f=t.listeners,h=f===void 0?{}:f;l=function(){delete h[u][n],t.removeEventListener(u,l,a);for(var x=arguments.length,w=new Array(x),k=0;k<x;k++)w[k]=arguments[k];n.apply(t,w)},h[u]||(h[u]={}),h[u][n]&&t.removeEventListener(u,h[u][n],a),h[u][n]=l,t.listeners=h}t.addEventListener(u,l,a)})}function ac(t,e,n){var a;return Eo(Event)&&Eo(CustomEvent)?a=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(a)}function Db(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var mp=ds.location,EA=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function _0(t){var e=t.match(EA);return e!==null&&(e[1]!==mp.protocol||e[2]!==mp.hostname||e[3]!==mp.port)}function w0(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function ff(t){var e=t.rotate,n=t.scaleX,a=t.scaleY,l=t.translateX,u=t.translateY,f=[];Li(l)&&l!==0&&f.push("translateX(".concat(l,"px)")),Li(u)&&u!==0&&f.push("translateY(".concat(u,"px)")),Li(e)&&e!==0&&f.push("rotate(".concat(e,"deg)")),Li(n)&&n!==1&&f.push("scaleX(".concat(n,")")),Li(a)&&a!==1&&f.push("scaleY(".concat(a,")"));var h=f.length?f.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function SA(t){var e=gb({},t),n=0;return pr(t,function(a,l){delete e[l],pr(e,function(u){var f=Math.abs(a.startX-u.startX),h=Math.abs(a.startY-u.startY),b=Math.abs(a.endX-u.endX),x=Math.abs(a.endY-u.endY),w=Math.sqrt(f*f+h*h),k=Math.sqrt(b*b+x*x),A=(k-w)/w;Math.abs(A)>Math.abs(n)&&(n=A)})}),n}function Dh(t,e){var n=t.pageX,a=t.pageY,l={endX:n,endY:a};return e?l:gb({startX:n,startY:a},l)}function TA(t){var e=0,n=0,a=0;return pr(t,function(l){var u=l.startX,f=l.startY;e+=u,n+=f,a+=1}),e/=a,n/=a,{pageX:e,pageY:n}}function Ru(t){var e=t.aspectRatio,n=t.height,a=t.width,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",u=y0(a),f=y0(n);if(u&&f){var h=n*e;l==="contain"&&h>a||l==="cover"&&h<a?n=a/e:a=n*e}else u?n=a/e:f&&(a=n*e);return{width:a,height:n}}function AA(t){var e=t.width,n=t.height,a=t.degree;if(a=Math.abs(a)%180,a===90)return{width:n,height:e};var l=a%90*Math.PI/180,u=Math.sin(l),f=Math.cos(l),h=e*f+n*u,b=e*u+n*f;return a>90?{width:b,height:h}:{width:h,height:b}}function DA(t,e,n,a){var l=e.aspectRatio,u=e.naturalWidth,f=e.naturalHeight,h=e.rotate,b=h===void 0?0:h,x=e.scaleX,w=x===void 0?1:x,k=e.scaleY,A=k===void 0?1:k,H=n.aspectRatio,N=n.naturalWidth,q=n.naturalHeight,j=a.fillColor,O=j===void 0?"transparent":j,S=a.imageSmoothingEnabled,P=S===void 0?!0:S,W=a.imageSmoothingQuality,I=W===void 0?"low":W,G=a.maxWidth,J=G===void 0?1/0:G,ue=a.maxHeight,de=ue===void 0?1/0:ue,ge=a.minWidth,ce=ge===void 0?0:ge,Te=a.minHeight,ve=Te===void 0?0:Te,ne=document.createElement("canvas"),D=ne.getContext("2d"),se=Ru({aspectRatio:H,width:J,height:de}),ye=Ru({aspectRatio:H,width:ce,height:ve},"cover"),Ee=Math.min(se.width,Math.max(ye.width,N)),et=Math.min(se.height,Math.max(ye.height,q)),Ie=Ru({aspectRatio:l,width:J,height:de}),Me=Ru({aspectRatio:l,width:ce,height:ve},"cover"),ie=Math.min(Ie.width,Math.max(Me.width,u)),Y=Math.min(Ie.height,Math.max(Me.height,f)),Le=[-ie/2,-Y/2,ie,Y];return ne.width=oc(Ee),ne.height=oc(et),D.fillStyle=O,D.fillRect(0,0,Ee,et),D.save(),D.translate(Ee/2,et/2),D.rotate(b*Math.PI/180),D.scale(w,A),D.imageSmoothingEnabled=P,D.imageSmoothingQuality=I,D.drawImage.apply(D,[t].concat(bb(Le.map(function(Re){return Math.floor(oc(Re))})))),D.restore(),ne}var Lb=String.fromCharCode;function LA(t,e,n){var a="";n+=e;for(var l=e;l<n;l+=1)a+=Lb(t.getUint8(l));return a}var MA=/^data:.*,/;function PA(t){var e=t.replace(MA,""),n=atob(e),a=new ArrayBuffer(n.length),l=new Uint8Array(a);return pr(l,function(u,f){l[f]=n.charCodeAt(f)}),a}function OA(t,e){for(var n=[],a=8192,l=new Uint8Array(t);l.length>0;)n.push(Lb.apply(null,Sb(l.subarray(0,a)))),l=l.subarray(a);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function FA(t){var e=new DataView(t),n;try{var a,l,u;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var f=e.byteLength,h=2;h+1<f;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){l=h;break}h+=1}if(l){var b=l+4,x=l+10;if(LA(e,b,4)==="Exif"){var w=e.getUint16(x);if(a=w===18761,(a||w===19789)&&e.getUint16(x+2,a)===42){var k=e.getUint32(x+4,a);k>=8&&(u=x+k)}}}if(u){var A=e.getUint16(u,a),H,N;for(N=0;N<A;N+=1)if(H=u+N*12+2,e.getUint16(H,a)===274){H+=8,n=e.getUint16(H,a),e.setUint16(H,1,a);break}}}catch{n=1}return n}function RA(t){var e=0,n=1,a=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:a=-1;break;case 5:e=90,a=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:a}}var NA={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,a=this.container,l=this.cropper,u=Number(n.minContainerWidth),f=Number(n.minContainerHeight);Or(l,So),hs(e,So);var h={width:Math.max(a.offsetWidth,u>=0?u:Cb),height:Math.max(a.offsetHeight,f>=0?f:Eb)};this.containerData=h,Fu(l,{width:h.width,height:h.height}),Or(e,So),hs(l,So)},initCanvas:function(){var e=this.containerData,n=this.imageData,a=this.options.viewMode,l=Math.abs(n.rotate)%180===90,u=l?n.naturalHeight:n.naturalWidth,f=l?n.naturalWidth:n.naturalHeight,h=u/f,b=e.width,x=e.height;e.height*h>e.width?a===3?b=e.height*h:x=e.width/h:a===3?x=e.width/h:b=e.height*h;var w={aspectRatio:h,naturalWidth:u,naturalHeight:f,width:b,height:x};this.canvasData=w,this.limited=a===1||a===2,this.limitCanvas(!0,!0),w.width=Math.min(Math.max(w.width,w.minWidth),w.maxWidth),w.height=Math.min(Math.max(w.height,w.minHeight),w.maxHeight),w.left=(e.width-w.width)/2,w.top=(e.height-w.height)/2,w.oldLeft=w.left,w.oldTop=w.top,this.initialCanvasData=Cn({},w)},limitCanvas:function(e,n){var a=this.options,l=this.containerData,u=this.canvasData,f=this.cropBoxData,h=a.viewMode,b=u.aspectRatio,x=this.cropped&&f;if(e){var w=Number(a.minCanvasWidth)||0,k=Number(a.minCanvasHeight)||0;h>1?(w=Math.max(w,l.width),k=Math.max(k,l.height),h===3&&(k*b>w?w=k*b:k=w/b)):h>0&&(w?w=Math.max(w,x?f.width:0):k?k=Math.max(k,x?f.height:0):x&&(w=f.width,k=f.height,k*b>w?w=k*b:k=w/b));var A=Ru({aspectRatio:b,width:w,height:k});w=A.width,k=A.height,u.minWidth=w,u.minHeight=k,u.maxWidth=1/0,u.maxHeight=1/0}if(n)if(h>(x?0:1)){var H=l.width-u.width,N=l.height-u.height;u.minLeft=Math.min(0,H),u.minTop=Math.min(0,N),u.maxLeft=Math.max(0,H),u.maxTop=Math.max(0,N),x&&this.limited&&(u.minLeft=Math.min(f.left,f.left+(f.width-u.width)),u.minTop=Math.min(f.top,f.top+(f.height-u.height)),u.maxLeft=f.left,u.maxTop=f.top,h===2&&(u.width>=l.width&&(u.minLeft=Math.min(0,H),u.maxLeft=Math.max(0,H)),u.height>=l.height&&(u.minTop=Math.min(0,N),u.maxTop=Math.max(0,N))))}else u.minLeft=-u.width,u.minTop=-u.height,u.maxLeft=l.width,u.maxTop=l.height},renderCanvas:function(e,n){var a=this.canvasData,l=this.imageData;if(n){var u=AA({width:l.naturalWidth*Math.abs(l.scaleX||1),height:l.naturalHeight*Math.abs(l.scaleY||1),degree:l.rotate||0}),f=u.width,h=u.height,b=a.width*(f/a.naturalWidth),x=a.height*(h/a.naturalHeight);a.left-=(b-a.width)/2,a.top-=(x-a.height)/2,a.width=b,a.height=x,a.aspectRatio=f/h,a.naturalWidth=f,a.naturalHeight=h,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,Fu(this.canvas,Cn({width:a.width,height:a.height},ff({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,a=this.imageData,l=a.naturalWidth*(n.width/n.naturalWidth),u=a.naturalHeight*(n.height/n.naturalHeight);Cn(a,{width:l,height:u,left:(n.width-l)/2,top:(n.height-u)/2}),Fu(this.image,Cn({width:a.width,height:a.height},ff(Cn({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,a=e.aspectRatio||e.initialAspectRatio,l=Number(e.autoCropArea)||.8,u={width:n.width,height:n.height};a&&(n.height*a>n.width?u.height=u.width/a:u.width=u.height*a),this.cropBoxData=u,this.limitCropBox(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.width=Math.max(u.minWidth,u.width*l),u.height=Math.max(u.minHeight,u.height*l),u.left=n.left+(n.width-u.width)/2,u.top=n.top+(n.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCropBoxData=Cn({},u)},limitCropBox:function(e,n){var a=this.options,l=this.containerData,u=this.canvasData,f=this.cropBoxData,h=this.limited,b=a.aspectRatio;if(e){var x=Number(a.minCropBoxWidth)||0,w=Number(a.minCropBoxHeight)||0,k=h?Math.min(l.width,u.width,u.width+u.left,l.width-u.left):l.width,A=h?Math.min(l.height,u.height,u.height+u.top,l.height-u.top):l.height;x=Math.min(x,l.width),w=Math.min(w,l.height),b&&(x&&w?w*b>x?w=x/b:x=w*b:x?w=x/b:w&&(x=w*b),A*b>k?A=k/b:k=A*b),f.minWidth=Math.min(x,k),f.minHeight=Math.min(w,A),f.maxWidth=k,f.maxHeight=A}n&&(h?(f.minLeft=Math.max(0,u.left),f.minTop=Math.max(0,u.top),f.maxLeft=Math.min(l.width,u.left+u.width)-f.width,f.maxTop=Math.min(l.height,u.top+u.height)-f.height):(f.minLeft=0,f.minTop=0,f.maxLeft=l.width-f.width,f.maxTop=l.height-f.height))},renderCropBox:function(){var e=this.options,n=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&vf(this.face,gf,a.width>=n.width&&a.height>=n.height?_b:cm),Fu(this.cropBox,Cn({width:a.width,height:a.height},ff({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ac(this.element,Np,this.getData())}},zA={initPreview:function(){var e=this.element,n=this.crossOrigin,a=this.options.preview,l=n?this.crossOriginUrl:this.url,u=e.alt||"The image to preview",f=document.createElement("img");if(n&&(f.crossOrigin=n),f.src=l,f.alt=u,this.viewBox.appendChild(f),this.viewBoxImage=f,!!a){var h=a;typeof a=="string"?h=e.ownerDocument.querySelectorAll(a):a.querySelector&&(h=[a]),this.previews=h,pr(h,function(b){var x=document.createElement("img");vf(b,Ah,{width:b.offsetWidth,height:b.offsetHeight,html:b.innerHTML}),n&&(x.crossOrigin=n),x.src=l,x.alt=u,x.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',b.innerHTML="",b.appendChild(x)})}},resetPreview:function(){pr(this.previews,function(e){var n=Wp(e,Ah);Fu(e,{width:n.width,height:n.height}),e.innerHTML=n.html,CA(e,Ah)})},preview:function(){var e=this.imageData,n=this.canvasData,a=this.cropBoxData,l=a.width,u=a.height,f=e.width,h=e.height,b=a.left-n.left-e.left,x=a.top-n.top-e.top;!this.cropped||this.disabled||(Fu(this.viewBoxImage,Cn({width:f,height:h},ff(Cn({translateX:-b,translateY:-x},e)))),pr(this.previews,function(w){var k=Wp(w,Ah),A=k.width,H=k.height,N=A,q=H,j=1;l&&(j=A/l,q=u*j),u&&q>H&&(j=H/u,N=l*j,q=H),Fu(w,{width:N,height:q}),Fu(w.getElementsByTagName("img")[0],Cn({width:f*j,height:h*j},ff(Cn({translateX:-b*j,translateY:-x*j},e))))}))}},IA={bind:function(){var e=this.element,n=this.options,a=this.cropper;Eo(n.cropstart)&&va(e,Bp,n.cropstart),Eo(n.cropmove)&&va(e,Ip,n.cropmove),Eo(n.cropend)&&va(e,zp,n.cropend),Eo(n.crop)&&va(e,Np,n.crop),Eo(n.zoom)&&va(e,Hp,n.zoom),va(a,f0,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&va(a,g0,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&va(a,c0,this.onDblclick=this.dblclick.bind(this)),va(e.ownerDocument,h0,this.onCropMove=this.cropMove.bind(this)),va(e.ownerDocument,d0,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&va(window,m0,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,a=this.cropper;Eo(n.cropstart)&&Na(e,Bp,n.cropstart),Eo(n.cropmove)&&Na(e,Ip,n.cropmove),Eo(n.cropend)&&Na(e,zp,n.cropend),Eo(n.crop)&&Na(e,Np,n.crop),Eo(n.zoom)&&Na(e,Hp,n.zoom),Na(a,f0,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Na(a,g0,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Na(a,c0,this.onDblclick),Na(e.ownerDocument,h0,this.onCropMove),Na(e.ownerDocument,d0,this.onCropEnd),n.responsive&&Na(window,m0,this.onResize)}},BA={resize:function(){if(!this.disabled){var e=this.options,n=this.container,a=this.containerData,l=n.offsetWidth/a.width,u=n.offsetHeight/a.height,f=Math.abs(l-1)>Math.abs(u-1)?l:u;if(f!==1){var h,b;e.restore&&(h=this.getCanvasData(),b=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(pr(h,function(x,w){h[w]=x*f})),this.setCropBoxData(pr(b,function(x,w){b[w]=x*f})))}}},dblclick:function(){this.disabled||this.options.dragMode===kb||this.setDragMode(xA(this.dragBox,Fp)?xb:fm)},wheel:function(e){var n=this,a=Number(this.options.wheelZoomRatio)||.1,l=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?l=e.deltaY>0?1:-1:e.wheelDelta?l=-e.wheelDelta/120:e.detail&&(l=e.detail>0?1:-1),this.zoom(-l*a,e)))},cropStart:function(e){var n=e.buttons,a=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Li(n)&&n!==1||Li(a)&&a!==0||e.ctrlKey))){var l=this.options,u=this.pointers,f;e.changedTouches?pr(e.changedTouches,function(h){u[h.identifier]=Dh(h)}):u[e.pointerId||0]=Dh(e),Object.keys(u).length>1&&l.zoomable&&l.zoomOnTouch?f=wb:f=Wp(e.target,gf),hA.test(f)&&ac(this.element,Bp,{originalEvent:e,action:f})!==!1&&(e.preventDefault(),this.action=f,this.cropping=!1,f===yb&&(this.cropping=!0,Or(this.dragBox,td)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var a=this.pointers;e.preventDefault(),ac(this.element,Ip,{originalEvent:e,action:n})!==!1&&(e.changedTouches?pr(e.changedTouches,function(l){Cn(a[l.identifier]||{},Dh(l,!0))}):Cn(a[e.pointerId||0]||{},Dh(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,a=this.pointers;e.changedTouches?pr(e.changedTouches,function(l){delete a[l.identifier]}):delete a[e.pointerId||0],n&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,nc(this.dragBox,td,this.cropped&&this.options.modal)),ac(this.element,zp,{originalEvent:e,action:n}))}}},HA={change:function(e){var n=this.options,a=this.canvasData,l=this.containerData,u=this.cropBoxData,f=this.pointers,h=this.action,b=n.aspectRatio,x=u.left,w=u.top,k=u.width,A=u.height,H=x+k,N=w+A,q=0,j=0,O=l.width,S=l.height,P=!0,W;!b&&e.shiftKey&&(b=k&&A?k/A:1),this.limited&&(q=u.minLeft,j=u.minTop,O=q+Math.min(l.width,a.width,a.left+a.width),S=j+Math.min(l.height,a.height,a.top+a.height));var I=f[Object.keys(f)[0]],G={x:I.endX-I.startX,y:I.endY-I.startY},J=function(de){switch(de){case dl:H+G.x>O&&(G.x=O-H);break;case pl:x+G.x<q&&(G.x=q-x);break;case Tu:w+G.y<j&&(G.y=j-w);break;case Jl:N+G.y>S&&(G.y=S-N);break}};switch(h){case cm:x+=G.x,w+=G.y;break;case dl:if(G.x>=0&&(H>=O||b&&(w<=j||N>=S))){P=!1;break}J(dl),k+=G.x,k<0&&(h=pl,k=-k,x-=k),b&&(A=k/b,w+=(u.height-A)/2);break;case Tu:if(G.y<=0&&(w<=j||b&&(x<=q||H>=O))){P=!1;break}J(Tu),A-=G.y,w+=G.y,A<0&&(h=Jl,A=-A,w-=A),b&&(k=A*b,x+=(u.width-k)/2);break;case pl:if(G.x<=0&&(x<=q||b&&(w<=j||N>=S))){P=!1;break}J(pl),k-=G.x,x+=G.x,k<0&&(h=dl,k=-k,x-=k),b&&(A=k/b,w+=(u.height-A)/2);break;case Jl:if(G.y>=0&&(N>=S||b&&(x<=q||H>=O))){P=!1;break}J(Jl),A+=G.y,A<0&&(h=Tu,A=-A,w-=A),b&&(k=A*b,x+=(u.width-k)/2);break;case Xc:if(b){if(G.y<=0&&(w<=j||H>=O)){P=!1;break}J(Tu),A-=G.y,w+=G.y,k=A*b}else J(Tu),J(dl),G.x>=0?H<O?k+=G.x:G.y<=0&&w<=j&&(P=!1):k+=G.x,G.y<=0?w>j&&(A-=G.y,w+=G.y):(A-=G.y,w+=G.y);k<0&&A<0?(h=Qc,A=-A,k=-k,w-=A,x-=k):k<0?(h=Vc,k=-k,x-=k):A<0&&(h=Kc,A=-A,w-=A);break;case Vc:if(b){if(G.y<=0&&(w<=j||x<=q)){P=!1;break}J(Tu),A-=G.y,w+=G.y,k=A*b,x+=u.width-k}else J(Tu),J(pl),G.x<=0?x>q?(k-=G.x,x+=G.x):G.y<=0&&w<=j&&(P=!1):(k-=G.x,x+=G.x),G.y<=0?w>j&&(A-=G.y,w+=G.y):(A-=G.y,w+=G.y);k<0&&A<0?(h=Kc,A=-A,k=-k,w-=A,x-=k):k<0?(h=Xc,k=-k,x-=k):A<0&&(h=Qc,A=-A,w-=A);break;case Qc:if(b){if(G.x<=0&&(x<=q||N>=S)){P=!1;break}J(pl),k-=G.x,x+=G.x,A=k/b}else J(Jl),J(pl),G.x<=0?x>q?(k-=G.x,x+=G.x):G.y>=0&&N>=S&&(P=!1):(k-=G.x,x+=G.x),G.y>=0?N<S&&(A+=G.y):A+=G.y;k<0&&A<0?(h=Xc,A=-A,k=-k,w-=A,x-=k):k<0?(h=Kc,k=-k,x-=k):A<0&&(h=Vc,A=-A,w-=A);break;case Kc:if(b){if(G.x>=0&&(H>=O||N>=S)){P=!1;break}J(dl),k+=G.x,A=k/b}else J(Jl),J(dl),G.x>=0?H<O?k+=G.x:G.y>=0&&N>=S&&(P=!1):k+=G.x,G.y>=0?N<S&&(A+=G.y):A+=G.y;k<0&&A<0?(h=Vc,A=-A,k=-k,w-=A,x-=k):k<0?(h=Qc,k=-k,x-=k):A<0&&(h=Xc,A=-A,w-=A);break;case _b:this.move(G.x,G.y),P=!1;break;case wb:this.zoom(SA(f),e),P=!1;break;case yb:if(!G.x||!G.y){P=!1;break}W=Db(this.cropper),x=I.startX-W.left,w=I.startY-W.top,k=u.minWidth,A=u.minHeight,G.x>0?h=G.y>0?Kc:Xc:G.x<0&&(x-=k,h=G.y>0?Qc:Vc),G.y<0&&(w-=A),this.cropped||(hs(this.cropBox,So),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}P&&(u.width=k,u.height=A,u.left=x,u.top=w,this.action=h,this.renderCropBox()),pr(f,function(ue){ue.startX=ue.endX,ue.startY=ue.endY})}},WA={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Or(this.dragBox,td),hs(this.cropBox,So),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Cn({},this.initialImageData),this.canvasData=Cn({},this.initialCanvasData),this.cropBoxData=Cn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Cn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),hs(this.dragBox,td),Or(this.cropBox,So)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,pr(this.previews,function(a){a.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,hs(this.cropper,u0)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Or(this.cropper,u0)),this},destroy:function(){var e=this.element;return e[kn]?(e[kn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.canvasData,l=a.left,u=a.top;return this.moveTo(pp(e)?e:l+Number(e),pp(n)?n:u+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.canvasData,l=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Li(e)&&(a.left=e,l=!0),Li(n)&&(a.top=n,l=!0),l&&this.renderCanvas(!0)),this},zoom:function(e,n){var a=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(a.width*e/a.naturalWidth,null,n)},zoomTo:function(e,n,a){var l=this.options,u=this.canvasData,f=u.width,h=u.height,b=u.naturalWidth,x=u.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&l.zoomable){var w=b*e,k=x*e;if(ac(this.element,Hp,{ratio:e,oldRatio:f/b,originalEvent:a})===!1)return this;if(a){var A=this.pointers,H=Db(this.cropper),N=A&&Object.keys(A).length?TA(A):{pageX:a.pageX,pageY:a.pageY};u.left-=(w-f)*((N.pageX-H.left-u.left)/f),u.top-=(k-h)*((N.pageY-H.top-u.top)/h)}else ic(n)&&Li(n.x)&&Li(n.y)?(u.left-=(w-f)*((n.x-u.left)/f),u.top-=(k-h)*((n.y-u.top)/h)):(u.left-=(w-f)/2,u.top-=(k-h)/2);u.width=w,u.height=k,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Li(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,Li(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(Li(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.imageData,l=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Li(e)&&(a.scaleX=e,l=!0),Li(n)&&(a.scaleY=n,l=!0),l&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,a=this.imageData,l=this.canvasData,u=this.cropBoxData,f;if(this.ready&&this.cropped){f={x:u.left-l.left,y:u.top-l.top,width:u.width,height:u.height};var h=a.width/a.naturalWidth;if(pr(f,function(w,k){f[k]=w/h}),e){var b=Math.round(f.y+f.height),x=Math.round(f.x+f.width);f.x=Math.round(f.x),f.y=Math.round(f.y),f.width=x-f.x,f.height=b-f.y}}else f={x:0,y:0,width:0,height:0};return n.rotatable&&(f.rotate=a.rotate||0),n.scalable&&(f.scaleX=a.scaleX||1,f.scaleY=a.scaleY||1),f},setData:function(e){var n=this.options,a=this.imageData,l=this.canvasData,u={};if(this.ready&&!this.disabled&&ic(e)){var f=!1;n.rotatable&&Li(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,f=!0),n.scalable&&(Li(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,f=!0),Li(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,f=!0)),f&&this.renderCanvas(!0,!0);var h=a.width/a.naturalWidth;Li(e.x)&&(u.left=e.x*h+l.left),Li(e.y)&&(u.top=e.y*h+l.top),Li(e.width)&&(u.width=e.width*h),Li(e.height)&&(u.height=e.height*h),this.setCropBoxData(u)}return this},getContainerData:function(){return this.ready?Cn({},this.containerData):{}},getImageData:function(){return this.sized?Cn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&pr(["left","top","width","height","naturalWidth","naturalHeight"],function(a){n[a]=e[a]}),n},setCanvasData:function(e){var n=this.canvasData,a=n.aspectRatio;return this.ready&&!this.disabled&&ic(e)&&(Li(e.left)&&(n.left=e.left),Li(e.top)&&(n.top=e.top),Li(e.width)?(n.width=e.width,n.height=e.width/a):Li(e.height)&&(n.height=e.height,n.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,a=this.options.aspectRatio,l,u;return this.ready&&this.cropped&&!this.disabled&&ic(e)&&(Li(e.left)&&(n.left=e.left),Li(e.top)&&(n.top=e.top),Li(e.width)&&e.width!==n.width&&(l=!0,n.width=e.width),Li(e.height)&&e.height!==n.height&&(u=!0,n.height=e.height),a&&(l?n.height=n.width/a:u&&(n.width=n.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,a=DA(this.image,this.imageData,n,e);if(!this.cropped)return a;var l=this.getData(e.rounded),u=l.x,f=l.y,h=l.width,b=l.height,x=a.width/Math.floor(n.naturalWidth);x!==1&&(u*=x,f*=x,h*=x,b*=x);var w=h/b,k=Ru({aspectRatio:w,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),A=Ru({aspectRatio:w,width:e.minWidth||0,height:e.minHeight||0},"cover"),H=Ru({aspectRatio:w,width:e.width||(x!==1?a.width:h),height:e.height||(x!==1?a.height:b)}),N=H.width,q=H.height;N=Math.min(k.width,Math.max(A.width,N)),q=Math.min(k.height,Math.max(A.height,q));var j=document.createElement("canvas"),O=j.getContext("2d");j.width=oc(N),j.height=oc(q),O.fillStyle=e.fillColor||"transparent",O.fillRect(0,0,N,q);var S=e.imageSmoothingEnabled,P=S===void 0?!0:S,W=e.imageSmoothingQuality;O.imageSmoothingEnabled=P,W&&(O.imageSmoothingQuality=W);var I=a.width,G=a.height,J=u,ue=f,de,ge,ce,Te,ve,ne;J<=-h||J>I?(J=0,de=0,ce=0,ve=0):J<=0?(ce=-J,J=0,de=Math.min(I,h+J),ve=de):J<=I&&(ce=0,de=Math.min(h,I-J),ve=de),de<=0||ue<=-b||ue>G?(ue=0,ge=0,Te=0,ne=0):ue<=0?(Te=-ue,ue=0,ge=Math.min(G,b+ue),ne=ge):ue<=G&&(Te=0,ge=Math.min(b,G-ue),ne=ge);var D=[J,ue,de,ge];if(ve>0&&ne>0){var se=N/h;D.push(ce*se,Te*se,ve*se,ne*se)}return O.drawImage.apply(O,[a].concat(bb(D.map(function(ye){return Math.floor(oc(ye))})))),j},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!pp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,a=this.dragBox,l=this.face;if(this.ready&&!this.disabled){var u=e===fm,f=n.movable&&e===xb;e=u||f?e:kb,n.dragMode=e,vf(a,gf,e),nc(a,Fp,u),nc(a,Rp,f),n.cropBoxMovable||(vf(l,gf,e),nc(l,Fp,u),nc(l,Rp,f))}return this}},jA=ds.Cropper,Mb=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tA(this,t),!e||!mA.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Cn({},b0,ic(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return iA(t,[{key:"init",value:function(){var n=this.element,a=n.tagName.toLowerCase(),l;if(!n[kn]){if(n[kn]=this,a==="img"){if(this.isImg=!0,l=n.getAttribute("src")||"",this.originalUrl=l,!l)return;l=n.src}else a==="canvas"&&window.HTMLCanvasElement&&(l=n.toDataURL());this.load(l)}}},{key:"load",value:function(n){var a=this;if(n){this.url=n,this.imageData={};var l=this.element,u=this.options;if(!u.rotatable&&!u.scalable&&(u.checkOrientation=!1),!u.checkOrientation||!window.ArrayBuffer){this.clone();return}if(dA.test(n)){pA.test(n)?this.read(PA(n)):this.clone();return}var f=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=f,f.onabort=h,f.onerror=h,f.ontimeout=h,f.onprogress=function(){f.getResponseHeader("content-type")!==v0&&f.abort()},f.onload=function(){a.read(f.response)},f.onloadend=function(){a.reloading=!1,a.xhr=null},u.checkCrossOrigin&&_0(n)&&l.crossOrigin&&(n=w0(n)),f.open("GET",n,!0),f.responseType="arraybuffer",f.withCredentials=l.crossOrigin==="use-credentials",f.send()}}},{key:"read",value:function(n){var a=this.options,l=this.imageData,u=FA(n),f=0,h=1,b=1;if(u>1){this.url=OA(n,v0);var x=RA(u);f=x.rotate,h=x.scaleX,b=x.scaleY}a.rotatable&&(l.rotate=f),a.scalable&&(l.scaleX=h,l.scaleY=b),this.clone()}},{key:"clone",value:function(){var n=this.element,a=this.url,l=n.crossOrigin,u=a;this.options.checkCrossOrigin&&_0(a)&&(l||(l="anonymous"),u=w0(a)),this.crossOrigin=l,this.crossOriginUrl=u;var f=document.createElement("img");l&&(f.crossOrigin=l),f.src=u||a,f.alt=n.alt||"The image to crop",this.image=f,f.onload=this.start.bind(this),f.onerror=this.stop.bind(this),Or(f,l0),n.parentNode.insertBefore(f,n.nextSibling)}},{key:"start",value:function(){var n=this,a=this.image;a.onload=null,a.onerror=null,this.sizing=!0;var l=ds.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ds.navigator.userAgent),u=function(x,w){Cn(n.imageData,{naturalWidth:x,naturalHeight:w,aspectRatio:x/w}),n.initialImageData=Cn({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(a.naturalWidth&&!l){u(a.naturalWidth,a.naturalHeight);return}var f=document.createElement("img"),h=document.body||document.documentElement;this.sizingImage=f,f.onload=function(){u(f.width,f.height),l||h.removeChild(f)},f.src=a.src,l||(f.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(f))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,a=this.options,l=this.image,u=n.parentNode,f=document.createElement("div");f.innerHTML=gA;var h=f.querySelector(".".concat(kn,"-container")),b=h.querySelector(".".concat(kn,"-canvas")),x=h.querySelector(".".concat(kn,"-drag-box")),w=h.querySelector(".".concat(kn,"-crop-box")),k=w.querySelector(".".concat(kn,"-face"));this.container=u,this.cropper=h,this.canvas=b,this.dragBox=x,this.cropBox=w,this.viewBox=h.querySelector(".".concat(kn,"-view-box")),this.face=k,b.appendChild(l),Or(n,So),u.insertBefore(h,n.nextSibling),hs(l,l0),this.initPreview(),this.bind(),a.initialAspectRatio=Math.max(0,a.initialAspectRatio)||NaN,a.aspectRatio=Math.max(0,a.aspectRatio)||NaN,a.viewMode=Math.max(0,Math.min(3,Math.round(a.viewMode)))||0,Or(w,So),a.guides||Or(w.getElementsByClassName("".concat(kn,"-dashed")),So),a.center||Or(w.getElementsByClassName("".concat(kn,"-center")),So),a.background&&Or(h,"".concat(kn,"-bg")),a.highlight||Or(k,uA),a.cropBoxMovable&&(Or(k,Rp),vf(k,gf,cm)),a.cropBoxResizable||(Or(w.getElementsByClassName("".concat(kn,"-line")),So),Or(w.getElementsByClassName("".concat(kn,"-point")),So)),this.render(),this.ready=!0,this.setDragMode(a.dragMode),a.autoCrop&&this.crop(),this.setData(a.data),Eo(a.ready)&&va(n,p0,a.ready,{once:!0}),ac(n,p0)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),hs(this.element,So)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=jA,t}},{key:"setDefaults",value:function(n){Cn(b0,ic(n)&&n)}}])}();Cn(Mb.prototype,NA,zA,IA,BA,HA,WA);const qA={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(t){const e=t.keyCode;switch(e){case 90:this.undo&&(t.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(t.preventDefault(),this.move(-1,0));break;case 38:this.move&&(t.preventDefault(),this.move(0,-1));break;case 39:this.move&&(t.preventDefault(),this.move(1,0));break;case 40:this.move&&(t.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var UA=function(){var e=this,n=e._self._c;return n("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(a){return e.setDragMode("move")}}},[n("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(a){return e.setDragMode("crop")}}},[n("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[n("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[n("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[n("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[n("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[n("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[n("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),n("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(a){var l=Array.prototype.filter.call(a.target.options,function(u){return u.selected}).map(function(u){var f="_value"in u?u._value:u.value;return f});e.ratio=a.target.multiple?l:l[0]},e.aspectRatio]}},[n("optgroup",{attrs:{label:e.translations.other}},[n("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),n("option",{attrs:{value:"1:1"}},[e._v("1:1")]),n("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),n("optgroup",{attrs:{label:e.translations.landscape}},[n("option",{attrs:{value:"16:9"}},[e._v("16:9")]),n("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),n("optgroup",{attrs:{label:e.translations.portrait}},[n("option",{attrs:{value:"9:16"}},[e._v("9:16")]),n("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),n("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[n("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[n("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[n("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},YA=[],$A=Nn(qA,UA,YA,!1,null,"49d78b1c");const GA=$A.exports,ZA={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...ps({originalUrl:t=>t.blanchetteEditor.originalUrl,isLoading:t=>t.blanchetteEditor.isLoading,translations:t=>t.translations})},methods:{...js(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await hc(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(t){switch(t.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(t){t&&this.cropper&&this.cropper.setDragMode(t)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(t,e){this.cropper.move(t,e)},start(){this.cropper||(this.cropper=new Mb(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(t){t.detail.width>0&&t.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const t=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=t.getData(),this.canvasData=t.getCanvasData(),this.cropBoxData=t.getCropBoxData(),this.url=t.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:GA}};var XA=function(){var e=this,n=e._self._c;return n("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[n("div",{staticClass:"canvas"},[e.isLoading?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner-container"},[n("div",{staticClass:"spinner"})])]):e._e(),n("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),n("div",{staticClass:"editor"},[e.url?[n("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},VA=[],KA=Nn(ZA,XA,VA,!1,null,"9956183e");const QA=KA.exports;var gp={exports:{}},x0;function JA(){return x0||(x0=1,function(t,e){(function(n,a){t.exports=a()})(window,function(){return l={},n.m=a=[function(u,f,h){var b=h(6);typeof b=="string"&&(b=[[u.i,b,""]]),b.locals&&(u.exports=b.locals),(0,h(4).default)("27d83796",b,!1,{})},function(u,f,h){var b=h(8);typeof b=="string"&&(b=[[u.i,b,""]]),b.locals&&(u.exports=b.locals),(0,h(4).default)("0e783494",b,!1,{})},function(u,f,h){var b=h(10);typeof b=="string"&&(b=[[u.i,b,""]]),b.locals&&(u.exports=b.locals),(0,h(4).default)("17757f60",b,!1,{})},function(u,f){u.exports=function(h){var b=[];return b.toString=function(){return this.map(function(x){var w=function(k,A){var H=k[1]||"",N=k[3];if(!N)return H;if(A&&typeof btoa=="function"){var q=function(O){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */"}(N),j=N.sources.map(function(O){return"/*# sourceURL="+N.sourceRoot+O+" */"});return[H].concat(j).concat([q]).join(`
`)}return[H].join(`
`)}(x,h);return x[2]?"@media "+x[2]+"{"+w+"}":w}).join("")},b.i=function(x,w){typeof x=="string"&&(x=[[null,x,""]]);for(var k={},A=0;A<this.length;A++){var H=this[A][0];typeof H=="number"&&(k[H]=!0)}for(A=0;A<x.length;A++){var N=x[A];typeof N[0]=="number"&&k[N[0]]||(w&&!N[2]?N[2]=w:w&&(N[2]="("+N[2]+") and ("+w+")"),b.push(N))}},b}},function(u,f,h){function b(ge,ce){for(var Te=[],ve={},ne=0;ne<ce.length;ne++){var D=ce[ne],se=D[0],ye={id:ge+":"+ne,css:D[1],media:D[2],sourceMap:D[3]};ve[se]?ve[se].parts.push(ye):Te.push(ve[se]={id:se,parts:[ye]})}return Te}h.r(f),h.d(f,"default",function(){return P});var x=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!x)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var w={},k=x&&(document.head||document.getElementsByTagName("head")[0]),A=null,H=0,N=!1,q=function(){},j=null,O="data-vue-ssr-id",S=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function P(ge,ce,Te,ve){N=Te,j=ve||{};var ne=b(ge,ce);return W(ne),function(D){for(var se=[],ye=0;ye<ne.length;ye++){var Ee=ne[ye];(et=w[Ee.id]).refs--,se.push(et)}for(D?W(ne=b(ge,D)):ne=[],ye=0;ye<se.length;ye++){var et;if((et=se[ye]).refs===0){for(var Ie=0;Ie<et.parts.length;Ie++)et.parts[Ie]();delete w[et.id]}}}}function W(ge){for(var ce=0;ce<ge.length;ce++){var Te=ge[ce],ve=w[Te.id];if(ve){ve.refs++;for(var ne=0;ne<ve.parts.length;ne++)ve.parts[ne](Te.parts[ne]);for(;ne<Te.parts.length;ne++)ve.parts.push(G(Te.parts[ne]));ve.parts.length>Te.parts.length&&(ve.parts.length=Te.parts.length)}else{var D=[];for(ne=0;ne<Te.parts.length;ne++)D.push(G(Te.parts[ne]));w[Te.id]={id:Te.id,refs:1,parts:D}}}}function I(){var ge=document.createElement("style");return ge.type="text/css",k.appendChild(ge),ge}function G(ge){var ce,Te,ve=document.querySelector("style["+O+'~="'+ge.id+'"]');if(ve){if(N)return q;ve.parentNode.removeChild(ve)}if(S){var ne=H++;ve=A=A||I(),ce=de.bind(null,ve,ne,!1),Te=de.bind(null,ve,ne,!0)}else ve=I(),ce=(function(D,se){var ye=se.css,Ee=se.media,et=se.sourceMap;if(Ee&&D.setAttribute("media",Ee),j.ssrId&&D.setAttribute(O,se.id),et&&(ye+=`
/*# sourceURL=`+et.sources[0]+" */",ye+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(et))))+" */"),D.styleSheet)D.styleSheet.cssText=ye;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(ye))}}).bind(null,ve),Te=function(){ve.parentNode.removeChild(ve)};return ce(ge),function(D){if(D){if(D.css===ge.css&&D.media===ge.media&&D.sourceMap===ge.sourceMap)return;ce(ge=D)}else Te()}}var J,ue=(J=[],function(ge,ce){return J[ge]=ce,J.filter(Boolean).join(`
`)});function de(ge,ce,Te,ve){var ne=Te?"":ve.css;if(ge.styleSheet)ge.styleSheet.cssText=ue(ce,ne);else{var D=document.createTextNode(ne),se=ge.childNodes;se[ce]&&ge.removeChild(se[ce]),se.length?ge.insertBefore(D,se[ce]):ge.appendChild(D)}}},function(u,f,h){var b=h(0);h.n(b).a},function(u,f,h){(u.exports=h(3)(!1)).push([u.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(u,f,h){var b=h(1);h.n(b).a},function(u,f,h){(u.exports=h(3)(!1)).push([u.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(u,f,h){var b=h(2);h.n(b).a},function(u,f,h){(u.exports=h(3)(!1)).push([u.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(u,f,h){h.r(f),h.d(f,"getModalsContainer",function(){return Y});function b(){var V=this,we=V.$createElement,Ae=V._self._c||we;return Ae("transition",{attrs:{name:V.overlayTransition}},[V.visibility.overlay?Ae("div",{ref:"overlay",class:V.overlayClass,attrs:{"aria-expanded":V.visibility.overlay.toString(),"data-modal":V.name}},[Ae("div",{staticClass:"v--modal-background-click",on:{mousedown:function(qe){return qe.target!==qe.currentTarget?null:V.handleBackgroundClick(qe)},touchstart:function(qe){return qe.target!==qe.currentTarget?null:V.handleBackgroundClick(qe)}}},[Ae("div",{staticClass:"v--modal-top-right"},[V._t("top-right")],2),V._v(" "),Ae("transition",{attrs:{name:V.transition},on:{"before-enter":V.beforeTransitionEnter,"after-enter":V.afterTransitionEnter,"after-leave":V.afterTransitionLeave}},[V.visibility.modal?Ae("div",{ref:"modal",class:V.modalClass,style:V.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[V._t("default"),V._v(" "),V.resizable&&!V.isAutoHeight?Ae("resizer",{attrs:{"min-width":V.minWidth,"min-height":V.minHeight,"max-width":V.maxWidth,"max-height":V.maxHeight},on:{resize:V.handleModalResize}}):V._e()],2):V._e()])],1)]):V._e()])}function x(){var V=this.$createElement;return(this._self._c||V)("div",{class:this.className})}function w(V,we){return function(Ae){if(Array.isArray(Ae))return Ae}(V)||function(Ae,qe){var Ze=[],Xe=!0,ut=!1,Et=void 0;try{for(var wt,St=Ae[Symbol.iterator]();!(Xe=(wt=St.next()).done)&&(Ze.push(wt.value),!qe||Ze.length!==qe);Xe=!0);}catch(yt){ut=!0,Et=yt}finally{try{Xe||St.return==null||St.return()}finally{if(ut)throw Et}}return Ze}(V,we)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(V){for(var we=1;we<arguments.length;we++){var Ae=arguments[we]!=null?arguments[we]:{},qe=Object.keys(Ae);typeof Object.getOwnPropertySymbols=="function"&&(qe=qe.concat(Object.getOwnPropertySymbols(Ae).filter(function(Ze){return Object.getOwnPropertyDescriptor(Ae,Ze).enumerable}))),qe.forEach(function(Ze){A(V,Ze,Ae[Ze])})}return V}function A(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}x._withStripped=b._withStripped=!0;function H(V,we,Ae){return Ae<V?V:we<Ae?we:Ae}function N(){var V=window.innerWidth,we=document.documentElement.clientWidth;return V&&we?Math.min(V,we):we||V}var q=function(V){var we=0;return function(){return(we++).toString()}}(),j={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(V){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),V.stopPropagation(),V.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(V){this.resize(V)},resize:function(V){var we=this.$el.parentElement;if(we){var Ae=V.clientX-we.offsetLeft,qe=V.clientY-we.offsetTop,Ze=Math.min(N(),this.maxWidth),Xe=Math.min(window.innerHeight,this.maxHeight);Ae=H(this.minWidth,Ze,Ae),qe=H(this.minHeight,Xe,qe),this.size={width:Ae,height:qe},we.style.width=Ae+"px",we.style.height=qe+"px",this.$emit("resize",{element:we,size:this.size})}}}};h(5);function O(V,we,Ae,qe,Ze,Xe,ut,Et){var wt,St=typeof V=="function"?V.options:V;return we&&(St.render=we,St.staticRenderFns=Ae,St._compiled=!0),{exports:V,options:St}}var S=O(j,x,[]);S.options.__file="src/Resizer.vue";var P=S.exports;function W(V){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(V)}function I(V){switch(W(V)){case"number":return{type:"px",value:V};case"string":return function(we){if(we==="auto")return{type:we,value:0};var Ae=ue.find(function(qe){return qe.regexp.test(we)});return Ae?{type:Ae.name,value:parseFloat(we)}:{type:"",value:we}}(V);default:return{type:"",value:V}}}function G(V){if(typeof V!="string")return 0<=V;var we=I(V);return(we.type==="%"||we.type==="px")&&0<we.value}var J="[-+]?[0-9]*.?[0-9]+",ue=[{name:"px",regexp:new RegExp("^".concat(J,"px$"))},{name:"%",regexp:new RegExp("^".concat(J,"%$"))},{name:"px",regexp:new RegExp("^".concat(J,"$"))}];function de(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}var ge={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(V){return 0<=V}},minHeight:{type:Number,default:0,validator:function(V){return 0<=V}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:G},height:{type:[Number,String],default:300,validator:function(V){return V==="auto"||G(V)}},pivotX:{type:Number,default:.5,validator:function(V){return 0<=V&&V<=1}},pivotY:{type:Number,default:.5,validator:function(V){return 0<=V&&V<=1}}},components:{Resizer:P},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var V=this;if(Re.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var we=function(){if(typeof window<"u")for(var Ae=["","WebKit","Moz","O","Ms"],qe=0;qe<Ae.length;qe++){var Ze=Ae[qe]+"MutationObserver";if(Ze in window)return window[Ze]}return!1}();we?this.mutationObserver=new we(function(Ae){V.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Re.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var V=this.viewportHeight,we=this.viewportWidth,Ae=this.shift,qe=this.pivotX,Ze=this.pivotY,Xe=this.trueModalWidth,ut=this.trueModalHeight,Et=we-Xe,wt=Math.max(V-ut,0),St=Ae.left+qe*Et,yt=Ae.top+Ze*wt;return{left:parseInt(H(0,Et,St)),top:parseInt(H(0,wt,yt))}},trueModalWidth:function(){var V=this.viewportWidth,we=this.modal,Ae=this.adaptive,qe=this.minWidth,Ze=this.maxWidth,Xe=we.widthType==="%"?V/100*we.width:we.width,ut=Math.max(qe,Math.min(V,Ze));return Ae?H(qe,ut,Xe):Xe},trueModalHeight:function(){var V=this.viewportHeight,we=this.modal,Ae=this.isAutoHeight,qe=this.adaptive,Ze=this.minHeight,Xe=this.maxHeight,ut=we.heightType==="%"?V/100*we.height:we.height;if(Ae)return this.modal.renderedHeight;var Et=Math.max(Ze,Math.min(V,Xe));return qe?H(Ze,Et,ut):ut},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(V){return V.trim()}).filter(Boolean).map(function(V){return V.split(":")}).reduce(function(V,we){var Ae=w(we,2);return k({},V,A({},Ae[0],Ae[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(V){var we=this;V?(this.visibility.overlay=!0,setTimeout(function(){we.visibility.modal=!0,we.$nextTick(function(){we.addDraggableListeners(),we.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){we.visibility.overlay=!1,we.$nextTick(function(){we.removeDraggableListeners(),we.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(V,we,Ae){if(this.name===V){var qe=we===void 0?!this.visible:we;this.toggle(qe,Ae)}},setInitialSize:function(){var V=this.modal,we=I(this.width),Ae=I(this.height);V.width=we.value,V.widthType=we.type,V.height=Ae.value,V.heightType=Ae.type},handleEscapeKeyUp:function(V){V.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=N(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(V){var we=0<arguments.length&&V!==void 0?V:{};return function(Ae){var qe=0<arguments.length&&Ae!==void 0?Ae:{};return k({id:q(),timestamp:Date.now(),canceled:!1},qe)}(function(Ae){for(var qe=1;qe<arguments.length;qe++){var Ze=arguments[qe]!=null?arguments[qe]:{},Xe=Object.keys(Ze);typeof Object.getOwnPropertySymbols=="function"&&(Xe=Xe.concat(Object.getOwnPropertySymbols(Ze).filter(function(ut){return Object.getOwnPropertyDescriptor(Ze,ut).enumerable}))),Xe.forEach(function(ut){de(Ae,ut,Ze[ut])})}return Ae}({name:this.name,ref:this.$refs.modal},we))},handleModalResize:function(V){this.modal.widthType="px",this.modal.width=V.size.width,this.modal.heightType="px",this.modal.height=V.size.height;var we=this.modal.size;this.$emit("resize",this.createModalEvent({size:we}))},toggle:function(V,we){var Ae=this.reset,qe=this.scrollable,Ze=this.visible;if(Ze!==V){var Xe=Ze?"before-close":"before-open";Xe=="before-open"?(Ae&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),qe&&document.body.classList.add("v--modal-block-scroll")):qe&&document.body.classList.remove("v--modal-block-scroll");var ut=!1,Et=this.createModalEvent({stop:function(){ut=!0},state:V,params:we});this.$emit(Xe,Et),ut||(this.visible=V,Xe=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var V=typeof this.draggable!="string"?".v--modal-box":this.draggable;return V?this.$refs.overlay.querySelector(V):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(V){V?this.connectObserver():this.disconnectObserver();var we=V?"opened":"closed",Ae=this.createModalEvent({state:V});this.$emit(we,Ae)},addDraggableListeners:function(){var V=this;if(this.draggable){var we=this.getDraggableElement();if(we){var Ae=0,qe=0,Ze=0,Xe=0,ut=function(yt){return yt.touches&&0<yt.touches.length?yt.touches[0]:yt},Et=function(yt){var Mt=yt.target;if(!Mt||Mt.nodeName!=="INPUT"&&Mt.nodeName!=="TEXTAREA"&&Mt.nodeName!=="SELECT"){var Ut=ut(yt),Kt=Ut.clientX,X=Ut.clientY;document.addEventListener("mousemove",wt),document.addEventListener("touchmove",wt),document.addEventListener("mouseup",St),document.addEventListener("touchend",St),Ae=Kt,qe=X,Ze=V.shift.left,Xe=V.shift.top}},wt=function(yt){var Mt=ut(yt),Ut=Mt.clientX,Kt=Mt.clientY;V.shift.left=Ze+Ut-Ae,V.shift.top=Xe+Kt-qe,yt.preventDefault()},St=function yt(Mt){V.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",wt),document.removeEventListener("touchmove",wt),document.removeEventListener("mouseup",yt),document.removeEventListener("touchend",yt),Mt.preventDefault()};we.addEventListener("mousedown",Et),we.addEventListener("touchstart",Et)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var V=this.viewportHeight,we=this.viewportWidth,Ae=this.shift,qe=this.pivotX,Ze=this.pivotY,Xe=this.trueModalWidth,ut=this.trueModalHeight,Et=we-Xe,wt=Math.max(V-ut,0),St=Ae.left+qe*Et,yt=Ae.top+Ze*wt;this.shift.left-=St-H(0,Et,St),this.shift.top-=yt-H(0,wt,yt)}}},ce=(h(7),O(ge,b,[]));ce.options.__file="src/Modal.vue";function Te(){var V=this,we=V.$createElement,Ae=V._self._c||we;return Ae("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:V.width,"pivot-y":.3,adaptive:!0,clickToClose:V.clickToClose,transition:V.transition},on:{"before-open":V.beforeOpened,"before-close":V.beforeClosed,opened:function(qe){V.$emit("opened",qe)},closed:function(qe){V.$emit("closed",qe)}}},[Ae("div",{staticClass:"dialog-content"},[V.params.title?Ae("div",{staticClass:"dialog-c-title",domProps:{innerHTML:V._s(V.params.title||"")}}):V._e(),V._v(" "),V.params.component?Ae(V.params.component,V._b({tag:"component"},"component",V.params.props,!1)):Ae("div",{staticClass:"dialog-c-text",domProps:{innerHTML:V._s(V.params.text||"")}})],1),V._v(" "),V.buttons?Ae("div",{staticClass:"vue-dialog-buttons"},V._l(V.buttons,function(qe,Ze){return Ae("button",{key:Ze,class:qe.class||"vue-dialog-button",style:V.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:V._s(qe.title)},on:{click:function(Xe){Xe.stopPropagation(),V.click(Ze,Xe)}}},[V._v(`
      `+V._s(qe.title)+`
    `)])})):Ae("div",{staticClass:"vue-dialog-buttons-none"})])}var ve=ce.exports;Te._withStripped=!0;var ne={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(V){window.addEventListener("keyup",this.onKeyUp),this.params=V.params||{},this.$emit("before-opened",V)},beforeClosed:function(V){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",V)},click:function(V,we,Ae){var qe=2<arguments.length&&Ae!==void 0?Ae:"click",Ze=this.buttons[V];Ze&&typeof Ze.handler=="function"?Ze.handler(V,we,{source:qe}):this.$modal.hide("dialog")},onKeyUp:function(V){if(V.which===13&&0<this.buttons.length){var we=this.buttons.length===1?0:this.buttons.findIndex(function(Ae){return Ae.default});we!==-1&&this.click(we,V,"keypress")}}}},D=(h(9),O(ne,Te,[]));D.options.__file="src/Dialog.vue";function se(){var V=this,we=V.$createElement,Ae=V._self._c||we;return Ae("div",{attrs:{id:"modals-container"}},V._l(V.modals,function(qe){return Ae("modal",V._g(V._b({key:qe.id,on:{closed:function(Ze){V.remove(qe.id)}}},"modal",qe.modalAttrs,!1),qe.modalListeners),[Ae(qe.component,V._g(V._b({tag:"component",on:{close:function(Ze){V.$modal.hide(qe.modalAttrs.name)}}},"component",qe.componentAttrs,!1),V.$listeners))],1)}))}var ye=D.exports;function Ee(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}se._withStripped=!0;var et=O({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(V,we,Ae,qe){var Ze=this,Xe=1<arguments.length&&we!==void 0?we:{},ut=2<arguments.length&&Ae!==void 0?Ae:{},Et=3<arguments.length&&qe!==void 0?qe:{},wt=q(),St=ut.name||"_dynamic_modal_"+wt;this.modals.push({id:wt,modalAttrs:function(yt){for(var Mt=1;Mt<arguments.length;Mt++){var Ut=arguments[Mt]!=null?arguments[Mt]:{},Kt=Object.keys(Ut);typeof Object.getOwnPropertySymbols=="function"&&(Kt=Kt.concat(Object.getOwnPropertySymbols(Ut).filter(function(X){return Object.getOwnPropertyDescriptor(Ut,X).enumerable}))),Kt.forEach(function(X){Ee(yt,X,Ut[X])})}return yt}({},ut,{name:St}),modalListeners:Et,component:V,componentAttrs:Xe}),this.$nextTick(function(){Ze.$modal.show(St)})},remove:function(V){var we=this.modals.findIndex(function(Ae){return Ae.id===V});we!==-1&&this.modals.splice(we,1)}}},se,[]);et.options.__file="src/ModalsContainer.vue";var Ie=et.exports;function Me(V){return(Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(V)}function ie(V,we,Ae){return we in V?Object.defineProperty(V,we,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[we]=Ae,V}var Y=function(V,we,Ae){if(!Ae._dynamicContainer&&we.injectModalsContainer){var qe=(Ze=document.createElement("div"),document.body.appendChild(Ze),Ze);new V({parent:Ae,render:function(Xe){return Xe(Ie)}}).$mount(qe)}var Ze;return Ae._dynamicContainer},Le={install:function(V,we){var Ae=1<arguments.length&&we!==void 0?we:{};if(!this.installed){this.installed=!0,this.event=new V,this.rootInstance=null;var qe=Ae.componentName||"Modal",Ze=Ae.dynamicDefaults||{},Xe=function(ut,Et,wt,St){var yt=wt&&wt.root?wt.root:Le.rootInstance,Mt=Y(V,Ae,yt);Mt?Mt.add(ut,Et,function(Ut){for(var Kt=1;Kt<arguments.length;Kt++){var X=arguments[Kt]!=null?arguments[Kt]:{},le=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(le=le.concat(Object.getOwnPropertySymbols(X).filter(function(Q){return Object.getOwnPropertyDescriptor(X,Q).enumerable}))),le.forEach(function(Q){ie(Ut,Q,X[Q])})}return Ut}({},Ze,wt),St):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};V.prototype.$modal={show:function(ut){for(var Et=arguments.length,wt=new Array(1<Et?Et-1:0),St=1;St<Et;St++)wt[St-1]=arguments[St];switch(Me(ut)){case"string":return(function(yt,Mt){Le.event.$emit("toggle",yt,!0,Mt)}).apply(void 0,[ut].concat(wt));case"object":case"function":return Ae.dynamic?Xe.apply(void 0,[ut].concat(wt)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",ut)}},hide:function(ut,Et){Le.event.$emit("toggle",ut,!1,Et)},toggle:function(ut,Et){Le.event.$emit("toggle",ut,void 0,Et)}},V.component(qe,ve),Ae.dialog&&V.component("VDialog",ye),Ae.dynamic&&(V.component("ModalsContainer",Ie),V.mixin({beforeMount:function(){Le.rootInstance===null&&(Le.rootInstance=this.$root)}}))}}},Re=f.default=Le}],n.c=l,n.d=function(u,f,h){n.o(u,f)||Object.defineProperty(u,f,{enumerable:!0,get:h})},n.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},n.t=function(u,f){if(1&f&&(u=n(u)),8&f||4&f&&typeof u=="object"&&u&&u.__esModule)return u;var h=Object.create(null);if(n.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:u}),2&f&&typeof u!="string")for(var b in u)n.d(h,b,(function(x){return u[x]}).bind(null,b));return h},n.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return n.d(f,"a",f),f},n.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},n.p="/dist/",n(n.s=11);function n(u){if(l[u])return l[u].exports;var f=l[u]={i:u,l:!1,exports:{}};return a[u].call(f.exports,f,f.exports,n),f.l=!0,f.exports}var a,l})}(gp)),gp.exports}var e3=JA();const t3=bf(e3),Lh=656,i3={data(){return{modalWidth:Lh,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:eb},mounted(){this.modalWidth=window.innerWidth<Lh?Lh/2:Lh,Jv().then(t=>{this.imageUrl=t}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(t){this.manualClose||t.stop()}}};var n3=function(){var e=this,n=e._self._c;return n("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[n("div",{staticClass:"modal",attrs:{id:"partition-register"}},[n("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),n("div",{staticClass:"modal-content"},[n("p",[e._v(e._s(e.content))]),n("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?n("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?n("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?n("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},r3=[],o3=Nn(i3,n3,r3,!1,null,"73759aa5");const a3=o3.exports;sc.use(t3);const s3={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...ps({connected:t=>t.connected,healthChecked:t=>t.healthChecked,translations:t=>t.translations})},components:{WarningModal:a3}};var u3=function(){var e=this,n=e._self._c;return n("div",[e.connected?e.healthChecked?e._e():n("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):n("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},l3=[],c3=Nn(s3,u3,l3,!1,null,null);const f3=c3.exports,h3={computed:{...ps({isExplorerOpen:t=>t.explorer.isOpen})}};var d3=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?n("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},p3=[],m3=Nn(h3,d3,p3,!1,null,null);const g3=m3.exports;class v3{constructor(){this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:sS,DrawerContainer:oT,ExplorerContainer:ET,FilterExplorerContainer:RT,TagsEditorContainer:UT,DocumentPreviewContainer:XT,BlanchetteEditorContainer:QA,ModalContainer:f3},this.registeredComponents={Overlay:g3},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},this.init(),this.initListeners()}init(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new tS(wh)),this.services.push(new iS(wh))}onPageChange(){wh.commit(bs)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildNavTrees(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(n=>{this.mainContentComponents.push(this.buildComponent(n))})}buildComponent(e){return new sc({delimiters:["${","}"],el:e,store:wh,components:this.vuejsElements})}}class b3{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.minifyTreePanelButton=null,this.mainTrees=null,this.canvasLoader=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}onDocumentReady(){this.initLoader(),this.setupCollapsedNestableState(),this.lazyload=new yC,this.vueApp=new v3,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(e=>{e.addEventListener("click",this.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),window.addEventListener("pageshowend",()=>{this.syncCollapsedNestableState()}),window.addEventListener("requestAllNodeTreeChange",()=>{this.refreshAllNodeTrees(),this.getMessages()}),window.addEventListener("requestLoaderShow",()=>{this.canvasLoader.show()}),window.addEventListener("requestLoaderHide",()=>{this.canvasLoader.hide()}),window.addEventListener("pushToast",e=>{!e.detail||!e.detail.message||window.UIkit.notify({message:e.detail.message,status:e.detail.status||"success",timeout:2e3,pos:"top-center"})})}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color")),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}setupCollapsedNestableState(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){var n=e.children(this.options._listClass);n.length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}saveCollapsedNestableState(e=null){e===null&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",JSON.stringify(e))}syncCollapsedNestableState(){this.collapsedNestableState.nodes.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(a=>{a.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(a=>{a.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(a=>{a.classList.add("uk-collapsed")})})}initNestables(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(e=>{const n={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?n.group="nodeTree":e.classList.contains("tagtree")?n.group="tagTree":e.classList.contains("foldertree")&&(n.group="folderTree"),window.UIkit.nestable(e,n)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}bindMainTrees(){document.querySelectorAll(".nodetree-widget .root-tree").forEach(u=>{const f=$(u);f.off("change.uk.nestable",this.onNestableNodeTreeChange),f.on("change.uk.nestable",this.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(u=>{const f=$(u);f.off("change.uk.nestable",this.onNestableTagTreeChange),f.on("change.uk.nestable",this.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(u=>{const f=$(u);f.off("change.uk.nestable",this.onNestableFolderTreeChange),f.on("change.uk.nestable",this.onNestableFolderTreeChange)}),this.mainTrees.querySelectorAll(".tree-element-name").forEach(u=>{u.removeEventListener("contextmenu",this.maintreeElementNameRightClick),u.addEventListener("contextmenu",this.maintreeElementNameRightClick)})}maintreeElementNameRightClick(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(a=>{a.classList.contains("uk-open")&&a.classList.remove("uk-open")});const n=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return n&&(n.classList.contains("uk-open")?n.classList.remove("uk-open"):n.classList.add("uk-open")),!1}bindMainNodeTreeLangs(){document.body.addEventListener("click",e=>{const n=e.target.closest("#tree-container .nodetree-langs a");if(n){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const a=parseInt(n.getAttribute("data-translation-id"),10);return this.refreshMainNodeTree(a),!1}})}fetchSessionMessages(){return new Promise(async(e,n)=>{const a=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),l=window.RozierConfig.routes.ajaxSessionMessages+"?"+a.toString();try{const f=await(await fetch(l,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();f.messages||e([]),e(f.messages)}catch(u){n(u)}})}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&Array.isArray(e.confirm)&&e.confirm.length>0&&e.confirm.forEach(n=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:n,status:"success"}}))}),e.error&&Array.isArray(e.error)&&e.error.length>0&&e.error.forEach(n=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:n,status:"danger"}}))})}refreshAllNodeTrees(e){const n=[];return n.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&n.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(a=>{n.push(this.lazyload.childrenNodesFields.refreshNodeTree(a))}),Promise.all(n)}async refreshMainNodeTree(e=void 0){const n=document.querySelector("#tree-container .nodetree-widget");if(!n){console.debug("No main node-tree available.");return}const a=n.querySelector(".root-tree");a&&!e&&(e=a.getAttribute("data-translation-id"));try{const l=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:e||null}),u=window.RozierConfig.routes.nodesTreeAjax+"?"+l.toString(),f=await fetch(u,{method:"GET",headers:{Accept:"application/json"}});if(!f.ok)throw f;const h=await f.json();if(typeof h.nodeTree<"u"){await Nu(n),n.insertAdjacentHTML("afterend",h.nodeTree),n.remove();const b=document.querySelector("#tree-container .nodetree-widget");if(b)await gl(b);else{console.debug("No main node-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}}catch{console.log("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),await hc(3e3),this.refreshMainNodeTree(e)}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainTagTree(){const e=document.querySelector("#tree-container .tagtree-widget");if(!e){console.debug("No main tag-tree available.");return}const n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),a=window.RozierConfig.routes.tagsTreeAjax+"?"+n.toString(),u=await(await fetch(a,{method:"GET",headers:{Accept:"application/json"}})).json();if(typeof u.tagTree<"u"){await Nu(e),e.insertAdjacentHTML("afterend",u.tagTree),e.remove();const f=document.querySelector("#tree-container .tagtree-widget");if(f)await gl(f);else{console.debug("No main tag-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainFolderTree(){const e=document.querySelector("#tree-container .foldertree-widget");if(!e){console.debug("No main folder-tree available.");return}const n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),a=window.RozierConfig.routes.foldersTreeAjax+"?"+n.toString(),u=await(await fetch(a,{method:"GET",headers:{Accept:"application/json"}})).json();if(typeof u.folderTree<"u"){await Nu(e),e.insertAdjacentHTML("afterend",u.folderTree),e.remove();const f=document.querySelector("#tree-container .foldertree-widget");if(f)await gl(f);else{console.debug("No main folder-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}toggleTreesPanel(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}openTreesPanel(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}toggleUserPanel(){return document.getElementById("user-panel").classList.toggle("minified"),!1}onNestableCollapse({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.push(e[0].getAttribute("data-node-id"));break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.push(e[0].getAttribute("data-tag-id"));break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.push(e[0].getAttribute("data-folder-id"));break}this.saveCollapsedNestableState(this.collapsedNestableState)}}onNestableExpand({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(e[0].getAttribute("data-node-id")),1);break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(e[0].getAttribute("data-tag-id")),1);break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(e[0].getAttribute("data-folder-id")),1);break}this.saveCollapsedNestableState(this.collapsedNestableState)}}async onNestableNodeTreeChange(e,n,a,l){if(l==="removed"||!a)return!1;const u=a[0];if(!u)return console.error("No element found"),!1;const f=parseInt(u.getAttribute("data-node-id"));let h=null;const b=u.parentElement.closest(".nodetree-element"),x=u.parentElement.closest(".stack-tree-widget"),w=u.parentElement.closest(".children-node-widget");if(b?h=parseInt(b.getAttribute("data-node-id")):x?h=parseInt(x.getAttribute("data-parent-node-id")):w&&(h=parseInt(w.getAttribute("data-parent-node-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a node inside itself!"),window.location.reload(),!1;const k={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:f,newParent:h},A=u.nextElementSibling;if(A&&typeof A.getAttribute("data-node-id")<"u")k.nextNodeId=parseInt(A.getAttribute("data-node-id"));else{const H=u.previousElementSibling;H&&typeof H.getAttribute("data-node-id")<"u"&&(k.prevNodeId=parseInt(H.getAttribute("data-node-id")))}try{const H=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",f),N=await fetch(H,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(k)});if(!N.ok)throw N;const q=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:q.responseText||q.detail,status:q.status}}))}catch(H){const N=await H.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:N.error_message||N.detail,status:"danger"}}))}}async onNestableTagTreeChange(e,n,a,l){if(l==="removed")return!1;const u=a[0];let f=parseInt(u.getAttribute("data-tag-id")),h=null;const b=u.parentElement.closest(".tagtree-element"),x=u.parentElement.closest(".root-tree");if(b?h=parseInt(b.getAttribute("data-tag-id")):x&&(h=parseInt(x.getAttribute("data-parent-tag-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:f,newParent:h};const k=u.nextElementSibling;if(k&&typeof k.getAttribute("data-tag-id")<"u")w.nextTagId=parseInt(k.getAttribute("data-tag-id"));else{const A=u.previousElementSibling;A&&typeof A.getAttribute("data-tag-id")<"u"&&(w.prevTagId=parseInt(A.getAttribute("data-tag-id")))}try{const A=await fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",f),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(w)});if(!A.ok)throw A;const H=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.responseText,status:H.status}}))}catch(A){const H=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.error_message||H.detail,status:"danger"}}))}}async onNestableFolderTreeChange(e,n,a,l){if(l==="removed")return!1;const u=a[0];let f=parseInt(u.getAttribute("data-folder-id")),h=null;const b=u.parentElement.closest(".foldertree-element"),x=u.parentElement.closest(".root-tree");if(b?h=parseInt(b.getAttribute("data-folder-id")):x&&(h=parseInt(x.getAttribute("data-parent-folder-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:f,newParent:h};const k=u.nextElementSibling;if(k&&typeof k.getAttribute("data-folder-id")<"u")w.nextFolderId=parseInt(k.getAttribute("data-folder-id"));else{const A=u.previousElementSibling;A&&typeof A.getAttribute("data-folder-id")<"u"&&(w.prevFolderId=parseInt(A.getAttribute("data-folder-id")))}try{const A=await fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",f),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(w)});if(!A.ok)throw A;const H=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.responseText,status:H.status}}))}catch(A){const H=await A.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.error_message||H.detail,status:"danger"}}))}}backTopBtnClick(){return qh.to(this.mainContentScrollable,.6,{scrollTo:{y:0},ease:Uh.easeOut}),!1}resize(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.resizeFirst&&(this.resizeFirst=!1)}}window.CodeMirror=Bw;window.UIkit=UIkit;window.Rozier=new b3;const y3=t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)};y3(()=>{window.Rozier.onDocumentReady()});(function(){customElements.define("node-tree-contextual-menu",Xw),customElements.define("node-source-edit-page",Vw),customElements.define("tag-edit-page",Kw),customElements.define("admin-menu-nav",Qw),customElements.define("folder-autocomplete",Jw),customElements.define("tag-autocomplete",ex),customElements.define("main-trees",tx),bg(),gg(),new Zw,new yg,window.addEventListener("pageshowend",()=>{bg(),gg(),new yg})})()});export default _3();
