.rz-card-item-drawer {
	--rz-card-item-drawer-border-radius: var(--radius-xs);

	box-sizing: border-box;
	position: relative;
	isolation: isolate; /* Allow negative z-index on pseudo element without being displayed behind parent element. */
	overflow: hidden;
	border-radius: var(--rz-card-item-drawer-border-radius);
	min-height: var(--rz-card-item-drawer-min-height, 51px);
}

/* When only image is present */
.rz-card-item-drawer:has(.rz-card-item-drawer__asset):not(:has(.rz-card-item-drawer__title):has(.rz-card-item-drawer__overtitle))
{
	--rz-card-item-drawer-min-height: 96px;
	min-width: 120px;
}

.rz-card-item-drawer:has(.rz-card-item-drawer__title),
.rz-card-item-drawer:has(.rz-card-item-drawer__overtitle) {
	--rz-card-item-drawer-border-width: 1PX;
	--rz-card-item-drawer-border-left-width: 6PX;

	padding-left: calc(var(--rz-card-item-drawer-border-left-width) - var(--rz-card-item-drawer-border-width) + var(--spacing-3xs));
	display: grid;
	align-items: flex-start;
	column-gap: var(--spacing-3xs);
	grid-template-columns: 1fr minmax(0, 110px);
	grid-template-rows: min-content 1fr;
	grid-template-areas:
		"overtitle asset"
		"title     asset";

	&::before,
	&::after {
		position: absolute;
		content: '';
		border-radius: inherit;
		pointer-events: none;
	}

	/* Inner BG */
	&::before {
		inset: var(--rz-card-item-drawer-border-width)
			var(--rz-card-item-drawer-border-width)
			var(--rz-card-item-drawer-border-width)
			var(--rz-card-item-drawer-border-left-width);
		background-color: var(--reference-bg, #F2F2F2);
		z-index: -1;
	}

	/* BG */
	&::after {
		inset: 0;
		background-color: var(--rz-card-item-drawer-border-color, var(--reference-border, #DADADA));
		z-index: -2;
		transition: background-color 0.3s;
	}

	&:has(.rz-card-item-drawer__img) {
		--rz-reference-img-aspect-ratio: 110 / 94;
	}

	@media (hover: hover) {
		&:hover::after {
			background-color: var(--rz-card-item-drawer-border-color-hover, var(--reference-border-hover, #9A9A9A));
		}
	}
}

.rz-card-item-drawer__overtitle {
	grid-area: overtitle;
	margin-top: var(--spacing-3xs);
	font-family: var(--font-family-os-label);
	font-size: var(--text-overtitle-md-font-size);
	line-height: var(--text-overtitle-md-line-height);
	letter-spacing: var(--text-overtitle-md-letter-spacing);
	font-weight: var(--text-overtitle-md-font-weight);
}

.rz-card-item-drawer__title {
	grid-area: title;
	margin-top: var(--spacing-6xs);
	margin-bottom: var(--spacing-3xs);
	font-family: var(--font-family-os-label);
	font-size: var(--text-title-md-font-size);
	line-height: var(--text-title-md-line-height);
	letter-spacing: var(--text-title-md-letter-spacing);
	font-weight: var(--text-title-md-font-weight);

	&:first-child {
		margin-top: var(--spacing-3xs);
	}
}

.rz-card-item-drawer__asset {
	grid-area: asset;
	display: flex;
	justify-content: center;
	align-items: center;
	width: var(--rz-reference-img-width, 100%);
	height: var(--rz-reference-img-height, 100%);
	aspect-ratio: var(--rz-reference-img-aspect-ratio, 120 / 96);
	object-fit: cover;
	overflow: hidden;
	background-color: var(--reference-bg, #F2F2F2);
	/* To smoother nesting border radius visually use: outerBorderRadius = innerBorderRadius + distance */
	border-radius:
		0
		calc(var(--rz-card-item-drawer-border-radius) - var(--rz-card-item-drawer-border-width))
		calc(var(--rz-card-item-drawer-border-radius) - var(--rz-card-item-drawer-border-width))
		0;

	/* Adapt for img inside picture */
}

.rz-card-item-drawer__asset img,
.rz-card-item-drawer__img {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

.rz-card-item-drawer__badge {
	position: absolute;
	transition: opacity 0.3s;

	@media (hover: hover) {
		.rz-card-item-drawer:hover & {
			opacity: 0;
		}
	}
}

.rz-card-item-drawer__action {
	position: absolute;
	bottom: var(--spacing-6xs);
	right: var(--spacing-6xs);
	translate: calc(100% + var(--spacing-6xs)) 0;
	transition: translate 0.3s;

	@media (hover: hover) {
		.rz-card-item-drawer:hover & {
			translate: 0;
		}
	}
}

.rz-card-item-drawer__action--top {
	bottom: initial;
	top: var(--spacing-6xs);
	right: var(--spacing-6xs);
	translate: 0 calc((100% + var(--spacing-6xs)) * -1);
}
