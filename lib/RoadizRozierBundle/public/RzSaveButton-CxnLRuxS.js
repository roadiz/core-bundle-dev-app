class n extends HTMLButtonElement{constructor(){super(),this.actionMenu=null,this.formToSave=null,this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.binded=!1}connectedCallback(){if(this.actionMenu=document.querySelector(".actions-menu"),!this.actionMenu){console.warn("RzSaveButton: No .actions-menu found in the document.");return}if(this.actionMenu!==this.parentElement){this.actionMenu.insertBefore(this,this.actionMenu.firstChild);return}const t=this.getAttribute("data-action-save");if(t){if(this.formToSave=document.querySelector(t),!this.formToSave){console.warn(`RzSaveButton: No ${t} found in the document.`);return}this.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown),this.binded=!0}}disconnectedCallback(){this.binded&&(this.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown))}onKeyDown(t){if(this.formToSave&&(t.metaKey||t.ctrlKey)&&t.key==="s")return t.preventDefault(),this.formToSave.requestSubmit(),!1}onClick(){this.formToSave.requestSubmit()}}export{n as default};
