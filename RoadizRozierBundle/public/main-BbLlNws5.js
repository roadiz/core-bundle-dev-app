const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["DocumentAlignmentWidget-joEUTrYv.js","RoadizElement-XU473doh.js","DocumentEditDialog-DL3FZm5A.js","NodeSourceEditPage-Cs1o7Qd4.js","jquery-5sAwpjfl.js","vue-YhlLoeNc.js","TagEditPage-Cu6cXEY0.js"])))=>i.map(i=>d[i]);
import{g as df,c as fh,a as L0}from"./jquery-5sAwpjfl.js";import{m as Is,a as Fa,V as ec,i as M0,v as Tw}from"./vue-YhlLoeNc.js";var zm={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var Im;function Aw(){return Im||(Im=1,function(t){t(jQuery)}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,r){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var s={absolute:!1,clone:!1,includeMargin:!1,display:"block"},u=t.extend(s,r),l=this.eq(0),f,h;if(u.clone===!0)f=function(){var O="position: absolute !important; top: -1000 !important; ";l=l.clone().attr("style",O).appendTo("body")},h=function(){l.remove()};else{var b=[],x="",w;f=function(){w=l.parents().addBack().filter(":hidden"),x+="visibility: hidden !important; display: "+u.display+" !important; ",u.absolute===!0&&(x+="position: absolute !important; "),w.each(function(){var O=t(this),W=O.attr("style");b.push(W),O.attr("style",W?W+";"+x:x)})},h=function(){w.each(function(O){var W=t(this),N=b[O];N===void 0?W.removeAttr("style"):W.attr("style",N)})}}f();var S=/(outer)/.test(e)?l[e](u.includeMargin):l[e]();return h(),S}})})),zm}Aw();(function(t){var e=function(N,j){typeof j>"u"&&(j={}),this.init(N,j)},r=e.prototype,s,u=["canvas","vml"],l=["oval","spiral","square","rect","roundRect"],f=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,b=!!document.createElement("canvas").getContext,x=!0,w=function(M,j,q){var M=document.createElement(M),E;for(E in q)M[E]=q[E];return typeof j<"u"&&j.appendChild(M),M},S=function(N,j){for(var q in j)N.style[q]=j[q];return N},O=function(N,j){for(var q in j)N.setAttribute(q,j[q]);return N},W=function(N,j,q,M){N.save(),N.translate(j,q),N.rotate(M),N.translate(-j,-q),N.beginPath()};r.init=function(N,j){typeof j.safeVML=="boolean"&&(x=j.safeVML);try{this.mum=document.getElementById(N)!==void 0?document.getElementById(N):document.body}catch{this.mum=document.body}if(j.id=typeof j.id<"u"?j.id:"canvasLoader",this.cont=w("div",this.mum,{id:j.id}),b)s=u[0],this.can=w("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=S(w("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(s=u[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(w("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var q=["group","oval","roundrect","fill"],M;for(M in q)e.vmlSheet.addRule(q[M],"behavior:url(#default#VML); position:absolute;")}this.vml=w("group",this.cont)}this.setColor(this.color),this.draw(),S(this.cont,{display:"none"})},r.cont={},r.can={},r.con={},r.cCan={},r.cCon={},r.timer={},r.activeId=0,r.diameter=40,r.setDiameter=function(N){this.diameter=Math.round(Math.abs(N)),this.redraw()},r.getDiameter=function(){return this.diameter},r.cRGB={},r.color="#000000",r.setColor=function(N){this.color=f.test(N)?N:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},r.getColor=function(){return this.color},r.shape=l[0],r.setShape=function(N){for(var j in l)if(N===l[j]){this.shape=N,this.redraw();break}},r.getShape=function(){return this.shape},r.density=40,r.setDensity=function(N){this.density=x&&s===u[1]?Math.round(Math.abs(N))<=40?Math.round(Math.abs(N)):40:Math.round(Math.abs(N)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},r.getDensity=function(){return this.density},r.range=1.3,r.setRange=function(N){this.range=Math.abs(N),this.redraw()},r.getRange=function(){return this.range},r.speed=2,r.setSpeed=function(N){this.speed=Math.round(Math.abs(N))},r.getSpeed=function(){return this.speed},r.fps=24,r.setFPS=function(N){this.fps=Math.round(Math.abs(N)),this.reset()},r.getFPS=function(){return this.fps},r.getRGB=function(N){return N=N.charAt(0)==="#"?N.substring(1,7):N,{r:parseInt(N.substring(0,2),16),g:parseInt(N.substring(2,4),16),b:parseInt(N.substring(4,6),16)}},r.draw=function(){var N=0,j,q,M,E,D,B,z,V=this.density,ne=Math.round(V*this.range),ue,de,ge=0;de=this.cCon;var fe=this.diameter;if(s===u[0])for(de.clearRect(0,0,1e3,1e3),O(this.can,{width:fe,height:fe}),O(this.cCan,{width:fe,height:fe});N<V;){switch(ue=N<=ne?1-1/ne*N:ue=0,B=270-360/V*N,z=B/180*Math.PI,de.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+ue.toString()+")",this.shape){case l[0]:case l[1]:j=fe*.07,E=fe*.47+Math.cos(z)*(fe*.47-j)-fe*.47,D=fe*.47+Math.sin(z)*(fe*.47-j)-fe*.47,de.beginPath(),this.shape===l[1]?de.arc(fe*.5+E,fe*.5+D,j*ue,0,Math.PI*2,!1):de.arc(fe*.5+E,fe*.5+D,j,0,Math.PI*2,!1);break;case l[2]:j=fe*.12,E=Math.cos(z)*(fe*.47-j)+fe*.5,D=Math.sin(z)*(fe*.47-j)+fe*.5,W(de,E,D,z),de.fillRect(E,D-j*.5,j,j);break;case l[3]:case l[4]:q=fe*.3,M=q*.27,E=Math.cos(z)*(M+(fe-M)*.13)+fe*.5,D=Math.sin(z)*(M+(fe-M)*.13)+fe*.5,W(de,E,D,z),this.shape===l[3]?de.fillRect(E,D-M*.5,q,M):(j=M*.55,de.moveTo(E+j,D-M*.5),de.lineTo(E+q-j,D-M*.5),de.quadraticCurveTo(E+q,D-M*.5,E+q,D-M*.5+j),de.lineTo(E+q,D-M*.5+M-j),de.quadraticCurveTo(E+q,D-M*.5+M,E+q-j,D-M*.5+M),de.lineTo(E+j,D-M*.5+M),de.quadraticCurveTo(E,D-M*.5+M,E,D-M*.5+M-j),de.lineTo(E,D-M*.5+j),de.quadraticCurveTo(E,D-M*.5,E+j,D-M*.5))}de.closePath(),de.fill(),de.restore(),++N}else{switch(S(this.cont,{width:fe,height:fe}),S(this.vml,{width:fe,height:fe}),this.shape){case l[0]:case l[1]:z="oval",j=140;break;case l[2]:z="roundrect",j=120;break;case l[3]:case l[4]:z="roundrect",j=300}for(q=M=j,E=500-M,D=-M*.5;N<V;){switch(ue=N<=ne?1-1/ne*N:ue=0,B=270-360/V*N,this.shape){case l[1]:q=M=j*ue,E=500-j*.5-j*ue*.5,D=(j-j*ue)*.5;break;case l[0]:case l[2]:h&&(D=0,this.shape===l[2]&&(E=500-M*.5));break;case l[3]:case l[4]:q=j*.95,M=q*.28,h?(E=0,D=500-M*.5):(E=500-q,D=-M*.5),ge=this.shape===l[4]?.6:0}de=O(S(w("group",this.vml),{width:1e3,height:1e3,rotation:B}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),de=S(w(z,de,{stroked:!1,arcSize:ge}),{width:q,height:M,top:D,left:E}),w("fill",de,{color:this.color,opacity:ue}),++N}}this.tick(!0)},r.clean=function(){if(s===u[0])this.con.clearRect(0,0,1e3,1e3);else{var N=this.vml;if(N.hasChildNodes())for(;N.childNodes.length>=1;)N.removeChild(N.firstChild)}},r.redraw=function(){this.clean(),this.draw()},r.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},r.tick=function(N){var j=this.con,q=this.diameter;N||(this.activeId+=360/this.density*this.speed),s===u[0]?(j.clearRect(0,0,q,q),W(j,q*.5,q*.5,this.activeId/180*Math.PI),j.drawImage(this.cCan,0,0,q,q),j.restore()):(this.activeId>=360&&(this.activeId-=360),S(this.vml,{rotation:this.activeId}))},r.show=function(){if(typeof this.timer!="number"){var N=this;this.timer=self.setInterval(function(){N.tick()},Math.round(1e3/this.fps)),S(this.cont,{display:"block"})}},r.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,S(this.cont,{display:"none"}))},r.kill=function(){var N=this.cont;typeof this.timer=="number"&&this.hide(),s===u[0]?(N.removeChild(this.can),N.removeChild(this.cCan)):N.removeChild(this.vml);for(var j in this)delete this[j]},t.CanvasLoader=e})(window);(function(t){t.fn.caret=function(e){var r=this[0],s=r.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(s){r.focus();var u=window.getSelection().getRangeAt(0),l=u.cloneRange();return l.selectNodeContents(r),l.setEnd(u.endContainer,u.endOffset),l.toString().length}return r.selectionStart}if(document.selection){if(r.focus(),s){var u=document.selection.createRange(),l=document.body.createTextRange();return l.moveToElementText(r),l.setEndPoint("EndToEnd",u),l.text.length}var e=0,f=r.createTextRange(),l=document.selection.createRange().duplicate(),h=l.getBookmark();for(f.moveToBookmark(h);f.moveStart("character",-1)!==0;)e++;return e}return r.selectionStart?r.selectionStart:0}if(e==-1&&(e=this[s?"text":"val"]().length),window.getSelection)s?(r.focus(),window.getSelection().collapse(r.firstChild,e)):r.setSelectionRange(e,e);else if(document.body.createTextRange)if(s){var f=document.body.createTextRange();f.moveToElementText(r),f.moveStart("character",e),f.collapse(!0),f.select()}else{var f=r.createTextRange();f.move("character",e),f.select()}return s||r.focus(),e}})(jQuery);(function(t){t.fn.tagEditorInput=function(){var e=" ",r=t(this),s=parseInt(r.css("fontSize")),u=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),l=function(){if(e!==(e=r.val())){u.text(e);var f=u.width()+s;20>f&&(f=20),f!=r.width()&&r.width(f)}};return u.insertAfter(r),r.bind("keyup keydown focus",l)},t.fn.tagEditor=function(e,r,s){function u(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var l,f=t.extend({},t.fn.tagEditor.defaults,e),h=this;if(f.dregex=new RegExp("["+f.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var b=[];return h.each(function(){var x=t(this),w=x.data("options"),S=x.next(".tag-editor");if(e=="getTags")b.push({field:x[0],editor:S,tags:S.data("tags")});else if(e=="addTag"){if(w.maxTags&&S.data("tags").length>=w.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+w.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(S).find(".tag-editor-tag").html('<input type="text" maxlength="'+w.maxLength+'">').addClass("active").find("input").val(r).blur(),s?t(".placeholder",S).remove():S.click()}else e=="removeTag"?(t(".tag-editor-tag",S).filter(function(){return t(this).text()==r}).closest("li").find(".tag-editor-delete").click(),s||S.click()):e=="destroy"&&x.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?b:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(x){if(x.which==8||x.which==46||x.ctrlKey&&x.which==88){try{var w=getSelection(),S=document.activeElement.tagName=="BODY"?t(w.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{S=0}if(w.rangeCount>0&&S&&S.length){var O=[],W=w.toString().split(S.prev().data("options").dregex);for(i=0;i<W.length;i++){var N=t.trim(W[i]);N&&O.push(N)}return t(".tag-editor-tag",S).each(function(){~t.inArray(t(this).text(),O)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),h.each(function(){var x=t(this),w=[],S=t("<ul "+(f.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(x);x.addClass("tag-editor-hidden-src").data("options",f).on("focus.tag-editor",function(){S.click()}),S.append('<li style="width:1px">&nbsp;</li>');var O='<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function W(){f.placeholder&&!w.length&&!t(".deleted, .placeholder, input",S).length&&S.append('<li class="placeholder"><div>'+f.placeholder+"</div></li>")}function N(z){var V=w.toString();w=t(".tag-editor-tag:not(.deleted)",S).map(function(ne,ue){var de=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(ue).text());if(de)return de}).get(),S.data("tags",w),x.val(w.join(f.delimiter[0])),z||V!=w.toString()&&f.onChange(x,S,w),W()}S.click(function(z,V){var ne,ue=99999,de;if(!(window.getSelection&&getSelection()!=""))return f.maxTags&&S.data("tags").length>=f.maxTags?(S.find("input").blur(),!1):(l=!0,t("input:focus",S).blur(),l&&(l=!0,t(".placeholder",S).remove(),V&&V.length?de="before":t(".tag-editor-tag",S).each(function(){var ge=t(this),fe=ge.offset(),De=fe.left,ve=fe.top;z.pageY>=ve&&z.pageY<=ve+ge.height()&&(z.pageX<De?(de="before",ne=De-z.pageX):(de="after",ne=z.pageX-De-ge.width()),ne<ue&&(ue=ne,V=ge))}),de=="before"?t(O).insertBefore(V.closest("li")).find(".tag-editor-tag").click():de=="after"?t(O).insertAfter(V.closest("li")).find(".tag-editor-tag").click():t(O).appendTo(S).find(".tag-editor-tag").click()),!1)}),S.on("click",".tag-editor-delete",function(z){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caret(-1),!1;var V=t(this).closest("li"),ne=V.find(".tag-editor-tag");return f.beforeTagDelete(x,S,w,ne.text())===!1||(ne.addClass("deleted").animate({width:0},f.animateDelete,function(){V.remove(),W()}),N()),!1}),f.clickDelete&&S.on("mousedown",".tag-editor-tag",function(z){if(z.ctrlKey||z.which>1){var V=t(this).closest("li"),ne=V.find(".tag-editor-tag");return f.beforeTagDelete(x,S,w,ne.text())===!1||(ne.addClass("deleted").animate({width:0},f.animateDelete,function(){V.remove(),W()}),N()),!1}}),S.on("click",".tag-editor-tag",function(z){if(f.clickDelete&&(z.ctrlKey||z.which>1))return!1;if(!t(this).hasClass("active")){var V=t(this).text(),ne=Math.abs((t(this).offset().left-z.pageX)/t(this).width()),ue=parseInt(V.length*ne),de=t(this).html('<input type="text" maxlength="'+f.maxLength+'" value="'+u(V)+'">').addClass("active").find("input");if(de.data("old_tag",V).tagEditorInput().focus().caret(ue),f.autocomplete){var ge=t.extend({},f.autocomplete),fe="select"in ge?f.autocomplete.select:"";ge.select=function(De,ve){fe&&fe(De,ve),setTimeout(function(){S.trigger("click",[t(".active",S).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},de.autocomplete(ge)}}return!1});function j(z){for(var V=z.closest("li"),ne=z.val().replace(/ +/," ").split(f.dregex),ue=z.data("old_tag"),de=w.slice(0),ge=!1,fe,De=0;De<ne.length;De++)if(B=t.trim(ne[De]).slice(0,f.maxLength),f.forceLowercase&&(B=B.toLowerCase()),fe=f.beforeTagSave(x,S,de,ue,B),B=fe||B,!(fe===!1||!B)&&(f.removeDuplicates&&~t.inArray(B,de)&&t(".tag-editor-tag",S).each(function(){t(this).text()==B&&t(this).closest("li").remove()}),de.push(B),V.before('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+u(B)+'</div><div class="tag-editor-delete"><i></i></div></li>'),f.maxTags&&de.length>=f.maxTags)){ge=!0;break}z.attr("maxlength",f.maxLength).removeData("old_tag").val(""),ge?z.blur():z.focus(),N()}S.on("blur","input",function(z){z.stopPropagation();var V=t(this),ne=V.data("old_tag"),ue=t.trim(V.val().replace(/ +/," ").replace(f.dregex,f.delimiter[0])),de;if(ue){if(ue.indexOf(f.delimiter[0])>=0){j(V);return}else if(ue!=ne)if(f.forceLowercase&&(ue=ue.toLowerCase()),de=f.beforeTagSave(x,S,w,ne,ue),ue=de||ue,de===!1){if(ne){V.val(ne).focus(),l=!1,N();return}try{V.closest("li").remove()}catch{}ne&&N()}else f.removeDuplicates&&t(".tag-editor-tag:not(.active)",S).each(function(){t(this).text()==ue&&t(this).closest("li").remove()})}else{if(ne&&f.beforeTagDelete(x,S,w,ne)===!1){V.val(ne).focus(),l=!1,N();return}try{V.closest("li").remove()}catch{}ne&&N()}V.parent().html(u(ue)).removeClass("active"),ue!=ne&&N(),W()});var q;S.on("paste","input",function(z){t(this).removeAttr("maxlength"),q=t(this),setTimeout(function(){j(q)},30)});var M;S.on("keypress","input",function(z){f.delimiter.indexOf(String.fromCharCode(z.which))>=0&&(M=t(this),setTimeout(function(){j(M)},20))}),S.on("keydown","input",function(z){var V=t(this);if((z.which==37||!f.autocomplete&&z.which==38)&&!V.caret()||z.which==8&&!V.val()){var ne=V.closest("li").prev("li").find(".tag-editor-tag");return ne.length?ne.click().find("input").caret(-1):V.val()&&!(f.maxTags&&S.data("tags").length>=f.maxTags)&&t(O).insertBefore(V.closest("li")).find(".tag-editor-tag").click(),!1}else if((z.which==39||!f.autocomplete&&z.which==40)&&V.caret()==V.val().length){var ue=V.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):V.val()&&S.click(),!1}else if(z.which==9)if(z.shiftKey){var ne=V.closest("li").prev("li").find(".tag-editor-tag");if(ne.length)ne.click().find("input").caret(0);else if(V.val()&&!(f.maxTags&&S.data("tags").length>=f.maxTags))t(O).insertBefore(V.closest("li")).find(".tag-editor-tag").click();else{x.attr("disabled","disabled"),setTimeout(function(){x.removeAttr("disabled")},30);return}return!1}else{var ue=V.closest("li").next("li").find(".tag-editor-tag");if(ue.length)ue.click().find("input").caret(0);else if(V.val())S.click();else return;return!1}else if(z.which==46&&(!t.trim(V.val())||V.caret()==V.val().length)){var ue=V.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):V.val()&&S.click(),!1}else{if(z.which==13)return S.trigger("click",[V.closest("li").next("li").find(".tag-editor-tag")]),f.maxTags&&S.data("tags").length>=f.maxTags&&S.find("input").blur(),!1;if(z.which==36&&!V.caret())S.find(".tag-editor-tag").first().click();else if(z.which==35&&V.caret()==V.val().length)S.find(".tag-editor-tag").last().click();else if(z.which==27)return V.val(V.data("old_tag")?V.data("old_tag"):"").blur(),!1}});for(var E=f.initialTags.length?f.initialTags:x.val().split(f.dregex),D=0;D<E.length&&!(f.maxTags&&D>=f.maxTags);D++){var B=t.trim(E[D].replace(/ +/," "));B&&(f.forceLowercase&&(B=B.toLowerCase()),w.push(B),S.append('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+u(B)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}N(!0),f.sortable&&t.fn.sortable&&S.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){N()}})})},t.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);(function(t){t.fn.collection=function(e){var r={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(re,P){return!0},after_up:function(re,P){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(re,P){return!0},after_down:function(re,P){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(re,P){return!0},after_add:function(re,P){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(re,P){return!0},after_remove:function(re,P){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(re,P){return!0},after_duplicate:function(re,P){return!0},before_init:function(re){},after_init:function(re){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(re,P){return!0},drag_drop_update:function(re,P){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},s=function(){var re=""+Math.random()*1e3*new Date().getTime();return re.replace(".","").split("").sort(function(){return .5-Math.random()}).join("")},u=function(re,P){if(!P.attr("id")){var se;do se=re+"_"+s();while(t("#"+se).length>0);P.attr("id",se)}return P.attr("id")},l=function(re){try{var P=t(re)}catch{return null}return P.length===0?null:P.is('input[type="checkbox"]')?P.prop("checked")===!0:P.is('input[type="radio"]')&&P.attr("name")!==void 0?t('input[name="'+P.attr("name")+'"]:checked').val():P.prop("value")!==void 0?P.val():P.html()},f=function(re,P,se){try{var ye=t(re)}catch{return}ye.length!==0&&(ye.is('input[type="checkbox"]')?P?ye.attr("checked",!0):ye.removeAttr("checked"):ye.prop("value")!==void 0?se?ye.attr("value",P):ye.val(P):ye.html(P))},h=function(re){return re===void 0||re},b=function(re){return(re+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},x=function(re,P,se,ye){var Ee=function(Be){var Me=t(Be);typeof Be=="object"&&"attributes"in Be&&t.each(Be.attributes,function(te,Y){t.type(Y.value)==="string"&&Me.attr(Y.name.replace(se,ye),Y.value.replace(se,ye))}),Me.length>0&&t.each(Me.data(),function(te,Y){t.type(Y)==="string"&&Me.data(te.replace(se,ye),Y.replace(se,ye))})},it=re.eq(P);Ee(it[0]),it.find("*").each(function(){Ee(this)})},w=function(re,P,se,ye,Ee,it){var Be=new RegExp(b(se.name_prefix+"["+Ee+"]"),"g"),Me=se.name_prefix+"["+it+"]";se.children&&t.each(se.children,function(te,Y){var Le=re.find(Y.selector).eq(ye),Re=Le.data("collection-settings");Re&&(Re.name_prefix=Re.name_prefix.replace(Be,Me),Le.data("collection-settings",Re))}),x(P,ye,Be,Me),Be=new RegExp(b(re.attr("id")+"_"+Ee),"g"),Me=re.attr("id")+"_"+it,se.children&&t.each(se.children,function(te,Y){var Le=re.find(Y.selector).eq(ye),Re=Le.data("collection-settings");Re&&(Re.elements_parent_selector=Re.elements_parent_selector.replace(Be,Me),Re.elements_selector=Re.elements_selector.replace(Be,Me),Re.prefix=Re.prefix.replace(Be,Me),Le.data("collection-settings",Re))}),x(P,ye,Be,Me)},S=function(re,P,se,ye,Ee,it,Be){var Me=new RegExp(b(P.name_prefix+"["+it+"]"),"g"),te=P.name_prefix+"["+Be+"]";return se=se.replace(Me,te),Me=new RegExp(b(re.attr("id")+"_"+ye),"g"),te=re.attr("id")+"_"+Ee,se=se.replace(Me,te),se},O=function(re){t(re).find(":input").each(function(P,se){f(se,l(se),!0)})},W=function(re,P,se,ye){var Ee=re.data("collection-settings");return!Ee.position_field_selector&&!Ee.preserve_names&&(w(re,P,Ee,se,se,"__swap__"),w(re,P,Ee,ye,ye,se),w(re,P,Ee,se,"__swap__",ye)),P.eq(se).insertBefore(P.eq(ye)),ye>se?P.eq(ye).insertBefore(P.eq(se)):P.eq(ye).insertAfter(P.eq(se)),re.find(Ee.elements_selector)},N=function(re,P,se,ye,Ee){for(var it=ye+1;it<=Ee;it++)P=W(re,P,it,it-1);return re.find(se.elements_selector)},j=function(re,P,se,ye,Ee){for(var it=ye-1;it>=Ee;it--)P=W(re,P,it,it+1);return re.find(se.elements_selector)},q=function(re,P,se,ye){for(var Ee=ye+1;Ee<P.length;Ee++)P=W(re,P,Ee-1,Ee);return re.find(se.elements_selector)},M=function(re,P,se,ye){for(var Ee=P.length-2;Ee>ye;Ee--)P=W(re,P,Ee+1,Ee);return re.find(se.elements_selector)},E=function(re,P,se,ye){var Ee=t(P.elements_parent_selector),it=Ee.find("."+P.prefix+"-tmp").length===0,Be=re.find(P.elements_selector);if(P.allow_add&&it&&(Ee.append('<span class="'+P.prefix+'-tmp"></span>'),P.add&&Ee.append(t(P.add).addClass(P.prefix+"-action "+P.prefix+"-rescue-add").data("collection",re.attr("id")))),se){re.data("collection-offset",Be.length);for(var Me=t(P.container),te=re.find("."+P.prefix+"-add, ."+P.prefix+"-rescue-add, ."+P.prefix+"-duplicate").first(),Y=0;Be.length<P.init_with_n_elements;){Y++;var Le=Be.length>0?Be.last():void 0,Re=Be.length-1;if(Be=B(Me,te,re,P,Be,Le,Re,!1),Y>P.init_with_n_elements){console.error("Infinite loop, element selector ("+P.elements_selector+") not found !");break}}re.data("collection-offset",Be.length)}if(Be.each(function(qe){var Ze=t(this);se&&Ze.data("index",qe);var Xe=Ze.find("."+P.prefix+"-actions").addBack().filter("."+P.prefix+"-actions");Xe.length===0&&(Xe=t('<div class="'+P.prefix+'-actions"></div>'),Ze.append(Xe));var ut=0;ye==="remove"&&P.fade_out&&(ut=1);var Et=[{enabled:P.allow_remove,selector:P.prefix+"-remove",html:P.remove,condition:Be.length-ut>P.min},{enabled:P.allow_up,selector:P.prefix+"-up",html:P.up,condition:Be.length-ut>1&&Be.index(Ze)-ut>0},{enabled:P.allow_down,selector:P.prefix+"-down",html:P.down,condition:Be.length-ut>1&&Be.index(Ze)!==Be.length-1},{enabled:P.allow_add&&!P.add_at_the_end&&!P.custom_add_location,selector:P.prefix+"-add",html:P.add,condition:Be.length-ut<P.max},{enabled:P.allow_duplicate,selector:P.prefix+"-duplicate",html:P.duplicate,condition:Be.length-ut<P.max}];t.each(Et,function(wt,St){if(St.enabled){var _t=Ze.find("."+St.selector);_t.length===0&&St.html&&(_t=t(St.html).appendTo(Xe).addClass(St.selector)),St.condition?(_t.removeClass(P.prefix+"-action-disabled"),P.hide_useless_buttons&&_t.css("display","")):(_t.addClass(P.prefix+"-action-disabled"),P.hide_useless_buttons&&_t.css("display","none")),_t.addClass(P.prefix+"-action").data("collection",re.attr("id")).data("element",u(re.attr("id")+"_"+qe,Ze))}else Ze.find("."+St.selector).css("display","none")})}),P.allow_add){var X=0;ye==="remove"&&P.fade_out&&(X=1);var we=re.find("."+P.prefix+"-rescue-add").css("display","").removeClass(P.prefix+"-action-disabled"),Te=re.find("."+P.prefix+"-add");!P.add_at_the_end&&Te.length>X||P.custom_add_location?we.css("display","none"):ye==="remove"&&P.fade_out&&(we.css("display","none"),we.fadeIn("fast")),Be.length-X>=P.max&&(we.addClass(P.prefix+"-action-disabled"),P.hide_useless_buttons&&re.find("."+P.prefix+"-add, ."+P.prefix+"-rescue-add, ."+P.prefix+"-duplicate").css("display","none"))}},D=function(re,P,se){se.children&&t.each(se.children,function(ye,Ee){if(!Ee.selector)return console.log("jquery.collection.js: given collection "+re.attr("id")+" has children collections, but children's root selector is undefined."),!0;P!==null?P.find(Ee.selector).collection(Ee):re.find(Ee.selector).collection(Ee)})},B=function(re,P,se,ye,Ee,it,Be,Me){if(Ee.length<ye.max&&(Me&&h(ye.before_duplicate(se,it))||h(ye.before_add(se,it)))){var te=se.data("prototype"),Y=se.data("collection-offset");se.data("collection-offset",Y+1),Be===-1&&(Be=Ee.length-1);var Le=new RegExp(b(ye.prototype_name),"g"),Re=Y;ye.preserve_names&&(Re=se.data("collection-free-key"),Re===void 0&&(Re=fe(ye,Ee)),se.data("collection-free-key",Re+1));var X=t(te.replace(Le,Re)).data("index",Y);De(ye,X);var we=t(ye.elements_parent_selector),Te=we.find("> ."+ye.prefix+"-tmp");if(t(X).find("[id]").first().attr("id"),Me){var qe=Ee.eq(Be);O(qe);var Ze=t("<div/>").append(qe.clone()).html(),Xe=ye.preserve_names||ye.position_field_selector?qe.data("index"):Be,ut=ye.preserve_names?ge(ye,qe):Xe,Et=S(se,ye,Ze,Xe,Y,ut,Re);X=t("<div/>").html(Et).contents().data("index",Y),ye.fade_in&&X.hide(),Te.before(X).find(ye.prefix+"-actions").remove()}else ye.fade_in&&X.hide(),Te.before(X);Ee=se.find(ye.elements_selector);var wt=X.find("."+ye.prefix+"-add, ."+ye.prefix+"-duplicate");wt.length>0&&wt.addClass(ye.prefix+"-action").data("collection",se.attr("id")),!ye.add_at_the_end&&Be+1!==Y?Ee=ue(se,ye,Ee,X,Y,Be+1):E(se,ye,!1),D(se,X,ye),(Me&&!h(ye.after_duplicate(se,X))||!h(ye.after_add(se,X)))&&(Be!==-1&&(Ee=q(se,Ee,ye,Be+1)),X.remove())}if(X!==void 0&&ye.fade_in)X.fadeIn("fast",function(){ye.position_field_selector&&de(ye,Ee)});else if(ye.position_field_selector)return de(ye,Ee);return Ee},z=function(re,P,se,ye,Ee){if(se.length>P.min&&h(P.before_remove(re,ye))){var it=function(){var Be=ye;P.preserve_names||(se=q(re,se,P,Ee),Be=se.last());var Me=Be.clone({withDataAndEvents:!0}).show();if(Be.remove(),!h(P.after_remove(re,Me))){var te=t(P.elements_parent_selector);te.find("> ."+P.prefix+"-tmp").before(Me),se=re.find(P.elements_selector),se=M(re,se,P,Ee-1)}P.position_field_selector&&de(P,se)};P.fade_out?ye.fadeOut("fast",function(){it()}):it()}return se},V=function(re,P,se,ye,Ee){return Ee!==0&&h(P.before_up(re,ye))&&(se=W(re,se,Ee,Ee-1),h(P.after_up(re,ye))||(se=W(re,se,Ee-1,Ee))),P.position_field_selector?de(P,se):se},ne=function(re,P,se,ye,Ee){return Ee!==se.length-1&&h(P.before_down(re,ye))&&(se=W(re,se,Ee,Ee+1),h(P.after_down(re,se))||(se=W(re,se,Ee+1,Ee))),P.position_field_selector?de(P,se):se},ue=function(re,P,se,ye,Ee,it){return Math.abs(it-Ee)===1?(se=W(re,se,Ee,it),(it-Ee>0?h(P.after_up(re,ye)):h(P.after_down(re,ye)))||(se=W(re,se,it,Ee))):Ee<it?(se=N(re,se,P,Ee,it),(it-Ee>0?h(P.after_up(re,ye)):h(P.after_down(re,ye)))||(se=j(re,se,P,it,Ee))):(se=j(re,se,P,Ee,it),(it-Ee>0?h(P.after_up(re,ye)):h(P.after_down(re,ye)))||(se=N(re,se,P,it,Ee))),E(re,P,!1),P.position_field_selector?de(P,se):se},de=function(re,P){return t(P).each(function(){var se=t(this);f(se.find(re.position_field_selector),P.index(se))}),P},ge=function(re,P){var se=P.find(':input[name^="'+re.name_prefix+'["]').attr("name");return se.slice(re.name_prefix.length+1).split("]",1)[0]},fe=function(re,P){var se=0;return P.each(function(){var ye=ge(re,t(this));/^0|[1-9]\d*$/.test(ye)&&ye>=se&&(se=Number(ye)+1)}),se},De=function(re,P){var se=["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"];t.each(se,function(){var ye=this;P.each(function(){var Ee=t(this);Ee.hasClass(re.user_prefix+ye)&&Ee.addClass(re.prefix+ye),Ee.find("*").each(function(){var it=t(this);it.hasClass(re.user_prefix+ye)&&it.addClass(re.prefix+ye)})})})},ve=t(this);return ve.length===0?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(ve.each(function(){var re=t.extend(!0,{},r,e);if(t(re.container).length===0)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var P=t(this);if(P.data("collection")!==void 0){var se=t("#"+P.data("collection"));if(se.length===0)return console.log("jquery.collection.js: given collection id does not exist."),!0}else se=P;if(se=t(se),re.elements_parent_selector=re.elements_parent_selector.replace("%id%","#"+u("",se)),!re.elements_parent_selector&&(re.elements_parent_selector="#"+u("",se),t(re.elements_parent_selector).length===0))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(re.user_prefix=re.prefix,re.prefix=se.attr("id")+"-"+re.user_prefix,De(re,se),re.allow_add||(re.allow_duplicate=!1,re.add_at_the_end=!1),re.init_with_n_elements>re.max&&(re.init_with_n_elements=re.max),re.min&&(!re.init_with_n_elements||re.init_with_n_elements<re.min)&&(re.init_with_n_elements=re.min),re.before_init(se),se.data("prototype")===null)return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(se.data("prototype-name")!==void 0&&(re.prototype_name=se.data("prototype-name")),se.data("allow-add")!==void 0&&(re.allow_add=se.data("allow-add"),re.allow_duplicate=se.data("allow-add")?re.allow_duplicate:!1),se.data("allow-remove")!==void 0&&(re.allow_remove=se.data("allow-remove")),se.data("name-prefix")!==void 0&&(re.name_prefix=se.data("name-prefix")),!re.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;if(re.preserve_names&&(re.allow_up=!1,re.allow_down=!1,re.drag_drop=!1,re.add_at_the_end=!0),typeof jQuery.ui<"u"&&typeof jQuery.ui.sortable<"u"&&se.data("sortable")&&se.sortable("disable"),re.drag_drop&&re.allow_up&&re.allow_down){var ye,Ee;typeof jQuery.ui>"u"||typeof jQuery.ui.sortable>"u"?re.drag_drop=!1:se.sortable(t.extend(!0,{},{start:function(Y,Le){var Re=se.find(re.elements_selector),X=Le.item,we=t(this);if(!h(re.drag_drop_start(Y,Le,Re,X))){we.sortable("cancel");return}Le.placeholder.height(Le.item.height()),Le.placeholder.width(Le.item.width()),ye=Re.index(X)},update:function(Y,Le){var Re=se.find(re.elements_selector),X=Le.item,we=t(this);we.sortable("cancel"),!(re.drag_drop_update(Y,Le,Re,X)===!1||!(Ee-ye>0?h(re.before_up(se,X)):h(re.before_down(se,X))))&&(Ee=Re.index(X),Re=se.find(re.elements_selector),ue(se,re,Re,X,ye,Ee))}},re.drag_drop_options))}se.data("collection-settings",re);var it=t(re.container);if(it.off("click","."+re.prefix+"-action").on("click","."+re.prefix+"-action",function(Y){var Le=t(this),Re=t("#"+Le.data("collection")),X=Re.data("collection-settings");if(X===void 0){var Re=t("#"+Le.data("collection")).find("."+Le.data("collection")+"-collection"),X=Re.data("collection-settings");if(X===void 0)throw"Can't find collection: "+Le.data("collection")}var we=Re.find(X.elements_selector),Te=Le.data("element")?t("#"+Le.data("element")):void 0,qe=Te&&Te.length?we.index(Te):-1,Ze=null,Xe=Le.is("."+X.prefix+"-duplicate");(Le.is("."+X.prefix+"-add")||Le.is("."+X.prefix+"-rescue-add")||Xe)&&X.allow_add&&(Ze="add",we=B(it,Le,Re,X,we,Te,qe,Xe)),Le.is("."+X.prefix+"-remove")&&X.allow_remove&&(Ze="remove",we=z(Re,X,we,Te,qe)),Le.is("."+X.prefix+"-up")&&X.allow_up&&(Ze="up",we=V(Re,X,we,Te,qe)),Le.is("."+X.prefix+"-down")&&X.allow_down&&(Ze="down",we=ne(Re,X,we,Te,qe)),E(Re,X,!1,Ze),Y.preventDefault()}),E(se,re,!0),D(se,null,re),re.position_field_selector){var Be=[],Me=se.find(re.elements_selector);Me.each(function(Y){var Le=t(this);Be.push({position:parseFloat(l(Le.find(re.position_field_selector))),element:Le})});var te=function(Y,Le){return Y.position<Le.position?-1:Y.position>Le.position?1:0};Be.sort(te),t.each(Be,function(Y,Le){var Re=[];t(Me).each(function(Te){Re.push(t(this).attr("id"))});var X=Le.element,we=t.inArray(X.attr("id"),Re);Y!==we&&(Me=ue(se,re,Me,X,we,Y),f(X.find(re.position_field_selector),Me.index(X)))})}re.after_init(se)}),!0)}})(jQuery);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;if(window.jQuery)e=t(window.jQuery);else throw new Error("UIkit 2.x requires jQuery");typeof define=="function"&&define.amd&&define("uikit",function(){return e.load=function(r,s,u,l){var f=r.split(","),h=[],b,x=(l.config&&l.config.uikit&&l.config.uikit.base?l.config.uikit.base:"").replace(/\/+$/g,"");if(!x)throw new Error("Please define base path to UIkit in the requirejs config.");for(b=0;b<f.length;b+=1){var w=f[b].replace(/\./g,"/");h.push(x+"/components/"+w)}s(h,function(){u(e)})},e})})(function(t){if(window.UIkit2)return window.UIkit2;var e={},r=window.UIkit||void 0;if(e.version="2.27.4",e.noConflict=function(){return r&&(window.UIkit=r,t.UIkit=r,t.fn.uk=r.fn),e},window.UIkit2=e,r||(window.UIkit=e),e.$=t,e.$doc=e.$(document),e.$win=e.$(window),e.$html=e.$("html"),e.support={},e.support.transition=function(){var h=function(){var b=document.body||document.documentElement,x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},w;for(w in x)if(b.style[w]!==void 0)return x[w]}();return h&&{end:h}}(),e.support.animation=function(){var h=function(){var b=document.body||document.documentElement,x={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},w;for(w in x)if(b.style[w]!==void 0)return x[w]}();return h&&{end:h}}(),function(){Date.now=Date.now||function(){return new Date().getTime()};for(var h=["webkit","moz"],b=0;b<h.length&&!window.requestAnimationFrame;++b){var x=h[b];window.requestAnimationFrame=window[x+"RequestAnimationFrame"],window.cancelAnimationFrame=window[x+"CancelAnimationFrame"]||window[x+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var w=0;window.requestAnimationFrame=function(S){var O=Date.now(),W=Math.max(w+16,O);return setTimeout(function(){S(w=W)},W-O)},window.cancelAnimationFrame=clearTimeout}}(),e.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,e.Utils={},e.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},e.Utils.str2json=function(h,b){try{return b?JSON.parse(h.replace(/([\$\w]+)\s*:/g,function(x,w){return'"'+w+'":'}).replace(/'([^']+)'/g,function(x,w){return'"'+w+'"'})):new Function("","var json = "+h+"; return JSON.parse(JSON.stringify(json));")()}catch{return!1}},e.Utils.debounce=function(h,b,x){var w;return function(){var S=this,O=arguments,W=function(){w=null,x||h.apply(S,O)},N=x&&!w;clearTimeout(w),w=setTimeout(W,b),N&&h.apply(S,O)}},e.Utils.throttle=function(h,b){var x=!1;return function(){x||(h.call(),x=!0,setTimeout(function(){x=!1},b))}},e.Utils.removeCssRules=function(h){var b,x,w,S,O,W,N,j,q,M;h&&setTimeout(function(){try{for(M=document.styleSheets,S=0,N=M.length;S<N;S++){for(w=M[S],x=[],w.cssRules=w.cssRules,b=O=0,j=w.cssRules.length;O<j;b=++O)w.cssRules[b].type===CSSRule.STYLE_RULE&&h.test(w.cssRules[b].selectorText)&&x.unshift(b);for(W=0,q=x.length;W<q;W++)w.deleteRule(x[W])}}catch{}},0)},e.Utils.isInView=function(h,b){var x=t(h);if(!x.is(":visible"))return!1;var w=e.$win.scrollLeft(),S=e.$win.scrollTop(),O=x.offset(),W=O.left,N=O.top;return b=t.extend({topoffset:0,leftoffset:0},b),N+x.height()>=S&&N-b.topoffset<=S+e.$win.height()&&W+x.width()>=w&&W-b.leftoffset<=w+e.$win.width()},e.Utils.checkDisplay=function(h,b){var x=e.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",h||document);return h&&!x.length&&(x=t(h)),x.trigger("display.uk.check"),b&&(typeof b!="string"&&(b='[class*="uk-animation-"]'),x.find(b).each(function(){var w=e.$(this),S=w.attr("class"),O=S.match(/uk-animation-(.+)/);w.removeClass(O[0]).width(),w.addClass(O[0])})),x},e.Utils.options=function(h){if(t.type(h)!="string")return h;h.indexOf(":")!=-1&&h.trim().substr(-1)!="}"&&(h="{"+h+"}");var b=h?h.indexOf("{"):-1,x={};if(b!=-1)try{x=e.Utils.str2json(h.substr(b))}catch{}return x},e.Utils.animate=function(h,b){var x=t.Deferred();return h=e.$(h),h.css("display","none").addClass(b).one(e.support.animation.end,function(){h.removeClass(b),x.resolve()}),h.css("display",""),x.promise()},e.Utils.uid=function(h){return(h||"id")+new Date().getTime()+"RAND"+Math.ceil(Math.random()*1e5)},e.Utils.template=function(h,b){for(var x=h.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),w=0,S,O,W,N,j=[],q=0;w<x.length;){if(S=x[w],S.match(/\{\{\s*(.+?)\s*\}\}/))switch(w=w+1,S=x[w],O=S[0],W=S.substring(S.match(/^(\^|\#|\!|\~|\:)/)?1:0),O){case"~":j.push("for(var $i=0;$i<"+W+".length;$i++) { var $item = "+W+"[$i];"),q++;break;case":":j.push("for(var $key in "+W+") { var $val = "+W+"[$key];"),q++;break;case"#":j.push("if("+W+") {"),q++;break;case"^":j.push("if(!"+W+") {"),q++;break;case"/":j.push("}"),q--;break;case"!":j.push("__ret.push("+W+");");break;default:j.push("__ret.push(escape("+W+"));");break}else j.push("__ret.push('"+S.replace(/\'/g,"\\'")+"');");w=w+1}return N=new Function("$data",["var __ret = [];","try {","with($data){",q?'__ret = ["Not all blocks are closed correctly."]':j.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',`function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}`].join(`
`)),b?N(b):N},e.Utils.focus=function(h,b){if(h=t(h),!h.length)return h;var x=h.find("[autofocus]:first"),w;return x.length||(x=h.find(":input"+(b&&","+b||"")).first(),x.length)?x.focus():(h.attr("tabindex")||(w=1e3,h.attr("tabindex",w)),h[0].focus(),w&&h.attr("tabindex",""),h)},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.fn=function(h,b){var x=arguments,w=h.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),S=w[1],O=w[2];return e[S]?this.each(function(){var W=t(this),N=W.data(S);N||W.data(S,N=e[S](this,O?void 0:b)),O&&N[O].apply(N,Array.prototype.slice.call(x,1))}):(t.error("UIkit component ["+S+"] does not exist."),this)},t.UIkit=e,t.fn.uk=e.fn,e.langdirection=e.$html.attr("dir")=="rtl"?"right":"left",e.components={},e.component=function(h,b,x){if(e.components[h]&&!x)return e.components[h];var w=function(S,O){var W=this;return this.UIkit=e,this.element=S?e.$(S):null,this.options=t.extend(!0,{},this.defaults,O),this.plugins={},this.element&&this.element.data(h,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(w.plugins)).forEach(function(N){w.plugins[N].init&&(w.plugins[N].init(W),W.plugins[N]=!0)}),this.trigger("init.uk.component",[h,this]),this};return w.plugins={},t.extend(!0,w.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(S,O,W){return e.$(this.element||this).on(S,O,W)},one:function(S,O,W){return e.$(this.element||this).one(S,O,W)},off:function(S){return e.$(this.element||this).off(S)},trigger:function(S,O){return e.$(this.element||this).trigger(S,O)},find:function(S){return e.$(this.element?this.element:[]).find(S)},proxy:function(S,O){var W=this;O.split(" ").forEach(function(N){W[N]||(W[N]=function(){return S[N].apply(S,arguments)})})},mixin:function(S,O){var W=this;O.split(" ").forEach(function(N){W[N]||(W[N]=S[N].bind(W))})},option:function(){if(arguments.length==1)return this.options[arguments[0]]||void 0;arguments.length==2&&(this.options[arguments[0]]=arguments[1])}},b),this.components[h]=w,this[h]=function(){var S,O;if(arguments.length)switch(arguments.length){case 1:typeof arguments[0]=="string"||arguments[0].nodeType||arguments[0]instanceof jQuery?S=t(arguments[0]):O=arguments[0];break;case 2:S=t(arguments[0]),O=arguments[1];break}return S&&S.data(h)?S.data(h):new e.components[h](S,O)},e.domready&&e.component.boot(h),w},e.plugin=function(h,b,x){this.components[h].plugins[b]=x},e.component.boot=function(h){e.components[h].prototype&&e.components[h].prototype.boot&&!e.components[h].booted&&(e.components[h].prototype.boot.apply(e,[]),e.components[h].booted=!0)},e.component.bootComponents=function(){for(var h in e.components)e.component.boot(h)},e.domObservers=[],e.domready=!1,e.ready=function(h){e.domObservers.push(h),e.domready&&h(document)},e.on=function(h,b,x){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready&&b.apply(e.$doc),e.$doc.on(h,b,x)},e.one=function(h,b,x){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready?(b.apply(e.$doc),e.$doc):e.$doc.one(h,b,x)},e.trigger=function(h,b){return e.$doc.trigger(h,b)},e.domObserve=function(h,b){e.support.mutationobserver&&(b=b||function(){},e.$(h).each(function(){var x=this,w=e.$(x);if(!w.data("observer"))try{var S=new e.support.mutationobserver(e.Utils.debounce(function(O){b.apply(x,[w]),w.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});S.observe(x,{childList:!0,subtree:!0}),w.data("observer",S)}catch{}}))},e.init=function(h){h=h||document,e.domObservers.forEach(function(b){b(h)})},e.on("domready.uk.dom",function(){e.init(),e.domready&&e.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",function(){var h=function(){e.$body=e.$("body"),e.trigger("beforeready.uk.dom"),e.component.bootComponents();var b=requestAnimationFrame(function(){var w={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},S=function(){var O=window.pageXOffset,W=window.pageYOffset;(w.x!=O||w.y!=W)&&(O!=w.x?w.dir.x=O>w.x?1:-1:w.dir.x=0,W!=w.y?w.dir.y=W>w.y?1:-1:w.dir.y=0,w.x=O,w.y=W,e.$doc.trigger("scrolling.uk.document",[{dir:{x:w.dir.x,y:w.dir.y},x:O,y:W}])),cancelAnimationFrame(b),b=requestAnimationFrame(S)};return e.support.touch&&e.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",S),(w.x||w.y)&&S(),S}());if(e.trigger("domready.uk.dom"),e.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e.$win.on("load orientationchange resize",e.Utils.debounce(function(){var w=function(){return t(".uk-height-viewport").css("height",window.innerHeight),w};return w()}(),100)),e.trigger("afterready.uk.dom"),e.domready=!0,e.support.mutationobserver){var x=e.Utils.debounce(function(){requestAnimationFrame(function(){e.init(document.body)})},10);new e.support.mutationobserver(function(w){var S=!1;w.every(function(O){if(O.type!="childList")return!0;for(var W=0,N;W<O.addedNodes.length;++W)if(N=O.addedNodes[W],N.outerHTML&&N.outerHTML.indexOf("data-uk-")!==-1)return(S=!0)&&!1;return!0}),S&&x()}).observe(document.body,{childList:!0,subtree:!0})}};return(document.readyState=="complete"||document.readyState=="interactive")&&setTimeout(h),h}()),e.$html.addClass(e.support.touch?"uk-touch":"uk-notouch"),e.support.touch){var s=!1,u,l="uk-hover",f=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";e.$html.on("mouseenter touchstart MSPointerDown pointerdown",f,function(){s&&t("."+l).removeClass(l),s=t(this).addClass(l)}).on("mouseleave touchend MSPointerUp pointerup",function(h){u=t(h.target).parents(f),s&&s.not(u).removeClass(l)})}return e});(function(t){if(t.fn.swipeLeft)return;var e={},r,s,u,l,f=750,h,b="ontouchstart"in window,x=window.PointerEvent,w=b||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;function S(q,M,E,D){return Math.abs(q-M)>=Math.abs(E-D)?q-M>0?"Left":"Right":E-D>0?"Up":"Down"}function O(){l=null,e.last&&(e.el!==void 0&&e.el.trigger("longTap"),e={})}function W(){l&&clearTimeout(l),l=null}function N(){r&&clearTimeout(r),s&&clearTimeout(s),u&&clearTimeout(u),l&&clearTimeout(l),r=s=u=l=null,e={}}function j(q){return q.pointerType==q.MSPOINTER_TYPE_TOUCH&&q.isPrimary}t(function(){var q,M,E=0,D=0,B;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).on("MSGestureEnd gestureend",function(z){var V=z.originalEvent.velocityX>1?"Right":z.originalEvent.velocityX<-1?"Left":z.originalEvent.velocityY>1?"Down":z.originalEvent.velocityY<-1?"Up":null;V&&e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+V))}).on("touchstart MSPointerDown pointerdown",function(z){z.type=="MSPointerDown"&&!j(z.originalEvent)||(B=z.type=="MSPointerDown"||z.type=="pointerdown"?z:z.originalEvent.touches[0],q=Date.now(),M=q-(e.last||q),e.el=t("tagName"in B.target?B.target:B.target.parentNode),r&&clearTimeout(r),e.x1=B.pageX,e.y1=B.pageY,M>0&&M<=250&&(e.isDoubleTap=!0),e.last=q,l=setTimeout(O,f),z.originalEvent&&z.originalEvent.pointerId&&h&&(z.type=="MSPointerDown"||z.type=="pointerdown"||z.type=="touchstart")&&h.addPointer(z.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(z){z.type=="MSPointerMove"&&!j(z.originalEvent)||(B=z.type=="MSPointerMove"||z.type=="pointermove"?z:z.originalEvent.touches[0],W(),e.x2=B.pageX,e.y2=B.pageY,E+=Math.abs(e.x1-e.x2),D+=Math.abs(e.y1-e.y2))}).on("touchend MSPointerUp pointerup",function(z){z.type=="MSPointerUp"&&!j(z.originalEvent)||(W(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?u=setTimeout(function(){e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+S(e.x1,e.x2,e.y1,e.y2))),e={}},0):"last"in e&&(isNaN(E)||E<30&&D<30?s=setTimeout(function(){var V=t.Event("tap");V.cancelTouch=N,e.el!==void 0&&e.el.trigger(V),e.isDoubleTap?(e.el!==void 0&&e.el.trigger("doubleTap"),e={}):r=setTimeout(function(){r=null,e.el!==void 0&&e.el.trigger("singleTap"),e={}},250)},0):e={},E=D=0))}).on("touchcancel MSPointerCancel pointercancel",function(z){(z.type=="touchcancel"&&b&&w||!b&&z.type=="pointercancel"&&x)&&N()}),t(window).on("scroll",N)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(q){t.fn[q]=function(M){return t(this).on(q,M)}})})(jQuery);(function(t){t.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var r=t.$(this);r.data("stackMargin")||t.stackMargin(r,t.Utils.options(r.attr("data-uk-margin")))})})},init:function(){var e=this;t.$win.on("resize orientationchange",function(){var r=function(){e.process()};return t.$(function(){r(),t.$win.on("load",r)}),t.Utils.debounce(r,20)}()),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.process()}).bind(this)),this.options.observe&&t.domObserve(this.element,function(r){e.element.is(":visible")&&e.process()})},process:function(){var e=this.element.children();if(t.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var r={},s=!1;return e.removeClass(this.options.rowfirst).each(function(u,l){l=t.$(this),this.style.display!="none"&&(u=l.offset().left,((r[u]=r[u]||[])&&r[u]).push(this),s=s===!1?u:Math.min(s,u))}),t.$(r[s]).addClass(this.options.rowfirst),this}}),function(){var e=[],r=function(s){if(s.is(":visible")){var u=s.parent().width(),l=s.data("width"),f=u/l,h=Math.floor(f*s.data("height"));s.css({height:u<l?h:s.data("height")})}};t.component("responsiveElement",{defaults:{},boot:function(){t.ready(function(s){t.$("iframe.uk-responsive-width, [data-uk-responsive]",s).each(function(){var u=t.$(this);u.data("responsiveElement")||t.responsiveElement(u,{})})})},init:function(){var s=this.element;s.attr("width")&&s.attr("height")&&(s.data({width:s.attr("width"),height:s.attr("height")}).on("display.uk.check",function(){r(s)}),r(s),e.push(s))}}),t.$win.on("resize load",t.Utils.debounce(function(){e.forEach(function(s){r(s)})},15))}(),t.Utils.stackMargin=function(e,r){r=t.$.extend({cls:"uk-margin-small-top"},r),e=t.$(e).removeClass(r.cls);var s=!1;e.each(function(u,l,f,h){h=t.$(this),h.css("display")!="none"&&(u=h.offset(),l=h.outerHeight(),f=u.top+l,h.data({ukMarginPos:f,ukMarginTop:u.top}),(s===!1||u.top<s.top)&&(s={top:u.top,left:u.left,pos:f}))}).each(function(u){u=t.$(this),u.css("display")!="none"&&u.data("ukMarginTop")>s.top&&u.data("ukMarginPos")>s.pos&&u.addClass(r.cls)})},t.Utils.matchHeights=function(e,r){e=t.$(e).css("min-height",""),r=t.$.extend({row:!0},r);var s=function(u){if(!(u.length<2)){var l=0;u.each(function(){l=Math.max(l,t.$(this).outerHeight())}).each(function(){var f=t.$(this),h=l-(f.css("box-sizing")=="border-box"?0:f.outerHeight()-f.height());f.css("min-height",h+"px")})}};r.row?(e.first().width(),setTimeout(function(){var u=!1,l=[];e.each(function(){var f=t.$(this),h=f.offset().top;h!=u&&l.length&&(s(t.$(l)),l=[],h=f.offset().top),l.push(f),u=h}),l.length&&s(t.$(l))},0)):s(e)},function(e){t.Utils.inlineSvg=function(r,s){t.$(r||'img[src$=".svg"]',s||document).each(function(){var u=t.$(this),l=u.attr("src");if(!e[l]){var f=t.$.Deferred();t.$.get(l,{nc:Math.random()},function(h){f.resolve(t.$(h).find("svg"))}),e[l]=f.promise()}e[l].then(function(h){var b=t.$(h).clone();u.attr("id")&&b.attr("id",u.attr("id")),u.attr("class")&&b.attr("class",u.attr("class")),u.attr("style")&&b.attr("style",u.attr("style")),u.attr("width")&&(b.attr("width",u.attr("width")),u.attr("height")||b.removeAttr("height")),u.attr("height")&&(b.attr("height",u.attr("height")),u.attr("width")||b.removeAttr("width")),u.replaceWith(b)})})},t.ready(function(r){t.Utils.inlineSvg("[data-uk-svg]",r)})}({}),t.Utils.getCssVar=function(e){var r,s=document.documentElement,u=s.appendChild(document.createElement("div"));u.classList.add("var-"+e);try{r=JSON.parse(r=getComputedStyle(u,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch{r=void 0}return s.removeChild(u),r}})(UIkit2);(function(t){t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(r){var s=t.$(this);return s.data("smoothScroll")||(t.smoothScroll(s,t.Utils.options(s.attr("data-uk-smooth-scroll"))),s.trigger("click")),!1})},init:function(){var r=this;this.on("click",function(s){s.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),r.options)})}});function e(r,s){s=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},s);var u=r.offset().top-s.offset,l=t.$doc.height(),f=window.innerHeight;u+f>l&&(u=l-f),t.$("html,body").stop().animate({scrollTop:u},s.duration,s.transition).promise().done(s.complete)}t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(r,s,u,l,f){return s==f?u+l:l*(-Math.pow(2,-10*s/f)+1)+u})})(UIkit2);(function(t){var e=t.$win,r=t.$doc,s=[],u=function(){for(var h=0;h<s.length;h++)window.requestAnimationFrame.apply(window,[s[h].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){r.on("scrolling.uk.document",u),e.on("load resize orientationchange",t.Utils.debounce(u,50)),t.ready(function(h){t.$("[data-uk-scrollspy]",h).each(function(){var b=t.$(this);b.data("scrollspy")||t.scrollspy(b,t.Utils.options(b.attr("data-uk-scrollspy")))})})},init:function(){var h=this,b,x=this.options.cls.split(/,/),w=function(){var S=h.options.target?h.element.find(h.options.target):h.element,O=S.length===1?1:0,W=0;S.each(function(N){var j=t.$(this),q=j.data("inviewstate"),M=t.Utils.isInView(j,h.options),E=j.attr("data-uk-scrollspy-cls")||x[W].trim();M&&!q&&!j.data("scrollspy-idle")&&(b||(j.addClass(h.options.initcls),h.offset=j.offset(),b=!0,j.trigger("init.uk.scrollspy")),j.data("scrollspy-idle",setTimeout(function(){j.addClass("uk-scrollspy-inview").toggleClass(E).width(),j.trigger("inview.uk.scrollspy"),j.data("scrollspy-idle",!1),j.data("inviewstate",!0)},h.options.delay*O)),O++),!M&&q&&h.options.repeat&&(j.data("scrollspy-idle")&&(clearTimeout(j.data("scrollspy-idle")),j.data("scrollspy-idle",!1)),j.removeClass("uk-scrollspy-inview").toggleClass(E),j.data("inviewstate",!1),j.trigger("outview.uk.scrollspy")),W=x[W+1]?W+1:0})};w(),this.check=w,s.push(this)}});var l=[],f=function(){for(var h=0;h<l.length;h++)window.requestAnimationFrame.apply(window,[l[h].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){r.on("scrolling.uk.document",f),e.on("resize orientationchange",t.Utils.debounce(f,50)),t.ready(function(h){t.$("[data-uk-scrollspy-nav]",h).each(function(){var b=t.$(this);b.data("scrollspynav")||t.scrollspynav(b,t.Utils.options(b.attr("data-uk-scrollspy-nav")))})})},init:function(){var h=[],b=this.find("a[href^='#']").each(function(){this.getAttribute("href").trim()!=="#"&&h.push(this.getAttribute("href"))}),x=t.$(h.join(",")),w=this.options.cls,S=this.options.closest||this.options.closest,O=this,W,N=function(){W=[];for(var j=0;j<x.length;j++)t.Utils.isInView(x.eq(j),O.options)&&W.push(x.eq(j));if(W.length){var q,M=e.scrollTop(),E=function(){for(var D=0;D<W.length;D++)if(W[D].offset().top-O.options.topoffset>=M)return W[D]}();if(!E)return;O.options.closest?(b.blur().closest(S).removeClass(w),q=b.filter("a[href='#"+E.attr("id")+"']").closest(S).addClass(w)):q=b.removeClass(w).filter("a[href='#"+E.attr("id")+"']").addClass(w),O.element.trigger("inview.uk.scrollspynav",[E,q])}};this.options.smoothscroll&&t.smoothScroll&&b.each(function(){t.smoothScroll(this,O.options.smoothscroll)}),N(),this.element.data("scrollspynav",this),this.check=N,l.push(this)}})})(UIkit2);(function(t){var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(r){t.$("[data-uk-toggle]",r).each(function(){var s=t.$(this);s.data("toggle")||t.toggle(s,t.Utils.options(s.attr("data-uk-toggle")))}),setTimeout(function(){e.forEach(function(s){s.getToggles()})},0)})},init:function(){var r=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(s){r.element.is('a[href="#"]')&&s.preventDefault(),r.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),!!this.totoggle.length){if(this.options.animation&&t.support.animation){var r=this,s=this.options.animation.split(",");s.length==1&&(s[1]=s[0]),s[0]=s[0].trim(),s[1]=s[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var u=t.$(this);u.hasClass(r.options.cls)?(u.toggleClass(r.options.cls),t.Utils.animate(u,s[0]).then(function(){u.css("animation-duration",""),t.Utils.checkDisplay(u)})):t.Utils.animate(this,s[1]+" uk-animation-reverse").then(function(){u.toggleClass(r.options.cls).css("animation-duration",""),t.Utils.checkDisplay(u)})})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})})(UIkit2);(function(t){t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var r=t.$(this);if(!r.data("alert")){var s=t.alert(r,t.Utils.options(r.attr("data-uk-alert")));t.$(e.target).is(s.options.trigger)&&(e.preventDefault(),s.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(r){r.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),r=(function(){this.trigger("closed.uk.alert").remove()}).bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,r):r()}})})(UIkit2);(function(t){t.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var r=t.$(this);if(!r.data("buttonRadio")){var s=t.buttonRadio(r,t.Utils.options(r.attr("data-uk-button-radio"))),u=t.$(e.target);u.is(s.options.target)&&u.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(r){var s=t.$(this);s.is('a[href="#"]')&&r.preventDefault(),e.find(e.options.target).not(s).removeClass(e.options.activeClass).blur(),s.addClass(e.options.activeClass),e.find(e.options.target).not(s).attr("aria-checked","false"),s.attr("aria-checked","true"),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var r=t.$(this);if(!r.data("buttonCheckbox")){var s=t.buttonCheckbox(r,t.Utils.options(r.attr("data-uk-button-checkbox"))),u=t.$(e.target);u.is(s.options.target)&&u.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(r){var s=t.$(this);s.is('a[href="#"]')&&r.preventDefault(),s.toggleClass(e.options.activeClass).blur(),s.attr("aria-checked",s.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var r=t.$(this);r.data("button")||(t.button(r,t.Utils.options(r.attr("data-uk-button"))),r.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(r){e.element.is('a[href="#"]')&&r.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})})(UIkit2);(function(t){var e=!1,r,s={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};t.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:t.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var l=t.support.touch?"click":"mouseenter";t.$html.on(l+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(f){var h=t.$(this);if(!h.data("dropdown")){var b=t.dropdown(h,t.Utils.options(h.attr("data-uk-dropdown")));(f.type=="click"||f.type=="mouseenter"&&b.options.mode=="hover")&&b.element.trigger(l),b.dropdown.length&&f.preventDefault()}})},init:function(){var l=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return t.$.inArray(t.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?t.$(this.options.justify):!1,this.boundary=t.$(this.options.boundary),this.boundary.length||(this.boundary=t.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),this.options.mode=="click"||t.support.touch?this.on("click.uk.dropdown",function(f){var h=t.$(f.target);h.parents(l.options.dropdownSelector).length||((h.is("a[href='#']")||h.parent().is("a[href='#']")||l.dropdown.length&&!l.dropdown.is(":visible"))&&f.preventDefault(),h.blur()),l.element.hasClass("uk-open")?(!l.dropdown.find(f.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&l.hide():l.show()}):this.on("mouseenter",function(f){l.trigger("pointerenter.uk.dropdown",[l]),l.remainIdle&&clearTimeout(l.remainIdle),r&&clearTimeout(r),!(e&&e==l)&&(e&&e!=l?r=setTimeout(function(){r=setTimeout(l.show.bind(l),l.options.delay)},l.options.hoverDelayIdle):r=setTimeout(l.show.bind(l),l.options.delay))}).on("mouseleave",function(){r&&clearTimeout(r),l.remainIdle=setTimeout(function(){e&&e==l&&l.hide()},l.options.remaintime),l.trigger("pointerleave.uk.dropdown",[l])}).on("click",function(f){var h=t.$(f.target);if(l.remainIdle&&clearTimeout(l.remainIdle),e&&e==l){(!l.dropdown.find(f.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&l.hide();return}(h.is("a[href='#']")||h.parent().is("a[href='#']"))&&f.preventDefault(),l.show()})},show:function(){t.$html.off("click.outer.dropdown"),e&&e!=this&&e.hide(!0),r&&clearTimeout(r),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),t.Utils.focus(this.dropdown),e=this,this.registerOuterClick()},hide:function(l){this.trigger("beforehide.uk.dropdown",[this,l]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,l]),e==this&&(e=!1)},registerOuterClick:function(){var l=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(f){r&&clearTimeout(r),t.$(f.target),e==l&&!l.element.find(f.target).length&&(l.hide(!0),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var l=t.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),f=this.options.offset,h=this.dropdown;h.show().offset();var b=h.outerWidth(),x=h.outerHeight(),w=this.boundary.width();this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset();var S=this.options.pos,O={"bottom-left":{top:0+l.height+f,left:0},"bottom-right":{top:0+l.height+f,left:0+l.width-b},"bottom-center":{top:0+l.height+f,left:0+l.width/2-b/2},"top-left":{top:0-x-f,left:0},"top-right":{top:0-x-f,left:0+l.width-b},"top-center":{top:0-x-f,left:0+l.width/2-b/2},"left-top":{top:0,left:0-b-f},"left-bottom":{top:0+l.height-x,left:0-b-f},"left-center":{top:0+l.height/2-x/2,left:0-b-f},"right-top":{top:0,left:0+l.width+f},"right-bottom":{top:0+l.height-x,left:0+l.width+f},"right-center":{top:0+l.height/2-x/2,left:0+l.width+f}},W={},N;if(N=S.split("-"),W=O[S]?O[S]:O["bottom-left"],this.justified&&this.justified.length)u(h.css({left:0}),this.justified,w);else if(this.options.preventflip!==!0){var j;switch(this.checkBoundary(l.left+W.left,l.top+W.top,b,x,w)){case"x":this.options.preventflip!=="x"&&(j=s.x[S]||"right-top");break;case"y":this.options.preventflip!=="y"&&(j=s.y[S]||"top-left");break;case"xy":this.options.preventflip||(j=s.xy[S]||"right-bottom");break}j&&(N=j.split("-"),W=O[j]?O[j]:O["bottom-left"],h.addClass("uk-dropdown-autoflip"),this.checkBoundary(l.left+W.left,l.top+W.top,b,x,w)&&(N=S.split("-"),W=O[S]?O[S]:O["bottom-left"]))}b>w&&(h.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),h.css(W).css("display","").addClass("uk-dropdown-"+N[0])}},checkBoundary:function(l,f,h,b,x){var w="";return(l<0||l-t.$win.scrollLeft()+h>x)&&(w+="x"),(f-t.$win.scrollTop()<0||f-t.$win.scrollTop()+b>window.innerHeight)&&(w+="y"),w}}),t.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){t.ready(function(l){t.$("[data-uk-dropdown-overlay]",l).each(function(){var f=t.$(this);f.data("dropdownOverlay")||t.dropdownOverlay(f,t.Utils.options(f.attr("data-uk-dropdown-overlay")))})})},init:function(){var l=this;this.justified=this.options.justify?t.$(this.options.justify):!1,this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(f,h){l.dropdown=h,l.justified&&l.justified.length&&u(l.overlay.css({display:"block",marginLeft:"",marginRight:""}),l.justified,l.justified.outerWidth())},"show.uk.dropdown":function(f,h){var b=l.dropdown.dropdown.outerHeight(!0);l.dropdown.element.removeClass("uk-open"),l.overlay.stop().css("display","block").animate({height:b},l.options.duration,function(){l.dropdown.dropdown.css("visibility",""),l.dropdown.element.addClass("uk-open"),t.Utils.checkDisplay(l.dropdown.dropdown,!0)}),l.pointerleave=!1},"hide.uk.dropdown":function(){l.overlay.stop().animate({height:0},l.options.duration)},"pointerenter.uk.dropdown":function(f,h){clearTimeout(l.remainIdle)},"pointerleave.uk.dropdown":function(f,h){l.pointerleave=!0}}),this.overlay.on({mouseenter:function(){l.remainIdle&&(clearTimeout(l.dropdown.remainIdle),clearTimeout(l.remainIdle))},mouseleave:function(){l.pointerleave&&e&&(l.remainIdle=setTimeout(function(){e&&e.hide()},e.options.remaintime))}})}});function u(l,f,h,b){if(l=t.$(l),f=t.$(f),h=h||window.innerWidth,b=b||l.offset(),f.length){var x=f.outerWidth();if(l.css("min-width",x),t.langdirection=="right"){var w=h-(f.offset().left+x),S=h-(l.offset().left+l.outerWidth());l.css("margin-right",w-S)}else l.css("margin-left",f.offset().left-b.left)}}})(UIkit2);(function(t){t.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var r=t.$(this);r.data("gridMatchHeight")||t.gridMatchHeight(r,t.Utils.options(r.attr("data-uk-grid-match")))})})},init:function(){var e=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",function(){var r=function(){e.element.is(":visible")&&e.match()};return t.$(function(){r()}),t.Utils.debounce(r,50)}()),this.options.observe&&t.domObserve(this.element,function(r){e.element.is(":visible")&&e.match()}),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.match()}).bind(this)))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var r=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return r&&!this.options.ignorestacked?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var r=t.$(this);r.data("gridMargin")||t.gridMargin(r,t.Utils.options(r.attr("data-uk-grid-margin")))})})},init:function(){t.stackMargin(this.element,this.options)}})})(UIkit2);(function(t){var e=!1,r=0,s=t.$html,u;t.$win.on("resize orientationchange",t.Utils.debounce(function(){t.$(".uk-modal.uk-open").each(function(){return t.$(this).data("modal")&&t.$(this).data("modal").resize()})},150)),t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(u||(u=t.$("body")),!!this.element.length){var f=this;this.paddingdir="padding-"+(t.langdirection=="left"?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(h){h.preventDefault(),f.hide()}).on("click",function(h){var b=t.$(h.target);b[0]==f.element[0]&&f.options.bgclose&&f.hide()}),t.domObserve(this.element,function(h){f.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var f=this;if(!this.isActive())return this.options.modal&&e&&e.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(e=this),this.active=!0,r++,t.support.transition?(this.hasTransitioned=!1,this.element.one(t.support.transition.end,function(){f.hasTransitioned=!0,t.Utils.focus(f.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),t.Utils.focus(this.dialog,"a[href]")),s.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this}},hide:function(f){if(!f&&t.support.transition&&this.hasTransitioned){var h=this;this.one(t.support.transition.end,function(){h._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(f){if(!(!this.isActive()&&!f)){var h=u.width();if(this.scrollbarwidth=window.innerWidth-h,u.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var b=this.dialog.outerHeight(),x=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);b+x<window.innerHeight?this.dialog.css({top:window.innerHeight/2-b/2-x}):this.dialog.css({top:""})}}},updateScrollable:function(){var f=this.dialog.find(".uk-overflow-container:visible:first");if(f.length){f.css("height",0);var h=Math.abs(parseInt(this.dialog.css("margin-top"),10)),b=this.dialog.outerHeight(),x=window.innerHeight,w=x-2*(h<20?20:h)-b;return f.css({maxHeight:w<this.options.minScrollHeight?"":w,height:""}),!0}return!1},_hide:function(){this.active=!1,r>0?r--:r=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),r||(s.removeClass("uk-modal-page"),u.css(this.paddingdir,"")),e===this&&(e=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(f){var h=t.$(this);if(h.is("a")&&f.preventDefault(),!h.data("modalTrigger")){var b=t.modalTrigger(h,t.Utils.options(h.attr("data-uk-modal")));b.show()}}),t.$html.on("keydown.modal.uikit",function(f){e&&f.keyCode===27&&e.options.keyboard&&(f.preventDefault(),e.hide())})},init:function(){var f=this;this.options=t.$.extend({target:f.element.is("a")?f.element.attr("href"):!1},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(h){h.preventDefault(),f.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(f,h){var b=t.modal(t.$(t.modal.dialog.template).appendTo("body"),h);return b.on("hide.uk.modal",function(){b.persist&&(b.persist.appendTo(b.persist.data("modalPersistParent")),b.persist=!1),b.element.remove()}),l(f,b),b},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(f,h){h=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},h);var b=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+h.labels.Ok+"</button></div>"].join(""),h);return b.on("show.uk.modal",function(){setTimeout(function(){b.element.find("button:first").focus()},50)}),b.show()},t.modal.confirm=function(f,h,b){var x=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};h=t.$.isFunction(h)?h:function(){},b=t.$.isFunction(b)?b:function(){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},t.$.isFunction(x)?{}:x);var w=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+x.labels.Ok+"</button></div>"].join(""),x);return w.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){t.$(this).is(".js-modal-confirm")?h():b(),w.hide()}),w.on("show.uk.modal",function(){setTimeout(function(){w.element.find(".js-modal-confirm").focus()},50)}),w.show()},t.modal.prompt=function(f,h,b,x){b=t.$.isFunction(b)?b:function(O){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},x);var w=t.modal.dialog([f?'<div class="uk-modal-content uk-form">'+String(f)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+x.labels.Ok+"</button></div>"].join(""),x),S=w.element.find("input[type='text']").val(h||"").on("keyup",function(O){O.keyCode==13&&w.element.find(".js-modal-ok").trigger("click")});return w.element.find(".js-modal-ok").on("click",function(){b(S.val())!==!1&&w.hide()}),w.show()},t.modal.blockUI=function(f,h){var b=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f||'<div class="uk-text-center">...</div>')+"</div>"].join(""),t.$.extend({bgclose:!1,keyboard:!1,modal:!1},h));return b.content=b.element.find(".uk-modal-content:first"),b.show()},t.modal.labels={Ok:"Ok",Cancel:"Cancel"};function l(f,h){if(h)return typeof f=="object"?(f=f instanceof jQuery?f:t.$(f),f.parent().length&&(h.persist=f,h.persist.data("modalPersistParent",f.parent()))):typeof f=="string"||typeof f=="number"?f=t.$("<div></div>").html(f):f=t.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof f),f.appendTo(h.element.find(".uk-modal-dialog")),h}})(UIkit2);(function(t){t.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(r){t.$("[data-uk-nav]",r).each(function(){var s=t.$(this);s.data("nav")||t.nav(s,t.Utils.options(s.attr("data-uk-nav")))})})},init:function(){var r=this;this.on("click.uk.nav",this.options.toggle,function(s){s.preventDefault();var u=t.$(this);r.open(u.parent()[0]==r.element[0]?u:u.parent("li"))}),this.update(),t.domObserve(this.element,function(s){r.element.find(r.options.lists).not("[role]").length&&r.update()})},update:function(){var r=this;this.find(this.options.lists).each(function(){var s=t.$(this).attr("role","menu"),u=s.closest("li"),l=u.hasClass("uk-active");u.data("list-container")||(s.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),u.data("list-container",s.parent()[l?"removeClass":"addClass"]("uk-hidden"))),u.attr("aria-expanded",u.hasClass("uk-open")),l&&r.open(u,!0)})},open:function(r,s){var u=this,l=this.element,f=t.$(r),h=f.data("list-container");this.options.multiple||l.children(".uk-open").not(r).each(function(){var b=t.$(this);b.data("list-container")&&b.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),f.toggleClass("uk-open"),f.attr("aria-expanded",f.hasClass("uk-open")),h&&(f.hasClass("uk-open")&&h.removeClass("uk-hidden"),s?(h.stop().height(f.hasClass("uk-open")?"auto":0),f.hasClass("uk-open")||h.addClass("uk-hidden"),this.trigger("display.uk.check")):h.stop().animate({height:f.hasClass("uk-open")?e(h.find("ul:first")):0},function(){f.hasClass("uk-open")?h.css("height",""):h.addClass("uk-hidden"),u.trigger("display.uk.check")}))}});function e(r){var s=t.$(r),u="auto";if(s.is(":visible"))u=s.outerHeight();else{var l={position:s.css("position"),visibility:s.css("visibility"),display:s.css("display")};u=s.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),s.css(l)}return u}})(UIkit2);(function(t){var e={x:window.scrollX,y:window.scrollY};t.$win,t.$doc;var r=t.$html,s={show:function(u,l){if(u=t.$(u),!!u.length){l=t.$.extend({mode:"push"},l);var f=t.$("body"),h=u.find(".uk-offcanvas-bar:first"),b=t.langdirection=="right",x=h.hasClass("uk-offcanvas-bar-flip")?-1:1,w=x*(b?-1:1),S=window.innerWidth-f.width();e={x:window.pageXOffset,y:window.pageYOffset},h.attr("mode",l.mode),u.addClass("uk-active"),f.css({width:window.innerWidth-S,height:window.innerHeight}).addClass("uk-offcanvas-page"),(l.mode=="push"||l.mode=="reveal")&&f.css(b?"margin-right":"margin-left",(b?-1:1)*(h.outerWidth()*w)),l.mode=="reveal"&&h.css("clip","rect(0, "+h.outerWidth()+"px, 100vh, 0)"),r.css("margin-top",e.y*-1).width(),h.addClass("uk-offcanvas-bar-show"),this._initElement(u),h.trigger("show.uk.offcanvas",[u,h]),u.attr("aria-hidden","false")}},hide:function(u){var l=t.$("body"),f=t.$(".uk-offcanvas.uk-active"),h=t.langdirection=="right",b=f.find(".uk-offcanvas-bar:first"),x=function(){l.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),f.removeClass("uk-active"),b.removeClass("uk-offcanvas-bar-show"),r.css("margin-top",""),window.scrollTo(e.x,e.y),b.trigger("hide.uk.offcanvas",[f,b]),f.attr("aria-hidden","true")};f.length&&(b.attr("mode")=="none"&&(u=!0),t.support.transition&&!u?(l.one(t.support.transition.end,function(){x()}).css(h?"margin-right":"margin-left",""),b.attr("mode")=="reveal"&&b.css("clip",""),setTimeout(function(){b.removeClass("uk-offcanvas-bar-show")},0)):x())},_initElement:function(u){u.data("OffcanvasInit")||(u.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(l){var f=t.$(l.target);!l.type.match(/swipe/)&&!f.hasClass("uk-offcanvas-close")&&(f.hasClass("uk-offcanvas-bar")||f.parents(".uk-offcanvas-bar:first").length)||(l.stopImmediatePropagation(),s.hide())}),u.on("click",'a[href*="#"]',function(l){var f=t.$(this),h=f.attr("href");h!="#"&&(t.$doc.one("hide.uk.offcanvas",function(){var b;try{b=t.$(f[0].hash)}catch{b=""}b.length||(b=t.$('[name="'+f[0].hash.replace("#","")+'"]')),b.length&&t.Utils.scrollToElement?t.Utils.scrollToElement(b,t.Utils.options(f.attr("data-uk-smooth-scroll")||"{}")):window.location.href=h}),s.hide())}),u.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){r.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(u){u.preventDefault();var l=t.$(this);l.data("offcanvasTrigger")||(t.offcanvasTrigger(l,t.Utils.options(l.attr("data-uk-offcanvas"))),l.trigger("click"))}),r.on("keydown.uk.offcanvas",function(u){u.keyCode===27&&s.hide()})},init:function(){var u=this;this.options=t.$.extend({target:u.element.is("a")?u.element.attr("href"):!1,mode:"push"},this.options),this.on("click",function(l){l.preventDefault(),s.show(u.options.target,u.options)})}}),t.offcanvas=s})(UIkit2);(function(t){var e;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){t.ready(function(s){t.$("[data-uk-switcher]",s).each(function(){var u=t.$(this);u.data("switcher")||t.switcher(u,t.Utils.options(u.attr("data-uk-switcher")))})})},init:function(){var s=this;this.on("click.uk.switcher",this.options.toggle,function(u){u.preventDefault(),s.show(this)}),this.options.connect&&(this.connect=t.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(u){u.preventDefault();var l=t.$(this).attr("data-uk-switcher-item");if(s.index!=l)switch(l){case"next":case"previous":s.show(s.index+(l=="next"?1:-1));break;default:s.show(parseInt(l,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(u){u.preventDefault(),window.getSelection().toString()||s.show(s.index+(u.type=="swipeLeft"?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var s=this.find(this.options.toggle),u=s.filter(".uk-active");if(u.length)this.show(u,!1);else{if(this.options.active===!1)return;u=s.eq(this.options.active),this.show(u.length?u:s.eq(0),!1)}s.not(u).attr("aria-expanded","false"),u.attr("aria-expanded","true")},show:function(s,u){if(!this.animating){var l=this.find(this.options.toggle);isNaN(s)?s=t.$(s):(s=s<0?l.length-1:s,s=l.eq(l[s]?s:0));var f=this,h=t.$(s),b=e[this.options.animation]||function(x,w){if(!f.options.animation)return e.none.apply(f);var S=f.options.animation.split(",");return S.length==1&&(S[1]=S[0]),S[0]=S[0].trim(),S[1]=S[1].trim(),r.apply(f,[S,x,w])};(u===!1||!t.support.animation)&&(b=e.none),!h.hasClass("uk-disabled")&&(l.attr("aria-expanded","false"),h.attr("aria-expanded","true"),l.filter(".uk-active").removeClass("uk-active"),h.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(h),this.index==-1&&(this.index=0),this.connect.each(function(){var x=t.$(this),w=t.$(x.children()),S=t.$(w.filter(".uk-active")),O=t.$(w.eq(f.index));f.animating=!0,b.apply(f,[S,O]).then(function(){S.removeClass("uk-active"),O.addClass("uk-active"),S.attr("aria-hidden","true"),O.attr("aria-hidden","false"),t.Utils.checkDisplay(O,!0),f.animating=!1})})),this.trigger("show.uk.switcher",[h]))}}}),e={none:function(){var s=t.$.Deferred();return s.resolve(),s.promise()},fade:function(s,u){return r.apply(this,["uk-animation-fade",s,u])},"slide-bottom":function(s,u){return r.apply(this,["uk-animation-slide-bottom",s,u])},"slide-top":function(s,u){return r.apply(this,["uk-animation-slide-top",s,u])},"slide-vertical":function(s,u,l){var f=["uk-animation-slide-top","uk-animation-slide-bottom"];return s&&s.index()>u.index()&&f.reverse(),r.apply(this,[f,s,u])},"slide-left":function(s,u){return r.apply(this,["uk-animation-slide-left",s,u])},"slide-right":function(s,u){return r.apply(this,["uk-animation-slide-right",s,u])},"slide-horizontal":function(s,u,l){var f=["uk-animation-slide-right","uk-animation-slide-left"];return s&&s.index()>u.index()&&f.reverse(),r.apply(this,[f,s,u])},scale:function(s,u){return r.apply(this,["uk-animation-scale-up",s,u])}},t.switcher.animations=e;function r(s,u,l){var f=t.$.Deferred(),h=s,b=s,x;return l[0]===u[0]?(f.resolve(),f.promise()):(typeof s=="object"&&(h=s[0],b=s[1]||s[0]),t.$body.css("overflow-x","hidden"),x=function(){u&&u.hide().removeClass("uk-active "+b+" uk-animation-reverse"),l.addClass(h).one(t.support.animation.end,(function(){setTimeout(function(){l.removeClass(""+h).css({opacity:"",display:""})},0),f.resolve(),t.$body.css("overflow-x",""),u&&u.css({opacity:"",display:""})}).bind(this)).show()},l.css("animation-duration",this.options.duration+"ms"),u&&u.length?(u.css("animation-duration",this.options.duration+"ms"),u.css("display","none").addClass(b+" uk-animation-reverse").one(t.support.animation.end,(function(){x()}).bind(this)).css("display","")):(l.addClass("uk-active"),x()),f.promise())}})(UIkit2);(function(t){t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var r=t.$(this);r.data("tab")||t.tab(r,t.Utils.options(r.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(r){if(r.preventDefault(),!(e.switcher&&e.switcher.animating)){var s=e.find(e.options.target).not(this);s.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active"),e.current]),e.current=t.$(this),e.options.connect||(s.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(r){r.preventDefault(),r.stopPropagation();var s=t.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(s.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(r,s){e.responsivetab.caption.html(s.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),t.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length){this.responsivetab.addClass("uk-hidden");return}var r=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),s=!1,u,l;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>r&&(s=!0)}),s)for(var f=0;f<e.length;f++)u=t.$(e.eq(f)),u.find("a"),u.css("float")!="none"&&!u.attr("uk-dropdown")&&(u.hasClass("uk-disabled")||(l=t.$(u[0].outerHTML),l.find("a").data("index",f),this.responsivetab.lst.append(l)),u.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})})(UIkit2);(function(t){t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var r=t.$(this);r.data("cover")||t.cover(r,t.Utils.options(r.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce((function(){this.check()}).bind(this),100)),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.check()}).bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e=this.parent.width(),r=this.parent.height(),s,u;e/this.ratio<r?(s=Math.ceil(r*this.ratio),u=r):(s=e,u=Math.ceil(e/this.ratio)),this.element.css({width:s,height:u})}})})(UIkit2);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-nestable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window,r=t.$html,s=[],u=t.$win,l,f=e?"touchstart":"mousedown",h=e?"touchmove":"mousemove",b=e?"touchend":"mouseup",x=e?"touchcancel":"mouseup";return t.component("nestable",{defaults:{listBaseClass:"uk-nestable",listClass:"uk-nestable-list",listItemClass:"uk-nestable-item",dragClass:"uk-nestable-dragged",movingClass:"uk-nestable-moving",noChildrenClass:"uk-nestable-nochildren",emptyClass:"uk-nestable-empty",handleClass:"",collapsedClass:"uk-collapsed",placeholderClass:"uk-nestable-placeholder",noDragClass:"uk-nestable-nodrag",group:!1,maxDepth:10,threshold:20,idlethreshold:10},boot:function(){t.$html.on("mousemove touchmove",function(w){if(l){var S=l.offset().top;S<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(l.height()/2)):S+l.height()>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(l.height()/2))}}),t.ready(function(w){t.$("[data-uk-nestable]",w).each(function(){var S=t.$(this);S.data("nestable")||t.nestable(S,t.Utils.options(S.attr("data-uk-nestable")))})})},init:function(){var w=this;Object.keys(this.options).forEach(function(N){String(N).indexOf("Class")!=-1&&(w.options["_"+N]="."+w.options[N])}),this.find(this.options._listItemClass).find(">ul").addClass(this.options.listClass),this.checkEmptyList(),this.reset(),this.element.data("nestable-group",this.options.group||t.Utils.uid("nestable-group")),this.find(this.options._listItemClass).each(function(){w.setParent(t.$(this))}),this.on("click","[data-nestable-action]",function(N){if(!(w.dragEl||!e&&N.button!==0)){N.preventDefault();var j=t.$(N.currentTarget),q=j.data("nestableAction"),M=j.closest(w.options._listItemClass);q==="collapse"&&w.collapseItem(M),q==="expand"&&w.expandItem(M),q==="toggle"&&w.toggleItem(M)}});var S=function(N){var j=t.$(N.target),q=j.is("a[href]")?j:j.parents("a[href]");N.target!==w.element[0]&&(j.is(w.options._noDragClass)||j.closest(w.options._noDragClass).length||j.is("[data-nestable-action]")||j.closest("[data-nestable-action]").length||(w.options.handleClass&&!j.hasClass(w.options.handleClass)&&w.options.handleClass&&(j=j.closest(w.options._handleClass)),!(!j.length||w.dragEl||!e&&N.button!==0||e&&N.touches.length!==1)&&(N.originalEvent&&N.originalEvent.touches&&(N=evt.originalEvent.touches[0]),w.delayMove=function(M){q=!1,M.preventDefault(),w.dragStart(N),w.trigger("start.uk.nestable",[w]),w.delayMove=!1},w.delayMove.x=parseInt(N.pageX,10),w.delayMove.y=parseInt(N.pageY,10),w.delayMove.threshold=w.options.idlethreshold,q.length&&b=="touchend"&&w.one(b,function(){q&&q.attr("href").trim()&&(location.href=q.attr("href"))}),N.preventDefault())))},O=function(N){N.originalEvent&&N.originalEvent.touches&&(N=N.originalEvent.touches[0]),w.delayMove&&(Math.abs(N.pageX-w.delayMove.x)>w.delayMove.threshold||Math.abs(N.pageY-w.delayMove.y)>w.delayMove.threshold)&&(window.getSelection().toString()?w.delayMove=!1:w.delayMove(N)),w.dragEl&&(N.preventDefault(),w.dragMove(N),w.trigger("move.uk.nestable",[w]))},W=function(N){w.dragEl&&(N.preventDefault(),w.dragStop(e?N.touches[0]:N)),l=!1,w.delayMove=!1};e?(this.element[0].addEventListener(f,S,!1),window.addEventListener(h,O,!1),window.addEventListener(b,W,!1),window.addEventListener(x,W,!1)):(this.on(f,S),u.on(h,O),u.on(b,W))},serialize:function(){var w,S=this,O=function(W,N){var j=[],q=W.children(S.options._listItemClass);return q.each(function(){for(var M=t.$(this),E={},D,B=M.children(S.options._listClass),z=0,V,ne;z<M[0].attributes.length;z++)D=M[0].attributes[z],D.name.indexOf("data-")===0&&(V=D.name.substr(5),ne=t.Utils.str2json(D.value),E[V]=ne||D.value=="false"||D.value=="0"?ne:D.value);B.length&&(E.children=O(B)),j.push(E)}),j};return w=O(S.element),w},list:function(w){var S=[],O=this,W=0,N=function(j,q,M){var E=j.children(w._listItemClass);E.each(function(D){var B=t.$(this),z=t.$.extend({parent_id:M||null,depth:q,order:D},B.data()),V=B.children(w._listClass);S.push(z),V.length&&N(V,q+1,B.data(w.idProperty||"id"))})};return w=t.$.extend({},O.options,w),N(O.element,W),S},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null;for(var w=0;w<s.length;w++)this.checkEmptyList(s[w]);s=[]},toggleItem:function(w){this[w.hasClass(this.options.collapsedClass)?"expandItem":"collapseItem"](w)},expandItem:function(w){w.removeClass(this.options.collapsedClass)},collapseItem:function(w){var S=w.children(this.options._listClass);S.length&&w.addClass(this.options.collapsedClass)},expandAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.expandItem(t.$(this))})},collapseAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.collapseItem(t.$(this))})},setParent:function(w){w.children(this.options._listClass).length&&w.addClass("uk-parent")},unsetParent:function(w){w.removeClass("uk-parent "+this.options.collapsedClass),w.children(this.options._listClass).remove()},dragStart:function(w){var S=this.mouse,O=t.$(w.target),W=O.closest(this.options._listItemClass),N=W.offset();this.placeEl=W,S.offsetX=w.pageX-N.left,S.offsetY=w.pageY-N.top,S.startX=S.lastX=N.left,S.startY=S.lastY=N.top,this.dragRootEl=this.element,this.dragEl=t.$("<ul></ul>").addClass(this.options.listClass+" "+this.options.dragClass).append(W.clone()),this.dragEl.css("width",W.width()),this.placeEl.addClass(this.options.placeholderClass),l=this.dragEl,this.tmpDragOnSiblings=[W[0].previousSibling,W[0].nextSibling],t.$body.append(this.dragEl),this.dragEl.css({left:N.left,top:N.top});var j,q,M=this.dragEl.find(this.options._listItemClass);for(j=0;j<M.length;j++)q=t.$(M[j]).parents(this.options._listClass+","+this.options._listBaseClass).length,q>this.dragDepth&&(this.dragDepth=q);r.addClass(this.options.movingClass)},dragStop:function(w){var S=t.$(this.placeEl),O=this.placeEl.parents(this.options._listBaseClass+":first");this.placeEl.removeClass(this.options.placeholderClass),this.dragEl.remove(),this.element[0]!==O[0]?(O.trigger("change.uk.nestable",[O.data("nestable"),S,"added"]),this.element.trigger("change.uk.nestable",[this,S,"removed"])):this.element.trigger("change.uk.nestable",[this,S,"moved"]),this.trigger("stop.uk.nestable",[this,S]),this.reset(),r.removeClass(this.options.movingClass)},dragMove:function(w){var S,O,W,N,j,q=this.options,M=this.mouse,E=this.dragRootEl?this.dragRootEl.data("nestable").options.maxDepth:q.maxDepth;this.dragEl.css({left:w.pageX-M.offsetX,top:w.pageY-M.offsetY}),M.lastX=M.nowX,M.lastY=M.nowY,M.nowX=w.pageX,M.nowY=w.pageY,M.distX=M.nowX-M.lastX,M.distY=M.nowY-M.lastY,M.lastDirX=M.dirX,M.lastDirY=M.dirY,M.dirX=M.distX===0?0:M.distX>0?1:-1,M.dirY=M.distY===0?0:M.distY>0?1:-1;var D=Math.abs(M.distX)>Math.abs(M.distY)?1:0;if(!M.moving){M.dirAx=D,M.moving=!0;return}if(M.dirAx!==D?(M.distAxX=0,M.distAxY=0):(M.distAxX+=Math.abs(M.distX),M.dirX!==0&&M.dirX!==M.lastDirX&&(M.distAxX=0),M.distAxY+=Math.abs(M.distY),M.dirY!==0&&M.dirY!==M.lastDirY&&(M.distAxY=0)),M.dirAx=D,M.dirAx&&M.distAxX>=q.threshold&&(M.distAxX=0,W=this.placeEl.prev("li"),M.distX>0&&W.length&&!W.hasClass(q.collapsedClass)&&!W.hasClass(q.noChildrenClass)&&(S=W.find(q._listClass).last(),j=this.placeEl.parents(q._listClass+","+q._listBaseClass).length,j+this.dragDepth<=E&&(S.length?(S=W.children(q._listClass).last(),S.append(this.placeEl)):(S=t.$("<ul/>").addClass(q.listClass),S.append(this.placeEl),W.append(S),this.setParent(W)))),M.distX<0&&(N=this.placeEl.next(q._listItemClass),!N.length))){var B=this.placeEl.closest([q._listBaseClass,q._listClass].join(",")),z=B.closest(q._listItemClass);z.length&&(z.after(this.placeEl),B.children().length||this.unsetParent(z))}var V=!1,ne=w.pageX-(window.pageXOffset||document.scrollLeft||0),ue=w.pageY-(window.pageYOffset||document.documentElement.scrollTop);if(this.pointEl=t.$(document.elementFromPoint(ne,ue)),q.handleClass&&this.pointEl.hasClass(q.handleClass))this.pointEl=this.pointEl.closest(q._listItemClass);else{var de=this.pointEl.closest(q._listItemClass);de.length&&(this.pointEl=de)}if(!this.placeEl.find(this.pointEl).length){if(this.pointEl.data("nestable")&&!this.pointEl.children().length)V=!0,this.checkEmptyList(this.pointEl);else if(!this.pointEl.length||!this.pointEl.hasClass(q.listItemClass))return;var ge=this.element,fe=this.pointEl.closest(this.options._listBaseClass),De=ge[0]!=fe[0];if(!M.dirAx||De||V){if(De&&q.group!==fe.data("nestable-group")||(s.push(ge),j=this.dragDepth-1+this.pointEl.parents(q._listClass+","+q._listBaseClass).length,j>E))return;var ve=w.pageY<this.pointEl.offset().top+this.pointEl.height()/2;O=this.placeEl.parent(),V?this.pointEl.append(this.placeEl):ve?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),O.children().length||O.data("nestable")||this.unsetParent(O.parent()),this.checkEmptyList(this.dragRootEl),this.checkEmptyList(ge),De&&(this.dragRootEl=fe,this.hasNewRoot=this.element[0]!==this.dragRootEl[0])}}},checkEmptyList:function(w){w=w?t.$(w):this.element,this.options.emptyClass&&w[w.children().length?"removeClass":"addClass"](this.options.emptyClass)}}),t.nestable});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window||"MSGesture"in window||window.DocumentTouch&&document instanceof DocumentTouch,r,s,u,l,f,h,b,x,w,S=e?"MSGesture"in window?"pointerdown":"touchstart":"mousedown",O=e?"MSGesture"in window?"pointermove":"touchmove":"mousemove",W=e?"MSGesture"in window?"pointerup":"touchend":"mouseup";function N(E){E=t.$(E);do{if(E.data("sortable"))return E;E=t.$(E).parent()}while(E.length);return E}t.component("sortable",{defaults:{animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",baseClass:"uk-sortable",noDragClass:"uk-sortable-nodrag",emptyClass:"uk-sortable-empty",dragCustomClass:"",handleClass:!1,group:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){t.ready(function(E){t.$("[data-uk-sortable]",E).each(function(){var D=t.$(this);D.data("sortable")||t.sortable(D,t.Utils.options(D.attr("data-uk-sortable")))})}),t.$html.on(O,function(E){if(f){var D=E.originalEvent.targetTouches?E.originalEvent.targetTouches[0]:E;(Math.abs(D.pageX-f.pos.x)>f.threshold||Math.abs(D.pageY-f.pos.y)>f.threshold)&&f.apply(D)}if(r){l||(l=!0,r.show(),r.$current.addClass(r.$sortable.options.placeholderClass),r.$sortable.element.children().addClass(r.$sortable.options.childClass),t.$html.addClass(r.$sortable.options.dragMovingClass));var B=r.data("mouse-offset"),z=E.originalEvent.touches&&E.originalEvent.touches[0]||E.originalEvent,V=parseInt(z.pageX,10)+B.left,ne=parseInt(z.pageY,10)+B.top;if(r.css({left:V,top:ne}),ne+r.height()/3>document.body.offsetHeight)return;ne<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(r.height()/3)):ne+r.height()/3>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(r.height()/3))}}),t.$html.on(W,function(E){if(f=!1,!s||!r){s=r=null;return}var D=N(s),B=r.$sortable,z={type:E.type};D[0]&&B.dragDrop(z,B.element),B.dragEnd(z,B.element)})},init:function(){var E=this,D=this.element[0];h=[],this.checkEmptyList(),this.element.data("sortable-group",this.options.group?this.options.group:t.Utils.uid("sortable-group"));var B=fe(function(De){if(!(De.data&&De.data.sortable)){var ve=t.$(De.target),re=ve.is("a[href]")?ve:ve.parents("a[href]");if(!ve.is(":input")){if(E.options.handleClass){var P=ve.hasClass(E.options.handleClass)?ve:ve.closest("."+E.options.handleClass,E.element);if(!P.length)return}return De.preventDefault(),re.length&&re.one("click",function(se){se.preventDefault()}).one(W,function(){b||(re.trigger("click"),e&&re.attr("href").trim()&&(location.href=re.attr("href")))}),De.data=De.data||{},De.data.sortable=D,E.dragStart(De,this)}}}),z=fe(t.Utils.debounce(function(De){return E.dragEnter(De,this)})),V=fe(function(De){var ve=E.dragenterData(this);E.dragenterData(this,ve-1),E.dragenterData(this)||(t.$(this).removeClass(E.options.overClass),E.dragenterData(this,!1))}),ne=fe(function(De){return!s||s===this||u===this?!0:(E.element.children().removeClass(E.options.overClass),u=this,E.moveElementNextTo(s,this),M(De))});function ue(){e&&w.touches&&w.touches.length?D.addEventListener(O,ne,!1):(D.addEventListener("mouseover",z,!1),D.addEventListener("mouseout",V,!1))}function de(){e&&w.touches&&w.touches.length?D.removeEventListener(O,ne,!1):(D.removeEventListener("mouseover",z,!1),D.removeEventListener("mouseout",V,!1))}this.addDragHandlers=ue,this.removeDragHandlers=de;function ge(De){s&&E.dragMove(De,E)}function fe(De){return function(ve){var re,P,se;w=ve,ve&&(re=ve.touches&&ve.touches[0]||ve,P=re.target||ve.target,e&&document.elementFromPoint&&(P=document.elementFromPoint(re.pageX-document.body.scrollLeft,re.pageY-document.body.scrollTop)),x=t.$(P)),t.$(P).hasClass("."+E.options.childClass)?De.apply(P,[ve]):P!==D&&(se=q(D,P),se&&De.apply(se,[ve]))}}window.addEventListener(O,ge,!1),D.addEventListener(S,B,!1)},dragStart:function(E,D){b=!1,l=!1;var B=this,z=t.$(E.target);if(!(!e&&E.button==2)&&!(z.is("."+B.options.noDragClass)||z.closest("."+B.options.noDragClass).length)&&!z.is(":input")){s=D,r&&r.remove();var V=t.$(s),ne=V.offset(),ue=E.touches&&E.touches[0]||E;f={pos:{x:ue.pageX,y:ue.pageY},threshold:B.options.handleClass?1:B.options.threshold,apply:function(de){r=t.$('<div class="'+[B.options.draggingClass,B.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:ne.top,left:ne.left,width:V.width(),height:V.height(),padding:V.css("padding")}).data({"mouse-offset":{left:ne.left-parseInt(ue.pageX,10),top:ne.top-parseInt(ue.pageY,10)},origin:B.element,index:V.index()}).append(V.html()).appendTo("body"),r.$current=V,r.$sortable=B,V.data({"start-list":V.parent(),"start-index":V.index(),"sortable-group":B.options.group}),B.addDragHandlers(),B.options.start(this,s),B.trigger("start.uk.sortable",[B,s,r]),b=!0,f=!1}}}},dragMove:function(E,D){x=t.$(document.elementFromPoint(E.pageX-(document.body.scrollLeft||document.scrollLeft||0),E.pageY-(document.body.scrollTop||document.documentElement.scrollTop||0)));var B=x.closest("."+this.options.baseClass),z=B.data("sortable-group"),V=t.$(s),ne=V.parent(),ue=V.data("sortable-group"),de;B[0]!==ne[0]&&ue!==void 0&&z===ue&&(B.data("sortable").addDragHandlers(),h.push(B),B.children().addClass(this.options.childClass),B.children().length>0?(de=x.closest("."+this.options.childClass),de.length?de.before(V):B.append(V)):x.append(V),t.$doc.trigger("mouseover")),this.checkEmptyList(),this.checkEmptyList(ne)},dragEnter:function(E,D){if(!s||s===D)return!0;var B=this.dragenterData(D);if(this.dragenterData(D,B+1),B===0){var z=t.$(D).parent(),V=t.$(s).data("start-list");if(z[0]!==V[0]){var ne=z.data("sortable-group"),ue=t.$(s).data("sortable-group");if((ne||ue)&&ne!=ue)return!1}t.$(D).addClass(this.options.overClass),this.moveElementNextTo(s,D)}return!1},dragEnd:function(E,D){var B=this;s&&(this.options.stop(D),this.trigger("stop.uk.sortable",[this])),s=null,u=null,h.push(this.element),h.forEach(function(z,V){t.$(z).children().each(function(){this.nodeType===1&&(t.$(this).removeClass(B.options.overClass).removeClass(B.options.placeholderClass).removeClass(B.options.childClass),B.dragenterData(this,!1))})}),h=[],t.$html.removeClass(this.options.dragMovingClass),this.removeDragHandlers(),r&&(r.remove(),r=null)},dragDrop:function(E,D){E.type==="drop"&&(E.stopPropagation&&E.stopPropagation(),E.preventDefault&&E.preventDefault()),this.triggerChangeEvents()},triggerChangeEvents:function(){if(s){var E=t.$(s),D=r.data("origin"),B=E.closest("."+this.options.baseClass),z=[],V=t.$(s);D[0]===B[0]&&r.data("index")!=E.index()?z.push({sortable:this,mode:"moved"}):D[0]!=B[0]&&z.push({sortable:t.$(B).data("sortable"),mode:"added"},{sortable:t.$(D).data("sortable"),mode:"removed"}),z.forEach(function(ne,ue){ne.sortable&&ne.sortable.element.trigger("change.uk.sortable",[ne.sortable,V,ne.mode])})}},dragenterData:function(E,D){if(E=t.$(E),arguments.length==1)return parseInt(E.data("child-dragenter"),10)||0;D?E.data("child-dragenter",Math.max(0,D)):E.removeData("child-dragenter")},moveElementNextTo:function(E,D){var B=this,z=t.$(E).parent().css("min-height",""),V=j(E,D)?D:D.nextSibling,ne=z.children(),ue=ne.length;if(!B.options.animation){D.parentNode.insertBefore(E,V),t.Utils.checkDisplay(B.element.parent());return}z.css("min-height",z.height()),ne.stop().each(function(){var de=t.$(this),ge=de.position();ge.width=de.width(),de.data("offset-before",ge)}),D.parentNode.insertBefore(E,V),t.Utils.checkDisplay(B.element.parent()),ne=z.children().each(function(){var de=t.$(this);de.data("offset-after",de.position())}).each(function(){var de=t.$(this),ge=de.data("offset-before");de.css({position:"absolute",top:ge.top,left:ge.left,minWidth:ge.width})}),ne.each(function(){var de=t.$(this);de.data("offset-before");var ge=de.data("offset-after");de.css("pointer-events","none").width(),setTimeout(function(){de.animate({top:ge.top,left:ge.left},B.options.animation,function(){de.css({position:"",top:"",left:"",minWidth:"","pointer-events":""}).removeClass(B.options.overClass).removeData("child-dragenter"),ue--,ue||(z.css("min-height",""),t.Utils.checkDisplay(B.element.parent()))})},0)})},serialize:function(){var E=[],D,B;return this.element.children().each(function(z,V){D={};for(var ne=0,ue,de;ne<V.attributes.length;ne++)B=V.attributes[ne],B.name.indexOf("data-")===0&&(ue=B.name.substr(5),de=t.Utils.str2json(B.value),D[ue]=de||B.value=="false"||B.value=="0"?de:B.value);E.push(D)}),E},checkEmptyList:function(E){E=E?t.$(E):this.element,this.options.emptyClass&&E[E.children().length?"removeClass":"addClass"](this.options.emptyClass)}});function j(E,D){var B=E.parentNode;if(D.parentNode!=B)return!1;for(var z=E.previousSibling;z&&z.nodeType!==9;){if(z===D)return!0;z=z.previousSibling}return!1}function q(E,D){var B=D;if(B==E)return null;for(;B;){if(B.parentNode===E)return B;if(B=B.parentNode,!B||!B.ownerDocument||B.nodeType===11)break}return null}function M(E){E.stopPropagation&&E.stopPropagation(),E.preventDefault&&E.preventDefault(),E.returnValue=!1}return t.sortable});function Dw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jd={exports:{}};/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */var Bm;function Lw(){return Bm||(Bm=1,function(t){(function(e){window.UIkit2&&e(UIkit2)})(function(e){var r=!1,s,u;e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(l,f){var h="",b;if(h+='<div class="uk-datepicker-nav">',h+='<a href="" class="uk-datepicker-previous"></a>',h+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var x=new Date().getFullYear(),w=[],S,O,W,N;for(b=0;b<f.i18n.months.length;b++)b==l.month?w.push('<option value="'+b+'" selected>'+f.i18n.months[b]+"</option>"):w.push('<option value="'+b+'">'+f.i18n.months[b]+"</option>");for(S='<span class="uk-form-select">'+f.i18n.months[l.month]+'<select class="update-picker-month">'+w.join("")+"</select></span>",w=[],W=l.minDate?l.minDate.year():x-50,N=l.maxDate?l.maxDate.year():x+20,b=W;b<=N;b++)b==l.year?w.push('<option value="'+b+'" selected>'+b+"</option>"):w.push('<option value="'+b+'">'+b+"</option>");O='<span class="uk-form-select">'+l.year+'<select class="update-picker-year">'+w.join("")+"</select></span>",h+='<div class="uk-datepicker-heading">'+S+" "+O+"</div>"}else h+='<div class="uk-datepicker-heading">'+f.i18n.months[l.month]+" "+l.year+"</div>";for(h+="</div>",h+='<table class="uk-datepicker-table">',h+="<thead>",b=0;b<l.weekdays.length;b++)l.weekdays[b]&&(h+="<th>"+l.weekdays[b]+"</th>");for(h+="</thead>",h+="<tbody>",b=0;b<l.days.length;b++)if(l.days[b]&&l.days[b].length){h+="<tr>";for(var j=0;j<l.days[b].length;j++)if(l.days[b][j]){var q=l.days[b][j],M=[];q.inmonth||M.push("uk-datepicker-table-muted"),q.selected&&M.push("uk-active"),q.disabled&&M.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),h+='<td><a href="" class="'+M.join(" ")+'" data-date="'+q.day.format()+'">'+q.day.format("D")+"</a></td>"}h+="</tr>"}return h+="</tbody>",h+="</table>",h}},boot:function(){e.$win.on("resize orientationchange",function(){r&&r.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(l){var f=e.$(this);f.data("datepicker")||(l.preventDefault(),e.datepicker(f,e.Utils.options(f.attr("data-uk-datepicker"))),f.trigger("focus"))}),e.$html.on("click focus","*",function(l){var f=e.$(l.target);r&&f[0]!=s[0]&&!f.data("datepicker")&&!f.parents(".uk-datepicker:first").length&&r.hide()})},init:function(){if(!(e.support.touch&&this.element.attr("type")=="date"&&!this.options.mobile)){var l=this;this.current=this.element.val()?u(this.element.val(),this.options.format):u(),this.on("click focus",function(){r!==l&&l.pick(this.value?this.value:"")}).on("change",function(){l.element.val()&&!u(l.element.val(),l.options.format).isValid()&&l.element.val(u().format(l.options.format))}),s||(s=e.$('<div class="uk-dropdown uk-datepicker"></div>'),s.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(f){f.stopPropagation(),f.preventDefault();var h=e.$(this);if(h.hasClass("uk-datepicker-date-disabled"))return!1;h.is("[data-date]")?(r.current=u(h.data("date")),r.element.val(r.current.isValid()?r.current.format(r.options.format):null).trigger("change"),r.hide()):r.add(h.hasClass("uk-datepicker-next")?1:-1,"months")}),s.on("change",".update-picker-month, .update-picker-year",function(){var f=e.$(this);r[f.is(".update-picker-year")?"setYear":"setMonth"](Number(f.val()))}),s.appendTo(this.options.container))}},pick:function(l){var f=this.element.offset(),h={left:f.left,right:""};this.current=isNaN(l)?u(l,this.options.format):u(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),e.langdirection=="right"&&(h.right=window.innerWidth-(h.left+this.element.outerWidth()),h.left="");var b=f.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-s.outerHeight(),x=f.top+this.element.outerHeight()+this.options.offsettop;h.top=x,(this.options.pos=="top"||this.options.pos=="auto"&&window.innerHeight-x-s.outerHeight()<0&&b>=0)&&(h.top=b),s.css(h).show(),this.trigger("show.uk.datepicker"),r=this},add:function(l,f){this.current.add(l,f),this.update()},setMonth:function(l){this.current.month(l),this.update()},setYear:function(l){this.current.year(l),this.update()},update:function(){var l=this.getRows(this.current.year(),this.current.month()),f=this.options.template(l,this.options);s.html(f),this.trigger("update.uk.datepicker")},getRows:function(l,f){var h=this.options,b=u().format("YYYY-MM-DD"),x=[31,l%4===0&&l%100!==0||l%400===0?29:28,31,30,31,30,31,31,30,31,30,31][f],w=new Date(l,f,1,12).getDay(),S={month:f,year:l,weekdays:[],days:[],maxDate:!1,minDate:!1},O=[];h.maxDate!==!1&&(S.maxDate=isNaN(h.maxDate)?u(h.maxDate,h.format).startOf("day").hours(12):u().add(h.maxDate,"days").startOf("day").hours(12)),h.minDate!==!1&&(S.minDate=isNaN(h.minDate)?u(h.minDate,h.format).startOf("day").hours(12):u().add(h.minDate-1,"days").startOf("day").hours(12)),S.weekdays=function(){for(var V=0,ne=[];V<7;V++){for(var ue=V+(h.weekstart||0);ue>=7;)ue-=7;ne.push(h.i18n.weekdays[ue])}return ne}(),h.weekstart&&h.weekstart>0&&(w-=h.weekstart,w<0&&(w+=7));for(var W=x+w,N=W;N>7;)N-=7;W+=7-N;for(var j,q,M,E,D,B=0,z=0;B<W;B++)j=new Date(l,f,1+(B-w),12),q=S.minDate&&S.minDate>j||S.maxDate&&j>S.maxDate,D=!(B<w||B>=x+w),j=u(j),M=this.initdate==j.format("YYYY-MM-DD"),E=b==j.format("YYYY-MM-DD"),O.push({selected:M,today:E,disabled:q,day:j,inmonth:D}),++z===7&&(S.days.push(O),O=[],z=0);return S},hide:function(){r&&r===this&&(s.hide(),r=!1,this.trigger("hide.uk.datepicker"))}});//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return u=(function(l){var f,h="2.8.3",b=Math.round,x=Object.prototype.hasOwnProperty,w,S=0,O=1,W=2,N=3,j=4,q=5,M=6,E={},D=[],B=t.exports,z=/^\/?Date\((\-?\d+)/i,V=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ne=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ue=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,de=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ge=/\d\d?/,fe=/\d{1,3}/,De=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,re=/\d+/,P=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,se=/Z|[\+\-]\d\d:?\d\d/gi,ye=/T/i,Ee=/[\+\-]?\d+(\.\d{1,3})?/,it=/\d{1,2}/,Be=/\d/,Me=/\d\d/,te=/\d{3}/,Y=/\d{4}/,Le=/[+-]?\d{6}/,Re=/[+-]?\d+/,X=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we="YYYY-MM-DDTHH:mm:ssZ",Te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ze=/([\+\-]|\d\d)/gi,Xe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ut={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Et={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},wt={},St={s:45,m:45,h:22,d:26,M:11},_t="DDD w W M D d".split(" "),Mt="M D H h m s w W".split(" "),jt={M:function(){return this.month()+1},MMM:function(_){return this.localeData().monthsShort(this,_)},MMMM:function(_){return this.localeData().months(this,_)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(_){return this.localeData().weekdaysMin(this,_)},ddd:function(_){return this.localeData().weekdaysShort(this,_)},dddd:function(_){return this.localeData().weekdays(this,_)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return xt(this.year()%100,2)},YYYY:function(){return xt(this.year(),4)},YYYYY:function(){return xt(this.year(),5)},YYYYYY:function(){var _=this.year(),T=_>=0?"+":"-";return T+xt(Math.abs(_),6)},gg:function(){return xt(this.weekYear()%100,2)},gggg:function(){return xt(this.weekYear(),4)},ggggg:function(){return xt(this.weekYear(),5)},GG:function(){return xt(this.isoWeekYear()%100,2)},GGGG:function(){return xt(this.isoWeekYear(),4)},GGGGG:function(){return xt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return si(this.milliseconds()/100)},SS:function(){return xt(si(this.milliseconds()/10),2)},SSS:function(){return xt(this.milliseconds(),3)},SSSS:function(){return xt(this.milliseconds(),3)},Z:function(){var _=-this.zone(),T="+";return _<0&&(_=-_,T="-"),T+xt(si(_/60),2)+":"+xt(si(_)%60,2)},ZZ:function(){var _=-this.zone(),T="+";return _<0&&(_=-_,T="-"),T+xt(si(_/60),2)+xt(si(_)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Kt={},Z=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function le(_,T,R){switch(arguments.length){case 2:return _??T;case 3:return _??T??R;default:throw new Error("Implement me")}}function Q(_,T){return x.call(_,T)}function he(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function pe(_){f.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+_)}function Ie(_,T){var R=!0;return Yt(function(){return R&&(pe(_),R=!1),T.apply(this,arguments)},T)}function ot(_,T){Kt[_]||(pe(T),Kt[_]=!0)}function Qe(_,T){return function(R){return xt(_.call(this,R),T)}}function mt(_,T){return function(R){return this.localeData().ordinal(_.call(this,R),T)}}for(;_t.length;)w=_t.pop(),jt[w+"o"]=mt(jt[w],w);for(;Mt.length;)w=Mt.pop(),jt[w+w]=Qe(jt[w],2);jt.DDDD=Qe(jt.DDD,3);function Pt(){}function ct(_,T){T!==!1&&Hi(_),Qt(this,_),this._d=new Date(+_._d)}function Ht(_){var T=wi(_),R=T.year||0,ie=T.quarter||0,ae=T.month||0,_e=T.week||0,Oe=T.day||0,Je=T.hour||0,et=T.minute||0,Ve=T.second||0,Ke=T.millisecond||0;this._milliseconds=+Ke+Ve*1e3+et*6e4+Je*36e5,this._days=+Oe+_e*7,this._months=+ae+ie*3+R*12,this._data={},this._locale=f.localeData(),this._bubble()}function Yt(_,T){for(var R in T)Q(T,R)&&(_[R]=T[R]);return Q(T,"toString")&&(_.toString=T.toString),Q(T,"valueOf")&&(_.valueOf=T.valueOf),_}function Qt(_,T){var R,ie,ae;if(typeof T._isAMomentObject<"u"&&(_._isAMomentObject=T._isAMomentObject),typeof T._i<"u"&&(_._i=T._i),typeof T._f<"u"&&(_._f=T._f),typeof T._l<"u"&&(_._l=T._l),typeof T._strict<"u"&&(_._strict=T._strict),typeof T._tzm<"u"&&(_._tzm=T._tzm),typeof T._isUTC<"u"&&(_._isUTC=T._isUTC),typeof T._offset<"u"&&(_._offset=T._offset),typeof T._pf<"u"&&(_._pf=T._pf),typeof T._locale<"u"&&(_._locale=T._locale),D.length>0)for(R in D)ie=D[R],ae=T[ie],typeof ae<"u"&&(_[ie]=ae);return _}function Vt(_){return _<0?Math.ceil(_):Math.floor(_)}function xt(_,T,R){for(var ie=""+Math.abs(_),ae=_>=0;ie.length<T;)ie="0"+ie;return(ae?"":"-")+ie}function qn(_,T){var R={milliseconds:0,months:0};return R.months=T.month()-_.month()+(T.year()-_.year())*12,_.clone().add(R.months,"M").isAfter(T)&&--R.months,R.milliseconds=+T-+_.clone().add(R.months,"M"),R}function Ut(_,T){var R;return T=mr(T,_),_.isBefore(T)?R=qn(_,T):(R=qn(T,_),R.milliseconds=-R.milliseconds,R.months=-R.months),R}function dr(_,T){return function(R,ie){var ae,_e;return ie!==null&&!isNaN(+ie)&&(ot(T,"moment()."+T+"(period, number) is deprecated. Please use moment()."+T+"(number, period)."),_e=R,R=ie,ie=_e),R=typeof R=="string"?+R:R,ae=f.duration(R,ie),Rt(this,ae,_),this}}function Rt(_,T,R,ie){var ae=T._milliseconds,_e=T._days,Oe=T._months;ie=ie??!0,ae&&_._d.setTime(+_._d+ae*R),_e&&Nt(_,"Date",Ui(_,"Date")+_e*R),Oe&&ni(_,Ui(_,"Month")+Oe*R),ie&&f.updateOffset(_,_e||Oe)}function sn(_){return Object.prototype.toString.call(_)==="[object Array]"}function yi(_){return Object.prototype.toString.call(_)==="[object Date]"||_ instanceof Date}function Ri(_,T,R){var ie=Math.min(_.length,T.length),ae=Math.abs(_.length-T.length),_e=0,Oe;for(Oe=0;Oe<ie;Oe++)(R&&_[Oe]!==T[Oe]||!R&&si(_[Oe])!==si(T[Oe]))&&_e++;return _e+ae}function pi(_){if(_){var T=_.toLowerCase().replace(/(.)s$/,"$1");_=ut[_]||Et[T]||T}return _}function wi(_){var T={},R,ie;for(ie in _)Q(_,ie)&&(R=pi(ie),R&&(T[R]=_[ie]));return T}function ui(_){var T,R;if(_.indexOf("week")===0)T=7,R="day";else if(_.indexOf("month")===0)T=12,R="month";else return;f[_]=function(ie,ae){var _e,Oe,Je=f._locale[_],et=[];if(typeof ie=="number"&&(ae=ie,ie=l),Oe=function(Ve){var Ke=f().utc().set(R,Ve);return Je.call(f._locale,Ke,ie||"")},ae!=null)return Oe(ae);for(_e=0;_e<T;_e++)et.push(Oe(_e));return et}}function si(_){var T=+_,R=0;return T!==0&&isFinite(T)&&(T>=0?R=Math.floor(T):R=Math.ceil(T)),R}function Bi(_,T){return new Date(Date.UTC(_,T+1,0)).getUTCDate()}function Qr(_,T,R){return He(f([_,11,31+T-R]),T,R).week}function $i(_){return Or(_)?366:365}function Or(_){return _%4===0&&_%100!==0||_%400===0}function Hi(_){var T;_._a&&_._pf.overflow===-2&&(T=_._a[O]<0||_._a[O]>11?O:_._a[W]<1||_._a[W]>Bi(_._a[S],_._a[O])?W:_._a[N]<0||_._a[N]>23?N:_._a[j]<0||_._a[j]>59?j:_._a[q]<0||_._a[q]>59?q:_._a[M]<0||_._a[M]>999?M:-1,_._pf._overflowDayOfYear&&(T<S||T>W)&&(T=W),_._pf.overflow=T)}function Ki(_){return _._isValid==null&&(_._isValid=!isNaN(_._d.getTime())&&_._pf.overflow<0&&!_._pf.empty&&!_._pf.invalidMonth&&!_._pf.nullInput&&!_._pf.invalidFormat&&!_._pf.userInvalidated,_._strict&&(_._isValid=_._isValid&&_._pf.charsLeftOver===0&&_._pf.unusedTokens.length===0)),_._isValid}function pr(_){return _&&_.toLowerCase().replace("_","-")}function kn(_){for(var T=0,R,ie,ae,_e;T<_.length;){for(_e=pr(_[T]).split("-"),R=_e.length,ie=pr(_[T+1]),ie=ie?ie.split("-"):null;R>0;){if(ae=Ot(_e.slice(0,R).join("-")),ae)return ae;if(ie&&ie.length>=R&&Ri(_e,ie,!0)>=R-1)break;R--}T++}return null}function Ot(_){var T=null;if(!E[_]&&B)try{T=f.locale(),Dw("./locale/"+_),f.locale(T)}catch{}return E[_]}function mr(_,T){return T._isUTC?f(_).zone(T._offset||0):f(_).local()}Yt(Pt.prototype,{set:function(_){var T,R;for(R in _)T=_[R],typeof T=="function"?this[R]=T:this["_"+R]=T},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(_){return this._months[_.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(_){return this._monthsShort[_.month()]},monthsParse:function(_){var T,R,ie;for(this._monthsParse||(this._monthsParse=[]),T=0;T<12;T++)if(this._monthsParse[T]||(R=f.utc([2e3,T]),ie="^"+this.months(R,"")+"|^"+this.monthsShort(R,""),this._monthsParse[T]=new RegExp(ie.replace(".",""),"i")),this._monthsParse[T].test(_))return T},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(_){return this._weekdays[_.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(_){return this._weekdaysShort[_.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(_){return this._weekdaysMin[_.day()]},weekdaysParse:function(_){var T,R,ie;for(this._weekdaysParse||(this._weekdaysParse=[]),T=0;T<7;T++)if(this._weekdaysParse[T]||(R=f([2e3,1]).day(T),ie="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,""),this._weekdaysParse[T]=new RegExp(ie.replace(".",""),"i")),this._weekdaysParse[T].test(_))return T},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(_){var T=this._longDateFormat[_];return!T&&this._longDateFormat[_.toUpperCase()]&&(T=this._longDateFormat[_.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(R){return R.slice(1)}),this._longDateFormat[_]=T),T},isPM:function(_){return(_+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(_,T,R){return _>11?R?"pm":"PM":R?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(_,T){var R=this._calendar[_];return typeof R=="function"?R.apply(T):R},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(_,T,R,ie){var ae=this._relativeTime[R];return typeof ae=="function"?ae(_,T,R,ie):ae.replace(/%d/i,_)},pastFuture:function(_,T){var R=this._relativeTime[_>0?"future":"past"];return typeof R=="function"?R(T):R.replace(/%s/i,T)},ordinal:function(_){return this._ordinal.replace("%d",_)},_ordinal:"%d",preparse:function(_){return _},postformat:function(_){return _},week:function(_){return He(_,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function jn(_){return _.match(/\[[\s\S]/)?_.replace(/^\[|\]$/g,""):_.replace(/\\/g,"")}function Un(_){var T=_.match(ue),R,ie;for(R=0,ie=T.length;R<ie;R++)jt[T[R]]?T[R]=jt[T[R]]:T[R]=jn(T[R]);return function(ae){var _e="";for(R=0;R<ie;R++)_e+=T[R]instanceof Function?T[R].call(ae,_):T[R];return _e}}function tr(_,T){return _.isValid()?(T=Wr(T,_.localeData()),wt[T]||(wt[T]=Un(T)),wt[T](_)):_.localeData().invalidDate()}function Wr(_,T){var R=5;function ie(ae){return T.longDateFormat(ae)||ae}for(de.lastIndex=0;R>=0&&de.test(_);)_=_.replace(de,ie),de.lastIndex=0,R-=1;return _}function Gi(_,T){var R,ie=T._strict;switch(_){case"Q":return Be;case"DDDD":return te;case"YYYY":case"GGGG":case"gggg":return ie?Y:De;case"Y":case"G":case"g":return Re;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return ie?Le:ve;case"S":if(ie)return Be;case"SS":if(ie)return Me;case"SSS":if(ie)return te;case"DDD":return fe;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return P;case"a":case"A":return T._locale._meridiemParse;case"X":return Ee;case"Z":case"ZZ":return se;case"T":return ye;case"SSSS":return re;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return ie?Me:ge;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ge;case"Do":return it;default:return R=new RegExp(Fr(En(_.replace("\\","")))),R}}function Qi(_){_=_||"";var T=_.match(se)||[],R=T[T.length-1]||[],ie=(R+"").match(Ze)||["-",0,0],ae=+(ie[1]*60)+si(ie[2]);return ie[0]==="+"?-ae:ae}function ir(_,T,R){var ie,ae=R._a;switch(_){case"Q":T!=null&&(ae[O]=(si(T)-1)*3);break;case"M":case"MM":T!=null&&(ae[O]=si(T)-1);break;case"MMM":case"MMMM":ie=R._locale.monthsParse(T),ie!=null?ae[O]=ie:R._pf.invalidMonth=T;break;case"D":case"DD":T!=null&&(ae[W]=si(T));break;case"Do":T!=null&&(ae[W]=si(parseInt(T,10)));break;case"DDD":case"DDDD":T!=null&&(R._dayOfYear=si(T));break;case"YY":ae[S]=f.parseTwoDigitYear(T);break;case"YYYY":case"YYYYY":case"YYYYYY":ae[S]=si(T);break;case"a":case"A":R._isPm=R._locale.isPM(T);break;case"H":case"HH":case"h":case"hh":ae[N]=si(T);break;case"m":case"mm":ae[j]=si(T);break;case"s":case"ss":ae[q]=si(T);break;case"S":case"SS":case"SSS":case"SSSS":ae[M]=si(("0."+T)*1e3);break;case"X":R._d=new Date(parseFloat(T)*1e3);break;case"Z":case"ZZ":R._useUTC=!0,R._tzm=Qi(T);break;case"dd":case"ddd":case"dddd":ie=R._locale.weekdaysParse(T),ie!=null?(R._w=R._w||{},R._w.d=ie):R._pf.invalidWeekday=T;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":_=_.substr(0,1);case"gggg":case"GGGG":case"GGGGG":_=_.substr(0,2),T&&(R._w=R._w||{},R._w[_]=si(T));break;case"gg":case"GG":R._w=R._w||{},R._w[_]=f.parseTwoDigitYear(T)}}function nr(_){var T,R,ie,ae,_e,Oe,Je;T=_._w,T.GG!=null||T.W!=null||T.E!=null?(_e=1,Oe=4,R=le(T.GG,_._a[S],He(f(),1,4).year),ie=le(T.W,1),ae=le(T.E,1)):(_e=_._locale._week.dow,Oe=_._locale._week.doy,R=le(T.gg,_._a[S],He(f(),_e,Oe).year),ie=le(T.w,1),T.d!=null?(ae=T.d,ae<_e&&++ie):T.e!=null?ae=T.e+_e:ae=_e),Je=nt(R,ie,ae,Oe,_e),_._a[S]=Je.year,_._dayOfYear=Je.dayOfYear}function Cn(_){var T,R,ie=[],ae,_e;if(!_._d){for(ae=eo(_),_._w&&_._a[W]==null&&_._a[O]==null&&nr(_),_._dayOfYear&&(_e=le(_._a[S],ae[S]),_._dayOfYear>$i(_e)&&(_._pf._overflowDayOfYear=!0),R=rr(_e,0,_._dayOfYear),_._a[O]=R.getUTCMonth(),_._a[W]=R.getUTCDate()),T=0;T<3&&_._a[T]==null;++T)_._a[T]=ie[T]=ae[T];for(;T<7;T++)_._a[T]=ie[T]=_._a[T]==null?T===2?1:0:_._a[T];_._d=(_._useUTC?rr:Gn).apply(null,ie),_._tzm!=null&&_._d.setUTCMinutes(_._d.getUTCMinutes()+_._tzm)}}function Jr(_){var T;_._d||(T=wi(_._i),_._a=[T.year,T.month,T.day,T.hour,T.minute,T.second,T.millisecond],Cn(_))}function eo(_){var T=new Date;return _._useUTC?[T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()]:[T.getFullYear(),T.getMonth(),T.getDate()]}function wr(_){if(_._f===f.ISO_8601){co(_);return}_._a=[],_._pf.empty=!0;var T=""+_._i,R,ie,ae,_e,Oe,Je=T.length,et=0;for(ae=Wr(_._f,_._locale).match(ue)||[],R=0;R<ae.length;R++)_e=ae[R],ie=(T.match(Gi(_e,_))||[])[0],ie&&(Oe=T.substr(0,T.indexOf(ie)),Oe.length>0&&_._pf.unusedInput.push(Oe),T=T.slice(T.indexOf(ie)+ie.length),et+=ie.length),jt[_e]?(ie?_._pf.empty=!1:_._pf.unusedTokens.push(_e),ir(_e,ie,_)):_._strict&&!ie&&_._pf.unusedTokens.push(_e);_._pf.charsLeftOver=Je-et,T.length>0&&_._pf.unusedInput.push(T),_._isPm&&_._a[N]<12&&(_._a[N]+=12),_._isPm===!1&&_._a[N]===12&&(_._a[N]=0),Cn(_),Hi(_)}function En(_){return _.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(T,R,ie,ae,_e){return R||ie||ae||_e})}function Fr(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bn(_){var T,R,ie,ae,_e;if(_._f.length===0){_._pf.invalidFormat=!0,_._d=new Date(NaN);return}for(ae=0;ae<_._f.length;ae++)_e=0,T=Qt({},_),_._useUTC!=null&&(T._useUTC=_._useUTC),T._pf=he(),T._f=_._f[ae],wr(T),Ki(T)&&(_e+=T._pf.charsLeftOver,_e+=T._pf.unusedTokens.length*10,T._pf.score=_e,(ie==null||_e<ie)&&(ie=_e,R=T));Yt(_,R||T)}function co(_){var T,R,ie=_._i,ae=X.exec(ie);if(ae){for(_._pf.iso=!0,T=0,R=Te.length;T<R;T++)if(Te[T][1].exec(ie)){_._f=Te[T][0]+(ae[6]||" ");break}for(T=0,R=qe.length;T<R;T++)if(qe[T][1].exec(ie)){_._f+=qe[T][0];break}ie.match(se)&&(_._f+="Z"),wr(_)}else _._isValid=!1}function Yn(_){co(_),_._isValid===!1&&(delete _._isValid,f.createFromInputFallback(_))}function ji(_,T){var R=[],ie;for(ie=0;ie<_.length;++ie)R.push(T(_[ie],ie));return R}function Lt(_){var T=_._i,R;T===l?_._d=new Date:yi(T)?_._d=new Date(+T):(R=z.exec(T))!==null?_._d=new Date(+R[1]):typeof T=="string"?Yn(_):sn(T)?(_._a=ji(T.slice(0),function(ie){return parseInt(ie,10)}),Cn(_)):typeof T=="object"?Jr(_):typeof T=="number"?_._d=new Date(T):f.createFromInputFallback(_)}function Gn(_,T,R,ie,ae,_e,Oe){var Je=new Date(_,T,R,ie,ae,_e,Oe);return _<1970&&Je.setFullYear(_),Je}function rr(_){var T=new Date(Date.UTC.apply(null,arguments));return _<1970&&T.setUTCFullYear(_),T}function Rn(_,T){if(typeof _=="string"){if(!isNaN(_))_=parseInt(_,10);else if(_=T.weekdaysParse(_),typeof _!="number")return null}return _}function J(_,T,R,ie,ae){return ae.relativeTime(T||1,!!R,_,ie)}function xe(_,T,R){var ie=f.duration(_).abs(),ae=b(ie.as("s")),_e=b(ie.as("m")),Oe=b(ie.as("h")),Je=b(ie.as("d")),et=b(ie.as("M")),Ve=b(ie.as("y")),Ke=ae<St.s&&["s",ae]||_e===1&&["m"]||_e<St.m&&["mm",_e]||Oe===1&&["h"]||Oe<St.h&&["hh",Oe]||Je===1&&["d"]||Je<St.d&&["dd",Je]||et===1&&["M"]||et<St.M&&["MM",et]||Ve===1&&["y"]||["yy",Ve];return Ke[2]=T,Ke[3]=+_>0,Ke[4]=R,J.apply({},Ke)}function He(_,T,R){var ie=R-T,ae=R-_.day(),_e;return ae>ie&&(ae-=7),ae<ie-7&&(ae+=7),_e=f(_).add(ae,"d"),{week:Math.ceil(_e.dayOfYear()/7),year:_e.year()}}function nt(_,T,R,ie,ae){var _e=rr(_,0,1).getUTCDay(),Oe,Je;return _e=_e===0?7:_e,R=R??ae,Oe=ae-_e+(_e>ie?7:0)-(_e<ae?7:0),Je=7*(T-1)+(R-ae)+Oe+1,{year:Je>0?_:_-1,dayOfYear:Je>0?Je:$i(_-1)+Je}}function je(_){var T=_._i,R=_._f;return _._locale=_._locale||f.localeData(_._l),T===null||R===l&&T===""?f.invalid({nullInput:!0}):(typeof T=="string"&&(_._i=T=_._locale.preparse(T)),f.isMoment(T)?new ct(T,!0):(R?sn(R)?bn(_):wr(_):Lt(_),new ct(_)))}f=function(_,T,R,ie){var ae;return typeof R=="boolean"&&(ie=R,R=l),ae={},ae._isAMomentObject=!0,ae._i=_,ae._f=T,ae._l=R,ae._strict=ie,ae._isUTC=!1,ae._pf=he(),je(ae)},f.suppressDeprecationWarnings=!1,f.createFromInputFallback=Ie("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(_){_._d=new Date(_._i)});function pt(_,T){var R,ie;if(T.length===1&&sn(T[0])&&(T=T[0]),!T.length)return f();for(R=T[0],ie=1;ie<T.length;++ie)T[ie][_](R)&&(R=T[ie]);return R}for(f.min=function(){var _=[].slice.call(arguments,0);return pt("isBefore",_)},f.max=function(){var _=[].slice.call(arguments,0);return pt("isAfter",_)},f.utc=function(_,T,R,ie){var ae;return typeof R=="boolean"&&(ie=R,R=l),ae={},ae._isAMomentObject=!0,ae._useUTC=!0,ae._isUTC=!0,ae._l=R,ae._i=_,ae._f=T,ae._strict=ie,ae._pf=he(),je(ae).utc()},f.unix=function(_){return f(_*1e3)},f.duration=function(_,T){var R=_,ie=null,ae,_e,Oe,Je;return f.isDuration(_)?R={ms:_._milliseconds,d:_._days,M:_._months}:typeof _=="number"?(R={},T?R[T]=_:R.milliseconds=_):(ie=V.exec(_))?(ae=ie[1]==="-"?-1:1,R={y:0,d:si(ie[W])*ae,h:si(ie[N])*ae,m:si(ie[j])*ae,s:si(ie[q])*ae,ms:si(ie[M])*ae}):(ie=ne.exec(_))?(ae=ie[1]==="-"?-1:1,Oe=function(et){var Ve=et&&parseFloat(et.replace(",","."));return(isNaN(Ve)?0:Ve)*ae},R={y:Oe(ie[2]),M:Oe(ie[3]),d:Oe(ie[4]),h:Oe(ie[5]),m:Oe(ie[6]),s:Oe(ie[7]),w:Oe(ie[8])}):typeof R=="object"&&("from"in R||"to"in R)&&(Je=Ut(f(R.from),f(R.to)),R={},R.ms=Je.milliseconds,R.M=Je.months),_e=new Ht(R),f.isDuration(_)&&Q(_,"_locale")&&(_e._locale=_._locale),_e},f.version=h,f.defaultFormat=we,f.ISO_8601=function(){},f.momentProperties=D,f.updateOffset=function(){},f.relativeTimeThreshold=function(_,T){return St[_]===l?!1:T===l?St[_]:(St[_]=T,!0)},f.lang=Ie("moment.lang is deprecated. Use moment.locale instead.",function(_,T){return f.locale(_,T)}),f.locale=function(_,T){var R;return _&&(typeof T<"u"?R=f.defineLocale(_,T):R=f.localeData(_),R&&(f.duration._locale=f._locale=R)),f._locale._abbr},f.defineLocale=function(_,T){return T!==null?(T.abbr=_,E[_]||(E[_]=new Pt),E[_].set(T),f.locale(_),E[_]):(delete E[_],null)},f.langData=Ie("moment.langData is deprecated. Use moment.localeData instead.",function(_){return f.localeData(_)}),f.localeData=function(_){var T;if(_&&_._locale&&_._locale._abbr&&(_=_._locale._abbr),!_)return f._locale;if(!sn(_)){if(T=Ot(_),T)return T;_=[_]}return kn(_)},f.isMoment=function(_){return _ instanceof ct||_!=null&&Q(_,"_isAMomentObject")},f.isDuration=function(_){return _ instanceof Ht},w=Z.length-1;w>=0;--w)ui(Z[w]);f.normalizeUnits=function(_){return pi(_)},f.invalid=function(_){var T=f.utc(NaN);return _!=null?Yt(T._pf,_):T._pf.userInvalidated=!0,T},f.parseZone=function(){return f.apply(null,arguments).parseZone()},f.parseTwoDigitYear=function(_){return si(_)+(si(_)>68?1900:2e3)},Yt(f.fn=ct.prototype,{clone:function(){return f(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var _=f(this).utc();return 0<_.year()&&_.year()<=9999?tr(_,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):tr(_,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var _=this;return[_.year(),_.month(),_.date(),_.hours(),_.minutes(),_.seconds(),_.milliseconds()]},isValid:function(){return Ki(this)},isDSTShifted:function(){return this._a?this.isValid()&&Ri(this._a,(this._isUTC?f.utc(this._a):f(this._a)).toArray())>0:!1},parsingFlags:function(){return Yt({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(_){return this.zone(0,_)},local:function(_){return this._isUTC&&(this.zone(0,_),this._isUTC=!1,_&&this.add(this._dateTzOffset(),"m")),this},format:function(_){var T=tr(this,_||f.defaultFormat);return this.localeData().postformat(T)},add:dr(1,"add"),subtract:dr(-1,"subtract"),diff:function(_,T,R){var ie=mr(_,this),ae=(this.zone()-ie.zone())*6e4,_e,Oe,Je;return T=pi(T),T==="year"||T==="month"?(_e=(this.daysInMonth()+ie.daysInMonth())*432e5,Oe=(this.year()-ie.year())*12+(this.month()-ie.month()),Je=this-f(this).startOf("month")-(ie-f(ie).startOf("month")),Je-=(this.zone()-f(this).startOf("month").zone()-(ie.zone()-f(ie).startOf("month").zone()))*6e4,Oe+=Je/_e,T==="year"&&(Oe=Oe/12)):(_e=this-ie,Oe=T==="second"?_e/1e3:T==="minute"?_e/6e4:T==="hour"?_e/36e5:T==="day"?(_e-ae)/864e5:T==="week"?(_e-ae)/6048e5:_e),R?Oe:Vt(Oe)},from:function(_,T){return f.duration({to:this,from:_}).locale(this.locale()).humanize(!T)},fromNow:function(_){return this.from(f(),_)},calendar:function(_){var T=_||f(),R=mr(T,this).startOf("day"),ie=this.diff(R,"days",!0),ae=ie<-6?"sameElse":ie<-1?"lastWeek":ie<0?"lastDay":ie<1?"sameDay":ie<2?"nextDay":ie<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(ae,this))},isLeapYear:function(){return Or(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(_){var T=this._isUTC?this._d.getUTCDay():this._d.getDay();return _!=null?(_=Rn(_,this.localeData()),this.add(_-T,"d")):T},month:li("Month",!0),startOf:function(_){switch(_=pi(_),_){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return _==="week"?this.weekday(0):_==="isoWeek"&&this.isoWeekday(1),_==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(_){return _=pi(_),this.startOf(_).add(1,_==="isoWeek"?"week":_).subtract(1,"ms")},isAfter:function(_,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(_=f.isMoment(_)?_:f(_),+this>+_):+this.clone().startOf(T)>+f(_).startOf(T)},isBefore:function(_,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(_=f.isMoment(_)?_:f(_),+this<+_):+this.clone().startOf(T)<+f(_).startOf(T)},isSame:function(_,T){return T=pi(T||"millisecond"),T==="millisecond"?(_=f.isMoment(_)?_:f(_),+this==+_):+this.clone().startOf(T)==+mr(_,this).startOf(T)},min:Ie("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(_){return _=f.apply(null,arguments),_<this?this:_}),max:Ie("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(_){return _=f.apply(null,arguments),_>this?this:_}),zone:function(_,T){var R=this._offset||0,ie;if(_!=null)typeof _=="string"&&(_=Qi(_)),Math.abs(_)<16&&(_=_*60),!this._isUTC&&T&&(ie=this._dateTzOffset()),this._offset=_,this._isUTC=!0,ie!=null&&this.subtract(ie,"m"),R!==_&&(!T||this._changeInProgress?Rt(this,f.duration(R-_,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?R:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(_){return _?_=f(_).zone():_=0,(this.zone()-_)%60===0},daysInMonth:function(){return Bi(this.year(),this.month())},dayOfYear:function(_){var T=b((f(this).startOf("day")-f(this).startOf("year"))/864e5)+1;return _==null?T:this.add(_-T,"d")},quarter:function(_){return _==null?Math.ceil((this.month()+1)/3):this.month((_-1)*3+this.month()%3)},weekYear:function(_){var T=He(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return _==null?T:this.add(_-T,"y")},isoWeekYear:function(_){var T=He(this,1,4).year;return _==null?T:this.add(_-T,"y")},week:function(_){var T=this.localeData().week(this);return _==null?T:this.add((_-T)*7,"d")},isoWeek:function(_){var T=He(this,1,4).week;return _==null?T:this.add((_-T)*7,"d")},weekday:function(_){var T=(this.day()+7-this.localeData()._week.dow)%7;return _==null?T:this.add(_-T,"d")},isoWeekday:function(_){return _==null?this.day()||7:this.day(this.day()%7?_:_-7)},isoWeeksInYear:function(){return Qr(this.year(),1,4)},weeksInYear:function(){var _=this.localeData()._week;return Qr(this.year(),_.dow,_.doy)},get:function(_){return _=pi(_),this[_]()},set:function(_,T){return _=pi(_),typeof this[_]=="function"&&this[_](T),this},locale:function(_){var T;return _===l?this._locale._abbr:(T=f.localeData(_),T!=null&&(this._locale=T),this)},lang:Ie("moment().lang() is deprecated. Use moment().localeData() instead.",function(_){return _===l?this.localeData():this.locale(_)}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function ni(_,T){var R;return typeof T=="string"&&(T=_.localeData().monthsParse(T),typeof T!="number")||(R=Math.min(_.date(),Bi(_.year(),T)),_._d["set"+(_._isUTC?"UTC":"")+"Month"](T,R)),_}function Ui(_,T){return _._d["get"+(_._isUTC?"UTC":"")+T]()}function Nt(_,T,R){return T==="Month"?ni(_,R):_._d["set"+(_._isUTC?"UTC":"")+T](R)}function li(_,T){return function(R){return R!=null?(Nt(this,_,R),f.updateOffset(this,T),this):Ui(this,_)}}f.fn.millisecond=f.fn.milliseconds=li("Milliseconds",!1),f.fn.second=f.fn.seconds=li("Seconds",!1),f.fn.minute=f.fn.minutes=li("Minutes",!1),f.fn.hour=f.fn.hours=li("Hours",!0),f.fn.date=li("Date",!0),f.fn.dates=Ie("dates accessor is deprecated. Use date instead.",li("Date",!0)),f.fn.year=li("FullYear",!0),f.fn.years=Ie("years accessor is deprecated. Use year instead.",li("FullYear",!0)),f.fn.days=f.fn.day,f.fn.months=f.fn.month,f.fn.weeks=f.fn.week,f.fn.isoWeeks=f.fn.isoWeek,f.fn.quarters=f.fn.quarter,f.fn.toJSON=f.fn.toISOString;function fo(_){return _*400/146097}function Wt(_){return _*146097/400}Yt(f.duration.fn=Ht.prototype,{_bubble:function(){var _=this._milliseconds,T=this._days,R=this._months,ie=this._data,ae,_e,Oe,Je=0;ie.milliseconds=_%1e3,ae=Vt(_/1e3),ie.seconds=ae%60,_e=Vt(ae/60),ie.minutes=_e%60,Oe=Vt(_e/60),ie.hours=Oe%24,T+=Vt(Oe/24),Je=Vt(fo(T)),T-=Vt(Wt(Je)),R+=Vt(T/30),T%=30,Je+=Vt(R/12),R%=12,ie.days=T,ie.months=R,ie.years=Je},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return Vt(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+si(this._months/12)*31536e6},humanize:function(_){var T=xe(this,!_,this.localeData());return _&&(T=this.localeData().pastFuture(+this,T)),this.localeData().postformat(T)},add:function(_,T){var R=f.duration(_,T);return this._milliseconds+=R._milliseconds,this._days+=R._days,this._months+=R._months,this._bubble(),this},subtract:function(_,T){var R=f.duration(_,T);return this._milliseconds-=R._milliseconds,this._days-=R._days,this._months-=R._months,this._bubble(),this},get:function(_){return _=pi(_),this[_.toLowerCase()+"s"]()},as:function(_){var T,R;if(_=pi(_),_==="month"||_==="year")return T=this._days+this._milliseconds/864e5,R=this._months+fo(T)*12,_==="month"?R:R/12;switch(T=this._days+Wt(this._months/12),_){case"week":return T/7+this._milliseconds/6048e5;case"day":return T+this._milliseconds/864e5;case"hour":return T*24+this._milliseconds/36e5;case"minute":return T*24*60+this._milliseconds/6e4;case"second":return T*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(T*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+_)}},lang:f.fn.lang,locale:f.fn.locale,toIsoString:Ie("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var _=Math.abs(this.years()),T=Math.abs(this.months()),R=Math.abs(this.days()),ie=Math.abs(this.hours()),ae=Math.abs(this.minutes()),_e=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(_?_+"Y":"")+(T?T+"M":"")+(R?R+"D":"")+(ie||ae||_e?"T":"")+(ie?ie+"H":"")+(ae?ae+"M":"")+(_e?_e+"S":""):"P0D"},localeData:function(){return this._locale}}),f.duration.fn.toString=f.duration.fn.toISOString;function ke(_){f.duration.fn[_]=function(){return this._data[_]}}for(w in Xe)Q(Xe,w)&&ke(w.toLowerCase());return f.duration.fn.asMilliseconds=function(){return this.as("ms")},f.duration.fn.asSeconds=function(){return this.as("s")},f.duration.fn.asMinutes=function(){return this.as("m")},f.duration.fn.asHours=function(){return this.as("h")},f.duration.fn.asDays=function(){return this.as("d")},f.duration.fn.asWeeks=function(){return this.as("weeks")},f.duration.fn.asMonths=function(){return this.as("M")},f.duration.fn.asYears=function(){return this.as("y")},f.locale("en",{ordinal:function(_){var T=_%10,R=si(_%100/10)===1?"th":T===1?"st":T===2?"nd":T===3?"rd":"th";return _+R}}),f}).call(this),e.Utils.moment=u,e.datepicker})}(jd)),jd.exports}Lw();/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||t(UIkit2)})})(function(t){return t.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){t.ready(function(e){t.$("[data-uk-pagination]",e).each(function(){var r=t.$(this);r.data("pagination")||t.pagination(r,t.Utils.options(r.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(r){r.preventDefault(),e.selectPage(t.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(e){this.pages=e||this.pages,this._render()},selectPage:function(e,r){this.currentPage=e,this.render(r),this.options.onSelectPage.apply(this,[e]),this.trigger("select.uk.pagination",[e,this])},_render:function(){var e=this.options,r=this._getInterval(),s;if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),r.start>0&&e.edges>0){var u=Math.min(e.edges,r.start);for(s=0;s<u;s++)this._append(s);e.edges<r.start&&r.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):r.start-e.edges==1&&this._append(e.edges)}for(s=r.start;s<r.end;s++)this._append(s);if(r.end<this.pages&&e.edges>0){this.pages-e.edges>r.end&&this.pages-e.edges-r.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-r.end==1&&this._append(r.end++);var l=Math.max(this.pages-e.edges,r.end);for(s=l;s<this.pages;s++)this._append(s)}e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(e,r){var s,u;e=e<0?0:e<this.pages?e:this.pages-1,u=t.$.extend({text:e+1},r),s=e==this.currentPage?'<li class="uk-active"><span>'+u.text+"</span></li>":'<li><a href="#page-'+(e+1)+'" data-page="'+e+'">'+u.text+"</a></li>",this.element.append(s)}}),t.pagination});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-notify",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e={},r={},s=function(f){return t.$.type(f)=="string"&&(f={message:f}),arguments[1]&&(f=t.$.extend(f,t.$.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new l(f).show()},u=function(f,h){var b;if(f)for(b in r)f===r[b].group&&r[b].close(h);else for(b in r)r[b].close(h)},l=function(f){this.options=t.$.extend({},l.defaults,f),this.uuid=t.Utils.uid("notifymsg"),this.element=t.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,r[this.uuid]=this,e[this.options.pos]||(e[this.options.pos]=t.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var h=t.$(this).data("notifyMessage");h.element.trigger("manualclose.uk.notify",[h]),h.close()}))};return t.$.extend(l.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var f=this;e[this.options.pos].show().prepend(this.element);var h=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:h},function(){if(f.options.timeout){var b=function(){f.close()};f.timeout=setTimeout(b,f.options.timeout),f.element.hover(function(){clearTimeout(f.timeout)},function(){f.timeout=setTimeout(b,f.options.timeout)})}}),this}},close:function(f){var h=this,b=function(){h.element.remove(),e[h.options.pos].children().length||e[h.options.pos].hide(),h.options.onClose.apply(h,[]),h.element.trigger("close.uk.notify",[h]),delete r[h.uuid]};this.timeout&&clearTimeout(this.timeout),f?b():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){b()})},content:function(f){var h=this.element.find(">div");return f?(h.html(f),this):h.html()},status:function(f){return f?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+f),this.currentstatus=f,this):this.currentstatus}}),l.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},t.notify=s,t.notify.message=l,t.notify.closeAll=u,s});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-tooltip",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e,r,s;return t.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(u){var l=u.attr("title");return l!==void 0&&u.data("cached-title",l).removeAttr("title"),u.data("cached-title")}},tip:"",boot:function(){t.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(u){var l=t.$(this);l.data("tooltip")||(t.tooltip(l,t.Utils.options(l.attr("data-uk-tooltip"))),l.trigger("mouseenter"))})},init:function(){var u=this;e||(e=t.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(l){u.show()},blur:function(l){u.hide()},mouseenter:function(l){u.show()},mouseleave:function(l){u.hide()}})},show:function(){if(this.tip=typeof this.options.src=="function"?this.options.src(this.element):this.options.src,r&&clearTimeout(r),s&&clearInterval(s),!(typeof this.tip!="string"||!this.tip.length)){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var u=this,l=t.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),f=e[0].offsetWidth,h=e[0].offsetHeight,b=typeof this.options.offset=="function"?this.options.offset.call(this.element):this.options.offset,x=typeof this.options.pos=="function"?this.options.pos.call(this.element):this.options.pos,w=x.split("-"),S={display:"none",visibility:"visible",top:l.top+l.height+h,left:l.left};if(t.$html.css("position")=="fixed"||t.$body.css("position")=="fixed"){var O=t.$("body").offset(),W=t.$("html").offset(),N={top:W.top+O.top,left:W.left+O.left};l.left-=N.left,l.top-=N.top}(w[0]=="left"||w[0]=="right")&&t.langdirection=="right"&&(w[0]=w[0]=="left"?"right":"left");var j={bottom:{top:l.top+l.height+b,left:l.left+l.width/2-f/2},top:{top:l.top-h-b,left:l.left+l.width/2-f/2},left:{top:l.top+l.height/2-h/2,left:l.left-f-b},right:{top:l.top+l.height/2-h/2,left:l.left+l.width+b}};t.$.extend(S,j[w[0]]),w.length==2&&(S.left=w[1]=="left"?l.left:l.left+l.width-f);var q=this.checkBoundary(S.left,S.top,f,h);if(q){switch(q){case"x":w.length==2?x=w[0]+"-"+(S.left<0?"left":"right"):x=S.left<0?"right":"left";break;case"y":w.length==2?x=(S.top<0?"bottom":"top")+"-"+w[1]:x=S.top<0?"bottom":"top";break;case"xy":w.length==2?x=(S.top<0?"bottom":"top")+"-"+(S.left<0?"left":"right"):x=S.left<0?"right":"left";break}w=x.split("-"),t.$.extend(S,j[w[0]]),w.length==2&&(S.left=w[1]=="left"?l.left:l.left+l.width-f)}S.left-=t.$body.position().left,r=setTimeout(function(){e.css(S).attr("class",["uk-tooltip","uk-tooltip-"+x,u.options.cls].join(" ")),u.options.animation?e.css({opacity:0,display:"block"}).addClass(u.options.activeClass).animate({opacity:1},parseInt(u.options.animation,10)||400):e.show().addClass(u.options.activeClass),r=!1,s=setInterval(function(){u.element.is(":visible")||u.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!(this.element.is("input")&&this.element[0]===document.activeElement))if(r&&clearTimeout(r),s&&clearInterval(s),e.stop(),this.options.animation){var u=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(u.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(u,l,f,h){var b="";return(u<0||u-t.$win.scrollLeft()+f>window.innerWidth)&&(b+="x"),(l<0||l-t.$win.scrollTop()+h>window.innerHeight)&&(b+="y"),b}}),t.tooltip});var Eh={exports:{}},Mw=Eh.exports,$m;function cs(){return $m||($m=1,function(t,e){(function(r,s){t.exports=s()})(Mw,function(){var r=navigator.userAgent,s=navigator.platform,u=/gecko\/\d/i.test(r),l=/MSIE \d/.test(r),f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),h=/Edge\/(\d+)/.exec(r),b=l||f||h,x=b&&(l?document.documentMode||6:+(h||f)[1]),w=!h&&/WebKit\//.test(r),S=w&&/Qt\/\d+\.\d+/.test(r),O=!h&&/Chrome\/(\d+)/.exec(r),W=O&&+O[1],N=/Opera\//.test(r),j=/Apple Computer/.test(navigator.vendor),q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),M=/PhantomJS/.test(r),E=j&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),D=/Android/.test(r),B=E||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),z=E||/Mac/.test(s),V=/\bCrOS\b/.test(r),ne=/win/i.test(s),ue=N&&r.match(/Version\/(\d*\.\d*)/);ue&&(ue=Number(ue[1])),ue&&ue>=15&&(N=!1,w=!0);var de=z&&(S||N&&(ue==null||ue<12.11)),ge=u||b&&x>=9;function fe(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var De=function(n,a){var p=n.className,d=fe(a).exec(p);if(d){var v=p.slice(d.index+d[0].length);n.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function ve(n){for(var a=n.childNodes.length;a>0;--a)n.removeChild(n.firstChild);return n}function re(n,a){return ve(n).appendChild(a)}function P(n,a,p,d){var v=document.createElement(n);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof a=="string")v.appendChild(document.createTextNode(a));else if(a)for(var C=0;C<a.length;++C)v.appendChild(a[C]);return v}function se(n,a,p,d){var v=P(n,a,p,d);return v.setAttribute("role","presentation"),v}var ye;document.createRange?ye=function(n,a,p,d){var v=document.createRange();return v.setEnd(d||n,p),v.setStart(n,a),v}:ye=function(n,a,p){var d=document.body.createTextRange();try{d.moveToElementText(n.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",a),d};function Ee(n,a){if(a.nodeType==3&&(a=a.parentNode),n.contains)return n.contains(a);do if(a.nodeType==11&&(a=a.host),a==n)return!0;while(a=a.parentNode)}function it(n){var a=n.ownerDocument||n,p;try{p=n.activeElement}catch{p=a.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function Be(n,a){var p=n.className;fe(a).test(p)||(n.className+=(p?" ":"")+a)}function Me(n,a){for(var p=n.split(" "),d=0;d<p.length;d++)p[d]&&!fe(p[d]).test(a)&&(a+=" "+p[d]);return a}var te=function(n){n.select()};E?te=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:b&&(te=function(n){try{n.select()}catch{}});function Y(n){return n.display.wrapper.ownerDocument}function Le(n){return Re(n.display.wrapper)}function Re(n){return n.getRootNode?n.getRootNode():n.ownerDocument}function X(n){return Y(n).defaultView}function we(n){var a=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,a)}}function Te(n,a,p){a||(a={});for(var d in n)n.hasOwnProperty(d)&&(p!==!1||!a.hasOwnProperty(d))&&(a[d]=n[d]);return a}function qe(n,a,p,d,v){a==null&&(a=n.search(/[^\s\u00a0]/),a==-1&&(a=n.length));for(var C=d||0,F=v||0;;){var H=n.indexOf("	",C);if(H<0||H>=a)return F+(a-C);F+=H-C,F+=p-F%p,C=H+1}}var Ze=function(){this.id=null,this.f=null,this.time=0,this.handler=we(this.onTimeout,this)};Ze.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Ze.prototype.set=function(n,a){this.f=a;var p=+new Date+n;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=p)};function Xe(n,a){for(var p=0;p<n.length;++p)if(n[p]==a)return p;return-1}var ut=50,Et={toString:function(){return"CodeMirror.Pass"}},wt={scroll:!1},St={origin:"*mouse"},_t={origin:"+move"};function Mt(n,a,p){for(var d=0,v=0;;){var C=n.indexOf("	",d);C==-1&&(C=n.length);var F=C-d;if(C==n.length||v+F>=a)return d+Math.min(F,a-v);if(v+=C-d,v+=p-v%p,d=C+1,v>=a)return d}}var jt=[""];function Kt(n){for(;jt.length<=n;)jt.push(Z(jt)+" ");return jt[n]}function Z(n){return n[n.length-1]}function le(n,a){for(var p=[],d=0;d<n.length;d++)p[d]=a(n[d],d);return p}function Q(n,a,p){for(var d=0,v=p(a);d<n.length&&p(n[d])<=v;)d++;n.splice(d,0,a)}function he(){}function pe(n,a){var p;return Object.create?p=Object.create(n):(he.prototype=n,p=new he),a&&Te(a,p),p}var Ie=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ot(n){return/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Ie.test(n))}function Qe(n,a){return a?a.source.indexOf("\\w")>-1&&ot(n)?!0:a.test(n):ot(n)}function mt(n){for(var a in n)if(n.hasOwnProperty(a)&&n[a])return!1;return!0}var Pt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(n){return n.charCodeAt(0)>=768&&Pt.test(n)}function Ht(n,a,p){for(;(p<0?a>0:a<n.length)&&ct(n.charAt(a));)a+=p;return a}function Yt(n,a,p){for(var d=a>p?-1:1;;){if(a==p)return a;var v=(a+p)/2,C=d<0?Math.ceil(v):Math.floor(v);if(C==a)return n(C)?a:p;n(C)?p=C:a=C+d}}function Qt(n,a,p,d){if(!n)return d(a,p,"ltr",0);for(var v=!1,C=0;C<n.length;++C){var F=n[C];(F.from<p&&F.to>a||a==p&&F.to==a)&&(d(Math.max(F.from,a),Math.min(F.to,p),F.level==1?"rtl":"ltr",C),v=!0)}v||d(a,p,"ltr")}var Vt=null;function xt(n,a,p){var d;Vt=null;for(var v=0;v<n.length;++v){var C=n[v];if(C.from<a&&C.to>a)return v;C.to==a&&(C.from!=C.to&&p=="before"?d=v:Vt=v),C.from==a&&(C.from!=C.to&&p!="before"?d=v:Vt=v)}return d??Vt}var qn=function(){var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(K){return K<=247?n.charAt(K):1424<=K&&K<=1524?"R":1536<=K&&K<=1785?a.charAt(K-1536):1774<=K&&K<=2220?"r":8192<=K&&K<=8203?"w":K==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,C=/[LRr]/,F=/[Lb1n]/,H=/[1n]/;function G(K,be,Ce){this.level=K,this.from=be,this.to=Ce}return function(K,be){var Ce=be=="ltr"?"L":"R";if(K.length==0||be=="ltr"&&!d.test(K))return!1;for(var ze=K.length,Fe=[],Ge=0;Ge<ze;++Ge)Fe.push(p(K.charCodeAt(Ge)));for(var rt=0,dt=Ce;rt<ze;++rt){var bt=Fe[rt];bt=="m"?Fe[rt]=dt:dt=bt}for(var yt=0,vt=Ce;yt<ze;++yt){var Tt=Fe[yt];Tt=="1"&&vt=="r"?Fe[yt]="n":C.test(Tt)&&(vt=Tt,Tt=="r"&&(Fe[yt]="R"))}for(var Bt=1,zt=Fe[0];Bt<ze-1;++Bt){var ci=Fe[Bt];ci=="+"&&zt=="1"&&Fe[Bt+1]=="1"?Fe[Bt]="1":ci==","&&zt==Fe[Bt+1]&&(zt=="1"||zt=="n")&&(Fe[Bt]=zt),zt=ci}for(var Yi=0;Yi<ze;++Yi){var xn=Fe[Yi];if(xn==",")Fe[Yi]="N";else if(xn=="%"){var an=void 0;for(an=Yi+1;an<ze&&Fe[an]=="%";++an);for(var gn=Yi&&Fe[Yi-1]=="!"||an<ze&&Fe[an]=="1"?"1":"N",An=Yi;An<an;++An)Fe[An]=gn;Yi=an-1}}for(var Dn=0,Ar=Ce;Dn<ze;++Dn){var lr=Fe[Dn];Ar=="L"&&lr=="1"?Fe[Dn]="L":C.test(lr)&&(Ar=lr)}for(var In=0;In<ze;++In)if(v.test(Fe[In])){var Ln=void 0;for(Ln=In+1;Ln<ze&&v.test(Fe[Ln]);++Ln);for(var vn=(In?Fe[In-1]:Ce)=="L",$r=(Ln<ze?Fe[Ln]:Ce)=="L",wu=vn==$r?vn?"L":"R":Ce,ts=In;ts<Ln;++ts)Fe[ts]=wu;In=Ln-1}for(var _r=[],la,Qn=0;Qn<ze;)if(F.test(Fe[Qn])){var Bc=Qn;for(++Qn;Qn<ze&&F.test(Fe[Qn]);++Qn);_r.push(new G(0,Bc,Qn))}else{var ca=Qn,is=_r.length,ns=be=="rtl"?1:0;for(++Qn;Qn<ze&&Fe[Qn]!="L";++Qn);for(var Dr=ca;Dr<Qn;)if(H.test(Fe[Dr])){ca<Dr&&(_r.splice(is,0,new G(1,ca,Dr)),is+=ns);var xu=Dr;for(++Dr;Dr<Qn&&H.test(Fe[Dr]);++Dr);_r.splice(is,0,new G(2,xu,Dr)),is+=ns,ca=Dr}else++Dr;ca<Qn&&_r.splice(is,0,new G(1,ca,Qn))}return be=="ltr"&&(_r[0].level==1&&(la=K.match(/^\s+/))&&(_r[0].from=la[0].length,_r.unshift(new G(0,0,la[0].length))),Z(_r).level==1&&(la=K.match(/\s+$/))&&(Z(_r).to-=la[0].length,_r.push(new G(0,ze-la[0].length,ze)))),be=="rtl"?_r.reverse():_r}}();function Ut(n,a){var p=n.order;return p==null&&(p=n.order=qn(n.text,a)),p}var dr=[],Rt=function(n,a,p){if(n.addEventListener)n.addEventListener(a,p,!1);else if(n.attachEvent)n.attachEvent("on"+a,p);else{var d=n._handlers||(n._handlers={});d[a]=(d[a]||dr).concat(p)}};function sn(n,a){return n._handlers&&n._handlers[a]||dr}function yi(n,a,p){if(n.removeEventListener)n.removeEventListener(a,p,!1);else if(n.detachEvent)n.detachEvent("on"+a,p);else{var d=n._handlers,v=d&&d[a];if(v){var C=Xe(v,p);C>-1&&(d[a]=v.slice(0,C).concat(v.slice(C+1)))}}}function Ri(n,a){var p=sn(n,a);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function pi(n,a,p){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),Ri(n,p||a.type,n,a),$i(a)||a.codemirrorIgnore}function wi(n){var a=n._handlers&&n._handlers.cursorActivity;if(a)for(var p=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),d=0;d<a.length;++d)Xe(p,a[d])==-1&&p.push(a[d])}function ui(n,a){return sn(n,a).length>0}function si(n){n.prototype.on=function(a,p){Rt(this,a,p)},n.prototype.off=function(a,p){yi(this,a,p)}}function Bi(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function Qr(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function $i(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==!1}function Or(n){Bi(n),Qr(n)}function Hi(n){return n.target||n.srcElement}function Ki(n){var a=n.which;return a==null&&(n.button&1?a=1:n.button&2?a=3:n.button&4&&(a=2)),z&&n.ctrlKey&&a==1&&(a=3),a}var pr=function(){if(b&&x<9)return!1;var n=P("div");return"draggable"in n||"dragDrop"in n}(),kn;function Ot(n){if(kn==null){var a=P("span","");re(n,P("span",[a,document.createTextNode("x")])),n.firstChild.offsetHeight!=0&&(kn=a.offsetWidth<=1&&a.offsetHeight>2&&!(b&&x<8))}var p=kn?P("span",""):P("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var mr;function jn(n){if(mr!=null)return mr;var a=re(n,document.createTextNode("AA")),p=ye(a,0,1).getBoundingClientRect(),d=ye(a,1,2).getBoundingClientRect();return ve(n),!p||p.left==p.right?!1:mr=d.right-p.right<3}var Un=`

b`.split(/\n/).length!=3?function(n){for(var a=0,p=[],d=n.length;a<=d;){var v=n.indexOf(`
`,a);v==-1&&(v=n.length);var C=n.slice(a,n.charAt(v-1)=="\r"?v-1:v),F=C.indexOf("\r");F!=-1?(p.push(C.slice(0,F)),a+=F+1):(p.push(C),a=v+1)}return p}:function(n){return n.split(/\r\n?|\n/)},tr=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var a;try{a=n.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=n?!1:a.compareEndPoints("StartToEnd",a)!=0},Wr=function(){var n=P("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),Gi=null;function Qi(n){if(Gi!=null)return Gi;var a=re(n,P("span","x")),p=a.getBoundingClientRect(),d=ye(a,0,1).getBoundingClientRect();return Gi=Math.abs(p.left-d.left)>1}var ir={},nr={};function Cn(n,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),ir[n]=a}function Jr(n,a){nr[n]=a}function eo(n){if(typeof n=="string"&&nr.hasOwnProperty(n))n=nr[n];else if(n&&typeof n.name=="string"&&nr.hasOwnProperty(n.name)){var a=nr[n.name];typeof a=="string"&&(a={name:a}),n=pe(a,n),n.name=a.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return eo("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return eo("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function wr(n,a){a=eo(a);var p=ir[a.name];if(!p)return wr(n,"text/plain");var d=p(n,a);if(En.hasOwnProperty(a.name)){var v=En[a.name];for(var C in v)v.hasOwnProperty(C)&&(d.hasOwnProperty(C)&&(d["_"+C]=d[C]),d[C]=v[C])}if(d.name=a.name,a.helperType&&(d.helperType=a.helperType),a.modeProps)for(var F in a.modeProps)d[F]=a.modeProps[F];return d}var En={};function Fr(n,a){var p=En.hasOwnProperty(n)?En[n]:En[n]={};Te(a,p)}function bn(n,a){if(a===!0)return a;if(n.copyState)return n.copyState(a);var p={};for(var d in a){var v=a[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function co(n,a){for(var p;n.innerMode&&(p=n.innerMode(a),!(!p||p.mode==n));)a=p.state,n=p.mode;return p||{mode:n,state:a}}function Yn(n,a,p){return n.startState?n.startState(a,p):!0}var ji=function(n,a,p){this.pos=this.start=0,this.string=n,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};ji.prototype.eol=function(){return this.pos>=this.string.length},ji.prototype.sol=function(){return this.pos==this.lineStart},ji.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ji.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ji.prototype.eat=function(n){var a=this.string.charAt(this.pos),p;if(typeof n=="string"?p=a==n:p=a&&(n.test?n.test(a):n(a)),p)return++this.pos,a},ji.prototype.eatWhile=function(n){for(var a=this.pos;this.eat(n););return this.pos>a},ji.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},ji.prototype.skipToEnd=function(){this.pos=this.string.length},ji.prototype.skipTo=function(n){var a=this.string.indexOf(n,this.pos);if(a>-1)return this.pos=a,!0},ji.prototype.backUp=function(n){this.pos-=n},ji.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},ji.prototype.indentation=function(){return qe(this.string,null,this.tabSize)-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},ji.prototype.match=function(n,a,p){if(typeof n=="string"){var d=function(F){return p?F.toLowerCase():F},v=this.string.substr(this.pos,n.length);if(d(v)==d(n))return a!==!1&&(this.pos+=n.length),!0}else{var C=this.string.slice(this.pos).match(n);return C&&C.index>0?null:(C&&a!==!1&&(this.pos+=C[0].length),C)}},ji.prototype.current=function(){return this.string.slice(this.start,this.pos)},ji.prototype.hideFirstChars=function(n,a){this.lineStart+=n;try{return a()}finally{this.lineStart-=n}},ji.prototype.lookAhead=function(n){var a=this.lineOracle;return a&&a.lookAhead(n)},ji.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};function Lt(n,a){if(a-=n.first,a<0||a>=n.size)throw new Error("There is no line "+(a+n.first)+" in the document.");for(var p=n;!p.lines;)for(var d=0;;++d){var v=p.children[d],C=v.chunkSize();if(a<C){p=v;break}a-=C}return p.lines[a]}function Gn(n,a,p){var d=[],v=a.line;return n.iter(a.line,p.line+1,function(C){var F=C.text;v==p.line&&(F=F.slice(0,p.ch)),v==a.line&&(F=F.slice(a.ch)),d.push(F),++v}),d}function rr(n,a,p){var d=[];return n.iter(a,p,function(v){d.push(v.text)}),d}function Rn(n,a){var p=a-n.height;if(p)for(var d=n;d;d=d.parent)d.height+=p}function J(n){if(n.parent==null)return null;for(var a=n.parent,p=Xe(a.lines,n),d=a.parent;d;a=d,d=d.parent)for(var v=0;d.children[v]!=a;++v)p+=d.children[v].chunkSize();return p+a.first}function xe(n,a){var p=n.first;e:do{for(var d=0;d<n.children.length;++d){var v=n.children[d],C=v.height;if(a<C){n=v;continue e}a-=C,p+=v.chunkSize()}return p}while(!n.lines);for(var F=0;F<n.lines.length;++F){var H=n.lines[F],G=H.height;if(a<G)break;a-=G}return p+F}function He(n,a){return a>=n.first&&a<n.first+n.size}function nt(n,a){return String(n.lineNumberFormatter(a+n.firstLineNumber))}function je(n,a,p){if(p===void 0&&(p=null),!(this instanceof je))return new je(n,a,p);this.line=n,this.ch=a,this.sticky=p}function pt(n,a){return n.line-a.line||n.ch-a.ch}function ni(n,a){return n.sticky==a.sticky&&pt(n,a)==0}function Ui(n){return je(n.line,n.ch)}function Nt(n,a){return pt(n,a)<0?a:n}function li(n,a){return pt(n,a)<0?n:a}function fo(n,a){return Math.max(n.first,Math.min(a,n.first+n.size-1))}function Wt(n,a){if(a.line<n.first)return je(n.first,0);var p=n.first+n.size-1;return a.line>p?je(p,Lt(n,p).text.length):ke(a,Lt(n,a.line).text.length)}function ke(n,a){var p=n.ch;return p==null||p>a?je(n.line,a):p<0?je(n.line,0):n}function _(n,a){for(var p=[],d=0;d<a.length;d++)p[d]=Wt(n,a[d]);return p}var T=function(n,a){this.state=n,this.lookAhead=a},R=function(n,a,p,d){this.state=a,this.doc=n,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};R.prototype.lookAhead=function(n){var a=this.doc.getLine(this.line+n);return a!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),a},R.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},R.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},R.fromSaved=function(n,a,p){return a instanceof T?new R(n,bn(n.mode,a.state),p,a.lookAhead):new R(n,bn(n.mode,a),p)},R.prototype.save=function(n){var a=n!==!1?bn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new T(a,this.maxLookAhead):a};function ie(n,a,p,d){var v=[n.state.modeGen],C={};fi(n,a.text,n.doc.mode,p,function(K,be){return v.push(K,be)},C,d);for(var F=p.state,H=function(K){p.baseTokens=v;var be=n.state.overlays[K],Ce=1,ze=0;p.state=!0,fi(n,a.text,be.mode,p,function(Fe,Ge){for(var rt=Ce;ze<Fe;){var dt=v[Ce];dt>Fe&&v.splice(Ce,1,Fe,v[Ce+1],dt),Ce+=2,ze=Math.min(Fe,dt)}if(Ge)if(be.opaque)v.splice(rt,Ce-rt,Fe,"overlay "+Ge),Ce=rt+2;else for(;rt<Ce;rt+=2){var bt=v[rt+1];v[rt+1]=(bt?bt+" ":"")+"overlay "+Ge}},C),p.state=F,p.baseTokens=null,p.baseTokenPos=1},G=0;G<n.state.overlays.length;++G)H(G);return{styles:v,classes:C.bgClass||C.textClass?C:null}}function ae(n,a,p){if(!a.styles||a.styles[0]!=n.state.modeGen){var d=_e(n,J(a)),v=a.text.length>n.options.maxHighlightLength&&bn(n.doc.mode,d.state),C=ie(n,a,d);v&&(d.state=v),a.stateAfter=d.save(!v),a.styles=C.styles,C.classes?a.styleClasses=C.classes:a.styleClasses&&(a.styleClasses=null),p===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return a.styles}function _e(n,a,p){var d=n.doc,v=n.display;if(!d.mode.startState)return new R(d,!0,a);var C=hi(n,a,p),F=C>d.first&&Lt(d,C-1).stateAfter,H=F?R.fromSaved(d,F,C):new R(d,Yn(d.mode),C);return d.iter(C,a,function(G){Oe(n,G.text,H);var K=H.line;G.stateAfter=K==a-1||K%5==0||K>=v.viewFrom&&K<v.viewTo?H.save():null,H.nextLine()}),p&&(d.modeFrontier=H.line),H}function Oe(n,a,p,d){var v=n.doc.mode,C=new ji(a,n.options.tabSize,p);for(C.start=C.pos=d||0,a==""&&Je(v,p.state);!C.eol();)et(v,C,p.state),C.start=C.pos}function Je(n,a){if(n.blankLine)return n.blankLine(a);if(n.innerMode){var p=co(n,a);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function et(n,a,p,d){for(var v=0;v<10;v++){d&&(d[0]=co(n,p).mode);var C=n.token(a,p);if(a.pos>a.start)return C}throw new Error("Mode "+n.name+" failed to advance stream.")}var Ve=function(n,a,p){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=a||null,this.state=p};function Ke(n,a,p,d){var v=n.doc,C=v.mode,F;a=Wt(v,a);var H=Lt(v,a.line),G=_e(n,a.line,p),K=new ji(H.text,n.options.tabSize,G),be;for(d&&(be=[]);(d||K.pos<a.ch)&&!K.eol();)K.start=K.pos,F=et(C,K,G.state),d&&be.push(new Ve(K,F,bn(v.mode,G.state)));return d?be:new Ve(K,F,G.state)}function ft(n,a){if(n)for(;;){var p=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;n=n.slice(0,p.index)+n.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";a[d]==null?a[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(a[d])||(a[d]+=" "+p[2])}return n}function fi(n,a,p,d,v,C,F){var H=p.flattenSpans;H==null&&(H=n.options.flattenSpans);var G=0,K=null,be=new ji(a,n.options.tabSize,d),Ce,ze=n.options.addModeClass&&[null];for(a==""&&ft(Je(p,d.state),C);!be.eol();){if(be.pos>n.options.maxHighlightLength?(H=!1,F&&Oe(n,a,d,be.pos),be.pos=a.length,Ce=null):Ce=ft(et(p,be,d.state,ze),C),ze){var Fe=ze[0].name;Fe&&(Ce="m-"+(Ce?Fe+" "+Ce:Fe))}if(!H||K!=Ce){for(;G<be.start;)G=Math.min(be.start,G+5e3),v(G,K);K=Ce}be.start=be.pos}for(;G<be.pos;){var Ge=Math.min(be.pos,G+5e3);v(Ge,K),G=Ge}}function hi(n,a,p){for(var d,v,C=n.doc,F=p?-1:a-(n.doc.mode.innerMode?1e3:100),H=a;H>F;--H){if(H<=C.first)return C.first;var G=Lt(C,H-1),K=G.stateAfter;if(K&&(!p||H+(K instanceof T?K.lookAhead:0)<=C.modeFrontier))return H;var be=qe(G.text,null,n.options.tabSize);(v==null||d>be)&&(v=H-1,d=be)}return v}function Wi(n,a){if(n.modeFrontier=Math.min(n.modeFrontier,a),!(n.highlightFrontier<a-10)){for(var p=n.first,d=a-1;d>p;d--){var v=Lt(n,d).stateAfter;if(v&&(!(v instanceof T)||d+v.lookAhead<a)){p=d+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,p)}}var Ei=!1,Pi=!1;function fn(){Ei=!0}function Ft(){Pi=!0}function rn(n,a,p){this.marker=n,this.from=a,this.to=p}function ri(n,a){if(n)for(var p=0;p<n.length;++p){var d=n[p];if(d.marker==a)return d}}function gt(n,a){for(var p,d=0;d<n.length;++d)n[d]!=a&&(p||(p=[])).push(n[d]);return p}function xi(n,a,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&n.markedSpans&&d.has(n.markedSpans)?n.markedSpans.push(a):(n.markedSpans=n.markedSpans?n.markedSpans.concat([a]):[a],d&&d.add(n.markedSpans)),a.marker.attachLine(n)}function on(n,a,p){var d;if(n)for(var v=0;v<n.length;++v){var C=n[v],F=C.marker,H=C.from==null||(F.inclusiveLeft?C.from<=a:C.from<a);if(H||C.from==a&&F.type=="bookmark"&&(!p||!C.marker.insertLeft)){var G=C.to==null||(F.inclusiveRight?C.to>=a:C.to>a);(d||(d=[])).push(new rn(F,C.from,G?null:C.to))}}return d}function or(n,a,p){var d;if(n)for(var v=0;v<n.length;++v){var C=n[v],F=C.marker,H=C.to==null||(F.inclusiveRight?C.to>=a:C.to>a);if(H||C.from==a&&F.type=="bookmark"&&(!p||C.marker.insertLeft)){var G=C.from==null||(F.inclusiveLeft?C.from<=a:C.from<a);(d||(d=[])).push(new rn(F,G?null:C.from-a,C.to==null?null:C.to-a))}}return d}function Sn(n,a){if(a.full)return null;var p=He(n,a.from.line)&&Lt(n,a.from.line).markedSpans,d=He(n,a.to.line)&&Lt(n,a.to.line).markedSpans;if(!p&&!d)return null;var v=a.from.ch,C=a.to.ch,F=pt(a.from,a.to)==0,H=on(p,v,F),G=or(d,C,F),K=a.text.length==1,be=Z(a.text).length+(K?v:0);if(H)for(var Ce=0;Ce<H.length;++Ce){var ze=H[Ce];if(ze.to==null){var Fe=ri(G,ze.marker);Fe?K&&(ze.to=Fe.to==null?null:Fe.to+be):ze.to=v}}if(G)for(var Ge=0;Ge<G.length;++Ge){var rt=G[Ge];if(rt.to!=null&&(rt.to+=be),rt.from==null){var dt=ri(H,rt.marker);dt||(rt.from=be,K&&(H||(H=[])).push(rt))}else rt.from+=be,K&&(H||(H=[])).push(rt)}H&&(H=qr(H)),G&&G!=H&&(G=qr(G));var bt=[H];if(!K){var yt=a.text.length-2,vt;if(yt>0&&H)for(var Tt=0;Tt<H.length;++Tt)H[Tt].to==null&&(vt||(vt=[])).push(new rn(H[Tt].marker,null,null));for(var Bt=0;Bt<yt;++Bt)bt.push(vt);bt.push(G)}return bt}function qr(n){for(var a=0;a<n.length;++a){var p=n[a];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&n.splice(a--,1)}return n.length?n:null}function Rr(n,a,p){var d=null;if(n.iter(a.line,p.line+1,function(Fe){if(Fe.markedSpans)for(var Ge=0;Ge<Fe.markedSpans.length;++Ge){var rt=Fe.markedSpans[Ge].marker;rt.readOnly&&(!d||Xe(d,rt)==-1)&&(d||(d=[])).push(rt)}}),!d)return null;for(var v=[{from:a,to:p}],C=0;C<d.length;++C)for(var F=d[C],H=F.find(0),G=0;G<v.length;++G){var K=v[G];if(!(pt(K.to,H.from)<0||pt(K.from,H.to)>0)){var be=[G,1],Ce=pt(K.from,H.from),ze=pt(K.to,H.to);(Ce<0||!F.inclusiveLeft&&!Ce)&&be.push({from:K.from,to:H.from}),(ze>0||!F.inclusiveRight&&!ze)&&be.push({from:H.to,to:K.to}),v.splice.apply(v,be),G+=be.length-3}}return v}function Zt(n){var a=n.markedSpans;if(a){for(var p=0;p<a.length;++p)a[p].marker.detachLine(n);n.markedSpans=null}}function oi(n,a){if(a){for(var p=0;p<a.length;++p)a[p].marker.attachLine(n);n.markedSpans=a}}function _n(n){return n.inclusiveLeft?-1:0}function Nr(n){return n.inclusiveRight?1:0}function Uo(n,a){var p=n.lines.length-a.lines.length;if(p!=0)return p;var d=n.find(),v=a.find(),C=pt(d.from,v.from)||_n(n)-_n(a);if(C)return-C;var F=pt(d.to,v.to)||Nr(n)-Nr(a);return F||a.id-n.id}function ga(n,a){var p=Pi&&n.markedSpans,d;if(p)for(var v=void 0,C=0;C<p.length;++C)v=p[C],v.marker.collapsed&&(a?v.from:v.to)==null&&(!d||Uo(d,v.marker)<0)&&(d=v.marker);return d}function Yo(n){return ga(n,!0)}function va(n){return ga(n,!1)}function Na(n,a){var p=Pi&&n.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var C=p[v];C.marker.collapsed&&(C.from==null||C.from<a)&&(C.to==null||C.to>a)&&(!d||Uo(d,C.marker)<0)&&(d=C.marker)}return d}function gi(n,a,p,d,v){var C=Lt(n,a),F=Pi&&C.markedSpans;if(F)for(var H=0;H<F.length;++H){var G=F[H];if(G.marker.collapsed){var K=G.marker.find(0),be=pt(K.from,p)||_n(G.marker)-_n(v),Ce=pt(K.to,d)||Nr(G.marker)-Nr(v);if(!(be>=0&&Ce<=0||be<=0&&Ce>=0)&&(be<=0&&(G.marker.inclusiveRight&&v.inclusiveLeft?pt(K.to,p)>=0:pt(K.to,p)>0)||be>=0&&(G.marker.inclusiveRight&&v.inclusiveLeft?pt(K.from,d)<=0:pt(K.from,d)<0)))return!0}}}function Ni(n){for(var a;a=Yo(n);)n=a.find(-1,!0).line;return n}function gr(n){for(var a;a=va(n);)n=a.find(1,!0).line;return n}function zr(n){for(var a,p;a=va(n);)n=a.find(1,!0).line,(p||(p=[])).push(n);return p}function ps(n,a){var p=Lt(n,a),d=Ni(p);return p==d?a:J(d)}function Hs(n,a){if(a>n.lastLine())return a;var p=Lt(n,a),d;if(!hn(n,p))return a;for(;d=va(p);)p=d.find(1,!0).line;return J(p)+1}function hn(n,a){var p=Pi&&a.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Ws(n,a,d))return!0}}}function Ws(n,a,p){if(p.to==null){var d=p.marker.find(1,!0);return Ws(n,d.line,ri(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==a.text.length)return!0;for(var v=void 0,C=0;C<a.markedSpans.length;++C)if(v=a.markedSpans[C],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&Ws(n,a,v))return!0}function to(n){n=Ni(n);for(var a=0,p=n.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==n)break;a+=v.height}for(var C=p.parent;C;p=C,C=p.parent)for(var F=0;F<C.children.length;++F){var H=C.children[F];if(H==p)break;a+=H.height}return a}function ms(n){if(n.height==0)return 0;for(var a=n.text.length,p,d=n;p=Yo(d);){var v=p.find(0,!0);d=v.from.line,a+=v.from.ch-v.to.ch}for(d=n;p=va(d);){var C=p.find(0,!0);a-=d.text.length-C.from.ch,d=C.to.line,a+=d.text.length-C.to.ch}return a}function qs(n){var a=n.display,p=n.doc;a.maxLine=Lt(p,p.first),a.maxLineLength=ms(a.maxLine),a.maxLineChanged=!0,p.iter(function(d){var v=ms(d);v>a.maxLineLength&&(a.maxLineLength=v,a.maxLine=d)})}var Eo=function(n,a,p){this.text=n,oi(this,a),this.height=p?p(this):1};Eo.prototype.lineNo=function(){return J(this)},si(Eo);function gl(n,a,p,d){n.text=a,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),n.order!=null&&(n.order=null),Zt(n),oi(n,p);var v=d?d(n):1;v!=n.height&&Rn(n,v)}function un(n){n.parent=null,Zt(n)}var fc={},Ir={};function So(n,a){if(!n||/^\s*$/.test(n))return null;var p=a.addModeClass?Ir:fc;return p[n]||(p[n]=n.replace(/\S+/g,"cm-$&"))}function js(n,a){var p=se("span",null,null,w?"padding-right: .1px":null),d={pre:se("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};a.measure={};for(var v=0;v<=(a.rest?a.rest.length:0);v++){var C=v?a.rest[v-1]:a.line,F=void 0;d.pos=0,d.addToken=za,jn(n.display.measure)&&(F=Ut(C,n.doc.direction))&&(d.addToken=Ji(d.addToken,F)),d.map=[];var H=a!=n.display.externalMeasured&&J(C);zu(C,d,ae(n,C,H)),C.styleClasses&&(C.styleClasses.bgClass&&(d.bgClass=Me(C.styleClasses.bgClass,d.bgClass||"")),C.styleClasses.textClass&&(d.textClass=Me(C.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(Ot(n.display.measure))),v==0?(a.measure.map=d.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(d.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(w){var G=d.content.lastChild;(/\bcm-tab\b/.test(G.className)||G.querySelector&&G.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Ri(n,"renderLine",n,a.line,d.pre),d.pre.className&&(d.textClass=Me(d.pre.className,d.textClass||"")),d}function To(n){var a=P("span","","cm-invalidchar");return a.title="\\u"+n.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function za(n,a,p,d,v,C,F){if(a){var H=n.splitSpaces?Nu(a,n.trailingSpace):a,G=n.cm.state.specialChars,K=!1,be;if(!G.test(a))n.col+=a.length,be=document.createTextNode(H),n.map.push(n.pos,n.pos+a.length,be),b&&x<9&&(K=!0),n.pos+=a.length;else{be=document.createDocumentFragment();for(var Ce=0;;){G.lastIndex=Ce;var ze=G.exec(a),Fe=ze?ze.index-Ce:a.length-Ce;if(Fe){var Ge=document.createTextNode(H.slice(Ce,Ce+Fe));b&&x<9?be.appendChild(P("span",[Ge])):be.appendChild(Ge),n.map.push(n.pos,n.pos+Fe,Ge),n.col+=Fe,n.pos+=Fe}if(!ze)break;Ce+=Fe+1;var rt=void 0;if(ze[0]=="	"){var dt=n.cm.options.tabSize,bt=dt-n.col%dt;rt=be.appendChild(P("span",Kt(bt),"cm-tab")),rt.setAttribute("role","presentation"),rt.setAttribute("cm-text","	"),n.col+=bt}else ze[0]=="\r"||ze[0]==`
`?(rt=be.appendChild(P("span",ze[0]=="\r"?"":"","cm-invalidchar")),rt.setAttribute("cm-text",ze[0]),n.col+=1):(rt=n.cm.options.specialCharPlaceholder(ze[0]),rt.setAttribute("cm-text",ze[0]),b&&x<9?be.appendChild(P("span",[rt])):be.appendChild(rt),n.col+=1);n.map.push(n.pos,n.pos+1,rt),n.pos++}}if(n.trailingSpace=H.charCodeAt(a.length-1)==32,p||d||v||K||C||F){var yt=p||"";d&&(yt+=d),v&&(yt+=v);var vt=P("span",[be],yt,C);if(F)for(var Tt in F)F.hasOwnProperty(Tt)&&Tt!="style"&&Tt!="class"&&vt.setAttribute(Tt,F[Tt]);return n.content.appendChild(vt)}n.content.appendChild(be)}}function Nu(n,a){if(n.length>1&&!/  /.test(n))return n;for(var p=a,d="",v=0;v<n.length;v++){var C=n.charAt(v);C==" "&&p&&(v==n.length-1||n.charCodeAt(v+1)==32)&&(C=""),d+=C,p=C==" "}return d}function Ji(n,a){return function(p,d,v,C,F,H,G){v=v?v+" cm-force-border":"cm-force-border";for(var K=p.pos,be=K+d.length;;){for(var Ce=void 0,ze=0;ze<a.length&&(Ce=a[ze],!(Ce.to>K&&Ce.from<=K));ze++);if(Ce.to>=be)return n(p,d,v,C,F,H,G);n(p,d.slice(0,Ce.to-K),v,C,null,H,G),C=null,d=d.slice(Ce.to-K),K=Ce.to}}}function ho(n,a,p,d){var v=!d&&p.widgetNode;v&&n.map.push(n.pos,n.pos+a,v),!d&&n.cm.display.input.needsContentAttribute&&(v||(v=n.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(n.cm.display.input.setUneditable(v),n.content.appendChild(v)),n.pos+=a,n.trailingSpace=!1}function zu(n,a,p){var d=n.markedSpans,v=n.text,C=0;if(!d){for(var F=1;F<p.length;F+=2)a.addToken(a,v.slice(C,C=p[F]),So(p[F+1],a.cm.options));return}for(var H=v.length,G=0,K=1,be="",Ce,ze,Fe=0,Ge,rt,dt,bt,yt;;){if(Fe==G){Ge=rt=dt=ze="",yt=null,bt=null,Fe=1/0;for(var vt=[],Tt=void 0,Bt=0;Bt<d.length;++Bt){var zt=d[Bt],ci=zt.marker;if(ci.type=="bookmark"&&zt.from==G&&ci.widgetNode)vt.push(ci);else if(zt.from<=G&&(zt.to==null||zt.to>G||ci.collapsed&&zt.to==G&&zt.from==G)){if(zt.to!=null&&zt.to!=G&&Fe>zt.to&&(Fe=zt.to,rt=""),ci.className&&(Ge+=" "+ci.className),ci.css&&(ze=(ze?ze+";":"")+ci.css),ci.startStyle&&zt.from==G&&(dt+=" "+ci.startStyle),ci.endStyle&&zt.to==Fe&&(Tt||(Tt=[])).push(ci.endStyle,zt.to),ci.title&&((yt||(yt={})).title=ci.title),ci.attributes)for(var Yi in ci.attributes)(yt||(yt={}))[Yi]=ci.attributes[Yi];ci.collapsed&&(!bt||Uo(bt.marker,ci)<0)&&(bt=zt)}else zt.from>G&&Fe>zt.from&&(Fe=zt.from)}if(Tt)for(var xn=0;xn<Tt.length;xn+=2)Tt[xn+1]==Fe&&(rt+=" "+Tt[xn]);if(!bt||bt.from==G)for(var an=0;an<vt.length;++an)ho(a,0,vt[an]);if(bt&&(bt.from||0)==G){if(ho(a,(bt.to==null?H+1:bt.to)-G,bt.marker,bt.from==null),bt.to==null)return;bt.to==G&&(bt=!1)}}if(G>=H)break;for(var gn=Math.min(H,Fe);;){if(be){var An=G+be.length;if(!bt){var Dn=An>gn?be.slice(0,gn-G):be;a.addToken(a,Dn,Ce?Ce+Ge:Ge,dt,G+Dn.length==Fe?rt:"",ze,yt)}if(An>=gn){be=be.slice(gn-G),G=gn;break}G=An,dt=""}be=v.slice(C,C=p[K++]),Ce=So(p[K++],a.cm.options)}}}function vl(n,a,p){this.line=a,this.rest=zr(a),this.size=this.rest?J(Z(this.rest))-p+1:1,this.node=this.text=null,this.hidden=hn(n,a)}function Go(n,a,p){for(var d=[],v,C=a;C<p;C=v){var F=new vl(n.doc,Lt(n.doc,C),C);v=C+F.size,d.push(F)}return d}var Ia=null;function bl(n){Ia?Ia.ops.push(n):n.ownsGroup=Ia={ops:[n],delayedCallbacks:[]}}function _l(n){var a=n.delayedCallbacks,p=0;do{for(;p<a.length;p++)a[p].call(null);for(var d=0;d<n.ops.length;d++){var v=n.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<a.length)}function gs(n,a){var p=n.ownsGroup;if(p)try{_l(p)}finally{Ia=null,a(p)}}var xr=null;function en(n,a){var p=sn(n,a);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;Ia?v=Ia.delayedCallbacks:xr?v=xr:(v=xr=[],setTimeout(vs,0));for(var C=function(H){v.push(function(){return p[H].apply(null,d)})},F=0;F<p.length;++F)C(F)}}function vs(){var n=xr;xr=null;for(var a=0;a<n.length;++a)n[a]()}function kr(n,a,p,d){for(var v=0;v<a.changes.length;v++){var C=a.changes[v];C=="text"?Gs(n,a):C=="gutter"?Zs(n,a,p,d):C=="class"?bs(n,a):C=="widget"&&Iu(n,a,d)}a.changes=null}function ba(n){return n.node==n.text&&(n.node=P("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),b&&x<8&&(n.node.style.zIndex=2)),n.node}function Us(n,a){var p=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),a.background)p?a.background.className=p:(a.background.parentNode.removeChild(a.background),a.background=null);else if(p){var d=ba(a);a.background=d.insertBefore(P("div",null,p),d.firstChild),n.display.input.setUneditable(a.background)}}function Ys(n,a){var p=n.display.externalMeasured;return p&&p.line==a.line?(n.display.externalMeasured=null,a.measure=p.measure,p.built):js(n,a)}function Gs(n,a){var p=a.text.className,d=Ys(n,a);a.text==a.node&&(a.node=d.pre),a.text.parentNode.replaceChild(d.pre,a.text),a.text=d.pre,d.bgClass!=a.bgClass||d.textClass!=a.textClass?(a.bgClass=d.bgClass,a.textClass=d.textClass,bs(n,a)):p&&(a.text.className=p)}function bs(n,a){Us(n,a),a.line.wrapClass?ba(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var p=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=p||""}function Zs(n,a,p,d){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var v=ba(a);a.gutterBackground=P("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(n.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),n.display.input.setUneditable(a.gutterBackground),v.insertBefore(a.gutterBackground,a.text)}var C=a.line.gutterMarkers;if(n.options.lineNumbers||C){var F=ba(a),H=a.gutter=P("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(H.setAttribute("aria-hidden","true"),n.display.input.setUneditable(H),F.insertBefore(H,a.text),a.line.gutterClass&&(H.className+=" "+a.line.gutterClass),n.options.lineNumbers&&(!C||!C["CodeMirror-linenumbers"])&&(a.lineNumber=H.appendChild(P("div",nt(n.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),C)for(var G=0;G<n.display.gutterSpecs.length;++G){var K=n.display.gutterSpecs[G].className,be=C.hasOwnProperty(K)&&C[K];be&&H.appendChild(P("div",[be],"CodeMirror-gutter-elt","left: "+d.gutterLeft[K]+"px; width: "+d.gutterWidth[K]+"px"))}}}function Iu(n,a,p){a.alignable&&(a.alignable=null);for(var d=fe("CodeMirror-linewidget"),v=a.node.firstChild,C=void 0;v;v=C)C=v.nextSibling,d.test(v.className)&&a.node.removeChild(v);Bu(n,a,p)}function yl(n,a,p,d){var v=Ys(n,a);return a.text=a.node=v.pre,v.bgClass&&(a.bgClass=v.bgClass),v.textClass&&(a.textClass=v.textClass),bs(n,a),Zs(n,a,p,d),Bu(n,a,d),a.node}function Bu(n,a,p){if(tn(n,a.line,a,p,!0),a.rest)for(var d=0;d<a.rest.length;d++)tn(n,a.rest[d],a,p,!1)}function tn(n,a,p,d,v){if(a.widgets)for(var C=ba(p),F=0,H=a.widgets;F<H.length;++F){var G=H[F],K=P("div",[G.node],"CodeMirror-linewidget"+(G.className?" "+G.className:""));G.handleMouseEvents||K.setAttribute("cm-ignore-events","true"),Zo(G,K,p,d),n.display.input.setUneditable(K),v&&G.above?C.insertBefore(K,p.gutter||p.text):C.appendChild(K),en(G,"redraw")}}function Zo(n,a,p,d){if(n.noHScroll){(p.alignable||(p.alignable=[])).push(a);var v=d.wrapperWidth;a.style.left=d.fixedPos+"px",n.coverGutter||(v-=d.gutterTotalWidth,a.style.paddingLeft=d.gutterTotalWidth+"px"),a.style.width=v+"px"}n.coverGutter&&(a.style.zIndex=5,a.style.position="relative",n.noHScroll||(a.style.marginLeft=-d.gutterTotalWidth+"px"))}function Ao(n){if(n.height!=null)return n.height;var a=n.doc.cm;if(!a)return 0;if(!Ee(document.body,n.node)){var p="position: relative;";n.coverGutter&&(p+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),n.noHScroll&&(p+="width: "+a.display.wrapper.clientWidth+"px;"),re(a.display.measure,P("div",[n.node],null,p))}return n.height=n.node.parentNode.offsetHeight}function Nn(n,a){for(var p=Hi(a);p!=n.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==n.sizer&&p!=n.mover)return!0}function _s(n){return n.lineSpace.offsetTop}function Xo(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function wl(n){if(n.cachedPaddingH)return n.cachedPaddingH;var a=re(n.measure,P("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(n.cachedPaddingH=d),d}function Cr(n){return ut-n.display.nativeBarWidth}function Vo(n){return n.display.scroller.clientWidth-Cr(n)-n.display.barWidth}function Ba(n){return n.display.scroller.clientHeight-Cr(n)-n.display.barHeight}function $a(n,a,p){var d=n.options.lineWrapping,v=d&&Vo(n);if(!a.measure.heights||d&&a.measure.width!=v){var C=a.measure.heights=[];if(d){a.measure.width=v;for(var F=a.text.firstChild.getClientRects(),H=0;H<F.length-1;H++){var G=F[H],K=F[H+1];Math.abs(G.bottom-K.bottom)>2&&C.push((G.bottom+K.top)/2-p.top)}}C.push(p.bottom-p.top)}}function Do(n,a,p){if(n.line==a)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var d=0;d<n.rest.length;d++)if(n.rest[d]==a)return{map:n.measure.maps[d],cache:n.measure.caches[d]};for(var v=0;v<n.rest.length;v++)if(J(n.rest[v])>p)return{map:n.measure.maps[v],cache:n.measure.caches[v],before:!0}}}function Xs(n,a){a=Ni(a);var p=J(a),d=n.display.externalMeasured=new vl(n.doc,a,p);d.lineN=p;var v=d.built=js(n,d);return d.text=v.pre,re(n.display.lineMeasure,v.pre),d}function Vs(n,a,p,d){return dn(n,Br(n,a),p,d)}function Ha(n,a){if(a>=n.display.viewFrom&&a<n.display.viewTo)return n.display.view[Jo(n,a)];var p=n.display.externalMeasured;if(p&&a>=p.lineN&&a<p.lineN+p.size)return p}function Br(n,a){var p=J(a),d=Ha(n,p);d&&!d.text?d=null:d&&d.changes&&(kr(n,d,p,Wa(n)),n.curOp.forceUpdate=!0),d||(d=Xs(n,a));var v=Do(d,a,p);return{line:a,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function dn(n,a,p,d,v){a.before&&(p=-1);var C=p+(d||""),F;return a.cache.hasOwnProperty(C)?F=a.cache[C]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||($a(n,a.view,a.rect),a.hasHeights=!0),F=Er(n,a,p,d),F.bogus||(a.cache[C]=F)),{left:F.left,right:F.right,top:v?F.rtop:F.top,bottom:v?F.rbottom:F.bottom}}var xl={left:0,right:0,top:0,bottom:0};function _a(n,a,p){for(var d,v,C,F,H,G,K=0;K<n.length;K+=3)if(H=n[K],G=n[K+1],a<H?(v=0,C=1,F="left"):a<G?(v=a-H,C=v+1):(K==n.length-3||a==G&&n[K+3]>a)&&(C=G-H,v=C-1,a>=G&&(F="right")),v!=null){if(d=n[K+2],H==G&&p==(d.insertLeft?"left":"right")&&(F=p),p=="left"&&v==0)for(;K&&n[K-2]==n[K-3]&&n[K-1].insertLeft;)d=n[(K-=3)+2],F="left";if(p=="right"&&v==G-H)for(;K<n.length-3&&n[K+3]==n[K+4]&&!n[K+5].insertLeft;)d=n[(K+=3)+2],F="right";break}return{node:d,start:v,end:C,collapse:F,coverStart:H,coverEnd:G}}function hc(n,a){var p=xl;if(a=="left")for(var d=0;d<n.length&&(p=n[d]).left==p.right;d++);else for(var v=n.length-1;v>=0&&(p=n[v]).left==p.right;v--);return p}function Er(n,a,p,d){var v=_a(a.map,p,d),C=v.node,F=v.start,H=v.end,G=v.collapse,K;if(C.nodeType==3){for(var be=0;be<4;be++){for(;F&&ct(a.line.text.charAt(v.coverStart+F));)--F;for(;v.coverStart+H<v.coverEnd&&ct(a.line.text.charAt(v.coverStart+H));)++H;if(b&&x<9&&F==0&&H==v.coverEnd-v.coverStart?K=C.parentNode.getBoundingClientRect():K=hc(ye(C,F,H).getClientRects(),d),K.left||K.right||F==0)break;H=F,F=F-1,G="right"}b&&x<11&&(K=Sr(n.display.measure,K))}else{F>0&&(G=d="right");var Ce;n.options.lineWrapping&&(Ce=C.getClientRects()).length>1?K=Ce[d=="right"?Ce.length-1:0]:K=C.getBoundingClientRect()}if(b&&x<9&&!F&&(!K||!K.left&&!K.right)){var ze=C.parentNode.getClientRects()[0];ze?K={left:ze.left,right:ze.left+go(n.display),top:ze.top,bottom:ze.bottom}:K=xl}for(var Fe=K.top-a.rect.top,Ge=K.bottom-a.rect.top,rt=(Fe+Ge)/2,dt=a.view.measure.heights,bt=0;bt<dt.length-1&&!(rt<dt[bt]);bt++);var yt=bt?dt[bt-1]:0,vt=dt[bt],Tt={left:(G=="right"?K.right:K.left)-a.rect.left,right:(G=="left"?K.left:K.right)-a.rect.left,top:yt,bottom:vt};return!K.left&&!K.right&&(Tt.bogus=!0),n.options.singleCursorHeightPerLine||(Tt.rtop=Fe,Tt.rbottom=Ge),Tt}function Sr(n,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Qi(n))return a;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*p,right:a.right*p,top:a.top*d,bottom:a.bottom*d}}function Ks(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var a=0;a<n.rest.length;a++)n.measure.caches[a]={}}function Qs(n){n.display.externalMeasure=null,ve(n.display.lineMeasure);for(var a=0;a<n.display.view.length;a++)Ks(n.display.view[a])}function Ko(n){Qs(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function Js(n){return O&&D?-(n.body.getBoundingClientRect().left-parseInt(getComputedStyle(n.body).marginLeft)):n.defaultView.pageXOffset||(n.documentElement||n.body).scrollLeft}function ys(n){return O&&D?-(n.body.getBoundingClientRect().top-parseInt(getComputedStyle(n.body).marginTop)):n.defaultView.pageYOffset||(n.documentElement||n.body).scrollTop}function Qo(n){var a=Ni(n),p=a.widgets,d=0;if(p)for(var v=0;v<p.length;++v)p[v].above&&(d+=Ao(p[v]));return d}function jr(n,a,p,d,v){if(!v){var C=Qo(a);p.top+=C,p.bottom+=C}if(d=="line")return p;d||(d="local");var F=to(a);if(d=="local"?F+=_s(n.display):F-=n.display.viewOffset,d=="page"||d=="window"){var H=n.display.lineSpace.getBoundingClientRect();F+=H.top+(d=="window"?0:ys(Y(n)));var G=H.left+(d=="window"?0:Js(Y(n)));p.left+=G,p.right+=G}return p.top+=F,p.bottom+=F,p}function Ne(n,a,p){if(p=="div")return a;var d=a.left,v=a.top;if(p=="page")d-=Js(Y(n)),v-=ys(Y(n));else if(p=="local"||!p){var C=n.display.sizer.getBoundingClientRect();d+=C.left,v+=C.top}var F=n.display.lineSpace.getBoundingClientRect();return{left:d-F.left,top:v-F.top}}function tt(n,a,p,d,v){return d||(d=Lt(n.doc,a.line)),jr(n,d,Vs(n,d,a.ch,v),p)}function Ue(n,a,p,d,v,C){d=d||Lt(n.doc,a.line),v||(v=Br(n,d));function F(Ge,rt){var dt=dn(n,v,Ge,rt?"right":"left",C);return rt?dt.left=dt.right:dt.right=dt.left,jr(n,d,dt,p)}var H=Ut(d,n.doc.direction),G=a.ch,K=a.sticky;if(G>=d.text.length?(G=d.text.length,K="before"):G<=0&&(G=0,K="after"),!H)return F(K=="before"?G-1:G,K=="before");function be(Ge,rt,dt){var bt=H[rt],yt=bt.level==1;return F(dt?Ge-1:Ge,yt!=dt)}var Ce=xt(H,G,K),ze=Vt,Fe=be(G,Ce,K=="before");return ze!=null&&(Fe.other=be(G,ze,K!="before")),Fe}function At(n,a){var p=0;a=Wt(n.doc,a),n.options.lineWrapping||(p=go(n.display)*a.ch);var d=Lt(n.doc,a.line),v=to(d)+_s(n.display);return{left:p,right:p,top:v,bottom:v+d.height}}function Jt(n,a,p,d,v){var C=je(n,a,p);return C.xRel=v,d&&(C.outside=d),C}function Si(n,a,p){var d=n.doc;if(p+=n.display.viewOffset,p<0)return Jt(d.first,0,null,-1,-1);var v=xe(d,p),C=d.first+d.size-1;if(v>C)return Jt(d.first+d.size-1,Lt(d,C).text.length,null,1,1);a<0&&(a=0);for(var F=Lt(d,v);;){var H=po(n,F,v,a,p),G=Na(F,H.ch+(H.xRel>0||H.outside>0?1:0));if(!G)return H;var K=G.find(1);if(K.line==v)return K;F=Lt(d,v=K.line)}}function yn(n,a,p,d){d-=Qo(a);var v=a.text.length,C=Yt(function(F){return dn(n,p,F-1).bottom<=d},v,0);return v=Yt(function(F){return dn(n,p,F).top>d},C,v),{begin:C,end:v}}function qi(n,a,p,d){p||(p=Br(n,a));var v=jr(n,a,dn(n,p,d),"line").top;return yn(n,a,p,v)}function ws(n,a,p,d){return n.bottom<=p?!1:n.top>p?!0:(d?n.left:n.right)>a}function po(n,a,p,d,v){v-=to(a);var C=Br(n,a),F=Qo(a),H=0,G=a.text.length,K=!0,be=Ut(a,n.doc.direction);if(be){var Ce=(n.options.lineWrapping?eu:vr)(n,a,p,C,be,d,v);K=Ce.level!=1,H=K?Ce.from:Ce.to-1,G=K?Ce.to:Ce.from-1}var ze=null,Fe=null,Ge=Yt(function(Bt){var zt=dn(n,C,Bt);return zt.top+=F,zt.bottom+=F,ws(zt,d,v,!1)?(zt.top<=v&&zt.left<=d&&(ze=Bt,Fe=zt),!0):!1},H,G),rt,dt,bt=!1;if(Fe){var yt=d-Fe.left<Fe.right-d,vt=yt==K;Ge=ze+(vt?0:1),dt=vt?"after":"before",rt=yt?Fe.left:Fe.right}else{!K&&(Ge==G||Ge==H)&&Ge++,dt=Ge==0?"after":Ge==a.text.length?"before":dn(n,C,Ge-(K?1:0)).bottom+F<=v==K?"after":"before";var Tt=Ue(n,je(p,Ge,dt),"line",a,C);rt=Tt.left,bt=v<Tt.top?-1:v>=Tt.bottom?1:0}return Ge=Ht(a.text,Ge,1),Jt(p,Ge,dt,bt,d-rt)}function vr(n,a,p,d,v,C,F){var H=Yt(function(Ce){var ze=v[Ce],Fe=ze.level!=1;return ws(Ue(n,je(p,Fe?ze.to:ze.from,Fe?"before":"after"),"line",a,d),C,F,!0)},0,v.length-1),G=v[H];if(H>0){var K=G.level!=1,be=Ue(n,je(p,K?G.from:G.to,K?"after":"before"),"line",a,d);ws(be,C,F,!0)&&be.top>F&&(G=v[H-1])}return G}function eu(n,a,p,d,v,C,F){var H=yn(n,a,d,F),G=H.begin,K=H.end;/\s/.test(a.text.charAt(K-1))&&K--;for(var be=null,Ce=null,ze=0;ze<v.length;ze++){var Fe=v[ze];if(!(Fe.from>=K||Fe.to<=G)){var Ge=Fe.level!=1,rt=dn(n,d,Ge?Math.min(K,Fe.to)-1:Math.max(G,Fe.from)).right,dt=rt<C?C-rt+1e9:rt-C;(!be||Ce>dt)&&(be=Fe,Ce=dt)}}return be||(be=v[v.length-1]),be.from<G&&(be={from:G,to:be.to,level:be.level}),be.to>K&&(be={from:be.from,to:K,level:be.level}),be}var mo;function io(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(mo==null){mo=P("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)mo.appendChild(document.createTextNode("x")),mo.appendChild(P("br"));mo.appendChild(document.createTextNode("x"))}re(n.measure,mo);var p=mo.offsetHeight/50;return p>3&&(n.cachedTextHeight=p),ve(n.measure),p||1}function go(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var a=P("span","xxxxxxxxxx"),p=P("pre",[a],"CodeMirror-line-like");re(n.measure,p);var d=a.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(n.cachedCharWidth=v),v||10}function Wa(n){for(var a=n.display,p={},d={},v=a.gutters.clientLeft,C=a.gutters.firstChild,F=0;C;C=C.nextSibling,++F){var H=n.display.gutterSpecs[F].className;p[H]=C.offsetLeft+C.clientLeft+v,d[H]=C.clientWidth}return{fixedPos:Ci(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:a.wrapper.clientWidth}}function Ci(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function kl(n){var a=io(n.display),p=n.options.lineWrapping,d=p&&Math.max(5,n.display.scroller.clientWidth/go(n.display)-3);return function(v){if(hn(n.doc,v))return 0;var C=0;if(v.widgets)for(var F=0;F<v.widgets.length;F++)v.widgets[F].height&&(C+=v.widgets[F].height);return p?C+(Math.ceil(v.text.length/d)||1)*a:C+a}}function Lo(n){var a=n.doc,p=kl(n);a.iter(function(d){var v=p(d);v!=d.height&&Rn(d,v)})}function no(n,a,p,d){var v=n.display;if(!p&&Hi(a).getAttribute("cm-not-content")=="true")return null;var C,F,H=v.lineSpace.getBoundingClientRect();try{C=a.clientX-H.left,F=a.clientY-H.top}catch{return null}var G=Si(n,C,F),K;if(d&&G.xRel>0&&(K=Lt(n.doc,G.line).text).length==G.ch){var be=qe(K,K.length,n.options.tabSize)-K.length;G=je(G.line,Math.max(0,Math.round((C-wl(n.display).left)/go(n.display))-be))}return G}function Jo(n,a){if(a>=n.display.viewTo||(a-=n.display.viewFrom,a<0))return null;for(var p=n.display.view,d=0;d<p.length;d++)if(a-=p[d].size,a<0)return d}function br(n,a,p,d){a==null&&(a=n.doc.first),p==null&&(p=n.doc.first+n.doc.size),d||(d=0);var v=n.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>a)&&(v.updateLineNumbers=a),n.curOp.viewChanged=!0,a>=v.viewTo)Pi&&ps(n.doc,a)<v.viewTo&&Ur(n);else if(p<=v.viewFrom)Pi&&Hs(n.doc,p+d)>v.viewFrom?Ur(n):(v.viewFrom+=d,v.viewTo+=d);else if(a<=v.viewFrom&&p>=v.viewTo)Ur(n);else if(a<=v.viewFrom){var C=Yr(n,p,p+d,1);C?(v.view=v.view.slice(C.index),v.viewFrom=C.lineN,v.viewTo+=d):Ur(n)}else if(p>=v.viewTo){var F=Yr(n,a,a,-1);F?(v.view=v.view.slice(0,F.index),v.viewTo=F.lineN):Ur(n)}else{var H=Yr(n,a,a,-1),G=Yr(n,p,p+d,1);H&&G?(v.view=v.view.slice(0,H.index).concat(Go(n,H.lineN,G.lineN)).concat(v.view.slice(G.index)),v.viewTo+=d):Ur(n)}var K=v.externalMeasured;K&&(p<K.lineN?K.lineN+=d:a<K.lineN+K.size&&(v.externalMeasured=null))}function ar(n,a,p){n.curOp.viewChanged=!0;var d=n.display,v=n.display.externalMeasured;if(v&&a>=v.lineN&&a<v.lineN+v.size&&(d.externalMeasured=null),!(a<d.viewFrom||a>=d.viewTo)){var C=d.view[Jo(n,a)];if(C.node!=null){var F=C.changes||(C.changes=[]);Xe(F,p)==-1&&F.push(p)}}}function Ur(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Yr(n,a,p,d){var v=Jo(n,a),C,F=n.display.view;if(!Pi||p==n.doc.first+n.doc.size)return{index:v,lineN:p};for(var H=n.display.viewFrom,G=0;G<v;G++)H+=F[G].size;if(H!=a){if(d>0){if(v==F.length-1)return null;C=H+F[v].size-a,v++}else C=H-a;a+=C,p+=C}for(;ps(n.doc,p)!=p;){if(v==(d<0?0:F.length-1))return null;p+=d*F[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function ea(n,a,p){var d=n.display,v=d.view;v.length==0||a>=d.viewTo||p<=d.viewFrom?(d.view=Go(n,a,p),d.viewFrom=a):(d.viewFrom>a?d.view=Go(n,a,d.viewFrom).concat(d.view):d.viewFrom<a&&(d.view=d.view.slice(Jo(n,a))),d.viewFrom=a,d.viewTo<p?d.view=d.view.concat(Go(n,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,Jo(n,p)))),d.viewTo=p}function $u(n){for(var a=n.display.view,p=0,d=0;d<a.length;d++){var v=a[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function ro(n){n.display.input.showSelection(n.display.input.prepareSelection())}function ya(n,a){a===void 0&&(a=!0);var p=n.doc,d={},v=d.cursors=document.createDocumentFragment(),C=d.selection=document.createDocumentFragment(),F=n.options.$customCursor;F&&(a=!0);for(var H=0;H<p.sel.ranges.length;H++)if(!(!a&&H==p.sel.primIndex)){var G=p.sel.ranges[H];if(!(G.from().line>=n.display.viewTo||G.to().line<n.display.viewFrom)){var K=G.empty();if(F){var be=F(n,G);be&&xs(n,be,v)}else(K||n.options.showCursorWhenSelecting)&&xs(n,G.head,v);K||Cl(n,G,C)}}return d}function xs(n,a,p){var d=Ue(n,a,"div",null,null,!n.options.singleCursorHeightPerLine),v=p.appendChild(P("div","","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var C=tt(n,a,"div",null,null),F=C.right-C.left;v.style.width=(F>0?F:n.defaultCharWidth())+"px"}if(d.other){var H=p.appendChild(P("div","","CodeMirror-cursor CodeMirror-secondarycursor"));H.style.display="",H.style.left=d.other.left+"px",H.style.top=d.other.top+"px",H.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function ta(n,a){return n.top-a.top||n.left-a.left}function Cl(n,a,p){var d=n.display,v=n.doc,C=document.createDocumentFragment(),F=wl(n.display),H=F.left,G=Math.max(d.sizerWidth,Vo(n)-d.sizer.offsetLeft)-F.right,K=v.direction=="ltr";function be(vt,Tt,Bt,zt){Tt<0&&(Tt=0),Tt=Math.round(Tt),zt=Math.round(zt),C.appendChild(P("div",null,"CodeMirror-selected","position: absolute; left: "+vt+`px;
                             top: `+Tt+"px; width: "+(Bt??G-vt)+`px;
                             height: `+(zt-Tt)+"px"))}function Ce(vt,Tt,Bt){var zt=Lt(v,vt),ci=zt.text.length,Yi,xn;function an(Dn,Ar){return tt(n,je(vt,Dn),"div",zt,Ar)}function gn(Dn,Ar,lr){var In=qi(n,zt,null,Dn),Ln=Ar=="ltr"==(lr=="after")?"left":"right",vn=lr=="after"?In.begin:In.end-(/\s/.test(zt.text.charAt(In.end-1))?2:1);return an(vn,Ln)[Ln]}var An=Ut(zt,v.direction);return Qt(An,Tt||0,Bt??ci,function(Dn,Ar,lr,In){var Ln=lr=="ltr",vn=an(Dn,Ln?"left":"right"),$r=an(Ar-1,Ln?"right":"left"),wu=Tt==null&&Dn==0,ts=Bt==null&&Ar==ci,_r=In==0,la=!An||In==An.length-1;if($r.top-vn.top<=3){var Qn=(K?wu:ts)&&_r,Bc=(K?ts:wu)&&la,ca=Qn?H:(Ln?vn:$r).left,is=Bc?G:(Ln?$r:vn).right;be(ca,vn.top,is-ca,vn.bottom)}else{var ns,Dr,xu,$c;Ln?(ns=K&&wu&&_r?H:vn.left,Dr=K?G:gn(Dn,lr,"before"),xu=K?H:gn(Ar,lr,"after"),$c=K&&ts&&la?G:$r.right):(ns=K?gn(Dn,lr,"before"):H,Dr=!K&&wu&&_r?G:vn.right,xu=!K&&ts&&la?H:$r.left,$c=K?gn(Ar,lr,"after"):G),be(ns,vn.top,Dr-ns,vn.bottom),vn.bottom<$r.top&&be(H,vn.bottom,null,$r.top),be(xu,$r.top,$c-xu,$r.bottom)}(!Yi||ta(vn,Yi)<0)&&(Yi=vn),ta($r,Yi)<0&&(Yi=$r),(!xn||ta(vn,xn)<0)&&(xn=vn),ta($r,xn)<0&&(xn=$r)}),{start:Yi,end:xn}}var ze=a.from(),Fe=a.to();if(ze.line==Fe.line)Ce(ze.line,ze.ch,Fe.ch);else{var Ge=Lt(v,ze.line),rt=Lt(v,Fe.line),dt=Ni(Ge)==Ni(rt),bt=Ce(ze.line,ze.ch,dt?Ge.text.length+1:null).end,yt=Ce(Fe.line,dt?0:null,Fe.ch).start;dt&&(bt.top<yt.top-2?(be(bt.right,bt.top,null,bt.bottom),be(H,yt.top,yt.left,yt.bottom)):be(bt.right,bt.top,yt.left-bt.right,bt.bottom)),bt.bottom<yt.top&&be(H,bt.bottom,null,yt.top)}p.appendChild(C)}function ia(n){if(n.state.focused){var a=n.display;clearInterval(a.blinker);var p=!0;a.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?a.blinker=setInterval(function(){n.hasFocus()||xa(n),a.cursorDiv.style.visibility=(p=!p)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function Mo(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||tu(n))}function wa(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&xa(n))},100)}function tu(n,a){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(Ri(n,"focus",n,a),n.state.focused=!0,Be(n.display.wrapper,"CodeMirror-focused"),!n.curOp&&n.display.selForContextMenu!=n.doc.sel&&(n.display.input.reset(),w&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),ia(n))}function xa(n,a){n.state.delayingBlurEvent||(n.state.focused&&(Ri(n,"blur",n,a),n.state.focused=!1,De(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function iu(n){for(var a=n.display,p=a.lineDiv.offsetTop,d=Math.max(0,a.scroller.getBoundingClientRect().top),v=a.lineDiv.getBoundingClientRect().top,C=0,F=0;F<a.view.length;F++){var H=a.view[F],G=n.options.lineWrapping,K=void 0,be=0;if(!H.hidden){if(v+=H.line.height,b&&x<8){var Ce=H.node.offsetTop+H.node.offsetHeight;K=Ce-p,p=Ce}else{var ze=H.node.getBoundingClientRect();K=ze.bottom-ze.top,!G&&H.text.firstChild&&(be=H.text.firstChild.getBoundingClientRect().right-ze.left-1)}var Fe=H.line.height-K;if((Fe>.005||Fe<-.005)&&(v<d&&(C-=Fe),Rn(H.line,K),qa(H.line),H.rest))for(var Ge=0;Ge<H.rest.length;Ge++)qa(H.rest[Ge]);if(be>n.display.sizerWidth){var rt=Math.ceil(be/go(n.display));rt>n.display.maxLineLength&&(n.display.maxLineLength=rt,n.display.maxLine=H.line,n.display.maxLineChanged=!0)}}}Math.abs(C)>2&&(a.scroller.scrollTop+=C)}function qa(n){if(n.widgets)for(var a=0;a<n.widgets.length;++a){var p=n.widgets[a],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function na(n,a,p){var d=p&&p.top!=null?Math.max(0,p.top):n.scroller.scrollTop;d=Math.floor(d-_s(n));var v=p&&p.bottom!=null?p.bottom:d+n.wrapper.clientHeight,C=xe(a,d),F=xe(a,v);if(p&&p.ensure){var H=p.ensure.from.line,G=p.ensure.to.line;H<C?(C=H,F=xe(a,to(Lt(a,H))+n.wrapper.clientHeight)):Math.min(G,a.lastLine())>=F&&(C=xe(a,to(Lt(a,G))-n.wrapper.clientHeight),F=G)}return{from:C,to:Math.max(F,C+1)}}function Hu(n,a){if(!pi(n,"scrollCursorIntoView")){var p=n.display,d=p.sizer.getBoundingClientRect(),v=null,C=p.wrapper.ownerDocument;if(a.top+d.top<0?v=!0:a.bottom+d.top>(C.defaultView.innerHeight||C.documentElement.clientHeight)&&(v=!1),v!=null&&!M){var F=P("div","",null,`position: absolute;
                         top: `+(a.top-p.viewOffset-_s(n.display))+`px;
                         height: `+(a.bottom-a.top+Cr(n)+p.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");n.display.lineSpace.appendChild(F),F.scrollIntoView(v),n.display.lineSpace.removeChild(F)}}}function o(n,a,p,d){d==null&&(d=0);var v;!n.options.lineWrapping&&a==p&&(p=a.sticky=="before"?je(a.line,a.ch+1,"before"):a,a=a.ch?je(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var C=0;C<5;C++){var F=!1,H=Ue(n,a),G=!p||p==a?H:Ue(n,p);v={left:Math.min(H.left,G.left),top:Math.min(H.top,G.top)-d,right:Math.max(H.left,G.left),bottom:Math.max(H.bottom,G.bottom)+d};var K=y(n,v),be=n.doc.scrollTop,Ce=n.doc.scrollLeft;if(K.scrollTop!=null&&(lt(n,K.scrollTop),Math.abs(n.doc.scrollTop-be)>1&&(F=!0)),K.scrollLeft!=null&&(It(n,K.scrollLeft),Math.abs(n.doc.scrollLeft-Ce)>1&&(F=!0)),!F)break}return v}function m(n,a){var p=y(n,a);p.scrollTop!=null&&lt(n,p.scrollTop),p.scrollLeft!=null&&It(n,p.scrollLeft)}function y(n,a){var p=n.display,d=io(n.display);a.top<0&&(a.top=0);var v=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:p.scroller.scrollTop,C=Ba(n),F={};a.bottom-a.top>C&&(a.bottom=a.top+C);var H=n.doc.height+Xo(p),G=a.top<d,K=a.bottom>H-d;if(a.top<v)F.scrollTop=G?0:a.top;else if(a.bottom>v+C){var be=Math.min(a.top,(K?H:a.bottom)-C);be!=v&&(F.scrollTop=be)}var Ce=n.options.fixedGutter?0:p.gutters.offsetWidth,ze=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:p.scroller.scrollLeft-Ce,Fe=Vo(n)-p.gutters.offsetWidth,Ge=a.right-a.left>Fe;return Ge&&(a.right=a.left+Fe),a.left<10?F.scrollLeft=0:a.left<ze?F.scrollLeft=Math.max(0,a.left+Ce-(Ge?0:10)):a.right>Fe+ze-3&&(F.scrollLeft=a.right+(Ge?0:10)-Fe),F}function A(n,a){a!=null&&(We(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+a)}function U(n){We(n);var a=n.getCursor();n.curOp.scrollToPos={from:a,to:a,margin:n.options.cursorScrollMargin}}function oe(n,a,p){(a!=null||p!=null)&&We(n),a!=null&&(n.curOp.scrollLeft=a),p!=null&&(n.curOp.scrollTop=p)}function Ae(n,a){We(n),n.curOp.scrollToPos=a}function We(n){var a=n.curOp.scrollToPos;if(a){n.curOp.scrollToPos=null;var p=At(n,a.from),d=At(n,a.to);Ye(n,p,d,a.margin)}}function Ye(n,a,p,d){var v=y(n,{left:Math.min(a.left,p.left),top:Math.min(a.top,p.top)-d,right:Math.max(a.right,p.right),bottom:Math.max(a.bottom,p.bottom)+d});oe(n,v.scrollLeft,v.scrollTop)}function lt(n,a){Math.abs(n.doc.scrollTop-a)<2||(u||Po(n,{top:a}),Ct(n,a,!0),u&&Po(n),Wu(n,100))}function Ct(n,a,p){a=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,a)),!(n.display.scroller.scrollTop==a&&!p)&&(n.doc.scrollTop=a,n.display.scrollbars.setScrollTop(a),n.display.scroller.scrollTop!=a&&(n.display.scroller.scrollTop=a))}function It(n,a,p,d){a=Math.max(0,Math.min(a,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),!((p?a==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-a)<2)&&!d)&&(n.doc.scrollLeft=a,wf(n),n.display.scroller.scrollLeft!=a&&(n.display.scroller.scrollLeft=a),n.display.scrollbars.setScrollLeft(a))}function ai(n){var a=n.display,p=a.gutters.offsetWidth,d=Math.round(n.doc.height+Xo(n.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:n.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Cr(n)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:p}}var Zi=function(n,a,p){this.cm=p;var d=this.vert=P("div",[P("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=P("div",[P("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,n(d),n(v),Rt(d,"scroll",function(){d.clientHeight&&a(d.scrollTop,"vertical")}),Rt(v,"scroll",function(){v.clientWidth&&a(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Zi.prototype.update=function(n){var a=n.scrollWidth>n.clientWidth+1,p=n.scrollHeight>n.clientHeight+1,d=n.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=a?d+"px":"0";var v=n.viewHeight-(a?d:0);this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+v)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=n.barLeft+"px";var C=n.viewWidth-n.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+C)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&n.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:a?d:0}},Zi.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Zi.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Zi.prototype.zeroWidthHack=function(){var n=z&&!q?"12px":"18px";this.horiz.style.height=this.vert.style.width=n,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ze,this.disableVert=new Ze},Zi.prototype.enableZeroWidthBar=function(n,a,p){n.style.visibility="";function d(){var v=n.getBoundingClientRect(),C=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);C!=n?n.style.visibility="hidden":a.set(1e3,d)}a.set(1e3,d)},Zi.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var Xi=function(){};Xi.prototype.update=function(){return{bottom:0,right:0}},Xi.prototype.setScrollLeft=function(){},Xi.prototype.setScrollTop=function(){},Xi.prototype.clear=function(){};function pn(n,a){a||(a=ai(n));var p=n.display.barWidth,d=n.display.barHeight;zn(n,a);for(var v=0;v<4&&p!=n.display.barWidth||d!=n.display.barHeight;v++)p!=n.display.barWidth&&n.options.lineWrapping&&iu(n),zn(n,ai(n)),p=n.display.barWidth,d=n.display.barHeight}function zn(n,a){var p=n.display,d=p.scrollbars.update(a);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=a.gutterWidth+"px"):p.gutterFiller.style.display=""}var Gr={native:Zi,null:Xi};function El(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&De(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Gr[n.options.scrollbarStyle](function(a){n.display.wrapper.insertBefore(a,n.display.scrollbarFiller),Rt(a,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,p){p=="horizontal"?It(n,a):lt(n,a)},n),n.display.scrollbars.addClass&&Be(n.display.wrapper,n.display.scrollbars.addClass)}var dc=0;function ka(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++dc,markArrays:null},bl(n.curOp)}function ra(n){var a=n.curOp;a&&gs(a,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;pc(p)})}function pc(n){for(var a=n.ops,p=0;p<a.length;p++)ks(a[p]);for(var d=0;d<a.length;d++)nn(a[d]);for(var v=0;v<a.length;v++)Cs(a[v]);for(var C=0;C<a.length;C++)ce(a[C]);for(var F=0;F<a.length;F++)ja(a[F])}function ks(n){var a=n.cm,p=a.display;sd(a),n.updateMaxLine&&qs(a),n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<p.viewFrom||n.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&a.options.lineWrapping,n.update=n.mustUpdate&&new oa(a,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function nn(n){n.updatedDisplay=n.mustUpdate&&mc(n.cm,n.update)}function Cs(n){var a=n.cm,p=a.display;n.updatedDisplay&&iu(a),n.barMeasure=ai(a),p.maxLineChanged&&!a.options.lineWrapping&&(n.adjustWidthTo=Vs(a,p.maxLine,p.maxLine.text.length).left+3,a.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+n.adjustWidthTo+Cr(a)+a.display.barWidth),n.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+n.adjustWidthTo-Vo(a))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=p.input.prepareSelection())}function ce(n){var a=n.cm;n.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<a.doc.scrollLeft&&It(a,Math.min(a.display.scroller.scrollLeft,n.maxScrollLeft),!0),a.display.maxLineChanged=!1);var p=n.focus&&n.focus==it(Le(a));n.preparedSelection&&a.display.input.showSelection(n.preparedSelection,p),(n.updatedDisplay||n.startHeight!=a.doc.height)&&pn(a,n.barMeasure),n.updatedDisplay&&vc(a,n.barMeasure),n.selectionChanged&&ia(a),a.state.focused&&n.updateInput&&a.display.input.reset(n.typing),p&&Mo(n.cm)}function ja(n){var a=n.cm,p=a.display,d=a.doc;if(n.updatedDisplay&&yf(a,n.update),p.wheelStartX!=null&&(n.scrollTop!=null||n.scrollLeft!=null||n.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),n.scrollTop!=null&&Ct(a,n.scrollTop,n.forceScroll),n.scrollLeft!=null&&It(a,n.scrollLeft,!0,!0),n.scrollToPos){var v=o(a,Wt(d,n.scrollToPos.from),Wt(d,n.scrollToPos.to),n.scrollToPos.margin);Hu(a,v)}var C=n.maybeHiddenMarkers,F=n.maybeUnhiddenMarkers;if(C)for(var H=0;H<C.length;++H)C[H].lines.length||Ri(C[H],"hide");if(F)for(var G=0;G<F.length;++G)F[G].lines.length&&Ri(F[G],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=a.display.scroller.scrollTop),n.changeObjs&&Ri(a,"changes",a,n.changeObjs),n.update&&n.update.finish()}function Zn(n,a){if(n.curOp)return a();ka(n);try{return a()}finally{ra(n)}}function Di(n,a){return function(){if(n.curOp)return a.apply(n,arguments);ka(n);try{return a.apply(n,arguments)}finally{ra(n)}}}function Gt(n){return function(){if(this.curOp)return n.apply(this,arguments);ka(this);try{return n.apply(this,arguments)}finally{ra(this)}}}function Tn(n){return function(){var a=this.cm;if(!a||a.curOp)return n.apply(this,arguments);ka(a);try{return n.apply(this,arguments)}finally{ra(a)}}}function Wu(n,a){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(a,we(ad,n))}function ad(n){var a=n.doc;if(!(a.highlightFrontier>=n.display.viewTo)){var p=+new Date+n.options.workTime,d=_e(n,a.highlightFrontier),v=[];a.iter(d.line,Math.min(a.first+a.size,n.display.viewTo+500),function(C){if(d.line>=n.display.viewFrom){var F=C.styles,H=C.text.length>n.options.maxHighlightLength?bn(a.mode,d.state):null,G=ie(n,C,d,!0);H&&(d.state=H),C.styles=G.styles;var K=C.styleClasses,be=G.classes;be?C.styleClasses=be:K&&(C.styleClasses=null);for(var Ce=!F||F.length!=C.styles.length||K!=be&&(!K||!be||K.bgClass!=be.bgClass||K.textClass!=be.textClass),ze=0;!Ce&&ze<F.length;++ze)Ce=F[ze]!=C.styles[ze];Ce&&v.push(d.line),C.stateAfter=d.save(),d.nextLine()}else C.text.length<=n.options.maxHighlightLength&&Oe(n,C.text,d),C.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Wu(n,n.options.workDelay),!0}),a.highlightFrontier=d.line,a.modeFrontier=Math.max(a.modeFrontier,d.line),v.length&&Zn(n,function(){for(var C=0;C<v.length;C++)ar(n,v[C],"text")})}}var oa=function(n,a,p){var d=n.display;this.viewport=a,this.visible=na(d,n.doc,a),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Vo(n),this.force=p,this.dims=Wa(n),this.events=[]};oa.prototype.signal=function(n,a){ui(n,a)&&this.events.push(arguments)},oa.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Ri.apply(null,this.events[n])};function sd(n){var a=n.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=Cr(n)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=Cr(n)+"px",a.scrollbarsClipped=!0)}function ud(n){if(n.hasFocus())return null;var a=it(Le(n));if(!a||!Ee(n.display.lineDiv,a))return null;var p={activeElt:a};if(window.getSelection){var d=X(n).getSelection();d.anchorNode&&d.extend&&Ee(n.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function ld(n){if(!(!n||!n.activeElt||n.activeElt==it(Re(n.activeElt)))&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&Ee(document.body,n.anchorNode)&&Ee(document.body,n.focusNode))){var a=n.activeElt.ownerDocument,p=a.defaultView.getSelection(),d=a.createRange();d.setEnd(n.anchorNode,n.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(n.focusNode,n.focusOffset)}}function mc(n,a){var p=n.display,d=n.doc;if(a.editorIsHidden)return Ur(n),!1;if(!a.force&&a.visible.from>=p.viewFrom&&a.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&$u(n)==0)return!1;xf(n)&&(Ur(n),a.dims=Wa(n));var v=d.first+d.size,C=Math.max(a.visible.from-n.options.viewportMargin,d.first),F=Math.min(v,a.visible.to+n.options.viewportMargin);p.viewFrom<C&&C-p.viewFrom<20&&(C=Math.max(d.first,p.viewFrom)),p.viewTo>F&&p.viewTo-F<20&&(F=Math.min(v,p.viewTo)),Pi&&(C=ps(n.doc,C),F=Hs(n.doc,F));var H=C!=p.viewFrom||F!=p.viewTo||p.lastWrapHeight!=a.wrapperHeight||p.lastWrapWidth!=a.wrapperWidth;ea(n,C,F),p.viewOffset=to(Lt(n.doc,p.viewFrom)),n.display.mover.style.top=p.viewOffset+"px";var G=$u(n);if(!H&&G==0&&!a.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var K=ud(n);return G>4&&(p.lineDiv.style.display="none"),cd(n,p.updateLineNumbers,a.dims),G>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,ld(K),ve(p.cursorDiv),ve(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,H&&(p.lastWrapHeight=a.wrapperHeight,p.lastWrapWidth=a.wrapperWidth,Wu(n,400)),p.updateLineNumbers=null,!0}function yf(n,a){for(var p=a.viewport,d=!0;;d=!1){if(!d||!n.options.lineWrapping||a.oldDisplayWidth==Vo(n)){if(p&&p.top!=null&&(p={top:Math.min(n.doc.height+Xo(n.display)-Ba(n),p.top)}),a.visible=na(n.display,n.doc,p),a.visible.from>=n.display.viewFrom&&a.visible.to<=n.display.viewTo)break}else d&&(a.visible=na(n.display,n.doc,p));if(!mc(n,a))break;iu(n);var v=ai(n);ro(n),pn(n,v),vc(n,v),a.force=!1}a.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(a.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function Po(n,a){var p=new oa(n,a);if(mc(n,p)){iu(n),yf(n,p);var d=ai(n);ro(n),pn(n,d),vc(n,d),p.finish()}}function cd(n,a,p){var d=n.display,v=n.options.lineNumbers,C=d.lineDiv,F=C.firstChild;function H(Ge){var rt=Ge.nextSibling;return w&&z&&n.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),rt}for(var G=d.view,K=d.viewFrom,be=0;be<G.length;be++){var Ce=G[be];if(!Ce.hidden)if(!Ce.node||Ce.node.parentNode!=C){var ze=yl(n,Ce,K,p);C.insertBefore(ze,F)}else{for(;F!=Ce.node;)F=H(F);var Fe=v&&a!=null&&a<=K&&Ce.lineNumber;Ce.changes&&(Xe(Ce.changes,"gutter")>-1&&(Fe=!1),kr(n,Ce,K,p)),Fe&&(ve(Ce.lineNumber),Ce.lineNumber.appendChild(document.createTextNode(nt(n.options,K)))),F=Ce.node.nextSibling}K+=Ce.size}for(;F;)F=H(F)}function gc(n){var a=n.gutters.offsetWidth;n.sizer.style.marginLeft=a+"px",en(n,"gutterChanged",n)}function vc(n,a){n.display.sizer.style.minHeight=a.docHeight+"px",n.display.heightForcer.style.top=a.docHeight+"px",n.display.gutters.style.height=a.docHeight+n.display.barHeight+Cr(n)+"px"}function wf(n){var a=n.display,p=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!n.options.fixedGutter))){for(var d=Ci(a)-a.scroller.scrollLeft+n.doc.scrollLeft,v=a.gutters.offsetWidth,C=d+"px",F=0;F<p.length;F++)if(!p[F].hidden){n.options.fixedGutter&&(p[F].gutter&&(p[F].gutter.style.left=C),p[F].gutterBackground&&(p[F].gutterBackground.style.left=C));var H=p[F].alignable;if(H)for(var G=0;G<H.length;G++)H[G].style.left=C}n.options.fixedGutter&&(a.gutters.style.left=d+v+"px")}}function xf(n){if(!n.options.lineNumbers)return!1;var a=n.doc,p=nt(n.options,a.first+a.size-1),d=n.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(P("div",[P("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),C=v.firstChild.offsetWidth,F=v.offsetWidth-C;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(C,d.lineGutter.offsetWidth-F)+1,d.lineNumWidth=d.lineNumInnerWidth+F,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",gc(n.display),!0}return!1}function Oo(n,a){for(var p=[],d=!1,v=0;v<n.length;v++){var C=n[v],F=null;if(typeof C!="string"&&(F=C.style,C=C.className),C=="CodeMirror-linenumbers")if(a)d=!0;else continue;p.push({className:C,style:F})}return a&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function kf(n){var a=n.gutters,p=n.gutterSpecs;ve(a),n.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],C=v.className,F=v.style,H=a.appendChild(P("div",null,"CodeMirror-gutter "+C));F&&(H.style.cssText=F),C=="CodeMirror-linenumbers"&&(n.lineGutter=H,H.style.width=(n.lineNumWidth||1)+"px")}a.style.display=p.length?"":"none",gc(n)}function qu(n){kf(n.display),br(n),wf(n)}function fd(n,a,p,d){var v=this;this.input=p,v.scrollbarFiller=P("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=P("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=se("div",null,"CodeMirror-code"),v.selectionDiv=P("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=P("div",null,"CodeMirror-cursors"),v.measure=P("div",null,"CodeMirror-measure"),v.lineMeasure=P("div",null,"CodeMirror-measure"),v.lineSpace=se("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var C=se("div",[v.lineSpace],"CodeMirror-lines");v.mover=P("div",[C],null,"position: relative"),v.sizer=P("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=P("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),v.gutters=P("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=P("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=P("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),O&&W>=105&&(v.wrapper.style.clipPath="inset(0px)"),v.wrapper.setAttribute("translate","no"),b&&x<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!w&&!(u&&B)&&(v.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(v.wrapper):n(v.wrapper)),v.viewFrom=v.viewTo=a.first,v.reportedViewFrom=v.reportedViewTo=a.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=Oo(d.gutters,d.lineNumbers),kf(v),p.init(v)}var Sl=0,Ca=null;b?Ca=-.53:u?Ca=15:O?Ca=-.7:j&&(Ca=-1/3);function Ua(n){var a=n.wheelDeltaX,p=n.wheelDeltaY;return a==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(a=n.detail),p==null&&n.detail&&n.axis==n.VERTICAL_AXIS?p=n.detail:p==null&&(p=n.wheelDelta),{x:a,y:p}}function hd(n){var a=Ua(n);return a.x*=Ca,a.y*=Ca,a}function Cf(n,a){O&&W==102&&(n.display.chromeScrollHack==null?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var p=Ua(a),d=p.x,v=p.y,C=Ca;a.deltaMode===0&&(d=a.deltaX,v=a.deltaY,C=1);var F=n.display,H=F.scroller,G=H.scrollWidth>H.clientWidth,K=H.scrollHeight>H.clientHeight;if(d&&G||v&&K){if(v&&z&&w){e:for(var be=a.target,Ce=F.view;be!=H;be=be.parentNode)for(var ze=0;ze<Ce.length;ze++)if(Ce[ze].node==be){n.display.currentWheelTarget=be;break e}}if(d&&!u&&!N&&C!=null){v&&K&&lt(n,Math.max(0,H.scrollTop+v*C)),It(n,Math.max(0,H.scrollLeft+d*C)),(!v||v&&K)&&Bi(a),F.wheelStartX=null;return}if(v&&C!=null){var Fe=v*C,Ge=n.doc.scrollTop,rt=Ge+F.wrapper.clientHeight;Fe<0?Ge=Math.max(0,Ge+Fe-50):rt=Math.min(n.doc.height,rt+Fe+50),Po(n,{top:Ge,bottom:rt})}Sl<20&&a.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=H.scrollLeft,F.wheelStartY=H.scrollTop,F.wheelDX=d,F.wheelDY=v,setTimeout(function(){if(F.wheelStartX!=null){var dt=H.scrollLeft-F.wheelStartX,bt=H.scrollTop-F.wheelStartY,yt=bt&&F.wheelDY&&bt/F.wheelDY||dt&&F.wheelDX&&dt/F.wheelDX;F.wheelStartX=F.wheelStartY=null,yt&&(Ca=(Ca*Sl+yt)/(Sl+1),++Sl)}},200)):(F.wheelDX+=d,F.wheelDY+=v))}}var mn=function(n,a){this.ranges=n,this.primIndex=a};mn.prototype.primary=function(){return this.ranges[this.primIndex]},mn.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var p=this.ranges[a],d=n.ranges[a];if(!ni(p.anchor,d.anchor)||!ni(p.head,d.head))return!1}return!0},mn.prototype.deepCopy=function(){for(var n=[],a=0;a<this.ranges.length;a++)n[a]=new zi(Ui(this.ranges[a].anchor),Ui(this.ranges[a].head));return new mn(n,this.primIndex)},mn.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},mn.prototype.contains=function(n,a){a||(a=n);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(pt(a,d.from())>=0&&pt(n,d.to())<=0)return p}return-1};var zi=function(n,a){this.anchor=n,this.head=a};zi.prototype.from=function(){return li(this.anchor,this.head)},zi.prototype.to=function(){return Nt(this.anchor,this.head)},zi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Fo(n,a,p){var d=n&&n.options.selectionsMayTouch,v=a[p];a.sort(function(ze,Fe){return pt(ze.from(),Fe.from())}),p=Xe(a,v);for(var C=1;C<a.length;C++){var F=a[C],H=a[C-1],G=pt(H.to(),F.from());if(d&&!F.empty()?G>0:G>=0){var K=li(H.from(),F.from()),be=Nt(H.to(),F.to()),Ce=H.empty()?F.from()==F.head:H.from()==H.head;C<=p&&--p,a.splice(--C,2,new zi(Ce?be:K,Ce?K:be))}}return new mn(a,p)}function Ya(n,a){return new mn([new zi(n,a||n)],0)}function Ga(n){return n.text?je(n.from.line+n.text.length-1,Z(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function Ef(n,a){if(pt(n,a.from)<0)return n;if(pt(n,a.to)<=0)return Ga(a);var p=n.line+a.text.length-(a.to.line-a.from.line)-1,d=n.ch;return n.line==a.to.line&&(d+=Ga(a).ch-a.to.ch),je(p,d)}function Tl(n,a){for(var p=[],d=0;d<n.sel.ranges.length;d++){var v=n.sel.ranges[d];p.push(new zi(Ef(v.anchor,a),Ef(v.head,a)))}return Fo(n.cm,p,n.sel.primIndex)}function bc(n,a,p){return n.line==a.line?je(p.line,n.ch-a.ch+p.ch):je(p.line+(n.line-a.line),n.ch)}function dd(n,a,p){for(var d=[],v=je(n.first,0),C=v,F=0;F<a.length;F++){var H=a[F],G=bc(H.from,v,C),K=bc(Ga(H),v,C);if(v=H.to,C=K,p=="around"){var be=n.sel.ranges[F],Ce=pt(be.head,be.anchor)<0;d[F]=new zi(Ce?K:G,Ce?G:K)}else d[F]=new zi(G,G)}return new mn(d,n.sel.primIndex)}function _c(n){n.doc.mode=wr(n.options,n.doc.modeOption),Es(n)}function Es(n){n.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,Wu(n,100),n.state.modeGen++,n.curOp&&br(n)}function nu(n,a){return a.from.ch==0&&a.to.ch==0&&Z(a.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function ru(n,a,p,d){function v(yt){return p?p[yt]:null}function C(yt,vt,Tt){gl(yt,vt,Tt,d),en(yt,"change",yt,a)}function F(yt,vt){for(var Tt=[],Bt=yt;Bt<vt;++Bt)Tt.push(new Eo(K[Bt],v(Bt),d));return Tt}var H=a.from,G=a.to,K=a.text,be=Lt(n,H.line),Ce=Lt(n,G.line),ze=Z(K),Fe=v(K.length-1),Ge=G.line-H.line;if(a.full)n.insert(0,F(0,K.length)),n.remove(K.length,n.size-K.length);else if(nu(n,a)){var rt=F(0,K.length-1);C(Ce,Ce.text,Fe),Ge&&n.remove(H.line,Ge),rt.length&&n.insert(H.line,rt)}else if(be==Ce)if(K.length==1)C(be,be.text.slice(0,H.ch)+ze+be.text.slice(G.ch),Fe);else{var dt=F(1,K.length-1);dt.push(new Eo(ze+be.text.slice(G.ch),Fe,d)),C(be,be.text.slice(0,H.ch)+K[0],v(0)),n.insert(H.line+1,dt)}else if(K.length==1)C(be,be.text.slice(0,H.ch)+K[0]+Ce.text.slice(G.ch),v(0)),n.remove(H.line+1,Ge);else{C(be,be.text.slice(0,H.ch)+K[0],v(0)),C(Ce,ze+Ce.text.slice(G.ch),Fe);var bt=F(1,K.length-1);Ge>1&&n.remove(H.line+1,Ge-1),n.insert(H.line+1,bt)}en(n,"change",n,a)}function Za(n,a,p){function d(v,C,F){if(v.linked)for(var H=0;H<v.linked.length;++H){var G=v.linked[H];if(G.doc!=C){var K=F&&G.sharedHist;p&&!K||(a(G.doc,K),d(G.doc,v,K))}}}d(n,null,!0)}function yc(n,a){if(a.cm)throw new Error("This document is already in use.");n.doc=a,a.cm=n,Lo(n),_c(n),Sf(n),n.options.direction=a.direction,n.options.lineWrapping||qs(n),n.options.mode=a.modeOption,br(n)}function Sf(n){(n.doc.direction=="rtl"?Be:De)(n.display.lineDiv,"CodeMirror-rtl")}function Ea(n){Zn(n,function(){Sf(n),br(n)})}function ou(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Sa(n,a){var p={from:Ui(a.from),to:Ga(a),text:Gn(n,a.from,a.to)};return xc(n,p,a.from.line,a.to.line+1),Za(n,function(d){return xc(d,p,a.from.line,a.to.line+1)},!0),p}function oo(n){for(;n.length;){var a=Z(n);if(a.ranges)n.pop();else break}}function pd(n,a){if(a)return oo(n.done),Z(n.done);if(n.done.length&&!Z(n.done).ranges)return Z(n.done);if(n.done.length>1&&!n.done[n.done.length-2].ranges)return n.done.pop(),Z(n.done)}function wc(n,a,p,d){var v=n.history;v.undone.length=0;var C=+new Date,F,H;if((v.lastOp==d||v.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&v.lastModTime>C-(n.cm?n.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(F=pd(v,v.lastOp==d)))H=Z(F.changes),pt(a.from,a.to)==0&&pt(a.from,H.to)==0?H.to=Ga(a):F.changes.push(Sa(n,a));else{var G=Z(v.done);for((!G||!G.ranges)&&Ro(n.sel,v.done),F={changes:[Sa(n,a)],generation:v.generation},v.done.push(F);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=C,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=a.origin,H||Ri(n,"historyAdded")}function Tf(n,a,p,d){var v=a.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function ju(n,a,p,d){var v=n.history,C=d&&d.origin;p==v.lastSelOp||C&&v.lastSelOrigin==C&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==C||Tf(n,C,Z(v.done),a))?v.done[v.done.length-1]=a:Ro(a,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=C,v.lastSelOp=p,d&&d.clearRedo!==!1&&oo(v.undone)}function Ro(n,a){var p=Z(a);p&&p.ranges&&p.equals(n)||a.push(n)}function xc(n,a,p,d){var v=a["spans_"+n.id],C=0;n.iter(Math.max(n.first,p),Math.min(n.first+n.size,d),function(F){F.markedSpans&&((v||(v=a["spans_"+n.id]={}))[C]=F.markedSpans),++C})}function md(n){if(!n)return null;for(var a,p=0;p<n.length;++p)n[p].marker.explicitlyCleared?a||(a=n.slice(0,p)):a&&a.push(n[p]);return a?a.length?a:null:n}function Al(n,a){var p=a["spans_"+n.id];if(!p)return null;for(var d=[],v=0;v<a.text.length;++v)d.push(md(p[v]));return d}function Af(n,a){var p=Al(n,a),d=Sn(n,a);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var C=p[v],F=d[v];if(C&&F)e:for(var H=0;H<F.length;++H){for(var G=F[H],K=0;K<C.length;++K)if(C[K].marker==G.marker)continue e;C.push(G)}else F&&(p[v]=F)}return p}function Ss(n,a,p){for(var d=[],v=0;v<n.length;++v){var C=n[v];if(C.ranges){d.push(p?mn.prototype.deepCopy.call(C):C);continue}var F=C.changes,H=[];d.push({changes:H});for(var G=0;G<F.length;++G){var K=F[G],be=void 0;if(H.push({from:K.from,to:K.to,text:K.text}),a)for(var Ce in K)(be=Ce.match(/^spans_(\d+)$/))&&Xe(a,Number(be[1]))>-1&&(Z(H)[Ce]=K[Ce],delete K[Ce])}}return d}function Xn(n,a,p,d){if(d){var v=n.anchor;if(p){var C=pt(a,v)<0;C!=pt(p,v)<0?(v=a,a=p):C!=pt(a,p)<0&&(a=p)}return new zi(v,a)}else return new zi(p||a,a)}function au(n,a,p,d,v){v==null&&(v=n.cm&&(n.cm.display.shift||n.extend)),sr(n,new mn([Xn(n.sel.primary(),a,p,v)],0),d)}function kc(n,a,p){for(var d=[],v=n.cm&&(n.cm.display.shift||n.extend),C=0;C<n.sel.ranges.length;C++)d[C]=Xn(n.sel.ranges[C],a[C],null,v);var F=Fo(n.cm,d,n.sel.primIndex);sr(n,F,p)}function vo(n,a,p,d){var v=n.sel.ranges.slice(0);v[a]=p,sr(n,Fo(n.cm,v,n.sel.primIndex),d)}function Dl(n,a,p,d){sr(n,Ya(a,p),d)}function Ll(n,a,p){var d={ranges:a.ranges,update:function(v){this.ranges=[];for(var C=0;C<v.length;C++)this.ranges[C]=new zi(Wt(n,v[C].anchor),Wt(n,v[C].head))},origin:p&&p.origin};return Ri(n,"beforeSelectionChange",n,d),n.cm&&Ri(n.cm,"beforeSelectionChange",n.cm,d),d.ranges!=a.ranges?Fo(n.cm,d.ranges,d.ranges.length-1):a}function Xa(n,a,p){var d=n.history.done,v=Z(d);v&&v.ranges?(d[d.length-1]=a,ur(n,a,p)):sr(n,a,p)}function sr(n,a,p){ur(n,a,p),ju(n,n.sel,n.cm?n.cm.curOp.id:NaN,p)}function ur(n,a,p){(ui(n,"beforeSelectionChange")||n.cm&&ui(n.cm,"beforeSelectionChange"))&&(a=Ll(n,a,p));var d=p&&p.bias||(pt(a.primary().head,n.sel.primary().head)<0?-1:1);Ml(n,Lf(n,a,d,!0)),!(p&&p.scroll===!1)&&n.cm&&n.cm.getOption("readOnly")!="nocursor"&&U(n.cm)}function Ml(n,a){a.equals(n.sel)||(n.sel=a,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,wi(n.cm)),en(n,"cursorActivity",n))}function Df(n){Ml(n,Lf(n,n.sel,null,!1))}function Lf(n,a,p,d){for(var v,C=0;C<a.ranges.length;C++){var F=a.ranges[C],H=a.ranges.length==n.sel.ranges.length&&n.sel.ranges[C],G=uu(n,F.anchor,H&&H.anchor,p,d),K=F.head==F.anchor?G:uu(n,F.head,H&&H.head,p,d);(v||G!=F.anchor||K!=F.head)&&(v||(v=a.ranges.slice(0,C)),v[C]=new zi(G,K))}return v?Fo(n.cm,v,a.primIndex):a}function su(n,a,p,d,v){var C=Lt(n,a.line);if(C.markedSpans)for(var F=0;F<C.markedSpans.length;++F){var H=C.markedSpans[F],G=H.marker,K="selectLeft"in G?!G.selectLeft:G.inclusiveLeft,be="selectRight"in G?!G.selectRight:G.inclusiveRight;if((H.from==null||(K?H.from<=a.ch:H.from<a.ch))&&(H.to==null||(be?H.to>=a.ch:H.to>a.ch))){if(v&&(Ri(G,"beforeCursorEnter"),G.explicitlyCleared))if(C.markedSpans){--F;continue}else break;if(!G.atomic)continue;if(p){var Ce=G.find(d<0?1:-1),ze=void 0;if((d<0?be:K)&&(Ce=Mf(n,Ce,-d,Ce&&Ce.line==a.line?C:null)),Ce&&Ce.line==a.line&&(ze=pt(Ce,p))&&(d<0?ze<0:ze>0))return su(n,Ce,a,d,v)}var Fe=G.find(d<0?-1:1);return(d<0?K:be)&&(Fe=Mf(n,Fe,d,Fe.line==a.line?C:null)),Fe?su(n,Fe,a,d,v):null}}return a}function uu(n,a,p,d,v){var C=d||1,F=su(n,a,p,C,v)||!v&&su(n,a,p,C,!0)||su(n,a,p,-C,v)||!v&&su(n,a,p,-C,!0);return F||(n.cantEdit=!0,je(n.first,0))}function Mf(n,a,p,d){return p<0&&a.ch==0?a.line>n.first?Wt(n,je(a.line-1)):null:p>0&&a.ch==(d||Lt(n,a.line)).text.length?a.line<n.first+n.size-1?je(a.line+1,0):null:new je(a.line,a.ch+p)}function lu(n){n.setSelection(je(n.firstLine(),0),je(n.lastLine()),wt)}function Cc(n,a,p){var d={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,C,F,H){v&&(d.from=Wt(n,v)),C&&(d.to=Wt(n,C)),F&&(d.text=F),H!==void 0&&(d.origin=H)}),Ri(n,"beforeChange",n,d),n.cm&&Ri(n.cm,"beforeChange",n.cm,d),d.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function cu(n,a,p){if(n.cm){if(!n.cm.curOp)return Di(n.cm,cu)(n,a,p);if(n.cm.state.suppressEdits)return}if(!((ui(n,"beforeChange")||n.cm&&ui(n.cm,"beforeChange"))&&(a=Cc(n,a,!0),!a))){var d=Ei&&!p&&Rr(n,a.from,a.to);if(d)for(var v=d.length-1;v>=0;--v)Pf(n,{from:d[v].from,to:d[v].to,text:v?[""]:a.text,origin:a.origin});else Pf(n,a)}}function Pf(n,a){if(!(a.text.length==1&&a.text[0]==""&&pt(a.from,a.to)==0)){var p=Tl(n,a);wc(n,a,p,n.cm?n.cm.curOp.id:NaN),Uu(n,a,p,Sn(n,a));var d=[];Za(n,function(v,C){!C&&Xe(d,v.history)==-1&&(Nf(v.history,a),d.push(v.history)),Uu(v,a,null,Sn(v,a))})}}function Va(n,a,p){var d=n.cm&&n.cm.state.suppressEdits;if(!(d&&!p)){for(var v=n.history,C,F=n.sel,H=a=="undo"?v.done:v.undone,G=a=="undo"?v.undone:v.done,K=0;K<H.length&&(C=H[K],!(p?C.ranges&&!C.equals(n.sel):!C.ranges));K++);if(K!=H.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(C=H.pop(),C.ranges){if(Ro(C,G),p&&!C.equals(n.sel)){sr(n,C,{clearRedo:!1});return}F=C}else if(d){H.push(C);return}else break;var be=[];Ro(F,G),G.push({changes:be,generation:v.generation}),v.generation=C.generation||++v.maxGeneration;for(var Ce=ui(n,"beforeChange")||n.cm&&ui(n.cm,"beforeChange"),ze=function(rt){var dt=C.changes[rt];if(dt.origin=a,Ce&&!Cc(n,dt,!1))return H.length=0,{};be.push(Sa(n,dt));var bt=rt?Tl(n,dt):Z(H);Uu(n,dt,bt,Af(n,dt)),!rt&&n.cm&&n.cm.scrollIntoView({from:dt.from,to:Ga(dt)});var yt=[];Za(n,function(vt,Tt){!Tt&&Xe(yt,vt.history)==-1&&(Nf(vt.history,dt),yt.push(vt.history)),Uu(vt,dt,null,Af(vt,dt))})},Fe=C.changes.length-1;Fe>=0;--Fe){var Ge=ze(Fe);if(Ge)return Ge.v}}}}function Of(n,a){if(a!=0&&(n.first+=a,n.sel=new mn(le(n.sel.ranges,function(v){return new zi(je(v.anchor.line+a,v.anchor.ch),je(v.head.line+a,v.head.ch))}),n.sel.primIndex),n.cm)){br(n.cm,n.first,n.first-a,a);for(var p=n.cm.display,d=p.viewFrom;d<p.viewTo;d++)ar(n.cm,d,"gutter")}}function Uu(n,a,p,d){if(n.cm&&!n.cm.curOp)return Di(n.cm,Uu)(n,a,p,d);if(a.to.line<n.first){Of(n,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>n.lastLine())){if(a.from.line<n.first){var v=a.text.length-1-(n.first-a.from.line);Of(n,v),a={from:je(n.first,0),to:je(a.to.line+v,a.to.ch),text:[Z(a.text)],origin:a.origin}}var C=n.lastLine();a.to.line>C&&(a={from:a.from,to:je(C,Lt(n,C).text.length),text:[a.text[0]],origin:a.origin}),a.removed=Gn(n,a.from,a.to),p||(p=Tl(n,a)),n.cm?Ec(n.cm,a,d):ru(n,a,d),ur(n,p,wt),n.cantEdit&&uu(n,je(n.firstLine(),0))&&(n.cantEdit=!1)}}function Ec(n,a,p){var d=n.doc,v=n.display,C=a.from,F=a.to,H=!1,G=C.line;n.options.lineWrapping||(G=J(Ni(Lt(d,C.line))),d.iter(G,F.line+1,function(Fe){if(Fe==v.maxLine)return H=!0,!0})),d.sel.contains(a.from,a.to)>-1&&wi(n),ru(d,a,p,kl(n)),n.options.lineWrapping||(d.iter(G,C.line+a.text.length,function(Fe){var Ge=ms(Fe);Ge>v.maxLineLength&&(v.maxLine=Fe,v.maxLineLength=Ge,v.maxLineChanged=!0,H=!1)}),H&&(n.curOp.updateMaxLine=!0)),Wi(d,C.line),Wu(n,400);var K=a.text.length-(F.line-C.line)-1;a.full?br(n):C.line==F.line&&a.text.length==1&&!nu(n.doc,a)?ar(n,C.line,"text"):br(n,C.line,F.line+1,K);var be=ui(n,"changes"),Ce=ui(n,"change");if(Ce||be){var ze={from:C,to:F,text:a.text,removed:a.removed,origin:a.origin};Ce&&en(n,"change",n,ze),be&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(ze)}n.display.selForContextMenu=null}function Ts(n,a,p,d,v){var C;d||(d=p),pt(d,p)<0&&(C=[d,p],p=C[0],d=C[1]),typeof a=="string"&&(a=n.splitLines(a)),cu(n,{from:p,to:d,text:a,origin:v})}function Ff(n,a,p,d){p<n.line?n.line+=d:a<n.line&&(n.line=a,n.ch=0)}function Rf(n,a,p,d){for(var v=0;v<n.length;++v){var C=n[v],F=!0;if(C.ranges){C.copied||(C=n[v]=C.deepCopy(),C.copied=!0);for(var H=0;H<C.ranges.length;H++)Ff(C.ranges[H].anchor,a,p,d),Ff(C.ranges[H].head,a,p,d);continue}for(var G=0;G<C.changes.length;++G){var K=C.changes[G];if(p<K.from.line)K.from=je(K.from.line+d,K.from.ch),K.to=je(K.to.line+d,K.to.ch);else if(a<=K.to.line){F=!1;break}}F||(n.splice(0,v+1),v=0)}}function Nf(n,a){var p=a.from.line,d=a.to.line,v=a.text.length-(d-p)-1;Rf(n.done,p,d,v),Rf(n.undone,p,d,v)}function fu(n,a,p,d){var v=a,C=a;return typeof a=="number"?C=Lt(n,fo(n,a)):v=J(a),v==null?null:(d(C,v)&&n.cm&&ar(n.cm,v,p),C)}function As(n){this.lines=n,this.parent=null;for(var a=0,p=0;p<n.length;++p)n[p].parent=this,a+=n[p].height;this.height=a}As.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,a){for(var p=n,d=n+a;p<d;++p){var v=this.lines[p];this.height-=v.height,un(v),en(v,"delete")}this.lines.splice(n,a)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,a,p){this.height+=p,this.lines=this.lines.slice(0,n).concat(a).concat(this.lines.slice(n));for(var d=0;d<a.length;++d)a[d].parent=this},iterN:function(n,a,p){for(var d=n+a;n<d;++n)if(p(this.lines[n]))return!0}};function Yu(n){this.children=n;for(var a=0,p=0,d=0;d<n.length;++d){var v=n[d];a+=v.chunkSize(),p+=v.height,v.parent=this}this.size=a,this.height=p,this.parent=null}Yu.prototype={chunkSize:function(){return this.size},removeInner:function(n,a){this.size-=a;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(n<v){var C=Math.min(a,v-n),F=d.height;if(d.removeInner(n,C),this.height-=F-d.height,v==C&&(this.children.splice(p--,1),d.parent=null),(a-=C)==0)break;n=0}else n-=v}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof As))){var H=[];this.collapse(H),this.children=[new As(H)],this.children[0].parent=this}},collapse:function(n){for(var a=0;a<this.children.length;++a)this.children[a].collapse(n)},insertInner:function(n,a,p){this.size+=a.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],C=v.chunkSize();if(n<=C){if(v.insertInner(n,a,p),v.lines&&v.lines.length>50){for(var F=v.lines.length%25+25,H=F;H<v.lines.length;){var G=new As(v.lines.slice(H,H+=25));v.height-=G.height,this.children.splice(++d,0,G),G.parent=this}v.lines=v.lines.slice(0,F),this.maybeSpill()}break}n-=C}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var a=n.children.splice(n.children.length-5,5),p=new Yu(a);if(n.parent){n.size-=p.size,n.height-=p.height;var v=Xe(n.parent.children,n);n.parent.children.splice(v+1,0,p)}else{var d=new Yu(n.children);d.parent=n,n.children=[d,p],n=d}p.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,a,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],C=v.chunkSize();if(n<C){var F=Math.min(a,C-n);if(v.iterN(n,F,p))return!0;if((a-=F)==0)break;n=0}else n-=C}}};var Ds=function(n,a,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=n,this.node=a};Ds.prototype.clear=function(){var n=this.doc.cm,a=this.line.widgets,p=this.line,d=J(p);if(!(d==null||!a)){for(var v=0;v<a.length;++v)a[v]==this&&a.splice(v--,1);a.length||(p.widgets=null);var C=Ao(this);Rn(p,Math.max(0,p.height-C)),n&&(Zn(n,function(){Sc(n,p,-C),ar(n,d,"widget")}),en(n,"lineWidgetCleared",n,this,d))}},Ds.prototype.changed=function(){var n=this,a=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=Ao(this)-a;v&&(hn(this.doc,d)||Rn(d,d.height+v),p&&Zn(p,function(){p.curOp.forceUpdate=!0,Sc(p,d,v),en(p,"lineWidgetChanged",p,n,J(d))}))},si(Ds);function Sc(n,a,p){to(a)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&A(n,p)}function zf(n,a,p,d){var v=new Ds(n,p,d),C=n.cm;return C&&v.noHScroll&&(C.display.alignWidgets=!0),fu(n,a,"widget",function(F){var H=F.widgets||(F.widgets=[]);if(v.insertAt==null?H.push(v):H.splice(Math.min(H.length,Math.max(0,v.insertAt)),0,v),v.line=F,C&&!hn(n,F)){var G=to(F)<n.scrollTop;Rn(F,F.height+Ao(v)),G&&A(C,v.height),C.curOp.forceUpdate=!0}return!0}),C&&en(C,"lineWidgetAdded",C,v,typeof a=="number"?a:J(a)),v}var Tc=0,No=function(n,a){this.lines=[],this.type=a,this.doc=n,this.id=++Tc};No.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,a=n&&!n.curOp;if(a&&ka(n),ui(this,"clear")){var p=this.find();p&&en(this,"clear",p.from,p.to)}for(var d=null,v=null,C=0;C<this.lines.length;++C){var F=this.lines[C],H=ri(F.markedSpans,this);n&&!this.collapsed?ar(n,J(F),"text"):n&&(H.to!=null&&(v=J(F)),H.from!=null&&(d=J(F))),F.markedSpans=gt(F.markedSpans,H),H.from==null&&this.collapsed&&!hn(this.doc,F)&&n&&Rn(F,io(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var G=0;G<this.lines.length;++G){var K=Ni(this.lines[G]),be=ms(K);be>n.display.maxLineLength&&(n.display.maxLine=K,n.display.maxLineLength=be,n.display.maxLineChanged=!0)}d!=null&&n&&this.collapsed&&br(n,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&Df(n.doc)),n&&en(n,"markerCleared",n,this,d,v),a&&ra(n),this.parent&&this.parent.clear()}},No.prototype.find=function(n,a){n==null&&this.type=="bookmark"&&(n=1);for(var p,d,v=0;v<this.lines.length;++v){var C=this.lines[v],F=ri(C.markedSpans,this);if(F.from!=null&&(p=je(a?C:J(C),F.from),n==-1))return p;if(F.to!=null&&(d=je(a?C:J(C),F.to),n==1))return d}return p&&{from:p,to:d}},No.prototype.changed=function(){var n=this,a=this.find(-1,!0),p=this,d=this.doc.cm;!a||!d||Zn(d,function(){var v=a.line,C=J(a.line),F=Ha(d,C);if(F&&(Ks(F),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!hn(p.doc,v)&&p.height!=null){var H=p.height;p.height=null;var G=Ao(p)-H;G&&Rn(v,v.height+G)}en(d,"markerChanged",d,n)})},No.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||Xe(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},No.prototype.detachLine=function(n){if(this.lines.splice(Xe(this.lines,n),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},si(No);function hu(n,a,p,d,v){if(d&&d.shared)return If(n,a,p,d,v);if(n.cm&&!n.cm.curOp)return Di(n.cm,hu)(n,a,p,d,v);var C=new No(n,v),F=pt(a,p);if(d&&Te(d,C,!1),F>0||F==0&&C.clearWhenEmpty!==!1)return C;if(C.replacedWith&&(C.collapsed=!0,C.widgetNode=se("span",[C.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||C.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(C.widgetNode.insertLeft=!0)),C.collapsed){if(gi(n,a.line,a,p,C)||a.line!=p.line&&gi(n,p.line,a,p,C))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ft()}C.addToHistory&&wc(n,{from:a,to:p,origin:"markText"},n.sel,NaN);var H=a.line,G=n.cm,K;if(n.iter(H,p.line+1,function(Ce){G&&C.collapsed&&!G.options.lineWrapping&&Ni(Ce)==G.display.maxLine&&(K=!0),C.collapsed&&H!=a.line&&Rn(Ce,0),xi(Ce,new rn(C,H==a.line?a.ch:null,H==p.line?p.ch:null),n.cm&&n.cm.curOp),++H}),C.collapsed&&n.iter(a.line,p.line+1,function(Ce){hn(n,Ce)&&Rn(Ce,0)}),C.clearOnEnter&&Rt(C,"beforeCursorEnter",function(){return C.clear()}),C.readOnly&&(fn(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),C.collapsed&&(C.id=++Tc,C.atomic=!0),G){if(K&&(G.curOp.updateMaxLine=!0),C.collapsed)br(G,a.line,p.line+1);else if(C.className||C.startStyle||C.endStyle||C.css||C.attributes||C.title)for(var be=a.line;be<=p.line;be++)ar(G,be,"text");C.atomic&&Df(G.doc),en(G,"markerAdded",G,C)}return C}var du=function(n,a){this.markers=n,this.primary=a;for(var p=0;p<n.length;++p)n[p].parent=this};du.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();en(this,"clear")}},du.prototype.find=function(n,a){return this.primary.find(n,a)},si(du);function If(n,a,p,d,v){d=Te(d),d.shared=!1;var C=[hu(n,a,p,d,v)],F=C[0],H=d.widgetNode;return Za(n,function(G){H&&(d.widgetNode=H.cloneNode(!0)),C.push(hu(G,Wt(G,a),Wt(G,p),d,v));for(var K=0;K<G.linked.length;++K)if(G.linked[K].isParent)return;F=Z(C)}),new du(C,F)}function Bf(n){return n.findMarks(je(n.first,0),n.clipPos(je(n.lastLine())),function(a){return a.parent})}function $f(n,a){for(var p=0;p<a.length;p++){var d=a[p],v=d.find(),C=n.clipPos(v.from),F=n.clipPos(v.to);if(pt(C,F)){var H=hu(n,C,F,d.primary,d.primary.type);d.markers.push(H),H.parent=d}}}function gd(n){for(var a=function(d){var v=n[d],C=[v.primary.doc];Za(v.primary.doc,function(G){return C.push(G)});for(var F=0;F<v.markers.length;F++){var H=v.markers[F];Xe(C,H.doc)==-1&&(H.parent=null,v.markers.splice(F--,1))}},p=0;p<n.length;p++)a(p)}var Ac=0,Tr=function(n,a,p,d,v){if(!(this instanceof Tr))return new Tr(n,a,p,d,v);p==null&&(p=0),Yu.call(this,[new As([new Eo("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var C=je(p,0);this.sel=Ya(C),this.history=new ou(null),this.id=++Ac,this.modeOption=a,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),ru(this,{from:C,to:C,text:n}),sr(this,Ya(C),wt)};Tr.prototype=pe(Yu.prototype,{constructor:Tr,iter:function(n,a,p){p?this.iterN(n-this.first,a-n,p):this.iterN(this.first,this.first+this.size,n)},insert:function(n,a){for(var p=0,d=0;d<a.length;++d)p+=a[d].height;this.insertInner(n-this.first,a,p)},remove:function(n,a){this.removeInner(n-this.first,a)},getValue:function(n){var a=rr(this,this.first,this.first+this.size);return n===!1?a:a.join(n||this.lineSeparator())},setValue:Tn(function(n){var a=je(this.first,0),p=this.first+this.size-1;cu(this,{from:a,to:je(p,Lt(this,p).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&oe(this.cm,0,0),sr(this,Ya(a),wt)}),replaceRange:function(n,a,p,d){a=Wt(this,a),p=p?Wt(this,p):a,Ts(this,n,a,p,d)},getRange:function(n,a,p){var d=Gn(this,Wt(this,n),Wt(this,a));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(n){var a=this.getLineHandle(n);return a&&a.text},getLineHandle:function(n){if(He(this,n))return Lt(this,n)},getLineNumber:function(n){return J(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=Lt(this,n)),Ni(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return Wt(this,n)},getCursor:function(n){var a=this.sel.primary(),p;return n==null||n=="head"?p=a.head:n=="anchor"?p=a.anchor:n=="end"||n=="to"||n===!1?p=a.to():p=a.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Tn(function(n,a,p){Dl(this,Wt(this,typeof n=="number"?je(n,a||0):n),null,p)}),setSelection:Tn(function(n,a,p){Dl(this,Wt(this,n),Wt(this,a||n),p)}),extendSelection:Tn(function(n,a,p){au(this,Wt(this,n),a&&Wt(this,a),p)}),extendSelections:Tn(function(n,a){kc(this,_(this,n),a)}),extendSelectionsBy:Tn(function(n,a){var p=le(this.sel.ranges,n);kc(this,_(this,p),a)}),setSelections:Tn(function(n,a,p){if(n.length){for(var d=[],v=0;v<n.length;v++)d[v]=new zi(Wt(this,n[v].anchor),Wt(this,n[v].head||n[v].anchor));a==null&&(a=Math.min(n.length-1,this.sel.primIndex)),sr(this,Fo(this.cm,d,a),p)}}),addSelection:Tn(function(n,a,p){var d=this.sel.ranges.slice(0);d.push(new zi(Wt(this,n),Wt(this,a||n))),sr(this,Fo(this.cm,d,d.length-1),p)}),getSelection:function(n){for(var a=this.sel.ranges,p,d=0;d<a.length;d++){var v=Gn(this,a[d].from(),a[d].to());p=p?p.concat(v):v}return n===!1?p:p.join(n||this.lineSeparator())},getSelections:function(n){for(var a=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=Gn(this,p[d].from(),p[d].to());n!==!1&&(v=v.join(n||this.lineSeparator())),a[d]=v}return a},replaceSelection:function(n,a,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=n;this.replaceSelections(d,a,p||"+input")},replaceSelections:Tn(function(n,a,p){for(var d=[],v=this.sel,C=0;C<v.ranges.length;C++){var F=v.ranges[C];d[C]={from:F.from(),to:F.to(),text:this.splitLines(n[C]),origin:p}}for(var H=a&&a!="end"&&dd(this,d,a),G=d.length-1;G>=0;G--)cu(this,d[G]);H?Xa(this,H):this.cm&&U(this.cm)}),undo:Tn(function(){Va(this,"undo")}),redo:Tn(function(){Va(this,"redo")}),undoSelection:Tn(function(){Va(this,"undo",!0)}),redoSelection:Tn(function(){Va(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,a=0,p=0,d=0;d<n.done.length;d++)n.done[d].ranges||++a;for(var v=0;v<n.undone.length;v++)n.undone[v].ranges||++p;return{undo:a,redo:p}},clearHistory:function(){var n=this;this.history=new ou(this.history),Za(this,function(a){return a.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:Ss(this.history.done),undone:Ss(this.history.undone)}},setHistory:function(n){var a=this.history=new ou(this.history);a.done=Ss(n.done.slice(0),null,!0),a.undone=Ss(n.undone.slice(0),null,!0)},setGutterMarker:Tn(function(n,a,p){return fu(this,n,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[a]=p,!p&&mt(v)&&(d.gutterMarkers=null),!0})}),clearGutter:Tn(function(n){var a=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[n]&&fu(a,p,"gutter",function(){return p.gutterMarkers[n]=null,mt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(n){var a;if(typeof n=="number"){if(!He(this,n)||(a=n,n=Lt(this,n),!n))return null}else if(a=J(n),a==null)return null;return{line:a,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:Tn(function(n,a,p){return fu(this,n,a=="gutter"?"gutter":"class",function(d){var v=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if(fe(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:Tn(function(n,a,p){return fu(this,n,a=="gutter"?"gutter":"class",function(d){var v=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",C=d[v];if(C)if(p==null)d[v]=null;else{var F=C.match(fe(p));if(!F)return!1;var H=F.index+F[0].length;d[v]=C.slice(0,F.index)+(!F.index||H==C.length?"":" ")+C.slice(H)||null}else return!1;return!0})}),addLineWidget:Tn(function(n,a,p){return zf(this,n,a,p)}),removeLineWidget:function(n){n.clear()},markText:function(n,a,p){return hu(this,Wt(this,n),Wt(this,a),p,p&&p.type||"range")},setBookmark:function(n,a){var p={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return n=Wt(this,n),hu(this,n,n,p,"bookmark")},findMarksAt:function(n){n=Wt(this,n);var a=[],p=Lt(this,n.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=n.ch)&&(v.to==null||v.to>=n.ch)&&a.push(v.marker.parent||v.marker)}return a},findMarks:function(n,a,p){n=Wt(this,n),a=Wt(this,a);var d=[],v=n.line;return this.iter(n.line,a.line+1,function(C){var F=C.markedSpans;if(F)for(var H=0;H<F.length;H++){var G=F[H];!(G.to!=null&&v==n.line&&n.ch>=G.to||G.from==null&&v!=n.line||G.from!=null&&v==a.line&&G.from>=a.ch)&&(!p||p(G.marker))&&d.push(G.marker.parent||G.marker)}++v}),d},getAllMarks:function(){var n=[];return this.iter(function(a){var p=a.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&n.push(p[d].marker)}),n},posFromIndex:function(n){var a,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var C=v.text.length+d;if(C>n)return a=n,!0;n-=C,++p}),Wt(this,je(p,a))},indexFromPos:function(n){n=Wt(this,n);var a=n.ch;if(n.line<this.first||n.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,n.line,function(d){a+=d.text.length+p}),a},copy:function(n){var a=new Tr(rr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,n&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(n){n||(n={});var a=this.first,p=this.first+this.size;n.from!=null&&n.from>a&&(a=n.from),n.to!=null&&n.to<p&&(p=n.to);var d=new Tr(rr(this,a,p),n.mode||this.modeOption,a,this.lineSep,this.direction);return n.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:n.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],$f(d,Bf(this)),d},unlinkDoc:function(n){if(n instanceof Oi&&(n=n.doc),this.linked)for(var a=0;a<this.linked.length;++a){var p=this.linked[a];if(p.doc==n){this.linked.splice(a,1),n.unlinkDoc(this),gd(Bf(this));break}}if(n.history==this.history){var d=[n.id];Za(n,function(v){return d.push(v.id)},!0),n.history=new ou(null),n.history.done=Ss(this.history.done,d),n.history.undone=Ss(this.history.undone,d)}},iterLinkedDocs:function(n){Za(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):Un(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Tn(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(a){return a.order=null}),this.cm&&Ea(this.cm))})}),Tr.prototype.eachLine=Tr.prototype.iter;var Pl=0;function vd(n){var a=this;if(Hf(a),!(pi(a,n)||Nn(a.display,n))){Bi(n),b&&(Pl=+new Date);var p=no(a,n,!0),d=n.dataTransfer.files;if(!(!p||a.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,C=Array(v),F=0,H=function(){++F==v&&Di(a,function(){p=Wt(a.doc,p);var Fe={from:p,to:p,text:a.doc.splitLines(C.filter(function(Ge){return Ge!=null}).join(a.doc.lineSeparator())),origin:"paste"};cu(a.doc,Fe),Xa(a.doc,Ya(Wt(a.doc,p),Wt(a.doc,Ga(Fe))))})()},G=function(Fe,Ge){if(a.options.allowDropFileTypes&&Xe(a.options.allowDropFileTypes,Fe.type)==-1){H();return}var rt=new FileReader;rt.onerror=function(){return H()},rt.onload=function(){var dt=rt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(dt)){H();return}C[Ge]=dt,H()},rt.readAsText(Fe)},K=0;K<d.length;K++)G(d[K],K);else{if(a.state.draggingText&&a.doc.sel.contains(p)>-1){a.state.draggingText(n),setTimeout(function(){return a.display.input.focus()},20);return}try{var be=n.dataTransfer.getData("Text");if(be){var Ce;if(a.state.draggingText&&!a.state.draggingText.copy&&(Ce=a.listSelections()),ur(a.doc,Ya(p,p)),Ce)for(var ze=0;ze<Ce.length;++ze)Ts(a.doc,"",Ce[ze].anchor,Ce[ze].head,"drag");a.replaceSelection(be,"around","paste"),a.display.input.focus()}}catch{}}}}function Dc(n,a){if(b&&(!n.state.draggingText||+new Date-Pl<100)){Or(a);return}if(!(pi(n,a)||Nn(n.display,a))&&(a.dataTransfer.setData("Text",n.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!j)){var p=P("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",N&&(p.width=p.height=1,n.display.wrapper.appendChild(p),p._top=p.offsetTop),a.dataTransfer.setDragImage(p,0,0),N&&p.parentNode.removeChild(p)}}function bi(n,a){var p=no(n,a);if(p){var d=document.createDocumentFragment();xs(n,p,d),n.display.dragCursor||(n.display.dragCursor=P("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),re(n.display.dragCursor,d)}}function Hf(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function Wf(n){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<a.length;d++){var v=a[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var C=0;C<p.length;C++)n(p[C])})}}var pu=!1;function qf(){pu||(bd(),pu=!0)}function bd(){var n;Rt(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,Wf(_d)},100))}),Rt(window,"blur",function(){return Wf(xa)})}function _d(n){var a=n.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,n.setSize()}for(var Vn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Gu=0;Gu<10;Gu++)Vn[Gu+48]=Vn[Gu+96]=String(Gu);for(var Ls=65;Ls<=90;Ls++)Vn[Ls]=String.fromCharCode(Ls);for(var Ms=1;Ms<=12;Ms++)Vn[Ms+111]=Vn[Ms+63235]="F"+Ms;var aa={};aa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},aa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},aa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},aa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},aa.default=z?aa.macDefault:aa.pcDefault;function jf(n){var a=n.split(/-(?!$)/);n=a[a.length-1];for(var p,d,v,C,F=0;F<a.length-1;F++){var H=a[F];if(/^(cmd|meta|m)$/i.test(H))C=!0;else if(/^a(lt)?$/i.test(H))p=!0;else if(/^(c|ctrl|control)$/i.test(H))d=!0;else if(/^s(hift)?$/i.test(H))v=!0;else throw new Error("Unrecognized modifier name: "+H)}return p&&(n="Alt-"+n),d&&(n="Ctrl-"+n),C&&(n="Cmd-"+n),v&&(n="Shift-"+n),n}function ao(n){var a={};for(var p in n)if(n.hasOwnProperty(p)){var d=n[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete n[p];continue}for(var v=le(p.split(" "),jf),C=0;C<v.length;C++){var F=void 0,H=void 0;C==v.length-1?(H=v.join(" "),F=d):(H=v.slice(0,C+1).join(" "),F="...");var G=a[H];if(!G)a[H]=F;else if(G!=F)throw new Error("Inconsistent bindings for "+H)}delete n[p]}for(var K in a)n[K]=a[K];return n}function so(n,a,p,d){a=Xu(a);var v=a.call?a.call(n,d):a[n];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return so(n,a.fallthrough,p,d);for(var C=0;C<a.fallthrough.length;C++){var F=so(n,a.fallthrough[C],p,d);if(F)return F}}}function Ol(n){var a=typeof n=="string"?n:Vn[n.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function Lc(n,a,p){var d=n;return a.altKey&&d!="Alt"&&(n="Alt-"+n),(de?a.metaKey:a.ctrlKey)&&d!="Ctrl"&&(n="Ctrl-"+n),(de?a.ctrlKey:a.metaKey)&&d!="Mod"&&(n="Cmd-"+n),!p&&a.shiftKey&&d!="Shift"&&(n="Shift-"+n),n}function Zu(n,a){if(N&&n.keyCode==34&&n.char)return!1;var p=Vn[n.keyCode];return p==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(p=n.code),Lc(p,n,a))}function Xu(n){return typeof n=="string"?aa[n]:n}function Ka(n,a){for(var p=n.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var C=a(p[v]);d.length&&pt(C.from,Z(d).to)<=0;){var F=d.pop();if(pt(F.from,C.from)<0){C.from=F.from;break}}d.push(C)}Zn(n,function(){for(var H=d.length-1;H>=0;H--)Ts(n.doc,"",d[H].from,d[H].to,"+delete");U(n)})}function Fl(n,a,p){var d=Ht(n.text,a+p,p);return d<0||d>n.text.length?null:d}function Vu(n,a,p){var d=Fl(n,a.ch,p);return d==null?null:new je(a.line,d,p<0?"after":"before")}function Ku(n,a,p,d,v){if(n){a.doc.direction=="rtl"&&(v=-v);var C=Ut(p,a.doc.direction);if(C){var F=v<0?Z(C):C[0],H=v<0==(F.level==1),G=H?"after":"before",K;if(F.level>0||a.doc.direction=="rtl"){var be=Br(a,p);K=v<0?p.text.length-1:0;var Ce=dn(a,be,K).top;K=Yt(function(ze){return dn(a,be,ze).top==Ce},v<0==(F.level==1)?F.from:F.to-1,K),G=="before"&&(K=Fl(p,K,1))}else K=v<0?F.to:F.from;return new je(d,K,G)}}return new je(d,v<0?p.text.length:0,v<0?"before":"after")}function Qa(n,a,p,d){var v=Ut(a,n.doc.direction);if(!v)return Vu(a,p,d);p.ch>=a.text.length?(p.ch=a.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var C=xt(v,p.ch,p.sticky),F=v[C];if(n.doc.direction=="ltr"&&F.level%2==0&&(d>0?F.to>p.ch:F.from<p.ch))return Vu(a,p,d);var H=function(bt,yt){return Fl(a,bt instanceof je?bt.ch:bt,yt)},G,K=function(bt){return n.options.lineWrapping?(G=G||Br(n,a),qi(n,a,G,bt)):{begin:0,end:a.text.length}},be=K(p.sticky=="before"?H(p,-1):p.ch);if(n.doc.direction=="rtl"||F.level==1){var Ce=F.level==1==d<0,ze=H(p,Ce?1:-1);if(ze!=null&&(Ce?ze<=F.to&&ze<=be.end:ze>=F.from&&ze>=be.begin)){var Fe=Ce?"before":"after";return new je(p.line,ze,Fe)}}var Ge=function(bt,yt,vt){for(var Tt=function(Yi,xn){return xn?new je(p.line,H(Yi,1),"before"):new je(p.line,Yi,"after")};bt>=0&&bt<v.length;bt+=yt){var Bt=v[bt],zt=yt>0==(Bt.level!=1),ci=zt?vt.begin:H(vt.end,-1);if(Bt.from<=ci&&ci<Bt.to||(ci=zt?Bt.from:H(Bt.to,-1),vt.begin<=ci&&ci<vt.end))return Tt(ci,zt)}},rt=Ge(C+d,d,be);if(rt)return rt;var dt=d>0?be.end:H(be.begin,-1);return dt!=null&&!(d>0&&dt==a.text.length)&&(rt=Ge(d>0?0:v.length-1,d,K(dt)),rt)?rt:null}var Qu={selectAll:lu,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),wt)},killLine:function(n){return Ka(n,function(a){if(a.empty()){var p=Lt(n.doc,a.head.line).text.length;return a.head.ch==p&&a.head.line<n.lastLine()?{from:a.head,to:je(a.head.line+1,0)}:{from:a.head,to:je(a.head.line,p)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(n){return Ka(n,function(a){return{from:je(a.from().line,0),to:Wt(n.doc,je(a.to().line+1,0))}})},delLineLeft:function(n){return Ka(n,function(a){return{from:je(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(n){return Ka(n,function(a){var p=n.charCoords(a.head,"div").top+5,d=n.coordsChar({left:0,top:p},"div");return{from:d,to:a.from()}})},delWrappedLineRight:function(n){return Ka(n,function(a){var p=n.charCoords(a.head,"div").top+5,d=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:p},"div");return{from:a.from(),to:d}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(je(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(je(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(a){return Ta(n,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(a){return Mc(n,a.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(a){return Uf(n,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(a){var p=n.cursorCoords(a.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:p},"div")},_t)},goLineLeft:function(n){return n.extendSelectionsBy(function(a){var p=n.cursorCoords(a.head,"div").top+5;return n.coordsChar({left:0,top:p},"div")},_t)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(a){var p=n.cursorCoords(a.head,"div").top+5,d=n.coordsChar({left:0,top:p},"div");return d.ch<n.getLine(d.line).search(/\S/)?Mc(n,a.head):d},_t)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var a=[],p=n.listSelections(),d=n.options.tabSize,v=0;v<p.length;v++){var C=p[v].from(),F=qe(n.getLine(C.line),C.ch,d);a.push(Kt(d-F%d))}n.replaceSelections(a)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return Zn(n,function(){for(var a=n.listSelections(),p=[],d=0;d<a.length;d++)if(a[d].empty()){var v=a[d].head,C=Lt(n.doc,v.line).text;if(C){if(v.ch==C.length&&(v=new je(v.line,v.ch-1)),v.ch>0)v=new je(v.line,v.ch+1),n.replaceRange(C.charAt(v.ch-1)+C.charAt(v.ch-2),je(v.line,v.ch-2),v,"+transpose");else if(v.line>n.doc.first){var F=Lt(n.doc,v.line-1).text;F&&(v=new je(v.line,1),n.replaceRange(C.charAt(0)+n.doc.lineSeparator()+F.charAt(F.length-1),je(v.line-1,F.length-1),v,"+transpose"))}}p.push(new zi(v,v))}n.setSelections(p)})},newlineAndIndent:function(n){return Zn(n,function(){for(var a=n.listSelections(),p=a.length-1;p>=0;p--)n.replaceRange(n.doc.lineSeparator(),a[p].anchor,a[p].head,"+input");a=n.listSelections();for(var d=0;d<a.length;d++)n.indentLine(a[d].from().line,null,!0);U(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function Ta(n,a){var p=Lt(n.doc,a),d=Ni(p);return d!=p&&(a=J(d)),Ku(!0,n,d,a,1)}function Uf(n,a){var p=Lt(n.doc,a),d=gr(p);return d!=p&&(a=J(d)),Ku(!0,n,p,a,-1)}function Mc(n,a){var p=Ta(n,a.line),d=Lt(n.doc,p.line),v=Ut(d,n.doc.direction);if(!v||v[0].level==0){var C=Math.max(p.ch,d.text.search(/\S/)),F=a.line==p.line&&a.ch<=C&&a.ch;return je(p.line,F?0:C,p.sticky)}return p}function mu(n,a,p){if(typeof a=="string"&&(a=Qu[a],!a))return!1;n.display.input.ensurePolled();var d=n.display.shift,v=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),p&&(n.display.shift=!1),v=a(n)!=Et}finally{n.display.shift=d,n.state.suppressEdits=!1}return v}function yd(n,a,p){for(var d=0;d<n.state.keyMaps.length;d++){var v=so(a,n.state.keyMaps[d],p,n);if(v)return v}return n.options.extraKeys&&so(a,n.options.extraKeys,p,n)||so(a,n.options.keyMap,p,n)}var wd=new Ze;function Ju(n,a,p,d){var v=n.state.keySeq;if(v){if(Ol(a))return"handled";if(/\'$/.test(a)?n.state.keySeq=null:wd.set(50,function(){n.state.keySeq==v&&(n.state.keySeq=null,n.display.input.reset())}),Pc(n,v+" "+a,p,d))return!0}return Pc(n,a,p,d)}function Pc(n,a,p,d){var v=yd(n,a,d);return v=="multi"&&(n.state.keySeq=a),v=="handled"&&en(n,"keyHandled",n,a,p),(v=="handled"||v=="multi")&&(Bi(p),ia(n)),!!v}function Oc(n,a){var p=Zu(a,!0);return p?a.shiftKey&&!n.state.keySeq?Ju(n,"Shift-"+p,a,function(d){return mu(n,d,!0)})||Ju(n,p,a,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return mu(n,d)}):Ju(n,p,a,function(d){return mu(n,d)}):!1}function xd(n,a,p){return Ju(n,"'"+p+"'",a,function(d){return mu(n,d,!0)})}var Rl=null;function Fc(n){var a=this;if(!(n.target&&n.target!=a.display.input.getField())&&(a.curOp.focus=it(Le(a)),!pi(a,n))){b&&x<11&&n.keyCode==27&&(n.returnValue=!1);var p=n.keyCode;a.display.shift=p==16||n.shiftKey;var d=Oc(a,n);N&&(Rl=d?p:null,!d&&p==88&&!Wr&&(z?n.metaKey:n.ctrlKey)&&a.replaceSelection("",null,"cut")),u&&!z&&!d&&p==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&Zr(a)}}function Zr(n){var a=n.display.lineDiv;Be(a,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(De(a,"CodeMirror-crosshair"),yi(document,"keyup",p),yi(document,"mouseover",p))}Rt(document,"keyup",p),Rt(document,"mouseover",p)}function zo(n){n.keyCode==16&&(this.doc.sel.shift=!1),pi(this,n)}function Yf(n){var a=this;if(!(n.target&&n.target!=a.display.input.getField())&&!(Nn(a.display,n)||pi(a,n)||n.ctrlKey&&!n.altKey||z&&n.metaKey)){var p=n.keyCode,d=n.charCode;if(N&&p==Rl){Rl=null,Bi(n);return}if(!(N&&(!n.which||n.which<10)&&Oc(a,n))){var v=String.fromCharCode(d??p);v!="\b"&&(xd(a,n,v)||a.display.input.onKeyPress(n))}}}var kd=400,gu=function(n,a,p){this.time=n,this.pos=a,this.button=p};gu.prototype.compare=function(n,a,p){return this.time+kd>n&&pt(a,this.pos)==0&&p==this.button};var sa,vu;function Gf(n,a){var p=+new Date;return vu&&vu.compare(p,n,a)?(sa=vu=null,"triple"):sa&&sa.compare(p,n,a)?(vu=new gu(p,n,a),sa=null,"double"):(sa=new gu(p,n,a),vu=null,"single")}function Zf(n){var a=this,p=a.display;if(!(pi(a,n)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=n.shiftKey,Nn(p,n)){w||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!_u(a,n)){var d=no(a,n),v=Ki(n),C=d?Gf(d,v):"single";X(a).focus(),v==1&&a.state.selectingText&&a.state.selectingText(n),!(d&&Xf(a,v,d,C,n))&&(v==1?d?el(a,d,C,n):Hi(n)==p.scroller&&Bi(n):v==2?(d&&au(a.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&(ge?a.display.input.onContextMenu(n):wa(a)))}}}function Xf(n,a,p,d,v){var C="Click";return d=="double"?C="Double"+C:d=="triple"&&(C="Triple"+C),C=(a==1?"Left":a==2?"Middle":"Right")+C,Ju(n,Lc(C,v),v,function(F){if(typeof F=="string"&&(F=Qu[F]),!F)return!1;var H=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),H=F(n,p)!=Et}finally{n.state.suppressEdits=!1}return H})}function bu(n,a,p){var d=n.getOption("configureMouse"),v=d?d(n,a,p):{};if(v.unit==null){var C=V?p.shiftKey&&p.metaKey:p.altKey;v.unit=C?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(v.extend==null||n.doc.extend)&&(v.extend=n.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=z?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(z?p.altKey:p.ctrlKey)),v}function el(n,a,p,d){b?setTimeout(we(Mo,n),0):n.curOp.focus=it(Le(n));var v=bu(n,p,d),C=n.doc.sel,F;n.options.dragDrop&&pr&&!n.isReadOnly()&&p=="single"&&(F=C.contains(a))>-1&&(pt((F=C.ranges[F]).from(),a)<0||a.xRel>0)&&(pt(F.to(),a)>0||a.xRel<0)?Cd(n,d,a,v):Vf(n,d,a,v)}function Cd(n,a,p,d){var v=n.display,C=!1,F=Di(n,function(K){w&&(v.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:wa(n)),yi(v.wrapper.ownerDocument,"mouseup",F),yi(v.wrapper.ownerDocument,"mousemove",H),yi(v.scroller,"dragstart",G),yi(v.scroller,"drop",F),C||(Bi(K),d.addNew||au(n.doc,p,null,null,d.extend),w&&!j||b&&x==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),H=function(K){C=C||Math.abs(a.clientX-K.clientX)+Math.abs(a.clientY-K.clientY)>=10},G=function(){return C=!0};w&&(v.scroller.draggable=!0),n.state.draggingText=F,F.copy=!d.moveOnDrag,Rt(v.wrapper.ownerDocument,"mouseup",F),Rt(v.wrapper.ownerDocument,"mousemove",H),Rt(v.scroller,"dragstart",G),Rt(v.scroller,"drop",F),n.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function Rc(n,a,p){if(p=="char")return new zi(a,a);if(p=="word")return n.findWordAt(a);if(p=="line")return new zi(je(a.line,0),Wt(n.doc,je(a.line+1,0)));var d=p(n,a);return new zi(d.from,d.to)}function Vf(n,a,p,d){b&&wa(n);var v=n.display,C=n.doc;Bi(a);var F,H,G=C.sel,K=G.ranges;if(d.addNew&&!d.extend?(H=C.sel.contains(p),H>-1?F=K[H]:F=new zi(p,p)):(F=C.sel.primary(),H=C.sel.primIndex),d.unit=="rectangle")d.addNew||(F=new zi(p,p)),p=no(n,a,!0,!0),H=-1;else{var be=Rc(n,p,d.unit);d.extend?F=Xn(F,be.anchor,be.head,d.extend):F=be}d.addNew?H==-1?(H=K.length,sr(C,Fo(n,K.concat([F]),H),{scroll:!1,origin:"*mouse"})):K.length>1&&K[H].empty()&&d.unit=="char"&&!d.extend?(sr(C,Fo(n,K.slice(0,H).concat(K.slice(H+1)),0),{scroll:!1,origin:"*mouse"}),G=C.sel):vo(C,H,F,St):(H=0,sr(C,new mn([F],0),St),G=C.sel);var Ce=p;function ze(vt){if(pt(Ce,vt)!=0)if(Ce=vt,d.unit=="rectangle"){for(var Tt=[],Bt=n.options.tabSize,zt=qe(Lt(C,p.line).text,p.ch,Bt),ci=qe(Lt(C,vt.line).text,vt.ch,Bt),Yi=Math.min(zt,ci),xn=Math.max(zt,ci),an=Math.min(p.line,vt.line),gn=Math.min(n.lastLine(),Math.max(p.line,vt.line));an<=gn;an++){var An=Lt(C,an).text,Dn=Mt(An,Yi,Bt);Yi==xn?Tt.push(new zi(je(an,Dn),je(an,Dn))):An.length>Dn&&Tt.push(new zi(je(an,Dn),je(an,Mt(An,xn,Bt))))}Tt.length||Tt.push(new zi(p,p)),sr(C,Fo(n,G.ranges.slice(0,H).concat(Tt),H),{origin:"*mouse",scroll:!1}),n.scrollIntoView(vt)}else{var Ar=F,lr=Rc(n,vt,d.unit),In=Ar.anchor,Ln;pt(lr.anchor,In)>0?(Ln=lr.head,In=li(Ar.from(),lr.anchor)):(Ln=lr.anchor,In=Nt(Ar.to(),lr.head));var vn=G.ranges.slice(0);vn[H]=Nl(n,new zi(Wt(C,In),Ln)),sr(C,Fo(n,vn,H),St)}}var Fe=v.wrapper.getBoundingClientRect(),Ge=0;function rt(vt){var Tt=++Ge,Bt=no(n,vt,!0,d.unit=="rectangle");if(Bt)if(pt(Bt,Ce)!=0){n.curOp.focus=it(Le(n)),ze(Bt);var zt=na(v,C);(Bt.line>=zt.to||Bt.line<zt.from)&&setTimeout(Di(n,function(){Ge==Tt&&rt(vt)}),150)}else{var ci=vt.clientY<Fe.top?-20:vt.clientY>Fe.bottom?20:0;ci&&setTimeout(Di(n,function(){Ge==Tt&&(v.scroller.scrollTop+=ci,rt(vt))}),50)}}function dt(vt){n.state.selectingText=!1,Ge=1/0,vt&&(Bi(vt),v.input.focus()),yi(v.wrapper.ownerDocument,"mousemove",bt),yi(v.wrapper.ownerDocument,"mouseup",yt),C.history.lastSelOrigin=null}var bt=Di(n,function(vt){vt.buttons===0||!Ki(vt)?dt(vt):rt(vt)}),yt=Di(n,dt);n.state.selectingText=yt,Rt(v.wrapper.ownerDocument,"mousemove",bt),Rt(v.wrapper.ownerDocument,"mouseup",yt)}function Nl(n,a){var p=a.anchor,d=a.head,v=Lt(n.doc,p.line);if(pt(p,d)==0&&p.sticky==d.sticky)return a;var C=Ut(v);if(!C)return a;var F=xt(C,p.ch,p.sticky),H=C[F];if(H.from!=p.ch&&H.to!=p.ch)return a;var G=F+(H.from==p.ch==(H.level!=1)?0:1);if(G==0||G==C.length)return a;var K;if(d.line!=p.line)K=(d.line-p.line)*(n.doc.direction=="ltr"?1:-1)>0;else{var be=xt(C,d.ch,d.sticky),Ce=be-F||(d.ch-p.ch)*(H.level==1?-1:1);be==G-1||be==G?K=Ce<0:K=Ce>0}var ze=C[G+(K?-1:0)],Fe=K==(ze.level==1),Ge=Fe?ze.from:ze.to,rt=Fe?"after":"before";return p.ch==Ge&&p.sticky==rt?a:new zi(new je(p.line,Ge,rt),d)}function Nc(n,a,p,d){var v,C;if(a.touches)v=a.touches[0].clientX,C=a.touches[0].clientY;else try{v=a.clientX,C=a.clientY}catch{return!1}if(v>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;d&&Bi(a);var F=n.display,H=F.lineDiv.getBoundingClientRect();if(C>H.bottom||!ui(n,p))return $i(a);C-=H.top-F.viewOffset;for(var G=0;G<n.display.gutterSpecs.length;++G){var K=F.gutters.childNodes[G];if(K&&K.getBoundingClientRect().right>=v){var be=xe(n.doc,C),Ce=n.display.gutterSpecs[G];return Ri(n,p,n,be,Ce.className,a),$i(a)}}}function _u(n,a){return Nc(n,a,"gutterClick",!0)}function zl(n,a){Nn(n.display,a)||Il(n,a)||pi(n,a,"contextmenu")||ge||n.display.input.onContextMenu(a)}function Il(n,a){return ui(n,"gutterContextMenu")?Nc(n,a,"gutterContextMenu",!1):!1}function Kf(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ko(n)}var Ps={toString:function(){return"CodeMirror.Init"}},tl={},il={};function zc(n){var a=n.optionHandlers;function p(d,v,C,F){n.defaults[d]=v,C&&(a[d]=F?function(H,G,K){K!=Ps&&C(H,G,K)}:C)}n.defineOption=p,n.Init=Ps,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,_c(d)},!0),p("indentUnit",2,_c,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){Es(d),Ko(d),br(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var C=[],F=d.doc.first;d.doc.iter(function(G){for(var K=0;;){var be=G.text.indexOf(v,K);if(be==-1)break;K=be+v.length,C.push(je(F,be))}F++});for(var H=C.length-1;H>=0;H--)Ts(d.doc,v,C[H],je(C[H].line,C[H].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,v,C){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),C!=Ps&&d.refresh()}),p("specialCharPlaceholder",To,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",B?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!ne),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){Kf(d),qu(d)},!0),p("keyMap","default",function(d,v,C){var F=Xu(v),H=C!=Ps&&Xu(C);H&&H.detach&&H.detach(d,F),F.attach&&F.attach(d,H||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Qf,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=Oo(v,d.options.lineNumbers),qu(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?Ci(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return pn(d)},!0),p("scrollbarStyle","native",function(d){El(d),pn(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=Oo(d.options.gutters,v),qu(d)},!0),p("firstLineNumber",1,qu,!0),p("lineNumberFormatter",function(d){return d},qu,!0),p("showCursorWhenSelecting",!1,ro,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(xa(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,Ed),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,ro,!0),p("singleCursorHeightPerLine",!0,ro,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Es,!0),p("addModeClass",!1,Es,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,Es,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function Ed(n,a,p){var d=p&&p!=Ps;if(!a!=!d){var v=n.display.dragFunctions,C=a?Rt:yi;C(n.display.scroller,"dragstart",v.start),C(n.display.scroller,"dragenter",v.enter),C(n.display.scroller,"dragover",v.over),C(n.display.scroller,"dragleave",v.leave),C(n.display.scroller,"drop",v.drop)}}function Qf(n){n.options.lineWrapping?(Be(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(De(n.display.wrapper,"CodeMirror-wrap"),qs(n)),Lo(n),br(n),Ko(n),setTimeout(function(){return pn(n)},100)}function Oi(n,a){var p=this;if(!(this instanceof Oi))return new Oi(n,a);this.options=a=a?Te(a):{},Te(tl,a,!1);var d=a.value;typeof d=="string"?d=new Tr(d,a.mode,null,a.lineSeparator,a.direction):a.mode&&(d.modeOption=a.mode),this.doc=d;var v=new Oi.inputStyles[a.inputStyle](this),C=this.display=new fd(n,d,v,a);C.wrapper.CodeMirror=this,Kf(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),El(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ze,keySeq:null,specialChars:null},a.autofocus&&!B&&C.input.focus(),b&&x<11&&setTimeout(function(){return p.display.input.reset(!0)},20),Jf(this),qf(),ka(this),this.curOp.forceUpdate=!0,yc(this,d),a.autofocus&&!B||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&tu(p)},20):xa(this);for(var F in il)il.hasOwnProperty(F)&&il[F](this,a[F],Ps);xf(this),a.finishInit&&a.finishInit(this);for(var H=0;H<Bl.length;++H)Bl[H](this);ra(this),w&&a.lineWrapping&&getComputedStyle(C.lineDiv).textRendering=="optimizelegibility"&&(C.lineDiv.style.textRendering="auto")}Oi.defaults=tl,Oi.optionHandlers=il;function Jf(n){var a=n.display;Rt(a.scroller,"mousedown",Di(n,Zf)),b&&x<11?Rt(a.scroller,"dblclick",Di(n,function(G){if(!pi(n,G)){var K=no(n,G);if(!(!K||_u(n,G)||Nn(n.display,G))){Bi(G);var be=n.findWordAt(K);au(n.doc,be.anchor,be.head)}}})):Rt(a.scroller,"dblclick",function(G){return pi(n,G)||Bi(G)}),Rt(a.scroller,"contextmenu",function(G){return zl(n,G)}),Rt(a.input.getField(),"contextmenu",function(G){a.scroller.contains(G.target)||zl(n,G)});var p,d={end:0};function v(){a.activeTouch&&(p=setTimeout(function(){return a.activeTouch=null},1e3),d=a.activeTouch,d.end=+new Date)}function C(G){if(G.touches.length!=1)return!1;var K=G.touches[0];return K.radiusX<=1&&K.radiusY<=1}function F(G,K){if(K.left==null)return!0;var be=K.left-G.left,Ce=K.top-G.top;return be*be+Ce*Ce>20*20}Rt(a.scroller,"touchstart",function(G){if(!pi(n,G)&&!C(G)&&!_u(n,G)){a.input.ensurePolled(),clearTimeout(p);var K=+new Date;a.activeTouch={start:K,moved:!1,prev:K-d.end<=300?d:null},G.touches.length==1&&(a.activeTouch.left=G.touches[0].pageX,a.activeTouch.top=G.touches[0].pageY)}}),Rt(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Rt(a.scroller,"touchend",function(G){var K=a.activeTouch;if(K&&!Nn(a,G)&&K.left!=null&&!K.moved&&new Date-K.start<300){var be=n.coordsChar(a.activeTouch,"page"),Ce;!K.prev||F(K,K.prev)?Ce=new zi(be,be):!K.prev.prev||F(K,K.prev.prev)?Ce=n.findWordAt(be):Ce=new zi(je(be.line,0),Wt(n.doc,je(be.line+1,0))),n.setSelection(Ce.anchor,Ce.head),n.focus(),Bi(G)}v()}),Rt(a.scroller,"touchcancel",v),Rt(a.scroller,"scroll",function(){a.scroller.clientHeight&&(lt(n,a.scroller.scrollTop),It(n,a.scroller.scrollLeft,!0),Ri(n,"scroll",n))}),Rt(a.scroller,"mousewheel",function(G){return Cf(n,G)}),Rt(a.scroller,"DOMMouseScroll",function(G){return Cf(n,G)}),Rt(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(G){pi(n,G)||Or(G)},over:function(G){pi(n,G)||(bi(n,G),Or(G))},start:function(G){return Dc(n,G)},drop:Di(n,vd),leave:function(G){pi(n,G)||Hf(n)}};var H=a.input.getField();Rt(H,"keyup",function(G){return zo.call(n,G)}),Rt(H,"keydown",Di(n,Fc)),Rt(H,"keypress",Di(n,Yf)),Rt(H,"focus",function(G){return tu(n,G)}),Rt(H,"blur",function(G){return xa(n,G)})}var Bl=[];Oi.defineInitHook=function(n){return Bl.push(n)};function nl(n,a,p,d){var v=n.doc,C;p==null&&(p="add"),p=="smart"&&(v.mode.indent?C=_e(n,a).state:p="prev");var F=n.options.tabSize,H=Lt(v,a),G=qe(H.text,null,F);H.stateAfter&&(H.stateAfter=null);var K=H.text.match(/^\s*/)[0],be;if(!d&&!/\S/.test(H.text))be=0,p="not";else if(p=="smart"&&(be=v.mode.indent(C,H.text.slice(K.length),H.text),be==Et||be>150)){if(!d)return;p="prev"}p=="prev"?a>v.first?be=qe(Lt(v,a-1).text,null,F):be=0:p=="add"?be=G+n.options.indentUnit:p=="subtract"?be=G-n.options.indentUnit:typeof p=="number"&&(be=G+p),be=Math.max(0,be);var Ce="",ze=0;if(n.options.indentWithTabs)for(var Fe=Math.floor(be/F);Fe;--Fe)ze+=F,Ce+="	";if(ze<be&&(Ce+=Kt(be-ze)),Ce!=K)return Ts(v,Ce,je(a,0),je(a,K.length),"+input"),H.stateAfter=null,!0;for(var Ge=0;Ge<v.sel.ranges.length;Ge++){var rt=v.sel.ranges[Ge];if(rt.head.line==a&&rt.head.ch<K.length){var dt=je(a,K.length);vo(v,Ge,new zi(dt,dt));break}}}var bo=null;function $l(n){bo=n}function Ic(n,a,p,d,v){var C=n.doc;n.display.shift=!1,d||(d=C.sel);var F=+new Date-200,H=v=="paste"||n.state.pasteIncoming>F,G=Un(a),K=null;if(H&&d.ranges.length>1)if(bo&&bo.text.join(`
`)==a){if(d.ranges.length%bo.text.length==0){K=[];for(var be=0;be<bo.text.length;be++)K.push(C.splitLines(bo.text[be]))}}else G.length==d.ranges.length&&n.options.pasteLinesPerSelection&&(K=le(G,function(bt){return[bt]}));for(var Ce=n.curOp.updateInput,ze=d.ranges.length-1;ze>=0;ze--){var Fe=d.ranges[ze],Ge=Fe.from(),rt=Fe.to();Fe.empty()&&(p&&p>0?Ge=je(Ge.line,Ge.ch-p):n.state.overwrite&&!H?rt=je(rt.line,Math.min(Lt(C,rt.line).text.length,rt.ch+Z(G).length)):H&&bo&&bo.lineWise&&bo.text.join(`
`)==G.join(`
`)&&(Ge=rt=je(Ge.line,0)));var dt={from:Ge,to:rt,text:K?K[ze%K.length]:G,origin:v||(H?"paste":n.state.cutIncoming>F?"cut":"+input")};cu(n.doc,dt),en(n,"inputRead",n,dt)}a&&!H&&Hl(n,a),U(n),n.curOp.updateInput<2&&(n.curOp.updateInput=Ce),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function ua(n,a){var p=n.clipboardData&&n.clipboardData.getData("Text");if(p)return n.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&Zn(a,function(){return Ic(a,p,0,null,"paste")}),!0}function Hl(n,a){if(!(!n.options.electricChars||!n.options.smartIndent))for(var p=n.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var C=n.getModeAt(v.head),F=!1;if(C.electricChars){for(var H=0;H<C.electricChars.length;H++)if(a.indexOf(C.electricChars.charAt(H))>-1){F=nl(n,v.head.line,"smart");break}}else C.electricInput&&C.electricInput.test(Lt(n.doc,v.head.line).text.slice(0,v.head.ch))&&(F=nl(n,v.head.line,"smart"));F&&en(n,"electricInput",n,v.head.line)}}}function Wl(n){for(var a=[],p=[],d=0;d<n.doc.sel.ranges.length;d++){var v=n.doc.sel.ranges[d].head.line,C={anchor:je(v,0),head:je(v+1,0)};p.push(C),a.push(n.getRange(C.anchor,C.head))}return{text:a,ranges:p}}function rl(n,a,p,d){n.setAttribute("autocorrect",p?"on":"off"),n.setAttribute("autocapitalize",d?"on":"off"),n.setAttribute("spellcheck",!!a)}function ol(){var n=P("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=P("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return w?n.style.width="1000px":n.setAttribute("wrap","off"),E&&(n.style.border="1px solid black"),a}function yu(n){var a=n.optionHandlers,p=n.helpers={};n.prototype={constructor:n,focus:function(){X(this).focus(),this.display.input.focus()},setOption:function(d,v){var C=this.options,F=C[d];C[d]==v&&d!="mode"||(C[d]=v,a.hasOwnProperty(d)&&Di(this,a[d])(this,v,F),Ri(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](Xu(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,C=0;C<v.length;++C)if(v[C]==d||v[C].name==d)return v.splice(C,1),!0},addOverlay:Gt(function(d,v){var C=d.token?d:n.getMode(this.options,d);if(C.startState)throw new Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:C,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(F){return F.priority}),this.state.modeGen++,br(this)}),removeOverlay:Gt(function(d){for(var v=this.state.overlays,C=0;C<v.length;++C){var F=v[C].modeSpec;if(F==d||typeof d=="string"&&F.name==d){v.splice(C,1),this.state.modeGen++,br(this);return}}}),indentLine:Gt(function(d,v,C){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),He(this.doc,d)&&nl(this,d,v,C)}),indentSelection:Gt(function(d){for(var v=this.doc.sel.ranges,C=-1,F=0;F<v.length;F++){var H=v[F];if(H.empty())H.head.line>C&&(nl(this,H.head.line,d,!0),C=H.head.line,F==this.doc.sel.primIndex&&U(this));else{var G=H.from(),K=H.to(),be=Math.max(C,G.line);C=Math.min(this.lastLine(),K.line-(K.ch?0:1))+1;for(var Ce=be;Ce<C;++Ce)nl(this,Ce,d);var ze=this.doc.sel.ranges;G.ch==0&&v.length==ze.length&&ze[F].from().ch>0&&vo(this.doc,F,new zi(G,ze[F].to()),wt)}}}),getTokenAt:function(d,v){return Ke(this,d,v)},getLineTokens:function(d,v){return Ke(this,je(d),v,!0)},getTokenTypeAt:function(d){d=Wt(this.doc,d);var v=ae(this,Lt(this.doc,d.line)),C=0,F=(v.length-1)/2,H=d.ch,G;if(H==0)G=v[2];else for(;;){var K=C+F>>1;if((K?v[K*2-1]:0)>=H)F=K;else if(v[K*2+1]<H)C=K+1;else{G=v[K*2+2];break}}var be=G?G.indexOf("overlay "):-1;return be<0?G:be==0?null:G.slice(0,be-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?n.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var C=[];if(!p.hasOwnProperty(v))return C;var F=p[v],H=this.getModeAt(d);if(typeof H[v]=="string")F[H[v]]&&C.push(F[H[v]]);else if(H[v])for(var G=0;G<H[v].length;G++){var K=F[H[v][G]];K&&C.push(K)}else H.helperType&&F[H.helperType]?C.push(F[H.helperType]):F[H.name]&&C.push(F[H.name]);for(var be=0;be<F._global.length;be++){var Ce=F._global[be];Ce.pred(H,this)&&Xe(C,Ce.val)==-1&&C.push(Ce.val)}return C},getStateAfter:function(d,v){var C=this.doc;return d=fo(C,d??C.first+C.size-1),_e(this,d+1,v).state},cursorCoords:function(d,v){var C,F=this.doc.sel.primary();return d==null?C=F.head:typeof d=="object"?C=Wt(this.doc,d):C=d?F.from():F.to(),Ue(this,C,v||"page")},charCoords:function(d,v){return tt(this,Wt(this.doc,d),v||"page")},coordsChar:function(d,v){return d=Ne(this,d,v||"page"),Si(this,d.left,d.top)},lineAtHeight:function(d,v){return d=Ne(this,{top:d,left:0},v||"page").top,xe(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,C){var F=!1,H;if(typeof d=="number"){var G=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>G&&(d=G,F=!0),H=Lt(this.doc,d)}else H=d;return jr(this,H,{top:0,left:0},v||"page",C||F).top+(F?this.doc.height-to(H):0)},defaultTextHeight:function(){return io(this.display)},defaultCharWidth:function(){return go(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,C,F,H){var G=this.display;d=Ue(this,Wt(this.doc,d));var K=d.bottom,be=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),G.sizer.appendChild(v),F=="over")K=d.top;else if(F=="above"||F=="near"){var Ce=Math.max(G.wrapper.clientHeight,this.doc.height),ze=Math.max(G.sizer.clientWidth,G.lineSpace.clientWidth);(F=="above"||d.bottom+v.offsetHeight>Ce)&&d.top>v.offsetHeight?K=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=Ce&&(K=d.bottom),be+v.offsetWidth>ze&&(be=ze-v.offsetWidth)}v.style.top=K+"px",v.style.left=v.style.right="",H=="right"?(be=G.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(H=="left"?be=0:H=="middle"&&(be=(G.sizer.clientWidth-v.offsetWidth)/2),v.style.left=be+"px"),C&&m(this,{left:be,top:K,right:be+v.offsetWidth,bottom:K+v.offsetHeight})},triggerOnKeyDown:Gt(Fc),triggerOnKeyPress:Gt(Yf),triggerOnKeyUp:zo,triggerOnMouseDown:Gt(Zf),execCommand:function(d){if(Qu.hasOwnProperty(d))return Qu[d].call(null,this)},triggerElectric:Gt(function(d){Hl(this,d)}),findPosH:function(d,v,C,F){var H=1;v<0&&(H=-1,v=-v);for(var G=Wt(this.doc,d),K=0;K<v&&(G=Xt(this.doc,G,H,C,F),!G.hitSide);++K);return G},moveH:Gt(function(d,v){var C=this;this.extendSelectionsBy(function(F){return C.display.shift||C.doc.extend||F.empty()?Xt(C.doc,F.head,d,v,C.options.rtlMoveVisually):d<0?F.from():F.to()},_t)}),deleteH:Gt(function(d,v){var C=this.doc.sel,F=this.doc;C.somethingSelected()?F.replaceSelection("",null,"+delete"):Ka(this,function(H){var G=Xt(F,H.head,d,v,!1);return d<0?{from:G,to:H.head}:{from:H.head,to:G}})}),findPosV:function(d,v,C,F){var H=1,G=F;v<0&&(H=-1,v=-v);for(var K=Wt(this.doc,d),be=0;be<v;++be){var Ce=Ue(this,K,"div");if(G==null?G=Ce.left:Ce.left=G,K=al(this,Ce,H,C),K.hitSide)break}return K},moveV:Gt(function(d,v){var C=this,F=this.doc,H=[],G=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(be){if(G)return d<0?be.from():be.to();var Ce=Ue(C,be.head,"div");be.goalColumn!=null&&(Ce.left=be.goalColumn),H.push(Ce.left);var ze=al(C,Ce,d,v);return v=="page"&&be==F.sel.primary()&&A(C,tt(C,ze,"div").top-Ce.top),ze},_t),H.length)for(var K=0;K<F.sel.ranges.length;K++)F.sel.ranges[K].goalColumn=H[K]}),findWordAt:function(d){var v=this.doc,C=Lt(v,d.line).text,F=d.ch,H=d.ch;if(C){var G=this.getHelper(d,"wordChars");(d.sticky=="before"||H==C.length)&&F?--F:++H;for(var K=C.charAt(F),be=Qe(K,G)?function(Ce){return Qe(Ce,G)}:/\s/.test(K)?function(Ce){return/\s/.test(Ce)}:function(Ce){return!/\s/.test(Ce)&&!Qe(Ce)};F>0&&be(C.charAt(F-1));)--F;for(;H<C.length&&be(C.charAt(H));)++H}return new zi(je(d.line,F),je(d.line,H))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Be(this.display.cursorDiv,"CodeMirror-overwrite"):De(this.display.cursorDiv,"CodeMirror-overwrite"),Ri(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==it(Le(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gt(function(d,v){oe(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Cr(this)-this.display.barHeight,width:d.scrollWidth-Cr(this)-this.display.barWidth,clientHeight:Ba(this),clientWidth:Vo(this)}},scrollIntoView:Gt(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:je(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?Ae(this,d):Ye(this,d.from,d.to,d.margin)}),setSize:Gt(function(d,v){var C=this,F=function(G){return typeof G=="number"||/^\d+$/.test(String(G))?G+"px":G};d!=null&&(this.display.wrapper.style.width=F(d)),v!=null&&(this.display.wrapper.style.height=F(v)),this.options.lineWrapping&&Qs(this);var H=this.display.viewFrom;this.doc.iter(H,this.display.viewTo,function(G){if(G.widgets){for(var K=0;K<G.widgets.length;K++)if(G.widgets[K].noHScroll){ar(C,H,"widget");break}}++H}),this.curOp.forceUpdate=!0,Ri(this,"refresh",this)}),operation:function(d){return Zn(this,d)},startOperation:function(){return ka(this)},endOperation:function(){return ra(this)},refresh:Gt(function(){var d=this.display.cachedTextHeight;br(this),this.curOp.forceUpdate=!0,Ko(this),oe(this,this.doc.scrollLeft,this.doc.scrollTop),gc(this.display),(d==null||Math.abs(d-io(this.display))>.5||this.options.lineWrapping)&&Lo(this),Ri(this,"refresh",this)}),swapDoc:Gt(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),yc(this,d),Ko(this),this.display.input.reset(),oe(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,en(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},si(n),n.registerHelper=function(d,v,C){p.hasOwnProperty(d)||(p[d]=n[d]={_global:[]}),p[d][v]=C},n.registerGlobalHelper=function(d,v,C,F){n.registerHelper(d,v,F),p[d]._global.push({pred:C,val:F})}}function Xt(n,a,p,d,v){var C=a,F=p,H=Lt(n,a.line),G=v&&n.direction=="rtl"?-p:p;function K(){var yt=a.line+G;return yt<n.first||yt>=n.first+n.size?!1:(a=new je(yt,a.ch,a.sticky),H=Lt(n,yt))}function be(yt){var vt;if(d=="codepoint"){var Tt=H.text.charCodeAt(a.ch+(p>0?0:-1));if(isNaN(Tt))vt=null;else{var Bt=p>0?Tt>=55296&&Tt<56320:Tt>=56320&&Tt<57343;vt=new je(a.line,Math.max(0,Math.min(H.text.length,a.ch+p*(Bt?2:1))),-p)}}else v?vt=Qa(n.cm,H,a,p):vt=Vu(H,a,p);if(vt==null)if(!yt&&K())a=Ku(v,n.cm,H,a.line,G);else return!1;else a=vt;return!0}if(d=="char"||d=="codepoint")be();else if(d=="column")be(!0);else if(d=="word"||d=="group")for(var Ce=null,ze=d=="group",Fe=n.cm&&n.cm.getHelper(a,"wordChars"),Ge=!0;!(p<0&&!be(!Ge));Ge=!1){var rt=H.text.charAt(a.ch)||`
`,dt=Qe(rt,Fe)?"w":ze&&rt==`
`?"n":!ze||/\s/.test(rt)?null:"p";if(ze&&!Ge&&!dt&&(dt="s"),Ce&&Ce!=dt){p<0&&(p=1,be(),a.sticky="after");break}if(dt&&(Ce=dt),p>0&&!be(!Ge))break}var bt=uu(n,a,C,F,!0);return ni(C,bt)&&(bt.hitSide=!0),bt}function al(n,a,p,d){var v=n.doc,C=a.left,F;if(d=="page"){var H=Math.min(n.display.wrapper.clientHeight,X(n).innerHeight||v(n).documentElement.clientHeight),G=Math.max(H-.5*io(n.display),3);F=(p>0?a.bottom:a.top)+p*G}else d=="line"&&(F=p>0?a.bottom+3:a.top-3);for(var K;K=Si(n,C,F),!!K.outside;){if(p<0?F<=0:F>=v.height){K.hitSide=!0;break}F+=p*5}return K}var Ii=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ze,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ii.prototype.init=function(n){var a=this,p=this,d=p.cm,v=p.div=n.lineDiv;v.contentEditable=!0,rl(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function C(H){for(var G=H.target;G;G=G.parentNode){if(G==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(G.className))break}return!1}Rt(v,"paste",function(H){!C(H)||pi(d,H)||ua(H,d)||x<=11&&setTimeout(Di(d,function(){return a.updateFromDOM()}),20)}),Rt(v,"compositionstart",function(H){a.composing={data:H.data,done:!1}}),Rt(v,"compositionupdate",function(H){a.composing||(a.composing={data:H.data,done:!1})}),Rt(v,"compositionend",function(H){a.composing&&(H.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),Rt(v,"touchstart",function(){return p.forceCompositionEnd()}),Rt(v,"input",function(){a.composing||a.readFromDOMSoon()});function F(H){if(!(!C(H)||pi(d,H))){if(d.somethingSelected())$l({lineWise:!1,text:d.getSelections()}),H.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var G=Wl(d);$l({lineWise:!0,text:G.text}),H.type=="cut"&&d.operation(function(){d.setSelections(G.ranges,0,wt),d.replaceSelection("",null,"cut")})}else return;if(H.clipboardData){H.clipboardData.clearData();var K=bo.text.join(`
`);if(H.clipboardData.setData("Text",K),H.clipboardData.getData("Text")==K){H.preventDefault();return}}var be=ol(),Ce=be.firstChild;rl(Ce),d.display.lineSpace.insertBefore(be,d.display.lineSpace.firstChild),Ce.value=bo.text.join(`
`);var ze=it(Re(v));te(Ce),setTimeout(function(){d.display.lineSpace.removeChild(be),ze.focus(),ze==v&&p.showPrimarySelection()},50)}}Rt(v,"copy",F),Rt(v,"cut",F)},Ii.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var n=ya(this.cm,!1);return n.focus=it(Re(this.div))==this.div,n},Ii.prototype.showSelection=function(n,a){!n||!this.cm.display.view.length||((n.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(n))},Ii.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ii.prototype.showPrimarySelection=function(){var n=this.getSelection(),a=this.cm,p=a.doc.sel.primary(),d=p.from(),v=p.to();if(a.display.viewTo==a.display.viewFrom||d.line>=a.display.viewTo||v.line<a.display.viewFrom){n.removeAllRanges();return}var C=Kn(a,n.anchorNode,n.anchorOffset),F=Kn(a,n.focusNode,n.focusOffset);if(!(C&&!C.bad&&F&&!F.bad&&pt(li(C,F),d)==0&&pt(Nt(C,F),v)==0)){var H=a.display.view,G=d.line>=a.display.viewFrom&&Ja(a,d)||{node:H[0].measure.map[2],offset:0},K=v.line<a.display.viewTo&&Ja(a,v);if(!K){var be=H[H.length-1].measure,Ce=be.maps?be.maps[be.maps.length-1]:be.map;K={node:Ce[Ce.length-1],offset:Ce[Ce.length-2]-Ce[Ce.length-3]}}if(!G||!K){n.removeAllRanges();return}var ze=n.rangeCount&&n.getRangeAt(0),Fe;try{Fe=ye(G.node,G.offset,K.offset,K.node)}catch{}Fe&&(!u&&a.state.focused?(n.collapse(G.node,G.offset),Fe.collapsed||(n.removeAllRanges(),n.addRange(Fe))):(n.removeAllRanges(),n.addRange(Fe)),ze&&n.anchorNode==null?n.addRange(ze):u&&this.startGracePeriod()),this.rememberSelection()}},Ii.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},Ii.prototype.showMultipleSelections=function(n){re(this.cm.display.cursorDiv,n.cursors),re(this.cm.display.selectionDiv,n.selection)},Ii.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},Ii.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var a=n.getRangeAt(0).commonAncestorContainer;return Ee(this.div,a)},Ii.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||it(Re(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ii.prototype.blur=function(){this.div.blur()},Ii.prototype.getField=function(){return this.div},Ii.prototype.supportsTouch=function(){return!0},Ii.prototype.receivedFocus=function(){var n=this,a=this;this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):Zn(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function p(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Ii.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},Ii.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var n=this.getSelection(),a=this.cm;if(D&&O&&this.cm.display.gutterSpecs.length&&Sd(n.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=Kn(a,n.anchorNode,n.anchorOffset),d=Kn(a,n.focusNode,n.focusOffset);p&&d&&Zn(a,function(){sr(a.doc,Ya(p,d),wt),(p.bad||d.bad)&&(a.curOp.selectionChanged=!0)})}}},Ii.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,a=n.display,p=n.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>n.firstLine()&&(d=je(d.line-1,Lt(n.doc,d.line-1).length)),v.ch==Lt(n.doc,v.line).text.length&&v.line<n.lastLine()&&(v=je(v.line+1,0)),d.line<a.viewFrom||v.line>a.viewTo-1)return!1;var C,F,H;d.line==a.viewFrom||(C=Jo(n,d.line))==0?(F=J(a.view[0].line),H=a.view[0].node):(F=J(a.view[C].line),H=a.view[C-1].node.nextSibling);var G=Jo(n,v.line),K,be;if(G==a.view.length-1?(K=a.viewTo-1,be=a.lineDiv.lastChild):(K=J(a.view[G+1].line)-1,be=a.view[G+1].node.previousSibling),!H)return!1;for(var Ce=n.doc.splitLines(eh(n,H,be,F,K)),ze=Gn(n.doc,je(F,0),je(K,Lt(n.doc,K).text.length));Ce.length>1&&ze.length>1;)if(Z(Ce)==Z(ze))Ce.pop(),ze.pop(),K--;else if(Ce[0]==ze[0])Ce.shift(),ze.shift(),F++;else break;for(var Fe=0,Ge=0,rt=Ce[0],dt=ze[0],bt=Math.min(rt.length,dt.length);Fe<bt&&rt.charCodeAt(Fe)==dt.charCodeAt(Fe);)++Fe;for(var yt=Z(Ce),vt=Z(ze),Tt=Math.min(yt.length-(Ce.length==1?Fe:0),vt.length-(ze.length==1?Fe:0));Ge<Tt&&yt.charCodeAt(yt.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)++Ge;if(Ce.length==1&&ze.length==1&&F==d.line)for(;Fe&&Fe>d.ch&&yt.charCodeAt(yt.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)Fe--,Ge++;Ce[Ce.length-1]=yt.slice(0,yt.length-Ge).replace(/^\u200b+/,""),Ce[0]=Ce[0].slice(Fe).replace(/\u200b+$/,"");var Bt=je(F,Fe),zt=je(K,ze.length?Z(ze).length-Ge:0);if(Ce.length>1||Ce[0]||pt(Bt,zt))return Ts(n.doc,Ce,Bt,zt,"+input"),!0},Ii.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ii.prototype.reset=function(){this.forceCompositionEnd()},Ii.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ii.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},Ii.prototype.updateFromDOM=function(){var n=this;(this.cm.isReadOnly()||!this.pollContent())&&Zn(this.cm,function(){return br(n.cm)})},Ii.prototype.setUneditable=function(n){n.contentEditable="false"},Ii.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||Di(this.cm,Ic)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},Ii.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},Ii.prototype.onContextMenu=function(){},Ii.prototype.resetPosition=function(){},Ii.prototype.needsContentAttribute=!0;function Ja(n,a){var p=Ha(n,a.line);if(!p||p.hidden)return null;var d=Lt(n.doc,a.line),v=Do(p,d,a.line),C=Ut(d,n.doc.direction),F="left";if(C){var H=xt(C,a.ch);F=H%2?"right":"left"}var G=_a(v.map,a.ch,F);return G.offset=G.collapse=="right"?G.end:G.start,G}function Sd(n){for(var a=n;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function es(n,a){return a&&(n.bad=!0),n}function eh(n,a,p,d,v){var C="",F=!1,H=n.doc.lineSeparator(),G=!1;function K(Fe){return function(Ge){return Ge.id==Fe}}function be(){F&&(C+=H,G&&(C+=H),F=G=!1)}function Ce(Fe){Fe&&(be(),C+=Fe)}function ze(Fe){if(Fe.nodeType==1){var Ge=Fe.getAttribute("cm-text");if(Ge){Ce(Ge);return}var rt=Fe.getAttribute("cm-marker"),dt;if(rt){var bt=n.findMarks(je(d,0),je(v+1,0),K(+rt));bt.length&&(dt=bt[0].find(0))&&Ce(Gn(n.doc,dt.from,dt.to).join(H));return}if(Fe.getAttribute("contenteditable")=="false")return;var yt=/^(pre|div|p|li|table|br)$/i.test(Fe.nodeName);if(!/^br$/i.test(Fe.nodeName)&&Fe.textContent.length==0)return;yt&&be();for(var vt=0;vt<Fe.childNodes.length;vt++)ze(Fe.childNodes[vt]);/^(pre|p)$/i.test(Fe.nodeName)&&(G=!0),yt&&(F=!0)}else Fe.nodeType==3&&Ce(Fe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ze(a),a!=p;)a=a.nextSibling,G=!1;return C}function Kn(n,a,p){var d;if(a==n.display.lineDiv){if(d=n.display.lineDiv.childNodes[p],!d)return es(n.clipPos(je(n.display.viewTo-1)),!0);a=null,p=0}else for(d=a;;d=d.parentNode){if(!d||d==n.display.lineDiv)return null;if(d.parentNode&&d.parentNode==n.display.lineDiv)break}for(var v=0;v<n.display.view.length;v++){var C=n.display.view[v];if(C.node==d)return Td(C,a,p)}}function Td(n,a,p){var d=n.text.firstChild,v=!1;if(!a||!Ee(d,a))return es(je(J(n.line),0),!0);if(a==d&&(v=!0,a=d.childNodes[p],p=0,!a)){var C=n.rest?Z(n.rest):n.line;return es(je(J(C),C.text.length),v)}var F=a.nodeType==3?a:null,H=a;for(!F&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(F=a.firstChild,p&&(p=F.nodeValue.length));H.parentNode!=d;)H=H.parentNode;var G=n.measure,K=G.maps;function be(dt,bt,yt){for(var vt=-1;vt<(K?K.length:0);vt++)for(var Tt=vt<0?G.map:K[vt],Bt=0;Bt<Tt.length;Bt+=3){var zt=Tt[Bt+2];if(zt==dt||zt==bt){var ci=J(vt<0?n.line:n.rest[vt]),Yi=Tt[Bt]+yt;return(yt<0||zt!=dt)&&(Yi=Tt[Bt+(yt?1:0)]),je(ci,Yi)}}}var Ce=be(F,H,p);if(Ce)return es(Ce,v);for(var ze=H.nextSibling,Fe=F?F.nodeValue.length-p:0;ze;ze=ze.nextSibling){if(Ce=be(ze,ze.firstChild,0),Ce)return es(je(Ce.line,Ce.ch-Fe),v);Fe+=ze.textContent.length}for(var Ge=H.previousSibling,rt=p;Ge;Ge=Ge.previousSibling){if(Ce=be(Ge,Ge.firstChild,-1),Ce)return es(je(Ce.line,Ce.ch+rt),v);rt+=Ge.textContent.length}}var wn=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Ze,this.hasSelection=!1,this.composing=null,this.resetting=!1};wn.prototype.init=function(n){var a=this,p=this,d=this.cm;this.createField(n);var v=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),E&&(v.style.width="0px"),Rt(v,"input",function(){b&&x>=9&&a.hasSelection&&(a.hasSelection=null),p.poll()}),Rt(v,"paste",function(F){pi(d,F)||ua(F,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function C(F){if(!pi(d,F)){if(d.somethingSelected())$l({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var H=Wl(d);$l({lineWise:!0,text:H.text}),F.type=="cut"?d.setSelections(H.ranges,null,wt):(p.prevInput="",v.value=H.text.join(`
`),te(v))}else return;F.type=="cut"&&(d.state.cutIncoming=+new Date)}}Rt(v,"cut",C),Rt(v,"copy",C),Rt(n.scroller,"paste",function(F){if(!(Nn(n,F)||pi(d,F))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var H=new Event("paste");H.clipboardData=F.clipboardData,v.dispatchEvent(H)}}),Rt(n.lineSpace,"selectstart",function(F){Nn(n,F)||Bi(F)}),Rt(v,"compositionstart",function(){var F=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:F,range:d.markText(F,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Rt(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},wn.prototype.createField=function(n){this.wrapper=ol(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;rl(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},wn.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},wn.prototype.prepareSelection=function(){var n=this.cm,a=n.display,p=n.doc,d=ya(n);if(n.options.moveInputWithCursor){var v=Ue(n,p.sel.primary().head,"div"),C=a.wrapper.getBoundingClientRect(),F=a.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,v.top+F.top-C.top)),d.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,v.left+F.left-C.left))}return d},wn.prototype.showSelection=function(n){var a=this.cm,p=a.display;re(p.cursorDiv,n.cursors),re(p.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},wn.prototype.reset=function(n){if(!(this.contextMenuPending||this.composing&&n)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var p=a.getSelection();this.textarea.value=p,a.state.focused&&te(this.textarea),b&&x>=9&&(this.hasSelection=p)}else n||(this.prevInput=this.textarea.value="",b&&x>=9&&(this.hasSelection=null));this.resetting=!1}},wn.prototype.getField=function(){return this.textarea},wn.prototype.supportsTouch=function(){return!1},wn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!B||it(Re(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},wn.prototype.blur=function(){this.textarea.blur()},wn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},wn.prototype.receivedFocus=function(){this.slowPoll()},wn.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},wn.prototype.fastPoll=function(){var n=!1,a=this;a.pollingFast=!0;function p(){var d=a.poll();!d&&!n?(n=!0,a.polling.set(60,p)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,p)},wn.prototype.poll=function(){var n=this,a=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||tr(p)&&!d&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var v=p.value;if(v==d&&!a.somethingSelected())return!1;if(b&&x>=9&&this.hasSelection===v||z&&/[\uf700-\uf7ff]/.test(v))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var C=v.charCodeAt(0);if(C==8203&&!d&&(d=""),C==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,H=Math.min(d.length,v.length);F<H&&d.charCodeAt(F)==v.charCodeAt(F);)++F;return Zn(a,function(){Ic(a,v.slice(F),d.length-F,null,n.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=n.prevInput="":n.prevInput=v,n.composing&&(n.composing.range.clear(),n.composing.range=a.markText(n.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},wn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},wn.prototype.onKeyPress=function(){b&&x>=9&&(this.hasSelection=null),this.fastPoll()},wn.prototype.onContextMenu=function(n){var a=this,p=a.cm,d=p.display,v=a.textarea;a.contextMenuPending&&a.contextMenuPending();var C=no(p,n),F=d.scroller.scrollTop;if(!C||N)return;var H=p.options.resetSelectionOnContextMenu;H&&p.doc.sel.contains(C)==-1&&Di(p,sr)(p.doc,Ya(C),wt);var G=v.style.cssText,K=a.wrapper.style.cssText,be=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-be.top-5)+"px; left: "+(n.clientX-be.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ce;w&&(Ce=v.ownerDocument.defaultView.scrollY),d.input.focus(),w&&v.ownerDocument.defaultView.scrollTo(null,Ce),d.input.reset(),p.somethingSelected()||(v.value=a.prevInput=" "),a.contextMenuPending=Fe,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function ze(){if(v.selectionStart!=null){var rt=p.somethingSelected(),dt=""+(rt?v.value:"");v.value="",v.value=dt,a.prevInput=rt?"":"",v.selectionStart=1,v.selectionEnd=dt.length,d.selForContextMenu=p.doc.sel}}function Fe(){if(a.contextMenuPending==Fe&&(a.contextMenuPending=!1,a.wrapper.style.cssText=K,v.style.cssText=G,b&&x<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=F),v.selectionStart!=null)){(!b||b&&x<9)&&ze();var rt=0,dt=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&a.prevInput==""?Di(p,lu)(p):rt++<10?d.detectingSelectAll=setTimeout(dt,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(dt,200)}}if(b&&x>=9&&ze(),ge){Or(n);var Ge=function(){yi(window,"mouseup",Ge),setTimeout(Fe,20)};Rt(window,"mouseup",Ge)}else setTimeout(Fe,50)},wn.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},wn.prototype.setUneditable=function(){},wn.prototype.needsContentAttribute=!1;function th(n,a){if(a=a?Te(a):{},a.value=n.value,!a.tabindex&&n.tabIndex&&(a.tabindex=n.tabIndex),!a.placeholder&&n.placeholder&&(a.placeholder=n.placeholder),a.autofocus==null){var p=it(Re(n));a.autofocus=p==n||n.getAttribute("autofocus")!=null&&p==document.body}function d(){n.value=H.getValue()}var v;if(n.form&&(Rt(n.form,"submit",d),!a.leaveSubmitMethodAlone)){var C=n.form;v=C.submit;try{var F=C.submit=function(){d(),C.submit=v,C.submit(),C.submit=F}}catch{}}a.finishInit=function(G){G.save=d,G.getTextArea=function(){return n},G.toTextArea=function(){G.toTextArea=isNaN,d(),n.parentNode.removeChild(G.getWrapperElement()),n.style.display="",n.form&&(yi(n.form,"submit",d),!a.leaveSubmitMethodAlone&&typeof n.form.submit=="function"&&(n.form.submit=v))}},n.style.display="none";var H=Oi(function(G){return n.parentNode.insertBefore(G,n.nextSibling)},a);return H}function Ad(n){n.off=yi,n.on=Rt,n.wheelEventPixels=hd,n.Doc=Tr,n.splitLines=Un,n.countColumn=qe,n.findColumn=Mt,n.isWordChar=ot,n.Pass=Et,n.signal=Ri,n.Line=Eo,n.changeEnd=Ga,n.scrollbarModel=Gr,n.Pos=je,n.cmpPos=pt,n.modes=ir,n.mimeModes=nr,n.resolveMode=eo,n.getMode=wr,n.modeExtensions=En,n.extendMode=Fr,n.copyState=bn,n.startState=Yn,n.innerMode=co,n.commands=Qu,n.keyMap=aa,n.keyName=Zu,n.isModifierKey=Ol,n.lookupKey=so,n.normalizeKeyMap=ao,n.StringStream=ji,n.SharedTextMarker=du,n.TextMarker=No,n.LineWidget=Ds,n.e_preventDefault=Bi,n.e_stopPropagation=Qr,n.e_stop=Or,n.addClass=Be,n.contains=Ee,n.rmClass=De,n.keyNames=Vn}zc(Oi),yu(Oi);var ih="iter insert remove copy getEditor constructor".split(" ");for(var ql in Tr.prototype)Tr.prototype.hasOwnProperty(ql)&&Xe(ih,ql)<0&&(Oi.prototype[ql]=function(n){return function(){return n.apply(this.doc,arguments)}}(Tr.prototype[ql]));return si(Tr),Oi.inputStyles={textarea:wn,contenteditable:Ii},Oi.defineMode=function(n){!Oi.defaults.mode&&n!="null"&&(Oi.defaults.mode=n),Cn.apply(this,arguments)},Oi.defineMIME=Jr,Oi.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Oi.defineMIME("text/plain","null"),Oi.defineExtension=function(n,a){Oi.prototype[n]=a},Oi.defineDocExtension=function(n,a){Tr.prototype[n]=a},Oi.fromTextArea=th,Ad(Oi),Oi.version="5.65.19",Oi})}(Eh)),Eh.exports}var Pw=cs();const Ow=df(Pw);var Hm={exports:{}},Wm={exports:{}},qm;function P0(){return qm||(qm=1,function(t,e){(function(r){r(cs())})(function(r){var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},u={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(l,f){var h=l.indentUnit,b={},x=f.htmlMode?s:u;for(var w in x)b[w]=x[w];for(var w in f)b[w]=f[w];var S,O;function W(P,se){function ye(Be){return se.tokenize=Be,Be(P,se)}var Ee=P.next();if(Ee=="<")return P.eat("!")?P.eat("[")?P.match("CDATA[")?ye(q("atom","]]>")):null:P.match("--")?ye(q("comment","-->")):P.match("DOCTYPE",!0,!0)?(P.eatWhile(/[\w\._\-]/),ye(M(1))):null:P.eat("?")?(P.eatWhile(/[\w\._\-]/),se.tokenize=q("meta","?>"),"meta"):(S=P.eat("/")?"closeTag":"openTag",se.tokenize=N,"tag bracket");if(Ee=="&"){var it;return P.eat("#")?P.eat("x")?it=P.eatWhile(/[a-fA-F\d]/)&&P.eat(";"):it=P.eatWhile(/[\d]/)&&P.eat(";"):it=P.eatWhile(/[\w\.\-:]/)&&P.eat(";"),it?"atom":"error"}else return P.eatWhile(/[^&<]/),null}W.isInText=!0;function N(P,se){var ye=P.next();if(ye==">"||ye=="/"&&P.eat(">"))return se.tokenize=W,S=ye==">"?"endTag":"selfcloseTag","tag bracket";if(ye=="=")return S="equals",null;if(ye=="<"){se.tokenize=W,se.state=V,se.tagName=se.tagStart=null;var Ee=se.tokenize(P,se);return Ee?Ee+" tag error":"tag error"}else return/[\'\"]/.test(ye)?(se.tokenize=j(ye),se.stringStartCol=P.column(),se.tokenize(P,se)):(P.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function j(P){var se=function(ye,Ee){for(;!ye.eol();)if(ye.next()==P){Ee.tokenize=N;break}return"string"};return se.isInAttribute=!0,se}function q(P,se){return function(ye,Ee){for(;!ye.eol();){if(ye.match(se)){Ee.tokenize=W;break}ye.next()}return P}}function M(P){return function(se,ye){for(var Ee;(Ee=se.next())!=null;){if(Ee=="<")return ye.tokenize=M(P+1),ye.tokenize(se,ye);if(Ee==">")if(P==1){ye.tokenize=W;break}else return ye.tokenize=M(P-1),ye.tokenize(se,ye)}return"meta"}}function E(P){return P&&P.toLowerCase()}function D(P,se,ye){this.prev=P.context,this.tagName=se||"",this.indent=P.indented,this.startOfLine=ye,(b.doNotIndent.hasOwnProperty(se)||P.context&&P.context.noIndent)&&(this.noIndent=!0)}function B(P){P.context&&(P.context=P.context.prev)}function z(P,se){for(var ye;;){if(!P.context||(ye=P.context.tagName,!b.contextGrabbers.hasOwnProperty(E(ye))||!b.contextGrabbers[E(ye)].hasOwnProperty(E(se))))return;B(P)}}function V(P,se,ye){return P=="openTag"?(ye.tagStart=se.column(),ne):P=="closeTag"?ue:V}function ne(P,se,ye){return P=="word"?(ye.tagName=se.current(),O="tag",fe):b.allowMissingTagName&&P=="endTag"?(O="tag bracket",fe(P,se,ye)):(O="error",ne)}function ue(P,se,ye){if(P=="word"){var Ee=se.current();return ye.context&&ye.context.tagName!=Ee&&b.implicitlyClosed.hasOwnProperty(E(ye.context.tagName))&&B(ye),ye.context&&ye.context.tagName==Ee||b.matchClosing===!1?(O="tag",de):(O="tag error",ge)}else return b.allowMissingTagName&&P=="endTag"?(O="tag bracket",de(P,se,ye)):(O="error",ge)}function de(P,se,ye){return P!="endTag"?(O="error",de):(B(ye),V)}function ge(P,se,ye){return O="error",de(P,se,ye)}function fe(P,se,ye){if(P=="word")return O="attribute",De;if(P=="endTag"||P=="selfcloseTag"){var Ee=ye.tagName,it=ye.tagStart;return ye.tagName=ye.tagStart=null,P=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(E(Ee))?z(ye,Ee):(z(ye,Ee),ye.context=new D(ye,Ee,it==ye.indented)),V}return O="error",fe}function De(P,se,ye){return P=="equals"?ve:(b.allowMissing||(O="error"),fe(P,se,ye))}function ve(P,se,ye){return P=="string"?re:P=="word"&&b.allowUnquoted?(O="string",fe):(O="error",fe(P,se,ye))}function re(P,se,ye){return P=="string"?re:fe(P,se,ye)}return{startState:function(P){var se={tokenize:W,state:V,indented:P||0,tagName:null,tagStart:null,context:null};return P!=null&&(se.baseIndent=P),se},token:function(P,se){if(!se.tagName&&P.sol()&&(se.indented=P.indentation()),P.eatSpace())return null;S=null;var ye=se.tokenize(P,se);return(ye||S)&&ye!="comment"&&(O=null,se.state=se.state(S||ye,P,se),O&&(ye=O=="error"?ye+" error":O)),ye},indent:function(P,se,ye){var Ee=P.context;if(P.tokenize.isInAttribute)return P.tagStart==P.indented?P.stringStartCol+1:P.indented+h;if(Ee&&Ee.noIndent)return r.Pass;if(P.tokenize!=N&&P.tokenize!=W)return ye?ye.match(/^(\s*)/)[0].length:0;if(P.tagName)return b.multilineTagIndentPastTag!==!1?P.tagStart+P.tagName.length+2:P.tagStart+h*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(se))return 0;var it=se&&/^<(\/)?([\w_:\.-]*)/.exec(se);if(it&&it[1])for(;Ee;)if(Ee.tagName==it[2]){Ee=Ee.prev;break}else if(b.implicitlyClosed.hasOwnProperty(E(Ee.tagName)))Ee=Ee.prev;else break;else if(it)for(;Ee;){var Be=b.contextGrabbers[E(Ee.tagName)];if(Be&&Be.hasOwnProperty(E(it[2])))Ee=Ee.prev;else break}for(;Ee&&Ee.prev&&!Ee.startOfLine;)Ee=Ee.prev;return Ee?Ee.indent+h:P.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(P){P.state==ve&&(P.state=fe)},xmlCurrentTag:function(P){return P.tagName?{name:P.tagName,close:P.type=="closeTag"}:null},xmlCurrentContext:function(P){for(var se=[],ye=P.context;ye;ye=ye.prev)se.push(ye.tagName);return se.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Wm.exports}var jm={exports:{}},Um;function Fw(){return Um||(Um=1,function(t,e){(function(r){r(cs())})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var s=0;s<r.modeInfo.length;s++){var u=r.modeInfo[s];u.mimes&&(u.mime=u.mimes[0])}r.findModeByMIME=function(l){l=l.toLowerCase();for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.mime==l)return h;if(h.mimes){for(var b=0;b<h.mimes.length;b++)if(h.mimes[b]==l)return h}}if(/\+xml$/.test(l))return r.findModeByMIME("application/xml");if(/\+json$/.test(l))return r.findModeByMIME("application/json")},r.findModeByExtension=function(l){l=l.toLowerCase();for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.ext){for(var b=0;b<h.ext.length;b++)if(h.ext[b]==l)return h}}},r.findModeByFileName=function(l){for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.file&&h.file.test(l))return h}var b=l.lastIndexOf("."),x=b>-1&&l.substring(b+1,l.length);if(x)return r.findModeByExtension(x)},r.findModeByName=function(l){l=l.toLowerCase();for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.name.toLowerCase()==l)return h;if(h.alias){for(var b=0;b<h.alias.length;b++)if(h.alias[b].toLowerCase()==l)return h}}}})}()),jm.exports}var Ym;function O0(){return Ym||(Ym=1,function(t,e){(function(r){r(cs(),P0(),Fw())})(function(r){r.defineMode("markdown",function(s,u){var l=r.getMode(s,"text/html"),f=l.name=="null";function h(te){if(r.findModeByName){var Y=r.findModeByName(te);Y&&(te=Y.mime||Y.mimes[0])}var Le=r.getMode(s,te);return Le.name=="null"?null:Le}u.highlightFormatting===void 0&&(u.highlightFormatting=!1),u.maxBlockquoteDepth===void 0&&(u.maxBlockquoteDepth=0),u.taskLists===void 0&&(u.taskLists=!1),u.strikethrough===void 0&&(u.strikethrough=!1),u.emoji===void 0&&(u.emoji=!1),u.fencedCodeBlockHighlighting===void 0&&(u.fencedCodeBlockHighlighting=!0),u.fencedCodeBlockDefaultMode===void 0&&(u.fencedCodeBlockDefaultMode="text/plain"),u.xml===void 0&&(u.xml=!0),u.tokenTypeOverrides===void 0&&(u.tokenTypeOverrides={});var b={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var x in b)b.hasOwnProperty(x)&&u.tokenTypeOverrides[x]&&(b[x]=u.tokenTypeOverrides[x]);var w=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,O=/^\[(x| )\](?=\s)/i,W=u.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,N=/^ {0,3}(?:\={1,}|-{2,})\s*$/,j=/^[^#!\[\]*_\\<>` "'(~:]+/,q=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,M=/^\s*\[[^\]]+?\]:.*$/,E=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function B(te,Y,Le){return Y.f=Y.inline=Le,Le(te,Y)}function z(te,Y,Le){return Y.f=Y.block=Le,Le(te,Y)}function V(te){return!te||!/\S/.test(te.string)}function ne(te){if(te.linkTitle=!1,te.linkHref=!1,te.linkText=!1,te.em=!1,te.strong=!1,te.strikethrough=!1,te.quote=0,te.indentedCode=!1,te.f==de){var Y=f;if(!Y){var Le=r.innerMode(l,te.htmlState);Y=Le.mode.name=="xml"&&Le.state.tagStart===null&&!Le.state.context&&Le.state.tokenize.isInText}Y&&(te.f=ve,te.block=ue,te.htmlState=null)}return te.trailingSpace=0,te.trailingSpaceNewLine=!1,te.prevLine=te.thisLine,te.thisLine={stream:null},null}function ue(te,Y){var Le=te.column()===Y.indentation,Re=V(Y.prevLine.stream),X=Y.indentedCode,we=Y.prevLine.hr,Te=Y.list!==!1,qe=(Y.listStack[Y.listStack.length-1]||0)+3;Y.indentedCode=!1;var Ze=Y.indentation;if(Y.indentationDiff===null&&(Y.indentationDiff=Y.indentation,Te)){for(Y.list=null;Ze<Y.listStack[Y.listStack.length-1];)Y.listStack.pop(),Y.listStack.length?Y.indentation=Y.listStack[Y.listStack.length-1]:Y.list=!1;Y.list!==!1&&(Y.indentationDiff=Ze-Y.listStack[Y.listStack.length-1])}var Xe=!Re&&!we&&!Y.prevLine.header&&(!Te||!X)&&!Y.prevLine.fencedCodeEnd,ut=(Y.list===!1||we||Re)&&Y.indentation<=qe&&te.match(w),Et=null;if(Y.indentationDiff>=4&&(X||Y.prevLine.fencedCodeEnd||Y.prevLine.header||Re))return te.skipToEnd(),Y.indentedCode=!0,b.code;if(te.eatSpace())return null;if(Le&&Y.indentation<=qe&&(Et=te.match(W))&&Et[1].length<=6)return Y.quote=0,Y.header=Et[1].length,Y.thisLine.header=!0,u.highlightFormatting&&(Y.formatting="header"),Y.f=Y.inline,fe(Y);if(Y.indentation<=qe&&te.eat(">"))return Y.quote=Le?1:Y.quote+1,u.highlightFormatting&&(Y.formatting="quote"),te.eatSpace(),fe(Y);if(!ut&&!Y.setext&&Le&&Y.indentation<=qe&&(Et=te.match(S))){var wt=Et[1]?"ol":"ul";return Y.indentation=Ze+te.current().length,Y.list=!0,Y.quote=0,Y.listStack.push(Y.indentation),Y.em=!1,Y.strong=!1,Y.code=!1,Y.strikethrough=!1,u.taskLists&&te.match(O,!1)&&(Y.taskList=!0),Y.f=Y.inline,u.highlightFormatting&&(Y.formatting=["list","list-"+wt]),fe(Y)}else{if(Le&&Y.indentation<=qe&&(Et=te.match(q,!0)))return Y.quote=0,Y.fencedEndRE=new RegExp(Et[1]+"+ *$"),Y.localMode=u.fencedCodeBlockHighlighting&&h(Et[2]||u.fencedCodeBlockDefaultMode),Y.localMode&&(Y.localState=r.startState(Y.localMode)),Y.f=Y.block=ge,u.highlightFormatting&&(Y.formatting="code-block"),Y.code=-1,fe(Y);if(Y.setext||(!Xe||!Te)&&!Y.quote&&Y.list===!1&&!Y.code&&!ut&&!M.test(te.string)&&(Et=te.lookAhead(1))&&(Et=Et.match(N)))return Y.setext?(Y.header=Y.setext,Y.setext=0,te.skipToEnd(),u.highlightFormatting&&(Y.formatting="header")):(Y.header=Et[0].charAt(0)=="="?1:2,Y.setext=Y.header),Y.thisLine.header=!0,Y.f=Y.inline,fe(Y);if(ut)return te.skipToEnd(),Y.hr=!0,Y.thisLine.hr=!0,b.hr;if(te.peek()==="[")return B(te,Y,Ee)}return B(te,Y,Y.inline)}function de(te,Y){var Le=l.token(te,Y.htmlState);if(!f){var Re=r.innerMode(l,Y.htmlState);(Re.mode.name=="xml"&&Re.state.tagStart===null&&!Re.state.context&&Re.state.tokenize.isInText||Y.md_inside&&te.current().indexOf(">")>-1)&&(Y.f=ve,Y.block=ue,Y.htmlState=null)}return Le}function ge(te,Y){var Le=Y.listStack[Y.listStack.length-1]||0,Re=Y.indentation<Le,X=Le+3;if(Y.fencedEndRE&&Y.indentation<=X&&(Re||te.match(Y.fencedEndRE))){u.highlightFormatting&&(Y.formatting="code-block");var we;return Re||(we=fe(Y)),Y.localMode=Y.localState=null,Y.block=ue,Y.f=ve,Y.fencedEndRE=null,Y.code=0,Y.thisLine.fencedCodeEnd=!0,Re?z(te,Y,Y.block):we}else return Y.localMode?Y.localMode.token(te,Y.localState):(te.skipToEnd(),b.code)}function fe(te){var Y=[];if(te.formatting){Y.push(b.formatting),typeof te.formatting=="string"&&(te.formatting=[te.formatting]);for(var Le=0;Le<te.formatting.length;Le++)Y.push(b.formatting+"-"+te.formatting[Le]),te.formatting[Le]==="header"&&Y.push(b.formatting+"-"+te.formatting[Le]+"-"+te.header),te.formatting[Le]==="quote"&&(!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=te.quote?Y.push(b.formatting+"-"+te.formatting[Le]+"-"+te.quote):Y.push("error"))}if(te.taskOpen)return Y.push("meta"),Y.length?Y.join(" "):null;if(te.taskClosed)return Y.push("property"),Y.length?Y.join(" "):null;if(te.linkHref?Y.push(b.linkHref,"url"):(te.strong&&Y.push(b.strong),te.em&&Y.push(b.em),te.strikethrough&&Y.push(b.strikethrough),te.emoji&&Y.push(b.emoji),te.linkText&&Y.push(b.linkText),te.code&&Y.push(b.code),te.image&&Y.push(b.image),te.imageAltText&&Y.push(b.imageAltText,"link"),te.imageMarker&&Y.push(b.imageMarker)),te.header&&Y.push(b.header,b.header+"-"+te.header),te.quote&&(Y.push(b.quote),!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=te.quote?Y.push(b.quote+"-"+te.quote):Y.push(b.quote+"-"+u.maxBlockquoteDepth)),te.list!==!1){var Re=(te.listStack.length-1)%3;Re?Re===1?Y.push(b.list2):Y.push(b.list3):Y.push(b.list1)}return te.trailingSpaceNewLine?Y.push("trailing-space-new-line"):te.trailingSpace&&Y.push("trailing-space-"+(te.trailingSpace%2?"a":"b")),Y.length?Y.join(" "):null}function De(te,Y){if(te.match(j,!0))return fe(Y)}function ve(te,Y){var Le=Y.text(te,Y);if(typeof Le<"u")return Le;if(Y.list)return Y.list=null,fe(Y);if(Y.taskList){var Re=te.match(O,!0)[1]===" ";return Re?Y.taskOpen=!0:Y.taskClosed=!0,u.highlightFormatting&&(Y.formatting="task"),Y.taskList=!1,fe(Y)}if(Y.taskOpen=!1,Y.taskClosed=!1,Y.header&&te.match(/^#+$/,!0))return u.highlightFormatting&&(Y.formatting="header"),fe(Y);var X=te.next();if(Y.linkTitle){Y.linkTitle=!1;var we=X;X==="("&&(we=")"),we=(we+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Te="^\\s*(?:[^"+we+"\\\\]+|\\\\\\\\|\\\\.)"+we;if(te.match(new RegExp(Te),!0))return b.linkHref}if(X==="`"){var qe=Y.formatting;u.highlightFormatting&&(Y.formatting="code"),te.eatWhile("`");var Ze=te.current().length;if(Y.code==0&&(!Y.quote||Ze==1))return Y.code=Ze,fe(Y);if(Ze==Y.code){var Xe=fe(Y);return Y.code=0,Xe}else return Y.formatting=qe,fe(Y)}else if(Y.code)return fe(Y);if(X==="\\"&&(te.next(),u.highlightFormatting)){var ut=fe(Y),Et=b.formatting+"-escape";return ut?ut+" "+Et:Et}if(X==="!"&&te.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Y.imageMarker=!0,Y.image=!0,u.highlightFormatting&&(Y.formatting="image"),fe(Y);if(X==="["&&Y.imageMarker&&te.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Y.imageMarker=!1,Y.imageAltText=!0,u.highlightFormatting&&(Y.formatting="image"),fe(Y);if(X==="]"&&Y.imageAltText){u.highlightFormatting&&(Y.formatting="image");var ut=fe(Y);return Y.imageAltText=!1,Y.image=!1,Y.inline=Y.f=P,ut}if(X==="["&&!Y.image)return Y.linkText&&te.match(/^.*?\]/)||(Y.linkText=!0,u.highlightFormatting&&(Y.formatting="link")),fe(Y);if(X==="]"&&Y.linkText){u.highlightFormatting&&(Y.formatting="link");var ut=fe(Y);return Y.linkText=!1,Y.inline=Y.f=te.match(/\(.*?\)| ?\[.*?\]/,!1)?P:ve,ut}if(X==="<"&&te.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=re,u.highlightFormatting&&(Y.formatting="link");var ut=fe(Y);return ut?ut+=" ":ut="",ut+b.linkInline}if(X==="<"&&te.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=re,u.highlightFormatting&&(Y.formatting="link");var ut=fe(Y);return ut?ut+=" ":ut="",ut+b.linkEmail}if(u.xml&&X==="<"&&te.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var wt=te.string.indexOf(">",te.pos);if(wt!=-1){var St=te.string.substring(te.start,wt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(St)&&(Y.md_inside=!0)}return te.backUp(1),Y.htmlState=r.startState(l),z(te,Y,de)}if(u.xml&&X==="<"&&te.match(/^\/\w*?>/))return Y.md_inside=!1,"tag";if(X==="*"||X==="_"){for(var _t=1,Mt=te.pos==1?" ":te.string.charAt(te.pos-2);_t<3&&te.eat(X);)_t++;var jt=te.peek()||" ",Kt=!/\s/.test(jt)&&(!E.test(jt)||/\s/.test(Mt)||E.test(Mt)),Z=!/\s/.test(Mt)&&(!E.test(Mt)||/\s/.test(jt)||E.test(jt)),le=null,Q=null;if(_t%2&&(!Y.em&&Kt&&(X==="*"||!Z||E.test(Mt))?le=!0:Y.em==X&&Z&&(X==="*"||!Kt||E.test(jt))&&(le=!1)),_t>1&&(!Y.strong&&Kt&&(X==="*"||!Z||E.test(Mt))?Q=!0:Y.strong==X&&Z&&(X==="*"||!Kt||E.test(jt))&&(Q=!1)),Q!=null||le!=null){u.highlightFormatting&&(Y.formatting=le==null?"strong":Q==null?"em":"strong em"),le===!0&&(Y.em=X),Q===!0&&(Y.strong=X);var Xe=fe(Y);return le===!1&&(Y.em=!1),Q===!1&&(Y.strong=!1),Xe}}else if(X===" "&&(te.eat("*")||te.eat("_"))){if(te.peek()===" ")return fe(Y);te.backUp(1)}if(u.strikethrough){if(X==="~"&&te.eatWhile(X)){if(Y.strikethrough){u.highlightFormatting&&(Y.formatting="strikethrough");var Xe=fe(Y);return Y.strikethrough=!1,Xe}else if(te.match(/^[^\s]/,!1))return Y.strikethrough=!0,u.highlightFormatting&&(Y.formatting="strikethrough"),fe(Y)}else if(X===" "&&te.match("~~",!0)){if(te.peek()===" ")return fe(Y);te.backUp(2)}}if(u.emoji&&X===":"&&te.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Y.emoji=!0,u.highlightFormatting&&(Y.formatting="emoji");var he=fe(Y);return Y.emoji=!1,he}return X===" "&&(te.match(/^ +$/,!1)?Y.trailingSpace++:Y.trailingSpace&&(Y.trailingSpaceNewLine=!0)),fe(Y)}function re(te,Y){var Le=te.next();if(Le===">"){Y.f=Y.inline=ve,u.highlightFormatting&&(Y.formatting="link");var Re=fe(Y);return Re?Re+=" ":Re="",Re+b.linkInline}return te.match(/^[^>]+/,!0),b.linkInline}function P(te,Y){if(te.eatSpace())return null;var Le=te.next();return Le==="("||Le==="["?(Y.f=Y.inline=ye(Le==="("?")":"]"),u.highlightFormatting&&(Y.formatting="link-string"),Y.linkHref=!0,fe(Y)):"error"}var se={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ye(te){return function(Y,Le){var Re=Y.next();if(Re===te){Le.f=Le.inline=ve,u.highlightFormatting&&(Le.formatting="link-string");var X=fe(Le);return Le.linkHref=!1,X}return Y.match(se[te]),Le.linkHref=!0,fe(Le)}}function Ee(te,Y){return te.match(/^([^\]\\]|\\.)*\]:/,!1)?(Y.f=it,te.next(),u.highlightFormatting&&(Y.formatting="link"),Y.linkText=!0,fe(Y)):B(te,Y,ve)}function it(te,Y){if(te.match("]:",!0)){Y.f=Y.inline=Be,u.highlightFormatting&&(Y.formatting="link");var Le=fe(Y);return Y.linkText=!1,Le}return te.match(/^([^\]\\]|\\.)+/,!0),b.linkText}function Be(te,Y){return te.eatSpace()?null:(te.match(/^[^\s]+/,!0),te.peek()===void 0?Y.linkTitle=!0:te.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Y.f=Y.inline=ve,b.linkHref+" url")}var Me={startState:function(){return{f:ue,prevLine:{stream:null},thisLine:{stream:null},block:ue,htmlState:null,indentation:0,inline:ve,text:De,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(te){return{f:te.f,prevLine:te.prevLine,thisLine:te.thisLine,block:te.block,htmlState:te.htmlState&&r.copyState(l,te.htmlState),indentation:te.indentation,localMode:te.localMode,localState:te.localMode?r.copyState(te.localMode,te.localState):null,inline:te.inline,text:te.text,formatting:!1,linkText:te.linkText,linkTitle:te.linkTitle,linkHref:te.linkHref,code:te.code,em:te.em,strong:te.strong,strikethrough:te.strikethrough,emoji:te.emoji,header:te.header,setext:te.setext,hr:te.hr,taskList:te.taskList,list:te.list,listStack:te.listStack.slice(0),quote:te.quote,indentedCode:te.indentedCode,trailingSpace:te.trailingSpace,trailingSpaceNewLine:te.trailingSpaceNewLine,md_inside:te.md_inside,fencedEndRE:te.fencedEndRE}},token:function(te,Y){if(Y.formatting=!1,te!=Y.thisLine.stream){if(Y.header=0,Y.hr=!1,te.match(/^\s*$/,!0))return ne(Y),null;if(Y.prevLine=Y.thisLine,Y.thisLine={stream:te},Y.taskList=!1,Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,!Y.localState&&(Y.f=Y.block,Y.f!=de)){var Le=te.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(Y.indentation=Le,Y.indentationDiff=null,Le>0)return null}}return Y.f(te,Y)},innerMode:function(te){return te.block==de?{state:te.htmlState,mode:l}:te.localState?{state:te.localState,mode:te.localMode}:{state:te,mode:Me}},indent:function(te,Y,Le){return te.block==de&&l.indent?l.indent(te.htmlState,Y,Le):te.localState&&te.localMode.indent?te.localMode.indent(te.localState,Y,Le):r.Pass},blankLine:ne,getType:fe,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Me},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})}()),Hm.exports}O0();var Gm={exports:{}},Zm;function Rw(){return Zm||(Zm=1,function(t,e){(function(r){r(cs())})(function(r){r.defineMode("javascript",function(s,u){var l=s.indentUnit,f=u.statementIndent,h=u.jsonld,b=u.json||h,x=u.trackScope!==!1,w=u.typescript,S=u.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function J(Ui){return{type:Ui,style:"keyword"}}var xe=J("keyword a"),He=J("keyword b"),nt=J("keyword c"),je=J("keyword d"),pt=J("operator"),ni={type:"atom",style:"atom"};return{if:J("if"),while:xe,with:xe,else:He,do:He,try:He,finally:He,return:je,break:je,continue:je,new:J("new"),delete:nt,void:nt,throw:nt,debugger:J("debugger"),var:J("var"),const:J("var"),let:J("var"),function:J("function"),catch:J("catch"),for:J("for"),switch:J("switch"),case:J("case"),default:J("default"),in:pt,typeof:pt,instanceof:pt,true:ni,false:ni,null:ni,undefined:ni,NaN:ni,Infinity:ni,this:J("this"),class:J("class"),super:J("atom"),yield:nt,export:J("export"),import:J("import"),extends:nt,await:nt}}(),W=/[+\-*&%=<>!?|~^@]/,N=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function j(J){for(var xe=!1,He,nt=!1;(He=J.next())!=null;){if(!xe){if(He=="/"&&!nt)return;He=="["?nt=!0:nt&&He=="]"&&(nt=!1)}xe=!xe&&He=="\\"}}var q,M;function E(J,xe,He){return q=J,M=He,xe}function D(J,xe){var He=J.next();if(He=='"'||He=="'")return xe.tokenize=B(He),xe.tokenize(J,xe);if(He=="."&&J.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return E("number","number");if(He=="."&&J.match(".."))return E("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(He))return E(He);if(He=="="&&J.eat(">"))return E("=>","operator");if(He=="0"&&J.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return E("number","number");if(/\d/.test(He))return J.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),E("number","number");if(He=="/")return J.eat("*")?(xe.tokenize=z,z(J,xe)):J.eat("/")?(J.skipToEnd(),E("comment","comment")):Rn(J,xe,1)?(j(J),J.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),E("regexp","string-2")):(J.eat("="),E("operator","operator",J.current()));if(He=="`")return xe.tokenize=V,V(J,xe);if(He=="#"&&J.peek()=="!")return J.skipToEnd(),E("meta","meta");if(He=="#"&&J.eatWhile(S))return E("variable","property");if(He=="<"&&J.match("!--")||He=="-"&&J.match("->")&&!/\S/.test(J.string.slice(0,J.start)))return J.skipToEnd(),E("comment","comment");if(W.test(He))return(He!=">"||!xe.lexical||xe.lexical.type!=">")&&(J.eat("=")?(He=="!"||He=="=")&&J.eat("="):/[<>*+\-|&?]/.test(He)&&(J.eat(He),He==">"&&J.eat(He))),He=="?"&&J.eat(".")?E("."):E("operator","operator",J.current());if(S.test(He)){J.eatWhile(S);var nt=J.current();if(xe.lastType!="."){if(O.propertyIsEnumerable(nt)){var je=O[nt];return E(je.type,je.style,nt)}if(nt=="async"&&J.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return E("async","keyword",nt)}return E("variable","variable",nt)}}function B(J){return function(xe,He){var nt=!1,je;if(h&&xe.peek()=="@"&&xe.match(N))return He.tokenize=D,E("jsonld-keyword","meta");for(;(je=xe.next())!=null&&!(je==J&&!nt);)nt=!nt&&je=="\\";return nt||(He.tokenize=D),E("string","string")}}function z(J,xe){for(var He=!1,nt;nt=J.next();){if(nt=="/"&&He){xe.tokenize=D;break}He=nt=="*"}return E("comment","comment")}function V(J,xe){for(var He=!1,nt;(nt=J.next())!=null;){if(!He&&(nt=="`"||nt=="$"&&J.eat("{"))){xe.tokenize=D;break}He=!He&&nt=="\\"}return E("quasi","string-2",J.current())}var ne="([{}])";function ue(J,xe){xe.fatArrowAt&&(xe.fatArrowAt=null);var He=J.string.indexOf("=>",J.start);if(!(He<0)){if(w){var nt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(J.string.slice(J.start,He));nt&&(He=nt.index)}for(var je=0,pt=!1,ni=He-1;ni>=0;--ni){var Ui=J.string.charAt(ni),Nt=ne.indexOf(Ui);if(Nt>=0&&Nt<3){if(!je){++ni;break}if(--je==0){Ui=="("&&(pt=!0);break}}else if(Nt>=3&&Nt<6)++je;else if(S.test(Ui))pt=!0;else if(/["'\/`]/.test(Ui))for(;;--ni){if(ni==0)return;var li=J.string.charAt(ni-1);if(li==Ui&&J.string.charAt(ni-2)!="\\"){ni--;break}}else if(pt&&!je){++ni;break}}pt&&!je&&(xe.fatArrowAt=ni)}}var de={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ge(J,xe,He,nt,je,pt){this.indented=J,this.column=xe,this.type=He,this.prev=je,this.info=pt,nt!=null&&(this.align=nt)}function fe(J,xe){if(!x)return!1;for(var He=J.localVars;He;He=He.next)if(He.name==xe)return!0;for(var nt=J.context;nt;nt=nt.prev)for(var He=nt.vars;He;He=He.next)if(He.name==xe)return!0}function De(J,xe,He,nt,je){var pt=J.cc;for(ve.state=J,ve.stream=je,ve.marked=null,ve.cc=pt,ve.style=xe,J.lexical.hasOwnProperty("align")||(J.lexical.align=!0);;){var ni=pt.length?pt.pop():b?Xe:qe;if(ni(He,nt)){for(;pt.length&&pt[pt.length-1].lex;)pt.pop()();return ve.marked?ve.marked:He=="variable"&&fe(J,nt)?"variable-2":xe}}}var ve={state:null,marked:null,cc:null};function re(){for(var J=arguments.length-1;J>=0;J--)ve.cc.push(arguments[J])}function P(){return re.apply(null,arguments),!0}function se(J,xe){for(var He=xe;He;He=He.next)if(He.name==J)return!0;return!1}function ye(J){var xe=ve.state;if(ve.marked="def",!!x){if(xe.context){if(xe.lexical.info=="var"&&xe.context&&xe.context.block){var He=Ee(J,xe.context);if(He!=null){xe.context=He;return}}else if(!se(J,xe.localVars)){xe.localVars=new Me(J,xe.localVars);return}}u.globalVars&&!se(J,xe.globalVars)&&(xe.globalVars=new Me(J,xe.globalVars))}}function Ee(J,xe){if(xe)if(xe.block){var He=Ee(J,xe.prev);return He?He==xe.prev?xe:new Be(He,xe.vars,!0):null}else return se(J,xe.vars)?xe:new Be(xe.prev,new Me(J,xe.vars),!1);else return null}function it(J){return J=="public"||J=="private"||J=="protected"||J=="abstract"||J=="readonly"}function Be(J,xe,He){this.prev=J,this.vars=xe,this.block=He}function Me(J,xe){this.name=J,this.next=xe}var te=new Me("this",new Me("arguments",null));function Y(){ve.state.context=new Be(ve.state.context,ve.state.localVars,!1),ve.state.localVars=te}function Le(){ve.state.context=new Be(ve.state.context,ve.state.localVars,!0),ve.state.localVars=null}Y.lex=Le.lex=!0;function Re(){ve.state.localVars=ve.state.context.vars,ve.state.context=ve.state.context.prev}Re.lex=!0;function X(J,xe){var He=function(){var nt=ve.state,je=nt.indented;if(nt.lexical.type=="stat")je=nt.lexical.indented;else for(var pt=nt.lexical;pt&&pt.type==")"&&pt.align;pt=pt.prev)je=pt.indented;nt.lexical=new ge(je,ve.stream.column(),J,null,nt.lexical,xe)};return He.lex=!0,He}function we(){var J=ve.state;J.lexical.prev&&(J.lexical.type==")"&&(J.indented=J.lexical.indented),J.lexical=J.lexical.prev)}we.lex=!0;function Te(J){function xe(He){return He==J?P():J==";"||He=="}"||He==")"||He=="]"?re():P(xe)}return xe}function qe(J,xe){return J=="var"?P(X("vardef",xe),Qr,Te(";"),we):J=="keyword a"?P(X("form"),Et,qe,we):J=="keyword b"?P(X("form"),qe,we):J=="keyword d"?ve.stream.match(/^\s*$/,!1)?P():P(X("stat"),St,Te(";"),we):J=="debugger"?P(Te(";")):J=="{"?P(X("}"),Le,Yt,we,Re):J==";"?P():J=="if"?(ve.state.lexical.info=="else"&&ve.state.cc[ve.state.cc.length-1]==we&&ve.state.cc.pop()(),P(X("form"),Et,qe,we,kn)):J=="function"?P(Un):J=="for"?P(X("form"),Le,Ot,qe,Re,we):J=="class"||w&&xe=="interface"?(ve.marked="keyword",P(X("form",J=="class"?J:xe),ir,we)):J=="variable"?w&&xe=="declare"?(ve.marked="keyword",P(qe)):w&&(xe=="module"||xe=="enum"||xe=="type")&&ve.stream.match(/^\s*\w/,!1)?(ve.marked="keyword",xe=="enum"?P(Lt):xe=="type"?P(Wr,Te("operator"),Ut,Te(";")):P(X("form"),$i,Te("{"),X("}"),Yt,we,we)):w&&xe=="namespace"?(ve.marked="keyword",P(X("form"),Xe,qe,we)):w&&xe=="abstract"?(ve.marked="keyword",P(qe)):P(X("stat"),Ie):J=="switch"?P(X("form"),Et,Te("{"),X("}","switch"),Le,Yt,we,we,Re):J=="case"?P(Xe,Te(":")):J=="default"?P(Te(":")):J=="catch"?P(X("form"),Y,Ze,qe,we,Re):J=="export"?P(X("stat"),eo,we):J=="import"?P(X("stat"),En,we):J=="async"?P(qe):xe=="@"?P(Xe,qe):re(X("stat"),Xe,Te(";"),we)}function Ze(J){if(J=="(")return P(Gi,Te(")"))}function Xe(J,xe){return wt(J,xe,!1)}function ut(J,xe){return wt(J,xe,!0)}function Et(J){return J!="("?re():P(X(")"),St,Te(")"),we)}function wt(J,xe,He){if(ve.state.fatArrowAt==ve.stream.start){var nt=He?le:Z;if(J=="(")return P(Y,X(")"),ct(Gi,")"),we,Te("=>"),nt,Re);if(J=="variable")return re(Y,$i,Te("=>"),nt,Re)}var je=He?Mt:_t;return de.hasOwnProperty(J)?P(je):J=="function"?P(Un,je):J=="class"||w&&xe=="interface"?(ve.marked="keyword",P(X("form"),Qi,we)):J=="keyword c"||J=="async"?P(He?ut:Xe):J=="("?P(X(")"),St,Te(")"),we,je):J=="operator"||J=="spread"?P(He?ut:Xe):J=="["?P(X("]"),ji,we,je):J=="{"?Ht(Qe,"}",null,je):J=="quasi"?re(jt,je):J=="new"?P(Q(He)):P()}function St(J){return J.match(/[;\}\)\],]/)?re():re(Xe)}function _t(J,xe){return J==","?P(St):Mt(J,xe,!1)}function Mt(J,xe,He){var nt=He==!1?_t:Mt,je=He==!1?Xe:ut;if(J=="=>")return P(Y,He?le:Z,Re);if(J=="operator")return/\+\+|--/.test(xe)||w&&xe=="!"?P(nt):w&&xe=="<"&&ve.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?P(X(">"),ct(Ut,">"),we,nt):xe=="?"?P(Xe,Te(":"),je):P(je);if(J=="quasi")return re(jt,nt);if(J!=";"){if(J=="(")return Ht(ut,")","call",nt);if(J==".")return P(ot,nt);if(J=="[")return P(X("]"),St,Te("]"),we,nt);if(w&&xe=="as")return ve.marked="keyword",P(Ut,nt);if(J=="regexp")return ve.state.lastType=ve.marked="operator",ve.stream.backUp(ve.stream.pos-ve.stream.start-1),P(je)}}function jt(J,xe){return J!="quasi"?re():xe.slice(xe.length-2)!="${"?P(jt):P(St,Kt)}function Kt(J){if(J=="}")return ve.marked="string-2",ve.state.tokenize=V,P(jt)}function Z(J){return ue(ve.stream,ve.state),re(J=="{"?qe:Xe)}function le(J){return ue(ve.stream,ve.state),re(J=="{"?qe:ut)}function Q(J){return function(xe){return xe=="."?P(J?pe:he):xe=="variable"&&w?P(ui,J?Mt:_t):re(J?ut:Xe)}}function he(J,xe){if(xe=="target")return ve.marked="keyword",P(_t)}function pe(J,xe){if(xe=="target")return ve.marked="keyword",P(Mt)}function Ie(J){return J==":"?P(we,qe):re(_t,Te(";"),we)}function ot(J){if(J=="variable")return ve.marked="property",P()}function Qe(J,xe){if(J=="async")return ve.marked="property",P(Qe);if(J=="variable"||ve.style=="keyword"){if(ve.marked="property",xe=="get"||xe=="set")return P(mt);var He;return w&&ve.state.fatArrowAt==ve.stream.start&&(He=ve.stream.match(/^\s*:\s*/,!1))&&(ve.state.fatArrowAt=ve.stream.pos+He[0].length),P(Pt)}else{if(J=="number"||J=="string")return ve.marked=h?"property":ve.style+" property",P(Pt);if(J=="jsonld-keyword")return P(Pt);if(w&&it(xe))return ve.marked="keyword",P(Qe);if(J=="[")return P(Xe,Qt,Te("]"),Pt);if(J=="spread")return P(ut,Pt);if(xe=="*")return ve.marked="keyword",P(Qe);if(J==":")return re(Pt)}}function mt(J){return J!="variable"?re(Pt):(ve.marked="property",P(Un))}function Pt(J){if(J==":")return P(ut);if(J=="(")return re(Un)}function ct(J,xe,He){function nt(je,pt){if(He?He.indexOf(je)>-1:je==","){var ni=ve.state.lexical;return ni.info=="call"&&(ni.pos=(ni.pos||0)+1),P(function(Ui,Nt){return Ui==xe||Nt==xe?re():re(J)},nt)}return je==xe||pt==xe?P():He&&He.indexOf(";")>-1?re(J):P(Te(xe))}return function(je,pt){return je==xe||pt==xe?P():re(J,nt)}}function Ht(J,xe,He){for(var nt=3;nt<arguments.length;nt++)ve.cc.push(arguments[nt]);return P(X(xe,He),ct(J,xe),we)}function Yt(J){return J=="}"?P():re(qe,Yt)}function Qt(J,xe){if(w){if(J==":")return P(Ut);if(xe=="?")return P(Qt)}}function Vt(J,xe){if(w&&(J==":"||xe=="in"))return P(Ut)}function xt(J){if(w&&J==":")return ve.stream.match(/^\s*\w+\s+is\b/,!1)?P(Xe,qn,Ut):P(Ut)}function qn(J,xe){if(xe=="is")return ve.marked="keyword",P()}function Ut(J,xe){if(xe=="keyof"||xe=="typeof"||xe=="infer"||xe=="readonly")return ve.marked="keyword",P(xe=="typeof"?ut:Ut);if(J=="variable"||xe=="void")return ve.marked="type",P(wi);if(xe=="|"||xe=="&")return P(Ut);if(J=="string"||J=="number"||J=="atom")return P(wi);if(J=="[")return P(X("]"),ct(Ut,"]",","),we,wi);if(J=="{")return P(X("}"),Rt,we,wi);if(J=="(")return P(ct(pi,")"),dr,wi);if(J=="<")return P(ct(Ut,">"),Ut);if(J=="quasi")return re(yi,wi)}function dr(J){if(J=="=>")return P(Ut)}function Rt(J){return J.match(/[\}\)\]]/)?P():J==","||J==";"?P(Rt):re(sn,Rt)}function sn(J,xe){if(J=="variable"||ve.style=="keyword")return ve.marked="property",P(sn);if(xe=="?"||J=="number"||J=="string")return P(sn);if(J==":")return P(Ut);if(J=="[")return P(Te("variable"),Vt,Te("]"),sn);if(J=="(")return re(tr,sn);if(!J.match(/[;\}\)\],]/))return P()}function yi(J,xe){return J!="quasi"?re():xe.slice(xe.length-2)!="${"?P(yi):P(Ut,Ri)}function Ri(J){if(J=="}")return ve.marked="string-2",ve.state.tokenize=V,P(yi)}function pi(J,xe){return J=="variable"&&ve.stream.match(/^\s*[?:]/,!1)||xe=="?"?P(pi):J==":"?P(Ut):J=="spread"?P(pi):re(Ut)}function wi(J,xe){if(xe=="<")return P(X(">"),ct(Ut,">"),we,wi);if(xe=="|"||J=="."||xe=="&")return P(Ut);if(J=="[")return P(Ut,Te("]"),wi);if(xe=="extends"||xe=="implements")return ve.marked="keyword",P(Ut);if(xe=="?")return P(Ut,Te(":"),Ut)}function ui(J,xe){if(xe=="<")return P(X(">"),ct(Ut,">"),we,wi)}function si(){return re(Ut,Bi)}function Bi(J,xe){if(xe=="=")return P(Ut)}function Qr(J,xe){return xe=="enum"?(ve.marked="keyword",P(Lt)):re($i,Qt,Ki,pr)}function $i(J,xe){if(w&&it(xe))return ve.marked="keyword",P($i);if(J=="variable")return ye(xe),P();if(J=="spread")return P($i);if(J=="[")return Ht(Hi,"]");if(J=="{")return Ht(Or,"}")}function Or(J,xe){return J=="variable"&&!ve.stream.match(/^\s*:/,!1)?(ye(xe),P(Ki)):(J=="variable"&&(ve.marked="property"),J=="spread"?P($i):J=="}"?re():J=="["?P(Xe,Te("]"),Te(":"),Or):P(Te(":"),$i,Ki))}function Hi(){return re($i,Ki)}function Ki(J,xe){if(xe=="=")return P(ut)}function pr(J){if(J==",")return P(Qr)}function kn(J,xe){if(J=="keyword b"&&xe=="else")return P(X("form","else"),qe,we)}function Ot(J,xe){if(xe=="await")return P(Ot);if(J=="(")return P(X(")"),mr,we)}function mr(J){return J=="var"?P(Qr,jn):J=="variable"?P(jn):re(jn)}function jn(J,xe){return J==")"?P():J==";"?P(jn):xe=="in"||xe=="of"?(ve.marked="keyword",P(Xe,jn)):re(Xe,jn)}function Un(J,xe){if(xe=="*")return ve.marked="keyword",P(Un);if(J=="variable")return ye(xe),P(Un);if(J=="(")return P(Y,X(")"),ct(Gi,")"),we,xt,qe,Re);if(w&&xe=="<")return P(X(">"),ct(si,">"),we,Un)}function tr(J,xe){if(xe=="*")return ve.marked="keyword",P(tr);if(J=="variable")return ye(xe),P(tr);if(J=="(")return P(Y,X(")"),ct(Gi,")"),we,xt,Re);if(w&&xe=="<")return P(X(">"),ct(si,">"),we,tr)}function Wr(J,xe){if(J=="keyword"||J=="variable")return ve.marked="type",P(Wr);if(xe=="<")return P(X(">"),ct(si,">"),we)}function Gi(J,xe){return xe=="@"&&P(Xe,Gi),J=="spread"?P(Gi):w&&it(xe)?(ve.marked="keyword",P(Gi)):w&&J=="this"?P(Qt,Ki):re($i,Qt,Ki)}function Qi(J,xe){return J=="variable"?ir(J,xe):nr(J,xe)}function ir(J,xe){if(J=="variable")return ye(xe),P(nr)}function nr(J,xe){if(xe=="<")return P(X(">"),ct(si,">"),we,nr);if(xe=="extends"||xe=="implements"||w&&J==",")return xe=="implements"&&(ve.marked="keyword"),P(w?Ut:Xe,nr);if(J=="{")return P(X("}"),Cn,we)}function Cn(J,xe){if(J=="async"||J=="variable"&&(xe=="static"||xe=="get"||xe=="set"||w&&it(xe))&&ve.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return ve.marked="keyword",P(Cn);if(J=="variable"||ve.style=="keyword")return ve.marked="property",P(Jr,Cn);if(J=="number"||J=="string")return P(Jr,Cn);if(J=="[")return P(Xe,Qt,Te("]"),Jr,Cn);if(xe=="*")return ve.marked="keyword",P(Cn);if(w&&J=="(")return re(tr,Cn);if(J==";"||J==",")return P(Cn);if(J=="}")return P();if(xe=="@")return P(Xe,Cn)}function Jr(J,xe){if(xe=="!"||xe=="?")return P(Jr);if(J==":")return P(Ut,Ki);if(xe=="=")return P(ut);var He=ve.state.lexical.prev,nt=He&&He.info=="interface";return re(nt?tr:Un)}function eo(J,xe){return xe=="*"?(ve.marked="keyword",P(Yn,Te(";"))):xe=="default"?(ve.marked="keyword",P(Xe,Te(";"))):J=="{"?P(ct(wr,"}"),Yn,Te(";")):re(qe)}function wr(J,xe){if(xe=="as")return ve.marked="keyword",P(Te("variable"));if(J=="variable")return re(ut,wr)}function En(J){return J=="string"?P():J=="("?re(Xe):J=="."?re(_t):re(Fr,bn,Yn)}function Fr(J,xe){return J=="{"?Ht(Fr,"}"):(J=="variable"&&ye(xe),xe=="*"&&(ve.marked="keyword"),P(co))}function bn(J){if(J==",")return P(Fr,bn)}function co(J,xe){if(xe=="as")return ve.marked="keyword",P(Fr)}function Yn(J,xe){if(xe=="from")return ve.marked="keyword",P(Xe)}function ji(J){return J=="]"?P():re(ct(ut,"]"))}function Lt(){return re(X("form"),$i,Te("{"),X("}"),ct(Gn,"}"),we,we)}function Gn(){return re($i,Ki)}function rr(J,xe){return J.lastType=="operator"||J.lastType==","||W.test(xe.charAt(0))||/[,.]/.test(xe.charAt(0))}function Rn(J,xe,He){return xe.tokenize==D&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(xe.lastType)||xe.lastType=="quasi"&&/\{\s*$/.test(J.string.slice(0,J.pos-(He||0)))}return{startState:function(J){var xe={tokenize:D,lastType:"sof",cc:[],lexical:new ge((J||0)-l,0,"block",!1),localVars:u.localVars,context:u.localVars&&new Be(null,null,!1),indented:J||0};return u.globalVars&&typeof u.globalVars=="object"&&(xe.globalVars=u.globalVars),xe},token:function(J,xe){if(J.sol()&&(xe.lexical.hasOwnProperty("align")||(xe.lexical.align=!1),xe.indented=J.indentation(),ue(J,xe)),xe.tokenize!=z&&J.eatSpace())return null;var He=xe.tokenize(J,xe);return q=="comment"?He:(xe.lastType=q=="operator"&&(M=="++"||M=="--")?"incdec":q,De(xe,He,q,M,J))},indent:function(J,xe){if(J.tokenize==z||J.tokenize==V)return r.Pass;if(J.tokenize!=D)return 0;var He=xe&&xe.charAt(0),nt=J.lexical,je;if(!/^\s*else\b/.test(xe))for(var pt=J.cc.length-1;pt>=0;--pt){var ni=J.cc[pt];if(ni==we)nt=nt.prev;else if(ni!=kn&&ni!=Re)break}for(;(nt.type=="stat"||nt.type=="form")&&(He=="}"||(je=J.cc[J.cc.length-1])&&(je==_t||je==Mt)&&!/^[,\.=+\-*:?[\(]/.test(xe));)nt=nt.prev;f&&nt.type==")"&&nt.prev.type=="stat"&&(nt=nt.prev);var Ui=nt.type,Nt=He==Ui;return Ui=="vardef"?nt.indented+(J.lastType=="operator"||J.lastType==","?nt.info.length+1:0):Ui=="form"&&He=="{"?nt.indented:Ui=="form"?nt.indented+l:Ui=="stat"?nt.indented+(rr(J,xe)?f||l:0):nt.info=="switch"&&!Nt&&u.doubleIndentSwitch!=!1?nt.indented+(/^(?:case|default)\b/.test(xe)?l:2*l):nt.align?nt.column+(Nt?0:1):nt.indented+(Nt?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:h,jsonMode:b,expressionAllowed:Rn,skipExpression:function(J){De(J,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),Gm.exports}Rw();var Xm={exports:{}},Vm;function Nw(){return Vm||(Vm=1,function(t,e){(function(r){r(cs())})(function(r){r.defineMode("css",function(ge,fe){var De=fe.inline;fe.propertyKeywords||(fe=r.resolveMode("text/css"));var ve=ge.indentUnit,re=fe.tokenHooks,P=fe.documentTypes||{},se=fe.mediaTypes||{},ye=fe.mediaFeatures||{},Ee=fe.mediaValueKeywords||{},it=fe.propertyKeywords||{},Be=fe.nonStandardPropertyKeywords||{},Me=fe.fontProperties||{},te=fe.counterDescriptors||{},Y=fe.colorKeywords||{},Le=fe.valueKeywords||{},Re=fe.allowNested,X=fe.lineComment,we=fe.supportsAtComponent===!0,Te=ge.highlightNonStandardPropertyKeywords!==!1,qe,Ze;function Xe(Q,he){return qe=he,Q}function ut(Q,he){var pe=Q.next();if(re[pe]){var Ie=re[pe](Q,he);if(Ie!==!1)return Ie}if(pe=="@")return Q.eatWhile(/[\w\\\-]/),Xe("def",Q.current());if(pe=="="||(pe=="~"||pe=="|")&&Q.eat("="))return Xe(null,"compare");if(pe=='"'||pe=="'")return he.tokenize=Et(pe),he.tokenize(Q,he);if(pe=="#")return Q.eatWhile(/[\w\\\-]/),Xe("atom","hash");if(pe=="!")return Q.match(/^\s*\w*/),Xe("keyword","important");if(/\d/.test(pe)||pe=="."&&Q.eat(/\d/))return Q.eatWhile(/[\w.%]/),Xe("number","unit");if(pe==="-"){if(/[\d.]/.test(Q.peek()))return Q.eatWhile(/[\w.%]/),Xe("number","unit");if(Q.match(/^-[\w\\\-]*/))return Q.eatWhile(/[\w\\\-]/),Q.match(/^\s*:/,!1)?Xe("variable-2","variable-definition"):Xe("variable-2","variable");if(Q.match(/^\w+-/))return Xe("meta","meta")}else return/[,+>*\/]/.test(pe)?Xe(null,"select-op"):pe=="."&&Q.match(/^-?[_a-z][_a-z0-9-]*/i)?Xe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(pe)?Xe(null,pe):Q.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Q.current())&&(he.tokenize=wt),Xe("variable callee","variable")):/[\w\\\-]/.test(pe)?(Q.eatWhile(/[\w\\\-]/),Xe("property","word")):Xe(null,null)}function Et(Q){return function(he,pe){for(var Ie=!1,ot;(ot=he.next())!=null;){if(ot==Q&&!Ie){Q==")"&&he.backUp(1);break}Ie=!Ie&&ot=="\\"}return(ot==Q||!Ie&&Q!=")")&&(pe.tokenize=null),Xe("string","string")}}function wt(Q,he){return Q.next(),Q.match(/^\s*[\"\')]/,!1)?he.tokenize=null:he.tokenize=Et(")"),Xe(null,"(")}function St(Q,he,pe){this.type=Q,this.indent=he,this.prev=pe}function _t(Q,he,pe,Ie){return Q.context=new St(pe,he.indentation()+(Ie===!1?0:ve),Q.context),pe}function Mt(Q){return Q.context.prev&&(Q.context=Q.context.prev),Q.context.type}function jt(Q,he,pe){return le[pe.context.type](Q,he,pe)}function Kt(Q,he,pe,Ie){for(var ot=Ie||1;ot>0;ot--)pe.context=pe.context.prev;return jt(Q,he,pe)}function Z(Q){var he=Q.current().toLowerCase();Le.hasOwnProperty(he)?Ze="atom":Y.hasOwnProperty(he)?Ze="keyword":Ze="variable"}var le={};return le.top=function(Q,he,pe){if(Q=="{")return _t(pe,he,"block");if(Q=="}"&&pe.context.prev)return Mt(pe);if(we&&/@component/i.test(Q))return _t(pe,he,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Q))return _t(pe,he,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Q))return _t(pe,he,"atBlock");if(/^@(font-face|counter-style)/i.test(Q))return pe.stateArg=Q,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Q))return"keyframes";if(Q&&Q.charAt(0)=="@")return _t(pe,he,"at");if(Q=="hash")Ze="builtin";else if(Q=="word")Ze="tag";else{if(Q=="variable-definition")return"maybeprop";if(Q=="interpolation")return _t(pe,he,"interpolation");if(Q==":")return"pseudo";if(Re&&Q=="(")return _t(pe,he,"parens")}return pe.context.type},le.block=function(Q,he,pe){if(Q=="word"){var Ie=he.current().toLowerCase();return it.hasOwnProperty(Ie)?(Ze="property","maybeprop"):Be.hasOwnProperty(Ie)?(Ze=Te?"string-2":"property","maybeprop"):Re?(Ze=he.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ze+=" error","maybeprop")}else return Q=="meta"?"block":!Re&&(Q=="hash"||Q=="qualifier")?(Ze="error","block"):le.top(Q,he,pe)},le.maybeprop=function(Q,he,pe){return Q==":"?_t(pe,he,"prop"):jt(Q,he,pe)},le.prop=function(Q,he,pe){if(Q==";")return Mt(pe);if(Q=="{"&&Re)return _t(pe,he,"propBlock");if(Q=="}"||Q=="{")return Kt(Q,he,pe);if(Q=="(")return _t(pe,he,"parens");if(Q=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(he.current()))Ze+=" error";else if(Q=="word")Z(he);else if(Q=="interpolation")return _t(pe,he,"interpolation");return"prop"},le.propBlock=function(Q,he,pe){return Q=="}"?Mt(pe):Q=="word"?(Ze="property","maybeprop"):pe.context.type},le.parens=function(Q,he,pe){return Q=="{"||Q=="}"?Kt(Q,he,pe):Q==")"?Mt(pe):Q=="("?_t(pe,he,"parens"):Q=="interpolation"?_t(pe,he,"interpolation"):(Q=="word"&&Z(he),"parens")},le.pseudo=function(Q,he,pe){return Q=="meta"?"pseudo":Q=="word"?(Ze="variable-3",pe.context.type):jt(Q,he,pe)},le.documentTypes=function(Q,he,pe){return Q=="word"&&P.hasOwnProperty(he.current())?(Ze="tag",pe.context.type):le.atBlock(Q,he,pe)},le.atBlock=function(Q,he,pe){if(Q=="(")return _t(pe,he,"atBlock_parens");if(Q=="}"||Q==";")return Kt(Q,he,pe);if(Q=="{")return Mt(pe)&&_t(pe,he,Re?"block":"top");if(Q=="interpolation")return _t(pe,he,"interpolation");if(Q=="word"){var Ie=he.current().toLowerCase();Ie=="only"||Ie=="not"||Ie=="and"||Ie=="or"?Ze="keyword":se.hasOwnProperty(Ie)?Ze="attribute":ye.hasOwnProperty(Ie)?Ze="property":Ee.hasOwnProperty(Ie)?Ze="keyword":it.hasOwnProperty(Ie)?Ze="property":Be.hasOwnProperty(Ie)?Ze=Te?"string-2":"property":Le.hasOwnProperty(Ie)?Ze="atom":Y.hasOwnProperty(Ie)?Ze="keyword":Ze="error"}return pe.context.type},le.atComponentBlock=function(Q,he,pe){return Q=="}"?Kt(Q,he,pe):Q=="{"?Mt(pe)&&_t(pe,he,Re?"block":"top",!1):(Q=="word"&&(Ze="error"),pe.context.type)},le.atBlock_parens=function(Q,he,pe){return Q==")"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,he,pe,2):le.atBlock(Q,he,pe)},le.restricted_atBlock_before=function(Q,he,pe){return Q=="{"?_t(pe,he,"restricted_atBlock"):Q=="word"&&pe.stateArg=="@counter-style"?(Ze="variable","restricted_atBlock_before"):jt(Q,he,pe)},le.restricted_atBlock=function(Q,he,pe){return Q=="}"?(pe.stateArg=null,Mt(pe)):Q=="word"?(pe.stateArg=="@font-face"&&!Me.hasOwnProperty(he.current().toLowerCase())||pe.stateArg=="@counter-style"&&!te.hasOwnProperty(he.current().toLowerCase())?Ze="error":Ze="property","maybeprop"):"restricted_atBlock"},le.keyframes=function(Q,he,pe){return Q=="word"?(Ze="variable","keyframes"):Q=="{"?_t(pe,he,"top"):jt(Q,he,pe)},le.at=function(Q,he,pe){return Q==";"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,he,pe):(Q=="word"?Ze="tag":Q=="hash"&&(Ze="builtin"),"at")},le.interpolation=function(Q,he,pe){return Q=="}"?Mt(pe):Q=="{"||Q==";"?Kt(Q,he,pe):(Q=="word"?Ze="variable":Q!="variable"&&Q!="("&&Q!=")"&&(Ze="error"),"interpolation")},{startState:function(Q){return{tokenize:null,state:De?"block":"top",stateArg:null,context:new St(De?"block":"top",Q||0,null)}},token:function(Q,he){if(!he.tokenize&&Q.eatSpace())return null;var pe=(he.tokenize||ut)(Q,he);return pe&&typeof pe=="object"&&(qe=pe[1],pe=pe[0]),Ze=pe,qe!="comment"&&(he.state=le[he.state](qe,Q,he)),Ze},indent:function(Q,he){var pe=Q.context,Ie=he&&he.charAt(0),ot=pe.indent;return pe.type=="prop"&&(Ie=="}"||Ie==")")&&(pe=pe.prev),pe.prev&&(Ie=="}"&&(pe.type=="block"||pe.type=="top"||pe.type=="interpolation"||pe.type=="restricted_atBlock")?(pe=pe.prev,ot=pe.indent):(Ie==")"&&(pe.type=="parens"||pe.type=="atBlock_parens")||Ie=="{"&&(pe.type=="at"||pe.type=="atBlock"))&&(ot=Math.max(0,pe.indent-ve))),ot},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:X,fold:"brace"}});function s(ge){for(var fe={},De=0;De<ge.length;++De)fe[ge[De].toLowerCase()]=!0;return fe}var u=["domain","regexp","url","url-prefix"],l=s(u),f=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],h=s(f),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],x=s(b),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],S=s(w),O=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],W=s(O),N=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],j=s(N),q=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],M=s(q),E=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],D=s(E),B=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],z=s(B),V=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ne=s(V),ue=u.concat(f).concat(b).concat(w).concat(O).concat(N).concat(B).concat(V);r.registerHelper("hintWords","css",ue);function de(ge,fe){for(var De=!1,ve;(ve=ge.next())!=null;){if(De&&ve=="/"){fe.tokenize=null;break}De=ve=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:l,mediaTypes:h,mediaFeatures:x,mediaValueKeywords:S,propertyKeywords:W,nonStandardPropertyKeywords:j,fontProperties:M,counterDescriptors:D,colorKeywords:z,valueKeywords:ne,tokenHooks:{"/":function(ge,fe){return ge.eat("*")?(fe.tokenize=de,de(ge,fe)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:h,mediaFeatures:x,mediaValueKeywords:S,propertyKeywords:W,nonStandardPropertyKeywords:j,colorKeywords:z,valueKeywords:ne,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,fe){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(fe.tokenize=de,de(ge,fe)):["operator","operator"]},":":function(ge){return ge.match(/^\s*\{/,!1)?[null,null]:!1},$:function(ge){return ge.match(/^[\w-]+/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(ge){return ge.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:h,mediaFeatures:x,mediaValueKeywords:S,propertyKeywords:W,nonStandardPropertyKeywords:j,colorKeywords:z,valueKeywords:ne,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,fe){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(fe.tokenize=de,de(ge,fe)):["operator","operator"]},"@":function(ge){return ge.eat("{")?[null,"interpolation"]:ge.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(ge.eatWhile(/[\w\\\-]/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:l,mediaTypes:h,mediaFeatures:x,propertyKeywords:W,nonStandardPropertyKeywords:j,fontProperties:M,counterDescriptors:D,colorKeywords:z,valueKeywords:ne,supportsAtComponent:!0,tokenHooks:{"/":function(ge,fe){return ge.eat("*")?(fe.tokenize=de,de(ge,fe)):!1}},name:"css",helperType:"gss"})})}()),Xm.exports}Nw();var Km={exports:{}},Qm;function F0(){return Qm||(Qm=1,function(t,e){(function(r){r(cs())})(function(r){r.overlayMode=function(s,u,l){return{startState:function(){return{base:r.startState(s),overlay:r.startState(u),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(f){return{base:r.copyState(s,f.base),overlay:r.copyState(u,f.overlay),basePos:f.basePos,baseCur:null,overlayPos:f.overlayPos,overlayCur:null}},token:function(f,h){return(f!=h.streamSeen||Math.min(h.basePos,h.overlayPos)<f.start)&&(h.streamSeen=f,h.basePos=h.overlayPos=f.start),f.start==h.basePos&&(h.baseCur=s.token(f,h.base),h.basePos=f.pos),f.start==h.overlayPos&&(f.pos=f.start,h.overlayCur=u.token(f,h.overlay),h.overlayPos=f.pos),f.pos=Math.min(h.basePos,h.overlayPos),h.overlayCur==null?h.baseCur:h.baseCur!=null&&h.overlay.combineTokens||l&&h.overlay.combineTokens==null?h.baseCur+" "+h.overlayCur:h.overlayCur},indent:s.indent&&function(f,h,b){return s.indent(f.base,h,b)},electricChars:s.electricChars,innerMode:function(f){return{state:f.base,mode:s}},blankLine:function(f){var h,b;return s.blankLine&&(h=s.blankLine(f.base)),u.blankLine&&(b=u.blankLine(f.overlay)),b==null?h:l&&h!=null?h+" "+b:b}}}})}()),Km.exports}F0();P0();var Jm={exports:{}},eg;function zw(){return eg||(eg=1,function(t,e){(function(r){r(cs())})(function(r){r.defineMode("yaml",function(){var s=["true","false","on","off","yes","no"],u=new RegExp("\\b(("+s.join(")|(")+"))$","i");return{token:function(l,f){var h=l.peek(),b=f.escaped;if(f.escaped=!1,h=="#"&&(l.pos==0||/\s/.test(l.string.charAt(l.pos-1))))return l.skipToEnd(),"comment";if(l.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(f.literal&&l.indentation()>f.keyCol)return l.skipToEnd(),"string";if(f.literal&&(f.literal=!1),l.sol()){if(f.keyCol=0,f.pair=!1,f.pairStart=!1,l.match("---")||l.match("..."))return"def";if(l.match(/\s*-\s+/))return"meta"}if(l.match(/^(\{|\}|\[|\])/))return h=="{"?f.inlinePairs++:h=="}"?f.inlinePairs--:h=="["?f.inlineList++:f.inlineList--,"meta";if(f.inlineList>0&&!b&&h==",")return l.next(),"meta";if(f.inlinePairs>0&&!b&&h==",")return f.keyCol=0,f.pair=!1,f.pairStart=!1,l.next(),"meta";if(f.pairStart){if(l.match(/^\s*(\||\>)\s*/))return f.literal=!0,"meta";if(l.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(f.inlinePairs==0&&l.match(/^\s*-?[0-9\.\,]+\s?$/)||f.inlinePairs>0&&l.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(l.match(u))return"keyword"}return!f.pair&&l.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(f.pair=!0,f.keyCol=l.indentation(),"atom"):f.pair&&l.match(/^:\s*/)?(f.pairStart=!0,"meta"):(f.pairStart=!1,f.escaped=h=="\\",l.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-yaml","yaml"),r.defineMIME("text/yaml","yaml")})}()),Jm.exports}zw();var tg={exports:{}},ig;function Iw(){return ig||(ig=1,function(t,e){(function(r){r(cs(),O0(),F0())})(function(r){var s=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;r.defineMode("gfm",function(u,l){var f=0;function h(S){return S.code=!1,null}var b={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(S){return{code:S.code,codeBlock:S.codeBlock,ateSpace:S.ateSpace}},token:function(S,O){if(O.combineTokens=null,O.codeBlock)return S.match(/^```+/)?(O.codeBlock=!1,null):(S.skipToEnd(),null);if(S.sol()&&(O.code=!1),S.sol()&&S.match(/^```+/))return S.skipToEnd(),O.codeBlock=!0,null;if(S.peek()==="`"){S.next();var W=S.pos;S.eatWhile("`");var N=1+S.pos-W;return O.code?N===f&&(O.code=!1):(f=N,O.code=!0),null}else if(O.code)return S.next(),null;if(S.eatSpace())return O.ateSpace=!0,null;if((S.sol()||O.ateSpace)&&(O.ateSpace=!1,l.gitHubSpice!==!1)){if(S.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return O.combineTokens=!0,"link";if(S.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return O.combineTokens=!0,"link"}return S.match(s)&&S.string.slice(S.start-2,S.start)!="]("&&(S.start==0||/\W/.test(S.string.charAt(S.start-1)))?(O.combineTokens=!0,"link"):(S.next(),null)},blankLine:h},x={taskLists:!0,strikethrough:!0,emoji:!0};for(var w in l)x[w]=l[w];return x.name="markdown",r.overlayMode(r.getMode(u,x),b)},"markdown"),r.defineMIME("text/x-gfm","gfm")})}()),tg.exports}Iw();var ng={exports:{}},rg;function Bw(){return rg||(rg=1,function(t,e){(function(r){r(cs())})(function(r){r.defineOption("rulers",!1,function(u,l){u.state.rulerDiv&&(u.state.rulerDiv.parentElement.removeChild(u.state.rulerDiv),u.state.rulerDiv=null,u.off("refresh",s)),l&&l.length&&(u.state.rulerDiv=u.display.lineSpace.parentElement.insertBefore(document.createElement("div"),u.display.lineSpace),u.state.rulerDiv.className="CodeMirror-rulers",s(u),u.on("refresh",s))});function s(u){u.state.rulerDiv.textContent="";var l=u.getOption("rulers"),f=u.defaultCharWidth(),h=u.charCoords(r.Pos(u.firstLine(),0),"div").left;u.state.rulerDiv.style.minHeight=u.display.scroller.offsetHeight+30+"px";for(var b=0;b<l.length;b++){var x=document.createElement("div");x.className="CodeMirror-ruler";var w,S=l[b];typeof S=="number"?w=S:(w=S.column,S.className&&(x.className+=" "+S.className),S.color&&(x.style.borderColor=S.color),S.lineStyle&&(x.style.borderLeftStyle=S.lineStyle),S.width&&(x.style.borderLeftWidth=S.width)),x.style.left=h+w*f+"px",u.state.rulerDiv.appendChild(x)}}})}()),ng.exports}Bw();var og={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var ag;function $w(){return ag||(ag=1,function(t){t(jQuery)}(function(t){var e=0,r=Array.prototype.hasOwnProperty,s=Array.prototype.slice;return t.cleanData=function(u){return function(l){var f,h,b;for(b=0;(h=l[b])!=null;b++)f=t._data(h,"events"),f&&f.remove&&t(h).triggerHandler("remove");u(l)}}(t.cleanData),t.widget=function(u,l,f){var h,b,x,w={},S=u.split(".")[0];if(u=u.split(".")[1],u==="__proto__"||u==="constructor")return t.error("Invalid widget name: "+u);var O=S+"-"+u;return f||(f=l,l=t.Widget),Array.isArray(f)&&(f=t.extend.apply(null,[{}].concat(f))),t.expr.pseudos[O.toLowerCase()]=function(W){return!!t.data(W,O)},t[S]=t[S]||{},h=t[S][u],b=t[S][u]=function(W,N){if(!this||!this._createWidget)return new b(W,N);arguments.length&&this._createWidget(W,N)},t.extend(b,h,{version:f.version,_proto:t.extend({},f),_childConstructors:[]}),x=new l,x.options=t.widget.extend({},x.options),t.each(f,function(W,N){if(typeof N!="function"){w[W]=N;return}w[W]=function(){function j(){return l.prototype[W].apply(this,arguments)}function q(M){return l.prototype[W].apply(this,M)}return function(){var M=this._super,E=this._superApply,D;return this._super=j,this._superApply=q,D=N.apply(this,arguments),this._super=M,this._superApply=E,D}}()}),b.prototype=t.widget.extend(x,{widgetEventPrefix:h&&x.widgetEventPrefix||u},w,{constructor:b,namespace:S,widgetName:u,widgetFullName:O}),h?(t.each(h._childConstructors,function(W,N){var j=N.prototype;t.widget(j.namespace+"."+j.widgetName,b,N._proto)}),delete h._childConstructors):l._childConstructors.push(b),t.widget.bridge(u,b),b},t.widget.extend=function(u){for(var l=s.call(arguments,1),f=0,h=l.length,b,x;f<h;f++)for(b in l[f])x=l[f][b],r.call(l[f],b)&&x!==void 0&&(t.isPlainObject(x)?u[b]=t.isPlainObject(u[b])?t.widget.extend({},u[b],x):t.widget.extend({},x):u[b]=x);return u},t.widget.bridge=function(u,l){var f=l.prototype.widgetFullName||u;t.fn[u]=function(h){var b=typeof h=="string",x=s.call(arguments,1),w=this;return b?!this.length&&h==="instance"?w=void 0:this.each(function(){var S,O=t.data(this,f);if(h==="instance")return w=O,!1;if(!O)return t.error("cannot call methods on "+u+" prior to initialization; attempted to call method '"+h+"'");if(typeof O[h]!="function"||h.charAt(0)==="_")return t.error("no such method '"+h+"' for "+u+" widget instance");if(S=O[h].apply(O,x),S!==O&&S!==void 0)return w=S&&S.jquery?w.pushStack(S.get()):S,!1}):(x.length&&(h=t.widget.extend.apply(null,[h].concat(x))),this.each(function(){var S=t.data(this,f);S?(S.option(h||{}),S._init&&S._init()):t.data(this,f,new l(h,this))})),w}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(u,l){l=t(l||this.defaultElement||this)[0],this.element=t(l),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},l!==this&&(t.data(l,this.widgetFullName,this),this._on(!0,this.element,{remove:function(f){f.target===l&&this.destroy()}}),this.document=t(l.style?l.ownerDocument:l.document||l),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),u),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var u=this;this._destroy(),t.each(this.classesElementLookup,function(l,f){u._removeClass(f,l)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(u,l){var f=u,h,b,x;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof u=="string")if(f={},h=u.split("."),u=h.shift(),h.length){for(b=f[u]=t.widget.extend({},this.options[u]),x=0;x<h.length-1;x++)b[h[x]]=b[h[x]]||{},b=b[h[x]];if(u=h.pop(),arguments.length===1)return b[u]===void 0?null:b[u];b[u]=l}else{if(arguments.length===1)return this.options[u]===void 0?null:this.options[u];f[u]=l}return this._setOptions(f),this},_setOptions:function(u){var l;for(l in u)this._setOption(l,u[l]);return this},_setOption:function(u,l){return u==="classes"&&this._setOptionClasses(l),this.options[u]=l,u==="disabled"&&this._setOptionDisabled(l),this},_setOptionClasses:function(u){var l,f,h;for(l in u)h=this.classesElementLookup[l],!(u[l]===this.options.classes[l]||!h||!h.length)&&(f=t(h.get()),this._removeClass(h,l),f.addClass(this._classes({element:f,keys:l,classes:u,add:!0})))},_setOptionDisabled:function(u){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!u),u&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(u){var l=[],f=this;u=t.extend({element:this.element,classes:this.options.classes||{}},u);function h(){var x=[];u.element.each(function(w,S){var O=t.map(f.classesElementLookup,function(W){return W}).some(function(W){return W.is(S)});O||x.push(S)}),f._on(t(x),{remove:"_untrackClassesElement"})}function b(x,w){var S,O;for(O=0;O<x.length;O++)S=f.classesElementLookup[x[O]]||t(),u.add?(h(),S=t(t.uniqueSort(S.get().concat(u.element.get())))):S=t(S.not(u.element).get()),f.classesElementLookup[x[O]]=S,l.push(x[O]),w&&u.classes[x[O]]&&l.push(u.classes[x[O]])}return u.keys&&b(u.keys.match(/\S+/g)||[],!0),u.extra&&b(u.extra.match(/\S+/g)||[]),l.join(" ")},_untrackClassesElement:function(u){var l=this;t.each(l.classesElementLookup,function(f,h){t.inArray(u.target,h)!==-1&&(l.classesElementLookup[f]=t(h.not(u.target).get()))}),this._off(t(u.target))},_removeClass:function(u,l,f){return this._toggleClass(u,l,f,!1)},_addClass:function(u,l,f){return this._toggleClass(u,l,f,!0)},_toggleClass:function(u,l,f,h){h=typeof h=="boolean"?h:f;var b=typeof u=="string"||u===null,x={extra:b?l:f,keys:b?u:l,element:b?this.element:u,add:h};return x.element.toggleClass(this._classes(x),h),this},_on:function(u,l,f){var h,b=this;typeof u!="boolean"&&(f=l,l=u,u=!1),f?(l=h=t(l),this.bindings=this.bindings.add(l)):(f=l,l=this.element,h=this.widget()),t.each(f,function(x,w){function S(){if(!(!u&&(b.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof w=="string"?b[w]:w).apply(b,arguments)}typeof w!="string"&&(S.guid=w.guid=w.guid||S.guid||t.guid++);var O=x.match(/^([\w:-]*)\s*(.*)$/),W=O[1]+b.eventNamespace,N=O[2];N?h.on(W,N,S):l.on(W,S)})},_off:function(u,l){l=(l||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.off(l),this.bindings=t(this.bindings.not(u).get()),this.focusable=t(this.focusable.not(u).get()),this.hoverable=t(this.hoverable.not(u).get())},_delay:function(u,l){function f(){return(typeof u=="string"?h[u]:u).apply(h,arguments)}var h=this;return setTimeout(f,l||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(l){this._addClass(t(l.currentTarget),null,"ui-state-hover")},mouseleave:function(l){this._removeClass(t(l.currentTarget),null,"ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(l){this._addClass(t(l.currentTarget),null,"ui-state-focus")},focusout:function(l){this._removeClass(t(l.currentTarget),null,"ui-state-focus")}})},_trigger:function(u,l,f){var h,b,x=this.options[u];if(f=f||{},l=t.Event(l),l.type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),l.target=this.element[0],b=l.originalEvent,b)for(h in b)h in l||(l[h]=b[h]);return this.element.trigger(l,f),!(typeof x=="function"&&x.apply(this.element[0],[l].concat(f))===!1||l.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(u,l){t.Widget.prototype["_"+u]=function(f,h,b){typeof h=="string"&&(h={effect:h});var x,w=h?h===!0||typeof h=="number"?l:h.effect||l:u;h=h||{},typeof h=="number"?h={duration:h}:h===!0&&(h={}),x=!t.isEmptyObject(h),h.complete=b,h.delay&&f.delay(h.delay),x&&t.effects&&t.effects.effect[w]?f[u](h):w!==u&&f[w]?f[w](h.duration,h.easing,b):f.queue(function(S){t(this)[u](),b&&b.call(f[0]),S()})}}),t.widget})),og}$w();var sg={};/*!
 * jQuery UI Autocomplete 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var ug;function Hw(){return ug||(ug=1,function(t){t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,r,s,u=this.element[0].nodeName.toLowerCase(),l=u==="textarea",f=u==="input";this.isMultiLine=l||!f&&this.element.prop("contentEditable")==="true",this.valueMethod=this.element[l||f?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(h){if(this.element.prop("readOnly")){e=!0,s=!0,r=!0;return}e=!1,s=!1,r=!1;var b=t.ui.keyCode;switch(h.keyCode){case b.PAGE_UP:e=!0,this._move("previousPage",h);break;case b.PAGE_DOWN:e=!0,this._move("nextPage",h);break;case b.UP:e=!0,this._keyEvent("previous",h);break;case b.DOWN:e=!0,this._keyEvent("next",h);break;case b.ENTER:this.menu.active&&(e=!0,h.preventDefault(),this.menu.select(h));break;case b.TAB:this.menu.active&&this.menu.select(h);break;case b.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(h),h.preventDefault());break;default:r=!0,this._searchTimeout(h);break}},keypress:function(h){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&h.preventDefault();return}if(!r){var b=t.ui.keyCode;switch(h.keyCode){case b.PAGE_UP:this._move("previousPage",h);break;case b.PAGE_DOWN:this._move("nextPage",h);break;case b.UP:this._keyEvent("previous",h);break;case b.DOWN:this._keyEvent("next",h);break}}},input:function(h){if(s){s=!1,h.preventDefault();return}this._searchTimeout(h)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){clearTimeout(this.searching),this.close(h),this._change(h)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(h){h.preventDefault()},menufocus:function(h,b){var x,w;if(this.isNewMenu&&(this.isNewMenu=!1,h.originalEvent&&/^mouse/.test(h.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(h.target).trigger(h.originalEvent)});return}w=b.item.data("ui-autocomplete-item"),this._trigger("focus",h,{item:w})!==!1&&h.originalEvent&&/^key/.test(h.originalEvent.type)&&this._value(w.value),x=b.item.attr("aria-label")||w.value,x&&String.prototype.trim.call(x).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(x))},100))},menuselect:function(h,b){var x=b.item.data("ui-autocomplete-item"),w=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=w),this._trigger("select",h,{item:x})!==!1&&this._value(x.value),this.term=this._value(),this.close(h),this.selectedItem=x}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,r){this._super(e,r),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&r&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var r=this.menu.element[0];return e.target===this.element[0]||e.target===r||t.contains(r,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,r,s=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(u,l){l(t.ui.autocomplete.filter(e,u.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(u,l){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:r,data:u,dataType:"json",success:function(f){l(f)},error:function(){l([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var r=this.term===this._value(),s=this.menu.element.is(":visible"),u=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!r||r&&!s&&!u)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,r){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(r);if(this._trigger("search",r)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(r){e===this.requestIndex&&this.__response(r),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(r){return typeof r=="string"?{label:r,value:r}:t.extend({},r,{label:r.label||r.value,value:r.value||r.label})})},_suggest:function(e){var r=this.menu.element.empty();this._renderMenu(r,e),this.isNewMenu=!0,this.menu.refresh(),r.show(),this._resizeMenu(),r.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,r){var s=this;t.each(r,function(u,l){s._renderItemData(e,l)})},_renderItemData:function(e,r){return this._renderItem(e,r).data("ui-autocomplete-item",r)},_renderItem:function(e,r){return t("<li>").append(t("<div>").text(r.label)).appendTo(e)},_move:function(e,r){if(!this.menu.element.is(":visible")){this.search(null,r);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](r)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,r){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,r),r.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,r){var s=new RegExp(t.ui.autocomplete.escapeRegex(r),"i");return t.grep(e,function(u){return s.test(u.label||u.value||u)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var r;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?r=this.options.messages.results(e.length):r=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(r))},100))}}),t.ui.autocomplete})),sg}Hw();function lg(){document.querySelectorAll('input[type="color"]').forEach(e=>{if(e.parentElement&&e.parentElement.classList.contains("color-input-wrapper"))return;const r=e.getAttribute("data-initial-value"),s=document.createElement("div");s.className="color-input-wrapper",e.parentNode.insertBefore(s,e),s.appendChild(e);const u=document.createElement("button");u.type="button",u.classList.add("color-toggle-btn"),u.classList.add("uk-button"),u.textContent="Reset",s.appendChild(u),r&&r!==""&&(s.classList.add("color-input-wrapper--defined"),s.style.setProperty("--color-input-value",r)),cg(e,u,r),u.addEventListener("click",()=>{cg(e,u)}),e.addEventListener("change",()=>{e.value&&e.value!==""?(s.style.setProperty("--color-input-value",e.value),s.classList.add("color-input-wrapper--defined")):(s.style.removeProperty("--color-input-value"),s.classList.remove("color-input-wrapper--defined"))})})}function cg(t,e,r=void 0){t.type==="color"?(t.type="text",e.textContent=t.getAttribute("data-color-picker-label")):(t.type="color",t.value=r||t.value||"#000000",e.textContent=t.getAttribute("data-hex-color-label"))}const Yl="bulk-actions--collapsed",Ud="bulk-actions--collapsing";function fg(){const t=[],e=document.querySelectorAll(".bulk-layout ."+Yl),r=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),s=document.querySelector('.bulk-layout input[name="bulk-selection-all"]'),u=document.querySelector(".bulk-layout .uk-button-select-all"),l=document.querySelectorAll(".bulk-layout .uk-button-bulk"),f=document.querySelectorAll(".bulk-layout input.bulk-form-value"),h=document.querySelectorAll('.bulk-layout input[name="bulk-selection[]"]');e.forEach(w=>w.addEventListener("transitionend",S=>{w.classList.contains(Ud)&&w.classList.remove(Ud)}));const b=()=>{h.forEach(w=>{w.checked=!1,t.splice(0,t.length),f.forEach(S=>S.value="")}),s&&(s.checked=!1),x()},x=()=>{window.requestAnimationFrame(()=>{e.forEach(w=>w.classList.add(Ud)),e.forEach(w=>w.classList.add(Yl))})};l.forEach(w=>{w.hasAttribute("data-bulk-group")&&w.addEventListener("click",S=>{const O=document.getElementById(w.getAttribute("data-bulk-group"));O&&(document.querySelectorAll(".bulk-group").forEach(W=>{W!==O&&W.classList.remove("bulk-group--open")}),O.classList.toggle("bulk-group--open"))})}),h.forEach(w=>{w.addEventListener("change",S=>{w.checked?t.push(w.value):t.splice(t.indexOf(w.value),1),t.length>0?(e.forEach(O=>O.classList.remove(Yl)),f.forEach(O=>O.value=JSON.stringify(t))):(x(),s&&(s.checked=!1))})}),r&&r.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),b()}),u&&u.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),h.forEach(S=>{S.checked=!0,t.push(S.value)}),e.forEach(S=>S.classList.remove(Yl)),f.forEach(S=>S.value=JSON.stringify(t))}),s&&s.addEventListener("change",w=>{s.checked?h.forEach(S=>{S.checked=!0,t.push(S.value)}):b(),t.length>0?(e.forEach(S=>S.classList.remove(Yl)),f.forEach(S=>S.value=JSON.stringify(t))):e.forEach(S=>S.classList.add(Yl))})}class Ww{constructor(){var e,r,s,u,l,f,h;this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll("a"),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=(e=this.treeWrapper)==null?void 0:e.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.userPicture.length&&this.userPicture[0].classList.add("rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(b=>b.addEventListener("click",this.adminMenuLinkClick)),this.adminMenuNavParents.forEach(b=>b.addEventListener("click",this.adminMenuNavParentClick)),(r=this.searchButton)==null||r.addEventListener("click",this.searchButtonClick),(s=this.treeButton)==null||s.addEventListener("click",this.treeButtonClick),(u=this.treeWrapperLink)==null||u.addEventListener("click",this.treeWrapperLinkClick),(l=this.userPicture)==null||l.addEventListener("click",this.userPictureClick),(f=this.userActionsLink)==null||f.addEventListener("click",this.userActionsLinkClick),(h=this.mainContentOverlay)==null||h.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}menuClick(e){this.menuOpen?this.closeMenu():this.openMenu()}adminMenuNavParentClick(e){e.preventDefault();const r=e.currentTarget;if(!r)return!1;this.adminMenuNavParents.forEach(s=>{s.classList.remove("nav-open")}),r.classList.contains("nav-open")?r.classList.remove("nav-open"):r.classList.add("nav-open")}adminMenuLinkClick(e){this.menuOpen&&this.closeMenu()}showOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}hideOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}openMenu(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}closeMenu(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}searchButtonClick(e){this.searchOpen?this.closeSearch():this.openSearch()}openSearch(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}closeSearch(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}treeButtonClick(e){this.treeOpen?this.closeTree():this.openTree()}treeWrapperLinkClick(e){e.currentTarget.className.indexOf("tab-link")===-1&&this.treeOpen&&this.closeTree()}openTree(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}closeTree(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),this.treeButton.classList.remove("active"),this.treeOpen=!1}userPictureClick(e){return this.userOpen?this.closeUser():this.openUser(),!1}userActionsLinkClick(e){this.userOpen&&this.closeUser()}openUser(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}closeUser(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}mainContentOverlayClick(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}class hg{constructor(){if(this.button=document.querySelector(".rz-action-save"),this.actionMenu=document.querySelector(".actions-menu"),this.formToSave=null,!this.button||!this.actionMenu)return;this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.button.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown);const e=this.button.getAttribute("data-action-save");e&&(this.formToSave=document.querySelector(e),this.formToSave&&(this.actionMenu.insertBefore(this.button,this.actionMenu.firstChild),this.button.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown)))}onKeyDown(e){if(this.formToSave&&(e.metaKey||e.ctrlKey)&&e.key==="s")return e.preventDefault(),this.formToSave.requestSubmit(),!1}onClick(){this.formToSave.requestSubmit()}}/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */const Kr=typeof window<"u"?window:typeof module<"u"&&module.exports&&typeof global<"u"?global:void 0,Ih=function(t,e){var r=t.document,s=t.GreenSockGlobals=t.GreenSockGlobals||t;if(s.TweenLite)return s.TweenLite;var u=function(Z){var le=Z.split("."),Q=s,he;for(he=0;he<le.length;he++)Q[le[he]]=Q=Q[le[he]]||{};return Q},l=u("com.greensock"),f=1e-10,h=function(Z){var le=[],Q=Z.length,he;for(he=0;he!==Q;le.push(Z[he++]));return le},b=function(){},x=function(){var Z=Object.prototype.toString,le=Z.call([]);return function(Q){return Q!=null&&(Q instanceof Array||typeof Q=="object"&&!!Q.push&&Z.call(Q)===le)}}(),w,S,O,W,N,j={},q=function(Z,le,Q,he){this.sc=j[Z]?j[Z].sc:[],j[Z]=this,this.gsClass=null,this.func=Q;var pe=[];this.check=function(Ie){for(var ot=le.length,Qe=ot,mt,Pt,ct,Ht;--ot>-1;)(mt=j[le[ot]]||new q(le[ot],[])).gsClass?(pe[ot]=mt.gsClass,Qe--):Ie&&mt.sc.push(this);if(Qe===0&&Q)for(Pt=("com.greensock."+Z).split("."),ct=Pt.pop(),Ht=u(Pt.join("."))[ct]=this.gsClass=Q.apply(Q,pe),he&&(s[ct]=Ht),ot=0;ot<this.sc.length;ot++)this.sc[ot].check()},this.check(!0)},M=t._gsDefine=function(Z,le,Q,he){return new q(Z,le,Q,he)},E=l._class=function(Z,le,Q){return le=le||function(){},M(Z,[],function(){return le},Q),le};M.globals=s;var D=[0,0,1,1],B=E("easing.Ease",function(Z,le,Q,he){this._func=Z,this._type=Q||0,this._power=he||0,this._params=le?D.concat(le):D},!0),z=B.map={},V=B.register=function(Z,le,Q,he){for(var pe=le.split(","),Ie=pe.length,ot=(Q||"easeIn,easeOut,easeInOut").split(","),Qe,mt,Pt,ct;--Ie>-1;)for(mt=pe[Ie],Qe=he?E("easing."+mt,null,!0):l.easing[mt]||{},Pt=ot.length;--Pt>-1;)ct=ot[Pt],z[mt+"."+ct]=z[ct+mt]=Qe[ct]=Z.getRatio?Z:Z[ct]||new Z};for(O=B.prototype,O._calcEnd=!1,O.getRatio=function(Z){if(this._func)return this._params[0]=Z,this._func.apply(null,this._params);var le=this._type,Q=this._power,he=le===1?1-Z:le===2?Z:Z<.5?Z*2:(1-Z)*2;return Q===1?he*=he:Q===2?he*=he*he:Q===3?he*=he*he*he:Q===4&&(he*=he*he*he*he),le===1?1-he:le===2?he:Z<.5?he/2:1-he/2},w=["Linear","Quad","Cubic","Quart","Quint,Strong"],S=w.length;--S>-1;)O=w[S]+",Power"+S,V(new B(null,null,1,S),O,"easeOut",!0),V(new B(null,null,2,S),O,"easeIn"+(S===0?",easeNone":"")),V(new B(null,null,3,S),O,"easeInOut");z.linear=l.easing.Linear.easeIn,z.swing=l.easing.Quad.easeInOut;var ne=E("events.EventDispatcher",function(Z){this._listeners={},this._eventTarget=Z||this});O=ne.prototype,O.addEventListener=function(Z,le,Q,he,pe){pe=pe||0;var Ie=this._listeners[Z],ot=0,Qe,mt;for(this===W&&!N&&W.wake(),Ie==null&&(this._listeners[Z]=Ie=[]),mt=Ie.length;--mt>-1;)Qe=Ie[mt],Qe.c===le&&Qe.s===Q?Ie.splice(mt,1):ot===0&&Qe.pr<pe&&(ot=mt+1);Ie.splice(ot,0,{c:le,s:Q,up:he,pr:pe})},O.removeEventListener=function(Z,le){var Q=this._listeners[Z],he;if(Q){for(he=Q.length;--he>-1;)if(Q[he].c===le){Q.splice(he,1);return}}},O.dispatchEvent=function(Z){var le=this._listeners[Z],Q,he,pe;if(le)for(Q=le.length,Q>1&&(le=le.slice(0)),he=this._eventTarget;--Q>-1;)pe=le[Q],pe&&(pe.up?pe.c.call(pe.s||he,{type:Z,target:he}):pe.c.call(pe.s||he))};var ue=t.requestAnimationFrame,de=t.cancelAnimationFrame,ge=Date.now||function(){return new Date().getTime()},fe=ge();for(w=["ms","moz","webkit","o"],S=w.length;--S>-1&&!ue;)ue=t[w[S]+"RequestAnimationFrame"],de=t[w[S]+"CancelAnimationFrame"]||t[w[S]+"CancelRequestAnimationFrame"];E("Ticker",function(Z,le){var Q=this,he=ge(),pe=le!==!1&&ue?"auto":!1,Ie=500,ot=33,Qe="tick",mt,Pt,ct,Ht,Yt,Qt=function(Vt){var xt=ge()-fe,qn,Ut;xt>Ie&&(he+=xt-ot),fe+=xt,Q.time=(fe-he)/1e3,qn=Q.time-Yt,(!mt||qn>0||Vt===!0)&&(Q.frame++,Yt+=qn+(qn>=Ht?.004:Ht-qn),Ut=!0),Vt!==!0&&(ct=Pt(Qt)),Ut&&Q.dispatchEvent(Qe)};ne.call(Q),Q.time=Q.frame=0,Q.tick=function(){Qt(!0)},Q.lagSmoothing=function(Vt,xt){if(!arguments.length)return Ie<1/f;Ie=Vt||1/f,ot=Math.min(xt,Ie,0)},Q.sleep=function(){ct!=null&&(!pe||!de?clearTimeout(ct):de(ct),Pt=b,ct=null,Q===W&&(N=!1))},Q.wake=function(Vt){ct!==null?Q.sleep():Vt?he+=-fe+(fe=ge()):Q.frame>10&&(fe=ge()-Ie+5),Pt=mt===0?b:!pe||!ue?function(xt){return setTimeout(xt,(Yt-Q.time)*1e3+1|0)}:ue,Q===W&&(N=!0),Qt(2)},Q.fps=function(Vt){if(!arguments.length)return mt;mt=Vt,Ht=1/(mt||60),Yt=this.time+Ht,Q.wake()},Q.useRAF=function(Vt){if(!arguments.length)return pe;Q.sleep(),pe=Vt,Q.fps(mt)},Q.fps(Z),setTimeout(function(){pe==="auto"&&Q.frame<5&&(r||{}).visibilityState!=="hidden"&&Q.useRAF(!1)},1500)}),O=l.Ticker.prototype=new l.events.EventDispatcher,O.constructor=l.Ticker;var De=E("core.Animation",function(Z,le){if(this.vars=le=le||{},this._duration=this._totalDuration=Z||0,this._delay=Number(le.delay)||0,this._timeScale=1,this._active=le.immediateRender===!0,this.data=le.data,this._reversed=le.reversed===!0,!!ut){N||W.wake();var Q=this.vars.useFrames?Xe:ut;Q.add(this,Q._time),this.vars.paused&&this.paused(!0)}});W=De.ticker=new l.Ticker,O=De.prototype,O._dirty=O._gc=O._initted=O._paused=!1,O._totalTime=O._time=0,O._rawPrevTime=-1,O._next=O._last=O._onUpdate=O._timeline=O.timeline=null,O._paused=!1;var ve=function(){N&&ge()-fe>2e3&&((r||{}).visibilityState!=="hidden"||!W.lagSmoothing())&&W.wake();var Z=setTimeout(ve,2e3);Z.unref&&Z.unref()};ve(),O.play=function(Z,le){return Z!=null&&this.seek(Z,le),this.reversed(!1).paused(!1)},O.pause=function(Z,le){return Z!=null&&this.seek(Z,le),this.paused(!0)},O.resume=function(Z,le){return Z!=null&&this.seek(Z,le),this.paused(!1)},O.seek=function(Z,le){return this.totalTime(Number(Z),le!==!1)},O.restart=function(Z,le){return this.reversed(!1).paused(!1).totalTime(Z?-this._delay:0,le!==!1,!0)},O.reverse=function(Z,le){return Z!=null&&this.seek(Z||this.totalDuration(),le),this.reversed(!0).paused(!1)},O.render=function(Z,le,Q){},O.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},O.isActive=function(){var Z=this._timeline,le=this._startTime,Q;return!Z||!this._gc&&!this._paused&&Z.isActive()&&(Q=Z.rawTime(!0))>=le&&Q<le+this.totalDuration()/this._timeScale-1e-7},O._enabled=function(Z,le){return N||W.wake(),this._gc=!Z,this._active=this.isActive(),le!==!0&&(Z&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!Z&&this.timeline&&this._timeline._remove(this,!0)),!1},O._kill=function(Z,le){return this._enabled(!1,!1)},O.kill=function(Z,le){return this._kill(Z,le),this},O._uncache=function(Z){for(var le=Z?this:this.timeline;le;)le._dirty=!0,le=le.timeline;return this},O._swapSelfInParams=function(Z){for(var le=Z.length,Q=Z.concat();--le>-1;)Z[le]==="{self}"&&(Q[le]=this);return Q},O._callback=function(Z){var le=this.vars,Q=le[Z],he=le[Z+"Params"],pe=le[Z+"Scope"]||le.callbackScope||this,Ie=he?he.length:0;switch(Ie){case 0:Q.call(pe);break;case 1:Q.call(pe,he[0]);break;case 2:Q.call(pe,he[0],he[1]);break;default:Q.apply(pe,he)}},O.eventCallback=function(Z,le,Q,he){if((Z||"").substr(0,2)==="on"){var pe=this.vars;if(arguments.length===1)return pe[Z];le==null?delete pe[Z]:(pe[Z]=le,pe[Z+"Params"]=x(Q)&&Q.join("").indexOf("{self}")!==-1?this._swapSelfInParams(Q):Q,pe[Z+"Scope"]=he),Z==="onUpdate"&&(this._onUpdate=le)}return this},O.delay=function(Z){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+Z-this._delay),this._delay=Z,this):this._delay},O.duration=function(Z){return arguments.length?(this._duration=this._totalDuration=Z,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&Z!==0&&this.totalTime(this._totalTime*(Z/this._duration),!0),this):(this._dirty=!1,this._duration)},O.totalDuration=function(Z){return this._dirty=!1,arguments.length?this.duration(Z):this._totalDuration},O.time=function(Z,le){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(Z>this._duration?this._duration:Z,le)):this._time},O.totalTime=function(Z,le,Q){if(N||W.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(Z<0&&!Q&&(Z+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var he=this._totalDuration,pe=this._timeline;if(Z>he&&!Q&&(Z=he),this._startTime=(this._paused?this._pauseTime:pe._time)-(this._reversed?he-Z:Z)/this._timeScale,pe._dirty||this._uncache(!1),pe._timeline)for(;pe._timeline;)pe._timeline._time!==(pe._startTime+pe._totalTime)/pe._timeScale&&pe.totalTime(pe._totalTime,!0),pe=pe._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==Z||this._duration===0)&&(Ee.length&&wt(),this.render(Z,le,!1),Ee.length&&wt())}return this},O.progress=O.totalProgress=function(Z,le){var Q=this.duration();return arguments.length?this.totalTime(Q*Z,le):Q?this._time/Q:this.ratio},O.startTime=function(Z){return arguments.length?(Z!==this._startTime&&(this._startTime=Z,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,Z-this._delay)),this):this._startTime},O.endTime=function(Z){return this._startTime+(Z!=!1?this.totalDuration():this.duration())/this._timeScale},O.timeScale=function(Z){if(!arguments.length)return this._timeScale;var le,Q;for(Z=Z||f,this._timeline&&this._timeline.smoothChildTiming&&(le=this._pauseTime,Q=le||le===0?le:this._timeline.totalTime(),this._startTime=Q-(Q-this._startTime)*this._timeScale/Z),this._timeScale=Z,Q=this.timeline;Q&&Q.timeline;)Q._dirty=!0,Q.totalDuration(),Q=Q.timeline;return this},O.reversed=function(Z){return arguments.length?(Z!=this._reversed&&(this._reversed=Z,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},O.paused=function(Z){if(!arguments.length)return this._paused;var le=this._timeline,Q,he;return Z!=this._paused&&le&&(!N&&!Z&&W.wake(),Q=le.rawTime(),he=Q-this._pauseTime,!Z&&le.smoothChildTiming&&(this._startTime+=he,this._uncache(!1)),this._pauseTime=Z?Q:null,this._paused=Z,this._active=this.isActive(),!Z&&he!==0&&this._initted&&this.duration()&&(Q=le.smoothChildTiming?this._totalTime:(Q-this._startTime)/this._timeScale,this.render(Q,Q===this._totalTime,!0))),this._gc&&!Z&&this._enabled(!0,!1),this};var re=E("core.SimpleTimeline",function(Z){De.call(this,0,Z),this.autoRemoveChildren=this.smoothChildTiming=!0});O=re.prototype=new De,O.constructor=re,O.kill()._gc=!1,O._first=O._last=O._recent=null,O._sortChildren=!1,O.add=O.insert=function(Z,le,Q,he){var pe,Ie;if(Z._startTime=Number(le||0)+Z._delay,Z._paused&&this!==Z._timeline&&(Z._pauseTime=this.rawTime()-(Z._timeline.rawTime()-Z._pauseTime)),Z.timeline&&Z.timeline._remove(Z,!0),Z.timeline=Z._timeline=this,Z._gc&&Z._enabled(!0,!0),pe=this._last,this._sortChildren)for(Ie=Z._startTime;pe&&pe._startTime>Ie;)pe=pe._prev;return pe?(Z._next=pe._next,pe._next=Z):(Z._next=this._first,this._first=Z),Z._next?Z._next._prev=Z:this._last=Z,Z._prev=pe,this._recent=Z,this._timeline&&this._uncache(!0),this},O._remove=function(Z,le){return Z.timeline===this&&(le||Z._enabled(!1,!0),Z._prev?Z._prev._next=Z._next:this._first===Z&&(this._first=Z._next),Z._next?Z._next._prev=Z._prev:this._last===Z&&(this._last=Z._prev),Z._next=Z._prev=Z.timeline=null,Z===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},O.render=function(Z,le,Q){var he=this._first,pe;for(this._totalTime=this._time=this._rawPrevTime=Z;he;)pe=he._next,(he._active||Z>=he._startTime&&!he._paused&&!he._gc)&&(he._reversed?he.render((he._dirty?he.totalDuration():he._totalDuration)-(Z-he._startTime)*he._timeScale,le,Q):he.render((Z-he._startTime)*he._timeScale,le,Q)),he=pe},O.rawTime=function(){return N||W.wake(),this._totalTime};var P=E("TweenLite",function(Z,le,Q){if(De.call(this,le,Q),this.render=P.prototype.render,Z==null)throw"Cannot tween a null target.";this.target=Z=typeof Z!="string"?Z:P.selector(Z)||Z;var he=Z.jquery||Z.length&&Z!==t&&Z[0]&&(Z[0]===t||Z[0].nodeType&&Z[0].style&&!Z.nodeType),pe=this.vars.overwrite,Ie,ot,Qe;if(this._overwrite=pe=pe==null?Ze[P.defaultOverwrite]:typeof pe=="number"?pe>>0:Ze[pe],(he||Z instanceof Array||Z.push&&x(Z))&&typeof Z[0]!="number")for(this._targets=Qe=h(Z),this._propLookup=[],this._siblings=[],Ie=0;Ie<Qe.length;Ie++){if(ot=Qe[Ie],ot){if(typeof ot=="string"){ot=Qe[Ie--]=P.selector(ot),typeof ot=="string"&&Qe.splice(Ie+1,1);continue}else if(ot.length&&ot!==t&&ot[0]&&(ot[0]===t||ot[0].nodeType&&ot[0].style&&!ot.nodeType)){Qe.splice(Ie--,1),this._targets=Qe=Qe.concat(h(ot));continue}}else{Qe.splice(Ie--,1);continue}this._siblings[Ie]=St(ot,this,!1),pe===1&&this._siblings[Ie].length>1&&Mt(ot,this,null,1,this._siblings[Ie])}else this._propLookup={},this._siblings=St(Z,this,!1),pe===1&&this._siblings.length>1&&Mt(Z,this,null,1,this._siblings);(this.vars.immediateRender||le===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-f,this.render(Math.min(0,-this._delay)))},!0),se=function(Z){return Z&&Z.length&&Z!==t&&Z[0]&&(Z[0]===t||Z[0].nodeType&&Z[0].style&&!Z.nodeType)},ye=function(Z,le){var Q={},he;for(he in Z)!qe[he]&&(!(he in le)||he==="transform"||he==="x"||he==="y"||he==="width"||he==="height"||he==="className"||he==="border")&&(!X[he]||X[he]&&X[he]._autoCSS)&&(Q[he]=Z[he],delete Z[he]);Z.css=Q};O=P.prototype=new De,O.constructor=P,O.kill()._gc=!1,O.ratio=0,O._firstPT=O._targets=O._overwrittenProps=O._startAt=null,O._notifyPluginsOfEnabled=O._lazy=!1,P.version="1.20.5",P.defaultEase=O._ease=new B(null,null,1,1),P.defaultOverwrite="auto",P.ticker=W,P.autoSleep=120,P.lagSmoothing=function(Z,le){W.lagSmoothing(Z,le)},P.selector=t.$||t.jQuery||function(Z){var le=t.$||t.jQuery;return le?(P.selector=le,le(Z)):(r||(r=t.document),r?r.querySelectorAll?r.querySelectorAll(Z):r.getElementById(Z.charAt(0)==="#"?Z.substr(1):Z):Z)};var Ee=[],it={},Be=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Me=/[\+-]=-?[\.\d]/,te=function(Z){for(var le=this._firstPT,Q=1e-6,he;le;)he=le.blob?Z===1&&this.end!=null?this.end:Z?this.join(""):this.start:le.c*Z+le.s,le.m?he=le.m.call(this._tween,he,this._target||le.t,this._tween):he<Q&&he>-Q&&!le.blob&&(he=0),le.f?le.fp?le.t[le.p](le.fp,he):le.t[le.p](he):le.t[le.p]=he,le=le._next},Y=function(Z,le,Q,he){var pe=[],Ie=0,ot="",Qe=0,mt,Pt,ct,Ht,Yt,Qt,Vt;for(pe.start=Z,pe.end=le,Z=pe[0]=Z+"",le=pe[1]=le+"",Q&&(Q(pe),Z=pe[0],le=pe[1]),pe.length=0,mt=Z.match(Be)||[],Pt=le.match(Be)||[],he&&(he._next=null,he.blob=1,pe._firstPT=pe._applyPT=he),Yt=Pt.length,Ht=0;Ht<Yt;Ht++)Vt=Pt[Ht],Qt=le.substr(Ie,le.indexOf(Vt,Ie)-Ie),ot+=Qt||!Ht?Qt:",",Ie+=Qt.length,Qe?Qe=(Qe+1)%5:Qt.substr(-5)==="rgba("&&(Qe=1),Vt===mt[Ht]||mt.length<=Ht?ot+=Vt:(ot&&(pe.push(ot),ot=""),ct=parseFloat(mt[Ht]),pe.push(ct),pe._firstPT={_next:pe._firstPT,t:pe,p:pe.length-1,s:ct,c:(Vt.charAt(1)==="="?parseInt(Vt.charAt(0)+"1",10)*parseFloat(Vt.substr(2)):parseFloat(Vt)-ct)||0,f:0,m:Qe&&Qe<4?Math.round:0}),Ie+=Vt.length;return ot+=le.substr(Ie),ot&&pe.push(ot),pe.setRatio=te,Me.test(le)&&(pe.end=null),pe},Le=function(Z,le,Q,he,pe,Ie,ot,Qe,mt){typeof he=="function"&&(he=he(mt||0,Z));var Pt=typeof Z[le],ct=Pt!=="function"?"":le.indexOf("set")||typeof Z["get"+le.substr(3)]!="function"?le:"get"+le.substr(3),Ht=Q!=="get"?Q:ct?ot?Z[ct](ot):Z[ct]():Z[le],Yt=typeof he=="string"&&he.charAt(1)==="=",Qt={t:Z,p:le,s:Ht,f:Pt==="function",pg:0,n:pe||le,m:Ie?typeof Ie=="function"?Ie:Math.round:0,pr:0,c:Yt?parseInt(he.charAt(0)+"1",10)*parseFloat(he.substr(2)):parseFloat(he)-Ht||0},Vt;if((typeof Ht!="number"||typeof he!="number"&&!Yt)&&(ot||isNaN(Ht)||!Yt&&isNaN(he)||typeof Ht=="boolean"||typeof he=="boolean"?(Qt.fp=ot,Vt=Y(Ht,Yt?parseFloat(Qt.s)+Qt.c+(Qt.s+"").replace(/[0-9\-\.]/g,""):he,Qe||P.defaultStringFilter,Qt),Qt={t:Vt,p:"setRatio",s:0,c:1,f:2,pg:0,n:pe||le,pr:0,m:0}):(Qt.s=parseFloat(Ht),Yt||(Qt.c=parseFloat(he)-Qt.s||0))),Qt.c)return(Qt._next=this._firstPT)&&(Qt._next._prev=Qt),this._firstPT=Qt,Qt},Re=P._internals={isArray:x,isSelector:se,lazyTweens:Ee,blobDif:Y},X=P._plugins={},we=Re.tweenLookup={},Te=0,qe=Re.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Ze={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Xe=De._rootFramesTimeline=new re,ut=De._rootTimeline=new re,Et=30,wt=Re.lazyRender=function(){var Z=Ee.length,le;for(it={};--Z>-1;)le=Ee[Z],le&&le._lazy!==!1&&(le.render(le._lazy[0],le._lazy[1],!0),le._lazy=!1);Ee.length=0};ut._startTime=W.time,Xe._startTime=W.frame,ut._active=Xe._active=!0,setTimeout(wt,1),De._updateRoot=P.render=function(){var Z,le,Q;if(Ee.length&&wt(),ut.render((W.time-ut._startTime)*ut._timeScale,!1,!1),Xe.render((W.frame-Xe._startTime)*Xe._timeScale,!1,!1),Ee.length&&wt(),W.frame>=Et){Et=W.frame+(parseInt(P.autoSleep,10)||120);for(Q in we){for(le=we[Q].tweens,Z=le.length;--Z>-1;)le[Z]._gc&&le.splice(Z,1);le.length===0&&delete we[Q]}if(Q=ut._first,(!Q||Q._paused)&&P.autoSleep&&!Xe._first&&W._listeners.tick.length===1){for(;Q&&Q._paused;)Q=Q._next;Q||W.sleep()}}},W.addEventListener("tick",De._updateRoot);var St=function(Z,le,Q){var he=Z._gsTweenID,pe,Ie;if(we[he||(Z._gsTweenID=he="t"+Te++)]||(we[he]={target:Z,tweens:[]}),le&&(pe=we[he].tweens,pe[Ie=pe.length]=le,Q))for(;--Ie>-1;)pe[Ie]===le&&pe.splice(Ie,1);return we[he].tweens},_t=function(Z,le,Q,he){var pe=Z.vars.onOverwrite,Ie,ot;return pe&&(Ie=pe(Z,le,Q,he)),pe=P.onOverwrite,pe&&(ot=pe(Z,le,Q,he)),Ie!==!1&&ot!==!1},Mt=function(Z,le,Q,he,pe){var Ie,ot,Qe,mt;if(he===1||he>=4){for(mt=pe.length,Ie=0;Ie<mt;Ie++)if((Qe=pe[Ie])!==le)Qe._gc||Qe._kill(null,Z,le)&&(ot=!0);else if(he===5)break;return ot}var Pt=le._startTime+f,ct=[],Ht=0,Yt=le._duration===0,Qt;for(Ie=pe.length;--Ie>-1;)(Qe=pe[Ie])===le||Qe._gc||Qe._paused||(Qe._timeline!==le._timeline?(Qt=Qt||jt(le,0,Yt),jt(Qe,Qt,Yt)===0&&(ct[Ht++]=Qe)):Qe._startTime<=Pt&&Qe._startTime+Qe.totalDuration()/Qe._timeScale>Pt&&((Yt||!Qe._initted)&&Pt-Qe._startTime<=2e-10||(ct[Ht++]=Qe)));for(Ie=Ht;--Ie>-1;)if(Qe=ct[Ie],he===2&&Qe._kill(Q,Z,le)&&(ot=!0),he!==2||!Qe._firstPT&&Qe._initted){if(he!==2&&!_t(Qe,le))continue;Qe._enabled(!1,!1)&&(ot=!0)}return ot},jt=function(Z,le,Q){for(var he=Z._timeline,pe=he._timeScale,Ie=Z._startTime;he._timeline;){if(Ie+=he._startTime,pe*=he._timeScale,he._paused)return-100;he=he._timeline}return Ie/=pe,Ie>le?Ie-le:Q&&Ie===le||!Z._initted&&Ie-le<2*f?f:(Ie+=Z.totalDuration()/Z._timeScale/pe)>le+f?0:Ie-le-f};O._init=function(){var Z=this.vars,le=this._overwrittenProps,Q=this._duration,he=!!Z.immediateRender,pe=Z.ease,Ie,ot,Qe,mt,Pt,ct;if(Z.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),Pt={};for(mt in Z.startAt)Pt[mt]=Z.startAt[mt];if(Pt.data="isStart",Pt.overwrite=!1,Pt.immediateRender=!0,Pt.lazy=he&&Z.lazy!==!1,Pt.startAt=Pt.delay=null,Pt.onUpdate=Z.onUpdate,Pt.onUpdateParams=Z.onUpdateParams,Pt.onUpdateScope=Z.onUpdateScope||Z.callbackScope||this,this._startAt=P.to(this.target||{},0,Pt),he){if(this._time>0)this._startAt=null;else if(Q!==0)return}}else if(Z.runBackwards&&Q!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{this._time!==0&&(he=!1),Qe={};for(mt in Z)(!qe[mt]||mt==="autoCSS")&&(Qe[mt]=Z[mt]);if(Qe.overwrite=0,Qe.data="isFromStart",Qe.lazy=he&&Z.lazy!==!1,Qe.immediateRender=he,this._startAt=P.to(this.target,0,Qe),!he)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(this._time===0)return}if(this._ease=pe=pe?pe instanceof B?pe:typeof pe=="function"?new B(pe,Z.easeParams):z[pe]||P.defaultEase:P.defaultEase,Z.easeParams instanceof Array&&pe.config&&(this._ease=pe.config.apply(pe,Z.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(ct=this._targets.length,Ie=0;Ie<ct;Ie++)this._initProps(this._targets[Ie],this._propLookup[Ie]={},this._siblings[Ie],le?le[Ie]:null,Ie)&&(ot=!0);else ot=this._initProps(this.target,this._propLookup,this._siblings,le,0);if(ot&&P._onPluginEvent("_onInitAllProps",this),le&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),Z.runBackwards)for(Qe=this._firstPT;Qe;)Qe.s+=Qe.c,Qe.c=-Qe.c,Qe=Qe._next;this._onUpdate=Z.onUpdate,this._initted=!0},O._initProps=function(Z,le,Q,he,pe){var Ie,ot,Qe,mt,Pt,ct;if(Z==null)return!1;it[Z._gsTweenID]&&wt(),this.vars.css||Z.style&&Z!==t&&Z.nodeType&&X.css&&this.vars.autoCSS!==!1&&ye(this.vars,Z);for(Ie in this.vars)if(ct=this.vars[Ie],qe[Ie])ct&&(ct instanceof Array||ct.push&&x(ct))&&ct.join("").indexOf("{self}")!==-1&&(this.vars[Ie]=ct=this._swapSelfInParams(ct,this));else if(X[Ie]&&(mt=new X[Ie])._onInitTween(Z,this.vars[Ie],this,pe)){for(this._firstPT=Pt={_next:this._firstPT,t:mt,p:"setRatio",s:0,c:1,f:1,n:Ie,pg:1,pr:mt._priority,m:0},ot=mt._overwriteProps.length;--ot>-1;)le[mt._overwriteProps[ot]]=this._firstPT;(mt._priority||mt._onInitAllProps)&&(Qe=!0),(mt._onDisable||mt._onEnable)&&(this._notifyPluginsOfEnabled=!0),Pt._next&&(Pt._next._prev=Pt)}else le[Ie]=Le.call(this,Z,Ie,"get",ct,Ie,0,null,this.vars.stringFilter,pe);return he&&this._kill(he,Z)?this._initProps(Z,le,Q,he,pe):this._overwrite>1&&this._firstPT&&Q.length>1&&Mt(Z,this,le,this._overwrite,Q)?(this._kill(le,Z),this._initProps(Z,le,Q,he,pe)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(it[Z._gsTweenID]=!0),Qe)},O.render=function(Z,le,Q){var he=this._time,pe=this._duration,Ie=this._rawPrevTime,ot,Qe,mt,Pt;if(Z>=pe-1e-7&&Z>=0)this._totalTime=this._time=pe,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(ot=!0,Qe="onComplete",Q=Q||this._timeline.autoRemoveChildren),pe===0&&(this._initted||!this.vars.lazy||Q)&&(this._startTime===this._timeline._duration&&(Z=0),(Ie<0||Z<=0&&Z>=-1e-7||Ie===f&&this.data!=="isPause")&&Ie!==Z&&(Q=!0,Ie>f&&(Qe="onReverseComplete")),this._rawPrevTime=Pt=!le||Z||Ie===Z?Z:f);else if(Z<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(he!==0||pe===0&&Ie>0)&&(Qe="onReverseComplete",ot=this._reversed),Z<0&&(this._active=!1,pe===0&&(this._initted||!this.vars.lazy||Q)&&(Ie>=0&&!(Ie===f&&this.data==="isPause")&&(Q=!0),this._rawPrevTime=Pt=!le||Z||Ie===Z?Z:f)),(!this._initted||this._startAt&&this._startAt.progress())&&(Q=!0);else if(this._totalTime=this._time=Z,this._easeType){var ct=Z/pe,Ht=this._easeType,Yt=this._easePower;(Ht===1||Ht===3&&ct>=.5)&&(ct=1-ct),Ht===3&&(ct*=2),Yt===1?ct*=ct:Yt===2?ct*=ct*ct:Yt===3?ct*=ct*ct*ct:Yt===4&&(ct*=ct*ct*ct*ct),Ht===1?this.ratio=1-ct:Ht===2?this.ratio=ct:Z/pe<.5?this.ratio=ct/2:this.ratio=1-ct/2}else this.ratio=this._ease.getRatio(Z/pe);if(!(this._time===he&&!Q)){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!Q&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=he,this._rawPrevTime=Ie,Ee.push(this),this._lazy=[Z,le];return}this._time&&!ot?this.ratio=this._ease.getRatio(this._time/pe):ot&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==he&&Z>=0&&(this._active=!0),he===0&&(this._startAt&&(Z>=0?this._startAt.render(Z,!0,Q):Qe||(Qe="_dummyGS")),this.vars.onStart&&(this._time!==0||pe===0)&&(le||this._callback("onStart"))),mt=this._firstPT;mt;)mt.f?mt.t[mt.p](mt.c*this.ratio+mt.s):mt.t[mt.p]=mt.c*this.ratio+mt.s,mt=mt._next;this._onUpdate&&(Z<0&&this._startAt&&Z!==-1e-4&&this._startAt.render(Z,!0,Q),le||(this._time!==he||ot||Q)&&this._callback("onUpdate")),Qe&&(!this._gc||Q)&&(Z<0&&this._startAt&&!this._onUpdate&&Z!==-1e-4&&this._startAt.render(Z,!0,Q),ot&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!le&&this.vars[Qe]&&this._callback(Qe),pe===0&&this._rawPrevTime===f&&Pt!==f&&(this._rawPrevTime=0))}},O._kill=function(Z,le,Q){if(Z==="all"&&(Z=null),Z==null&&(le==null||le===this.target))return this._lazy=!1,this._enabled(!1,!1);le=typeof le!="string"?le||this._targets||this.target:P.selector(le)||le;var he=Q&&this._time&&Q._startTime===this._startTime&&this._timeline===Q._timeline,pe,Ie,ot,Qe,mt,Pt,ct,Ht,Yt;if((x(le)||se(le))&&typeof le[0]!="number")for(pe=le.length;--pe>-1;)this._kill(Z,le[pe],Q)&&(Pt=!0);else{if(this._targets){for(pe=this._targets.length;--pe>-1;)if(le===this._targets[pe]){mt=this._propLookup[pe]||{},this._overwrittenProps=this._overwrittenProps||[],Ie=this._overwrittenProps[pe]=Z?this._overwrittenProps[pe]||{}:"all";break}}else{if(le!==this.target)return!1;mt=this._propLookup,Ie=this._overwrittenProps=Z?this._overwrittenProps||{}:"all"}if(mt){if(ct=Z||mt,Ht=Z!==Ie&&Ie!=="all"&&Z!==mt&&(typeof Z!="object"||!Z._tempKill),Q&&(P.onOverwrite||this.vars.onOverwrite)){for(ot in ct)mt[ot]&&(Yt||(Yt=[]),Yt.push(ot));if((Yt||!Z)&&!_t(this,Q,le,Yt))return!1}for(ot in ct)(Qe=mt[ot])&&(he&&(Qe.f?Qe.t[Qe.p](Qe.s):Qe.t[Qe.p]=Qe.s,Pt=!0),Qe.pg&&Qe.t._kill(ct)&&(Pt=!0),(!Qe.pg||Qe.t._overwriteProps.length===0)&&(Qe._prev?Qe._prev._next=Qe._next:Qe===this._firstPT&&(this._firstPT=Qe._next),Qe._next&&(Qe._next._prev=Qe._prev),Qe._next=Qe._prev=null),delete mt[ot]),Ht&&(Ie[ot]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return Pt},O.invalidate=function(){return this._notifyPluginsOfEnabled&&P._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],De.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-f,this.render(Math.min(0,-this._delay))),this},O._enabled=function(Z,le){if(N||W.wake(),Z&&this._gc){var Q=this._targets,he;if(Q)for(he=Q.length;--he>-1;)this._siblings[he]=St(Q[he],this,!0);else this._siblings=St(this.target,this,!0)}return De.prototype._enabled.call(this,Z,le),this._notifyPluginsOfEnabled&&this._firstPT?P._onPluginEvent(Z?"_onEnable":"_onDisable",this):!1},P.to=function(Z,le,Q){return new P(Z,le,Q)},P.from=function(Z,le,Q){return Q.runBackwards=!0,Q.immediateRender=Q.immediateRender!=!1,new P(Z,le,Q)},P.fromTo=function(Z,le,Q,he){return he.startAt=Q,he.immediateRender=he.immediateRender!=!1&&Q.immediateRender!=!1,new P(Z,le,he)},P.delayedCall=function(Z,le,Q,he,pe){return new P(le,0,{delay:Z,onComplete:le,onCompleteParams:Q,callbackScope:he,onReverseComplete:le,onReverseCompleteParams:Q,immediateRender:!1,lazy:!1,useFrames:pe,overwrite:0})},P.set=function(Z,le){return new P(Z,0,le)},P.getTweensOf=function(Z,le){if(Z==null)return[];Z=typeof Z!="string"?Z:P.selector(Z)||Z;var Q,he,pe,Ie;if((x(Z)||se(Z))&&typeof Z[0]!="number"){for(Q=Z.length,he=[];--Q>-1;)he=he.concat(P.getTweensOf(Z[Q],le));for(Q=he.length;--Q>-1;)for(Ie=he[Q],pe=Q;--pe>-1;)Ie===he[pe]&&he.splice(Q,1)}else if(Z._gsTweenID)for(he=St(Z).concat(),Q=he.length;--Q>-1;)(he[Q]._gc||le&&!he[Q].isActive())&&he.splice(Q,1);return he||[]},P.killTweensOf=P.killDelayedCallsTo=function(Z,le,Q){typeof le=="object"&&(Q=le,le=!1);for(var he=P.getTweensOf(Z,le),pe=he.length;--pe>-1;)he[pe]._kill(Q,Z)};var Kt=E("plugins.TweenPlugin",function(Z,le){this._overwriteProps=(Z||"").split(","),this._propName=this._overwriteProps[0],this._priority=le||0,this._super=Kt.prototype},!0);if(O=Kt.prototype,Kt.version="1.19.0",Kt.API=2,O._firstPT=null,O._addTween=Le,O.setRatio=te,O._kill=function(Z){var le=this._overwriteProps,Q=this._firstPT,he;if(Z[this._propName]!=null)this._overwriteProps=[];else for(he=le.length;--he>-1;)Z[le[he]]!=null&&le.splice(he,1);for(;Q;)Z[Q.n]!=null&&(Q._next&&(Q._next._prev=Q._prev),Q._prev?(Q._prev._next=Q._next,Q._prev=null):this._firstPT===Q&&(this._firstPT=Q._next)),Q=Q._next;return!1},O._mod=O._roundProps=function(Z){for(var le=this._firstPT,Q;le;)Q=Z[this._propName]||le.n!=null&&Z[le.n.split(this._propName+"_").join("")],Q&&typeof Q=="function"&&(le.f===2?le.t._applyPT.m=Q:le.m=Q),le=le._next},P._onPluginEvent=function(Z,le){var Q=le._firstPT,he,pe,Ie,ot,Qe;if(Z==="_onInitAllProps"){for(;Q;){for(Qe=Q._next,pe=Ie;pe&&pe.pr>Q.pr;)pe=pe._next;(Q._prev=pe?pe._prev:ot)?Q._prev._next=Q:Ie=Q,(Q._next=pe)?pe._prev=Q:ot=Q,Q=Qe}Q=le._firstPT=Ie}for(;Q;)Q.pg&&typeof Q.t[Z]=="function"&&Q.t[Z]()&&(he=!0),Q=Q._next;return he},Kt.activate=function(Z){for(var le=Z.length;--le>-1;)Z[le].API===Kt.API&&(X[new Z[le]()._propName]=Z[le]);return!0},M.plugin=function(Z){if(!Z||!Z.propName||!Z.init||!Z.API)throw"illegal plugin definition.";var le=Z.propName,Q=Z.priority||0,he=Z.overwriteProps,pe={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},Ie=E("plugins."+le.charAt(0).toUpperCase()+le.substr(1)+"Plugin",function(){Kt.call(this,le,Q),this._overwriteProps=he||[]},Z.global===!0),ot=Ie.prototype=new Kt(le),Qe;ot.constructor=Ie,Ie.API=Z.API;for(Qe in pe)typeof Z[Qe]=="function"&&(ot[pe[Qe]]=Z[Qe]);return Ie.version=Z.version,Kt.activate([Ie]),Ie},w=t._gsQueue,w){for(S=0;S<w.length;S++)w[S]();for(O in j)j[O].func||t.console.log("GSAP encountered missing dependency: "+O)}return N=!1,P}(Kr),Lp=Kr.com.greensock;Lp.core.SimpleTimeline;Lp.core.Animation;const{Ease:rs,Linear:o3,Power0:a3,Power1:s3,Power2:u3,Power3:l3,Power4:c3,TweenPlugin:f3}=Kr;Lp.events.EventDispatcher;/*!
 * VERSION: 1.16.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/Kr._gsDefine("easing.Back",["easing.Ease"],function(){var t=Kr.GreenSockGlobals||Kr,e=t.com.greensock,r=Math.PI*2,s=Math.PI/2,u=e._class,l=function(M,E){var D=u("easing."+M,function(){},!0),B=D.prototype=new rs;return B.constructor=D,B.getRatio=E,D},f=rs.register||function(){},h=function(M,E,D,B,z){var V=u("easing."+M,{easeOut:new E,easeIn:new D,easeInOut:new B},!0);return f(V,M),V},b=function(M,E,D){this.t=M,this.v=E,D&&(this.next=D,D.prev=this,this.c=D.v-E,this.gap=D.t-M)},x=function(M,E){var D=u("easing."+M,function(z){this._p1=z||z===0?z:1.70158,this._p2=this._p1*1.525},!0),B=D.prototype=new rs;return B.constructor=D,B.getRatio=E,B.config=function(z){return new D(z)},D},w=h("Back",x("BackOut",function(M){return(M=M-1)*M*((this._p1+1)*M+this._p1)+1}),x("BackIn",function(M){return M*M*((this._p1+1)*M-this._p1)}),x("BackInOut",function(M){return(M*=2)<1?.5*M*M*((this._p2+1)*M-this._p2):.5*((M-=2)*M*((this._p2+1)*M+this._p2)+2)})),S=u("easing.SlowMo",function(M,E,D){E=E||E===0?E:.7,M==null?M=.7:M>1&&(M=1),this._p=M!==1?E:0,this._p1=(1-M)/2,this._p2=M,this._p3=this._p1+this._p2,this._calcEnd=D===!0},!0),O=S.prototype=new rs,W,N,j,q;return O.constructor=S,O.getRatio=function(M){var E=M+(.5-M)*this._p;return M<this._p1?this._calcEnd?1-(M=1-M/this._p1)*M:E-(M=1-M/this._p1)*M*M*M*E:M>this._p3?this._calcEnd?M===1?0:1-(M=(M-this._p3)/this._p1)*M:E+(M-E)*(M=(M-this._p3)/this._p1)*M*M*M:this._calcEnd?1:E},S.ease=new S(.7,.7),O.config=S.config=function(M,E,D){return new S(M,E,D)},W=u("easing.SteppedEase",function(M,E){M=M||1,this._p1=1/M,this._p2=M+(E?0:1),this._p3=E?1:0},!0),O=W.prototype=new rs,O.constructor=W,O.getRatio=function(M){return M<0?M=0:M>=1&&(M=.999999999),((this._p2*M|0)+this._p3)*this._p1},O.config=W.config=function(M,E){return new W(M,E)},N=u("easing.ExpoScaleEase",function(M,E,D){this._p1=Math.log(E/M),this._p2=E-M,this._p3=M,this._ease=D},!0),O=N.prototype=new rs,O.constructor=N,O.getRatio=function(M){return this._ease&&(M=this._ease.getRatio(M)),(this._p3*Math.exp(this._p1*M)-this._p3)/this._p2},O.config=N.config=function(M,E,D){return new N(M,E,D)},j=u("easing.RoughEase",function(M){M=M||{};for(var E=M.taper||"none",D=[],B=0,z=(M.points||20)|0,V=z,ne=M.randomize!==!1,ue=M.clamp===!0,de=M.template instanceof rs?M.template:null,ge=typeof M.strength=="number"?M.strength*.4:.4,fe,De,ve,re,P,se;--V>-1;)fe=ne?Math.random():1/z*V,De=de?de.getRatio(fe):fe,E==="none"?ve=ge:E==="out"?(re=1-fe,ve=re*re*ge):E==="in"?ve=fe*fe*ge:fe<.5?(re=fe*2,ve=re*re*.5*ge):(re=(1-fe)*2,ve=re*re*.5*ge),ne?De+=Math.random()*ve-ve*.5:V%2?De+=ve*.5:De-=ve*.5,ue&&(De>1?De=1:De<0&&(De=0)),D[B++]={x:fe,y:De};for(D.sort(function(ye,Ee){return ye.x-Ee.x}),se=new b(1,1,null),V=z;--V>-1;)P=D[V],se=new b(P.x,P.y,se);this._prev=new b(0,0,se.t!==0?se:se.next)},!0),O=j.prototype=new rs,O.constructor=j,O.getRatio=function(M){var E=this._prev;if(M>E.t){for(;E.next&&M>=E.t;)E=E.next;E=E.prev}else for(;E.prev&&M<=E.t;)E=E.prev;return this._prev=E,E.v+(M-E.t)/E.gap*E.c},O.config=function(M){return new j(M)},j.ease=new j,h("Bounce",l("BounceOut",function(M){return M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375}),l("BounceIn",function(M){return(M=1-M)<1/2.75?1-7.5625*M*M:M<2/2.75?1-(7.5625*(M-=1.5/2.75)*M+.75):M<2.5/2.75?1-(7.5625*(M-=2.25/2.75)*M+.9375):1-(7.5625*(M-=2.625/2.75)*M+.984375)}),l("BounceInOut",function(M){var E=M<.5;return E?M=1-M*2:M=M*2-1,M<1/2.75?M=7.5625*M*M:M<2/2.75?M=7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?M=7.5625*(M-=2.25/2.75)*M+.9375:M=7.5625*(M-=2.625/2.75)*M+.984375,E?(1-M)*.5:M*.5+.5})),h("Circ",l("CircOut",function(M){return Math.sqrt(1-(M=M-1)*M)}),l("CircIn",function(M){return-(Math.sqrt(1-M*M)-1)}),l("CircInOut",function(M){return(M*=2)<1?-.5*(Math.sqrt(1-M*M)-1):.5*(Math.sqrt(1-(M-=2)*M)+1)})),q=function(M,E,D){var B=u("easing."+M,function(V,ne){this._p1=V>=1?V:1,this._p2=(ne||D)/(V<1?V:1),this._p3=this._p2/r*(Math.asin(1/this._p1)||0),this._p2=r/this._p2},!0),z=B.prototype=new rs;return z.constructor=B,z.getRatio=E,z.config=function(V,ne){return new B(V,ne)},B},h("Elastic",q("ElasticOut",function(M){return this._p1*Math.pow(2,-10*M)*Math.sin((M-this._p3)*this._p2)+1},.3),q("ElasticIn",function(M){return-(this._p1*Math.pow(2,10*(M-=1))*Math.sin((M-this._p3)*this._p2))},.3),q("ElasticInOut",function(M){return(M*=2)<1?-.5*(this._p1*Math.pow(2,10*(M-=1))*Math.sin((M-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(M-=1))*Math.sin((M-this._p3)*this._p2)*.5+1},.45)),h("Expo",l("ExpoOut",function(M){return 1-Math.pow(2,-10*M)}),l("ExpoIn",function(M){return Math.pow(2,10*(M-1))-.001}),l("ExpoInOut",function(M){return(M*=2)<1?.5*Math.pow(2,10*(M-1)):.5*(2-Math.pow(2,-10*(M-1)))})),h("Sine",l("SineOut",function(M){return Math.sin(M*s)}),l("SineIn",function(M){return-Math.cos(M*s)+1}),l("SineInOut",function(M){return-.5*(Math.cos(Math.PI*M)-1)})),u("easing.EaseLookup",{find:function(M){return rs.map[M]}},!0),f(t.SlowMo,"SlowMo","ease,"),f(j,"RoughEase","ease,"),f(W,"SteppedEase","ease,"),w},!0);Kr.Back;Kr.Elastic;Kr.Bounce;Kr.RoughEase;Kr.SlowMo;Kr.SteppedEase;Kr.Circ;const Bh=Kr.Expo;Kr.Sine;Kr.ExpoScaleEase;var Yd={exports:{}},dg;function qw(){return dg||(dg=1,function(t){var e=function(){function j(q,M){for(var E=0;E<M.length;E++){var D=M[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(q,D.key,D)}}return function(q,M,E){return M&&j(q.prototype,M),E&&j(q,E),q}}();function r(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function s(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}function u(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}var l=function(){function j(){u(this,j)}return e(j,[{key:"on",value:function(M,E){return this._callbacks=this._callbacks||{},this._callbacks[M]||(this._callbacks[M]=[]),this._callbacks[M].push(E),this}},{key:"emit",value:function(M){this._callbacks=this._callbacks||{};var E=this._callbacks[M];if(E){for(var D=arguments.length,B=Array(D>1?D-1:0),z=1;z<D;z++)B[z-1]=arguments[z];for(var ue=E,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;ge.apply(this,B)}}return this}},{key:"off",value:function(M,E){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var D=this._callbacks[M];if(!D)return this;if(arguments.length===1)return delete this._callbacks[M],this;for(var B=0;B<D.length;B++){var z=D[B];if(z===E){D.splice(B,1);break}}return this}}]),j}(),f=function(j){s(q,j),e(q,null,[{key:"initClass",value:function(){this.prototype.Emitter=l,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(D,B,z){if(z)return{dzuuid:z.file.upload.uuid,dzchunkindex:z.index,dztotalfilesize:z.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:z.file.upload.totalChunkCount,dzchunkbyteoffset:z.index*this.options.chunkSize}},accept:function(D,B){return B()},chunksUploaded:function(D,B){B()},fallback:function(){var D=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var V=this.element.getElementsByTagName("div"),B=!0,z=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(z>=V.length)break;ne=V[z++]}else{if(z=V.next(),z.done)break;ne=z.value}var ue=ne;if(/(^| )dz-message($| )/.test(ue.className)){D=ue,ue.className="dz-message";break}}D||(D=q.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(D));var de=D.getElementsByTagName("span")[0];return de&&(de.textContent!=null?de.textContent=this.options.dictFallbackMessage:de.innerText!=null&&(de.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(D,B,z,V){var ne={srcX:0,srcY:0,srcWidth:D.width,srcHeight:D.height},ue=D.width/D.height;B==null&&z==null?(B=ne.srcWidth,z=ne.srcHeight):B==null?B=z*ue:z==null&&(z=B/ue),B=Math.min(B,ne.srcWidth),z=Math.min(z,ne.srcHeight);var de=B/z;if(ne.srcWidth>B||ne.srcHeight>z)if(V==="crop")ue>de?(ne.srcHeight=D.height,ne.srcWidth=ne.srcHeight*de):(ne.srcWidth=D.width,ne.srcHeight=ne.srcWidth/de);else if(V==="contain")ue>de?z=B/ue:B=z*ue;else throw new Error("Unknown resizeMethod '"+V+"'");return ne.srcX=(D.width-ne.srcWidth)/2,ne.srcY=(D.height-ne.srcHeight)/2,ne.trgWidth=B,ne.trgHeight=z,ne},transformFile:function(D,B){return(this.options.resizeWidth||this.options.resizeHeight)&&D.type.match(/image.*/)?this.resizeImage(D,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,B):B(D)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(D){return this.element.classList.remove("dz-drag-hover")},dragstart:function(D){},dragend:function(D){return this.element.classList.remove("dz-drag-hover")},dragenter:function(D){return this.element.classList.add("dz-drag-hover")},dragover:function(D){return this.element.classList.add("dz-drag-hover")},dragleave:function(D){return this.element.classList.remove("dz-drag-hover")},paste:function(D){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(D){var B=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){D.previewElement=q.createElement(this.options.previewTemplate.trim()),D.previewTemplate=D.previewElement,this.previewsContainer.appendChild(D.previewElement);for(var ne=D.previewElement.querySelectorAll("[data-dz-name]"),z=!0,V=0,ne=z?ne:ne[Symbol.iterator]();;){var ue;if(z){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.textContent=D.name}for(var De=D.previewElement.querySelectorAll("[data-dz-size]"),ge=!0,fe=0,De=ge?De:De[Symbol.iterator]();;){if(ge){if(fe>=De.length)break;de=De[fe++]}else{if(fe=De.next(),fe.done)break;de=fe.value}de.innerHTML=this.filesize(D.size)}this.options.addRemoveLinks&&(D._removeLink=q.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),D.previewElement.appendChild(D._removeLink));for(var ve=function(Be){return Be.preventDefault(),Be.stopPropagation(),D.status===q.UPLOADING?q.confirm(B.options.dictCancelUploadConfirmation,function(){return B.removeFile(D)}):B.options.dictRemoveFileConfirmation?q.confirm(B.options.dictRemoveFileConfirmation,function(){return B.removeFile(D)}):B.removeFile(D)},se=D.previewElement.querySelectorAll("[data-dz-remove]"),re=!0,P=0,se=re?se:se[Symbol.iterator]();;){var ye;if(re){if(P>=se.length)break;ye=se[P++]}else{if(P=se.next(),P.done)break;ye=P.value}var Ee=ye;Ee.addEventListener("click",ve)}}},removedfile:function(D){return D.previewElement!=null&&D.previewElement.parentNode!=null&&D.previewElement.parentNode.removeChild(D.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(D,B){if(D.previewElement){D.previewElement.classList.remove("dz-file-preview");for(var ne=D.previewElement.querySelectorAll("[data-dz-thumbnail]"),z=!0,V=0,ne=z?ne:ne[Symbol.iterator]();;){var ue;if(z){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.alt=D.name,de.src=B}return setTimeout(function(){return D.previewElement.classList.add("dz-image-preview")},1)}},error:function(D,B){if(D.previewElement){D.previewElement.classList.add("dz-error"),typeof B!="String"&&B.error&&(B=B.error);for(var ne=D.previewElement.querySelectorAll("[data-dz-errormessage]"),z=!0,V=0,ne=z?ne:ne[Symbol.iterator]();;){var ue;if(z){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.textContent=B}}},errormultiple:function(){},processing:function(D){if(D.previewElement&&(D.previewElement.classList.add("dz-processing"),D._removeLink))return D._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(D,B,z){if(D.previewElement)for(var ue=D.previewElement.querySelectorAll("[data-dz-uploadprogress]"),V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;ge.nodeName==="PROGRESS"?ge.value=B:ge.style.width=B+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(D){if(D.previewElement)return D.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(D){return this.emit("error",D,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(D){if(D._removeLink&&(D._removeLink.innerHTML=this.options.dictRemoveFile),D.previewElement)return D.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(E){for(var D=arguments.length,B=Array(D>1?D-1:0),z=1;z<D;z++)B[z-1]=arguments[z];for(var ue=B,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;for(var fe in ge){var De=ge[fe];E[fe]=De}}return E}}]);function q(M,E){u(this,q);var D=r(this,(q.__proto__||Object.getPrototypeOf(q)).call(this)),B=void 0,z=void 0;if(D.element=M,D.version=q.version,D.defaultOptions.previewTemplate=D.defaultOptions.previewTemplate.replace(/\n*/g,""),D.clickableElements=[],D.listeners=[],D.files=[],typeof D.element=="string"&&(D.element=document.querySelector(D.element)),!D.element||D.element.nodeType==null)throw new Error("Invalid dropzone element.");if(D.element.dropzone)throw new Error("Dropzone already attached.");q.instances.push(D),D.element.dropzone=D;var V=(z=q.optionsForElement(D.element))!=null?z:{};if(D.options=q.extend({},D.defaultOptions,V,E??{}),D.options.forceFallback||!q.isBrowserSupported()){var ne;return ne=D.options.fallback.call(D),r(D,ne)}if(D.options.url==null&&(D.options.url=D.element.getAttribute("action")),!D.options.url)throw new Error("No URL provided.");if(D.options.acceptedFiles&&D.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(D.options.uploadMultiple&&D.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return D.options.acceptedMimeTypes&&(D.options.acceptedFiles=D.options.acceptedMimeTypes,delete D.options.acceptedMimeTypes),D.options.renameFilename!=null&&(D.options.renameFile=function(ue){return D.options.renameFilename.call(D,ue.name,ue)}),D.options.method=D.options.method.toUpperCase(),(B=D.getExistingFallback())&&B.parentNode&&B.parentNode.removeChild(B),D.options.previewsContainer!==!1&&(D.options.previewsContainer?D.previewsContainer=q.getElement(D.options.previewsContainer,"previewsContainer"):D.previewsContainer=D.element),D.options.clickable&&(D.options.clickable===!0?D.clickableElements=[D.element]:D.clickableElements=q.getElements(D.options.clickable,"clickable")),D.init(),D}return e(q,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(E){return E.accepted}).map(function(E){return E})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(E){return!E.accepted}).map(function(E){return E})}},{key:"getFilesWithStatus",value:function(E){return this.files.filter(function(D){return D.status===E}).map(function(D){return D})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(q.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(q.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(q.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(E){return E.status===q.UPLOADING||E.status===q.QUEUED}).map(function(E){return E})}},{key:"init",value:function(){var E=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(q.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var D=function ge(){return E.hiddenFileInput&&E.hiddenFileInput.parentNode.removeChild(E.hiddenFileInput),E.hiddenFileInput=document.createElement("input"),E.hiddenFileInput.setAttribute("type","file"),(E.options.maxFiles===null||E.options.maxFiles>1)&&E.hiddenFileInput.setAttribute("multiple","multiple"),E.hiddenFileInput.className="dz-hidden-input",E.options.acceptedFiles!==null&&E.hiddenFileInput.setAttribute("accept",E.options.acceptedFiles),E.options.capture!==null&&E.hiddenFileInput.setAttribute("capture",E.options.capture),E.hiddenFileInput.style.visibility="hidden",E.hiddenFileInput.style.position="absolute",E.hiddenFileInput.style.top="0",E.hiddenFileInput.style.left="0",E.hiddenFileInput.style.height="0",E.hiddenFileInput.style.width="0",q.getElement(E.options.hiddenInputContainer,"hiddenInputContainer").appendChild(E.hiddenFileInput),E.hiddenFileInput.addEventListener("change",function(){var fe=E.hiddenFileInput.files;if(fe.length)for(var re=fe,De=!0,ve=0,re=De?re:re[Symbol.iterator]();;){var P;if(De){if(ve>=re.length)break;P=re[ve++]}else{if(ve=re.next(),ve.done)break;P=ve.value}var se=P;E.addFile(se)}return E.emit("addedfiles",fe),ge()})};D()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var V=this.events,B=!0,z=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(z>=V.length)break;ne=V[z++]}else{if(z=V.next(),z.done)break;ne=z.value}var ue=ne;this.on(ue,this.options[ue])}this.on("uploadprogress",function(){return E.updateTotalUploadProgress()}),this.on("removedfile",function(){return E.updateTotalUploadProgress()}),this.on("canceled",function(ge){return E.emit("complete",ge)}),this.on("complete",function(ge){if(E.getAddedFiles().length===0&&E.getUploadingFiles().length===0&&E.getQueuedFiles().length===0)return setTimeout(function(){return E.emit("queuecomplete")},0)});var de=function(fe){return fe.stopPropagation(),fe.preventDefault?fe.preventDefault():fe.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(fe){return E.emit("dragstart",fe)},dragenter:function(fe){return de(fe),E.emit("dragenter",fe)},dragover:function(fe){var De=void 0;try{De=fe.dataTransfer.effectAllowed}catch{}return fe.dataTransfer.dropEffect=De==="move"||De==="linkMove"?"move":"copy",de(fe),E.emit("dragover",fe)},dragleave:function(fe){return E.emit("dragleave",fe)},drop:function(fe){return de(fe),E.drop(fe)},dragend:function(fe){return E.emit("dragend",fe)}}}],this.clickableElements.forEach(function(ge){return E.listeners.push({element:ge,events:{click:function(De){return(ge!==E.element||De.target===E.element||q.elementInside(De.target,E.element.querySelector(".dz-message")))&&E.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,q.instances.splice(q.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var E=void 0,D=0,B=0,z=this.getActiveFiles();if(z.length){for(var ue=this.getActiveFiles(),V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;D+=ge.upload.bytesSent,B+=ge.upload.total}E=100*D/B}else E=100;return this.emit("totaluploadprogress",E,B,D)}},{key:"_getParamName",value:function(E){return typeof this.options.paramName=="function"?this.options.paramName(E):""+this.options.paramName+(this.options.uploadMultiple?"["+E+"]":"")}},{key:"_renameFile",value:function(E){return typeof this.options.renameFile!="function"?E.name:this.options.renameFile(E)}},{key:"getFallbackForm",value:function(){var E=void 0,D=void 0;if(E=this.getExistingFallback())return E;var B='<div class="dz-fallback">';this.options.dictFallbackText&&(B+="<p>"+this.options.dictFallbackText+"</p>"),B+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var z=q.createElement(B);return this.element.tagName!=="FORM"?(D=q.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),D.appendChild(z)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),D??z}},{key:"getExistingFallback",value:function(){for(var E=function(ue){for(var fe=ue,de=!0,ge=0,fe=de?fe:fe[Symbol.iterator]();;){var De;if(de){if(ge>=fe.length)break;De=fe[ge++]}else{if(ge=fe.next(),ge.done)break;De=ge.value}var ve=De;if(/(^| )fallback($| )/.test(ve.className))return ve}},D=["div","form"],B=0;B<D.length;B++){var z=D[B],V;if(V=E(this.element.getElementsByTagName(z)))return V}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(E){return function(){var D=[];for(var B in E.events){var z=E.events[B];D.push(E.element.addEventListener(B,z,!1))}return D}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(E){return function(){var D=[];for(var B in E.events){var z=E.events[B];D.push(E.element.removeEventListener(B,z,!1))}return D}()})}},{key:"disable",value:function(){var E=this;return this.clickableElements.forEach(function(D){return D.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(D){return E.cancelUpload(D)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(E){return E.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(E){var D=0,B="b";if(E>0){for(var z=["tb","gb","mb","kb","b"],V=0;V<z.length;V++){var ne=z[V],ue=Math.pow(this.options.filesizeBase,4-V)/10;if(E>=ue){D=E/Math.pow(this.options.filesizeBase,4-V),B=ne;break}}D=Math.round(10*D)/10}return"<strong>"+D+"</strong> "+this.options.dictFileSizeUnits[B]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(E){if(E.dataTransfer){this.emit("drop",E);for(var D=[],B=0;B<E.dataTransfer.files.length;B++)D[B]=E.dataTransfer.files[B];if(this.emit("addedfiles",D),D.length){var z=E.dataTransfer.items;z&&z.length&&z[0].webkitGetAsEntry!=null?this._addFilesFromItems(z):this.handleFiles(D)}}}},{key:"paste",value:function(E){if(W(E!=null?E.clipboardData:void 0,function(B){return B.items})!=null){this.emit("paste",E);var D=E.clipboardData.items;if(D.length)return this._addFilesFromItems(D)}}},{key:"handleFiles",value:function(E){for(var z=E,D=!0,B=0,z=D?z:z[Symbol.iterator]();;){var V;if(D){if(B>=z.length)break;V=z[B++]}else{if(B=z.next(),B.done)break;V=B.value}var ne=V;this.addFile(ne)}}},{key:"_addFilesFromItems",value:function(E){var D=this;return function(){for(var B=[],ne=E,z=!0,V=0,ne=z?ne:ne[Symbol.iterator]();;){var ue;if(z){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue,ge;de.webkitGetAsEntry!=null&&(ge=de.webkitGetAsEntry())?ge.isFile?B.push(D.addFile(de.getAsFile())):ge.isDirectory?B.push(D._addFilesFromDirectory(ge,ge.name)):B.push(void 0):de.getAsFile!=null&&(de.kind==null||de.kind==="file")?B.push(D.addFile(de.getAsFile())):B.push(void 0)}return B}()}},{key:"_addFilesFromDirectory",value:function(E,D){var B=this,z=E.createReader(),V=function(de){return N(console,"log",function(ge){return ge.log(de)})},ne=function ue(){return z.readEntries(function(de){if(de.length>0){for(var De=de,ge=!0,fe=0,De=ge?De:De[Symbol.iterator]();;){var ve;if(ge){if(fe>=De.length)break;ve=De[fe++]}else{if(fe=De.next(),fe.done)break;ve=fe.value}var re=ve;re.isFile?re.file(function(P){if(!(B.options.ignoreHiddenFiles&&P.name.substring(0,1)==="."))return P.fullPath=D+"/"+P.name,B.addFile(P)}):re.isDirectory&&B._addFilesFromDirectory(re,D+"/"+re.name)}ue()}return null},V)};return ne()}},{key:"accept",value:function(E,D){return this.options.maxFilesize&&E.size>this.options.maxFilesize*1024*1024?D(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(E.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):q.isValidFile(E,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(D(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",E)):this.options.accept.call(this,E,D):D(this.options.dictInvalidFileType)}},{key:"addFile",value:function(E){var D=this;return E.upload={uuid:q.uuidv4(),progress:0,total:E.size,bytesSent:0,filename:this._renameFile(E),chunked:this.options.chunking&&(this.options.forceChunking||E.size>this.options.chunkSize),totalChunkCount:Math.ceil(E.size/this.options.chunkSize)},this.files.push(E),E.status=q.ADDED,this.emit("addedfile",E),this._enqueueThumbnail(E),this.accept(E,function(B){return B?(E.accepted=!1,D._errorProcessing([E],B)):(E.accepted=!0,D.options.autoQueue&&D.enqueueFile(E)),D._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(E){for(var z=E,D=!0,B=0,z=D?z:z[Symbol.iterator]();;){var V;if(D){if(B>=z.length)break;V=z[B++]}else{if(B=z.next(),B.done)break;V=B.value}var ne=V;this.enqueueFile(ne)}return null}},{key:"enqueueFile",value:function(E){var D=this;if(E.status===q.ADDED&&E.accepted===!0){if(E.status=q.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return D.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(E){var D=this;if(this.options.createImageThumbnails&&E.type.match(/image.*/)&&E.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(E),setTimeout(function(){return D._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var E=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var D=this._thumbnailQueue.shift();return this.createThumbnail(D,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(B){return E.emit("thumbnail",D,B),E._processingThumbnail=!1,E._processThumbnailQueue()})}}},{key:"removeFile",value:function(E){if(E.status===q.UPLOADING&&this.cancelUpload(E),this.files=h(this.files,E),this.emit("removedfile",E),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(E){E==null&&(E=!1);for(var z=this.files.slice(),D=!0,B=0,z=D?z:z[Symbol.iterator]();;){var V;if(D){if(B>=z.length)break;V=z[B++]}else{if(B=z.next(),B.done)break;V=B.value}var ne=V;(ne.status!==q.UPLOADING||E)&&this.removeFile(ne)}return null}},{key:"resizeImage",value:function(E,D,B,z,V){var ne=this;return this.createThumbnail(E,D,B,z,!0,function(ue,de){if(de==null)return V(E);var ge=ne.options.resizeMimeType;ge==null&&(ge=E.type);var fe=de.toDataURL(ge,ne.options.resizeQuality);return(ge==="image/jpeg"||ge==="image/jpg")&&(fe=S.restore(E.dataURL,fe)),V(q.dataURItoBlob(fe))})}},{key:"createThumbnail",value:function(E,D,B,z,V,ne){var ue=this,de=new FileReader;return de.onload=function(){if(E.dataURL=de.result,E.type==="image/svg+xml"){ne!=null&&ne(de.result);return}return ue.createThumbnailFromUrl(E,D,B,z,V,ne)},de.readAsDataURL(E)}},{key:"createThumbnailFromUrl",value:function(E,D,B,z,V,ne,ue){var de=this,ge=document.createElement("img");return ue&&(ge.crossOrigin=ue),ge.onload=function(){var fe=function(ve){return ve(1)};return typeof EXIF<"u"&&EXIF!==null&&V&&(fe=function(ve){return EXIF.getData(ge,function(){return ve(EXIF.getTag(this,"Orientation"))})}),fe(function(De){E.width=ge.width,E.height=ge.height;var ve=de.options.resize.call(de,E,D,B,z),re=document.createElement("canvas"),P=re.getContext("2d");switch(re.width=ve.trgWidth,re.height=ve.trgHeight,De>4&&(re.width=ve.trgHeight,re.height=ve.trgWidth),De){case 2:P.translate(re.width,0),P.scale(-1,1);break;case 3:P.translate(re.width,re.height),P.rotate(Math.PI);break;case 4:P.translate(0,re.height),P.scale(1,-1);break;case 5:P.rotate(.5*Math.PI),P.scale(1,-1);break;case 6:P.rotate(.5*Math.PI),P.translate(0,-re.width);break;case 7:P.rotate(.5*Math.PI),P.translate(re.height,-re.width),P.scale(-1,1);break;case 8:P.rotate(-.5*Math.PI),P.translate(-re.height,0);break}w(P,ge,ve.srcX!=null?ve.srcX:0,ve.srcY!=null?ve.srcY:0,ve.srcWidth,ve.srcHeight,ve.trgX!=null?ve.trgX:0,ve.trgY!=null?ve.trgY:0,ve.trgWidth,ve.trgHeight);var se=re.toDataURL("image/png");if(ne!=null)return ne(se,re)})},ne!=null&&(ge.onerror=ne),ge.src=E.dataURL}},{key:"processQueue",value:function(){var E=this.options.parallelUploads,D=this.getUploadingFiles().length,B=D;if(!(D>=E)){var z=this.getQueuedFiles();if(z.length>0){if(this.options.uploadMultiple)return this.processFiles(z.slice(0,E-D));for(;B<E;){if(!z.length)return;this.processFile(z.shift()),B++}}}}},{key:"processFile",value:function(E){return this.processFiles([E])}},{key:"processFiles",value:function(E){for(var z=E,D=!0,B=0,z=D?z:z[Symbol.iterator]();;){var V;if(D){if(B>=z.length)break;V=z[B++]}else{if(B=z.next(),B.done)break;V=B.value}var ne=V;ne.processing=!0,ne.status=q.UPLOADING,this.emit("processing",ne)}return this.options.uploadMultiple&&this.emit("processingmultiple",E),this.uploadFiles(E)}},{key:"_getFilesWithXhr",value:function(E){return this.files.filter(function(D){return D.xhr===E}).map(function(D){return D})}},{key:"cancelUpload",value:function(E){if(E.status===q.UPLOADING){for(var D=this._getFilesWithXhr(E.xhr),V=D,B=!0,z=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(z>=V.length)break;ne=V[z++]}else{if(z=V.next(),z.done)break;ne=z.value}var ue=ne;ue.status=q.CANCELED}typeof E.xhr<"u"&&E.xhr.abort();for(var fe=D,de=!0,ge=0,fe=de?fe:fe[Symbol.iterator]();;){var De;if(de){if(ge>=fe.length)break;De=fe[ge++]}else{if(ge=fe.next(),ge.done)break;De=ge.value}var ve=De;this.emit("canceled",ve)}this.options.uploadMultiple&&this.emit("canceledmultiple",D)}else(E.status===q.ADDED||E.status===q.QUEUED)&&(E.status=q.CANCELED,this.emit("canceled",E),this.options.uploadMultiple&&this.emit("canceledmultiple",[E]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(E){if(typeof E=="function"){for(var D=arguments.length,B=Array(D>1?D-1:0),z=1;z<D;z++)B[z-1]=arguments[z];return E.apply(this,B)}return E}},{key:"uploadFile",value:function(E){return this.uploadFiles([E])}},{key:"uploadFiles",value:function(E){var D=this;this._transformFiles(E,function(B){if(E[0].upload.chunked){var z=E[0],V=B[0];z.upload.chunks=[];var ne=function(){for(var De=0;z.upload.chunks[De]!==void 0;)De++;if(!(De>=z.upload.totalChunkCount)){var ve=De*D.options.chunkSize,re=Math.min(ve+D.options.chunkSize,z.size),P={name:D._getParamName(0),data:V.webkitSlice?V.webkitSlice(ve,re):V.slice(ve,re),filename:z.upload.filename,chunkIndex:De};z.upload.chunks[De]={file:z,index:De,dataBlock:P,status:q.UPLOADING,progress:0,retries:0},D._uploadData(E,[P])}};if(z.upload.finishedChunkUpload=function(fe){var De=!0;fe.status=q.SUCCESS,fe.dataBlock=null,fe.xhr=null;for(var ve=0;ve<z.upload.totalChunkCount;ve++){if(z.upload.chunks[ve]===void 0)return ne();z.upload.chunks[ve].status!==q.SUCCESS&&(De=!1)}De&&D.options.chunksUploaded(z,function(){D._finished(E,"",null)})},D.options.parallelChunkUploads)for(var ue=0;ue<z.upload.totalChunkCount;ue++)ne();else ne()}else{for(var de=[],ge=0;ge<E.length;ge++)de[ge]={name:D._getParamName(ge),data:B[ge],filename:E[ge].upload.filename};D._uploadData(E,de)}})}},{key:"_getChunk",value:function(E,D){for(var B=0;B<E.upload.totalChunkCount;B++)if(E.upload.chunks[B]!==void 0&&E.upload.chunks[B].xhr===D)return E.upload.chunks[B]}},{key:"_uploadData",value:function(E,D){for(var B=this,z=new XMLHttpRequest,ue=E,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;ge.xhr=z}E[0].upload.chunked&&(E[0].upload.chunks[D[0].chunkIndex].xhr=z);var fe=this.resolveOption(this.options.method,E),De=this.resolveOption(this.options.url,E);z.open(fe,De,!0),z.timeout=this.resolveOption(this.options.timeout,E),z.withCredentials=!!this.options.withCredentials,z.onload=function(Te){B._finishedUploading(E,z,Te)},z.onerror=function(){B._handleUploadError(E,z)};var ve=z.upload!=null?z.upload:z;ve.onprogress=function(Te){return B._updateFilesUploadProgress(E,z,Te)};var re={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&q.extend(re,this.options.headers);for(var P in re){var se=re[P];se&&z.setRequestHeader(P,se)}var ye=new FormData;if(this.options.params){var Ee=this.options.params;typeof Ee=="function"&&(Ee=Ee.call(this,E,z,E[0].upload.chunked?this._getChunk(E[0],z):null));for(var it in Ee){var Be=Ee[it];ye.append(it,Be)}}for(var Y=E,Me=!0,te=0,Y=Me?Y:Y[Symbol.iterator]();;){var Le;if(Me){if(te>=Y.length)break;Le=Y[te++]}else{if(te=Y.next(),te.done)break;Le=te.value}var Re=Le;this.emit("sending",Re,z,ye)}this.options.uploadMultiple&&this.emit("sendingmultiple",E,z,ye),this._addFormElementData(ye);for(var X=0;X<D.length;X++){var we=D[X];ye.append(we.name,we.data,we.filename)}this.submitRequest(z,ye,E)}},{key:"_transformFiles",value:function(E,D){for(var B=this,z=[],V=0,ne=function(ge){B.options.transformFile.call(B,E[ge],function(fe){z[ge]=fe,++V===E.length&&D(z)})},ue=0;ue<E.length;ue++)ne(ue)}},{key:"_addFormElementData",value:function(E){if(this.element.tagName==="FORM")for(var z=this.element.querySelectorAll("input, textarea, select, button"),D=!0,B=0,z=D?z:z[Symbol.iterator]();;){var V;if(D){if(B>=z.length)break;V=z[B++]}else{if(B=z.next(),B.done)break;V=B.value}var ne=V,ue=ne.getAttribute("name"),de=ne.getAttribute("type");if(de&&(de=de.toLowerCase()),!(typeof ue>"u"||ue===null))if(ne.tagName==="SELECT"&&ne.hasAttribute("multiple"))for(var De=ne.options,ge=!0,fe=0,De=ge?De:De[Symbol.iterator]();;){var ve;if(ge){if(fe>=De.length)break;ve=De[fe++]}else{if(fe=De.next(),fe.done)break;ve=fe.value}var re=ve;re.selected&&E.append(ue,re.value)}else(!de||de!=="checkbox"&&de!=="radio"||ne.checked)&&E.append(ue,ne.value)}}},{key:"_updateFilesUploadProgress",value:function(E,D,B){var z=void 0;if(typeof B<"u"){if(z=100*B.loaded/B.total,E[0].upload.chunked){var V=E[0],ne=this._getChunk(V,D);ne.progress=z,ne.total=B.total,ne.bytesSent=B.loaded,V.upload.progress=0,V.upload.total=0,V.upload.bytesSent=0;for(var ue=0;ue<V.upload.totalChunkCount;ue++)V.upload.chunks[ue]!==void 0&&V.upload.chunks[ue].progress!==void 0&&(V.upload.progress+=V.upload.chunks[ue].progress,V.upload.total+=V.upload.chunks[ue].total,V.upload.bytesSent+=V.upload.chunks[ue].bytesSent);V.upload.progress=V.upload.progress/V.upload.totalChunkCount}else for(var fe=E,de=!0,ge=0,fe=de?fe:fe[Symbol.iterator]();;){var De;if(de){if(ge>=fe.length)break;De=fe[ge++]}else{if(ge=fe.next(),ge.done)break;De=ge.value}var ve=De;ve.upload.progress=z,ve.upload.total=B.total,ve.upload.bytesSent=B.loaded}for(var se=E,re=!0,P=0,se=re?se:se[Symbol.iterator]();;){var ye;if(re){if(P>=se.length)break;ye=se[P++]}else{if(P=se.next(),P.done)break;ye=P.value}var Ee=ye;this.emit("uploadprogress",Ee,Ee.upload.progress,Ee.upload.bytesSent)}}else{var it=!0;z=100;for(var te=E,Be=!0,Me=0,te=Be?te:te[Symbol.iterator]();;){var Y;if(Be){if(Me>=te.length)break;Y=te[Me++]}else{if(Me=te.next(),Me.done)break;Y=Me.value}var Le=Y;(Le.upload.progress!==100||Le.upload.bytesSent!==Le.upload.total)&&(it=!1),Le.upload.progress=z,Le.upload.bytesSent=Le.upload.total}if(it)return;for(var we=E,Re=!0,X=0,we=Re?we:we[Symbol.iterator]();;){var Te;if(Re){if(X>=we.length)break;Te=we[X++]}else{if(X=we.next(),X.done)break;Te=X.value}var qe=Te;this.emit("uploadprogress",qe,z,qe.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(E,D,B){var z=void 0;if(E[0].status!==q.CANCELED&&D.readyState===4){if(D.responseType!=="arraybuffer"&&D.responseType!=="blob"&&(z=D.responseText,D.getResponseHeader("content-type")&&~D.getResponseHeader("content-type").indexOf("application/json")))try{z=JSON.parse(z)}catch(V){B=V,z="Invalid JSON response from server."}this._updateFilesUploadProgress(E),200<=D.status&&D.status<300?E[0].upload.chunked?E[0].upload.finishedChunkUpload(this._getChunk(E[0],D)):this._finished(E,z,B):this._handleUploadError(E,D,z)}}},{key:"_handleUploadError",value:function(E,D,B){if(E[0].status!==q.CANCELED){if(E[0].upload.chunked&&this.options.retryChunks){var z=this._getChunk(E[0],D);if(z.retries++<this.options.retryChunksLimit){this._uploadData(E,[z.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var ue=E,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){if(V){if(ne>=ue.length)break;ue[ne++]}else{if(ne=ue.next(),ne.done)break;ne.value}this._errorProcessing(E,B||this.options.dictResponseError.replace("{{statusCode}}",D.status),D)}}}},{key:"submitRequest",value:function(E,D,B){E.send(D)}},{key:"_finished",value:function(E,D,B){for(var ne=E,z=!0,V=0,ne=z?ne:ne[Symbol.iterator]();;){var ue;if(z){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.status=q.SUCCESS,this.emit("success",de,D,B),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("successmultiple",E,D,B),this.emit("completemultiple",E)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(E,D,B){for(var ne=E,z=!0,V=0,ne=z?ne:ne[Symbol.iterator]();;){var ue;if(z){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.status=q.ERROR,this.emit("error",de,D,B),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("errormultiple",E,D,B),this.emit("completemultiple",E)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(E){var D=Math.random()*16|0,B=E==="x"?D:D&3|8;return B.toString(16)})}}]),q}(l);f.initClass(),f.version="5.5.1",f.options={},f.optionsForElement=function(j){if(j.getAttribute("id"))return f.options[b(j.getAttribute("id"))]},f.instances=[],f.forElement=function(j){if(typeof j=="string"&&(j=document.querySelector(j)),(j!=null?j.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return j.dropzone},f.autoDiscover=!0,f.discover=function(){var j=void 0;if(document.querySelectorAll)j=document.querySelectorAll(".dropzone");else{j=[];var q=function(E){return function(){for(var D=[],V=E,B=!0,z=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(z>=V.length)break;ne=V[z++]}else{if(z=V.next(),z.done)break;ne=z.value}var ue=ne;/(^| )dropzone($| )/.test(ue.className)?D.push(j.push(ue)):D.push(void 0)}return D}()};q(document.getElementsByTagName("div")),q(document.getElementsByTagName("form"))}return function(){for(var M=[],B=j,E=!0,D=0,B=E?B:B[Symbol.iterator]();;){var z;if(E){if(D>=B.length)break;z=B[D++]}else{if(D=B.next(),D.done)break;z=D.value}var V=z;f.optionsForElement(V)!==!1?M.push(new f(V)):M.push(void 0)}return M}()},f.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],f.isBrowserSupported=function(){var j=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))j=!1;else for(var E=f.blacklistedBrowsers,q=!0,M=0,E=q?E:E[Symbol.iterator]();;){var D;if(q){if(M>=E.length)break;D=E[M++]}else{if(M=E.next(),M.done)break;D=M.value}var B=D;if(B.test(navigator.userAgent)){j=!1;continue}}else j=!1;return j},f.dataURItoBlob=function(j){for(var q=atob(j.split(",")[1]),M=j.split(",")[0].split(":")[1].split(";")[0],E=new ArrayBuffer(q.length),D=new Uint8Array(E),B=0,z=q.length,V=0<=z;V?B<=z:B>=z;V?B++:B--)D[B]=q.charCodeAt(B);return new Blob([E],{type:M})};var h=function(q,M){return q.filter(function(E){return E!==M}).map(function(E){return E})},b=function(q){return q.replace(/[\-_](\w)/g,function(M){return M.charAt(1).toUpperCase()})};f.createElement=function(j){var q=document.createElement("div");return q.innerHTML=j,q.childNodes[0]},f.elementInside=function(j,q){if(j===q)return!0;for(;j=j.parentNode;)if(j===q)return!0;return!1},f.getElement=function(j,q){var M=void 0;if(typeof j=="string"?M=document.querySelector(j):j.nodeType!=null&&(M=j),M==null)throw new Error("Invalid `"+q+"` option provided. Please provide a CSS selector or a plain HTML element.");return M},f.getElements=function(j,q){var M=void 0,E=void 0;if(j instanceof Array){E=[];try{for(var z=j,D=!0,B=0,z=D?z:z[Symbol.iterator]();;){if(D){if(B>=z.length)break;M=z[B++]}else{if(B=z.next(),B.done)break;M=B.value}E.push(this.getElement(M,q))}}catch{E=null}}else if(typeof j=="string"){E=[];for(var ue=document.querySelectorAll(j),V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){if(V){if(ne>=ue.length)break;M=ue[ne++]}else{if(ne=ue.next(),ne.done)break;M=ne.value}E.push(M)}}else j.nodeType!=null&&(E=[j]);if(E==null||!E.length)throw new Error("Invalid `"+q+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return E},f.confirm=function(j,q,M){if(window.confirm(j))return q();if(M!=null)return M()},f.isValidFile=function(j,q){if(!q)return!0;q=q.split(",");for(var M=j.type,E=M.replace(/\/.*$/,""),z=q,D=!0,B=0,z=D?z:z[Symbol.iterator]();;){var V;if(D){if(B>=z.length)break;V=z[B++]}else{if(B=z.next(),B.done)break;V=B.value}var ne=V;if(ne=ne.trim(),ne.charAt(0)==="."){if(j.name.toLowerCase().indexOf(ne.toLowerCase(),j.name.length-ne.length)!==-1)return!0}else if(/\/\*$/.test(ne)){if(E===ne.replace(/\/.*$/,""))return!0}else if(M===ne)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(j){return this.each(function(){return new f(this,j)})}),t!==null?t.exports=f:window.Dropzone=f,f.ADDED="added",f.QUEUED="queued",f.ACCEPTED=f.QUEUED,f.UPLOADING="uploading",f.PROCESSING=f.UPLOADING,f.CANCELED="canceled",f.ERROR="error",f.SUCCESS="success";var x=function(q){q.naturalWidth;var M=q.naturalHeight,E=document.createElement("canvas");E.width=1,E.height=M;var D=E.getContext("2d");D.drawImage(q,0,0);for(var B=D.getImageData(1,0,1,M),z=B.data,V=0,ne=M,ue=M;ue>V;){var de=z[(ue-1)*4+3];de===0?ne=ue:V=ue,ue=ne+V>>1}var ge=ue/M;return ge===0?1:ge},w=function(q,M,E,D,B,z,V,ne,ue,de){var ge=x(M);return q.drawImage(M,E,D,B,z,V,ne,ue,de/ge)},S=function(){function j(){u(this,j)}return e(j,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(M){for(var E="",D=void 0,B=void 0,z="",V=void 0,ne=void 0,ue=void 0,de="",ge=0;D=M[ge++],B=M[ge++],z=M[ge++],V=D>>2,ne=(D&3)<<4|B>>4,ue=(B&15)<<2|z>>6,de=z&63,isNaN(B)?ue=de=64:isNaN(z)&&(de=64),E=E+this.KEY_STR.charAt(V)+this.KEY_STR.charAt(ne)+this.KEY_STR.charAt(ue)+this.KEY_STR.charAt(de),D=B=z="",V=ne=ue=de="",ge<M.length;);return E}},{key:"restore",value:function(M,E){if(!M.match("data:image/jpeg;base64,"))return E;var D=this.decode64(M.replace("data:image/jpeg;base64,","")),B=this.slice2Segments(D),z=this.exifManipulation(E,B);return"data:image/jpeg;base64,"+this.encode64(z)}},{key:"exifManipulation",value:function(M,E){var D=this.getExifArray(E),B=this.insertExif(M,D),z=new Uint8Array(B);return z}},{key:"getExifArray",value:function(M){for(var E=void 0,D=0;D<M.length;){if(E=M[D],E[0]===255&E[1]===225)return E;D++}return[]}},{key:"insertExif",value:function(M,E){var D=M.replace("data:image/jpeg;base64,",""),B=this.decode64(D),z=B.indexOf(255,3),V=B.slice(0,z),ne=B.slice(z),ue=V;return ue=ue.concat(E),ue=ue.concat(ne),ue}},{key:"slice2Segments",value:function(M){for(var E=0,D=[];;){var B;if(M[E]===255&M[E+1]===218)break;if(M[E]===255&M[E+1]===216)E+=2;else{B=M[E+2]*256+M[E+3];var z=E+B+2,V=M.slice(E,z);D.push(V),E=z}if(E>M.length)break}return D}},{key:"decode64",value:function(M){var E=void 0,D=void 0,B="",z=void 0,V=void 0,ne=void 0,ue="",de=0,ge=[],fe=/[^A-Za-z0-9\+\/\=]/g;for(fe.exec(M)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");z=this.KEY_STR.indexOf(M.charAt(de++)),V=this.KEY_STR.indexOf(M.charAt(de++)),ne=this.KEY_STR.indexOf(M.charAt(de++)),ue=this.KEY_STR.indexOf(M.charAt(de++)),E=z<<2|V>>4,D=(V&15)<<4|ne>>2,B=(ne&3)<<6|ue,ge.push(E),ne!==64&&ge.push(D),ue!==64&&ge.push(B),E=D=B="",z=V=ne=ue="",de<M.length;);return ge}}]),j}();S.initClass();var O=function(q,M){var E=!1,D=!0,B=q.document,z=B.documentElement,V=B.addEventListener?"addEventListener":"attachEvent",ne=B.addEventListener?"removeEventListener":"detachEvent",ue=B.addEventListener?"":"on",de=function fe(De){if(!(De.type==="readystatechange"&&B.readyState!=="complete")&&((De.type==="load"?q:B)[ne](ue+De.type,fe,!1),!E&&(E=!0)))return M.call(q,De.type||De)},ge=function fe(){try{z.doScroll("left")}catch{setTimeout(fe,50);return}return de("poll")};if(B.readyState!=="complete"){if(B.createEventObject&&z.doScroll){try{D=!q.frameElement}catch{}D&&ge()}return B[V](ue+"DOMContentLoaded",de,!1),B[V](ue+"readystatechange",de,!1),q[V](ue+"load",de,!1)}};f._autoDiscoverFunction=function(){if(f.autoDiscover)return f.discover()},O(window,f._autoDiscoverFunction);function W(j,q){return typeof j<"u"&&j!==null?q(j):void 0}function N(j,q,M){if(typeof j<"u"&&j!==null&&typeof j[q]=="function")return M(j,q)}}(Yd)),Yd.exports}var jw=qw();const fl=df(jw);async function uc(t){return new Promise(e=>setTimeout(e,t))}async function hl(t,e=400){return new Promise(r=>{t.style.opacity=0,t.style.display="block",t.style.transition=`opacity ${e}ms ease-in`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=1,await uc(e),r()})})}async function Pu(t,e=600){return new Promise(r=>{t.style.opacity=1,t.style.transition=`opacity ${e}ms ease-out`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=0,await uc(e),t.style.display="none",r()})})}class Uw{constructor(e){this.attached=!1,this.options={onSuccess:s=>{},onError:s=>{},onAdded:s=>{},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},typeof e<"u"&&Object.assign(this.options,e),document.querySelector(this.options.selector)&&!this.attached&&this.init()}init(){const e=this;let s=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");s&&s>0&&(this.options.headers.folderId=parseInt(s),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(s)),fl.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(u,l){e.options.onAdded(u)}),this.on("success",async function(u,l){if(u.previewElement){let f=u.previewElement;await uc(3e3),await Pu(f,500),f.remove()}e.options.onSuccess(l),await window.Rozier.getMessages()}),this.on("canceled",function(u,l){e.options.onError(JSON.parse(l)),window.Rozier.getMessages()}),this.on("error",function(u,l,f){console.error(l)}),this.on("sending",function(u,l,f){l.ontimeout=()=>{e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},fl.autoDiscover=this.options.autoDiscover;try{new fl(this.options.selector,fl.options.uploadDropzoneDocument);let u=document.querySelector(this.options.selector);u.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`),u.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
            <div class="circles-icons">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
                <div class="circle circle-4"></div>
                <div class="circle circle-5"></div>
                <i class="uk-icon-rz-file"></i>
            </div>`),this.attached=!0}catch(u){console.error(u)}}unbind(){}}class Yw{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,s){if(e.target instanceof HTMLInputElement)return;let u=$(s),l=parseInt(u.data("id")),f=u.prev(),h=null,b=null;f.length===0?(f=u.next(),h=parseInt(f.data("id"))):b=parseInt(f.data("id"));const x=window.RozierConfig.routes.attributeValueAjaxEdit;if(!(!x||!l))try{const w=await fetch(x.replace("%attributeValueId%",l),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:l,beforeAttributeValueId:h,afterAttributeValueId:b})});if(!w.ok)throw w;const S=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:S.responseText,status:S.status}}))}catch(w){const S=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:S.title||"",status:"danger"}}))}}}class Gw{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,s){let u=$(s),l=parseInt(u.data("field-id")),f=u.prev(),h=null,b=null;f.length===0?(f=u.next(),b=parseInt(f.data("field-id"))):h=parseInt(f.data("field-id"));const x={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:l,beforeFieldId:b,afterFieldId:h},w=await fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",l),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(x)});if(w.ok){const S=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:S.responseText,status:S.status}}))}else{const S=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:S.title,status:"danger"}}))}}}class Zw{constructor(){this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}init(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.addEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.addEventListener("keyup",this.onMinKeyUp)})}unbind(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMinKeyUp)})}onMaxKeyUp(e){let r=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>s?r.classList.add("uk-form-danger"):r.classList.remove("uk-form-danger")}onMinKeyUp(e){let r=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=s?r.classList.add("uk-form-danger"):r.classList.remove("uk-form-danger")}}class Xw{constructor(){this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation a"),this.cleanNodeTree()}unbind(){this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}cleanNodeTree(){document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(e=>{e.remove()}),this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick),e.addEventListener("click",this.onQuickAddClick)})}treeAvailable(){return!!(this.nodeTrees&&this.nodeTrees.length)}async quickAddNode(e,r,s){return new Promise(async(u,l)=>{const f=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:r,translationId:s})});f.ok?u(await f.json()):l(await f.json())})}async onQuickAddClick(e){e.preventDefault();let r=e.currentTarget,s=r.getAttribute("data-children-node-type"),u=parseInt(r.getAttribute("data-children-parent-node")),l=parseInt(r.getAttribute("data-translation-id"));if(s!==""&&u>0)try{await this.quickAddNode(s,u,l),window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();let f=r.closest(".children-nodes-widget").querySelector(".nodetree-widget");await this.refreshNodeTree(f)}catch(f){f=JSON.parse(f.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}}async fetchNodeTree(e,r,s=void 0){return new Promise(async(u,l)=>{const f=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:e,translationId:s||null});r.forEach((x,w)=>{f.append("linkedTypes["+w+"]",x)});const h=window.RozierConfig.routes.nodesTreeAjax+"?"+f.toString(),b=await fetch(h,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});b.ok?u(await b.json()):l(await b.json())})}async refreshNodeTree(e){if(!e){console.log("No node-tree available.");return}let r=[];const s=e.querySelector(".root-tree");if(!s)return;const u=parseInt(s.getAttribute("data-parent-node-id")),l=s.getAttribute("data-linked-types");let f=s.getAttribute("data-translation-id");l&&(r=JSON.parse(l)),window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const h=await this.fetchNodeTree(u,r,f||null);if(e&&typeof h.nodeTree<"u"){await Pu(e);let b=e.closest(".children-nodes-widget");e.innerHTML=h.nodeTree,e=b.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await hl(e),this.cleanNodeTree(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}catch(h){h=JSON.parse(h.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}}))}}}class Vw{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation a"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(r=>{r.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,r,s=null){try{const u=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:r,translationId:this.getTranslationId(),tagId:s,pushTop:1})});if(!u.ok)throw await u.json();return await u.json()}catch(u){throw u}}async onQuickAddClick(e){e.preventDefault();const r=e.currentTarget,s=r.getAttribute("data-children-node-type"),u=parseInt(r.getAttribute("data-children-parent-node"));let l=null;if(!s||u<=0)return!1;r.hasAttribute("data-filter-tag")&&(l=parseInt(r.getAttribute("data-filter-tag")));try{await this.quickAddNode(s,u,l),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(u,l,1)]),await window.Rozier.getMessages()}catch(f){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,r=void 0,s=void 0){try{const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:r||this.getCurrentPage(),tagId:s,translationId:this.getTranslationId()}),l=`${window.RozierConfig.routes.nodesTreeAjax}?${u.toString()}`,f=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!f.ok)throw await f.json();return await f.json()}catch(u){throw u}}async refreshNodeTree(e,r,s){const u=this.page.querySelector(".nodetree-widget");if(!u)return;const l=u.querySelector(".root-tree");if(typeof e>"u"){const h=l.getAttribute("data-parent-node-id");e=h?parseInt(h):null}else e=parseInt(e);window.dispatchEvent(new CustomEvent("requestLoaderShow"));const f=await this.fetchNodeTree(e,s?parseInt(s):void 0,r?parseInt(r):void 0);if(f.nodeTree){await Pu(u);const h=document.createElement("div");h.innerHTML=f.nodeTree;const b=h.querySelector(".nodetree-widget");u.replaceWith(b),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await hl(b),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const x=this.page.querySelector(".nodetree-langs");x&&x.remove(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}}class Kw{constructor(){this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){e.preventDefault();let r=e.currentTarget.parentElement.parentElement.querySelector(".uk-form");if(r.querySelectorAll("input[type=file]").length)return r.requestSubmit(),!1;r.classList.contains("uk-has-errors")&&(r.querySelector(".uk-alert").remove(),r.classList.remove("uk-has-errors")),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const s=new window.FormData(r),u=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:s});if(!u.ok){const l=await u.json();if(l.errors&&l.errors.value)for(let f in l.errors.value)r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+l.errors.value[f]+"</span>");else if(l.errors)for(let f in l.errors){r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+l.errors[f]+"</span>");break}}return await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}resize(){}}class Qw{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(r=>{const s=r.querySelectorAll(".node-statuses-item"),u=r.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(r,s,u)})}init(e,r,s){r.forEach(u=>{u.removeEventListener("click",this.itemClick),u.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),s.forEach(u=>{u.removeEventListener("change",this.onChange),u.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(u=>{u.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const r=e.currentTarget,s=r.querySelector("ul, nav"),u=r.offsetHeight,l=s?s.offsetHeight:0,f=r.getBoundingClientRect().top+window.scrollY,h=window.innerHeight,b=f+l+u;h<b&&r.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const r=e.currentTarget.querySelector('input[type="radio"]');r&&(r.checked=!0,r.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const r=e.currentTarget;if(!r)return!1;const s=r.getAttribute("name");let u=null;r instanceof HTMLInputElement&&r.type==="checkbox"?u=Number(r.checked):r instanceof HTMLInputElement&&r.type==="radio"&&(this.icon&&(this.icon.className=r.parentElement.querySelector("i").className),u=r.value),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const l=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(r.getAttribute("data-node-id")),statusName:s,statusValue:u})});if(l.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestAllNodeTreeRefresh"));else{const f=await l.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}this.locked=!1,window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}class Jw{constructor(e,r){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s=[];for(let l=1;l<19;l++)s.push({column:this.tabSize*l,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let u={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:s,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(u.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,u),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}const h3=t=>({}).toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase();(function(){let t,e=()=>{},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=r.length,u=window.console=window.console||{};for(;s--;)t=r[s],u[t]||(u[t]=e)})();const hh=(t,e)=>{e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(s,"").replace(r,(u,l)=>e.indexOf("<"+l.toLowerCase()+">")>-1?u:"")},pg=(t,e)=>{t&&(t.classList?t.classList.add(e):t.className+=" "+e)},mg={};function ex(t){let e=mg[t];if(e)return e;e=mg[t]=[];for(let r=0;r<128;r++){const s=String.fromCharCode(r);e.push(s)}for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}function tc(t,e){typeof e!="string"&&(e=tc.defaultChars);const r=ex(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(s){let u="";for(let l=0,f=s.length;l<f;l+=3){const h=parseInt(s.slice(l+1,l+3),16);if(h<128){u+=r[h];continue}if((h&224)===192&&l+3<f){const b=parseInt(s.slice(l+4,l+6),16);if((b&192)===128){const x=h<<6&1984|b&63;x<128?u+="":u+=String.fromCharCode(x),l+=3;continue}}if((h&240)===224&&l+6<f){const b=parseInt(s.slice(l+4,l+6),16),x=parseInt(s.slice(l+7,l+9),16);if((b&192)===128&&(x&192)===128){const w=h<<12&61440|b<<6&4032|x&63;w<2048||w>=55296&&w<=57343?u+="":u+=String.fromCharCode(w),l+=6;continue}}if((h&248)===240&&l+9<f){const b=parseInt(s.slice(l+4,l+6),16),x=parseInt(s.slice(l+7,l+9),16),w=parseInt(s.slice(l+10,l+12),16);if((b&192)===128&&(x&192)===128&&(w&192)===128){let S=h<<18&1835008|b<<12&258048|x<<6&4032|w&63;S<65536||S>1114111?u+="":(S-=65536,u+=String.fromCharCode(55296+(S>>10),56320+(S&1023))),l+=9;continue}}u+=""}return u})}tc.defaultChars=";/?:@&=+$,#";tc.componentChars="";const gg={};function tx(t){let e=gg[t];if(e)return e;e=gg[t]=[];for(let r=0;r<128;r++){const s=String.fromCharCode(r);/^[0-9a-z]$/i.test(s)?e.push(s):e.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<t.length;r++)e[t.charCodeAt(r)]=t[r];return e}function pf(t,e,r){typeof e!="string"&&(r=e,e=pf.defaultChars),typeof r>"u"&&(r=!0);const s=tx(e);let u="";for(let l=0,f=t.length;l<f;l++){const h=t.charCodeAt(l);if(r&&h===37&&l+2<f&&/^[0-9a-f]{2}$/i.test(t.slice(l+1,l+3))){u+=t.slice(l,l+3),l+=2;continue}if(h<128){u+=s[h];continue}if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&l+1<f){const b=t.charCodeAt(l+1);if(b>=56320&&b<=57343){u+=encodeURIComponent(t[l]+t[l+1]),l++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(t[l])}return u}pf.defaultChars=";/?:@&=+$,-_.!~*'()#";pf.componentChars="-_.!~*'()";function Mp(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function $h(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const ix=/^([a-z0-9.+-]+:)/i,nx=/:[0-9]*$/,rx=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ox=["<",">",'"',"`"," ","\r",`
`,"	"],ax=["{","}","|","\\","^","`"].concat(ox),sx=["'"].concat(ax),vg=["%","/","?",";","#"].concat(sx),bg=["/","?","#"],ux=255,_g=/^[+a-z0-9A-Z_-]{0,63}$/,lx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yg={javascript:!0,"javascript:":!0},wg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Pp(t,e){if(t&&t instanceof $h)return t;const r=new $h;return r.parse(t,e),r}$h.prototype.parse=function(t,e){let r,s,u,l=t;if(l=l.trim(),!e&&t.split("#").length===1){const x=rx.exec(l);if(x)return this.pathname=x[1],x[2]&&(this.search=x[2]),this}let f=ix.exec(l);if(f&&(f=f[0],r=f.toLowerCase(),this.protocol=f,l=l.substr(f.length)),(e||f||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=l.substr(0,2)==="//",u&&!(f&&yg[f])&&(l=l.substr(2),this.slashes=!0)),!yg[f]&&(u||f&&!wg[f])){let x=-1;for(let N=0;N<bg.length;N++)s=l.indexOf(bg[N]),s!==-1&&(x===-1||s<x)&&(x=s);let w,S;x===-1?S=l.lastIndexOf("@"):S=l.lastIndexOf("@",x),S!==-1&&(w=l.slice(0,S),l=l.slice(S+1),this.auth=w),x=-1;for(let N=0;N<vg.length;N++)s=l.indexOf(vg[N]),s!==-1&&(x===-1||s<x)&&(x=s);x===-1&&(x=l.length),l[x-1]===":"&&x--;const O=l.slice(0,x);l=l.slice(x),this.parseHost(O),this.hostname=this.hostname||"";const W=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!W){const N=this.hostname.split(/\./);for(let j=0,q=N.length;j<q;j++){const M=N[j];if(M&&!M.match(_g)){let E="";for(let D=0,B=M.length;D<B;D++)M.charCodeAt(D)>127?E+="x":E+=M[D];if(!E.match(_g)){const D=N.slice(0,j),B=N.slice(j+1),z=M.match(lx);z&&(D.push(z[1]),B.unshift(z[2])),B.length&&(l=B.join(".")+l),this.hostname=D.join(".");break}}}}this.hostname.length>ux&&(this.hostname=""),W&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const h=l.indexOf("#");h!==-1&&(this.hash=l.substr(h),l=l.slice(0,h));const b=l.indexOf("?");return b!==-1&&(this.search=l.substr(b),l=l.slice(0,b)),l&&(this.pathname=l),wg[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};$h.prototype.parseHost=function(t){let e=nx.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const cx=Object.freeze(Object.defineProperty({__proto__:null,decode:tc,encode:pf,format:Mp,parse:Pp},Symbol.toStringTag,{value:"Module"})),R0=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,N0=/[\0-\x1F\x7F-\x9F]/,fx=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Op=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,z0=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,I0=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,hx=Object.freeze(Object.defineProperty({__proto__:null,Any:R0,Cc:N0,Cf:fx,P:Op,S:z0,Z:I0},Symbol.toStringTag,{value:"Module"})),dx=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),px=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Gd;const mx=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),gx=(Gd=String.fromCodePoint)!==null&&Gd!==void 0?Gd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function vx(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=mx.get(t))!==null&&e!==void 0?e:t}var Pr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Pr||(Pr={}));const bx=32;var Du;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Du||(Du={}));function dp(t){return t>=Pr.ZERO&&t<=Pr.NINE}function _x(t){return t>=Pr.UPPER_A&&t<=Pr.UPPER_F||t>=Pr.LOWER_A&&t<=Pr.LOWER_F}function yx(t){return t>=Pr.UPPER_A&&t<=Pr.UPPER_Z||t>=Pr.LOWER_A&&t<=Pr.LOWER_Z||dp(t)}function wx(t){return t===Pr.EQUALS||yx(t)}var Mr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Mr||(Mr={}));var Tu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Tu||(Tu={}));class xx{constructor(e,r,s){this.decodeTree=e,this.emitCodePoint=r,this.errors=s,this.state=Mr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Tu.Strict}startEntity(e){this.decodeMode=e,this.state=Mr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case Mr.EntityStart:return e.charCodeAt(r)===Pr.NUM?(this.state=Mr.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=Mr.NamedEntity,this.stateNamedEntity(e,r));case Mr.NumericStart:return this.stateNumericStart(e,r);case Mr.NumericDecimal:return this.stateNumericDecimal(e,r);case Mr.NumericHex:return this.stateNumericHex(e,r);case Mr.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|bx)===Pr.LOWER_X?(this.state=Mr.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=Mr.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,s,u){if(r!==s){const l=s-r;this.result=this.result*Math.pow(u,l)+parseInt(e.substr(r,l),u),this.consumed+=l}}stateNumericHex(e,r){const s=r;for(;r<e.length;){const u=e.charCodeAt(r);if(dp(u)||_x(u))r+=1;else return this.addToNumericResult(e,s,r,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(e,s,r,16),-1}stateNumericDecimal(e,r){const s=r;for(;r<e.length;){const u=e.charCodeAt(r);if(dp(u))r+=1;else return this.addToNumericResult(e,s,r,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(e,s,r,10),-1}emitNumericEntity(e,r){var s;if(this.consumed<=r)return(s=this.errors)===null||s===void 0||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Pr.SEMI)this.consumed+=1;else if(this.decodeMode===Tu.Strict)return 0;return this.emitCodePoint(vx(this.result),this.consumed),this.errors&&(e!==Pr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:s}=this;let u=s[this.treeIndex],l=(u&Du.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const f=e.charCodeAt(r);if(this.treeIndex=kx(s,u,this.treeIndex+Math.max(1,l),f),this.treeIndex<0)return this.result===0||this.decodeMode===Tu.Attribute&&(l===0||wx(f))?0:this.emitNotTerminatedNamedEntity();if(u=s[this.treeIndex],l=(u&Du.VALUE_LENGTH)>>14,l!==0){if(f===Pr.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Tu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:s}=this,u=(s[r]&Du.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,u,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,s){const{decodeTree:u}=this;return this.emitCodePoint(r===1?u[e]&~Du.VALUE_LENGTH:u[e+1],s),r===3&&this.emitCodePoint(u[e+2],s),s}end(){var e;switch(this.state){case Mr.NamedEntity:return this.result!==0&&(this.decodeMode!==Tu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Mr.NumericDecimal:return this.emitNumericEntity(0,2);case Mr.NumericHex:return this.emitNumericEntity(0,3);case Mr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Mr.EntityStart:return 0}}}function B0(t){let e="";const r=new xx(t,s=>e+=gx(s));return function(u,l){let f=0,h=0;for(;(h=u.indexOf("&",h))>=0;){e+=u.slice(f,h),r.startEntity(l);const x=r.write(u,h+1);if(x<0){f=h+r.end();break}f=h+x,h=x===0?f+1:f}const b=e+u.slice(f);return e="",b}}function kx(t,e,r,s){const u=(e&Du.BRANCH_LENGTH)>>7,l=e&Du.JUMP_TABLE;if(u===0)return l!==0&&s===l?r:-1;if(l){const b=s-l;return b<0||b>=u?-1:t[r+b]-1}let f=r,h=f+u-1;for(;f<=h;){const b=f+h>>>1,x=t[b];if(x<s)f=b+1;else if(x>s)h=b-1;else return t[b+u]}return-1}const Cx=B0(dx);B0(px);function $0(t,e=Tu.Legacy){return Cx(t,e)}function Ex(t){return Object.prototype.toString.call(t)}function Fp(t){return Ex(t)==="[object String]"}const Sx=Object.prototype.hasOwnProperty;function Tx(t,e){return Sx.call(t,e)}function ed(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(s){t[s]=r[s]})}}),t}function H0(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function Rp(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Hh(t){if(t>65535){t-=65536;const e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}const W0=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Ax=/&([a-z#][a-z0-9]{1,31});/gi,Dx=new RegExp(W0.source+"|"+Ax.source,"gi"),Lx=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Mx(t,e){if(e.charCodeAt(0)===35&&Lx.test(e)){const s=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Rp(s)?Hh(s):t}const r=$0(t);return r!==t?r:t}function Px(t){return t.indexOf("\\")<0?t:t.replace(W0,"$1")}function ic(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Dx,function(e,r,s){return r||Mx(e,s)})}const Ox=/[&<>"]/,Fx=/[&<>"]/g,Rx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Nx(t){return Rx[t]}function Ou(t){return Ox.test(t)?t.replace(Fx,Nx):t}const zx=/[.?*+^$[\]\\(){}|-]/g;function Ix(t){return t.replace(zx,"\\$&")}function cn(t){switch(t){case 9:case 32:return!0}return!1}function lf(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function cf(t){return Op.test(t)||z0.test(t)}function ff(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function td(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Bx={mdurl:cx,ucmicro:hx},$x=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:H0,assign:ed,escapeHtml:Ou,escapeRE:Ix,fromCodePoint:Hh,has:Tx,isMdAsciiPunct:ff,isPunctChar:cf,isSpace:cn,isString:Fp,isValidEntityCode:Rp,isWhiteSpace:lf,lib:Bx,normalizeReference:td,unescapeAll:ic,unescapeMd:Px},Symbol.toStringTag,{value:"Module"}));function Hx(t,e,r){let s,u,l,f;const h=t.posMax,b=t.pos;for(t.pos=e+1,s=1;t.pos<h;){if(l=t.src.charCodeAt(t.pos),l===93&&(s--,s===0)){u=!0;break}if(f=t.pos,t.md.inline.skipToken(t),l===91){if(f===t.pos-1)s++;else if(r)return t.pos=b,-1}}let x=-1;return u&&(x=t.pos),t.pos=b,x}function Wx(t,e,r){let s,u=e;const l={ok:!1,pos:0,str:""};if(t.charCodeAt(u)===60){for(u++;u<r;){if(s=t.charCodeAt(u),s===10||s===60)return l;if(s===62)return l.pos=u+1,l.str=ic(t.slice(e+1,u)),l.ok=!0,l;if(s===92&&u+1<r){u+=2;continue}u++}return l}let f=0;for(;u<r&&(s=t.charCodeAt(u),!(s===32||s<32||s===127));){if(s===92&&u+1<r){if(t.charCodeAt(u+1)===32)break;u+=2;continue}if(s===40&&(f++,f>32))return l;if(s===41){if(f===0)break;f--}u++}return e===u||f!==0||(l.str=ic(t.slice(e,u)),l.pos=u,l.ok=!0),l}function qx(t,e,r,s){let u,l=e;const f={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)f.str=s.str,f.marker=s.marker;else{if(l>=r)return f;let h=t.charCodeAt(l);if(h!==34&&h!==39&&h!==40)return f;e++,l++,h===40&&(h=41),f.marker=h}for(;l<r;){if(u=t.charCodeAt(l),u===f.marker)return f.pos=l+1,f.str+=ic(t.slice(e,l)),f.ok=!0,f;if(u===40&&f.marker===41)return f;u===92&&l+1<r&&l++,l++}return f.can_continue=!0,f.str+=ic(t.slice(e,l)),f}const jx=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Wx,parseLinkLabel:Hx,parseLinkTitle:qx},Symbol.toStringTag,{value:"Module"})),fs={};fs.code_inline=function(t,e,r,s,u){const l=t[e];return"<code"+u.renderAttrs(l)+">"+Ou(l.content)+"</code>"};fs.code_block=function(t,e,r,s,u){const l=t[e];return"<pre"+u.renderAttrs(l)+"><code>"+Ou(t[e].content)+`</code></pre>
`};fs.fence=function(t,e,r,s,u){const l=t[e],f=l.info?ic(l.info).trim():"";let h="",b="";if(f){const w=f.split(/(\s+)/g);h=w[0],b=w.slice(2).join("")}let x;if(r.highlight?x=r.highlight(l.content,h,b)||Ou(l.content):x=Ou(l.content),x.indexOf("<pre")===0)return x+`
`;if(f){const w=l.attrIndex("class"),S=l.attrs?l.attrs.slice():[];w<0?S.push(["class",r.langPrefix+h]):(S[w]=S[w].slice(),S[w][1]+=" "+r.langPrefix+h);const O={attrs:S};return`<pre><code${u.renderAttrs(O)}>${x}</code></pre>
`}return`<pre><code${u.renderAttrs(l)}>${x}</code></pre>
`};fs.image=function(t,e,r,s,u){const l=t[e];return l.attrs[l.attrIndex("alt")][1]=u.renderInlineAsText(l.children,r,s),u.renderToken(t,e,r)};fs.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};fs.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};fs.text=function(t,e){return Ou(t[e].content)};fs.html_block=function(t,e){return t[e].content};fs.html_inline=function(t,e){return t[e].content};function lc(){this.rules=ed({},fs)}lc.prototype.renderAttrs=function(e){let r,s,u;if(!e.attrs)return"";for(u="",r=0,s=e.attrs.length;r<s;r++)u+=" "+Ou(e.attrs[r][0])+'="'+Ou(e.attrs[r][1])+'"';return u};lc.prototype.renderToken=function(e,r,s){const u=e[r];let l="";if(u.hidden)return"";u.block&&u.nesting!==-1&&r&&e[r-1].hidden&&(l+=`
`),l+=(u.nesting===-1?"</":"<")+u.tag,l+=this.renderAttrs(u),u.nesting===0&&s.xhtmlOut&&(l+=" /");let f=!1;if(u.block&&(f=!0,u.nesting===1&&r+1<e.length)){const h=e[r+1];(h.type==="inline"||h.hidden||h.nesting===-1&&h.tag===u.tag)&&(f=!1)}return l+=f?`>
`:">",l};lc.prototype.renderInline=function(t,e,r){let s="";const u=this.rules;for(let l=0,f=t.length;l<f;l++){const h=t[l].type;typeof u[h]<"u"?s+=u[h](t,l,e,r,this):s+=this.renderToken(t,l,e)}return s};lc.prototype.renderInlineAsText=function(t,e,r){let s="";for(let u=0,l=t.length;u<l;u++)switch(t[u].type){case"text":s+=t[u].content;break;case"image":s+=this.renderInlineAsText(t[u].children,e,r);break;case"html_inline":case"html_block":s+=t[u].content;break;case"softbreak":case"hardbreak":s+=`
`;break}return s};lc.prototype.render=function(t,e,r){let s="";const u=this.rules;for(let l=0,f=t.length;l<f;l++){const h=t[l].type;h==="inline"?s+=this.renderInline(t[l].children,e,r):typeof u[h]<"u"?s+=u[h](t,l,e,r,this):s+=this.renderToken(t,l,e,r)}return s};function Co(){this.__rules__=[],this.__cache__=null}Co.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Co.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(s){e.indexOf(s)<0&&e.push(s)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(s){s.enabled&&(r&&s.alt.indexOf(r)<0||t.__cache__[r].push(s.fn))})})};Co.prototype.at=function(t,e,r){const s=this.__find__(t),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=u.alt||[],this.__cache__=null};Co.prototype.before=function(t,e,r,s){const u=this.__find__(t),l=s||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u,0,{name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};Co.prototype.after=function(t,e,r,s){const u=this.__find__(t),l=s||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u+1,0,{name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};Co.prototype.push=function(t,e,r){const s=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null};Co.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(s){const u=this.__find__(s);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[u].enabled=!0,r.push(s)},this),this.__cache__=null,r};Co.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};Co.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(s){const u=this.__find__(s);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[u].enabled=!1,r.push(s)},this),this.__cache__=null,r};Co.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ra(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ra.prototype.attrIndex=function(e){if(!this.attrs)return-1;const r=this.attrs;for(let s=0,u=r.length;s<u;s++)if(r[s][0]===e)return s;return-1};Ra.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ra.prototype.attrSet=function(e,r){const s=this.attrIndex(e),u=[e,r];s<0?this.attrPush(u):this.attrs[s]=u};Ra.prototype.attrGet=function(e){const r=this.attrIndex(e);let s=null;return r>=0&&(s=this.attrs[r][1]),s};Ra.prototype.attrJoin=function(e,r){const s=this.attrIndex(e);s<0?this.attrPush([e,r]):this.attrs[s][1]=this.attrs[s][1]+" "+r};function q0(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}q0.prototype.Token=Ra;const Ux=/\r\n?|\n/g,Yx=/\0/g;function Gx(t){let e;e=t.src.replace(Ux,`
`),e=e.replace(Yx,""),t.src=e}function Zx(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function Xx(t){const e=t.tokens;for(let r=0,s=e.length;r<s;r++){const u=e[r];u.type==="inline"&&t.md.inline.parse(u.content,t.md,t.env,u.children)}}function Vx(t){return/^<a[>\s]/i.test(t)}function Kx(t){return/^<\/a\s*>/i.test(t)}function Qx(t){const e=t.tokens;if(t.md.options.linkify)for(let r=0,s=e.length;r<s;r++){if(e[r].type!=="inline"||!t.md.linkify.pretest(e[r].content))continue;let u=e[r].children,l=0;for(let f=u.length-1;f>=0;f--){const h=u[f];if(h.type==="link_close"){for(f--;u[f].level!==h.level&&u[f].type!=="link_open";)f--;continue}if(h.type==="html_inline"&&(Vx(h.content)&&l>0&&l--,Kx(h.content)&&l++),!(l>0)&&h.type==="text"&&t.md.linkify.test(h.content)){const b=h.content;let x=t.md.linkify.match(b);const w=[];let S=h.level,O=0;x.length>0&&x[0].index===0&&f>0&&u[f-1].type==="text_special"&&(x=x.slice(1));for(let W=0;W<x.length;W++){const N=x[W].url,j=t.md.normalizeLink(N);if(!t.md.validateLink(j))continue;let q=x[W].text;x[W].schema?x[W].schema==="mailto:"&&!/^mailto:/i.test(q)?q=t.md.normalizeLinkText("mailto:"+q).replace(/^mailto:/,""):q=t.md.normalizeLinkText(q):q=t.md.normalizeLinkText("http://"+q).replace(/^http:\/\//,"");const M=x[W].index;if(M>O){const z=new t.Token("text","",0);z.content=b.slice(O,M),z.level=S,w.push(z)}const E=new t.Token("link_open","a",1);E.attrs=[["href",j]],E.level=S++,E.markup="linkify",E.info="auto",w.push(E);const D=new t.Token("text","",0);D.content=q,D.level=S,w.push(D);const B=new t.Token("link_close","a",-1);B.level=--S,B.markup="linkify",B.info="auto",w.push(B),O=x[W].lastIndex}if(O<b.length){const W=new t.Token("text","",0);W.content=b.slice(O),W.level=S,w.push(W)}e[r].children=u=H0(u,f,w)}}}}const j0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Jx=/\((c|tm|r)\)/i,ek=/\((c|tm|r)\)/ig,tk={c:"",r:"",tm:""};function ik(t,e){return tk[e.toLowerCase()]}function nk(t){let e=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s.type==="text"&&!e&&(s.content=s.content.replace(ek,ik)),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function rk(t){let e=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s.type==="text"&&!e&&j0.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function ok(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(Jx.test(t.tokens[e].content)&&nk(t.tokens[e].children),j0.test(t.tokens[e].content)&&rk(t.tokens[e].children))}const ak=/['"]/,xg=/['"]/g,kg="";function dh(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function sk(t,e){let r;const s=[];for(let u=0;u<t.length;u++){const l=t[u],f=t[u].level;for(r=s.length-1;r>=0&&!(s[r].level<=f);r--);if(s.length=r+1,l.type!=="text")continue;let h=l.content,b=0,x=h.length;e:for(;b<x;){xg.lastIndex=b;const w=xg.exec(h);if(!w)break;let S=!0,O=!0;b=w.index+1;const W=w[0]==="'";let N=32;if(w.index-1>=0)N=h.charCodeAt(w.index-1);else for(r=u-1;r>=0&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r--)if(t[r].content){N=t[r].content.charCodeAt(t[r].content.length-1);break}let j=32;if(b<x)j=h.charCodeAt(b);else for(r=u+1;r<t.length&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r++)if(t[r].content){j=t[r].content.charCodeAt(0);break}const q=ff(N)||cf(String.fromCharCode(N)),M=ff(j)||cf(String.fromCharCode(j)),E=lf(N),D=lf(j);if(D?S=!1:M&&(E||q||(S=!1)),E?O=!1:q&&(D||M||(O=!1)),j===34&&w[0]==='"'&&N>=48&&N<=57&&(O=S=!1),S&&O&&(S=q,O=M),!S&&!O){W&&(l.content=dh(l.content,w.index,kg));continue}if(O)for(r=s.length-1;r>=0;r--){let B=s[r];if(s[r].level<f)break;if(B.single===W&&s[r].level===f){B=s[r];let z,V;W?(z=e.md.options.quotes[2],V=e.md.options.quotes[3]):(z=e.md.options.quotes[0],V=e.md.options.quotes[1]),l.content=dh(l.content,w.index,V),t[B.token].content=dh(t[B.token].content,B.pos,z),b+=V.length-1,B.token===u&&(b+=z.length-1),h=l.content,x=h.length,s.length=r;continue e}}S?s.push({token:u,pos:w.index,single:W,level:f}):O&&W&&(l.content=dh(l.content,w.index,kg))}}}function uk(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!ak.test(t.tokens[e].content)||sk(t.tokens[e].children,t)}function lk(t){let e,r;const s=t.tokens,u=s.length;for(let l=0;l<u;l++){if(s[l].type!=="inline")continue;const f=s[l].children,h=f.length;for(e=0;e<h;e++)f[e].type==="text_special"&&(f[e].type="text");for(e=r=0;e<h;e++)f[e].type==="text"&&e+1<h&&f[e+1].type==="text"?f[e+1].content=f[e].content+f[e+1].content:(e!==r&&(f[r]=f[e]),r++);e!==r&&(f.length=r)}}const Zd=[["normalize",Gx],["block",Zx],["inline",Xx],["linkify",Qx],["replacements",ok],["smartquotes",uk],["text_join",lk]];function Np(){this.ruler=new Co;for(let t=0;t<Zd.length;t++)this.ruler.push(Zd[t][0],Zd[t][1])}Np.prototype.process=function(t){const e=this.ruler.getRules("");for(let r=0,s=e.length;r<s;r++)e[r](t)};Np.prototype.State=q0;function hs(t,e,r,s){this.src=t,this.md=e,this.env=r,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let l=0,f=0,h=0,b=0,x=u.length,w=!1;f<x;f++){const S=u.charCodeAt(f);if(!w)if(cn(S)){h++,S===9?b+=4-b%4:b++;continue}else w=!0;(S===10||f===x-1)&&(S!==10&&f++,this.bMarks.push(l),this.eMarks.push(f),this.tShift.push(h),this.sCount.push(b),this.bsCount.push(0),w=!1,h=0,b=0,l=f+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}hs.prototype.push=function(t,e,r){const s=new Ra(t,e,r);return s.block=!0,r<0&&this.level--,s.level=this.level,r>0&&this.level++,this.tokens.push(s),s};hs.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};hs.prototype.skipEmptyLines=function(e){for(let r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};hs.prototype.skipSpaces=function(e){for(let r=this.src.length;e<r;e++){const s=this.src.charCodeAt(e);if(!cn(s))break}return e};hs.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!cn(this.src.charCodeAt(--e)))return e+1;return e};hs.prototype.skipChars=function(e,r){for(let s=this.src.length;e<s&&this.src.charCodeAt(e)===r;e++);return e};hs.prototype.skipCharsBack=function(e,r,s){if(e<=s)return e;for(;e>s;)if(r!==this.src.charCodeAt(--e))return e+1;return e};hs.prototype.getLines=function(e,r,s,u){if(e>=r)return"";const l=new Array(r-e);for(let f=0,h=e;h<r;h++,f++){let b=0;const x=this.bMarks[h];let w=x,S;for(h+1<r||u?S=this.eMarks[h]+1:S=this.eMarks[h];w<S&&b<s;){const O=this.src.charCodeAt(w);if(cn(O))O===9?b+=4-(b+this.bsCount[h])%4:b++;else if(w-x<this.tShift[h])b++;else break;w++}b>s?l[f]=new Array(b-s+1).join(" ")+this.src.slice(w,S):l[f]=this.src.slice(w,S)}return l.join("")};hs.prototype.Token=Ra;const ck=65536;function Xd(t,e){const r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(r,s)}function Cg(t){const e=[],r=t.length;let s=0,u=t.charCodeAt(s),l=!1,f=0,h="";for(;s<r;)u===124&&(l?(h+=t.substring(f,s-1),f=s):(e.push(h+t.substring(f,s)),h="",f=s+1)),l=u===92,s++,u=t.charCodeAt(s);return e.push(h+t.substring(f)),e}function fk(t,e,r,s){if(e+2>r)return!1;let u=e+1;if(t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)return!1;let l=t.bMarks[u]+t.tShift[u];if(l>=t.eMarks[u])return!1;const f=t.src.charCodeAt(l++);if(f!==124&&f!==45&&f!==58||l>=t.eMarks[u])return!1;const h=t.src.charCodeAt(l++);if(h!==124&&h!==45&&h!==58&&!cn(h)||f===45&&cn(h))return!1;for(;l<t.eMarks[u];){const B=t.src.charCodeAt(l);if(B!==124&&B!==45&&B!==58&&!cn(B))return!1;l++}let b=Xd(t,e+1),x=b.split("|");const w=[];for(let B=0;B<x.length;B++){const z=x[B].trim();if(!z){if(B===0||B===x.length-1)continue;return!1}if(!/^:?-+:?$/.test(z))return!1;z.charCodeAt(z.length-1)===58?w.push(z.charCodeAt(0)===58?"center":"right"):z.charCodeAt(0)===58?w.push("left"):w.push("")}if(b=Xd(t,e).trim(),b.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;x=Cg(b),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop();const S=x.length;if(S===0||S!==w.length)return!1;if(s)return!0;const O=t.parentType;t.parentType="table";const W=t.md.block.ruler.getRules("blockquote"),N=t.push("table_open","table",1),j=[e,0];N.map=j;const q=t.push("thead_open","thead",1);q.map=[e,e+1];const M=t.push("tr_open","tr",1);M.map=[e,e+1];for(let B=0;B<x.length;B++){const z=t.push("th_open","th",1);w[B]&&(z.attrs=[["style","text-align:"+w[B]]]);const V=t.push("inline","",0);V.content=x[B].trim(),V.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let E,D=0;for(u=e+2;u<r&&!(t.sCount[u]<t.blkIndent);u++){let B=!1;for(let V=0,ne=W.length;V<ne;V++)if(W[V](t,u,r,!0)){B=!0;break}if(B||(b=Xd(t,u).trim(),!b)||t.sCount[u]-t.blkIndent>=4||(x=Cg(b),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),D+=S-x.length,D>ck))break;if(u===e+2){const V=t.push("tbody_open","tbody",1);V.map=E=[e+2,0]}const z=t.push("tr_open","tr",1);z.map=[u,u+1];for(let V=0;V<S;V++){const ne=t.push("td_open","td",1);w[V]&&(ne.attrs=[["style","text-align:"+w[V]]]);const ue=t.push("inline","",0);ue.content=x[V]?x[V].trim():"",ue.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return E&&(t.push("tbody_close","tbody",-1),E[1]=u),t.push("table_close","table",-1),j[1]=u,t.parentType=O,t.line=u,!0}function hk(t,e,r){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,u=s;for(;s<r;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}t.line=u;const l=t.push("code_block","code",0);return l.content=t.getLines(e,u,4+t.blkIndent,!1)+`
`,l.map=[e,t.line],!0}function dk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||u+3>l)return!1;const f=t.src.charCodeAt(u);if(f!==126&&f!==96)return!1;let h=u;u=t.skipChars(u,f);let b=u-h;if(b<3)return!1;const x=t.src.slice(h,u),w=t.src.slice(u,l);if(f===96&&w.indexOf(String.fromCharCode(f))>=0)return!1;if(s)return!0;let S=e,O=!1;for(;S++,!(S>=r||(u=h=t.bMarks[S]+t.tShift[S],l=t.eMarks[S],u<l&&t.sCount[S]<t.blkIndent));)if(t.src.charCodeAt(u)===f&&!(t.sCount[S]-t.blkIndent>=4)&&(u=t.skipChars(u,f),!(u-h<b)&&(u=t.skipSpaces(u),!(u<l)))){O=!0;break}b=t.sCount[e],t.line=S+(O?1:0);const W=t.push("fence","code",0);return W.info=w,W.content=t.getLines(e+1,S,b,!0),W.markup=x,W.map=[e,t.line],!0}function pk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];const f=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==62)return!1;if(s)return!0;const h=[],b=[],x=[],w=[],S=t.md.block.ruler.getRules("blockquote"),O=t.parentType;t.parentType="blockquote";let W=!1,N;for(N=e;N<r;N++){const D=t.sCount[N]<t.blkIndent;if(u=t.bMarks[N]+t.tShift[N],l=t.eMarks[N],u>=l)break;if(t.src.charCodeAt(u++)===62&&!D){let z=t.sCount[N]+1,V,ne;t.src.charCodeAt(u)===32?(u++,z++,ne=!1,V=!0):t.src.charCodeAt(u)===9?(V=!0,(t.bsCount[N]+z)%4===3?(u++,z++,ne=!1):ne=!0):V=!1;let ue=z;for(h.push(t.bMarks[N]),t.bMarks[N]=u;u<l;){const de=t.src.charCodeAt(u);if(cn(de))de===9?ue+=4-(ue+t.bsCount[N]+(ne?1:0))%4:ue++;else break;u++}W=u>=l,b.push(t.bsCount[N]),t.bsCount[N]=t.sCount[N]+1+(V?1:0),x.push(t.sCount[N]),t.sCount[N]=ue-z,w.push(t.tShift[N]),t.tShift[N]=u-t.bMarks[N];continue}if(W)break;let B=!1;for(let z=0,V=S.length;z<V;z++)if(S[z](t,N,r,!0)){B=!0;break}if(B){t.lineMax=N,t.blkIndent!==0&&(h.push(t.bMarks[N]),b.push(t.bsCount[N]),w.push(t.tShift[N]),x.push(t.sCount[N]),t.sCount[N]-=t.blkIndent);break}h.push(t.bMarks[N]),b.push(t.bsCount[N]),w.push(t.tShift[N]),x.push(t.sCount[N]),t.sCount[N]=-1}const j=t.blkIndent;t.blkIndent=0;const q=t.push("blockquote_open","blockquote",1);q.markup=">";const M=[e,0];q.map=M,t.md.block.tokenize(t,e,N);const E=t.push("blockquote_close","blockquote",-1);E.markup=">",t.lineMax=f,t.parentType=O,M[1]=t.line;for(let D=0;D<w.length;D++)t.bMarks[D+e]=h[D],t.tShift[D+e]=w[D],t.sCount[D+e]=x[D],t.bsCount[D+e]=b[D];return t.blkIndent=j,!0}function mk(t,e,r,s){const u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let l=t.bMarks[e]+t.tShift[e];const f=t.src.charCodeAt(l++);if(f!==42&&f!==45&&f!==95)return!1;let h=1;for(;l<u;){const x=t.src.charCodeAt(l++);if(x!==f&&!cn(x))return!1;x===f&&h++}if(h<3)return!1;if(s)return!0;t.line=e+1;const b=t.push("hr","hr",0);return b.map=[e,t.line],b.markup=Array(h+1).join(String.fromCharCode(f)),!0}function Eg(t,e){const r=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const u=t.src.charCodeAt(s++);if(u!==42&&u!==45&&u!==43)return-1;if(s<r){const l=t.src.charCodeAt(s);if(!cn(l))return-1}return s}function Sg(t,e){const r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let u=r;if(u+1>=s)return-1;let l=t.src.charCodeAt(u++);if(l<48||l>57)return-1;for(;;){if(u>=s)return-1;if(l=t.src.charCodeAt(u++),l>=48&&l<=57){if(u-r>=10)return-1;continue}if(l===41||l===46)break;return-1}return u<s&&(l=t.src.charCodeAt(u),!cn(l))?-1:u}function gk(t,e){const r=t.level+2;for(let s=e+2,u=t.tokens.length-2;s<u;s++)t.tokens[s].level===r&&t.tokens[s].type==="paragraph_open"&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}function vk(t,e,r,s){let u,l,f,h,b=e,x=!0;if(t.sCount[b]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[b]-t.listIndent>=4&&t.sCount[b]<t.blkIndent)return!1;let w=!1;s&&t.parentType==="paragraph"&&t.sCount[b]>=t.blkIndent&&(w=!0);let S,O,W;if((W=Sg(t,b))>=0){if(S=!0,f=t.bMarks[b]+t.tShift[b],O=Number(t.src.slice(f,W-1)),w&&O!==1)return!1}else if((W=Eg(t,b))>=0)S=!1;else return!1;if(w&&t.skipSpaces(W)>=t.eMarks[b])return!1;if(s)return!0;const N=t.src.charCodeAt(W-1),j=t.tokens.length;S?(h=t.push("ordered_list_open","ol",1),O!==1&&(h.attrs=[["start",O]])):h=t.push("bullet_list_open","ul",1);const q=[b,0];h.map=q,h.markup=String.fromCharCode(N);let M=!1;const E=t.md.block.ruler.getRules("list"),D=t.parentType;for(t.parentType="list";b<r;){l=W,u=t.eMarks[b];const B=t.sCount[b]+W-(t.bMarks[b]+t.tShift[b]);let z=B;for(;l<u;){const P=t.src.charCodeAt(l);if(P===9)z+=4-(z+t.bsCount[b])%4;else if(P===32)z++;else break;l++}const V=l;let ne;V>=u?ne=1:ne=z-B,ne>4&&(ne=1);const ue=B+ne;h=t.push("list_item_open","li",1),h.markup=String.fromCharCode(N);const de=[b,0];h.map=de,S&&(h.info=t.src.slice(f,W-1));const ge=t.tight,fe=t.tShift[b],De=t.sCount[b],ve=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=ue,t.tight=!0,t.tShift[b]=V-t.bMarks[b],t.sCount[b]=z,V>=u&&t.isEmpty(b+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,b,r,!0),(!t.tight||M)&&(x=!1),M=t.line-b>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ve,t.tShift[b]=fe,t.sCount[b]=De,t.tight=ge,h=t.push("list_item_close","li",-1),h.markup=String.fromCharCode(N),b=t.line,de[1]=b,b>=r||t.sCount[b]<t.blkIndent||t.sCount[b]-t.blkIndent>=4)break;let re=!1;for(let P=0,se=E.length;P<se;P++)if(E[P](t,b,r,!0)){re=!0;break}if(re)break;if(S){if(W=Sg(t,b),W<0)break;f=t.bMarks[b]+t.tShift[b]}else if(W=Eg(t,b),W<0)break;if(N!==t.src.charCodeAt(W-1))break}return S?h=t.push("ordered_list_close","ol",-1):h=t.push("bullet_list_close","ul",-1),h.markup=String.fromCharCode(N),q[1]=b,t.line=b,t.parentType=D,x&&gk(t,j),!0}function bk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e],f=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==91)return!1;function h(E){const D=t.lineMax;if(E>=D||t.isEmpty(E))return null;let B=!1;if(t.sCount[E]-t.blkIndent>3&&(B=!0),t.sCount[E]<0&&(B=!0),!B){const ne=t.md.block.ruler.getRules("reference"),ue=t.parentType;t.parentType="reference";let de=!1;for(let ge=0,fe=ne.length;ge<fe;ge++)if(ne[ge](t,E,D,!0)){de=!0;break}if(t.parentType=ue,de)return null}const z=t.bMarks[E]+t.tShift[E],V=t.eMarks[E];return t.src.slice(z,V+1)}let b=t.src.slice(u,l+1);l=b.length;let x=-1;for(u=1;u<l;u++){const E=b.charCodeAt(u);if(E===91)return!1;if(E===93){x=u;break}else if(E===10){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}else if(E===92&&(u++,u<l&&b.charCodeAt(u)===10)){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}}if(x<0||b.charCodeAt(x+1)!==58)return!1;for(u=x+2;u<l;u++){const E=b.charCodeAt(u);if(E===10){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}else if(!cn(E))break}const w=t.md.helpers.parseLinkDestination(b,u,l);if(!w.ok)return!1;const S=t.md.normalizeLink(w.str);if(!t.md.validateLink(S))return!1;u=w.pos;const O=u,W=f,N=u;for(;u<l;u++){const E=b.charCodeAt(u);if(E===10){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}else if(!cn(E))break}let j=t.md.helpers.parseLinkTitle(b,u,l);for(;j.can_continue;){const E=h(f);if(E===null)break;b+=E,u=l,l=b.length,f++,j=t.md.helpers.parseLinkTitle(b,u,l,j)}let q;for(u<l&&N!==u&&j.ok?(q=j.str,u=j.pos):(q="",u=O,f=W);u<l;){const E=b.charCodeAt(u);if(!cn(E))break;u++}if(u<l&&b.charCodeAt(u)!==10&&q)for(q="",u=O,f=W;u<l;){const E=b.charCodeAt(u);if(!cn(E))break;u++}if(u<l&&b.charCodeAt(u)!==10)return!1;const M=td(b.slice(1,x));return M?(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[M]>"u"&&(t.env.references[M]={title:q,href:S}),t.line=f),!0):!1}const _k=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yk="[a-zA-Z_:][a-zA-Z0-9:._-]*",wk="[^\"'=<>`\\x00-\\x20]+",xk="'[^']*'",kk='"[^"]*"',Ck="(?:"+wk+"|"+xk+"|"+kk+")",Ek="(?:\\s+"+yk+"(?:\\s*=\\s*"+Ck+")?)",U0="<[A-Za-z][A-Za-z0-9\\-]*"+Ek+"*\\s*\\/?>",Y0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Sk="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Tk="<[?][\\s\\S]*?[?]>",Ak="<![A-Za-z][^>]*>",Dk="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Lk=new RegExp("^(?:"+U0+"|"+Y0+"|"+Sk+"|"+Tk+"|"+Ak+"|"+Dk+")"),Mk=new RegExp("^(?:"+U0+"|"+Y0+")"),Gl=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+_k.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Mk.source+"\\s*$"),/^$/,!1]];function Pk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(u)!==60)return!1;let f=t.src.slice(u,l),h=0;for(;h<Gl.length&&!Gl[h][0].test(f);h++);if(h===Gl.length)return!1;if(s)return Gl[h][2];let b=e+1;if(!Gl[h][1].test(f)){for(;b<r&&!(t.sCount[b]<t.blkIndent);b++)if(u=t.bMarks[b]+t.tShift[b],l=t.eMarks[b],f=t.src.slice(u,l),Gl[h][1].test(f)){f.length!==0&&b++;break}}t.line=b;const x=t.push("html_block","",0);return x.map=[e,b],x.content=t.getLines(e,b,t.blkIndent,!0),!0}function Ok(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let f=t.src.charCodeAt(u);if(f!==35||u>=l)return!1;let h=1;for(f=t.src.charCodeAt(++u);f===35&&u<l&&h<=6;)h++,f=t.src.charCodeAt(++u);if(h>6||u<l&&!cn(f))return!1;if(s)return!0;l=t.skipSpacesBack(l,u);const b=t.skipCharsBack(l,35,u);b>u&&cn(t.src.charCodeAt(b-1))&&(l=b),t.line=e+1;const x=t.push("heading_open","h"+String(h),1);x.markup="########".slice(0,h),x.map=[e,t.line];const w=t.push("inline","",0);w.content=t.src.slice(u,l).trim(),w.map=[e,t.line],w.children=[];const S=t.push("heading_close","h"+String(h),-1);return S.markup="########".slice(0,h),!0}function Fk(t,e,r){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const u=t.parentType;t.parentType="paragraph";let l=0,f,h=e+1;for(;h<r&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3)continue;if(t.sCount[h]>=t.blkIndent){let W=t.bMarks[h]+t.tShift[h];const N=t.eMarks[h];if(W<N&&(f=t.src.charCodeAt(W),(f===45||f===61)&&(W=t.skipChars(W,f),W=t.skipSpaces(W),W>=N))){l=f===61?1:2;break}}if(t.sCount[h]<0)continue;let O=!1;for(let W=0,N=s.length;W<N;W++)if(s[W](t,h,r,!0)){O=!0;break}if(O)break}if(!l)return!1;const b=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h+1;const x=t.push("heading_open","h"+String(l),1);x.markup=String.fromCharCode(f),x.map=[e,t.line];const w=t.push("inline","",0);w.content=b,w.map=[e,t.line-1],w.children=[];const S=t.push("heading_close","h"+String(l),-1);return S.markup=String.fromCharCode(f),t.parentType=u,!0}function Rk(t,e,r){const s=t.md.block.ruler.getRules("paragraph"),u=t.parentType;let l=e+1;for(t.parentType="paragraph";l<r&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3||t.sCount[l]<0)continue;let x=!1;for(let w=0,S=s.length;w<S;w++)if(s[w](t,l,r,!0)){x=!0;break}if(x)break}const f=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l;const h=t.push("paragraph_open","p",1);h.map=[e,t.line];const b=t.push("inline","",0);return b.content=f,b.map=[e,t.line],b.children=[],t.push("paragraph_close","p",-1),t.parentType=u,!0}const ph=[["table",fk,["paragraph","reference"]],["code",hk],["fence",dk,["paragraph","reference","blockquote","list"]],["blockquote",pk,["paragraph","reference","blockquote","list"]],["hr",mk,["paragraph","reference","blockquote","list"]],["list",vk,["paragraph","reference","blockquote"]],["reference",bk],["html_block",Pk,["paragraph","reference","blockquote"]],["heading",Ok,["paragraph","reference","blockquote"]],["lheading",Fk],["paragraph",Rk]];function id(){this.ruler=new Co;for(let t=0;t<ph.length;t++)this.ruler.push(ph[t][0],ph[t][1],{alt:(ph[t][2]||[]).slice()})}id.prototype.tokenize=function(t,e,r){const s=this.ruler.getRules(""),u=s.length,l=t.md.options.maxNesting;let f=e,h=!1;for(;f<r&&(t.line=f=t.skipEmptyLines(f),!(f>=r||t.sCount[f]<t.blkIndent));){if(t.level>=l){t.line=r;break}const b=t.line;let x=!1;for(let w=0;w<u;w++)if(x=s[w](t,f,r,!1),x){if(b>=t.line)throw new Error("block rule didn't increment state.line");break}if(!x)throw new Error("none of the block rules matched");t.tight=!h,t.isEmpty(t.line-1)&&(h=!0),f=t.line,f<r&&t.isEmpty(f)&&(h=!0,f++,t.line=f)}};id.prototype.parse=function(t,e,r,s){if(!t)return;const u=new this.State(t,e,r,s);this.tokenize(u,u.line,u.lineMax)};id.prototype.State=hs;function mf(t,e,r,s){this.src=t,this.env=r,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}mf.prototype.pushPending=function(){const t=new Ra("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};mf.prototype.push=function(t,e,r){this.pending&&this.pushPending();const s=new Ra(t,e,r);let u=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(u),s};mf.prototype.scanDelims=function(t,e){const r=this.posMax,s=this.src.charCodeAt(t),u=t>0?this.src.charCodeAt(t-1):32;let l=t;for(;l<r&&this.src.charCodeAt(l)===s;)l++;const f=l-t,h=l<r?this.src.charCodeAt(l):32,b=ff(u)||cf(String.fromCharCode(u)),x=ff(h)||cf(String.fromCharCode(h)),w=lf(u),S=lf(h),O=!S&&(!x||w||b),W=!w&&(!b||S||x);return{can_open:O&&(e||!W||b),can_close:W&&(e||!O||x),length:f}};mf.prototype.Token=Ra;function Nk(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function zk(t,e){let r=t.pos;for(;r<t.posMax&&!Nk(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}const Ik=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Bk(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const r=t.pos,s=t.posMax;if(r+3>s||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47)return!1;const u=t.pending.match(Ik);if(!u)return!1;const l=u[1],f=t.md.linkify.matchAtStart(t.src.slice(r-l.length));if(!f)return!1;let h=f.url;if(h.length<=l.length)return!1;h=h.replace(/\*+$/,"");const b=t.md.normalizeLink(h);if(!t.md.validateLink(b))return!1;if(!e){t.pending=t.pending.slice(0,-l.length);const x=t.push("link_open","a",1);x.attrs=[["href",b]],x.markup="linkify",x.info="auto";const w=t.push("text","",0);w.content=t.md.normalizeLinkText(h);const S=t.push("link_close","a",-1);S.markup="linkify",S.info="auto"}return t.pos+=h.length-l.length,!0}function $k(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==10)return!1;const s=t.pending.length-1,u=t.posMax;if(!e)if(s>=0&&t.pending.charCodeAt(s)===32)if(s>=1&&t.pending.charCodeAt(s-1)===32){let l=s-1;for(;l>=1&&t.pending.charCodeAt(l-1)===32;)l--;t.pending=t.pending.slice(0,l),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(r++;r<u&&cn(t.src.charCodeAt(r));)r++;return t.pos=r,!0}const zp=[];for(let t=0;t<256;t++)zp.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){zp[t.charCodeAt(0)]=1});function Hk(t,e){let r=t.pos;const s=t.posMax;if(t.src.charCodeAt(r)!==92||(r++,r>=s))return!1;let u=t.src.charCodeAt(r);if(u===10){for(e||t.push("hardbreak","br",0),r++;r<s&&(u=t.src.charCodeAt(r),!!cn(u));)r++;return t.pos=r,!0}let l=t.src[r];if(u>=55296&&u<=56319&&r+1<s){const h=t.src.charCodeAt(r+1);h>=56320&&h<=57343&&(l+=t.src[r+1],r++)}const f="\\"+l;if(!e){const h=t.push("text_special","",0);u<256&&zp[u]!==0?h.content=l:h.content=f,h.markup=f,h.info="escape"}return t.pos=r+1,!0}function Wk(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==96)return!1;const u=r;r++;const l=t.posMax;for(;r<l&&t.src.charCodeAt(r)===96;)r++;const f=t.src.slice(u,r),h=f.length;if(t.backticksScanned&&(t.backticks[h]||0)<=u)return e||(t.pending+=f),t.pos+=h,!0;let b=r,x;for(;(x=t.src.indexOf("`",b))!==-1;){for(b=x+1;b<l&&t.src.charCodeAt(b)===96;)b++;const w=b-x;if(w===h){if(!e){const S=t.push("code_inline","code",0);S.markup=f,S.content=t.src.slice(r,x).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=b,!0}t.backticks[w]=x}return t.backticksScanned=!0,e||(t.pending+=f),t.pos+=h,!0}function qk(t,e){const r=t.pos,s=t.src.charCodeAt(r);if(e||s!==126)return!1;const u=t.scanDelims(t.pos,!0);let l=u.length;const f=String.fromCharCode(s);if(l<2)return!1;let h;l%2&&(h=t.push("text","",0),h.content=f,l--);for(let b=0;b<l;b+=2)h=t.push("text","",0),h.content=f+f,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return t.pos+=u.length,!0}function Tg(t,e){let r;const s=[],u=e.length;for(let l=0;l<u;l++){const f=e[l];if(f.marker!==126||f.end===-1)continue;const h=e[f.end];r=t.tokens[f.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=t.tokens[h.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",t.tokens[h.token-1].type==="text"&&t.tokens[h.token-1].content==="~"&&s.push(h.token-1)}for(;s.length;){const l=s.pop();let f=l+1;for(;f<t.tokens.length&&t.tokens[f].type==="s_close";)f++;f--,l!==f&&(r=t.tokens[f],t.tokens[f]=t.tokens[l],t.tokens[l]=r)}}function jk(t){const e=t.tokens_meta,r=t.tokens_meta.length;Tg(t,t.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&Tg(t,e[s].delimiters)}const G0={tokenize:qk,postProcess:jk};function Uk(t,e){const r=t.pos,s=t.src.charCodeAt(r);if(e||s!==95&&s!==42)return!1;const u=t.scanDelims(t.pos,s===42);for(let l=0;l<u.length;l++){const f=t.push("text","",0);f.content=String.fromCharCode(s),t.delimiters.push({marker:s,length:u.length,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return t.pos+=u.length,!0}function Ag(t,e){const r=e.length;for(let s=r-1;s>=0;s--){const u=e[s];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const l=e[u.end],f=s>0&&e[s-1].end===u.end+1&&e[s-1].marker===u.marker&&e[s-1].token===u.token-1&&e[u.end+1].token===l.token+1,h=String.fromCharCode(u.marker),b=t.tokens[u.token];b.type=f?"strong_open":"em_open",b.tag=f?"strong":"em",b.nesting=1,b.markup=f?h+h:h,b.content="";const x=t.tokens[l.token];x.type=f?"strong_close":"em_close",x.tag=f?"strong":"em",x.nesting=-1,x.markup=f?h+h:h,x.content="",f&&(t.tokens[e[s-1].token].content="",t.tokens[e[u.end+1].token].content="",s--)}}function Yk(t){const e=t.tokens_meta,r=t.tokens_meta.length;Ag(t,t.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&Ag(t,e[s].delimiters)}const Z0={tokenize:Uk,postProcess:Yk};function Gk(t,e){let r,s,u,l,f="",h="",b=t.pos,x=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const w=t.pos,S=t.posMax,O=t.pos+1,W=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(W<0)return!1;let N=W+1;if(N<S&&t.src.charCodeAt(N)===40){for(x=!1,N++;N<S&&(r=t.src.charCodeAt(N),!(!cn(r)&&r!==10));N++);if(N>=S)return!1;if(b=N,u=t.md.helpers.parseLinkDestination(t.src,N,t.posMax),u.ok){for(f=t.md.normalizeLink(u.str),t.md.validateLink(f)?N=u.pos:f="",b=N;N<S&&(r=t.src.charCodeAt(N),!(!cn(r)&&r!==10));N++);if(u=t.md.helpers.parseLinkTitle(t.src,N,t.posMax),N<S&&b!==N&&u.ok)for(h=u.str,N=u.pos;N<S&&(r=t.src.charCodeAt(N),!(!cn(r)&&r!==10));N++);}(N>=S||t.src.charCodeAt(N)!==41)&&(x=!0),N++}if(x){if(typeof t.env.references>"u")return!1;if(N<S&&t.src.charCodeAt(N)===91?(b=N+1,N=t.md.helpers.parseLinkLabel(t,N),N>=0?s=t.src.slice(b,N++):N=W+1):N=W+1,s||(s=t.src.slice(O,W)),l=t.env.references[td(s)],!l)return t.pos=w,!1;f=l.href,h=l.title}if(!e){t.pos=O,t.posMax=W;const j=t.push("link_open","a",1),q=[["href",f]];j.attrs=q,h&&q.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=N,t.posMax=S,!0}function Zk(t,e){let r,s,u,l,f,h,b,x,w="";const S=t.pos,O=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const W=t.pos+2,N=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(N<0)return!1;if(l=N+1,l<O&&t.src.charCodeAt(l)===40){for(l++;l<O&&(r=t.src.charCodeAt(l),!(!cn(r)&&r!==10));l++);if(l>=O)return!1;for(x=l,h=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),h.ok&&(w=t.md.normalizeLink(h.str),t.md.validateLink(w)?l=h.pos:w=""),x=l;l<O&&(r=t.src.charCodeAt(l),!(!cn(r)&&r!==10));l++);if(h=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<O&&x!==l&&h.ok)for(b=h.str,l=h.pos;l<O&&(r=t.src.charCodeAt(l),!(!cn(r)&&r!==10));l++);else b="";if(l>=O||t.src.charCodeAt(l)!==41)return t.pos=S,!1;l++}else{if(typeof t.env.references>"u")return!1;if(l<O&&t.src.charCodeAt(l)===91?(x=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?u=t.src.slice(x,l++):l=N+1):l=N+1,u||(u=t.src.slice(W,N)),f=t.env.references[td(u)],!f)return t.pos=S,!1;w=f.href,b=f.title}if(!e){s=t.src.slice(W,N);const j=[];t.md.inline.parse(s,t.md,t.env,j);const q=t.push("image","img",0),M=[["src",w],["alt",""]];q.attrs=M,q.children=j,q.content=s,b&&M.push(["title",b])}return t.pos=l,t.posMax=O,!0}const Xk=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Vk=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Kk(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==60)return!1;const s=t.pos,u=t.posMax;for(;;){if(++r>=u)return!1;const f=t.src.charCodeAt(r);if(f===60)return!1;if(f===62)break}const l=t.src.slice(s+1,r);if(Vk.test(l)){const f=t.md.normalizeLink(l);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const b=t.push("text","",0);b.content=t.md.normalizeLinkText(l);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=l.length+2,!0}if(Xk.test(l)){const f=t.md.normalizeLink("mailto:"+l);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const b=t.push("text","",0);b.content=t.md.normalizeLinkText(l);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=l.length+2,!0}return!1}function Qk(t){return/^<a[>\s]/i.test(t)}function Jk(t){return/^<\/a\s*>/i.test(t)}function e2(t){const e=t|32;return e>=97&&e<=122}function t2(t,e){if(!t.md.options.html)return!1;const r=t.posMax,s=t.pos;if(t.src.charCodeAt(s)!==60||s+2>=r)return!1;const u=t.src.charCodeAt(s+1);if(u!==33&&u!==63&&u!==47&&!e2(u))return!1;const l=t.src.slice(s).match(Lk);if(!l)return!1;if(!e){const f=t.push("html_inline","",0);f.content=l[0],Qk(f.content)&&t.linkLevel++,Jk(f.content)&&t.linkLevel--}return t.pos+=l[0].length,!0}const i2=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,n2=/^&([a-z][a-z0-9]{1,31});/i;function r2(t,e){const r=t.pos,s=t.posMax;if(t.src.charCodeAt(r)!==38||r+1>=s)return!1;if(t.src.charCodeAt(r+1)===35){const l=t.src.slice(r).match(i2);if(l){if(!e){const f=l[1][0].toLowerCase()==="x"?parseInt(l[1].slice(1),16):parseInt(l[1],10),h=t.push("text_special","",0);h.content=Rp(f)?Hh(f):Hh(65533),h.markup=l[0],h.info="entity"}return t.pos+=l[0].length,!0}}else{const l=t.src.slice(r).match(n2);if(l){const f=$0(l[0]);if(f!==l[0]){if(!e){const h=t.push("text_special","",0);h.content=f,h.markup=l[0],h.info="entity"}return t.pos+=l[0].length,!0}}}return!1}function Dg(t){const e={},r=t.length;if(!r)return;let s=0,u=-2;const l=[];for(let f=0;f<r;f++){const h=t[f];if(l.push(0),(t[s].marker!==h.marker||u!==h.token-1)&&(s=f),u=h.token,h.length=h.length||0,!h.close)continue;e.hasOwnProperty(h.marker)||(e[h.marker]=[-1,-1,-1,-1,-1,-1]);const b=e[h.marker][(h.open?3:0)+h.length%3];let x=s-l[s]-1,w=x;for(;x>b;x-=l[x]+1){const S=t[x];if(S.marker===h.marker&&S.open&&S.end<0){let O=!1;if((S.close||h.open)&&(S.length+h.length)%3===0&&(S.length%3!==0||h.length%3!==0)&&(O=!0),!O){const W=x>0&&!t[x-1].open?l[x-1]+1:0;l[f]=f-x+W,l[x]=W,h.open=!1,S.end=f,S.close=!1,w=-1,u=-2;break}}}w!==-1&&(e[h.marker][(h.open?3:0)+(h.length||0)%3]=w)}}function o2(t){const e=t.tokens_meta,r=t.tokens_meta.length;Dg(t.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&Dg(e[s].delimiters)}function a2(t){let e,r,s=0;const u=t.tokens,l=t.tokens.length;for(e=r=0;e<l;e++)u[e].nesting<0&&s--,u[e].level=s,u[e].nesting>0&&s++,u[e].type==="text"&&e+1<l&&u[e+1].type==="text"?u[e+1].content=u[e].content+u[e+1].content:(e!==r&&(u[r]=u[e]),r++);e!==r&&(u.length=r)}const Vd=[["text",zk],["linkify",Bk],["newline",$k],["escape",Hk],["backticks",Wk],["strikethrough",G0.tokenize],["emphasis",Z0.tokenize],["link",Gk],["image",Zk],["autolink",Kk],["html_inline",t2],["entity",r2]],Kd=[["balance_pairs",o2],["strikethrough",G0.postProcess],["emphasis",Z0.postProcess],["fragments_join",a2]];function gf(){this.ruler=new Co;for(let t=0;t<Vd.length;t++)this.ruler.push(Vd[t][0],Vd[t][1]);this.ruler2=new Co;for(let t=0;t<Kd.length;t++)this.ruler2.push(Kd[t][0],Kd[t][1])}gf.prototype.skipToken=function(t){const e=t.pos,r=this.ruler.getRules(""),s=r.length,u=t.md.options.maxNesting,l=t.cache;if(typeof l[e]<"u"){t.pos=l[e];return}let f=!1;if(t.level<u){for(let h=0;h<s;h++)if(t.level++,f=r[h](t,!0),t.level--,f){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;f||t.pos++,l[e]=t.pos};gf.prototype.tokenize=function(t){const e=this.ruler.getRules(""),r=e.length,s=t.posMax,u=t.md.options.maxNesting;for(;t.pos<s;){const l=t.pos;let f=!1;if(t.level<u){for(let h=0;h<r;h++)if(f=e[h](t,!1),f){if(l>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(f){if(t.pos>=s)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};gf.prototype.parse=function(t,e,r,s){const u=new this.State(t,e,r,s);this.tokenize(u);const l=this.ruler2.getRules(""),f=l.length;for(let h=0;h<f;h++)l[h](u)};gf.prototype.State=mf;function s2(t){const e={};t=t||{},e.src_Any=R0.source,e.src_Cc=N0.source,e.src_Z=I0.source,e.src_P=Op.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const r="[><]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function pp(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(s){t[s]=r[s]})}),t}function nd(t){return Object.prototype.toString.call(t)}function u2(t){return nd(t)==="[object String]"}function l2(t){return nd(t)==="[object Object]"}function c2(t){return nd(t)==="[object RegExp]"}function Lg(t){return nd(t)==="[object Function]"}function f2(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const X0={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function h2(t){return Object.keys(t||{}).reduce(function(e,r){return e||X0.hasOwnProperty(r)},!1)}const d2={"http:":{validate:function(t,e,r){const s=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(s)?s.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){const s=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(s)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:s.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){const s=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(s)?s.match(r.re.mailto)[0].length:0}}},p2="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m2="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function g2(t){t.__index__=-1,t.__text_cache__=""}function v2(t){return function(e,r){const s=e.slice(r);return t.test(s)?s.match(t)[0].length:0}}function Mg(){return function(t,e){e.normalize(t)}}function Wh(t){const e=t.re=s2(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(p2),r.push(e.src_xn),e.src_tlds=r.join("|");function s(h){return h.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const u=[];t.__compiled__={};function l(h,b){throw new Error('(LinkifyIt) Invalid schema "'+h+'": '+b)}Object.keys(t.__schemas__).forEach(function(h){const b=t.__schemas__[h];if(b===null)return;const x={validate:null,link:null};if(t.__compiled__[h]=x,l2(b)){c2(b.validate)?x.validate=v2(b.validate):Lg(b.validate)?x.validate=b.validate:l(h,b),Lg(b.normalize)?x.normalize=b.normalize:b.normalize?l(h,b):x.normalize=Mg();return}if(u2(b)){u.push(h);return}l(h,b)}),u.forEach(function(h){t.__compiled__[t.__schemas__[h]]&&(t.__compiled__[h].validate=t.__compiled__[t.__schemas__[h]].validate,t.__compiled__[h].normalize=t.__compiled__[t.__schemas__[h]].normalize)}),t.__compiled__[""]={validate:null,normalize:Mg()};const f=Object.keys(t.__compiled__).filter(function(h){return h.length>0&&t.__compiled__[h]}).map(f2).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),g2(t)}function b2(t,e){const r=t.__index__,s=t.__last_index__,u=t.__text_cache__.slice(r,s);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=s+e,this.raw=u,this.text=u,this.url=u}function mp(t,e){const r=new b2(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function jo(t,e){if(!(this instanceof jo))return new jo(t,e);e||h2(t)&&(e=t,t={}),this.__opts__=pp({},X0,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=pp({},d2,t),this.__compiled__={},this.__tlds__=m2,this.__tlds_replaced__=!1,this.re={},Wh(this)}jo.prototype.add=function(e,r){return this.__schemas__[e]=r,Wh(this),this};jo.prototype.set=function(e){return this.__opts__=pp(this.__opts__,e),this};jo.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let r,s,u,l,f,h,b,x,w;if(this.re.schema_test.test(e)){for(b=this.re.schema_search,b.lastIndex=0;(r=b.exec(e))!==null;)if(l=this.testSchemaAt(e,r[2],b.lastIndex),l){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+l;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(x=e.search(this.re.host_fuzzy_test),x>=0&&(this.__index__<0||x<this.__index__)&&(s=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(f=s.index+s[1].length,(this.__index__<0||f<this.__index__)&&(this.__schema__="",this.__index__=f,this.__last_index__=s.index+s[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(w=e.indexOf("@"),w>=0&&(u=e.match(this.re.email_fuzzy))!==null&&(f=u.index+u[1].length,h=u.index+u[0].length,(this.__index__<0||f<this.__index__||f===this.__index__&&h>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=f,this.__last_index__=h))),this.__index__>=0};jo.prototype.pretest=function(e){return this.re.pretest.test(e)};jo.prototype.testSchemaAt=function(e,r,s){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,s,this):0};jo.prototype.match=function(e){const r=[];let s=0;this.__index__>=0&&this.__text_cache__===e&&(r.push(mp(this,s)),s=this.__last_index__);let u=s?e.slice(s):e;for(;this.test(u);)r.push(mp(this,s)),u=u.slice(this.__last_index__),s+=this.__last_index__;return r.length?r:null};jo.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const r=this.re.schema_at_start.exec(e);if(!r)return null;const s=this.testSchemaAt(e,r[2],r[0].length);return s?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s,mp(this,0)):null};jo.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(s,u,l){return s!==l[u-1]}).reverse(),Wh(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Wh(this),this)};jo.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};jo.prototype.onCompile=function(){};const Jl=2147483647,as=36,Ip=1,hf=26,_2=38,y2=700,V0=72,K0=128,Q0="-",w2=/^xn--/,x2=/[^\0-\x7F]/,k2=/[\x2E\u3002\uFF0E\uFF61]/g,C2={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Qd=as-Ip,ss=Math.floor,Jd=String.fromCharCode;function Cu(t){throw new RangeError(C2[t])}function E2(t,e){const r=[];let s=t.length;for(;s--;)r[s]=e(t[s]);return r}function J0(t,e){const r=t.split("@");let s="";r.length>1&&(s=r[0]+"@",t=r[1]),t=t.replace(k2,".");const u=t.split("."),l=E2(u,e).join(".");return s+l}function ev(t){const e=[];let r=0;const s=t.length;for(;r<s;){const u=t.charCodeAt(r++);if(u>=55296&&u<=56319&&r<s){const l=t.charCodeAt(r++);(l&64512)==56320?e.push(((u&1023)<<10)+(l&1023)+65536):(e.push(u),r--)}else e.push(u)}return e}const S2=t=>String.fromCodePoint(...t),T2=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:as},Pg=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},tv=function(t,e,r){let s=0;for(t=r?ss(t/y2):t>>1,t+=ss(t/e);t>Qd*hf>>1;s+=as)t=ss(t/Qd);return ss(s+(Qd+1)*t/(t+_2))},iv=function(t){const e=[],r=t.length;let s=0,u=K0,l=V0,f=t.lastIndexOf(Q0);f<0&&(f=0);for(let h=0;h<f;++h)t.charCodeAt(h)>=128&&Cu("not-basic"),e.push(t.charCodeAt(h));for(let h=f>0?f+1:0;h<r;){const b=s;for(let w=1,S=as;;S+=as){h>=r&&Cu("invalid-input");const O=T2(t.charCodeAt(h++));O>=as&&Cu("invalid-input"),O>ss((Jl-s)/w)&&Cu("overflow"),s+=O*w;const W=S<=l?Ip:S>=l+hf?hf:S-l;if(O<W)break;const N=as-W;w>ss(Jl/N)&&Cu("overflow"),w*=N}const x=e.length+1;l=tv(s-b,x,b==0),ss(s/x)>Jl-u&&Cu("overflow"),u+=ss(s/x),s%=x,e.splice(s++,0,u)}return String.fromCodePoint(...e)},nv=function(t){const e=[];t=ev(t);const r=t.length;let s=K0,u=0,l=V0;for(const b of t)b<128&&e.push(Jd(b));const f=e.length;let h=f;for(f&&e.push(Q0);h<r;){let b=Jl;for(const w of t)w>=s&&w<b&&(b=w);const x=h+1;b-s>ss((Jl-u)/x)&&Cu("overflow"),u+=(b-s)*x,s=b;for(const w of t)if(w<s&&++u>Jl&&Cu("overflow"),w===s){let S=u;for(let O=as;;O+=as){const W=O<=l?Ip:O>=l+hf?hf:O-l;if(S<W)break;const N=S-W,j=as-W;e.push(Jd(Pg(W+N%j,0))),S=ss(N/j)}e.push(Jd(Pg(S,0))),l=tv(u,x,h===f),u=0,++h}++u,++s}return e.join("")},A2=function(t){return J0(t,function(e){return w2.test(e)?iv(e.slice(4).toLowerCase()):e})},D2=function(t){return J0(t,function(e){return x2.test(e)?"xn--"+nv(e):e})},rv={version:"2.3.1",ucs2:{decode:ev,encode:S2},decode:iv,encode:nv,toASCII:D2,toUnicode:A2},L2={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},M2={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},P2={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},O2={default:L2,zero:M2,commonmark:P2},F2=/^(vbscript|javascript|file|data):/,R2=/^data:image\/(gif|png|jpeg|webp);/;function N2(t){const e=t.trim().toLowerCase();return F2.test(e)?R2.test(e):!0}const ov=["http:","https:","mailto:"];function z2(t){const e=Pp(t,!0);if(e.hostname&&(!e.protocol||ov.indexOf(e.protocol)>=0))try{e.hostname=rv.toASCII(e.hostname)}catch{}return pf(Mp(e))}function I2(t){const e=Pp(t,!0);if(e.hostname&&(!e.protocol||ov.indexOf(e.protocol)>=0))try{e.hostname=rv.toUnicode(e.hostname)}catch{}return tc(Mp(e),tc.defaultChars+"%")}function pa(t,e){if(!(this instanceof pa))return new pa(t,e);e||Fp(t)||(e=t||{},t="default"),this.inline=new gf,this.block=new id,this.core=new Np,this.renderer=new lc,this.linkify=new jo,this.validateLink=N2,this.normalizeLink=z2,this.normalizeLinkText=I2,this.utils=$x,this.helpers=ed({},jx),this.options={},this.configure(t),e&&this.set(e)}pa.prototype.set=function(t){return ed(this.options,t),this};pa.prototype.configure=function(t){const e=this;if(Fp(t)){const r=t;if(t=O2[r],!t)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};pa.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){r=r.concat(this[u].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));const s=t.filter(function(u){return r.indexOf(u)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this};pa.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){r=r.concat(this[u].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));const s=t.filter(function(u){return r.indexOf(u)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this};pa.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};pa.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};pa.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};pa.prototype.parseInline=function(t,e){const r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};pa.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function B2(t,e,r,s){const u=Number(t[e].meta.id+1).toString();let l="";return typeof s.docId=="string"&&(l=`-${s.docId}-`),l+u}function $2(t,e){let r=Number(t[e].meta.id+1).toString();return t[e].meta.subId>0&&(r+=`:${t[e].meta.subId}`),`[${r}]`}function H2(t,e,r,s,u){const l=u.rules.footnote_anchor_name(t,e,r,s,u),f=u.rules.footnote_caption(t,e,r,s,u);let h=l;return t[e].meta.subId>0&&(h+=`:${t[e].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${l}" id="fnref${h}">${f}</a></sup>`}function W2(t,e,r){return(r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function q2(){return`</ol>
</section>
`}function j2(t,e,r,s,u){let l=u.rules.footnote_anchor_name(t,e,r,s,u);return t[e].meta.subId>0&&(l+=`:${t[e].meta.subId}`),`<li id="fn${l}" class="footnote-item">`}function U2(){return`</li>
`}function Y2(t,e,r,s,u){let l=u.rules.footnote_anchor_name(t,e,r,s,u);return t[e].meta.subId>0&&(l+=`:${t[e].meta.subId}`),` <a href="#fnref${l}" class="footnote-backref"></a>`}function G2(t){const e=t.helpers.parseLinkLabel,r=t.utils.isSpace;t.renderer.rules.footnote_ref=H2,t.renderer.rules.footnote_block_open=W2,t.renderer.rules.footnote_block_close=q2,t.renderer.rules.footnote_open=j2,t.renderer.rules.footnote_close=U2,t.renderer.rules.footnote_anchor=Y2,t.renderer.rules.footnote_caption=$2,t.renderer.rules.footnote_anchor_name=B2;function s(h,b,x,w){const S=h.bMarks[b]+h.tShift[b],O=h.eMarks[b];if(S+4>O||h.src.charCodeAt(S)!==91||h.src.charCodeAt(S+1)!==94)return!1;let W;for(W=S+2;W<O;W++){if(h.src.charCodeAt(W)===32)return!1;if(h.src.charCodeAt(W)===93)break}if(W===S+2||W+1>=O||h.src.charCodeAt(++W)!==58)return!1;if(w)return!0;W++,h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.refs||(h.env.footnotes.refs={});const N=h.src.slice(S+2,W-2);h.env.footnotes.refs[`:${N}`]=-1;const j=new h.Token("footnote_reference_open","",1);j.meta={label:N},j.level=h.level++,h.tokens.push(j);const q=h.bMarks[b],M=h.tShift[b],E=h.sCount[b],D=h.parentType,B=W,z=h.sCount[b]+W-(h.bMarks[b]+h.tShift[b]);let V=z;for(;W<O;){const ue=h.src.charCodeAt(W);if(r(ue))ue===9?V+=4-V%4:V++;else break;W++}h.tShift[b]=W-B,h.sCount[b]=V-z,h.bMarks[b]=B,h.blkIndent+=4,h.parentType="footnote",h.sCount[b]<h.blkIndent&&(h.sCount[b]+=h.blkIndent),h.md.block.tokenize(h,b,x,!0),h.parentType=D,h.blkIndent-=4,h.tShift[b]=M,h.sCount[b]=E,h.bMarks[b]=q;const ne=new h.Token("footnote_reference_close","",-1);return ne.level=--h.level,h.tokens.push(ne),!0}function u(h,b){const x=h.posMax,w=h.pos;if(w+2>=x||h.src.charCodeAt(w)!==94||h.src.charCodeAt(w+1)!==91)return!1;const S=w+2,O=e(h,w+1);if(O<0)return!1;if(!b){h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.list||(h.env.footnotes.list=[]);const W=h.env.footnotes.list.length,N=[];h.md.inline.parse(h.src.slice(S,O),h.md,h.env,N);const j=h.push("footnote_ref","",0);j.meta={id:W},h.env.footnotes.list[W]={content:h.src.slice(S,O),tokens:N}}return h.pos=O+1,h.posMax=x,!0}function l(h,b){const x=h.posMax,w=h.pos;if(w+3>x||!h.env.footnotes||!h.env.footnotes.refs||h.src.charCodeAt(w)!==91||h.src.charCodeAt(w+1)!==94)return!1;let S;for(S=w+2;S<x;S++){if(h.src.charCodeAt(S)===32||h.src.charCodeAt(S)===10)return!1;if(h.src.charCodeAt(S)===93)break}if(S===w+2||S>=x)return!1;S++;const O=h.src.slice(w+2,S-1);if(typeof h.env.footnotes.refs[`:${O}`]>"u")return!1;if(!b){h.env.footnotes.list||(h.env.footnotes.list=[]);let W;h.env.footnotes.refs[`:${O}`]<0?(W=h.env.footnotes.list.length,h.env.footnotes.list[W]={label:O,count:0},h.env.footnotes.refs[`:${O}`]=W):W=h.env.footnotes.refs[`:${O}`];const N=h.env.footnotes.list[W].count;h.env.footnotes.list[W].count++;const j=h.push("footnote_ref","",0);j.meta={id:W,subId:N,label:O}}return h.pos=S,h.posMax=x,!0}function f(h){let b,x,w,S=!1;const O={};if(!h.env.footnotes||(h.tokens=h.tokens.filter(function(N){return N.type==="footnote_reference_open"?(S=!0,x=[],w=N.meta.label,!1):N.type==="footnote_reference_close"?(S=!1,O[":"+w]=x,!1):(S&&x.push(N),!S)}),!h.env.footnotes.list))return;const W=h.env.footnotes.list;h.tokens.push(new h.Token("footnote_block_open","",1));for(let N=0,j=W.length;N<j;N++){const q=new h.Token("footnote_open","",1);if(q.meta={id:N,label:W[N].label},h.tokens.push(q),W[N].tokens){b=[];const D=new h.Token("paragraph_open","p",1);D.block=!0,b.push(D);const B=new h.Token("inline","",0);B.children=W[N].tokens,B.content=W[N].content,b.push(B);const z=new h.Token("paragraph_close","p",-1);z.block=!0,b.push(z)}else W[N].label&&(b=O[`:${W[N].label}`]);b&&(h.tokens=h.tokens.concat(b));let M;h.tokens[h.tokens.length-1].type==="paragraph_close"?M=h.tokens.pop():M=null;const E=W[N].count>0?W[N].count:1;for(let D=0;D<E;D++){const B=new h.Token("footnote_anchor","",0);B.meta={id:N,subId:D,label:W[N].label},h.tokens.push(B)}M&&h.tokens.push(M),h.tokens.push(new h.Token("footnote_close","",-1))}h.tokens.push(new h.Token("footnote_block_close","",-1))}t.block.ruler.before("reference","footnote_def",s,{alt:["paragraph","reference"]}),t.inline.ruler.after("image","footnote_inline",u),t.inline.ruler.after("footnote_inline","footnote_ref",l),t.core.ruler.after("inline","footnote_tail",f)}class Z2{constructor(e,r){this.markdownit=new pa,this.markdownit.use(G2),this.textarea=e,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&this.textarea.getAttribute("dir")==="rtl"?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled"}),this.editor.addKeyMap({"Ctrl-B":s=>{s.replaceSelections(this.boldSelections())},"Ctrl-I":s=>{s.replaceSelections(this.italicSelections())},"Cmd-B":s=>{s.replaceSelections(this.boldSelections())},"Cmd-I":s=>{s.replaceSelections(this.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=r,this.buttonCode=null,this.buttonPreview=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){if(this.editor.on("change",this.textareaChange),!this.cont||!this.textarea)return;this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),this.editor.getOption("readOnly")===!0&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(h=>{h.setAttribute("data-index",this.index)}),this.$editor.setAttribute("data-index",this.index);const l=document.createElement("div");l.classList.add("markdown-editor-tabs"),this.$editor.before(l),this.tabs=l,this.previewContainer=document.getElementById("codemirror-preview-containers");const f=document.createElement("div");f.classList.add("markdown-editor-preview"),this.$editor.after(f),this.preview=f,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&this.textarea.getAttribute("data-max-length")!==""&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=hh(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")!==""&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")===""&&this.textarea.getAttribute("data-max-length")===""&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&(hh(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,pg(this.cont,"content-limit")):hh(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,pg(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(h=>{h.addEventListener("click",this.buttonPreviewClick)}),this.buttons.forEach(h=>{h.addEventListener("click",this.buttonClick)}),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(h=>{h.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()})}async onDropFile(e,r){r.preventDefault(r);for(let s=0;s<r.dataTransfer.files.length;s++){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let u=r.dataTransfer.files[s],l=new FormData;l.append("_token",window.RozierConfig.ajaxToken),l.append("form[attachment]",u);const f=await fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:l});if(f.ok){const h=await f.json();await window.Rozier.getMessages(),this.onDropFileUploaded(e,h)}else{const h=await f.json();h.errors&&window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.message,status:"danger"}}))}}}onDropFileUploaded(e,r){if(window.dispatchEvent(new CustomEvent("requestLoaderHide")),r.success===!0){let s="!["+r.document.name+"]("+r.document.url+")";e.replaceSelection(s)}}forceEditorUpdate(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}buttonClick(e){if(this.editor.getOption("readOnly")===!0)return!1;let r=e.currentTarget,s=this.editor.getSelections();if(s.length>0){switch(r.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(s));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(s));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(s));break;case"link":this.editor.replaceSelections(this.linkSelections(s));break;case"image":this.editor.replaceSelections(this.imageSelections(s));break;case"bold":this.editor.replaceSelections(this.boldSelections(s));break;case"italic":this.editor.replaceSelections(this.italicSelections(s));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(s));break;case"h2":this.editor.replaceSelections(this.h2Selections(s));break;case"h3":this.editor.replaceSelections(this.h3Selections(s));break;case"h4":this.editor.replaceSelections(this.h4Selections(s));break;case"h5":this.editor.replaceSelections(this.h5Selections(s));break;case"h6":this.editor.replaceSelections(this.h6Selections(s));break;case"back":this.editor.replaceSelections(this.backSelections(s));break;case"hr":this.editor.replaceSelections(this.hrSelections(s));break}this.editor.focus()}}backSelections(e){for(let r in e)e[r]=`   
`;return e}hrSelections(e){for(let r in e)e[r]=`

---

`;return e}nbspSelections(e){for(let r in e)e[r]="";return e}nbHyphenSelections(e){for(let r in e)e[r]="";return e}listUlSelections(e){for(let r in e)e[r]=`

* `+e[r]+`

`;return e}linkSelections(e){for(let r in e)e[r]="["+e[r]+"](http://)";return e}imageSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="!["+e[r]+"](/files/)";return e}boldSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="**"+e[r]+"**";return e}italicSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="*"+e[r]+"*";return e}h2Selections(e){for(let r in e)e[r]=`
## `+e[r]+`
`;return e}h3Selections(e){for(let r in e)e[r]=`
### `+e[r]+`
`;return e}h4Selections(e){for(let r in e)e[r]=`
#### `+e[r]+`
`;return e}h5Selections(e){for(let r in e)e[r]=`
##### `+e[r]+`
`;return e}h6Selections(e){for(let r in e)e[r]=`
###### `+e[r]+`
`;return e}blockquoteSelections(e){for(let r in e)e[r]=`
> `+e[r]+`
`;return e}textareaChange(){this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(()=>{this.preview.innerHTML=this.markdownit.render(this.editor.getValue())})),this.limit&&window.requestAnimationFrame(()=>{let e=this.editor.getValue(),s=hh(e).length;this.countCurrent[0].innerHTML=s,s>this.countMaxLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):s<this.countMinLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):this.countAlertActive&&(this.cont.classList.remove("content-limit"),this.countAlertActive=!1)})}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}buttonPreviewClick(e){e.preventDefault();let r=this.preview.offsetWidth;this.usePreview?this.closePreview():(this.usePreview=!0,this.buttonPreview.forEach(s=>{s.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),Ih.fromTo(this.preview,1,{x:r*-1,opacity:0},{x:0,ease:Bh.easeOut,opacity:1}),window.addEventListener("keyup",this.closePreview),document.body.dispatchEvent(new CustomEvent("markdownPreviewOpen",{detail:this})))}closePreview(e){if(e)if(e.keyCode===27)e.preventDefault();else return;let r=this.preview.offsetWidth;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(s=>{s.classList.remove("uk-active","active")}),Ih.fromTo(this.preview,1,{x:0,opacity:1},{x:r*-1,opacity:0,ease:Bh.easeOut,onComplete:()=>{this.preview.classList.remove("active")}})}destroy(){this.preview.remove()}resize(){}}class X2{constructor(e,r){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class V2{constructor(e,r){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:u=>u.execCommand("indentMore"),"Shift-Tab":u=>u.execCommand("indentLess")}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}var Vc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var K2=Vc.exports,Og;function Q2(){return Og||(Og=1,function(t,e){(function(r,s){s(e)})(K2,function(r){var s="1.9.4";function u(o){var m,y,A,U;for(y=1,A=arguments.length;y<A;y++){U=arguments[y];for(m in U)o[m]=U[m]}return o}var l=Object.create||function(){function o(){}return function(m){return o.prototype=m,new o}}();function f(o,m){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var A=y.call(arguments,2);return function(){return o.apply(m,A.length?A.concat(y.call(arguments)):arguments)}}var h=0;function b(o){return"_leaflet_id"in o||(o._leaflet_id=++h),o._leaflet_id}function x(o,m,y){var A,U,oe,Ae;return Ae=function(){A=!1,U&&(oe.apply(y,U),U=!1)},oe=function(){A?U=arguments:(o.apply(y,arguments),setTimeout(Ae,m),A=!0)},oe}function w(o,m,y){var A=m[1],U=m[0],oe=A-U;return o===A&&y?o:((o-U)%oe+oe)%oe+U}function S(){return!1}function O(o,m){if(m===!1)return o;var y=Math.pow(10,m===void 0?6:m);return Math.round(o*y)/y}function W(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function N(o){return W(o).split(/\s+/)}function j(o,m){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var y in m)o.options[y]=m[y];return o.options}function q(o,m,y){var A=[];for(var U in o)A.push(encodeURIComponent(y?U.toUpperCase():U)+"="+encodeURIComponent(o[U]));return(!m||m.indexOf("?")===-1?"?":"&")+A.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function E(o,m){return o.replace(M,function(y,A){var U=m[A];if(U===void 0)throw new Error("No value provided for variable "+y);return typeof U=="function"&&(U=U(m)),U})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function B(o,m){for(var y=0;y<o.length;y++)if(o[y]===m)return y;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var ne=0;function ue(o){var m=+new Date,y=Math.max(0,16-(m-ne));return ne=m+y,window.setTimeout(o,y)}var de=window.requestAnimationFrame||V("RequestAnimationFrame")||ue,ge=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function fe(o,m,y){if(y&&de===ue)o.call(m);else return de.call(window,f(o,m))}function De(o){o&&ge.call(window,o)}var ve={__proto__:null,extend:u,create:l,bind:f,get lastId(){return h},stamp:b,throttle:x,wrapNum:w,falseFn:S,formatNum:O,trim:W,splitWords:N,setOptions:j,getParamString:q,template:E,isArray:D,indexOf:B,emptyImageUrl:z,requestFn:de,cancelFn:ge,requestAnimFrame:fe,cancelAnimFrame:De};function re(){}re.extend=function(o){var m=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=m.__super__=this.prototype,A=l(y);A.constructor=m,m.prototype=A;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(m[U]=this[U]);return o.statics&&u(m,o.statics),o.includes&&(P(o.includes),u.apply(null,[A].concat(o.includes))),u(A,o),delete A.statics,delete A.includes,A.options&&(A.options=y.options?l(y.options):{},u(A.options,o.options)),A._initHooks=[],A.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,Ae=A._initHooks.length;oe<Ae;oe++)A._initHooks[oe].call(this)}},m},re.include=function(o){var m=this.prototype.options;return u(this.prototype,o),o.options&&(this.prototype.options=m,this.mergeOptions(o.options)),this},re.mergeOptions=function(o){return u(this.prototype.options,o),this},re.addInitHook=function(o){var m=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function P(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var m=0;m<o.length;m++)o[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(o,m,y){if(typeof o=="object")for(var A in o)this._on(A,o[A],m);else{o=N(o);for(var U=0,oe=o.length;U<oe;U++)this._on(o[U],m,y)}return this},off:function(o,m,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var A in o)this._off(A,o[A],m);else{o=N(o);for(var U=arguments.length===1,oe=0,Ae=o.length;oe<Ae;oe++)U?this._off(o[oe]):this._off(o[oe],m,y)}return this},_on:function(o,m,y,A){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(o,m,y)===!1){y===this&&(y=void 0);var U={fn:m,ctx:y};A&&(U.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(U)}},_off:function(o,m,y){var A,U,oe;if(this._events&&(A=this._events[o],!!A)){if(arguments.length===1){if(this._firingCount)for(U=0,oe=A.length;U<oe;U++)A[U].fn=S;delete this._events[o];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Ae=this._listens(o,m,y);if(Ae!==!1){var We=A[Ae];this._firingCount&&(We.fn=S,this._events[o]=A=A.slice()),A.splice(Ae,1)}}},fire:function(o,m,y){if(!this.listens(o,y))return this;var A=u({},m,{type:o,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var U=this._events[o];if(U){this._firingCount=this._firingCount+1||1;for(var oe=0,Ae=U.length;oe<Ae;oe++){var We=U[oe],Ye=We.fn;We.once&&this.off(o,Ye,We.ctx),Ye.call(We.ctx||this,A)}this._firingCount--}}return y&&this._propagateEvent(A),this},listens:function(o,m,y,A){typeof o!="string"&&console.warn('"string" type argument expected');var U=m;typeof m!="function"&&(A=!!m,U=void 0,y=void 0);var oe=this._events&&this._events[o];if(oe&&oe.length&&this._listens(o,U,y)!==!1)return!0;if(A){for(var Ae in this._eventParents)if(this._eventParents[Ae].listens(o,m,y,A))return!0}return!1},_listens:function(o,m,y){if(!this._events)return!1;var A=this._events[o]||[];if(!m)return!!A.length;y===this&&(y=void 0);for(var U=0,oe=A.length;U<oe;U++)if(A[U].fn===m&&A[U].ctx===y)return U;return!1},once:function(o,m,y){if(typeof o=="object")for(var A in o)this._on(A,o[A],m,!0);else{o=N(o);for(var U=0,oe=o.length;U<oe;U++)this._on(o[U],m,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[b(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[b(o)],this},_propagateEvent:function(o){for(var m in this._eventParents)this._eventParents[m].fire(o.type,u({layer:o.target,propagatedFrom:o.target},o),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ye=re.extend(se);function Ee(o,m,y){this.x=y?Math.round(o):o,this.y=y?Math.round(m):m}var it=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Ee.prototype={clone:function(){return new Ee(this.x,this.y)},add:function(o){return this.clone()._add(Be(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Be(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Ee(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Ee(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(o){o=Be(o);var m=o.x-this.x,y=o.y-this.y;return Math.sqrt(m*m+y*y)},equals:function(o){return o=Be(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Be(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function Be(o,m,y){return o instanceof Ee?o:D(o)?new Ee(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Ee(o.x,o.y):new Ee(o,m,y)}function Me(o,m){if(o)for(var y=m?[o,m]:o,A=0,U=y.length;A<U;A++)this.extend(y[A])}Me.prototype={extend:function(o){var m,y;if(!o)return this;if(o instanceof Ee||typeof o[0]=="number"||"x"in o)m=y=Be(o);else if(o=te(o),m=o.min,y=o.max,!m||!y)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=y.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return Be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Be(this.min.x,this.max.y)},getTopRight:function(){return Be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var m,y;return typeof o[0]=="number"||o instanceof Ee?o=Be(o):o=te(o),o instanceof Me?(m=o.min,y=o.max):m=y=o,m.x>=this.min.x&&y.x<=this.max.x&&m.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=te(o);var m=this.min,y=this.max,A=o.min,U=o.max,oe=U.x>=m.x&&A.x<=y.x,Ae=U.y>=m.y&&A.y<=y.y;return oe&&Ae},overlaps:function(o){o=te(o);var m=this.min,y=this.max,A=o.min,U=o.max,oe=U.x>m.x&&A.x<y.x,Ae=U.y>m.y&&A.y<y.y;return oe&&Ae},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var m=this.min,y=this.max,A=Math.abs(m.x-y.x)*o,U=Math.abs(m.y-y.y)*o;return te(Be(m.x-A,m.y-U),Be(y.x+A,y.y+U))},equals:function(o){return o?(o=te(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function te(o,m){return!o||o instanceof Me?o:new Me(o,m)}function Y(o,m){if(o)for(var y=m?[o,m]:o,A=0,U=y.length;A<U;A++)this.extend(y[A])}Y.prototype={extend:function(o){var m=this._southWest,y=this._northEast,A,U;if(o instanceof Re)A=o,U=o;else if(o instanceof Y){if(A=o._southWest,U=o._northEast,!A||!U)return this}else return o?this.extend(X(o)||Le(o)):this;return!m&&!y?(this._southWest=new Re(A.lat,A.lng),this._northEast=new Re(U.lat,U.lng)):(m.lat=Math.min(A.lat,m.lat),m.lng=Math.min(A.lng,m.lng),y.lat=Math.max(U.lat,y.lat),y.lng=Math.max(U.lng,y.lng)),this},pad:function(o){var m=this._southWest,y=this._northEast,A=Math.abs(m.lat-y.lat)*o,U=Math.abs(m.lng-y.lng)*o;return new Y(new Re(m.lat-A,m.lng-U),new Re(y.lat+A,y.lng+U))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=X(o):o=Le(o);var m=this._southWest,y=this._northEast,A,U;return o instanceof Y?(A=o.getSouthWest(),U=o.getNorthEast()):A=U=o,A.lat>=m.lat&&U.lat<=y.lat&&A.lng>=m.lng&&U.lng<=y.lng},intersects:function(o){o=Le(o);var m=this._southWest,y=this._northEast,A=o.getSouthWest(),U=o.getNorthEast(),oe=U.lat>=m.lat&&A.lat<=y.lat,Ae=U.lng>=m.lng&&A.lng<=y.lng;return oe&&Ae},overlaps:function(o){o=Le(o);var m=this._southWest,y=this._northEast,A=o.getSouthWest(),U=o.getNorthEast(),oe=U.lat>m.lat&&A.lat<y.lat,Ae=U.lng>m.lng&&A.lng<y.lng;return oe&&Ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,m){return o?(o=Le(o),this._southWest.equals(o.getSouthWest(),m)&&this._northEast.equals(o.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Le(o,m){return o instanceof Y?o:new Y(o,m)}function Re(o,m,y){if(isNaN(o)||isNaN(m))throw new Error("Invalid LatLng object: ("+o+", "+m+")");this.lat=+o,this.lng=+m,y!==void 0&&(this.alt=+y)}Re.prototype={equals:function(o,m){if(!o)return!1;o=X(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(m===void 0?1e-9:m)},toString:function(o){return"LatLng("+O(this.lat,o)+", "+O(this.lng,o)+")"},distanceTo:function(o){return Te.distance(this,X(o))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(o){var m=180*o/40075017,y=m/Math.cos(Math.PI/180*this.lat);return Le([this.lat-m,this.lng-y],[this.lat+m,this.lng+y])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function X(o,m,y){return o instanceof Re?o:D(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):m===void 0?null:new Re(o,m,y)}var we={latLngToPoint:function(o,m){var y=this.projection.project(o),A=this.scale(m);return this.transformation._transform(y,A)},pointToLatLng:function(o,m){var y=this.scale(m),A=this.transformation.untransform(o,y);return this.projection.unproject(A)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var m=this.projection.bounds,y=this.scale(o),A=this.transformation.transform(m.min,y),U=this.transformation.transform(m.max,y);return new Me(A,U)},infinite:!1,wrapLatLng:function(o){var m=this.wrapLng?w(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?w(o.lat,this.wrapLat,!0):o.lat,A=o.alt;return new Re(y,m,A)},wrapLatLngBounds:function(o){var m=o.getCenter(),y=this.wrapLatLng(m),A=m.lat-y.lat,U=m.lng-y.lng;if(A===0&&U===0)return o;var oe=o.getSouthWest(),Ae=o.getNorthEast(),We=new Re(oe.lat-A,oe.lng-U),Ye=new Re(Ae.lat-A,Ae.lng-U);return new Y(We,Ye)}},Te=u({},we,{wrapLng:[-180,180],R:6371e3,distance:function(o,m){var y=Math.PI/180,A=o.lat*y,U=m.lat*y,oe=Math.sin((m.lat-o.lat)*y/2),Ae=Math.sin((m.lng-o.lng)*y/2),We=oe*oe+Math.cos(A)*Math.cos(U)*Ae*Ae,Ye=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*Ye}}),qe=6378137,Ze={R:qe,MAX_LATITUDE:85.0511287798,project:function(o){var m=Math.PI/180,y=this.MAX_LATITUDE,A=Math.max(Math.min(y,o.lat),-y),U=Math.sin(A*m);return new Ee(this.R*o.lng*m,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(o){var m=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*m,o.x*m/this.R)},bounds:function(){var o=qe*Math.PI;return new Me([-o,-o],[o,o])}()};function Xe(o,m,y,A){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=m,this._c=y,this._d=A}Xe.prototype={transform:function(o,m){return this._transform(o.clone(),m)},_transform:function(o,m){return m=m||1,o.x=m*(this._a*o.x+this._b),o.y=m*(this._c*o.y+this._d),o},untransform:function(o,m){return m=m||1,new Ee((o.x/m-this._b)/this._a,(o.y/m-this._d)/this._c)}};function ut(o,m,y,A){return new Xe(o,m,y,A)}var Et=u({},Te,{code:"EPSG:3857",projection:Ze,transformation:function(){var o=.5/(Math.PI*Ze.R);return ut(o,.5,-o,.5)}()}),wt=u({},Et,{code:"EPSG:900913"});function St(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function _t(o,m){var y="",A,U,oe,Ae,We,Ye;for(A=0,oe=o.length;A<oe;A++){for(We=o[A],U=0,Ae=We.length;U<Ae;U++)Ye=We[U],y+=(U?"L":"M")+Ye.x+" "+Ye.y;y+=m?Ot.svg?"z":"x":""}return y||"M0 0"}var Mt=document.documentElement.style,jt="ActiveXObject"in window,Kt=jt&&!document.addEventListener,Z="msLaunchUri"in navigator&&!("documentMode"in document),le=kn("webkit"),Q=kn("android"),he=kn("android 2")||kn("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ie=Q&&kn("Google")&&pe<537&&!("AudioNode"in window),ot=!!window.opera,Qe=!Z&&kn("chrome"),mt=kn("gecko")&&!le&&!ot&&!jt,Pt=!Qe&&kn("safari"),ct=kn("phantom"),Ht="OTransition"in Mt,Yt=navigator.platform.indexOf("Win")===0,Qt=jt&&"transition"in Mt,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!he,xt="MozPerspective"in Mt,qn=!window.L_DISABLE_3D&&(Qt||Vt||xt)&&!Ht&&!ct,Ut=typeof orientation<"u"||kn("mobile"),dr=Ut&&le,Rt=Ut&&Vt,sn=!window.PointerEvent&&window.MSPointerEvent,yi=!!(window.PointerEvent||sn),Ri="ontouchstart"in window||!!window.TouchEvent,pi=!window.L_NO_TOUCH&&(Ri||yi),wi=Ut&&ot,ui=Ut&&mt,si=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bi=function(){var o=!1;try{var m=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",S,m),window.removeEventListener("testPassiveEventSupport",S,m)}catch{}return o}(),Qr=function(){return!!document.createElement("canvas").getContext}(),$i=!!(document.createElementNS&&St("svg").createSVGRect),Or=!!$i&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Hi=!$i&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var m=o.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),Ki=navigator.platform.indexOf("Mac")===0,pr=navigator.platform.indexOf("Linux")===0;function kn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ot={ie:jt,ielt9:Kt,edge:Z,webkit:le,android:Q,android23:he,androidStock:Ie,opera:ot,chrome:Qe,gecko:mt,safari:Pt,phantom:ct,opera12:Ht,win:Yt,ie3d:Qt,webkit3d:Vt,gecko3d:xt,any3d:qn,mobile:Ut,mobileWebkit:dr,mobileWebkit3d:Rt,msPointer:sn,pointer:yi,touch:pi,touchNative:Ri,mobileOpera:wi,mobileGecko:ui,retina:si,passiveEvents:Bi,canvas:Qr,svg:$i,vml:Hi,inlineSvg:Or,mac:Ki,linux:pr},mr=Ot.msPointer?"MSPointerDown":"pointerdown",jn=Ot.msPointer?"MSPointerMove":"pointermove",Un=Ot.msPointer?"MSPointerUp":"pointerup",tr=Ot.msPointer?"MSPointerCancel":"pointercancel",Wr={touchstart:mr,touchmove:jn,touchend:Un,touchcancel:tr},Gi={touchstart:bn,touchmove:Fr,touchend:Fr,touchcancel:Fr},Qi={},ir=!1;function nr(o,m,y){return m==="touchstart"&&En(),Gi[m]?(y=Gi[m].bind(this,y),o.addEventListener(Wr[m],y,!1),y):(console.warn("wrong event specified:",m),S)}function Cn(o,m,y){if(!Wr[m]){console.warn("wrong event specified:",m);return}o.removeEventListener(Wr[m],y,!1)}function Jr(o){Qi[o.pointerId]=o}function eo(o){Qi[o.pointerId]&&(Qi[o.pointerId]=o)}function wr(o){delete Qi[o.pointerId]}function En(){ir||(document.addEventListener(mr,Jr,!0),document.addEventListener(jn,eo,!0),document.addEventListener(Un,wr,!0),document.addEventListener(tr,wr,!0),ir=!0)}function Fr(o,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var y in Qi)m.touches.push(Qi[y]);m.changedTouches=[m],o(m)}}function bn(o,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Zt(m),Fr(o,m)}function co(o){var m={},y,A;for(A in o)y=o[A],m[A]=y&&y.bind?y.bind(o):y;return o=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Yn=200;function ji(o,m){o.addEventListener("dblclick",m);var y=0,A;function U(oe){if(oe.detail!==1){A=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var Ae=_n(oe);if(!(Ae.some(function(Ye){return Ye instanceof HTMLLabelElement&&Ye.attributes.for})&&!Ae.some(function(Ye){return Ye instanceof HTMLInputElement||Ye instanceof HTMLSelectElement}))){var We=Date.now();We-y<=Yn?(A++,A===2&&m(co(oe))):A=1,y=We}}}return o.addEventListener("click",U),{dblclick:m,simDblclick:U}}function Lt(o,m){o.removeEventListener("dblclick",m.dblclick),o.removeEventListener("click",m.simDblclick)}var Gn=T(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=T(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Rn=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function J(o){return typeof o=="string"?document.getElementById(o):o}function xe(o,m){var y=o.style[m]||o.currentStyle&&o.currentStyle[m];if((!y||y==="auto")&&document.defaultView){var A=document.defaultView.getComputedStyle(o,null);y=A?A[m]:null}return y==="auto"?null:y}function He(o,m,y){var A=document.createElement(o);return A.className=m||"",y&&y.appendChild(A),A}function nt(o){var m=o.parentNode;m&&m.removeChild(o)}function je(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function pt(o){var m=o.parentNode;m&&m.lastChild!==o&&m.appendChild(o)}function ni(o){var m=o.parentNode;m&&m.firstChild!==o&&m.insertBefore(o,m.firstChild)}function Ui(o,m){if(o.classList!==void 0)return o.classList.contains(m);var y=Wt(o);return y.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(y)}function Nt(o,m){if(o.classList!==void 0)for(var y=N(m),A=0,U=y.length;A<U;A++)o.classList.add(y[A]);else if(!Ui(o,m)){var oe=Wt(o);fo(o,(oe?oe+" ":"")+m)}}function li(o,m){o.classList!==void 0?o.classList.remove(m):fo(o,W((" "+Wt(o)+" ").replace(" "+m+" "," ")))}function fo(o,m){o.className.baseVal===void 0?o.className=m:o.className.baseVal=m}function Wt(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ke(o,m){"opacity"in o.style?o.style.opacity=m:"filter"in o.style&&_(o,m)}function _(o,m){var y=!1,A="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(A)}catch{if(m===1)return}m=Math.round(m*100),y?(y.Enabled=m!==100,y.Opacity=m):o.style.filter+=" progid:"+A+"(opacity="+m+")"}function T(o){for(var m=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in m)return o[y];return!1}function R(o,m,y){var A=m||new Ee(0,0);o.style[Gn]=(Ot.ie3d?"translate("+A.x+"px,"+A.y+"px)":"translate3d("+A.x+"px,"+A.y+"px,0)")+(y?" scale("+y+")":"")}function ie(o,m){o._leaflet_pos=m,Ot.any3d?R(o,m):(o.style.left=m.x+"px",o.style.top=m.y+"px")}function ae(o){return o._leaflet_pos||new Ee(0,0)}var _e,Oe,Je;if("onselectstart"in document)_e=function(){Ft(window,"selectstart",Zt)},Oe=function(){ri(window,"selectstart",Zt)};else{var et=T(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_e=function(){if(et){var o=document.documentElement.style;Je=o[et],o[et]="none"}},Oe=function(){et&&(document.documentElement.style[et]=Je,Je=void 0)}}function Ve(){Ft(window,"dragstart",Zt)}function Ke(){ri(window,"dragstart",Zt)}var ft,fi;function hi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Wi(),ft=o,fi=o.style.outlineStyle,o.style.outlineStyle="none",Ft(window,"keydown",Wi))}function Wi(){ft&&(ft.style.outlineStyle=fi,ft=void 0,fi=void 0,ri(window,"keydown",Wi))}function Ei(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Pi(o){var m=o.getBoundingClientRect();return{x:m.width/o.offsetWidth||1,y:m.height/o.offsetHeight||1,boundingClientRect:m}}var fn={__proto__:null,TRANSFORM:Gn,TRANSITION:rr,TRANSITION_END:Rn,get:J,getStyle:xe,create:He,remove:nt,empty:je,toFront:pt,toBack:ni,hasClass:Ui,addClass:Nt,removeClass:li,setClass:fo,getClass:Wt,setOpacity:ke,testProp:T,setTransform:R,setPosition:ie,getPosition:ae,get disableTextSelection(){return _e},get enableTextSelection(){return Oe},disableImageDrag:Ve,enableImageDrag:Ke,preventOutline:hi,restoreOutline:Wi,getSizedParentNode:Ei,getScale:Pi};function Ft(o,m,y,A){if(m&&typeof m=="object")for(var U in m)on(o,U,m[U],y);else{m=N(m);for(var oe=0,Ae=m.length;oe<Ae;oe++)on(o,m[oe],y,A)}return this}var rn="_leaflet_events";function ri(o,m,y,A){if(arguments.length===1)gt(o),delete o[rn];else if(m&&typeof m=="object")for(var U in m)or(o,U,m[U],y);else if(m=N(m),arguments.length===2)gt(o,function(We){return B(m,We)!==-1});else for(var oe=0,Ae=m.length;oe<Ae;oe++)or(o,m[oe],y,A);return this}function gt(o,m){for(var y in o[rn]){var A=y.split(/\d/)[0];(!m||m(A))&&or(o,A,null,null,y)}}var xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function on(o,m,y,A){var U=m+b(y)+(A?"_"+b(A):"");if(o[rn]&&o[rn][U])return this;var oe=function(We){return y.call(A||o,We||window.event)},Ae=oe;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?oe=nr(o,m,oe):Ot.touch&&m==="dblclick"?oe=ji(o,oe):"addEventListener"in o?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?o.addEventListener(xi[m]||m,oe,Ot.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(oe=function(We){We=We||window.event,Yo(o,We)&&Ae(We)},o.addEventListener(xi[m],oe,!1)):o.addEventListener(m,Ae,!1):o.attachEvent("on"+m,oe),o[rn]=o[rn]||{},o[rn][U]=oe}function or(o,m,y,A,U){U=U||m+b(y)+(A?"_"+b(A):"");var oe=o[rn]&&o[rn][U];if(!oe)return this;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?Cn(o,m,oe):Ot.touch&&m==="dblclick"?Lt(o,oe):"removeEventListener"in o?o.removeEventListener(xi[m]||m,oe,!1):o.detachEvent("on"+m,oe),o[rn][U]=null}function Sn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function qr(o){return on(o,"wheel",Sn),this}function Rr(o){return Ft(o,"mousedown touchstart dblclick contextmenu",Sn),o._leaflet_disable_click=!0,this}function Zt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function oi(o){return Zt(o),Sn(o),this}function _n(o){if(o.composedPath)return o.composedPath();for(var m=[],y=o.target;y;)m.push(y),y=y.parentNode;return m}function Nr(o,m){if(!m)return new Ee(o.clientX,o.clientY);var y=Pi(m),A=y.boundingClientRect;return new Ee((o.clientX-A.left)/y.x-m.clientLeft,(o.clientY-A.top)/y.y-m.clientTop)}var Uo=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ga(o){return Ot.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Uo:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Yo(o,m){var y=m.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var va={__proto__:null,on:Ft,off:ri,stopPropagation:Sn,disableScrollPropagation:qr,disableClickPropagation:Rr,preventDefault:Zt,stop:oi,getPropagationPath:_n,getMousePosition:Nr,getWheelDelta:ga,isExternalTarget:Yo,addListener:Ft,removeListener:ri},Na=ye.extend({run:function(o,m,y,A){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(A||.5,.2),this._startPos=ae(o),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=fe(this._animate,this),this._step()},_step:function(o){var m=+new Date-this._startTime,y=this._duration*1e3;m<y?this._runFrame(this._easeOut(m/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,m){var y=this._startPos.add(this._offset.multiplyBy(o));m&&y._round(),ie(this._el,y),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),gi=ye.extend({options:{crs:Et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,m){m=j(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(X(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,Rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,m,y){if(m=m===void 0?this._zoom:this._limitZoom(m),o=this._limitCenter(X(o),m,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=u({animate:y.animate},y.zoom),y.pan=u({animate:y.animate,duration:y.duration},y.pan));var A=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,m,y.zoom):this._tryAnimatedPan(o,y.pan);if(A)return clearTimeout(this._sizeTimer),this}return this._resetView(o,m,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,m){return this._loaded?this.setView(this.getCenter(),o,{zoom:m}):(this._zoom=o,this)},zoomIn:function(o,m){return o=o||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,m)},zoomOut:function(o,m){return o=o||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,m)},setZoomAround:function(o,m,y){var A=this.getZoomScale(m),U=this.getSize().divideBy(2),oe=o instanceof Ee?o:this.latLngToContainerPoint(o),Ae=oe.subtract(U).multiplyBy(1-1/A),We=this.containerPointToLatLng(U.add(Ae));return this.setView(We,m,{zoom:y})},_getBoundsCenterZoom:function(o,m){m=m||{},o=o.getBounds?o.getBounds():Le(o);var y=Be(m.paddingTopLeft||m.padding||[0,0]),A=Be(m.paddingBottomRight||m.padding||[0,0]),U=this.getBoundsZoom(o,!1,y.add(A));if(U=typeof m.maxZoom=="number"?Math.min(m.maxZoom,U):U,U===1/0)return{center:o.getCenter(),zoom:U};var oe=A.subtract(y).divideBy(2),Ae=this.project(o.getSouthWest(),U),We=this.project(o.getNorthEast(),U),Ye=this.unproject(Ae.add(We).divideBy(2).add(oe),U);return{center:Ye,zoom:U}},fitBounds:function(o,m){if(o=Le(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,m);return this.setView(y.center,y.zoom,m)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,m){return this.setView(o,this._zoom,{pan:m})},panBy:function(o,m){if(o=Be(o).round(),m=m||{},!o.x&&!o.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Na,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,m.duration||.25,m.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,m,y){if(y=y||{},y.animate===!1||!Ot.any3d)return this.setView(o,m,y);this._stop();var A=this.project(this.getCenter()),U=this.project(o),oe=this.getSize(),Ae=this._zoom;o=X(o),m=m===void 0?Ae:m;var We=Math.max(oe.x,oe.y),Ye=We*this.getZoomScale(Ae,m),lt=U.distanceTo(A)||1,Ct=1.42,It=Ct*Ct;function ai(nn){var Cs=nn?-1:1,ce=nn?Ye:We,ja=Ye*Ye-We*We+Cs*It*It*lt*lt,Zn=2*ce*It*lt,Di=ja/Zn,Gt=Math.sqrt(Di*Di+1)-Di,Tn=Gt<1e-9?-18:Math.log(Gt);return Tn}function Zi(nn){return(Math.exp(nn)-Math.exp(-nn))/2}function Xi(nn){return(Math.exp(nn)+Math.exp(-nn))/2}function pn(nn){return Zi(nn)/Xi(nn)}var zn=ai(0);function Gr(nn){return We*(Xi(zn)/Xi(zn+Ct*nn))}function El(nn){return We*(Xi(zn)*pn(zn+Ct*nn)-Zi(zn))/It}function dc(nn){return 1-Math.pow(1-nn,1.5)}var ka=Date.now(),ra=(ai(1)-zn)/Ct,pc=y.duration?1e3*y.duration:1e3*ra*.8;function ks(){var nn=(Date.now()-ka)/pc,Cs=dc(nn)*ra;nn<=1?(this._flyToFrame=fe(ks,this),this._move(this.unproject(A.add(U.subtract(A).multiplyBy(El(Cs)/lt)),Ae),this.getScaleZoom(We/Gr(Cs),Ae),{flyTo:!0})):this._move(o,m)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),ks.call(this),this},flyToBounds:function(o,m){var y=this._getBoundsCenterZoom(o,m);return this.flyTo(y.center,y.zoom,m)},setMaxBounds:function(o){return o=Le(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var m=this.options.minZoom;return this.options.minZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var m=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,m){this._enforcingBounds=!0;var y=this.getCenter(),A=this._limitCenter(y,this._zoom,Le(o));return y.equals(A)||this.panTo(A,m),this._enforcingBounds=!1,this},panInside:function(o,m){m=m||{};var y=Be(m.paddingTopLeft||m.padding||[0,0]),A=Be(m.paddingBottomRight||m.padding||[0,0]),U=this.project(this.getCenter()),oe=this.project(o),Ae=this.getPixelBounds(),We=te([Ae.min.add(y),Ae.max.subtract(A)]),Ye=We.getSize();if(!We.contains(oe)){this._enforcingBounds=!0;var lt=oe.subtract(We.getCenter()),Ct=We.extend(oe).getSize().subtract(Ye);U.x+=lt.x<0?-Ct.x:Ct.x,U.y+=lt.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(U),m),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=u({animate:!1,pan:!0},o===!0?{animate:!0}:o);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),A=m.divideBy(2).round(),U=y.divideBy(2).round(),oe=A.subtract(U);return!oe.x&&!oe.y?this:(o.animate&&o.pan?this.panBy(oe):(o.pan&&this._rawPanBy(oe),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=u({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=f(this._handleGeolocationResponse,this),y=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,y,o):navigator.geolocation.getCurrentPosition(m,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var m=o.code,y=o.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var m=o.coords.latitude,y=o.coords.longitude,A=new Re(m,y),U=A.toBounds(o.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var Ae=this.getBoundsZoom(U);this.setView(A,oe.maxZoom?Math.min(Ae,oe.maxZoom):Ae)}var We={latlng:A,bounds:U,timestamp:o.timestamp};for(var Ye in o.coords)typeof o.coords[Ye]=="number"&&(We[Ye]=o.coords[Ye]);this.fire("locationfound",We)}},addHandler:function(o,m){if(!m)return this;var y=this[o]=new m(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)nt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,m){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),A=He("div",y,m||this._mapPane);return o&&(this._panes[o]=A),A},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),m=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new Y(m,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,m,y){o=Le(o),y=Be(y||[0,0]);var A=this.getZoom()||0,U=this.getMinZoom(),oe=this.getMaxZoom(),Ae=o.getNorthWest(),We=o.getSouthEast(),Ye=this.getSize().subtract(y),lt=te(this.project(We,A),this.project(Ae,A)).getSize(),Ct=Ot.any3d?this.options.zoomSnap:1,It=Ye.x/lt.x,ai=Ye.y/lt.y,Zi=m?Math.max(It,ai):Math.min(It,ai);return A=this.getScaleZoom(Zi,A),Ct&&(A=Math.round(A/(Ct/100))*(Ct/100),A=m?Math.ceil(A/Ct)*Ct:Math.floor(A/Ct)*Ct),Math.max(U,Math.min(oe,A))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,m){var y=this._getTopLeftPoint(o,m);return new Me(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,m){var y=this.options.crs;return m=m===void 0?this._zoom:m,y.scale(o)/y.scale(m)},getScaleZoom:function(o,m){var y=this.options.crs;m=m===void 0?this._zoom:m;var A=y.zoom(o*y.scale(m));return isNaN(A)?1/0:A},project:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(X(o),m)},unproject:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Be(o),m)},layerPointToLatLng:function(o){var m=Be(o).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(o){var m=this.project(X(o))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(X(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Le(o))},distance:function(o,m){return this.options.crs.distance(X(o),X(m))},containerPointToLayerPoint:function(o){return Be(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Be(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var m=this.containerPointToLayerPoint(Be(o));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(o)))},mouseEventToContainerPoint:function(o){return Nr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var m=this._container=J(o);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(m,"scroll",this._onScroll,this),this._containerId=b(m)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Nt(o,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=xe(o,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ie(this._mapPane,new Ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(o.markerPane,"leaflet-zoom-hide"),Nt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,m,y){ie(this._mapPane,new Ee(0,0));var A=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var U=this._zoom!==m;this._moveStart(U,y)._move(o,m)._moveEnd(U),this.fire("viewreset"),A&&this.fire("load")},_moveStart:function(o,m){return o&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(o,m,y,A){m===void 0&&(m=this._zoom);var U=this._zoom!==m;return this._zoom=m,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),A?y&&y.pinch&&this.fire("zoom",y):((U||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ie(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[b(this._container)]=this;var m=o?ri:Ft;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,m){for(var y=[],A,U=m==="mouseout"||m==="mouseover",oe=o.target||o.srcElement,Ae=!1;oe;){if(A=this._targets[b(oe)],A&&(m==="click"||m==="preclick")&&this._draggableMoved(A)){Ae=!0;break}if(A&&A.listens(m,!0)&&(U&&!Yo(oe,o)||(y.push(A),U))||oe===this._container)break;oe=oe.parentNode}return!y.length&&!Ae&&!U&&this.listens(m,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var m=o.target||o.srcElement;if(!(!this._loaded||m._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(m))){var y=o.type;y==="mousedown"&&hi(m),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,m,y){if(o.type==="click"){var A=u({},o);A.type="preclick",this._fireDOMEvent(A,A.type,y)}var U=this._findEventTargets(o,m);if(y){for(var oe=[],Ae=0;Ae<y.length;Ae++)y[Ae].listens(m,!0)&&oe.push(y[Ae]);U=oe.concat(U)}if(U.length){m==="contextmenu"&&Zt(o);var We=U[0],Ye={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var lt=We.getLatLng&&(!We._radius||We._radius<=10);Ye.containerPoint=lt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(o),Ye.layerPoint=this.containerPointToLayerPoint(Ye.containerPoint),Ye.latlng=lt?We.getLatLng():this.layerPointToLatLng(Ye.layerPoint)}for(Ae=0;Ae<U.length;Ae++)if(U[Ae].fire(m,Ye,!0),Ye.originalEvent._stopped||U[Ae].options.bubblingMouseEvents===!1&&B(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,m=this._handlers.length;o<m;o++)this._handlers[o].disable()},whenReady:function(o,m){return this._loaded?o.call(m||this,{target:this}):this.on("load",o,m),this},_getMapPanePos:function(){return ae(this._mapPane)||new Ee(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,m){var y=o&&m!==void 0?this._getNewPixelOrigin(o,m):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,m){var y=this.getSize()._divideBy(2);return this.project(o,m)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,m,y){var A=this._getNewPixelOrigin(y,m);return this.project(o,m)._subtract(A)},_latLngBoundsToNewLayerBounds:function(o,m,y){var A=this._getNewPixelOrigin(y,m);return te([this.project(o.getSouthWest(),m)._subtract(A),this.project(o.getNorthWest(),m)._subtract(A),this.project(o.getSouthEast(),m)._subtract(A),this.project(o.getNorthEast(),m)._subtract(A)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,m,y){if(!y)return o;var A=this.project(o,m),U=this.getSize().divideBy(2),oe=new Me(A.subtract(U),A.add(U)),Ae=this._getBoundsOffset(oe,y,m);return Math.abs(Ae.x)<=1&&Math.abs(Ae.y)<=1?o:this.unproject(A.add(Ae),m)},_limitOffset:function(o,m){if(!m)return o;var y=this.getPixelBounds(),A=new Me(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(A,m))},_getBoundsOffset:function(o,m,y){var A=te(this.project(m.getNorthEast(),y),this.project(m.getSouthWest(),y)),U=A.min.subtract(o.min),oe=A.max.subtract(o.max),Ae=this._rebound(U.x,-oe.x),We=this._rebound(U.y,-oe.y);return new Ee(Ae,We)},_rebound:function(o,m){return o+m>0?Math.round(o-m)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(m))},_limitZoom:function(o){var m=this.getMinZoom(),y=this.getMaxZoom(),A=Ot.any3d?this.options.zoomSnap:1;return A&&(o=Math.round(o/A)*A),Math.max(m,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,m){var y=this._getCenterOffset(o)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,m),!0)},_createAnimProxy:function(){var o=this._proxy=He("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(m){var y=Gn,A=this._proxy.style[y];R(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),A===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),m=this.getZoom();R(this._proxy,this.project(o,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,m,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var A=this.getZoomScale(m),U=this._getCenterOffset(o)._divideBy(1-1/A);return y.animate!==!0&&!this.getSize().contains(U)?!1:(fe(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,m,!0)},this),!0)},_animateZoom:function(o,m,y,A){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=m,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:m,noUpdate:A}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ni(o,m){return new gi(o,m)}var gr=re.extend({options:{position:"topright"},initialize:function(o){j(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var m=this._map;return m&&m.removeControl(this),this.options.position=o,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var m=this._container=this.onAdd(o),y=this.getPosition(),A=o._controlCorners[y];return Nt(m,"leaflet-control"),y.indexOf("bottom")!==-1?A.insertBefore(m,A.firstChild):A.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),zr=function(o){return new gr(o)};gi.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},m="leaflet-",y=this._controlContainer=He("div",m+"control-container",this._container);function A(U,oe){var Ae=m+U+" "+m+oe;o[U+oe]=He("div",Ae,y)}A("top","left"),A("top","right"),A("bottom","left"),A("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)nt(this._controlCorners[o]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ps=gr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,m,y,A){return y<A?-1:A<y?1:0}},initialize:function(o,m,y){j(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var A in o)this._addLayer(o[A],A);for(A in m)this._addLayer(m[A],A,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return gr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,m){return this._addLayer(o,m),this._map?this._update():this},addOverlay:function(o,m){return this._addLayer(o,m,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var m=this._getLayer(b(o));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",m=this._container=He("div",o),y=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Rr(m),qr(m);var A=this._section=He("section",o+"-list");y&&(this._map.on("click",this.collapse,this),Ft(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=He("a",o+"-toggle",m);U.href="#",U.title="Layers",U.setAttribute("role","button"),Ft(U,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Zt(oe),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=He("div",o+"-base",A),this._separator=He("div",o+"-separator",A),this._overlaysList=He("div",o+"-overlays",A),m.appendChild(A)},_getLayer:function(o){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&b(this._layers[m].layer)===o)return this._layers[m]},_addLayer:function(o,m,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:m,overlay:y}),this.options.sortLayers&&this._layers.sort(f(function(A,U){return this.options.sortFunction(A.layer,U.layer,A.name,U.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;je(this._baseLayersList),je(this._overlaysList),this._layerControlInputs=[];var o,m,y,A,U=0;for(y=0;y<this._layers.length;y++)A=this._layers[y],this._addItem(A),m=m||A.overlay,o=o||!A.overlay,U+=A.overlay?0:1;return this.options.hideSingleBase&&(o=o&&U>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=m&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var m=this._getLayer(b(o.target)),y=m.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,m)},_createRadioElement:function(o,m){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(m?' checked="checked"':"")+"/>",A=document.createElement("div");return A.innerHTML=y,A.firstChild},_addItem:function(o){var m=document.createElement("label"),y=this._map.hasLayer(o.layer),A;o.overlay?(A=document.createElement("input"),A.type="checkbox",A.className="leaflet-control-layers-selector",A.defaultChecked=y):A=this._createRadioElement("leaflet-base-layers_"+b(this),y),this._layerControlInputs.push(A),A.layerId=b(o.layer),Ft(A,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+o.name;var oe=document.createElement("span");m.appendChild(oe),oe.appendChild(A),oe.appendChild(U);var Ae=o.overlay?this._overlaysList:this._baseLayersList;return Ae.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,m,y,A=[],U=[];this._handlingClick=!0;for(var oe=o.length-1;oe>=0;oe--)m=o[oe],y=this._getLayer(m.layerId).layer,m.checked?A.push(y):m.checked||U.push(y);for(oe=0;oe<U.length;oe++)this._map.hasLayer(U[oe])&&this._map.removeLayer(U[oe]);for(oe=0;oe<A.length;oe++)this._map.hasLayer(A[oe])||this._map.addLayer(A[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,m,y,A=this._map.getZoom(),U=o.length-1;U>=0;U--)m=o[U],y=this._getLayer(m.layerId).layer,m.disabled=y.options.minZoom!==void 0&&A<y.options.minZoom||y.options.maxZoom!==void 0&&A>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ft(o,"click",Zt),this.expand();var m=this;setTimeout(function(){ri(o,"click",Zt),m._preventClick=!1})}}),Hs=function(o,m,y){return new ps(o,m,y)},hn=gr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var m="leaflet-control-zoom",y=He("div",m+" leaflet-bar"),A=this.options;return this._zoomInButton=this._createButton(A.zoomInText,A.zoomInTitle,m+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(A.zoomOutText,A.zoomOutTitle,m+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,m,y,A,U){var oe=He("a",y,A);return oe.innerHTML=o,oe.href="#",oe.title=m,oe.setAttribute("role","button"),oe.setAttribute("aria-label",m),Rr(oe),Ft(oe,"click",oi),Ft(oe,"click",U,this),Ft(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var o=this._map,m="leaflet-disabled";li(this._zoomInButton,m),li(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Nt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Nt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});gi.mergeOptions({zoomControl:!0}),gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hn,this.addControl(this.zoomControl))});var Ws=function(o){return new hn(o)},to=gr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var m="leaflet-control-scale",y=He("div",m),A=this.options;return this._addScales(A,m+"-line",y),o.on(A.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,m,y){o.metric&&(this._mScale=He("div",m,y)),o.imperial&&(this._iScale=He("div",m,y))},_update:function(){var o=this._map,m=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,m]),o.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var m=this._getRoundNum(o),y=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,y,m/o)},_updateImperial:function(o){var m=o*3.2808399,y,A,U;m>5280?(y=m/5280,A=this._getRoundNum(y),this._updateScale(this._iScale,A+" mi",A/y)):(U=this._getRoundNum(m),this._updateScale(this._iScale,U+" ft",U/m))},_updateScale:function(o,m,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=m},_getRoundNum:function(o){var m=Math.pow(10,(Math.floor(o)+"").length-1),y=o/m;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,m*y}}),ms=function(o){return new to(o)},qs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Eo=gr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?qs+" ":"")+"Leaflet</a>"},initialize:function(o){j(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=He("div","leaflet-control-attribution"),Rr(this._container);for(var m in o._layers)o._layers[m].getAttribution&&this.addAttribution(o._layers[m].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var m in this._attributions)this._attributions[m]&&o.push(m);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});gi.mergeOptions({attributionControl:!0}),gi.addInitHook(function(){this.options.attributionControl&&new Eo().addTo(this)});var gl=function(o){return new Eo(o)};gr.Layers=ps,gr.Zoom=hn,gr.Scale=to,gr.Attribution=Eo,zr.layers=Hs,zr.zoom=Ws,zr.scale=ms,zr.attribution=gl;var un=re.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(o,m){return o.addHandler(m,this),this};var fc={Events:se},Ir=Ot.touch?"touchstart mousedown":"mousedown",So=ye.extend({options:{clickTolerance:3},initialize:function(o,m,y,A){j(this,A),this._element=o,this._dragStartTarget=m||o,this._preventOutline=y},enable:function(){this._enabled||(Ft(this._dragStartTarget,Ir,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(So._dragging===this&&this.finishDrag(!0),ri(this._dragStartTarget,Ir,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ui(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){So._dragging===this&&this.finishDrag();return}if(!(So._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(So._dragging=this,this._preventOutline&&hi(this._element),Ve(),_e(),!this._moving)){this.fire("down");var m=o.touches?o.touches[0]:o,y=Ei(this._element);this._startPoint=new Ee(m.clientX,m.clientY),this._startPos=ae(this._element),this._parentScale=Pi(y);var A=o.type==="mousedown";Ft(document,A?"mousemove":"touchmove",this._onMove,this),Ft(document,A?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var m=o.touches&&o.touches.length===1?o.touches[0]:o,y=new Ee(m.clientX,m.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Zt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ie(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){li(document.body,"leaflet-dragging"),this._lastTarget&&(li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ri(document,"mousemove touchmove",this._onMove,this),ri(document,"mouseup touchend touchcancel",this._onUp,this),Ke(),Oe();var m=this._moved&&this._moving;this._moving=!1,So._dragging=!1,m&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function js(o,m,y){var A,U=[1,4,2,8],oe,Ae,We,Ye,lt,Ct,It,ai;for(oe=0,Ct=o.length;oe<Ct;oe++)o[oe]._code=xr(o[oe],m);for(We=0;We<4;We++){for(It=U[We],A=[],oe=0,Ct=o.length,Ae=Ct-1;oe<Ct;Ae=oe++)Ye=o[oe],lt=o[Ae],Ye._code&It?lt._code&It||(ai=gs(lt,Ye,It,m,y),ai._code=xr(ai,m),A.push(ai)):(lt._code&It&&(ai=gs(lt,Ye,It,m,y),ai._code=xr(ai,m),A.push(ai)),A.push(Ye));o=A}return o}function To(o,m){var y,A,U,oe,Ae,We,Ye,lt,Ct;if(!o||o.length===0)throw new Error("latlngs not passed");kr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var It=X([0,0]),ai=Le(o),Zi=ai.getNorthWest().distanceTo(ai.getSouthWest())*ai.getNorthEast().distanceTo(ai.getNorthWest());Zi<1700&&(It=za(o));var Xi=o.length,pn=[];for(y=0;y<Xi;y++){var zn=X(o[y]);pn.push(m.project(X([zn.lat-It.lat,zn.lng-It.lng])))}for(We=Ye=lt=0,y=0,A=Xi-1;y<Xi;A=y++)U=pn[y],oe=pn[A],Ae=U.y*oe.x-oe.y*U.x,Ye+=(U.x+oe.x)*Ae,lt+=(U.y+oe.y)*Ae,We+=Ae*3;We===0?Ct=pn[0]:Ct=[Ye/We,lt/We];var Gr=m.unproject(Be(Ct));return X([Gr.lat+It.lat,Gr.lng+It.lng])}function za(o){for(var m=0,y=0,A=0,U=0;U<o.length;U++){var oe=X(o[U]);m+=oe.lat,y+=oe.lng,A++}return X([m/A,y/A])}var Nu={__proto__:null,clipPolygon:js,polygonCenter:To,centroid:za};function Ji(o,m){if(!m||!o.length)return o.slice();var y=m*m;return o=Ia(o,y),o=vl(o,y),o}function ho(o,m,y){return Math.sqrt(vs(o,m,y,!0))}function zu(o,m,y){return vs(o,m,y)}function vl(o,m){var y=o.length,A=typeof Uint8Array<"u"?Uint8Array:Array,U=new A(y);U[0]=U[y-1]=1,Go(o,U,m,0,y-1);var oe,Ae=[];for(oe=0;oe<y;oe++)U[oe]&&Ae.push(o[oe]);return Ae}function Go(o,m,y,A,U){var oe=0,Ae,We,Ye;for(We=A+1;We<=U-1;We++)Ye=vs(o[We],o[A],o[U],!0),Ye>oe&&(Ae=We,oe=Ye);oe>y&&(m[Ae]=1,Go(o,m,y,A,Ae),Go(o,m,y,Ae,U))}function Ia(o,m){for(var y=[o[0]],A=1,U=0,oe=o.length;A<oe;A++)en(o[A],o[U])>m&&(y.push(o[A]),U=A);return U<oe-1&&y.push(o[oe-1]),y}var bl;function _l(o,m,y,A,U){var oe=A?bl:xr(o,y),Ae=xr(m,y),We,Ye,lt;for(bl=Ae;;){if(!(oe|Ae))return[o,m];if(oe&Ae)return!1;We=oe||Ae,Ye=gs(o,m,We,y,U),lt=xr(Ye,y),We===oe?(o=Ye,oe=lt):(m=Ye,Ae=lt)}}function gs(o,m,y,A,U){var oe=m.x-o.x,Ae=m.y-o.y,We=A.min,Ye=A.max,lt,Ct;return y&8?(lt=o.x+oe*(Ye.y-o.y)/Ae,Ct=Ye.y):y&4?(lt=o.x+oe*(We.y-o.y)/Ae,Ct=We.y):y&2?(lt=Ye.x,Ct=o.y+Ae*(Ye.x-o.x)/oe):y&1&&(lt=We.x,Ct=o.y+Ae*(We.x-o.x)/oe),new Ee(lt,Ct,U)}function xr(o,m){var y=0;return o.x<m.min.x?y|=1:o.x>m.max.x&&(y|=2),o.y<m.min.y?y|=4:o.y>m.max.y&&(y|=8),y}function en(o,m){var y=m.x-o.x,A=m.y-o.y;return y*y+A*A}function vs(o,m,y,A){var U=m.x,oe=m.y,Ae=y.x-U,We=y.y-oe,Ye=Ae*Ae+We*We,lt;return Ye>0&&(lt=((o.x-U)*Ae+(o.y-oe)*We)/Ye,lt>1?(U=y.x,oe=y.y):lt>0&&(U+=Ae*lt,oe+=We*lt)),Ae=o.x-U,We=o.y-oe,A?Ae*Ae+We*We:new Ee(U,oe)}function kr(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function ba(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kr(o)}function Us(o,m){var y,A,U,oe,Ae,We,Ye,lt;if(!o||o.length===0)throw new Error("latlngs not passed");kr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ct=X([0,0]),It=Le(o),ai=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());ai<1700&&(Ct=za(o));var Zi=o.length,Xi=[];for(y=0;y<Zi;y++){var pn=X(o[y]);Xi.push(m.project(X([pn.lat-Ct.lat,pn.lng-Ct.lng])))}for(y=0,A=0;y<Zi-1;y++)A+=Xi[y].distanceTo(Xi[y+1])/2;if(A===0)lt=Xi[0];else for(y=0,oe=0;y<Zi-1;y++)if(Ae=Xi[y],We=Xi[y+1],U=Ae.distanceTo(We),oe+=U,oe>A){Ye=(oe-A)/U,lt=[We.x-Ye*(We.x-Ae.x),We.y-Ye*(We.y-Ae.y)];break}var zn=m.unproject(Be(lt));return X([zn.lat+Ct.lat,zn.lng+Ct.lng])}var Ys={__proto__:null,simplify:Ji,pointToSegmentDistance:ho,closestPointOnSegment:zu,clipSegment:_l,_getEdgeIntersection:gs,_getBitCode:xr,_sqClosestPointOnSegment:vs,isFlat:kr,_flat:ba,polylineCenter:Us},Gs={project:function(o){return new Ee(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new Me([-180,-90],[180,90])},bs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Me([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var m=Math.PI/180,y=this.R,A=o.lat*m,U=this.R_MINOR/y,oe=Math.sqrt(1-U*U),Ae=oe*Math.sin(A),We=Math.tan(Math.PI/4-A/2)/Math.pow((1-Ae)/(1+Ae),oe/2);return A=-y*Math.log(Math.max(We,1e-10)),new Ee(o.lng*m*y,A)},unproject:function(o){for(var m=180/Math.PI,y=this.R,A=this.R_MINOR/y,U=Math.sqrt(1-A*A),oe=Math.exp(-o.y/y),Ae=Math.PI/2-2*Math.atan(oe),We=0,Ye=.1,lt;We<15&&Math.abs(Ye)>1e-7;We++)lt=U*Math.sin(Ae),lt=Math.pow((1-lt)/(1+lt),U/2),Ye=Math.PI/2-2*Math.atan(oe*lt)-Ae,Ae+=Ye;return new Re(Ae*m,o.x*m/y)}},Zs={__proto__:null,LonLat:Gs,Mercator:bs,SphericalMercator:Ze},Iu=u({},Te,{code:"EPSG:3395",projection:bs,transformation:function(){var o=.5/(Math.PI*bs.R);return ut(o,.5,-o,.5)}()}),yl=u({},Te,{code:"EPSG:4326",projection:Gs,transformation:ut(1/180,1,-1/180,.5)}),Bu=u({},we,{projection:Gs,transformation:ut(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,m){var y=m.lng-o.lng,A=m.lat-o.lat;return Math.sqrt(y*y+A*A)},infinite:!0});we.Earth=Te,we.EPSG3395=Iu,we.EPSG3857=Et,we.EPSG900913=wt,we.EPSG4326=yl,we.Simple=Bu;var tn=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[b(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[b(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var m=o.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var y=this.getEvents();m.on(y,this),this.once("remove",function(){m.off(y,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});gi.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var m=b(o);return this._layers[m]?this:(this._layers[m]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var m=b(o);return this._layers[m]?(this._loaded&&o.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return b(o)in this._layers},eachLayer:function(o,m){for(var y in this._layers)o.call(m,this._layers[y]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var m=0,y=o.length;m<y;m++)this.addLayer(o[m])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[b(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var m=b(o);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,m=-1/0,y=this._getZoomSpan();for(var A in this._zoomBoundLayers){var U=this._zoomBoundLayers[A].options;o=U.minZoom===void 0?o:Math.min(o,U.minZoom),m=U.maxZoom===void 0?m:Math.max(m,U.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zo=tn.extend({initialize:function(o,m){j(this,m),this._layers={};var y,A;if(o)for(y=0,A=o.length;y<A;y++)this.addLayer(o[y])},addLayer:function(o){var m=this.getLayerId(o);return this._layers[m]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var m=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(o){var m=typeof o=="number"?o:this.getLayerId(o);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var m=Array.prototype.slice.call(arguments,1),y,A;for(y in this._layers)A=this._layers[y],A[o]&&A[o].apply(A,m);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,m){for(var y in this._layers)o.call(m,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return b(o)}}),Ao=function(o,m){return new Zo(o,m)},Nn=Zo.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Zo.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Zo.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Y;for(var m in this._layers){var y=this._layers[m];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),_s=function(o,m){return new Nn(o,m)},Xo=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){j(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,m){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var A=this._createImg(y,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(A,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),A},_setIconStyles:function(o,m){var y=this.options,A=y[m+"Size"];typeof A=="number"&&(A=[A,A]);var U=Be(A),oe=Be(m==="shadow"&&y.shadowAnchor||y.iconAnchor||U&&U.divideBy(2,!0));o.className="leaflet-marker-"+m+" "+(y.className||""),oe&&(o.style.marginLeft=-oe.x+"px",o.style.marginTop=-oe.y+"px"),U&&(o.style.width=U.x+"px",o.style.height=U.y+"px")},_createImg:function(o,m){return m=m||document.createElement("img"),m.src=o,m},_getIconUrl:function(o){return Ot.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function wl(o){return new Xo(o)}var Cr=Xo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Cr.imagePath!="string"&&(Cr.imagePath=this._detectIconPath()),(this.options.imagePath||Cr.imagePath)+Xo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var m=function(y,A,U){var oe=A.exec(y);return oe&&oe[U]};return o=m(o,/^url\((['"])?(.+)\1\)$/,2),o&&m(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=He("div","leaflet-default-icon-path",document.body),m=xe(o,"background-image")||xe(o,"backgroundImage");if(document.body.removeChild(o),m=this._stripUrl(m),m)return m;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Vo=un.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new So(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var m=this._marker,y=m._map,A=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,oe=ae(m._icon),Ae=y.getPixelBounds(),We=y.getPixelOrigin(),Ye=te(Ae.min._subtract(We).add(U),Ae.max._subtract(We).subtract(U));if(!Ye.contains(oe)){var lt=Be((Math.max(Ye.max.x,oe.x)-Ye.max.x)/(Ae.max.x-Ye.max.x)-(Math.min(Ye.min.x,oe.x)-Ye.min.x)/(Ae.min.x-Ye.min.x),(Math.max(Ye.max.y,oe.y)-Ye.max.y)/(Ae.max.y-Ye.max.y)-(Math.min(Ye.min.y,oe.y)-Ye.min.y)/(Ae.min.y-Ye.min.y)).multiplyBy(A);y.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),ie(m._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=fe(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=fe(this._adjustPan.bind(this,o)))},_onDrag:function(o){var m=this._marker,y=m._shadow,A=ae(m._icon),U=m._map.layerPointToLatLng(A);y&&ie(y,A),m._latlng=U,o.latlng=U,o.oldLatLng=this._oldLatLng,m.fire("move",o).fire("drag",o)},_onDragEnd:function(o){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ba=tn.extend({options:{icon:new Cr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,m){j(this,m),this._latlng=X(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var m=this._latlng;return this._latlng=X(o),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),A=!1;y!==this._icon&&(this._icon&&this._removeIcon(),A=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),Nt(y,m),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(y,"focus",this._panOnFocus,this);var U=o.icon.createShadow(this._shadow),oe=!1;U!==this._shadow&&(this._removeShadow(),oe=!0),U&&(Nt(U,m),U.alt=""),this._shadow=U,o.opacity<1&&this._updateOpacity(),A&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&oe&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ri(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ie(this._icon,o),this._shadow&&ie(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ke(this._icon,o),this._shadow&&ke(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var m=this.options.icon.options,y=m.iconSize?Be(m.iconSize):Be(0,0),A=m.iconAnchor?Be(m.iconAnchor):Be(0,0);o.panInside(this._latlng,{paddingTopLeft:A,paddingBottomRight:y.subtract(A)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $a(o,m){return new Ba(o,m)}var Do=tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return j(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xs=Do.extend({options:{fill:!0,radius:10},initialize:function(o,m){j(this,m),this._latlng=X(o),this._radius=this.options.radius},setLatLng:function(o){var m=this._latlng;return this._latlng=X(o),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var m=o&&o.radius||this._radius;return Do.prototype.setStyle.call(this,o),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,m=this._radiusY||o,y=this._clickTolerance(),A=[o+y,m+y];this._pxBounds=new Me(this._point.subtract(A),this._point.add(A))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vs(o,m){return new Xs(o,m)}var Ha=Xs.extend({initialize:function(o,m,y){if(typeof m=="number"&&(m=u({},y,{radius:m})),j(this,m),this._latlng=X(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Do.prototype.setStyle,_project:function(){var o=this._latlng.lng,m=this._latlng.lat,y=this._map,A=y.options.crs;if(A.distance===Te.distance){var U=Math.PI/180,oe=this._mRadius/Te.R/U,Ae=y.project([m+oe,o]),We=y.project([m-oe,o]),Ye=Ae.add(We).divideBy(2),lt=y.unproject(Ye).lat,Ct=Math.acos((Math.cos(oe*U)-Math.sin(m*U)*Math.sin(lt*U))/(Math.cos(m*U)*Math.cos(lt*U)))/U;(isNaN(Ct)||Ct===0)&&(Ct=oe/Math.cos(Math.PI/180*m)),this._point=Ye.subtract(y.getPixelOrigin()),this._radius=isNaN(Ct)?0:Ye.x-y.project([lt,o-Ct]).x,this._radiusY=Ye.y-Ae.y}else{var It=A.unproject(A.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(It).x}this._updateBounds()}});function Br(o,m,y){return new Ha(o,m,y)}var dn=Do.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,m){j(this,m),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var m=1/0,y=null,A=vs,U,oe,Ae=0,We=this._parts.length;Ae<We;Ae++)for(var Ye=this._parts[Ae],lt=1,Ct=Ye.length;lt<Ct;lt++){U=Ye[lt-1],oe=Ye[lt];var It=A(o,U,oe,!0);It<m&&(m=It,y=A(o,U,oe))}return y&&(y.distance=Math.sqrt(m)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Us(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,m){return m=m||this._defaultShape(),o=X(o),m.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Y,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return kr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var m=[],y=kr(o),A=0,U=o.length;A<U;A++)y?(m[A]=X(o[A]),this._bounds.extend(m[A])):m[A]=this._convertLatLngs(o[A]);return m},_project:function(){var o=new Me;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),m=new Ee(o,o);this._rawPxBounds&&(this._pxBounds=new Me([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(o,m,y){var A=o[0]instanceof Re,U=o.length,oe,Ae;if(A){for(Ae=[],oe=0;oe<U;oe++)Ae[oe]=this._map.latLngToLayerPoint(o[oe]),y.extend(Ae[oe]);m.push(Ae)}else for(oe=0;oe<U;oe++)this._projectLatlngs(o[oe],m,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,y,A,U,oe,Ae,We,Ye;for(y=0,U=0,oe=this._rings.length;y<oe;y++)for(Ye=this._rings[y],A=0,Ae=Ye.length;A<Ae-1;A++)We=_l(Ye[A],Ye[A+1],o,A,!0),We&&(m[U]=m[U]||[],m[U].push(We[0]),(We[1]!==Ye[A+1]||A===Ae-2)&&(m[U].push(We[1]),U++))}},_simplifyPoints:function(){for(var o=this._parts,m=this.options.smoothFactor,y=0,A=o.length;y<A;y++)o[y]=Ji(o[y],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,m){var y,A,U,oe,Ae,We,Ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,oe=this._parts.length;y<oe;y++)for(We=this._parts[y],A=0,Ae=We.length,U=Ae-1;A<Ae;U=A++)if(!(!m&&A===0)&&ho(o,We[U],We[A])<=Ye)return!0;return!1}});function xl(o,m){return new dn(o,m)}dn._flat=ba;var _a=dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var m=dn.prototype._convertLatLngs.call(this,o),y=m.length;return y>=2&&m[0]instanceof Re&&m[0].equals(m[y-1])&&m.pop(),m},_setLatLngs:function(o){dn.prototype._setLatLngs.call(this,o),kr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,m=this.options.weight,y=new Ee(m,m);if(o=new Me(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var A=0,U=this._rings.length,oe;A<U;A++)oe=js(this._rings[A],o,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var m=!1,y,A,U,oe,Ae,We,Ye,lt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(oe=0,Ye=this._parts.length;oe<Ye;oe++)for(y=this._parts[oe],Ae=0,lt=y.length,We=lt-1;Ae<lt;We=Ae++)A=y[Ae],U=y[We],A.y>o.y!=U.y>o.y&&o.x<(U.x-A.x)*(o.y-A.y)/(U.y-A.y)+A.x&&(m=!m);return m||dn.prototype._containsPoint.call(this,o,!0)}});function hc(o,m){return new _a(o,m)}var Er=Nn.extend({initialize:function(o,m){j(this,m),this._layers={},o&&this.addData(o)},addData:function(o){var m=D(o)?o:o.features,y,A,U;if(m){for(y=0,A=m.length;y<A;y++)U=m[y],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var oe=this.options;if(oe.filter&&!oe.filter(o))return this;var Ae=Sr(o,oe);return Ae?(Ae.feature=jr(o),Ae.defaultOptions=Ae.options,this.resetStyle(Ae),oe.onEachFeature&&oe.onEachFeature(o,Ae),this.addLayer(Ae)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=u({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(m){this._setLayerStyle(m,o)},this)},_setLayerStyle:function(o,m){o.setStyle&&(typeof m=="function"&&(m=m(o.feature)),o.setStyle(m))}});function Sr(o,m){var y=o.type==="Feature"?o.geometry:o,A=y?y.coordinates:null,U=[],oe=m&&m.pointToLayer,Ae=m&&m.coordsToLatLng||Qs,We,Ye,lt,Ct;if(!A&&!y)return null;switch(y.type){case"Point":return We=Ae(A),Ks(oe,o,We,m);case"MultiPoint":for(lt=0,Ct=A.length;lt<Ct;lt++)We=Ae(A[lt]),U.push(Ks(oe,o,We,m));return new Nn(U);case"LineString":case"MultiLineString":return Ye=Ko(A,y.type==="LineString"?0:1,Ae),new dn(Ye,m);case"Polygon":case"MultiPolygon":return Ye=Ko(A,y.type==="Polygon"?1:2,Ae),new _a(Ye,m);case"GeometryCollection":for(lt=0,Ct=y.geometries.length;lt<Ct;lt++){var It=Sr({geometry:y.geometries[lt],type:"Feature",properties:o.properties},m);It&&U.push(It)}return new Nn(U);case"FeatureCollection":for(lt=0,Ct=y.features.length;lt<Ct;lt++){var ai=Sr(y.features[lt],m);ai&&U.push(ai)}return new Nn(U);default:throw new Error("Invalid GeoJSON object.")}}function Ks(o,m,y,A){return o?o(m,y):new Ba(y,A&&A.markersInheritOptions&&A)}function Qs(o){return new Re(o[1],o[0],o[2])}function Ko(o,m,y){for(var A=[],U=0,oe=o.length,Ae;U<oe;U++)Ae=m?Ko(o[U],m-1,y):(y||Qs)(o[U]),A.push(Ae);return A}function Js(o,m){return o=X(o),o.alt!==void 0?[O(o.lng,m),O(o.lat,m),O(o.alt,m)]:[O(o.lng,m),O(o.lat,m)]}function ys(o,m,y,A){for(var U=[],oe=0,Ae=o.length;oe<Ae;oe++)U.push(m?ys(o[oe],kr(o[oe])?0:m-1,y,A):Js(o[oe],A));return!m&&y&&U.length>0&&U.push(U[0].slice()),U}function Qo(o,m){return o.feature?u({},o.feature,{geometry:m}):jr(m)}function jr(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ne={toGeoJSON:function(o){return Qo(this,{type:"Point",coordinates:Js(this.getLatLng(),o)})}};Ba.include(Ne),Ha.include(Ne),Xs.include(Ne),dn.include({toGeoJSON:function(o){var m=!kr(this._latlngs),y=ys(this._latlngs,m?1:0,!1,o);return Qo(this,{type:(m?"Multi":"")+"LineString",coordinates:y})}}),_a.include({toGeoJSON:function(o){var m=!kr(this._latlngs),y=m&&!kr(this._latlngs[0]),A=ys(this._latlngs,y?2:m?1:0,!0,o);return m||(A=[A]),Qo(this,{type:(y?"Multi":"")+"Polygon",coordinates:A})}}),Zo.include({toMultiPoint:function(o){var m=[];return this.eachLayer(function(y){m.push(y.toGeoJSON(o).geometry.coordinates)}),Qo(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(o){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(o);var y=m==="GeometryCollection",A=[];return this.eachLayer(function(U){if(U.toGeoJSON){var oe=U.toGeoJSON(o);if(y)A.push(oe.geometry);else{var Ae=jr(oe);Ae.type==="FeatureCollection"?A.push.apply(A,Ae.features):A.push(Ae)}}}),y?Qo(this,{geometries:A,type:"GeometryCollection"}):{type:"FeatureCollection",features:A}}});function tt(o,m){return new Er(o,m)}var Ue=tt,At=tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,m,y){this._url=o,this._bounds=Le(m),j(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&pt(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Le(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",m=this._image=o?this._url:He("img");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=S,m.onmousemove=S,m.onload=f(this.fire,this,"load"),m.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(o){var m=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;R(this._image,y,m)},_reset:function(){var o=this._image,m=new Me(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=m.getSize();ie(o,m.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Jt=function(o,m,y){return new At(o,m,y)},Si=At.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",m=this._image=o?this._url:He("video");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=S,m.onmousemove=S,m.onloadeddata=f(this.fire,this,"load"),o){for(var y=m.getElementsByTagName("source"),A=[],U=0;U<y.length;U++)A.push(y[U].src);this._url=y.length>0?A:[m.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var Ae=He("source");Ae.src=this._url[oe],m.appendChild(Ae)}}});function yn(o,m,y){return new Si(o,m,y)}var qi=At.extend({_initImage:function(){var o=this._image=this._url;Nt(o,"leaflet-image-layer"),this._zoomAnimated&&Nt(o,"leaflet-zoom-animated"),this.options.className&&Nt(o,this.options.className),o.onselectstart=S,o.onmousemove=S}});function ws(o,m,y){return new qi(o,m,y)}var po=tn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,m){o&&(o instanceof Re||D(o))?(this._latlng=X(o),j(this,m)):(j(this,o),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(f(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(li(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=X(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pt(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(o){var m=this._source;if(!m._map)return!1;if(m instanceof Nn){m=null;var y=this._source._layers;for(var A in y)if(y[A]._map){m=y[A];break}if(!m)return!1;this._source=m}if(!o)if(m.getCenter)o=m.getCenter();else if(m.getLatLng)o=m.getLatLng();else if(m.getBounds)o=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")o.innerHTML=m;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),m=Be(this.options.offset),y=this._getAnchor();this._zoomAnimated?ie(this._container,o.add(y)):m=m.add(o).add(y);var A=this._containerBottom=-m.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=A+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});gi.include({_initOverlay:function(o,m,y,A){var U=m;return U instanceof o||(U=new o(A).setContent(m)),y&&U.setLatLng(y),U}}),tn.include({_initOverlay:function(o,m,y,A){var U=y;return U instanceof o?(j(U,A),U._source=this):(U=m&&!A?m:new o(A,this),U.setContent(y)),U}});var vr=po.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,po.prototype.openOn.call(this,o)},onAdd:function(o){po.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Do||this._source.on("preclick",Sn))},onRemove:function(o){po.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Do||this._source.off("preclick",Sn))},getEvents:function(){var o=po.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",m=this._container=He("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=He("div",o+"-content-wrapper",m);if(this._contentNode=He("div",o+"-content",y),Rr(m),qr(this._contentNode),Ft(m,"contextmenu",Sn),this._tipContainer=He("div",o+"-tip-container",m),this._tip=He("div",o+"-tip",this._tipContainer),this.options.closeButton){var A=this._closeButton=He("a",o+"-close-button",m);A.setAttribute("role","button"),A.setAttribute("aria-label","Close popup"),A.href="#close",A.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(A,"click",function(U){Zt(U),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,m=o.style;m.width="",m.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),m.width=y+1+"px",m.whiteSpace="",m.height="";var A=o.offsetHeight,U=this.options.maxHeight,oe="leaflet-popup-scrolled";U&&A>U?(m.height=U+"px",Nt(o,oe)):li(o,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();ie(this._container,m.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,m=parseInt(xe(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+m,A=this._containerWidth,U=new Ee(this._containerLeft,-y-this._containerBottom);U._add(ae(this._container));var oe=o.layerPointToContainerPoint(U),Ae=Be(this.options.autoPanPadding),We=Be(this.options.autoPanPaddingTopLeft||Ae),Ye=Be(this.options.autoPanPaddingBottomRight||Ae),lt=o.getSize(),Ct=0,It=0;oe.x+A+Ye.x>lt.x&&(Ct=oe.x+A-lt.x+Ye.x),oe.x-Ct-We.x<0&&(Ct=oe.x-We.x),oe.y+y+Ye.y>lt.y&&(It=oe.y+y-lt.y+Ye.y),oe.y-It-We.y<0&&(It=oe.y-We.y),(Ct||It)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ct,It]))}},_getAnchor:function(){return Be(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eu=function(o,m){return new vr(o,m)};gi.mergeOptions({closePopupOnClick:!0}),gi.include({openPopup:function(o,m,y){return this._initOverlay(vr,o,m,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),tn.include({bindPopup:function(o,m){return this._popup=this._initOverlay(vr,this._popup,o,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Nn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){oi(o);var m=o.layer||o.target;if(this._popup._source===m&&!(m instanceof Do)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=m,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var mo=po.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){po.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){po.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=po.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",m=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=He("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var m,y,A=this._map,U=this._container,oe=A.latLngToContainerPoint(A.getCenter()),Ae=A.layerPointToContainerPoint(o),We=this.options.direction,Ye=U.offsetWidth,lt=U.offsetHeight,Ct=Be(this.options.offset),It=this._getAnchor();We==="top"?(m=Ye/2,y=lt):We==="bottom"?(m=Ye/2,y=0):We==="center"?(m=Ye/2,y=lt/2):We==="right"?(m=0,y=lt/2):We==="left"?(m=Ye,y=lt/2):Ae.x<oe.x?(We="right",m=0,y=lt/2):(We="left",m=Ye+(Ct.x+It.x)*2,y=lt/2),o=o.subtract(Be(m,y,!0)).add(Ct).add(It),li(U,"leaflet-tooltip-right"),li(U,"leaflet-tooltip-left"),li(U,"leaflet-tooltip-top"),li(U,"leaflet-tooltip-bottom"),Nt(U,"leaflet-tooltip-"+We),ie(U,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ke(this._container,o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(m)},_getAnchor:function(){return Be(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),io=function(o,m){return new mo(o,m)};gi.include({openTooltip:function(o,m,y){return this._initOverlay(mo,o,m,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),tn.include({bindTooltip:function(o,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mo,this._tooltip,o,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var m=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[m](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Nn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&(Ft(m,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ft(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var m=o.latlng,y,A;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),A=this._map.containerPointToLayerPoint(y),m=this._map.layerPointToLatLng(A)),this._tooltip.setLatLng(m)}});var go=Xo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var m=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(je(m),m.appendChild(y.html)):m.innerHTML=y.html!==!1?y.html:"",y.bgPos){var A=Be(y.bgPos);m.style.backgroundPosition=-A.x+"px "+-A.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Wa(o){return new go(o)}Xo.Default=Cr;var Ci=tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){j(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),nt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Ee?o:new Ee(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var m=this.getPane().children,y=-o(-1/0,1/0),A=0,U=m.length,oe;A<U;A++)oe=m[A].style.zIndex,m[A]!==this._container&&oe&&(y=o(y,+oe));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){ke(this._container,this.options.opacity);var o=+new Date,m=!1,y=!1;for(var A in this._tiles){var U=this._tiles[A];if(!(!U.current||!U.loaded)){var oe=Math.min(1,(o-U.loaded)/200);ke(U.el,oe),oe<1?m=!0:(U.active?y=!0:this._onOpaqueTile(U),U.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),m&&(De(this._fadeFrame),this._fadeFrame=fe(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=He("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,m=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=m-Math.abs(o-y),this._onUpdateLevel(y)):(nt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var A=this._levels[o],U=this._map;return A||(A=this._levels[o]={},A.el=He("div","leaflet-tile-container leaflet-zoom-animated",this._container),A.el.style.zIndex=m,A.origin=U.project(U.unproject(U.getPixelOrigin()),o).round(),A.zoom=o,this._setZoomTransform(A,U.getCenter(),U.getZoom()),S(A.el.offsetWidth),this._onCreateLevel(A)),this._level=A,A}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var o,m,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)m=this._tiles[o],m.retain=m.current;for(o in this._tiles)if(m=this._tiles[o],m.current&&!m.active){var A=m.coords;this._retainParent(A.x,A.y,A.z,A.z-5)||this._retainChildren(A.x,A.y,A.z,A.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var m in this._tiles)this._tiles[m].coords.z===o&&this._removeTile(m)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)nt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,m,y,A){var U=Math.floor(o/2),oe=Math.floor(m/2),Ae=y-1,We=new Ee(+U,+oe);We.z=+Ae;var Ye=this._tileCoordsToKey(We),lt=this._tiles[Ye];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),Ae>A?this._retainParent(U,oe,Ae,A):!1)},_retainChildren:function(o,m,y,A){for(var U=2*o;U<2*o+2;U++)for(var oe=2*m;oe<2*m+2;oe++){var Ae=new Ee(U,oe);Ae.z=y+1;var We=this._tileCoordsToKey(Ae),Ye=this._tiles[We];if(Ye&&Ye.active){Ye.retain=!0;continue}else Ye&&Ye.loaded&&(Ye.retain=!0);y+1<A&&this._retainChildren(U,oe,y+1,A)}},_resetView:function(o){var m=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var m=this.options;return m.minNativeZoom!==void 0&&o<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<o?m.maxNativeZoom:o},_setView:function(o,m,y,A){var U=Math.round(m);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var oe=this.options.updateWhenZooming&&U!==this._tileZoom;(!A||oe)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,m)},_setZoomTransforms:function(o,m){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,m)},_setZoomTransform:function(o,m,y){var A=this._map.getZoomScale(y,o.zoom),U=o.origin.multiplyBy(A).subtract(this._map._getNewPixelOrigin(m,y)).round();Ot.any3d?R(o.el,U,A):ie(o.el,U)},_resetGrid:function(){var o=this._map,m=o.options.crs,y=this._tileSize=this.getTileSize(),A=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,m.wrapLng[0]],A).x/y.x),Math.ceil(o.project([0,m.wrapLng[1]],A).x/y.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([m.wrapLat[0],0],A).y/y.x),Math.ceil(o.project([m.wrapLat[1],0],A).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var m=this._map,y=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),A=m.getZoomScale(y,this._tileZoom),U=m.project(o,this._tileZoom).floor(),oe=m.getSize().divideBy(A*2);return new Me(U.subtract(oe),U.add(oe))},_update:function(o){var m=this._map;if(m){var y=this._clampZoom(m.getZoom());if(o===void 0&&(o=m.getCenter()),this._tileZoom!==void 0){var A=this._getTiledPixelBounds(o),U=this._pxBoundsToTileRange(A),oe=U.getCenter(),Ae=[],We=this.options.keepBuffer,Ye=new Me(U.getBottomLeft().subtract([We,-We]),U.getTopRight().add([We,-We]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Ct=this._tiles[lt].coords;(Ct.z!==this._tileZoom||!Ye.contains(new Ee(Ct.x,Ct.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var It=U.min.y;It<=U.max.y;It++)for(var ai=U.min.x;ai<=U.max.x;ai++){var Zi=new Ee(ai,It);if(Zi.z=this._tileZoom,!!this._isValidTile(Zi)){var Xi=this._tiles[this._tileCoordsToKey(Zi)];Xi?Xi.current=!0:Ae.push(Zi)}}if(Ae.sort(function(zn,Gr){return zn.distanceTo(oe)-Gr.distanceTo(oe)}),Ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(ai=0;ai<Ae.length;ai++)this._addTile(Ae[ai],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(o){var m=this._map.options.crs;if(!m.infinite){var y=this._globalTileRange;if(!m.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!m.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var A=this._tileCoordsToBounds(o);return Le(this.options.bounds).overlaps(A)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var m=this._map,y=this.getTileSize(),A=o.scaleBy(y),U=A.add(y),oe=m.unproject(A,o.z),Ae=m.unproject(U,o.z);return[oe,Ae]},_tileCoordsToBounds:function(o){var m=this._tileCoordsToNwSe(o),y=new Y(m[0],m[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var m=o.split(":"),y=new Ee(+m[0],+m[1]);return y.z=+m[2],y},_removeTile:function(o){var m=this._tiles[o];m&&(nt(m.el),delete this._tiles[o],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Nt(o,"leaflet-tile");var m=this.getTileSize();o.style.width=m.x+"px",o.style.height=m.y+"px",o.onselectstart=S,o.onmousemove=S,Ot.ielt9&&this.options.opacity<1&&ke(o,this.options.opacity)},_addTile:function(o,m){var y=this._getTilePos(o),A=this._tileCoordsToKey(o),U=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(U),this.createTile.length<2&&fe(f(this._tileReady,this,o,null,U)),ie(U,y),this._tiles[A]={el:U,coords:o,current:!0},m.appendChild(U),this.fire("tileloadstart",{tile:U,coords:o})},_tileReady:function(o,m,y){m&&this.fire("tileerror",{error:m,tile:y,coords:o});var A=this._tileCoordsToKey(o);y=this._tiles[A],y&&(y.loaded=+new Date,this._map._fadeAnimated?(ke(y.el,0),De(this._fadeFrame),this._fadeFrame=fe(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),m||(Nt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?fe(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var m=new Ee(this._wrapX?w(o.x,this._wrapX):o.x,this._wrapY?w(o.y,this._wrapY):o.y);return m.z=o.z,m},_pxBoundsToTileRange:function(o){var m=this.getTileSize();return new Me(o.min.unscaleBy(m).floor(),o.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function kl(o){return new Ci(o)}var Lo=Ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,m){this._url=o,m=j(this,m),m.detectRetina&&Ot.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,m){return this._url===o&&m===void 0&&(m=!0),this._url=o,m||this.redraw(),this},createTile:function(o,m){var y=document.createElement("img");return Ft(y,"load",f(this._tileOnLoad,this,m,y)),Ft(y,"error",f(this._tileOnError,this,m,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var m={r:Ot.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(m.y=y),m["-y"]=y}return E(this._url,u(m,this.options))},_tileOnLoad:function(o,m){Ot.ielt9?setTimeout(f(o,this,null,m),0):o(null,m)},_tileOnError:function(o,m,y){var A=this.options.errorTileUrl;A&&m.getAttribute("src")!==A&&(m.src=A),o(y,m)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,m=this.options.maxZoom,y=this.options.zoomReverse,A=this.options.zoomOffset;return y&&(o=m-o),o+A},_getSubdomain:function(o){var m=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var o,m;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(m=this._tiles[o].el,m.onload=S,m.onerror=S,!m.complete)){m.src=z;var y=this._tiles[o].coords;nt(m),delete this._tiles[o],this.fire("tileabort",{tile:m,coords:y})}},_removeTile:function(o){var m=this._tiles[o];if(m)return m.el.setAttribute("src",z),Ci.prototype._removeTile.call(this,o)},_tileReady:function(o,m,y){if(!(!this._map||y&&y.getAttribute("src")===z))return Ci.prototype._tileReady.call(this,o,m,y)}});function no(o,m){return new Lo(o,m)}var Jo=Lo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,m){this._url=o;var y=u({},this.defaultWmsParams);for(var A in m)A in this.options||(y[A]=m[A]);m=j(this,m);var U=m.detectRetina&&Ot.retina?2:1,oe=this.getTileSize();y.width=oe.x*U,y.height=oe.y*U,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Lo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var m=this._tileCoordsToNwSe(o),y=this._crs,A=te(y.project(m[0]),y.project(m[1])),U=A.min,oe=A.max,Ae=(this._wmsVersion>=1.3&&this._crs===yl?[U.y,U.x,oe.y,oe.x]:[U.x,U.y,oe.x,oe.y]).join(","),We=Lo.prototype.getTileUrl.call(this,o);return We+q(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ae},setParams:function(o,m){return u(this.wmsParams,o),m||this.redraw(),this}});function br(o,m){return new Jo(o,m)}Lo.WMS=Jo,no.wms=br;var ar=tn.extend({options:{padding:.1},initialize:function(o){j(this,o),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,m){var y=this._map.getZoomScale(m,this._zoom),A=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,m),oe=A.multiplyBy(-y).add(U).subtract(this._map._getNewPixelOrigin(o,m));Ot.any3d?R(this._container,oe,y):ie(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,m=this._map.getSize(),y=this._map.containerPointToLayerPoint(m.multiplyBy(-o)).round();this._bounds=new Me(y,y.add(m.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ur=ar.extend({options:{tolerance:0},getEvents:function(){var o=ar.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ar.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ft(o,"mousemove",this._onMouseMove,this),Ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,nt(this._container),ri(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var m in this._layers)o=this._layers[m],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ar.prototype._update.call(this);var o=this._bounds,m=this._container,y=o.getSize(),A=Ot.retina?2:1;ie(m,o.min),m.width=A*y.x,m.height=A*y.y,m.style.width=y.x+"px",m.style.height=y.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ar.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[b(o)]=o;var m=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var m=o._order,y=m.next,A=m.prev;y?y.prev=A:this._drawLast=A,A?A.next=y:this._drawFirst=y,delete o._order,delete this._layers[b(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var m=o.options.dashArray.split(/[, ]+/),y=[],A,U;for(U=0;U<m.length;U++){if(A=Number(m[U]),isNaN(A))return;y.push(A)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||fe(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var m=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Me,this._redrawBounds.extend(o._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(o._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var m=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,m=this._redrawBounds;if(this._ctx.save(),m){var y=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var A=this._drawFirst;A;A=A.next)o=A.layer,(!m||o._pxBounds&&o._pxBounds.intersects(m))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,m){if(this._drawing){var y,A,U,oe,Ae=o._parts,We=Ae.length,Ye=this._ctx;if(We){for(Ye.beginPath(),y=0;y<We;y++){for(A=0,U=Ae[y].length;A<U;A++)oe=Ae[y][A],Ye[A?"lineTo":"moveTo"](oe.x,oe.y);m&&Ye.closePath()}this._fillStroke(Ye,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var m=o._point,y=this._ctx,A=Math.max(Math.round(o._radius),1),U=(Math.max(Math.round(o._radiusY),1)||A)/A;U!==1&&(y.save(),y.scale(1,U)),y.beginPath(),y.arc(m.x,m.y/U,A,0,Math.PI*2,!1),U!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,m){var y=m.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(m.options&&m.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var m=this._map.mouseEventToLayerPoint(o),y,A,U=this._drawFirst;U;U=U.next)y=U.layer,y.options.interactive&&y._containsPoint(m)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(A=y);this._fireEvent(A?[A]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,m)}},_handleMouseOut:function(o){var m=this._hoveredLayer;m&&(li(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,m){if(!this._mouseHoverThrottled){for(var y,A,U=this._drawFirst;U;U=U.next)y=U.layer,y.options.interactive&&y._containsPoint(m)&&(A=y);A!==this._hoveredLayer&&(this._handleMouseOut(o),A&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([A],o,"mouseover"),this._hoveredLayer=A)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,m,y){this._map._fireDOMEvent(m,y||m.type,o)},_bringToFront:function(o){var m=o._order;if(m){var y=m.next,A=m.prev;if(y)y.prev=A;else return;A?A.next=y:y&&(this._drawFirst=y),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(o)}},_bringToBack:function(o){var m=o._order;if(m){var y=m.next,A=m.prev;if(A)A.next=y;else return;y?y.prev=A:A&&(this._drawLast=A),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(o)}}});function Yr(o){return Ot.canvas?new Ur(o):null}var ea=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$u={_initContainer:function(){this._container=He("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ar.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var m=o._container=ea("shape");Nt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",o._path=ea("path"),m.appendChild(o._path),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){var m=o._container;this._container.appendChild(m),o.options.interactive&&o.addInteractiveTarget(m)},_removePath:function(o){var m=o._container;nt(m),o.removeInteractiveTarget(m),delete this._layers[b(o)]},_updateStyle:function(o){var m=o._stroke,y=o._fill,A=o.options,U=o._container;U.stroked=!!A.stroke,U.filled=!!A.fill,A.stroke?(m||(m=o._stroke=ea("stroke")),U.appendChild(m),m.weight=A.weight+"px",m.color=A.color,m.opacity=A.opacity,A.dashArray?m.dashStyle=D(A.dashArray)?A.dashArray.join(" "):A.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=A.lineCap.replace("butt","flat"),m.joinstyle=A.lineJoin):m&&(U.removeChild(m),o._stroke=null),A.fill?(y||(y=o._fill=ea("fill")),U.appendChild(y),y.color=A.fillColor||A.color,y.opacity=A.fillOpacity):y&&(U.removeChild(y),o._fill=null)},_updateCircle:function(o){var m=o._point.round(),y=Math.round(o._radius),A=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+m.x+","+m.y+" "+y+","+A+" 0,"+65535*360)},_setPath:function(o,m){o._path.v=m},_bringToFront:function(o){pt(o._container)},_bringToBack:function(o){ni(o._container)}},ro=Ot.vml?ea:St,ya=ar.extend({_initContainer:function(){this._container=ro("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ro("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),ri(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ar.prototype._update.call(this);var o=this._bounds,m=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,y.setAttribute("width",m.x),y.setAttribute("height",m.y)),ie(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(o){var m=o._path=ro("path");o.options.className&&Nt(m,o.options.className),o.options.interactive&&Nt(m,"leaflet-interactive"),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){nt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[b(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var m=o._path,y=o.options;m&&(y.stroke?(m.setAttribute("stroke",y.color),m.setAttribute("stroke-opacity",y.opacity),m.setAttribute("stroke-width",y.weight),m.setAttribute("stroke-linecap",y.lineCap),m.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?m.setAttribute("stroke-dasharray",y.dashArray):m.removeAttribute("stroke-dasharray"),y.dashOffset?m.setAttribute("stroke-dashoffset",y.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),y.fill?(m.setAttribute("fill",y.fillColor||y.color),m.setAttribute("fill-opacity",y.fillOpacity),m.setAttribute("fill-rule",y.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(o,m){this._setPath(o,_t(o._parts,m))},_updateCircle:function(o){var m=o._point,y=Math.max(Math.round(o._radius),1),A=Math.max(Math.round(o._radiusY),1)||y,U="a"+y+","+A+" 0 1,0 ",oe=o._empty()?"M0 0":"M"+(m.x-y)+","+m.y+U+y*2+",0 "+U+-y*2+",0 ";this._setPath(o,oe)},_setPath:function(o,m){o._path.setAttribute("d",m)},_bringToFront:function(o){pt(o._path)},_bringToBack:function(o){ni(o._path)}});Ot.vml&&ya.include($u);function xs(o){return Ot.svg||Ot.vml?new ya(o):null}gi.include({getRenderer:function(o){var m=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var m=this._paneRenderers[o];return m===void 0&&(m=this._createRenderer({pane:o}),this._paneRenderers[o]=m),m},_createRenderer:function(o){return this.options.preferCanvas&&Yr(o)||xs(o)}});var ta=_a.extend({initialize:function(o,m){_a.prototype.initialize.call(this,this._boundsToLatLngs(o),m)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Le(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Cl(o,m){return new ta(o,m)}ya.create=ro,ya.pointsToPath=_t,Er.geometryToLayer=Sr,Er.coordsToLatLng=Qs,Er.coordsToLatLngs=Ko,Er.latLngToCoords=Js,Er.latLngsToCoords=ys,Er.getFeature=Qo,Er.asFeature=jr,gi.mergeOptions({boxZoom:!0});var ia=un.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ri(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_e(),Ve(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ft(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=He("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var m=new Me(this._point,this._startPoint),y=m.getSize();ie(this._box,m.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(nt(this._box),li(this._container,"leaflet-crosshair")),Oe(),Ke(),ri(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var m=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gi.addInitHook("addHandler","boxZoom",ia),gi.mergeOptions({doubleClickZoom:!0});var Mo=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var m=this._map,y=m.getZoom(),A=m.options.zoomDelta,U=o.originalEvent.shiftKey?y-A:y+A;m.options.doubleClickZoom==="center"?m.setZoom(U):m.setZoomAround(o.containerPoint,U)}});gi.addInitHook("addHandler","doubleClickZoom",Mo),gi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wa=un.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new So(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){li(this._map._container,"leaflet-grab"),li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Le(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var m=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(m),this._prunePositions(m)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,m){return o-(o-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;o.x<m.min.x&&(o.x=this._viscousLimit(o.x,m.min.x)),o.y<m.min.y&&(o.y=this._viscousLimit(o.y,m.min.y)),o.x>m.max.x&&(o.x=this._viscousLimit(o.x,m.max.x)),o.y>m.max.y&&(o.y=this._viscousLimit(o.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,m=Math.round(o/2),y=this._initialWorldOffset,A=this._draggable._newPos.x,U=(A-m+y)%o+m-y,oe=(A+m+y)%o-m-y,Ae=Math.abs(U+y)<Math.abs(oe+y)?U:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ae},_onDragEnd:function(o){var m=this._map,y=m.options,A=!y.inertia||o.noInertia||this._times.length<2;if(m.fire("dragend",o),A)m.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,Ae=y.easeLinearity,We=U.multiplyBy(Ae/oe),Ye=We.distanceTo([0,0]),lt=Math.min(y.inertiaMaxSpeed,Ye),Ct=We.multiplyBy(lt/Ye),It=lt/(y.inertiaDeceleration*Ae),ai=Ct.multiplyBy(-It/2).round();!ai.x&&!ai.y?m.fire("moveend"):(ai=m._limitOffset(ai,m.options.maxBounds),fe(function(){m.panBy(ai,{duration:It,easeLinearity:Ae,noMoveStart:!0,animate:!0})}))}}});gi.addInitHook("addHandler","dragging",wa),gi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tu=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ri(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,m=document.documentElement,y=o.scrollTop||m.scrollTop,A=o.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(A,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var m=this._panKeys={},y=this.keyCodes,A,U;for(A=0,U=y.left.length;A<U;A++)m[y.left[A]]=[-1*o,0];for(A=0,U=y.right.length;A<U;A++)m[y.right[A]]=[o,0];for(A=0,U=y.down.length;A<U;A++)m[y.down[A]]=[0,o];for(A=0,U=y.up.length;A<U;A++)m[y.up[A]]=[0,-1*o]},_setZoomDelta:function(o){var m=this._zoomKeys={},y=this.keyCodes,A,U;for(A=0,U=y.zoomIn.length;A<U;A++)m[y.zoomIn[A]]=o;for(A=0,U=y.zoomOut.length;A<U;A++)m[y.zoomOut[A]]=-o},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ri(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var m=o.keyCode,y=this._map,A;if(m in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(A=this._panKeys[m],o.shiftKey&&(A=Be(A).multiplyBy(3)),y.options.maxBounds&&(A=y._limitOffset(Be(A),y.options.maxBounds)),y.options.worldCopyJump){var U=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(A)));y.panTo(U)}else y.panBy(A)}else if(m in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;oi(o)}}});gi.addInitHook("addHandler","keyboard",tu),gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xa=un.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ri(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var m=ga(o),y=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var A=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),A),oi(o)},_performZoom:function(){var o=this._map,m=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var A=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(A))))/Math.LN2,oe=y?Math.ceil(U/y)*y:U,Ae=o._limitZoom(m+(this._delta>0?oe:-oe))-m;this._delta=0,this._startTime=null,Ae&&(o.options.scrollWheelZoom==="center"?o.setZoom(m+Ae):o.setZoomAround(this._lastMousePos,m+Ae))}});gi.addInitHook("addHandler","scrollWheelZoom",xa);var iu=600;gi.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var qa=un.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ri(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var m=o.touches[0];this._startPos=this._newPos=new Ee(m.clientX,m.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Zt),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),iu),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ri(document,"touchend",Zt),ri(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ri(document,"touchend touchcancel contextmenu",this._cancel,this),ri(document,"touchmove",this._onMove,this)},_onMove:function(o){var m=o.touches[0];this._newPos=new Ee(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,m){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});y._simulated=!0,m.target.dispatchEvent(y)}});gi.addInitHook("addHandler","tapHold",qa),gi.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var na=un.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){li(this._map._container,"leaflet-touch-zoom"),ri(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var m=this._map;if(!(!o.touches||o.touches.length!==2||m._animatingZoom||this._zooming)){var y=m.mouseEventToContainerPoint(o.touches[0]),A=m.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(y.add(A)._divideBy(2))),this._startDist=y.distanceTo(A),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Zt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var m=this._map,y=m.mouseEventToContainerPoint(o.touches[0]),A=m.mouseEventToContainerPoint(o.touches[1]),U=y.distanceTo(A)/this._startDist;if(this._zoom=m.getScaleZoom(U,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&U<1||this._zoom>m.getMaxZoom()&&U>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var oe=y._add(A)._divideBy(2)._subtract(this._centerPoint);if(U===1&&oe.x===0&&oe.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),De(this._animRequest);var Ae=f(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=fe(Ae,this,!0),Zt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,De(this._animRequest),ri(document,"touchmove",this._onTouchMove,this),ri(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gi.addInitHook("addHandler","touchZoom",na),gi.BoxZoom=ia,gi.DoubleClickZoom=Mo,gi.Drag=wa,gi.Keyboard=tu,gi.ScrollWheelZoom=xa,gi.TapHold=qa,gi.TouchZoom=na,r.Bounds=Me,r.Browser=Ot,r.CRS=we,r.Canvas=Ur,r.Circle=Ha,r.CircleMarker=Xs,r.Class=re,r.Control=gr,r.DivIcon=go,r.DivOverlay=po,r.DomEvent=va,r.DomUtil=fn,r.Draggable=So,r.Evented=ye,r.FeatureGroup=Nn,r.GeoJSON=Er,r.GridLayer=Ci,r.Handler=un,r.Icon=Xo,r.ImageOverlay=At,r.LatLng=Re,r.LatLngBounds=Y,r.Layer=tn,r.LayerGroup=Zo,r.LineUtil=Ys,r.Map=gi,r.Marker=Ba,r.Mixin=fc,r.Path=Do,r.Point=Ee,r.PolyUtil=Nu,r.Polygon=_a,r.Polyline=dn,r.Popup=vr,r.PosAnimation=Na,r.Projection=Zs,r.Rectangle=ta,r.Renderer=ar,r.SVG=ya,r.SVGOverlay=qi,r.TileLayer=Lo,r.Tooltip=mo,r.Transformation=Xe,r.Util=ve,r.VideoOverlay=Si,r.bind=f,r.bounds=te,r.canvas=Yr,r.circle=Br,r.circleMarker=Vs,r.control=zr,r.divIcon=Wa,r.extend=u,r.featureGroup=_s,r.geoJSON=tt,r.geoJson=Ue,r.gridLayer=kl,r.icon=wl,r.imageOverlay=Jt,r.latLng=X,r.latLngBounds=Le,r.layerGroup=Ao,r.map=Ni,r.marker=$a,r.point=Be,r.polygon=hc,r.polyline=xl,r.popup=eu,r.rectangle=Cl,r.setOptions=j,r.stamp=b,r.svg=xs,r.svgOverlay=ws,r.tileLayer=no,r.tooltip=io,r.transformation=ut,r.version=s,r.videoOverlay=yn;var Hu=window.L;r.noConflict=function(){return window.L=Hu,this},window.L=r})}(Vc,Vc.exports)),Vc.exports}var os=Q2();class J2{async geoCode(e){const s=await(await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:e}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"})).json();return s&&s[0]?s[0]:null}}const eC=new J2,tC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIDZVWTWhcVRT+7pskM29+Xl6SaSpdOFGQQlps6UIUrMRNEbvVVVHcGKtVtKEEBf9QoRJEFLFidCG6bJZWrJsG24UbS6uJtrTFdGwlyUySmcz0vUySeU/Oue++30mqBx5z7/n57rnnnp8RruuiE4kvx/fCar2NtbXHsekUI8IurYpM5hyy6ffcFyZmEsZkHwcW3741iKX6d2jYh6CngaF7gKIZtarWgLl5wG4BBf0nDPQ+4z77/uKWwGJyfASLtR8ghI59DwClnQDJw4cLEfzeXAAuXyO5jUHzSXd0YjoB7IPmdR2P7QdSmtTYIlT+AW0HOH8JaNg2dpgPqdBovuJy4xsUdB0H90lQAnTI2xCQAiNyvJuQ7sH9YNuVxvdKzMDi1Ik30Noo4cBuoCsVBdQEUL8DVOtAdVWu1QGudwCBk21ro8RY9L6sUG+M4d6dgJGLXr3dBi7MAEurITAXGDCAR/YCqVTAI1vCmK+OATipcWzX20UMlwIvSHGzDfx8CVi9s4TBvqfdd74W9NGaeSQjHTd0u+EhEBZharDXjyCbBvRMkAHk3fVbQNO2UTRH3Jc+mlKX4HXRHGEZ6ZCusqP0JCx7/Yh8PNqETyaq1ICcfqZTATAvp5/hfPaZ3k0JK5IVvoKHbq3RQ9YSckXbyRLACpRPzlAMzYSFIpIpL+NF5ANbraTXO0ygaR3mnhEj5jWtw6wTLyAPS0NP91neUN2HC+D+XUA+q6OyMi1OnXhKsXldWZlmGen4AiExCLin+yyXtPhg1MLwkI77dgGOE3hB5frLLLBMeaxK3AH6DeDhPUHZE6imAX/9A/wxZ7tvTmZlgWTT51FeOBTxgLDJ8NEHgXoT2HQknyqzNxdUp7okVWh5QWL5Mc7rJ2XZxiqMjMnrQg7oL8ivkJW88IORTaUuy52wFDC3Oz09iytzyWYTPsTp0EI5DAJsq6dnVesM0i2vv8seU7MBkuCdSKmQHfUTwlBnRhr9xLEZdKf2YOSAbEDOFr3YfzAh3+HcRWCjPeuOf+6nZrRAzNzLqFvAjduB4VYkPHDSXbWkbYgiwBwfIzuFK2Xpbad4w8sA4lNq/lmmB50Kj6Wkx0TF3mMQ7hIuXpW5qYnonFN7CsGvV8G6ZBM/O87gadtnHMX8MnCrEoAzYKgY/q6AdfqMo/EJ3REYqucaudP47To1eg/c+8jThgX8foOmxulwrw5T4n9FRPjhi3PI9JR4wHZ5Y4imxoXL1Mxvuq9/MZQw2s5jn/oLz/GkIO9Snre0plFPsm1oW2B+6QHjOMqLMqb00XrAOB7Pgv8VCl/ps7FJ1JrP88bMf+W+8vHoXW3+CzArfvraj3yLVz954q7KAP4FsFfcPBQDhqkAAAAASUVORK5CYII=",iC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAJP0lEQVRoBcVaa2wc1RX+ZvZhr/dpZxOlBOqGJq3AQTQlbYpUBFRU6o9KrUSg/WW1UkUgoUCDEzUGtWpTEhTcFNoQcP+0ioQEOPwEIajkoPwIbaKEKiRpm5dNSZzHxtm1vV6vdz1TnXPnzs7emdmddZz0k652Hvec+82Zc88998xqpmliPtAGt6zCbLUXlep9KJdXoGpkPdWE9Rza2k4jEj6AaHivuX7np64+AdAyUe21zVsxUVyPSrUbtmgzHVrtJxIeRSo+aD7x0g5XtwYITFR7ta8fhclNqBqLIGXCIWBJJ5BJANmMS4aRywP5KeDyNaA6ZynTyNJXkU7uMjcObHfJeKApUX7FE9NvYma2xyaYTQErvwjcIt92Yx22RS/kgFOfAbmJGuH26HGkOn7czCUaEtV2P9uP/OTzqBoxm+Cdy4HFlvWkrJ8OTfM+v5IHTpyrEQ7rJWSSvzOf/L2vdX2Janv6tiJXEIIhHehZDqxYZhHD9RGVl0+fB46fA+YMcZ5N95sbBjx915MoW3J84gUYhvC/e74KZJLgcyc8ZBtCJa7rQH4SOPJv4FoR0DWgK/Wcl2VdROssmeoAHlgNhELi5o0gKvXuPwIUpsW5h2XriPLEyeX/gYoRQ2cc+PbdFE7cr1jlJ8dXiagPYvr0J8KVKnDgE2HZiF5CNvNN5wTT6xQVim/CMGOIhIA1dwiSNws0Fo8ZAnMgLk7j20ahV14q98AwgTu6gVRcWISaYTVTsSb5FDVNaWQhaup1p2WpSb306qnRmDQ2XSuVe5iThZrJJqY28S+FnpW3tWZGCuSX86Sj/t3SwEsyYmEIChr74rgIYYIT+yr7KK8644UXOEzcvxroSlpP7uOTulYjePpzEWbIx7x8lF4phbUVt9YIG4pC1WfHJ4GPjoqw2JV+jlYv8eoni48Ja6aFBYKAlsW/HQaOjwiShGh4lFcaanRMoHvUh/rmp4LpJg7ExcFNw+ubV+Hi+DG+uLYHWJathSFDme3SkhPTwEef1Pql4kPoaPutugxyFJku/woTxUeEvA7c/zUR9pz67dlv/ZIlz+eAj4+L86Vdd4VRqfbyCb2iZd6ZWh0qc8DBT4WlIqGSlkn8xPj5H9529aPnE8Qf1f/0i0fN/NRfUanGWPY794jZ3QjEhTjROJVqr47Z6n3sgzSJ5CxXm3Pmkk+WyuLpF6V7/Ug6wX0WpXtZhmRJh1OnOp6MBswJII46J70EWiqbWrMKnPpcHMdj75gbBva5+viA+8Zj7/Bd0iH9uhEkp3J5hY6qmWXaWadFPWY64UpBzHRNgxZv/43rfhOwDFmQdOQK7s5yXMmDc1wTtHvQXZ0boWDN2mh41NgwcKxBT0+wjIwGhYARwILubTr5hGb9ej1bEb+hUGujODFP2ZpFb+a6Pg/U2Dmd25X1WOfRiPitzgWYeT6Ys2TNRom35pJtzUfTFr9KtVvf03eX634TsMxstbtOVyM4jKcjGhnlJ6Ddoh/sWZgW67VhwizO/Nqnty9YhuIj6SBd6hxQwRNOozc5qiMSHuPbQdZhWk1W3iqOp0oPa3v61rn6+ID7TpUe5ruko9nK5OQUCY/piIYPsEtQWuWXP0pQdnX7LUAsKtb5XH4vLY+ufgq4Ty6/l2VIlnTMGa5+rvGZE4fDA0T0Pe5E/hDEqvTa7l0looRhxsyrE29pu54a4gREHXdwyyq6R33EziEsZIPkp8SllpW9J/LR7etzXAG5/QvA3StrFQ2ZHal+RE9L/vP3E8B0uZb1tEVHoWtFIWvGUZ7tto6BjjZg7Z1iEnnpg2OzRw/yz1PA2TGuqJj9g1kRntrbhjFVWsepFRENAhrwoW+IBOOMlTjLGe0EWfHLVuKse7iTH4iL5CbjqNbRtscsltZxZkNrcKdP6FCLYjTwV24TPsdbh2J9/1QCWJJ2bLd9MnsJ+SDEgbiEdOYG53ZZ27H+CsrVLLqXAqstq84pr95vu2sPpIRlNaD7EZV6pO8e+Q8wehFoC+fMrYOLURfwk/G/sMBnl8TTeM1+NV+kB6Fmn88pzahvat4JB1E5zvSM4EDnxEnawO6cig9A10p8PHoJ/zfIsYkLcVKJmr3bLiMee1dk8eeFhZrFVT9L23UAn5XHVQewGsnQ2HQtHnuXObksSpDJMGfy/3Xpv+GgMWXsVBLzOqK8GUvGPuAnou0C+ZkzpDSzbFBoyownneTDZE0aLxn7QN3RurOnjvZnoaPEu00qtt4sUJ2UrEm+SRwUuIjyk6QTb/CTnbkAzJQdtSSP2NeSJRXfpP07tZlZMRZdS8Xf8CqTu4hCbMKetyPAoX+57i84Dp202GglHtsDnkSNn714CenEbmi6qLOPXa2v2slZ2rJFZXPoGhsHrk4IfenEbh7bA66Kc53e7Y+P8PrdHgEeWlObSH4rTTPoSvJBej48BJQr/P3J7H/9S34aPC1qI9WxWVQ3ZoGzF2o+FTS+2qModVSph5IZ0k33Mok+l1xQouaTu4aQiIlqCFXkglbjgoB0kU5w1WVfs6pLQ6KMbHojfweip6avFzICcFMsJaH6smpJkmVdmvjGRGM0QVOivIx1JUU1Ol8ETo64+rSME46305Xc5Fwq/dBwMjmh7XrqICanv8WXHvy6KGDJNLDRTgCOyUPWJILDR8R5suNjc9Mf73UN5oHA+3ot1fFDO7bK+mirIJmDViwnXdn0D4JqCEyU4xvXOHUxU4+dqflgnd86Wkhpx86KVYjuLUr3BnnlLROFrHEmYkN8MnKptbyV+lLWTkjEhlqprWI+fyxgoRefGOE/FnBNfnWtJu/no5PTwP6jwpcpsP/yNd/A7ofWak8Sncnvs4+Rzx0+2dhf7T5zYi3PJH7q6nOjiHJ205naxhalLyTkr7TTVH2SrtE9+hhLvtyZ2mY8/tKwS+GNIgrhrzsQbxd+NuLwPyfo2ojlx/H2fX7f4oNg3v/SkdB2bjyHmVnhc99dI77rE+g7/IeHxXF7dMTc8upyl3ALmLdFbSztWmvH1+GjQLEkGh3DipfU5zpx3RYlaH/e8gCuFIY57ZNVlmtTwi8Xpx80H9u53yXUIq7fouSvRKQr1W8TvCbX8VT/QpDEQlnUVvbKM29hqiTqpYnY2+bTL/9owXQvJFFW+Moz79Ov+fTL31swpQD+B6DpPQVpybZ7AAAAAElFTkSuQmCC",nC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRIibWVv07DMBDGPyMLFpjiBUQkJrrABA/ABBPvwDvyAkyw0Cld6BTJEl2ciU5ZjK6cUxTbsdO0nxRFdU73u3++CmstDi25q39RqjMA9BwDKACs6Nxq8+3Z5mbCTq8AnAO4YOchtQBqAO9WmzYLIkpFDm8YMEYNgFcCRcvFzu848l1EJZwBqDyIKBWV4Z6jn6pNSWUPQPQnAKcR567eP/x7NmDr7LcQBjxHGtpyI5e9oCoAL571VnUHSQC6Bnpf/jKJaWG12WR8xAYPEQDpLQQQpbrmwQiJAvt055KNi4Ch00nPOY3y7cDUeZkLXBaPGXeg4b7EHDvVocwl396UhjJ1mltt5t4pQ2K9yNWao/d21n/IFC2owaHB2AckGf0UCEVcxWofk+T/gZwlSJPz4S7YWEiTgKx4crJKExJBviIbd81NXXpfxkKsNo0oFTl023RvzjsIv2mb0h4a3dSkAPwCJdSH4GnrpMEAAAAASUVORK5CYII=",rC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAArCAYAAADR0WDhAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVRogdWYsY4aMRCGf0cr0nAVbjjF0lWkCVWqUFFdlwdIqjxguqS5jipp7iquOSqklXLNUrENNI4GzXI+vCy7s/bCfRIS2LvY/3g8Y4+y1uKt8+7NKwCQeC0doIy+BtAHcMWjvQcwALABsOK2NX23abY6NaPo7qSMpokOAVzzp+89VM0WwBLAwqbZv7Ino4hQRpNVP/LkB94Dcp4BzGyaraOIUEb3ANwAGAee+CG0Mr9cN2stgt3lMwvoeQ/EIQfw06YZCZJvbGfyI68zPn1217lIBLvNmAWckxuRCGU0vTjt0G2qGBZ9tUSw9aes/uI4KYIT020A6684soCjV4j/21EpQhk94hWQkHOSeirLumycLy3C8ekQq4yeCiMPTf7eptnC6/HHoAj3TTAG8bvI4KUr0ULAX5tmc6/1CJR5ldHlndXk7hHEE6GMnggEeFm0DuxSEmbuj1dHcd4Dn7xXqpEK6PGeaMrj4UFwL4L9c+K9cpoHoYCJYFPTOPeHja47iZJYkz2AF2PdCgTkvOLbw44EL7459F4LiHNcGQuMRRO/KxMAZyWa7oM9FMlsms28Dsa5W4yECW51bAX2Y+DDgP74h9fTjCKxbZy3roQ3uUYCwCsR4jzUb7OaR1hUrbBLwta6NGZ1Mn5B4lQcLoGcN3CjkJ3EjkoNIMv/OeX/ZXjHjjNAkyb3WUqHPreIJft/Y+u7nEtEa+u7nEOE2PeP0aWInK1fWopsQ8KlwZgRiiw+t2n24PUEFLHxWsOx5NveOuIYOxGrCKWYaK5TRuFOodjyJanRHSOEiMxrlfHIVY5gUacuu5KNMvpri83did9XUYTYpUDEM7tOJ35fhSuibuWh001bh30FsIZL1a7sdY2bsZ+OiLjYyRe8qsUqo787d+LomTYUh2cnWg0qqVCcJwGdh8vGAPgPu3cdHuTAvBEAAAAASUVORK5CYII=",av={lat:45.769785,lng:4.833967,zoom:14};class sv{constructor(){this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}init(){this.bindFields()}unbind(){}bindFields(){const e=this.$fields.length;for(let r=0;r<e;r++){const s=this.$fields[r];s.classList.contains("is-enable")||(this.bindSingleField(s),s.classList.add("is-enable"))}}bindSingleField(e){const r=e.parentElement.querySelector(".uk-form-label"),s=r.innerHTML;let u=null;window.RozierConfig.defaultMapLocation?u=window.RozierConfig.defaultMapLocation:u=av;const l="geotag-canvas-"+this.uniqid(),f=l+"-address",h=l+"-reset";e.style.display="none",r.style.display="none",e.setAttribute("data-geotag-canvas",l);let b=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+f+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+l+'" style="width: 100%; height: 400px;"></div>'].join("");const x=document.createElement("div");if(x.innerHTML=b,e.after(x),!document.getElementById(l))throw new Error("Map container does not exist");let S=document.getElementById(f);S&&S.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let O=document.getElementById(h);O&&(O.style.display="none");let W={center:this.createLatLng(u),zoom:u.zoom||u.alt,styles:window.RozierConfig.mapsStyle},N=this.createMap(l,W),j=null;if(e.value!=="")try{u=JSON.parse(e.value),j=this.createMarker(u,N),O.style.display="inline-block",j.on("dragend",this.setMarkerEvent.bind(this,j,e,O,N)),O.addEventListener("click",this.resetMarker.bind(this,j,e,O,N))}catch{return e.style.display=null,document.getElementById(l).style.display="none",!1}N.on("click",this.setMarkerEvent.bind(this,j,e,O,N)),S.addEventListener("keypress",this.requestGeocode.bind(this,j,e,O,N)),this.resetMap(N,j,W,null),new ResizeObserver(M=>{N.invalidateSize({animate:!1,pan:!1}),j!==null?N.panTo(j.getLatLng(),{animate:!1,pan:!1}):N.panTo(W.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}resetMap(e,r,s){window.requestAnimationFrame(()=>{e.invalidateSize(!0),r!==null?e.panTo(r.getLatLng()):e.panTo(s.center)})}resetMarker(e,r,s,u,l){return l.preventDefault(),e.removeFrom(u),r.value="",s.style.display="none",!1}setMarkerEvent(e,r,s,u,l){if(e||(e=this.createAndBindMarker(l.latlng,u,r,s)),typeof l.latlng<"u")this.setMarker(e,r,s,u,l.latlng);else{const f=e.getLatLng();u.panTo(f),this.applyGeocode(r,s,f,u.getZoom(),void 0)}}createAndBindMarker(e,r,s,u){const l=this.createMarker(e,r);return l.on("dragend",this.setMarkerEvent.bind(this,l,s,u,r)),u.addEventListener("click",this.resetMarker.bind(this,l,s,u,r)),r.off("click"),r.on("click",this.setMarkerEvent.bind(this,l,s,u,r)),l}setMarker(e,r,s,u,l){e||(e=this.createAndBindMarker(l,u,r,s)),e.setLatLng(l),e.addTo(u),u.panTo(l),this.applyGeocode(r,s,e.getLatLng(),u.getZoom(),e.name)}latLngToFeature(e,r,s){return e.alt&&(r=e.alt,e.alt=void 0),{type:"Feature",properties:{name:s||"",zoom:r},geometry:{type:"Point",coordinates:os.GeoJSON.latLngToCoords(e)}}}applyGeocode(e,r,s,u,l){e.value=JSON.stringify(this.latLngToFeature(s,u,l)),r.style.display="inline-block"}createMarker(e,r){let s=null;e instanceof os.LatLng?s=e:s=this.createLatLng(e);let u=new os.Marker(s,{icon:this.createIcon(),draggable:!0}).addTo(r);return r.flyTo(s,s.alt),u.alt=s.alt,e.type&&e.type==="Feature"&&e.properties&&e.properties.name&&(u.name=e.properties.name),e.name&&(u.name=e.name),u}async requestGeocode(e,r,s,u,l){let f=l.currentTarget.value;if(l.which&&l.which===13){l.preventDefault();const h=await this.getLatLngForAddress(f);if(h===null){console.error("Geocode was not successful.");return}this.setMarker(e,r,s,u,h)}}uniqid(){return new Date().getTime()}createMap(e,r){const s=new os.Map(document.getElementById(e)).setView(r.center,r.zoom),u=new os.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return s.addLayer(u),s}createLatLng(e){if(typeof e.lat=="number"&&typeof e.lng=="number")return new os.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&e.type==="Feature"){const r=e.properties&&e.properties.zoom?Number.parseInt(e.properties.zoom):7,s=new os.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],r);return e.properties&&e.properties.name&&(s.name=e.properties.name),s}throw new Error("Cannot create LatLng object from data")}createIcon(){return new os.Icon({iconUrl:tC,iconRetinaUrl:iC,shadowUrl:nC,shadowRetinaUrl:rC,iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}getLatLngForAddress(e){return eC.geoCode(e).then(r=>{if(r!==null){const s=new os.LatLng(r.lat,r.lon);return s.name=r.display_name,s}else return null}).catch(r=>null)}}class oC extends sv{constructor(){super(),this.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}resetMarker(e,r,s,u,l){r.value="";for(const f of e)f!==null&&f.removeFrom(u);return e=[],s.style.display="none",this.syncSelector(l,e,u,r),!1}bindSingleField(e){const r=e.parentElement.querySelector(".uk-form-label"),s=r.innerHTML||"Geotag";r.style.display="none";let u=null;window.RozierConfig.defaultMapLocation?u=window.RozierConfig.defaultMapLocation:u=av;const l="geotag-canvas-"+this.uniqid(),f=l+"-address",h=l+"-reset",b={center:this.createLatLng(u),zoom:u.zoom||u.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",l);let x=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+f+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+l+'"></div>',"</div>"].join("");const w=document.createElement("div");w.innerHTML=x,e.after(w);let S=document.getElementById(f);S.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let O=document.getElementById(h);O.style.display="none";const W=this.createMap(l,b),N=[],j=e.parentElement.querySelector(".multi-geotag-list-markers");if(e.value!=="")try{const M=JSON.parse(e.value);if(!M.features)throw new Error("Data is not a valid GeoJSON featureCollection");for(const E of M.features){const D=this.createMarker(E,W);D.on("dragend",this.setMarkerEvent.bind(this,D,N,e,O,W,j)),N.push(D)}}catch{return e.style.display="block",document.getElementById(l).style.display="none",!1}W.on("click",this.setMarkerEvent.bind(this,null,N,e,O,W,j)),S.addEventListener("keypress",this.requestGeocode.bind(this,N,e,O,W,j)),this.resetMap(W,N,b,null),this.syncSelector(j,N,W,e),new ResizeObserver(M=>{W.invalidateSize({animate:!1,pan:!1}),typeof N<"u"&&N.length>0?W.fitBounds(this.getMediumLatLng(N),{animate:!1,pan:!1}):W.panTo(b.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}syncSelector(e,r,s,u){e.innerHTML="";const l=[];let f=0;const h=r.filter(x=>x!==null&&x.getLatLng()!==null);for(const x of h)["<li>",'<span class="multi-geotag-marker-name">',x.name?x.name:"#"+f,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+f+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+f+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(w=>l.push(w)),f++;e.innerHTML=l.join("");let b=0;for(const x of h){let w=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+b+'"]'),S=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+b+'"]');w&&S&&(w.addEventListener("click",this.centerMap.bind(this,s,x)),S.addEventListener("click",this.removeMarker.bind(this,s,r,x,e,u))),b++}}removeMarker(e,r,s,u,l,f){f&&f.preventDefault();const h=r.indexOf(s);return s.removeFrom(e),r.splice(h,1),this.syncSelector(u,r,e,l),this.writeMarkers(r,l),!1}resetMap(e,r,s,u){u&&u.preventDefault(),window.requestAnimationFrame(()=>{e.invalidateSize({animate:!0,pan:!0}),typeof r<"u"&&r.length>0?e.fitBounds(this.getMediumLatLng(r)):e.panTo(s.center)})}centerMap(e,r,s){if(s&&s.preventDefault(),e&&r){const u=r.getLatLng();e.flyTo(u,u.alt)}}getMediumLatLng(e){let r=new os.LatLngBounds;for(const s of e)r.extend(s.getLatLng());return r}setMarkerEvent(e,r,s,u,l,f,h){if(h.latlng)this.setMarker(e,r,s,u,l,h.latlng);else if(e!==null){const b=e.getLatLng();b.alt=l.getZoom(),e.setLatLng(b),l.flyTo(b,b.alt),this.writeMarkers(r,s)}this.syncSelector(f,r,l,s)}setMarker(e,r,s,u,l,f,h){return l&&(f.alt||(f.alt=l.getZoom()),e===null?e=this.createMarker(f,l):(e.setLatLng(f),e.addTo(l)),e.name=h,l.flyTo(f,f.alt),r.push(e),this.writeMarkers(r,s)),e}writeMarkers(e,r){const s={type:"FeatureCollection",features:[]};for(const u of e)if(u){const l=u.getLatLng();s.features.push(this.latLngToFeature(l,l.alt,u.name))}r.value=JSON.stringify(s)}async requestGeocode(e,r,s,u,l,f){let h=f.currentTarget.value;if(f.which&&f.which===13){f.preventDefault();const b=await this.getLatLngForAddress(h);if(b===null){console.error("Geocode was not successful.");return}b.alt=u.getZoom(),this.setMarker(null,e,r,s,u,b,b.name||""),this.syncSelector(l,e,u,r)}}}class aC{constructor(){this.linksSelector=null,this.currentRequest=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.tagAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),window.history.pushState({},document.title,window.location.href)}parseLinks(){this.linksSelector=document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')}onClick(e){const r=e.currentTarget,s=r.getAttribute("href");if(typeof s<"u"&&s!==null&&!r.classList.contains("rz-no-ajax-link")&&s!==""&&s!=="#"&&(s.indexOf(window.RozierConfig.baseUrl)>=0||s.charAt(0)==="/"||s.charAt(0)==="?"))return e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,s),this.onPopState(null)}),!1}onPopState(e){let r=null;e!==null&&e.originalEvent&&(r=e.originalEvent.state),(typeof r>"u"||r===null)&&(r=window.history.state),r!==null&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),this.loadContent(r,window.location))}loadContent(e,r){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{let s=new CustomEvent("pagechange");window.dispatchEvent(s);try{let u="";const l=r.href.split("?")[0],f=new URLSearchParams(r.href.split("?")[1]);if(e.headerData)for(let[w,S]of Object.entries(e.headerData))Array.isArray(S)?S.forEach((O,W)=>{f.append(w+"["+W+"]",O)}):f.set(w,S);f.toString()!==""?u=l+"?"+f.toString():u=l;const h=await fetch(u,{method:"GET",headers:{Accept:"text/html"}});if(!h.ok)throw h;const b=await h.text();this.applyContent(b);let x=new CustomEvent("pageload",{detail:b});window.dispatchEvent(x)}catch(u){const l=await u.text();if(l)try{let f=JSON.parse(l);window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.message,status:"danger"}}))}catch{window.location.href=r.href}else window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:window.RozierConfig.messages.forbiddenPage,status:"danger"}}))}window.dispatchEvent(new CustomEvent("requestLoaderHide"))})}refreshCodemirrorEditor(){for(let e of this.markdownEditors)e.forceEditorUpdate();for(let e of this.yamlEditors)e.forceEditorUpdate();for(let e of this.cssEditors)e.forceEditorUpdate();for(let e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(let e of this.markdownEditors)e.destroy();for(let e of this.yamlEditors)e.destroy();for(let e of this.cssEditors)e.destroy();for(let e of this.jsonEditors)e.destroy()}async applyContent(e){let r=document.getElementById("main-content-scrollable"),s=r.querySelector(".content-global"),u=document.createElement("div");u.innerHTML=e;const l=u.querySelector("[data-ajax-root]");l&&(u=document.createElement("div"),u.innerHTML=l.innerHTML),u.classList.add("new-content-global"),r.querySelectorAll('meta[name="title"]').forEach(b=>{b.remove()}),r.append(u);const h=r.querySelectorAll('meta[name="title"]');if(h.length&&(document.title=h[0].getAttribute("content")),u=r.querySelector(".new-content-global"),s&&u){await Pu(s,100),s.remove(),this.generalBind(),await hl(u,200),u.classList.remove("new-content-global");const b=new CustomEvent("pageshowend");window.dispatchEvent(b)}}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.tagAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.inputLengthWatcher=new Zw,this.documentUploader=new Uw(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new Xw,this.geotagField=new sv,this.multiGeotagField=new oC,this.stackNodeTrees=new Vw,this.attributeValuesPosition=new Yw,this.customFormFieldsPosition=new Gw,this.settingsSaveButtons=new Kw,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),document.querySelectorAll(".actions-menu").length&&Ih.to(".actions-menu",.5,{right:0,delay:.4,ease:Bh.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new Qw,window.Rozier.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(let r of e)r&&r.unbind()}initCollectionsForms(e=null){const r=this;let s=null;e!==null?s=e.querySelectorAll(".rz-collection-form-type"):s=document.querySelectorAll(".rz-collection-form-type"),s.length&&$(s).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(u,l)=>{const f=l[0];return r.initMarkdownEditors(f),r.initJsonEditors(f),r.initCssEditors(f),r.initYamlEditors(f),r.initCollectionsForms(f),f.querySelectorAll("[data-vuejs]").forEach(b=>{window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(b))}),!0}})}initMarkdownEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-markdowneditor]"):r=document.querySelectorAll("textarea[data-rz-markdowneditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.markdownEditors.push(new Z2(r[u],u))}initJsonEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-jsoneditor]"):r=document.querySelectorAll("textarea[data-rz-jsoneditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.jsonEditors.push(new X2(r[u],u))}initCssEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-csseditor]"):r=document.querySelectorAll("textarea[data-rz-csseditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.cssEditors.push(new V2(r[u],u))}initYamlEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-yamleditor]"):r=document.querySelectorAll("textarea[data-rz-yamleditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.yamlEditors.push(new Jw(r[u],u))}initFilterBars(){const e=document.querySelectorAll("select.item-per-page");if(e.length){const r=s=>{const u=s.currentTarget.closest("form");u&&u.requestSubmit()};e.forEach(s=>{s.addEventListener("change",r)})}}resize(){}}const uv="NODES_SEARCH_REQUEST",lv="NODES_SEARCH_SUCCESS",cv="NODES_SEARCH_RESET",fv="NODES_SEARCH_FAILED",hv="NODES_SEARCH_ENABLE_FOCUS",dv="NODES_SEARCH_DISABLE_FOCUS",pv="EXPLORER_REQUEST",Bp="EXPLORER_SUCCESS",gp="EXPLORER_RESET",mv="EXPLORER_FAILED",gv="EXPLORER_OPEN",$p="EXPLORER_CLOSE",vv="EXPLORER_LOAD_MORE",bv="EXPLORER_LOAD_MORE_SUCCESS",_v="EXPLORER_IS_LOADED",qh="EXPLORER_UPDATE_SEARCH_TERMS",yv="FILTER_EXPLORER_OPEN",wv="FILTER_EXPLORER_CLOSE",xv="FILTER_EXPLORER_REQUEST",kv="FILTER_EXPLORER_SUCCESS",vp="FILTER_EXPLORER_FAILED",Hp="FILTER_EXPLORER_UPDATE",Cv="FILTER_EXPLORER_RESET",ds="KEYBOARD_EVENT_ESCAPE",Ev="KEYBOARD_EVENT_SPACE",bp="LOGIN_CHECK_DISCONNECTED",Sv="LOGIN_CHECK_CONNECTED",_p="HEALTH_CHECK_FAILED",Tv="HEALTH_CHECK_SUCCEEDED",Av="DRAWERS_ADD_INSTANCE",Dv="DRAWERS_REMOVE_INSTANCE",Lv="DRAWERS_ADD_DOCUMENT",Mv="DRAWERS_REMOVE_DOCUMENT",Pv="DRAWERS_EDIT_INSTANCE",Ov="DRAWERS_UPDATE_LIST",Fv="DRAWERS_ENABLE_DROPZONE",Rv="DRAWERS_DISABLE_DROPZONE",Nv="DRAWERS_INIT_DATA_REQUEST",yp="DRAWERS_INIT_DATA_REQUEST_SUCCESS",zv="DRAWERS_INIT_DATA_REQUEST_FAILED",Iv="DRAWERS_INIT_DATA_REQUEST_EMPTY",Bv="TAG_CREATE_NEW_REQUEST",$v="TAG_CREATE_NEW_REQUEST_SUCCESS",Hv="TAG_CREATE_NEW_REQUEST_ERROR",Wv="TAG_CREATOR_READY",qv="DOCUMENT_PREVIEW_INIT",jv="DOCUMENT_PREVIEW_DESTROY",Uv="DOCUMENT_PREVIEW_OPEN",Yv="DOCUMENT_PREVIEW_CLOSE",Gv="BLANCHETTE_EDITOR_INIT",wp="BLANCHETTE_EDITOR_IS_LOADING",Sh="BLANCHETTE_EDITOR_LOADED",Zv="BLANCHETTE_EDITOR_ERROR",Xv="BLANCHETTE_EDITOR_SAVE_SUCCESS";function sC(t){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:t};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const s=await r.json();return typeof s.data<"u"&&s.data.length>0?s.data:[]}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const uC=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:sC},Symbol.toStringTag,{value:"Module"})),nc="document",vf="node",Wp="node-type",Vv="join",Kv="explorer-provider",Qv="custom-form",rc="tag",Jv="node-source-document";function lC({ids:t=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.documents?{items:u.documents,trans:u.trans}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function cC({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),s&&s.id&&(l.folderId=s.id),u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.documents?{items:h.documents,filters:h.filters,trans:h.trans}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function fC(t){return fetch(window.location.href,{method:"POST",body:t,headers:{Accept:"application/json"}})}function hC({ids:t=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function dC({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};if(e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),s&&s.id&&(l.tagId=s.id),e&&e.nodeTypes){const f=JSON.parse(e.nodeTypes);Array.isArray(f)&&f.length>0&&(l.nodeTypes=f)}return u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.nodes?{items:h.nodes,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function pC({ids:t=[]}){t=t.map(r=>r.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let r=0;r<t.length;r++)e["names["+r+"]"]=t[r];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const s=await r.json();return typeof s<"u"&&s.items?{items:s.items}:null}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function mC({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.nodeTypes?{items:h.nodeTypes,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function gC({ids:t=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function vC({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:t,page:1};return e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),e&&e.nodeTypeField&&(l.nodeTypeFieldName=e.nodeTypeField),u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.entities?{items:h.entities,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function bC({ids:t=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken};for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>({items:(await s.json()).forms})).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function _C({searchTerms:t,filters:e,moreData:r}){const s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return r&&(s.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async u=>{const l=await u.json();return typeof l<"u"&&l.customForms?{items:l.customForms,filters:l.filters}:{}}).catch(async u=>{throw new Error((await u.response.json()).humanMessage)})}function eb({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),u&&(l.page=r?r.nextPage:1),s&&s.id&&(l.tagId=s.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();if(typeof h<"u"&&h.tags)return{items:h.tags,filters:h.filters};throw new Error("No tags found")}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function tb({ids:t=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.tags?{items:u.tags}:{}}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function ib({tagName:t}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:t};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(e),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const s=await r.json();if(typeof s<"u"&&s.tag)return s.tag;throw new Error("Tag creation error")}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const yC=Object.freeze(Object.defineProperty({__proto__:null,createTag:ib,getTags:eb,getTagsByIds:tb},Symbol.toStringTag,{value:"Module"}));function nb({ids:t=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function rb({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),e&&e.providerClass&&(l.providerClass=e.providerClass),e&&e.providerOptions&&(l.options=e.providerOptions),u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.entities?{items:h.entities,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}const wC=Object.freeze(Object.defineProperty({__proto__:null,getItems:rb,getItemsByIds:nb},Symbol.toStringTag,{value:"Module"}));function xC({entity:t,searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l=!1}){switch(t){case nc:return cC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case vf:return dC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case Wp:return mC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case Vv:return vC({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case Qv:return _C({searchTerms:e,filters:s,moreData:l});case rc:return eb({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case Kv:return rb({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l})}return Promise.reject(new Error("No type entity found"))}const kC=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:xC},Symbol.toStringTag,{value:"Module"}));function CC(){const t={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.folders?{items:r.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function EC(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function SC(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function TC({entity:t}){switch(t){case nc:return CC();case vf:return EC();case rc:return SC();default:return Promise.reject(new Error("Entity not found"))}}const AC=Object.freeze(Object.defineProperty({__proto__:null,getFilters:TC},Symbol.toStringTag,{value:"Module"}));function ob(t,e=[],r){switch(t){case nc:return lC({ids:e,filters:r});case vf:return hC({ids:e,filters:r});case Wp:return pC({ids:e});case Vv:return gC({ids:e,filters:r});case Qv:return bC({ids:e,filters:r});case rc:return tb({ids:e,filters:r});case Kv:return nb({ids:e,filters:r})}return Promise.reject(new Error("No type entity found"))}const DC=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:ob},Symbol.toStringTag,{value:"Module"}));function ab(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async t=>(await t.json()).url).catch(()=>{throw new Error("Image not found")})}const LC=Object.freeze(Object.defineProperty({__proto__:null,getImage:ab},Symbol.toStringTag,{value:"Module"})),qp={...uC,...kC,...AC,...DC,...yC,...LC,...wC},MC={searchTerms:null,items:[],isFocus:!1,isOpen:!1},PC={},OC={nodeSourceSearchEnableFocus({commit:t}){t(hv)},nodeSourceSearchDisableFocus({commit:t}){t(dv)},nodeSourceSearchEscape({commit:t}){t(ds)},nodesSourceSearchUpdate({commit:t},e=""){if(!e||e.length<=1){t(cv);return}t(uv,{searchTerms:e}),qp.getNodesSourceFromSearch(e).then(r=>{t(lv,{items:r})}).catch(()=>{t(fv)})}},FC={[hv](t){t.isFocus=!0},[dv](t){t.isFocus=!1},[uv](t,{searchTerms:e}){t.searchTerms=e},[lv](t,{items:e}){t.items=e},[fv](t){t.items=[]},[cv](t){t.items=[]},[ds](t){t.items=[],t.isFocus=!1}},RC={state:MC,getters:PC,actions:OC,mutations:FC};function Th(t,e,r=0,s="[]"){if(t&&t.length&&t.length>e+s.length){let u=t.substr(0,Math.floor(e/2)+Math.floor(r/2)),l=t.substr(Math.floor(e/2)*-1+Math.floor(r/2));return u+s+l}else return t}function NC(t,e,r=0,s=""){return t&&t.length&&t.length>e?t.substr(0,e+r)+s:t}const zC={centralTruncate:Th,truncate:NC};function Fn(t,e,r,s,u,l,f,h){var b=typeof t=="function"?t.options:t;return e&&(b.render=e,b.staticRenderFns=r,b._compiled=!0),l&&(b._scopeId="data-v-"+l),{exports:t,options:b}}const IC={props:["title","href","typeColor"],methods:{onItemClick:function(t){window.Rozier.lazyload.onClick(t),this.$store.commit(ds)}}};var BC=function(){var e=this,r=e._self._c;return r("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(s){return s.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},$C=[],HC=Fn(IC,BC,$C,!1,null,null);const jp=HC.exports,sb={bind(t,e){let r=new Image;r.src=e.value,r.onload=async()=>{t.src=e.value,await hl(t,1e3)}}},WC={directives:{DynamicImg:sb},filters:zC,props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],computed:{...Fa({previewIsVisible:t=>t.documentPreview.isVisible}),shortMimeType:function(){return Th(this.document.shortMimeType,13)},filename:function(){return Th(this.document.classname,12)},name:function(){return Th(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...Is(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen({document:this.document})},onEditClick(t){this.document.processable&&this.$emit("edit",{document:this.document,index:this.index,currentTarget:t.currentTarget})},onMouseover(){this.documentPreviewInit({document:this.item.document})},onMouseleave(){this.previewIsVisible||this.documentPreviewDestroy({document:this.item.document})}},components:{AjaxLink:jp}};var qC=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.document?r("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[r("div",{staticClass:"preview-zoom",on:{click:function(s){return s.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-search-plus"})]),r("div",{on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"uk-sortable-handle"}),r("div",{staticClass:"document-border"}),r("div",{staticClass:"document-overflow"},[e.document.isPrivate?[r("div",{staticClass:"document-platform-icon"},[r("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[r("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[r("picture",[r("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),r("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),r("div",{staticClass:"document-platform-icon"},[r("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e.drawerName&&e.entityName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}),r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}})]:e.drawerName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),r("div",{staticClass:"document-links"},[r(e.document.processable?"button":"a",{tag:"component",class:["uk-button","document-link","uk-button-mini","document-link--edit"],attrs:{id:`edit-${e.drawerName}[${e.index}]`,type:e.document.processable?"button":null,href:e.document.processable?null:e.editUrl},on:{click:e.onEditClick}},[r("i",{staticClass:"uk-icon-rz-pencil"})]),r("button",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[r("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e.document.embedPlatform?[r("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),r("div",{staticClass:"document-platform-icon"},[r("i",{class:"uk-icon-"+e.document.icon})])]:[r("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],r("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[r("div",{staticClass:"link-button-inner"},[r("i",{staticClass:"uk-icon-rz-plus"})])])],2),r("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},jC=[],UC=Fn(WC,qC,jC,!1,null,null);const Fg=UC.exports,YC={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:jp}};var GC=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.item?r("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":e.published===!1},on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"uk-sortable-handle"}),r("div",{staticClass:"border",style:{backgroundColor:e.color}}),e.thumbnailUrl&&!e.isThumbnailProcessable?r("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?r("figure",{staticClass:"thumbnail"},[r("picture",[r("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),r("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),r("div",{staticClass:"names"},[e.parentName?r("p",{staticClass:"parent-name"},[e.subParentName?[r("span",{staticClass:"sub"},[e._v(" "+e._s(e.subParentName)+" ")])]:e._e(),r("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),r("span",{staticClass:"name"},[e._v(e._s(e.name))]),e.inputName&&e.item&&e.item.id?r("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),r("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?r("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[r("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),r("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[r("i",{staticClass:"uk-icon-rz-trash-o"})])],1),r("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[r("div",{staticClass:"link-button-inner"},[r("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},ZC=[],XC=Fn(YC,GC,ZC,!1,null,null);const VC=XC.exports,KC={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:VC}};var QC=function(){var e=this,r=e._self._c;return r("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},JC=[],eE=Fn(KC,QC,JC,!1,null,null);const Rg=eE.exports,tE={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var iE=function(){var e=this,r=e._self._c;return r("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),r("div",{staticClass:"new-tag"},[r("p",{staticClass:"parent-name"}),r("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},nE=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],rE=Fn(tE,iE,nE,!1,null,"2b081330");const oE=rE.exports,aE={mounted(){this.tagCreatorReady()},computed:{...Fa({translations:t=>t.translations,searchTerms:t=>t.explorer.searchTerms,isTagExisting:t=>t.tags.isTagExisting})},methods:{...Is(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:oE}};var sE=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?r("div",{staticClass:"tag-creator"},[r("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),r("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},uE=[],lE=Fn(aE,sE,uE,!1,null,"5ab915fa");const cE=lE.exports;class xp{static getState(e){const r={trans:{moreItems:""}};switch(r.isFilterEnable=!1,r.currentListingView=Rg,r.trans.moreItems="moreEntities",e){case nc:r.currentListingView=Fg,r.filterExplorerIcon="uk-icon-rz-folder-tree-mini",r.trans.moreItems="moreDocuments",r.isFilterEnable=!0;break;case vf:r.filterExplorerIcon="uk-icon-tags",r.trans.moreItems="moreNodes",r.isFilterEnable=!0;break;case Wp:r.trans.moreItems="moreNodeTypes";break;case rc:r.trans.moreItems="moreTags",r.isFilterEnable=!0,r.filterExplorerIcon="uk-icon-tags";break;default:r.trans.moreItems="moreEntities";break}return r}static getListingView(e){switch(e){case nc:return Fg;default:return Rg}}static getWidgetView(e){switch(e){case rc:return cE;default:return null}}}const ub={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},lb={...ub},fE={getExplorerEntity:t=>t.entity,getExplorerSearchTerms:t=>t.searchTerms},hE={async explorerOpen({commit:t,dispatch:e},{entity:r}){e("filterExplorerClose"),t(gp),t(gv,{entity:r}),await e("explorerMakeSearch"),t(_v)},explorerClose({commit:t,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),t(gp),t($p)},explorerToggle({dispatch:t,state:e}){e.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms({commit:t,state:e,dispatch:r}){const s="";e.searchTerms===s?t(qh,{searchTerms:s}):r("explorerUpdateSearch",{searchTerms:s})},explorerUpdateSearch({commit:t,dispatch:e},{searchTerms:r}){t(qh,{searchTerms:r}),e("explorerMakeSearch")},explorerMakeSearch({commit:t,state:e,getters:r}){const s=e.entity,u=e.searchTerms,l=r.getDrawerFilters,f=e.filters,h=r.getFilterExplorerSelectedItem,b=e.isLoadingMore;return t(pv),qp.getExplorerItems({entity:s,searchTerms:u,preFilters:l,filters:f,filterExplorerSelection:h,moreData:b}).then(x=>{t(Bp,{result:x})}).catch(x=>{console.error(x),t(mv,{error:x})})},async explorerLoadMore({commit:t,dispatch:e}){t(vv),await e("explorerMakeSearch"),t(bv)}},dE={[pv](t){t.isLoadingMore||(t.isLoading=!0)},[qh](t,{searchTerms:e}){t.searchTerms=e},[Bp](t,{result:e}){t.isLoading=!1,t.isLoadingMore?t.items=[...t.items,...e.items]:t.items=e.items,t.filters=e.filters},[vv](t){t.isLoadingMore=!0},[bv](t){t.isLoadingMore=!1},[Hp](t){t.filters={}},[gp](t){for(let e in t)t.hasOwnProperty(e)&&ec.set(t,e,ub[e])},[mv](t){t.isLoading=!1,t.isLoadingMore=!1,t.error="Request failed"},[gv](t,{entity:e}){t.isOpen=!0,t.isLoading=!0,t.entity=e,t.trans.moreItems="",t.widgetView=xp.getWidgetView(e);const r=xp.getState(e);for(let s in r)t.hasOwnProperty(s)&&ec.set(t,s,r[s])},[_v](t){t.isLoading=!1},[$p](t){t.isOpen=!1,t.isLoading=!1},[ds](){lb.isOpen=!1}},pE={state:lb,getters:fE,actions:hE,mutations:dE};var Kc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var mE=Kc.exports,Ng;function gE(){return Ng||(Ng=1,function(t,e){(function(){var r,s="4.17.21",u=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",h="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",x=500,w="__lodash_placeholder__",S=1,O=2,W=4,N=1,j=2,q=1,M=2,E=4,D=8,B=16,z=32,V=64,ne=128,ue=256,de=512,ge=30,fe="...",De=800,ve=16,re=1,P=2,se=3,ye=1/0,Ee=9007199254740991,it=17976931348623157e292,Be=NaN,Me=4294967295,te=Me-1,Y=Me>>>1,Le=[["ary",ne],["bind",q],["bindKey",M],["curry",D],["curryRight",B],["flip",de],["partial",z],["partialRight",V],["rearg",ue]],Re="[object Arguments]",X="[object Array]",we="[object AsyncFunction]",Te="[object Boolean]",qe="[object Date]",Ze="[object DOMException]",Xe="[object Error]",ut="[object Function]",Et="[object GeneratorFunction]",wt="[object Map]",St="[object Number]",_t="[object Null]",Mt="[object Object]",jt="[object Promise]",Kt="[object Proxy]",Z="[object RegExp]",le="[object Set]",Q="[object String]",he="[object Symbol]",pe="[object Undefined]",Ie="[object WeakMap]",ot="[object WeakSet]",Qe="[object ArrayBuffer]",mt="[object DataView]",Pt="[object Float32Array]",ct="[object Float64Array]",Ht="[object Int8Array]",Yt="[object Int16Array]",Qt="[object Int32Array]",Vt="[object Uint8Array]",xt="[object Uint8ClampedArray]",qn="[object Uint16Array]",Ut="[object Uint32Array]",dr=/\b__p \+= '';/g,Rt=/\b(__p \+=) '' \+/g,sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yi=/&(?:amp|lt|gt|quot|#39);/g,Ri=/[&<>"']/g,pi=RegExp(yi.source),wi=RegExp(Ri.source),ui=/<%-([\s\S]+?)%>/g,si=/<%([\s\S]+?)%>/g,Bi=/<%=([\s\S]+?)%>/g,Qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$i=/^\w*$/,Or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hi=/[\\^$.*+?()[\]{}|]/g,Ki=RegExp(Hi.source),pr=/^\s+/,kn=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mr=/\{\n\/\* \[wrapped with (.+)\] \*/,jn=/,? & /,Un=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tr=/[()=,{}\[\]\/\s]/,Wr=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qi=/\w*$/,ir=/^[-+]0x[0-9a-f]+$/i,nr=/^0b[01]+$/i,Cn=/^\[object .+?Constructor\]$/,Jr=/^0o[0-7]+$/i,eo=/^(?:0|[1-9]\d*)$/,wr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,En=/($^)/,Fr=/['\n\r\u2028\u2029\\]/g,bn="\\ud800-\\udfff",co="\\u0300-\\u036f",Yn="\\ufe20-\\ufe2f",ji="\\u20d0-\\u20ff",Lt=co+Yn+ji,Gn="\\u2700-\\u27bf",rr="a-z\\xdf-\\xf6\\xf8-\\xff",Rn="\\xac\\xb1\\xd7\\xf7",J="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xe="\\u2000-\\u206f",He=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nt="A-Z\\xc0-\\xd6\\xd8-\\xde",je="\\ufe0e\\ufe0f",pt=Rn+J+xe+He,ni="[']",Ui="["+bn+"]",Nt="["+pt+"]",li="["+Lt+"]",fo="\\d+",Wt="["+Gn+"]",ke="["+rr+"]",_="[^"+bn+pt+fo+Gn+rr+nt+"]",T="\\ud83c[\\udffb-\\udfff]",R="(?:"+li+"|"+T+")",ie="[^"+bn+"]",ae="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+nt+"]",Je="\\u200d",et="(?:"+ke+"|"+_+")",Ve="(?:"+Oe+"|"+_+")",Ke="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",ft="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",fi=R+"?",hi="["+je+"]?",Wi="(?:"+Je+"(?:"+[ie,ae,_e].join("|")+")"+hi+fi+")*",Ei="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fn=hi+fi+Wi,Ft="(?:"+[Wt,ae,_e].join("|")+")"+fn,rn="(?:"+[ie+li+"?",li,ae,_e,Ui].join("|")+")",ri=RegExp(ni,"g"),gt=RegExp(li,"g"),xi=RegExp(T+"(?="+T+")|"+rn+fn,"g"),on=RegExp([Oe+"?"+ke+"+"+Ke+"(?="+[Nt,Oe,"$"].join("|")+")",Ve+"+"+ft+"(?="+[Nt,Oe+et,"$"].join("|")+")",Oe+"?"+et+"+"+Ke,Oe+"+"+ft,Pi,Ei,fo,Ft].join("|"),"g"),or=RegExp("["+Je+bn+Lt+je+"]"),Sn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rr=-1,Zt={};Zt[Pt]=Zt[ct]=Zt[Ht]=Zt[Yt]=Zt[Qt]=Zt[Vt]=Zt[xt]=Zt[qn]=Zt[Ut]=!0,Zt[Re]=Zt[X]=Zt[Qe]=Zt[Te]=Zt[mt]=Zt[qe]=Zt[Xe]=Zt[ut]=Zt[wt]=Zt[St]=Zt[Mt]=Zt[Z]=Zt[le]=Zt[Q]=Zt[Ie]=!1;var oi={};oi[Re]=oi[X]=oi[Qe]=oi[mt]=oi[Te]=oi[qe]=oi[Pt]=oi[ct]=oi[Ht]=oi[Yt]=oi[Qt]=oi[wt]=oi[St]=oi[Mt]=oi[Z]=oi[le]=oi[Q]=oi[he]=oi[Vt]=oi[xt]=oi[qn]=oi[Ut]=!0,oi[Xe]=oi[ut]=oi[Ie]=!1;var _n={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Nr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Uo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ga={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yo=parseFloat,va=parseInt,Na=typeof fh=="object"&&fh&&fh.Object===Object&&fh,gi=typeof self=="object"&&self&&self.Object===Object&&self,Ni=Na||gi||Function("return this")(),gr=e&&!e.nodeType&&e,zr=gr&&!0&&t&&!t.nodeType&&t,ps=zr&&zr.exports===gr,Hs=ps&&Na.process,hn=function(){try{var Ne=zr&&zr.require&&zr.require("util").types;return Ne||Hs&&Hs.binding&&Hs.binding("util")}catch{}}(),Ws=hn&&hn.isArrayBuffer,to=hn&&hn.isDate,ms=hn&&hn.isMap,qs=hn&&hn.isRegExp,Eo=hn&&hn.isSet,gl=hn&&hn.isTypedArray;function un(Ne,tt,Ue){switch(Ue.length){case 0:return Ne.call(tt);case 1:return Ne.call(tt,Ue[0]);case 2:return Ne.call(tt,Ue[0],Ue[1]);case 3:return Ne.call(tt,Ue[0],Ue[1],Ue[2])}return Ne.apply(tt,Ue)}function fc(Ne,tt,Ue,At){for(var Jt=-1,Si=Ne==null?0:Ne.length;++Jt<Si;){var yn=Ne[Jt];tt(At,yn,Ue(yn),Ne)}return At}function Ir(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length;++Ue<At&&tt(Ne[Ue],Ue,Ne)!==!1;);return Ne}function So(Ne,tt){for(var Ue=Ne==null?0:Ne.length;Ue--&&tt(Ne[Ue],Ue,Ne)!==!1;);return Ne}function js(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length;++Ue<At;)if(!tt(Ne[Ue],Ue,Ne))return!1;return!0}function To(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length,Jt=0,Si=[];++Ue<At;){var yn=Ne[Ue];tt(yn,Ue,Ne)&&(Si[Jt++]=yn)}return Si}function za(Ne,tt){var Ue=Ne==null?0:Ne.length;return!!Ue&&en(Ne,tt,0)>-1}function Nu(Ne,tt,Ue){for(var At=-1,Jt=Ne==null?0:Ne.length;++At<Jt;)if(Ue(tt,Ne[At]))return!0;return!1}function Ji(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length,Jt=Array(At);++Ue<At;)Jt[Ue]=tt(Ne[Ue],Ue,Ne);return Jt}function ho(Ne,tt){for(var Ue=-1,At=tt.length,Jt=Ne.length;++Ue<At;)Ne[Jt+Ue]=tt[Ue];return Ne}function zu(Ne,tt,Ue,At){var Jt=-1,Si=Ne==null?0:Ne.length;for(At&&Si&&(Ue=Ne[++Jt]);++Jt<Si;)Ue=tt(Ue,Ne[Jt],Jt,Ne);return Ue}function vl(Ne,tt,Ue,At){var Jt=Ne==null?0:Ne.length;for(At&&Jt&&(Ue=Ne[--Jt]);Jt--;)Ue=tt(Ue,Ne[Jt],Jt,Ne);return Ue}function Go(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length;++Ue<At;)if(tt(Ne[Ue],Ue,Ne))return!0;return!1}var Ia=Us("length");function bl(Ne){return Ne.split("")}function _l(Ne){return Ne.match(Un)||[]}function gs(Ne,tt,Ue){var At;return Ue(Ne,function(Jt,Si,yn){if(tt(Jt,Si,yn))return At=Si,!1}),At}function xr(Ne,tt,Ue,At){for(var Jt=Ne.length,Si=Ue+(At?1:-1);At?Si--:++Si<Jt;)if(tt(Ne[Si],Si,Ne))return Si;return-1}function en(Ne,tt,Ue){return tt===tt?_a(Ne,tt,Ue):xr(Ne,kr,Ue)}function vs(Ne,tt,Ue,At){for(var Jt=Ue-1,Si=Ne.length;++Jt<Si;)if(At(Ne[Jt],tt))return Jt;return-1}function kr(Ne){return Ne!==Ne}function ba(Ne,tt){var Ue=Ne==null?0:Ne.length;return Ue?Zs(Ne,tt)/Ue:Be}function Us(Ne){return function(tt){return tt==null?r:tt[Ne]}}function Ys(Ne){return function(tt){return Ne==null?r:Ne[tt]}}function Gs(Ne,tt,Ue,At,Jt){return Jt(Ne,function(Si,yn,qi){Ue=At?(At=!1,Si):tt(Ue,Si,yn,qi)}),Ue}function bs(Ne,tt){var Ue=Ne.length;for(Ne.sort(tt);Ue--;)Ne[Ue]=Ne[Ue].value;return Ne}function Zs(Ne,tt){for(var Ue,At=-1,Jt=Ne.length;++At<Jt;){var Si=tt(Ne[At]);Si!==r&&(Ue=Ue===r?Si:Ue+Si)}return Ue}function Iu(Ne,tt){for(var Ue=-1,At=Array(Ne);++Ue<Ne;)At[Ue]=tt(Ue);return At}function yl(Ne,tt){return Ji(tt,function(Ue){return[Ue,Ne[Ue]]})}function Bu(Ne){return Ne&&Ne.slice(0,Ks(Ne)+1).replace(pr,"")}function tn(Ne){return function(tt){return Ne(tt)}}function Zo(Ne,tt){return Ji(tt,function(Ue){return Ne[Ue]})}function Ao(Ne,tt){return Ne.has(tt)}function Nn(Ne,tt){for(var Ue=-1,At=Ne.length;++Ue<At&&en(tt,Ne[Ue],0)>-1;);return Ue}function _s(Ne,tt){for(var Ue=Ne.length;Ue--&&en(tt,Ne[Ue],0)>-1;);return Ue}function Xo(Ne,tt){for(var Ue=Ne.length,At=0;Ue--;)Ne[Ue]===tt&&++At;return At}var wl=Ys(_n),Cr=Ys(Nr);function Vo(Ne){return"\\"+ga[Ne]}function Ba(Ne,tt){return Ne==null?r:Ne[tt]}function $a(Ne){return or.test(Ne)}function Do(Ne){return Sn.test(Ne)}function Xs(Ne){for(var tt,Ue=[];!(tt=Ne.next()).done;)Ue.push(tt.value);return Ue}function Vs(Ne){var tt=-1,Ue=Array(Ne.size);return Ne.forEach(function(At,Jt){Ue[++tt]=[Jt,At]}),Ue}function Ha(Ne,tt){return function(Ue){return Ne(tt(Ue))}}function Br(Ne,tt){for(var Ue=-1,At=Ne.length,Jt=0,Si=[];++Ue<At;){var yn=Ne[Ue];(yn===tt||yn===w)&&(Ne[Ue]=w,Si[Jt++]=Ue)}return Si}function dn(Ne){var tt=-1,Ue=Array(Ne.size);return Ne.forEach(function(At){Ue[++tt]=At}),Ue}function xl(Ne){var tt=-1,Ue=Array(Ne.size);return Ne.forEach(function(At){Ue[++tt]=[At,At]}),Ue}function _a(Ne,tt,Ue){for(var At=Ue-1,Jt=Ne.length;++At<Jt;)if(Ne[At]===tt)return At;return-1}function hc(Ne,tt,Ue){for(var At=Ue+1;At--;)if(Ne[At]===tt)return At;return At}function Er(Ne){return $a(Ne)?Ko(Ne):Ia(Ne)}function Sr(Ne){return $a(Ne)?Js(Ne):bl(Ne)}function Ks(Ne){for(var tt=Ne.length;tt--&&kn.test(Ne.charAt(tt)););return tt}var Qs=Ys(Uo);function Ko(Ne){for(var tt=xi.lastIndex=0;xi.test(Ne);)++tt;return tt}function Js(Ne){return Ne.match(xi)||[]}function ys(Ne){return Ne.match(on)||[]}var Qo=function Ne(tt){tt=tt==null?Ni:jr.defaults(Ni.Object(),tt,jr.pick(Ni,qr));var Ue=tt.Array,At=tt.Date,Jt=tt.Error,Si=tt.Function,yn=tt.Math,qi=tt.Object,ws=tt.RegExp,po=tt.String,vr=tt.TypeError,eu=Ue.prototype,mo=Si.prototype,io=qi.prototype,go=tt["__core-js_shared__"],Wa=mo.toString,Ci=io.hasOwnProperty,kl=0,Lo=function(){var c=/[^.]+$/.exec(go&&go.keys&&go.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),no=io.toString,Jo=Wa.call(qi),br=Ni._,ar=ws("^"+Wa.call(Ci).replace(Hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=ps?tt.Buffer:r,Yr=tt.Symbol,ea=tt.Uint8Array,$u=Ur?Ur.allocUnsafe:r,ro=Ha(qi.getPrototypeOf,qi),ya=qi.create,xs=io.propertyIsEnumerable,ta=eu.splice,Cl=Yr?Yr.isConcatSpreadable:r,ia=Yr?Yr.iterator:r,Mo=Yr?Yr.toStringTag:r,wa=function(){try{var c=Ja(qi,"defineProperty");return c({},"",{}),c}catch{}}(),tu=tt.clearTimeout!==Ni.clearTimeout&&tt.clearTimeout,xa=At&&At.now!==Ni.Date.now&&At.now,iu=tt.setTimeout!==Ni.setTimeout&&tt.setTimeout,qa=yn.ceil,na=yn.floor,Hu=qi.getOwnPropertySymbols,o=Ur?Ur.isBuffer:r,m=tt.isFinite,y=eu.join,A=Ha(qi.keys,qi),U=yn.max,oe=yn.min,Ae=At.now,We=tt.parseInt,Ye=yn.random,lt=eu.reverse,Ct=Ja(tt,"DataView"),It=Ja(tt,"Map"),ai=Ja(tt,"Promise"),Zi=Ja(tt,"Set"),Xi=Ja(tt,"WeakMap"),pn=Ja(qi,"create"),zn=Xi&&new Xi,Gr={},El=An(Ct),dc=An(It),ka=An(ai),ra=An(Zi),pc=An(Xi),ks=Yr?Yr.prototype:r,nn=ks?ks.valueOf:r,Cs=ks?ks.toString:r;function ce(c){if(Bn(c)&&!mi(c)&&!(c instanceof Gt)){if(c instanceof Di)return c;if(Ci.call(c,"__wrapped__"))return Ar(c)}return new Di(c)}var ja=function(){function c(){}return function(g){if(!Mn(g))return{};if(ya)return ya(g);c.prototype=g;var k=new c;return c.prototype=r,k}}();function Zn(){}function Di(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=r}ce.templateSettings={escape:ui,evaluate:si,interpolate:Bi,variable:"",imports:{_:ce}},ce.prototype=Zn.prototype,ce.prototype.constructor=ce,Di.prototype=ja(Zn.prototype),Di.prototype.constructor=Di;function Gt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function Tn(){var c=new Gt(this.__wrapped__);return c.__actions__=Zr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Zr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Zr(this.__views__),c}function Wu(){if(this.__filtered__){var c=new Gt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ad(){var c=this.__wrapped__.value(),g=this.__dir__,k=mi(c),I=g<0,ee=k?c.length:0,me=Td(0,ee,this.__views__),Se=me.start,Pe=me.end,$e=Pe-Se,at=I?Pe:Se-1,st=this.__iteratees__,ht=st.length,Dt=0,qt=oe($e,this.__takeCount__);if(!k||!I&&ee==$e&&qt==$e)return Xu(c,this.__actions__);var ei=[];e:for(;$e--&&Dt<qt;){at+=g;for(var ki=-1,ti=c[at];++ki<ht;){var Ai=st[ki],Fi=Ai.iteratee,Bo=Ai.type,uo=Fi(ti);if(Bo==P)ti=uo;else if(!uo){if(Bo==re)continue e;break e}}ei[Dt++]=ti}return ei}Gt.prototype=ja(Zn.prototype),Gt.prototype.constructor=Gt;function oa(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var I=c[g];this.set(I[0],I[1])}}function sd(){this.__data__=pn?pn(null):{},this.size=0}function ud(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function ld(c){var g=this.__data__;if(pn){var k=g[c];return k===b?r:k}return Ci.call(g,c)?g[c]:r}function mc(c){var g=this.__data__;return pn?g[c]!==r:Ci.call(g,c)}function yf(c,g){var k=this.__data__;return this.size+=this.has(c)?0:1,k[c]=pn&&g===r?b:g,this}oa.prototype.clear=sd,oa.prototype.delete=ud,oa.prototype.get=ld,oa.prototype.has=mc,oa.prototype.set=yf;function Po(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var I=c[g];this.set(I[0],I[1])}}function cd(){this.__data__=[],this.size=0}function gc(c){var g=this.__data__,k=ru(g,c);if(k<0)return!1;var I=g.length-1;return k==I?g.pop():ta.call(g,k,1),--this.size,!0}function vc(c){var g=this.__data__,k=ru(g,c);return k<0?r:g[k][1]}function wf(c){return ru(this.__data__,c)>-1}function xf(c,g){var k=this.__data__,I=ru(k,c);return I<0?(++this.size,k.push([c,g])):k[I][1]=g,this}Po.prototype.clear=cd,Po.prototype.delete=gc,Po.prototype.get=vc,Po.prototype.has=wf,Po.prototype.set=xf;function Oo(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var I=c[g];this.set(I[0],I[1])}}function kf(){this.size=0,this.__data__={hash:new oa,map:new(It||Po),string:new oa}}function qu(c){var g=al(this,c).delete(c);return this.size-=g?1:0,g}function fd(c){return al(this,c).get(c)}function Sl(c){return al(this,c).has(c)}function Ca(c,g){var k=al(this,c),I=k.size;return k.set(c,g),this.size+=k.size==I?0:1,this}Oo.prototype.clear=kf,Oo.prototype.delete=qu,Oo.prototype.get=fd,Oo.prototype.has=Sl,Oo.prototype.set=Ca;function Ua(c){var g=-1,k=c==null?0:c.length;for(this.__data__=new Oo;++g<k;)this.add(c[g])}function hd(c){return this.__data__.set(c,b),this}function Cf(c){return this.__data__.has(c)}Ua.prototype.add=Ua.prototype.push=hd,Ua.prototype.has=Cf;function mn(c){var g=this.__data__=new Po(c);this.size=g.size}function zi(){this.__data__=new Po,this.size=0}function Fo(c){var g=this.__data__,k=g.delete(c);return this.size=g.size,k}function Ya(c){return this.__data__.get(c)}function Ga(c){return this.__data__.has(c)}function Ef(c,g){var k=this.__data__;if(k instanceof Po){var I=k.__data__;if(!It||I.length<u-1)return I.push([c,g]),this.size=++k.size,this;k=this.__data__=new Oo(I)}return k.set(c,g),this.size=k.size,this}mn.prototype.clear=zi,mn.prototype.delete=Fo,mn.prototype.get=Ya,mn.prototype.has=Ga,mn.prototype.set=Ef;function Tl(c,g){var k=mi(c),I=!k&&sl(c),ee=!k&&!I&&ku(c),me=!k&&!I&&!ee&&jl(c),Se=k||I||ee||me,Pe=Se?Iu(c.length,po):[],$e=Pe.length;for(var at in c)(g||Ci.call(c,at))&&!(Se&&(at=="length"||ee&&(at=="offset"||at=="parent")||me&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||p(at,$e)))&&Pe.push(at);return Pe}function bc(c){var g=c.length;return g?c[Pl(0,g-1)]:r}function dd(c,g){return xn(Zr(c),Sa(g,0,c.length))}function _c(c){return xn(Zr(c))}function Es(c,g,k){(k!==r&&!Aa(c[g],k)||k===r&&!(g in c))&&Ea(c,g,k)}function nu(c,g,k){var I=c[g];(!(Ci.call(c,g)&&Aa(I,k))||k===r&&!(g in c))&&Ea(c,g,k)}function ru(c,g){for(var k=c.length;k--;)if(Aa(c[k][0],g))return k;return-1}function Za(c,g,k,I){return Ro(c,function(ee,me,Se){g(I,ee,k(ee),Se)}),I}function yc(c,g){return c&&zo(g,Lr(g),c)}function Sf(c,g){return c&&zo(g,yo(g),c)}function Ea(c,g,k){g=="__proto__"&&wa?wa(c,g,{configurable:!0,enumerable:!0,value:k,writable:!0}):c[g]=k}function ou(c,g){for(var k=-1,I=g.length,ee=Ue(I),me=c==null;++k<I;)ee[k]=me?r:Rd(c,g[k]);return ee}function Sa(c,g,k){return c===c&&(k!==r&&(c=c<=k?c:k),g!==r&&(c=c>=g?c:g)),c}function oo(c,g,k,I,ee,me){var Se,Pe=g&S,$e=g&O,at=g&W;if(k&&(Se=ee?k(c,I,ee,me):k(c)),Se!==r)return Se;if(!Mn(c))return c;var st=mi(c);if(st){if(Se=Ad(c),!Pe)return Zr(c,Se)}else{var ht=Kn(c),Dt=ht==ut||ht==Et;if(ku(c))return Mc(c,Pe);if(ht==Mt||ht==Re||Dt&&!ee){if(Se=$e||Dt?{}:ih(c),!Pe)return $e?kd(c,Sf(Se,c)):Yf(c,yc(Se,c))}else{if(!oi[ht])return ee?c:{};Se=ql(c,ht,Pe)}}me||(me=new mn);var qt=me.get(c);if(qt)return qt;me.set(c,Se),xm(c)?c.forEach(function(ti){Se.add(oo(ti,g,k,ti,c,me))}):ym(c)&&c.forEach(function(ti,Ai){Se.set(Ai,oo(ti,g,k,Ai,c,me))});var ei=at?$e?Wl:Hl:$e?yo:Lr,ki=st?r:ei(c);return Ir(ki||c,function(ti,Ai){ki&&(Ai=ti,ti=c[Ai]),nu(Se,Ai,oo(ti,g,k,Ai,c,me))}),Se}function pd(c){var g=Lr(c);return function(k){return wc(k,c,g)}}function wc(c,g,k){var I=k.length;if(c==null)return!I;for(c=qi(c);I--;){var ee=k[I],me=g[ee],Se=c[ee];if(Se===r&&!(ee in c)||!me(Se))return!1}return!0}function Tf(c,g,k){if(typeof c!="function")throw new vr(f);return Bt(function(){c.apply(r,k)},g)}function ju(c,g,k,I){var ee=-1,me=za,Se=!0,Pe=c.length,$e=[],at=g.length;if(!Pe)return $e;k&&(g=Ji(g,tn(k))),I?(me=Nu,Se=!1):g.length>=u&&(me=Ao,Se=!1,g=new Ua(g));e:for(;++ee<Pe;){var st=c[ee],ht=k==null?st:k(st);if(st=I||st!==0?st:0,Se&&ht===ht){for(var Dt=at;Dt--;)if(g[Dt]===ht)continue e;$e.push(st)}else me(g,ht,I)||$e.push(st)}return $e}var Ro=vu(vo),xc=vu(Dl,!0);function md(c,g){var k=!0;return Ro(c,function(I,ee,me){return k=!!g(I,ee,me),k}),k}function Al(c,g,k){for(var I=-1,ee=c.length;++I<ee;){var me=c[I],Se=g(me);if(Se!=null&&(Pe===r?Se===Se&&!Io(Se):k(Se,Pe)))var Pe=Se,$e=me}return $e}function Af(c,g,k,I){var ee=c.length;for(k=_i(k),k<0&&(k=-k>ee?0:ee+k),I=I===r||I>ee?ee:_i(I),I<0&&(I+=ee),I=k>I?0:Cm(I);k<I;)c[k++]=g;return c}function Ss(c,g){var k=[];return Ro(c,function(I,ee,me){g(I,ee,me)&&k.push(I)}),k}function Xn(c,g,k,I,ee){var me=-1,Se=c.length;for(k||(k=a),ee||(ee=[]);++me<Se;){var Pe=c[me];g>0&&k(Pe)?g>1?Xn(Pe,g-1,k,I,ee):ho(ee,Pe):I||(ee[ee.length]=Pe)}return ee}var au=Gf(),kc=Gf(!0);function vo(c,g){return c&&au(c,g,Lr)}function Dl(c,g){return c&&kc(c,g,Lr)}function Ll(c,g){return To(g,function(k){return Os(c[k])})}function Xa(c,g){g=Qa(g,c);for(var k=0,I=g.length;c!=null&&k<I;)c=c[gn(g[k++])];return k&&k==I?c:r}function sr(c,g,k){var I=g(c);return mi(c)?I:ho(I,k(c))}function ur(c){return c==null?c===r?pe:_t:Mo&&Mo in qi(c)?Sd(c):rt(c)}function Ml(c,g){return c>g}function Df(c,g){return c!=null&&Ci.call(c,g)}function Lf(c,g){return c!=null&&g in qi(c)}function su(c,g,k){return c>=oe(g,k)&&c<U(g,k)}function uu(c,g,k){for(var I=k?Nu:za,ee=c[0].length,me=c.length,Se=me,Pe=Ue(me),$e=1/0,at=[];Se--;){var st=c[Se];Se&&g&&(st=Ji(st,tn(g))),$e=oe(st.length,$e),Pe[Se]=!k&&(g||ee>=120&&st.length>=120)?new Ua(Se&&st):r}st=c[0];var ht=-1,Dt=Pe[0];e:for(;++ht<ee&&at.length<$e;){var qt=st[ht],ei=g?g(qt):qt;if(qt=k||qt!==0?qt:0,!(Dt?Ao(Dt,ei):I(at,ei,k))){for(Se=me;--Se;){var ki=Pe[Se];if(!(ki?Ao(ki,ei):I(c[Se],ei,k)))continue e}Dt&&Dt.push(ei),at.push(qt)}}return at}function Mf(c,g,k,I){return vo(c,function(ee,me,Se){g(I,k(ee),me,Se)}),I}function lu(c,g,k){g=Qa(g,c),c=bt(c,g);var I=c==null?c:c[gn(fa(g))];return I==null?r:un(I,c,k)}function Cc(c){return Bn(c)&&ur(c)==Re}function cu(c){return Bn(c)&&ur(c)==Qe}function Pf(c){return Bn(c)&&ur(c)==qe}function Va(c,g,k,I,ee){return c===g?!0:c==null||g==null||!Bn(c)&&!Bn(g)?c!==c&&g!==g:Of(c,g,k,I,Va,ee)}function Of(c,g,k,I,ee,me){var Se=mi(c),Pe=mi(g),$e=Se?X:Kn(c),at=Pe?X:Kn(g);$e=$e==Re?Mt:$e,at=at==Re?Mt:at;var st=$e==Mt,ht=at==Mt,Dt=$e==at;if(Dt&&ku(c)){if(!ku(g))return!1;Se=!0,st=!1}if(Dt&&!st)return me||(me=new mn),Se||jl(c)?bo(c,g,k,I,ee,me):$l(c,g,$e,k,I,ee,me);if(!(k&N)){var qt=st&&Ci.call(c,"__wrapped__"),ei=ht&&Ci.call(g,"__wrapped__");if(qt||ei){var ki=qt?c.value():c,ti=ei?g.value():g;return me||(me=new mn),ee(ki,ti,k,I,me)}}return Dt?(me||(me=new mn),Ic(c,g,k,I,ee,me)):!1}function Uu(c){return Bn(c)&&Kn(c)==wt}function Ec(c,g,k,I){var ee=k.length,me=ee,Se=!I;if(c==null)return!me;for(c=qi(c);ee--;){var Pe=k[ee];if(Se&&Pe[2]?Pe[1]!==c[Pe[0]]:!(Pe[0]in c))return!1}for(;++ee<me;){Pe=k[ee];var $e=Pe[0],at=c[$e],st=Pe[1];if(Se&&Pe[2]){if(at===r&&!($e in c))return!1}else{var ht=new mn;if(I)var Dt=I(at,st,$e,c,g,ht);if(!(Dt===r?Va(st,at,N|j,I,ht):Dt))return!1}}return!0}function Ts(c){if(!Mn(c)||H(c))return!1;var g=Os(c)?ar:Cn;return g.test(An(c))}function Ff(c){return Bn(c)&&ur(c)==Z}function Rf(c){return Bn(c)&&Kn(c)==le}function Nf(c){return Bn(c)&&uh(c.length)&&!!Zt[ur(c)]}function fu(c){return typeof c=="function"?c:c==null?wo:typeof c=="object"?mi(c)?Tc(c[0],c[1]):zf(c):Rm(c)}function As(c){if(!K(c))return A(c);var g=[];for(var k in qi(c))Ci.call(c,k)&&k!="constructor"&&g.push(k);return g}function Yu(c){if(!Mn(c))return Ge(c);var g=K(c),k=[];for(var I in c)I=="constructor"&&(g||!Ci.call(c,I))||k.push(I);return k}function Ds(c,g){return c<g}function Sc(c,g){var k=-1,I=_o(c)?Ue(c.length):[];return Ro(c,function(ee,me,Se){I[++k]=g(ee,me,Se)}),I}function zf(c){var g=Ii(c);return g.length==1&&g[0][2]?Ce(g[0][0],g[0][1]):function(k){return k===c||Ec(k,c,g)}}function Tc(c,g){return v(c)&&be(g)?Ce(gn(c),g):function(k){var I=Rd(k,c);return I===r&&I===g?Nd(k,c):Va(g,I,N|j)}}function No(c,g,k,I,ee){c!==g&&au(g,function(me,Se){if(ee||(ee=new mn),Mn(me))hu(c,g,Se,k,No,I,ee);else{var Pe=I?I(vt(c,Se),me,Se+"",c,g,ee):r;Pe===r&&(Pe=me),Es(c,Se,Pe)}},yo)}function hu(c,g,k,I,ee,me,Se){var Pe=vt(c,k),$e=vt(g,k),at=Se.get($e);if(at){Es(c,k,at);return}var st=me?me(Pe,$e,k+"",c,g,Se):r,ht=st===r;if(ht){var Dt=mi($e),qt=!Dt&&ku($e),ei=!Dt&&!qt&&jl($e);st=$e,Dt||qt||ei?mi(Pe)?st=Pe:Jn(Pe)?st=Zr(Pe):qt?(ht=!1,st=Mc($e,!0)):ei?(ht=!1,st=Pc($e,!0)):st=[]:Hc($e)||sl($e)?(st=Pe,sl(Pe)?st=Em(Pe):(!Mn(Pe)||Os(Pe))&&(st=ih($e))):ht=!1}ht&&(Se.set($e,st),ee(st,$e,I,me,Se),Se.delete($e)),Es(c,k,st)}function du(c,g){var k=c.length;if(k)return g+=g<0?k:0,p(g,k)?c[g]:r}function If(c,g,k){g.length?g=Ji(g,function(me){return mi(me)?function(Se){return Xa(Se,me.length===1?me[0]:me)}:me}):g=[wo];var I=-1;g=Ji(g,tn(Xt()));var ee=Sc(c,function(me,Se,Pe){var $e=Ji(g,function(at){return at(me)});return{criteria:$e,index:++I,value:me}});return bs(ee,function(me,Se){return xd(me,Se,k)})}function Bf(c,g){return $f(c,g,function(k,I){return Nd(c,I)})}function $f(c,g,k){for(var I=-1,ee=g.length,me={};++I<ee;){var Se=g[I],Pe=Xa(c,Se);k(Pe,Se)&&pu(me,Qa(Se,c),Pe)}return me}function gd(c){return function(g){return Xa(g,c)}}function Ac(c,g,k,I){var ee=I?vs:en,me=-1,Se=g.length,Pe=c;for(c===g&&(g=Zr(g)),k&&(Pe=Ji(c,tn(k)));++me<Se;)for(var $e=0,at=g[me],st=k?k(at):at;($e=ee(Pe,st,$e,I))>-1;)Pe!==c&&ta.call(Pe,$e,1),ta.call(c,$e,1);return c}function Tr(c,g){for(var k=c?g.length:0,I=k-1;k--;){var ee=g[k];if(k==I||ee!==me){var me=ee;p(ee)?ta.call(c,ee,1):Ol(c,ee)}}return c}function Pl(c,g){return c+na(Ye()*(g-c+1))}function vd(c,g,k,I){for(var ee=-1,me=U(qa((g-c)/(k||1)),0),Se=Ue(me);me--;)Se[I?me:++ee]=c,c+=k;return Se}function Dc(c,g){var k="";if(!c||g<1||g>Ee)return k;do g%2&&(k+=c),g=na(g/2),g&&(c+=c);while(g);return k}function bi(c,g){return zt(dt(c,g,wo),c+"")}function Hf(c){return bc(Ul(c))}function Wf(c,g){var k=Ul(c);return xn(k,Sa(g,0,k.length))}function pu(c,g,k,I){if(!Mn(c))return c;g=Qa(g,c);for(var ee=-1,me=g.length,Se=me-1,Pe=c;Pe!=null&&++ee<me;){var $e=gn(g[ee]),at=k;if($e==="__proto__"||$e==="constructor"||$e==="prototype")return c;if(ee!=Se){var st=Pe[$e];at=I?I(st,$e,Pe):r,at===r&&(at=Mn(st)?st:p(g[ee+1])?[]:{})}nu(Pe,$e,at),Pe=Pe[$e]}return c}var qf=zn?function(c,g){return zn.set(c,g),c}:wo,bd=wa?function(c,g){return wa(c,"toString",{configurable:!0,enumerable:!1,value:Id(g),writable:!0})}:wo;function _d(c){return xn(Ul(c))}function Vn(c,g,k){var I=-1,ee=c.length;g<0&&(g=-g>ee?0:ee+g),k=k>ee?ee:k,k<0&&(k+=ee),ee=g>k?0:k-g>>>0,g>>>=0;for(var me=Ue(ee);++I<ee;)me[I]=c[I+g];return me}function Gu(c,g){var k;return Ro(c,function(I,ee,me){return k=g(I,ee,me),!k}),!!k}function Ls(c,g,k){var I=0,ee=c==null?I:c.length;if(typeof g=="number"&&g===g&&ee<=Y){for(;I<ee;){var me=I+ee>>>1,Se=c[me];Se!==null&&!Io(Se)&&(k?Se<=g:Se<g)?I=me+1:ee=me}return ee}return Ms(c,g,wo,k)}function Ms(c,g,k,I){var ee=0,me=c==null?0:c.length;if(me===0)return 0;g=k(g);for(var Se=g!==g,Pe=g===null,$e=Io(g),at=g===r;ee<me;){var st=na((ee+me)/2),ht=k(c[st]),Dt=ht!==r,qt=ht===null,ei=ht===ht,ki=Io(ht);if(Se)var ti=I||ei;else at?ti=ei&&(I||Dt):Pe?ti=ei&&Dt&&(I||!qt):$e?ti=ei&&Dt&&!qt&&(I||!ki):qt||ki?ti=!1:ti=I?ht<=g:ht<g;ti?ee=st+1:me=st}return oe(me,te)}function aa(c,g){for(var k=-1,I=c.length,ee=0,me=[];++k<I;){var Se=c[k],Pe=g?g(Se):Se;if(!k||!Aa(Pe,$e)){var $e=Pe;me[ee++]=Se===0?0:Se}}return me}function jf(c){return typeof c=="number"?c:Io(c)?Be:+c}function ao(c){if(typeof c=="string")return c;if(mi(c))return Ji(c,ao)+"";if(Io(c))return Cs?Cs.call(c):"";var g=c+"";return g=="0"&&1/c==-ye?"-0":g}function so(c,g,k){var I=-1,ee=za,me=c.length,Se=!0,Pe=[],$e=Pe;if(k)Se=!1,ee=Nu;else if(me>=u){var at=g?null:Ed(c);if(at)return dn(at);Se=!1,ee=Ao,$e=new Ua}else $e=g?[]:Pe;e:for(;++I<me;){var st=c[I],ht=g?g(st):st;if(st=k||st!==0?st:0,Se&&ht===ht){for(var Dt=$e.length;Dt--;)if($e[Dt]===ht)continue e;g&&$e.push(ht),Pe.push(st)}else ee($e,ht,k)||($e!==Pe&&$e.push(ht),Pe.push(st))}return Pe}function Ol(c,g){return g=Qa(g,c),c=bt(c,g),c==null||delete c[gn(fa(g))]}function Lc(c,g,k,I){return pu(c,g,k(Xa(c,g)),I)}function Zu(c,g,k,I){for(var ee=c.length,me=I?ee:-1;(I?me--:++me<ee)&&g(c[me],me,c););return k?Vn(c,I?0:me,I?me+1:ee):Vn(c,I?me+1:0,I?ee:me)}function Xu(c,g){var k=c;return k instanceof Gt&&(k=k.value()),zu(g,function(I,ee){return ee.func.apply(ee.thisArg,ho([I],ee.args))},k)}function Ka(c,g,k){var I=c.length;if(I<2)return I?so(c[0]):[];for(var ee=-1,me=Ue(I);++ee<I;)for(var Se=c[ee],Pe=-1;++Pe<I;)Pe!=ee&&(me[ee]=ju(me[ee]||Se,c[Pe],g,k));return so(Xn(me,1),g,k)}function Fl(c,g,k){for(var I=-1,ee=c.length,me=g.length,Se={};++I<ee;){var Pe=I<me?g[I]:r;k(Se,c[I],Pe)}return Se}function Vu(c){return Jn(c)?c:[]}function Ku(c){return typeof c=="function"?c:wo}function Qa(c,g){return mi(c)?c:v(c,g)?[c]:an(Vi(c))}var Qu=bi;function Ta(c,g,k){var I=c.length;return k=k===r?I:k,!g&&k>=I?c:Vn(c,g,k)}var Uf=tu||function(c){return Ni.clearTimeout(c)};function Mc(c,g){if(g)return c.slice();var k=c.length,I=$u?$u(k):new c.constructor(k);return c.copy(I),I}function mu(c){var g=new c.constructor(c.byteLength);return new ea(g).set(new ea(c)),g}function yd(c,g){var k=g?mu(c.buffer):c.buffer;return new c.constructor(k,c.byteOffset,c.byteLength)}function wd(c){var g=new c.constructor(c.source,Qi.exec(c));return g.lastIndex=c.lastIndex,g}function Ju(c){return nn?qi(nn.call(c)):{}}function Pc(c,g){var k=g?mu(c.buffer):c.buffer;return new c.constructor(k,c.byteOffset,c.length)}function Oc(c,g){if(c!==g){var k=c!==r,I=c===null,ee=c===c,me=Io(c),Se=g!==r,Pe=g===null,$e=g===g,at=Io(g);if(!Pe&&!at&&!me&&c>g||me&&Se&&$e&&!Pe&&!at||I&&Se&&$e||!k&&$e||!ee)return 1;if(!I&&!me&&!at&&c<g||at&&k&&ee&&!I&&!me||Pe&&k&&ee||!Se&&ee||!$e)return-1}return 0}function xd(c,g,k){for(var I=-1,ee=c.criteria,me=g.criteria,Se=ee.length,Pe=k.length;++I<Se;){var $e=Oc(ee[I],me[I]);if($e){if(I>=Pe)return $e;var at=k[I];return $e*(at=="desc"?-1:1)}}return c.index-g.index}function Rl(c,g,k,I){for(var ee=-1,me=c.length,Se=k.length,Pe=-1,$e=g.length,at=U(me-Se,0),st=Ue($e+at),ht=!I;++Pe<$e;)st[Pe]=g[Pe];for(;++ee<Se;)(ht||ee<me)&&(st[k[ee]]=c[ee]);for(;at--;)st[Pe++]=c[ee++];return st}function Fc(c,g,k,I){for(var ee=-1,me=c.length,Se=-1,Pe=k.length,$e=-1,at=g.length,st=U(me-Pe,0),ht=Ue(st+at),Dt=!I;++ee<st;)ht[ee]=c[ee];for(var qt=ee;++$e<at;)ht[qt+$e]=g[$e];for(;++Se<Pe;)(Dt||ee<me)&&(ht[qt+k[Se]]=c[ee++]);return ht}function Zr(c,g){var k=-1,I=c.length;for(g||(g=Ue(I));++k<I;)g[k]=c[k];return g}function zo(c,g,k,I){var ee=!k;k||(k={});for(var me=-1,Se=g.length;++me<Se;){var Pe=g[me],$e=I?I(k[Pe],c[Pe],Pe,k,c):r;$e===r&&($e=c[Pe]),ee?Ea(k,Pe,$e):nu(k,Pe,$e)}return k}function Yf(c,g){return zo(c,es(c),g)}function kd(c,g){return zo(c,eh(c),g)}function gu(c,g){return function(k,I){var ee=mi(k)?fc:Za,me=g?g():{};return ee(k,c,Xt(I,2),me)}}function sa(c){return bi(function(g,k){var I=-1,ee=k.length,me=ee>1?k[ee-1]:r,Se=ee>2?k[2]:r;for(me=c.length>3&&typeof me=="function"?(ee--,me):r,Se&&d(k[0],k[1],Se)&&(me=ee<3?r:me,ee=1),g=qi(g);++I<ee;){var Pe=k[I];Pe&&c(g,Pe,I,me)}return g})}function vu(c,g){return function(k,I){if(k==null)return k;if(!_o(k))return c(k,I);for(var ee=k.length,me=g?ee:-1,Se=qi(k);(g?me--:++me<ee)&&I(Se[me],me,Se)!==!1;);return k}}function Gf(c){return function(g,k,I){for(var ee=-1,me=qi(g),Se=I(g),Pe=Se.length;Pe--;){var $e=Se[c?Pe:++ee];if(k(me[$e],$e,me)===!1)break}return g}}function Zf(c,g,k){var I=g&q,ee=el(c);function me(){var Se=this&&this!==Ni&&this instanceof me?ee:c;return Se.apply(I?k:this,arguments)}return me}function Xf(c){return function(g){g=Vi(g);var k=$a(g)?Sr(g):r,I=k?k[0]:g.charAt(0),ee=k?Ta(k,1).join(""):g.slice(1);return I[c]()+ee}}function bu(c){return function(g){return zu(Om(Pm(g).replace(ri,"")),c,"")}}function el(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var k=ja(c.prototype),I=c.apply(k,g);return Mn(I)?I:k}}function Cd(c,g,k){var I=el(c);function ee(){for(var me=arguments.length,Se=Ue(me),Pe=me,$e=yu(ee);Pe--;)Se[Pe]=arguments[Pe];var at=me<3&&Se[0]!==$e&&Se[me-1]!==$e?[]:Br(Se,$e);if(me-=at.length,me<k)return il(c,g,Nl,ee.placeholder,r,Se,at,r,r,k-me);var st=this&&this!==Ni&&this instanceof ee?I:c;return un(st,this,Se)}return ee}function Rc(c){return function(g,k,I){var ee=qi(g);if(!_o(g)){var me=Xt(k,3);g=Lr(g),k=function(Pe){return me(ee[Pe],Pe,ee)}}var Se=c(g,k,I);return Se>-1?ee[me?g[Se]:Se]:r}}function Vf(c){return ua(function(g){var k=g.length,I=k,ee=Di.prototype.thru;for(c&&g.reverse();I--;){var me=g[I];if(typeof me!="function")throw new vr(f);if(ee&&!Se&&ol(me)=="wrapper")var Se=new Di([],!0)}for(I=Se?I:k;++I<k;){me=g[I];var Pe=ol(me),$e=Pe=="wrapper"?rl(me):r;$e&&F($e[0])&&$e[1]==(ne|D|z|ue)&&!$e[4].length&&$e[9]==1?Se=Se[ol($e[0])].apply(Se,$e[3]):Se=me.length==1&&F(me)?Se[Pe]():Se.thru(me)}return function(){var at=arguments,st=at[0];if(Se&&at.length==1&&mi(st))return Se.plant(st).value();for(var ht=0,Dt=k?g[ht].apply(this,at):st;++ht<k;)Dt=g[ht].call(this,Dt);return Dt}})}function Nl(c,g,k,I,ee,me,Se,Pe,$e,at){var st=g&ne,ht=g&q,Dt=g&M,qt=g&(D|B),ei=g&de,ki=Dt?r:el(c);function ti(){for(var Ai=arguments.length,Fi=Ue(Ai),Bo=Ai;Bo--;)Fi[Bo]=arguments[Bo];if(qt)var uo=yu(ti),$o=Xo(Fi,uo);if(I&&(Fi=Rl(Fi,I,ee,qt)),me&&(Fi=Fc(Fi,me,Se,qt)),Ai-=$o,qt&&Ai<at){var er=Br(Fi,uo);return il(c,g,Nl,ti.placeholder,k,Fi,er,Pe,$e,at-Ai)}var Da=ht?k:this,Rs=Dt?Da[c]:c;return Ai=Fi.length,Pe?Fi=yt(Fi,Pe):ei&&Ai>1&&Fi.reverse(),st&&$e<Ai&&(Fi.length=$e),this&&this!==Ni&&this instanceof ti&&(Rs=ki||el(Rs)),Rs.apply(Da,Fi)}return ti}function Nc(c,g){return function(k,I){return Mf(k,c,g(I),{})}}function _u(c,g){return function(k,I){var ee;if(k===r&&I===r)return g;if(k!==r&&(ee=k),I!==r){if(ee===r)return I;typeof k=="string"||typeof I=="string"?(k=ao(k),I=ao(I)):(k=jf(k),I=jf(I)),ee=c(k,I)}return ee}}function zl(c){return ua(function(g){return g=Ji(g,tn(Xt())),bi(function(k){var I=this;return c(g,function(ee){return un(ee,I,k)})})})}function Il(c,g){g=g===r?" ":ao(g);var k=g.length;if(k<2)return k?Dc(g,c):g;var I=Dc(g,qa(c/Er(g)));return $a(g)?Ta(Sr(I),0,c).join(""):I.slice(0,c)}function Kf(c,g,k,I){var ee=g&q,me=el(c);function Se(){for(var Pe=-1,$e=arguments.length,at=-1,st=I.length,ht=Ue(st+$e),Dt=this&&this!==Ni&&this instanceof Se?me:c;++at<st;)ht[at]=I[at];for(;$e--;)ht[at++]=arguments[++Pe];return un(Dt,ee?k:this,ht)}return Se}function Ps(c){return function(g,k,I){return I&&typeof I!="number"&&d(g,k,I)&&(k=I=r),g=Fs(g),k===r?(k=g,g=0):k=Fs(k),I=I===r?g<k?1:-1:Fs(I),vd(g,k,I,c)}}function tl(c){return function(g,k){return typeof g=="string"&&typeof k=="string"||(g=ha(g),k=ha(k)),c(g,k)}}function il(c,g,k,I,ee,me,Se,Pe,$e,at){var st=g&D,ht=st?Se:r,Dt=st?r:Se,qt=st?me:r,ei=st?r:me;g|=st?z:V,g&=~(st?V:z),g&E||(g&=-4);var ki=[c,g,ee,qt,ht,ei,Dt,Pe,$e,at],ti=k.apply(r,ki);return F(c)&&Tt(ti,ki),ti.placeholder=I,ci(ti,c,g)}function zc(c){var g=yn[c];return function(k,I){if(k=ha(k),I=I==null?0:oe(_i(I),292),I&&m(k)){var ee=(Vi(k)+"e").split("e"),me=g(ee[0]+"e"+(+ee[1]+I));return ee=(Vi(me)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-I))}return g(k)}}var Ed=Zi&&1/dn(new Zi([,-0]))[1]==ye?function(c){return new Zi(c)}:Hd;function Qf(c){return function(g){var k=Kn(g);return k==wt?Vs(g):k==le?xl(g):yl(g,c(g))}}function Oi(c,g,k,I,ee,me,Se,Pe){var $e=g&M;if(!$e&&typeof c!="function")throw new vr(f);var at=I?I.length:0;if(at||(g&=-97,I=ee=r),Se=Se===r?Se:U(_i(Se),0),Pe=Pe===r?Pe:_i(Pe),at-=ee?ee.length:0,g&V){var st=I,ht=ee;I=ee=r}var Dt=$e?r:rl(c),qt=[c,g,k,I,ee,st,ht,me,Se,Pe];if(Dt&&Fe(qt,Dt),c=qt[0],g=qt[1],k=qt[2],I=qt[3],ee=qt[4],Pe=qt[9]=qt[9]===r?$e?0:c.length:U(qt[9]-at,0),!Pe&&g&(D|B)&&(g&=-25),!g||g==q)var ei=Zf(c,g,k);else g==D||g==B?ei=Cd(c,g,Pe):(g==z||g==(q|z))&&!ee.length?ei=Kf(c,g,k,I):ei=Nl.apply(r,qt);var ki=Dt?qf:Tt;return ci(ki(ei,qt),c,g)}function Jf(c,g,k,I){return c===r||Aa(c,io[k])&&!Ci.call(I,k)?g:c}function Bl(c,g,k,I,ee,me){return Mn(c)&&Mn(g)&&(me.set(g,c),No(c,g,r,Bl,me),me.delete(g)),c}function nl(c){return Hc(c)?r:c}function bo(c,g,k,I,ee,me){var Se=k&N,Pe=c.length,$e=g.length;if(Pe!=$e&&!(Se&&$e>Pe))return!1;var at=me.get(c),st=me.get(g);if(at&&st)return at==g&&st==c;var ht=-1,Dt=!0,qt=k&j?new Ua:r;for(me.set(c,g),me.set(g,c);++ht<Pe;){var ei=c[ht],ki=g[ht];if(I)var ti=Se?I(ki,ei,ht,g,c,me):I(ei,ki,ht,c,g,me);if(ti!==r){if(ti)continue;Dt=!1;break}if(qt){if(!Go(g,function(Ai,Fi){if(!Ao(qt,Fi)&&(ei===Ai||ee(ei,Ai,k,I,me)))return qt.push(Fi)})){Dt=!1;break}}else if(!(ei===ki||ee(ei,ki,k,I,me))){Dt=!1;break}}return me.delete(c),me.delete(g),Dt}function $l(c,g,k,I,ee,me,Se){switch(k){case mt:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case Qe:return!(c.byteLength!=g.byteLength||!me(new ea(c),new ea(g)));case Te:case qe:case St:return Aa(+c,+g);case Xe:return c.name==g.name&&c.message==g.message;case Z:case Q:return c==g+"";case wt:var Pe=Vs;case le:var $e=I&N;if(Pe||(Pe=dn),c.size!=g.size&&!$e)return!1;var at=Se.get(c);if(at)return at==g;I|=j,Se.set(c,g);var st=bo(Pe(c),Pe(g),I,ee,me,Se);return Se.delete(c),st;case he:if(nn)return nn.call(c)==nn.call(g)}return!1}function Ic(c,g,k,I,ee,me){var Se=k&N,Pe=Hl(c),$e=Pe.length,at=Hl(g),st=at.length;if($e!=st&&!Se)return!1;for(var ht=$e;ht--;){var Dt=Pe[ht];if(!(Se?Dt in g:Ci.call(g,Dt)))return!1}var qt=me.get(c),ei=me.get(g);if(qt&&ei)return qt==g&&ei==c;var ki=!0;me.set(c,g),me.set(g,c);for(var ti=Se;++ht<$e;){Dt=Pe[ht];var Ai=c[Dt],Fi=g[Dt];if(I)var Bo=Se?I(Fi,Ai,Dt,g,c,me):I(Ai,Fi,Dt,c,g,me);if(!(Bo===r?Ai===Fi||ee(Ai,Fi,k,I,me):Bo)){ki=!1;break}ti||(ti=Dt=="constructor")}if(ki&&!ti){var uo=c.constructor,$o=g.constructor;uo!=$o&&"constructor"in c&&"constructor"in g&&!(typeof uo=="function"&&uo instanceof uo&&typeof $o=="function"&&$o instanceof $o)&&(ki=!1)}return me.delete(c),me.delete(g),ki}function ua(c){return zt(dt(c,r,ns),c+"")}function Hl(c){return sr(c,Lr,es)}function Wl(c){return sr(c,yo,eh)}var rl=zn?function(c){return zn.get(c)}:Hd;function ol(c){for(var g=c.name+"",k=Gr[g],I=Ci.call(Gr,g)?k.length:0;I--;){var ee=k[I],me=ee.func;if(me==null||me==c)return ee.name}return g}function yu(c){var g=Ci.call(ce,"placeholder")?ce:c;return g.placeholder}function Xt(){var c=ce.iteratee||Bd;return c=c===Bd?fu:c,arguments.length?c(arguments[0],arguments[1]):c}function al(c,g){var k=c.__data__;return C(g)?k[typeof g=="string"?"string":"hash"]:k.map}function Ii(c){for(var g=Lr(c),k=g.length;k--;){var I=g[k],ee=c[I];g[k]=[I,ee,be(ee)]}return g}function Ja(c,g){var k=Ba(c,g);return Ts(k)?k:r}function Sd(c){var g=Ci.call(c,Mo),k=c[Mo];try{c[Mo]=r;var I=!0}catch{}var ee=no.call(c);return I&&(g?c[Mo]=k:delete c[Mo]),ee}var es=Hu?function(c){return c==null?[]:(c=qi(c),To(Hu(c),function(g){return xs.call(c,g)}))}:Wd,eh=Hu?function(c){for(var g=[];c;)ho(g,es(c)),c=ro(c);return g}:Wd,Kn=ur;(Ct&&Kn(new Ct(new ArrayBuffer(1)))!=mt||It&&Kn(new It)!=wt||ai&&Kn(ai.resolve())!=jt||Zi&&Kn(new Zi)!=le||Xi&&Kn(new Xi)!=Ie)&&(Kn=function(c){var g=ur(c),k=g==Mt?c.constructor:r,I=k?An(k):"";if(I)switch(I){case El:return mt;case dc:return wt;case ka:return jt;case ra:return le;case pc:return Ie}return g});function Td(c,g,k){for(var I=-1,ee=k.length;++I<ee;){var me=k[I],Se=me.size;switch(me.type){case"drop":c+=Se;break;case"dropRight":g-=Se;break;case"take":g=oe(g,c+Se);break;case"takeRight":c=U(c,g-Se);break}}return{start:c,end:g}}function wn(c){var g=c.match(mr);return g?g[1].split(jn):[]}function th(c,g,k){g=Qa(g,c);for(var I=-1,ee=g.length,me=!1;++I<ee;){var Se=gn(g[I]);if(!(me=c!=null&&k(c,Se)))break;c=c[Se]}return me||++I!=ee?me:(ee=c==null?0:c.length,!!ee&&uh(ee)&&p(Se,ee)&&(mi(c)||sl(c)))}function Ad(c){var g=c.length,k=new c.constructor(g);return g&&typeof c[0]=="string"&&Ci.call(c,"index")&&(k.index=c.index,k.input=c.input),k}function ih(c){return typeof c.constructor=="function"&&!K(c)?ja(ro(c)):{}}function ql(c,g,k){var I=c.constructor;switch(g){case Qe:return mu(c);case Te:case qe:return new I(+c);case mt:return yd(c,k);case Pt:case ct:case Ht:case Yt:case Qt:case Vt:case xt:case qn:case Ut:return Pc(c,k);case wt:return new I;case St:case Q:return new I(c);case Z:return wd(c);case le:return new I;case he:return Ju(c)}}function n(c,g){var k=g.length;if(!k)return c;var I=k-1;return g[I]=(k>1?"& ":"")+g[I],g=g.join(k>2?", ":" "),c.replace(Ot,`{
/* [wrapped with `+g+`] */
`)}function a(c){return mi(c)||sl(c)||!!(Cl&&c&&c[Cl])}function p(c,g){var k=typeof c;return g=g??Ee,!!g&&(k=="number"||k!="symbol"&&eo.test(c))&&c>-1&&c%1==0&&c<g}function d(c,g,k){if(!Mn(k))return!1;var I=typeof g;return(I=="number"?_o(k)&&p(g,k.length):I=="string"&&g in k)?Aa(k[g],c):!1}function v(c,g){if(mi(c))return!1;var k=typeof c;return k=="number"||k=="symbol"||k=="boolean"||c==null||Io(c)?!0:$i.test(c)||!Qr.test(c)||g!=null&&c in qi(g)}function C(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function F(c){var g=ol(c),k=ce[g];if(typeof k!="function"||!(g in Gt.prototype))return!1;if(c===k)return!0;var I=rl(k);return!!I&&c===I[0]}function H(c){return!!Lo&&Lo in c}var G=go?Os:qd;function K(c){var g=c&&c.constructor,k=typeof g=="function"&&g.prototype||io;return c===k}function be(c){return c===c&&!Mn(c)}function Ce(c,g){return function(k){return k==null?!1:k[c]===g&&(g!==r||c in qi(k))}}function ze(c){var g=ah(c,function(I){return k.size===x&&k.clear(),I}),k=g.cache;return g}function Fe(c,g){var k=c[1],I=g[1],ee=k|I,me=ee<(q|M|ne),Se=I==ne&&k==D||I==ne&&k==ue&&c[7].length<=g[8]||I==(ne|ue)&&g[7].length<=g[8]&&k==D;if(!(me||Se))return c;I&q&&(c[2]=g[2],ee|=k&q?0:E);var Pe=g[3];if(Pe){var $e=c[3];c[3]=$e?Rl($e,Pe,g[4]):Pe,c[4]=$e?Br(c[3],w):g[4]}return Pe=g[5],Pe&&($e=c[5],c[5]=$e?Fc($e,Pe,g[6]):Pe,c[6]=$e?Br(c[5],w):g[6]),Pe=g[7],Pe&&(c[7]=Pe),I&ne&&(c[8]=c[8]==null?g[8]:oe(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=ee,c}function Ge(c){var g=[];if(c!=null)for(var k in qi(c))g.push(k);return g}function rt(c){return no.call(c)}function dt(c,g,k){return g=U(g===r?c.length-1:g,0),function(){for(var I=arguments,ee=-1,me=U(I.length-g,0),Se=Ue(me);++ee<me;)Se[ee]=I[g+ee];ee=-1;for(var Pe=Ue(g+1);++ee<g;)Pe[ee]=I[ee];return Pe[g]=k(Se),un(c,this,Pe)}}function bt(c,g){return g.length<2?c:Xa(c,Vn(g,0,-1))}function yt(c,g){for(var k=c.length,I=oe(g.length,k),ee=Zr(c);I--;){var me=g[I];c[I]=p(me,k)?ee[me]:r}return c}function vt(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var Tt=Yi(qf),Bt=iu||function(c,g){return Ni.setTimeout(c,g)},zt=Yi(bd);function ci(c,g,k){var I=g+"";return zt(c,n(I,Dn(wn(I),k)))}function Yi(c){var g=0,k=0;return function(){var I=Ae(),ee=ve-(I-k);if(k=I,ee>0){if(++g>=De)return arguments[0]}else g=0;return c.apply(r,arguments)}}function xn(c,g){var k=-1,I=c.length,ee=I-1;for(g=g===r?I:g;++k<g;){var me=Pl(k,ee),Se=c[me];c[me]=c[k],c[k]=Se}return c.length=g,c}var an=ze(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(Or,function(k,I,ee,me){g.push(ee?me.replace(Wr,"$1"):I||k)}),g});function gn(c){if(typeof c=="string"||Io(c))return c;var g=c+"";return g=="0"&&1/c==-ye?"-0":g}function An(c){if(c!=null){try{return Wa.call(c)}catch{}try{return c+""}catch{}}return""}function Dn(c,g){return Ir(Le,function(k){var I="_."+k[0];g&k[1]&&!za(c,I)&&c.push(I)}),c.sort()}function Ar(c){if(c instanceof Gt)return c.clone();var g=new Di(c.__wrapped__,c.__chain__);return g.__actions__=Zr(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function lr(c,g,k){(k?d(c,g,k):g===r)?g=1:g=U(_i(g),0);var I=c==null?0:c.length;if(!I||g<1)return[];for(var ee=0,me=0,Se=Ue(qa(I/g));ee<I;)Se[me++]=Vn(c,ee,ee+=g);return Se}function In(c){for(var g=-1,k=c==null?0:c.length,I=0,ee=[];++g<k;){var me=c[g];me&&(ee[I++]=me)}return ee}function Ln(){var c=arguments.length;if(!c)return[];for(var g=Ue(c-1),k=arguments[0],I=c;I--;)g[I-1]=arguments[I];return ho(mi(k)?Zr(k):[k],Xn(g,1))}var vn=bi(function(c,g){return Jn(c)?ju(c,Xn(g,1,Jn,!0)):[]}),$r=bi(function(c,g){var k=fa(g);return Jn(k)&&(k=r),Jn(c)?ju(c,Xn(g,1,Jn,!0),Xt(k,2)):[]}),wu=bi(function(c,g){var k=fa(g);return Jn(k)&&(k=r),Jn(c)?ju(c,Xn(g,1,Jn,!0),r,k):[]});function ts(c,g,k){var I=c==null?0:c.length;return I?(g=k||g===r?1:_i(g),Vn(c,g<0?0:g,I)):[]}function _r(c,g,k){var I=c==null?0:c.length;return I?(g=k||g===r?1:_i(g),g=I-g,Vn(c,0,g<0?0:g)):[]}function la(c,g){return c&&c.length?Zu(c,Xt(g,3),!0,!0):[]}function Qn(c,g){return c&&c.length?Zu(c,Xt(g,3),!0):[]}function Bc(c,g,k,I){var ee=c==null?0:c.length;return ee?(k&&typeof k!="number"&&d(c,g,k)&&(k=0,I=ee),Af(c,g,k,I)):[]}function ca(c,g,k){var I=c==null?0:c.length;if(!I)return-1;var ee=k==null?0:_i(k);return ee<0&&(ee=U(I+ee,0)),xr(c,Xt(g,3),ee)}function is(c,g,k){var I=c==null?0:c.length;if(!I)return-1;var ee=I-1;return k!==r&&(ee=_i(k),ee=k<0?U(I+ee,0):oe(ee,I-1)),xr(c,Xt(g,3),ee,!0)}function ns(c){var g=c==null?0:c.length;return g?Xn(c,1):[]}function Dr(c){var g=c==null?0:c.length;return g?Xn(c,ye):[]}function xu(c,g){var k=c==null?0:c.length;return k?(g=g===r?1:_i(g),Xn(c,g)):[]}function $c(c){for(var g=-1,k=c==null?0:c.length,I={};++g<k;){var ee=c[g];I[ee[0]]=ee[1]}return I}function am(c){return c&&c.length?c[0]:r}function Db(c,g,k){var I=c==null?0:c.length;if(!I)return-1;var ee=k==null?0:_i(k);return ee<0&&(ee=U(I+ee,0)),en(c,g,ee)}function Lb(c){var g=c==null?0:c.length;return g?Vn(c,0,-1):[]}var Mb=bi(function(c){var g=Ji(c,Vu);return g.length&&g[0]===c[0]?uu(g):[]}),Pb=bi(function(c){var g=fa(c),k=Ji(c,Vu);return g===fa(k)?g=r:k.pop(),k.length&&k[0]===c[0]?uu(k,Xt(g,2)):[]}),Ob=bi(function(c){var g=fa(c),k=Ji(c,Vu);return g=typeof g=="function"?g:r,g&&k.pop(),k.length&&k[0]===c[0]?uu(k,r,g):[]});function Fb(c,g){return c==null?"":y.call(c,g)}function fa(c){var g=c==null?0:c.length;return g?c[g-1]:r}function Rb(c,g,k){var I=c==null?0:c.length;if(!I)return-1;var ee=I;return k!==r&&(ee=_i(k),ee=ee<0?U(I+ee,0):oe(ee,I-1)),g===g?hc(c,g,ee):xr(c,kr,ee,!0)}function Nb(c,g){return c&&c.length?du(c,_i(g)):r}var zb=bi(sm);function sm(c,g){return c&&c.length&&g&&g.length?Ac(c,g):c}function Ib(c,g,k){return c&&c.length&&g&&g.length?Ac(c,g,Xt(k,2)):c}function Bb(c,g,k){return c&&c.length&&g&&g.length?Ac(c,g,r,k):c}var $b=ua(function(c,g){var k=c==null?0:c.length,I=ou(c,g);return Tr(c,Ji(g,function(ee){return p(ee,k)?+ee:ee}).sort(Oc)),I});function Hb(c,g){var k=[];if(!(c&&c.length))return k;var I=-1,ee=[],me=c.length;for(g=Xt(g,3);++I<me;){var Se=c[I];g(Se,I,c)&&(k.push(Se),ee.push(I))}return Tr(c,ee),k}function Dd(c){return c==null?c:lt.call(c)}function Wb(c,g,k){var I=c==null?0:c.length;return I?(k&&typeof k!="number"&&d(c,g,k)?(g=0,k=I):(g=g==null?0:_i(g),k=k===r?I:_i(k)),Vn(c,g,k)):[]}function qb(c,g){return Ls(c,g)}function jb(c,g,k){return Ms(c,g,Xt(k,2))}function Ub(c,g){var k=c==null?0:c.length;if(k){var I=Ls(c,g);if(I<k&&Aa(c[I],g))return I}return-1}function Yb(c,g){return Ls(c,g,!0)}function Gb(c,g,k){return Ms(c,g,Xt(k,2),!0)}function Zb(c,g){var k=c==null?0:c.length;if(k){var I=Ls(c,g,!0)-1;if(Aa(c[I],g))return I}return-1}function Xb(c){return c&&c.length?aa(c):[]}function Vb(c,g){return c&&c.length?aa(c,Xt(g,2)):[]}function Kb(c){var g=c==null?0:c.length;return g?Vn(c,1,g):[]}function Qb(c,g,k){return c&&c.length?(g=k||g===r?1:_i(g),Vn(c,0,g<0?0:g)):[]}function Jb(c,g,k){var I=c==null?0:c.length;return I?(g=k||g===r?1:_i(g),g=I-g,Vn(c,g<0?0:g,I)):[]}function e_(c,g){return c&&c.length?Zu(c,Xt(g,3),!1,!0):[]}function t_(c,g){return c&&c.length?Zu(c,Xt(g,3)):[]}var i_=bi(function(c){return so(Xn(c,1,Jn,!0))}),n_=bi(function(c){var g=fa(c);return Jn(g)&&(g=r),so(Xn(c,1,Jn,!0),Xt(g,2))}),r_=bi(function(c){var g=fa(c);return g=typeof g=="function"?g:r,so(Xn(c,1,Jn,!0),r,g)});function o_(c){return c&&c.length?so(c):[]}function a_(c,g){return c&&c.length?so(c,Xt(g,2)):[]}function s_(c,g){return g=typeof g=="function"?g:r,c&&c.length?so(c,r,g):[]}function Ld(c){if(!(c&&c.length))return[];var g=0;return c=To(c,function(k){if(Jn(k))return g=U(k.length,g),!0}),Iu(g,function(k){return Ji(c,Us(k))})}function um(c,g){if(!(c&&c.length))return[];var k=Ld(c);return g==null?k:Ji(k,function(I){return un(g,r,I)})}var u_=bi(function(c,g){return Jn(c)?ju(c,g):[]}),l_=bi(function(c){return Ka(To(c,Jn))}),c_=bi(function(c){var g=fa(c);return Jn(g)&&(g=r),Ka(To(c,Jn),Xt(g,2))}),f_=bi(function(c){var g=fa(c);return g=typeof g=="function"?g:r,Ka(To(c,Jn),r,g)}),h_=bi(Ld);function d_(c,g){return Fl(c||[],g||[],nu)}function p_(c,g){return Fl(c||[],g||[],pu)}var m_=bi(function(c){var g=c.length,k=g>1?c[g-1]:r;return k=typeof k=="function"?(c.pop(),k):r,um(c,k)});function lm(c){var g=ce(c);return g.__chain__=!0,g}function g_(c,g){return g(c),c}function nh(c,g){return g(c)}var v_=ua(function(c){var g=c.length,k=g?c[0]:0,I=this.__wrapped__,ee=function(me){return ou(me,c)};return g>1||this.__actions__.length||!(I instanceof Gt)||!p(k)?this.thru(ee):(I=I.slice(k,+k+(g?1:0)),I.__actions__.push({func:nh,args:[ee],thisArg:r}),new Di(I,this.__chain__).thru(function(me){return g&&!me.length&&me.push(r),me}))});function b_(){return lm(this)}function __(){return new Di(this.value(),this.__chain__)}function y_(){this.__values__===r&&(this.__values__=km(this.value()));var c=this.__index__>=this.__values__.length,g=c?r:this.__values__[this.__index__++];return{done:c,value:g}}function w_(){return this}function x_(c){for(var g,k=this;k instanceof Zn;){var I=Ar(k);I.__index__=0,I.__values__=r,g?ee.__wrapped__=I:g=I;var ee=I;k=k.__wrapped__}return ee.__wrapped__=c,g}function k_(){var c=this.__wrapped__;if(c instanceof Gt){var g=c;return this.__actions__.length&&(g=new Gt(this)),g=g.reverse(),g.__actions__.push({func:nh,args:[Dd],thisArg:r}),new Di(g,this.__chain__)}return this.thru(Dd)}function C_(){return Xu(this.__wrapped__,this.__actions__)}var E_=gu(function(c,g,k){Ci.call(c,k)?++c[k]:Ea(c,k,1)});function S_(c,g,k){var I=mi(c)?js:md;return k&&d(c,g,k)&&(g=r),I(c,Xt(g,3))}function T_(c,g){var k=mi(c)?To:Ss;return k(c,Xt(g,3))}var A_=Rc(ca),D_=Rc(is);function L_(c,g){return Xn(rh(c,g),1)}function M_(c,g){return Xn(rh(c,g),ye)}function P_(c,g,k){return k=k===r?1:_i(k),Xn(rh(c,g),k)}function cm(c,g){var k=mi(c)?Ir:Ro;return k(c,Xt(g,3))}function fm(c,g){var k=mi(c)?So:xc;return k(c,Xt(g,3))}var O_=gu(function(c,g,k){Ci.call(c,k)?c[k].push(g):Ea(c,k,[g])});function F_(c,g,k,I){c=_o(c)?c:Ul(c),k=k&&!I?_i(k):0;var ee=c.length;return k<0&&(k=U(ee+k,0)),lh(c)?k<=ee&&c.indexOf(g,k)>-1:!!ee&&en(c,g,k)>-1}var R_=bi(function(c,g,k){var I=-1,ee=typeof g=="function",me=_o(c)?Ue(c.length):[];return Ro(c,function(Se){me[++I]=ee?un(g,Se,k):lu(Se,g,k)}),me}),N_=gu(function(c,g,k){Ea(c,k,g)});function rh(c,g){var k=mi(c)?Ji:Sc;return k(c,Xt(g,3))}function z_(c,g,k,I){return c==null?[]:(mi(g)||(g=g==null?[]:[g]),k=I?r:k,mi(k)||(k=k==null?[]:[k]),If(c,g,k))}var I_=gu(function(c,g,k){c[k?0:1].push(g)},function(){return[[],[]]});function B_(c,g,k){var I=mi(c)?zu:Gs,ee=arguments.length<3;return I(c,Xt(g,4),k,ee,Ro)}function $_(c,g,k){var I=mi(c)?vl:Gs,ee=arguments.length<3;return I(c,Xt(g,4),k,ee,xc)}function H_(c,g){var k=mi(c)?To:Ss;return k(c,sh(Xt(g,3)))}function W_(c){var g=mi(c)?bc:Hf;return g(c)}function q_(c,g,k){(k?d(c,g,k):g===r)?g=1:g=_i(g);var I=mi(c)?dd:Wf;return I(c,g)}function j_(c){var g=mi(c)?_c:_d;return g(c)}function U_(c){if(c==null)return 0;if(_o(c))return lh(c)?Er(c):c.length;var g=Kn(c);return g==wt||g==le?c.size:As(c).length}function Y_(c,g,k){var I=mi(c)?Go:Gu;return k&&d(c,g,k)&&(g=r),I(c,Xt(g,3))}var G_=bi(function(c,g){if(c==null)return[];var k=g.length;return k>1&&d(c,g[0],g[1])?g=[]:k>2&&d(g[0],g[1],g[2])&&(g=[g[0]]),If(c,Xn(g,1),[])}),oh=xa||function(){return Ni.Date.now()};function Z_(c,g){if(typeof g!="function")throw new vr(f);return c=_i(c),function(){if(--c<1)return g.apply(this,arguments)}}function hm(c,g,k){return g=k?r:g,g=c&&g==null?c.length:g,Oi(c,ne,r,r,r,r,g)}function dm(c,g){var k;if(typeof g!="function")throw new vr(f);return c=_i(c),function(){return--c>0&&(k=g.apply(this,arguments)),c<=1&&(g=r),k}}var Md=bi(function(c,g,k){var I=q;if(k.length){var ee=Br(k,yu(Md));I|=z}return Oi(c,I,g,k,ee)}),pm=bi(function(c,g,k){var I=q|M;if(k.length){var ee=Br(k,yu(pm));I|=z}return Oi(g,I,c,k,ee)});function mm(c,g,k){g=k?r:g;var I=Oi(c,D,r,r,r,r,r,g);return I.placeholder=mm.placeholder,I}function gm(c,g,k){g=k?r:g;var I=Oi(c,B,r,r,r,r,r,g);return I.placeholder=gm.placeholder,I}function vm(c,g,k){var I,ee,me,Se,Pe,$e,at=0,st=!1,ht=!1,Dt=!0;if(typeof c!="function")throw new vr(f);g=ha(g)||0,Mn(k)&&(st=!!k.leading,ht="maxWait"in k,me=ht?U(ha(k.maxWait)||0,g):me,Dt="trailing"in k?!!k.trailing:Dt);function qt(er){var Da=I,Rs=ee;return I=ee=r,at=er,Se=c.apply(Rs,Da),Se}function ei(er){return at=er,Pe=Bt(Ai,g),st?qt(er):Se}function ki(er){var Da=er-$e,Rs=er-at,Nm=g-Da;return ht?oe(Nm,me-Rs):Nm}function ti(er){var Da=er-$e,Rs=er-at;return $e===r||Da>=g||Da<0||ht&&Rs>=me}function Ai(){var er=oh();if(ti(er))return Fi(er);Pe=Bt(Ai,ki(er))}function Fi(er){return Pe=r,Dt&&I?qt(er):(I=ee=r,Se)}function Bo(){Pe!==r&&Uf(Pe),at=0,I=$e=ee=Pe=r}function uo(){return Pe===r?Se:Fi(oh())}function $o(){var er=oh(),Da=ti(er);if(I=arguments,ee=this,$e=er,Da){if(Pe===r)return ei($e);if(ht)return Uf(Pe),Pe=Bt(Ai,g),qt($e)}return Pe===r&&(Pe=Bt(Ai,g)),Se}return $o.cancel=Bo,$o.flush=uo,$o}var X_=bi(function(c,g){return Tf(c,1,g)}),V_=bi(function(c,g,k){return Tf(c,ha(g)||0,k)});function K_(c){return Oi(c,de)}function ah(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new vr(f);var k=function(){var I=arguments,ee=g?g.apply(this,I):I[0],me=k.cache;if(me.has(ee))return me.get(ee);var Se=c.apply(this,I);return k.cache=me.set(ee,Se)||me,Se};return k.cache=new(ah.Cache||Oo),k}ah.Cache=Oo;function sh(c){if(typeof c!="function")throw new vr(f);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function Q_(c){return dm(2,c)}var J_=Qu(function(c,g){g=g.length==1&&mi(g[0])?Ji(g[0],tn(Xt())):Ji(Xn(g,1),tn(Xt()));var k=g.length;return bi(function(I){for(var ee=-1,me=oe(I.length,k);++ee<me;)I[ee]=g[ee].call(this,I[ee]);return un(c,this,I)})}),Pd=bi(function(c,g){var k=Br(g,yu(Pd));return Oi(c,z,r,g,k)}),bm=bi(function(c,g){var k=Br(g,yu(bm));return Oi(c,V,r,g,k)}),ey=ua(function(c,g){return Oi(c,ue,r,r,r,g)});function ty(c,g){if(typeof c!="function")throw new vr(f);return g=g===r?g:_i(g),bi(c,g)}function iy(c,g){if(typeof c!="function")throw new vr(f);return g=g==null?0:U(_i(g),0),bi(function(k){var I=k[g],ee=Ta(k,0,g);return I&&ho(ee,I),un(c,this,ee)})}function ny(c,g,k){var I=!0,ee=!0;if(typeof c!="function")throw new vr(f);return Mn(k)&&(I="leading"in k?!!k.leading:I,ee="trailing"in k?!!k.trailing:ee),vm(c,g,{leading:I,maxWait:g,trailing:ee})}function ry(c){return hm(c,1)}function oy(c,g){return Pd(Ku(g),c)}function ay(){if(!arguments.length)return[];var c=arguments[0];return mi(c)?c:[c]}function sy(c){return oo(c,W)}function uy(c,g){return g=typeof g=="function"?g:r,oo(c,W,g)}function ly(c){return oo(c,S|W)}function cy(c,g){return g=typeof g=="function"?g:r,oo(c,S|W,g)}function fy(c,g){return g==null||wc(c,g,Lr(g))}function Aa(c,g){return c===g||c!==c&&g!==g}var hy=tl(Ml),dy=tl(function(c,g){return c>=g}),sl=Cc(function(){return arguments}())?Cc:function(c){return Bn(c)&&Ci.call(c,"callee")&&!xs.call(c,"callee")},mi=Ue.isArray,py=Ws?tn(Ws):cu;function _o(c){return c!=null&&uh(c.length)&&!Os(c)}function Jn(c){return Bn(c)&&_o(c)}function my(c){return c===!0||c===!1||Bn(c)&&ur(c)==Te}var ku=o||qd,gy=to?tn(to):Pf;function vy(c){return Bn(c)&&c.nodeType===1&&!Hc(c)}function by(c){if(c==null)return!0;if(_o(c)&&(mi(c)||typeof c=="string"||typeof c.splice=="function"||ku(c)||jl(c)||sl(c)))return!c.length;var g=Kn(c);if(g==wt||g==le)return!c.size;if(K(c))return!As(c).length;for(var k in c)if(Ci.call(c,k))return!1;return!0}function _y(c,g){return Va(c,g)}function yy(c,g,k){k=typeof k=="function"?k:r;var I=k?k(c,g):r;return I===r?Va(c,g,r,k):!!I}function Od(c){if(!Bn(c))return!1;var g=ur(c);return g==Xe||g==Ze||typeof c.message=="string"&&typeof c.name=="string"&&!Hc(c)}function wy(c){return typeof c=="number"&&m(c)}function Os(c){if(!Mn(c))return!1;var g=ur(c);return g==ut||g==Et||g==we||g==Kt}function _m(c){return typeof c=="number"&&c==_i(c)}function uh(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ee}function Mn(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function Bn(c){return c!=null&&typeof c=="object"}var ym=ms?tn(ms):Uu;function xy(c,g){return c===g||Ec(c,g,Ii(g))}function ky(c,g,k){return k=typeof k=="function"?k:r,Ec(c,g,Ii(g),k)}function Cy(c){return wm(c)&&c!=+c}function Ey(c){if(G(c))throw new Jt(l);return Ts(c)}function Sy(c){return c===null}function Ty(c){return c==null}function wm(c){return typeof c=="number"||Bn(c)&&ur(c)==St}function Hc(c){if(!Bn(c)||ur(c)!=Mt)return!1;var g=ro(c);if(g===null)return!0;var k=Ci.call(g,"constructor")&&g.constructor;return typeof k=="function"&&k instanceof k&&Wa.call(k)==Jo}var Fd=qs?tn(qs):Ff;function Ay(c){return _m(c)&&c>=-Ee&&c<=Ee}var xm=Eo?tn(Eo):Rf;function lh(c){return typeof c=="string"||!mi(c)&&Bn(c)&&ur(c)==Q}function Io(c){return typeof c=="symbol"||Bn(c)&&ur(c)==he}var jl=gl?tn(gl):Nf;function Dy(c){return c===r}function Ly(c){return Bn(c)&&Kn(c)==Ie}function My(c){return Bn(c)&&ur(c)==ot}var Py=tl(Ds),Oy=tl(function(c,g){return c<=g});function km(c){if(!c)return[];if(_o(c))return lh(c)?Sr(c):Zr(c);if(ia&&c[ia])return Xs(c[ia]());var g=Kn(c),k=g==wt?Vs:g==le?dn:Ul;return k(c)}function Fs(c){if(!c)return c===0?c:0;if(c=ha(c),c===ye||c===-ye){var g=c<0?-1:1;return g*it}return c===c?c:0}function _i(c){var g=Fs(c),k=g%1;return g===g?k?g-k:g:0}function Cm(c){return c?Sa(_i(c),0,Me):0}function ha(c){if(typeof c=="number")return c;if(Io(c))return Be;if(Mn(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=Mn(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=Bu(c);var k=nr.test(c);return k||Jr.test(c)?va(c.slice(2),k?2:8):ir.test(c)?Be:+c}function Em(c){return zo(c,yo(c))}function Fy(c){return c?Sa(_i(c),-Ee,Ee):c===0?c:0}function Vi(c){return c==null?"":ao(c)}var Ry=sa(function(c,g){if(K(g)||_o(g)){zo(g,Lr(g),c);return}for(var k in g)Ci.call(g,k)&&nu(c,k,g[k])}),Sm=sa(function(c,g){zo(g,yo(g),c)}),ch=sa(function(c,g,k,I){zo(g,yo(g),c,I)}),Ny=sa(function(c,g,k,I){zo(g,Lr(g),c,I)}),zy=ua(ou);function Iy(c,g){var k=ja(c);return g==null?k:yc(k,g)}var By=bi(function(c,g){c=qi(c);var k=-1,I=g.length,ee=I>2?g[2]:r;for(ee&&d(g[0],g[1],ee)&&(I=1);++k<I;)for(var me=g[k],Se=yo(me),Pe=-1,$e=Se.length;++Pe<$e;){var at=Se[Pe],st=c[at];(st===r||Aa(st,io[at])&&!Ci.call(c,at))&&(c[at]=me[at])}return c}),$y=bi(function(c){return c.push(r,Bl),un(Tm,r,c)});function Hy(c,g){return gs(c,Xt(g,3),vo)}function Wy(c,g){return gs(c,Xt(g,3),Dl)}function qy(c,g){return c==null?c:au(c,Xt(g,3),yo)}function jy(c,g){return c==null?c:kc(c,Xt(g,3),yo)}function Uy(c,g){return c&&vo(c,Xt(g,3))}function Yy(c,g){return c&&Dl(c,Xt(g,3))}function Gy(c){return c==null?[]:Ll(c,Lr(c))}function Zy(c){return c==null?[]:Ll(c,yo(c))}function Rd(c,g,k){var I=c==null?r:Xa(c,g);return I===r?k:I}function Xy(c,g){return c!=null&&th(c,g,Df)}function Nd(c,g){return c!=null&&th(c,g,Lf)}var Vy=Nc(function(c,g,k){g!=null&&typeof g.toString!="function"&&(g=no.call(g)),c[g]=k},Id(wo)),Ky=Nc(function(c,g,k){g!=null&&typeof g.toString!="function"&&(g=no.call(g)),Ci.call(c,g)?c[g].push(k):c[g]=[k]},Xt),Qy=bi(lu);function Lr(c){return _o(c)?Tl(c):As(c)}function yo(c){return _o(c)?Tl(c,!0):Yu(c)}function Jy(c,g){var k={};return g=Xt(g,3),vo(c,function(I,ee,me){Ea(k,g(I,ee,me),I)}),k}function e1(c,g){var k={};return g=Xt(g,3),vo(c,function(I,ee,me){Ea(k,ee,g(I,ee,me))}),k}var t1=sa(function(c,g,k){No(c,g,k)}),Tm=sa(function(c,g,k,I){No(c,g,k,I)}),i1=ua(function(c,g){var k={};if(c==null)return k;var I=!1;g=Ji(g,function(me){return me=Qa(me,c),I||(I=me.length>1),me}),zo(c,Wl(c),k),I&&(k=oo(k,S|O|W,nl));for(var ee=g.length;ee--;)Ol(k,g[ee]);return k});function n1(c,g){return Am(c,sh(Xt(g)))}var r1=ua(function(c,g){return c==null?{}:Bf(c,g)});function Am(c,g){if(c==null)return{};var k=Ji(Wl(c),function(I){return[I]});return g=Xt(g),$f(c,k,function(I,ee){return g(I,ee[0])})}function o1(c,g,k){g=Qa(g,c);var I=-1,ee=g.length;for(ee||(ee=1,c=r);++I<ee;){var me=c==null?r:c[gn(g[I])];me===r&&(I=ee,me=k),c=Os(me)?me.call(c):me}return c}function a1(c,g,k){return c==null?c:pu(c,g,k)}function s1(c,g,k,I){return I=typeof I=="function"?I:r,c==null?c:pu(c,g,k,I)}var Dm=Qf(Lr),Lm=Qf(yo);function u1(c,g,k){var I=mi(c),ee=I||ku(c)||jl(c);if(g=Xt(g,4),k==null){var me=c&&c.constructor;ee?k=I?new me:[]:Mn(c)?k=Os(me)?ja(ro(c)):{}:k={}}return(ee?Ir:vo)(c,function(Se,Pe,$e){return g(k,Se,Pe,$e)}),k}function l1(c,g){return c==null?!0:Ol(c,g)}function c1(c,g,k){return c==null?c:Lc(c,g,Ku(k))}function f1(c,g,k,I){return I=typeof I=="function"?I:r,c==null?c:Lc(c,g,Ku(k),I)}function Ul(c){return c==null?[]:Zo(c,Lr(c))}function h1(c){return c==null?[]:Zo(c,yo(c))}function d1(c,g,k){return k===r&&(k=g,g=r),k!==r&&(k=ha(k),k=k===k?k:0),g!==r&&(g=ha(g),g=g===g?g:0),Sa(ha(c),g,k)}function p1(c,g,k){return g=Fs(g),k===r?(k=g,g=0):k=Fs(k),c=ha(c),su(c,g,k)}function m1(c,g,k){if(k&&typeof k!="boolean"&&d(c,g,k)&&(g=k=r),k===r&&(typeof g=="boolean"?(k=g,g=r):typeof c=="boolean"&&(k=c,c=r)),c===r&&g===r?(c=0,g=1):(c=Fs(c),g===r?(g=c,c=0):g=Fs(g)),c>g){var I=c;c=g,g=I}if(k||c%1||g%1){var ee=Ye();return oe(c+ee*(g-c+Yo("1e-"+((ee+"").length-1))),g)}return Pl(c,g)}var g1=bu(function(c,g,k){return g=g.toLowerCase(),c+(k?Mm(g):g)});function Mm(c){return zd(Vi(c).toLowerCase())}function Pm(c){return c=Vi(c),c&&c.replace(wr,wl).replace(gt,"")}function v1(c,g,k){c=Vi(c),g=ao(g);var I=c.length;k=k===r?I:Sa(_i(k),0,I);var ee=k;return k-=g.length,k>=0&&c.slice(k,ee)==g}function b1(c){return c=Vi(c),c&&wi.test(c)?c.replace(Ri,Cr):c}function _1(c){return c=Vi(c),c&&Ki.test(c)?c.replace(Hi,"\\$&"):c}var y1=bu(function(c,g,k){return c+(k?"-":"")+g.toLowerCase()}),w1=bu(function(c,g,k){return c+(k?" ":"")+g.toLowerCase()}),x1=Xf("toLowerCase");function k1(c,g,k){c=Vi(c),g=_i(g);var I=g?Er(c):0;if(!g||I>=g)return c;var ee=(g-I)/2;return Il(na(ee),k)+c+Il(qa(ee),k)}function C1(c,g,k){c=Vi(c),g=_i(g);var I=g?Er(c):0;return g&&I<g?c+Il(g-I,k):c}function E1(c,g,k){c=Vi(c),g=_i(g);var I=g?Er(c):0;return g&&I<g?Il(g-I,k)+c:c}function S1(c,g,k){return k||g==null?g=0:g&&(g=+g),We(Vi(c).replace(pr,""),g||0)}function T1(c,g,k){return(k?d(c,g,k):g===r)?g=1:g=_i(g),Dc(Vi(c),g)}function A1(){var c=arguments,g=Vi(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var D1=bu(function(c,g,k){return c+(k?"_":"")+g.toLowerCase()});function L1(c,g,k){return k&&typeof k!="number"&&d(c,g,k)&&(g=k=r),k=k===r?Me:k>>>0,k?(c=Vi(c),c&&(typeof g=="string"||g!=null&&!Fd(g))&&(g=ao(g),!g&&$a(c))?Ta(Sr(c),0,k):c.split(g,k)):[]}var M1=bu(function(c,g,k){return c+(k?" ":"")+zd(g)});function P1(c,g,k){return c=Vi(c),k=k==null?0:Sa(_i(k),0,c.length),g=ao(g),c.slice(k,k+g.length)==g}function O1(c,g,k){var I=ce.templateSettings;k&&d(c,g,k)&&(g=r),c=Vi(c),g=ch({},g,I,Jf);var ee=ch({},g.imports,I.imports,Jf),me=Lr(ee),Se=Zo(ee,me),Pe,$e,at=0,st=g.interpolate||En,ht="__p += '",Dt=ws((g.escape||En).source+"|"+st.source+"|"+(st===Bi?Gi:En).source+"|"+(g.evaluate||En).source+"|$","g"),qt="//# sourceURL="+(Ci.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rr+"]")+`
`;c.replace(Dt,function(ti,Ai,Fi,Bo,uo,$o){return Fi||(Fi=Bo),ht+=c.slice(at,$o).replace(Fr,Vo),Ai&&(Pe=!0,ht+=`' +
__e(`+Ai+`) +
'`),uo&&($e=!0,ht+=`';
`+uo+`;
__p += '`),Fi&&(ht+=`' +
((__t = (`+Fi+`)) == null ? '' : __t) +
'`),at=$o+ti.length,ti}),ht+=`';
`;var ei=Ci.call(g,"variable")&&g.variable;if(!ei)ht=`with (obj) {
`+ht+`
}
`;else if(tr.test(ei))throw new Jt(h);ht=($e?ht.replace(dr,""):ht).replace(Rt,"$1").replace(sn,"$1;"),ht="function("+(ei||"obj")+`) {
`+(ei?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+($e?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ht+`return __p
}`;var ki=Fm(function(){return Si(me,qt+"return "+ht).apply(r,Se)});if(ki.source=ht,Od(ki))throw ki;return ki}function F1(c){return Vi(c).toLowerCase()}function R1(c){return Vi(c).toUpperCase()}function N1(c,g,k){if(c=Vi(c),c&&(k||g===r))return Bu(c);if(!c||!(g=ao(g)))return c;var I=Sr(c),ee=Sr(g),me=Nn(I,ee),Se=_s(I,ee)+1;return Ta(I,me,Se).join("")}function z1(c,g,k){if(c=Vi(c),c&&(k||g===r))return c.slice(0,Ks(c)+1);if(!c||!(g=ao(g)))return c;var I=Sr(c),ee=_s(I,Sr(g))+1;return Ta(I,0,ee).join("")}function I1(c,g,k){if(c=Vi(c),c&&(k||g===r))return c.replace(pr,"");if(!c||!(g=ao(g)))return c;var I=Sr(c),ee=Nn(I,Sr(g));return Ta(I,ee).join("")}function B1(c,g){var k=ge,I=fe;if(Mn(g)){var ee="separator"in g?g.separator:ee;k="length"in g?_i(g.length):k,I="omission"in g?ao(g.omission):I}c=Vi(c);var me=c.length;if($a(c)){var Se=Sr(c);me=Se.length}if(k>=me)return c;var Pe=k-Er(I);if(Pe<1)return I;var $e=Se?Ta(Se,0,Pe).join(""):c.slice(0,Pe);if(ee===r)return $e+I;if(Se&&(Pe+=$e.length-Pe),Fd(ee)){if(c.slice(Pe).search(ee)){var at,st=$e;for(ee.global||(ee=ws(ee.source,Vi(Qi.exec(ee))+"g")),ee.lastIndex=0;at=ee.exec(st);)var ht=at.index;$e=$e.slice(0,ht===r?Pe:ht)}}else if(c.indexOf(ao(ee),Pe)!=Pe){var Dt=$e.lastIndexOf(ee);Dt>-1&&($e=$e.slice(0,Dt))}return $e+I}function $1(c){return c=Vi(c),c&&pi.test(c)?c.replace(yi,Qs):c}var H1=bu(function(c,g,k){return c+(k?" ":"")+g.toUpperCase()}),zd=Xf("toUpperCase");function Om(c,g,k){return c=Vi(c),g=k?r:g,g===r?Do(c)?ys(c):_l(c):c.match(g)||[]}var Fm=bi(function(c,g){try{return un(c,r,g)}catch(k){return Od(k)?k:new Jt(k)}}),W1=ua(function(c,g){return Ir(g,function(k){k=gn(k),Ea(c,k,Md(c[k],c))}),c});function q1(c){var g=c==null?0:c.length,k=Xt();return c=g?Ji(c,function(I){if(typeof I[1]!="function")throw new vr(f);return[k(I[0]),I[1]]}):[],bi(function(I){for(var ee=-1;++ee<g;){var me=c[ee];if(un(me[0],this,I))return un(me[1],this,I)}})}function j1(c){return pd(oo(c,S))}function Id(c){return function(){return c}}function U1(c,g){return c==null||c!==c?g:c}var Y1=Vf(),G1=Vf(!0);function wo(c){return c}function Bd(c){return fu(typeof c=="function"?c:oo(c,S))}function Z1(c){return zf(oo(c,S))}function X1(c,g){return Tc(c,oo(g,S))}var V1=bi(function(c,g){return function(k){return lu(k,c,g)}}),K1=bi(function(c,g){return function(k){return lu(c,k,g)}});function $d(c,g,k){var I=Lr(g),ee=Ll(g,I);k==null&&!(Mn(g)&&(ee.length||!I.length))&&(k=g,g=c,c=this,ee=Ll(g,Lr(g)));var me=!(Mn(k)&&"chain"in k)||!!k.chain,Se=Os(c);return Ir(ee,function(Pe){var $e=g[Pe];c[Pe]=$e,Se&&(c.prototype[Pe]=function(){var at=this.__chain__;if(me||at){var st=c(this.__wrapped__),ht=st.__actions__=Zr(this.__actions__);return ht.push({func:$e,args:arguments,thisArg:c}),st.__chain__=at,st}return $e.apply(c,ho([this.value()],arguments))})}),c}function Q1(){return Ni._===this&&(Ni._=br),this}function Hd(){}function J1(c){return c=_i(c),bi(function(g){return du(g,c)})}var ew=zl(Ji),tw=zl(js),iw=zl(Go);function Rm(c){return v(c)?Us(gn(c)):gd(c)}function nw(c){return function(g){return c==null?r:Xa(c,g)}}var rw=Ps(),ow=Ps(!0);function Wd(){return[]}function qd(){return!1}function aw(){return{}}function sw(){return""}function uw(){return!0}function lw(c,g){if(c=_i(c),c<1||c>Ee)return[];var k=Me,I=oe(c,Me);g=Xt(g),c-=Me;for(var ee=Iu(I,g);++k<c;)g(k);return ee}function cw(c){return mi(c)?Ji(c,gn):Io(c)?[c]:Zr(an(Vi(c)))}function fw(c){var g=++kl;return Vi(c)+g}var hw=_u(function(c,g){return c+g},0),dw=zc("ceil"),pw=_u(function(c,g){return c/g},1),mw=zc("floor");function gw(c){return c&&c.length?Al(c,wo,Ml):r}function vw(c,g){return c&&c.length?Al(c,Xt(g,2),Ml):r}function bw(c){return ba(c,wo)}function _w(c,g){return ba(c,Xt(g,2))}function yw(c){return c&&c.length?Al(c,wo,Ds):r}function ww(c,g){return c&&c.length?Al(c,Xt(g,2),Ds):r}var xw=_u(function(c,g){return c*g},1),kw=zc("round"),Cw=_u(function(c,g){return c-g},0);function Ew(c){return c&&c.length?Zs(c,wo):0}function Sw(c,g){return c&&c.length?Zs(c,Xt(g,2)):0}return ce.after=Z_,ce.ary=hm,ce.assign=Ry,ce.assignIn=Sm,ce.assignInWith=ch,ce.assignWith=Ny,ce.at=zy,ce.before=dm,ce.bind=Md,ce.bindAll=W1,ce.bindKey=pm,ce.castArray=ay,ce.chain=lm,ce.chunk=lr,ce.compact=In,ce.concat=Ln,ce.cond=q1,ce.conforms=j1,ce.constant=Id,ce.countBy=E_,ce.create=Iy,ce.curry=mm,ce.curryRight=gm,ce.debounce=vm,ce.defaults=By,ce.defaultsDeep=$y,ce.defer=X_,ce.delay=V_,ce.difference=vn,ce.differenceBy=$r,ce.differenceWith=wu,ce.drop=ts,ce.dropRight=_r,ce.dropRightWhile=la,ce.dropWhile=Qn,ce.fill=Bc,ce.filter=T_,ce.flatMap=L_,ce.flatMapDeep=M_,ce.flatMapDepth=P_,ce.flatten=ns,ce.flattenDeep=Dr,ce.flattenDepth=xu,ce.flip=K_,ce.flow=Y1,ce.flowRight=G1,ce.fromPairs=$c,ce.functions=Gy,ce.functionsIn=Zy,ce.groupBy=O_,ce.initial=Lb,ce.intersection=Mb,ce.intersectionBy=Pb,ce.intersectionWith=Ob,ce.invert=Vy,ce.invertBy=Ky,ce.invokeMap=R_,ce.iteratee=Bd,ce.keyBy=N_,ce.keys=Lr,ce.keysIn=yo,ce.map=rh,ce.mapKeys=Jy,ce.mapValues=e1,ce.matches=Z1,ce.matchesProperty=X1,ce.memoize=ah,ce.merge=t1,ce.mergeWith=Tm,ce.method=V1,ce.methodOf=K1,ce.mixin=$d,ce.negate=sh,ce.nthArg=J1,ce.omit=i1,ce.omitBy=n1,ce.once=Q_,ce.orderBy=z_,ce.over=ew,ce.overArgs=J_,ce.overEvery=tw,ce.overSome=iw,ce.partial=Pd,ce.partialRight=bm,ce.partition=I_,ce.pick=r1,ce.pickBy=Am,ce.property=Rm,ce.propertyOf=nw,ce.pull=zb,ce.pullAll=sm,ce.pullAllBy=Ib,ce.pullAllWith=Bb,ce.pullAt=$b,ce.range=rw,ce.rangeRight=ow,ce.rearg=ey,ce.reject=H_,ce.remove=Hb,ce.rest=ty,ce.reverse=Dd,ce.sampleSize=q_,ce.set=a1,ce.setWith=s1,ce.shuffle=j_,ce.slice=Wb,ce.sortBy=G_,ce.sortedUniq=Xb,ce.sortedUniqBy=Vb,ce.split=L1,ce.spread=iy,ce.tail=Kb,ce.take=Qb,ce.takeRight=Jb,ce.takeRightWhile=e_,ce.takeWhile=t_,ce.tap=g_,ce.throttle=ny,ce.thru=nh,ce.toArray=km,ce.toPairs=Dm,ce.toPairsIn=Lm,ce.toPath=cw,ce.toPlainObject=Em,ce.transform=u1,ce.unary=ry,ce.union=i_,ce.unionBy=n_,ce.unionWith=r_,ce.uniq=o_,ce.uniqBy=a_,ce.uniqWith=s_,ce.unset=l1,ce.unzip=Ld,ce.unzipWith=um,ce.update=c1,ce.updateWith=f1,ce.values=Ul,ce.valuesIn=h1,ce.without=u_,ce.words=Om,ce.wrap=oy,ce.xor=l_,ce.xorBy=c_,ce.xorWith=f_,ce.zip=h_,ce.zipObject=d_,ce.zipObjectDeep=p_,ce.zipWith=m_,ce.entries=Dm,ce.entriesIn=Lm,ce.extend=Sm,ce.extendWith=ch,$d(ce,ce),ce.add=hw,ce.attempt=Fm,ce.camelCase=g1,ce.capitalize=Mm,ce.ceil=dw,ce.clamp=d1,ce.clone=sy,ce.cloneDeep=ly,ce.cloneDeepWith=cy,ce.cloneWith=uy,ce.conformsTo=fy,ce.deburr=Pm,ce.defaultTo=U1,ce.divide=pw,ce.endsWith=v1,ce.eq=Aa,ce.escape=b1,ce.escapeRegExp=_1,ce.every=S_,ce.find=A_,ce.findIndex=ca,ce.findKey=Hy,ce.findLast=D_,ce.findLastIndex=is,ce.findLastKey=Wy,ce.floor=mw,ce.forEach=cm,ce.forEachRight=fm,ce.forIn=qy,ce.forInRight=jy,ce.forOwn=Uy,ce.forOwnRight=Yy,ce.get=Rd,ce.gt=hy,ce.gte=dy,ce.has=Xy,ce.hasIn=Nd,ce.head=am,ce.identity=wo,ce.includes=F_,ce.indexOf=Db,ce.inRange=p1,ce.invoke=Qy,ce.isArguments=sl,ce.isArray=mi,ce.isArrayBuffer=py,ce.isArrayLike=_o,ce.isArrayLikeObject=Jn,ce.isBoolean=my,ce.isBuffer=ku,ce.isDate=gy,ce.isElement=vy,ce.isEmpty=by,ce.isEqual=_y,ce.isEqualWith=yy,ce.isError=Od,ce.isFinite=wy,ce.isFunction=Os,ce.isInteger=_m,ce.isLength=uh,ce.isMap=ym,ce.isMatch=xy,ce.isMatchWith=ky,ce.isNaN=Cy,ce.isNative=Ey,ce.isNil=Ty,ce.isNull=Sy,ce.isNumber=wm,ce.isObject=Mn,ce.isObjectLike=Bn,ce.isPlainObject=Hc,ce.isRegExp=Fd,ce.isSafeInteger=Ay,ce.isSet=xm,ce.isString=lh,ce.isSymbol=Io,ce.isTypedArray=jl,ce.isUndefined=Dy,ce.isWeakMap=Ly,ce.isWeakSet=My,ce.join=Fb,ce.kebabCase=y1,ce.last=fa,ce.lastIndexOf=Rb,ce.lowerCase=w1,ce.lowerFirst=x1,ce.lt=Py,ce.lte=Oy,ce.max=gw,ce.maxBy=vw,ce.mean=bw,ce.meanBy=_w,ce.min=yw,ce.minBy=ww,ce.stubArray=Wd,ce.stubFalse=qd,ce.stubObject=aw,ce.stubString=sw,ce.stubTrue=uw,ce.multiply=xw,ce.nth=Nb,ce.noConflict=Q1,ce.noop=Hd,ce.now=oh,ce.pad=k1,ce.padEnd=C1,ce.padStart=E1,ce.parseInt=S1,ce.random=m1,ce.reduce=B_,ce.reduceRight=$_,ce.repeat=T1,ce.replace=A1,ce.result=o1,ce.round=kw,ce.runInContext=Ne,ce.sample=W_,ce.size=U_,ce.snakeCase=D1,ce.some=Y_,ce.sortedIndex=qb,ce.sortedIndexBy=jb,ce.sortedIndexOf=Ub,ce.sortedLastIndex=Yb,ce.sortedLastIndexBy=Gb,ce.sortedLastIndexOf=Zb,ce.startCase=M1,ce.startsWith=P1,ce.subtract=Cw,ce.sum=Ew,ce.sumBy=Sw,ce.template=O1,ce.times=lw,ce.toFinite=Fs,ce.toInteger=_i,ce.toLength=Cm,ce.toLower=F1,ce.toNumber=ha,ce.toSafeInteger=Fy,ce.toString=Vi,ce.toUpper=R1,ce.trim=N1,ce.trimEnd=z1,ce.trimStart=I1,ce.truncate=B1,ce.unescape=$1,ce.uniqueId=fw,ce.upperCase=H1,ce.upperFirst=zd,ce.each=cm,ce.eachRight=fm,ce.first=am,$d(ce,function(){var c={};return vo(ce,function(g,k){Ci.call(ce.prototype,k)||(c[k]=g)}),c}(),{chain:!1}),ce.VERSION=s,Ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){ce[c].placeholder=ce}),Ir(["drop","take"],function(c,g){Gt.prototype[c]=function(k){k=k===r?1:U(_i(k),0);var I=this.__filtered__&&!g?new Gt(this):this.clone();return I.__filtered__?I.__takeCount__=oe(k,I.__takeCount__):I.__views__.push({size:oe(k,Me),type:c+(I.__dir__<0?"Right":"")}),I},Gt.prototype[c+"Right"]=function(k){return this.reverse()[c](k).reverse()}}),Ir(["filter","map","takeWhile"],function(c,g){var k=g+1,I=k==re||k==se;Gt.prototype[c]=function(ee){var me=this.clone();return me.__iteratees__.push({iteratee:Xt(ee,3),type:k}),me.__filtered__=me.__filtered__||I,me}}),Ir(["head","last"],function(c,g){var k="take"+(g?"Right":"");Gt.prototype[c]=function(){return this[k](1).value()[0]}}),Ir(["initial","tail"],function(c,g){var k="drop"+(g?"":"Right");Gt.prototype[c]=function(){return this.__filtered__?new Gt(this):this[k](1)}}),Gt.prototype.compact=function(){return this.filter(wo)},Gt.prototype.find=function(c){return this.filter(c).head()},Gt.prototype.findLast=function(c){return this.reverse().find(c)},Gt.prototype.invokeMap=bi(function(c,g){return typeof c=="function"?new Gt(this):this.map(function(k){return lu(k,c,g)})}),Gt.prototype.reject=function(c){return this.filter(sh(Xt(c)))},Gt.prototype.slice=function(c,g){c=_i(c);var k=this;return k.__filtered__&&(c>0||g<0)?new Gt(k):(c<0?k=k.takeRight(-c):c&&(k=k.drop(c)),g!==r&&(g=_i(g),k=g<0?k.dropRight(-g):k.take(g-c)),k)},Gt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Gt.prototype.toArray=function(){return this.take(Me)},vo(Gt.prototype,function(c,g){var k=/^(?:filter|find|map|reject)|While$/.test(g),I=/^(?:head|last)$/.test(g),ee=ce[I?"take"+(g=="last"?"Right":""):g],me=I||/^find/.test(g);ee&&(ce.prototype[g]=function(){var Se=this.__wrapped__,Pe=I?[1]:arguments,$e=Se instanceof Gt,at=Pe[0],st=$e||mi(Se),ht=function(Ai){var Fi=ee.apply(ce,ho([Ai],Pe));return I&&Dt?Fi[0]:Fi};st&&k&&typeof at=="function"&&at.length!=1&&($e=st=!1);var Dt=this.__chain__,qt=!!this.__actions__.length,ei=me&&!Dt,ki=$e&&!qt;if(!me&&st){Se=ki?Se:new Gt(this);var ti=c.apply(Se,Pe);return ti.__actions__.push({func:nh,args:[ht],thisArg:r}),new Di(ti,Dt)}return ei&&ki?c.apply(this,Pe):(ti=this.thru(ht),ei?I?ti.value()[0]:ti.value():ti)})}),Ir(["pop","push","shift","sort","splice","unshift"],function(c){var g=eu[c],k=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",I=/^(?:pop|shift)$/.test(c);ce.prototype[c]=function(){var ee=arguments;if(I&&!this.__chain__){var me=this.value();return g.apply(mi(me)?me:[],ee)}return this[k](function(Se){return g.apply(mi(Se)?Se:[],ee)})}}),vo(Gt.prototype,function(c,g){var k=ce[g];if(k){var I=k.name+"";Ci.call(Gr,I)||(Gr[I]=[]),Gr[I].push({name:g,func:k})}}),Gr[Nl(r,M).name]=[{name:"wrapper",func:r}],Gt.prototype.clone=Tn,Gt.prototype.reverse=Wu,Gt.prototype.value=ad,ce.prototype.at=v_,ce.prototype.chain=b_,ce.prototype.commit=__,ce.prototype.next=y_,ce.prototype.plant=x_,ce.prototype.reverse=k_,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=C_,ce.prototype.first=ce.prototype.head,ia&&(ce.prototype[ia]=w_),ce},jr=Qo();zr?((zr.exports=jr)._=jr,gr._=jr):Ni._=jr}).call(mE)}(Kc,Kc.exports)),Kc.exports}var nf=gE();const cb={list:[],trans:null,selectedDrawer:null},vE={drawersGetById:t=>e=>t.list.find(r=>r.id===e),getDrawerFilters:t=>t.selectedDrawer?t.selectedDrawer.filters:null},bE={drawersAddInstance({commit:t},e){t(Av,{drawer:e})},drawersRemoveInstance({commit:t},e){t(Dv,{drawerToRemove:e})},drawersInitData({commit:t},{drawer:e,entity:r,ids:s,filters:u,maxLength:l,minLength:f,entityName:h}){if(t(Nv,{drawer:e,entity:r,ids:s,filters:u}),!s||s.length===0||!r)t(Iv,{drawer:e,maxLength:l,minLength:f});else{const b=s.map(x=>x&&x.document?x.document:x);ob(r,b,u).then(x=>{if(x&&h===Jv){const w={...x,items:s.map(function(S,O){return{document:x.items[O],hotspot:S.hotspot,imageCropAlignment:S.imageCropAlignment}})};t(yp,{drawer:e,result:w,maxLength:l,minLength:f});return}t(yp,{drawer:e,result:x,maxLength:l,minLength:f})}).catch(x=>{t(zv,{drawer:e,error:x})})}},drawersAddItem({commit:t,state:e},{drawer:r,item:s,newIndex:u}){let l=e.selectedDrawer;r&&(l=r),l.acceptMore&&t(Lv,{drawer:l,item:s,newIndex:u})},drawersMoveItem({commit:t},{drawer:e,item:r}){},drawersRemoveItem({commit:t},{drawer:e,item:r}){t(Mv,{drawer:e,item:r})},drawersExplorerButtonClick({commit:t,dispatch:e},r){t(Pv,{drawer:r}),cb.selectedDrawer.isActive?e("explorerOpen",{entity:r.entity}):e("explorerClose")},drawersDropzoneButtonClick({state:t,dispatch:e},r){r.isDropzoneEnable?e("drawersDisableDropzone",{drawer:r}):e("drawersEnableDropzone",{drawer:r})},drawersEnableDropzone({commit:t},{drawer:e}){t(Fv,{drawer:e})},drawersDisableDropzone({commit:t},{drawer:e}){t(Rv,{drawer:e})}},_E={[Av](t,{drawer:e}){t.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[Dv](t,{drawerToRemove:e}){t.list=nf.remove(t.list,r=>r._uid===e._uid)},[Pv](t,{drawer:e}){t.list.forEach(r=>{r!==e&&(r.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,t.selectedDrawer=e},[Lv](t,{drawer:e,item:r,newIndex:s=0}){e.items.push(r),e.acceptMore=e.items.length<e.maxLength},[Ov](t,{drawer:e,newList:r}){e.items=r,e.acceptMore=e.items.length<e.maxLength},[Mv](t,{drawer:e,item:r}){let s=e.items.indexOf(r);s>=0&&e.items.splice(s,1),e.acceptMore=e.items.length<e.maxLength},[$p](t){t=zg(t)},[yp](t,{drawer:e,result:r,maxLength:s,minLength:u}){e.isLoading=!1,e.items=r.items,e.trans=r.trans,e.maxLength=s,e.minLength=u,e.acceptMore=r.items.length<s},[Nv](t,{drawer:e,entity:r,filters:s}){e.isLoading=!0,e.entity=r,e.filters=s,e.currentListingView=xp.getListingView(r)},[zv](t,{drawer:e,error:r}){e.isLoading=!1,e.errorMessage=r.message},[Iv](t,{drawer:e,maxLength:r,minLength:s}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=r,e.minLength=s},[ds](t){t=zg(t)},[Fv](t,{drawer:e}){t.list.forEach(r=>{r.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[Rv](t,{drawer:e}){e.isDropzoneEnable=!1}};function zg(t){return t.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),t.selectedDrawer=null,t}const yE={state:cb,getters:vE,actions:bE,mutations:_E},wE={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},xE={...wE},kE={getFilterExplorerSelectedItem:t=>t.selectedItem},CE={filterExplorerOpen({commit:t,dispatch:e,getters:r}){const s=r.getExplorerEntity;t(yv,{entity:s}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:t,dispatch:e},{item:r}){t(Hp,{item:r}),e("explorerMakeSearch")},filterExplorerClose({commit:t}){t(wv)},filterExplorerReset({commit:t}){t(Cv)},filterExplorerToggle({dispatch:t,state:e}){e.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch({commit:t,state:e}){t(xv);const r=e.entity;return qp.getFilters({entity:r}).then(s=>{s?t(kv,{result:s}):t(vp)}).catch(s=>{t(vp,{error:s})})}},EE={[Hp](t,{item:e}){t.selectedItem=e},[xv](t){t.isLoading=!0},[kv](t,{result:e}){t.items=e.items,t.isLoading=!1},[yv](t,{entity:e}){switch(t.isOpen=!0,t.entity=e,e){case nc:t.icons.normal="uk-icon-folder",t.icons.active="uk-icon-folder-open";break;case vf:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break;case rc:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break}},[wv](t){t.isOpen=!1},[Cv](t){t.selectedItem=null,t.items=[]},[vp](t,{error:e}){t.isLoading=!1,t.error="Request failed"},[ds](t){t.isLoading=!1,t.isOpen=!1,t.selectedItem=null}},SE={state:xE,getters:kE,actions:CE,mutations:EE},TE={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},AE={tagsSearchExisting:t=>(e,r)=>t.isTagExisting},DE={tagCreatorReady({commit:t}){t(Wv)},tagsCreate({commit:t,dispatch:e},{tagName:r}){t(Bv,{tagName:r}),ib({tagName:r}).then(s=>{t($v,s),e("drawersAddItem",{item:s}),e("explorerResetSearchTerms")}).catch(s=>{t(Hv,s)})}},LE={[Wv](t){t.isReady=!0},[qh](t,{searchTerms:e}){t.searchTerms=e},[Bp](t,{result:e}){if(t.isTagExisting=!1,t.isReady&&t.searchTerms!=="")for(let r of e.items)r.name&&t.searchTerms&&r.name.toLowerCase()===t.searchTerms.toLowerCase()&&(t.isTagExisting=!0)},[Bv](t){t.isLoading=!0},[$v](t,e){t.isLoading=!1},[Hv](t,e){t.isLoading=!1,t.error=e.message}},ME={state:TE,getters:AE,actions:DE,mutations:LE},PE={document:null,isVisible:!1,isLoading:!1},OE={documentPreviewGetDocument:t=>t.document},FE={documentPreviewInit({commit:t},{document:e}){t(qv,{document:e})},documentPreviewDestroy({commit:t}){t(jv)},documentPreviewClose({commit:t}){t(Yv)},documentPreviewOpen({commit:t},{document:e}){t(Uv,{document:e})}},RE={[qv](t,{document:e}){e&&(t.document=e)},[jv](t){t.isVisible=!1,t.document=null},[Ev](t){t.document&&!t.isVisible?t.isVisible=!0:(t.isVisible=!1,t.document=null)},[ds](t){t.isVisible=!1,t.document=null},[Uv](t,{document:e}){e&&(t.document=e,t.isVisible=!0)},[Yv](t){t.isVisible=!1,t.document=null}},NE={state:PE,getters:OE,actions:FE,mutations:RE};function zE(t){let e=atob(t.split(",")[1]),r=[];for(let u=0;u<e.length;u++)r.push(e.charCodeAt(u));const s=t.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(r)],{type:s})}const IE={isLoading:!0,originalUrl:"",editor:null},BE={blanchetteEditorInit({commit:t,dispatch:e},{url:r,editor:s}){e("blanchetteEditorIsLoading"),t(Gv,{url:r,editor:s})},blanchetteEditorIsLoading({commit:t}){t(wp)},blanchetteEditorLoaded({commit:t}){t(Sh)},blanchetteEditorSave({commit:t,state:e},{url:r,filename:s}){const u=zE(r),l=e.editor.getElementsByTagName("form")[0];let f=new FormData(l);return f.append("form[editDocument]",u,s),t(wp),fC(f).then(async h=>{const b=await h.json();if(t(Sh),b&&b.path)window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:b.message,status:"success"}})),t(Xv,{path:b.path});else throw new Error("No path found")}).catch(async h=>{t(Zv,{error:await h.response.json()}),t(Sh)})}},$E={[Gv](t,{url:e,editor:r}){t.originalUrl=e,t.editor=r},[wp](t){t.isLoading=!0},[Zv](t,{error:e}){t.error=e.message},[Sh](t){t.isLoading=!1},[Xv](t,{path:e}){t.originalUrl=e}},HE={state:IE,actions:BE,mutations:$E};ec.use(M0);const mh=new M0.Store({modules:{nodesSourceSearch:RC,explorer:pE,filterExplorer:SE,drawers:yE,tags:ME,documentPreview:NE,blanchetteEditor:HE},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[Sv](t){t.connected=!0},[bp](t){t.connected=!1},[Tv](t){t.healthChecked=!0},[_p](t){t.healthChecked=!1}},actions:{escape({commit:t}){t(ds)}}});class WE{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.addEventListener("keyup",e=>{(e.key==="Escape"||e.keyCode===27)&&this.store.commit(ds)})}bindSpace(){window.addEventListener("keyup",e=>{if(!(!e.key==="Space"||!this.store.getters.documentPreviewGetDocument))return e.preventDefault(),this.store.commit(Ev,{event:e}),!1})}}class qE{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(bp):this.store.commit(_p);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(bp);return}(e.status===200||e.status===202)&&(this.store.commit(Sv),this.store.commit(Tv),this.check())}}catch{this.store.commit(_p)}},this.intervalDuration)}}const jE={data:function(){return{searchTerms:null}},computed:{...Fa({items:t=>t.nodesSourceSearch.items,isFocus:t=>t.nodesSourceSearch.isFocus,isOpen:t=>t.nodesSourceSearch.isOpen})},methods:{...Is(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),enableFocus:nf.debounce(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:nf.debounce(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(t){t&&t.key==="Escape"&&(t.preventDefault(),this.nodeSourceSearchEscape())}},watch:{searchTerms:nf.debounce(function(t,e){this.nodesSourceSearchUpdate(t,e)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:jp}},UE=null,YE=null;var GE=Fn(jE,UE,YE,!1,null,null);const ZE=GE.exports,XE={name:"rz-button",props:["isActive","callback"]};var VE=function(){var e=this,r=e._self._c;return r("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},KE=[],QE=Fn(XE,VE,KE,!1,null,null);const JE=QE.exports;var Ah={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dh=function(e){return typeof e}:Dh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function eS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ma(){return ma=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ma.apply(this,arguments)}function Fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable}))),s.forEach(function(u){eS(t,u,r[u])})}return t}function tS(t,e){if(t==null)return{};var r={},s=Object.keys(t),u,l;for(l=0;l<s.length;l++)u=s[l],!(e.indexOf(u)>=0)&&(r[u]=t[u]);return r}function iS(t,e){if(t==null)return{};var r=tS(t,e),s,u;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(u=0;u<l.length;u++)s=l[u],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function nS(t){return rS(t)||oS(t)||aS()}function rS(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function oS(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function aS(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var sS="1.10.2";function zs(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Bs=zs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),bf=zs(/Edge/i),Ig=zs(/firefox/i),kp=zs(/safari/i)&&!zs(/chrome/i)&&!zs(/android/i),fb=zs(/iP(ad|od|hone)/i),uS=zs(/chrome/i)&&zs(/android/i),hb={capture:!1,passive:!1};function Mi(t,e,r){t.addEventListener(e,r,!Bs&&hb)}function Ti(t,e,r){t.removeEventListener(e,r,!Bs&&hb)}function jh(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function lS(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Pa(t,e,r,s){if(t){r=r||document;do{if(e!=null&&(e[0]===">"?t.parentNode===r&&jh(t,e):jh(t,e))||s&&t===r)return t;if(t===r)break}while(t=lS(t))}return null}var Bg=/\s+/g;function On(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(Bg," ").replace(" "+e+" "," ");t.className=(s+(r?" "+e:"")).replace(Bg," ")}}function $t(t,e,r){var s=t&&t.style;if(s){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),e===void 0?r:r[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=r+(typeof r=="string"?"":"px")}}function dl(t,e){var r="";if(typeof t=="string")r=t;else do{var s=$t(t,"transform");s&&s!=="none"&&(r=s+" "+r)}while(!e&&(t=t.parentNode));var u=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return u&&new u(r)}function db(t,e,r){if(t){var s=t.getElementsByTagName(e),u=0,l=s.length;if(r)for(;u<l;u++)r(s[u],u);return s}return[]}function ls(){var t=document.scrollingElement;return t||document.documentElement}function Wn(t,e,r,s,u){if(!(!t.getBoundingClientRect&&t!==window)){var l,f,h,b,x,w,S;if(t!==window&&t!==ls()?(l=t.getBoundingClientRect(),f=l.top,h=l.left,b=l.bottom,x=l.right,w=l.height,S=l.width):(f=0,h=0,b=window.innerHeight,x=window.innerWidth,w=window.innerHeight,S=window.innerWidth),(e||r)&&t!==window&&(u=u||t.parentNode,!Bs))do if(u&&u.getBoundingClientRect&&($t(u,"transform")!=="none"||r&&$t(u,"position")!=="static")){var O=u.getBoundingClientRect();f-=O.top+parseInt($t(u,"border-top-width")),h-=O.left+parseInt($t(u,"border-left-width")),b=f+l.height,x=h+l.width;break}while(u=u.parentNode);if(s&&t!==window){var W=dl(u||t),N=W&&W.a,j=W&&W.d;W&&(f/=j,h/=N,S/=N,w/=j,b=f+w,x=h+S)}return{top:f,left:h,bottom:b,right:x,width:S,height:w}}}function $g(t,e,r){for(var s=Lu(t,!0),u=Wn(t)[e];s;){var l=Wn(s)[r],f=void 0;if(f=u>=l,!f)return s;if(s===ls())break;s=Lu(s,!1)}return!1}function Uh(t,e,r){for(var s=0,u=0,l=t.children;u<l.length;){if(l[u].style.display!=="none"&&l[u]!==ii.ghost&&l[u]!==ii.dragged&&Pa(l[u],r.draggable,t,!1)){if(s===e)return l[u];s++}u++}return null}function Up(t,e){for(var r=t.lastElementChild;r&&(r===ii.ghost||$t(r,"display")==="none"||e&&!jh(r,e));)r=r.previousElementSibling;return r||null}function Hn(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ii.clone&&(!e||jh(t,e))&&r++;return r}function Hg(t){var e=0,r=0,s=ls();if(t)do{var u=dl(t),l=u.a,f=u.d;e+=t.scrollLeft*l,r+=t.scrollTop*f}while(t!==s&&(t=t.parentNode));return[e,r]}function cS(t,e){for(var r in t)if(t.hasOwnProperty(r)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[r][s])return Number(r)}return-1}function Lu(t,e){if(!t||!t.getBoundingClientRect)return ls();var r=t,s=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var u=$t(r);if(r.clientWidth<r.scrollWidth&&(u.overflowX=="auto"||u.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(u.overflowY=="auto"||u.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ls();if(s||e)return r;s=!0}}while(r=r.parentNode);return ls()}function fS(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function ep(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var rf;function pb(t,e){return function(){if(!rf){var r=arguments,s=this;r.length===1?t.call(s,r[0]):t.apply(s,r),rf=setTimeout(function(){rf=void 0},e)}}}function hS(){clearTimeout(rf),rf=void 0}function mb(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function Yp(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function Wg(t,e){$t(t,"position","absolute"),$t(t,"top",e.top),$t(t,"left",e.left),$t(t,"width",e.width),$t(t,"height",e.height)}function tp(t){$t(t,"position",""),$t(t,"top",""),$t(t,"left",""),$t(t,"width",""),$t(t,"height","")}var Vr="Sortable"+new Date().getTime();function dS(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(u){if(!($t(u,"display")==="none"||u===ii.ghost)){t.push({target:u,rect:Wn(u)});var l=Fu({},t[t.length-1].rect);if(u.thisAnimationDuration){var f=dl(u,!0);f&&(l.top-=f.f,l.left-=f.e)}u.fromRect=l}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(cS(t,{target:s}),1)},animateAll:function(s){var u=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var l=!1,f=0;t.forEach(function(h){var b=0,x=h.target,w=x.fromRect,S=Wn(x),O=x.prevFromRect,W=x.prevToRect,N=h.rect,j=dl(x,!0);j&&(S.top-=j.f,S.left-=j.e),x.toRect=S,x.thisAnimationDuration&&ep(O,S)&&!ep(w,S)&&(N.top-S.top)/(N.left-S.left)===(w.top-S.top)/(w.left-S.left)&&(b=mS(N,O,W,u.options)),ep(S,w)||(x.prevFromRect=w,x.prevToRect=S,b||(b=u.options.animation),u.animate(x,N,S,b)),b&&(l=!0,f=Math.max(f,b),clearTimeout(x.animationResetTimer),x.animationResetTimer=setTimeout(function(){x.animationTime=0,x.prevFromRect=null,x.fromRect=null,x.prevToRect=null,x.thisAnimationDuration=null},b),x.thisAnimationDuration=b)}),clearTimeout(e),l?e=setTimeout(function(){typeof s=="function"&&s()},f):typeof s=="function"&&s(),t=[]},animate:function(s,u,l,f){if(f){$t(s,"transition",""),$t(s,"transform","");var h=dl(this.el),b=h&&h.a,x=h&&h.d,w=(u.left-l.left)/(b||1),S=(u.top-l.top)/(x||1);s.animatingX=!!w,s.animatingY=!!S,$t(s,"transform","translate3d("+w+"px,"+S+"px,0)"),pS(s),$t(s,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),$t(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){$t(s,"transition",""),$t(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},f)}}}}function pS(t){return t.offsetWidth}function mS(t,e,r,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*s.animation}var Wc=[],ip={initializeByDefault:!0},_f={mount:function(e){for(var r in ip)ip.hasOwnProperty(r)&&!(r in e)&&(e[r]=ip[r]);Wc.push(e)},pluginEvent:function(e,r,s){var u=this;this.eventCanceled=!1,s.cancel=function(){u.eventCanceled=!0};var l=e+"Global";Wc.forEach(function(f){r[f.pluginName]&&(r[f.pluginName][l]&&r[f.pluginName][l](Fu({sortable:r},s)),r.options[f.pluginName]&&r[f.pluginName][e]&&r[f.pluginName][e](Fu({sortable:r},s)))})},initializePlugins:function(e,r,s,u){Wc.forEach(function(h){var b=h.pluginName;if(!(!e.options[b]&&!h.initializeByDefault)){var x=new h(e,r,e.options);x.sortable=e,x.options=e.options,e[b]=x,ma(s,x.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var f=this.modifyOption(e,l,e.options[l]);typeof f<"u"&&(e.options[l]=f)}},getEventProperties:function(e,r){var s={};return Wc.forEach(function(u){typeof u.eventProperties=="function"&&ma(s,u.eventProperties.call(r[u.pluginName],e))}),s},modifyOption:function(e,r,s){var u;return Wc.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[r]=="function"&&(u=l.optionListeners[r].call(e[l.pluginName],s))}),u}};function Qc(t){var e=t.sortable,r=t.rootEl,s=t.name,u=t.targetEl,l=t.cloneEl,f=t.toEl,h=t.fromEl,b=t.oldIndex,x=t.newIndex,w=t.oldDraggableIndex,S=t.newDraggableIndex,O=t.originalEvent,W=t.putSortable,N=t.extraEventProperties;if(e=e||r&&r[Vr],!!e){var j,q=e.options,M="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Bs&&!bf?j=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(j=document.createEvent("Event"),j.initEvent(s,!0,!0)),j.to=f||r,j.from=h||r,j.item=u||r,j.clone=l,j.oldIndex=b,j.newIndex=x,j.oldDraggableIndex=w,j.newDraggableIndex=S,j.originalEvent=O,j.pullMode=W?W.lastPutMode:void 0;var E=Fu({},N,_f.getEventProperties(s,e));for(var D in E)j[D]=E[D];r&&r.dispatchEvent(j),q[M]&&q[M].call(e,j)}}var xo=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.evt,l=iS(s,["evt"]);_f.pluginEvent.bind(ii)(e,r,Fu({dragEl:kt,parentEl:cr,ghostEl:vi,rootEl:Pn,nextEl:cl,lastDownEl:Lh,cloneEl:$n,cloneHidden:Au,dragStarted:Jc,putSortable:Hr,activeSortable:ii.active,originalEvent:u,oldIndex:Kl,oldDraggableIndex:of,newIndex:qo,newDraggableIndex:Eu,hideGhostForTarget:_b,unhideGhostForTarget:yb,cloneNowHidden:function(){Au=!0},cloneNowShown:function(){Au=!1},dispatchSortableEvent:function(h){lo({sortable:r,name:h,originalEvent:u})}},l))};function lo(t){Qc(Fu({putSortable:Hr,cloneEl:$n,targetEl:kt,rootEl:Pn,oldIndex:Kl,oldDraggableIndex:of,newIndex:qo,newDraggableIndex:Eu},t))}var kt,cr,vi,Pn,cl,Lh,$n,Au,Kl,qo,of,Eu,gh,Hr,Vl=!1,Yh=!1,Gh=[],ul,La,np,rp,qg,jg,Jc,Zl,af,sf=!1,vh=!1,Mh,Xr,op=[],Cp=!1,Zh=[],rd=typeof document<"u",bh=fb,Ug=bf||Bs?"cssFloat":"float",gS=rd&&!uS&&!fb&&"draggable"in document.createElement("div"),gb=function(){if(rd){if(Bs)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),vb=function(e,r){var s=$t(e),u=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=Uh(e,0,r),f=Uh(e,1,r),h=l&&$t(l),b=f&&$t(f),x=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Wn(l).width,w=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+Wn(f).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&h.float&&h.float!=="none"){var S=h.float==="left"?"left":"right";return f&&(b.clear==="both"||b.clear===S)?"vertical":"horizontal"}return l&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||x>=u&&s[Ug]==="none"||f&&s[Ug]==="none"&&x+w>u)?"vertical":"horizontal"},vS=function(e,r,s){var u=s?e.left:e.top,l=s?e.right:e.bottom,f=s?e.width:e.height,h=s?r.left:r.top,b=s?r.right:r.bottom,x=s?r.width:r.height;return u===h||l===b||u+f/2===h+x/2},bS=function(e,r){var s;return Gh.some(function(u){if(!Up(u)){var l=Wn(u),f=u[Vr].options.emptyInsertThreshold,h=e>=l.left-f&&e<=l.right+f,b=r>=l.top-f&&r<=l.bottom+f;if(f&&h&&b)return s=u}}),s},bb=function(e){function r(l,f){return function(h,b,x,w){var S=h.options.group.name&&b.options.group.name&&h.options.group.name===b.options.group.name;if(l==null&&(f||S))return!0;if(l==null||l===!1)return!1;if(f&&l==="clone")return l;if(typeof l=="function")return r(l(h,b,x,w),f)(h,b,x,w);var O=(f?h:b).options.group.name;return l===!0||typeof l=="string"&&l===O||l.join&&l.indexOf(O)>-1}}var s={},u=e.group;(!u||Dh(u)!="object")&&(u={name:u}),s.name=u.name,s.checkPull=r(u.pull,!0),s.checkPut=r(u.put),s.revertClone=u.revertClone,e.group=s},_b=function(){!gb&&vi&&$t(vi,"display","none")},yb=function(){!gb&&vi&&$t(vi,"display","")};rd&&document.addEventListener("click",function(t){if(Yh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Yh=!1,!1},!0);var ll=function(e){if(kt){e=e.touches?e.touches[0]:e;var r=bS(e.clientX,e.clientY);if(r){var s={};for(var u in e)e.hasOwnProperty(u)&&(s[u]=e[u]);s.target=s.rootEl=r,s.preventDefault=void 0,s.stopPropagation=void 0,r[Vr]._onDragOver(s)}}},_S=function(e){kt&&kt.parentNode[Vr]._isOutsideThisEl(e.target)};function ii(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ma({},e),t[Vr]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vb(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,h){f.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ii.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};_f.initializePlugins(this,t,r);for(var s in r)!(s in e)&&(e[s]=r[s]);bb(e);for(var u in this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this));this.nativeDraggable=e.forceFallback?!1:gS,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Mi(t,"pointerdown",this._onTapStart):(Mi(t,"mousedown",this._onTapStart),Mi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mi(t,"dragover",this),Mi(t,"dragenter",this)),Gh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ma(this,dS())}ii.prototype={constructor:ii,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Zl=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,kt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var r=this,s=this.el,u=this.options,l=u.preventOnFilter,f=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,b=(h||e).target,x=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||b,w=u.filter;if(SS(s),!kt&&!(/mousedown|pointerdown/.test(f)&&e.button!==0||u.disabled)&&!x.isContentEditable&&(b=Pa(b,u.draggable,s,!1),!(b&&b.animated)&&Lh!==b)){if(Kl=Hn(b),of=Hn(b,u.draggable),typeof w=="function"){if(w.call(this,e,b,this)){lo({sortable:r,rootEl:x,name:"filter",targetEl:b,toEl:s,fromEl:s}),xo("filter",r,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(w&&(w=w.split(",").some(function(S){if(S=Pa(x,S.trim(),s,!1),S)return lo({sortable:r,rootEl:S,name:"filter",targetEl:b,fromEl:s,toEl:s}),xo("filter",r,{evt:e}),!0}),w)){l&&e.cancelable&&e.preventDefault();return}u.handle&&!Pa(x,u.handle,s,!1)||this._prepareDragStart(e,h,b)}}},_prepareDragStart:function(e,r,s){var u=this,l=u.el,f=u.options,h=l.ownerDocument,b;if(s&&!kt&&s.parentNode===l){var x=Wn(s);if(Pn=l,kt=s,cr=kt.parentNode,cl=kt.nextSibling,Lh=s,gh=f.group,ii.dragged=kt,ul={target:kt,clientX:(r||e).clientX,clientY:(r||e).clientY},qg=ul.clientX-x.left,jg=ul.clientY-x.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,kt.style["will-change"]="all",b=function(){if(xo("delayEnded",u,{evt:e}),ii.eventCanceled){u._onDrop();return}u._disableDelayedDragEvents(),!Ig&&u.nativeDraggable&&(kt.draggable=!0),u._triggerDragStart(e,r),lo({sortable:u,name:"choose",originalEvent:e}),On(kt,f.chosenClass,!0)},f.ignore.split(",").forEach(function(w){db(kt,w.trim(),sp)}),Mi(h,"dragover",ll),Mi(h,"mousemove",ll),Mi(h,"touchmove",ll),Mi(h,"mouseup",u._onDrop),Mi(h,"touchend",u._onDrop),Mi(h,"touchcancel",u._onDrop),Ig&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kt.draggable=!0),xo("delayStart",this,{evt:e}),f.delay&&(!f.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(bf||Bs))){if(ii.eventCanceled){this._onDrop();return}Mi(h,"mouseup",u._disableDelayedDrag),Mi(h,"touchend",u._disableDelayedDrag),Mi(h,"touchcancel",u._disableDelayedDrag),Mi(h,"mousemove",u._delayedDragTouchMoveHandler),Mi(h,"touchmove",u._delayedDragTouchMoveHandler),f.supportPointer&&Mi(h,"pointermove",u._delayedDragTouchMoveHandler),u._dragStartTimer=setTimeout(b,f.delay)}else b()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kt&&sp(kt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._disableDelayedDrag),Ti(e,"touchend",this._disableDelayedDrag),Ti(e,"touchcancel",this._disableDelayedDrag),Ti(e,"mousemove",this._delayedDragTouchMoveHandler),Ti(e,"touchmove",this._delayedDragTouchMoveHandler),Ti(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?Mi(document,"pointermove",this._onTouchMove):r?Mi(document,"touchmove",this._onTouchMove):Mi(document,"mousemove",this._onTouchMove):(Mi(kt,"dragend",this),Mi(Pn,"dragstart",this._onDragStart));try{document.selection?Ph(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if(Vl=!1,Pn&&kt){xo("dragStarted",this,{evt:r}),this.nativeDraggable&&Mi(document,"dragover",_S);var s=this.options;!e&&On(kt,s.dragClass,!1),On(kt,s.ghostClass,!0),ii.active=this,e&&this._appendGhost(),lo({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(La){this._lastX=La.clientX,this._lastY=La.clientY,_b();for(var e=document.elementFromPoint(La.clientX,La.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(La.clientX,La.clientY),e!==r);)r=e;if(kt.parentNode[Vr]._isOutsideThisEl(e),r)do{if(r[Vr]){var s=void 0;if(s=r[Vr]._onDragOver({clientX:La.clientX,clientY:La.clientY,target:e,rootEl:r}),s&&!this.options.dragoverBubble)break}e=r}while(r=r.parentNode);yb()}},_onTouchMove:function(e){if(ul){var r=this.options,s=r.fallbackTolerance,u=r.fallbackOffset,l=e.touches?e.touches[0]:e,f=vi&&dl(vi,!0),h=vi&&f&&f.a,b=vi&&f&&f.d,x=bh&&Xr&&Hg(Xr),w=(l.clientX-ul.clientX+u.x)/(h||1)+(x?x[0]-op[0]:0)/(h||1),S=(l.clientY-ul.clientY+u.y)/(b||1)+(x?x[1]-op[1]:0)/(b||1);if(!ii.active&&!Vl){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(vi){f?(f.e+=w-(np||0),f.f+=S-(rp||0)):f={a:1,b:0,c:0,d:1,e:w,f:S};var O="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");$t(vi,"webkitTransform",O),$t(vi,"mozTransform",O),$t(vi,"msTransform",O),$t(vi,"transform",O),np=w,rp=S,La=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!vi){var e=this.options.fallbackOnBody?document.body:Pn,r=Wn(kt,!0,bh,!0,e),s=this.options;if(bh){for(Xr=e;$t(Xr,"position")==="static"&&$t(Xr,"transform")==="none"&&Xr!==document;)Xr=Xr.parentNode;Xr!==document.body&&Xr!==document.documentElement?(Xr===document&&(Xr=ls()),r.top+=Xr.scrollTop,r.left+=Xr.scrollLeft):Xr=ls(),op=Hg(Xr)}vi=kt.cloneNode(!0),On(vi,s.ghostClass,!1),On(vi,s.fallbackClass,!0),On(vi,s.dragClass,!0),$t(vi,"transition",""),$t(vi,"transform",""),$t(vi,"box-sizing","border-box"),$t(vi,"margin",0),$t(vi,"top",r.top),$t(vi,"left",r.left),$t(vi,"width",r.width),$t(vi,"height",r.height),$t(vi,"opacity","0.8"),$t(vi,"position",bh?"absolute":"fixed"),$t(vi,"zIndex","100000"),$t(vi,"pointerEvents","none"),ii.ghost=vi,e.appendChild(vi),$t(vi,"transform-origin",qg/parseInt(vi.style.width)*100+"% "+jg/parseInt(vi.style.height)*100+"%")}},_onDragStart:function(e,r){var s=this,u=e.dataTransfer,l=s.options;if(xo("dragStart",this,{evt:e}),ii.eventCanceled){this._onDrop();return}xo("setupClone",this),ii.eventCanceled||($n=Yp(kt),$n.draggable=!1,$n.style["will-change"]="",this._hideClone(),On($n,this.options.chosenClass,!1),ii.clone=$n),s.cloneId=Ph(function(){xo("clone",s),!ii.eventCanceled&&(s.options.removeCloneOnHide||Pn.insertBefore($n,kt),s._hideClone(),lo({sortable:s,name:"clone"}))}),!r&&On(kt,l.dragClass,!0),r?(Yh=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Ti(document,"mouseup",s._onDrop),Ti(document,"touchend",s._onDrop),Ti(document,"touchcancel",s._onDrop),u&&(u.effectAllowed="move",l.setData&&l.setData.call(s,u,kt)),Mi(document,"drop",s),$t(kt,"transform","translateZ(0)")),Vl=!0,s._dragStartId=Ph(s._dragStarted.bind(s,r,e)),Mi(document,"selectstart",s),Jc=!0,kp&&$t(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,s=e.target,u,l,f,h=this.options,b=h.group,x=ii.active,w=gh===b,S=h.sort,O=Hr||x,W,N=this,j=!1;if(Cp)return;function q(ye,Ee){xo(ye,N,Fu({evt:e,isOwner:w,axis:W?"vertical":"horizontal",revert:f,dragRect:u,targetRect:l,canSort:S,fromSortable:O,target:s,completed:E,onMove:function(Be,Me){return ap(Pn,r,kt,u,Be,Wn(Be),e,Me)},changed:D},Ee))}function M(){q("dragOverAnimationCapture"),N.captureAnimationState(),N!==O&&O.captureAnimationState()}function E(ye){return q("dragOverCompleted",{insertion:ye}),ye&&(w?x._hideClone():x._showClone(N),N!==O&&(On(kt,Hr?Hr.options.ghostClass:x.options.ghostClass,!1),On(kt,h.ghostClass,!0)),Hr!==N&&N!==ii.active?Hr=N:N===ii.active&&Hr&&(Hr=null),O===N&&(N._ignoreWhileAnimating=s),N.animateAll(function(){q("dragOverAnimationComplete"),N._ignoreWhileAnimating=null}),N!==O&&(O.animateAll(),O._ignoreWhileAnimating=null)),(s===kt&&!kt.animated||s===r&&!s.animated)&&(Zl=null),!h.dragoverBubble&&!e.rootEl&&s!==document&&(kt.parentNode[Vr]._isOutsideThisEl(e.target),!ye&&ll(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),j=!0}function D(){qo=Hn(kt),Eu=Hn(kt,h.draggable),lo({sortable:N,name:"change",toEl:r,newIndex:qo,newDraggableIndex:Eu,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=Pa(s,h.draggable,r,!0),q("dragOver"),ii.eventCanceled)return j;if(kt.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||N._ignoreWhileAnimating===s)return E(!1);if(Yh=!1,x&&!h.disabled&&(w?S||(f=!Pn.contains(kt)):Hr===this||(this.lastPutMode=gh.checkPull(this,x,kt,e))&&b.checkPut(this,x,kt,e))){if(W=this._getDirection(e,s)==="vertical",u=Wn(kt),q("dragOverValid"),ii.eventCanceled)return j;if(f)return cr=Pn,M(),this._hideClone(),q("revert"),ii.eventCanceled||(cl?Pn.insertBefore(kt,cl):Pn.appendChild(kt)),E(!0);var B=Up(r,h.draggable);if(!B||xS(e,W,this)&&!B.animated){if(B===kt)return E(!1);if(B&&r===e.target&&(s=B),s&&(l=Wn(s)),ap(Pn,r,kt,u,s,l,e,!!s)!==!1)return M(),r.appendChild(kt),cr=r,D(),E(!0)}else if(s.parentNode===r){l=Wn(s);var z=0,V,ne=kt.parentNode!==r,ue=!vS(kt.animated&&kt.toRect||u,s.animated&&s.toRect||l,W),de=W?"top":"left",ge=$g(s,"top","top")||$g(kt,"top","top"),fe=ge?ge.scrollTop:void 0;Zl!==s&&(V=l[de],sf=!1,vh=!ue&&h.invertSwap||ne),z=kS(e,s,l,W,ue?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,vh,Zl===s);var De;if(z!==0){var ve=Hn(kt);do ve-=z,De=cr.children[ve];while(De&&($t(De,"display")==="none"||De===vi))}if(z===0||De===s)return E(!1);Zl=s,af=z;var re=s.nextElementSibling,P=!1;P=z===1;var se=ap(Pn,r,kt,u,s,l,e,P);if(se!==!1)return(se===1||se===-1)&&(P=se===1),Cp=!0,setTimeout(wS,30),M(),P&&!re?r.appendChild(kt):s.parentNode.insertBefore(kt,P?re:s),ge&&mb(ge,0,fe-ge.scrollTop),cr=kt.parentNode,V!==void 0&&!vh&&(Mh=Math.abs(V-Wn(s)[de])),D(),E(!0)}if(r.contains(kt))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ti(document,"mousemove",this._onTouchMove),Ti(document,"touchmove",this._onTouchMove),Ti(document,"pointermove",this._onTouchMove),Ti(document,"dragover",ll),Ti(document,"mousemove",ll),Ti(document,"touchmove",ll)},_offUpEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._onDrop),Ti(e,"touchend",this._onDrop),Ti(e,"pointerup",this._onDrop),Ti(e,"touchcancel",this._onDrop),Ti(document,"selectstart",this)},_onDrop:function(e){var r=this.el,s=this.options;if(qo=Hn(kt),Eu=Hn(kt,s.draggable),xo("drop",this,{evt:e}),cr=kt&&kt.parentNode,qo=Hn(kt),Eu=Hn(kt,s.draggable),ii.eventCanceled){this._nulling();return}Vl=!1,vh=!1,sf=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ep(this.cloneId),Ep(this._dragStartId),this.nativeDraggable&&(Ti(document,"drop",this),Ti(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kp&&$t(document.body,"user-select",""),$t(kt,"transform",""),e&&(Jc&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),vi&&vi.parentNode&&vi.parentNode.removeChild(vi),(Pn===cr||Hr&&Hr.lastPutMode!=="clone")&&$n&&$n.parentNode&&$n.parentNode.removeChild($n),kt&&(this.nativeDraggable&&Ti(kt,"dragend",this),sp(kt),kt.style["will-change"]="",Jc&&!Vl&&On(kt,Hr?Hr.options.ghostClass:this.options.ghostClass,!1),On(kt,this.options.chosenClass,!1),lo({sortable:this,name:"unchoose",toEl:cr,newIndex:null,newDraggableIndex:null,originalEvent:e}),Pn!==cr?(qo>=0&&(lo({rootEl:cr,name:"add",toEl:cr,fromEl:Pn,originalEvent:e}),lo({sortable:this,name:"remove",toEl:cr,originalEvent:e}),lo({rootEl:cr,name:"sort",toEl:cr,fromEl:Pn,originalEvent:e}),lo({sortable:this,name:"sort",toEl:cr,originalEvent:e})),Hr&&Hr.save()):qo!==Kl&&qo>=0&&(lo({sortable:this,name:"update",toEl:cr,originalEvent:e}),lo({sortable:this,name:"sort",toEl:cr,originalEvent:e})),ii.active&&((qo==null||qo===-1)&&(qo=Kl,Eu=of),lo({sortable:this,name:"end",toEl:cr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){xo("nulling",this),Pn=kt=cr=vi=cl=$n=Lh=Au=ul=La=Jc=qo=Eu=Kl=of=Zl=af=Hr=gh=ii.dragged=ii.ghost=ii.clone=ii.active=null,Zh.forEach(function(e){e.checked=!0}),Zh.length=np=rp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":kt&&(this._onDragOver(e),yS(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,s=this.el.children,u=0,l=s.length,f=this.options;u<l;u++)r=s[u],Pa(r,f.draggable,this.el,!1)&&e.push(r.getAttribute(f.dataIdAttr)||ES(r));return e},sort:function(e){var r={},s=this.el;this.toArray().forEach(function(u,l){var f=s.children[l];Pa(f,this.options.draggable,s,!1)&&(r[u]=f)},this),e.forEach(function(u){r[u]&&(s.removeChild(r[u]),s.appendChild(r[u]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return Pa(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var s=this.options;if(r===void 0)return s[e];var u=_f.modifyOption(this,e,r);typeof u<"u"?s[e]=u:s[e]=r,e==="group"&&bb(s)},destroy:function(){xo("destroy",this);var e=this.el;e[Vr]=null,Ti(e,"mousedown",this._onTapStart),Ti(e,"touchstart",this._onTapStart),Ti(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ti(e,"dragover",this),Ti(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Gh.splice(Gh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Au){if(xo("hideClone",this),ii.eventCanceled)return;$t($n,"display","none"),this.options.removeCloneOnHide&&$n.parentNode&&$n.parentNode.removeChild($n),Au=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Au){if(xo("showClone",this),ii.eventCanceled)return;Pn.contains(kt)&&!this.options.group.revertClone?Pn.insertBefore($n,kt):cl?Pn.insertBefore($n,cl):Pn.appendChild($n),this.options.group.revertClone&&this.animate(kt,$n),$t($n,"display",""),Au=!1}}};function yS(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function ap(t,e,r,s,u,l,f,h){var b,x=t[Vr],w=x.options.onMove,S;return window.CustomEvent&&!Bs&&!bf?b=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent("move",!0,!0)),b.to=e,b.from=t,b.dragged=r,b.draggedRect=s,b.related=u||e,b.relatedRect=l||Wn(e),b.willInsertAfter=h,b.originalEvent=f,t.dispatchEvent(b),w&&(S=w.call(x,b,f)),S}function sp(t){t.draggable=!1}function wS(){Cp=!1}function xS(t,e,r){var s=Wn(Up(r.el,r.options.draggable)),u=10;return e?t.clientX>s.right+u||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+u}function kS(t,e,r,s,u,l,f,h){var b=s?t.clientY:t.clientX,x=s?r.height:r.width,w=s?r.top:r.left,S=s?r.bottom:r.right,O=!1;if(!f){if(h&&Mh<x*u){if(!sf&&(af===1?b>w+x*l/2:b<S-x*l/2)&&(sf=!0),sf)O=!0;else if(af===1?b<w+Mh:b>S-Mh)return-af}else if(b>w+x*(1-u)/2&&b<S-x*(1-u)/2)return CS(e)}return O=O||f,O&&(b<w+x*l/2||b>S-x*l/2)?b>w+x/2?1:-1:0}function CS(t){return Hn(kt)<Hn(t)?1:-1}function ES(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,s=0;r--;)s+=e.charCodeAt(r);return s.toString(36)}function SS(t){Zh.length=0;for(var e=t.getElementsByTagName("input"),r=e.length;r--;){var s=e[r];s.checked&&Zh.push(s)}}function Ph(t){return setTimeout(t,0)}function Ep(t){return clearTimeout(t)}rd&&Mi(document,"touchmove",function(t){(ii.active||Vl)&&t.cancelable&&t.preventDefault()});ii.utils={on:Mi,off:Ti,css:$t,find:db,is:function(e,r){return!!Pa(e,r,e,!1)},extend:fS,throttle:pb,closest:Pa,toggleClass:On,clone:Yp,index:Hn,nextTick:Ph,cancelNextTick:Ep,detectDirection:vb,getChild:Uh};ii.get=function(t){return t[Vr]};ii.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(ii.utils=Fu({},ii.utils,s.utils)),_f.mount(s)})};ii.create=function(t,e){return new ii(t,e)};ii.version=sS;var fr=[],ef,Sp,Tp=!1,up,lp,Xh,tf;function TS(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(r){var s=r.originalEvent;this.sortable.nativeDraggable?Mi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mi(document,"pointermove",this._handleFallbackAutoScroll):s.touches?Mi(document,"touchmove",this._handleFallbackAutoScroll):Mi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var s=r.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Ti(document,"dragover",this._handleAutoScroll):(Ti(document,"pointermove",this._handleFallbackAutoScroll),Ti(document,"touchmove",this._handleFallbackAutoScroll),Ti(document,"mousemove",this._handleFallbackAutoScroll)),Yg(),Oh(),hS()},nulling:function(){Xh=Sp=ef=Tp=tf=up=lp=null,fr.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,s){var u=this,l=(r.touches?r.touches[0]:r).clientX,f=(r.touches?r.touches[0]:r).clientY,h=document.elementFromPoint(l,f);if(Xh=r,s||bf||Bs||kp){cp(r,this.options,h,s);var b=Lu(h,!0);Tp&&(!tf||l!==up||f!==lp)&&(tf&&Yg(),tf=setInterval(function(){var x=Lu(document.elementFromPoint(l,f),!0);x!==b&&(b=x,Oh()),cp(r,u.options,x,s)},10),up=l,lp=f)}else{if(!this.options.bubbleScroll||Lu(h,!0)===ls()){Oh();return}cp(r,this.options,Lu(h,!1),!1)}}},ma(t,{pluginName:"scroll",initializeByDefault:!0})}function Oh(){fr.forEach(function(t){clearInterval(t.pid)}),fr=[]}function Yg(){clearInterval(tf)}var cp=pb(function(t,e,r,s){if(e.scroll){var u=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,f=e.scrollSensitivity,h=e.scrollSpeed,b=ls(),x=!1,w;Sp!==r&&(Sp=r,Oh(),ef=e.scroll,w=e.scrollFn,ef===!0&&(ef=Lu(r,!0)));var S=0,O=ef;do{var W=O,N=Wn(W),j=N.top,q=N.bottom,M=N.left,E=N.right,D=N.width,B=N.height,z=void 0,V=void 0,ne=W.scrollWidth,ue=W.scrollHeight,de=$t(W),ge=W.scrollLeft,fe=W.scrollTop;W===b?(z=D<ne&&(de.overflowX==="auto"||de.overflowX==="scroll"||de.overflowX==="visible"),V=B<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"||de.overflowY==="visible")):(z=D<ne&&(de.overflowX==="auto"||de.overflowX==="scroll"),V=B<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"));var De=z&&(Math.abs(E-u)<=f&&ge+D<ne)-(Math.abs(M-u)<=f&&!!ge),ve=V&&(Math.abs(q-l)<=f&&fe+B<ue)-(Math.abs(j-l)<=f&&!!fe);if(!fr[S])for(var re=0;re<=S;re++)fr[re]||(fr[re]={});(fr[S].vx!=De||fr[S].vy!=ve||fr[S].el!==W)&&(fr[S].el=W,fr[S].vx=De,fr[S].vy=ve,clearInterval(fr[S].pid),(De!=0||ve!=0)&&(x=!0,fr[S].pid=setInterval((function(){s&&this.layer===0&&ii.active._onTouchMove(Xh);var P=fr[this.layer].vy?fr[this.layer].vy*h:0,se=fr[this.layer].vx?fr[this.layer].vx*h:0;typeof w=="function"&&w.call(ii.dragged.parentNode[Vr],se,P,t,Xh,fr[this.layer].el)!=="continue"||mb(fr[this.layer].el,se,P)}).bind({layer:S}),24))),S++}while(e.bubbleScroll&&O!==b&&(O=Lu(O,!1)));Tp=x}},30),wb=function(e){var r=e.originalEvent,s=e.putSortable,u=e.dragEl,l=e.activeSortable,f=e.dispatchSortableEvent,h=e.hideGhostForTarget,b=e.unhideGhostForTarget;if(r){var x=s||l;h();var w=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,S=document.elementFromPoint(w.clientX,w.clientY);b(),x&&!x.el.contains(S)&&(f("spill"),this.onSpill({dragEl:u,putSortable:s}))}};function Gp(){}Gp.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var u=Uh(this.sortable.el,this.startIndex,this.options);u?this.sortable.el.insertBefore(r,u):this.sortable.el.appendChild(r),this.sortable.animateAll(),s&&s.animateAll()},drop:wb};ma(Gp,{pluginName:"revertOnSpill"});function Zp(){}Zp.prototype={onSpill:function(e){var r=e.dragEl,s=e.putSortable,u=s||this.sortable;u.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),u.animateAll()},drop:wb};ma(Zp,{pluginName:"removeOnSpill"});var da;function AS(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(r){var s=r.dragEl;da=s},dragOverValid:function(r){var s=r.completed,u=r.target,l=r.onMove,f=r.activeSortable,h=r.changed,b=r.cancel;if(f.options.swap){var x=this.sortable.el,w=this.options;if(u&&u!==x){var S=da;l(u)!==!1?(On(u,w.swapClass,!0),da=u):da=null,S&&S!==da&&On(S,w.swapClass,!1)}h(),s(!0),b()}},drop:function(r){var s=r.activeSortable,u=r.putSortable,l=r.dragEl,f=u||this.sortable,h=this.options;da&&On(da,h.swapClass,!1),da&&(h.swap||u&&u.options.swap)&&l!==da&&(f.captureAnimationState(),f!==s&&s.captureAnimationState(),DS(l,da),f.animateAll(),f!==s&&s.animateAll())},nulling:function(){da=null}},ma(t,{pluginName:"swap",eventProperties:function(){return{swapItem:da}}})}function DS(t,e){var r=t.parentNode,s=e.parentNode,u,l;!r||!s||r.isEqualNode(e)||s.isEqualNode(t)||(u=Hn(t),l=Hn(e),r.isEqualNode(s)&&u<l&&l++,r.insertBefore(e,r.children[u]),s.insertBefore(t,s.children[l]))}var di=[],Wo=[],qc,Ma,jc=!1,Ho=!1,Xl=!1,ln,Uc,_h;function LS(){function t(e){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));e.options.supportPointer?Mi(document,"pointerup",this._deselectMultiDrag):(Mi(document,"mouseup",this._deselectMultiDrag),Mi(document,"touchend",this._deselectMultiDrag)),Mi(document,"keydown",this._checkKeyDown),Mi(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(u,l){var f="";di.length&&Ma===e?di.forEach(function(h,b){f+=(b?", ":"")+h.textContent}):f=l.textContent,u.setData("Text",f)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var s=r.dragEl;ln=s},delayEnded:function(){this.isMultiDrag=~di.indexOf(ln)},setupClone:function(r){var s=r.sortable,u=r.cancel;if(this.isMultiDrag){for(var l=0;l<di.length;l++)Wo.push(Yp(di[l])),Wo[l].sortableIndex=di[l].sortableIndex,Wo[l].draggable=!1,Wo[l].style["will-change"]="",On(Wo[l],this.options.selectedClass,!1),di[l]===ln&&On(Wo[l],this.options.chosenClass,!1);s._hideClone(),u()}},clone:function(r){var s=r.sortable,u=r.rootEl,l=r.dispatchSortableEvent,f=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||di.length&&Ma===s&&(Gg(!0,u),l("clone"),f()))},showClone:function(r){var s=r.cloneNowShown,u=r.rootEl,l=r.cancel;this.isMultiDrag&&(Gg(!1,u),Wo.forEach(function(f){$t(f,"display","")}),s(),_h=!1,l())},hideClone:function(r){var s=this;r.sortable;var u=r.cloneNowHidden,l=r.cancel;this.isMultiDrag&&(Wo.forEach(function(f){$t(f,"display","none"),s.options.removeCloneOnHide&&f.parentNode&&f.parentNode.removeChild(f)}),u(),_h=!0,l())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&Ma&&Ma.multiDrag._deselectMultiDrag(),di.forEach(function(s){s.sortableIndex=Hn(s)}),di=di.sort(function(s,u){return s.sortableIndex-u.sortableIndex}),Xl=!0},dragStarted:function(r){var s=this,u=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(u.captureAnimationState(),this.options.animation)){di.forEach(function(f){f!==ln&&$t(f,"position","absolute")});var l=Wn(ln,!1,!0,!0);di.forEach(function(f){f!==ln&&Wg(f,l)}),Ho=!0,jc=!0}u.animateAll(function(){Ho=!1,jc=!1,s.options.animation&&di.forEach(function(f){tp(f)}),s.options.sort&&yh()})}},dragOver:function(r){var s=r.target,u=r.completed,l=r.cancel;Ho&&~di.indexOf(s)&&(u(!1),l())},revert:function(r){var s=r.fromSortable,u=r.rootEl,l=r.sortable,f=r.dragRect;di.length>1&&(di.forEach(function(h){l.addAnimationState({target:h,rect:Ho?Wn(h):f}),tp(h),h.fromRect=f,s.removeAnimationState(h)}),Ho=!1,MS(!this.options.removeCloneOnHide,u))},dragOverCompleted:function(r){var s=r.sortable,u=r.isOwner,l=r.insertion,f=r.activeSortable,h=r.parentEl,b=r.putSortable,x=this.options;if(l){if(u&&f._hideClone(),jc=!1,x.animation&&di.length>1&&(Ho||!u&&!f.options.sort&&!b)){var w=Wn(ln,!1,!0,!0);di.forEach(function(O){O!==ln&&(Wg(O,w),h.appendChild(O))}),Ho=!0}if(!u)if(Ho||yh(),di.length>1){var S=_h;f._showClone(s),f.options.animation&&!_h&&S&&Wo.forEach(function(O){f.addAnimationState({target:O,rect:Uc}),O.fromRect=Uc,O.thisAnimationDuration=null})}else f._showClone(s)}},dragOverAnimationCapture:function(r){var s=r.dragRect,u=r.isOwner,l=r.activeSortable;if(di.forEach(function(h){h.thisAnimationDuration=null}),l.options.animation&&!u&&l.multiDrag.isMultiDrag){Uc=ma({},s);var f=dl(ln,!0);Uc.top-=f.f,Uc.left-=f.e}},dragOverAnimationComplete:function(){Ho&&(Ho=!1,yh())},drop:function(r){var s=r.originalEvent,u=r.rootEl,l=r.parentEl,f=r.sortable,h=r.dispatchSortableEvent,b=r.oldIndex,x=r.putSortable,w=x||this.sortable;if(s){var S=this.options,O=l.children;if(!Xl)if(S.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),On(ln,S.selectedClass,!~di.indexOf(ln)),~di.indexOf(ln))di.splice(di.indexOf(ln),1),qc=null,Qc({sortable:f,rootEl:u,name:"deselect",targetEl:ln});else{if(di.push(ln),Qc({sortable:f,rootEl:u,name:"select",targetEl:ln}),s.shiftKey&&qc&&f.el.contains(qc)){var W=Hn(qc),N=Hn(ln);if(~W&&~N&&W!==N){var j,q;for(N>W?(q=W,j=N):(q=N,j=W+1);q<j;q++)~di.indexOf(O[q])||(On(O[q],S.selectedClass,!0),di.push(O[q]),Qc({sortable:f,rootEl:u,name:"select",targetEl:O[q]}))}}else qc=ln;Ma=w}if(Xl&&this.isMultiDrag){if((l[Vr].options.sort||l!==u)&&di.length>1){var M=Wn(ln),E=Hn(ln,":not(."+this.options.selectedClass+")");if(!jc&&S.animation&&(ln.thisAnimationDuration=null),w.captureAnimationState(),!jc&&(S.animation&&(ln.fromRect=M,di.forEach(function(B){if(B.thisAnimationDuration=null,B!==ln){var z=Ho?Wn(B):M;B.fromRect=z,w.addAnimationState({target:B,rect:z})}})),yh(),di.forEach(function(B){O[E]?l.insertBefore(B,O[E]):l.appendChild(B),E++}),b===Hn(ln))){var D=!1;di.forEach(function(B){if(B.sortableIndex!==Hn(B)){D=!0;return}}),D&&h("update")}di.forEach(function(B){tp(B)}),w.animateAll()}Ma=w}(u===l||x&&x.lastPutMode!=="clone")&&Wo.forEach(function(B){B.parentNode&&B.parentNode.removeChild(B)})}},nullingGlobal:function(){this.isMultiDrag=Xl=!1,Wo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ti(document,"pointerup",this._deselectMultiDrag),Ti(document,"mouseup",this._deselectMultiDrag),Ti(document,"touchend",this._deselectMultiDrag),Ti(document,"keydown",this._checkKeyDown),Ti(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Xl<"u"&&Xl)&&Ma===this.sortable&&!(r&&Pa(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;di.length;){var s=di[0];On(s,this.options.selectedClass,!1),di.shift(),Qc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ma(t,{pluginName:"multiDrag",utils:{select:function(r){var s=r.parentNode[Vr];!s||!s.options.multiDrag||~di.indexOf(r)||(Ma&&Ma!==s&&(Ma.multiDrag._deselectMultiDrag(),Ma=s),On(r,s.options.selectedClass,!0),di.push(r))},deselect:function(r){var s=r.parentNode[Vr],u=di.indexOf(r);!s||!s.options.multiDrag||!~u||(On(r,s.options.selectedClass,!1),di.splice(u,1))}},eventProperties:function(){var r=this,s=[],u=[];return di.forEach(function(l){s.push({multiDragElement:l,index:l.sortableIndex});var f;Ho&&l!==ln?f=-1:Ho?f=Hn(l,":not(."+r.options.selectedClass+")"):f=Hn(l),u.push({multiDragElement:l,index:f})}),{items:nS(di),clones:[].concat(Wo),oldIndicies:s,newIndicies:u}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function MS(t,e){di.forEach(function(r,s){var u=e.children[r.sortableIndex+(t?Number(s):0)];u?e.insertBefore(r,u):e.appendChild(r)})}function Gg(t,e){Wo.forEach(function(r,s){var u=e.children[r.sortableIndex+(t?Number(s):0)];u?e.insertBefore(r,u):e.appendChild(r)})}function yh(){di.forEach(function(t){t!==ln&&t.parentNode&&t.parentNode.removeChild(t)})}ii.mount(new TS);ii.mount(Zp,Gp);const PS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:LS,Sortable:ii,Swap:AS,default:ii},Symbol.toStringTag,{value:"Module"})),OS=L0(PS);var FS=Ah.exports,Zg;function RS(){return Zg||(Zg=1,function(t,e){(function(s,u){t.exports=u(OS)})(typeof self<"u"?self:FS,function(r){return function(s){var u={};function l(f){if(u[f])return u[f].exports;var h=u[f]={i:f,l:!1,exports:{}};return s[f].call(h.exports,h,h.exports,l),h.l=!0,h.exports}return l.m=s,l.c=u,l.d=function(f,h,b){l.o(f,h)||Object.defineProperty(f,h,{enumerable:!0,get:b})},l.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},l.t=function(f,h){if(h&1&&(f=l(f)),h&8||h&4&&typeof f=="object"&&f&&f.__esModule)return f;var b=Object.create(null);if(l.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:f}),h&2&&typeof f!="string")for(var x in f)l.d(b,x,(function(w){return f[w]}).bind(null,x));return b},l.n=function(f){var h=f&&f.__esModule?function(){return f.default}:function(){return f};return l.d(h,"a",h),h},l.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)},l.p="",l(l.s="fb15")}({"01f9":function(s,u,l){var f=l("2d00"),h=l("5ca1"),b=l("2aba"),x=l("32e9"),w=l("84f2"),S=l("41a0"),O=l("7f20"),W=l("38fd"),N=l("2b4c")("iterator"),j=!([].keys&&"next"in[].keys()),q="@@iterator",M="keys",E="values",D=function(){return this};s.exports=function(B,z,V,ne,ue,de,ge){S(V,z,ne);var fe=function(Y){if(!j&&Y in P)return P[Y];switch(Y){case M:return function(){return new V(this,Y)};case E:return function(){return new V(this,Y)}}return function(){return new V(this,Y)}},De=z+" Iterator",ve=ue==E,re=!1,P=B.prototype,se=P[N]||P[q]||ue&&P[ue],ye=se||fe(ue),Ee=ue?ve?fe("entries"):ye:void 0,it=z=="Array"&&P.entries||se,Be,Me,te;if(it&&(te=W(it.call(new B)),te!==Object.prototype&&te.next&&(O(te,De,!0),!f&&typeof te[N]!="function"&&x(te,N,D))),ve&&se&&se.name!==E&&(re=!0,ye=function(){return se.call(this)}),(!f||ge)&&(j||re||!P[N])&&x(P,N,ye),w[z]=ye,w[De]=D,ue)if(Be={values:ve?ye:fe(E),keys:de?ye:fe(M),entries:Ee},ge)for(Me in Be)Me in P||b(P,Me,Be[Me]);else h(h.P+h.F*(j||re),z,Be);return Be}},"02f4":function(s,u,l){var f=l("4588"),h=l("be13");s.exports=function(b){return function(x,w){var S=String(h(x)),O=f(w),W=S.length,N,j;return O<0||O>=W?b?"":void 0:(N=S.charCodeAt(O),N<55296||N>56319||O+1===W||(j=S.charCodeAt(O+1))<56320||j>57343?b?S.charAt(O):N:b?S.slice(O,O+2):(N-55296<<10)+(j-56320)+65536)}}},"0390":function(s,u,l){var f=l("02f4")(!0);s.exports=function(h,b,x){return b+(x?f(h,b).length:1)}},"0bfb":function(s,u,l){var f=l("cb7c");s.exports=function(){var h=f(this),b="";return h.global&&(b+="g"),h.ignoreCase&&(b+="i"),h.multiline&&(b+="m"),h.unicode&&(b+="u"),h.sticky&&(b+="y"),b}},"0d58":function(s,u,l){var f=l("ce10"),h=l("e11e");s.exports=Object.keys||function(x){return f(x,h)}},1495:function(s,u,l){var f=l("86cc"),h=l("cb7c"),b=l("0d58");s.exports=l("9e1e")?Object.defineProperties:function(w,S){h(w);for(var O=b(S),W=O.length,N=0,j;W>N;)f.f(w,j=O[N++],S[j]);return w}},"214f":function(s,u,l){l("b0c5");var f=l("2aba"),h=l("32e9"),b=l("79e5"),x=l("be13"),w=l("2b4c"),S=l("520a"),O=w("species"),W=!b(function(){var j=/./;return j.exec=function(){var q=[];return q.groups={a:"7"},q},"".replace(j,"$<a>")!=="7"}),N=function(){var j=/(?:)/,q=j.exec;j.exec=function(){return q.apply(this,arguments)};var M="ab".split(j);return M.length===2&&M[0]==="a"&&M[1]==="b"}();s.exports=function(j,q,M){var E=w(j),D=!b(function(){var de={};return de[E]=function(){return 7},""[j](de)!=7}),B=D?!b(function(){var de=!1,ge=/a/;return ge.exec=function(){return de=!0,null},j==="split"&&(ge.constructor={},ge.constructor[O]=function(){return ge}),ge[E](""),!de}):void 0;if(!D||!B||j==="replace"&&!W||j==="split"&&!N){var z=/./[E],V=M(x,E,""[j],function(ge,fe,De,ve,re){return fe.exec===S?D&&!re?{done:!0,value:z.call(fe,De,ve)}:{done:!0,value:ge.call(De,fe,ve)}:{done:!1}}),ne=V[0],ue=V[1];f(String.prototype,j,ne),h(RegExp.prototype,E,q==2?function(de,ge){return ue.call(de,this,ge)}:function(de){return ue.call(de,this)})}}},"230e":function(s,u,l){var f=l("d3f4"),h=l("7726").document,b=f(h)&&f(h.createElement);s.exports=function(x){return b?h.createElement(x):{}}},"23c6":function(s,u,l){var f=l("2d95"),h=l("2b4c")("toStringTag"),b=f(function(){return arguments}())=="Arguments",x=function(w,S){try{return w[S]}catch{}};s.exports=function(w){var S,O,W;return w===void 0?"Undefined":w===null?"Null":typeof(O=x(S=Object(w),h))=="string"?O:b?f(S):(W=f(S))=="Object"&&typeof S.callee=="function"?"Arguments":W}},2621:function(s,u){u.f=Object.getOwnPropertySymbols},"2aba":function(s,u,l){var f=l("7726"),h=l("32e9"),b=l("69a8"),x=l("ca5a")("src"),w=l("fa5b"),S="toString",O=(""+w).split(S);l("8378").inspectSource=function(W){return w.call(W)},(s.exports=function(W,N,j,q){var M=typeof j=="function";M&&(b(j,"name")||h(j,"name",N)),W[N]!==j&&(M&&(b(j,x)||h(j,x,W[N]?""+W[N]:O.join(String(N)))),W===f?W[N]=j:q?W[N]?W[N]=j:h(W,N,j):(delete W[N],h(W,N,j)))})(Function.prototype,S,function(){return typeof this=="function"&&this[x]||w.call(this)})},"2aeb":function(s,u,l){var f=l("cb7c"),h=l("1495"),b=l("e11e"),x=l("613b")("IE_PROTO"),w=function(){},S="prototype",O=function(){var W=l("230e")("iframe"),N=b.length,j="<",q=">",M;for(W.style.display="none",l("fab2").appendChild(W),W.src="javascript:",M=W.contentWindow.document,M.open(),M.write(j+"script"+q+"document.F=Object"+j+"/script"+q),M.close(),O=M.F;N--;)delete O[S][b[N]];return O()};s.exports=Object.create||function(N,j){var q;return N!==null?(w[S]=f(N),q=new w,w[S]=null,q[x]=N):q=O(),j===void 0?q:h(q,j)}},"2b4c":function(s,u,l){var f=l("5537")("wks"),h=l("ca5a"),b=l("7726").Symbol,x=typeof b=="function",w=s.exports=function(S){return f[S]||(f[S]=x&&b[S]||(x?b:h)("Symbol."+S))};w.store=f},"2d00":function(s,u){s.exports=!1},"2d95":function(s,u){var l={}.toString;s.exports=function(f){return l.call(f).slice(8,-1)}},"2fdb":function(s,u,l){var f=l("5ca1"),h=l("d2c8"),b="includes";f(f.P+f.F*l("5147")(b),"String",{includes:function(w){return!!~h(this,w,b).indexOf(w,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(s,u,l){var f=l("86cc"),h=l("4630");s.exports=l("9e1e")?function(b,x,w){return f.f(b,x,h(1,w))}:function(b,x,w){return b[x]=w,b}},"38fd":function(s,u,l){var f=l("69a8"),h=l("4bf8"),b=l("613b")("IE_PROTO"),x=Object.prototype;s.exports=Object.getPrototypeOf||function(w){return w=h(w),f(w,b)?w[b]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?x:null}},"41a0":function(s,u,l){var f=l("2aeb"),h=l("4630"),b=l("7f20"),x={};l("32e9")(x,l("2b4c")("iterator"),function(){return this}),s.exports=function(w,S,O){w.prototype=f(x,{next:h(1,O)}),b(w,S+" Iterator")}},"456d":function(s,u,l){var f=l("4bf8"),h=l("0d58");l("5eda")("keys",function(){return function(x){return h(f(x))}})},4588:function(s,u){var l=Math.ceil,f=Math.floor;s.exports=function(h){return isNaN(h=+h)?0:(h>0?f:l)(h)}},4630:function(s,u){s.exports=function(l,f){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:f}}},"4bf8":function(s,u,l){var f=l("be13");s.exports=function(h){return Object(f(h))}},5147:function(s,u,l){var f=l("2b4c")("match");s.exports=function(h){var b=/./;try{"/./"[h](b)}catch{try{return b[f]=!1,!"/./"[h](b)}catch{}}return!0}},"520a":function(s,u,l){var f=l("0bfb"),h=RegExp.prototype.exec,b=String.prototype.replace,x=h,w="lastIndex",S=function(){var N=/a/,j=/b*/g;return h.call(N,"a"),h.call(j,"a"),N[w]!==0||j[w]!==0}(),O=/()??/.exec("")[1]!==void 0,W=S||O;W&&(x=function(j){var q=this,M,E,D,B;return O&&(E=new RegExp("^"+q.source+"$(?!\\s)",f.call(q))),S&&(M=q[w]),D=h.call(q,j),S&&D&&(q[w]=q.global?D.index+D[0].length:M),O&&D&&D.length>1&&b.call(D[0],E,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(D[B]=void 0)}),D}),s.exports=x},"52a7":function(s,u){u.f={}.propertyIsEnumerable},5537:function(s,u,l){var f=l("8378"),h=l("7726"),b="__core-js_shared__",x=h[b]||(h[b]={});(s.exports=function(w,S){return x[w]||(x[w]=S!==void 0?S:{})})("versions",[]).push({version:f.version,mode:l("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(s,u,l){var f=l("7726"),h=l("8378"),b=l("32e9"),x=l("2aba"),w=l("9b43"),S="prototype",O=function(W,N,j){var q=W&O.F,M=W&O.G,E=W&O.S,D=W&O.P,B=W&O.B,z=M?f:E?f[N]||(f[N]={}):(f[N]||{})[S],V=M?h:h[N]||(h[N]={}),ne=V[S]||(V[S]={}),ue,de,ge,fe;M&&(j=N);for(ue in j)de=!q&&z&&z[ue]!==void 0,ge=(de?z:j)[ue],fe=B&&de?w(ge,f):D&&typeof ge=="function"?w(Function.call,ge):ge,z&&x(z,ue,ge,W&O.U),V[ue]!=ge&&b(V,ue,fe),D&&ne[ue]!=ge&&(ne[ue]=ge)};f.core=h,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128,s.exports=O},"5eda":function(s,u,l){var f=l("5ca1"),h=l("8378"),b=l("79e5");s.exports=function(x,w){var S=(h.Object||{})[x]||Object[x],O={};O[x]=w(S),f(f.S+f.F*b(function(){S(1)}),"Object",O)}},"5f1b":function(s,u,l){var f=l("23c6"),h=RegExp.prototype.exec;s.exports=function(b,x){var w=b.exec;if(typeof w=="function"){var S=w.call(b,x);if(typeof S!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return S}if(f(b)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return h.call(b,x)}},"613b":function(s,u,l){var f=l("5537")("keys"),h=l("ca5a");s.exports=function(b){return f[b]||(f[b]=h(b))}},"626a":function(s,u,l){var f=l("2d95");s.exports=Object("z").propertyIsEnumerable(0)?Object:function(h){return f(h)=="String"?h.split(""):Object(h)}},6762:function(s,u,l){var f=l("5ca1"),h=l("c366")(!0);f(f.P,"Array",{includes:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}}),l("9c6c")("includes")},6821:function(s,u,l){var f=l("626a"),h=l("be13");s.exports=function(b){return f(h(b))}},"69a8":function(s,u){var l={}.hasOwnProperty;s.exports=function(f,h){return l.call(f,h)}},"6a99":function(s,u,l){var f=l("d3f4");s.exports=function(h,b){if(!f(h))return h;var x,w;if(b&&typeof(x=h.toString)=="function"&&!f(w=x.call(h))||typeof(x=h.valueOf)=="function"&&!f(w=x.call(h))||!b&&typeof(x=h.toString)=="function"&&!f(w=x.call(h)))return w;throw TypeError("Can't convert object to primitive value")}},7333:function(s,u,l){var f=l("0d58"),h=l("2621"),b=l("52a7"),x=l("4bf8"),w=l("626a"),S=Object.assign;s.exports=!S||l("79e5")(function(){var O={},W={},N=Symbol(),j="abcdefghijklmnopqrst";return O[N]=7,j.split("").forEach(function(q){W[q]=q}),S({},O)[N]!=7||Object.keys(S({},W)).join("")!=j})?function(W,N){for(var j=x(W),q=arguments.length,M=1,E=h.f,D=b.f;q>M;)for(var B=w(arguments[M++]),z=E?f(B).concat(E(B)):f(B),V=z.length,ne=0,ue;V>ne;)D.call(B,ue=z[ne++])&&(j[ue]=B[ue]);return j}:S},7726:function(s,u){var l=s.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=l)},"77f1":function(s,u,l){var f=l("4588"),h=Math.max,b=Math.min;s.exports=function(x,w){return x=f(x),x<0?h(x+w,0):b(x,w)}},"79e5":function(s,u){s.exports=function(l){try{return!!l()}catch{return!0}}},"7f20":function(s,u,l){var f=l("86cc").f,h=l("69a8"),b=l("2b4c")("toStringTag");s.exports=function(x,w,S){x&&!h(x=S?x:x.prototype,b)&&f(x,b,{configurable:!0,value:w})}},8378:function(s,u){var l=s.exports={version:"2.6.5"};typeof __e=="number"&&(__e=l)},"84f2":function(s,u){s.exports={}},"86cc":function(s,u,l){var f=l("cb7c"),h=l("c69a"),b=l("6a99"),x=Object.defineProperty;u.f=l("9e1e")?Object.defineProperty:function(S,O,W){if(f(S),O=b(O,!0),f(W),h)try{return x(S,O,W)}catch{}if("get"in W||"set"in W)throw TypeError("Accessors not supported!");return"value"in W&&(S[O]=W.value),S}},"9b43":function(s,u,l){var f=l("d8e8");s.exports=function(h,b,x){if(f(h),b===void 0)return h;switch(x){case 1:return function(w){return h.call(b,w)};case 2:return function(w,S){return h.call(b,w,S)};case 3:return function(w,S,O){return h.call(b,w,S,O)}}return function(){return h.apply(b,arguments)}}},"9c6c":function(s,u,l){var f=l("2b4c")("unscopables"),h=Array.prototype;h[f]==null&&l("32e9")(h,f,{}),s.exports=function(b){h[f][b]=!0}},"9def":function(s,u,l){var f=l("4588"),h=Math.min;s.exports=function(b){return b>0?h(f(b),9007199254740991):0}},"9e1e":function(s,u,l){s.exports=!l("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(s,u){s.exports=r},a481:function(s,u,l){var f=l("cb7c"),h=l("4bf8"),b=l("9def"),x=l("4588"),w=l("0390"),S=l("5f1b"),O=Math.max,W=Math.min,N=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,q=/\$([$&`']|\d\d?)/g,M=function(E){return E===void 0?E:String(E)};l("214f")("replace",2,function(E,D,B,z){return[function(ue,de){var ge=E(this),fe=ue==null?void 0:ue[D];return fe!==void 0?fe.call(ue,ge,de):B.call(String(ge),ue,de)},function(ne,ue){var de=z(B,ne,this,ue);if(de.done)return de.value;var ge=f(ne),fe=String(this),De=typeof ue=="function";De||(ue=String(ue));var ve=ge.global;if(ve){var re=ge.unicode;ge.lastIndex=0}for(var P=[];;){var se=S(ge,fe);if(se===null||(P.push(se),!ve))break;var ye=String(se[0]);ye===""&&(ge.lastIndex=w(fe,b(ge.lastIndex),re))}for(var Ee="",it=0,Be=0;Be<P.length;Be++){se=P[Be];for(var Me=String(se[0]),te=O(W(x(se.index),fe.length),0),Y=[],Le=1;Le<se.length;Le++)Y.push(M(se[Le]));var Re=se.groups;if(De){var X=[Me].concat(Y,te,fe);Re!==void 0&&X.push(Re);var we=String(ue.apply(void 0,X))}else we=V(Me,fe,te,Y,Re,ue);te>=it&&(Ee+=fe.slice(it,te)+we,it=te+Me.length)}return Ee+fe.slice(it)}];function V(ne,ue,de,ge,fe,De){var ve=de+ne.length,re=ge.length,P=q;return fe!==void 0&&(fe=h(fe),P=j),B.call(De,P,function(se,ye){var Ee;switch(ye.charAt(0)){case"$":return"$";case"&":return ne;case"`":return ue.slice(0,de);case"'":return ue.slice(ve);case"<":Ee=fe[ye.slice(1,-1)];break;default:var it=+ye;if(it===0)return se;if(it>re){var Be=N(it/10);return Be===0?se:Be<=re?ge[Be-1]===void 0?ye.charAt(1):ge[Be-1]+ye.charAt(1):se}Ee=ge[it-1]}return Ee===void 0?"":Ee})}})},aae3:function(s,u,l){var f=l("d3f4"),h=l("2d95"),b=l("2b4c")("match");s.exports=function(x){var w;return f(x)&&((w=x[b])!==void 0?!!w:h(x)=="RegExp")}},ac6a:function(s,u,l){for(var f=l("cadf"),h=l("0d58"),b=l("2aba"),x=l("7726"),w=l("32e9"),S=l("84f2"),O=l("2b4c"),W=O("iterator"),N=O("toStringTag"),j=S.Array,q={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},M=h(q),E=0;E<M.length;E++){var D=M[E],B=q[D],z=x[D],V=z&&z.prototype,ne;if(V&&(V[W]||w(V,W,j),V[N]||w(V,N,D),S[D]=j,B))for(ne in f)V[ne]||b(V,ne,f[ne],!0)}},b0c5:function(s,u,l){var f=l("520a");l("5ca1")({target:"RegExp",proto:!0,forced:f!==/./.exec},{exec:f})},be13:function(s,u){s.exports=function(l){if(l==null)throw TypeError("Can't call method on  "+l);return l}},c366:function(s,u,l){var f=l("6821"),h=l("9def"),b=l("77f1");s.exports=function(x){return function(w,S,O){var W=f(w),N=h(W.length),j=b(O,N),q;if(x&&S!=S){for(;N>j;)if(q=W[j++],q!=q)return!0}else for(;N>j;j++)if((x||j in W)&&W[j]===S)return x||j||0;return!x&&-1}}},c649:function(s,u,l){(function(f){l.d(u,"c",function(){return W}),l.d(u,"a",function(){return S}),l.d(u,"b",function(){return b}),l.d(u,"d",function(){return O}),l("a481");function h(){return typeof window<"u"?window.console:f.console}var b=h();function x(N){var j=Object.create(null);return function(M){var E=j[M];return E||(j[M]=N(M))}}var w=/-(\w)/g,S=x(function(N){return N.replace(w,function(j,q){return q?q.toUpperCase():""})});function O(N){N.parentElement!==null&&N.parentElement.removeChild(N)}function W(N,j,q){var M=q===0?N.children[0]:N.children[q-1].nextSibling;N.insertBefore(j,M)}}).call(this,l("c8ba"))},c69a:function(s,u,l){s.exports=!l("9e1e")&&!l("79e5")(function(){return Object.defineProperty(l("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(s,u){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}s.exports=l},ca5a:function(s,u){var l=0,f=Math.random();s.exports=function(h){return"Symbol(".concat(h===void 0?"":h,")_",(++l+f).toString(36))}},cadf:function(s,u,l){var f=l("9c6c"),h=l("d53b"),b=l("84f2"),x=l("6821");s.exports=l("01f9")(Array,"Array",function(w,S){this._t=x(w),this._i=0,this._k=S},function(){var w=this._t,S=this._k,O=this._i++;return!w||O>=w.length?(this._t=void 0,h(1)):S=="keys"?h(0,O):S=="values"?h(0,w[O]):h(0,[O,w[O]])},"values"),b.Arguments=b.Array,f("keys"),f("values"),f("entries")},cb7c:function(s,u,l){var f=l("d3f4");s.exports=function(h){if(!f(h))throw TypeError(h+" is not an object!");return h}},ce10:function(s,u,l){var f=l("69a8"),h=l("6821"),b=l("c366")(!1),x=l("613b")("IE_PROTO");s.exports=function(w,S){var O=h(w),W=0,N=[],j;for(j in O)j!=x&&f(O,j)&&N.push(j);for(;S.length>W;)f(O,j=S[W++])&&(~b(N,j)||N.push(j));return N}},d2c8:function(s,u,l){var f=l("aae3"),h=l("be13");s.exports=function(b,x,w){if(f(x))throw TypeError("String#"+w+" doesn't accept regex!");return String(h(b))}},d3f4:function(s,u){s.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},d53b:function(s,u){s.exports=function(l,f){return{value:f,done:!!l}}},d8e8:function(s,u){s.exports=function(l){if(typeof l!="function")throw TypeError(l+" is not a function!");return l}},e11e:function(s,u){s.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(s,u,l){var f=l("5ca1"),h=l("9def"),b=l("d2c8"),x="startsWith",w=""[x];f(f.P+f.F*l("5147")(x),"String",{startsWith:function(O){var W=b(this,O,x),N=h(Math.min(arguments.length>1?arguments[1]:void 0,W.length)),j=String(O);return w?w.call(W,j,N):W.slice(N,N+j.length)===j}})},f6fd:function(s,u){(function(l){var f="currentScript",h=l.getElementsByTagName("script");f in l||Object.defineProperty(l,f,{get:function(){try{throw new Error}catch(w){var b,x=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(w.stack)||[!1])[1];for(b in h)if(h[b].src==x||h[b].readyState=="interactive")return h[b];return null}}})})(document)},f751:function(s,u,l){var f=l("5ca1");f(f.S+f.F,"Object",{assign:l("7333")})},fa5b:function(s,u,l){s.exports=l("5537")("native-function-to-string",Function.toString)},fab2:function(s,u,l){var f=l("7726").document;s.exports=f&&f.documentElement},fb15:function(s,u,l){if(l.r(u),typeof window<"u"){l("f6fd");var f;(f=window.document.currentScript)&&(f=f.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(l.p=f[1])}l("f751"),l("f559"),l("ac6a"),l("cadf"),l("456d");function h(Me){if(Array.isArray(Me))return Me}function b(Me,te){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Me)))){var Y=[],Le=!0,Re=!1,X=void 0;try{for(var we=Me[Symbol.iterator](),Te;!(Le=(Te=we.next()).done)&&(Y.push(Te.value),!(te&&Y.length===te));Le=!0);}catch(qe){Re=!0,X=qe}finally{try{!Le&&we.return!=null&&we.return()}finally{if(Re)throw X}}return Y}}function x(Me,te){(te==null||te>Me.length)&&(te=Me.length);for(var Y=0,Le=new Array(te);Y<te;Y++)Le[Y]=Me[Y];return Le}function w(Me,te){if(Me){if(typeof Me=="string")return x(Me,te);var Y=Object.prototype.toString.call(Me).slice(8,-1);if(Y==="Object"&&Me.constructor&&(Y=Me.constructor.name),Y==="Map"||Y==="Set")return Array.from(Me);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return x(Me,te)}}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(Me,te){return h(Me)||b(Me,te)||w(Me,te)||S()}l("6762"),l("2fdb");function W(Me){if(Array.isArray(Me))return x(Me)}function N(Me){if(typeof Symbol<"u"&&Symbol.iterator in Object(Me))return Array.from(Me)}function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(Me){return W(Me)||N(Me)||w(Me)||j()}var M=l("a352"),E=l.n(M),D=l("c649");function B(Me,te,Y){return Y===void 0||(Me=Me||{},Me[te]=Y),Me}function z(Me,te){return Me.map(function(Y){return Y.elm}).indexOf(te)}function V(Me,te,Y,Le){if(!Me)return[];var Re=Me.map(function(Te){return Te.elm}),X=te.length-Le,we=q(te).map(function(Te,qe){return qe>=X?Re.length:Re.indexOf(Te)});return Y?we.filter(function(Te){return Te!==-1}):we}function ne(Me,te){var Y=this;this.$nextTick(function(){return Y.$emit(Me.toLowerCase(),te)})}function ue(Me){var te=this;return function(Y){te.realList!==null&&te["onDrag"+Me](Y),ne.call(te,Me,Y)}}function de(Me){return["transition-group","TransitionGroup"].includes(Me)}function ge(Me){if(!Me||Me.length!==1)return!1;var te=O(Me,1),Y=te[0].componentOptions;return Y?de(Y.tag):!1}function fe(Me,te,Y){return Me[Y]||(te[Y]?te[Y]():void 0)}function De(Me,te,Y){var Le=0,Re=0,X=fe(te,Y,"header");X&&(Le=X.length,Me=Me?[].concat(q(X),q(Me)):q(X));var we=fe(te,Y,"footer");return we&&(Re=we.length,Me=Me?[].concat(q(Me),q(we)):q(we)),{children:Me,headerOffset:Le,footerOffset:Re}}function ve(Me,te){var Y=null,Le=function(Ze,Xe){Y=B(Y,Ze,Xe)},Re=Object.keys(Me).filter(function(qe){return qe==="id"||qe.startsWith("data-")}).reduce(function(qe,Ze){return qe[Ze]=Me[Ze],qe},{});if(Le("attrs",Re),!te)return Y;var X=te.on,we=te.props,Te=te.attrs;return Le("on",X),Le("props",we),Object.assign(Y.attrs,Te),Y}var re=["Start","Add","Remove","Update","End"],P=["Choose","Unchoose","Sort","Filter","Clone"],se=["Move"].concat(re,P).map(function(Me){return"on"+Me}),ye=null,Ee={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(te){return te}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},it={name:"draggable",inheritAttrs:!1,props:Ee,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(te){var Y=this.$slots.default;this.transitionMode=ge(Y);var Le=De(Y,this.$slots,this.$scopedSlots),Re=Le.children,X=Le.headerOffset,we=Le.footerOffset;this.headerOffset=X,this.footerOffset=we;var Te=ve(this.$attrs,this.componentData);return te(this.getTag(),Te,Re)},created:function(){this.list!==null&&this.value!==null&&D.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&D.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&D.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var te=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var Y={};re.forEach(function(X){Y["on"+X]=ue.call(te,X)}),P.forEach(function(X){Y["on"+X]=ne.bind(te,X)});var Le=Object.keys(this.$attrs).reduce(function(X,we){return X[Object(D.a)(we)]=te.$attrs[we],X},{}),Re=Object.assign({},this.options,Le,Y,{onMove:function(we,Te){return te.onDragMove(we,Te)}});!("draggable"in Re)&&(Re.draggable=">*"),this._sortable=new E.a(this.rootContainer,Re),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(te){this.updateOptions(te)},deep:!0},$attrs:{handler:function(te){this.updateOptions(te)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var te=this._vnode.fnOptions;return te&&te.functional},getTag:function(){return this.tag||this.element},updateOptions:function(te){for(var Y in te){var Le=Object(D.a)(Y);se.indexOf(Le)===-1&&this._sortable.option(Le,te[Y])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var te=this.$slots.default;return this.transitionMode?te[0].child.$slots.default:te},computeIndexes:function(){var te=this;this.$nextTick(function(){te.visibleIndexes=V(te.getChildrenNodes(),te.rootContainer.children,te.transitionMode,te.footerOffset)})},getUnderlyingVm:function(te){var Y=z(this.getChildrenNodes()||[],te);if(Y===-1)return null;var Le=this.realList[Y];return{index:Y,element:Le}},getUnderlyingPotencialDraggableComponent:function(te){var Y=te.__vue__;return!Y||!Y.$options||!de(Y.$options._componentTag)?!("realList"in Y)&&Y.$children.length===1&&"realList"in Y.$children[0]?Y.$children[0]:Y:Y.$parent},emitChanges:function(te){var Y=this;this.$nextTick(function(){Y.$emit("change",te)})},alterList:function(te){if(this.list){te(this.list);return}var Y=q(this.value);te(Y),this.$emit("input",Y)},spliceList:function(){var te=arguments,Y=function(Re){return Re.splice.apply(Re,q(te))};this.alterList(Y)},updatePosition:function(te,Y){var Le=function(X){return X.splice(Y,0,X.splice(te,1)[0])};this.alterList(Le)},getRelatedContextFromMoveEvent:function(te){var Y=te.to,Le=te.related,Re=this.getUnderlyingPotencialDraggableComponent(Y);if(!Re)return{component:Re};var X=Re.realList,we={list:X,component:Re};if(Y!==Le&&X&&Re.getUnderlyingVm){var Te=Re.getUnderlyingVm(Le);if(Te)return Object.assign(Te,we)}return we},getVmIndex:function(te){var Y=this.visibleIndexes,Le=Y.length;return te>Le-1?Le:Y[te]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(te){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var Y=this.getChildrenNodes();Y[te].data=null;var Le=this.getComponent();Le.children=[],Le.kept=void 0}},onDragStart:function(te){this.context=this.getUnderlyingVm(te.item),te.item._underlying_vm_=this.clone(this.context.element),ye=te.item},onDragAdd:function(te){var Y=te.item._underlying_vm_;if(Y!==void 0){Object(D.d)(te.item);var Le=this.getVmIndex(te.newIndex);this.spliceList(Le,0,Y),this.computeIndexes();var Re={element:Y,newIndex:Le};this.emitChanges({added:Re})}},onDragRemove:function(te){if(Object(D.c)(this.rootContainer,te.item,te.oldIndex),te.pullMode==="clone"){Object(D.d)(te.clone);return}var Y=this.context.index;this.spliceList(Y,1);var Le={element:this.context.element,oldIndex:Y};this.resetTransitionData(Y),this.emitChanges({removed:Le})},onDragUpdate:function(te){Object(D.d)(te.item),Object(D.c)(te.from,te.item,te.oldIndex);var Y=this.context.index,Le=this.getVmIndex(te.newIndex);this.updatePosition(Y,Le);var Re={element:this.context.element,oldIndex:Y,newIndex:Le};this.emitChanges({moved:Re})},updateProperty:function(te,Y){te.hasOwnProperty(Y)&&(te[Y]+=this.headerOffset)},computeFutureIndex:function(te,Y){if(!te.element)return 0;var Le=q(Y.to.children).filter(function(Te){return Te.style.display!=="none"}),Re=Le.indexOf(Y.related),X=te.component.getVmIndex(Re),we=Le.indexOf(ye)!==-1;return we||!Y.willInsertAfter?X:X+1},onDragMove:function(te,Y){var Le=this.move;if(!Le||!this.realList)return!0;var Re=this.getRelatedContextFromMoveEvent(te),X=this.context,we=this.computeFutureIndex(Re,te);Object.assign(X,{futureIndex:we});var Te=Object.assign({},te,{relatedContext:Re,draggedContext:X});return Le(Te,Y)},onDragEnd:function(){this.computeIndexes(),ye=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",it);var Be=it;u.default=Be}}).default})}(Ah)),Ah.exports}var NS=RS();const xb=df(NS),zS={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(t,e){this.dropzone.options[t]=e},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(t){this.dropzone.removeFile(t)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted(){if(this.$isServer)return;let t=document.getElementById(this.id);if(fl.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new fl(t,this.dropzoneOptions);else{this.dropzone=new fl(t,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:{_token:window.RozierConfig.ajaxToken,...this.headers},dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:(l,f)=>{let h;f.error?h=f.error:h="Error",l.previewElement.classList.add("dz-error");let b=l.previewElement.querySelectorAll("[data-dz-errormessage]"),x=[];for(let w=0,S=b.length;w<S;w++){let O=b[w];x.push(O.textContent=h)}return x}});const r=t;r.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.language.dictDefaultMessage}</span></div>`),r.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
                <div class="circles-icons">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <i class="uk-icon-rz-file"></i>
                </div>
            `)}const e=this;this.dropzone.on("thumbnail",function(r){e.$emit("vdropzone-thumbnail",r)}),this.dropzone.on("addedfile",function(r){e.$emit("vdropzone-file-added",r)}),this.dropzone.on("removedfile",function(r){e.$emit("vdropzone-removed-file",r)}),this.dropzone.on("success",async function(r,s){if(e.$emit("vdropzone-success",r,s),r.previewElement){let u=r.previewElement;await uc(3e3),await Pu(u,500)}}),this.dropzone.on("successmultiple",function(r,s){e.$emit("vdropzone-success-multiple",r,s)}),this.dropzone.on("error",function(r,s,u){e.$emit("vdropzone-error",r,s,u)}),this.dropzone.on("sending",function(r,s,u){e.$emit("vdropzone-sending",r,s,u),s.ontimeout=()=>{console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(r,s,u){e.$emit("vdropzone-sending-multiple",r,s,u)}),this.dropzone.on("queuecomplete",function(r,s,u){e.$emit("vdropzone-queue-complete",r,s,u)})},beforeDestroy(){this.dropzone.destroy()}};var IS=function(){var e=this,r=e._self._c;return r("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:e.url,id:e.id}})},BS=[],$S=Fn(zS,IS,BS,!1,null,null);const HS=$S.exports,WS={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null,documentEditDialog:null}),mounted(){this.drawersAddInstance(this),ec.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name");let t=this.ids,e=this.entity;t||(t=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const r=this.$refs.drawer.getAttribute("data-is-sortable"),s=this.$refs.drawer.getAttribute("data-min-length"),u=this.$refs.drawer.getAttribute("data-max-length"),l=u?parseInt(u,10):9999,f=s?parseInt(s,10):0;this.groupName=e,this.isSortable=r==="true";const h=this.$refs.drawer.getAttribute("data-nodetypes"),b=this.$refs.drawer.getAttribute("data-nodetypefield"),x=this.$refs.drawer.getAttribute("data-nodetypename"),w=this.$refs.drawer.getAttribute("data-provider-class"),S=this.$refs.drawer.getAttribute("data-locale"),O=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),W={nodeTypes:h,nodeTypeField:b,providerClass:w,providerOptions:O,nodeTypeName:x,_locale:S};this.drawersInitData({drawer:this.drawer,entity:e,ids:t,filters:W,maxLength:l,minLength:f,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...Fa({isActive:function(){let t=this.$store.getters.drawersGetById(this._uid);return t?t.isActive:!1},trans:t=>t.drawers.trans,currentListingView:t=>t.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer.items},set(t){this.$store.commit(Ov,{drawer:this.drawer,newList:t})}}},methods:{...Is(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(t){this.drawersRemoveItem({drawer:this.drawer,item:t})},addItem:function(t,e=null){this.drawersAddItem({drawer:this.drawer,item:t,newIndex:e})},showSuccess:function(t,e){this.entityName===Jv?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(t,e,r){console.error(t),console.error(e),console.error(r)},onEditItem(t){const e=document.createElement("document-edit-dialog");e.setAttribute("template-path",this.$el.getAttribute("data-document-alignment-template-path")),e.setAttribute("title",t.document.classname),e.setAttribute("edit-url",t.document.editItem+"?referer="+window.location.pathname),e.setAttribute("image-path",t.document.editImageUrl),e.setAttribute("image-width",t.document.editImageWidth),e.setAttribute("image-height",t.document.editImageHeight),e.setAttribute("input-base-name",`${this.drawerName}[${t.index}]`),e.setAttribute("open",""),t.document.originalHotspot&&e.setAttribute("original-hotspot",JSON.stringify(t.document.originalHotspot)),document.body.appendChild(e)}},components:{RzButton:JE,draggable:xb,Dropzone:HS}},qS=null,jS=null;var US=Fn(WS,qS,jS,!1,null,null);const YS=US.exports,GS={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}};var ZS=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?r("div",{staticClass:"widget-explorer-nextpage",on:{click:function(s){return s.preventDefault(),e.loadMoreItems.apply(null,arguments)}}},[e.isLoadingMore?[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner light"})])]:[r("i",{staticClass:"uk-icon-plus"}),r("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},XS=[],VS=Fn(GS,ZS,XS,!1,null,null);const KS=VS.exports,QS={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}};var JS=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?r("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},eT=[],tT=Fn(QS,JS,eT,!1,null,null);const iT=tT.exports,nT={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}};var rT=function(){var e=this,r=e._self._c;return r("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[r("i",{class:e.icon}),e.filterExplorerSelectedItems?r("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},oT=[],aT=Fn(nT,rT,oT,!1,null,null);const sT=aT.exports,uT={data:()=>({searchPlaceHolder:""}),computed:{...Fa({isLoadingMore:t=>t.explorer.isLoadingMore,isLoading:t=>t.explorer.isLoading,isOpen:t=>t.explorer.isOpen,items:t=>t.explorer.items,filters:t=>t.explorer.filters,moreItems:t=>t.explorer.trans.moreItems,translations:t=>t.translations,entity:t=>t.explorer.entity,isFilterExplorerOpen:t=>t.filterExplorer.isOpen,filterExplorerSelectedItems:t=>t.filterExplorer.selectedItem,currentListingView:t=>t.explorer.currentListingView,widgetView:t=>t.explorer.widgetView,isFilterEnable:t=>t.explorer.isFilterEnable,filterExplorerIcon:t=>t.explorer.filterExplorerIcon,entityClass:t=>"entity-"+t.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:nf.debounce(function(t){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:t})},450)}},methods:{...Is(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(t){this.drawersAddItem({item:t})}},components:{LoadMoreButton:KS,ExplorerItemsInfos:iT,FilterExplorerButton:sT,draggable:xb}};var lT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left"}},[e.isOpen?r("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[r("div",{staticClass:"widget-explorer-wrapper"},[r("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?r("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),r("div",{staticClass:"widget-explorer-search"},[r("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(s){s.preventDefault()}}},[r("div",{staticClass:"uk-form-icon"},[r("i",{staticClass:"uk-icon-search"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:(s.stopPropagation(),s.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(s){s.target.composing||(e.searchTerms=s.target.value)}}})])])]),r("div",{staticClass:"widget-explorer-close",on:{click:function(s){return s.preventDefault(),e.explorerClose.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e.isLoading?r("div",{staticClass:"spinner light"}):e._e(),r("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():r("ul",{staticClass:"uk-sortable"},[r("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(s){e.items=s},expression:"items"}},[r("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(s,u){return r(e.currentListingView,{key:s.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:u,item:s}})}),1)],1)],1)]),e.filters?r("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e.filters?r("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),r(e.widgetView,{tag:"component"})],1)]):e._e()])},cT=[],fT=Fn(uT,lT,cT,!1,null,null);const hT=fT.exports,dT={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var pT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade-in"}},[e.item?r("li",{staticClass:"item"},[r("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onItemClick(e.item)}}},[r("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),r("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),r("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(s,u){return r("filter-explorer-item",{key:s.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:s}})}),1)]):e._e()])},mT=[],gT=Fn(dT,pT,mT,!1,null,null);const vT=gT.exports,bT={data:()=>({currentListingView:null}),computed:{...Fa({isLoading:t=>t.filterExplorer.isLoading,isOpen:t=>t.filterExplorer.isOpen,items:t=>t.filterExplorer.items,entity:t=>t.explorer.entity,itemCount:t=>t.explorer.filters.itemCount,selectedItem:t=>t.filterExplorer.selectedItem,translations:t=>t.translations,icons:t=>t.filterExplorer.icons})},methods:{...Is(["filterExplorerUpdate"]),onItemClick:function(t){this.filterExplorerUpdate({item:t})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:vT}};var _T=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?r("div",{staticClass:"filter-widget-explorer"},[r("ul",{staticClass:"filters-items"},[r("li",{staticClass:"filters-infos"},[r("div",{staticClass:"infos-content"},[r("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?r("div",[r("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v(" "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+" ")]):e._e()])],1)]),r("li",{staticClass:"item"},[r("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onResetClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(s,u){return r("filter-explorer-item",{key:u,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:s}})})],2)]):e._e()])},yT=[],wT=Fn(bT,_T,yT,!1,null,null);const xT=wT.exports;var Fh={exports:{}},kT=Fh.exports,Xg;function CT(){return Xg||(Xg=1,function(t,e){(function(r,s){t.exports=s()})(kT,function(){return function(r){function s(l){if(u[l])return u[l].exports;var f=u[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};return s.m=r,s.c=u,s.i=function(l){return l},s.d=function(l,f,h){s.o(l,f)||Object.defineProperty(l,f,{configurable:!1,enumerable:!0,get:h})},s.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(f,"a",f),f},s.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},s.p="/",s(s.s=8)}([function(r,s,u){function l(q){return q&&q.__esModule?q:{default:q}}function f(q,M,E){return M in q?Object.defineProperty(q,M,{value:E,enumerable:!0,configurable:!0,writable:!0}):q[M]=E,q}function h(q,M){if(!q)return!1;var E=q.toString().toLowerCase();return E.indexOf(M.trim())!==-1}function b(q,M,E){return E?q.filter(function(D){return h(D[E],M)}):q.filter(function(D){return h(D,M)})}function x(q){return q.filter(function(M){return!M.$isLabel})}function w(q,M){return function(E){return E.reduce(function(D,B){return B[q]&&B[q].length?(D.push({$groupLabel:B[M],$isLabel:!0}),D.concat(B[q])):D.concat(B)},[])}}function S(q,M,E,D){return function(B){return B.map(function(z){var V,ne=b(z[E],q,M);return ne.length?(V={},f(V,D,z[D]),f(V,E,ne),V):[]})}}Object.defineProperty(s,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},W=u(2),N=l(W),j=function(){for(var q=arguments.length,M=Array(q),E=0;E<q;E++)M[E]=arguments[E];return function(D){return M.reduce(function(B,z){return z(B)},D)}};s.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,N.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(q,M){return M?q[M]:q}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props cant be both set to false.")},computed:{filteredOptions:function(){var q=this.search||"",M=q.toLowerCase(),E=this.options.concat();return this.internalSearch?(E=this.groupValues?this.filterAndFlat(E,M,this.label):b(E,M,this.label),E=this.hideSelected?E.filter(this.isNotSelected):E):E=this.groupValues?w(this.groupValues,this.groupLabel)(E):E,this.taggable&&M.length&&!this.isExistingOption(M)&&E.unshift({isTag:!0,label:q}),E.slice(0,this.optionsLimit)},valueKeys:function(){var q=this;return this.trackBy?this.internalValue.map(function(M){return M[q.trackBy]}):this.internalValue},optionKeys:function(){var q=this,M=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?M.map(function(E){return E[q.label].toString().toLowerCase()}):M.map(function(E){return E.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(q,M){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(q){this.internalValue=this.getInternalValue(q)}},methods:{getValue:function(){return this.multiple?(0,N.default)(this.internalValue):this.internalValue.length===0?null:(0,N.default)(this.internalValue[0])},getInternalValue:function(q){return q==null?[]:this.multiple?(0,N.default)(q):(0,N.default)([q])},filterAndFlat:function(q){return j(S(this.search,this.label,this.groupValues,this.groupLabel),w(this.groupValues,this.groupLabel))(q)},flatAndStrip:function(q){return j(w(this.groupValues,this.groupLabel),x)(q)},updateSearch:function(q){this.search=q},isExistingOption:function(q){return!!this.options&&this.optionKeys.indexOf(q)>-1},isSelected:function(q){var M=this.trackBy?q[this.trackBy]:q;return this.valueKeys.indexOf(M)>-1},isNotSelected:function(q){return!this.isSelected(q)},getOptionLabel:function(q){return q||q===0?q.isTag?q.label:this.customLabel(q,this.label)||"":""},select:function(q,M){if(!(this.blockKeys.indexOf(M)!==-1||this.disabled||q.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(q.isTag)this.$emit("tag",q.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var E=this.isSelected(q);if(E)return void(M!=="Tab"&&this.removeElement(q));this.multiple?this.internalValue.push(q):this.internalValue=[q],this.$emit("select",(0,N.default)(q),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(q){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var M=(typeof q>"u"?"undefined":O(q))==="object"?this.valueKeys.indexOf(q[this.trackBy]):this.valueKeys.indexOf(q);this.internalValue.splice(M,1),this.$emit("remove",(0,N.default)(q),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(r,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(l,f){return{"multiselect__option--highlight":l===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(f)}},addPointerElement:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",f=l.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],f),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(l){this.pointer=l}}}},function(r,s,u){function l(h){if(Array.isArray(h))return h.map(l);if(h&&(typeof h>"u"?"undefined":f(h))==="object"){for(var b={},x=Object.keys(h),w=0,S=x.length;w<S;w++){var O=x[w];b[O]=l(h[O])}return b}return h}Object.defineProperty(s,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};s.default=l},function(r,s,u){u(5);var l=u(6)(u(4),u(7),null,null);r.exports=l.exports},function(r,s,u){function l(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(s,"__esModule",{value:!0});var f=u(0),h=l(f),b=u(1),x=l(b);s.default={name:"vue-multiselect",mixins:[h.default,x.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(w){return"and "+w+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(r,s){},function(r,s){r.exports=function(u,l,f,h){var b,x=u=u||{},w=typeof u.default;w!=="object"&&w!=="function"||(b=u,x=u.default);var S=typeof x=="function"?x.options:x;if(l&&(S.render=l.render,S.staticRenderFns=l.staticRenderFns),f&&(S._scopeId=f),h){var O=S.computed||(S.computed={});Object.keys(h).forEach(function(W){var N=h[W];O[W]=function(){return N}})}return{esModule:b,exports:x,options:S}}},function(r,s){r.exports={render:function(){var u=this,l=u.$createElement,f=u._self._c||l;return f("div",{staticClass:"multiselect",class:{"multiselect--active":u.isOpen,"multiselect--disabled":u.disabled,"multiselect--above":!u.hasEnoughSpace},attrs:{tabindex:u.searchable?-1:0},on:{focus:function(h){u.activate()},blur:function(h){!u.searchable&&u.deactivate()},keydown:[function(h){u._k(h.keyCode,"down",40)||h.target===h.currentTarget&&(h.preventDefault(),u.pointerForward())},function(h){u._k(h.keyCode,"up",38)||h.target===h.currentTarget&&(h.preventDefault(),u.pointerBackward())},function(h){u._k(h.keyCode,"enter",13)&&u._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&u.addPointerElement(h))}],keyup:function(h){u._k(h.keyCode,"esc",27)||u.deactivate()}}},[u._t("carret",[f("div",{staticClass:"multiselect__select",on:{mousedown:function(h){h.preventDefault(),u.toggle()}}})]),u._v(" "),f("div",{ref:"tags",staticClass:"multiselect__tags"},[u._l(u.visibleValue,function(h){return f("span",{staticClass:"multiselect__tag",on:{mousedown:function(b){b.preventDefault()}}},[f("span",{domProps:{textContent:u._s(u.getOptionLabel(h))}}),u._v(" "),f("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(b){u._k(b.keyCode,"enter",13)||(b.preventDefault(),u.removeElement(h))},mousedown:function(b){b.preventDefault(),u.removeElement(h)}}})])}),u._v(" "),u.internalValue&&u.internalValue.length>u.limit?[f("strong",{domProps:{textContent:u._s(u.limitText(u.internalValue.length-u.limit))}})]:u._e(),u._v(" "),f("transition",{attrs:{name:"multiselect__loading"}},[u._t("loading",[f("div",{directives:[{name:"show",rawName:"v-show",value:u.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),u._v(" "),u.searchable?f("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:u.placeholder,disabled:u.disabled},domProps:{value:u.isOpen?u.search:u.currentOptionLabel},on:{input:function(h){u.updateSearch(h.target.value)},focus:function(h){h.preventDefault(),u.activate()},blur:function(h){h.preventDefault(),u.deactivate()},keyup:function(h){u._k(h.keyCode,"esc",27)||u.deactivate()},keydown:[function(h){u._k(h.keyCode,"down",40)||(h.preventDefault(),u.pointerForward())},function(h){u._k(h.keyCode,"up",38)||(h.preventDefault(),u.pointerBackward())},function(h){u._k(h.keyCode,"enter",13)||h.preventDefault()},function(h){u._k(h.keyCode,"enter",13)&&u._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&u.addPointerElement(h))},function(h){u._k(h.keyCode,"delete",[8,46])||u.removeLastElement()}]}}):u._e(),u._v(" "),u.searchable?u._e():f("span",{staticClass:"multiselect__single",domProps:{textContent:u._s(u.currentOptionLabel)}})],2),u._v(" "),f("transition",{attrs:{name:"multiselect"}},[f("ul",{directives:[{name:"show",rawName:"v-show",value:u.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:u.maxHeight+"px"}},[u._t("beforeList"),u._v(" "),u.multiple&&u.max===u.internalValue.length?f("li",[f("span",{staticClass:"multiselect__option"},[u._t("maxElements",[u._v("Maximum of "+u._s(u.max)+" options selected. First remove a selected option to select another.")])],2)]):u._e(),u._v(" "),!u.max||u.internalValue.length<u.max?u._l(u.filteredOptions,function(h,b){return f("li",{key:b,staticClass:"multiselect__element"},[h.$isLabel?u._e():f("span",{staticClass:"multiselect__option",class:u.optionHighlight(b,h),attrs:{tabindex:"0","data-select":h.isTag?u.tagPlaceholder:u.selectLabelText,"data-selected":u.selectedLabelText,"data-deselect":u.deselectLabelText},on:{mousedown:function(x){x.preventDefault(),u.select(h)},mouseenter:function(x){u.pointerSet(b)}}},[u._t("option",[f("span",[u._v(u._s(u.getOptionLabel(h)))])],{option:h,search:u.search})],2),u._v(" "),h.$isLabel?f("span",{staticClass:"multiselect__option multiselect__option--disabled",class:u.optionHighlight(b,h)},[u._v(`
              `+u._s(h.$groupLabel)+`
            `)]):u._e()])}):u._e(),u._v(" "),f("li",{directives:[{name:"show",rawName:"v-show",value:u.filteredOptions.length===0&&u.search&&!u.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[f("span",{staticClass:"multiselect__option"},[u._t("noResult",[u._v("No elements found. Consider changing the search query.")])],2)]),u._v(" "),u._t("afterList")],2)])],2)},staticRenderFns:[]}},function(r,s,u){function l(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(s,"__esModule",{value:!0}),s.deepClone=s.pointerMixin=s.multiselectMixin=s.Multiselect=void 0;var f=u(3),h=l(f),b=u(0),x=l(b),w=u(1),S=l(w),O=u(2),W=l(O);s.default=h.default,s.Multiselect=h.default,s.multiselectMixin=x.default,s.pointerMixin=S.default,s.deepClone=W.default}])})}(Fh)),Fh.exports}var ET=CT();const ST=df(ET),TT={mounted(){this.tagsInitData()},computed:{...Fa({value:t=>t.tags.value,options:t=>t.tags.options})},methods:{...Is(["tagsUpdateValue","tagsInitData"]),addTag(t){const e={name:t};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:ST}};var AT=function(){var e=this,r=e._self._c;return r("div",[e._t("default"),r("label",{staticClass:"typo__label"},[e._v("Tagging")]),r("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(s){e.value=s},expression:"value"}}),r("pre",{staticClass:"language-json"},[r("code",[e._v(e._s(e.value))])])],2)},DT=[],LT=Fn(TT,AT,DT,!1,null,null);const MT=LT.exports,PT={computed:{...Fa({isVisible:t=>t.documentPreview.isVisible,document:t=>t.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},methods:{...Is(["documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(t){t.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}}};var OT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?r("div",{staticClass:"document-preview-widget"},[r("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[r("div",{staticClass:"document-preview-widget__information"},[r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),r("div",{staticClass:"close",on:{click:function(s){return s.preventDefault(),e.closePreview.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-times"})])]),r("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[r("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},FT=[],RT=Fn(PT,OT,FT,!1,null,null);const NT=RT.exports;var wh={};const zT=L0(Tw);var Rh={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var IT=Rh.exports,Vg;function BT(){return Vg||(Vg=1,function(t,e){(function(r,s){t.exports=s()})(IT,function(){function r(ke,_){var T=Object.keys(ke);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(ke);_&&(R=R.filter(function(ie){return Object.getOwnPropertyDescriptor(ke,ie).enumerable})),T.push.apply(T,R)}return T}function s(ke){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?r(Object(T),!0).forEach(function(R){w(ke,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(T)):r(Object(T)).forEach(function(R){Object.defineProperty(ke,R,Object.getOwnPropertyDescriptor(T,R))})}return ke}function u(ke,_){if(typeof ke!="object"||!ke)return ke;var T=ke[Symbol.toPrimitive];if(T!==void 0){var R=T.call(ke,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(ke)}function l(ke){var _=u(ke,"string");return typeof _=="symbol"?_:_+""}function f(ke){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(ke)}function h(ke,_){if(!(ke instanceof _))throw new TypeError("Cannot call a class as a function")}function b(ke,_){for(var T=0;T<_.length;T++){var R=_[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(ke,l(R.key),R)}}function x(ke,_,T){return _&&b(ke.prototype,_),T&&b(ke,T),Object.defineProperty(ke,"prototype",{writable:!1}),ke}function w(ke,_,T){return _=l(_),_ in ke?Object.defineProperty(ke,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):ke[_]=T,ke}function S(ke){return O(ke)||W(ke)||N(ke)||q()}function O(ke){if(Array.isArray(ke))return j(ke)}function W(ke){if(typeof Symbol<"u"&&ke[Symbol.iterator]!=null||ke["@@iterator"]!=null)return Array.from(ke)}function N(ke,_){if(ke){if(typeof ke=="string")return j(ke,_);var T=Object.prototype.toString.call(ke).slice(8,-1);if(T==="Object"&&ke.constructor&&(T=ke.constructor.name),T==="Map"||T==="Set")return Array.from(ke);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return j(ke,_)}}function j(ke,_){(_==null||_>ke.length)&&(_=ke.length);for(var T=0,R=new Array(_);T<_;T++)R[T]=ke[T];return R}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=typeof window<"u"&&typeof window.document<"u",E=M?window:{},D=M&&E.document.documentElement?"ontouchstart"in E.document.documentElement:!1,B=M?"PointerEvent"in E:!1,z="cropper",V="all",ne="crop",ue="move",de="zoom",ge="e",fe="w",De="s",ve="n",re="ne",P="nw",se="se",ye="sw",Ee="".concat(z,"-crop"),it="".concat(z,"-disabled"),Be="".concat(z,"-hidden"),Me="".concat(z,"-hide"),te="".concat(z,"-invisible"),Y="".concat(z,"-modal"),Le="".concat(z,"-move"),Re="".concat(z,"Action"),X="".concat(z,"Preview"),we="crop",Te="move",qe="none",Ze="crop",Xe="cropend",ut="cropmove",Et="cropstart",wt="dblclick",St=D?"touchstart":"mousedown",_t=D?"touchmove":"mousemove",Mt=D?"touchend touchcancel":"mouseup",jt=B?"pointerdown":St,Kt=B?"pointermove":_t,Z=B?"pointerup pointercancel":Mt,le="ready",Q="resize",he="wheel",pe="zoom",Ie="image/jpeg",ot=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Qe=/^data:/,mt=/^data:image\/jpeg;base64,/,Pt=/^img|canvas$/i,ct=200,Ht=100,Yt={viewMode:0,dragMode:we,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ct,minContainerHeight:Ht,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Qt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Vt=Number.isNaN||E.isNaN;function xt(ke){return typeof ke=="number"&&!Vt(ke)}var qn=function(_){return _>0&&_<1/0};function Ut(ke){return typeof ke>"u"}function dr(ke){return f(ke)==="object"&&ke!==null}var Rt=Object.prototype.hasOwnProperty;function sn(ke){if(!dr(ke))return!1;try{var _=ke.constructor,T=_.prototype;return _&&T&&Rt.call(T,"isPrototypeOf")}catch{return!1}}function yi(ke){return typeof ke=="function"}var Ri=Array.prototype.slice;function pi(ke){return Array.from?Array.from(ke):Ri.call(ke)}function wi(ke,_){return ke&&yi(_)&&(Array.isArray(ke)||xt(ke.length)?pi(ke).forEach(function(T,R){_.call(ke,T,R,ke)}):dr(ke)&&Object.keys(ke).forEach(function(T){_.call(ke,ke[T],T,ke)})),ke}var ui=Object.assign||function(_){for(var T=arguments.length,R=new Array(T>1?T-1:0),ie=1;ie<T;ie++)R[ie-1]=arguments[ie];return dr(_)&&R.length>0&&R.forEach(function(ae){dr(ae)&&Object.keys(ae).forEach(function(_e){_[_e]=ae[_e]})}),_},si=/\.\d*(?:0|9){12}\d*$/;function Bi(ke){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return si.test(ke)?Math.round(ke*_)/_:ke}var Qr=/^width|height|left|top|marginLeft|marginTop$/;function $i(ke,_){var T=ke.style;wi(_,function(R,ie){Qr.test(ie)&&xt(R)&&(R="".concat(R,"px")),T[ie]=R})}function Or(ke,_){return ke.classList?ke.classList.contains(_):ke.className.indexOf(_)>-1}function Hi(ke,_){if(_){if(xt(ke.length)){wi(ke,function(R){Hi(R,_)});return}if(ke.classList){ke.classList.add(_);return}var T=ke.className.trim();T?T.indexOf(_)<0&&(ke.className="".concat(T," ").concat(_)):ke.className=_}}function Ki(ke,_){if(_){if(xt(ke.length)){wi(ke,function(T){Ki(T,_)});return}if(ke.classList){ke.classList.remove(_);return}ke.className.indexOf(_)>=0&&(ke.className=ke.className.replace(_,""))}}function pr(ke,_,T){if(_){if(xt(ke.length)){wi(ke,function(R){pr(R,_,T)});return}T?Hi(ke,_):Ki(ke,_)}}var kn=/([a-z\d])([A-Z])/g;function Ot(ke){return ke.replace(kn,"$1-$2").toLowerCase()}function mr(ke,_){return dr(ke[_])?ke[_]:ke.dataset?ke.dataset[_]:ke.getAttribute("data-".concat(Ot(_)))}function jn(ke,_,T){dr(T)?ke[_]=T:ke.dataset?ke.dataset[_]=T:ke.setAttribute("data-".concat(Ot(_)),T)}function Un(ke,_){if(dr(ke[_]))try{delete ke[_]}catch{ke[_]=void 0}else if(ke.dataset)try{delete ke.dataset[_]}catch{ke.dataset[_]=void 0}else ke.removeAttribute("data-".concat(Ot(_)))}var tr=/\s\s*/,Wr=function(){var ke=!1;if(M){var _=!1,T=function(){},R=Object.defineProperty({},"once",{get:function(){return ke=!0,_},set:function(ae){_=ae}});E.addEventListener("test",T,R),E.removeEventListener("test",T,R)}return ke}();function Gi(ke,_,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=T;_.trim().split(tr).forEach(function(ae){if(!Wr){var _e=ke.listeners;_e&&_e[ae]&&_e[ae][T]&&(ie=_e[ae][T],delete _e[ae][T],Object.keys(_e[ae]).length===0&&delete _e[ae],Object.keys(_e).length===0&&delete ke.listeners)}ke.removeEventListener(ae,ie,R)})}function Qi(ke,_,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=T;_.trim().split(tr).forEach(function(ae){if(R.once&&!Wr){var _e=ke.listeners,Oe=_e===void 0?{}:_e;ie=function(){delete Oe[ae][T],ke.removeEventListener(ae,ie,R);for(var et=arguments.length,Ve=new Array(et),Ke=0;Ke<et;Ke++)Ve[Ke]=arguments[Ke];T.apply(ke,Ve)},Oe[ae]||(Oe[ae]={}),Oe[ae][T]&&ke.removeEventListener(ae,Oe[ae][T],R),Oe[ae][T]=ie,ke.listeners=Oe}ke.addEventListener(ae,ie,R)})}function ir(ke,_,T){var R;return yi(Event)&&yi(CustomEvent)?R=new CustomEvent(_,{detail:T,bubbles:!0,cancelable:!0}):(R=document.createEvent("CustomEvent"),R.initCustomEvent(_,!0,!0,T)),ke.dispatchEvent(R)}function nr(ke){var _=ke.getBoundingClientRect();return{left:_.left+(window.pageXOffset-document.documentElement.clientLeft),top:_.top+(window.pageYOffset-document.documentElement.clientTop)}}var Cn=E.location,Jr=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function eo(ke){var _=ke.match(Jr);return _!==null&&(_[1]!==Cn.protocol||_[2]!==Cn.hostname||_[3]!==Cn.port)}function wr(ke){var _="timestamp=".concat(new Date().getTime());return ke+(ke.indexOf("?")===-1?"?":"&")+_}function En(ke){var _=ke.rotate,T=ke.scaleX,R=ke.scaleY,ie=ke.translateX,ae=ke.translateY,_e=[];xt(ie)&&ie!==0&&_e.push("translateX(".concat(ie,"px)")),xt(ae)&&ae!==0&&_e.push("translateY(".concat(ae,"px)")),xt(_)&&_!==0&&_e.push("rotate(".concat(_,"deg)")),xt(T)&&T!==1&&_e.push("scaleX(".concat(T,")")),xt(R)&&R!==1&&_e.push("scaleY(".concat(R,")"));var Oe=_e.length?_e.join(" "):"none";return{WebkitTransform:Oe,msTransform:Oe,transform:Oe}}function Fr(ke){var _=s({},ke),T=0;return wi(ke,function(R,ie){delete _[ie],wi(_,function(ae){var _e=Math.abs(R.startX-ae.startX),Oe=Math.abs(R.startY-ae.startY),Je=Math.abs(R.endX-ae.endX),et=Math.abs(R.endY-ae.endY),Ve=Math.sqrt(_e*_e+Oe*Oe),Ke=Math.sqrt(Je*Je+et*et),ft=(Ke-Ve)/Ve;Math.abs(ft)>Math.abs(T)&&(T=ft)})}),T}function bn(ke,_){var T=ke.pageX,R=ke.pageY,ie={endX:T,endY:R};return _?ie:s({startX:T,startY:R},ie)}function co(ke){var _=0,T=0,R=0;return wi(ke,function(ie){var ae=ie.startX,_e=ie.startY;_+=ae,T+=_e,R+=1}),_/=R,T/=R,{pageX:_,pageY:T}}function Yn(ke){var _=ke.aspectRatio,T=ke.height,R=ke.width,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",ae=qn(R),_e=qn(T);if(ae&&_e){var Oe=T*_;ie==="contain"&&Oe>R||ie==="cover"&&Oe<R?T=R/_:R=T*_}else ae?T=R/_:_e&&(R=T*_);return{width:R,height:T}}function ji(ke){var _=ke.width,T=ke.height,R=ke.degree;if(R=Math.abs(R)%180,R===90)return{width:T,height:_};var ie=R%90*Math.PI/180,ae=Math.sin(ie),_e=Math.cos(ie),Oe=_*_e+T*ae,Je=_*ae+T*_e;return R>90?{width:Je,height:Oe}:{width:Oe,height:Je}}function Lt(ke,_,T,R){var ie=_.aspectRatio,ae=_.naturalWidth,_e=_.naturalHeight,Oe=_.rotate,Je=Oe===void 0?0:Oe,et=_.scaleX,Ve=et===void 0?1:et,Ke=_.scaleY,ft=Ke===void 0?1:Ke,fi=T.aspectRatio,hi=T.naturalWidth,Wi=T.naturalHeight,Ei=R.fillColor,Pi=Ei===void 0?"transparent":Ei,fn=R.imageSmoothingEnabled,Ft=fn===void 0?!0:fn,rn=R.imageSmoothingQuality,ri=rn===void 0?"low":rn,gt=R.maxWidth,xi=gt===void 0?1/0:gt,on=R.maxHeight,or=on===void 0?1/0:on,Sn=R.minWidth,qr=Sn===void 0?0:Sn,Rr=R.minHeight,Zt=Rr===void 0?0:Rr,oi=document.createElement("canvas"),_n=oi.getContext("2d"),Nr=Yn({aspectRatio:fi,width:xi,height:or}),Uo=Yn({aspectRatio:fi,width:qr,height:Zt},"cover"),ga=Math.min(Nr.width,Math.max(Uo.width,hi)),Yo=Math.min(Nr.height,Math.max(Uo.height,Wi)),va=Yn({aspectRatio:ie,width:xi,height:or}),Na=Yn({aspectRatio:ie,width:qr,height:Zt},"cover"),gi=Math.min(va.width,Math.max(Na.width,ae)),Ni=Math.min(va.height,Math.max(Na.height,_e)),gr=[-gi/2,-Ni/2,gi,Ni];return oi.width=Bi(ga),oi.height=Bi(Yo),_n.fillStyle=Pi,_n.fillRect(0,0,ga,Yo),_n.save(),_n.translate(ga/2,Yo/2),_n.rotate(Je*Math.PI/180),_n.scale(Ve,ft),_n.imageSmoothingEnabled=Ft,_n.imageSmoothingQuality=ri,_n.drawImage.apply(_n,[ke].concat(S(gr.map(function(zr){return Math.floor(Bi(zr))})))),_n.restore(),oi}var Gn=String.fromCharCode;function rr(ke,_,T){var R="";T+=_;for(var ie=_;ie<T;ie+=1)R+=Gn(ke.getUint8(ie));return R}var Rn=/^data:.*,/;function J(ke){var _=ke.replace(Rn,""),T=atob(_),R=new ArrayBuffer(T.length),ie=new Uint8Array(R);return wi(ie,function(ae,_e){ie[_e]=T.charCodeAt(_e)}),R}function xe(ke,_){for(var T=[],R=8192,ie=new Uint8Array(ke);ie.length>0;)T.push(Gn.apply(null,pi(ie.subarray(0,R)))),ie=ie.subarray(R);return"data:".concat(_,";base64,").concat(btoa(T.join("")))}function He(ke){var _=new DataView(ke),T;try{var R,ie,ae;if(_.getUint8(0)===255&&_.getUint8(1)===216)for(var _e=_.byteLength,Oe=2;Oe+1<_e;){if(_.getUint8(Oe)===255&&_.getUint8(Oe+1)===225){ie=Oe;break}Oe+=1}if(ie){var Je=ie+4,et=ie+10;if(rr(_,Je,4)==="Exif"){var Ve=_.getUint16(et);if(R=Ve===18761,(R||Ve===19789)&&_.getUint16(et+2,R)===42){var Ke=_.getUint32(et+4,R);Ke>=8&&(ae=et+Ke)}}}if(ae){var ft=_.getUint16(ae,R),fi,hi;for(hi=0;hi<ft;hi+=1)if(fi=ae+hi*12+2,_.getUint16(fi,R)===274){fi+=8,T=_.getUint16(fi,R),_.setUint16(fi,1,R);break}}}catch{T=1}return T}function nt(ke){var _=0,T=1,R=1;switch(ke){case 2:T=-1;break;case 3:_=-180;break;case 4:R=-1;break;case 5:_=90,R=-1;break;case 6:_=90;break;case 7:_=90,T=-1;break;case 8:_=-90;break}return{rotate:_,scaleX:T,scaleY:R}}var je={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var _=this.element,T=this.options,R=this.container,ie=this.cropper,ae=Number(T.minContainerWidth),_e=Number(T.minContainerHeight);Hi(ie,Be),Ki(_,Be);var Oe={width:Math.max(R.offsetWidth,ae>=0?ae:ct),height:Math.max(R.offsetHeight,_e>=0?_e:Ht)};this.containerData=Oe,$i(ie,{width:Oe.width,height:Oe.height}),Hi(_,Be),Ki(ie,Be)},initCanvas:function(){var _=this.containerData,T=this.imageData,R=this.options.viewMode,ie=Math.abs(T.rotate)%180===90,ae=ie?T.naturalHeight:T.naturalWidth,_e=ie?T.naturalWidth:T.naturalHeight,Oe=ae/_e,Je=_.width,et=_.height;_.height*Oe>_.width?R===3?Je=_.height*Oe:et=_.width/Oe:R===3?et=_.width/Oe:Je=_.height*Oe;var Ve={aspectRatio:Oe,naturalWidth:ae,naturalHeight:_e,width:Je,height:et};this.canvasData=Ve,this.limited=R===1||R===2,this.limitCanvas(!0,!0),Ve.width=Math.min(Math.max(Ve.width,Ve.minWidth),Ve.maxWidth),Ve.height=Math.min(Math.max(Ve.height,Ve.minHeight),Ve.maxHeight),Ve.left=(_.width-Ve.width)/2,Ve.top=(_.height-Ve.height)/2,Ve.oldLeft=Ve.left,Ve.oldTop=Ve.top,this.initialCanvasData=ui({},Ve)},limitCanvas:function(_,T){var R=this.options,ie=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=R.viewMode,Je=ae.aspectRatio,et=this.cropped&&_e;if(_){var Ve=Number(R.minCanvasWidth)||0,Ke=Number(R.minCanvasHeight)||0;Oe>1?(Ve=Math.max(Ve,ie.width),Ke=Math.max(Ke,ie.height),Oe===3&&(Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je)):Oe>0&&(Ve?Ve=Math.max(Ve,et?_e.width:0):Ke?Ke=Math.max(Ke,et?_e.height:0):et&&(Ve=_e.width,Ke=_e.height,Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je));var ft=Yn({aspectRatio:Je,width:Ve,height:Ke});Ve=ft.width,Ke=ft.height,ae.minWidth=Ve,ae.minHeight=Ke,ae.maxWidth=1/0,ae.maxHeight=1/0}if(T)if(Oe>(et?0:1)){var fi=ie.width-ae.width,hi=ie.height-ae.height;ae.minLeft=Math.min(0,fi),ae.minTop=Math.min(0,hi),ae.maxLeft=Math.max(0,fi),ae.maxTop=Math.max(0,hi),et&&this.limited&&(ae.minLeft=Math.min(_e.left,_e.left+(_e.width-ae.width)),ae.minTop=Math.min(_e.top,_e.top+(_e.height-ae.height)),ae.maxLeft=_e.left,ae.maxTop=_e.top,Oe===2&&(ae.width>=ie.width&&(ae.minLeft=Math.min(0,fi),ae.maxLeft=Math.max(0,fi)),ae.height>=ie.height&&(ae.minTop=Math.min(0,hi),ae.maxTop=Math.max(0,hi))))}else ae.minLeft=-ae.width,ae.minTop=-ae.height,ae.maxLeft=ie.width,ae.maxTop=ie.height},renderCanvas:function(_,T){var R=this.canvasData,ie=this.imageData;if(T){var ae=ji({width:ie.naturalWidth*Math.abs(ie.scaleX||1),height:ie.naturalHeight*Math.abs(ie.scaleY||1),degree:ie.rotate||0}),_e=ae.width,Oe=ae.height,Je=R.width*(_e/R.naturalWidth),et=R.height*(Oe/R.naturalHeight);R.left-=(Je-R.width)/2,R.top-=(et-R.height)/2,R.width=Je,R.height=et,R.aspectRatio=_e/Oe,R.naturalWidth=_e,R.naturalHeight=Oe,this.limitCanvas(!0,!1)}(R.width>R.maxWidth||R.width<R.minWidth)&&(R.left=R.oldLeft),(R.height>R.maxHeight||R.height<R.minHeight)&&(R.top=R.oldTop),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),this.limitCanvas(!1,!0),R.left=Math.min(Math.max(R.left,R.minLeft),R.maxLeft),R.top=Math.min(Math.max(R.top,R.minTop),R.maxTop),R.oldLeft=R.left,R.oldTop=R.top,$i(this.canvas,ui({width:R.width,height:R.height},En({translateX:R.left,translateY:R.top}))),this.renderImage(_),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(_){var T=this.canvasData,R=this.imageData,ie=R.naturalWidth*(T.width/T.naturalWidth),ae=R.naturalHeight*(T.height/T.naturalHeight);ui(R,{width:ie,height:ae,left:(T.width-ie)/2,top:(T.height-ae)/2}),$i(this.image,ui({width:R.width,height:R.height},En(ui({translateX:R.left,translateY:R.top},R)))),_&&this.output()},initCropBox:function(){var _=this.options,T=this.canvasData,R=_.aspectRatio||_.initialAspectRatio,ie=Number(_.autoCropArea)||.8,ae={width:T.width,height:T.height};R&&(T.height*R>T.width?ae.height=ae.width/R:ae.width=ae.height*R),this.cropBoxData=ae,this.limitCropBox(!0,!0),ae.width=Math.min(Math.max(ae.width,ae.minWidth),ae.maxWidth),ae.height=Math.min(Math.max(ae.height,ae.minHeight),ae.maxHeight),ae.width=Math.max(ae.minWidth,ae.width*ie),ae.height=Math.max(ae.minHeight,ae.height*ie),ae.left=T.left+(T.width-ae.width)/2,ae.top=T.top+(T.height-ae.height)/2,ae.oldLeft=ae.left,ae.oldTop=ae.top,this.initialCropBoxData=ui({},ae)},limitCropBox:function(_,T){var R=this.options,ie=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=this.limited,Je=R.aspectRatio;if(_){var et=Number(R.minCropBoxWidth)||0,Ve=Number(R.minCropBoxHeight)||0,Ke=Oe?Math.min(ie.width,ae.width,ae.width+ae.left,ie.width-ae.left):ie.width,ft=Oe?Math.min(ie.height,ae.height,ae.height+ae.top,ie.height-ae.top):ie.height;et=Math.min(et,ie.width),Ve=Math.min(Ve,ie.height),Je&&(et&&Ve?Ve*Je>et?Ve=et/Je:et=Ve*Je:et?Ve=et/Je:Ve&&(et=Ve*Je),ft*Je>Ke?ft=Ke/Je:Ke=ft*Je),_e.minWidth=Math.min(et,Ke),_e.minHeight=Math.min(Ve,ft),_e.maxWidth=Ke,_e.maxHeight=ft}T&&(Oe?(_e.minLeft=Math.max(0,ae.left),_e.minTop=Math.max(0,ae.top),_e.maxLeft=Math.min(ie.width,ae.left+ae.width)-_e.width,_e.maxTop=Math.min(ie.height,ae.top+ae.height)-_e.height):(_e.minLeft=0,_e.minTop=0,_e.maxLeft=ie.width-_e.width,_e.maxTop=ie.height-_e.height))},renderCropBox:function(){var _=this.options,T=this.containerData,R=this.cropBoxData;(R.width>R.maxWidth||R.width<R.minWidth)&&(R.left=R.oldLeft),(R.height>R.maxHeight||R.height<R.minHeight)&&(R.top=R.oldTop),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),this.limitCropBox(!1,!0),R.left=Math.min(Math.max(R.left,R.minLeft),R.maxLeft),R.top=Math.min(Math.max(R.top,R.minTop),R.maxTop),R.oldLeft=R.left,R.oldTop=R.top,_.movable&&_.cropBoxMovable&&jn(this.face,Re,R.width>=T.width&&R.height>=T.height?ue:V),$i(this.cropBox,ui({width:R.width,height:R.height},En({translateX:R.left,translateY:R.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ir(this.element,Ze,this.getData())}},pt={initPreview:function(){var _=this.element,T=this.crossOrigin,R=this.options.preview,ie=T?this.crossOriginUrl:this.url,ae=_.alt||"The image to preview",_e=document.createElement("img");if(T&&(_e.crossOrigin=T),_e.src=ie,_e.alt=ae,this.viewBox.appendChild(_e),this.viewBoxImage=_e,!!R){var Oe=R;typeof R=="string"?Oe=_.ownerDocument.querySelectorAll(R):R.querySelector&&(Oe=[R]),this.previews=Oe,wi(Oe,function(Je){var et=document.createElement("img");jn(Je,X,{width:Je.offsetWidth,height:Je.offsetHeight,html:Je.innerHTML}),T&&(et.crossOrigin=T),et.src=ie,et.alt=ae,et.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Je.innerHTML="",Je.appendChild(et)})}},resetPreview:function(){wi(this.previews,function(_){var T=mr(_,X);$i(_,{width:T.width,height:T.height}),_.innerHTML=T.html,Un(_,X)})},preview:function(){var _=this.imageData,T=this.canvasData,R=this.cropBoxData,ie=R.width,ae=R.height,_e=_.width,Oe=_.height,Je=R.left-T.left-_.left,et=R.top-T.top-_.top;!this.cropped||this.disabled||($i(this.viewBoxImage,ui({width:_e,height:Oe},En(ui({translateX:-Je,translateY:-et},_)))),wi(this.previews,function(Ve){var Ke=mr(Ve,X),ft=Ke.width,fi=Ke.height,hi=ft,Wi=fi,Ei=1;ie&&(Ei=ft/ie,Wi=ae*Ei),ae&&Wi>fi&&(Ei=fi/ae,hi=ie*Ei,Wi=fi),$i(Ve,{width:hi,height:Wi}),$i(Ve.getElementsByTagName("img")[0],ui({width:_e*Ei,height:Oe*Ei},En(ui({translateX:-Je*Ei,translateY:-et*Ei},_))))}))}},ni={bind:function(){var _=this.element,T=this.options,R=this.cropper;yi(T.cropstart)&&Qi(_,Et,T.cropstart),yi(T.cropmove)&&Qi(_,ut,T.cropmove),yi(T.cropend)&&Qi(_,Xe,T.cropend),yi(T.crop)&&Qi(_,Ze,T.crop),yi(T.zoom)&&Qi(_,pe,T.zoom),Qi(R,jt,this.onCropStart=this.cropStart.bind(this)),T.zoomable&&T.zoomOnWheel&&Qi(R,he,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Qi(R,wt,this.onDblclick=this.dblclick.bind(this)),Qi(_.ownerDocument,Kt,this.onCropMove=this.cropMove.bind(this)),Qi(_.ownerDocument,Z,this.onCropEnd=this.cropEnd.bind(this)),T.responsive&&Qi(window,Q,this.onResize=this.resize.bind(this))},unbind:function(){var _=this.element,T=this.options,R=this.cropper;yi(T.cropstart)&&Gi(_,Et,T.cropstart),yi(T.cropmove)&&Gi(_,ut,T.cropmove),yi(T.cropend)&&Gi(_,Xe,T.cropend),yi(T.crop)&&Gi(_,Ze,T.crop),yi(T.zoom)&&Gi(_,pe,T.zoom),Gi(R,jt,this.onCropStart),T.zoomable&&T.zoomOnWheel&&Gi(R,he,this.onWheel,{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Gi(R,wt,this.onDblclick),Gi(_.ownerDocument,Kt,this.onCropMove),Gi(_.ownerDocument,Z,this.onCropEnd),T.responsive&&Gi(window,Q,this.onResize)}},Ui={resize:function(){if(!this.disabled){var _=this.options,T=this.container,R=this.containerData,ie=T.offsetWidth/R.width,ae=T.offsetHeight/R.height,_e=Math.abs(ie-1)>Math.abs(ae-1)?ie:ae;if(_e!==1){var Oe,Je;_.restore&&(Oe=this.getCanvasData(),Je=this.getCropBoxData()),this.render(),_.restore&&(this.setCanvasData(wi(Oe,function(et,Ve){Oe[Ve]=et*_e})),this.setCropBoxData(wi(Je,function(et,Ve){Je[Ve]=et*_e})))}}},dblclick:function(){this.disabled||this.options.dragMode===qe||this.setDragMode(Or(this.dragBox,Ee)?Te:we)},wheel:function(_){var T=this,R=Number(this.options.wheelZoomRatio)||.1,ie=1;this.disabled||(_.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){T.wheeling=!1},50),_.deltaY?ie=_.deltaY>0?1:-1:_.wheelDelta?ie=-_.wheelDelta/120:_.detail&&(ie=_.detail>0?1:-1),this.zoom(-ie*R,_)))},cropStart:function(_){var T=_.buttons,R=_.button;if(!(this.disabled||(_.type==="mousedown"||_.type==="pointerdown"&&_.pointerType==="mouse")&&(xt(T)&&T!==1||xt(R)&&R!==0||_.ctrlKey))){var ie=this.options,ae=this.pointers,_e;_.changedTouches?wi(_.changedTouches,function(Oe){ae[Oe.identifier]=bn(Oe)}):ae[_.pointerId||0]=bn(_),Object.keys(ae).length>1&&ie.zoomable&&ie.zoomOnTouch?_e=de:_e=mr(_.target,Re),ot.test(_e)&&ir(this.element,Et,{originalEvent:_,action:_e})!==!1&&(_.preventDefault(),this.action=_e,this.cropping=!1,_e===ne&&(this.cropping=!0,Hi(this.dragBox,Y)))}},cropMove:function(_){var T=this.action;if(!(this.disabled||!T)){var R=this.pointers;_.preventDefault(),ir(this.element,ut,{originalEvent:_,action:T})!==!1&&(_.changedTouches?wi(_.changedTouches,function(ie){ui(R[ie.identifier]||{},bn(ie,!0))}):ui(R[_.pointerId||0]||{},bn(_,!0)),this.change(_))}},cropEnd:function(_){if(!this.disabled){var T=this.action,R=this.pointers;_.changedTouches?wi(_.changedTouches,function(ie){delete R[ie.identifier]}):delete R[_.pointerId||0],T&&(_.preventDefault(),Object.keys(R).length||(this.action=""),this.cropping&&(this.cropping=!1,pr(this.dragBox,Y,this.cropped&&this.options.modal)),ir(this.element,Xe,{originalEvent:_,action:T}))}}},Nt={change:function(_){var T=this.options,R=this.canvasData,ie=this.containerData,ae=this.cropBoxData,_e=this.pointers,Oe=this.action,Je=T.aspectRatio,et=ae.left,Ve=ae.top,Ke=ae.width,ft=ae.height,fi=et+Ke,hi=Ve+ft,Wi=0,Ei=0,Pi=ie.width,fn=ie.height,Ft=!0,rn;!Je&&_.shiftKey&&(Je=Ke&&ft?Ke/ft:1),this.limited&&(Wi=ae.minLeft,Ei=ae.minTop,Pi=Wi+Math.min(ie.width,R.width,R.left+R.width),fn=Ei+Math.min(ie.height,R.height,R.top+R.height));var ri=_e[Object.keys(_e)[0]],gt={x:ri.endX-ri.startX,y:ri.endY-ri.startY},xi=function(or){switch(or){case ge:fi+gt.x>Pi&&(gt.x=Pi-fi);break;case fe:et+gt.x<Wi&&(gt.x=Wi-et);break;case ve:Ve+gt.y<Ei&&(gt.y=Ei-Ve);break;case De:hi+gt.y>fn&&(gt.y=fn-hi);break}};switch(Oe){case V:et+=gt.x,Ve+=gt.y;break;case ge:if(gt.x>=0&&(fi>=Pi||Je&&(Ve<=Ei||hi>=fn))){Ft=!1;break}xi(ge),Ke+=gt.x,Ke<0&&(Oe=fe,Ke=-Ke,et-=Ke),Je&&(ft=Ke/Je,Ve+=(ae.height-ft)/2);break;case ve:if(gt.y<=0&&(Ve<=Ei||Je&&(et<=Wi||fi>=Pi))){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,ft<0&&(Oe=De,ft=-ft,Ve-=ft),Je&&(Ke=ft*Je,et+=(ae.width-Ke)/2);break;case fe:if(gt.x<=0&&(et<=Wi||Je&&(Ve<=Ei||hi>=fn))){Ft=!1;break}xi(fe),Ke-=gt.x,et+=gt.x,Ke<0&&(Oe=ge,Ke=-Ke,et-=Ke),Je&&(ft=Ke/Je,Ve+=(ae.height-ft)/2);break;case De:if(gt.y>=0&&(hi>=fn||Je&&(et<=Wi||fi>=Pi))){Ft=!1;break}xi(De),ft+=gt.y,ft<0&&(Oe=ve,ft=-ft,Ve-=ft),Je&&(Ke=ft*Je,et+=(ae.width-Ke)/2);break;case re:if(Je){if(gt.y<=0&&(Ve<=Ei||fi>=Pi)){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,Ke=ft*Je}else xi(ve),xi(ge),gt.x>=0?fi<Pi?Ke+=gt.x:gt.y<=0&&Ve<=Ei&&(Ft=!1):Ke+=gt.x,gt.y<=0?Ve>Ei&&(ft-=gt.y,Ve+=gt.y):(ft-=gt.y,Ve+=gt.y);Ke<0&&ft<0?(Oe=ye,ft=-ft,Ke=-Ke,Ve-=ft,et-=Ke):Ke<0?(Oe=P,Ke=-Ke,et-=Ke):ft<0&&(Oe=se,ft=-ft,Ve-=ft);break;case P:if(Je){if(gt.y<=0&&(Ve<=Ei||et<=Wi)){Ft=!1;break}xi(ve),ft-=gt.y,Ve+=gt.y,Ke=ft*Je,et+=ae.width-Ke}else xi(ve),xi(fe),gt.x<=0?et>Wi?(Ke-=gt.x,et+=gt.x):gt.y<=0&&Ve<=Ei&&(Ft=!1):(Ke-=gt.x,et+=gt.x),gt.y<=0?Ve>Ei&&(ft-=gt.y,Ve+=gt.y):(ft-=gt.y,Ve+=gt.y);Ke<0&&ft<0?(Oe=se,ft=-ft,Ke=-Ke,Ve-=ft,et-=Ke):Ke<0?(Oe=re,Ke=-Ke,et-=Ke):ft<0&&(Oe=ye,ft=-ft,Ve-=ft);break;case ye:if(Je){if(gt.x<=0&&(et<=Wi||hi>=fn)){Ft=!1;break}xi(fe),Ke-=gt.x,et+=gt.x,ft=Ke/Je}else xi(De),xi(fe),gt.x<=0?et>Wi?(Ke-=gt.x,et+=gt.x):gt.y>=0&&hi>=fn&&(Ft=!1):(Ke-=gt.x,et+=gt.x),gt.y>=0?hi<fn&&(ft+=gt.y):ft+=gt.y;Ke<0&&ft<0?(Oe=re,ft=-ft,Ke=-Ke,Ve-=ft,et-=Ke):Ke<0?(Oe=se,Ke=-Ke,et-=Ke):ft<0&&(Oe=P,ft=-ft,Ve-=ft);break;case se:if(Je){if(gt.x>=0&&(fi>=Pi||hi>=fn)){Ft=!1;break}xi(ge),Ke+=gt.x,ft=Ke/Je}else xi(De),xi(ge),gt.x>=0?fi<Pi?Ke+=gt.x:gt.y>=0&&hi>=fn&&(Ft=!1):Ke+=gt.x,gt.y>=0?hi<fn&&(ft+=gt.y):ft+=gt.y;Ke<0&&ft<0?(Oe=P,ft=-ft,Ke=-Ke,Ve-=ft,et-=Ke):Ke<0?(Oe=ye,Ke=-Ke,et-=Ke):ft<0&&(Oe=re,ft=-ft,Ve-=ft);break;case ue:this.move(gt.x,gt.y),Ft=!1;break;case de:this.zoom(Fr(_e),_),Ft=!1;break;case ne:if(!gt.x||!gt.y){Ft=!1;break}rn=nr(this.cropper),et=ri.startX-rn.left,Ve=ri.startY-rn.top,Ke=ae.minWidth,ft=ae.minHeight,gt.x>0?Oe=gt.y>0?se:re:gt.x<0&&(et-=Ke,Oe=gt.y>0?ye:P),gt.y<0&&(Ve-=ft),this.cropped||(Ki(this.cropBox,Be),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ft&&(ae.width=Ke,ae.height=ft,ae.left=et,ae.top=Ve,this.action=Oe,this.renderCropBox()),wi(_e,function(on){on.startX=on.endX,on.startY=on.endY})}},li={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Hi(this.dragBox,Y),Ki(this.cropBox,Be),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ui({},this.initialImageData),this.canvasData=ui({},this.initialCanvasData),this.cropBoxData=ui({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ui(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ki(this.dragBox,Y),Hi(this.cropBox,Be)),this},replace:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&_&&(this.isImg&&(this.element.src=_),T?(this.url=_,this.image.src=_,this.ready&&(this.viewBoxImage.src=_,wi(this.previews,function(R){R.getElementsByTagName("img")[0].src=_}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(_))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ki(this.cropper,it)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Hi(this.cropper,it)),this},destroy:function(){var _=this.element;return _[z]?(_[z]=void 0,this.isImg&&this.replaced&&(_.src=this.originalUrl),this.uncreate(),this):this},move:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,R=this.canvasData,ie=R.left,ae=R.top;return this.moveTo(Ut(_)?_:ie+Number(_),Ut(T)?T:ae+Number(T))},moveTo:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,R=this.canvasData,ie=!1;return _=Number(_),T=Number(T),this.ready&&!this.disabled&&this.options.movable&&(xt(_)&&(R.left=_,ie=!0),xt(T)&&(R.top=T,ie=!0),ie&&this.renderCanvas(!0)),this},zoom:function(_,T){var R=this.canvasData;return _=Number(_),_<0?_=1/(1-_):_=1+_,this.zoomTo(R.width*_/R.naturalWidth,null,T)},zoomTo:function(_,T,R){var ie=this.options,ae=this.canvasData,_e=ae.width,Oe=ae.height,Je=ae.naturalWidth,et=ae.naturalHeight;if(_=Number(_),_>=0&&this.ready&&!this.disabled&&ie.zoomable){var Ve=Je*_,Ke=et*_;if(ir(this.element,pe,{ratio:_,oldRatio:_e/Je,originalEvent:R})===!1)return this;if(R){var ft=this.pointers,fi=nr(this.cropper),hi=ft&&Object.keys(ft).length?co(ft):{pageX:R.pageX,pageY:R.pageY};ae.left-=(Ve-_e)*((hi.pageX-fi.left-ae.left)/_e),ae.top-=(Ke-Oe)*((hi.pageY-fi.top-ae.top)/Oe)}else sn(T)&&xt(T.x)&&xt(T.y)?(ae.left-=(Ve-_e)*((T.x-ae.left)/_e),ae.top-=(Ke-Oe)*((T.y-ae.top)/Oe)):(ae.left-=(Ve-_e)/2,ae.top-=(Ke-Oe)/2);ae.width=Ve,ae.height=Ke,this.renderCanvas(!0)}return this},rotate:function(_){return this.rotateTo((this.imageData.rotate||0)+Number(_))},rotateTo:function(_){return _=Number(_),xt(_)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=_%360,this.renderCanvas(!0,!0)),this},scaleX:function(_){var T=this.imageData.scaleY;return this.scale(_,xt(T)?T:1)},scaleY:function(_){var T=this.imageData.scaleX;return this.scale(xt(T)?T:1,_)},scale:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,R=this.imageData,ie=!1;return _=Number(_),T=Number(T),this.ready&&!this.disabled&&this.options.scalable&&(xt(_)&&(R.scaleX=_,ie=!0),xt(T)&&(R.scaleY=T,ie=!0),ie&&this.renderCanvas(!0,!0)),this},getData:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.options,R=this.imageData,ie=this.canvasData,ae=this.cropBoxData,_e;if(this.ready&&this.cropped){_e={x:ae.left-ie.left,y:ae.top-ie.top,width:ae.width,height:ae.height};var Oe=R.width/R.naturalWidth;if(wi(_e,function(Ve,Ke){_e[Ke]=Ve/Oe}),_){var Je=Math.round(_e.y+_e.height),et=Math.round(_e.x+_e.width);_e.x=Math.round(_e.x),_e.y=Math.round(_e.y),_e.width=et-_e.x,_e.height=Je-_e.y}}else _e={x:0,y:0,width:0,height:0};return T.rotatable&&(_e.rotate=R.rotate||0),T.scalable&&(_e.scaleX=R.scaleX||1,_e.scaleY=R.scaleY||1),_e},setData:function(_){var T=this.options,R=this.imageData,ie=this.canvasData,ae={};if(this.ready&&!this.disabled&&sn(_)){var _e=!1;T.rotatable&&xt(_.rotate)&&_.rotate!==R.rotate&&(R.rotate=_.rotate,_e=!0),T.scalable&&(xt(_.scaleX)&&_.scaleX!==R.scaleX&&(R.scaleX=_.scaleX,_e=!0),xt(_.scaleY)&&_.scaleY!==R.scaleY&&(R.scaleY=_.scaleY,_e=!0)),_e&&this.renderCanvas(!0,!0);var Oe=R.width/R.naturalWidth;xt(_.x)&&(ae.left=_.x*Oe+ie.left),xt(_.y)&&(ae.top=_.y*Oe+ie.top),xt(_.width)&&(ae.width=_.width*Oe),xt(_.height)&&(ae.height=_.height*Oe),this.setCropBoxData(ae)}return this},getContainerData:function(){return this.ready?ui({},this.containerData):{}},getImageData:function(){return this.sized?ui({},this.imageData):{}},getCanvasData:function(){var _=this.canvasData,T={};return this.ready&&wi(["left","top","width","height","naturalWidth","naturalHeight"],function(R){T[R]=_[R]}),T},setCanvasData:function(_){var T=this.canvasData,R=T.aspectRatio;return this.ready&&!this.disabled&&sn(_)&&(xt(_.left)&&(T.left=_.left),xt(_.top)&&(T.top=_.top),xt(_.width)?(T.width=_.width,T.height=_.width/R):xt(_.height)&&(T.height=_.height,T.width=_.height*R),this.renderCanvas(!0)),this},getCropBoxData:function(){var _=this.cropBoxData,T;return this.ready&&this.cropped&&(T={left:_.left,top:_.top,width:_.width,height:_.height}),T||{}},setCropBoxData:function(_){var T=this.cropBoxData,R=this.options.aspectRatio,ie,ae;return this.ready&&this.cropped&&!this.disabled&&sn(_)&&(xt(_.left)&&(T.left=_.left),xt(_.top)&&(T.top=_.top),xt(_.width)&&_.width!==T.width&&(ie=!0,T.width=_.width),xt(_.height)&&_.height!==T.height&&(ae=!0,T.height=_.height),R&&(ie?T.height=T.width/R:ae&&(T.width=T.height*R)),this.renderCropBox()),this},getCroppedCanvas:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var T=this.canvasData,R=Lt(this.image,this.imageData,T,_);if(!this.cropped)return R;var ie=this.getData(_.rounded),ae=ie.x,_e=ie.y,Oe=ie.width,Je=ie.height,et=R.width/Math.floor(T.naturalWidth);et!==1&&(ae*=et,_e*=et,Oe*=et,Je*=et);var Ve=Oe/Je,Ke=Yn({aspectRatio:Ve,width:_.maxWidth||1/0,height:_.maxHeight||1/0}),ft=Yn({aspectRatio:Ve,width:_.minWidth||0,height:_.minHeight||0},"cover"),fi=Yn({aspectRatio:Ve,width:_.width||(et!==1?R.width:Oe),height:_.height||(et!==1?R.height:Je)}),hi=fi.width,Wi=fi.height;hi=Math.min(Ke.width,Math.max(ft.width,hi)),Wi=Math.min(Ke.height,Math.max(ft.height,Wi));var Ei=document.createElement("canvas"),Pi=Ei.getContext("2d");Ei.width=Bi(hi),Ei.height=Bi(Wi),Pi.fillStyle=_.fillColor||"transparent",Pi.fillRect(0,0,hi,Wi);var fn=_.imageSmoothingEnabled,Ft=fn===void 0?!0:fn,rn=_.imageSmoothingQuality;Pi.imageSmoothingEnabled=Ft,rn&&(Pi.imageSmoothingQuality=rn);var ri=R.width,gt=R.height,xi=ae,on=_e,or,Sn,qr,Rr,Zt,oi;xi<=-Oe||xi>ri?(xi=0,or=0,qr=0,Zt=0):xi<=0?(qr=-xi,xi=0,or=Math.min(ri,Oe+xi),Zt=or):xi<=ri&&(qr=0,or=Math.min(Oe,ri-xi),Zt=or),or<=0||on<=-Je||on>gt?(on=0,Sn=0,Rr=0,oi=0):on<=0?(Rr=-on,on=0,Sn=Math.min(gt,Je+on),oi=Sn):on<=gt&&(Rr=0,Sn=Math.min(Je,gt-on),oi=Sn);var _n=[xi,on,or,Sn];if(Zt>0&&oi>0){var Nr=hi/Oe;_n.push(qr*Nr,Rr*Nr,Zt*Nr,oi*Nr)}return Pi.drawImage.apply(Pi,[R].concat(S(_n.map(function(Uo){return Math.floor(Bi(Uo))})))),Ei},setAspectRatio:function(_){var T=this.options;return!this.disabled&&!Ut(_)&&(T.aspectRatio=Math.max(0,_)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(_){var T=this.options,R=this.dragBox,ie=this.face;if(this.ready&&!this.disabled){var ae=_===we,_e=T.movable&&_===Te;_=ae||_e?_:qe,T.dragMode=_,jn(R,Re,_),pr(R,Ee,ae),pr(R,Le,_e),T.cropBoxMovable||(jn(ie,Re,_),pr(ie,Ee,ae),pr(ie,Le,_e))}return this}},fo=E.Cropper,Wt=function(){function ke(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(h(this,ke),!_||!Pt.test(_.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=_,this.options=ui({},Yt,sn(T)&&T),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return x(ke,[{key:"init",value:function(){var T=this.element,R=T.tagName.toLowerCase(),ie;if(!T[z]){if(T[z]=this,R==="img"){if(this.isImg=!0,ie=T.getAttribute("src")||"",this.originalUrl=ie,!ie)return;ie=T.src}else R==="canvas"&&window.HTMLCanvasElement&&(ie=T.toDataURL());this.load(ie)}}},{key:"load",value:function(T){var R=this;if(T){this.url=T,this.imageData={};var ie=this.element,ae=this.options;if(!ae.rotatable&&!ae.scalable&&(ae.checkOrientation=!1),!ae.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Qe.test(T)){mt.test(T)?this.read(J(T)):this.clone();return}var _e=new XMLHttpRequest,Oe=this.clone.bind(this);this.reloading=!0,this.xhr=_e,_e.onabort=Oe,_e.onerror=Oe,_e.ontimeout=Oe,_e.onprogress=function(){_e.getResponseHeader("content-type")!==Ie&&_e.abort()},_e.onload=function(){R.read(_e.response)},_e.onloadend=function(){R.reloading=!1,R.xhr=null},ae.checkCrossOrigin&&eo(T)&&ie.crossOrigin&&(T=wr(T)),_e.open("GET",T,!0),_e.responseType="arraybuffer",_e.withCredentials=ie.crossOrigin==="use-credentials",_e.send()}}},{key:"read",value:function(T){var R=this.options,ie=this.imageData,ae=He(T),_e=0,Oe=1,Je=1;if(ae>1){this.url=xe(T,Ie);var et=nt(ae);_e=et.rotate,Oe=et.scaleX,Je=et.scaleY}R.rotatable&&(ie.rotate=_e),R.scalable&&(ie.scaleX=Oe,ie.scaleY=Je),this.clone()}},{key:"clone",value:function(){var T=this.element,R=this.url,ie=T.crossOrigin,ae=R;this.options.checkCrossOrigin&&eo(R)&&(ie||(ie="anonymous"),ae=wr(R)),this.crossOrigin=ie,this.crossOriginUrl=ae;var _e=document.createElement("img");ie&&(_e.crossOrigin=ie),_e.src=ae||R,_e.alt=T.alt||"The image to crop",this.image=_e,_e.onload=this.start.bind(this),_e.onerror=this.stop.bind(this),Hi(_e,Me),T.parentNode.insertBefore(_e,T.nextSibling)}},{key:"start",value:function(){var T=this,R=this.image;R.onload=null,R.onerror=null,this.sizing=!0;var ie=E.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(E.navigator.userAgent),ae=function(et,Ve){ui(T.imageData,{naturalWidth:et,naturalHeight:Ve,aspectRatio:et/Ve}),T.initialImageData=ui({},T.imageData),T.sizing=!1,T.sized=!0,T.build()};if(R.naturalWidth&&!ie){ae(R.naturalWidth,R.naturalHeight);return}var _e=document.createElement("img"),Oe=document.body||document.documentElement;this.sizingImage=_e,_e.onload=function(){ae(_e.width,_e.height),ie||Oe.removeChild(_e)},_e.src=R.src,ie||(_e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Oe.appendChild(_e))}},{key:"stop",value:function(){var T=this.image;T.onload=null,T.onerror=null,T.parentNode.removeChild(T),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var T=this.element,R=this.options,ie=this.image,ae=T.parentNode,_e=document.createElement("div");_e.innerHTML=Qt;var Oe=_e.querySelector(".".concat(z,"-container")),Je=Oe.querySelector(".".concat(z,"-canvas")),et=Oe.querySelector(".".concat(z,"-drag-box")),Ve=Oe.querySelector(".".concat(z,"-crop-box")),Ke=Ve.querySelector(".".concat(z,"-face"));this.container=ae,this.cropper=Oe,this.canvas=Je,this.dragBox=et,this.cropBox=Ve,this.viewBox=Oe.querySelector(".".concat(z,"-view-box")),this.face=Ke,Je.appendChild(ie),Hi(T,Be),ae.insertBefore(Oe,T.nextSibling),Ki(ie,Me),this.initPreview(),this.bind(),R.initialAspectRatio=Math.max(0,R.initialAspectRatio)||NaN,R.aspectRatio=Math.max(0,R.aspectRatio)||NaN,R.viewMode=Math.max(0,Math.min(3,Math.round(R.viewMode)))||0,Hi(Ve,Be),R.guides||Hi(Ve.getElementsByClassName("".concat(z,"-dashed")),Be),R.center||Hi(Ve.getElementsByClassName("".concat(z,"-center")),Be),R.background&&Hi(Oe,"".concat(z,"-bg")),R.highlight||Hi(Ke,te),R.cropBoxMovable&&(Hi(Ke,Le),jn(Ke,Re,V)),R.cropBoxResizable||(Hi(Ve.getElementsByClassName("".concat(z,"-line")),Be),Hi(Ve.getElementsByClassName("".concat(z,"-point")),Be)),this.render(),this.ready=!0,this.setDragMode(R.dragMode),R.autoCrop&&this.crop(),this.setData(R.data),yi(R.ready)&&Qi(T,le,R.ready,{once:!0}),ir(T,le)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var T=this.cropper.parentNode;T&&T.removeChild(this.cropper),Ki(this.element,Be)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=fo,ke}},{key:"setDefaults",value:function(T){ui(Yt,sn(T)&&T)}}])}();return ui(Wt.prototype,je,pt,ni,Ui,Nt,li),Wt})}(Rh)),Rh.exports}var Kg;function $T(){if(Kg)return wh;Kg=1,Object.defineProperty(wh,"__esModule",{value:!0});var t=zT,e=u(t),r=BT(),s=u(r);function u(b){return b&&b.__esModule?b:{default:b}}function l(b,x){var w={};for(var S in b)x.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(b,S)&&(w[S]=b[S]);return w}var f=e.default.extend({render:function(x){return x("div",{style:this.containerStyle},[x("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var x=this.$options.props;x.containerStyle,x.src,x.alt,x.imgStyle;var w=l(x,["containerStyle","src","alt","imgStyle"]),S={};for(var O in w)this[O]!==void 0&&(S[O]=this[O]);this.cropper=new s.default(this.$refs.img,S)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(x,w)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(x,w){return this.cropper.move(x,w)},moveTo:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.moveTo(x,w)},relativeZoom:function(x,w){return this.cropper.zoom(x,w)},zoomTo:function(x,w){return this.cropper.zoomTo(x,w)},rotate:function(x){return this.cropper.rotate(x)},rotateTo:function(x){return this.cropper.rotateTo(x)},scaleX:function(x){return this.cropper.scaleX(x)},scaleY:function(x){return this.cropper.scaleY(x)},scale:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.scale(x,w)},getData:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(x)},setData:function(x){return this.cropper.setData(x)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(x){return this.cropper.setCanvasData(x)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(x){return this.cropper.setCropBoxData(x)},getCroppedCanvas:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(x)},setAspectRatio:function(x){return this.cropper.setAspectRatio(x)},setDragMode:function(x){return this.cropper.setDragMode(x)}}}),h=e.default.component("vue-cropper",f);return wh.default=h,wh}$T();const od=typeof window<"u"&&typeof window.document<"u",Oa=od?window:{},Xp=od?"ontouchstart"in Oa.document.documentElement:!1,Vp=od?"PointerEvent"in Oa:!1,Ru="cropper",cc=`${Ru}-canvas`,HT=`${Ru}-crosshair`,WT=`${Ru}-grid`,qT=`${Ru}-handle`,oc=`${Ru}-image`,us=`${Ru}-selection`,jT=`${Ru}-shade`,UT=`${Ru}-viewer`,Vh="select",kb="move",ac="scale",Ap="rotate",Kh="transform",Su="none",Qg="n-resize",Jg="e-resize",e0="s-resize",t0="w-resize",Yc="ne-resize",Gc="nw-resize",Zc="se-resize",Xc="sw-resize",YT="action",GT=Xp?"touchend touchcancel":"mouseup",ZT=Xp?"touchmove":"mousemove",XT=Xp?"touchstart":"mousedown",i0=Vp?"pointerdown":XT,n0=Vp?"pointermove":ZT,r0=Vp?"pointerup pointercancel":GT,o0="error",a0="keydown",Ql="load",s0="wheel",sc="action",pl="actionend",VT="actionmove",ml="actionstart",Mu="change",Dp="transform";function Nh(t){return typeof t=="string"}const Cb=Number.isNaN||Oa.isNaN;function Li(t){return typeof t=="number"&&!Cb(t)}function ko(t){return Li(t)&&t>0&&t<1/0}function KT(t){return typeof t>"u"}function Eb(t){return typeof t=="object"&&t!==null}const{hasOwnProperty:QT}=Object.prototype;function Qh(t){if(!Eb(t))return!1;try{const{constructor:e}=t,{prototype:r}=e;return e&&r&&QT.call(r,"isPrototypeOf")}catch{return!1}}function Kp(t){return typeof t=="function"}function uf(t){return typeof t=="object"&&t!==null&&t.nodeType===1}const JT=/([a-z\d])([A-Z])/g;function u0(t){return String(t).replace(JT,"$1-$2").toLowerCase()}const eA=/-[A-z\d]/g;function l0(t){return t.replace(eA,e=>e.slice(1).toUpperCase())}const Sb=/\s\s*/;function hr(t,e,r,s){e.trim().split(Sb).forEach(u=>{t.removeEventListener(u,r,s)})}function yr(t,e,r,s){e.trim().split(Sb).forEach(u=>{t.addEventListener(u,r,s)})}function c0(t,e,r,s){yr(t,e,r,Object.assign(Object.assign({},s),{once:!0}))}const tA={bubbles:!0,cancelable:!0,composed:!0};function iA(t,e,r,s){return t.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign(Object.assign({},tA),{detail:r}),s)))}const f0=Promise.resolve();function nA(t,e){return e?f0.then(t?e.bind(t):e):f0}function h0(t){const{documentElement:e}=t.ownerDocument,r=t.getBoundingClientRect();return{left:r.left+(Oa.pageXOffset-e.clientLeft),top:r.top+(Oa.pageYOffset-e.clientTop)}}const rA=/deg|g?rad|turn$/i;function fp(t){const e=parseFloat(t)||0;if(e!==0){const[r="rad"]=String(t).match(rA)||[];switch(r.toLowerCase()){case"deg":return e/360*(Math.PI*2);case"grad":return e/400*(Math.PI*2);case"turn":return e*(Math.PI*2)}}return e}const d0="contain",oA="cover";function zh(t,e=d0){const{aspectRatio:r}=t;let{width:s,height:u}=t;const l=ko(s),f=ko(u);if(l&&f){const h=u*r;e===d0&&h>s||e===oA&&h<s?u=s/r:s=u*r}else l?u=s/r:f&&(s=u*r);return{width:s,height:u}}function Tb(t,...e){if(e.length===0)return t;const[r,s,u,l,f,h]=t,[b,x,w,S,O,W]=e[0];return t=[r*b+u*x,s*b+l*x,r*w+u*S,s*w+l*S,r*O+u*W+f,s*O+l*W+h],Tb(t,...e.slice(1))}var aA=":host([hidden]){display:none!important}";const sA=/left|top|width|height/i,p0="open",xh=new WeakMap,kh=new WeakMap,m0=new Map,g0=Oa.document&&Array.isArray(Oa.document.adoptedStyleSheets)&&"replaceSync"in Oa.CSSStyleSheet.prototype;class $s extends HTMLElement{get $sharedStyle(){return`${this.themeColor?`:host{--theme-color: ${this.themeColor};}`:""}${aA}`}constructor(){var e,r;super(),this.shadowRootMode=p0,this.slottable=!0;const s=(r=(e=Object.getPrototypeOf(this))===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.$name;s&&m0.set(s,this.tagName.toLowerCase())}static get observedAttributes(){return["shadow-root-mode","slottable","theme-color"]}attributeChangedCallback(e,r,s){if(Object.is(s,r))return;const u=l0(e),l=this[u];let f=s;switch(typeof l){case"boolean":f=s!==null&&s!=="false";break;case"number":f=Number(s);break}switch(this[u]=f,e){case"theme-color":{const h=kh.get(this),b=this.$sharedStyle;h&&b&&(g0?h.replaceSync(b):h.textContent=b);break}}}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(e=u0(e),typeof s){case"boolean":s===!0?this.hasAttribute(e)||this.setAttribute(e,""):this.removeAttribute(e);break;case"number":Cb(s)?s="":s=String(s);default:s?this.getAttribute(e)!==s&&this.setAttribute(e,s):this.removeAttribute(e)}}connectedCallback(){Object.getPrototypeOf(this).constructor.observedAttributes.forEach(r=>{const s=l0(r);let u=this[s];KT(u)||this.$propertyChangedCallback(s,void 0,u),Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get(){return u},set(l){const f=u;u=l,this.$propertyChangedCallback(s,f,l)}})});const e=this.attachShadow({mode:this.shadowRootMode||p0});if(this.shadowRoot||xh.set(this,e),kh.set(this,this.$addStyles(this.$sharedStyle)),this.$style&&this.$addStyles(this.$style),this.$template){const r=document.createElement("template");r.innerHTML=this.$template,e.appendChild(r.content)}if(this.slottable){const r=document.createElement("slot");e.appendChild(r)}}disconnectedCallback(){kh.has(this)&&kh.delete(this),xh.has(this)&&xh.delete(this)}$getTagNameOf(e){var r;return(r=m0.get(e))!==null&&r!==void 0?r:e}$setStyles(e){return Object.keys(e).forEach(r=>{let s=e[r];Li(s)&&(s!==0&&sA.test(r)?s=`${s}px`:s=String(s)),this.style[r]=s}),this}$getShadowRoot(){return this.shadowRoot||xh.get(this)}$addStyles(e){let r;const s=this.$getShadowRoot();return g0?(r=new CSSStyleSheet,r.replaceSync(e),s.adoptedStyleSheets=s.adoptedStyleSheets.concat(r)):(r=document.createElement("style"),r.textContent=e,s.appendChild(r)),r}$emit(e,r,s){return iA(this,e,r,s)}$nextTick(e){return nA(this,e)}static $define(e,r){Eb(e)&&(r=e,e=""),e||(e=this.$name||this.name),e=u0(e),od&&Oa.customElements&&!Oa.customElements.get(e)&&customElements.define(e,this,r)}}$s.$version="2.0.0";var uA=':host{display:block;min-height:100px;min-width:200px;overflow:hidden;position:relative;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([background]){background-color:#fff;background-image:repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc),repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc);background-image:repeating-conic-gradient(#ccc 0 25%,#fff 0 50%);background-position:0 0,.5rem .5rem;background-size:1rem 1rem}:host([disabled]){pointer-events:none}:host([disabled]):after{bottom:0;content:"";cursor:not-allowed;display:block;left:0;pointer-events:none;position:absolute;right:0;top:0}';class Qp extends $s{constructor(){super(...arguments),this.$onPointerDown=null,this.$onPointerMove=null,this.$onPointerUp=null,this.$onWheel=null,this.$wheeling=!1,this.$pointers=new Map,this.$style=uA,this.$action=Su,this.background=!1,this.disabled=!1,this.scaleStep=.1,this.themeColor="#39f"}static get observedAttributes(){return super.observedAttributes.concat(["background","disabled","scale-step"])}connectedCallback(){super.connectedCallback(),this.disabled||this.$bind()}disconnectedCallback(){this.disabled||this.$unbind(),super.disconnectedCallback()}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(super.$propertyChangedCallback(e,r,s),e){case"disabled":s?this.$unbind():this.$bind();break}}$bind(){this.$onPointerDown||(this.$onPointerDown=this.$handlePointerDown.bind(this),yr(this,i0,this.$onPointerDown)),this.$onPointerMove||(this.$onPointerMove=this.$handlePointerMove.bind(this),yr(this.ownerDocument,n0,this.$onPointerMove)),this.$onPointerUp||(this.$onPointerUp=this.$handlePointerUp.bind(this),yr(this.ownerDocument,r0,this.$onPointerUp)),this.$onWheel||(this.$onWheel=this.$handleWheel.bind(this),yr(this,s0,this.$onWheel,{passive:!1,capture:!0}))}$unbind(){this.$onPointerDown&&(hr(this,i0,this.$onPointerDown),this.$onPointerDown=null),this.$onPointerMove&&(hr(this.ownerDocument,n0,this.$onPointerMove),this.$onPointerMove=null),this.$onPointerUp&&(hr(this.ownerDocument,r0,this.$onPointerUp),this.$onPointerUp=null),this.$onWheel&&(hr(this,s0,this.$onWheel,{capture:!0}),this.$onWheel=null)}$handlePointerDown(e){const{buttons:r,button:s,type:u}=e;if(this.disabled||(u==="pointerdown"&&e.pointerType==="mouse"||u==="mousedown")&&(Li(r)&&r!==1||Li(s)&&s!==0||e.ctrlKey))return;const{$pointers:l}=this;let f="";if(e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:h,pageX:b,pageY:x})=>{l.set(h,{startX:b,startY:x,endX:b,endY:x})});else{const{pointerId:h=0,pageX:b,pageY:x}=e;l.set(h,{startX:b,startY:x,endX:b,endY:x})}l.size>1?f=Kh:uf(e.target)&&(f=e.target.action||e.target.getAttribute(YT)||""),this.$emit(ml,{action:f,relatedEvent:e})!==!1&&(e.preventDefault(),this.$action=f,this.style.willChange="transform")}$handlePointerMove(e){const{$action:r,$pointers:s}=this;if(this.disabled||r===Su||s.size===0||this.$emit(VT,{action:r,relatedEvent:e})===!1)return;if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:l,pageX:f,pageY:h})=>{const b=s.get(l);b&&Object.assign(b,{endX:f,endY:h})});else{const{pointerId:l=0,pageX:f,pageY:h}=e,b=s.get(l);b&&Object.assign(b,{endX:f,endY:h})}const u={action:r,relatedEvent:e};if(r===Kh){const l=new Map(s);let f=0,h=0,b=0,x=0,w=e.pageX,S=e.pageY;s.forEach((N,j)=>{l.delete(j),l.forEach(q=>{let M=q.startX-N.startX,E=q.startY-N.startY,D=q.endX-N.endX,B=q.endY-N.endY,z=0,V=0,ne=0,ue=0;if(M===0?E<0?ne=Math.PI*2:E>0&&(ne=Math.PI):M>0?ne=Math.PI/2+Math.atan(E/M):M<0&&(ne=Math.PI*1.5+Math.atan(E/M)),D===0?B<0?ue=Math.PI*2:B>0&&(ue=Math.PI):D>0?ue=Math.PI/2+Math.atan(B/D):D<0&&(ue=Math.PI*1.5+Math.atan(B/D)),ue>0||ne>0){const de=ue-ne,ge=Math.abs(de);ge>f&&(f=ge,b=de,w=(N.startX+q.startX)/2,S=(N.startY+q.startY)/2)}if(M=Math.abs(M),E=Math.abs(E),D=Math.abs(D),B=Math.abs(B),M>0&&E>0?z=Math.sqrt(M*M+E*E):M>0?z=M:E>0&&(z=E),D>0&&B>0?V=Math.sqrt(D*D+B*B):D>0?V=D:B>0&&(V=B),z>0&&V>0){const de=(V-z)/z,ge=Math.abs(de);ge>h&&(h=ge,x=de,w=(N.startX+q.startX)/2,S=(N.startY+q.startY)/2)}})});const O=f>0,W=h>0;O&&W?(u.rotate=b,u.scale=x,u.centerX=w,u.centerY=S):O?(u.action=Ap,u.rotate=b,u.centerX=w,u.centerY=S):W?(u.action=ac,u.scale=x,u.centerX=w,u.centerY=S):u.action=Su}else{const[l]=Array.from(s.values());Object.assign(u,l)}s.forEach(l=>{l.startX=l.endX,l.startY=l.endY}),u.action!==Su&&this.$emit(sc,u,{cancelable:!1})}$handlePointerUp(e){const{$action:r,$pointers:s}=this;if(!(this.disabled||r===Su)&&this.$emit(pl,{action:r,relatedEvent:e})!==!1){if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:u})=>{s.delete(u)});else{const{pointerId:u=0}=e;s.delete(u)}s.size===0&&(this.style.willChange="",this.$action=Su)}}$handleWheel(e){if(this.disabled||(e.preventDefault(),this.$wheeling))return;this.$wheeling=!0,setTimeout(()=>{this.$wheeling=!1},50);const s=(e.deltaY>0?-1:1)*this.scaleStep;this.$emit(sc,{action:ac,scale:s,relatedEvent:e},{cancelable:!1})}$setAction(e){return Nh(e)&&(this.$action=e),this}$toCanvas(e){return new Promise((r,s)=>{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const u=document.createElement("canvas");let l=this.offsetWidth,f=this.offsetHeight,h=1;Qh(e)&&(ko(e.width)||ko(e.height))&&({width:l,height:f}=zh({aspectRatio:l/f,width:e.width,height:e.height}),h=l/this.offsetWidth),u.width=l,u.height=f;const b=this.querySelector(this.$getTagNameOf(oc));if(!b){r(u);return}b.$ready().then(x=>{const w=u.getContext("2d");if(w){const[S,O,W,N,j,q]=b.$getTransform();let M=j,E=q,D=x.naturalWidth,B=x.naturalHeight;h!==1&&(M*=h,E*=h,D*=h,B*=h);const z=D/2,V=B/2;w.fillStyle="transparent",w.fillRect(0,0,l,f),Qh(e)&&Kp(e.beforeDraw)&&e.beforeDraw.call(this,w,u),w.save(),w.translate(z,V),w.transform(S,O,W,N,M,E),w.translate(-z,-V),w.drawImage(x,0,0,D,B),w.restore()}r(u)}).catch(s)})}}Qp.$name=cc;Qp.$version="2.0.0";var lA=":host{display:inline-block}img{display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}";const v0=new WeakMap,b0=["alt","crossorigin","decoding","importance","loading","referrerpolicy","sizes","src","srcset"];class Jp extends $s{constructor(){super(...arguments),this.$matrix=[1,0,0,1,0,0],this.$onLoad=null,this.$onCanvasAction=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$actionStartTarget=null,this.$style=lA,this.$image=new Image,this.initialCenterSize="contain",this.rotatable=!1,this.scalable=!1,this.skewable=!1,this.slottable=!1,this.translatable=!1}set $canvas(e){v0.set(this,e)}get $canvas(){return v0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(b0,["initial-center-size","rotatable","scalable","skewable","translatable"])}attributeChangedCallback(e,r,s){Object.is(s,r)||(super.attributeChangedCallback(e,r,s),b0.includes(e)&&this.$image.setAttribute(e,s))}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(super.$propertyChangedCallback(e,r,s),e){case"initialCenterSize":this.$nextTick(()=>{this.$center(s)});break}}connectedCallback(){super.connectedCallback();const{$image:e}=this,r=this.closest(this.$getTagNameOf(cc));r&&(this.$canvas=r,this.$setStyles({display:"block",position:"absolute"}),this.$onCanvasActionStart=s=>{var u,l;this.$actionStartTarget=(l=(u=s.detail)===null||u===void 0?void 0:u.relatedEvent)===null||l===void 0?void 0:l.target},this.$onCanvasActionEnd=()=>{this.$actionStartTarget=null},this.$onCanvasAction=this.$handleAction.bind(this),yr(r,ml,this.$onCanvasActionStart),yr(r,pl,this.$onCanvasActionEnd),yr(r,sc,this.$onCanvasAction)),this.$onLoad=this.$handleLoad.bind(this),yr(e,Ql,this.$onLoad),this.$getShadowRoot().appendChild(e)}disconnectedCallback(){const{$image:e,$canvas:r}=this;r&&(this.$onCanvasActionStart&&(hr(r,ml,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(hr(r,pl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(hr(r,sc,this.$onCanvasAction),this.$onCanvasAction=null)),e&&this.$onLoad&&(hr(e,Ql,this.$onLoad),this.$onLoad=null),this.$getShadowRoot().removeChild(e),super.disconnectedCallback()}$handleLoad(){const{$image:e}=this;this.$setStyles({width:e.naturalWidth,height:e.naturalHeight}),this.$canvas&&this.$center(this.initialCenterSize)}$handleAction(e){if(this.hidden||!(this.rotatable||this.scalable||this.translatable))return;const{$canvas:r}=this,{detail:s}=e;if(s){const{relatedEvent:u}=s;let{action:l}=s;switch(l===Kh&&(!this.rotatable||!this.scalable)&&(this.rotatable?l=Ap:this.scalable?l=ac:l=Su),l){case kb:if(this.translatable){let f=null;u&&(f=u.target.closest(this.$getTagNameOf(us))),f||(f=r.querySelector(this.$getTagNameOf(us))),f&&f.multiple&&!f.active&&(f=r.querySelector(`${this.$getTagNameOf(us)}[active]`)),(!f||f.hidden||!f.movable||f.dynamic||!(this.$actionStartTarget&&f.contains(this.$actionStartTarget)))&&this.$move(s.endX-s.startX,s.endY-s.startY)}break;case Ap:if(this.rotatable)if(u){const{x:f,y:h}=this.getBoundingClientRect();this.$rotate(s.rotate,u.clientX-f,u.clientY-h)}else this.$rotate(s.rotate);break;case ac:if(this.scalable)if(u){const f=u.target.closest(this.$getTagNameOf(us));if(!f||!f.zoomable||f.zoomable&&f.dynamic){const{x:h,y:b}=this.getBoundingClientRect();this.$zoom(s.scale,u.clientX-h,u.clientY-b)}}else this.$zoom(s.scale);break;case Kh:if(this.rotatable&&this.scalable){const{rotate:f}=s;let{scale:h}=s;h<0?h=1/(1-h):h+=1;const b=Math.cos(f),x=Math.sin(f),[w,S,O,W]=[b*h,x*h,-x*h,b*h];if(u){const N=this.getBoundingClientRect(),j=u.clientX-N.x,q=u.clientY-N.y,[M,E,D,B]=this.$matrix,z=N.width/2,V=N.height/2,ne=j-z,ue=q-V,de=(ne*B-D*ue)/(M*B-D*E),ge=(ue*M-E*ne)/(M*B-D*E);this.$transform(w,S,O,W,de*(1-w)+ge*O,ge*(1-W)+de*S)}else this.$transform(w,S,O,W,0,0)}break}}}$ready(e){const{$image:r}=this,s=new Promise((u,l)=>{const f=new Error("Failed to load the image source");if(r.complete)r.naturalWidth>0&&r.naturalHeight>0?u(r):l(f);else{const h=()=>{hr(r,o0,b),u(r)},b=()=>{hr(r,Ql,h),l(f)};c0(r,Ql,h),c0(r,o0,b)}});return Kp(e)&&s.then(u=>(e(u),u)),s}$center(e){const{parentElement:r}=this;if(!r)return this;const s=r.getBoundingClientRect(),u=s.width,l=s.height,{x:f,y:h,width:b,height:x}=this.getBoundingClientRect(),w=f+b/2,S=h+x/2,O=s.x+u/2,W=s.y+l/2;if(this.$move(O-w,W-S),e&&(b!==u||x!==l)){const N=u/b,j=l/x;switch(e){case"cover":this.$scale(Math.max(N,j));break;case"contain":this.$scale(Math.min(N,j));break}}return this}$move(e,r=e){if(this.translatable&&Li(e)&&Li(r)){const[s,u,l,f]=this.$matrix,h=(e*f-l*r)/(s*f-l*u),b=(r*s-u*e)/(s*f-l*u);this.$translate(h,b)}return this}$moveTo(e,r=e){if(this.translatable&&Li(e)&&Li(r)){const[s,u,l,f]=this.$matrix,h=(e*f-l*r)/(s*f-l*u),b=(r*s-u*e)/(s*f-l*u);this.$setTransform(s,u,l,f,h,b)}return this}$rotate(e,r,s){if(this.rotatable){const u=fp(e),l=Math.cos(u),f=Math.sin(u),[h,b,x,w]=[l,f,-f,l];if(Li(r)&&Li(s)){const[S,O,W,N]=this.$matrix,{width:j,height:q}=this.getBoundingClientRect(),M=j/2,E=q/2,D=r-M,B=s-E,z=(D*N-W*B)/(S*N-W*O),V=(B*S-O*D)/(S*N-W*O);this.$transform(h,b,x,w,z*(1-h)-V*x,V*(1-w)-z*b)}else this.$transform(h,b,x,w,0,0)}return this}$zoom(e,r,s){if(!this.scalable||e===0)return this;if(e<0?e=1/(1-e):e+=1,Li(r)&&Li(s)){const[u,l,f,h]=this.$matrix,{width:b,height:x}=this.getBoundingClientRect(),w=b/2,S=x/2,O=r-w,W=s-S,N=(O*h-f*W)/(u*h-f*l),j=(W*u-l*O)/(u*h-f*l);this.$transform(e,0,0,e,N*(1-e),j*(1-e))}else this.$scale(e);return this}$scale(e,r=e){return this.scalable&&this.$transform(e,0,0,r,0,0),this}$skew(e,r=0){if(this.skewable){const s=fp(e),u=fp(r);this.$transform(1,Math.tan(u),Math.tan(s),1,0,0)}return this}$translate(e,r=e){return this.translatable&&Li(e)&&Li(r)&&this.$transform(1,0,0,1,e,r),this}$transform(e,r,s,u,l,f){return Li(e)&&Li(r)&&Li(s)&&Li(u)&&Li(l)&&Li(f)?this.$setTransform(Tb(this.$matrix,[e,r,s,u,l,f])):this}$setTransform(e,r,s,u,l,f){if((this.rotatable||this.scalable||this.skewable||this.translatable)&&(Array.isArray(e)&&([e,r,s,u,l,f]=e),Li(e)&&Li(r)&&Li(s)&&Li(u)&&Li(l)&&Li(f))){const h=[...this.$matrix],b=[e,r,s,u,l,f];if(this.$emit(Dp,{matrix:b,oldMatrix:h})===!1)return this;this.$matrix=b,this.style.transform=`matrix(${b.join(", ")})`}return this}$getTransform(){return this.$matrix.slice()}$resetTransform(){return this.$setTransform([1,0,0,1,0,0])}}Jp.$name=oc;Jp.$version="2.0.0";var cA=":host{display:block;height:0;left:0;outline:var(--theme-color) solid 1px;position:relative;top:0;width:0}:host([transparent]){outline-color:transparent}";const _0=new WeakMap;class em extends $s{constructor(){super(...arguments),this.$onCanvasChange=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$style=cA,this.x=0,this.y=0,this.width=0,this.height=0,this.slottable=!1,this.themeColor="rgba(0, 0, 0, 0.65)"}set $canvas(e){_0.set(this,e)}get $canvas(){return _0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["height","width","x","y"])}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(cc));if(e){this.$canvas=e,this.style.position="absolute";const r=e.querySelector(this.$getTagNameOf(us));r&&(this.$onCanvasActionStart=s=>{r.hidden&&s.detail.action===Vh&&(this.hidden=!1)},this.$onCanvasActionEnd=s=>{r.hidden&&s.detail.action===Vh&&(this.hidden=!0)},this.$onCanvasChange=s=>{const{x:u,y:l,width:f,height:h}=s.detail;this.$change(u,l,f,h),(r.hidden||u===0&&l===0&&f===0&&h===0)&&(this.hidden=!0)},yr(e,ml,this.$onCanvasActionStart),yr(e,pl,this.$onCanvasActionEnd),yr(e,Mu,this.$onCanvasChange))}this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(hr(e,ml,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(hr(e,pl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasChange&&(hr(e,Mu,this.$onCanvasChange),this.$onCanvasChange=null)),super.disconnectedCallback()}$change(e,r,s=this.width,u=this.height){return!Li(e)||!Li(r)||!Li(s)||!Li(u)||e===this.x&&r===this.y&&s===this.width&&u===this.height?this:(this.hidden&&(this.hidden=!1),this.x=e,this.y=r,this.width=s,this.height=u,this.$render())}$reset(){return this.$change(0,0,0,0)}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height,outlineWidth:Oa.innerWidth})}}em.$name=jT;em.$version="2.0.0";var fA=':host{background-color:var(--theme-color);display:block}:host([action=move]),:host([action=select]){height:100%;left:0;position:absolute;top:0;width:100%}:host([action=move]){cursor:move}:host([action=select]){cursor:crosshair}:host([action$=-resize]){background-color:transparent;height:15px;position:absolute;width:15px}:host([action$=-resize]):after{background-color:var(--theme-color);content:"";display:block;height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:5px}:host([action=n-resize]),:host([action=s-resize]){cursor:ns-resize;left:50%;transform:translateX(-50%);width:100%}:host([action=n-resize]){top:-8px}:host([action=s-resize]){bottom:-8px}:host([action=e-resize]),:host([action=w-resize]){cursor:ew-resize;height:100%;top:50%;transform:translateY(-50%)}:host([action=e-resize]){right:-8px}:host([action=w-resize]){left:-8px}:host([action=ne-resize]){cursor:nesw-resize;right:-8px;top:-8px}:host([action=nw-resize]){cursor:nwse-resize;left:-8px;top:-8px}:host([action=se-resize]){bottom:-8px;cursor:nwse-resize;right:-8px}:host([action=se-resize]):after{height:15px;width:15px}@media (pointer:coarse){:host([action=se-resize]):after{height:10px;width:10px}}@media (pointer:fine){:host([action=se-resize]):after{height:5px;width:5px}}:host([action=sw-resize]){bottom:-8px;cursor:nesw-resize;left:-8px}:host([plain]){background-color:transparent}';class tm extends $s{constructor(){super(...arguments),this.$onCanvasCropEnd=null,this.$onCanvasCropStart=null,this.$style=fA,this.action=Su,this.plain=!1,this.slottable=!1,this.themeColor="rgba(51, 153, 255, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["action","plain"])}}tm.$name=qT;tm.$version="2.0.0";var hA=':host{display:block;left:0;position:relative;right:0}:host([outlined]){outline:1px solid var(--theme-color)}:host([multiple]){outline:1px dashed hsla(0,0%,100%,.5)}:host([multiple]):after{bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0}:host([multiple][active]){outline-color:var(--theme-color);z-index:1}:host([multiple])>*{visibility:hidden}:host([multiple][active])>*{visibility:visible}:host([multiple][active]):after{display:none}';const y0=new WeakMap;class im extends $s{constructor(){super(...arguments),this.$onCanvasAction=null,this.$onCanvasActionStart=null,this.$onCanvasActionEnd=null,this.$onDocumentKeyDown=null,this.$action="",this.$actionStartTarget=null,this.$changing=!1,this.$style=hA,this.$initialSelection={x:0,y:0,width:0,height:0},this.x=0,this.y=0,this.width=0,this.height=0,this.aspectRatio=NaN,this.initialAspectRatio=NaN,this.initialCoverage=NaN,this.active=!1,this.linked=!1,this.dynamic=!1,this.movable=!1,this.resizable=!1,this.zoomable=!1,this.multiple=!1,this.keyboard=!1,this.outlined=!1,this.precise=!1}set $canvas(e){y0.set(this,e)}get $canvas(){return y0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["active","aspect-ratio","dynamic","height","initial-aspect-ratio","initial-coverage","keyboard","linked","movable","multiple","outlined","precise","resizable","width","x","y","zoomable"])}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(super.$propertyChangedCallback(e,r,s),e){case"x":case"y":case"width":case"height":this.$changing||this.$nextTick(()=>{this.$change(this.x,this.y,this.width,this.height,this.aspectRatio,!0)});break;case"aspectRatio":case"initialAspectRatio":this.$nextTick(()=>{this.$initSelection()});break;case"initialCoverage":this.$nextTick(()=>{ko(s)&&s<=1&&this.$initSelection(!0,!0)});break;case"keyboard":this.$nextTick(()=>{this.$canvas&&(s?this.$onDocumentKeyDown||(this.$onDocumentKeyDown=this.$handleKeyDown.bind(this),yr(this.ownerDocument,a0,this.$onDocumentKeyDown)):this.$onDocumentKeyDown&&(hr(this.ownerDocument,a0,this.$onDocumentKeyDown),this.$onDocumentKeyDown=null))});break;case"multiple":this.$nextTick(()=>{if(this.$canvas){const u=this.$getSelections();s?(u.forEach(l=>{l.active=!1}),this.active=!0,this.$emit(Mu,{x:this.x,y:this.y,width:this.width,height:this.height})):(this.active=!1,u.slice(1).forEach(l=>{this.$removeSelection(l)}))}});break;case"precise":this.$nextTick(()=>{this.$change(this.x,this.y)});break;case"linked":s&&(this.dynamic=!0);break}}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(cc));e?(this.$canvas=e,this.$setStyles({position:"absolute",transform:`translate(${this.x}px, ${this.y}px)`}),this.hidden||this.$render(),this.$initSelection(!0),this.$onCanvasActionStart=this.$handleActionStart.bind(this),this.$onCanvasActionEnd=this.$handleActionEnd.bind(this),this.$onCanvasAction=this.$handleAction.bind(this),yr(e,ml,this.$onCanvasActionStart),yr(e,pl,this.$onCanvasActionEnd),yr(e,sc,this.$onCanvasAction)):this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(hr(e,ml,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(hr(e,pl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(hr(e,sc,this.$onCanvasAction),this.$onCanvasAction=null)),super.disconnectedCallback()}$getSelections(){let e=[];return this.parentElement&&(e=Array.from(this.parentElement.querySelectorAll(this.$getTagNameOf(us)))),e}$initSelection(e=!1,r=!1){const{initialCoverage:s,parentElement:u}=this;if(ko(s)&&u){const l=this.aspectRatio||this.initialAspectRatio;let f=(r?0:this.width)||u.offsetWidth*s,h=(r?0:this.height)||u.offsetHeight*s;ko(l)&&({width:f,height:h}=zh({aspectRatio:l,width:f,height:h})),this.$change(this.x,this.y,f,h),e&&this.$center(),this.$initialSelection={x:this.x,y:this.y,width:this.width,height:this.height}}}$createSelection(){const e=this.cloneNode(!0);return this.hasAttribute("id")&&e.removeAttribute("id"),e.initialCoverage=NaN,this.active=!1,this.parentElement&&this.parentElement.insertBefore(e,this.nextSibling),e}$removeSelection(e=this){if(this.parentElement){const r=this.$getSelections();if(r.length>1){const s=r.indexOf(e),u=r[s+1]||r[s-1];u&&(e.active=!1,this.parentElement.removeChild(e),u.active=!0,u.$emit(Mu,{x:u.x,y:u.y,width:u.width,height:u.height}))}else this.$clear()}}$handleActionStart(e){var r,s;const u=(s=(r=e.detail)===null||r===void 0?void 0:r.relatedEvent)===null||s===void 0?void 0:s.target;this.$action="",this.$actionStartTarget=u,!this.hidden&&this.multiple&&!this.active&&u===this&&this.parentElement&&(this.$getSelections().forEach(l=>{l.active=!1}),this.active=!0,this.$emit(Mu,{x:this.x,y:this.y,width:this.width,height:this.height}))}$handleAction(e){const{currentTarget:r,detail:s}=e;if(!r||!s)return;const{relatedEvent:u}=s;let{action:l}=s;if(!l&&this.multiple&&(l=this.$action||(u==null?void 0:u.target.action),this.$action=l),!l||this.hidden&&l!==Vh||this.multiple&&!this.active&&l!==ac)return;const f=s.endX-s.startX,h=s.endY-s.startY,{width:b,height:x}=this;let{aspectRatio:w}=this;switch(!ko(w)&&u.shiftKey&&(w=ko(b)&&ko(x)?b/x:1),l){case Vh:if(f!==0&&h!==0){const{$canvas:S}=this,O=h0(r);(this.multiple&&!this.hidden?this.$createSelection():this).$change(s.startX-O.left,s.startY-O.top,Math.abs(f),Math.abs(h),w),f<0?h<0?l=Gc:h>0&&(l=Xc):f>0&&(h<0?l=Yc:h>0&&(l=Zc)),S&&(S.$action=l)}break;case kb:this.movable&&(this.dynamic||this.$actionStartTarget&&this.contains(this.$actionStartTarget))&&this.$move(f,h);break;case ac:if(u&&this.zoomable&&(this.dynamic||this.contains(u.target))){const S=h0(r);this.$zoom(s.scale,u.pageX-S.left,u.pageY-S.top)}break;default:this.$resize(l,f,h,w)}}$handleActionEnd(){this.$action="",this.$actionStartTarget=null}$handleKeyDown(e){if(this.hidden||!this.keyboard||this.multiple&&!this.active||e.defaultPrevented)return;const{activeElement:r}=document;if(!(r&&(["INPUT","TEXTAREA"].includes(r.tagName)||["true","plaintext-only"].includes(r.contentEditable))))switch(e.key){case"Backspace":e.metaKey&&(e.preventDefault(),this.$removeSelection());break;case"Delete":e.preventDefault(),this.$removeSelection();break;case"ArrowLeft":e.preventDefault(),this.$move(-1,0);break;case"ArrowRight":e.preventDefault(),this.$move(1,0);break;case"ArrowUp":e.preventDefault(),this.$move(0,-1);break;case"ArrowDown":e.preventDefault(),this.$move(0,1);break;case"+":e.preventDefault(),this.$zoom(.1);break;case"-":e.preventDefault(),this.$zoom(-.1);break}}$center(){const{parentElement:e}=this;if(!e)return this;const r=(e.offsetWidth-this.width)/2,s=(e.offsetHeight-this.height)/2;return this.$change(r,s)}$move(e,r=e){return this.$moveTo(this.x+e,this.y+r)}$moveTo(e,r=e){return this.movable?this.$change(e,r):this}$resize(e,r=0,s=0,u=this.aspectRatio){if(!this.resizable)return this;const l=ko(u),{$canvas:f}=this;let{x:h,y:b,width:x,height:w}=this;switch(e){case Qg:b+=s,w-=s,w<0&&(e=e0,w=-w,b-=w),l&&(r=s*u,h+=r/2,x-=r,x<0&&(x=-x,h-=x));break;case Jg:x+=r,x<0&&(e=t0,x=-x,h-=x),l&&(s=r/u,b-=s/2,w+=s,w<0&&(w=-w,b-=w));break;case e0:w+=s,w<0&&(e=Qg,w=-w,b-=w),l&&(r=s*u,h-=r/2,x+=r,x<0&&(x=-x,h-=x));break;case t0:h+=r,x-=r,x<0&&(e=Jg,x=-x,h-=x),l&&(s=r/u,b+=s/2,w-=s,w<0&&(w=-w,b-=w));break;case Yc:l&&(s=-r/u),b+=s,w-=s,x+=r,x<0&&w<0?(e=Xc,x=-x,w=-w,h-=x,b-=w):x<0?(e=Gc,x=-x,h-=x):w<0&&(e=Zc,w=-w,b-=w);break;case Gc:l&&(s=r/u),h+=r,b+=s,x-=r,w-=s,x<0&&w<0?(e=Zc,x=-x,w=-w,h-=x,b-=w):x<0?(e=Yc,x=-x,h-=x):w<0&&(e=Xc,w=-w,b-=w);break;case Zc:l&&(s=r/u),x+=r,w+=s,x<0&&w<0?(e=Gc,x=-x,w=-w,h-=x,b-=w):x<0?(e=Xc,x=-x,h-=x):w<0&&(e=Yc,w=-w,b-=w);break;case Xc:l&&(s=-r/u),h+=r,x-=r,w+=s,x<0&&w<0?(e=Yc,x=-x,w=-w,h-=x,b-=w):x<0?(e=Zc,x=-x,h-=x):w<0&&(e=Gc,w=-w,b-=w);break}return f&&f.$setAction(e),this.$change(h,b,x,w)}$zoom(e,r,s){if(!this.zoomable||e===0)return this;e<0?e=1/(1-e):e+=1;const{width:u,height:l}=this,f=u*e,h=l*e;let b=this.x,x=this.y;return Li(r)&&Li(s)?(b-=(f-u)*((r-this.x)/u),x-=(h-l)*((s-this.y)/l)):(b-=(f-u)/2,x-=(h-l)/2),this.$change(b,x,f,h)}$change(e,r,s=this.width,u=this.height,l=this.aspectRatio,f=!1){return this.$changing||!Li(e)||!Li(r)||!Li(s)||!Li(u)||s<0||u<0?this:(ko(l)&&({width:s,height:u}=zh({aspectRatio:l,width:s,height:u},"cover")),this.precise||(e=Math.round(e),r=Math.round(r),s=Math.round(s),u=Math.round(u)),e===this.x&&r===this.y&&s===this.width&&u===this.height&&Object.is(l,this.aspectRatio)&&!f?this:(this.hidden&&(this.hidden=!1),this.$emit(Mu,{x:e,y:r,width:s,height:u})===!1?this:(this.$changing=!0,this.x=e,this.y=r,this.width=s,this.height=u,this.$changing=!1,this.$render())))}$reset(){const{x:e,y:r,width:s,height:u}=this.$initialSelection;return this.$change(e,r,s,u)}$clear(){return this.$change(0,0,0,0,NaN,!0),this.hidden=!0,this}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height})}$toCanvas(e){return new Promise((r,s)=>{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const u=document.createElement("canvas");let{width:l,height:f}=this,h=1;if(Qh(e)&&(ko(e.width)||ko(e.height))&&({width:l,height:f}=zh({aspectRatio:l/f,width:e.width,height:e.height}),h=l/this.width),u.width=l,u.height=f,!this.$canvas){r(u);return}const b=this.$canvas.querySelector(this.$getTagNameOf(oc));if(!b){r(u);return}b.$ready().then(x=>{const w=u.getContext("2d");if(w){const[S,O,W,N,j,q]=b.$getTransform(),M=-this.x,E=-this.y,D=(M*N-W*E)/(S*N-W*O),B=(E*S-O*M)/(S*N-W*O);let z=S*D+W*B+j,V=O*D+N*B+q,ne=x.naturalWidth,ue=x.naturalHeight;h!==1&&(z*=h,V*=h,ne*=h,ue*=h);const de=ne/2,ge=ue/2;w.fillStyle="transparent",w.fillRect(0,0,l,f),Qh(e)&&Kp(e.beforeDraw)&&e.beforeDraw.call(this,w,u),w.save(),w.translate(de,ge),w.transform(S,O,W,N,z,V),w.translate(-de,-ge),w.drawImage(x,0,0,ne,ue),w.restore()}r(u)}).catch(s)})}}im.$name=us;im.$version="2.0.0";var dA=":host{display:flex;flex-direction:column;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([bordered]){border:1px dashed var(--theme-color)}:host([covered]){bottom:0;left:0;position:absolute;right:0;top:0}:host>span{display:flex;flex:1}:host>span+span{border-top:1px dashed var(--theme-color)}:host>span>span{flex:1}:host>span>span+span{border-left:1px dashed var(--theme-color)}";class nm extends $s{constructor(){super(...arguments),this.$style=dA,this.bordered=!1,this.columns=3,this.covered=!1,this.rows=3,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["bordered","columns","covered","rows"])}$propertyChangedCallback(e,r,s){Object.is(s,r)||(super.$propertyChangedCallback(e,r,s),(e==="rows"||e==="columns")&&this.$nextTick(()=>{this.$render()}))}connectedCallback(){super.connectedCallback(),this.$render()}$render(){const e=this.$getShadowRoot(),r=document.createDocumentFragment();for(let s=0;s<this.rows;s+=1){const u=document.createElement("span");u.setAttribute("role","row");for(let l=0;l<this.columns;l+=1){const f=document.createElement("span");f.setAttribute("role","gridcell"),u.appendChild(f)}r.appendChild(u)}e&&(e.innerHTML="",e.appendChild(r))}}nm.$name=WT;nm.$version="2.0.0";var pA=':host{display:inline-block;height:1em;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:1em}:host:after,:host:before{background-color:var(--theme-color);content:"";display:block;position:absolute}:host:before{height:1px;left:0;top:50%;transform:translateY(-50%);width:100%}:host:after{height:100%;left:50%;top:0;transform:translateX(-50%);width:1px}:host([centered]){left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}';class rm extends $s{constructor(){super(...arguments),this.$style=pA,this.centered=!1,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["centered"])}}rm.$name=HT;rm.$version="2.0.0";var mA=":host{display:block;height:100%;overflow:hidden;position:relative;width:100%}";const w0=new WeakMap,x0=new WeakMap,k0=new WeakMap,C0=new WeakMap,gA="both",vA="horizontal",E0="vertical",bA="none";class om extends $s{constructor(){super(...arguments),this.$onSelectionChange=null,this.$onSourceImageLoad=null,this.$onSourceImageTransform=null,this.$scale=1,this.$style=mA,this.resize=E0,this.selection="",this.slottable=!1}set $image(e){x0.set(this,e)}get $image(){return x0.get(this)}set $sourceImage(e){C0.set(this,e)}get $sourceImage(){return C0.get(this)}set $canvas(e){w0.set(this,e)}get $canvas(){return w0.get(this)}set $selection(e){k0.set(this,e)}get $selection(){return k0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["resize","selection"])}connectedCallback(){super.connectedCallback();let e=null;if(this.selection?e=this.ownerDocument.querySelector(this.selection):e=this.closest(this.$getTagNameOf(us)),uf(e)){this.$selection=e,this.$onSelectionChange=this.$handleSelectionChange.bind(this),yr(e,Mu,this.$onSelectionChange);const r=e.closest(this.$getTagNameOf(cc));if(r){this.$canvas=r;const s=r.querySelector(this.$getTagNameOf(oc));s&&(this.$sourceImage=s,this.$image=s.cloneNode(!0),this.$getShadowRoot().appendChild(this.$image),this.$onSourceImageLoad=this.$handleSourceImageLoad.bind(this),this.$onSourceImageTransform=this.$handleSourceImageTransform.bind(this),yr(s.$image,Ql,this.$onSourceImageLoad),yr(s,Dp,this.$onSourceImageTransform))}this.$render()}}disconnectedCallback(){const{$selection:e,$sourceImage:r}=this;e&&this.$onSelectionChange&&(hr(e,Mu,this.$onSelectionChange),this.$onSelectionChange=null),r&&this.$onSourceImageLoad&&(hr(r.$image,Ql,this.$onSourceImageLoad),this.$onSourceImageLoad=null),r&&this.$onSourceImageTransform&&(hr(r,Dp,this.$onSourceImageTransform),this.$onSourceImageTransform=null),super.disconnectedCallback()}$handleSelectionChange(e){this.$render(e.detail)}$handleSourceImageLoad(){const{$image:e,$sourceImage:r}=this,s=e.getAttribute("src"),u=r.getAttribute("src");u&&u!==s&&(e.setAttribute("src",u),e.$ready(()=>{setTimeout(()=>{this.$render()},50)}))}$handleSourceImageTransform(e){this.$render(void 0,e.detail.matrix)}$render(e,r){const{$canvas:s,$selection:u}=this;!e&&!u.hidden&&(e=u),(!e||e.x===0&&e.y===0&&e.width===0&&e.height===0)&&(e={x:0,y:0,width:s.offsetWidth,height:s.offsetHeight});const{x:l,y:f,width:h,height:b}=e,x={},{clientWidth:w,clientHeight:S}=this;let O=w,W=S,N=NaN;switch(this.resize){case gA:N=1,O=h,W=b,x.width=h,x.height=b;break;case vA:N=b>0?S/b:0,O=h*N,x.width=O;break;case E0:N=h>0?w/h:0,W=b*N,x.height=W;break;case bA:default:w>0?N=h>0?w/h:0:S>0&&(N=b>0?S/b:0)}this.$scale=N,this.$setStyles(x),this.$sourceImage&&this.$transformImageByOffset(r??this.$sourceImage.$getTransform(),-l,-f)}$transformImageByOffset(e,r,s){const{$image:u,$scale:l,$sourceImage:f}=this;if(f&&u&&l>=0){const[h,b,x,w,S,O]=e,W=(r*w-x*s)/(h*w-x*b),N=(s*h-b*r)/(h*w-x*b),j=h*W+x*N+S,q=b*W+w*N+O;u.$ready(M=>{this.$setStyles.call(u,{width:M.naturalWidth*l,height:M.naturalHeight*l})}),u.$setTransform(h,b,x,w,j*l,q*l)}}}om.$name=UT;om.$version="2.0.0";/*! Cropper.js v2.0.0 | (c) 2015-present Chen Fengyuan | MIT */var _A='<cropper-canvas background><cropper-image rotatable scalable skewable translatable></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const yA=/^img|canvas$/,wA=/<(\/?(?:script|style)[^>]*)>/gi,S0={template:_A};Qp.$define();rm.$define();nm.$define();tm.$define();Jp.$define();im.$define();em.$define();om.$define();class Ab{constructor(e,r){if(this.options=S0,Nh(e)&&(e=document.querySelector(e)),!uf(e)||!yA.test(e.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,r=Object.assign(Object.assign({},S0),r),this.options=r;const{ownerDocument:s}=e;let{container:u}=r;if(u&&(Nh(u)&&(u=s.querySelector(u)),!uf(u)))throw new Error("The `container` option must be an element or a valid selector.");uf(u)||(e.parentElement?u=e.parentElement:u=s.body),this.container=u;const l=e.localName;let f="";l==="img"?{src:f}=e:l==="canvas"&&window.HTMLCanvasElement&&(f=e.toDataURL());const{template:h}=r;if(h&&Nh(h)){const b=document.createElement("template"),x=document.createDocumentFragment();b.innerHTML=h.replace(wA,"&lt;$1&gt;"),x.appendChild(b.content),Array.from(x.querySelectorAll(oc)).forEach(w=>{w.setAttribute("src",f),w.setAttribute("alt",e.alt||"The image to crop")}),e.parentElement?(e.style.display="none",u.insertBefore(x,e.nextSibling)):u.appendChild(x)}}getCropperCanvas(){return this.container.querySelector(cc)}getCropperImage(){return this.container.querySelector(oc)}getCropperSelection(){return this.container.querySelector(us)}getCropperSelections(){return this.container.querySelectorAll(us)}}Ab.version="2.0.0";const xA={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(t){const e=t.keyCode;switch(e){case 90:this.undo&&(t.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(t.preventDefault(),this.move(-1,0));break;case 38:this.move&&(t.preventDefault(),this.move(0,-1));break;case 39:this.move&&(t.preventDefault(),this.move(1,0));break;case 40:this.move&&(t.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var kA=function(){var e=this,r=e._self._c;return r("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(s){return e.setDragMode("move")}}},[r("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(s){return e.setDragMode("crop")}}},[r("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[r("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[r("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[r("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[r("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[r("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[r("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),r("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(s){var u=Array.prototype.filter.call(s.target.options,function(l){return l.selected}).map(function(l){var f="_value"in l?l._value:l.value;return f});e.ratio=s.target.multiple?u:u[0]},e.aspectRatio]}},[r("optgroup",{attrs:{label:e.translations.other}},[r("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),r("option",{attrs:{value:"1:1"}},[e._v("1:1")]),r("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),r("optgroup",{attrs:{label:e.translations.landscape}},[r("option",{attrs:{value:"16:9"}},[e._v("16:9")]),r("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),r("optgroup",{attrs:{label:e.translations.portrait}},[r("option",{attrs:{value:"9:16"}},[e._v("9:16")]),r("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),r("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[r("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[r("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[r("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},CA=[],EA=Fn(xA,kA,CA,!1,null,"1b374443");const SA=EA.exports,TA={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...Fa({originalUrl:t=>t.blanchetteEditor.originalUrl,isLoading:t=>t.blanchetteEditor.isLoading,translations:t=>t.translations})},methods:{...Is(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await uc(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(t){switch(t.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(t){t&&this.cropper&&this.cropper.setDragMode(t)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(t,e){this.cropper.move(t,e)},start(){this.cropper||(this.cropper=new Ab(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(t){t.detail.width>0&&t.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const t=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=t.getData(),this.canvasData=t.getCanvasData(),this.cropBoxData=t.getCropBoxData(),this.url=t.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:SA}};var AA=function(){var e=this,r=e._self._c;return r("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[r("div",{staticClass:"canvas"},[e.isLoading?r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner-container"},[r("div",{staticClass:"spinner"})])]):e._e(),r("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),r("div",{staticClass:"editor"},[e.url?[r("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},DA=[],LA=Fn(TA,AA,DA,!1,null,"748e943a");const MA=LA.exports;var hp={exports:{}},T0;function PA(){return T0||(T0=1,function(t,e){(function(r,s){t.exports=s()})(window,function(){return u={},r.m=s=[function(l,f,h){var b=h(6);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,h(4).default)("27d83796",b,!1,{})},function(l,f,h){var b=h(8);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,h(4).default)("0e783494",b,!1,{})},function(l,f,h){var b=h(10);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,h(4).default)("17757f60",b,!1,{})},function(l,f){l.exports=function(h){var b=[];return b.toString=function(){return this.map(function(x){var w=function(S,O){var W=S[1]||"",N=S[3];if(!N)return W;if(O&&typeof btoa=="function"){var j=function(M){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */"}(N),q=N.sources.map(function(M){return"/*# sourceURL="+N.sourceRoot+M+" */"});return[W].concat(q).concat([j]).join(`
`)}return[W].join(`
`)}(x,h);return x[2]?"@media "+x[2]+"{"+w+"}":w}).join("")},b.i=function(x,w){typeof x=="string"&&(x=[[null,x,""]]);for(var S={},O=0;O<this.length;O++){var W=this[O][0];typeof W=="number"&&(S[W]=!0)}for(O=0;O<x.length;O++){var N=x[O];typeof N[0]=="number"&&S[N[0]]||(w&&!N[2]?N[2]=w:w&&(N[2]="("+N[2]+") and ("+w+")"),b.push(N))}},b}},function(l,f,h){function b(ge,fe){for(var De=[],ve={},re=0;re<fe.length;re++){var P=fe[re],se=P[0],ye={id:ge+":"+re,css:P[1],media:P[2],sourceMap:P[3]};ve[se]?ve[se].parts.push(ye):De.push(ve[se]={id:se,parts:[ye]})}return De}h.r(f),h.d(f,"default",function(){return D});var x=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!x)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var w={},S=x&&(document.head||document.getElementsByTagName("head")[0]),O=null,W=0,N=!1,j=function(){},q=null,M="data-vue-ssr-id",E=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function D(ge,fe,De,ve){N=De,q=ve||{};var re=b(ge,fe);return B(re),function(P){for(var se=[],ye=0;ye<re.length;ye++){var Ee=re[ye];(it=w[Ee.id]).refs--,se.push(it)}for(P?B(re=b(ge,P)):re=[],ye=0;ye<se.length;ye++){var it;if((it=se[ye]).refs===0){for(var Be=0;Be<it.parts.length;Be++)it.parts[Be]();delete w[it.id]}}}}function B(ge){for(var fe=0;fe<ge.length;fe++){var De=ge[fe],ve=w[De.id];if(ve){ve.refs++;for(var re=0;re<ve.parts.length;re++)ve.parts[re](De.parts[re]);for(;re<De.parts.length;re++)ve.parts.push(V(De.parts[re]));ve.parts.length>De.parts.length&&(ve.parts.length=De.parts.length)}else{var P=[];for(re=0;re<De.parts.length;re++)P.push(V(De.parts[re]));w[De.id]={id:De.id,refs:1,parts:P}}}}function z(){var ge=document.createElement("style");return ge.type="text/css",S.appendChild(ge),ge}function V(ge){var fe,De,ve=document.querySelector("style["+M+'~="'+ge.id+'"]');if(ve){if(N)return j;ve.parentNode.removeChild(ve)}if(E){var re=W++;ve=O=O||z(),fe=de.bind(null,ve,re,!1),De=de.bind(null,ve,re,!0)}else ve=z(),fe=(function(P,se){var ye=se.css,Ee=se.media,it=se.sourceMap;if(Ee&&P.setAttribute("media",Ee),q.ssrId&&P.setAttribute(M,se.id),it&&(ye+=`
/*# sourceURL=`+it.sources[0]+" */",ye+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(it))))+" */"),P.styleSheet)P.styleSheet.cssText=ye;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(ye))}}).bind(null,ve),De=function(){ve.parentNode.removeChild(ve)};return fe(ge),function(P){if(P){if(P.css===ge.css&&P.media===ge.media&&P.sourceMap===ge.sourceMap)return;fe(ge=P)}else De()}}var ne,ue=(ne=[],function(ge,fe){return ne[ge]=fe,ne.filter(Boolean).join(`
`)});function de(ge,fe,De,ve){var re=De?"":ve.css;if(ge.styleSheet)ge.styleSheet.cssText=ue(fe,re);else{var P=document.createTextNode(re),se=ge.childNodes;se[fe]&&ge.removeChild(se[fe]),se.length?ge.insertBefore(P,se[fe]):ge.appendChild(P)}}},function(l,f,h){var b=h(0);h.n(b).a},function(l,f,h){(l.exports=h(3)(!1)).push([l.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(l,f,h){var b=h(1);h.n(b).a},function(l,f,h){(l.exports=h(3)(!1)).push([l.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(l,f,h){var b=h(2);h.n(b).a},function(l,f,h){(l.exports=h(3)(!1)).push([l.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(l,f,h){h.r(f),h.d(f,"getModalsContainer",function(){return Y});function b(){var X=this,we=X.$createElement,Te=X._self._c||we;return Te("transition",{attrs:{name:X.overlayTransition}},[X.visibility.overlay?Te("div",{ref:"overlay",class:X.overlayClass,attrs:{"aria-expanded":X.visibility.overlay.toString(),"data-modal":X.name}},[Te("div",{staticClass:"v--modal-background-click",on:{mousedown:function(qe){return qe.target!==qe.currentTarget?null:X.handleBackgroundClick(qe)},touchstart:function(qe){return qe.target!==qe.currentTarget?null:X.handleBackgroundClick(qe)}}},[Te("div",{staticClass:"v--modal-top-right"},[X._t("top-right")],2),X._v(" "),Te("transition",{attrs:{name:X.transition},on:{"before-enter":X.beforeTransitionEnter,"after-enter":X.afterTransitionEnter,"after-leave":X.afterTransitionLeave}},[X.visibility.modal?Te("div",{ref:"modal",class:X.modalClass,style:X.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[X._t("default"),X._v(" "),X.resizable&&!X.isAutoHeight?Te("resizer",{attrs:{"min-width":X.minWidth,"min-height":X.minHeight,"max-width":X.maxWidth,"max-height":X.maxHeight},on:{resize:X.handleModalResize}}):X._e()],2):X._e()])],1)]):X._e()])}function x(){var X=this.$createElement;return(this._self._c||X)("div",{class:this.className})}function w(X,we){return function(Te){if(Array.isArray(Te))return Te}(X)||function(Te,qe){var Ze=[],Xe=!0,ut=!1,Et=void 0;try{for(var wt,St=Te[Symbol.iterator]();!(Xe=(wt=St.next()).done)&&(Ze.push(wt.value),!qe||Ze.length!==qe);Xe=!0);}catch(_t){ut=!0,Et=_t}finally{try{Xe||St.return==null||St.return()}finally{if(ut)throw Et}}return Ze}(X,we)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(X){for(var we=1;we<arguments.length;we++){var Te=arguments[we]!=null?arguments[we]:{},qe=Object.keys(Te);typeof Object.getOwnPropertySymbols=="function"&&(qe=qe.concat(Object.getOwnPropertySymbols(Te).filter(function(Ze){return Object.getOwnPropertyDescriptor(Te,Ze).enumerable}))),qe.forEach(function(Ze){O(X,Ze,Te[Ze])})}return X}function O(X,we,Te){return we in X?Object.defineProperty(X,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):X[we]=Te,X}x._withStripped=b._withStripped=!0;function W(X,we,Te){return Te<X?X:we<Te?we:Te}function N(){var X=window.innerWidth,we=document.documentElement.clientWidth;return X&&we?Math.min(X,we):we||X}var j=function(X){var we=0;return function(){return(we++).toString()}}(),q={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(X){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),X.stopPropagation(),X.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(X){this.resize(X)},resize:function(X){var we=this.$el.parentElement;if(we){var Te=X.clientX-we.offsetLeft,qe=X.clientY-we.offsetTop,Ze=Math.min(N(),this.maxWidth),Xe=Math.min(window.innerHeight,this.maxHeight);Te=W(this.minWidth,Ze,Te),qe=W(this.minHeight,Xe,qe),this.size={width:Te,height:qe},we.style.width=Te+"px",we.style.height=qe+"px",this.$emit("resize",{element:we,size:this.size})}}}};h(5);function M(X,we,Te,qe,Ze,Xe,ut,Et){var wt,St=typeof X=="function"?X.options:X;return we&&(St.render=we,St.staticRenderFns=Te,St._compiled=!0),{exports:X,options:St}}var E=M(q,x,[]);E.options.__file="src/Resizer.vue";var D=E.exports;function B(X){return(B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(X)}function z(X){switch(B(X)){case"number":return{type:"px",value:X};case"string":return function(we){if(we==="auto")return{type:we,value:0};var Te=ue.find(function(qe){return qe.regexp.test(we)});return Te?{type:Te.name,value:parseFloat(we)}:{type:"",value:we}}(X);default:return{type:"",value:X}}}function V(X){if(typeof X!="string")return 0<=X;var we=z(X);return(we.type==="%"||we.type==="px")&&0<we.value}var ne="[-+]?[0-9]*.?[0-9]+",ue=[{name:"px",regexp:new RegExp("^".concat(ne,"px$"))},{name:"%",regexp:new RegExp("^".concat(ne,"%$"))},{name:"px",regexp:new RegExp("^".concat(ne,"$"))}];function de(X,we,Te){return we in X?Object.defineProperty(X,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):X[we]=Te,X}var ge={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(X){return 0<=X}},minHeight:{type:Number,default:0,validator:function(X){return 0<=X}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:V},height:{type:[Number,String],default:300,validator:function(X){return X==="auto"||V(X)}},pivotX:{type:Number,default:.5,validator:function(X){return 0<=X&&X<=1}},pivotY:{type:Number,default:.5,validator:function(X){return 0<=X&&X<=1}}},components:{Resizer:D},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var X=this;if(Re.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var we=function(){if(typeof window<"u")for(var Te=["","WebKit","Moz","O","Ms"],qe=0;qe<Te.length;qe++){var Ze=Te[qe]+"MutationObserver";if(Ze in window)return window[Ze]}return!1}();we?this.mutationObserver=new we(function(Te){X.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Re.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var X=this.viewportHeight,we=this.viewportWidth,Te=this.shift,qe=this.pivotX,Ze=this.pivotY,Xe=this.trueModalWidth,ut=this.trueModalHeight,Et=we-Xe,wt=Math.max(X-ut,0),St=Te.left+qe*Et,_t=Te.top+Ze*wt;return{left:parseInt(W(0,Et,St)),top:parseInt(W(0,wt,_t))}},trueModalWidth:function(){var X=this.viewportWidth,we=this.modal,Te=this.adaptive,qe=this.minWidth,Ze=this.maxWidth,Xe=we.widthType==="%"?X/100*we.width:we.width,ut=Math.max(qe,Math.min(X,Ze));return Te?W(qe,ut,Xe):Xe},trueModalHeight:function(){var X=this.viewportHeight,we=this.modal,Te=this.isAutoHeight,qe=this.adaptive,Ze=this.minHeight,Xe=this.maxHeight,ut=we.heightType==="%"?X/100*we.height:we.height;if(Te)return this.modal.renderedHeight;var Et=Math.max(Ze,Math.min(X,Xe));return qe?W(Ze,Et,ut):ut},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(X){return X.trim()}).filter(Boolean).map(function(X){return X.split(":")}).reduce(function(X,we){var Te=w(we,2);return S({},X,O({},Te[0],Te[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(X){var we=this;X?(this.visibility.overlay=!0,setTimeout(function(){we.visibility.modal=!0,we.$nextTick(function(){we.addDraggableListeners(),we.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){we.visibility.overlay=!1,we.$nextTick(function(){we.removeDraggableListeners(),we.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(X,we,Te){if(this.name===X){var qe=we===void 0?!this.visible:we;this.toggle(qe,Te)}},setInitialSize:function(){var X=this.modal,we=z(this.width),Te=z(this.height);X.width=we.value,X.widthType=we.type,X.height=Te.value,X.heightType=Te.type},handleEscapeKeyUp:function(X){X.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=N(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(X){var we=0<arguments.length&&X!==void 0?X:{};return function(Te){var qe=0<arguments.length&&Te!==void 0?Te:{};return S({id:j(),timestamp:Date.now(),canceled:!1},qe)}(function(Te){for(var qe=1;qe<arguments.length;qe++){var Ze=arguments[qe]!=null?arguments[qe]:{},Xe=Object.keys(Ze);typeof Object.getOwnPropertySymbols=="function"&&(Xe=Xe.concat(Object.getOwnPropertySymbols(Ze).filter(function(ut){return Object.getOwnPropertyDescriptor(Ze,ut).enumerable}))),Xe.forEach(function(ut){de(Te,ut,Ze[ut])})}return Te}({name:this.name,ref:this.$refs.modal},we))},handleModalResize:function(X){this.modal.widthType="px",this.modal.width=X.size.width,this.modal.heightType="px",this.modal.height=X.size.height;var we=this.modal.size;this.$emit("resize",this.createModalEvent({size:we}))},toggle:function(X,we){var Te=this.reset,qe=this.scrollable,Ze=this.visible;if(Ze!==X){var Xe=Ze?"before-close":"before-open";Xe=="before-open"?(Te&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),qe&&document.body.classList.add("v--modal-block-scroll")):qe&&document.body.classList.remove("v--modal-block-scroll");var ut=!1,Et=this.createModalEvent({stop:function(){ut=!0},state:X,params:we});this.$emit(Xe,Et),ut||(this.visible=X,Xe=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var X=typeof this.draggable!="string"?".v--modal-box":this.draggable;return X?this.$refs.overlay.querySelector(X):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(X){X?this.connectObserver():this.disconnectObserver();var we=X?"opened":"closed",Te=this.createModalEvent({state:X});this.$emit(we,Te)},addDraggableListeners:function(){var X=this;if(this.draggable){var we=this.getDraggableElement();if(we){var Te=0,qe=0,Ze=0,Xe=0,ut=function(_t){return _t.touches&&0<_t.touches.length?_t.touches[0]:_t},Et=function(_t){var Mt=_t.target;if(!Mt||Mt.nodeName!=="INPUT"&&Mt.nodeName!=="TEXTAREA"&&Mt.nodeName!=="SELECT"){var jt=ut(_t),Kt=jt.clientX,Z=jt.clientY;document.addEventListener("mousemove",wt),document.addEventListener("touchmove",wt),document.addEventListener("mouseup",St),document.addEventListener("touchend",St),Te=Kt,qe=Z,Ze=X.shift.left,Xe=X.shift.top}},wt=function(_t){var Mt=ut(_t),jt=Mt.clientX,Kt=Mt.clientY;X.shift.left=Ze+jt-Te,X.shift.top=Xe+Kt-qe,_t.preventDefault()},St=function _t(Mt){X.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",wt),document.removeEventListener("touchmove",wt),document.removeEventListener("mouseup",_t),document.removeEventListener("touchend",_t),Mt.preventDefault()};we.addEventListener("mousedown",Et),we.addEventListener("touchstart",Et)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var X=this.viewportHeight,we=this.viewportWidth,Te=this.shift,qe=this.pivotX,Ze=this.pivotY,Xe=this.trueModalWidth,ut=this.trueModalHeight,Et=we-Xe,wt=Math.max(X-ut,0),St=Te.left+qe*Et,_t=Te.top+Ze*wt;this.shift.left-=St-W(0,Et,St),this.shift.top-=_t-W(0,wt,_t)}}},fe=(h(7),M(ge,b,[]));fe.options.__file="src/Modal.vue";function De(){var X=this,we=X.$createElement,Te=X._self._c||we;return Te("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:X.width,"pivot-y":.3,adaptive:!0,clickToClose:X.clickToClose,transition:X.transition},on:{"before-open":X.beforeOpened,"before-close":X.beforeClosed,opened:function(qe){X.$emit("opened",qe)},closed:function(qe){X.$emit("closed",qe)}}},[Te("div",{staticClass:"dialog-content"},[X.params.title?Te("div",{staticClass:"dialog-c-title",domProps:{innerHTML:X._s(X.params.title||"")}}):X._e(),X._v(" "),X.params.component?Te(X.params.component,X._b({tag:"component"},"component",X.params.props,!1)):Te("div",{staticClass:"dialog-c-text",domProps:{innerHTML:X._s(X.params.text||"")}})],1),X._v(" "),X.buttons?Te("div",{staticClass:"vue-dialog-buttons"},X._l(X.buttons,function(qe,Ze){return Te("button",{key:Ze,class:qe.class||"vue-dialog-button",style:X.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:X._s(qe.title)},on:{click:function(Xe){Xe.stopPropagation(),X.click(Ze,Xe)}}},[X._v(`
      `+X._s(qe.title)+`
    `)])})):Te("div",{staticClass:"vue-dialog-buttons-none"})])}var ve=fe.exports;De._withStripped=!0;var re={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(X){window.addEventListener("keyup",this.onKeyUp),this.params=X.params||{},this.$emit("before-opened",X)},beforeClosed:function(X){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",X)},click:function(X,we,Te){var qe=2<arguments.length&&Te!==void 0?Te:"click",Ze=this.buttons[X];Ze&&typeof Ze.handler=="function"?Ze.handler(X,we,{source:qe}):this.$modal.hide("dialog")},onKeyUp:function(X){if(X.which===13&&0<this.buttons.length){var we=this.buttons.length===1?0:this.buttons.findIndex(function(Te){return Te.default});we!==-1&&this.click(we,X,"keypress")}}}},P=(h(9),M(re,De,[]));P.options.__file="src/Dialog.vue";function se(){var X=this,we=X.$createElement,Te=X._self._c||we;return Te("div",{attrs:{id:"modals-container"}},X._l(X.modals,function(qe){return Te("modal",X._g(X._b({key:qe.id,on:{closed:function(Ze){X.remove(qe.id)}}},"modal",qe.modalAttrs,!1),qe.modalListeners),[Te(qe.component,X._g(X._b({tag:"component",on:{close:function(Ze){X.$modal.hide(qe.modalAttrs.name)}}},"component",qe.componentAttrs,!1),X.$listeners))],1)}))}var ye=P.exports;function Ee(X,we,Te){return we in X?Object.defineProperty(X,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):X[we]=Te,X}se._withStripped=!0;var it=M({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(X,we,Te,qe){var Ze=this,Xe=1<arguments.length&&we!==void 0?we:{},ut=2<arguments.length&&Te!==void 0?Te:{},Et=3<arguments.length&&qe!==void 0?qe:{},wt=j(),St=ut.name||"_dynamic_modal_"+wt;this.modals.push({id:wt,modalAttrs:function(_t){for(var Mt=1;Mt<arguments.length;Mt++){var jt=arguments[Mt]!=null?arguments[Mt]:{},Kt=Object.keys(jt);typeof Object.getOwnPropertySymbols=="function"&&(Kt=Kt.concat(Object.getOwnPropertySymbols(jt).filter(function(Z){return Object.getOwnPropertyDescriptor(jt,Z).enumerable}))),Kt.forEach(function(Z){Ee(_t,Z,jt[Z])})}return _t}({},ut,{name:St}),modalListeners:Et,component:X,componentAttrs:Xe}),this.$nextTick(function(){Ze.$modal.show(St)})},remove:function(X){var we=this.modals.findIndex(function(Te){return Te.id===X});we!==-1&&this.modals.splice(we,1)}}},se,[]);it.options.__file="src/ModalsContainer.vue";var Be=it.exports;function Me(X){return(Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(X)}function te(X,we,Te){return we in X?Object.defineProperty(X,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):X[we]=Te,X}var Y=function(X,we,Te){if(!Te._dynamicContainer&&we.injectModalsContainer){var qe=(Ze=document.createElement("div"),document.body.appendChild(Ze),Ze);new X({parent:Te,render:function(Xe){return Xe(Be)}}).$mount(qe)}var Ze;return Te._dynamicContainer},Le={install:function(X,we){var Te=1<arguments.length&&we!==void 0?we:{};if(!this.installed){this.installed=!0,this.event=new X,this.rootInstance=null;var qe=Te.componentName||"Modal",Ze=Te.dynamicDefaults||{},Xe=function(ut,Et,wt,St){var _t=wt&&wt.root?wt.root:Le.rootInstance,Mt=Y(X,Te,_t);Mt?Mt.add(ut,Et,function(jt){for(var Kt=1;Kt<arguments.length;Kt++){var Z=arguments[Kt]!=null?arguments[Kt]:{},le=Object.keys(Z);typeof Object.getOwnPropertySymbols=="function"&&(le=le.concat(Object.getOwnPropertySymbols(Z).filter(function(Q){return Object.getOwnPropertyDescriptor(Z,Q).enumerable}))),le.forEach(function(Q){te(jt,Q,Z[Q])})}return jt}({},Ze,wt),St):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};X.prototype.$modal={show:function(ut){for(var Et=arguments.length,wt=new Array(1<Et?Et-1:0),St=1;St<Et;St++)wt[St-1]=arguments[St];switch(Me(ut)){case"string":return(function(_t,Mt){Le.event.$emit("toggle",_t,!0,Mt)}).apply(void 0,[ut].concat(wt));case"object":case"function":return Te.dynamic?Xe.apply(void 0,[ut].concat(wt)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",ut)}},hide:function(ut,Et){Le.event.$emit("toggle",ut,!1,Et)},toggle:function(ut,Et){Le.event.$emit("toggle",ut,void 0,Et)}},X.component(qe,ve),Te.dialog&&X.component("VDialog",ye),Te.dynamic&&(X.component("ModalsContainer",Be),X.mixin({beforeMount:function(){Le.rootInstance===null&&(Le.rootInstance=this.$root)}}))}}},Re=f.default=Le}],r.c=u,r.d=function(l,f,h){r.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:h})},r.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,f){if(1&f&&(l=r(l)),8&f||4&f&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),2&f&&typeof l!="string")for(var b in l)r.d(h,b,(function(x){return l[x]}).bind(null,b));return h},r.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(f,"a",f),f},r.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},r.p="/dist/",r(r.s=11);function r(l){if(u[l])return u[l].exports;var f=u[l]={i:l,l:!1,exports:{}};return s[l].call(f.exports,f,f.exports,r),f.l=!0,f.exports}var s,u})}(hp)),hp.exports}var OA=PA();const FA=df(OA),Ch=656,RA={data(){return{modalWidth:Ch,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:sb},mounted(){this.modalWidth=window.innerWidth<Ch?Ch/2:Ch,ab().then(t=>{this.imageUrl=t}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(t){this.manualClose||t.stop()}}};var NA=function(){var e=this,r=e._self._c;return r("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[r("div",{staticClass:"modal",attrs:{id:"partition-register"}},[r("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),r("div",{staticClass:"modal-content"},[r("p",[e._v(e._s(e.content))]),r("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?r("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?r("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?r("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},zA=[],IA=Fn(RA,NA,zA,!1,null,"bbd610c6");const BA=IA.exports;ec.use(FA);const $A={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...Fa({connected:t=>t.connected,healthChecked:t=>t.healthChecked,translations:t=>t.translations})},components:{WarningModal:BA}};var HA=function(){var e=this,r=e._self._c;return r("div",[e.connected?e.healthChecked?e._e():r("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):r("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},WA=[],qA=Fn($A,HA,WA,!1,null,null);const jA=qA.exports,UA={computed:{...Fa({isExplorerOpen:t=>t.explorer.isOpen})}};var YA=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?r("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},GA=[],ZA=Fn(UA,YA,GA,!1,null,null);const XA=ZA.exports,VA="modulepreload",KA=function(t){return"/bundles/roadizrozier/"+t},A0={},Ns=function(e,r,s){let u=Promise.resolve();if(r&&r.length>0){let f=function(x){return Promise.all(x.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),b=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=f(r.map(x=>{if(x=KA(x),x in A0)return;A0[x]=!0;const w=x.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${S}`))return;const O=document.createElement("link");if(O.rel=w?"stylesheet":VA,w||(O.as="script"),O.crossOrigin="",O.href=x,b&&O.setAttribute("nonce",b),document.head.appendChild(O),w)return new Promise((W,N)=>{O.addEventListener("load",W),O.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function l(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return u.then(f=>{for(const h of f||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function QA(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase()}const D0=Object.assign({"./custom-elements/AdminMenuNav.js":()=>Ns(()=>import("./AdminMenuNav-C8jVdOt8.js"),[]),"./custom-elements/DocumentAlignmentWidget.js":()=>Ns(()=>import("./DocumentAlignmentWidget-joEUTrYv.js"),__vite__mapDeps([0,1])),"./custom-elements/DocumentEditDialog.js":()=>Ns(()=>import("./DocumentEditDialog-DL3FZm5A.js"),__vite__mapDeps([2,1])),"./custom-elements/FolderAutocomplete.js":()=>Ns(()=>import("./FolderAutocomplete-DoN70UxJ.js"),[]),"./custom-elements/MainTrees.js":()=>Ns(()=>import("./MainTrees-_o537dMO.js"),[]),"./custom-elements/NodeSourceEditPage.js":()=>Ns(()=>import("./NodeSourceEditPage-Cs1o7Qd4.js"),__vite__mapDeps([3,4,5])),"./custom-elements/NodeTreeContextualMenu.js":()=>Ns(()=>import("./NodeTreeContextualMenu-DLY1eyez.js"),[]),"./custom-elements/TagAutocomplete.js":()=>Ns(()=>import("./TagAutocomplete-Bn-jytxi.js"),[]),"./custom-elements/TagEditPage.js":()=>Ns(()=>import("./TagEditPage-Cu6cXEY0.js"),__vite__mapDeps([6,4,5]))}),Jh={};for(const t in D0){const e=t.match(/\/([^/]+)\.(js|ts)$/)[1],r=QA(e);Jh[r]=D0[t]}class JA{constructor(){this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:ZE,DrawerContainer:YS,ExplorerContainer:hT,FilterExplorerContainer:xT,TagsEditorContainer:MT,DocumentPreviewContainer:NT,BlanchetteEditorContainer:MA,ModalContainer:jA},this.registeredComponents={Overlay:XA},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},this.init(),this.initListeners()}init(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new WE(mh)),this.services.push(new qE(mh))}onPageChange(){mh.commit(ds)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildNavTrees(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(r=>{this.mainContentComponents.push(this.buildComponent(r))})}buildComponent(e){return new ec({el:e,delimiters:["${","}"],store:mh,components:this.vuejsElements,ignoredElements:Object.keys(Jh)})}}class e3{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.minifyTreePanelButton=null,this.mainTrees=null,this.canvasLoader=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}onDocumentReady(){this.initLoader(),this.setupCollapsedNestableState(),this.lazyload=new aC,this.vueApp=new JA,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(e=>{e.addEventListener("click",this.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),window.addEventListener("pageshowend",()=>{this.syncCollapsedNestableState()}),window.addEventListener("requestAllNodeTreeChange",()=>{this.refreshAllNodeTrees(),this.getMessages()}),window.addEventListener("requestLoaderShow",()=>{this.canvasLoader.show()}),window.addEventListener("requestLoaderHide",()=>{this.canvasLoader.hide()}),window.addEventListener("pushToast",e=>{!e.detail||!e.detail.message||window.UIkit.notify({message:e.detail.message,status:e.detail.status||"success",timeout:2e3,pos:"top-center"})})}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color")),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}setupCollapsedNestableState(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){var r=e.children(this.options._listClass);r.length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}saveCollapsedNestableState(e=null){e===null&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",JSON.stringify(e))}syncCollapsedNestableState(){this.collapsedNestableState.nodes.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})})}initNestables(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(e=>{const r={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?r.group="nodeTree":e.classList.contains("tagtree")?r.group="tagTree":e.classList.contains("foldertree")&&(r.group="folderTree"),window.UIkit.nestable(e,r)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}bindMainTrees(){var l;document.querySelectorAll(".nodetree-widget .root-tree").forEach(f=>{const h=$(f);h.off("change.uk.nestable",this.onNestableNodeTreeChange),h.on("change.uk.nestable",this.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(f=>{const h=$(f);h.off("change.uk.nestable",this.onNestableTagTreeChange),h.on("change.uk.nestable",this.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(f=>{const h=$(f);h.off("change.uk.nestable",this.onNestableFolderTreeChange),h.on("change.uk.nestable",this.onNestableFolderTreeChange)}),(((l=this.mainTrees)==null?void 0:l.querySelectorAll(".tree-element-name"))||[]).forEach(f=>{f.removeEventListener("contextmenu",this.maintreeElementNameRightClick),f.addEventListener("contextmenu",this.maintreeElementNameRightClick)})}maintreeElementNameRightClick(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(s=>{s.classList.contains("uk-open")&&s.classList.remove("uk-open")});const r=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return r&&(r.classList.contains("uk-open")?r.classList.remove("uk-open"):r.classList.add("uk-open")),!1}bindMainNodeTreeLangs(){document.body.addEventListener("click",e=>{const r=e.target.closest("#tree-container .nodetree-langs a");if(r){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const s=parseInt(r.getAttribute("data-translation-id"),10);return this.refreshMainNodeTree(s),!1}})}fetchSessionMessages(){return new Promise(async(e,r)=>{const s=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),u=window.RozierConfig.routes.ajaxSessionMessages+"?"+s.toString();try{const f=await(await fetch(u,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();f.messages||e([]),e(f.messages)}catch(l){r(l)}})}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&Array.isArray(e.confirm)&&e.confirm.length>0&&e.confirm.forEach(r=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:r,status:"success"}}))}),e.error&&Array.isArray(e.error)&&e.error.length>0&&e.error.forEach(r=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:r,status:"danger"}}))})}refreshAllNodeTrees(e){const r=[];return r.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&r.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(s=>{r.push(this.lazyload.childrenNodesFields.refreshNodeTree(s))}),Promise.all(r)}async refreshMainNodeTree(e=void 0){const r=document.querySelector("#tree-container .nodetree-widget");if(!r){console.debug("No main node-tree available.");return}const s=r.querySelector(".root-tree");s&&!e&&(e=s.getAttribute("data-translation-id"));try{const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:e||null}),l=window.RozierConfig.routes.nodesTreeAjax+"?"+u.toString(),f=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!f.ok)throw f;const h=await f.json();if(typeof h.nodeTree<"u"){await Pu(r),r.insertAdjacentHTML("afterend",h.nodeTree),r.remove();const b=document.querySelector("#tree-container .nodetree-widget");if(b)await hl(b);else{console.debug("No main node-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}}catch{console.debug("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),await uc(3e3),this.refreshMainNodeTree(e)}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainTagTree(){const e=document.querySelector("#tree-container .tagtree-widget");if(!e){console.debug("No main tag-tree available.");return}const r=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),s=window.RozierConfig.routes.tagsTreeAjax+"?"+r.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(typeof l.tagTree<"u"){await Pu(e),e.insertAdjacentHTML("afterend",l.tagTree),e.remove();const f=document.querySelector("#tree-container .tagtree-widget");if(f)await hl(f);else{console.debug("No main tag-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainFolderTree(){const e=document.querySelector("#tree-container .foldertree-widget");if(!e){console.debug("No main folder-tree available.");return}const r=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),s=window.RozierConfig.routes.foldersTreeAjax+"?"+r.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(typeof l.folderTree<"u"){await Pu(e),e.insertAdjacentHTML("afterend",l.folderTree),e.remove();const f=document.querySelector("#tree-container .foldertree-widget");if(f)await hl(f);else{console.debug("No main folder-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}toggleTreesPanel(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}openTreesPanel(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}toggleUserPanel(){return document.getElementById("user-panel").classList.toggle("minified"),!1}onNestableCollapse({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.push(e[0].getAttribute("data-node-id"));break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.push(e[0].getAttribute("data-tag-id"));break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.push(e[0].getAttribute("data-folder-id"));break}this.saveCollapsedNestableState(this.collapsedNestableState)}}onNestableExpand({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(e[0].getAttribute("data-node-id")),1);break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(e[0].getAttribute("data-tag-id")),1);break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(e[0].getAttribute("data-folder-id")),1);break}this.saveCollapsedNestableState(this.collapsedNestableState)}}async onNestableNodeTreeChange(e,r,s,u){if(u==="removed"||!s)return!1;const l=s[0];if(!l)return console.error("No element found"),!1;const f=parseInt(l.getAttribute("data-node-id"));let h=null;const b=l.parentElement.closest(".nodetree-element"),x=l.parentElement.closest(".stack-tree-widget"),w=l.parentElement.closest(".children-node-widget");if(b?h=parseInt(b.getAttribute("data-node-id")):x?h=parseInt(x.getAttribute("data-parent-node-id")):w&&(h=parseInt(w.getAttribute("data-parent-node-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a node inside itself!"),window.location.reload(),!1;const S={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:f,newParent:h},O=l.nextElementSibling;if(O&&typeof O.getAttribute("data-node-id")<"u")S.nextNodeId=parseInt(O.getAttribute("data-node-id"));else{const W=l.previousElementSibling;W&&typeof W.getAttribute("data-node-id")<"u"&&(S.prevNodeId=parseInt(W.getAttribute("data-node-id")))}try{const W=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",f),N=await fetch(W,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(S)});if(!N.ok)throw N;const j=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:j.responseText||j.detail,status:j.status}}))}catch(W){const N=await W.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:N.error_message||N.detail,status:"danger"}}))}}async onNestableTagTreeChange(e,r,s,u){if(u==="removed")return!1;const l=s[0];let f=parseInt(l.getAttribute("data-tag-id")),h=null;const b=l.parentElement.closest(".tagtree-element"),x=l.parentElement.closest(".root-tree");if(b?h=parseInt(b.getAttribute("data-tag-id")):x&&(h=parseInt(x.getAttribute("data-parent-tag-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:f,newParent:h};const S=l.nextElementSibling;if(S&&typeof S.getAttribute("data-tag-id")<"u")w.nextTagId=parseInt(S.getAttribute("data-tag-id"));else{const O=l.previousElementSibling;O&&typeof O.getAttribute("data-tag-id")<"u"&&(w.prevTagId=parseInt(O.getAttribute("data-tag-id")))}try{const O=await fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",f),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(w)});if(!O.ok)throw O;const W=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:W.responseText,status:W.status}}))}catch(O){const W=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:W.error_message||W.detail,status:"danger"}}))}}async onNestableFolderTreeChange(e,r,s,u){if(u==="removed")return!1;const l=s[0];let f=parseInt(l.getAttribute("data-folder-id")),h=null;const b=l.parentElement.closest(".foldertree-element"),x=l.parentElement.closest(".root-tree");if(b?h=parseInt(b.getAttribute("data-folder-id")):x&&(h=parseInt(x.getAttribute("data-parent-folder-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:f,newParent:h};const S=l.nextElementSibling;if(S&&typeof S.getAttribute("data-folder-id")<"u")w.nextFolderId=parseInt(S.getAttribute("data-folder-id"));else{const O=l.previousElementSibling;O&&typeof O.getAttribute("data-folder-id")<"u"&&(w.prevFolderId=parseInt(O.getAttribute("data-folder-id")))}try{const O=await fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",f),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(w)});if(!O.ok)throw O;const W=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:W.responseText,status:W.status}}))}catch(O){const W=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:W.error_message||W.detail,status:"danger"}}))}}backTopBtnClick(){return Ih.to(this.mainContentScrollable,.6,{scrollTo:{y:0},ease:Bh.easeOut}),!1}resize(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.resizeFirst&&(this.resizeFirst=!1)}}function t3(t,e){const r=document.querySelector(t);let s=null,u=null;async function l(){s||(s=e().then(f=>{const h=f.default||Object.values(f)[0];if(u==null||u.disconnect(),u=null,!h)throw new Error(`No element class found for <${t}>`);customElements.define(t,h)})),await s}r?l():(u=new MutationObserver(f=>{for(const h of f)for(const b of h.addedNodes)b instanceof Element&&(b.tagName.toLowerCase()===t||b.querySelector(t))&&l()}),u.observe(document,{childList:!0,subtree:!0}))}window.CodeMirror=Ow;window.UIkit=UIkit;window.Rozier=new e3;const i3=t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)};i3(()=>{window.Rozier.onDocumentReady()});(function(){for(const t in Jh)t3(t,Jh[t]);fg(),lg(),new Ww,new hg,window.addEventListener("pageshowend",()=>{fg(),lg(),new hg})})();export{h3 as t};
