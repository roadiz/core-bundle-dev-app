# Ã‰dition des contenus

## GÃ©rer les nÅ“uds

Les nÅ“uds sont les Ã©lÃ©ments les plus importants du CMS Roadiz. Ils permettent la mise en forme de votre contenu telle que vous le souhaitez en fonction de la dÃ©finition de vos types de nÅ“uds. Un nÅ“ud peut Ãªtre un post de blog, une page de contenu, une galerie photo, ou mÃªme un produit de lâ€™e-boutique. VoilÃ  pourquoi nous lâ€™avons appelÃ© Â«Â NÅ“udÂ Â», câ€™est une unitÃ© de donnÃ©es abstraite et interconnectÃ©e avec le reste de votre arborescence.

Des indicateurs graphiques vous informent sur le statut de publication dâ€™un nÅ“ud. Un nÅ“ud peut Ãªtre une page du site ou un bloc.

- **Losange : brouillon**
  ![Capture dâ€™eÌcran 2022-02-25 aÌ€ 16.01.24.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_16.01.24.webp)
  Le losange indique que le nÅ“ud est en brouillon (visible par les administrateurs du CMS en â€œpreviewâ€ uniquement)
- **Cercle : publiÃ©**
  ![Capture dâ€™eÌcran 2022-02-25 aÌ€ 16.04.12.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_16.04.12.webp)
- **Losange barrÃ© : dÃ©publiÃ© et cachÃ©**
  ![Capture dâ€™eÌcran 2022-12-05 aÌ€ 14.54.15.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-12-05_a_14.54.15.webp)
  ![Capture dâ€™eÌcran 2022-12-05 aÌ€ 14.53.48.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-12-05_a_14.53.48.webp)
- **Cercle barrÃ© : publiÃ© et cachÃ©**
  ![Capture dâ€™eÌcran 2022-12-05 aÌ€ 14.26.20.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-12-05_a_14.26.20.webp)
  Le cercle indique que le contenu est publiÃ© et visible en front-end par les utilisateurs du site. Ce statut indique que le contenu est dÃ©publiÃ© (brouillon) et cachÃ© (il ne sera visible par personne)
  S'il s'agit d'un bloc, il ne sera pas visible (ni par les administrateurs, ni par des internautes). 
  S'il s'agit d'une page, elle ne sera pas visible dans le site si elle est reliÃ©e Ã  lâ€™arborescence principale, mais sera quand mÃªme disponible en ligne si un internaute dispose de son URL
- **Titre barrÃ©** : indique que le nÅ“ud est cachÃ© (nâ€™est pas visible par les utilisateurs du site, ni par les utilisateurs du back-office connectÃ©s)

### Navigation dans lâ€™arborescence

![Capture dâ€™eÌcran 2023-03-28 aÌ€ 12.10.02.webp](Ã‰dition%20des%20contenus/Capture_decran_2023-03-28_a_12.10.02.webp)

Chaque nÅ“ud a sa place dans votre site et câ€™est pourquoi nous avons choisi dâ€™organiser votre contenu Ã  travers une arborescence. Câ€™est intuitif et cela fonctionne de la mÃªme maniÃ¨re que la gestion des fichiers de votre ordinateur.

- Pour Ã©diter le contenu dâ€™un nÅ“ud, cliquez simplement dessus.
- Dâ€™autres options sont disponibles Ã  partir du menu contextuel de chaque nÅ“ud. Faites un clic-droit sur le nÅ“ud ou cliquez sur la flÃ¨che droite qui apparaÃ®t au survol.

    <video controls>
    <source src="/user/Ã‰dition%20des%20contenus/Enregistrement_de_lecran_2022-12-05_a_15.27.11.webm" type="video/webm">
    Your browser does not support the video tag.
    </video>

- Vous pouvez replier/dÃ©plier des morceaux de votre arborescence en cliquant sur le `+` ou le `-` Ã  droite de chaque nÅ“ud. Lâ€™Ã©tat sera gardÃ© en mÃ©moire pour vous permettre dâ€™accÃ©der plus rapidement Ã  vos contenus favoris.

    <video controls>
    <source src="/user/Ã‰dition%20des%20contenus/Enregistrement_de_lecran_2022-12-05_a_15.25.07.webm" type="video/webm">
    Your browser does not support the video tag.
    </video>

- Pour dÃ©placer un nÅ“ud dans votre arborescence, rÃ©alisez un Â«Â cliquer-dÃ©poserÂ Â» grÃ¢ce Ã  la poignÃ©e (en forme de rond ou de losange). Vous pouvez dÃ©poser un nÅ“ud avant ou aprÃ¨s un autre Ã©lÃ©ment. Vous pouvez Ã©galement le dÃ©poser Ã  lâ€™intÃ©rieur dâ€™un autre nÅ“ud, en dÃ©calant lÃ©gÃ¨rement votre souris vers la droite de ce dernier pour dÃ©placer lâ€™ombre du nÅ“ud Ã  lâ€™intÃ©rieur.

    <video controls>
    <source src="/user/Ã‰dition%20des%20contenus/Enregistrement_de_lecran_2022-12-05_a_15.30.24.webm" type="video/webm">
    Your browser does not support the video tag.
    </video>

### Actions des menus contextuels

- *Ajouter un nÅ“ud enfant*Â : crÃ©er une zone de contenu Ã  lâ€™intÃ©rieur dâ€™un nÅ“ud existant (page ou blocs)
- *Ã‰diter*Â : renvoie Ã  la page dâ€™Ã©dition de contenu du nÅ“ud concernÃ©.
- *DÃ©placer en premiÃ¨re position*Â : dÃ©placer un nÅ“ud Ã  la premiÃ¨re position au sein de lâ€™arborescence du nÅ“ud parent.
- *DÃ©placer en derniÃ¨re position*Â : dÃ©placer en derniÃ¨re position de lâ€™arborescence du parent.
- *Supprimer*Â : placera le nÅ“ud actuel dans la corbeille. Une fenÃªtre de confirmation sâ€™ouvrira afin de supprimer un nÅ“ud. Le nÅ“ud nâ€™est pas supprimÃ© dÃ©finitivement, il se retrouve dans la corbeille.
- *Cacher/Afficher*Â : Changer la visibilitÃ© dâ€™un nÅ“ud. Un nÅ“ud cachÃ© ne sera pas indexÃ© dans votre site.
- *Publier/DÃ©publier:*Â Changer le statut de publication d'un nÅ“ud. Les nÅ“uds non publiÃ©s ne sont pas visibles pour les visiteurs anonymes, mais visibles pour les utilisateurs du back-office en preview. Il sâ€™agit de mettre en brouillon un nÅ“ud publiÃ© et inversement.
- *Publier la descendance*Â : Publier un nÅ“ud et tous ses noeuds-enfants rattachÃ©s.
- *Dupliquer*Â : Copier lâ€™intÃ©gralitÃ© du contenu et des interactions du nÅ“ud actuel dans un nouveau nÅ“ud.

## CrÃ©ation dâ€™un nÅ“ud

Le boutonÂ **Ajouter un nÅ“ud**Â est situÃ© en haut de votreÂ *arborescence*.

![Capture dâ€™eÌcran 2022-02-24 aÌ€ 18.40.42.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-24_a_18.40.42.webp)

Le bouton **Â«Â Ajouter un nÅ“udÂ enfantÂ Â»** est situÃ© en haut de chaque menu contextuel dâ€™un nÅ“ud.

![Capture dâ€™eÌcran 2022-02-24 aÌ€ 18.41.34.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-24_a_18.41.34.webp)

Pour ajouter un nÅ“ud vide Ã  votre arborescence, vous devrez choisir son emplacement. Ã€ lâ€™intÃ©rieur du CMS, vous pouvez ajouter un contenu Ã  la racine de votre arbre ou choisir un Â«Â nÅ“ud-parentÂ Â». Dans les deux cas, vous serez invitÃ© Ã  choisir unÂ *type*Â et unÂ *nom*Â avant de crÃ©er votre nÅ“ud.

- LeÂ **Titre**Â est lâ€™identifiant global de votre nÅ“ud. Il doit Ãªtre unique et ne changera pas dâ€™une traduction Ã  un autre. Il peut Ãªtre modifiÃ© ultÃ©rieurement, sauf si votre dÃ©veloppeur a verrouillÃ© sa modification. LeÂ **Titre**Â est utilisÃ© pour construire les URL de vos pages, de maniÃ¨re gÃ©nÃ©rale.
- LeÂ **Type de nÅ“ud**Â (Node type) dÃ©finit les champs disponibles de votre contenu. Choisissez le bien car la modification ne sera pas possible ultÃ©rieurement, il vous faudra supprimer le nÅ“ud et en crÃ©er un nouveau en cas dâ€™erreur.

<video controls>
<source src="/user/Ã‰dition%20des%20contenus/Enregistrement_de_lecran_2022-12-06_a_10.15.26.webm" type="video/webm">
Your browser does not support the video tag.
</video>

## Ã‰diter un nÅ“ud existant

### Contenu

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.04.33.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.04.33.webp)

Lâ€™onglet contenu vous permettra de modifier les donnÃ©es spÃ©cifiques de votre nÅ“ud, en utilisant des champs-types tels queÂ **contenu**Â ouÂ **image**, etc.
Lâ€™onglet Contenu vous propose dâ€™ajouter Ã©galement les **Blocs** compatibles avec le gabarit en question. Cet onglet affichera les diffÃ©rents contenus traduits du nÅ“ud en fonction des champs marquÃ©sÂ **Universel**Â ou non.

**Champ universel** : le petit drapeau vous indique que ce champ est universel ; il sera donc repris automatiquement en toutes les langues du site (il suffit de le remplir une fois pour la version FR ; il sera repris pour la version EN)

![Capture dâ€™eÌcran 2022-02-22 aÌ€ 10.36.09.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-22_a_10.36.09.webp)

**Nombre dâ€™items requis** : le petit indicateur de certains champs vous permettent de savoir le nombre dâ€™items requis, par exemple:

- `0/1` : le champ nâ€™est pas rempli ; nombre max dâ€™items est 1 *(vous ne pourrez pas mettre plus dâ€™une image dans ce champ)*
- `1/1` : le champ est rempli ; nombre max dâ€™items est 1

![Capture dâ€™eÌcran 2022-02-22 aÌ€ 10.36.27.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-22_a_10.36.27.webp)

Si lâ€™indicateur est rouge, il sâ€™agit dâ€™un champ obligatoire (erreur si le champ nâ€™est pas rempli):

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.14.29.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.14.29.webp)

### ParamÃ¨tres

Les paramÃ¨tres sont des donnÃ©es globales telles que votreÂ **nom de nÅ“ud**. Ils sont utilisÃ©s pour gÃ©rer la visibilitÃ© de votre nÅ“ud en fonction des rÃ´les de chaque utilisateur et des paramÃ¨tres de chaque nÅ“ud. **Cette section ne doit pas Ãªtre utilisÃ©e de faÃ§on rÃ©guliÃ¨re** puisque les paramÃ¨tres sont fixÃ©s par votre dÃ©veloppeur en amont pour correspondre Ã  votre besoin.

::: tip
Cet onglet affichera le mÃªme contenu quelque soit la traduction
:::

Lâ€™information relative au **TTL frontal** vous indique le nombre de minutes prÃ©vu pour lâ€™affichage de la mise Ã  jour du front (par exemple, si le TTL frontal vous indique 10 minutes, une page sera mise Ã  jour en front 10 min aprÃ¨s sa publication). Il sâ€™agit dâ€™un temps de mise en cache. Par contre, la modification d'un contenu depuis le back-office invalide ce cache et permet de voir les changement instantanÃ©ment.

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.16.46.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.16.46.webp)

### Ã‰tiquettes

Si le gabarit concernÃ© est prÃ©vu pour lâ€™ajout des Ã©tiquettes, vous pourrez les sÃ©lectionner Ã  lâ€™aide de lâ€™explorateur. Les Ã©tiquettes devront Ãªtre crÃ©Ã©es en amont.

::: tip
Cet onglet affichera le mÃªme contenu quelque soit la traduction
:::

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.29.18.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.29.18.webp)

<video controls>
<source src="/user/Ã‰dition%20des%20contenus/Enregistrement_de_lecran_2023-03-28_a_12.15.27.webm" type="video/webm">
Your browser does not support the video tag.
</video>

### RÃ©fÃ©rencement

Cet onglet vous permet de dÃ©finir le **Titre** et la **MÃ©ta description** de la page.
Ces informations seront affichÃ©es notamment sur la page de rÃ©sultat de recherche des moteurs de recherche. 

- Le **titre** de rÃ©fÃ©rencement permet de rÃ©diger entiÃ¨rement le titre de votre page. Pour un affichage optimal dans les moteurs de recherche, le titre ne doit pas dÃ©passer 55 Ã  65 caractÃ¨res en moyenne.
- La **description** est un rÃ©sumÃ© de quelques caractÃ¨res de votre page. Son objectif est de dÃ©crire succinctement son contenu. Cette description doit respecter une taille entre 120 et 155 caractÃ¨res.

::: warning
Cet onglet affichera les contenus en fonction de chaque traduction.
:::

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.34.26.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.34.26.webp)

Câ€™est Ã©galement dans cet onglet que vous pouvez gÃ©rer les alias dâ€™url et les redirections.

### Alias dâ€™URL

Les alias dâ€™URL permettent de rÃ©Ã©crire la derniÃ¨re partie de lâ€™URL de votre page pour chaque traduction. Ils doivent Ãªtre diffÃ©rents du nom du nÅ“ud et uniques sur tout votre site.

### Redirections

Les redirections automatiques permettent de rediriger la requÃªte saisie vers l'URL actuel du noeud, et pour cette langue en particulier. Les redirections crÃ©Ã©es sont toujours du type "permanent".

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.36.34.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.36.34.webp)

### Attributs

Cet onglet est destinÃ© Ã  lâ€™usage des dÃ©veloppeurs ; vous nâ€™aurez pas dâ€™administration de contenus Ã  mener dans cet onglet. 

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.39.37.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.39.37.webp)

### Lâ€™arborescence

Quand un nÅ“ud est dÃ©fini en tant que conteneur, sonÂ *arborescence*Â devient la vue (onglet) par dÃ©faut. Vous pouvez dÃ©finir lâ€™ordre par dÃ©faut dâ€™affichage des nÅ“uds enfants dans lâ€™ongletÂ *ParamÃ¨tres*. De plus, si leÂ *type de nÅ“ud*Â estÂ *publiable*, chaque nÅ“ud affichera sa date de publication avant sonÂ *titre*.

ReconnaÃ®tre un conteneur dans votre vue arborescente du site :

![Capture dâ€™eÌcran 2023-03-28 aÌ€ 12.17.21.webp](Ã‰dition%20des%20contenus/Capture_decran_2023-03-28_a_12.17.21.webp)

Liste des nÅ“uds dâ€™un conteneur :

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.41.00.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.41.00.webp)

Pour ajouter un nouvel Ã©lÃ©ment dans un container, cliquez sur le bouton en haut Ã  droite :

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.43.32.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.43.32.webp)

Si le nÅ“ud nâ€™est pas un conteneur, la vue arborescente vous montre les blocs constituant le nÅ“ud. La vue de lâ€™arborescence devient trÃ¨s intÃ©ressante si vous possÃ©dez un trÃ¨s grand nombre de nÅ“uds enfants. 

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 14.43.02.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_14.43.02.webp)

## Duplication dâ€™un nÅ“ud et placement sur une autre page

Certains blocs peuvent Ãªtre repris en intÃ©gralitÃ© et placÃ©s sur une autre page. Pour ce faire, il est nÃ©cessaire de dupliquer lâ€™ensemble de blocs correspondants et de les glisser dans lâ€™arborescence. Exemple :

<video controls>
<source src="/user/Ã‰dition%20des%20contenus/Enregistrement_de_lecran_2023-03-28_a_12.19.44.webm" type="video/webm">
Your browser does not support the video tag.
</video>

## Menu dâ€™action

Ã€ droite de votre Ã©cran, vous disposez dâ€™un menu dâ€™action qui vous permettra de gÃ©rer votre nÅ“udÂ :

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.00.23.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.00.23.webp)

### Sauvegarder

Le bouton Sauvegarder est lâ€™un des plus importants dans la gestion de cos contenus. AprÃ¨s chaque ajout ou modification de contenus, 
nâ€™oubliez pas de cliquer sur le bouton Sauvegarder, sinon les actions de remplissage et modifications menÃ©es sur le back-office ne seront pas prises en compte.

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.10.01.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.10.01.webp)

### Supprimer le nÅ“ud

Cette action place votre nÅ“ud dans la corbeille

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.10.37.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.10.37.webp)

### Supprimer une traduction

âš ï¸ Lorsque vous travaillerez sur une seconde traduction dâ€™un nÅ“ud, un deuxiÃ¨me bouton *Supprimer* apparaitra pour supprimer la traduction seulement. 
**Attention, la suppression dâ€™une traduction nâ€™est pas rÃ©cupÃ©rableÂ !**

![Supprimer une traduction](Ã‰dition%20des%20contenus/Untitled.webp)

### Actions

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.11.41.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.11.41.webp)

- **Publier la descendance**Â : Publier un nÅ“ud et tous ses noeuds-enfants rattachÃ©s.
- **Voir la page** : permet de voir les contenus publiÃ©s de la page correspondante (ouverture dans un nouvel onglet de lâ€™URL de la page en front-office)
- **PrÃ©visualiser la page** : permet de voir les contenus publiÃ©s et dÃ©publiÃ©s (en brouillon) de la page correspondante
- **Dupliquer** : permet de copier lâ€™intÃ©gralitÃ© du contenu et des interactions du nÅ“ud actuel dans un nouveau nÅ“ud
- **Transtyper** : permet de changer le type de nÅ“ud
    ::: warning
    ğŸ’¡ La fonctionnalitÃ© *Transtyper* est destructive et peut vous faire perdre tous les champs nâ€™existant plus dans le type de nÅ“ud de destination.
    :::
- **Ajouter un enfant**Â : crÃ©er une zone de contenu Ã  lâ€™intÃ©rieur dâ€™un nÅ“ud existant (page ou blocs)
- **Exporter** : utilisation rare ou inexistante

### ParamÃ¨tres

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.18.56.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.18.56.webp)

Ces paramÃ¨tres sâ€™appliquent au niveau du nÅ“ud et donc ils seront identiques pour chaque traduction.

- **VisibilitÃ©**Â : Cache ou affiche le nÅ“ud actuel (en fonction du dÃ©veloppement de votre thÃ¨me)
- **Conteneur**Â : Transforme le nÅ“ud actuel enÂ **conteneur**, les nÅ“uds enfants nâ€™apparaitront plus dans le panneau global dâ€™arborescence. Ã€ utiliser avec parcimonie (privilÃ©giez la crÃ©ation dâ€™un conteneur)
- **Verrouillage**Â : EmpÃªche les utilisateurs de supprimer le nÅ“ud actuel ou de le renommer. Vous devriez activer ce mode si le nÅ“ud actuel est requis dans la logique de votre thÃ¨me
- **NÅ“ud stÃ©ril**Â : EmpÃªche les utilisateurs de crÃ©er des nÅ“uds enfants.

## Statuts

Pendant son cycle de vie, chaque nÅ“ud peut avoir diffÃ©rents statuts de publication. Lorsque vous crÃ©ez un nouveau contenu, il sera automatiquement publiÃ© commeÂ **Brouillon**Â par le CMS afin de vous permettre de le modifier sans incidence sur vos visiteurs et sans rendre public un contenu en cours de rÃ©alisation.

- **Brouillon**Â : statut initial pour chaque nouveau nÅ“ud
- **En attente de validation**Â : un statut intermÃ©diaire disponible pour les utilisateurs nâ€™ayant pas les droits de publication
- **PubliÃ©**Â : il sâ€™agit du statut le plus important, il rend votre contenu public aux visiteurs de votre site
- **ArchivÃ©**Â : lorsque vous ne souhaitez pas publier un nÅ“ud mais ne voulez pas non plus le supprimer de votre interface
- **SupprimÃ©**Â : il sâ€™agit du derniÃ¨re statut disponible pour vos nÅ“uds. Avant de vider votre corbeille, chaque nÅ“ud sera affichÃ© avec cette mention.

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.07.20.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.07.20.webp)

Pour amÃ©liorer la visibilitÃ© des statuts, les nÅ“uds au stade deÂ *brouillon*Â etÂ *en attente de validation*Â sont prÃ©sentÃ©s par une forme de losange alors que les nÅ“udsÂ *publiÃ©s*Â ont une forme circulaire.

![Capture dâ€™eÌcran 2022-02-25 aÌ€ 15.03.17.webp](Ã‰dition%20des%20contenus/Capture_decran_2022-02-25_a_15.03.17.webp)
