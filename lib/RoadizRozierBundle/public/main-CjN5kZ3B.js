var Pw=Object.defineProperty;var Ow=(t,e,n)=>e in t?Pw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rw=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Gi=(t,e,n)=>Ow(t,typeof e!="symbol"?e+"":e,n);import{g as mh,c as pf,a as F0}from"./jquery-5sAwpjfl.js";import{m as Hs,a as Ia,V as nc,i as N0,v as Fw}from"./vue-YhlLoeNc.js";var p3=Rw((E3,Fp)=>{var qm={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var jm;function Nw(){return jm||(jm=1,function(t){t(jQuery)}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,n){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var s={absolute:!1,clone:!1,includeMargin:!1,display:"block"},u=t.extend(s,n),l=this.eq(0),h,f;if(u.clone===!0)h=function(){var O="position: absolute !important; top: -1000 !important; ";l=l.clone().attr("style",O).appendTo("body")},f=function(){l.remove()};else{var v=[],x="",w;h=function(){w=l.parents().addBack().filter(":hidden"),x+="visibility: hidden !important; display: "+u.display+" !important; ",u.absolute===!0&&(x+="position: absolute !important; "),w.each(function(){var O=t(this),H=O.attr("style");v.push(H),O.attr("style",H?H+";"+x:x)})},f=function(){w.each(function(O){var H=t(this),F=v[O];F===void 0?H.removeAttr("style"):H.attr("style",F)})}}h();var E=/(outer)/.test(e)?l[e](u.includeMargin):l[e]();return f(),E}})})),qm}Nw();(function(t){var e=function(F,j){typeof j>"u"&&(j={}),this.init(F,j)},n=e.prototype,s,u=["canvas","vml"],l=["oval","spiral","square","rect","roundRect"],h=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,f=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,v=!!document.createElement("canvas").getContext,x=!0,w=function(M,j,q){var M=document.createElement(M),S;for(S in q)M[S]=q[S];return typeof j<"u"&&j.appendChild(M),M},E=function(F,j){for(var q in j)F.style[q]=j[q];return F},O=function(F,j){for(var q in j)F.setAttribute(q,j[q]);return F},H=function(F,j,q,M){F.save(),F.translate(j,q),F.rotate(M),F.translate(-j,-q),F.beginPath()};n.init=function(F,j){typeof j.safeVML=="boolean"&&(x=j.safeVML);try{this.mum=document.getElementById(F)!==void 0?document.getElementById(F):document.body}catch{this.mum=document.body}if(j.id=typeof j.id<"u"?j.id:"canvasLoader",this.cont=w("div",this.mum,{id:j.id}),v)s=u[0],this.can=w("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=E(w("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(s=u[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(w("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var q=["group","oval","roundrect","fill"],M;for(M in q)e.vmlSheet.addRule(q[M],"behavior:url(#default#VML); position:absolute;")}this.vml=w("group",this.cont)}this.setColor(this.color),this.draw(),E(this.cont,{display:"none"})},n.cont={},n.can={},n.con={},n.cCan={},n.cCon={},n.timer={},n.activeId=0,n.diameter=40,n.setDiameter=function(F){this.diameter=Math.round(Math.abs(F)),this.redraw()},n.getDiameter=function(){return this.diameter},n.cRGB={},n.color="#000000",n.setColor=function(F){this.color=h.test(F)?F:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},n.getColor=function(){return this.color},n.shape=l[0],n.setShape=function(F){for(var j in l)if(F===l[j]){this.shape=F,this.redraw();break}},n.getShape=function(){return this.shape},n.density=40,n.setDensity=function(F){this.density=x&&s===u[1]?Math.round(Math.abs(F))<=40?Math.round(Math.abs(F)):40:Math.round(Math.abs(F)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},n.getDensity=function(){return this.density},n.range=1.3,n.setRange=function(F){this.range=Math.abs(F),this.redraw()},n.getRange=function(){return this.range},n.speed=2,n.setSpeed=function(F){this.speed=Math.round(Math.abs(F))},n.getSpeed=function(){return this.speed},n.fps=24,n.setFPS=function(F){this.fps=Math.round(Math.abs(F)),this.reset()},n.getFPS=function(){return this.fps},n.getRGB=function(F){return F=F.charAt(0)==="#"?F.substring(1,7):F,{r:parseInt(F.substring(0,2),16),g:parseInt(F.substring(2,4),16),b:parseInt(F.substring(4,6),16)}},n.draw=function(){var F=0,j,q,M,S,D,B,I,V=this.density,ne=Math.round(V*this.range),ue,de,ge=0;de=this.cCon;var he=this.diameter;if(s===u[0])for(de.clearRect(0,0,1e3,1e3),O(this.can,{width:he,height:he}),O(this.cCan,{width:he,height:he});F<V;){switch(ue=F<=ne?1-1/ne*F:ue=0,B=270-360/V*F,I=B/180*Math.PI,de.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+ue.toString()+")",this.shape){case l[0]:case l[1]:j=he*.07,S=he*.47+Math.cos(I)*(he*.47-j)-he*.47,D=he*.47+Math.sin(I)*(he*.47-j)-he*.47,de.beginPath(),this.shape===l[1]?de.arc(he*.5+S,he*.5+D,j*ue,0,Math.PI*2,!1):de.arc(he*.5+S,he*.5+D,j,0,Math.PI*2,!1);break;case l[2]:j=he*.12,S=Math.cos(I)*(he*.47-j)+he*.5,D=Math.sin(I)*(he*.47-j)+he*.5,H(de,S,D,I),de.fillRect(S,D-j*.5,j,j);break;case l[3]:case l[4]:q=he*.3,M=q*.27,S=Math.cos(I)*(M+(he-M)*.13)+he*.5,D=Math.sin(I)*(M+(he-M)*.13)+he*.5,H(de,S,D,I),this.shape===l[3]?de.fillRect(S,D-M*.5,q,M):(j=M*.55,de.moveTo(S+j,D-M*.5),de.lineTo(S+q-j,D-M*.5),de.quadraticCurveTo(S+q,D-M*.5,S+q,D-M*.5+j),de.lineTo(S+q,D-M*.5+M-j),de.quadraticCurveTo(S+q,D-M*.5+M,S+q-j,D-M*.5+M),de.lineTo(S+j,D-M*.5+M),de.quadraticCurveTo(S,D-M*.5+M,S,D-M*.5+M-j),de.lineTo(S,D-M*.5+j),de.quadraticCurveTo(S,D-M*.5,S+j,D-M*.5))}de.closePath(),de.fill(),de.restore(),++F}else{switch(E(this.cont,{width:he,height:he}),E(this.vml,{width:he,height:he}),this.shape){case l[0]:case l[1]:I="oval",j=140;break;case l[2]:I="roundrect",j=120;break;case l[3]:case l[4]:I="roundrect",j=300}for(q=M=j,S=500-M,D=-M*.5;F<V;){switch(ue=F<=ne?1-1/ne*F:ue=0,B=270-360/V*F,this.shape){case l[1]:q=M=j*ue,S=500-j*.5-j*ue*.5,D=(j-j*ue)*.5;break;case l[0]:case l[2]:f&&(D=0,this.shape===l[2]&&(S=500-M*.5));break;case l[3]:case l[4]:q=j*.95,M=q*.28,f?(S=0,D=500-M*.5):(S=500-q,D=-M*.5),ge=this.shape===l[4]?.6:0}de=O(E(w("group",this.vml),{width:1e3,height:1e3,rotation:B}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),de=E(w(I,de,{stroked:!1,arcSize:ge}),{width:q,height:M,top:D,left:S}),w("fill",de,{color:this.color,opacity:ue}),++F}}this.tick(!0)},n.clean=function(){if(s===u[0])this.con.clearRect(0,0,1e3,1e3);else{var F=this.vml;if(F.hasChildNodes())for(;F.childNodes.length>=1;)F.removeChild(F.firstChild)}},n.redraw=function(){this.clean(),this.draw()},n.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},n.tick=function(F){var j=this.con,q=this.diameter;F||(this.activeId+=360/this.density*this.speed),s===u[0]?(j.clearRect(0,0,q,q),H(j,q*.5,q*.5,this.activeId/180*Math.PI),j.drawImage(this.cCan,0,0,q,q),j.restore()):(this.activeId>=360&&(this.activeId-=360),E(this.vml,{rotation:this.activeId}))},n.show=function(){if(typeof this.timer!="number"){var F=this;this.timer=self.setInterval(function(){F.tick()},Math.round(1e3/this.fps)),E(this.cont,{display:"block"})}},n.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,E(this.cont,{display:"none"}))},n.kill=function(){var F=this.cont;typeof this.timer=="number"&&this.hide(),s===u[0]?(F.removeChild(this.can),F.removeChild(this.cCan)):F.removeChild(this.vml);for(var j in this)delete this[j]},t.CanvasLoader=e})(window);(function(t){t.fn.caret=function(e){var n=this[0],s=n.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(s){n.focus();var u=window.getSelection().getRangeAt(0),l=u.cloneRange();return l.selectNodeContents(n),l.setEnd(u.endContainer,u.endOffset),l.toString().length}return n.selectionStart}if(document.selection){if(n.focus(),s){var u=document.selection.createRange(),l=document.body.createTextRange();return l.moveToElementText(n),l.setEndPoint("EndToEnd",u),l.text.length}var e=0,h=n.createTextRange(),l=document.selection.createRange().duplicate(),f=l.getBookmark();for(h.moveToBookmark(f);h.moveStart("character",-1)!==0;)e++;return e}return n.selectionStart?n.selectionStart:0}if(e==-1&&(e=this[s?"text":"val"]().length),window.getSelection)s?(n.focus(),window.getSelection().collapse(n.firstChild,e)):n.setSelectionRange(e,e);else if(document.body.createTextRange)if(s){var h=document.body.createTextRange();h.moveToElementText(n),h.moveStart("character",e),h.collapse(!0),h.select()}else{var h=n.createTextRange();h.move("character",e),h.select()}return s||n.focus(),e}})(jQuery);(function(t){t.fn.tagEditorInput=function(){var e=" ",n=t(this),s=parseInt(n.css("fontSize")),u=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),l=function(){if(e!==(e=n.val())){u.text(e);var h=u.width()+s;20>h&&(h=20),h!=n.width()&&n.width(h)}};return u.insertAfter(n),n.bind("keyup keydown focus",l)},t.fn.tagEditor=function(e,n,s){function u(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var l,h=t.extend({},t.fn.tagEditor.defaults,e),f=this;if(h.dregex=new RegExp("["+h.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var v=[];return f.each(function(){var x=t(this),w=x.data("options"),E=x.next(".tag-editor");if(e=="getTags")v.push({field:x[0],editor:E,tags:E.data("tags")});else if(e=="addTag"){if(w.maxTags&&E.data("tags").length>=w.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+w.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(E).find(".tag-editor-tag").html('<input type="text" maxlength="'+w.maxLength+'">').addClass("active").find("input").val(n).blur(),s?t(".placeholder",E).remove():E.click()}else e=="removeTag"?(t(".tag-editor-tag",E).filter(function(){return t(this).text()==n}).closest("li").find(".tag-editor-delete").click(),s||E.click()):e=="destroy"&&x.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?v:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(x){if(x.which==8||x.which==46||x.ctrlKey&&x.which==88){try{var w=getSelection(),E=document.activeElement.tagName=="BODY"?t(w.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{E=0}if(w.rangeCount>0&&E&&E.length){var O=[],H=w.toString().split(E.prev().data("options").dregex);for(i=0;i<H.length;i++){var F=t.trim(H[i]);F&&O.push(F)}return t(".tag-editor-tag",E).each(function(){~t.inArray(t(this).text(),O)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),f.each(function(){var x=t(this),w=[],E=t("<ul "+(h.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(x);x.addClass("tag-editor-hidden-src").data("options",h).on("focus.tag-editor",function(){E.click()}),E.append('<li style="width:1px">&nbsp;</li>');var O='<li><div class="tag-editor-spacer">&nbsp;'+h.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function H(){h.placeholder&&!w.length&&!t(".deleted, .placeholder, input",E).length&&E.append('<li class="placeholder"><div>'+h.placeholder+"</div></li>")}function F(I){var V=w.toString();w=t(".tag-editor-tag:not(.deleted)",E).map(function(ne,ue){var de=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(ue).text());if(de)return de}).get(),E.data("tags",w),x.val(w.join(h.delimiter[0])),I||V!=w.toString()&&h.onChange(x,E,w),H()}E.click(function(I,V){var ne,ue=99999,de;if(!(window.getSelection&&getSelection()!=""))return h.maxTags&&E.data("tags").length>=h.maxTags?(E.find("input").blur(),!1):(l=!0,t("input:focus",E).blur(),l&&(l=!0,t(".placeholder",E).remove(),V&&V.length?de="before":t(".tag-editor-tag",E).each(function(){var ge=t(this),he=ge.offset(),Le=he.left,ve=he.top;I.pageY>=ve&&I.pageY<=ve+ge.height()&&(I.pageX<Le?(de="before",ne=Le-I.pageX):(de="after",ne=I.pageX-Le-ge.width()),ne<ue&&(ue=ne,V=ge))}),de=="before"?t(O).insertBefore(V.closest("li")).find(".tag-editor-tag").click():de=="after"?t(O).insertAfter(V.closest("li")).find(".tag-editor-tag").click():t(O).appendTo(E).find(".tag-editor-tag").click()),!1)}),E.on("click",".tag-editor-delete",function(I){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caret(-1),!1;var V=t(this).closest("li"),ne=V.find(".tag-editor-tag");return h.beforeTagDelete(x,E,w,ne.text())===!1||(ne.addClass("deleted").animate({width:0},h.animateDelete,function(){V.remove(),H()}),F()),!1}),h.clickDelete&&E.on("mousedown",".tag-editor-tag",function(I){if(I.ctrlKey||I.which>1){var V=t(this).closest("li"),ne=V.find(".tag-editor-tag");return h.beforeTagDelete(x,E,w,ne.text())===!1||(ne.addClass("deleted").animate({width:0},h.animateDelete,function(){V.remove(),H()}),F()),!1}}),E.on("click",".tag-editor-tag",function(I){if(h.clickDelete&&(I.ctrlKey||I.which>1))return!1;if(!t(this).hasClass("active")){var V=t(this).text(),ne=Math.abs((t(this).offset().left-I.pageX)/t(this).width()),ue=parseInt(V.length*ne),de=t(this).html('<input type="text" maxlength="'+h.maxLength+'" value="'+u(V)+'">').addClass("active").find("input");if(de.data("old_tag",V).tagEditorInput().focus().caret(ue),h.autocomplete){var ge=t.extend({},h.autocomplete),he="select"in ge?h.autocomplete.select:"";ge.select=function(Le,ve){he&&he(Le,ve),setTimeout(function(){E.trigger("click",[t(".active",E).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},de.autocomplete(ge)}}return!1});function j(I){for(var V=I.closest("li"),ne=I.val().replace(/ +/," ").split(h.dregex),ue=I.data("old_tag"),de=w.slice(0),ge=!1,he,Le=0;Le<ne.length;Le++)if(B=t.trim(ne[Le]).slice(0,h.maxLength),h.forceLowercase&&(B=B.toLowerCase()),he=h.beforeTagSave(x,E,de,ue,B),B=he||B,!(he===!1||!B)&&(h.removeDuplicates&&~t.inArray(B,de)&&t(".tag-editor-tag",E).each(function(){t(this).text()==B&&t(this).closest("li").remove()}),de.push(B),V.before('<li><div class="tag-editor-spacer">&nbsp;'+h.delimiter[0]+'</div><div class="tag-editor-tag">'+u(B)+'</div><div class="tag-editor-delete"><i></i></div></li>'),h.maxTags&&de.length>=h.maxTags)){ge=!0;break}I.attr("maxlength",h.maxLength).removeData("old_tag").val(""),ge?I.blur():I.focus(),F()}E.on("blur","input",function(I){I.stopPropagation();var V=t(this),ne=V.data("old_tag"),ue=t.trim(V.val().replace(/ +/," ").replace(h.dregex,h.delimiter[0])),de;if(ue){if(ue.indexOf(h.delimiter[0])>=0){j(V);return}else if(ue!=ne)if(h.forceLowercase&&(ue=ue.toLowerCase()),de=h.beforeTagSave(x,E,w,ne,ue),ue=de||ue,de===!1){if(ne){V.val(ne).focus(),l=!1,F();return}try{V.closest("li").remove()}catch{}ne&&F()}else h.removeDuplicates&&t(".tag-editor-tag:not(.active)",E).each(function(){t(this).text()==ue&&t(this).closest("li").remove()})}else{if(ne&&h.beforeTagDelete(x,E,w,ne)===!1){V.val(ne).focus(),l=!1,F();return}try{V.closest("li").remove()}catch{}ne&&F()}V.parent().html(u(ue)).removeClass("active"),ue!=ne&&F(),H()});var q;E.on("paste","input",function(I){t(this).removeAttr("maxlength"),q=t(this),setTimeout(function(){j(q)},30)});var M;E.on("keypress","input",function(I){h.delimiter.indexOf(String.fromCharCode(I.which))>=0&&(M=t(this),setTimeout(function(){j(M)},20))}),E.on("keydown","input",function(I){var V=t(this);if((I.which==37||!h.autocomplete&&I.which==38)&&!V.caret()||I.which==8&&!V.val()){var ne=V.closest("li").prev("li").find(".tag-editor-tag");return ne.length?ne.click().find("input").caret(-1):V.val()&&!(h.maxTags&&E.data("tags").length>=h.maxTags)&&t(O).insertBefore(V.closest("li")).find(".tag-editor-tag").click(),!1}else if((I.which==39||!h.autocomplete&&I.which==40)&&V.caret()==V.val().length){var ue=V.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):V.val()&&E.click(),!1}else if(I.which==9)if(I.shiftKey){var ne=V.closest("li").prev("li").find(".tag-editor-tag");if(ne.length)ne.click().find("input").caret(0);else if(V.val()&&!(h.maxTags&&E.data("tags").length>=h.maxTags))t(O).insertBefore(V.closest("li")).find(".tag-editor-tag").click();else{x.attr("disabled","disabled"),setTimeout(function(){x.removeAttr("disabled")},30);return}return!1}else{var ue=V.closest("li").next("li").find(".tag-editor-tag");if(ue.length)ue.click().find("input").caret(0);else if(V.val())E.click();else return;return!1}else if(I.which==46&&(!t.trim(V.val())||V.caret()==V.val().length)){var ue=V.closest("li").next("li").find(".tag-editor-tag");return ue.length?ue.click().find("input").caret(0):V.val()&&E.click(),!1}else{if(I.which==13)return E.trigger("click",[V.closest("li").next("li").find(".tag-editor-tag")]),h.maxTags&&E.data("tags").length>=h.maxTags&&E.find("input").blur(),!1;if(I.which==36&&!V.caret())E.find(".tag-editor-tag").first().click();else if(I.which==35&&V.caret()==V.val().length)E.find(".tag-editor-tag").last().click();else if(I.which==27)return V.val(V.data("old_tag")?V.data("old_tag"):"").blur(),!1}});for(var S=h.initialTags.length?h.initialTags:x.val().split(h.dregex),D=0;D<S.length&&!(h.maxTags&&D>=h.maxTags);D++){var B=t.trim(S[D].replace(/ +/," "));B&&(h.forceLowercase&&(B=B.toLowerCase()),w.push(B),E.append('<li><div class="tag-editor-spacer">&nbsp;'+h.delimiter[0]+'</div><div class="tag-editor-tag">'+u(B)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}F(!0),h.sortable&&t.fn.sortable&&E.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){F()}})})},t.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);(function(t){t.fn.collection=function(e){var n={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(re,P){return!0},after_up:function(re,P){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(re,P){return!0},after_down:function(re,P){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(re,P){return!0},after_add:function(re,P){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(re,P){return!0},after_remove:function(re,P){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(re,P){return!0},after_duplicate:function(re,P){return!0},before_init:function(re){},after_init:function(re){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(re,P){return!0},drag_drop_update:function(re,P){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},s=function(){var re=""+Math.random()*1e3*new Date().getTime();return re.replace(".","").split("").sort(function(){return .5-Math.random()}).join("")},u=function(re,P){if(!P.attr("id")){var se;do se=re+"_"+s();while(t("#"+se).length>0);P.attr("id",se)}return P.attr("id")},l=function(re){try{var P=t(re)}catch{return null}return P.length===0?null:P.is('input[type="checkbox"]')?P.prop("checked")===!0:P.is('input[type="radio"]')&&P.attr("name")!==void 0?t('input[name="'+P.attr("name")+'"]:checked').val():P.prop("value")!==void 0?P.val():P.html()},h=function(re,P,se){try{var ye=t(re)}catch{return}ye.length!==0&&(ye.is('input[type="checkbox"]')?P?ye.attr("checked",!0):ye.removeAttr("checked"):ye.prop("value")!==void 0?se?ye.attr("value",P):ye.val(P):ye.html(P))},f=function(re){return re===void 0||re},v=function(re){return(re+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},x=function(re,P,se,ye){var Ee=function(Be){var Me=t(Be);typeof Be=="object"&&"attributes"in Be&&t.each(Be.attributes,function(te,Y){t.type(Y.value)==="string"&&Me.attr(Y.name.replace(se,ye),Y.value.replace(se,ye))}),Me.length>0&&t.each(Me.data(),function(te,Y){t.type(Y)==="string"&&Me.data(te.replace(se,ye),Y.replace(se,ye))})},it=re.eq(P);Ee(it[0]),it.find("*").each(function(){Ee(this)})},w=function(re,P,se,ye,Ee,it){var Be=new RegExp(v(se.name_prefix+"["+Ee+"]"),"g"),Me=se.name_prefix+"["+it+"]";se.children&&t.each(se.children,function(te,Y){var De=re.find(Y.selector).eq(ye),Fe=De.data("collection-settings");Fe&&(Fe.name_prefix=Fe.name_prefix.replace(Be,Me),De.data("collection-settings",Fe))}),x(P,ye,Be,Me),Be=new RegExp(v(re.attr("id")+"_"+Ee),"g"),Me=re.attr("id")+"_"+it,se.children&&t.each(se.children,function(te,Y){var De=re.find(Y.selector).eq(ye),Fe=De.data("collection-settings");Fe&&(Fe.elements_parent_selector=Fe.elements_parent_selector.replace(Be,Me),Fe.elements_selector=Fe.elements_selector.replace(Be,Me),Fe.prefix=Fe.prefix.replace(Be,Me),De.data("collection-settings",Fe))}),x(P,ye,Be,Me)},E=function(re,P,se,ye,Ee,it,Be){var Me=new RegExp(v(P.name_prefix+"["+it+"]"),"g"),te=P.name_prefix+"["+Be+"]";return se=se.replace(Me,te),Me=new RegExp(v(re.attr("id")+"_"+ye),"g"),te=re.attr("id")+"_"+Ee,se=se.replace(Me,te),se},O=function(re){t(re).find(":input").each(function(P,se){h(se,l(se),!0)})},H=function(re,P,se,ye){var Ee=re.data("collection-settings");return!Ee.position_field_selector&&!Ee.preserve_names&&(w(re,P,Ee,se,se,"__swap__"),w(re,P,Ee,ye,ye,se),w(re,P,Ee,se,"__swap__",ye)),P.eq(se).insertBefore(P.eq(ye)),ye>se?P.eq(ye).insertBefore(P.eq(se)):P.eq(ye).insertAfter(P.eq(se)),re.find(Ee.elements_selector)},F=function(re,P,se,ye,Ee){for(var it=ye+1;it<=Ee;it++)P=H(re,P,it,it-1);return re.find(se.elements_selector)},j=function(re,P,se,ye,Ee){for(var it=ye-1;it>=Ee;it--)P=H(re,P,it,it+1);return re.find(se.elements_selector)},q=function(re,P,se,ye){for(var Ee=ye+1;Ee<P.length;Ee++)P=H(re,P,Ee-1,Ee);return re.find(se.elements_selector)},M=function(re,P,se,ye){for(var Ee=P.length-2;Ee>ye;Ee--)P=H(re,P,Ee+1,Ee);return re.find(se.elements_selector)},S=function(re,P,se,ye){var Ee=t(P.elements_parent_selector),it=Ee.find("."+P.prefix+"-tmp").length===0,Be=re.find(P.elements_selector);if(P.allow_add&&it&&(Ee.append('<span class="'+P.prefix+'-tmp"></span>'),P.add&&Ee.append(t(P.add).addClass(P.prefix+"-action "+P.prefix+"-rescue-add").data("collection",re.attr("id")))),se){re.data("collection-offset",Be.length);for(var Me=t(P.container),te=re.find("."+P.prefix+"-add, ."+P.prefix+"-rescue-add, ."+P.prefix+"-duplicate").first(),Y=0;Be.length<P.init_with_n_elements;){Y++;var De=Be.length>0?Be.last():void 0,Fe=Be.length-1;if(Be=B(Me,te,re,P,Be,De,Fe,!1),Y>P.init_with_n_elements){console.error("Infinite loop, element selector ("+P.elements_selector+") not found !");break}}re.data("collection-offset",Be.length)}if(Be.each(function(qe){var Xe=t(this);se&&Xe.data("index",qe);var Ze=Xe.find("."+P.prefix+"-actions").addBack().filter("."+P.prefix+"-actions");Ze.length===0&&(Ze=t('<div class="'+P.prefix+'-actions"></div>'),Xe.append(Ze));var ut=0;ye==="remove"&&P.fade_out&&(ut=1);var Et=[{enabled:P.allow_remove,selector:P.prefix+"-remove",html:P.remove,condition:Be.length-ut>P.min},{enabled:P.allow_up,selector:P.prefix+"-up",html:P.up,condition:Be.length-ut>1&&Be.index(Xe)-ut>0},{enabled:P.allow_down,selector:P.prefix+"-down",html:P.down,condition:Be.length-ut>1&&Be.index(Xe)!==Be.length-1},{enabled:P.allow_add&&!P.add_at_the_end&&!P.custom_add_location,selector:P.prefix+"-add",html:P.add,condition:Be.length-ut<P.max},{enabled:P.allow_duplicate,selector:P.prefix+"-duplicate",html:P.duplicate,condition:Be.length-ut<P.max}];t.each(Et,function(wt,St){if(St.enabled){var _t=Xe.find("."+St.selector);_t.length===0&&St.html&&(_t=t(St.html).appendTo(Ze).addClass(St.selector)),St.condition?(_t.removeClass(P.prefix+"-action-disabled"),P.hide_useless_buttons&&_t.css("display","")):(_t.addClass(P.prefix+"-action-disabled"),P.hide_useless_buttons&&_t.css("display","none")),_t.addClass(P.prefix+"-action").data("collection",re.attr("id")).data("element",u(re.attr("id")+"_"+qe,Xe))}else Xe.find("."+St.selector).css("display","none")})}),P.allow_add){var Z=0;ye==="remove"&&P.fade_out&&(Z=1);var we=re.find("."+P.prefix+"-rescue-add").css("display","").removeClass(P.prefix+"-action-disabled"),Te=re.find("."+P.prefix+"-add");!P.add_at_the_end&&Te.length>Z||P.custom_add_location?we.css("display","none"):ye==="remove"&&P.fade_out&&(we.css("display","none"),we.fadeIn("fast")),Be.length-Z>=P.max&&(we.addClass(P.prefix+"-action-disabled"),P.hide_useless_buttons&&re.find("."+P.prefix+"-add, ."+P.prefix+"-rescue-add, ."+P.prefix+"-duplicate").css("display","none"))}},D=function(re,P,se){se.children&&t.each(se.children,function(ye,Ee){if(!Ee.selector)return console.log("jquery.collection.js: given collection "+re.attr("id")+" has children collections, but children's root selector is undefined."),!0;P!==null?P.find(Ee.selector).collection(Ee):re.find(Ee.selector).collection(Ee)})},B=function(re,P,se,ye,Ee,it,Be,Me){if(Ee.length<ye.max&&(Me&&f(ye.before_duplicate(se,it))||f(ye.before_add(se,it)))){var te=se.data("prototype"),Y=se.data("collection-offset");se.data("collection-offset",Y+1),Be===-1&&(Be=Ee.length-1);var De=new RegExp(v(ye.prototype_name),"g"),Fe=Y;ye.preserve_names&&(Fe=se.data("collection-free-key"),Fe===void 0&&(Fe=he(ye,Ee)),se.data("collection-free-key",Fe+1));var Z=t(te.replace(De,Fe)).data("index",Y);Le(ye,Z);var we=t(ye.elements_parent_selector),Te=we.find("> ."+ye.prefix+"-tmp");if(t(Z).find("[id]").first().attr("id"),Me){var qe=Ee.eq(Be);O(qe);var Xe=t("<div/>").append(qe.clone()).html(),Ze=ye.preserve_names||ye.position_field_selector?qe.data("index"):Be,ut=ye.preserve_names?ge(ye,qe):Ze,Et=E(se,ye,Xe,Ze,Y,ut,Fe);Z=t("<div/>").html(Et).contents().data("index",Y),ye.fade_in&&Z.hide(),Te.before(Z).find(ye.prefix+"-actions").remove()}else ye.fade_in&&Z.hide(),Te.before(Z);Ee=se.find(ye.elements_selector);var wt=Z.find("."+ye.prefix+"-add, ."+ye.prefix+"-duplicate");wt.length>0&&wt.addClass(ye.prefix+"-action").data("collection",se.attr("id")),!ye.add_at_the_end&&Be+1!==Y?Ee=ue(se,ye,Ee,Z,Y,Be+1):S(se,ye,!1),D(se,Z,ye),(Me&&!f(ye.after_duplicate(se,Z))||!f(ye.after_add(se,Z)))&&(Be!==-1&&(Ee=q(se,Ee,ye,Be+1)),Z.remove())}if(Z!==void 0&&ye.fade_in)Z.fadeIn("fast",function(){ye.position_field_selector&&de(ye,Ee)});else if(ye.position_field_selector)return de(ye,Ee);return Ee},I=function(re,P,se,ye,Ee){if(se.length>P.min&&f(P.before_remove(re,ye))){var it=function(){var Be=ye;P.preserve_names||(se=q(re,se,P,Ee),Be=se.last());var Me=Be.clone({withDataAndEvents:!0}).show();if(Be.remove(),!f(P.after_remove(re,Me))){var te=t(P.elements_parent_selector);te.find("> ."+P.prefix+"-tmp").before(Me),se=re.find(P.elements_selector),se=M(re,se,P,Ee-1)}P.position_field_selector&&de(P,se)};P.fade_out?ye.fadeOut("fast",function(){it()}):it()}return se},V=function(re,P,se,ye,Ee){return Ee!==0&&f(P.before_up(re,ye))&&(se=H(re,se,Ee,Ee-1),f(P.after_up(re,ye))||(se=H(re,se,Ee-1,Ee))),P.position_field_selector?de(P,se):se},ne=function(re,P,se,ye,Ee){return Ee!==se.length-1&&f(P.before_down(re,ye))&&(se=H(re,se,Ee,Ee+1),f(P.after_down(re,se))||(se=H(re,se,Ee+1,Ee))),P.position_field_selector?de(P,se):se},ue=function(re,P,se,ye,Ee,it){return Math.abs(it-Ee)===1?(se=H(re,se,Ee,it),(it-Ee>0?f(P.after_up(re,ye)):f(P.after_down(re,ye)))||(se=H(re,se,it,Ee))):Ee<it?(se=F(re,se,P,Ee,it),(it-Ee>0?f(P.after_up(re,ye)):f(P.after_down(re,ye)))||(se=j(re,se,P,it,Ee))):(se=j(re,se,P,Ee,it),(it-Ee>0?f(P.after_up(re,ye)):f(P.after_down(re,ye)))||(se=F(re,se,P,it,Ee))),S(re,P,!1),P.position_field_selector?de(P,se):se},de=function(re,P){return t(P).each(function(){var se=t(this);h(se.find(re.position_field_selector),P.index(se))}),P},ge=function(re,P){var se=P.find(':input[name^="'+re.name_prefix+'["]').attr("name");return se.slice(re.name_prefix.length+1).split("]",1)[0]},he=function(re,P){var se=0;return P.each(function(){var ye=ge(re,t(this));/^0|[1-9]\d*$/.test(ye)&&ye>=se&&(se=Number(ye)+1)}),se},Le=function(re,P){var se=["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"];t.each(se,function(){var ye=this;P.each(function(){var Ee=t(this);Ee.hasClass(re.user_prefix+ye)&&Ee.addClass(re.prefix+ye),Ee.find("*").each(function(){var it=t(this);it.hasClass(re.user_prefix+ye)&&it.addClass(re.prefix+ye)})})})},ve=t(this);return ve.length===0?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(ve.each(function(){var re=t.extend(!0,{},n,e);if(t(re.container).length===0)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var P=t(this);if(P.data("collection")!==void 0){var se=t("#"+P.data("collection"));if(se.length===0)return console.log("jquery.collection.js: given collection id does not exist."),!0}else se=P;if(se=t(se),re.elements_parent_selector=re.elements_parent_selector.replace("%id%","#"+u("",se)),!re.elements_parent_selector&&(re.elements_parent_selector="#"+u("",se),t(re.elements_parent_selector).length===0))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(re.user_prefix=re.prefix,re.prefix=se.attr("id")+"-"+re.user_prefix,Le(re,se),re.allow_add||(re.allow_duplicate=!1,re.add_at_the_end=!1),re.init_with_n_elements>re.max&&(re.init_with_n_elements=re.max),re.min&&(!re.init_with_n_elements||re.init_with_n_elements<re.min)&&(re.init_with_n_elements=re.min),re.before_init(se),se.data("prototype")===null)return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(se.data("prototype-name")!==void 0&&(re.prototype_name=se.data("prototype-name")),se.data("allow-add")!==void 0&&(re.allow_add=se.data("allow-add"),re.allow_duplicate=se.data("allow-add")?re.allow_duplicate:!1),se.data("allow-remove")!==void 0&&(re.allow_remove=se.data("allow-remove")),se.data("name-prefix")!==void 0&&(re.name_prefix=se.data("name-prefix")),!re.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;if(re.preserve_names&&(re.allow_up=!1,re.allow_down=!1,re.drag_drop=!1,re.add_at_the_end=!0),typeof jQuery.ui<"u"&&typeof jQuery.ui.sortable<"u"&&se.data("sortable")&&se.sortable("disable"),re.drag_drop&&re.allow_up&&re.allow_down){var ye,Ee;typeof jQuery.ui>"u"||typeof jQuery.ui.sortable>"u"?re.drag_drop=!1:se.sortable(t.extend(!0,{},{start:function(Y,De){var Fe=se.find(re.elements_selector),Z=De.item,we=t(this);if(!f(re.drag_drop_start(Y,De,Fe,Z))){we.sortable("cancel");return}De.placeholder.height(De.item.height()),De.placeholder.width(De.item.width()),ye=Fe.index(Z)},update:function(Y,De){var Fe=se.find(re.elements_selector),Z=De.item,we=t(this);we.sortable("cancel"),!(re.drag_drop_update(Y,De,Fe,Z)===!1||!(Ee-ye>0?f(re.before_up(se,Z)):f(re.before_down(se,Z))))&&(Ee=Fe.index(Z),Fe=se.find(re.elements_selector),ue(se,re,Fe,Z,ye,Ee))}},re.drag_drop_options))}se.data("collection-settings",re);var it=t(re.container);if(it.off("click","."+re.prefix+"-action").on("click","."+re.prefix+"-action",function(Y){var De=t(this),Fe=t("#"+De.data("collection")),Z=Fe.data("collection-settings");if(Z===void 0){var Fe=t("#"+De.data("collection")).find("."+De.data("collection")+"-collection"),Z=Fe.data("collection-settings");if(Z===void 0)throw"Can't find collection: "+De.data("collection")}var we=Fe.find(Z.elements_selector),Te=De.data("element")?t("#"+De.data("element")):void 0,qe=Te&&Te.length?we.index(Te):-1,Xe=null,Ze=De.is("."+Z.prefix+"-duplicate");(De.is("."+Z.prefix+"-add")||De.is("."+Z.prefix+"-rescue-add")||Ze)&&Z.allow_add&&(Xe="add",we=B(it,De,Fe,Z,we,Te,qe,Ze)),De.is("."+Z.prefix+"-remove")&&Z.allow_remove&&(Xe="remove",we=I(Fe,Z,we,Te,qe)),De.is("."+Z.prefix+"-up")&&Z.allow_up&&(Xe="up",we=V(Fe,Z,we,Te,qe)),De.is("."+Z.prefix+"-down")&&Z.allow_down&&(Xe="down",we=ne(Fe,Z,we,Te,qe)),S(Fe,Z,!1,Xe),Y.preventDefault()}),S(se,re,!0),D(se,null,re),re.position_field_selector){var Be=[],Me=se.find(re.elements_selector);Me.each(function(Y){var De=t(this);Be.push({position:parseFloat(l(De.find(re.position_field_selector))),element:De})});var te=function(Y,De){return Y.position<De.position?-1:Y.position>De.position?1:0};Be.sort(te),t.each(Be,function(Y,De){var Fe=[];t(Me).each(function(Te){Fe.push(t(this).attr("id"))});var Z=De.element,we=t.inArray(Z.attr("id"),Fe);Y!==we&&(Me=ue(se,re,Me,Z,we,Y),h(Z.find(re.position_field_selector),Me.index(Z)))})}re.after_init(se)}),!0)}})(jQuery);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;if(window.jQuery)e=t(window.jQuery);else throw new Error("UIkit 2.x requires jQuery");typeof define=="function"&&define.amd&&define("uikit",function(){return e.load=function(n,s,u,l){var h=n.split(","),f=[],v,x=(l.config&&l.config.uikit&&l.config.uikit.base?l.config.uikit.base:"").replace(/\/+$/g,"");if(!x)throw new Error("Please define base path to UIkit in the requirejs config.");for(v=0;v<h.length;v+=1){var w=h[v].replace(/\./g,"/");f.push(x+"/components/"+w)}s(f,function(){u(e)})},e})})(function(t){if(window.UIkit2)return window.UIkit2;var e={},n=window.UIkit||void 0;if(e.version="2.27.4",e.noConflict=function(){return n&&(window.UIkit=n,t.UIkit=n,t.fn.uk=n.fn),e},window.UIkit2=e,n||(window.UIkit=e),e.$=t,e.$doc=e.$(document),e.$win=e.$(window),e.$html=e.$("html"),e.support={},e.support.transition=function(){var f=function(){var v=document.body||document.documentElement,x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},w;for(w in x)if(v.style[w]!==void 0)return x[w]}();return f&&{end:f}}(),e.support.animation=function(){var f=function(){var v=document.body||document.documentElement,x={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},w;for(w in x)if(v.style[w]!==void 0)return x[w]}();return f&&{end:f}}(),function(){Date.now=Date.now||function(){return new Date().getTime()};for(var f=["webkit","moz"],v=0;v<f.length&&!window.requestAnimationFrame;++v){var x=f[v];window.requestAnimationFrame=window[x+"RequestAnimationFrame"],window.cancelAnimationFrame=window[x+"CancelAnimationFrame"]||window[x+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var w=0;window.requestAnimationFrame=function(E){var O=Date.now(),H=Math.max(w+16,O);return setTimeout(function(){E(w=H)},H-O)},window.cancelAnimationFrame=clearTimeout}}(),e.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,e.Utils={},e.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},e.Utils.str2json=function(f,v){try{return v?JSON.parse(f.replace(/([\$\w]+)\s*:/g,function(x,w){return'"'+w+'":'}).replace(/'([^']+)'/g,function(x,w){return'"'+w+'"'})):new Function("","var json = "+f+"; return JSON.parse(JSON.stringify(json));")()}catch{return!1}},e.Utils.debounce=function(f,v,x){var w;return function(){var E=this,O=arguments,H=function(){w=null,x||f.apply(E,O)},F=x&&!w;clearTimeout(w),w=setTimeout(H,v),F&&f.apply(E,O)}},e.Utils.throttle=function(f,v){var x=!1;return function(){x||(f.call(),x=!0,setTimeout(function(){x=!1},v))}},e.Utils.removeCssRules=function(f){var v,x,w,E,O,H,F,j,q,M;f&&setTimeout(function(){try{for(M=document.styleSheets,E=0,F=M.length;E<F;E++){for(w=M[E],x=[],w.cssRules=w.cssRules,v=O=0,j=w.cssRules.length;O<j;v=++O)w.cssRules[v].type===CSSRule.STYLE_RULE&&f.test(w.cssRules[v].selectorText)&&x.unshift(v);for(H=0,q=x.length;H<q;H++)w.deleteRule(x[H])}}catch{}},0)},e.Utils.isInView=function(f,v){var x=t(f);if(!x.is(":visible"))return!1;var w=e.$win.scrollLeft(),E=e.$win.scrollTop(),O=x.offset(),H=O.left,F=O.top;return v=t.extend({topoffset:0,leftoffset:0},v),F+x.height()>=E&&F-v.topoffset<=E+e.$win.height()&&H+x.width()>=w&&H-v.leftoffset<=w+e.$win.width()},e.Utils.checkDisplay=function(f,v){var x=e.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",f||document);return f&&!x.length&&(x=t(f)),x.trigger("display.uk.check"),v&&(typeof v!="string"&&(v='[class*="uk-animation-"]'),x.find(v).each(function(){var w=e.$(this),E=w.attr("class"),O=E.match(/uk-animation-(.+)/);w.removeClass(O[0]).width(),w.addClass(O[0])})),x},e.Utils.options=function(f){if(t.type(f)!="string")return f;f.indexOf(":")!=-1&&f.trim().substr(-1)!="}"&&(f="{"+f+"}");var v=f?f.indexOf("{"):-1,x={};if(v!=-1)try{x=e.Utils.str2json(f.substr(v))}catch{}return x},e.Utils.animate=function(f,v){var x=t.Deferred();return f=e.$(f),f.css("display","none").addClass(v).one(e.support.animation.end,function(){f.removeClass(v),x.resolve()}),f.css("display",""),x.promise()},e.Utils.uid=function(f){return(f||"id")+new Date().getTime()+"RAND"+Math.ceil(Math.random()*1e5)},e.Utils.template=function(f,v){for(var x=f.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),w=0,E,O,H,F,j=[],q=0;w<x.length;){if(E=x[w],E.match(/\{\{\s*(.+?)\s*\}\}/))switch(w=w+1,E=x[w],O=E[0],H=E.substring(E.match(/^(\^|\#|\!|\~|\:)/)?1:0),O){case"~":j.push("for(var $i=0;$i<"+H+".length;$i++) { var $item = "+H+"[$i];"),q++;break;case":":j.push("for(var $key in "+H+") { var $val = "+H+"[$key];"),q++;break;case"#":j.push("if("+H+") {"),q++;break;case"^":j.push("if(!"+H+") {"),q++;break;case"/":j.push("}"),q--;break;case"!":j.push("__ret.push("+H+");");break;default:j.push("__ret.push(escape("+H+"));");break}else j.push("__ret.push('"+E.replace(/\'/g,"\\'")+"');");w=w+1}return F=new Function("$data",["var __ret = [];","try {","with($data){",q?'__ret = ["Not all blocks are closed correctly."]':j.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',`function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}`].join(`
`)),v?F(v):F},e.Utils.focus=function(f,v){if(f=t(f),!f.length)return f;var x=f.find("[autofocus]:first"),w;return x.length||(x=f.find(":input"+(v&&","+v||"")).first(),x.length)?x.focus():(f.attr("tabindex")||(w=1e3,f.attr("tabindex",w)),f[0].focus(),w&&f.attr("tabindex",""),f)},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.fn=function(f,v){var x=arguments,w=f.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),E=w[1],O=w[2];return e[E]?this.each(function(){var H=t(this),F=H.data(E);F||H.data(E,F=e[E](this,O?void 0:v)),O&&F[O].apply(F,Array.prototype.slice.call(x,1))}):(t.error("UIkit component ["+E+"] does not exist."),this)},t.UIkit=e,t.fn.uk=e.fn,e.langdirection=e.$html.attr("dir")=="rtl"?"right":"left",e.components={},e.component=function(f,v,x){if(e.components[f]&&!x)return e.components[f];var w=function(E,O){var H=this;return this.UIkit=e,this.element=E?e.$(E):null,this.options=t.extend(!0,{},this.defaults,O),this.plugins={},this.element&&this.element.data(f,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(w.plugins)).forEach(function(F){w.plugins[F].init&&(w.plugins[F].init(H),H.plugins[F]=!0)}),this.trigger("init.uk.component",[f,this]),this};return w.plugins={},t.extend(!0,w.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(E,O,H){return e.$(this.element||this).on(E,O,H)},one:function(E,O,H){return e.$(this.element||this).one(E,O,H)},off:function(E){return e.$(this.element||this).off(E)},trigger:function(E,O){return e.$(this.element||this).trigger(E,O)},find:function(E){return e.$(this.element?this.element:[]).find(E)},proxy:function(E,O){var H=this;O.split(" ").forEach(function(F){H[F]||(H[F]=function(){return E[F].apply(E,arguments)})})},mixin:function(E,O){var H=this;O.split(" ").forEach(function(F){H[F]||(H[F]=E[F].bind(H))})},option:function(){if(arguments.length==1)return this.options[arguments[0]]||void 0;arguments.length==2&&(this.options[arguments[0]]=arguments[1])}},v),this.components[f]=w,this[f]=function(){var E,O;if(arguments.length)switch(arguments.length){case 1:typeof arguments[0]=="string"||arguments[0].nodeType||arguments[0]instanceof jQuery?E=t(arguments[0]):O=arguments[0];break;case 2:E=t(arguments[0]),O=arguments[1];break}return E&&E.data(f)?E.data(f):new e.components[f](E,O)},e.domready&&e.component.boot(f),w},e.plugin=function(f,v,x){this.components[f].plugins[v]=x},e.component.boot=function(f){e.components[f].prototype&&e.components[f].prototype.boot&&!e.components[f].booted&&(e.components[f].prototype.boot.apply(e,[]),e.components[f].booted=!0)},e.component.bootComponents=function(){for(var f in e.components)e.component.boot(f)},e.domObservers=[],e.domready=!1,e.ready=function(f){e.domObservers.push(f),e.domready&&f(document)},e.on=function(f,v,x){return f&&f.indexOf("ready.uk.dom")>-1&&e.domready&&v.apply(e.$doc),e.$doc.on(f,v,x)},e.one=function(f,v,x){return f&&f.indexOf("ready.uk.dom")>-1&&e.domready?(v.apply(e.$doc),e.$doc):e.$doc.one(f,v,x)},e.trigger=function(f,v){return e.$doc.trigger(f,v)},e.domObserve=function(f,v){e.support.mutationobserver&&(v=v||function(){},e.$(f).each(function(){var x=this,w=e.$(x);if(!w.data("observer"))try{var E=new e.support.mutationobserver(e.Utils.debounce(function(O){v.apply(x,[w]),w.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});E.observe(x,{childList:!0,subtree:!0}),w.data("observer",E)}catch{}}))},e.init=function(f){f=f||document,e.domObservers.forEach(function(v){v(f)})},e.on("domready.uk.dom",function(){e.init(),e.domready&&e.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",function(){var f=function(){e.$body=e.$("body"),e.trigger("beforeready.uk.dom"),e.component.bootComponents();var v=requestAnimationFrame(function(){var w={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},E=function(){var O=window.pageXOffset,H=window.pageYOffset;(w.x!=O||w.y!=H)&&(O!=w.x?w.dir.x=O>w.x?1:-1:w.dir.x=0,H!=w.y?w.dir.y=H>w.y?1:-1:w.dir.y=0,w.x=O,w.y=H,e.$doc.trigger("scrolling.uk.document",[{dir:{x:w.dir.x,y:w.dir.y},x:O,y:H}])),cancelAnimationFrame(v),v=requestAnimationFrame(E)};return e.support.touch&&e.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",E),(w.x||w.y)&&E(),E}());if(e.trigger("domready.uk.dom"),e.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e.$win.on("load orientationchange resize",e.Utils.debounce(function(){var w=function(){return t(".uk-height-viewport").css("height",window.innerHeight),w};return w()}(),100)),e.trigger("afterready.uk.dom"),e.domready=!0,e.support.mutationobserver){var x=e.Utils.debounce(function(){requestAnimationFrame(function(){e.init(document.body)})},10);new e.support.mutationobserver(function(w){var E=!1;w.every(function(O){if(O.type!="childList")return!0;for(var H=0,F;H<O.addedNodes.length;++H)if(F=O.addedNodes[H],F.outerHTML&&F.outerHTML.indexOf("data-uk-")!==-1)return(E=!0)&&!1;return!0}),E&&x()}).observe(document.body,{childList:!0,subtree:!0})}};return(document.readyState=="complete"||document.readyState=="interactive")&&setTimeout(f),f}()),e.$html.addClass(e.support.touch?"uk-touch":"uk-notouch"),e.support.touch){var s=!1,u,l="uk-hover",h=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";e.$html.on("mouseenter touchstart MSPointerDown pointerdown",h,function(){s&&t("."+l).removeClass(l),s=t(this).addClass(l)}).on("mouseleave touchend MSPointerUp pointerup",function(f){u=t(f.target).parents(h),s&&s.not(u).removeClass(l)})}return e});(function(t){if(t.fn.swipeLeft)return;var e={},n,s,u,l,h=750,f,v="ontouchstart"in window,x=window.PointerEvent,w=v||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;function E(q,M,S,D){return Math.abs(q-M)>=Math.abs(S-D)?q-M>0?"Left":"Right":S-D>0?"Up":"Down"}function O(){l=null,e.last&&(e.el!==void 0&&e.el.trigger("longTap"),e={})}function H(){l&&clearTimeout(l),l=null}function F(){n&&clearTimeout(n),s&&clearTimeout(s),u&&clearTimeout(u),l&&clearTimeout(l),n=s=u=l=null,e={}}function j(q){return q.pointerType==q.MSPOINTER_TYPE_TOUCH&&q.isPrimary}t(function(){var q,M,S=0,D=0,B;"MSGesture"in window&&(f=new MSGesture,f.target=document.body),t(document).on("MSGestureEnd gestureend",function(I){var V=I.originalEvent.velocityX>1?"Right":I.originalEvent.velocityX<-1?"Left":I.originalEvent.velocityY>1?"Down":I.originalEvent.velocityY<-1?"Up":null;V&&e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+V))}).on("touchstart MSPointerDown pointerdown",function(I){I.type=="MSPointerDown"&&!j(I.originalEvent)||(B=I.type=="MSPointerDown"||I.type=="pointerdown"?I:I.originalEvent.touches[0],q=Date.now(),M=q-(e.last||q),e.el=t("tagName"in B.target?B.target:B.target.parentNode),n&&clearTimeout(n),e.x1=B.pageX,e.y1=B.pageY,M>0&&M<=250&&(e.isDoubleTap=!0),e.last=q,l=setTimeout(O,h),I.originalEvent&&I.originalEvent.pointerId&&f&&(I.type=="MSPointerDown"||I.type=="pointerdown"||I.type=="touchstart")&&f.addPointer(I.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(I){I.type=="MSPointerMove"&&!j(I.originalEvent)||(B=I.type=="MSPointerMove"||I.type=="pointermove"?I:I.originalEvent.touches[0],H(),e.x2=B.pageX,e.y2=B.pageY,S+=Math.abs(e.x1-e.x2),D+=Math.abs(e.y1-e.y2))}).on("touchend MSPointerUp pointerup",function(I){I.type=="MSPointerUp"&&!j(I.originalEvent)||(H(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?u=setTimeout(function(){e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+E(e.x1,e.x2,e.y1,e.y2))),e={}},0):"last"in e&&(isNaN(S)||S<30&&D<30?s=setTimeout(function(){var V=t.Event("tap");V.cancelTouch=F,e.el!==void 0&&e.el.trigger(V),e.isDoubleTap?(e.el!==void 0&&e.el.trigger("doubleTap"),e={}):n=setTimeout(function(){n=null,e.el!==void 0&&e.el.trigger("singleTap"),e={}},250)},0):e={},S=D=0))}).on("touchcancel MSPointerCancel pointercancel",function(I){(I.type=="touchcancel"&&v&&w||!v&&I.type=="pointercancel"&&x)&&F()}),t(window).on("scroll",F)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(q){t.fn[q]=function(M){return t(this).on(q,M)}})})(jQuery);(function(t){t.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var n=t.$(this);n.data("stackMargin")||t.stackMargin(n,t.Utils.options(n.attr("data-uk-margin")))})})},init:function(){var e=this;t.$win.on("resize orientationchange",function(){var n=function(){e.process()};return t.$(function(){n(),t.$win.on("load",n)}),t.Utils.debounce(n,20)}()),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.process()}).bind(this)),this.options.observe&&t.domObserve(this.element,function(n){e.element.is(":visible")&&e.process()})},process:function(){var e=this.element.children();if(t.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var n={},s=!1;return e.removeClass(this.options.rowfirst).each(function(u,l){l=t.$(this),this.style.display!="none"&&(u=l.offset().left,((n[u]=n[u]||[])&&n[u]).push(this),s=s===!1?u:Math.min(s,u))}),t.$(n[s]).addClass(this.options.rowfirst),this}}),function(){var e=[],n=function(s){if(s.is(":visible")){var u=s.parent().width(),l=s.data("width"),h=u/l,f=Math.floor(h*s.data("height"));s.css({height:u<l?f:s.data("height")})}};t.component("responsiveElement",{defaults:{},boot:function(){t.ready(function(s){t.$("iframe.uk-responsive-width, [data-uk-responsive]",s).each(function(){var u=t.$(this);u.data("responsiveElement")||t.responsiveElement(u,{})})})},init:function(){var s=this.element;s.attr("width")&&s.attr("height")&&(s.data({width:s.attr("width"),height:s.attr("height")}).on("display.uk.check",function(){n(s)}),n(s),e.push(s))}}),t.$win.on("resize load",t.Utils.debounce(function(){e.forEach(function(s){n(s)})},15))}(),t.Utils.stackMargin=function(e,n){n=t.$.extend({cls:"uk-margin-small-top"},n),e=t.$(e).removeClass(n.cls);var s=!1;e.each(function(u,l,h,f){f=t.$(this),f.css("display")!="none"&&(u=f.offset(),l=f.outerHeight(),h=u.top+l,f.data({ukMarginPos:h,ukMarginTop:u.top}),(s===!1||u.top<s.top)&&(s={top:u.top,left:u.left,pos:h}))}).each(function(u){u=t.$(this),u.css("display")!="none"&&u.data("ukMarginTop")>s.top&&u.data("ukMarginPos")>s.pos&&u.addClass(n.cls)})},t.Utils.matchHeights=function(e,n){e=t.$(e).css("min-height",""),n=t.$.extend({row:!0},n);var s=function(u){if(!(u.length<2)){var l=0;u.each(function(){l=Math.max(l,t.$(this).outerHeight())}).each(function(){var h=t.$(this),f=l-(h.css("box-sizing")=="border-box"?0:h.outerHeight()-h.height());h.css("min-height",f+"px")})}};n.row?(e.first().width(),setTimeout(function(){var u=!1,l=[];e.each(function(){var h=t.$(this),f=h.offset().top;f!=u&&l.length&&(s(t.$(l)),l=[],f=h.offset().top),l.push(h),u=f}),l.length&&s(t.$(l))},0)):s(e)},function(e){t.Utils.inlineSvg=function(n,s){t.$(n||'img[src$=".svg"]',s||document).each(function(){var u=t.$(this),l=u.attr("src");if(!e[l]){var h=t.$.Deferred();t.$.get(l,{nc:Math.random()},function(f){h.resolve(t.$(f).find("svg"))}),e[l]=h.promise()}e[l].then(function(f){var v=t.$(f).clone();u.attr("id")&&v.attr("id",u.attr("id")),u.attr("class")&&v.attr("class",u.attr("class")),u.attr("style")&&v.attr("style",u.attr("style")),u.attr("width")&&(v.attr("width",u.attr("width")),u.attr("height")||v.removeAttr("height")),u.attr("height")&&(v.attr("height",u.attr("height")),u.attr("width")||v.removeAttr("width")),u.replaceWith(v)})})},t.ready(function(n){t.Utils.inlineSvg("[data-uk-svg]",n)})}({}),t.Utils.getCssVar=function(e){var n,s=document.documentElement,u=s.appendChild(document.createElement("div"));u.classList.add("var-"+e);try{n=JSON.parse(n=getComputedStyle(u,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch{n=void 0}return s.removeChild(u),n}})(UIkit2);(function(t){t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(n){var s=t.$(this);return s.data("smoothScroll")||(t.smoothScroll(s,t.Utils.options(s.attr("data-uk-smooth-scroll"))),s.trigger("click")),!1})},init:function(){var n=this;this.on("click",function(s){s.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),n.options)})}});function e(n,s){s=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},s);var u=n.offset().top-s.offset,l=t.$doc.height(),h=window.innerHeight;u+h>l&&(u=l-h),t.$("html,body").stop().animate({scrollTop:u},s.duration,s.transition).promise().done(s.complete)}t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(n,s,u,l,h){return s==h?u+l:l*(-Math.pow(2,-10*s/h)+1)+u})})(UIkit2);(function(t){var e=t.$win,n=t.$doc,s=[],u=function(){for(var f=0;f<s.length;f++)window.requestAnimationFrame.apply(window,[s[f].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){n.on("scrolling.uk.document",u),e.on("load resize orientationchange",t.Utils.debounce(u,50)),t.ready(function(f){t.$("[data-uk-scrollspy]",f).each(function(){var v=t.$(this);v.data("scrollspy")||t.scrollspy(v,t.Utils.options(v.attr("data-uk-scrollspy")))})})},init:function(){var f=this,v,x=this.options.cls.split(/,/),w=function(){var E=f.options.target?f.element.find(f.options.target):f.element,O=E.length===1?1:0,H=0;E.each(function(F){var j=t.$(this),q=j.data("inviewstate"),M=t.Utils.isInView(j,f.options),S=j.attr("data-uk-scrollspy-cls")||x[H].trim();M&&!q&&!j.data("scrollspy-idle")&&(v||(j.addClass(f.options.initcls),f.offset=j.offset(),v=!0,j.trigger("init.uk.scrollspy")),j.data("scrollspy-idle",setTimeout(function(){j.addClass("uk-scrollspy-inview").toggleClass(S).width(),j.trigger("inview.uk.scrollspy"),j.data("scrollspy-idle",!1),j.data("inviewstate",!0)},f.options.delay*O)),O++),!M&&q&&f.options.repeat&&(j.data("scrollspy-idle")&&(clearTimeout(j.data("scrollspy-idle")),j.data("scrollspy-idle",!1)),j.removeClass("uk-scrollspy-inview").toggleClass(S),j.data("inviewstate",!1),j.trigger("outview.uk.scrollspy")),H=x[H+1]?H+1:0})};w(),this.check=w,s.push(this)}});var l=[],h=function(){for(var f=0;f<l.length;f++)window.requestAnimationFrame.apply(window,[l[f].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){n.on("scrolling.uk.document",h),e.on("resize orientationchange",t.Utils.debounce(h,50)),t.ready(function(f){t.$("[data-uk-scrollspy-nav]",f).each(function(){var v=t.$(this);v.data("scrollspynav")||t.scrollspynav(v,t.Utils.options(v.attr("data-uk-scrollspy-nav")))})})},init:function(){var f=[],v=this.find("a[href^='#']").each(function(){this.getAttribute("href").trim()!=="#"&&f.push(this.getAttribute("href"))}),x=t.$(f.join(",")),w=this.options.cls,E=this.options.closest||this.options.closest,O=this,H,F=function(){H=[];for(var j=0;j<x.length;j++)t.Utils.isInView(x.eq(j),O.options)&&H.push(x.eq(j));if(H.length){var q,M=e.scrollTop(),S=function(){for(var D=0;D<H.length;D++)if(H[D].offset().top-O.options.topoffset>=M)return H[D]}();if(!S)return;O.options.closest?(v.blur().closest(E).removeClass(w),q=v.filter("a[href='#"+S.attr("id")+"']").closest(E).addClass(w)):q=v.removeClass(w).filter("a[href='#"+S.attr("id")+"']").addClass(w),O.element.trigger("inview.uk.scrollspynav",[S,q])}};this.options.smoothscroll&&t.smoothScroll&&v.each(function(){t.smoothScroll(this,O.options.smoothscroll)}),F(),this.element.data("scrollspynav",this),this.check=F,l.push(this)}})})(UIkit2);(function(t){var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(n){t.$("[data-uk-toggle]",n).each(function(){var s=t.$(this);s.data("toggle")||t.toggle(s,t.Utils.options(s.attr("data-uk-toggle")))}),setTimeout(function(){e.forEach(function(s){s.getToggles()})},0)})},init:function(){var n=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(s){n.element.is('a[href="#"]')&&s.preventDefault(),n.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),!!this.totoggle.length){if(this.options.animation&&t.support.animation){var n=this,s=this.options.animation.split(",");s.length==1&&(s[1]=s[0]),s[0]=s[0].trim(),s[1]=s[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var u=t.$(this);u.hasClass(n.options.cls)?(u.toggleClass(n.options.cls),t.Utils.animate(u,s[0]).then(function(){u.css("animation-duration",""),t.Utils.checkDisplay(u)})):t.Utils.animate(this,s[1]+" uk-animation-reverse").then(function(){u.toggleClass(n.options.cls).css("animation-duration",""),t.Utils.checkDisplay(u)})})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})})(UIkit2);(function(t){t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var n=t.$(this);if(!n.data("alert")){var s=t.alert(n,t.Utils.options(n.attr("data-uk-alert")));t.$(e.target).is(s.options.trigger)&&(e.preventDefault(),s.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(n){n.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),n=(function(){this.trigger("closed.uk.alert").remove()}).bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,n):n()}})})(UIkit2);(function(t){t.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var n=t.$(this);if(!n.data("buttonRadio")){var s=t.buttonRadio(n,t.Utils.options(n.attr("data-uk-button-radio"))),u=t.$(e.target);u.is(s.options.target)&&u.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var s=t.$(this);s.is('a[href="#"]')&&n.preventDefault(),e.find(e.options.target).not(s).removeClass(e.options.activeClass).blur(),s.addClass(e.options.activeClass),e.find(e.options.target).not(s).attr("aria-checked","false"),s.attr("aria-checked","true"),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var n=t.$(this);if(!n.data("buttonCheckbox")){var s=t.buttonCheckbox(n,t.Utils.options(n.attr("data-uk-button-checkbox"))),u=t.$(e.target);u.is(s.options.target)&&u.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var s=t.$(this);s.is('a[href="#"]')&&n.preventDefault(),s.toggleClass(e.options.activeClass).blur(),s.attr("aria-checked",s.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var n=t.$(this);n.data("button")||(t.button(n,t.Utils.options(n.attr("data-uk-button"))),n.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(n){e.element.is('a[href="#"]')&&n.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})})(UIkit2);(function(t){var e=!1,n,s={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};t.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:t.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var l=t.support.touch?"click":"mouseenter";t.$html.on(l+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(h){var f=t.$(this);if(!f.data("dropdown")){var v=t.dropdown(f,t.Utils.options(f.attr("data-uk-dropdown")));(h.type=="click"||h.type=="mouseenter"&&v.options.mode=="hover")&&v.element.trigger(l),v.dropdown.length&&h.preventDefault()}})},init:function(){var l=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return t.$.inArray(t.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?t.$(this.options.justify):!1,this.boundary=t.$(this.options.boundary),this.boundary.length||(this.boundary=t.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),this.options.mode=="click"||t.support.touch?this.on("click.uk.dropdown",function(h){var f=t.$(h.target);f.parents(l.options.dropdownSelector).length||((f.is("a[href='#']")||f.parent().is("a[href='#']")||l.dropdown.length&&!l.dropdown.is(":visible"))&&h.preventDefault(),f.blur()),l.element.hasClass("uk-open")?(!l.dropdown.find(h.target).length||f.is(".uk-dropdown-close")||f.parents(".uk-dropdown-close").length)&&l.hide():l.show()}):this.on("mouseenter",function(h){l.trigger("pointerenter.uk.dropdown",[l]),l.remainIdle&&clearTimeout(l.remainIdle),n&&clearTimeout(n),!(e&&e==l)&&(e&&e!=l?n=setTimeout(function(){n=setTimeout(l.show.bind(l),l.options.delay)},l.options.hoverDelayIdle):n=setTimeout(l.show.bind(l),l.options.delay))}).on("mouseleave",function(){n&&clearTimeout(n),l.remainIdle=setTimeout(function(){e&&e==l&&l.hide()},l.options.remaintime),l.trigger("pointerleave.uk.dropdown",[l])}).on("click",function(h){var f=t.$(h.target);if(l.remainIdle&&clearTimeout(l.remainIdle),e&&e==l){(!l.dropdown.find(h.target).length||f.is(".uk-dropdown-close")||f.parents(".uk-dropdown-close").length)&&l.hide();return}(f.is("a[href='#']")||f.parent().is("a[href='#']"))&&h.preventDefault(),l.show()})},show:function(){t.$html.off("click.outer.dropdown"),e&&e!=this&&e.hide(!0),n&&clearTimeout(n),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),t.Utils.focus(this.dropdown),e=this,this.registerOuterClick()},hide:function(l){this.trigger("beforehide.uk.dropdown",[this,l]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,l]),e==this&&(e=!1)},registerOuterClick:function(){var l=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(h){n&&clearTimeout(n),t.$(h.target),e==l&&!l.element.find(h.target).length&&(l.hide(!0),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var l=t.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),h=this.options.offset,f=this.dropdown;f.show().offset();var v=f.outerWidth(),x=f.outerHeight(),w=this.boundary.width();this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset();var E=this.options.pos,O={"bottom-left":{top:0+l.height+h,left:0},"bottom-right":{top:0+l.height+h,left:0+l.width-v},"bottom-center":{top:0+l.height+h,left:0+l.width/2-v/2},"top-left":{top:0-x-h,left:0},"top-right":{top:0-x-h,left:0+l.width-v},"top-center":{top:0-x-h,left:0+l.width/2-v/2},"left-top":{top:0,left:0-v-h},"left-bottom":{top:0+l.height-x,left:0-v-h},"left-center":{top:0+l.height/2-x/2,left:0-v-h},"right-top":{top:0,left:0+l.width+h},"right-bottom":{top:0+l.height-x,left:0+l.width+h},"right-center":{top:0+l.height/2-x/2,left:0+l.width+h}},H={},F;if(F=E.split("-"),H=O[E]?O[E]:O["bottom-left"],this.justified&&this.justified.length)u(f.css({left:0}),this.justified,w);else if(this.options.preventflip!==!0){var j;switch(this.checkBoundary(l.left+H.left,l.top+H.top,v,x,w)){case"x":this.options.preventflip!=="x"&&(j=s.x[E]||"right-top");break;case"y":this.options.preventflip!=="y"&&(j=s.y[E]||"top-left");break;case"xy":this.options.preventflip||(j=s.xy[E]||"right-bottom");break}j&&(F=j.split("-"),H=O[j]?O[j]:O["bottom-left"],f.addClass("uk-dropdown-autoflip"),this.checkBoundary(l.left+H.left,l.top+H.top,v,x,w)&&(F=E.split("-"),H=O[E]?O[E]:O["bottom-left"]))}v>w&&(f.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),f.css(H).css("display","").addClass("uk-dropdown-"+F[0])}},checkBoundary:function(l,h,f,v,x){var w="";return(l<0||l-t.$win.scrollLeft()+f>x)&&(w+="x"),(h-t.$win.scrollTop()<0||h-t.$win.scrollTop()+v>window.innerHeight)&&(w+="y"),w}}),t.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){t.ready(function(l){t.$("[data-uk-dropdown-overlay]",l).each(function(){var h=t.$(this);h.data("dropdownOverlay")||t.dropdownOverlay(h,t.Utils.options(h.attr("data-uk-dropdown-overlay")))})})},init:function(){var l=this;this.justified=this.options.justify?t.$(this.options.justify):!1,this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(h,f){l.dropdown=f,l.justified&&l.justified.length&&u(l.overlay.css({display:"block",marginLeft:"",marginRight:""}),l.justified,l.justified.outerWidth())},"show.uk.dropdown":function(h,f){var v=l.dropdown.dropdown.outerHeight(!0);l.dropdown.element.removeClass("uk-open"),l.overlay.stop().css("display","block").animate({height:v},l.options.duration,function(){l.dropdown.dropdown.css("visibility",""),l.dropdown.element.addClass("uk-open"),t.Utils.checkDisplay(l.dropdown.dropdown,!0)}),l.pointerleave=!1},"hide.uk.dropdown":function(){l.overlay.stop().animate({height:0},l.options.duration)},"pointerenter.uk.dropdown":function(h,f){clearTimeout(l.remainIdle)},"pointerleave.uk.dropdown":function(h,f){l.pointerleave=!0}}),this.overlay.on({mouseenter:function(){l.remainIdle&&(clearTimeout(l.dropdown.remainIdle),clearTimeout(l.remainIdle))},mouseleave:function(){l.pointerleave&&e&&(l.remainIdle=setTimeout(function(){e&&e.hide()},e.options.remaintime))}})}});function u(l,h,f,v){if(l=t.$(l),h=t.$(h),f=f||window.innerWidth,v=v||l.offset(),h.length){var x=h.outerWidth();if(l.css("min-width",x),t.langdirection=="right"){var w=f-(h.offset().left+x),E=f-(l.offset().left+l.outerWidth());l.css("margin-right",w-E)}else l.css("margin-left",h.offset().left-v.left)}}})(UIkit2);(function(t){t.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var n=t.$(this);n.data("gridMatchHeight")||t.gridMatchHeight(n,t.Utils.options(n.attr("data-uk-grid-match")))})})},init:function(){var e=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",function(){var n=function(){e.element.is(":visible")&&e.match()};return t.$(function(){n()}),t.Utils.debounce(n,50)}()),this.options.observe&&t.domObserve(this.element,function(n){e.element.is(":visible")&&e.match()}),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.match()}).bind(this)))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var n=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return n&&!this.options.ignorestacked?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var n=t.$(this);n.data("gridMargin")||t.gridMargin(n,t.Utils.options(n.attr("data-uk-grid-margin")))})})},init:function(){t.stackMargin(this.element,this.options)}})})(UIkit2);(function(t){var e=!1,n=0,s=t.$html,u;t.$win.on("resize orientationchange",t.Utils.debounce(function(){t.$(".uk-modal.uk-open").each(function(){return t.$(this).data("modal")&&t.$(this).data("modal").resize()})},150)),t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(u||(u=t.$("body")),!!this.element.length){var h=this;this.paddingdir="padding-"+(t.langdirection=="left"?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(f){f.preventDefault(),h.hide()}).on("click",function(f){var v=t.$(f.target);v[0]==h.element[0]&&h.options.bgclose&&h.hide()}),t.domObserve(this.element,function(f){h.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var h=this;if(!this.isActive())return this.options.modal&&e&&e.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(e=this),this.active=!0,n++,t.support.transition?(this.hasTransitioned=!1,this.element.one(t.support.transition.end,function(){h.hasTransitioned=!0,t.Utils.focus(h.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),t.Utils.focus(this.dialog,"a[href]")),s.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this}},hide:function(h){if(!h&&t.support.transition&&this.hasTransitioned){var f=this;this.one(t.support.transition.end,function(){f._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(h){if(!(!this.isActive()&&!h)){var f=u.width();if(this.scrollbarwidth=window.innerWidth-f,u.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var v=this.dialog.outerHeight(),x=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);v+x<window.innerHeight?this.dialog.css({top:window.innerHeight/2-v/2-x}):this.dialog.css({top:""})}}},updateScrollable:function(){var h=this.dialog.find(".uk-overflow-container:visible:first");if(h.length){h.css("height",0);var f=Math.abs(parseInt(this.dialog.css("margin-top"),10)),v=this.dialog.outerHeight(),x=window.innerHeight,w=x-2*(f<20?20:f)-v;return h.css({maxHeight:w<this.options.minScrollHeight?"":w,height:""}),!0}return!1},_hide:function(){this.active=!1,n>0?n--:n=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),n||(s.removeClass("uk-modal-page"),u.css(this.paddingdir,"")),e===this&&(e=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(h){var f=t.$(this);if(f.is("a")&&h.preventDefault(),!f.data("modalTrigger")){var v=t.modalTrigger(f,t.Utils.options(f.attr("data-uk-modal")));v.show()}}),t.$html.on("keydown.modal.uikit",function(h){e&&h.keyCode===27&&e.options.keyboard&&(h.preventDefault(),e.hide())})},init:function(){var h=this;this.options=t.$.extend({target:h.element.is("a")?h.element.attr("href"):!1},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(f){f.preventDefault(),h.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(h,f){var v=t.modal(t.$(t.modal.dialog.template).appendTo("body"),f);return v.on("hide.uk.modal",function(){v.persist&&(v.persist.appendTo(v.persist.data("modalPersistParent")),v.persist=!1),v.element.remove()}),l(h,v),v},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(h,f){f=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},f);var v=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(h)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+f.labels.Ok+"</button></div>"].join(""),f);return v.on("show.uk.modal",function(){setTimeout(function(){v.element.find("button:first").focus()},50)}),v.show()},t.modal.confirm=function(h,f,v){var x=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};f=t.$.isFunction(f)?f:function(){},v=t.$.isFunction(v)?v:function(){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},t.$.isFunction(x)?{}:x);var w=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(h)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+x.labels.Ok+"</button></div>"].join(""),x);return w.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){t.$(this).is(".js-modal-confirm")?f():v(),w.hide()}),w.on("show.uk.modal",function(){setTimeout(function(){w.element.find(".js-modal-confirm").focus()},50)}),w.show()},t.modal.prompt=function(h,f,v,x){v=t.$.isFunction(v)?v:function(O){},x=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},x);var w=t.modal.dialog([h?'<div class="uk-modal-content uk-form">'+String(h)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+x.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+x.labels.Ok+"</button></div>"].join(""),x),E=w.element.find("input[type='text']").val(f||"").on("keyup",function(O){O.keyCode==13&&w.element.find(".js-modal-ok").trigger("click")});return w.element.find(".js-modal-ok").on("click",function(){v(E.val())!==!1&&w.hide()}),w.show()},t.modal.blockUI=function(h,f){var v=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(h||'<div class="uk-text-center">...</div>')+"</div>"].join(""),t.$.extend({bgclose:!1,keyboard:!1,modal:!1},f));return v.content=v.element.find(".uk-modal-content:first"),v.show()},t.modal.labels={Ok:"Ok",Cancel:"Cancel"};function l(h,f){if(f)return typeof h=="object"?(h=h instanceof jQuery?h:t.$(h),h.parent().length&&(f.persist=h,f.persist.data("modalPersistParent",h.parent()))):typeof h=="string"||typeof h=="number"?h=t.$("<div></div>").html(h):h=t.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof h),h.appendTo(f.element.find(".uk-modal-dialog")),f}})(UIkit2);(function(t){t.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(n){t.$("[data-uk-nav]",n).each(function(){var s=t.$(this);s.data("nav")||t.nav(s,t.Utils.options(s.attr("data-uk-nav")))})})},init:function(){var n=this;this.on("click.uk.nav",this.options.toggle,function(s){s.preventDefault();var u=t.$(this);n.open(u.parent()[0]==n.element[0]?u:u.parent("li"))}),this.update(),t.domObserve(this.element,function(s){n.element.find(n.options.lists).not("[role]").length&&n.update()})},update:function(){var n=this;this.find(this.options.lists).each(function(){var s=t.$(this).attr("role","menu"),u=s.closest("li"),l=u.hasClass("uk-active");u.data("list-container")||(s.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),u.data("list-container",s.parent()[l?"removeClass":"addClass"]("uk-hidden"))),u.attr("aria-expanded",u.hasClass("uk-open")),l&&n.open(u,!0)})},open:function(n,s){var u=this,l=this.element,h=t.$(n),f=h.data("list-container");this.options.multiple||l.children(".uk-open").not(n).each(function(){var v=t.$(this);v.data("list-container")&&v.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),h.toggleClass("uk-open"),h.attr("aria-expanded",h.hasClass("uk-open")),f&&(h.hasClass("uk-open")&&f.removeClass("uk-hidden"),s?(f.stop().height(h.hasClass("uk-open")?"auto":0),h.hasClass("uk-open")||f.addClass("uk-hidden"),this.trigger("display.uk.check")):f.stop().animate({height:h.hasClass("uk-open")?e(f.find("ul:first")):0},function(){h.hasClass("uk-open")?f.css("height",""):f.addClass("uk-hidden"),u.trigger("display.uk.check")}))}});function e(n){var s=t.$(n),u="auto";if(s.is(":visible"))u=s.outerHeight();else{var l={position:s.css("position"),visibility:s.css("visibility"),display:s.css("display")};u=s.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),s.css(l)}return u}})(UIkit2);(function(t){var e={x:window.scrollX,y:window.scrollY};t.$win,t.$doc;var n=t.$html,s={show:function(u,l){if(u=t.$(u),!!u.length){l=t.$.extend({mode:"push"},l);var h=t.$("body"),f=u.find(".uk-offcanvas-bar:first"),v=t.langdirection=="right",x=f.hasClass("uk-offcanvas-bar-flip")?-1:1,w=x*(v?-1:1),E=window.innerWidth-h.width();e={x:window.pageXOffset,y:window.pageYOffset},f.attr("mode",l.mode),u.addClass("uk-active"),h.css({width:window.innerWidth-E,height:window.innerHeight}).addClass("uk-offcanvas-page"),(l.mode=="push"||l.mode=="reveal")&&h.css(v?"margin-right":"margin-left",(v?-1:1)*(f.outerWidth()*w)),l.mode=="reveal"&&f.css("clip","rect(0, "+f.outerWidth()+"px, 100vh, 0)"),n.css("margin-top",e.y*-1).width(),f.addClass("uk-offcanvas-bar-show"),this._initElement(u),f.trigger("show.uk.offcanvas",[u,f]),u.attr("aria-hidden","false")}},hide:function(u){var l=t.$("body"),h=t.$(".uk-offcanvas.uk-active"),f=t.langdirection=="right",v=h.find(".uk-offcanvas-bar:first"),x=function(){l.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),h.removeClass("uk-active"),v.removeClass("uk-offcanvas-bar-show"),n.css("margin-top",""),window.scrollTo(e.x,e.y),v.trigger("hide.uk.offcanvas",[h,v]),h.attr("aria-hidden","true")};h.length&&(v.attr("mode")=="none"&&(u=!0),t.support.transition&&!u?(l.one(t.support.transition.end,function(){x()}).css(f?"margin-right":"margin-left",""),v.attr("mode")=="reveal"&&v.css("clip",""),setTimeout(function(){v.removeClass("uk-offcanvas-bar-show")},0)):x())},_initElement:function(u){u.data("OffcanvasInit")||(u.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(l){var h=t.$(l.target);!l.type.match(/swipe/)&&!h.hasClass("uk-offcanvas-close")&&(h.hasClass("uk-offcanvas-bar")||h.parents(".uk-offcanvas-bar:first").length)||(l.stopImmediatePropagation(),s.hide())}),u.on("click",'a[href*="#"]',function(l){var h=t.$(this),f=h.attr("href");f!="#"&&(t.$doc.one("hide.uk.offcanvas",function(){var v;try{v=t.$(h[0].hash)}catch{v=""}v.length||(v=t.$('[name="'+h[0].hash.replace("#","")+'"]')),v.length&&t.Utils.scrollToElement?t.Utils.scrollToElement(v,t.Utils.options(h.attr("data-uk-smooth-scroll")||"{}")):window.location.href=f}),s.hide())}),u.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){n.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(u){u.preventDefault();var l=t.$(this);l.data("offcanvasTrigger")||(t.offcanvasTrigger(l,t.Utils.options(l.attr("data-uk-offcanvas"))),l.trigger("click"))}),n.on("keydown.uk.offcanvas",function(u){u.keyCode===27&&s.hide()})},init:function(){var u=this;this.options=t.$.extend({target:u.element.is("a")?u.element.attr("href"):!1,mode:"push"},this.options),this.on("click",function(l){l.preventDefault(),s.show(u.options.target,u.options)})}}),t.offcanvas=s})(UIkit2);(function(t){var e;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){t.ready(function(s){t.$("[data-uk-switcher]",s).each(function(){var u=t.$(this);u.data("switcher")||t.switcher(u,t.Utils.options(u.attr("data-uk-switcher")))})})},init:function(){var s=this;this.on("click.uk.switcher",this.options.toggle,function(u){u.preventDefault(),s.show(this)}),this.options.connect&&(this.connect=t.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(u){u.preventDefault();var l=t.$(this).attr("data-uk-switcher-item");if(s.index!=l)switch(l){case"next":case"previous":s.show(s.index+(l=="next"?1:-1));break;default:s.show(parseInt(l,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(u){u.preventDefault(),window.getSelection().toString()||s.show(s.index+(u.type=="swipeLeft"?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var s=this.find(this.options.toggle),u=s.filter(".uk-active");if(u.length)this.show(u,!1);else{if(this.options.active===!1)return;u=s.eq(this.options.active),this.show(u.length?u:s.eq(0),!1)}s.not(u).attr("aria-expanded","false"),u.attr("aria-expanded","true")},show:function(s,u){if(!this.animating){var l=this.find(this.options.toggle);isNaN(s)?s=t.$(s):(s=s<0?l.length-1:s,s=l.eq(l[s]?s:0));var h=this,f=t.$(s),v=e[this.options.animation]||function(x,w){if(!h.options.animation)return e.none.apply(h);var E=h.options.animation.split(",");return E.length==1&&(E[1]=E[0]),E[0]=E[0].trim(),E[1]=E[1].trim(),n.apply(h,[E,x,w])};(u===!1||!t.support.animation)&&(v=e.none),!f.hasClass("uk-disabled")&&(l.attr("aria-expanded","false"),f.attr("aria-expanded","true"),l.filter(".uk-active").removeClass("uk-active"),f.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(f),this.index==-1&&(this.index=0),this.connect.each(function(){var x=t.$(this),w=t.$(x.children()),E=t.$(w.filter(".uk-active")),O=t.$(w.eq(h.index));h.animating=!0,v.apply(h,[E,O]).then(function(){E.removeClass("uk-active"),O.addClass("uk-active"),E.attr("aria-hidden","true"),O.attr("aria-hidden","false"),t.Utils.checkDisplay(O,!0),h.animating=!1})})),this.trigger("show.uk.switcher",[f]))}}}),e={none:function(){var s=t.$.Deferred();return s.resolve(),s.promise()},fade:function(s,u){return n.apply(this,["uk-animation-fade",s,u])},"slide-bottom":function(s,u){return n.apply(this,["uk-animation-slide-bottom",s,u])},"slide-top":function(s,u){return n.apply(this,["uk-animation-slide-top",s,u])},"slide-vertical":function(s,u,l){var h=["uk-animation-slide-top","uk-animation-slide-bottom"];return s&&s.index()>u.index()&&h.reverse(),n.apply(this,[h,s,u])},"slide-left":function(s,u){return n.apply(this,["uk-animation-slide-left",s,u])},"slide-right":function(s,u){return n.apply(this,["uk-animation-slide-right",s,u])},"slide-horizontal":function(s,u,l){var h=["uk-animation-slide-right","uk-animation-slide-left"];return s&&s.index()>u.index()&&h.reverse(),n.apply(this,[h,s,u])},scale:function(s,u){return n.apply(this,["uk-animation-scale-up",s,u])}},t.switcher.animations=e;function n(s,u,l){var h=t.$.Deferred(),f=s,v=s,x;return l[0]===u[0]?(h.resolve(),h.promise()):(typeof s=="object"&&(f=s[0],v=s[1]||s[0]),t.$body.css("overflow-x","hidden"),x=function(){u&&u.hide().removeClass("uk-active "+v+" uk-animation-reverse"),l.addClass(f).one(t.support.animation.end,(function(){setTimeout(function(){l.removeClass(""+f).css({opacity:"",display:""})},0),h.resolve(),t.$body.css("overflow-x",""),u&&u.css({opacity:"",display:""})}).bind(this)).show()},l.css("animation-duration",this.options.duration+"ms"),u&&u.length?(u.css("animation-duration",this.options.duration+"ms"),u.css("display","none").addClass(v+" uk-animation-reverse").one(t.support.animation.end,(function(){x()}).bind(this)).css("display","")):(l.addClass("uk-active"),x()),h.promise())}})(UIkit2);(function(t){t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var n=t.$(this);n.data("tab")||t.tab(n,t.Utils.options(n.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(n){if(n.preventDefault(),!(e.switcher&&e.switcher.animating)){var s=e.find(e.options.target).not(this);s.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active"),e.current]),e.current=t.$(this),e.options.connect||(s.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(n){n.preventDefault(),n.stopPropagation();var s=t.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(s.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(n,s){e.responsivetab.caption.html(s.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),t.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length){this.responsivetab.addClass("uk-hidden");return}var n=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),s=!1,u,l;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>n&&(s=!0)}),s)for(var h=0;h<e.length;h++)u=t.$(e.eq(h)),u.find("a"),u.css("float")!="none"&&!u.attr("uk-dropdown")&&(u.hasClass("uk-disabled")||(l=t.$(u[0].outerHTML),l.find("a").data("index",h),this.responsivetab.lst.append(l)),u.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})})(UIkit2);(function(t){t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var n=t.$(this);n.data("cover")||t.cover(n,t.Utils.options(n.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce((function(){this.check()}).bind(this),100)),this.on("display.uk.check",(function(n){this.element.is(":visible")&&this.check()}).bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e=this.parent.width(),n=this.parent.height(),s,u;e/this.ratio<n?(s=Math.ceil(n*this.ratio),u=n):(s=e,u=Math.ceil(e/this.ratio)),this.element.css({width:s,height:u})}})})(UIkit2);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-nestable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window,n=t.$html,s=[],u=t.$win,l,h=e?"touchstart":"mousedown",f=e?"touchmove":"mousemove",v=e?"touchend":"mouseup",x=e?"touchcancel":"mouseup";return t.component("nestable",{defaults:{listBaseClass:"uk-nestable",listClass:"uk-nestable-list",listItemClass:"uk-nestable-item",dragClass:"uk-nestable-dragged",movingClass:"uk-nestable-moving",noChildrenClass:"uk-nestable-nochildren",emptyClass:"uk-nestable-empty",handleClass:"",collapsedClass:"uk-collapsed",placeholderClass:"uk-nestable-placeholder",noDragClass:"uk-nestable-nodrag",group:!1,maxDepth:10,threshold:20,idlethreshold:10},boot:function(){t.$html.on("mousemove touchmove",function(w){if(l){var E=l.offset().top;E<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(l.height()/2)):E+l.height()>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(l.height()/2))}}),t.ready(function(w){t.$("[data-uk-nestable]",w).each(function(){var E=t.$(this);E.data("nestable")||t.nestable(E,t.Utils.options(E.attr("data-uk-nestable")))})})},init:function(){var w=this;Object.keys(this.options).forEach(function(F){String(F).indexOf("Class")!=-1&&(w.options["_"+F]="."+w.options[F])}),this.find(this.options._listItemClass).find(">ul").addClass(this.options.listClass),this.checkEmptyList(),this.reset(),this.element.data("nestable-group",this.options.group||t.Utils.uid("nestable-group")),this.find(this.options._listItemClass).each(function(){w.setParent(t.$(this))}),this.on("click","[data-nestable-action]",function(F){if(!(w.dragEl||!e&&F.button!==0)){F.preventDefault();var j=t.$(F.currentTarget),q=j.data("nestableAction"),M=j.closest(w.options._listItemClass);q==="collapse"&&w.collapseItem(M),q==="expand"&&w.expandItem(M),q==="toggle"&&w.toggleItem(M)}});var E=function(F){var j=t.$(F.target),q=j.is("a[href]")?j:j.parents("a[href]");F.target!==w.element[0]&&(j.is(w.options._noDragClass)||j.closest(w.options._noDragClass).length||j.is("[data-nestable-action]")||j.closest("[data-nestable-action]").length||(w.options.handleClass&&!j.hasClass(w.options.handleClass)&&w.options.handleClass&&(j=j.closest(w.options._handleClass)),!(!j.length||w.dragEl||!e&&F.button!==0||e&&F.touches.length!==1)&&(F.originalEvent&&F.originalEvent.touches&&(F=evt.originalEvent.touches[0]),w.delayMove=function(M){q=!1,M.preventDefault(),w.dragStart(F),w.trigger("start.uk.nestable",[w]),w.delayMove=!1},w.delayMove.x=parseInt(F.pageX,10),w.delayMove.y=parseInt(F.pageY,10),w.delayMove.threshold=w.options.idlethreshold,q.length&&v=="touchend"&&w.one(v,function(){q&&q.attr("href").trim()&&(location.href=q.attr("href"))}),F.preventDefault())))},O=function(F){F.originalEvent&&F.originalEvent.touches&&(F=F.originalEvent.touches[0]),w.delayMove&&(Math.abs(F.pageX-w.delayMove.x)>w.delayMove.threshold||Math.abs(F.pageY-w.delayMove.y)>w.delayMove.threshold)&&(window.getSelection().toString()?w.delayMove=!1:w.delayMove(F)),w.dragEl&&(F.preventDefault(),w.dragMove(F),w.trigger("move.uk.nestable",[w]))},H=function(F){w.dragEl&&(F.preventDefault(),w.dragStop(e?F.touches[0]:F)),l=!1,w.delayMove=!1};e?(this.element[0].addEventListener(h,E,!1),window.addEventListener(f,O,!1),window.addEventListener(v,H,!1),window.addEventListener(x,H,!1)):(this.on(h,E),u.on(f,O),u.on(v,H))},serialize:function(){var w,E=this,O=function(H,F){var j=[],q=H.children(E.options._listItemClass);return q.each(function(){for(var M=t.$(this),S={},D,B=M.children(E.options._listClass),I=0,V,ne;I<M[0].attributes.length;I++)D=M[0].attributes[I],D.name.indexOf("data-")===0&&(V=D.name.substr(5),ne=t.Utils.str2json(D.value),S[V]=ne||D.value=="false"||D.value=="0"?ne:D.value);B.length&&(S.children=O(B)),j.push(S)}),j};return w=O(E.element),w},list:function(w){var E=[],O=this,H=0,F=function(j,q,M){var S=j.children(w._listItemClass);S.each(function(D){var B=t.$(this),I=t.$.extend({parent_id:M||null,depth:q,order:D},B.data()),V=B.children(w._listClass);E.push(I),V.length&&F(V,q+1,B.data(w.idProperty||"id"))})};return w=t.$.extend({},O.options,w),F(O.element,H),E},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null;for(var w=0;w<s.length;w++)this.checkEmptyList(s[w]);s=[]},toggleItem:function(w){this[w.hasClass(this.options.collapsedClass)?"expandItem":"collapseItem"](w)},expandItem:function(w){w.removeClass(this.options.collapsedClass)},collapseItem:function(w){var E=w.children(this.options._listClass);E.length&&w.addClass(this.options.collapsedClass)},expandAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.expandItem(t.$(this))})},collapseAll:function(){var w=this;this.find(w.options._listItemClass).each(function(){w.collapseItem(t.$(this))})},setParent:function(w){w.children(this.options._listClass).length&&w.addClass("uk-parent")},unsetParent:function(w){w.removeClass("uk-parent "+this.options.collapsedClass),w.children(this.options._listClass).remove()},dragStart:function(w){var E=this.mouse,O=t.$(w.target),H=O.closest(this.options._listItemClass),F=H.offset();this.placeEl=H,E.offsetX=w.pageX-F.left,E.offsetY=w.pageY-F.top,E.startX=E.lastX=F.left,E.startY=E.lastY=F.top,this.dragRootEl=this.element,this.dragEl=t.$("<ul></ul>").addClass(this.options.listClass+" "+this.options.dragClass).append(H.clone()),this.dragEl.css("width",H.width()),this.placeEl.addClass(this.options.placeholderClass),l=this.dragEl,this.tmpDragOnSiblings=[H[0].previousSibling,H[0].nextSibling],t.$body.append(this.dragEl),this.dragEl.css({left:F.left,top:F.top});var j,q,M=this.dragEl.find(this.options._listItemClass);for(j=0;j<M.length;j++)q=t.$(M[j]).parents(this.options._listClass+","+this.options._listBaseClass).length,q>this.dragDepth&&(this.dragDepth=q);n.addClass(this.options.movingClass)},dragStop:function(w){var E=t.$(this.placeEl),O=this.placeEl.parents(this.options._listBaseClass+":first");this.placeEl.removeClass(this.options.placeholderClass),this.dragEl.remove(),this.element[0]!==O[0]?(O.trigger("change.uk.nestable",[O.data("nestable"),E,"added"]),this.element.trigger("change.uk.nestable",[this,E,"removed"])):this.element.trigger("change.uk.nestable",[this,E,"moved"]),this.trigger("stop.uk.nestable",[this,E]),this.reset(),n.removeClass(this.options.movingClass)},dragMove:function(w){var E,O,H,F,j,q=this.options,M=this.mouse,S=this.dragRootEl?this.dragRootEl.data("nestable").options.maxDepth:q.maxDepth;this.dragEl.css({left:w.pageX-M.offsetX,top:w.pageY-M.offsetY}),M.lastX=M.nowX,M.lastY=M.nowY,M.nowX=w.pageX,M.nowY=w.pageY,M.distX=M.nowX-M.lastX,M.distY=M.nowY-M.lastY,M.lastDirX=M.dirX,M.lastDirY=M.dirY,M.dirX=M.distX===0?0:M.distX>0?1:-1,M.dirY=M.distY===0?0:M.distY>0?1:-1;var D=Math.abs(M.distX)>Math.abs(M.distY)?1:0;if(!M.moving){M.dirAx=D,M.moving=!0;return}if(M.dirAx!==D?(M.distAxX=0,M.distAxY=0):(M.distAxX+=Math.abs(M.distX),M.dirX!==0&&M.dirX!==M.lastDirX&&(M.distAxX=0),M.distAxY+=Math.abs(M.distY),M.dirY!==0&&M.dirY!==M.lastDirY&&(M.distAxY=0)),M.dirAx=D,M.dirAx&&M.distAxX>=q.threshold&&(M.distAxX=0,H=this.placeEl.prev("li"),M.distX>0&&H.length&&!H.hasClass(q.collapsedClass)&&!H.hasClass(q.noChildrenClass)&&(E=H.find(q._listClass).last(),j=this.placeEl.parents(q._listClass+","+q._listBaseClass).length,j+this.dragDepth<=S&&(E.length?(E=H.children(q._listClass).last(),E.append(this.placeEl)):(E=t.$("<ul/>").addClass(q.listClass),E.append(this.placeEl),H.append(E),this.setParent(H)))),M.distX<0&&(F=this.placeEl.next(q._listItemClass),!F.length))){var B=this.placeEl.closest([q._listBaseClass,q._listClass].join(",")),I=B.closest(q._listItemClass);I.length&&(I.after(this.placeEl),B.children().length||this.unsetParent(I))}var V=!1,ne=w.pageX-(window.pageXOffset||document.scrollLeft||0),ue=w.pageY-(window.pageYOffset||document.documentElement.scrollTop);if(this.pointEl=t.$(document.elementFromPoint(ne,ue)),q.handleClass&&this.pointEl.hasClass(q.handleClass))this.pointEl=this.pointEl.closest(q._listItemClass);else{var de=this.pointEl.closest(q._listItemClass);de.length&&(this.pointEl=de)}if(!this.placeEl.find(this.pointEl).length){if(this.pointEl.data("nestable")&&!this.pointEl.children().length)V=!0,this.checkEmptyList(this.pointEl);else if(!this.pointEl.length||!this.pointEl.hasClass(q.listItemClass))return;var ge=this.element,he=this.pointEl.closest(this.options._listBaseClass),Le=ge[0]!=he[0];if(!M.dirAx||Le||V){if(Le&&q.group!==he.data("nestable-group")||(s.push(ge),j=this.dragDepth-1+this.pointEl.parents(q._listClass+","+q._listBaseClass).length,j>S))return;var ve=w.pageY<this.pointEl.offset().top+this.pointEl.height()/2;O=this.placeEl.parent(),V?this.pointEl.append(this.placeEl):ve?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),O.children().length||O.data("nestable")||this.unsetParent(O.parent()),this.checkEmptyList(this.dragRootEl),this.checkEmptyList(ge),Le&&(this.dragRootEl=he,this.hasNewRoot=this.element[0]!==this.dragRootEl[0])}}},checkEmptyList:function(w){w=w?t.$(w):this.element,this.options.emptyClass&&w[w.children().length?"removeClass":"addClass"](this.options.emptyClass)}}),t.nestable});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window||"MSGesture"in window||window.DocumentTouch&&document instanceof DocumentTouch,n,s,u,l,h,f,v,x,w,E=e?"MSGesture"in window?"pointerdown":"touchstart":"mousedown",O=e?"MSGesture"in window?"pointermove":"touchmove":"mousemove",H=e?"MSGesture"in window?"pointerup":"touchend":"mouseup";function F(S){S=t.$(S);do{if(S.data("sortable"))return S;S=t.$(S).parent()}while(S.length);return S}t.component("sortable",{defaults:{animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",baseClass:"uk-sortable",noDragClass:"uk-sortable-nodrag",emptyClass:"uk-sortable-empty",dragCustomClass:"",handleClass:!1,group:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){t.ready(function(S){t.$("[data-uk-sortable]",S).each(function(){var D=t.$(this);D.data("sortable")||t.sortable(D,t.Utils.options(D.attr("data-uk-sortable")))})}),t.$html.on(O,function(S){if(h){var D=S.originalEvent.targetTouches?S.originalEvent.targetTouches[0]:S;(Math.abs(D.pageX-h.pos.x)>h.threshold||Math.abs(D.pageY-h.pos.y)>h.threshold)&&h.apply(D)}if(n){l||(l=!0,n.show(),n.$current.addClass(n.$sortable.options.placeholderClass),n.$sortable.element.children().addClass(n.$sortable.options.childClass),t.$html.addClass(n.$sortable.options.dragMovingClass));var B=n.data("mouse-offset"),I=S.originalEvent.touches&&S.originalEvent.touches[0]||S.originalEvent,V=parseInt(I.pageX,10)+B.left,ne=parseInt(I.pageY,10)+B.top;if(n.css({left:V,top:ne}),ne+n.height()/3>document.body.offsetHeight)return;ne<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(n.height()/3)):ne+n.height()/3>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(n.height()/3))}}),t.$html.on(H,function(S){if(h=!1,!s||!n){s=n=null;return}var D=F(s),B=n.$sortable,I={type:S.type};D[0]&&B.dragDrop(I,B.element),B.dragEnd(I,B.element)})},init:function(){var S=this,D=this.element[0];f=[],this.checkEmptyList(),this.element.data("sortable-group",this.options.group?this.options.group:t.Utils.uid("sortable-group"));var B=he(function(Le){if(!(Le.data&&Le.data.sortable)){var ve=t.$(Le.target),re=ve.is("a[href]")?ve:ve.parents("a[href]");if(!ve.is(":input")){if(S.options.handleClass){var P=ve.hasClass(S.options.handleClass)?ve:ve.closest("."+S.options.handleClass,S.element);if(!P.length)return}return Le.preventDefault(),re.length&&re.one("click",function(se){se.preventDefault()}).one(H,function(){v||(re.trigger("click"),e&&re.attr("href").trim()&&(location.href=re.attr("href")))}),Le.data=Le.data||{},Le.data.sortable=D,S.dragStart(Le,this)}}}),I=he(t.Utils.debounce(function(Le){return S.dragEnter(Le,this)})),V=he(function(Le){var ve=S.dragenterData(this);S.dragenterData(this,ve-1),S.dragenterData(this)||(t.$(this).removeClass(S.options.overClass),S.dragenterData(this,!1))}),ne=he(function(Le){return!s||s===this||u===this?!0:(S.element.children().removeClass(S.options.overClass),u=this,S.moveElementNextTo(s,this),M(Le))});function ue(){e&&w.touches&&w.touches.length?D.addEventListener(O,ne,!1):(D.addEventListener("mouseover",I,!1),D.addEventListener("mouseout",V,!1))}function de(){e&&w.touches&&w.touches.length?D.removeEventListener(O,ne,!1):(D.removeEventListener("mouseover",I,!1),D.removeEventListener("mouseout",V,!1))}this.addDragHandlers=ue,this.removeDragHandlers=de;function ge(Le){s&&S.dragMove(Le,S)}function he(Le){return function(ve){var re,P,se;w=ve,ve&&(re=ve.touches&&ve.touches[0]||ve,P=re.target||ve.target,e&&document.elementFromPoint&&(P=document.elementFromPoint(re.pageX-document.body.scrollLeft,re.pageY-document.body.scrollTop)),x=t.$(P)),t.$(P).hasClass("."+S.options.childClass)?Le.apply(P,[ve]):P!==D&&(se=q(D,P),se&&Le.apply(se,[ve]))}}window.addEventListener(O,ge,!1),D.addEventListener(E,B,!1)},dragStart:function(S,D){v=!1,l=!1;var B=this,I=t.$(S.target);if(!(!e&&S.button==2)&&!(I.is("."+B.options.noDragClass)||I.closest("."+B.options.noDragClass).length)&&!I.is(":input")){s=D,n&&n.remove();var V=t.$(s),ne=V.offset(),ue=S.touches&&S.touches[0]||S;h={pos:{x:ue.pageX,y:ue.pageY},threshold:B.options.handleClass?1:B.options.threshold,apply:function(de){n=t.$('<div class="'+[B.options.draggingClass,B.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:ne.top,left:ne.left,width:V.width(),height:V.height(),padding:V.css("padding")}).data({"mouse-offset":{left:ne.left-parseInt(ue.pageX,10),top:ne.top-parseInt(ue.pageY,10)},origin:B.element,index:V.index()}).append(V.html()).appendTo("body"),n.$current=V,n.$sortable=B,V.data({"start-list":V.parent(),"start-index":V.index(),"sortable-group":B.options.group}),B.addDragHandlers(),B.options.start(this,s),B.trigger("start.uk.sortable",[B,s,n]),v=!0,h=!1}}}},dragMove:function(S,D){x=t.$(document.elementFromPoint(S.pageX-(document.body.scrollLeft||document.scrollLeft||0),S.pageY-(document.body.scrollTop||document.documentElement.scrollTop||0)));var B=x.closest("."+this.options.baseClass),I=B.data("sortable-group"),V=t.$(s),ne=V.parent(),ue=V.data("sortable-group"),de;B[0]!==ne[0]&&ue!==void 0&&I===ue&&(B.data("sortable").addDragHandlers(),f.push(B),B.children().addClass(this.options.childClass),B.children().length>0?(de=x.closest("."+this.options.childClass),de.length?de.before(V):B.append(V)):x.append(V),t.$doc.trigger("mouseover")),this.checkEmptyList(),this.checkEmptyList(ne)},dragEnter:function(S,D){if(!s||s===D)return!0;var B=this.dragenterData(D);if(this.dragenterData(D,B+1),B===0){var I=t.$(D).parent(),V=t.$(s).data("start-list");if(I[0]!==V[0]){var ne=I.data("sortable-group"),ue=t.$(s).data("sortable-group");if((ne||ue)&&ne!=ue)return!1}t.$(D).addClass(this.options.overClass),this.moveElementNextTo(s,D)}return!1},dragEnd:function(S,D){var B=this;s&&(this.options.stop(D),this.trigger("stop.uk.sortable",[this])),s=null,u=null,f.push(this.element),f.forEach(function(I,V){t.$(I).children().each(function(){this.nodeType===1&&(t.$(this).removeClass(B.options.overClass).removeClass(B.options.placeholderClass).removeClass(B.options.childClass),B.dragenterData(this,!1))})}),f=[],t.$html.removeClass(this.options.dragMovingClass),this.removeDragHandlers(),n&&(n.remove(),n=null)},dragDrop:function(S,D){S.type==="drop"&&(S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault()),this.triggerChangeEvents()},triggerChangeEvents:function(){if(s){var S=t.$(s),D=n.data("origin"),B=S.closest("."+this.options.baseClass),I=[],V=t.$(s);D[0]===B[0]&&n.data("index")!=S.index()?I.push({sortable:this,mode:"moved"}):D[0]!=B[0]&&I.push({sortable:t.$(B).data("sortable"),mode:"added"},{sortable:t.$(D).data("sortable"),mode:"removed"}),I.forEach(function(ne,ue){ne.sortable&&ne.sortable.element.trigger("change.uk.sortable",[ne.sortable,V,ne.mode])})}},dragenterData:function(S,D){if(S=t.$(S),arguments.length==1)return parseInt(S.data("child-dragenter"),10)||0;D?S.data("child-dragenter",Math.max(0,D)):S.removeData("child-dragenter")},moveElementNextTo:function(S,D){var B=this,I=t.$(S).parent().css("min-height",""),V=j(S,D)?D:D.nextSibling,ne=I.children(),ue=ne.length;if(!B.options.animation){D.parentNode.insertBefore(S,V),t.Utils.checkDisplay(B.element.parent());return}I.css("min-height",I.height()),ne.stop().each(function(){var de=t.$(this),ge=de.position();ge.width=de.width(),de.data("offset-before",ge)}),D.parentNode.insertBefore(S,V),t.Utils.checkDisplay(B.element.parent()),ne=I.children().each(function(){var de=t.$(this);de.data("offset-after",de.position())}).each(function(){var de=t.$(this),ge=de.data("offset-before");de.css({position:"absolute",top:ge.top,left:ge.left,minWidth:ge.width})}),ne.each(function(){var de=t.$(this);de.data("offset-before");var ge=de.data("offset-after");de.css("pointer-events","none").width(),setTimeout(function(){de.animate({top:ge.top,left:ge.left},B.options.animation,function(){de.css({position:"",top:"",left:"",minWidth:"","pointer-events":""}).removeClass(B.options.overClass).removeData("child-dragenter"),ue--,ue||(I.css("min-height",""),t.Utils.checkDisplay(B.element.parent()))})},0)})},serialize:function(){var S=[],D,B;return this.element.children().each(function(I,V){D={};for(var ne=0,ue,de;ne<V.attributes.length;ne++)B=V.attributes[ne],B.name.indexOf("data-")===0&&(ue=B.name.substr(5),de=t.Utils.str2json(B.value),D[ue]=de||B.value=="false"||B.value=="0"?de:B.value);S.push(D)}),S},checkEmptyList:function(S){S=S?t.$(S):this.element,this.options.emptyClass&&S[S.children().length?"removeClass":"addClass"](this.options.emptyClass)}});function j(S,D){var B=S.parentNode;if(D.parentNode!=B)return!1;for(var I=S.previousSibling;I&&I.nodeType!==9;){if(I===D)return!0;I=I.previousSibling}return!1}function q(S,D){var B=D;if(B==S)return null;for(;B;){if(B.parentNode===S)return B;if(B=B.parentNode,!B||!B.ownerDocument||B.nodeType===11)break}return null}function M(S){S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault(),S.returnValue=!1}return t.sortable});function Iw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gd={exports:{}};/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */var Um;function zw(){return Um||(Um=1,function(t){(function(e){window.UIkit2&&e(UIkit2)})(function(e){var n=!1,s,u;e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(l,h){var f="",v;if(f+='<div class="uk-datepicker-nav">',f+='<a href="" class="uk-datepicker-previous"></a>',f+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var x=new Date().getFullYear(),w=[],E,O,H,F;for(v=0;v<h.i18n.months.length;v++)v==l.month?w.push('<option value="'+v+'" selected>'+h.i18n.months[v]+"</option>"):w.push('<option value="'+v+'">'+h.i18n.months[v]+"</option>");for(E='<span class="uk-form-select">'+h.i18n.months[l.month]+'<select class="update-picker-month">'+w.join("")+"</select></span>",w=[],H=l.minDate?l.minDate.year():x-50,F=l.maxDate?l.maxDate.year():x+20,v=H;v<=F;v++)v==l.year?w.push('<option value="'+v+'" selected>'+v+"</option>"):w.push('<option value="'+v+'">'+v+"</option>");O='<span class="uk-form-select">'+l.year+'<select class="update-picker-year">'+w.join("")+"</select></span>",f+='<div class="uk-datepicker-heading">'+E+" "+O+"</div>"}else f+='<div class="uk-datepicker-heading">'+h.i18n.months[l.month]+" "+l.year+"</div>";for(f+="</div>",f+='<table class="uk-datepicker-table">',f+="<thead>",v=0;v<l.weekdays.length;v++)l.weekdays[v]&&(f+="<th>"+l.weekdays[v]+"</th>");for(f+="</thead>",f+="<tbody>",v=0;v<l.days.length;v++)if(l.days[v]&&l.days[v].length){f+="<tr>";for(var j=0;j<l.days[v].length;j++)if(l.days[v][j]){var q=l.days[v][j],M=[];q.inmonth||M.push("uk-datepicker-table-muted"),q.selected&&M.push("uk-active"),q.disabled&&M.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),f+='<td><a href="" class="'+M.join(" ")+'" data-date="'+q.day.format()+'">'+q.day.format("D")+"</a></td>"}f+="</tr>"}return f+="</tbody>",f+="</table>",f}},boot:function(){e.$win.on("resize orientationchange",function(){n&&n.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(l){var h=e.$(this);h.data("datepicker")||(l.preventDefault(),e.datepicker(h,e.Utils.options(h.attr("data-uk-datepicker"))),h.trigger("focus"))}),e.$html.on("click focus","*",function(l){var h=e.$(l.target);n&&h[0]!=s[0]&&!h.data("datepicker")&&!h.parents(".uk-datepicker:first").length&&n.hide()})},init:function(){if(!(e.support.touch&&this.element.attr("type")=="date"&&!this.options.mobile)){var l=this;this.current=this.element.val()?u(this.element.val(),this.options.format):u(),this.on("click focus",function(){n!==l&&l.pick(this.value?this.value:"")}).on("change",function(){l.element.val()&&!u(l.element.val(),l.options.format).isValid()&&l.element.val(u().format(l.options.format))}),s||(s=e.$('<div class="uk-dropdown uk-datepicker"></div>'),s.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(h){h.stopPropagation(),h.preventDefault();var f=e.$(this);if(f.hasClass("uk-datepicker-date-disabled"))return!1;f.is("[data-date]")?(n.current=u(f.data("date")),n.element.val(n.current.isValid()?n.current.format(n.options.format):null).trigger("change"),n.hide()):n.add(f.hasClass("uk-datepicker-next")?1:-1,"months")}),s.on("change",".update-picker-month, .update-picker-year",function(){var h=e.$(this);n[h.is(".update-picker-year")?"setYear":"setMonth"](Number(h.val()))}),s.appendTo(this.options.container))}},pick:function(l){var h=this.element.offset(),f={left:h.left,right:""};this.current=isNaN(l)?u(l,this.options.format):u(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),e.langdirection=="right"&&(f.right=window.innerWidth-(f.left+this.element.outerWidth()),f.left="");var v=h.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-s.outerHeight(),x=h.top+this.element.outerHeight()+this.options.offsettop;f.top=x,(this.options.pos=="top"||this.options.pos=="auto"&&window.innerHeight-x-s.outerHeight()<0&&v>=0)&&(f.top=v),s.css(f).show(),this.trigger("show.uk.datepicker"),n=this},add:function(l,h){this.current.add(l,h),this.update()},setMonth:function(l){this.current.month(l),this.update()},setYear:function(l){this.current.year(l),this.update()},update:function(){var l=this.getRows(this.current.year(),this.current.month()),h=this.options.template(l,this.options);s.html(h),this.trigger("update.uk.datepicker")},getRows:function(l,h){var f=this.options,v=u().format("YYYY-MM-DD"),x=[31,l%4===0&&l%100!==0||l%400===0?29:28,31,30,31,30,31,31,30,31,30,31][h],w=new Date(l,h,1,12).getDay(),E={month:h,year:l,weekdays:[],days:[],maxDate:!1,minDate:!1},O=[];f.maxDate!==!1&&(E.maxDate=isNaN(f.maxDate)?u(f.maxDate,f.format).startOf("day").hours(12):u().add(f.maxDate,"days").startOf("day").hours(12)),f.minDate!==!1&&(E.minDate=isNaN(f.minDate)?u(f.minDate,f.format).startOf("day").hours(12):u().add(f.minDate-1,"days").startOf("day").hours(12)),E.weekdays=function(){for(var V=0,ne=[];V<7;V++){for(var ue=V+(f.weekstart||0);ue>=7;)ue-=7;ne.push(f.i18n.weekdays[ue])}return ne}(),f.weekstart&&f.weekstart>0&&(w-=f.weekstart,w<0&&(w+=7));for(var H=x+w,F=H;F>7;)F-=7;H+=7-F;for(var j,q,M,S,D,B=0,I=0;B<H;B++)j=new Date(l,h,1+(B-w),12),q=E.minDate&&E.minDate>j||E.maxDate&&j>E.maxDate,D=!(B<w||B>=x+w),j=u(j),M=this.initdate==j.format("YYYY-MM-DD"),S=v==j.format("YYYY-MM-DD"),O.push({selected:M,today:S,disabled:q,day:j,inmonth:D}),++I===7&&(E.days.push(O),O=[],I=0);return E},hide:function(){n&&n===this&&(s.hide(),n=!1,this.trigger("hide.uk.datepicker"))}});//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return u=(function(l){var h,f="2.8.3",v=Math.round,x=Object.prototype.hasOwnProperty,w,E=0,O=1,H=2,F=3,j=4,q=5,M=6,S={},D=[],B=t.exports,I=/^\/?Date\((\-?\d+)/i,V=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ne=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ue=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,de=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ge=/\d\d?/,he=/\d{1,3}/,Le=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,re=/\d+/,P=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,se=/Z|[\+\-]\d\d:?\d\d/gi,ye=/T/i,Ee=/[\+\-]?\d+(\.\d{1,3})?/,it=/\d{1,2}/,Be=/\d/,Me=/\d\d/,te=/\d{3}/,Y=/\d{4}/,De=/[+-]?\d{6}/,Fe=/[+-]?\d+/,Z=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we="YYYY-MM-DDTHH:mm:ssZ",Te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xe=/([\+\-]|\d\d)/gi,Ze={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ut={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Et={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},wt={},St={s:45,m:45,h:22,d:26,M:11},_t="DDD w W M D d".split(" "),Mt="M D H h m s w W".split(" "),jt={M:function(){return this.month()+1},MMM:function(_){return this.localeData().monthsShort(this,_)},MMMM:function(_){return this.localeData().months(this,_)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(_){return this.localeData().weekdaysMin(this,_)},ddd:function(_){return this.localeData().weekdaysShort(this,_)},dddd:function(_){return this.localeData().weekdays(this,_)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return xt(this.year()%100,2)},YYYY:function(){return xt(this.year(),4)},YYYYY:function(){return xt(this.year(),5)},YYYYYY:function(){var _=this.year(),T=_>=0?"+":"-";return T+xt(Math.abs(_),6)},gg:function(){return xt(this.weekYear()%100,2)},gggg:function(){return xt(this.weekYear(),4)},ggggg:function(){return xt(this.weekYear(),5)},GG:function(){return xt(this.isoWeekYear()%100,2)},GGGG:function(){return xt(this.isoWeekYear(),4)},GGGGG:function(){return xt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return si(this.milliseconds()/100)},SS:function(){return xt(si(this.milliseconds()/10),2)},SSS:function(){return xt(this.milliseconds(),3)},SSSS:function(){return xt(this.milliseconds(),3)},Z:function(){var _=-this.zone(),T="+";return _<0&&(_=-_,T="-"),T+xt(si(_/60),2)+":"+xt(si(_)%60,2)},ZZ:function(){var _=-this.zone(),T="+";return _<0&&(_=-_,T="-"),T+xt(si(_/60),2)+xt(si(_)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Kt={},X=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function le(_,T,N){switch(arguments.length){case 2:return _??T;case 3:return _??T??N;default:throw new Error("Implement me")}}function Q(_,T){return x.call(_,T)}function fe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function pe(_){h.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+_)}function ze(_,T){var N=!0;return Yt(function(){return N&&(pe(_),N=!1),T.apply(this,arguments)},T)}function ot(_,T){Kt[_]||(pe(T),Kt[_]=!0)}function Qe(_,T){return function(N){return xt(_.call(this,N),T)}}function mt(_,T){return function(N){return this.localeData().ordinal(_.call(this,N),T)}}for(;_t.length;)w=_t.pop(),jt[w+"o"]=mt(jt[w],w);for(;Mt.length;)w=Mt.pop(),jt[w+w]=Qe(jt[w],2);jt.DDDD=Qe(jt.DDD,3);function Pt(){}function ct(_,T){T!==!1&&$i(_),Qt(this,_),this._d=new Date(+_._d)}function $t(_){var T=wi(_),N=T.year||0,ie=T.quarter||0,ae=T.month||0,_e=T.week||0,Oe=T.day||0,Je=T.hour||0,et=T.minute||0,Ve=T.second||0,Ke=T.millisecond||0;this._milliseconds=+Ke+Ve*1e3+et*6e4+Je*36e5,this._days=+Oe+_e*7,this._months=+ae+ie*3+N*12,this._data={},this._locale=h.localeData(),this._bubble()}function Yt(_,T){for(var N in T)Q(T,N)&&(_[N]=T[N]);return Q(T,"toString")&&(_.toString=T.toString),Q(T,"valueOf")&&(_.valueOf=T.valueOf),_}function Qt(_,T){var N,ie,ae;if(typeof T._isAMomentObject<"u"&&(_._isAMomentObject=T._isAMomentObject),typeof T._i<"u"&&(_._i=T._i),typeof T._f<"u"&&(_._f=T._f),typeof T._l<"u"&&(_._l=T._l),typeof T._strict<"u"&&(_._strict=T._strict),typeof T._tzm<"u"&&(_._tzm=T._tzm),typeof T._isUTC<"u"&&(_._isUTC=T._isUTC),typeof T._offset<"u"&&(_._offset=T._offset),typeof T._pf<"u"&&(_._pf=T._pf),typeof T._locale<"u"&&(_._locale=T._locale),D.length>0)for(N in D)ie=D[N],ae=T[ie],typeof ae<"u"&&(_[ie]=ae);return _}function Vt(_){return _<0?Math.ceil(_):Math.floor(_)}function xt(_,T,N){for(var ie=""+Math.abs(_),ae=_>=0;ie.length<T;)ie="0"+ie;return(ae?"":"-")+ie}function Un(_,T){var N={milliseconds:0,months:0};return N.months=T.month()-_.month()+(T.year()-_.year())*12,_.clone().add(N.months,"M").isAfter(T)&&--N.months,N.milliseconds=+T-+_.clone().add(N.months,"M"),N}function Ut(_,T){var N;return T=vr(T,_),_.isBefore(T)?N=Un(_,T):(N=Un(T,_),N.milliseconds=-N.milliseconds,N.months=-N.months),N}function mr(_,T){return function(N,ie){var ae,_e;return ie!==null&&!isNaN(+ie)&&(ot(T,"moment()."+T+"(period, number) is deprecated. Please use moment()."+T+"(number, period)."),_e=N,N=ie,ie=_e),N=typeof N=="string"?+N:N,ae=h.duration(N,ie),Ft(this,ae,_),this}}function Ft(_,T,N,ie){var ae=T._milliseconds,_e=T._days,Oe=T._months;ie=ie??!0,ae&&_._d.setTime(+_._d+ae*N),_e&&Nt(_,"Date",Ui(_,"Date")+_e*N),Oe&&ni(_,Ui(_,"Month")+Oe*N),ie&&h.updateOffset(_,_e||Oe)}function un(_){return Object.prototype.toString.call(_)==="[object Array]"}function yi(_){return Object.prototype.toString.call(_)==="[object Date]"||_ instanceof Date}function Fi(_,T,N){var ie=Math.min(_.length,T.length),ae=Math.abs(_.length-T.length),_e=0,Oe;for(Oe=0;Oe<ie;Oe++)(N&&_[Oe]!==T[Oe]||!N&&si(_[Oe])!==si(T[Oe]))&&_e++;return _e+ae}function pi(_){if(_){var T=_.toLowerCase().replace(/(.)s$/,"$1");_=ut[_]||Et[T]||T}return _}function wi(_){var T={},N,ie;for(ie in _)Q(_,ie)&&(N=pi(ie),N&&(T[N]=_[ie]));return T}function ui(_){var T,N;if(_.indexOf("week")===0)T=7,N="day";else if(_.indexOf("month")===0)T=12,N="month";else return;h[_]=function(ie,ae){var _e,Oe,Je=h._locale[_],et=[];if(typeof ie=="number"&&(ae=ie,ie=l),Oe=function(Ve){var Ke=h().utc().set(N,Ve);return Je.call(h._locale,Ke,ie||"")},ae!=null)return Oe(ae);for(_e=0;_e<T;_e++)et.push(Oe(_e));return et}}function si(_){var T=+_,N=0;return T!==0&&isFinite(T)&&(T>=0?N=Math.floor(T):N=Math.ceil(T)),N}function Bi(_,T){return new Date(Date.UTC(_,T+1,0)).getUTCDate()}function eo(_,T,N){return $e(h([_,11,31+T-N]),T,N).week}function Hi(_){return Fr(_)?366:365}function Fr(_){return _%4===0&&_%100!==0||_%400===0}function $i(_){var T;_._a&&_._pf.overflow===-2&&(T=_._a[O]<0||_._a[O]>11?O:_._a[H]<1||_._a[H]>Bi(_._a[E],_._a[O])?H:_._a[F]<0||_._a[F]>23?F:_._a[j]<0||_._a[j]>59?j:_._a[q]<0||_._a[q]>59?q:_._a[M]<0||_._a[M]>999?M:-1,_._pf._overflowDayOfYear&&(T<E||T>H)&&(T=H),_._pf.overflow=T)}function Qi(_){return _._isValid==null&&(_._isValid=!isNaN(_._d.getTime())&&_._pf.overflow<0&&!_._pf.empty&&!_._pf.invalidMonth&&!_._pf.nullInput&&!_._pf.invalidFormat&&!_._pf.userInvalidated,_._strict&&(_._isValid=_._isValid&&_._pf.charsLeftOver===0&&_._pf.unusedTokens.length===0)),_._isValid}function gr(_){return _&&_.toLowerCase().replace("_","-")}function En(_){for(var T=0,N,ie,ae,_e;T<_.length;){for(_e=gr(_[T]).split("-"),N=_e.length,ie=gr(_[T+1]),ie=ie?ie.split("-"):null;N>0;){if(ae=Ot(_e.slice(0,N).join("-")),ae)return ae;if(ie&&ie.length>=N&&Fi(_e,ie,!0)>=N-1)break;N--}T++}return null}function Ot(_){var T=null;if(!S[_]&&B)try{T=h.locale(),Iw("./locale/"+_),h.locale(T)}catch{}return S[_]}function vr(_,T){return T._isUTC?h(_).zone(T._offset||0):h(_).local()}Yt(Pt.prototype,{set:function(_){var T,N;for(N in _)T=_[N],typeof T=="function"?this[N]=T:this["_"+N]=T},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(_){return this._months[_.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(_){return this._monthsShort[_.month()]},monthsParse:function(_){var T,N,ie;for(this._monthsParse||(this._monthsParse=[]),T=0;T<12;T++)if(this._monthsParse[T]||(N=h.utc([2e3,T]),ie="^"+this.months(N,"")+"|^"+this.monthsShort(N,""),this._monthsParse[T]=new RegExp(ie.replace(".",""),"i")),this._monthsParse[T].test(_))return T},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(_){return this._weekdays[_.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(_){return this._weekdaysShort[_.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(_){return this._weekdaysMin[_.day()]},weekdaysParse:function(_){var T,N,ie;for(this._weekdaysParse||(this._weekdaysParse=[]),T=0;T<7;T++)if(this._weekdaysParse[T]||(N=h([2e3,1]).day(T),ie="^"+this.weekdays(N,"")+"|^"+this.weekdaysShort(N,"")+"|^"+this.weekdaysMin(N,""),this._weekdaysParse[T]=new RegExp(ie.replace(".",""),"i")),this._weekdaysParse[T].test(_))return T},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(_){var T=this._longDateFormat[_];return!T&&this._longDateFormat[_.toUpperCase()]&&(T=this._longDateFormat[_.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(N){return N.slice(1)}),this._longDateFormat[_]=T),T},isPM:function(_){return(_+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(_,T,N){return _>11?N?"pm":"PM":N?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(_,T){var N=this._calendar[_];return typeof N=="function"?N.apply(T):N},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(_,T,N,ie){var ae=this._relativeTime[N];return typeof ae=="function"?ae(_,T,N,ie):ae.replace(/%d/i,_)},pastFuture:function(_,T){var N=this._relativeTime[_>0?"future":"past"];return typeof N=="function"?N(T):N.replace(/%s/i,T)},ordinal:function(_){return this._ordinal.replace("%d",_)},_ordinal:"%d",preparse:function(_){return _},postformat:function(_){return _},week:function(_){return $e(_,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function Yn(_){return _.match(/\[[\s\S]/)?_.replace(/^\[|\]$/g,""):_.replace(/\\/g,"")}function Gn(_){var T=_.match(ue),N,ie;for(N=0,ie=T.length;N<ie;N++)jt[T[N]]?T[N]=jt[T[N]]:T[N]=Yn(T[N]);return function(ae){var _e="";for(N=0;N<ie;N++)_e+=T[N]instanceof Function?T[N].call(ae,_):T[N];return _e}}function nr(_,T){return _.isValid()?(T=jr(T,_.localeData()),wt[T]||(wt[T]=Gn(T)),wt[T](_)):_.localeData().invalidDate()}function jr(_,T){var N=5;function ie(ae){return T.longDateFormat(ae)||ae}for(de.lastIndex=0;N>=0&&de.test(_);)_=_.replace(de,ie),de.lastIndex=0,N-=1;return _}function Xi(_,T){var N,ie=T._strict;switch(_){case"Q":return Be;case"DDDD":return te;case"YYYY":case"GGGG":case"gggg":return ie?Y:Le;case"Y":case"G":case"g":return Fe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return ie?De:ve;case"S":if(ie)return Be;case"SS":if(ie)return Me;case"SSS":if(ie)return te;case"DDD":return he;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return P;case"a":case"A":return T._locale._meridiemParse;case"X":return Ee;case"Z":case"ZZ":return se;case"T":return ye;case"SSSS":return re;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return ie?Me:ge;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ge;case"Do":return it;default:return N=new RegExp(Nr(Tn(_.replace("\\","")))),N}}function Ji(_){_=_||"";var T=_.match(se)||[],N=T[T.length-1]||[],ie=(N+"").match(Xe)||["-",0,0],ae=+(ie[1]*60)+si(ie[2]);return ie[0]==="+"?-ae:ae}function rr(_,T,N){var ie,ae=N._a;switch(_){case"Q":T!=null&&(ae[O]=(si(T)-1)*3);break;case"M":case"MM":T!=null&&(ae[O]=si(T)-1);break;case"MMM":case"MMMM":ie=N._locale.monthsParse(T),ie!=null?ae[O]=ie:N._pf.invalidMonth=T;break;case"D":case"DD":T!=null&&(ae[H]=si(T));break;case"Do":T!=null&&(ae[H]=si(parseInt(T,10)));break;case"DDD":case"DDDD":T!=null&&(N._dayOfYear=si(T));break;case"YY":ae[E]=h.parseTwoDigitYear(T);break;case"YYYY":case"YYYYY":case"YYYYYY":ae[E]=si(T);break;case"a":case"A":N._isPm=N._locale.isPM(T);break;case"H":case"HH":case"h":case"hh":ae[F]=si(T);break;case"m":case"mm":ae[j]=si(T);break;case"s":case"ss":ae[q]=si(T);break;case"S":case"SS":case"SSS":case"SSSS":ae[M]=si(("0."+T)*1e3);break;case"X":N._d=new Date(parseFloat(T)*1e3);break;case"Z":case"ZZ":N._useUTC=!0,N._tzm=Ji(T);break;case"dd":case"ddd":case"dddd":ie=N._locale.weekdaysParse(T),ie!=null?(N._w=N._w||{},N._w.d=ie):N._pf.invalidWeekday=T;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":_=_.substr(0,1);case"gggg":case"GGGG":case"GGGGG":_=_.substr(0,2),T&&(N._w=N._w||{},N._w[_]=si(T));break;case"gg":case"GG":N._w=N._w||{},N._w[_]=h.parseTwoDigitYear(T)}}function or(_){var T,N,ie,ae,_e,Oe,Je;T=_._w,T.GG!=null||T.W!=null||T.E!=null?(_e=1,Oe=4,N=le(T.GG,_._a[E],$e(h(),1,4).year),ie=le(T.W,1),ae=le(T.E,1)):(_e=_._locale._week.dow,Oe=_._locale._week.doy,N=le(T.gg,_._a[E],$e(h(),_e,Oe).year),ie=le(T.w,1),T.d!=null?(ae=T.d,ae<_e&&++ie):T.e!=null?ae=T.e+_e:ae=_e),Je=nt(N,ie,ae,Oe,_e),_._a[E]=Je.year,_._dayOfYear=Je.dayOfYear}function Sn(_){var T,N,ie=[],ae,_e;if(!_._d){for(ae=io(_),_._w&&_._a[H]==null&&_._a[O]==null&&or(_),_._dayOfYear&&(_e=le(_._a[E],ae[E]),_._dayOfYear>Hi(_e)&&(_._pf._overflowDayOfYear=!0),N=ar(_e,0,_._dayOfYear),_._a[O]=N.getUTCMonth(),_._a[H]=N.getUTCDate()),T=0;T<3&&_._a[T]==null;++T)_._a[T]=ie[T]=ae[T];for(;T<7;T++)_._a[T]=ie[T]=_._a[T]==null?T===2?1:0:_._a[T];_._d=(_._useUTC?ar:Zn).apply(null,ie),_._tzm!=null&&_._d.setUTCMinutes(_._d.getUTCMinutes()+_._tzm)}}function to(_){var T;_._d||(T=wi(_._i),_._a=[T.year,T.month,T.day,T.hour,T.minute,T.second,T.millisecond],Sn(_))}function io(_){var T=new Date;return _._useUTC?[T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()]:[T.getFullYear(),T.getMonth(),T.getDate()]}function kr(_){if(_._f===h.ISO_8601){fo(_);return}_._a=[],_._pf.empty=!0;var T=""+_._i,N,ie,ae,_e,Oe,Je=T.length,et=0;for(ae=jr(_._f,_._locale).match(ue)||[],N=0;N<ae.length;N++)_e=ae[N],ie=(T.match(Xi(_e,_))||[])[0],ie&&(Oe=T.substr(0,T.indexOf(ie)),Oe.length>0&&_._pf.unusedInput.push(Oe),T=T.slice(T.indexOf(ie)+ie.length),et+=ie.length),jt[_e]?(ie?_._pf.empty=!1:_._pf.unusedTokens.push(_e),rr(_e,ie,_)):_._strict&&!ie&&_._pf.unusedTokens.push(_e);_._pf.charsLeftOver=Je-et,T.length>0&&_._pf.unusedInput.push(T),_._isPm&&_._a[F]<12&&(_._a[F]+=12),_._isPm===!1&&_._a[F]===12&&(_._a[F]=0),Sn(_),$i(_)}function Tn(_){return _.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(T,N,ie,ae,_e){return N||ie||ae||_e})}function Nr(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yn(_){var T,N,ie,ae,_e;if(_._f.length===0){_._pf.invalidFormat=!0,_._d=new Date(NaN);return}for(ae=0;ae<_._f.length;ae++)_e=0,T=Qt({},_),_._useUTC!=null&&(T._useUTC=_._useUTC),T._pf=fe(),T._f=_._f[ae],kr(T),Qi(T)&&(_e+=T._pf.charsLeftOver,_e+=T._pf.unusedTokens.length*10,T._pf.score=_e,(ie==null||_e<ie)&&(ie=_e,N=T));Yt(_,N||T)}function fo(_){var T,N,ie=_._i,ae=Z.exec(ie);if(ae){for(_._pf.iso=!0,T=0,N=Te.length;T<N;T++)if(Te[T][1].exec(ie)){_._f=Te[T][0]+(ae[6]||" ");break}for(T=0,N=qe.length;T<N;T++)if(qe[T][1].exec(ie)){_._f+=qe[T][0];break}ie.match(se)&&(_._f+="Z"),kr(_)}else _._isValid=!1}function Xn(_){fo(_),_._isValid===!1&&(delete _._isValid,h.createFromInputFallback(_))}function ji(_,T){var N=[],ie;for(ie=0;ie<_.length;++ie)N.push(T(_[ie],ie));return N}function Dt(_){var T=_._i,N;T===l?_._d=new Date:yi(T)?_._d=new Date(+T):(N=I.exec(T))!==null?_._d=new Date(+N[1]):typeof T=="string"?Xn(_):un(T)?(_._a=ji(T.slice(0),function(ie){return parseInt(ie,10)}),Sn(_)):typeof T=="object"?to(_):typeof T=="number"?_._d=new Date(T):h.createFromInputFallback(_)}function Zn(_,T,N,ie,ae,_e,Oe){var Je=new Date(_,T,N,ie,ae,_e,Oe);return _<1970&&Je.setFullYear(_),Je}function ar(_){var T=new Date(Date.UTC.apply(null,arguments));return _<1970&&T.setUTCFullYear(_),T}function In(_,T){if(typeof _=="string"){if(!isNaN(_))_=parseInt(_,10);else if(_=T.weekdaysParse(_),typeof _!="number")return null}return _}function J(_,T,N,ie,ae){return ae.relativeTime(T||1,!!N,_,ie)}function xe(_,T,N){var ie=h.duration(_).abs(),ae=v(ie.as("s")),_e=v(ie.as("m")),Oe=v(ie.as("h")),Je=v(ie.as("d")),et=v(ie.as("M")),Ve=v(ie.as("y")),Ke=ae<St.s&&["s",ae]||_e===1&&["m"]||_e<St.m&&["mm",_e]||Oe===1&&["h"]||Oe<St.h&&["hh",Oe]||Je===1&&["d"]||Je<St.d&&["dd",Je]||et===1&&["M"]||et<St.M&&["MM",et]||Ve===1&&["y"]||["yy",Ve];return Ke[2]=T,Ke[3]=+_>0,Ke[4]=N,J.apply({},Ke)}function $e(_,T,N){var ie=N-T,ae=N-_.day(),_e;return ae>ie&&(ae-=7),ae<ie-7&&(ae+=7),_e=h(_).add(ae,"d"),{week:Math.ceil(_e.dayOfYear()/7),year:_e.year()}}function nt(_,T,N,ie,ae){var _e=ar(_,0,1).getUTCDay(),Oe,Je;return _e=_e===0?7:_e,N=N??ae,Oe=ae-_e+(_e>ie?7:0)-(_e<ae?7:0),Je=7*(T-1)+(N-ae)+Oe+1,{year:Je>0?_:_-1,dayOfYear:Je>0?Je:Hi(_-1)+Je}}function je(_){var T=_._i,N=_._f;return _._locale=_._locale||h.localeData(_._l),T===null||N===l&&T===""?h.invalid({nullInput:!0}):(typeof T=="string"&&(_._i=T=_._locale.preparse(T)),h.isMoment(T)?new ct(T,!0):(N?un(N)?yn(_):kr(_):Dt(_),new ct(_)))}h=function(_,T,N,ie){var ae;return typeof N=="boolean"&&(ie=N,N=l),ae={},ae._isAMomentObject=!0,ae._i=_,ae._f=T,ae._l=N,ae._strict=ie,ae._isUTC=!1,ae._pf=fe(),je(ae)},h.suppressDeprecationWarnings=!1,h.createFromInputFallback=ze("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(_){_._d=new Date(_._i)});function pt(_,T){var N,ie;if(T.length===1&&un(T[0])&&(T=T[0]),!T.length)return h();for(N=T[0],ie=1;ie<T.length;++ie)T[ie][_](N)&&(N=T[ie]);return N}for(h.min=function(){var _=[].slice.call(arguments,0);return pt("isBefore",_)},h.max=function(){var _=[].slice.call(arguments,0);return pt("isAfter",_)},h.utc=function(_,T,N,ie){var ae;return typeof N=="boolean"&&(ie=N,N=l),ae={},ae._isAMomentObject=!0,ae._useUTC=!0,ae._isUTC=!0,ae._l=N,ae._i=_,ae._f=T,ae._strict=ie,ae._pf=fe(),je(ae).utc()},h.unix=function(_){return h(_*1e3)},h.duration=function(_,T){var N=_,ie=null,ae,_e,Oe,Je;return h.isDuration(_)?N={ms:_._milliseconds,d:_._days,M:_._months}:typeof _=="number"?(N={},T?N[T]=_:N.milliseconds=_):(ie=V.exec(_))?(ae=ie[1]==="-"?-1:1,N={y:0,d:si(ie[H])*ae,h:si(ie[F])*ae,m:si(ie[j])*ae,s:si(ie[q])*ae,ms:si(ie[M])*ae}):(ie=ne.exec(_))?(ae=ie[1]==="-"?-1:1,Oe=function(et){var Ve=et&&parseFloat(et.replace(",","."));return(isNaN(Ve)?0:Ve)*ae},N={y:Oe(ie[2]),M:Oe(ie[3]),d:Oe(ie[4]),h:Oe(ie[5]),m:Oe(ie[6]),s:Oe(ie[7]),w:Oe(ie[8])}):typeof N=="object"&&("from"in N||"to"in N)&&(Je=Ut(h(N.from),h(N.to)),N={},N.ms=Je.milliseconds,N.M=Je.months),_e=new $t(N),h.isDuration(_)&&Q(_,"_locale")&&(_e._locale=_._locale),_e},h.version=f,h.defaultFormat=we,h.ISO_8601=function(){},h.momentProperties=D,h.updateOffset=function(){},h.relativeTimeThreshold=function(_,T){return St[_]===l?!1:T===l?St[_]:(St[_]=T,!0)},h.lang=ze("moment.lang is deprecated. Use moment.locale instead.",function(_,T){return h.locale(_,T)}),h.locale=function(_,T){var N;return _&&(typeof T<"u"?N=h.defineLocale(_,T):N=h.localeData(_),N&&(h.duration._locale=h._locale=N)),h._locale._abbr},h.defineLocale=function(_,T){return T!==null?(T.abbr=_,S[_]||(S[_]=new Pt),S[_].set(T),h.locale(_),S[_]):(delete S[_],null)},h.langData=ze("moment.langData is deprecated. Use moment.localeData instead.",function(_){return h.localeData(_)}),h.localeData=function(_){var T;if(_&&_._locale&&_._locale._abbr&&(_=_._locale._abbr),!_)return h._locale;if(!un(_)){if(T=Ot(_),T)return T;_=[_]}return En(_)},h.isMoment=function(_){return _ instanceof ct||_!=null&&Q(_,"_isAMomentObject")},h.isDuration=function(_){return _ instanceof $t},w=X.length-1;w>=0;--w)ui(X[w]);h.normalizeUnits=function(_){return pi(_)},h.invalid=function(_){var T=h.utc(NaN);return _!=null?Yt(T._pf,_):T._pf.userInvalidated=!0,T},h.parseZone=function(){return h.apply(null,arguments).parseZone()},h.parseTwoDigitYear=function(_){return si(_)+(si(_)>68?1900:2e3)},Yt(h.fn=ct.prototype,{clone:function(){return h(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var _=h(this).utc();return 0<_.year()&&_.year()<=9999?nr(_,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):nr(_,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var _=this;return[_.year(),_.month(),_.date(),_.hours(),_.minutes(),_.seconds(),_.milliseconds()]},isValid:function(){return Qi(this)},isDSTShifted:function(){return this._a?this.isValid()&&Fi(this._a,(this._isUTC?h.utc(this._a):h(this._a)).toArray())>0:!1},parsingFlags:function(){return Yt({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(_){return this.zone(0,_)},local:function(_){return this._isUTC&&(this.zone(0,_),this._isUTC=!1,_&&this.add(this._dateTzOffset(),"m")),this},format:function(_){var T=nr(this,_||h.defaultFormat);return this.localeData().postformat(T)},add:mr(1,"add"),subtract:mr(-1,"subtract"),diff:function(_,T,N){var ie=vr(_,this),ae=(this.zone()-ie.zone())*6e4,_e,Oe,Je;return T=pi(T),T==="year"||T==="month"?(_e=(this.daysInMonth()+ie.daysInMonth())*432e5,Oe=(this.year()-ie.year())*12+(this.month()-ie.month()),Je=this-h(this).startOf("month")-(ie-h(ie).startOf("month")),Je-=(this.zone()-h(this).startOf("month").zone()-(ie.zone()-h(ie).startOf("month").zone()))*6e4,Oe+=Je/_e,T==="year"&&(Oe=Oe/12)):(_e=this-ie,Oe=T==="second"?_e/1e3:T==="minute"?_e/6e4:T==="hour"?_e/36e5:T==="day"?(_e-ae)/864e5:T==="week"?(_e-ae)/6048e5:_e),N?Oe:Vt(Oe)},from:function(_,T){return h.duration({to:this,from:_}).locale(this.locale()).humanize(!T)},fromNow:function(_){return this.from(h(),_)},calendar:function(_){var T=_||h(),N=vr(T,this).startOf("day"),ie=this.diff(N,"days",!0),ae=ie<-6?"sameElse":ie<-1?"lastWeek":ie<0?"lastDay":ie<1?"sameDay":ie<2?"nextDay":ie<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(ae,this))},isLeapYear:function(){return Fr(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(_){var T=this._isUTC?this._d.getUTCDay():this._d.getDay();return _!=null?(_=In(_,this.localeData()),this.add(_-T,"d")):T},month:li("Month",!0),startOf:function(_){switch(_=pi(_),_){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return _==="week"?this.weekday(0):_==="isoWeek"&&this.isoWeekday(1),_==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(_){return _=pi(_),this.startOf(_).add(1,_==="isoWeek"?"week":_).subtract(1,"ms")},isAfter:function(_,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(_=h.isMoment(_)?_:h(_),+this>+_):+this.clone().startOf(T)>+h(_).startOf(T)},isBefore:function(_,T){return T=pi(typeof T<"u"?T:"millisecond"),T==="millisecond"?(_=h.isMoment(_)?_:h(_),+this<+_):+this.clone().startOf(T)<+h(_).startOf(T)},isSame:function(_,T){return T=pi(T||"millisecond"),T==="millisecond"?(_=h.isMoment(_)?_:h(_),+this==+_):+this.clone().startOf(T)==+vr(_,this).startOf(T)},min:ze("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(_){return _=h.apply(null,arguments),_<this?this:_}),max:ze("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(_){return _=h.apply(null,arguments),_>this?this:_}),zone:function(_,T){var N=this._offset||0,ie;if(_!=null)typeof _=="string"&&(_=Ji(_)),Math.abs(_)<16&&(_=_*60),!this._isUTC&&T&&(ie=this._dateTzOffset()),this._offset=_,this._isUTC=!0,ie!=null&&this.subtract(ie,"m"),N!==_&&(!T||this._changeInProgress?Ft(this,h.duration(N-_,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?N:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(_){return _?_=h(_).zone():_=0,(this.zone()-_)%60===0},daysInMonth:function(){return Bi(this.year(),this.month())},dayOfYear:function(_){var T=v((h(this).startOf("day")-h(this).startOf("year"))/864e5)+1;return _==null?T:this.add(_-T,"d")},quarter:function(_){return _==null?Math.ceil((this.month()+1)/3):this.month((_-1)*3+this.month()%3)},weekYear:function(_){var T=$e(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return _==null?T:this.add(_-T,"y")},isoWeekYear:function(_){var T=$e(this,1,4).year;return _==null?T:this.add(_-T,"y")},week:function(_){var T=this.localeData().week(this);return _==null?T:this.add((_-T)*7,"d")},isoWeek:function(_){var T=$e(this,1,4).week;return _==null?T:this.add((_-T)*7,"d")},weekday:function(_){var T=(this.day()+7-this.localeData()._week.dow)%7;return _==null?T:this.add(_-T,"d")},isoWeekday:function(_){return _==null?this.day()||7:this.day(this.day()%7?_:_-7)},isoWeeksInYear:function(){return eo(this.year(),1,4)},weeksInYear:function(){var _=this.localeData()._week;return eo(this.year(),_.dow,_.doy)},get:function(_){return _=pi(_),this[_]()},set:function(_,T){return _=pi(_),typeof this[_]=="function"&&this[_](T),this},locale:function(_){var T;return _===l?this._locale._abbr:(T=h.localeData(_),T!=null&&(this._locale=T),this)},lang:ze("moment().lang() is deprecated. Use moment().localeData() instead.",function(_){return _===l?this.localeData():this.locale(_)}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function ni(_,T){var N;return typeof T=="string"&&(T=_.localeData().monthsParse(T),typeof T!="number")||(N=Math.min(_.date(),Bi(_.year(),T)),_._d["set"+(_._isUTC?"UTC":"")+"Month"](T,N)),_}function Ui(_,T){return _._d["get"+(_._isUTC?"UTC":"")+T]()}function Nt(_,T,N){return T==="Month"?ni(_,N):_._d["set"+(_._isUTC?"UTC":"")+T](N)}function li(_,T){return function(N){return N!=null?(Nt(this,_,N),h.updateOffset(this,T),this):Ui(this,_)}}h.fn.millisecond=h.fn.milliseconds=li("Milliseconds",!1),h.fn.second=h.fn.seconds=li("Seconds",!1),h.fn.minute=h.fn.minutes=li("Minutes",!1),h.fn.hour=h.fn.hours=li("Hours",!0),h.fn.date=li("Date",!0),h.fn.dates=ze("dates accessor is deprecated. Use date instead.",li("Date",!0)),h.fn.year=li("FullYear",!0),h.fn.years=ze("years accessor is deprecated. Use year instead.",li("FullYear",!0)),h.fn.days=h.fn.day,h.fn.months=h.fn.month,h.fn.weeks=h.fn.week,h.fn.isoWeeks=h.fn.isoWeek,h.fn.quarters=h.fn.quarter,h.fn.toJSON=h.fn.toISOString;function po(_){return _*400/146097}function Wt(_){return _*146097/400}Yt(h.duration.fn=$t.prototype,{_bubble:function(){var _=this._milliseconds,T=this._days,N=this._months,ie=this._data,ae,_e,Oe,Je=0;ie.milliseconds=_%1e3,ae=Vt(_/1e3),ie.seconds=ae%60,_e=Vt(ae/60),ie.minutes=_e%60,Oe=Vt(_e/60),ie.hours=Oe%24,T+=Vt(Oe/24),Je=Vt(po(T)),T-=Vt(Wt(Je)),N+=Vt(T/30),T%=30,Je+=Vt(N/12),N%=12,ie.days=T,ie.months=N,ie.years=Je},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return Vt(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+si(this._months/12)*31536e6},humanize:function(_){var T=xe(this,!_,this.localeData());return _&&(T=this.localeData().pastFuture(+this,T)),this.localeData().postformat(T)},add:function(_,T){var N=h.duration(_,T);return this._milliseconds+=N._milliseconds,this._days+=N._days,this._months+=N._months,this._bubble(),this},subtract:function(_,T){var N=h.duration(_,T);return this._milliseconds-=N._milliseconds,this._days-=N._days,this._months-=N._months,this._bubble(),this},get:function(_){return _=pi(_),this[_.toLowerCase()+"s"]()},as:function(_){var T,N;if(_=pi(_),_==="month"||_==="year")return T=this._days+this._milliseconds/864e5,N=this._months+po(T)*12,_==="month"?N:N/12;switch(T=this._days+Wt(this._months/12),_){case"week":return T/7+this._milliseconds/6048e5;case"day":return T+this._milliseconds/864e5;case"hour":return T*24+this._milliseconds/36e5;case"minute":return T*24*60+this._milliseconds/6e4;case"second":return T*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(T*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+_)}},lang:h.fn.lang,locale:h.fn.locale,toIsoString:ze("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var _=Math.abs(this.years()),T=Math.abs(this.months()),N=Math.abs(this.days()),ie=Math.abs(this.hours()),ae=Math.abs(this.minutes()),_e=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(_?_+"Y":"")+(T?T+"M":"")+(N?N+"D":"")+(ie||ae||_e?"T":"")+(ie?ie+"H":"")+(ae?ae+"M":"")+(_e?_e+"S":""):"P0D"},localeData:function(){return this._locale}}),h.duration.fn.toString=h.duration.fn.toISOString;function ke(_){h.duration.fn[_]=function(){return this._data[_]}}for(w in Ze)Q(Ze,w)&&ke(w.toLowerCase());return h.duration.fn.asMilliseconds=function(){return this.as("ms")},h.duration.fn.asSeconds=function(){return this.as("s")},h.duration.fn.asMinutes=function(){return this.as("m")},h.duration.fn.asHours=function(){return this.as("h")},h.duration.fn.asDays=function(){return this.as("d")},h.duration.fn.asWeeks=function(){return this.as("weeks")},h.duration.fn.asMonths=function(){return this.as("M")},h.duration.fn.asYears=function(){return this.as("y")},h.locale("en",{ordinal:function(_){var T=_%10,N=si(_%100/10)===1?"th":T===1?"st":T===2?"nd":T===3?"rd":"th";return _+N}}),h}).call(this),e.Utils.moment=u,e.datepicker})}(Gd)),Gd.exports}zw();/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||t(UIkit2)})})(function(t){return t.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){t.ready(function(e){t.$("[data-uk-pagination]",e).each(function(){var n=t.$(this);n.data("pagination")||t.pagination(n,t.Utils.options(n.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(n){n.preventDefault(),e.selectPage(t.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(e){this.pages=e||this.pages,this._render()},selectPage:function(e,n){this.currentPage=e,this.render(n),this.options.onSelectPage.apply(this,[e]),this.trigger("select.uk.pagination",[e,this])},_render:function(){var e=this.options,n=this._getInterval(),s;if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),n.start>0&&e.edges>0){var u=Math.min(e.edges,n.start);for(s=0;s<u;s++)this._append(s);e.edges<n.start&&n.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):n.start-e.edges==1&&this._append(e.edges)}for(s=n.start;s<n.end;s++)this._append(s);if(n.end<this.pages&&e.edges>0){this.pages-e.edges>n.end&&this.pages-e.edges-n.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-n.end==1&&this._append(n.end++);var l=Math.max(this.pages-e.edges,n.end);for(s=l;s<this.pages;s++)this._append(s)}e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(e,n){var s,u;e=e<0?0:e<this.pages?e:this.pages-1,u=t.$.extend({text:e+1},n),s=e==this.currentPage?'<li class="uk-active"><span>'+u.text+"</span></li>":'<li><a href="#page-'+(e+1)+'" data-page="'+e+'">'+u.text+"</a></li>",this.element.append(s)}}),t.pagination});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-notify",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e={},n={},s=function(h){return t.$.type(h)=="string"&&(h={message:h}),arguments[1]&&(h=t.$.extend(h,t.$.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new l(h).show()},u=function(h,f){var v;if(h)for(v in n)h===n[v].group&&n[v].close(f);else for(v in n)n[v].close(f)},l=function(h){this.options=t.$.extend({},l.defaults,h),this.uuid=t.Utils.uid("notifymsg"),this.element=t.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,n[this.uuid]=this,e[this.options.pos]||(e[this.options.pos]=t.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var f=t.$(this).data("notifyMessage");f.element.trigger("manualclose.uk.notify",[f]),f.close()}))};return t.$.extend(l.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var h=this;e[this.options.pos].show().prepend(this.element);var f=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:f},function(){if(h.options.timeout){var v=function(){h.close()};h.timeout=setTimeout(v,h.options.timeout),h.element.hover(function(){clearTimeout(h.timeout)},function(){h.timeout=setTimeout(v,h.options.timeout)})}}),this}},close:function(h){var f=this,v=function(){f.element.remove(),e[f.options.pos].children().length||e[f.options.pos].hide(),f.options.onClose.apply(f,[]),f.element.trigger("close.uk.notify",[f]),delete n[f.uuid]};this.timeout&&clearTimeout(this.timeout),h?v():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){v()})},content:function(h){var f=this.element.find(">div");return h?(f.html(h),this):f.html()},status:function(h){return h?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+h),this.currentstatus=h,this):this.currentstatus}}),l.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},t.notify=s,t.notify.message=l,t.notify.closeAll=u,s});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-tooltip",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e,n,s;return t.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(u){var l=u.attr("title");return l!==void 0&&u.data("cached-title",l).removeAttr("title"),u.data("cached-title")}},tip:"",boot:function(){t.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(u){var l=t.$(this);l.data("tooltip")||(t.tooltip(l,t.Utils.options(l.attr("data-uk-tooltip"))),l.trigger("mouseenter"))})},init:function(){var u=this;e||(e=t.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(l){u.show()},blur:function(l){u.hide()},mouseenter:function(l){u.show()},mouseleave:function(l){u.hide()}})},show:function(){if(this.tip=typeof this.options.src=="function"?this.options.src(this.element):this.options.src,n&&clearTimeout(n),s&&clearInterval(s),!(typeof this.tip!="string"||!this.tip.length)){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var u=this,l=t.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),h=e[0].offsetWidth,f=e[0].offsetHeight,v=typeof this.options.offset=="function"?this.options.offset.call(this.element):this.options.offset,x=typeof this.options.pos=="function"?this.options.pos.call(this.element):this.options.pos,w=x.split("-"),E={display:"none",visibility:"visible",top:l.top+l.height+f,left:l.left};if(t.$html.css("position")=="fixed"||t.$body.css("position")=="fixed"){var O=t.$("body").offset(),H=t.$("html").offset(),F={top:H.top+O.top,left:H.left+O.left};l.left-=F.left,l.top-=F.top}(w[0]=="left"||w[0]=="right")&&t.langdirection=="right"&&(w[0]=w[0]=="left"?"right":"left");var j={bottom:{top:l.top+l.height+v,left:l.left+l.width/2-h/2},top:{top:l.top-f-v,left:l.left+l.width/2-h/2},left:{top:l.top+l.height/2-f/2,left:l.left-h-v},right:{top:l.top+l.height/2-f/2,left:l.left+l.width+v}};t.$.extend(E,j[w[0]]),w.length==2&&(E.left=w[1]=="left"?l.left:l.left+l.width-h);var q=this.checkBoundary(E.left,E.top,h,f);if(q){switch(q){case"x":w.length==2?x=w[0]+"-"+(E.left<0?"left":"right"):x=E.left<0?"right":"left";break;case"y":w.length==2?x=(E.top<0?"bottom":"top")+"-"+w[1]:x=E.top<0?"bottom":"top";break;case"xy":w.length==2?x=(E.top<0?"bottom":"top")+"-"+(E.left<0?"left":"right"):x=E.left<0?"right":"left";break}w=x.split("-"),t.$.extend(E,j[w[0]]),w.length==2&&(E.left=w[1]=="left"?l.left:l.left+l.width-h)}E.left-=t.$body.position().left,n=setTimeout(function(){e.css(E).attr("class",["uk-tooltip","uk-tooltip-"+x,u.options.cls].join(" ")),u.options.animation?e.css({opacity:0,display:"block"}).addClass(u.options.activeClass).animate({opacity:1},parseInt(u.options.animation,10)||400):e.show().addClass(u.options.activeClass),n=!1,s=setInterval(function(){u.element.is(":visible")||u.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!(this.element.is("input")&&this.element[0]===document.activeElement))if(n&&clearTimeout(n),s&&clearInterval(s),e.stop(),this.options.animation){var u=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(u.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(u,l,h,f){var v="";return(u<0||u-t.$win.scrollLeft()+h>window.innerWidth)&&(v+="x"),(l<0||l-t.$win.scrollTop()+f>window.innerHeight)&&(v+="y"),v}}),t.tooltip});var Af={exports:{}},Bw=Af.exports,Ym;function ds(){return Ym||(Ym=1,function(t,e){(function(n,s){t.exports=s()})(Bw,function(){var n=navigator.userAgent,s=navigator.platform,u=/gecko\/\d/i.test(n),l=/MSIE \d/.test(n),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),f=/Edge\/(\d+)/.exec(n),v=l||h||f,x=v&&(l?document.documentMode||6:+(f||h)[1]),w=!f&&/WebKit\//.test(n),E=w&&/Qt\/\d+\.\d+/.test(n),O=!f&&/Chrome\/(\d+)/.exec(n),H=O&&+O[1],F=/Opera\//.test(n),j=/Apple Computer/.test(navigator.vendor),q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),M=/PhantomJS/.test(n),S=j&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),D=/Android/.test(n),B=S||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),I=S||/Mac/.test(s),V=/\bCrOS\b/.test(n),ne=/win/i.test(s),ue=F&&n.match(/Version\/(\d*\.\d*)/);ue&&(ue=Number(ue[1])),ue&&ue>=15&&(F=!1,w=!0);var de=I&&(E||F&&(ue==null||ue<12.11)),ge=u||v&&x>=9;function he(r){return new RegExp("(^|\\s)"+r+"(?:$|\\s)\\s*")}var Le=function(r,a){var p=r.className,d=he(a).exec(p);if(d){var b=p.slice(d.index+d[0].length);r.className=p.slice(0,d.index)+(b?d[1]+b:"")}};function ve(r){for(var a=r.childNodes.length;a>0;--a)r.removeChild(r.firstChild);return r}function re(r,a){return ve(r).appendChild(a)}function P(r,a,p,d){var b=document.createElement(r);if(p&&(b.className=p),d&&(b.style.cssText=d),typeof a=="string")b.appendChild(document.createTextNode(a));else if(a)for(var C=0;C<a.length;++C)b.appendChild(a[C]);return b}function se(r,a,p,d){var b=P(r,a,p,d);return b.setAttribute("role","presentation"),b}var ye;document.createRange?ye=function(r,a,p,d){var b=document.createRange();return b.setEnd(d||r,p),b.setStart(r,a),b}:ye=function(r,a,p){var d=document.body.createTextRange();try{d.moveToElementText(r.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",a),d};function Ee(r,a){if(a.nodeType==3&&(a=a.parentNode),r.contains)return r.contains(a);do if(a.nodeType==11&&(a=a.host),a==r)return!0;while(a=a.parentNode)}function it(r){var a=r.ownerDocument||r,p;try{p=r.activeElement}catch{p=a.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function Be(r,a){var p=r.className;he(a).test(p)||(r.className+=(p?" ":"")+a)}function Me(r,a){for(var p=r.split(" "),d=0;d<p.length;d++)p[d]&&!he(p[d]).test(a)&&(a+=" "+p[d]);return a}var te=function(r){r.select()};S?te=function(r){r.selectionStart=0,r.selectionEnd=r.value.length}:v&&(te=function(r){try{r.select()}catch{}});function Y(r){return r.display.wrapper.ownerDocument}function De(r){return Fe(r.display.wrapper)}function Fe(r){return r.getRootNode?r.getRootNode():r.ownerDocument}function Z(r){return Y(r).defaultView}function we(r){var a=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,a)}}function Te(r,a,p){a||(a={});for(var d in r)r.hasOwnProperty(d)&&(p!==!1||!a.hasOwnProperty(d))&&(a[d]=r[d]);return a}function qe(r,a,p,d,b){a==null&&(a=r.search(/[^\s\u00a0]/),a==-1&&(a=r.length));for(var C=d||0,R=b||0;;){var W=r.indexOf("	",C);if(W<0||W>=a)return R+(a-C);R+=W-C,R+=p-R%p,C=W+1}}var Xe=function(){this.id=null,this.f=null,this.time=0,this.handler=we(this.onTimeout,this)};Xe.prototype.onTimeout=function(r){r.id=0,r.time<=+new Date?r.f():setTimeout(r.handler,r.time-+new Date)},Xe.prototype.set=function(r,a){this.f=a;var p=+new Date+r;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,r),this.time=p)};function Ze(r,a){for(var p=0;p<r.length;++p)if(r[p]==a)return p;return-1}var ut=50,Et={toString:function(){return"CodeMirror.Pass"}},wt={scroll:!1},St={origin:"*mouse"},_t={origin:"+move"};function Mt(r,a,p){for(var d=0,b=0;;){var C=r.indexOf("	",d);C==-1&&(C=r.length);var R=C-d;if(C==r.length||b+R>=a)return d+Math.min(R,a-b);if(b+=C-d,b+=p-b%p,d=C+1,b>=a)return d}}var jt=[""];function Kt(r){for(;jt.length<=r;)jt.push(X(jt)+" ");return jt[r]}function X(r){return r[r.length-1]}function le(r,a){for(var p=[],d=0;d<r.length;d++)p[d]=a(r[d],d);return p}function Q(r,a,p){for(var d=0,b=p(a);d<r.length&&p(r[d])<=b;)d++;r.splice(d,0,a)}function fe(){}function pe(r,a){var p;return Object.create?p=Object.create(r):(fe.prototype=r,p=new fe),a&&Te(a,p),p}var ze=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ot(r){return/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||ze.test(r))}function Qe(r,a){return a?a.source.indexOf("\\w")>-1&&ot(r)?!0:a.test(r):ot(r)}function mt(r){for(var a in r)if(r.hasOwnProperty(a)&&r[a])return!1;return!0}var Pt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(r){return r.charCodeAt(0)>=768&&Pt.test(r)}function $t(r,a,p){for(;(p<0?a>0:a<r.length)&&ct(r.charAt(a));)a+=p;return a}function Yt(r,a,p){for(var d=a>p?-1:1;;){if(a==p)return a;var b=(a+p)/2,C=d<0?Math.ceil(b):Math.floor(b);if(C==a)return r(C)?a:p;r(C)?p=C:a=C+d}}function Qt(r,a,p,d){if(!r)return d(a,p,"ltr",0);for(var b=!1,C=0;C<r.length;++C){var R=r[C];(R.from<p&&R.to>a||a==p&&R.to==a)&&(d(Math.max(R.from,a),Math.min(R.to,p),R.level==1?"rtl":"ltr",C),b=!0)}b||d(a,p,"ltr")}var Vt=null;function xt(r,a,p){var d;Vt=null;for(var b=0;b<r.length;++b){var C=r[b];if(C.from<a&&C.to>a)return b;C.to==a&&(C.from!=C.to&&p=="before"?d=b:Vt=b),C.from==a&&(C.from!=C.to&&p!="before"?d=b:Vt=b)}return d??Vt}var Un=function(){var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(K){return K<=247?r.charAt(K):1424<=K&&K<=1524?"R":1536<=K&&K<=1785?a.charAt(K-1536):1774<=K&&K<=2220?"r":8192<=K&&K<=8203?"w":K==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,C=/[LRr]/,R=/[Lb1n]/,W=/[1n]/;function G(K,be,Ce){this.level=K,this.from=be,this.to=Ce}return function(K,be){var Ce=be=="ltr"?"L":"R";if(K.length==0||be=="ltr"&&!d.test(K))return!1;for(var Ie=K.length,Re=[],Ge=0;Ge<Ie;++Ge)Re.push(p(K.charCodeAt(Ge)));for(var rt=0,dt=Ce;rt<Ie;++rt){var bt=Re[rt];bt=="m"?Re[rt]=dt:dt=bt}for(var yt=0,vt=Ce;yt<Ie;++yt){var Tt=Re[yt];Tt=="1"&&vt=="r"?Re[yt]="n":C.test(Tt)&&(vt=Tt,Tt=="r"&&(Re[yt]="R"))}for(var Bt=1,It=Re[0];Bt<Ie-1;++Bt){var ci=Re[Bt];ci=="+"&&It=="1"&&Re[Bt+1]=="1"?Re[Bt]="1":ci==","&&It==Re[Bt+1]&&(It=="1"||It=="n")&&(Re[Bt]=It),It=ci}for(var Yi=0;Yi<Ie;++Yi){var Cn=Re[Yi];if(Cn==",")Re[Yi]="N";else if(Cn=="%"){var sn=void 0;for(sn=Yi+1;sn<Ie&&Re[sn]=="%";++sn);for(var vn=Yi&&Re[Yi-1]=="!"||sn<Ie&&Re[sn]=="1"?"1":"N",Dn=Yi;Dn<sn;++Dn)Re[Dn]=vn;Yi=sn-1}}for(var Mn=0,Dr=Ce;Mn<Ie;++Mn){var hr=Re[Mn];Dr=="L"&&hr=="1"?Re[Mn]="L":C.test(hr)&&(Dr=hr)}for(var Hn=0;Hn<Ie;++Hn)if(b.test(Re[Hn])){var Pn=void 0;for(Pn=Hn+1;Pn<Ie&&b.test(Re[Pn]);++Pn);for(var bn=(Hn?Re[Hn-1]:Ce)=="L",Wr=(Pn<Ie?Re[Pn]:Ce)=="L",ku=bn==Wr?bn?"L":"R":Ce,rs=Hn;rs<Pn;++rs)Re[rs]=ku;Hn=Pn-1}for(var wr=[],fa,er=0;er<Ie;)if(R.test(Re[er])){var Wc=er;for(++er;er<Ie&&R.test(Re[er]);++er);wr.push(new G(0,Wc,er))}else{var da=er,os=wr.length,as=be=="rtl"?1:0;for(++er;er<Ie&&Re[er]!="L";++er);for(var Mr=da;Mr<er;)if(W.test(Re[Mr])){da<Mr&&(wr.splice(os,0,new G(1,da,Mr)),os+=as);var Cu=Mr;for(++Mr;Mr<er&&W.test(Re[Mr]);++Mr);wr.splice(os,0,new G(2,Cu,Mr)),os+=as,da=Mr}else++Mr;da<er&&wr.splice(os,0,new G(1,da,er))}return be=="ltr"&&(wr[0].level==1&&(fa=K.match(/^\s+/))&&(wr[0].from=fa[0].length,wr.unshift(new G(0,0,fa[0].length))),X(wr).level==1&&(fa=K.match(/\s+$/))&&(X(wr).to-=fa[0].length,wr.push(new G(0,Ie-fa[0].length,Ie)))),be=="rtl"?wr.reverse():wr}}();function Ut(r,a){var p=r.order;return p==null&&(p=r.order=Un(r.text,a)),p}var mr=[],Ft=function(r,a,p){if(r.addEventListener)r.addEventListener(a,p,!1);else if(r.attachEvent)r.attachEvent("on"+a,p);else{var d=r._handlers||(r._handlers={});d[a]=(d[a]||mr).concat(p)}};function un(r,a){return r._handlers&&r._handlers[a]||mr}function yi(r,a,p){if(r.removeEventListener)r.removeEventListener(a,p,!1);else if(r.detachEvent)r.detachEvent("on"+a,p);else{var d=r._handlers,b=d&&d[a];if(b){var C=Ze(b,p);C>-1&&(d[a]=b.slice(0,C).concat(b.slice(C+1)))}}}function Fi(r,a){var p=un(r,a);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),b=0;b<p.length;++b)p[b].apply(null,d)}function pi(r,a,p){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),Fi(r,p||a.type,r,a),Hi(a)||a.codemirrorIgnore}function wi(r){var a=r._handlers&&r._handlers.cursorActivity;if(a)for(var p=r.curOp.cursorActivityHandlers||(r.curOp.cursorActivityHandlers=[]),d=0;d<a.length;++d)Ze(p,a[d])==-1&&p.push(a[d])}function ui(r,a){return un(r,a).length>0}function si(r){r.prototype.on=function(a,p){Ft(this,a,p)},r.prototype.off=function(a,p){yi(this,a,p)}}function Bi(r){r.preventDefault?r.preventDefault():r.returnValue=!1}function eo(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0}function Hi(r){return r.defaultPrevented!=null?r.defaultPrevented:r.returnValue==!1}function Fr(r){Bi(r),eo(r)}function $i(r){return r.target||r.srcElement}function Qi(r){var a=r.which;return a==null&&(r.button&1?a=1:r.button&2?a=3:r.button&4&&(a=2)),I&&r.ctrlKey&&a==1&&(a=3),a}var gr=function(){if(v&&x<9)return!1;var r=P("div");return"draggable"in r||"dragDrop"in r}(),En;function Ot(r){if(En==null){var a=P("span","");re(r,P("span",[a,document.createTextNode("x")])),r.firstChild.offsetHeight!=0&&(En=a.offsetWidth<=1&&a.offsetHeight>2&&!(v&&x<8))}var p=En?P("span",""):P("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var vr;function Yn(r){if(vr!=null)return vr;var a=re(r,document.createTextNode("AA")),p=ye(a,0,1).getBoundingClientRect(),d=ye(a,1,2).getBoundingClientRect();return ve(r),!p||p.left==p.right?!1:vr=d.right-p.right<3}var Gn=`

b`.split(/\n/).length!=3?function(r){for(var a=0,p=[],d=r.length;a<=d;){var b=r.indexOf(`
`,a);b==-1&&(b=r.length);var C=r.slice(a,r.charAt(b-1)=="\r"?b-1:b),R=C.indexOf("\r");R!=-1?(p.push(C.slice(0,R)),a+=R+1):(p.push(C),a=b+1)}return p}:function(r){return r.split(/\r\n?|\n/)},nr=window.getSelection?function(r){try{return r.selectionStart!=r.selectionEnd}catch{return!1}}:function(r){var a;try{a=r.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=r?!1:a.compareEndPoints("StartToEnd",a)!=0},jr=function(){var r=P("div");return"oncopy"in r?!0:(r.setAttribute("oncopy","return;"),typeof r.oncopy=="function")}(),Xi=null;function Ji(r){if(Xi!=null)return Xi;var a=re(r,P("span","x")),p=a.getBoundingClientRect(),d=ye(a,0,1).getBoundingClientRect();return Xi=Math.abs(p.left-d.left)>1}var rr={},or={};function Sn(r,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),rr[r]=a}function to(r,a){or[r]=a}function io(r){if(typeof r=="string"&&or.hasOwnProperty(r))r=or[r];else if(r&&typeof r.name=="string"&&or.hasOwnProperty(r.name)){var a=or[r.name];typeof a=="string"&&(a={name:a}),r=pe(a,r),r.name=a.name}else{if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(r))return io("application/xml");if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(r))return io("application/json")}return typeof r=="string"?{name:r}:r||{name:"null"}}function kr(r,a){a=io(a);var p=rr[a.name];if(!p)return kr(r,"text/plain");var d=p(r,a);if(Tn.hasOwnProperty(a.name)){var b=Tn[a.name];for(var C in b)b.hasOwnProperty(C)&&(d.hasOwnProperty(C)&&(d["_"+C]=d[C]),d[C]=b[C])}if(d.name=a.name,a.helperType&&(d.helperType=a.helperType),a.modeProps)for(var R in a.modeProps)d[R]=a.modeProps[R];return d}var Tn={};function Nr(r,a){var p=Tn.hasOwnProperty(r)?Tn[r]:Tn[r]={};Te(a,p)}function yn(r,a){if(a===!0)return a;if(r.copyState)return r.copyState(a);var p={};for(var d in a){var b=a[d];b instanceof Array&&(b=b.concat([])),p[d]=b}return p}function fo(r,a){for(var p;r.innerMode&&(p=r.innerMode(a),!(!p||p.mode==r));)a=p.state,r=p.mode;return p||{mode:r,state:a}}function Xn(r,a,p){return r.startState?r.startState(a,p):!0}var ji=function(r,a,p){this.pos=this.start=0,this.string=r,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};ji.prototype.eol=function(){return this.pos>=this.string.length},ji.prototype.sol=function(){return this.pos==this.lineStart},ji.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ji.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ji.prototype.eat=function(r){var a=this.string.charAt(this.pos),p;if(typeof r=="string"?p=a==r:p=a&&(r.test?r.test(a):r(a)),p)return++this.pos,a},ji.prototype.eatWhile=function(r){for(var a=this.pos;this.eat(r););return this.pos>a},ji.prototype.eatSpace=function(){for(var r=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r},ji.prototype.skipToEnd=function(){this.pos=this.string.length},ji.prototype.skipTo=function(r){var a=this.string.indexOf(r,this.pos);if(a>-1)return this.pos=a,!0},ji.prototype.backUp=function(r){this.pos-=r},ji.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},ji.prototype.indentation=function(){return qe(this.string,null,this.tabSize)-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},ji.prototype.match=function(r,a,p){if(typeof r=="string"){var d=function(R){return p?R.toLowerCase():R},b=this.string.substr(this.pos,r.length);if(d(b)==d(r))return a!==!1&&(this.pos+=r.length),!0}else{var C=this.string.slice(this.pos).match(r);return C&&C.index>0?null:(C&&a!==!1&&(this.pos+=C[0].length),C)}},ji.prototype.current=function(){return this.string.slice(this.start,this.pos)},ji.prototype.hideFirstChars=function(r,a){this.lineStart+=r;try{return a()}finally{this.lineStart-=r}},ji.prototype.lookAhead=function(r){var a=this.lineOracle;return a&&a.lookAhead(r)},ji.prototype.baseToken=function(){var r=this.lineOracle;return r&&r.baseToken(this.pos)};function Dt(r,a){if(a-=r.first,a<0||a>=r.size)throw new Error("There is no line "+(a+r.first)+" in the document.");for(var p=r;!p.lines;)for(var d=0;;++d){var b=p.children[d],C=b.chunkSize();if(a<C){p=b;break}a-=C}return p.lines[a]}function Zn(r,a,p){var d=[],b=a.line;return r.iter(a.line,p.line+1,function(C){var R=C.text;b==p.line&&(R=R.slice(0,p.ch)),b==a.line&&(R=R.slice(a.ch)),d.push(R),++b}),d}function ar(r,a,p){var d=[];return r.iter(a,p,function(b){d.push(b.text)}),d}function In(r,a){var p=a-r.height;if(p)for(var d=r;d;d=d.parent)d.height+=p}function J(r){if(r.parent==null)return null;for(var a=r.parent,p=Ze(a.lines,r),d=a.parent;d;a=d,d=d.parent)for(var b=0;d.children[b]!=a;++b)p+=d.children[b].chunkSize();return p+a.first}function xe(r,a){var p=r.first;e:do{for(var d=0;d<r.children.length;++d){var b=r.children[d],C=b.height;if(a<C){r=b;continue e}a-=C,p+=b.chunkSize()}return p}while(!r.lines);for(var R=0;R<r.lines.length;++R){var W=r.lines[R],G=W.height;if(a<G)break;a-=G}return p+R}function $e(r,a){return a>=r.first&&a<r.first+r.size}function nt(r,a){return String(r.lineNumberFormatter(a+r.firstLineNumber))}function je(r,a,p){if(p===void 0&&(p=null),!(this instanceof je))return new je(r,a,p);this.line=r,this.ch=a,this.sticky=p}function pt(r,a){return r.line-a.line||r.ch-a.ch}function ni(r,a){return r.sticky==a.sticky&&pt(r,a)==0}function Ui(r){return je(r.line,r.ch)}function Nt(r,a){return pt(r,a)<0?a:r}function li(r,a){return pt(r,a)<0?r:a}function po(r,a){return Math.max(r.first,Math.min(a,r.first+r.size-1))}function Wt(r,a){if(a.line<r.first)return je(r.first,0);var p=r.first+r.size-1;return a.line>p?je(p,Dt(r,p).text.length):ke(a,Dt(r,a.line).text.length)}function ke(r,a){var p=r.ch;return p==null||p>a?je(r.line,a):p<0?je(r.line,0):r}function _(r,a){for(var p=[],d=0;d<a.length;d++)p[d]=Wt(r,a[d]);return p}var T=function(r,a){this.state=r,this.lookAhead=a},N=function(r,a,p,d){this.state=a,this.doc=r,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};N.prototype.lookAhead=function(r){var a=this.doc.getLine(this.line+r);return a!=null&&r>this.maxLookAhead&&(this.maxLookAhead=r),a},N.prototype.baseToken=function(r){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=r;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-r}},N.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},N.fromSaved=function(r,a,p){return a instanceof T?new N(r,yn(r.mode,a.state),p,a.lookAhead):new N(r,yn(r.mode,a),p)},N.prototype.save=function(r){var a=r!==!1?yn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new T(a,this.maxLookAhead):a};function ie(r,a,p,d){var b=[r.state.modeGen],C={};hi(r,a.text,r.doc.mode,p,function(K,be){return b.push(K,be)},C,d);for(var R=p.state,W=function(K){p.baseTokens=b;var be=r.state.overlays[K],Ce=1,Ie=0;p.state=!0,hi(r,a.text,be.mode,p,function(Re,Ge){for(var rt=Ce;Ie<Re;){var dt=b[Ce];dt>Re&&b.splice(Ce,1,Re,b[Ce+1],dt),Ce+=2,Ie=Math.min(Re,dt)}if(Ge)if(be.opaque)b.splice(rt,Ce-rt,Re,"overlay "+Ge),Ce=rt+2;else for(;rt<Ce;rt+=2){var bt=b[rt+1];b[rt+1]=(bt?bt+" ":"")+"overlay "+Ge}},C),p.state=R,p.baseTokens=null,p.baseTokenPos=1},G=0;G<r.state.overlays.length;++G)W(G);return{styles:b,classes:C.bgClass||C.textClass?C:null}}function ae(r,a,p){if(!a.styles||a.styles[0]!=r.state.modeGen){var d=_e(r,J(a)),b=a.text.length>r.options.maxHighlightLength&&yn(r.doc.mode,d.state),C=ie(r,a,d);b&&(d.state=b),a.stateAfter=d.save(!b),a.styles=C.styles,C.classes?a.styleClasses=C.classes:a.styleClasses&&(a.styleClasses=null),p===r.doc.highlightFrontier&&(r.doc.modeFrontier=Math.max(r.doc.modeFrontier,++r.doc.highlightFrontier))}return a.styles}function _e(r,a,p){var d=r.doc,b=r.display;if(!d.mode.startState)return new N(d,!0,a);var C=fi(r,a,p),R=C>d.first&&Dt(d,C-1).stateAfter,W=R?N.fromSaved(d,R,C):new N(d,Xn(d.mode),C);return d.iter(C,a,function(G){Oe(r,G.text,W);var K=W.line;G.stateAfter=K==a-1||K%5==0||K>=b.viewFrom&&K<b.viewTo?W.save():null,W.nextLine()}),p&&(d.modeFrontier=W.line),W}function Oe(r,a,p,d){var b=r.doc.mode,C=new ji(a,r.options.tabSize,p);for(C.start=C.pos=d||0,a==""&&Je(b,p.state);!C.eol();)et(b,C,p.state),C.start=C.pos}function Je(r,a){if(r.blankLine)return r.blankLine(a);if(r.innerMode){var p=fo(r,a);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function et(r,a,p,d){for(var b=0;b<10;b++){d&&(d[0]=fo(r,p).mode);var C=r.token(a,p);if(a.pos>a.start)return C}throw new Error("Mode "+r.name+" failed to advance stream.")}var Ve=function(r,a,p){this.start=r.start,this.end=r.pos,this.string=r.current(),this.type=a||null,this.state=p};function Ke(r,a,p,d){var b=r.doc,C=b.mode,R;a=Wt(b,a);var W=Dt(b,a.line),G=_e(r,a.line,p),K=new ji(W.text,r.options.tabSize,G),be;for(d&&(be=[]);(d||K.pos<a.ch)&&!K.eol();)K.start=K.pos,R=et(C,K,G.state),d&&be.push(new Ve(K,R,yn(b.mode,G.state)));return d?be:new Ve(K,R,G.state)}function ht(r,a){if(r)for(;;){var p=r.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;r=r.slice(0,p.index)+r.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";a[d]==null?a[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(a[d])||(a[d]+=" "+p[2])}return r}function hi(r,a,p,d,b,C,R){var W=p.flattenSpans;W==null&&(W=r.options.flattenSpans);var G=0,K=null,be=new ji(a,r.options.tabSize,d),Ce,Ie=r.options.addModeClass&&[null];for(a==""&&ht(Je(p,d.state),C);!be.eol();){if(be.pos>r.options.maxHighlightLength?(W=!1,R&&Oe(r,a,d,be.pos),be.pos=a.length,Ce=null):Ce=ht(et(p,be,d.state,Ie),C),Ie){var Re=Ie[0].name;Re&&(Ce="m-"+(Ce?Re+" "+Ce:Re))}if(!W||K!=Ce){for(;G<be.start;)G=Math.min(be.start,G+5e3),b(G,K);K=Ce}be.start=be.pos}for(;G<be.pos;){var Ge=Math.min(be.pos,G+5e3);b(Ge,K),G=Ge}}function fi(r,a,p){for(var d,b,C=r.doc,R=p?-1:a-(r.doc.mode.innerMode?1e3:100),W=a;W>R;--W){if(W<=C.first)return C.first;var G=Dt(C,W-1),K=G.stateAfter;if(K&&(!p||W+(K instanceof T?K.lookAhead:0)<=C.modeFrontier))return W;var be=qe(G.text,null,r.options.tabSize);(b==null||d>be)&&(b=W-1,d=be)}return b}function Wi(r,a){if(r.modeFrontier=Math.min(r.modeFrontier,a),!(r.highlightFrontier<a-10)){for(var p=r.first,d=a-1;d>p;d--){var b=Dt(r,d).stateAfter;if(b&&(!(b instanceof T)||d+b.lookAhead<a)){p=d+1;break}}r.highlightFrontier=Math.min(r.highlightFrontier,p)}}var Ei=!1,Pi=!1;function fn(){Ei=!0}function Rt(){Pi=!0}function on(r,a,p){this.marker=r,this.from=a,this.to=p}function ri(r,a){if(r)for(var p=0;p<r.length;++p){var d=r[p];if(d.marker==a)return d}}function gt(r,a){for(var p,d=0;d<r.length;++d)r[d]!=a&&(p||(p=[])).push(r[d]);return p}function xi(r,a,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&r.markedSpans&&d.has(r.markedSpans)?r.markedSpans.push(a):(r.markedSpans=r.markedSpans?r.markedSpans.concat([a]):[a],d&&d.add(r.markedSpans)),a.marker.attachLine(r)}function an(r,a,p){var d;if(r)for(var b=0;b<r.length;++b){var C=r[b],R=C.marker,W=C.from==null||(R.inclusiveLeft?C.from<=a:C.from<a);if(W||C.from==a&&R.type=="bookmark"&&(!p||!C.marker.insertLeft)){var G=C.to==null||(R.inclusiveRight?C.to>=a:C.to>a);(d||(d=[])).push(new on(R,C.from,G?null:C.to))}}return d}function sr(r,a,p){var d;if(r)for(var b=0;b<r.length;++b){var C=r[b],R=C.marker,W=C.to==null||(R.inclusiveRight?C.to>=a:C.to>a);if(W||C.from==a&&R.type=="bookmark"&&(!p||C.marker.insertLeft)){var G=C.from==null||(R.inclusiveLeft?C.from<=a:C.from<a);(d||(d=[])).push(new on(R,G?null:C.from-a,C.to==null?null:C.to-a))}}return d}function An(r,a){if(a.full)return null;var p=$e(r,a.from.line)&&Dt(r,a.from.line).markedSpans,d=$e(r,a.to.line)&&Dt(r,a.to.line).markedSpans;if(!p&&!d)return null;var b=a.from.ch,C=a.to.ch,R=pt(a.from,a.to)==0,W=an(p,b,R),G=sr(d,C,R),K=a.text.length==1,be=X(a.text).length+(K?b:0);if(W)for(var Ce=0;Ce<W.length;++Ce){var Ie=W[Ce];if(Ie.to==null){var Re=ri(G,Ie.marker);Re?K&&(Ie.to=Re.to==null?null:Re.to+be):Ie.to=b}}if(G)for(var Ge=0;Ge<G.length;++Ge){var rt=G[Ge];if(rt.to!=null&&(rt.to+=be),rt.from==null){var dt=ri(W,rt.marker);dt||(rt.from=be,K&&(W||(W=[])).push(rt))}else rt.from+=be,K&&(W||(W=[])).push(rt)}W&&(W=Ur(W)),G&&G!=W&&(G=Ur(G));var bt=[W];if(!K){var yt=a.text.length-2,vt;if(yt>0&&W)for(var Tt=0;Tt<W.length;++Tt)W[Tt].to==null&&(vt||(vt=[])).push(new on(W[Tt].marker,null,null));for(var Bt=0;Bt<yt;++Bt)bt.push(vt);bt.push(G)}return bt}function Ur(r){for(var a=0;a<r.length;++a){var p=r[a];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&r.splice(a--,1)}return r.length?r:null}function Ir(r,a,p){var d=null;if(r.iter(a.line,p.line+1,function(Re){if(Re.markedSpans)for(var Ge=0;Ge<Re.markedSpans.length;++Ge){var rt=Re.markedSpans[Ge].marker;rt.readOnly&&(!d||Ze(d,rt)==-1)&&(d||(d=[])).push(rt)}}),!d)return null;for(var b=[{from:a,to:p}],C=0;C<d.length;++C)for(var R=d[C],W=R.find(0),G=0;G<b.length;++G){var K=b[G];if(!(pt(K.to,W.from)<0||pt(K.from,W.to)>0)){var be=[G,1],Ce=pt(K.from,W.from),Ie=pt(K.to,W.to);(Ce<0||!R.inclusiveLeft&&!Ce)&&be.push({from:K.from,to:W.from}),(Ie>0||!R.inclusiveRight&&!Ie)&&be.push({from:W.to,to:K.to}),b.splice.apply(b,be),G+=be.length-3}}return b}function Xt(r){var a=r.markedSpans;if(a){for(var p=0;p<a.length;++p)a[p].marker.detachLine(r);r.markedSpans=null}}function oi(r,a){if(a){for(var p=0;p<a.length;++p)a[p].marker.attachLine(r);r.markedSpans=a}}function wn(r){return r.inclusiveLeft?-1:0}function zr(r){return r.inclusiveRight?1:0}function Xo(r,a){var p=r.lines.length-a.lines.length;if(p!=0)return p;var d=r.find(),b=a.find(),C=pt(d.from,b.from)||wn(r)-wn(a);if(C)return-C;var R=pt(d.to,b.to)||zr(r)-zr(a);return R||a.id-r.id}function _a(r,a){var p=Pi&&r.markedSpans,d;if(p)for(var b=void 0,C=0;C<p.length;++C)b=p[C],b.marker.collapsed&&(a?b.from:b.to)==null&&(!d||Xo(d,b.marker)<0)&&(d=b.marker);return d}function Zo(r){return _a(r,!0)}function ya(r){return _a(r,!1)}function Ba(r,a){var p=Pi&&r.markedSpans,d;if(p)for(var b=0;b<p.length;++b){var C=p[b];C.marker.collapsed&&(C.from==null||C.from<a)&&(C.to==null||C.to>a)&&(!d||Xo(d,C.marker)<0)&&(d=C.marker)}return d}function gi(r,a,p,d,b){var C=Dt(r,a),R=Pi&&C.markedSpans;if(R)for(var W=0;W<R.length;++W){var G=R[W];if(G.marker.collapsed){var K=G.marker.find(0),be=pt(K.from,p)||wn(G.marker)-wn(b),Ce=pt(K.to,d)||zr(G.marker)-zr(b);if(!(be>=0&&Ce<=0||be<=0&&Ce>=0)&&(be<=0&&(G.marker.inclusiveRight&&b.inclusiveLeft?pt(K.to,p)>=0:pt(K.to,p)>0)||be>=0&&(G.marker.inclusiveRight&&b.inclusiveLeft?pt(K.from,d)<=0:pt(K.from,d)<0)))return!0}}}function Ni(r){for(var a;a=Zo(r);)r=a.find(-1,!0).line;return r}function br(r){for(var a;a=ya(r);)r=a.find(1,!0).line;return r}function Br(r){for(var a,p;a=ya(r);)r=a.find(1,!0).line,(p||(p=[])).push(r);return p}function vs(r,a){var p=Dt(r,a),d=Ni(p);return p==d?a:J(d)}function qs(r,a){if(a>r.lastLine())return a;var p=Dt(r,a),d;if(!dn(r,p))return a;for(;d=ya(p);)p=d.find(1,!0).line;return J(p)+1}function dn(r,a){var p=Pi&&a.markedSpans;if(p){for(var d=void 0,b=0;b<p.length;++b)if(d=p[b],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&js(r,a,d))return!0}}}function js(r,a,p){if(p.to==null){var d=p.marker.find(1,!0);return js(r,d.line,ri(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==a.text.length)return!0;for(var b=void 0,C=0;C<a.markedSpans.length;++C)if(b=a.markedSpans[C],b.marker.collapsed&&!b.marker.widgetNode&&b.from==p.to&&(b.to==null||b.to!=p.from)&&(b.marker.inclusiveLeft||p.marker.inclusiveRight)&&js(r,a,b))return!0}function no(r){r=Ni(r);for(var a=0,p=r.parent,d=0;d<p.lines.length;++d){var b=p.lines[d];if(b==r)break;a+=b.height}for(var C=p.parent;C;p=C,C=p.parent)for(var R=0;R<C.children.length;++R){var W=C.children[R];if(W==p)break;a+=W.height}return a}function bs(r){if(r.height==0)return 0;for(var a=r.text.length,p,d=r;p=Zo(d);){var b=p.find(0,!0);d=b.from.line,a+=b.from.ch-b.to.ch}for(d=r;p=ya(d);){var C=p.find(0,!0);a-=d.text.length-C.from.ch,d=C.to.line,a+=d.text.length-C.to.ch}return a}function Us(r){var a=r.display,p=r.doc;a.maxLine=Dt(p,p.first),a.maxLineLength=bs(a.maxLine),a.maxLineChanged=!0,p.iter(function(d){var b=bs(d);b>a.maxLineLength&&(a.maxLineLength=b,a.maxLine=d)})}var To=function(r,a,p){this.text=r,oi(this,a),this.height=p?p(this):1};To.prototype.lineNo=function(){return J(this)},si(To);function bl(r,a,p,d){r.text=a,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),r.order!=null&&(r.order=null),Xt(r),oi(r,p);var b=d?d(r):1;b!=r.height&&In(r,b)}function ln(r){r.parent=null,Xt(r)}var pc={},Hr={};function Ao(r,a){if(!r||/^\s*$/.test(r))return null;var p=a.addModeClass?Hr:pc;return p[r]||(p[r]=r.replace(/\S+/g,"cm-$&"))}function Ys(r,a){var p=se("span",null,null,w?"padding-right: .1px":null),d={pre:se("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:r,trailingSpace:!1,splitSpaces:r.getOption("lineWrapping")};a.measure={};for(var b=0;b<=(a.rest?a.rest.length:0);b++){var C=b?a.rest[b-1]:a.line,R=void 0;d.pos=0,d.addToken=Ha,Yn(r.display.measure)&&(R=Ut(C,r.doc.direction))&&(d.addToken=en(d.addToken,R)),d.map=[];var W=a!=r.display.externalMeasured&&J(C);Bu(C,d,ae(r,C,W)),C.styleClasses&&(C.styleClasses.bgClass&&(d.bgClass=Me(C.styleClasses.bgClass,d.bgClass||"")),C.styleClasses.textClass&&(d.textClass=Me(C.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(Ot(r.display.measure))),b==0?(a.measure.map=d.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(d.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(w){var G=d.content.lastChild;(/\bcm-tab\b/.test(G.className)||G.querySelector&&G.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Fi(r,"renderLine",r,a.line,d.pre),d.pre.className&&(d.textClass=Me(d.pre.className,d.textClass||"")),d}function Lo(r){var a=P("span","","cm-invalidchar");return a.title="\\u"+r.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function Ha(r,a,p,d,b,C,R){if(a){var W=r.splitSpaces?zu(a,r.trailingSpace):a,G=r.cm.state.specialChars,K=!1,be;if(!G.test(a))r.col+=a.length,be=document.createTextNode(W),r.map.push(r.pos,r.pos+a.length,be),v&&x<9&&(K=!0),r.pos+=a.length;else{be=document.createDocumentFragment();for(var Ce=0;;){G.lastIndex=Ce;var Ie=G.exec(a),Re=Ie?Ie.index-Ce:a.length-Ce;if(Re){var Ge=document.createTextNode(W.slice(Ce,Ce+Re));v&&x<9?be.appendChild(P("span",[Ge])):be.appendChild(Ge),r.map.push(r.pos,r.pos+Re,Ge),r.col+=Re,r.pos+=Re}if(!Ie)break;Ce+=Re+1;var rt=void 0;if(Ie[0]=="	"){var dt=r.cm.options.tabSize,bt=dt-r.col%dt;rt=be.appendChild(P("span",Kt(bt),"cm-tab")),rt.setAttribute("role","presentation"),rt.setAttribute("cm-text","	"),r.col+=bt}else Ie[0]=="\r"||Ie[0]==`
`?(rt=be.appendChild(P("span",Ie[0]=="\r"?"":"","cm-invalidchar")),rt.setAttribute("cm-text",Ie[0]),r.col+=1):(rt=r.cm.options.specialCharPlaceholder(Ie[0]),rt.setAttribute("cm-text",Ie[0]),v&&x<9?be.appendChild(P("span",[rt])):be.appendChild(rt),r.col+=1);r.map.push(r.pos,r.pos+1,rt),r.pos++}}if(r.trailingSpace=W.charCodeAt(a.length-1)==32,p||d||b||K||C||R){var yt=p||"";d&&(yt+=d),b&&(yt+=b);var vt=P("span",[be],yt,C);if(R)for(var Tt in R)R.hasOwnProperty(Tt)&&Tt!="style"&&Tt!="class"&&vt.setAttribute(Tt,R[Tt]);return r.content.appendChild(vt)}r.content.appendChild(be)}}function zu(r,a){if(r.length>1&&!/  /.test(r))return r;for(var p=a,d="",b=0;b<r.length;b++){var C=r.charAt(b);C==" "&&p&&(b==r.length-1||r.charCodeAt(b+1)==32)&&(C=""),d+=C,p=C==" "}return d}function en(r,a){return function(p,d,b,C,R,W,G){b=b?b+" cm-force-border":"cm-force-border";for(var K=p.pos,be=K+d.length;;){for(var Ce=void 0,Ie=0;Ie<a.length&&(Ce=a[Ie],!(Ce.to>K&&Ce.from<=K));Ie++);if(Ce.to>=be)return r(p,d,b,C,R,W,G);r(p,d.slice(0,Ce.to-K),b,C,null,W,G),C=null,d=d.slice(Ce.to-K),K=Ce.to}}}function mo(r,a,p,d){var b=!d&&p.widgetNode;b&&r.map.push(r.pos,r.pos+a,b),!d&&r.cm.display.input.needsContentAttribute&&(b||(b=r.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",p.id)),b&&(r.cm.display.input.setUneditable(b),r.content.appendChild(b)),r.pos+=a,r.trailingSpace=!1}function Bu(r,a,p){var d=r.markedSpans,b=r.text,C=0;if(!d){for(var R=1;R<p.length;R+=2)a.addToken(a,b.slice(C,C=p[R]),Ao(p[R+1],a.cm.options));return}for(var W=b.length,G=0,K=1,be="",Ce,Ie,Re=0,Ge,rt,dt,bt,yt;;){if(Re==G){Ge=rt=dt=Ie="",yt=null,bt=null,Re=1/0;for(var vt=[],Tt=void 0,Bt=0;Bt<d.length;++Bt){var It=d[Bt],ci=It.marker;if(ci.type=="bookmark"&&It.from==G&&ci.widgetNode)vt.push(ci);else if(It.from<=G&&(It.to==null||It.to>G||ci.collapsed&&It.to==G&&It.from==G)){if(It.to!=null&&It.to!=G&&Re>It.to&&(Re=It.to,rt=""),ci.className&&(Ge+=" "+ci.className),ci.css&&(Ie=(Ie?Ie+";":"")+ci.css),ci.startStyle&&It.from==G&&(dt+=" "+ci.startStyle),ci.endStyle&&It.to==Re&&(Tt||(Tt=[])).push(ci.endStyle,It.to),ci.title&&((yt||(yt={})).title=ci.title),ci.attributes)for(var Yi in ci.attributes)(yt||(yt={}))[Yi]=ci.attributes[Yi];ci.collapsed&&(!bt||Xo(bt.marker,ci)<0)&&(bt=It)}else It.from>G&&Re>It.from&&(Re=It.from)}if(Tt)for(var Cn=0;Cn<Tt.length;Cn+=2)Tt[Cn+1]==Re&&(rt+=" "+Tt[Cn]);if(!bt||bt.from==G)for(var sn=0;sn<vt.length;++sn)mo(a,0,vt[sn]);if(bt&&(bt.from||0)==G){if(mo(a,(bt.to==null?W+1:bt.to)-G,bt.marker,bt.from==null),bt.to==null)return;bt.to==G&&(bt=!1)}}if(G>=W)break;for(var vn=Math.min(W,Re);;){if(be){var Dn=G+be.length;if(!bt){var Mn=Dn>vn?be.slice(0,vn-G):be;a.addToken(a,Mn,Ce?Ce+Ge:Ge,dt,G+Mn.length==Re?rt:"",Ie,yt)}if(Dn>=vn){be=be.slice(vn-G),G=vn;break}G=Dn,dt=""}be=b.slice(C,C=p[K++]),Ce=Ao(p[K++],a.cm.options)}}}function _l(r,a,p){this.line=a,this.rest=Br(a),this.size=this.rest?J(X(this.rest))-p+1:1,this.node=this.text=null,this.hidden=dn(r,a)}function Vo(r,a,p){for(var d=[],b,C=a;C<p;C=b){var R=new _l(r.doc,Dt(r.doc,C),C);b=C+R.size,d.push(R)}return d}var $a=null;function yl(r){$a?$a.ops.push(r):r.ownsGroup=$a={ops:[r],delayedCallbacks:[]}}function wl(r){var a=r.delayedCallbacks,p=0;do{for(;p<a.length;p++)a[p].call(null);for(var d=0;d<r.ops.length;d++){var b=r.ops[d];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(p<a.length)}function _s(r,a){var p=r.ownsGroup;if(p)try{wl(p)}finally{$a=null,a(p)}}var Cr=null;function tn(r,a){var p=un(r,a);if(p.length){var d=Array.prototype.slice.call(arguments,2),b;$a?b=$a.delayedCallbacks:Cr?b=Cr:(b=Cr=[],setTimeout(ys,0));for(var C=function(W){b.push(function(){return p[W].apply(null,d)})},R=0;R<p.length;++R)C(R)}}function ys(){var r=Cr;Cr=null;for(var a=0;a<r.length;++a)r[a]()}function Er(r,a,p,d){for(var b=0;b<a.changes.length;b++){var C=a.changes[b];C=="text"?Zs(r,a):C=="gutter"?Vs(r,a,p,d):C=="class"?ws(r,a):C=="widget"&&Hu(r,a,d)}a.changes=null}function wa(r){return r.node==r.text&&(r.node=P("div",null,null,"position: relative"),r.text.parentNode&&r.text.parentNode.replaceChild(r.node,r.text),r.node.appendChild(r.text),v&&x<8&&(r.node.style.zIndex=2)),r.node}function Gs(r,a){var p=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),a.background)p?a.background.className=p:(a.background.parentNode.removeChild(a.background),a.background=null);else if(p){var d=wa(a);a.background=d.insertBefore(P("div",null,p),d.firstChild),r.display.input.setUneditable(a.background)}}function Xs(r,a){var p=r.display.externalMeasured;return p&&p.line==a.line?(r.display.externalMeasured=null,a.measure=p.measure,p.built):Ys(r,a)}function Zs(r,a){var p=a.text.className,d=Xs(r,a);a.text==a.node&&(a.node=d.pre),a.text.parentNode.replaceChild(d.pre,a.text),a.text=d.pre,d.bgClass!=a.bgClass||d.textClass!=a.textClass?(a.bgClass=d.bgClass,a.textClass=d.textClass,ws(r,a)):p&&(a.text.className=p)}function ws(r,a){Gs(r,a),a.line.wrapClass?wa(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var p=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=p||""}function Vs(r,a,p,d){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var b=wa(a);a.gutterBackground=P("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),r.display.input.setUneditable(a.gutterBackground),b.insertBefore(a.gutterBackground,a.text)}var C=a.line.gutterMarkers;if(r.options.lineNumbers||C){var R=wa(a),W=a.gutter=P("div",null,"CodeMirror-gutter-wrapper","left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(W.setAttribute("aria-hidden","true"),r.display.input.setUneditable(W),R.insertBefore(W,a.text),a.line.gutterClass&&(W.className+=" "+a.line.gutterClass),r.options.lineNumbers&&(!C||!C["CodeMirror-linenumbers"])&&(a.lineNumber=W.appendChild(P("div",nt(r.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+r.display.lineNumInnerWidth+"px"))),C)for(var G=0;G<r.display.gutterSpecs.length;++G){var K=r.display.gutterSpecs[G].className,be=C.hasOwnProperty(K)&&C[K];be&&W.appendChild(P("div",[be],"CodeMirror-gutter-elt","left: "+d.gutterLeft[K]+"px; width: "+d.gutterWidth[K]+"px"))}}}function Hu(r,a,p){a.alignable&&(a.alignable=null);for(var d=he("CodeMirror-linewidget"),b=a.node.firstChild,C=void 0;b;b=C)C=b.nextSibling,d.test(b.className)&&a.node.removeChild(b);$u(r,a,p)}function xl(r,a,p,d){var b=Xs(r,a);return a.text=a.node=b.pre,b.bgClass&&(a.bgClass=b.bgClass),b.textClass&&(a.textClass=b.textClass),ws(r,a),Vs(r,a,p,d),$u(r,a,d),a.node}function $u(r,a,p){if(nn(r,a.line,a,p,!0),a.rest)for(var d=0;d<a.rest.length;d++)nn(r,a.rest[d],a,p,!1)}function nn(r,a,p,d,b){if(a.widgets)for(var C=wa(p),R=0,W=a.widgets;R<W.length;++R){var G=W[R],K=P("div",[G.node],"CodeMirror-linewidget"+(G.className?" "+G.className:""));G.handleMouseEvents||K.setAttribute("cm-ignore-events","true"),Ko(G,K,p,d),r.display.input.setUneditable(K),b&&G.above?C.insertBefore(K,p.gutter||p.text):C.appendChild(K),tn(G,"redraw")}}function Ko(r,a,p,d){if(r.noHScroll){(p.alignable||(p.alignable=[])).push(a);var b=d.wrapperWidth;a.style.left=d.fixedPos+"px",r.coverGutter||(b-=d.gutterTotalWidth,a.style.paddingLeft=d.gutterTotalWidth+"px"),a.style.width=b+"px"}r.coverGutter&&(a.style.zIndex=5,a.style.position="relative",r.noHScroll||(a.style.marginLeft=-d.gutterTotalWidth+"px"))}function Do(r){if(r.height!=null)return r.height;var a=r.doc.cm;if(!a)return 0;if(!Ee(document.body,r.node)){var p="position: relative;";r.coverGutter&&(p+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),r.noHScroll&&(p+="width: "+a.display.wrapper.clientWidth+"px;"),re(a.display.measure,P("div",[r.node],null,p))}return r.height=r.node.parentNode.offsetHeight}function zn(r,a){for(var p=$i(a);p!=r.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==r.sizer&&p!=r.mover)return!0}function xs(r){return r.lineSpace.offsetTop}function Qo(r){return r.mover.offsetHeight-r.lineSpace.offsetHeight}function kl(r){if(r.cachedPaddingH)return r.cachedPaddingH;var a=re(r.measure,P("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(r.cachedPaddingH=d),d}function Sr(r){return ut-r.display.nativeBarWidth}function Jo(r){return r.display.scroller.clientWidth-Sr(r)-r.display.barWidth}function Wa(r){return r.display.scroller.clientHeight-Sr(r)-r.display.barHeight}function qa(r,a,p){var d=r.options.lineWrapping,b=d&&Jo(r);if(!a.measure.heights||d&&a.measure.width!=b){var C=a.measure.heights=[];if(d){a.measure.width=b;for(var R=a.text.firstChild.getClientRects(),W=0;W<R.length-1;W++){var G=R[W],K=R[W+1];Math.abs(G.bottom-K.bottom)>2&&C.push((G.bottom+K.top)/2-p.top)}}C.push(p.bottom-p.top)}}function Mo(r,a,p){if(r.line==a)return{map:r.measure.map,cache:r.measure.cache};if(r.rest){for(var d=0;d<r.rest.length;d++)if(r.rest[d]==a)return{map:r.measure.maps[d],cache:r.measure.caches[d]};for(var b=0;b<r.rest.length;b++)if(J(r.rest[b])>p)return{map:r.measure.maps[b],cache:r.measure.caches[b],before:!0}}}function Ks(r,a){a=Ni(a);var p=J(a),d=r.display.externalMeasured=new _l(r.doc,a,p);d.lineN=p;var b=d.built=Ys(r,d);return d.text=b.pre,re(r.display.lineMeasure,b.pre),d}function Qs(r,a,p,d){return pn(r,$r(r,a),p,d)}function ja(r,a){if(a>=r.display.viewFrom&&a<r.display.viewTo)return r.display.view[ia(r,a)];var p=r.display.externalMeasured;if(p&&a>=p.lineN&&a<p.lineN+p.size)return p}function $r(r,a){var p=J(a),d=ja(r,p);d&&!d.text?d=null:d&&d.changes&&(Er(r,d,p,Ua(r)),r.curOp.forceUpdate=!0),d||(d=Ks(r,a));var b=Mo(d,a,p);return{line:a,view:d,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function pn(r,a,p,d,b){a.before&&(p=-1);var C=p+(d||""),R;return a.cache.hasOwnProperty(C)?R=a.cache[C]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(qa(r,a.view,a.rect),a.hasHeights=!0),R=Tr(r,a,p,d),R.bogus||(a.cache[C]=R)),{left:R.left,right:R.right,top:b?R.rtop:R.top,bottom:b?R.rbottom:R.bottom}}var Cl={left:0,right:0,top:0,bottom:0};function xa(r,a,p){for(var d,b,C,R,W,G,K=0;K<r.length;K+=3)if(W=r[K],G=r[K+1],a<W?(b=0,C=1,R="left"):a<G?(b=a-W,C=b+1):(K==r.length-3||a==G&&r[K+3]>a)&&(C=G-W,b=C-1,a>=G&&(R="right")),b!=null){if(d=r[K+2],W==G&&p==(d.insertLeft?"left":"right")&&(R=p),p=="left"&&b==0)for(;K&&r[K-2]==r[K-3]&&r[K-1].insertLeft;)d=r[(K-=3)+2],R="left";if(p=="right"&&b==G-W)for(;K<r.length-3&&r[K+3]==r[K+4]&&!r[K+5].insertLeft;)d=r[(K+=3)+2],R="right";break}return{node:d,start:b,end:C,collapse:R,coverStart:W,coverEnd:G}}function mc(r,a){var p=Cl;if(a=="left")for(var d=0;d<r.length&&(p=r[d]).left==p.right;d++);else for(var b=r.length-1;b>=0&&(p=r[b]).left==p.right;b--);return p}function Tr(r,a,p,d){var b=xa(a.map,p,d),C=b.node,R=b.start,W=b.end,G=b.collapse,K;if(C.nodeType==3){for(var be=0;be<4;be++){for(;R&&ct(a.line.text.charAt(b.coverStart+R));)--R;for(;b.coverStart+W<b.coverEnd&&ct(a.line.text.charAt(b.coverStart+W));)++W;if(v&&x<9&&R==0&&W==b.coverEnd-b.coverStart?K=C.parentNode.getBoundingClientRect():K=mc(ye(C,R,W).getClientRects(),d),K.left||K.right||R==0)break;W=R,R=R-1,G="right"}v&&x<11&&(K=Ar(r.display.measure,K))}else{R>0&&(G=d="right");var Ce;r.options.lineWrapping&&(Ce=C.getClientRects()).length>1?K=Ce[d=="right"?Ce.length-1:0]:K=C.getBoundingClientRect()}if(v&&x<9&&!R&&(!K||!K.left&&!K.right)){var Ie=C.parentNode.getClientRects()[0];Ie?K={left:Ie.left,right:Ie.left+bo(r.display),top:Ie.top,bottom:Ie.bottom}:K=Cl}for(var Re=K.top-a.rect.top,Ge=K.bottom-a.rect.top,rt=(Re+Ge)/2,dt=a.view.measure.heights,bt=0;bt<dt.length-1&&!(rt<dt[bt]);bt++);var yt=bt?dt[bt-1]:0,vt=dt[bt],Tt={left:(G=="right"?K.right:K.left)-a.rect.left,right:(G=="left"?K.left:K.right)-a.rect.left,top:yt,bottom:vt};return!K.left&&!K.right&&(Tt.bogus=!0),r.options.singleCursorHeightPerLine||(Tt.rtop=Re,Tt.rbottom=Ge),Tt}function Ar(r,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ji(r))return a;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*p,right:a.right*p,top:a.top*d,bottom:a.bottom*d}}function Js(r){if(r.measure&&(r.measure.cache={},r.measure.heights=null,r.rest))for(var a=0;a<r.rest.length;a++)r.measure.caches[a]={}}function eu(r){r.display.externalMeasure=null,ve(r.display.lineMeasure);for(var a=0;a<r.display.view.length;a++)Js(r.display.view[a])}function ea(r){eu(r),r.display.cachedCharWidth=r.display.cachedTextHeight=r.display.cachedPaddingH=null,r.options.lineWrapping||(r.display.maxLineChanged=!0),r.display.lineNumChars=null}function tu(r){return O&&D?-(r.body.getBoundingClientRect().left-parseInt(getComputedStyle(r.body).marginLeft)):r.defaultView.pageXOffset||(r.documentElement||r.body).scrollLeft}function ks(r){return O&&D?-(r.body.getBoundingClientRect().top-parseInt(getComputedStyle(r.body).marginTop)):r.defaultView.pageYOffset||(r.documentElement||r.body).scrollTop}function ta(r){var a=Ni(r),p=a.widgets,d=0;if(p)for(var b=0;b<p.length;++b)p[b].above&&(d+=Do(p[b]));return d}function Yr(r,a,p,d,b){if(!b){var C=ta(a);p.top+=C,p.bottom+=C}if(d=="line")return p;d||(d="local");var R=no(a);if(d=="local"?R+=xs(r.display):R-=r.display.viewOffset,d=="page"||d=="window"){var W=r.display.lineSpace.getBoundingClientRect();R+=W.top+(d=="window"?0:ks(Y(r)));var G=W.left+(d=="window"?0:tu(Y(r)));p.left+=G,p.right+=G}return p.top+=R,p.bottom+=R,p}function Ne(r,a,p){if(p=="div")return a;var d=a.left,b=a.top;if(p=="page")d-=tu(Y(r)),b-=ks(Y(r));else if(p=="local"||!p){var C=r.display.sizer.getBoundingClientRect();d+=C.left,b+=C.top}var R=r.display.lineSpace.getBoundingClientRect();return{left:d-R.left,top:b-R.top}}function tt(r,a,p,d,b){return d||(d=Dt(r.doc,a.line)),Yr(r,d,Qs(r,d,a.ch,b),p)}function Ue(r,a,p,d,b,C){d=d||Dt(r.doc,a.line),b||(b=$r(r,d));function R(Ge,rt){var dt=pn(r,b,Ge,rt?"right":"left",C);return rt?dt.left=dt.right:dt.right=dt.left,Yr(r,d,dt,p)}var W=Ut(d,r.doc.direction),G=a.ch,K=a.sticky;if(G>=d.text.length?(G=d.text.length,K="before"):G<=0&&(G=0,K="after"),!W)return R(K=="before"?G-1:G,K=="before");function be(Ge,rt,dt){var bt=W[rt],yt=bt.level==1;return R(dt?Ge-1:Ge,yt!=dt)}var Ce=xt(W,G,K),Ie=Vt,Re=be(G,Ce,K=="before");return Ie!=null&&(Re.other=be(G,Ie,K!="before")),Re}function At(r,a){var p=0;a=Wt(r.doc,a),r.options.lineWrapping||(p=bo(r.display)*a.ch);var d=Dt(r.doc,a.line),b=no(d)+xs(r.display);return{left:p,right:p,top:b,bottom:b+d.height}}function Jt(r,a,p,d,b){var C=je(r,a,p);return C.xRel=b,d&&(C.outside=d),C}function Si(r,a,p){var d=r.doc;if(p+=r.display.viewOffset,p<0)return Jt(d.first,0,null,-1,-1);var b=xe(d,p),C=d.first+d.size-1;if(b>C)return Jt(d.first+d.size-1,Dt(d,C).text.length,null,1,1);a<0&&(a=0);for(var R=Dt(d,b);;){var W=go(r,R,b,a,p),G=Ba(R,W.ch+(W.xRel>0||W.outside>0?1:0));if(!G)return W;var K=G.find(1);if(K.line==b)return K;R=Dt(d,b=K.line)}}function xn(r,a,p,d){d-=ta(a);var b=a.text.length,C=Yt(function(R){return pn(r,p,R-1).bottom<=d},b,0);return b=Yt(function(R){return pn(r,p,R).top>d},C,b),{begin:C,end:b}}function qi(r,a,p,d){p||(p=$r(r,a));var b=Yr(r,a,pn(r,p,d),"line").top;return xn(r,a,p,b)}function Cs(r,a,p,d){return r.bottom<=p?!1:r.top>p?!0:(d?r.left:r.right)>a}function go(r,a,p,d,b){b-=no(a);var C=$r(r,a),R=ta(a),W=0,G=a.text.length,K=!0,be=Ut(a,r.doc.direction);if(be){var Ce=(r.options.lineWrapping?iu:_r)(r,a,p,C,be,d,b);K=Ce.level!=1,W=K?Ce.from:Ce.to-1,G=K?Ce.to:Ce.from-1}var Ie=null,Re=null,Ge=Yt(function(Bt){var It=pn(r,C,Bt);return It.top+=R,It.bottom+=R,Cs(It,d,b,!1)?(It.top<=b&&It.left<=d&&(Ie=Bt,Re=It),!0):!1},W,G),rt,dt,bt=!1;if(Re){var yt=d-Re.left<Re.right-d,vt=yt==K;Ge=Ie+(vt?0:1),dt=vt?"after":"before",rt=yt?Re.left:Re.right}else{!K&&(Ge==G||Ge==W)&&Ge++,dt=Ge==0?"after":Ge==a.text.length?"before":pn(r,C,Ge-(K?1:0)).bottom+R<=b==K?"after":"before";var Tt=Ue(r,je(p,Ge,dt),"line",a,C);rt=Tt.left,bt=b<Tt.top?-1:b>=Tt.bottom?1:0}return Ge=$t(a.text,Ge,1),Jt(p,Ge,dt,bt,d-rt)}function _r(r,a,p,d,b,C,R){var W=Yt(function(Ce){var Ie=b[Ce],Re=Ie.level!=1;return Cs(Ue(r,je(p,Re?Ie.to:Ie.from,Re?"before":"after"),"line",a,d),C,R,!0)},0,b.length-1),G=b[W];if(W>0){var K=G.level!=1,be=Ue(r,je(p,K?G.from:G.to,K?"after":"before"),"line",a,d);Cs(be,C,R,!0)&&be.top>R&&(G=b[W-1])}return G}function iu(r,a,p,d,b,C,R){var W=xn(r,a,d,R),G=W.begin,K=W.end;/\s/.test(a.text.charAt(K-1))&&K--;for(var be=null,Ce=null,Ie=0;Ie<b.length;Ie++){var Re=b[Ie];if(!(Re.from>=K||Re.to<=G)){var Ge=Re.level!=1,rt=pn(r,d,Ge?Math.min(K,Re.to)-1:Math.max(G,Re.from)).right,dt=rt<C?C-rt+1e9:rt-C;(!be||Ce>dt)&&(be=Re,Ce=dt)}}return be||(be=b[b.length-1]),be.from<G&&(be={from:G,to:be.to,level:be.level}),be.to>K&&(be={from:be.from,to:K,level:be.level}),be}var vo;function ro(r){if(r.cachedTextHeight!=null)return r.cachedTextHeight;if(vo==null){vo=P("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)vo.appendChild(document.createTextNode("x")),vo.appendChild(P("br"));vo.appendChild(document.createTextNode("x"))}re(r.measure,vo);var p=vo.offsetHeight/50;return p>3&&(r.cachedTextHeight=p),ve(r.measure),p||1}function bo(r){if(r.cachedCharWidth!=null)return r.cachedCharWidth;var a=P("span","xxxxxxxxxx"),p=P("pre",[a],"CodeMirror-line-like");re(r.measure,p);var d=a.getBoundingClientRect(),b=(d.right-d.left)/10;return b>2&&(r.cachedCharWidth=b),b||10}function Ua(r){for(var a=r.display,p={},d={},b=a.gutters.clientLeft,C=a.gutters.firstChild,R=0;C;C=C.nextSibling,++R){var W=r.display.gutterSpecs[R].className;p[W]=C.offsetLeft+C.clientLeft+b,d[W]=C.clientWidth}return{fixedPos:Ci(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:a.wrapper.clientWidth}}function Ci(r){return r.scroller.getBoundingClientRect().left-r.sizer.getBoundingClientRect().left}function El(r){var a=ro(r.display),p=r.options.lineWrapping,d=p&&Math.max(5,r.display.scroller.clientWidth/bo(r.display)-3);return function(b){if(dn(r.doc,b))return 0;var C=0;if(b.widgets)for(var R=0;R<b.widgets.length;R++)b.widgets[R].height&&(C+=b.widgets[R].height);return p?C+(Math.ceil(b.text.length/d)||1)*a:C+a}}function Po(r){var a=r.doc,p=El(r);a.iter(function(d){var b=p(d);b!=d.height&&In(d,b)})}function oo(r,a,p,d){var b=r.display;if(!p&&$i(a).getAttribute("cm-not-content")=="true")return null;var C,R,W=b.lineSpace.getBoundingClientRect();try{C=a.clientX-W.left,R=a.clientY-W.top}catch{return null}var G=Si(r,C,R),K;if(d&&G.xRel>0&&(K=Dt(r.doc,G.line).text).length==G.ch){var be=qe(K,K.length,r.options.tabSize)-K.length;G=je(G.line,Math.max(0,Math.round((C-kl(r.display).left)/bo(r.display))-be))}return G}function ia(r,a){if(a>=r.display.viewTo||(a-=r.display.viewFrom,a<0))return null;for(var p=r.display.view,d=0;d<p.length;d++)if(a-=p[d].size,a<0)return d}function yr(r,a,p,d){a==null&&(a=r.doc.first),p==null&&(p=r.doc.first+r.doc.size),d||(d=0);var b=r.display;if(d&&p<b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>a)&&(b.updateLineNumbers=a),r.curOp.viewChanged=!0,a>=b.viewTo)Pi&&vs(r.doc,a)<b.viewTo&&Gr(r);else if(p<=b.viewFrom)Pi&&qs(r.doc,p+d)>b.viewFrom?Gr(r):(b.viewFrom+=d,b.viewTo+=d);else if(a<=b.viewFrom&&p>=b.viewTo)Gr(r);else if(a<=b.viewFrom){var C=Xr(r,p,p+d,1);C?(b.view=b.view.slice(C.index),b.viewFrom=C.lineN,b.viewTo+=d):Gr(r)}else if(p>=b.viewTo){var R=Xr(r,a,a,-1);R?(b.view=b.view.slice(0,R.index),b.viewTo=R.lineN):Gr(r)}else{var W=Xr(r,a,a,-1),G=Xr(r,p,p+d,1);W&&G?(b.view=b.view.slice(0,W.index).concat(Vo(r,W.lineN,G.lineN)).concat(b.view.slice(G.index)),b.viewTo+=d):Gr(r)}var K=b.externalMeasured;K&&(p<K.lineN?K.lineN+=d:a<K.lineN+K.size&&(b.externalMeasured=null))}function ur(r,a,p){r.curOp.viewChanged=!0;var d=r.display,b=r.display.externalMeasured;if(b&&a>=b.lineN&&a<b.lineN+b.size&&(d.externalMeasured=null),!(a<d.viewFrom||a>=d.viewTo)){var C=d.view[ia(r,a)];if(C.node!=null){var R=C.changes||(C.changes=[]);Ze(R,p)==-1&&R.push(p)}}}function Gr(r){r.display.viewFrom=r.display.viewTo=r.doc.first,r.display.view=[],r.display.viewOffset=0}function Xr(r,a,p,d){var b=ia(r,a),C,R=r.display.view;if(!Pi||p==r.doc.first+r.doc.size)return{index:b,lineN:p};for(var W=r.display.viewFrom,G=0;G<b;G++)W+=R[G].size;if(W!=a){if(d>0){if(b==R.length-1)return null;C=W+R[b].size-a,b++}else C=W-a;a+=C,p+=C}for(;vs(r.doc,p)!=p;){if(b==(d<0?0:R.length-1))return null;p+=d*R[b-(d<0?1:0)].size,b+=d}return{index:b,lineN:p}}function na(r,a,p){var d=r.display,b=d.view;b.length==0||a>=d.viewTo||p<=d.viewFrom?(d.view=Vo(r,a,p),d.viewFrom=a):(d.viewFrom>a?d.view=Vo(r,a,d.viewFrom).concat(d.view):d.viewFrom<a&&(d.view=d.view.slice(ia(r,a))),d.viewFrom=a,d.viewTo<p?d.view=d.view.concat(Vo(r,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,ia(r,p)))),d.viewTo=p}function Wu(r){for(var a=r.display.view,p=0,d=0;d<a.length;d++){var b=a[d];!b.hidden&&(!b.node||b.changes)&&++p}return p}function ao(r){r.display.input.showSelection(r.display.input.prepareSelection())}function ka(r,a){a===void 0&&(a=!0);var p=r.doc,d={},b=d.cursors=document.createDocumentFragment(),C=d.selection=document.createDocumentFragment(),R=r.options.$customCursor;R&&(a=!0);for(var W=0;W<p.sel.ranges.length;W++)if(!(!a&&W==p.sel.primIndex)){var G=p.sel.ranges[W];if(!(G.from().line>=r.display.viewTo||G.to().line<r.display.viewFrom)){var K=G.empty();if(R){var be=R(r,G);be&&Es(r,be,b)}else(K||r.options.showCursorWhenSelecting)&&Es(r,G.head,b);K||Sl(r,G,C)}}return d}function Es(r,a,p){var d=Ue(r,a,"div",null,null,!r.options.singleCursorHeightPerLine),b=p.appendChild(P("div","","CodeMirror-cursor"));if(b.style.left=d.left+"px",b.style.top=d.top+"px",b.style.height=Math.max(0,d.bottom-d.top)*r.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(r.getWrapperElement().className)){var C=tt(r,a,"div",null,null),R=C.right-C.left;b.style.width=(R>0?R:r.defaultCharWidth())+"px"}if(d.other){var W=p.appendChild(P("div","","CodeMirror-cursor CodeMirror-secondarycursor"));W.style.display="",W.style.left=d.other.left+"px",W.style.top=d.other.top+"px",W.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function ra(r,a){return r.top-a.top||r.left-a.left}function Sl(r,a,p){var d=r.display,b=r.doc,C=document.createDocumentFragment(),R=kl(r.display),W=R.left,G=Math.max(d.sizerWidth,Jo(r)-d.sizer.offsetLeft)-R.right,K=b.direction=="ltr";function be(vt,Tt,Bt,It){Tt<0&&(Tt=0),Tt=Math.round(Tt),It=Math.round(It),C.appendChild(P("div",null,"CodeMirror-selected","position: absolute; left: "+vt+`px;
                             top: `+Tt+"px; width: "+(Bt??G-vt)+`px;
                             height: `+(It-Tt)+"px"))}function Ce(vt,Tt,Bt){var It=Dt(b,vt),ci=It.text.length,Yi,Cn;function sn(Mn,Dr){return tt(r,je(vt,Mn),"div",It,Dr)}function vn(Mn,Dr,hr){var Hn=qi(r,It,null,Mn),Pn=Dr=="ltr"==(hr=="after")?"left":"right",bn=hr=="after"?Hn.begin:Hn.end-(/\s/.test(It.text.charAt(Hn.end-1))?2:1);return sn(bn,Pn)[Pn]}var Dn=Ut(It,b.direction);return Qt(Dn,Tt||0,Bt??ci,function(Mn,Dr,hr,Hn){var Pn=hr=="ltr",bn=sn(Mn,Pn?"left":"right"),Wr=sn(Dr-1,Pn?"right":"left"),ku=Tt==null&&Mn==0,rs=Bt==null&&Dr==ci,wr=Hn==0,fa=!Dn||Hn==Dn.length-1;if(Wr.top-bn.top<=3){var er=(K?ku:rs)&&wr,Wc=(K?rs:ku)&&fa,da=er?W:(Pn?bn:Wr).left,os=Wc?G:(Pn?Wr:bn).right;be(da,bn.top,os-da,bn.bottom)}else{var as,Mr,Cu,qc;Pn?(as=K&&ku&&wr?W:bn.left,Mr=K?G:vn(Mn,hr,"before"),Cu=K?W:vn(Dr,hr,"after"),qc=K&&rs&&fa?G:Wr.right):(as=K?vn(Mn,hr,"before"):W,Mr=!K&&ku&&wr?G:bn.right,Cu=!K&&rs&&fa?W:Wr.left,qc=K?vn(Dr,hr,"after"):G),be(as,bn.top,Mr-as,bn.bottom),bn.bottom<Wr.top&&be(W,bn.bottom,null,Wr.top),be(Cu,Wr.top,qc-Cu,Wr.bottom)}(!Yi||ra(bn,Yi)<0)&&(Yi=bn),ra(Wr,Yi)<0&&(Yi=Wr),(!Cn||ra(bn,Cn)<0)&&(Cn=bn),ra(Wr,Cn)<0&&(Cn=Wr)}),{start:Yi,end:Cn}}var Ie=a.from(),Re=a.to();if(Ie.line==Re.line)Ce(Ie.line,Ie.ch,Re.ch);else{var Ge=Dt(b,Ie.line),rt=Dt(b,Re.line),dt=Ni(Ge)==Ni(rt),bt=Ce(Ie.line,Ie.ch,dt?Ge.text.length+1:null).end,yt=Ce(Re.line,dt?0:null,Re.ch).start;dt&&(bt.top<yt.top-2?(be(bt.right,bt.top,null,bt.bottom),be(W,yt.top,yt.left,yt.bottom)):be(bt.right,bt.top,yt.left-bt.right,bt.bottom)),bt.bottom<yt.top&&be(W,bt.bottom,null,yt.top)}p.appendChild(C)}function oa(r){if(r.state.focused){var a=r.display;clearInterval(a.blinker);var p=!0;a.cursorDiv.style.visibility="",r.options.cursorBlinkRate>0?a.blinker=setInterval(function(){r.hasFocus()||Ea(r),a.cursorDiv.style.visibility=(p=!p)?"":"hidden"},r.options.cursorBlinkRate):r.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function Oo(r){r.hasFocus()||(r.display.input.focus(),r.state.focused||nu(r))}function Ca(r){r.state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,r.state.focused&&Ea(r))},100)}function nu(r,a){r.state.delayingBlurEvent&&!r.state.draggingText&&(r.state.delayingBlurEvent=!1),r.options.readOnly!="nocursor"&&(r.state.focused||(Fi(r,"focus",r,a),r.state.focused=!0,Be(r.display.wrapper,"CodeMirror-focused"),!r.curOp&&r.display.selForContextMenu!=r.doc.sel&&(r.display.input.reset(),w&&setTimeout(function(){return r.display.input.reset(!0)},20)),r.display.input.receivedFocus()),oa(r))}function Ea(r,a){r.state.delayingBlurEvent||(r.state.focused&&(Fi(r,"blur",r,a),r.state.focused=!1,Le(r.display.wrapper,"CodeMirror-focused")),clearInterval(r.display.blinker),setTimeout(function(){r.state.focused||(r.display.shift=!1)},150))}function ru(r){for(var a=r.display,p=a.lineDiv.offsetTop,d=Math.max(0,a.scroller.getBoundingClientRect().top),b=a.lineDiv.getBoundingClientRect().top,C=0,R=0;R<a.view.length;R++){var W=a.view[R],G=r.options.lineWrapping,K=void 0,be=0;if(!W.hidden){if(b+=W.line.height,v&&x<8){var Ce=W.node.offsetTop+W.node.offsetHeight;K=Ce-p,p=Ce}else{var Ie=W.node.getBoundingClientRect();K=Ie.bottom-Ie.top,!G&&W.text.firstChild&&(be=W.text.firstChild.getBoundingClientRect().right-Ie.left-1)}var Re=W.line.height-K;if((Re>.005||Re<-.005)&&(b<d&&(C-=Re),In(W.line,K),Ya(W.line),W.rest))for(var Ge=0;Ge<W.rest.length;Ge++)Ya(W.rest[Ge]);if(be>r.display.sizerWidth){var rt=Math.ceil(be/bo(r.display));rt>r.display.maxLineLength&&(r.display.maxLineLength=rt,r.display.maxLine=W.line,r.display.maxLineChanged=!0)}}}Math.abs(C)>2&&(a.scroller.scrollTop+=C)}function Ya(r){if(r.widgets)for(var a=0;a<r.widgets.length;++a){var p=r.widgets[a],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function aa(r,a,p){var d=p&&p.top!=null?Math.max(0,p.top):r.scroller.scrollTop;d=Math.floor(d-xs(r));var b=p&&p.bottom!=null?p.bottom:d+r.wrapper.clientHeight,C=xe(a,d),R=xe(a,b);if(p&&p.ensure){var W=p.ensure.from.line,G=p.ensure.to.line;W<C?(C=W,R=xe(a,no(Dt(a,W))+r.wrapper.clientHeight)):Math.min(G,a.lastLine())>=R&&(C=xe(a,no(Dt(a,G))-r.wrapper.clientHeight),R=G)}return{from:C,to:Math.max(R,C+1)}}function qu(r,a){if(!pi(r,"scrollCursorIntoView")){var p=r.display,d=p.sizer.getBoundingClientRect(),b=null,C=p.wrapper.ownerDocument;if(a.top+d.top<0?b=!0:a.bottom+d.top>(C.defaultView.innerHeight||C.documentElement.clientHeight)&&(b=!1),b!=null&&!M){var R=P("div","",null,`position: absolute;
                         top: `+(a.top-p.viewOffset-xs(r.display))+`px;
                         height: `+(a.bottom-a.top+Sr(r)+p.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");r.display.lineSpace.appendChild(R),R.scrollIntoView(b),r.display.lineSpace.removeChild(R)}}}function o(r,a,p,d){d==null&&(d=0);var b;!r.options.lineWrapping&&a==p&&(p=a.sticky=="before"?je(a.line,a.ch+1,"before"):a,a=a.ch?je(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var C=0;C<5;C++){var R=!1,W=Ue(r,a),G=!p||p==a?W:Ue(r,p);b={left:Math.min(W.left,G.left),top:Math.min(W.top,G.top)-d,right:Math.max(W.left,G.left),bottom:Math.max(W.bottom,G.bottom)+d};var K=y(r,b),be=r.doc.scrollTop,Ce=r.doc.scrollLeft;if(K.scrollTop!=null&&(lt(r,K.scrollTop),Math.abs(r.doc.scrollTop-be)>1&&(R=!0)),K.scrollLeft!=null&&(zt(r,K.scrollLeft),Math.abs(r.doc.scrollLeft-Ce)>1&&(R=!0)),!R)break}return b}function m(r,a){var p=y(r,a);p.scrollTop!=null&&lt(r,p.scrollTop),p.scrollLeft!=null&&zt(r,p.scrollLeft)}function y(r,a){var p=r.display,d=ro(r.display);a.top<0&&(a.top=0);var b=r.curOp&&r.curOp.scrollTop!=null?r.curOp.scrollTop:p.scroller.scrollTop,C=Wa(r),R={};a.bottom-a.top>C&&(a.bottom=a.top+C);var W=r.doc.height+Qo(p),G=a.top<d,K=a.bottom>W-d;if(a.top<b)R.scrollTop=G?0:a.top;else if(a.bottom>b+C){var be=Math.min(a.top,(K?W:a.bottom)-C);be!=b&&(R.scrollTop=be)}var Ce=r.options.fixedGutter?0:p.gutters.offsetWidth,Ie=r.curOp&&r.curOp.scrollLeft!=null?r.curOp.scrollLeft:p.scroller.scrollLeft-Ce,Re=Jo(r)-p.gutters.offsetWidth,Ge=a.right-a.left>Re;return Ge&&(a.right=a.left+Re),a.left<10?R.scrollLeft=0:a.left<Ie?R.scrollLeft=Math.max(0,a.left+Ce-(Ge?0:10)):a.right>Re+Ie-3&&(R.scrollLeft=a.right+(Ge?0:10)-Re),R}function A(r,a){a!=null&&(We(r),r.curOp.scrollTop=(r.curOp.scrollTop==null?r.doc.scrollTop:r.curOp.scrollTop)+a)}function U(r){We(r);var a=r.getCursor();r.curOp.scrollToPos={from:a,to:a,margin:r.options.cursorScrollMargin}}function oe(r,a,p){(a!=null||p!=null)&&We(r),a!=null&&(r.curOp.scrollLeft=a),p!=null&&(r.curOp.scrollTop=p)}function Ae(r,a){We(r),r.curOp.scrollToPos=a}function We(r){var a=r.curOp.scrollToPos;if(a){r.curOp.scrollToPos=null;var p=At(r,a.from),d=At(r,a.to);Ye(r,p,d,a.margin)}}function Ye(r,a,p,d){var b=y(r,{left:Math.min(a.left,p.left),top:Math.min(a.top,p.top)-d,right:Math.max(a.right,p.right),bottom:Math.max(a.bottom,p.bottom)+d});oe(r,b.scrollLeft,b.scrollTop)}function lt(r,a){Math.abs(r.doc.scrollTop-a)<2||(u||Ro(r,{top:a}),Ct(r,a,!0),u&&Ro(r),ju(r,100))}function Ct(r,a,p){a=Math.max(0,Math.min(r.display.scroller.scrollHeight-r.display.scroller.clientHeight,a)),!(r.display.scroller.scrollTop==a&&!p)&&(r.doc.scrollTop=a,r.display.scrollbars.setScrollTop(a),r.display.scroller.scrollTop!=a&&(r.display.scroller.scrollTop=a))}function zt(r,a,p,d){a=Math.max(0,Math.min(a,r.display.scroller.scrollWidth-r.display.scroller.clientWidth)),!((p?a==r.doc.scrollLeft:Math.abs(r.doc.scrollLeft-a)<2)&&!d)&&(r.doc.scrollLeft=a,kh(r),r.display.scroller.scrollLeft!=a&&(r.display.scroller.scrollLeft=a),r.display.scrollbars.setScrollLeft(a))}function ai(r){var a=r.display,p=a.gutters.offsetWidth,d=Math.round(r.doc.height+Qo(r.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:r.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Sr(r)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:p}}var Zi=function(r,a,p){this.cm=p;var d=this.vert=P("div",[P("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=P("div",[P("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=b.tabIndex=-1,r(d),r(b),Ft(d,"scroll",function(){d.clientHeight&&a(d.scrollTop,"vertical")}),Ft(b,"scroll",function(){b.clientWidth&&a(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,v&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Zi.prototype.update=function(r){var a=r.scrollWidth>r.clientWidth+1,p=r.scrollHeight>r.clientHeight+1,d=r.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=a?d+"px":"0";var b=r.viewHeight-(a?d:0);this.vert.firstChild.style.height=Math.max(0,r.scrollHeight-r.clientHeight+b)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=r.barLeft+"px";var C=r.viewWidth-r.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,r.scrollWidth-r.clientWidth+C)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&r.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:a?d:0}},Zi.prototype.setScrollLeft=function(r){this.horiz.scrollLeft!=r&&(this.horiz.scrollLeft=r),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Zi.prototype.setScrollTop=function(r){this.vert.scrollTop!=r&&(this.vert.scrollTop=r),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Zi.prototype.zeroWidthHack=function(){var r=I&&!q?"12px":"18px";this.horiz.style.height=this.vert.style.width=r,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Xe,this.disableVert=new Xe},Zi.prototype.enableZeroWidthBar=function(r,a,p){r.style.visibility="";function d(){var b=r.getBoundingClientRect(),C=p=="vert"?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1);C!=r?r.style.visibility="hidden":a.set(1e3,d)}a.set(1e3,d)},Zi.prototype.clear=function(){var r=this.horiz.parentNode;r.removeChild(this.horiz),r.removeChild(this.vert)};var Vi=function(){};Vi.prototype.update=function(){return{bottom:0,right:0}},Vi.prototype.setScrollLeft=function(){},Vi.prototype.setScrollTop=function(){},Vi.prototype.clear=function(){};function mn(r,a){a||(a=ai(r));var p=r.display.barWidth,d=r.display.barHeight;Bn(r,a);for(var b=0;b<4&&p!=r.display.barWidth||d!=r.display.barHeight;b++)p!=r.display.barWidth&&r.options.lineWrapping&&ru(r),Bn(r,ai(r)),p=r.display.barWidth,d=r.display.barHeight}function Bn(r,a){var p=r.display,d=p.scrollbars.update(a);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&r.options.coverGutterNextToScrollbar&&r.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=a.gutterWidth+"px"):p.gutterFiller.style.display=""}var Zr={native:Zi,null:Vi};function Tl(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&Le(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new Zr[r.options.scrollbarStyle](function(a){r.display.wrapper.insertBefore(a,r.display.scrollbarFiller),Ft(a,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,p){p=="horizontal"?zt(r,a):lt(r,a)},r),r.display.scrollbars.addClass&&Be(r.display.wrapper,r.display.scrollbars.addClass)}var gc=0;function Sa(r){r.curOp={cm:r,viewChanged:!1,startHeight:r.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++gc,markArrays:null},yl(r.curOp)}function sa(r){var a=r.curOp;a&&_s(a,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;vc(p)})}function vc(r){for(var a=r.ops,p=0;p<a.length;p++)Ss(a[p]);for(var d=0;d<a.length;d++)rn(a[d]);for(var b=0;b<a.length;b++)Ts(a[b]);for(var C=0;C<a.length;C++)ce(a[C]);for(var R=0;R<a.length;R++)Ga(a[R])}function Ss(r){var a=r.cm,p=a.display;cd(a),r.updateMaxLine&&Us(a),r.mustUpdate=r.viewChanged||r.forceUpdate||r.scrollTop!=null||r.scrollToPos&&(r.scrollToPos.from.line<p.viewFrom||r.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&a.options.lineWrapping,r.update=r.mustUpdate&&new ua(a,r.mustUpdate&&{top:r.scrollTop,ensure:r.scrollToPos},r.forceUpdate)}function rn(r){r.updatedDisplay=r.mustUpdate&&bc(r.cm,r.update)}function Ts(r){var a=r.cm,p=a.display;r.updatedDisplay&&ru(a),r.barMeasure=ai(a),p.maxLineChanged&&!a.options.lineWrapping&&(r.adjustWidthTo=Qs(a,p.maxLine,p.maxLine.text.length).left+3,a.display.sizerWidth=r.adjustWidthTo,r.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+r.adjustWidthTo+Sr(a)+a.display.barWidth),r.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+r.adjustWidthTo-Jo(a))),(r.updatedDisplay||r.selectionChanged)&&(r.preparedSelection=p.input.prepareSelection())}function ce(r){var a=r.cm;r.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=r.adjustWidthTo+"px",r.maxScrollLeft<a.doc.scrollLeft&&zt(a,Math.min(a.display.scroller.scrollLeft,r.maxScrollLeft),!0),a.display.maxLineChanged=!1);var p=r.focus&&r.focus==it(De(a));r.preparedSelection&&a.display.input.showSelection(r.preparedSelection,p),(r.updatedDisplay||r.startHeight!=a.doc.height)&&mn(a,r.barMeasure),r.updatedDisplay&&yc(a,r.barMeasure),r.selectionChanged&&oa(a),a.state.focused&&r.updateInput&&a.display.input.reset(r.typing),p&&Oo(r.cm)}function Ga(r){var a=r.cm,p=a.display,d=a.doc;if(r.updatedDisplay&&xh(a,r.update),p.wheelStartX!=null&&(r.scrollTop!=null||r.scrollLeft!=null||r.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),r.scrollTop!=null&&Ct(a,r.scrollTop,r.forceScroll),r.scrollLeft!=null&&zt(a,r.scrollLeft,!0,!0),r.scrollToPos){var b=o(a,Wt(d,r.scrollToPos.from),Wt(d,r.scrollToPos.to),r.scrollToPos.margin);qu(a,b)}var C=r.maybeHiddenMarkers,R=r.maybeUnhiddenMarkers;if(C)for(var W=0;W<C.length;++W)C[W].lines.length||Fi(C[W],"hide");if(R)for(var G=0;G<R.length;++G)R[G].lines.length&&Fi(R[G],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=a.display.scroller.scrollTop),r.changeObjs&&Fi(a,"changes",a,r.changeObjs),r.update&&r.update.finish()}function Vn(r,a){if(r.curOp)return a();Sa(r);try{return a()}finally{sa(r)}}function Li(r,a){return function(){if(r.curOp)return a.apply(r,arguments);Sa(r);try{return a.apply(r,arguments)}finally{sa(r)}}}function Gt(r){return function(){if(this.curOp)return r.apply(this,arguments);Sa(this);try{return r.apply(this,arguments)}finally{sa(this)}}}function Ln(r){return function(){var a=this.cm;if(!a||a.curOp)return r.apply(this,arguments);Sa(a);try{return r.apply(this,arguments)}finally{sa(a)}}}function ju(r,a){r.doc.highlightFrontier<r.display.viewTo&&r.state.highlight.set(a,we(ld,r))}function ld(r){var a=r.doc;if(!(a.highlightFrontier>=r.display.viewTo)){var p=+new Date+r.options.workTime,d=_e(r,a.highlightFrontier),b=[];a.iter(d.line,Math.min(a.first+a.size,r.display.viewTo+500),function(C){if(d.line>=r.display.viewFrom){var R=C.styles,W=C.text.length>r.options.maxHighlightLength?yn(a.mode,d.state):null,G=ie(r,C,d,!0);W&&(d.state=W),C.styles=G.styles;var K=C.styleClasses,be=G.classes;be?C.styleClasses=be:K&&(C.styleClasses=null);for(var Ce=!R||R.length!=C.styles.length||K!=be&&(!K||!be||K.bgClass!=be.bgClass||K.textClass!=be.textClass),Ie=0;!Ce&&Ie<R.length;++Ie)Ce=R[Ie]!=C.styles[Ie];Ce&&b.push(d.line),C.stateAfter=d.save(),d.nextLine()}else C.text.length<=r.options.maxHighlightLength&&Oe(r,C.text,d),C.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return ju(r,r.options.workDelay),!0}),a.highlightFrontier=d.line,a.modeFrontier=Math.max(a.modeFrontier,d.line),b.length&&Vn(r,function(){for(var C=0;C<b.length;C++)ur(r,b[C],"text")})}}var ua=function(r,a,p){var d=r.display;this.viewport=a,this.visible=aa(d,r.doc,a),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Jo(r),this.force=p,this.dims=Ua(r),this.events=[]};ua.prototype.signal=function(r,a){ui(r,a)&&this.events.push(arguments)},ua.prototype.finish=function(){for(var r=0;r<this.events.length;r++)Fi.apply(null,this.events[r])};function cd(r){var a=r.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=Sr(r)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=Sr(r)+"px",a.scrollbarsClipped=!0)}function hd(r){if(r.hasFocus())return null;var a=it(De(r));if(!a||!Ee(r.display.lineDiv,a))return null;var p={activeElt:a};if(window.getSelection){var d=Z(r).getSelection();d.anchorNode&&d.extend&&Ee(r.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function fd(r){if(!(!r||!r.activeElt||r.activeElt==it(Fe(r.activeElt)))&&(r.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(r.activeElt.nodeName)&&r.anchorNode&&Ee(document.body,r.anchorNode)&&Ee(document.body,r.focusNode))){var a=r.activeElt.ownerDocument,p=a.defaultView.getSelection(),d=a.createRange();d.setEnd(r.anchorNode,r.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(r.focusNode,r.focusOffset)}}function bc(r,a){var p=r.display,d=r.doc;if(a.editorIsHidden)return Gr(r),!1;if(!a.force&&a.visible.from>=p.viewFrom&&a.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Wu(r)==0)return!1;Ch(r)&&(Gr(r),a.dims=Ua(r));var b=d.first+d.size,C=Math.max(a.visible.from-r.options.viewportMargin,d.first),R=Math.min(b,a.visible.to+r.options.viewportMargin);p.viewFrom<C&&C-p.viewFrom<20&&(C=Math.max(d.first,p.viewFrom)),p.viewTo>R&&p.viewTo-R<20&&(R=Math.min(b,p.viewTo)),Pi&&(C=vs(r.doc,C),R=qs(r.doc,R));var W=C!=p.viewFrom||R!=p.viewTo||p.lastWrapHeight!=a.wrapperHeight||p.lastWrapWidth!=a.wrapperWidth;na(r,C,R),p.viewOffset=no(Dt(r.doc,p.viewFrom)),r.display.mover.style.top=p.viewOffset+"px";var G=Wu(r);if(!W&&G==0&&!a.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var K=hd(r);return G>4&&(p.lineDiv.style.display="none"),dd(r,p.updateLineNumbers,a.dims),G>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,fd(K),ve(p.cursorDiv),ve(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,W&&(p.lastWrapHeight=a.wrapperHeight,p.lastWrapWidth=a.wrapperWidth,ju(r,400)),p.updateLineNumbers=null,!0}function xh(r,a){for(var p=a.viewport,d=!0;;d=!1){if(!d||!r.options.lineWrapping||a.oldDisplayWidth==Jo(r)){if(p&&p.top!=null&&(p={top:Math.min(r.doc.height+Qo(r.display)-Wa(r),p.top)}),a.visible=aa(r.display,r.doc,p),a.visible.from>=r.display.viewFrom&&a.visible.to<=r.display.viewTo)break}else d&&(a.visible=aa(r.display,r.doc,p));if(!bc(r,a))break;ru(r);var b=ai(r);ao(r),mn(r,b),yc(r,b),a.force=!1}a.signal(r,"update",r),(r.display.viewFrom!=r.display.reportedViewFrom||r.display.viewTo!=r.display.reportedViewTo)&&(a.signal(r,"viewportChange",r,r.display.viewFrom,r.display.viewTo),r.display.reportedViewFrom=r.display.viewFrom,r.display.reportedViewTo=r.display.viewTo)}function Ro(r,a){var p=new ua(r,a);if(bc(r,p)){ru(r),xh(r,p);var d=ai(r);ao(r),mn(r,d),yc(r,d),p.finish()}}function dd(r,a,p){var d=r.display,b=r.options.lineNumbers,C=d.lineDiv,R=C.firstChild;function W(Ge){var rt=Ge.nextSibling;return w&&I&&r.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),rt}for(var G=d.view,K=d.viewFrom,be=0;be<G.length;be++){var Ce=G[be];if(!Ce.hidden)if(!Ce.node||Ce.node.parentNode!=C){var Ie=xl(r,Ce,K,p);C.insertBefore(Ie,R)}else{for(;R!=Ce.node;)R=W(R);var Re=b&&a!=null&&a<=K&&Ce.lineNumber;Ce.changes&&(Ze(Ce.changes,"gutter")>-1&&(Re=!1),Er(r,Ce,K,p)),Re&&(ve(Ce.lineNumber),Ce.lineNumber.appendChild(document.createTextNode(nt(r.options,K)))),R=Ce.node.nextSibling}K+=Ce.size}for(;R;)R=W(R)}function _c(r){var a=r.gutters.offsetWidth;r.sizer.style.marginLeft=a+"px",tn(r,"gutterChanged",r)}function yc(r,a){r.display.sizer.style.minHeight=a.docHeight+"px",r.display.heightForcer.style.top=a.docHeight+"px",r.display.gutters.style.height=a.docHeight+r.display.barHeight+Sr(r)+"px"}function kh(r){var a=r.display,p=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!r.options.fixedGutter))){for(var d=Ci(a)-a.scroller.scrollLeft+r.doc.scrollLeft,b=a.gutters.offsetWidth,C=d+"px",R=0;R<p.length;R++)if(!p[R].hidden){r.options.fixedGutter&&(p[R].gutter&&(p[R].gutter.style.left=C),p[R].gutterBackground&&(p[R].gutterBackground.style.left=C));var W=p[R].alignable;if(W)for(var G=0;G<W.length;G++)W[G].style.left=C}r.options.fixedGutter&&(a.gutters.style.left=d+b+"px")}}function Ch(r){if(!r.options.lineNumbers)return!1;var a=r.doc,p=nt(r.options,a.first+a.size-1),d=r.display;if(p.length!=d.lineNumChars){var b=d.measure.appendChild(P("div",[P("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),C=b.firstChild.offsetWidth,R=b.offsetWidth-C;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(C,d.lineGutter.offsetWidth-R)+1,d.lineNumWidth=d.lineNumInnerWidth+R,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",_c(r.display),!0}return!1}function Fo(r,a){for(var p=[],d=!1,b=0;b<r.length;b++){var C=r[b],R=null;if(typeof C!="string"&&(R=C.style,C=C.className),C=="CodeMirror-linenumbers")if(a)d=!0;else continue;p.push({className:C,style:R})}return a&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Eh(r){var a=r.gutters,p=r.gutterSpecs;ve(a),r.lineGutter=null;for(var d=0;d<p.length;++d){var b=p[d],C=b.className,R=b.style,W=a.appendChild(P("div",null,"CodeMirror-gutter "+C));R&&(W.style.cssText=R),C=="CodeMirror-linenumbers"&&(r.lineGutter=W,W.style.width=(r.lineNumWidth||1)+"px")}a.style.display=p.length?"":"none",_c(r)}function Uu(r){Eh(r.display),yr(r),kh(r)}function pd(r,a,p,d){var b=this;this.input=p,b.scrollbarFiller=P("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=P("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=se("div",null,"CodeMirror-code"),b.selectionDiv=P("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=P("div",null,"CodeMirror-cursors"),b.measure=P("div",null,"CodeMirror-measure"),b.lineMeasure=P("div",null,"CodeMirror-measure"),b.lineSpace=se("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var C=se("div",[b.lineSpace],"CodeMirror-lines");b.mover=P("div",[C],null,"position: relative"),b.sizer=P("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=P("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),b.gutters=P("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=P("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=P("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),O&&H>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),v&&x<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!w&&!(u&&B)&&(b.scroller.draggable=!0),r&&(r.appendChild?r.appendChild(b.wrapper):r(b.wrapper)),b.viewFrom=b.viewTo=a.first,b.reportedViewFrom=b.reportedViewTo=a.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=Fo(d.gutters,d.lineNumbers),Eh(b),p.init(b)}var Al=0,Ta=null;v?Ta=-.53:u?Ta=15:O?Ta=-.7:j&&(Ta=-1/3);function Xa(r){var a=r.wheelDeltaX,p=r.wheelDeltaY;return a==null&&r.detail&&r.axis==r.HORIZONTAL_AXIS&&(a=r.detail),p==null&&r.detail&&r.axis==r.VERTICAL_AXIS?p=r.detail:p==null&&(p=r.wheelDelta),{x:a,y:p}}function md(r){var a=Xa(r);return a.x*=Ta,a.y*=Ta,a}function Sh(r,a){O&&H==102&&(r.display.chromeScrollHack==null?r.display.sizer.style.pointerEvents="none":clearTimeout(r.display.chromeScrollHack),r.display.chromeScrollHack=setTimeout(function(){r.display.chromeScrollHack=null,r.display.sizer.style.pointerEvents=""},100));var p=Xa(a),d=p.x,b=p.y,C=Ta;a.deltaMode===0&&(d=a.deltaX,b=a.deltaY,C=1);var R=r.display,W=R.scroller,G=W.scrollWidth>W.clientWidth,K=W.scrollHeight>W.clientHeight;if(d&&G||b&&K){if(b&&I&&w){e:for(var be=a.target,Ce=R.view;be!=W;be=be.parentNode)for(var Ie=0;Ie<Ce.length;Ie++)if(Ce[Ie].node==be){r.display.currentWheelTarget=be;break e}}if(d&&!u&&!F&&C!=null){b&&K&&lt(r,Math.max(0,W.scrollTop+b*C)),zt(r,Math.max(0,W.scrollLeft+d*C)),(!b||b&&K)&&Bi(a),R.wheelStartX=null;return}if(b&&C!=null){var Re=b*C,Ge=r.doc.scrollTop,rt=Ge+R.wrapper.clientHeight;Re<0?Ge=Math.max(0,Ge+Re-50):rt=Math.min(r.doc.height,rt+Re+50),Ro(r,{top:Ge,bottom:rt})}Al<20&&a.deltaMode!==0&&(R.wheelStartX==null?(R.wheelStartX=W.scrollLeft,R.wheelStartY=W.scrollTop,R.wheelDX=d,R.wheelDY=b,setTimeout(function(){if(R.wheelStartX!=null){var dt=W.scrollLeft-R.wheelStartX,bt=W.scrollTop-R.wheelStartY,yt=bt&&R.wheelDY&&bt/R.wheelDY||dt&&R.wheelDX&&dt/R.wheelDX;R.wheelStartX=R.wheelStartY=null,yt&&(Ta=(Ta*Al+yt)/(Al+1),++Al)}},200)):(R.wheelDX+=d,R.wheelDY+=b))}}var gn=function(r,a){this.ranges=r,this.primIndex=a};gn.prototype.primary=function(){return this.ranges[this.primIndex]},gn.prototype.equals=function(r){if(r==this)return!0;if(r.primIndex!=this.primIndex||r.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var p=this.ranges[a],d=r.ranges[a];if(!ni(p.anchor,d.anchor)||!ni(p.head,d.head))return!1}return!0},gn.prototype.deepCopy=function(){for(var r=[],a=0;a<this.ranges.length;a++)r[a]=new Ii(Ui(this.ranges[a].anchor),Ui(this.ranges[a].head));return new gn(r,this.primIndex)},gn.prototype.somethingSelected=function(){for(var r=0;r<this.ranges.length;r++)if(!this.ranges[r].empty())return!0;return!1},gn.prototype.contains=function(r,a){a||(a=r);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(pt(a,d.from())>=0&&pt(r,d.to())<=0)return p}return-1};var Ii=function(r,a){this.anchor=r,this.head=a};Ii.prototype.from=function(){return li(this.anchor,this.head)},Ii.prototype.to=function(){return Nt(this.anchor,this.head)},Ii.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function No(r,a,p){var d=r&&r.options.selectionsMayTouch,b=a[p];a.sort(function(Ie,Re){return pt(Ie.from(),Re.from())}),p=Ze(a,b);for(var C=1;C<a.length;C++){var R=a[C],W=a[C-1],G=pt(W.to(),R.from());if(d&&!R.empty()?G>0:G>=0){var K=li(W.from(),R.from()),be=Nt(W.to(),R.to()),Ce=W.empty()?R.from()==R.head:W.from()==W.head;C<=p&&--p,a.splice(--C,2,new Ii(Ce?be:K,Ce?K:be))}}return new gn(a,p)}function Za(r,a){return new gn([new Ii(r,a||r)],0)}function Va(r){return r.text?je(r.from.line+r.text.length-1,X(r.text).length+(r.text.length==1?r.from.ch:0)):r.to}function Th(r,a){if(pt(r,a.from)<0)return r;if(pt(r,a.to)<=0)return Va(a);var p=r.line+a.text.length-(a.to.line-a.from.line)-1,d=r.ch;return r.line==a.to.line&&(d+=Va(a).ch-a.to.ch),je(p,d)}function Ll(r,a){for(var p=[],d=0;d<r.sel.ranges.length;d++){var b=r.sel.ranges[d];p.push(new Ii(Th(b.anchor,a),Th(b.head,a)))}return No(r.cm,p,r.sel.primIndex)}function wc(r,a,p){return r.line==a.line?je(p.line,r.ch-a.ch+p.ch):je(p.line+(r.line-a.line),r.ch)}function gd(r,a,p){for(var d=[],b=je(r.first,0),C=b,R=0;R<a.length;R++){var W=a[R],G=wc(W.from,b,C),K=wc(Va(W),b,C);if(b=W.to,C=K,p=="around"){var be=r.sel.ranges[R],Ce=pt(be.head,be.anchor)<0;d[R]=new Ii(Ce?K:G,Ce?G:K)}else d[R]=new Ii(G,G)}return new gn(d,r.sel.primIndex)}function xc(r){r.doc.mode=kr(r.options,r.doc.modeOption),As(r)}function As(r){r.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),r.doc.modeFrontier=r.doc.highlightFrontier=r.doc.first,ju(r,100),r.state.modeGen++,r.curOp&&yr(r)}function ou(r,a){return a.from.ch==0&&a.to.ch==0&&X(a.text)==""&&(!r.cm||r.cm.options.wholeLineUpdateBefore)}function au(r,a,p,d){function b(yt){return p?p[yt]:null}function C(yt,vt,Tt){bl(yt,vt,Tt,d),tn(yt,"change",yt,a)}function R(yt,vt){for(var Tt=[],Bt=yt;Bt<vt;++Bt)Tt.push(new To(K[Bt],b(Bt),d));return Tt}var W=a.from,G=a.to,K=a.text,be=Dt(r,W.line),Ce=Dt(r,G.line),Ie=X(K),Re=b(K.length-1),Ge=G.line-W.line;if(a.full)r.insert(0,R(0,K.length)),r.remove(K.length,r.size-K.length);else if(ou(r,a)){var rt=R(0,K.length-1);C(Ce,Ce.text,Re),Ge&&r.remove(W.line,Ge),rt.length&&r.insert(W.line,rt)}else if(be==Ce)if(K.length==1)C(be,be.text.slice(0,W.ch)+Ie+be.text.slice(G.ch),Re);else{var dt=R(1,K.length-1);dt.push(new To(Ie+be.text.slice(G.ch),Re,d)),C(be,be.text.slice(0,W.ch)+K[0],b(0)),r.insert(W.line+1,dt)}else if(K.length==1)C(be,be.text.slice(0,W.ch)+K[0]+Ce.text.slice(G.ch),b(0)),r.remove(W.line+1,Ge);else{C(be,be.text.slice(0,W.ch)+K[0],b(0)),C(Ce,Ie+Ce.text.slice(G.ch),Re);var bt=R(1,K.length-1);Ge>1&&r.remove(W.line+1,Ge-1),r.insert(W.line+1,bt)}tn(r,"change",r,a)}function Ka(r,a,p){function d(b,C,R){if(b.linked)for(var W=0;W<b.linked.length;++W){var G=b.linked[W];if(G.doc!=C){var K=R&&G.sharedHist;p&&!K||(a(G.doc,K),d(G.doc,b,K))}}}d(r,null,!0)}function kc(r,a){if(a.cm)throw new Error("This document is already in use.");r.doc=a,a.cm=r,Po(r),xc(r),Ah(r),r.options.direction=a.direction,r.options.lineWrapping||Us(r),r.options.mode=a.modeOption,yr(r)}function Ah(r){(r.doc.direction=="rtl"?Be:Le)(r.display.lineDiv,"CodeMirror-rtl")}function Aa(r){Vn(r,function(){Ah(r),yr(r)})}function su(r){this.done=[],this.undone=[],this.undoDepth=r?r.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=r?r.maxGeneration:1}function La(r,a){var p={from:Ui(a.from),to:Va(a),text:Zn(r,a.from,a.to)};return Ec(r,p,a.from.line,a.to.line+1),Ka(r,function(d){return Ec(d,p,a.from.line,a.to.line+1)},!0),p}function so(r){for(;r.length;){var a=X(r);if(a.ranges)r.pop();else break}}function vd(r,a){if(a)return so(r.done),X(r.done);if(r.done.length&&!X(r.done).ranges)return X(r.done);if(r.done.length>1&&!r.done[r.done.length-2].ranges)return r.done.pop(),X(r.done)}function Cc(r,a,p,d){var b=r.history;b.undone.length=0;var C=+new Date,R,W;if((b.lastOp==d||b.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&b.lastModTime>C-(r.cm?r.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(R=vd(b,b.lastOp==d)))W=X(R.changes),pt(a.from,a.to)==0&&pt(a.from,W.to)==0?W.to=Va(a):R.changes.push(La(r,a));else{var G=X(b.done);for((!G||!G.ranges)&&Io(r.sel,b.done),R={changes:[La(r,a)],generation:b.generation},b.done.push(R);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(p),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=C,b.lastOp=b.lastSelOp=d,b.lastOrigin=b.lastSelOrigin=a.origin,W||Fi(r,"historyAdded")}function Lh(r,a,p,d){var b=a.charAt(0);return b=="*"||b=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)}function Yu(r,a,p,d){var b=r.history,C=d&&d.origin;p==b.lastSelOp||C&&b.lastSelOrigin==C&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==C||Lh(r,C,X(b.done),a))?b.done[b.done.length-1]=a:Io(a,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=C,b.lastSelOp=p,d&&d.clearRedo!==!1&&so(b.undone)}function Io(r,a){var p=X(a);p&&p.ranges&&p.equals(r)||a.push(r)}function Ec(r,a,p,d){var b=a["spans_"+r.id],C=0;r.iter(Math.max(r.first,p),Math.min(r.first+r.size,d),function(R){R.markedSpans&&((b||(b=a["spans_"+r.id]={}))[C]=R.markedSpans),++C})}function bd(r){if(!r)return null;for(var a,p=0;p<r.length;++p)r[p].marker.explicitlyCleared?a||(a=r.slice(0,p)):a&&a.push(r[p]);return a?a.length?a:null:r}function Dl(r,a){var p=a["spans_"+r.id];if(!p)return null;for(var d=[],b=0;b<a.text.length;++b)d.push(bd(p[b]));return d}function Dh(r,a){var p=Dl(r,a),d=An(r,a);if(!p)return d;if(!d)return p;for(var b=0;b<p.length;++b){var C=p[b],R=d[b];if(C&&R)e:for(var W=0;W<R.length;++W){for(var G=R[W],K=0;K<C.length;++K)if(C[K].marker==G.marker)continue e;C.push(G)}else R&&(p[b]=R)}return p}function Ls(r,a,p){for(var d=[],b=0;b<r.length;++b){var C=r[b];if(C.ranges){d.push(p?gn.prototype.deepCopy.call(C):C);continue}var R=C.changes,W=[];d.push({changes:W});for(var G=0;G<R.length;++G){var K=R[G],be=void 0;if(W.push({from:K.from,to:K.to,text:K.text}),a)for(var Ce in K)(be=Ce.match(/^spans_(\d+)$/))&&Ze(a,Number(be[1]))>-1&&(X(W)[Ce]=K[Ce],delete K[Ce])}}return d}function Kn(r,a,p,d){if(d){var b=r.anchor;if(p){var C=pt(a,b)<0;C!=pt(p,b)<0?(b=a,a=p):C!=pt(a,p)<0&&(a=p)}return new Ii(b,a)}else return new Ii(p||a,a)}function uu(r,a,p,d,b){b==null&&(b=r.cm&&(r.cm.display.shift||r.extend)),lr(r,new gn([Kn(r.sel.primary(),a,p,b)],0),d)}function Sc(r,a,p){for(var d=[],b=r.cm&&(r.cm.display.shift||r.extend),C=0;C<r.sel.ranges.length;C++)d[C]=Kn(r.sel.ranges[C],a[C],null,b);var R=No(r.cm,d,r.sel.primIndex);lr(r,R,p)}function _o(r,a,p,d){var b=r.sel.ranges.slice(0);b[a]=p,lr(r,No(r.cm,b,r.sel.primIndex),d)}function Ml(r,a,p,d){lr(r,Za(a,p),d)}function Pl(r,a,p){var d={ranges:a.ranges,update:function(b){this.ranges=[];for(var C=0;C<b.length;C++)this.ranges[C]=new Ii(Wt(r,b[C].anchor),Wt(r,b[C].head))},origin:p&&p.origin};return Fi(r,"beforeSelectionChange",r,d),r.cm&&Fi(r.cm,"beforeSelectionChange",r.cm,d),d.ranges!=a.ranges?No(r.cm,d.ranges,d.ranges.length-1):a}function Qa(r,a,p){var d=r.history.done,b=X(d);b&&b.ranges?(d[d.length-1]=a,cr(r,a,p)):lr(r,a,p)}function lr(r,a,p){cr(r,a,p),Yu(r,r.sel,r.cm?r.cm.curOp.id:NaN,p)}function cr(r,a,p){(ui(r,"beforeSelectionChange")||r.cm&&ui(r.cm,"beforeSelectionChange"))&&(a=Pl(r,a,p));var d=p&&p.bias||(pt(a.primary().head,r.sel.primary().head)<0?-1:1);Ol(r,Ph(r,a,d,!0)),!(p&&p.scroll===!1)&&r.cm&&r.cm.getOption("readOnly")!="nocursor"&&U(r.cm)}function Ol(r,a){a.equals(r.sel)||(r.sel=a,r.cm&&(r.cm.curOp.updateInput=1,r.cm.curOp.selectionChanged=!0,wi(r.cm)),tn(r,"cursorActivity",r))}function Mh(r){Ol(r,Ph(r,r.sel,null,!1))}function Ph(r,a,p,d){for(var b,C=0;C<a.ranges.length;C++){var R=a.ranges[C],W=a.ranges.length==r.sel.ranges.length&&r.sel.ranges[C],G=cu(r,R.anchor,W&&W.anchor,p,d),K=R.head==R.anchor?G:cu(r,R.head,W&&W.head,p,d);(b||G!=R.anchor||K!=R.head)&&(b||(b=a.ranges.slice(0,C)),b[C]=new Ii(G,K))}return b?No(r.cm,b,a.primIndex):a}function lu(r,a,p,d,b){var C=Dt(r,a.line);if(C.markedSpans)for(var R=0;R<C.markedSpans.length;++R){var W=C.markedSpans[R],G=W.marker,K="selectLeft"in G?!G.selectLeft:G.inclusiveLeft,be="selectRight"in G?!G.selectRight:G.inclusiveRight;if((W.from==null||(K?W.from<=a.ch:W.from<a.ch))&&(W.to==null||(be?W.to>=a.ch:W.to>a.ch))){if(b&&(Fi(G,"beforeCursorEnter"),G.explicitlyCleared))if(C.markedSpans){--R;continue}else break;if(!G.atomic)continue;if(p){var Ce=G.find(d<0?1:-1),Ie=void 0;if((d<0?be:K)&&(Ce=Oh(r,Ce,-d,Ce&&Ce.line==a.line?C:null)),Ce&&Ce.line==a.line&&(Ie=pt(Ce,p))&&(d<0?Ie<0:Ie>0))return lu(r,Ce,a,d,b)}var Re=G.find(d<0?-1:1);return(d<0?K:be)&&(Re=Oh(r,Re,d,Re.line==a.line?C:null)),Re?lu(r,Re,a,d,b):null}}return a}function cu(r,a,p,d,b){var C=d||1,R=lu(r,a,p,C,b)||!b&&lu(r,a,p,C,!0)||lu(r,a,p,-C,b)||!b&&lu(r,a,p,-C,!0);return R||(r.cantEdit=!0,je(r.first,0))}function Oh(r,a,p,d){return p<0&&a.ch==0?a.line>r.first?Wt(r,je(a.line-1)):null:p>0&&a.ch==(d||Dt(r,a.line)).text.length?a.line<r.first+r.size-1?je(a.line+1,0):null:new je(a.line,a.ch+p)}function hu(r){r.setSelection(je(r.firstLine(),0),je(r.lastLine()),wt)}function Tc(r,a,p){var d={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(b,C,R,W){b&&(d.from=Wt(r,b)),C&&(d.to=Wt(r,C)),R&&(d.text=R),W!==void 0&&(d.origin=W)}),Fi(r,"beforeChange",r,d),r.cm&&Fi(r.cm,"beforeChange",r.cm,d),d.canceled?(r.cm&&(r.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function fu(r,a,p){if(r.cm){if(!r.cm.curOp)return Li(r.cm,fu)(r,a,p);if(r.cm.state.suppressEdits)return}if(!((ui(r,"beforeChange")||r.cm&&ui(r.cm,"beforeChange"))&&(a=Tc(r,a,!0),!a))){var d=Ei&&!p&&Ir(r,a.from,a.to);if(d)for(var b=d.length-1;b>=0;--b)Rh(r,{from:d[b].from,to:d[b].to,text:b?[""]:a.text,origin:a.origin});else Rh(r,a)}}function Rh(r,a){if(!(a.text.length==1&&a.text[0]==""&&pt(a.from,a.to)==0)){var p=Ll(r,a);Cc(r,a,p,r.cm?r.cm.curOp.id:NaN),Gu(r,a,p,An(r,a));var d=[];Ka(r,function(b,C){!C&&Ze(d,b.history)==-1&&(zh(b.history,a),d.push(b.history)),Gu(b,a,null,An(b,a))})}}function Ja(r,a,p){var d=r.cm&&r.cm.state.suppressEdits;if(!(d&&!p)){for(var b=r.history,C,R=r.sel,W=a=="undo"?b.done:b.undone,G=a=="undo"?b.undone:b.done,K=0;K<W.length&&(C=W[K],!(p?C.ranges&&!C.equals(r.sel):!C.ranges));K++);if(K!=W.length){for(b.lastOrigin=b.lastSelOrigin=null;;)if(C=W.pop(),C.ranges){if(Io(C,G),p&&!C.equals(r.sel)){lr(r,C,{clearRedo:!1});return}R=C}else if(d){W.push(C);return}else break;var be=[];Io(R,G),G.push({changes:be,generation:b.generation}),b.generation=C.generation||++b.maxGeneration;for(var Ce=ui(r,"beforeChange")||r.cm&&ui(r.cm,"beforeChange"),Ie=function(rt){var dt=C.changes[rt];if(dt.origin=a,Ce&&!Tc(r,dt,!1))return W.length=0,{};be.push(La(r,dt));var bt=rt?Ll(r,dt):X(W);Gu(r,dt,bt,Dh(r,dt)),!rt&&r.cm&&r.cm.scrollIntoView({from:dt.from,to:Va(dt)});var yt=[];Ka(r,function(vt,Tt){!Tt&&Ze(yt,vt.history)==-1&&(zh(vt.history,dt),yt.push(vt.history)),Gu(vt,dt,null,Dh(vt,dt))})},Re=C.changes.length-1;Re>=0;--Re){var Ge=Ie(Re);if(Ge)return Ge.v}}}}function Fh(r,a){if(a!=0&&(r.first+=a,r.sel=new gn(le(r.sel.ranges,function(b){return new Ii(je(b.anchor.line+a,b.anchor.ch),je(b.head.line+a,b.head.ch))}),r.sel.primIndex),r.cm)){yr(r.cm,r.first,r.first-a,a);for(var p=r.cm.display,d=p.viewFrom;d<p.viewTo;d++)ur(r.cm,d,"gutter")}}function Gu(r,a,p,d){if(r.cm&&!r.cm.curOp)return Li(r.cm,Gu)(r,a,p,d);if(a.to.line<r.first){Fh(r,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>r.lastLine())){if(a.from.line<r.first){var b=a.text.length-1-(r.first-a.from.line);Fh(r,b),a={from:je(r.first,0),to:je(a.to.line+b,a.to.ch),text:[X(a.text)],origin:a.origin}}var C=r.lastLine();a.to.line>C&&(a={from:a.from,to:je(C,Dt(r,C).text.length),text:[a.text[0]],origin:a.origin}),a.removed=Zn(r,a.from,a.to),p||(p=Ll(r,a)),r.cm?Ac(r.cm,a,d):au(r,a,d),cr(r,p,wt),r.cantEdit&&cu(r,je(r.firstLine(),0))&&(r.cantEdit=!1)}}function Ac(r,a,p){var d=r.doc,b=r.display,C=a.from,R=a.to,W=!1,G=C.line;r.options.lineWrapping||(G=J(Ni(Dt(d,C.line))),d.iter(G,R.line+1,function(Re){if(Re==b.maxLine)return W=!0,!0})),d.sel.contains(a.from,a.to)>-1&&wi(r),au(d,a,p,El(r)),r.options.lineWrapping||(d.iter(G,C.line+a.text.length,function(Re){var Ge=bs(Re);Ge>b.maxLineLength&&(b.maxLine=Re,b.maxLineLength=Ge,b.maxLineChanged=!0,W=!1)}),W&&(r.curOp.updateMaxLine=!0)),Wi(d,C.line),ju(r,400);var K=a.text.length-(R.line-C.line)-1;a.full?yr(r):C.line==R.line&&a.text.length==1&&!ou(r.doc,a)?ur(r,C.line,"text"):yr(r,C.line,R.line+1,K);var be=ui(r,"changes"),Ce=ui(r,"change");if(Ce||be){var Ie={from:C,to:R,text:a.text,removed:a.removed,origin:a.origin};Ce&&tn(r,"change",r,Ie),be&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(Ie)}r.display.selForContextMenu=null}function Ds(r,a,p,d,b){var C;d||(d=p),pt(d,p)<0&&(C=[d,p],p=C[0],d=C[1]),typeof a=="string"&&(a=r.splitLines(a)),fu(r,{from:p,to:d,text:a,origin:b})}function Nh(r,a,p,d){p<r.line?r.line+=d:a<r.line&&(r.line=a,r.ch=0)}function Ih(r,a,p,d){for(var b=0;b<r.length;++b){var C=r[b],R=!0;if(C.ranges){C.copied||(C=r[b]=C.deepCopy(),C.copied=!0);for(var W=0;W<C.ranges.length;W++)Nh(C.ranges[W].anchor,a,p,d),Nh(C.ranges[W].head,a,p,d);continue}for(var G=0;G<C.changes.length;++G){var K=C.changes[G];if(p<K.from.line)K.from=je(K.from.line+d,K.from.ch),K.to=je(K.to.line+d,K.to.ch);else if(a<=K.to.line){R=!1;break}}R||(r.splice(0,b+1),b=0)}}function zh(r,a){var p=a.from.line,d=a.to.line,b=a.text.length-(d-p)-1;Ih(r.done,p,d,b),Ih(r.undone,p,d,b)}function du(r,a,p,d){var b=a,C=a;return typeof a=="number"?C=Dt(r,po(r,a)):b=J(a),b==null?null:(d(C,b)&&r.cm&&ur(r.cm,b,p),C)}function Ms(r){this.lines=r,this.parent=null;for(var a=0,p=0;p<r.length;++p)r[p].parent=this,a+=r[p].height;this.height=a}Ms.prototype={chunkSize:function(){return this.lines.length},removeInner:function(r,a){for(var p=r,d=r+a;p<d;++p){var b=this.lines[p];this.height-=b.height,ln(b),tn(b,"delete")}this.lines.splice(r,a)},collapse:function(r){r.push.apply(r,this.lines)},insertInner:function(r,a,p){this.height+=p,this.lines=this.lines.slice(0,r).concat(a).concat(this.lines.slice(r));for(var d=0;d<a.length;++d)a[d].parent=this},iterN:function(r,a,p){for(var d=r+a;r<d;++r)if(p(this.lines[r]))return!0}};function Xu(r){this.children=r;for(var a=0,p=0,d=0;d<r.length;++d){var b=r[d];a+=b.chunkSize(),p+=b.height,b.parent=this}this.size=a,this.height=p,this.parent=null}Xu.prototype={chunkSize:function(){return this.size},removeInner:function(r,a){this.size-=a;for(var p=0;p<this.children.length;++p){var d=this.children[p],b=d.chunkSize();if(r<b){var C=Math.min(a,b-r),R=d.height;if(d.removeInner(r,C),this.height-=R-d.height,b==C&&(this.children.splice(p--,1),d.parent=null),(a-=C)==0)break;r=0}else r-=b}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof Ms))){var W=[];this.collapse(W),this.children=[new Ms(W)],this.children[0].parent=this}},collapse:function(r){for(var a=0;a<this.children.length;++a)this.children[a].collapse(r)},insertInner:function(r,a,p){this.size+=a.length,this.height+=p;for(var d=0;d<this.children.length;++d){var b=this.children[d],C=b.chunkSize();if(r<=C){if(b.insertInner(r,a,p),b.lines&&b.lines.length>50){for(var R=b.lines.length%25+25,W=R;W<b.lines.length;){var G=new Ms(b.lines.slice(W,W+=25));b.height-=G.height,this.children.splice(++d,0,G),G.parent=this}b.lines=b.lines.slice(0,R),this.maybeSpill()}break}r-=C}},maybeSpill:function(){if(!(this.children.length<=10)){var r=this;do{var a=r.children.splice(r.children.length-5,5),p=new Xu(a);if(r.parent){r.size-=p.size,r.height-=p.height;var b=Ze(r.parent.children,r);r.parent.children.splice(b+1,0,p)}else{var d=new Xu(r.children);d.parent=r,r.children=[d,p],r=d}p.parent=r.parent}while(r.children.length>10);r.parent.maybeSpill()}},iterN:function(r,a,p){for(var d=0;d<this.children.length;++d){var b=this.children[d],C=b.chunkSize();if(r<C){var R=Math.min(a,C-r);if(b.iterN(r,R,p))return!0;if((a-=R)==0)break;r=0}else r-=C}}};var Ps=function(r,a,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=r,this.node=a};Ps.prototype.clear=function(){var r=this.doc.cm,a=this.line.widgets,p=this.line,d=J(p);if(!(d==null||!a)){for(var b=0;b<a.length;++b)a[b]==this&&a.splice(b--,1);a.length||(p.widgets=null);var C=Do(this);In(p,Math.max(0,p.height-C)),r&&(Vn(r,function(){Lc(r,p,-C),ur(r,d,"widget")}),tn(r,"lineWidgetCleared",r,this,d))}},Ps.prototype.changed=function(){var r=this,a=this.height,p=this.doc.cm,d=this.line;this.height=null;var b=Do(this)-a;b&&(dn(this.doc,d)||In(d,d.height+b),p&&Vn(p,function(){p.curOp.forceUpdate=!0,Lc(p,d,b),tn(p,"lineWidgetChanged",p,r,J(d))}))},si(Ps);function Lc(r,a,p){no(a)<(r.curOp&&r.curOp.scrollTop||r.doc.scrollTop)&&A(r,p)}function Bh(r,a,p,d){var b=new Ps(r,p,d),C=r.cm;return C&&b.noHScroll&&(C.display.alignWidgets=!0),du(r,a,"widget",function(R){var W=R.widgets||(R.widgets=[]);if(b.insertAt==null?W.push(b):W.splice(Math.min(W.length,Math.max(0,b.insertAt)),0,b),b.line=R,C&&!dn(r,R)){var G=no(R)<r.scrollTop;In(R,R.height+Do(b)),G&&A(C,b.height),C.curOp.forceUpdate=!0}return!0}),C&&tn(C,"lineWidgetAdded",C,b,typeof a=="number"?a:J(a)),b}var Dc=0,zo=function(r,a){this.lines=[],this.type=a,this.doc=r,this.id=++Dc};zo.prototype.clear=function(){if(!this.explicitlyCleared){var r=this.doc.cm,a=r&&!r.curOp;if(a&&Sa(r),ui(this,"clear")){var p=this.find();p&&tn(this,"clear",p.from,p.to)}for(var d=null,b=null,C=0;C<this.lines.length;++C){var R=this.lines[C],W=ri(R.markedSpans,this);r&&!this.collapsed?ur(r,J(R),"text"):r&&(W.to!=null&&(b=J(R)),W.from!=null&&(d=J(R))),R.markedSpans=gt(R.markedSpans,W),W.from==null&&this.collapsed&&!dn(this.doc,R)&&r&&In(R,ro(r.display))}if(r&&this.collapsed&&!r.options.lineWrapping)for(var G=0;G<this.lines.length;++G){var K=Ni(this.lines[G]),be=bs(K);be>r.display.maxLineLength&&(r.display.maxLine=K,r.display.maxLineLength=be,r.display.maxLineChanged=!0)}d!=null&&r&&this.collapsed&&yr(r,d,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,r&&Mh(r.doc)),r&&tn(r,"markerCleared",r,this,d,b),a&&sa(r),this.parent&&this.parent.clear()}},zo.prototype.find=function(r,a){r==null&&this.type=="bookmark"&&(r=1);for(var p,d,b=0;b<this.lines.length;++b){var C=this.lines[b],R=ri(C.markedSpans,this);if(R.from!=null&&(p=je(a?C:J(C),R.from),r==-1))return p;if(R.to!=null&&(d=je(a?C:J(C),R.to),r==1))return d}return p&&{from:p,to:d}},zo.prototype.changed=function(){var r=this,a=this.find(-1,!0),p=this,d=this.doc.cm;!a||!d||Vn(d,function(){var b=a.line,C=J(a.line),R=ja(d,C);if(R&&(Js(R),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!dn(p.doc,b)&&p.height!=null){var W=p.height;p.height=null;var G=Do(p)-W;G&&In(b,b.height+G)}tn(d,"markerChanged",d,r)})},zo.prototype.attachLine=function(r){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||Ze(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(r)},zo.prototype.detachLine=function(r){if(this.lines.splice(Ze(this.lines,r),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},si(zo);function pu(r,a,p,d,b){if(d&&d.shared)return Hh(r,a,p,d,b);if(r.cm&&!r.cm.curOp)return Li(r.cm,pu)(r,a,p,d,b);var C=new zo(r,b),R=pt(a,p);if(d&&Te(d,C,!1),R>0||R==0&&C.clearWhenEmpty!==!1)return C;if(C.replacedWith&&(C.collapsed=!0,C.widgetNode=se("span",[C.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||C.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(C.widgetNode.insertLeft=!0)),C.collapsed){if(gi(r,a.line,a,p,C)||a.line!=p.line&&gi(r,p.line,a,p,C))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rt()}C.addToHistory&&Cc(r,{from:a,to:p,origin:"markText"},r.sel,NaN);var W=a.line,G=r.cm,K;if(r.iter(W,p.line+1,function(Ce){G&&C.collapsed&&!G.options.lineWrapping&&Ni(Ce)==G.display.maxLine&&(K=!0),C.collapsed&&W!=a.line&&In(Ce,0),xi(Ce,new on(C,W==a.line?a.ch:null,W==p.line?p.ch:null),r.cm&&r.cm.curOp),++W}),C.collapsed&&r.iter(a.line,p.line+1,function(Ce){dn(r,Ce)&&In(Ce,0)}),C.clearOnEnter&&Ft(C,"beforeCursorEnter",function(){return C.clear()}),C.readOnly&&(fn(),(r.history.done.length||r.history.undone.length)&&r.clearHistory()),C.collapsed&&(C.id=++Dc,C.atomic=!0),G){if(K&&(G.curOp.updateMaxLine=!0),C.collapsed)yr(G,a.line,p.line+1);else if(C.className||C.startStyle||C.endStyle||C.css||C.attributes||C.title)for(var be=a.line;be<=p.line;be++)ur(G,be,"text");C.atomic&&Mh(G.doc),tn(G,"markerAdded",G,C)}return C}var mu=function(r,a){this.markers=r,this.primary=a;for(var p=0;p<r.length;++p)r[p].parent=this};mu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var r=0;r<this.markers.length;++r)this.markers[r].clear();tn(this,"clear")}},mu.prototype.find=function(r,a){return this.primary.find(r,a)},si(mu);function Hh(r,a,p,d,b){d=Te(d),d.shared=!1;var C=[pu(r,a,p,d,b)],R=C[0],W=d.widgetNode;return Ka(r,function(G){W&&(d.widgetNode=W.cloneNode(!0)),C.push(pu(G,Wt(G,a),Wt(G,p),d,b));for(var K=0;K<G.linked.length;++K)if(G.linked[K].isParent)return;R=X(C)}),new mu(C,R)}function $h(r){return r.findMarks(je(r.first,0),r.clipPos(je(r.lastLine())),function(a){return a.parent})}function Wh(r,a){for(var p=0;p<a.length;p++){var d=a[p],b=d.find(),C=r.clipPos(b.from),R=r.clipPos(b.to);if(pt(C,R)){var W=pu(r,C,R,d.primary,d.primary.type);d.markers.push(W),W.parent=d}}}function _d(r){for(var a=function(d){var b=r[d],C=[b.primary.doc];Ka(b.primary.doc,function(G){return C.push(G)});for(var R=0;R<b.markers.length;R++){var W=b.markers[R];Ze(C,W.doc)==-1&&(W.parent=null,b.markers.splice(R--,1))}},p=0;p<r.length;p++)a(p)}var Mc=0,Lr=function(r,a,p,d,b){if(!(this instanceof Lr))return new Lr(r,a,p,d,b);p==null&&(p=0),Xu.call(this,[new Ms([new To("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var C=je(p,0);this.sel=Za(C),this.history=new su(null),this.id=++Mc,this.modeOption=a,this.lineSep=d,this.direction=b=="rtl"?"rtl":"ltr",this.extend=!1,typeof r=="string"&&(r=this.splitLines(r)),au(this,{from:C,to:C,text:r}),lr(this,Za(C),wt)};Lr.prototype=pe(Xu.prototype,{constructor:Lr,iter:function(r,a,p){p?this.iterN(r-this.first,a-r,p):this.iterN(this.first,this.first+this.size,r)},insert:function(r,a){for(var p=0,d=0;d<a.length;++d)p+=a[d].height;this.insertInner(r-this.first,a,p)},remove:function(r,a){this.removeInner(r-this.first,a)},getValue:function(r){var a=ar(this,this.first,this.first+this.size);return r===!1?a:a.join(r||this.lineSeparator())},setValue:Ln(function(r){var a=je(this.first,0),p=this.first+this.size-1;fu(this,{from:a,to:je(p,Dt(this,p).text.length),text:this.splitLines(r),origin:"setValue",full:!0},!0),this.cm&&oe(this.cm,0,0),lr(this,Za(a),wt)}),replaceRange:function(r,a,p,d){a=Wt(this,a),p=p?Wt(this,p):a,Ds(this,r,a,p,d)},getRange:function(r,a,p){var d=Zn(this,Wt(this,r),Wt(this,a));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(r){var a=this.getLineHandle(r);return a&&a.text},getLineHandle:function(r){if($e(this,r))return Dt(this,r)},getLineNumber:function(r){return J(r)},getLineHandleVisualStart:function(r){return typeof r=="number"&&(r=Dt(this,r)),Ni(r)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(r){return Wt(this,r)},getCursor:function(r){var a=this.sel.primary(),p;return r==null||r=="head"?p=a.head:r=="anchor"?p=a.anchor:r=="end"||r=="to"||r===!1?p=a.to():p=a.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ln(function(r,a,p){Ml(this,Wt(this,typeof r=="number"?je(r,a||0):r),null,p)}),setSelection:Ln(function(r,a,p){Ml(this,Wt(this,r),Wt(this,a||r),p)}),extendSelection:Ln(function(r,a,p){uu(this,Wt(this,r),a&&Wt(this,a),p)}),extendSelections:Ln(function(r,a){Sc(this,_(this,r),a)}),extendSelectionsBy:Ln(function(r,a){var p=le(this.sel.ranges,r);Sc(this,_(this,p),a)}),setSelections:Ln(function(r,a,p){if(r.length){for(var d=[],b=0;b<r.length;b++)d[b]=new Ii(Wt(this,r[b].anchor),Wt(this,r[b].head||r[b].anchor));a==null&&(a=Math.min(r.length-1,this.sel.primIndex)),lr(this,No(this.cm,d,a),p)}}),addSelection:Ln(function(r,a,p){var d=this.sel.ranges.slice(0);d.push(new Ii(Wt(this,r),Wt(this,a||r))),lr(this,No(this.cm,d,d.length-1),p)}),getSelection:function(r){for(var a=this.sel.ranges,p,d=0;d<a.length;d++){var b=Zn(this,a[d].from(),a[d].to());p=p?p.concat(b):b}return r===!1?p:p.join(r||this.lineSeparator())},getSelections:function(r){for(var a=[],p=this.sel.ranges,d=0;d<p.length;d++){var b=Zn(this,p[d].from(),p[d].to());r!==!1&&(b=b.join(r||this.lineSeparator())),a[d]=b}return a},replaceSelection:function(r,a,p){for(var d=[],b=0;b<this.sel.ranges.length;b++)d[b]=r;this.replaceSelections(d,a,p||"+input")},replaceSelections:Ln(function(r,a,p){for(var d=[],b=this.sel,C=0;C<b.ranges.length;C++){var R=b.ranges[C];d[C]={from:R.from(),to:R.to(),text:this.splitLines(r[C]),origin:p}}for(var W=a&&a!="end"&&gd(this,d,a),G=d.length-1;G>=0;G--)fu(this,d[G]);W?Qa(this,W):this.cm&&U(this.cm)}),undo:Ln(function(){Ja(this,"undo")}),redo:Ln(function(){Ja(this,"redo")}),undoSelection:Ln(function(){Ja(this,"undo",!0)}),redoSelection:Ln(function(){Ja(this,"redo",!0)}),setExtending:function(r){this.extend=r},getExtending:function(){return this.extend},historySize:function(){for(var r=this.history,a=0,p=0,d=0;d<r.done.length;d++)r.done[d].ranges||++a;for(var b=0;b<r.undone.length;b++)r.undone[b].ranges||++p;return{undo:a,redo:p}},clearHistory:function(){var r=this;this.history=new su(this.history),Ka(this,function(a){return a.history=r.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(r){return r&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(r){return this.history.generation==(r||this.cleanGeneration)},getHistory:function(){return{done:Ls(this.history.done),undone:Ls(this.history.undone)}},setHistory:function(r){var a=this.history=new su(this.history);a.done=Ls(r.done.slice(0),null,!0),a.undone=Ls(r.undone.slice(0),null,!0)},setGutterMarker:Ln(function(r,a,p){return du(this,r,"gutter",function(d){var b=d.gutterMarkers||(d.gutterMarkers={});return b[a]=p,!p&&mt(b)&&(d.gutterMarkers=null),!0})}),clearGutter:Ln(function(r){var a=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[r]&&du(a,p,"gutter",function(){return p.gutterMarkers[r]=null,mt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(r){var a;if(typeof r=="number"){if(!$e(this,r)||(a=r,r=Dt(this,r),!r))return null}else if(a=J(r),a==null)return null;return{line:a,handle:r,text:r.text,gutterMarkers:r.gutterMarkers,textClass:r.textClass,bgClass:r.bgClass,wrapClass:r.wrapClass,widgets:r.widgets}},addLineClass:Ln(function(r,a,p){return du(this,r,a=="gutter"?"gutter":"class",function(d){var b=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!d[b])d[b]=p;else{if(he(p).test(d[b]))return!1;d[b]+=" "+p}return!0})}),removeLineClass:Ln(function(r,a,p){return du(this,r,a=="gutter"?"gutter":"class",function(d){var b=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",C=d[b];if(C)if(p==null)d[b]=null;else{var R=C.match(he(p));if(!R)return!1;var W=R.index+R[0].length;d[b]=C.slice(0,R.index)+(!R.index||W==C.length?"":" ")+C.slice(W)||null}else return!1;return!0})}),addLineWidget:Ln(function(r,a,p){return Bh(this,r,a,p)}),removeLineWidget:function(r){r.clear()},markText:function(r,a,p){return pu(this,Wt(this,r),Wt(this,a),p,p&&p.type||"range")},setBookmark:function(r,a){var p={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return r=Wt(this,r),pu(this,r,r,p,"bookmark")},findMarksAt:function(r){r=Wt(this,r);var a=[],p=Dt(this,r.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var b=p[d];(b.from==null||b.from<=r.ch)&&(b.to==null||b.to>=r.ch)&&a.push(b.marker.parent||b.marker)}return a},findMarks:function(r,a,p){r=Wt(this,r),a=Wt(this,a);var d=[],b=r.line;return this.iter(r.line,a.line+1,function(C){var R=C.markedSpans;if(R)for(var W=0;W<R.length;W++){var G=R[W];!(G.to!=null&&b==r.line&&r.ch>=G.to||G.from==null&&b!=r.line||G.from!=null&&b==a.line&&G.from>=a.ch)&&(!p||p(G.marker))&&d.push(G.marker.parent||G.marker)}++b}),d},getAllMarks:function(){var r=[];return this.iter(function(a){var p=a.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&r.push(p[d].marker)}),r},posFromIndex:function(r){var a,p=this.first,d=this.lineSeparator().length;return this.iter(function(b){var C=b.text.length+d;if(C>r)return a=r,!0;r-=C,++p}),Wt(this,je(p,a))},indexFromPos:function(r){r=Wt(this,r);var a=r.ch;if(r.line<this.first||r.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,r.line,function(d){a+=d.text.length+p}),a},copy:function(r){var a=new Lr(ar(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,r&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(r){r||(r={});var a=this.first,p=this.first+this.size;r.from!=null&&r.from>a&&(a=r.from),r.to!=null&&r.to<p&&(p=r.to);var d=new Lr(ar(this,a,p),r.mode||this.modeOption,a,this.lineSep,this.direction);return r.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:r.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:r.sharedHist}],Wh(d,$h(this)),d},unlinkDoc:function(r){if(r instanceof Oi&&(r=r.doc),this.linked)for(var a=0;a<this.linked.length;++a){var p=this.linked[a];if(p.doc==r){this.linked.splice(a,1),r.unlinkDoc(this),_d($h(this));break}}if(r.history==this.history){var d=[r.id];Ka(r,function(b){return d.push(b.id)},!0),r.history=new su(null),r.history.done=Ls(this.history.done,d),r.history.undone=Ls(this.history.undone,d)}},iterLinkedDocs:function(r){Ka(this,r)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(r){return this.lineSep?r.split(this.lineSep):Gn(r)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ln(function(r){r!="rtl"&&(r="ltr"),r!=this.direction&&(this.direction=r,this.iter(function(a){return a.order=null}),this.cm&&Aa(this.cm))})}),Lr.prototype.eachLine=Lr.prototype.iter;var Rl=0;function yd(r){var a=this;if(qh(a),!(pi(a,r)||zn(a.display,r))){Bi(r),v&&(Rl=+new Date);var p=oo(a,r,!0),d=r.dataTransfer.files;if(!(!p||a.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var b=d.length,C=Array(b),R=0,W=function(){++R==b&&Li(a,function(){p=Wt(a.doc,p);var Re={from:p,to:p,text:a.doc.splitLines(C.filter(function(Ge){return Ge!=null}).join(a.doc.lineSeparator())),origin:"paste"};fu(a.doc,Re),Qa(a.doc,Za(Wt(a.doc,p),Wt(a.doc,Va(Re))))})()},G=function(Re,Ge){if(a.options.allowDropFileTypes&&Ze(a.options.allowDropFileTypes,Re.type)==-1){W();return}var rt=new FileReader;rt.onerror=function(){return W()},rt.onload=function(){var dt=rt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(dt)){W();return}C[Ge]=dt,W()},rt.readAsText(Re)},K=0;K<d.length;K++)G(d[K],K);else{if(a.state.draggingText&&a.doc.sel.contains(p)>-1){a.state.draggingText(r),setTimeout(function(){return a.display.input.focus()},20);return}try{var be=r.dataTransfer.getData("Text");if(be){var Ce;if(a.state.draggingText&&!a.state.draggingText.copy&&(Ce=a.listSelections()),cr(a.doc,Za(p,p)),Ce)for(var Ie=0;Ie<Ce.length;++Ie)Ds(a.doc,"",Ce[Ie].anchor,Ce[Ie].head,"drag");a.replaceSelection(be,"around","paste"),a.display.input.focus()}}catch{}}}}function Pc(r,a){if(v&&(!r.state.draggingText||+new Date-Rl<100)){Fr(a);return}if(!(pi(r,a)||zn(r.display,a))&&(a.dataTransfer.setData("Text",r.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!j)){var p=P("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F&&(p.width=p.height=1,r.display.wrapper.appendChild(p),p._top=p.offsetTop),a.dataTransfer.setDragImage(p,0,0),F&&p.parentNode.removeChild(p)}}function bi(r,a){var p=oo(r,a);if(p){var d=document.createDocumentFragment();Es(r,p,d),r.display.dragCursor||(r.display.dragCursor=P("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),re(r.display.dragCursor,d)}}function qh(r){r.display.dragCursor&&(r.display.lineSpace.removeChild(r.display.dragCursor),r.display.dragCursor=null)}function jh(r){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<a.length;d++){var b=a[d].CodeMirror;b&&p.push(b)}p.length&&p[0].operation(function(){for(var C=0;C<p.length;C++)r(p[C])})}}var gu=!1;function Uh(){gu||(wd(),gu=!0)}function wd(){var r;Ft(window,"resize",function(){r==null&&(r=setTimeout(function(){r=null,jh(xd)},100))}),Ft(window,"blur",function(){return jh(Ea)})}function xd(r){var a=r.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,r.setSize()}for(var Qn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zu=0;Zu<10;Zu++)Qn[Zu+48]=Qn[Zu+96]=String(Zu);for(var Os=65;Os<=90;Os++)Qn[Os]=String.fromCharCode(Os);for(var Rs=1;Rs<=12;Rs++)Qn[Rs+111]=Qn[Rs+63235]="F"+Rs;var la={};la.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},la.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},la.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},la.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},la.default=I?la.macDefault:la.pcDefault;function Yh(r){var a=r.split(/-(?!$)/);r=a[a.length-1];for(var p,d,b,C,R=0;R<a.length-1;R++){var W=a[R];if(/^(cmd|meta|m)$/i.test(W))C=!0;else if(/^a(lt)?$/i.test(W))p=!0;else if(/^(c|ctrl|control)$/i.test(W))d=!0;else if(/^s(hift)?$/i.test(W))b=!0;else throw new Error("Unrecognized modifier name: "+W)}return p&&(r="Alt-"+r),d&&(r="Ctrl-"+r),C&&(r="Cmd-"+r),b&&(r="Shift-"+r),r}function uo(r){var a={};for(var p in r)if(r.hasOwnProperty(p)){var d=r[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete r[p];continue}for(var b=le(p.split(" "),Yh),C=0;C<b.length;C++){var R=void 0,W=void 0;C==b.length-1?(W=b.join(" "),R=d):(W=b.slice(0,C+1).join(" "),R="...");var G=a[W];if(!G)a[W]=R;else if(G!=R)throw new Error("Inconsistent bindings for "+W)}delete r[p]}for(var K in a)r[K]=a[K];return r}function lo(r,a,p,d){a=Ku(a);var b=a.call?a.call(r,d):a[r];if(b===!1)return"nothing";if(b==="...")return"multi";if(b!=null&&p(b))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return lo(r,a.fallthrough,p,d);for(var C=0;C<a.fallthrough.length;C++){var R=lo(r,a.fallthrough[C],p,d);if(R)return R}}}function Fl(r){var a=typeof r=="string"?r:Qn[r.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function Oc(r,a,p){var d=r;return a.altKey&&d!="Alt"&&(r="Alt-"+r),(de?a.metaKey:a.ctrlKey)&&d!="Ctrl"&&(r="Ctrl-"+r),(de?a.ctrlKey:a.metaKey)&&d!="Mod"&&(r="Cmd-"+r),!p&&a.shiftKey&&d!="Shift"&&(r="Shift-"+r),r}function Vu(r,a){if(F&&r.keyCode==34&&r.char)return!1;var p=Qn[r.keyCode];return p==null||r.altGraphKey?!1:(r.keyCode==3&&r.code&&(p=r.code),Oc(p,r,a))}function Ku(r){return typeof r=="string"?la[r]:r}function es(r,a){for(var p=r.doc.sel.ranges,d=[],b=0;b<p.length;b++){for(var C=a(p[b]);d.length&&pt(C.from,X(d).to)<=0;){var R=d.pop();if(pt(R.from,C.from)<0){C.from=R.from;break}}d.push(C)}Vn(r,function(){for(var W=d.length-1;W>=0;W--)Ds(r.doc,"",d[W].from,d[W].to,"+delete");U(r)})}function Nl(r,a,p){var d=$t(r.text,a+p,p);return d<0||d>r.text.length?null:d}function Qu(r,a,p){var d=Nl(r,a.ch,p);return d==null?null:new je(a.line,d,p<0?"after":"before")}function Ju(r,a,p,d,b){if(r){a.doc.direction=="rtl"&&(b=-b);var C=Ut(p,a.doc.direction);if(C){var R=b<0?X(C):C[0],W=b<0==(R.level==1),G=W?"after":"before",K;if(R.level>0||a.doc.direction=="rtl"){var be=$r(a,p);K=b<0?p.text.length-1:0;var Ce=pn(a,be,K).top;K=Yt(function(Ie){return pn(a,be,Ie).top==Ce},b<0==(R.level==1)?R.from:R.to-1,K),G=="before"&&(K=Nl(p,K,1))}else K=b<0?R.to:R.from;return new je(d,K,G)}}return new je(d,b<0?p.text.length:0,b<0?"before":"after")}function ts(r,a,p,d){var b=Ut(a,r.doc.direction);if(!b)return Qu(a,p,d);p.ch>=a.text.length?(p.ch=a.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var C=xt(b,p.ch,p.sticky),R=b[C];if(r.doc.direction=="ltr"&&R.level%2==0&&(d>0?R.to>p.ch:R.from<p.ch))return Qu(a,p,d);var W=function(bt,yt){return Nl(a,bt instanceof je?bt.ch:bt,yt)},G,K=function(bt){return r.options.lineWrapping?(G=G||$r(r,a),qi(r,a,G,bt)):{begin:0,end:a.text.length}},be=K(p.sticky=="before"?W(p,-1):p.ch);if(r.doc.direction=="rtl"||R.level==1){var Ce=R.level==1==d<0,Ie=W(p,Ce?1:-1);if(Ie!=null&&(Ce?Ie<=R.to&&Ie<=be.end:Ie>=R.from&&Ie>=be.begin)){var Re=Ce?"before":"after";return new je(p.line,Ie,Re)}}var Ge=function(bt,yt,vt){for(var Tt=function(Yi,Cn){return Cn?new je(p.line,W(Yi,1),"before"):new je(p.line,Yi,"after")};bt>=0&&bt<b.length;bt+=yt){var Bt=b[bt],It=yt>0==(Bt.level!=1),ci=It?vt.begin:W(vt.end,-1);if(Bt.from<=ci&&ci<Bt.to||(ci=It?Bt.from:W(Bt.to,-1),vt.begin<=ci&&ci<vt.end))return Tt(ci,It)}},rt=Ge(C+d,d,be);if(rt)return rt;var dt=d>0?be.end:W(be.begin,-1);return dt!=null&&!(d>0&&dt==a.text.length)&&(rt=Ge(d>0?0:b.length-1,d,K(dt)),rt)?rt:null}var el={selectAll:hu,singleSelection:function(r){return r.setSelection(r.getCursor("anchor"),r.getCursor("head"),wt)},killLine:function(r){return es(r,function(a){if(a.empty()){var p=Dt(r.doc,a.head.line).text.length;return a.head.ch==p&&a.head.line<r.lastLine()?{from:a.head,to:je(a.head.line+1,0)}:{from:a.head,to:je(a.head.line,p)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(r){return es(r,function(a){return{from:je(a.from().line,0),to:Wt(r.doc,je(a.to().line+1,0))}})},delLineLeft:function(r){return es(r,function(a){return{from:je(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(r){return es(r,function(a){var p=r.charCoords(a.head,"div").top+5,d=r.coordsChar({left:0,top:p},"div");return{from:d,to:a.from()}})},delWrappedLineRight:function(r){return es(r,function(a){var p=r.charCoords(a.head,"div").top+5,d=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:p},"div");return{from:a.from(),to:d}})},undo:function(r){return r.undo()},redo:function(r){return r.redo()},undoSelection:function(r){return r.undoSelection()},redoSelection:function(r){return r.redoSelection()},goDocStart:function(r){return r.extendSelection(je(r.firstLine(),0))},goDocEnd:function(r){return r.extendSelection(je(r.lastLine()))},goLineStart:function(r){return r.extendSelectionsBy(function(a){return Da(r,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(r){return r.extendSelectionsBy(function(a){return Rc(r,a.head)},{origin:"+move",bias:1})},goLineEnd:function(r){return r.extendSelectionsBy(function(a){return Gh(r,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(a){var p=r.cursorCoords(a.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:p},"div")},_t)},goLineLeft:function(r){return r.extendSelectionsBy(function(a){var p=r.cursorCoords(a.head,"div").top+5;return r.coordsChar({left:0,top:p},"div")},_t)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(a){var p=r.cursorCoords(a.head,"div").top+5,d=r.coordsChar({left:0,top:p},"div");return d.ch<r.getLine(d.line).search(/\S/)?Rc(r,a.head):d},_t)},goLineUp:function(r){return r.moveV(-1,"line")},goLineDown:function(r){return r.moveV(1,"line")},goPageUp:function(r){return r.moveV(-1,"page")},goPageDown:function(r){return r.moveV(1,"page")},goCharLeft:function(r){return r.moveH(-1,"char")},goCharRight:function(r){return r.moveH(1,"char")},goColumnLeft:function(r){return r.moveH(-1,"column")},goColumnRight:function(r){return r.moveH(1,"column")},goWordLeft:function(r){return r.moveH(-1,"word")},goGroupRight:function(r){return r.moveH(1,"group")},goGroupLeft:function(r){return r.moveH(-1,"group")},goWordRight:function(r){return r.moveH(1,"word")},delCharBefore:function(r){return r.deleteH(-1,"codepoint")},delCharAfter:function(r){return r.deleteH(1,"char")},delWordBefore:function(r){return r.deleteH(-1,"word")},delWordAfter:function(r){return r.deleteH(1,"word")},delGroupBefore:function(r){return r.deleteH(-1,"group")},delGroupAfter:function(r){return r.deleteH(1,"group")},indentAuto:function(r){return r.indentSelection("smart")},indentMore:function(r){return r.indentSelection("add")},indentLess:function(r){return r.indentSelection("subtract")},insertTab:function(r){return r.replaceSelection("	")},insertSoftTab:function(r){for(var a=[],p=r.listSelections(),d=r.options.tabSize,b=0;b<p.length;b++){var C=p[b].from(),R=qe(r.getLine(C.line),C.ch,d);a.push(Kt(d-R%d))}r.replaceSelections(a)},defaultTab:function(r){r.somethingSelected()?r.indentSelection("add"):r.execCommand("insertTab")},transposeChars:function(r){return Vn(r,function(){for(var a=r.listSelections(),p=[],d=0;d<a.length;d++)if(a[d].empty()){var b=a[d].head,C=Dt(r.doc,b.line).text;if(C){if(b.ch==C.length&&(b=new je(b.line,b.ch-1)),b.ch>0)b=new je(b.line,b.ch+1),r.replaceRange(C.charAt(b.ch-1)+C.charAt(b.ch-2),je(b.line,b.ch-2),b,"+transpose");else if(b.line>r.doc.first){var R=Dt(r.doc,b.line-1).text;R&&(b=new je(b.line,1),r.replaceRange(C.charAt(0)+r.doc.lineSeparator()+R.charAt(R.length-1),je(b.line-1,R.length-1),b,"+transpose"))}}p.push(new Ii(b,b))}r.setSelections(p)})},newlineAndIndent:function(r){return Vn(r,function(){for(var a=r.listSelections(),p=a.length-1;p>=0;p--)r.replaceRange(r.doc.lineSeparator(),a[p].anchor,a[p].head,"+input");a=r.listSelections();for(var d=0;d<a.length;d++)r.indentLine(a[d].from().line,null,!0);U(r)})},openLine:function(r){return r.replaceSelection(`
`,"start")},toggleOverwrite:function(r){return r.toggleOverwrite()}};function Da(r,a){var p=Dt(r.doc,a),d=Ni(p);return d!=p&&(a=J(d)),Ju(!0,r,d,a,1)}function Gh(r,a){var p=Dt(r.doc,a),d=br(p);return d!=p&&(a=J(d)),Ju(!0,r,p,a,-1)}function Rc(r,a){var p=Da(r,a.line),d=Dt(r.doc,p.line),b=Ut(d,r.doc.direction);if(!b||b[0].level==0){var C=Math.max(p.ch,d.text.search(/\S/)),R=a.line==p.line&&a.ch<=C&&a.ch;return je(p.line,R?0:C,p.sticky)}return p}function vu(r,a,p){if(typeof a=="string"&&(a=el[a],!a))return!1;r.display.input.ensurePolled();var d=r.display.shift,b=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),p&&(r.display.shift=!1),b=a(r)!=Et}finally{r.display.shift=d,r.state.suppressEdits=!1}return b}function kd(r,a,p){for(var d=0;d<r.state.keyMaps.length;d++){var b=lo(a,r.state.keyMaps[d],p,r);if(b)return b}return r.options.extraKeys&&lo(a,r.options.extraKeys,p,r)||lo(a,r.options.keyMap,p,r)}var Cd=new Xe;function tl(r,a,p,d){var b=r.state.keySeq;if(b){if(Fl(a))return"handled";if(/\'$/.test(a)?r.state.keySeq=null:Cd.set(50,function(){r.state.keySeq==b&&(r.state.keySeq=null,r.display.input.reset())}),Fc(r,b+" "+a,p,d))return!0}return Fc(r,a,p,d)}function Fc(r,a,p,d){var b=kd(r,a,d);return b=="multi"&&(r.state.keySeq=a),b=="handled"&&tn(r,"keyHandled",r,a,p),(b=="handled"||b=="multi")&&(Bi(p),oa(r)),!!b}function Nc(r,a){var p=Vu(a,!0);return p?a.shiftKey&&!r.state.keySeq?tl(r,"Shift-"+p,a,function(d){return vu(r,d,!0)})||tl(r,p,a,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return vu(r,d)}):tl(r,p,a,function(d){return vu(r,d)}):!1}function Ed(r,a,p){return tl(r,"'"+p+"'",a,function(d){return vu(r,d,!0)})}var Il=null;function Ic(r){var a=this;if(!(r.target&&r.target!=a.display.input.getField())&&(a.curOp.focus=it(De(a)),!pi(a,r))){v&&x<11&&r.keyCode==27&&(r.returnValue=!1);var p=r.keyCode;a.display.shift=p==16||r.shiftKey;var d=Nc(a,r);F&&(Il=d?p:null,!d&&p==88&&!jr&&(I?r.metaKey:r.ctrlKey)&&a.replaceSelection("",null,"cut")),u&&!I&&!d&&p==46&&r.shiftKey&&!r.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&Vr(a)}}function Vr(r){var a=r.display.lineDiv;Be(a,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(Le(a,"CodeMirror-crosshair"),yi(document,"keyup",p),yi(document,"mouseover",p))}Ft(document,"keyup",p),Ft(document,"mouseover",p)}function Bo(r){r.keyCode==16&&(this.doc.sel.shift=!1),pi(this,r)}function Xh(r){var a=this;if(!(r.target&&r.target!=a.display.input.getField())&&!(zn(a.display,r)||pi(a,r)||r.ctrlKey&&!r.altKey||I&&r.metaKey)){var p=r.keyCode,d=r.charCode;if(F&&p==Il){Il=null,Bi(r);return}if(!(F&&(!r.which||r.which<10)&&Nc(a,r))){var b=String.fromCharCode(d??p);b!="\b"&&(Ed(a,r,b)||a.display.input.onKeyPress(r))}}}var Sd=400,bu=function(r,a,p){this.time=r,this.pos=a,this.button=p};bu.prototype.compare=function(r,a,p){return this.time+Sd>r&&pt(a,this.pos)==0&&p==this.button};var ca,_u;function Zh(r,a){var p=+new Date;return _u&&_u.compare(p,r,a)?(ca=_u=null,"triple"):ca&&ca.compare(p,r,a)?(_u=new bu(p,r,a),ca=null,"double"):(ca=new bu(p,r,a),_u=null,"single")}function Vh(r){var a=this,p=a.display;if(!(pi(a,r)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=r.shiftKey,zn(p,r)){w||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!wu(a,r)){var d=oo(a,r),b=Qi(r),C=d?Zh(d,b):"single";Z(a).focus(),b==1&&a.state.selectingText&&a.state.selectingText(r),!(d&&Kh(a,b,d,C,r))&&(b==1?d?il(a,d,C,r):$i(r)==p.scroller&&Bi(r):b==2?(d&&uu(a.doc,d),setTimeout(function(){return p.input.focus()},20)):b==3&&(ge?a.display.input.onContextMenu(r):Ca(a)))}}}function Kh(r,a,p,d,b){var C="Click";return d=="double"?C="Double"+C:d=="triple"&&(C="Triple"+C),C=(a==1?"Left":a==2?"Middle":"Right")+C,tl(r,Oc(C,b),b,function(R){if(typeof R=="string"&&(R=el[R]),!R)return!1;var W=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),W=R(r,p)!=Et}finally{r.state.suppressEdits=!1}return W})}function yu(r,a,p){var d=r.getOption("configureMouse"),b=d?d(r,a,p):{};if(b.unit==null){var C=V?p.shiftKey&&p.metaKey:p.altKey;b.unit=C?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(b.extend==null||r.doc.extend)&&(b.extend=r.doc.extend||p.shiftKey),b.addNew==null&&(b.addNew=I?p.metaKey:p.ctrlKey),b.moveOnDrag==null&&(b.moveOnDrag=!(I?p.altKey:p.ctrlKey)),b}function il(r,a,p,d){v?setTimeout(we(Oo,r),0):r.curOp.focus=it(De(r));var b=yu(r,p,d),C=r.doc.sel,R;r.options.dragDrop&&gr&&!r.isReadOnly()&&p=="single"&&(R=C.contains(a))>-1&&(pt((R=C.ranges[R]).from(),a)<0||a.xRel>0)&&(pt(R.to(),a)>0||a.xRel<0)?Td(r,d,a,b):Qh(r,d,a,b)}function Td(r,a,p,d){var b=r.display,C=!1,R=Li(r,function(K){w&&(b.scroller.draggable=!1),r.state.draggingText=!1,r.state.delayingBlurEvent&&(r.hasFocus()?r.state.delayingBlurEvent=!1:Ca(r)),yi(b.wrapper.ownerDocument,"mouseup",R),yi(b.wrapper.ownerDocument,"mousemove",W),yi(b.scroller,"dragstart",G),yi(b.scroller,"drop",R),C||(Bi(K),d.addNew||uu(r.doc,p,null,null,d.extend),w&&!j||v&&x==9?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),W=function(K){C=C||Math.abs(a.clientX-K.clientX)+Math.abs(a.clientY-K.clientY)>=10},G=function(){return C=!0};w&&(b.scroller.draggable=!0),r.state.draggingText=R,R.copy=!d.moveOnDrag,Ft(b.wrapper.ownerDocument,"mouseup",R),Ft(b.wrapper.ownerDocument,"mousemove",W),Ft(b.scroller,"dragstart",G),Ft(b.scroller,"drop",R),r.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}function zc(r,a,p){if(p=="char")return new Ii(a,a);if(p=="word")return r.findWordAt(a);if(p=="line")return new Ii(je(a.line,0),Wt(r.doc,je(a.line+1,0)));var d=p(r,a);return new Ii(d.from,d.to)}function Qh(r,a,p,d){v&&Ca(r);var b=r.display,C=r.doc;Bi(a);var R,W,G=C.sel,K=G.ranges;if(d.addNew&&!d.extend?(W=C.sel.contains(p),W>-1?R=K[W]:R=new Ii(p,p)):(R=C.sel.primary(),W=C.sel.primIndex),d.unit=="rectangle")d.addNew||(R=new Ii(p,p)),p=oo(r,a,!0,!0),W=-1;else{var be=zc(r,p,d.unit);d.extend?R=Kn(R,be.anchor,be.head,d.extend):R=be}d.addNew?W==-1?(W=K.length,lr(C,No(r,K.concat([R]),W),{scroll:!1,origin:"*mouse"})):K.length>1&&K[W].empty()&&d.unit=="char"&&!d.extend?(lr(C,No(r,K.slice(0,W).concat(K.slice(W+1)),0),{scroll:!1,origin:"*mouse"}),G=C.sel):_o(C,W,R,St):(W=0,lr(C,new gn([R],0),St),G=C.sel);var Ce=p;function Ie(vt){if(pt(Ce,vt)!=0)if(Ce=vt,d.unit=="rectangle"){for(var Tt=[],Bt=r.options.tabSize,It=qe(Dt(C,p.line).text,p.ch,Bt),ci=qe(Dt(C,vt.line).text,vt.ch,Bt),Yi=Math.min(It,ci),Cn=Math.max(It,ci),sn=Math.min(p.line,vt.line),vn=Math.min(r.lastLine(),Math.max(p.line,vt.line));sn<=vn;sn++){var Dn=Dt(C,sn).text,Mn=Mt(Dn,Yi,Bt);Yi==Cn?Tt.push(new Ii(je(sn,Mn),je(sn,Mn))):Dn.length>Mn&&Tt.push(new Ii(je(sn,Mn),je(sn,Mt(Dn,Cn,Bt))))}Tt.length||Tt.push(new Ii(p,p)),lr(C,No(r,G.ranges.slice(0,W).concat(Tt),W),{origin:"*mouse",scroll:!1}),r.scrollIntoView(vt)}else{var Dr=R,hr=zc(r,vt,d.unit),Hn=Dr.anchor,Pn;pt(hr.anchor,Hn)>0?(Pn=hr.head,Hn=li(Dr.from(),hr.anchor)):(Pn=hr.anchor,Hn=Nt(Dr.to(),hr.head));var bn=G.ranges.slice(0);bn[W]=zl(r,new Ii(Wt(C,Hn),Pn)),lr(C,No(r,bn,W),St)}}var Re=b.wrapper.getBoundingClientRect(),Ge=0;function rt(vt){var Tt=++Ge,Bt=oo(r,vt,!0,d.unit=="rectangle");if(Bt)if(pt(Bt,Ce)!=0){r.curOp.focus=it(De(r)),Ie(Bt);var It=aa(b,C);(Bt.line>=It.to||Bt.line<It.from)&&setTimeout(Li(r,function(){Ge==Tt&&rt(vt)}),150)}else{var ci=vt.clientY<Re.top?-20:vt.clientY>Re.bottom?20:0;ci&&setTimeout(Li(r,function(){Ge==Tt&&(b.scroller.scrollTop+=ci,rt(vt))}),50)}}function dt(vt){r.state.selectingText=!1,Ge=1/0,vt&&(Bi(vt),b.input.focus()),yi(b.wrapper.ownerDocument,"mousemove",bt),yi(b.wrapper.ownerDocument,"mouseup",yt),C.history.lastSelOrigin=null}var bt=Li(r,function(vt){vt.buttons===0||!Qi(vt)?dt(vt):rt(vt)}),yt=Li(r,dt);r.state.selectingText=yt,Ft(b.wrapper.ownerDocument,"mousemove",bt),Ft(b.wrapper.ownerDocument,"mouseup",yt)}function zl(r,a){var p=a.anchor,d=a.head,b=Dt(r.doc,p.line);if(pt(p,d)==0&&p.sticky==d.sticky)return a;var C=Ut(b);if(!C)return a;var R=xt(C,p.ch,p.sticky),W=C[R];if(W.from!=p.ch&&W.to!=p.ch)return a;var G=R+(W.from==p.ch==(W.level!=1)?0:1);if(G==0||G==C.length)return a;var K;if(d.line!=p.line)K=(d.line-p.line)*(r.doc.direction=="ltr"?1:-1)>0;else{var be=xt(C,d.ch,d.sticky),Ce=be-R||(d.ch-p.ch)*(W.level==1?-1:1);be==G-1||be==G?K=Ce<0:K=Ce>0}var Ie=C[G+(K?-1:0)],Re=K==(Ie.level==1),Ge=Re?Ie.from:Ie.to,rt=Re?"after":"before";return p.ch==Ge&&p.sticky==rt?a:new Ii(new je(p.line,Ge,rt),d)}function Bc(r,a,p,d){var b,C;if(a.touches)b=a.touches[0].clientX,C=a.touches[0].clientY;else try{b=a.clientX,C=a.clientY}catch{return!1}if(b>=Math.floor(r.display.gutters.getBoundingClientRect().right))return!1;d&&Bi(a);var R=r.display,W=R.lineDiv.getBoundingClientRect();if(C>W.bottom||!ui(r,p))return Hi(a);C-=W.top-R.viewOffset;for(var G=0;G<r.display.gutterSpecs.length;++G){var K=R.gutters.childNodes[G];if(K&&K.getBoundingClientRect().right>=b){var be=xe(r.doc,C),Ce=r.display.gutterSpecs[G];return Fi(r,p,r,be,Ce.className,a),Hi(a)}}}function wu(r,a){return Bc(r,a,"gutterClick",!0)}function Bl(r,a){zn(r.display,a)||Hl(r,a)||pi(r,a,"contextmenu")||ge||r.display.input.onContextMenu(a)}function Hl(r,a){return ui(r,"gutterContextMenu")?Bc(r,a,"gutterContextMenu",!1):!1}function Jh(r){r.display.wrapper.className=r.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+r.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ea(r)}var Fs={toString:function(){return"CodeMirror.Init"}},nl={},rl={};function Hc(r){var a=r.optionHandlers;function p(d,b,C,R){r.defaults[d]=b,C&&(a[d]=R?function(W,G,K){K!=Fs&&C(W,G,K)}:C)}r.defineOption=p,r.Init=Fs,p("value","",function(d,b){return d.setValue(b)},!0),p("mode",null,function(d,b){d.doc.modeOption=b,xc(d)},!0),p("indentUnit",2,xc,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){As(d),ea(d),yr(d)},!0),p("lineSeparator",null,function(d,b){if(d.doc.lineSep=b,!!b){var C=[],R=d.doc.first;d.doc.iter(function(G){for(var K=0;;){var be=G.text.indexOf(b,K);if(be==-1)break;K=be+b.length,C.push(je(R,be))}R++});for(var W=C.length-1;W>=0;W--)Ds(d.doc,b,C[W],je(C[W].line,C[W].ch+b.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,b,C){d.state.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),C!=Fs&&d.refresh()}),p("specialCharPlaceholder",Lo,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",B?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,b){return d.getInputField().spellcheck=b},!0),p("autocorrect",!1,function(d,b){return d.getInputField().autocorrect=b},!0),p("autocapitalize",!1,function(d,b){return d.getInputField().autocapitalize=b},!0),p("rtlMoveVisually",!ne),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){Jh(d),Uu(d)},!0),p("keyMap","default",function(d,b,C){var R=Ku(b),W=C!=Fs&&Ku(C);W&&W.detach&&W.detach(d,R),R.attach&&R.attach(d,W||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,ef,!0),p("gutters",[],function(d,b){d.display.gutterSpecs=Fo(b,d.options.lineNumbers),Uu(d)},!0),p("fixedGutter",!0,function(d,b){d.display.gutters.style.left=b?Ci(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return mn(d)},!0),p("scrollbarStyle","native",function(d){Tl(d),mn(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,b){d.display.gutterSpecs=Fo(d.options.gutters,b),Uu(d)},!0),p("firstLineNumber",1,Uu,!0),p("lineNumberFormatter",function(d){return d},Uu,!0),p("showCursorWhenSelecting",!1,ao,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,b){b=="nocursor"&&(Ea(d),d.display.input.blur()),d.display.input.readOnlyChanged(b)}),p("screenReaderLabel",null,function(d,b){b=b===""?null:b,d.display.input.screenReaderLabelChanged(b)}),p("disableInput",!1,function(d,b){b||d.display.input.reset()},!0),p("dragDrop",!0,Ad),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,ao,!0),p("singleCursorHeightPerLine",!0,ao,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,As,!0),p("addModeClass",!1,As,!0),p("pollInterval",100),p("undoDepth",200,function(d,b){return d.doc.history.undoDepth=b}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,As,!0),p("moveInputWithCursor",!0,function(d,b){b||d.display.input.resetPosition()}),p("tabindex",null,function(d,b){return d.display.input.getField().tabIndex=b||""}),p("autofocus",null),p("direction","ltr",function(d,b){return d.doc.setDirection(b)},!0),p("phrases",null)}function Ad(r,a,p){var d=p&&p!=Fs;if(!a!=!d){var b=r.display.dragFunctions,C=a?Ft:yi;C(r.display.scroller,"dragstart",b.start),C(r.display.scroller,"dragenter",b.enter),C(r.display.scroller,"dragover",b.over),C(r.display.scroller,"dragleave",b.leave),C(r.display.scroller,"drop",b.drop)}}function ef(r){r.options.lineWrapping?(Be(r.display.wrapper,"CodeMirror-wrap"),r.display.sizer.style.minWidth="",r.display.sizerWidth=null):(Le(r.display.wrapper,"CodeMirror-wrap"),Us(r)),Po(r),yr(r),ea(r),setTimeout(function(){return mn(r)},100)}function Oi(r,a){var p=this;if(!(this instanceof Oi))return new Oi(r,a);this.options=a=a?Te(a):{},Te(nl,a,!1);var d=a.value;typeof d=="string"?d=new Lr(d,a.mode,null,a.lineSeparator,a.direction):a.mode&&(d.modeOption=a.mode),this.doc=d;var b=new Oi.inputStyles[a.inputStyle](this),C=this.display=new pd(r,d,b,a);C.wrapper.CodeMirror=this,Jh(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Tl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Xe,keySeq:null,specialChars:null},a.autofocus&&!B&&C.input.focus(),v&&x<11&&setTimeout(function(){return p.display.input.reset(!0)},20),tf(this),Uh(),Sa(this),this.curOp.forceUpdate=!0,kc(this,d),a.autofocus&&!B||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&nu(p)},20):Ea(this);for(var R in rl)rl.hasOwnProperty(R)&&rl[R](this,a[R],Fs);Ch(this),a.finishInit&&a.finishInit(this);for(var W=0;W<$l.length;++W)$l[W](this);sa(this),w&&a.lineWrapping&&getComputedStyle(C.lineDiv).textRendering=="optimizelegibility"&&(C.lineDiv.style.textRendering="auto")}Oi.defaults=nl,Oi.optionHandlers=rl;function tf(r){var a=r.display;Ft(a.scroller,"mousedown",Li(r,Vh)),v&&x<11?Ft(a.scroller,"dblclick",Li(r,function(G){if(!pi(r,G)){var K=oo(r,G);if(!(!K||wu(r,G)||zn(r.display,G))){Bi(G);var be=r.findWordAt(K);uu(r.doc,be.anchor,be.head)}}})):Ft(a.scroller,"dblclick",function(G){return pi(r,G)||Bi(G)}),Ft(a.scroller,"contextmenu",function(G){return Bl(r,G)}),Ft(a.input.getField(),"contextmenu",function(G){a.scroller.contains(G.target)||Bl(r,G)});var p,d={end:0};function b(){a.activeTouch&&(p=setTimeout(function(){return a.activeTouch=null},1e3),d=a.activeTouch,d.end=+new Date)}function C(G){if(G.touches.length!=1)return!1;var K=G.touches[0];return K.radiusX<=1&&K.radiusY<=1}function R(G,K){if(K.left==null)return!0;var be=K.left-G.left,Ce=K.top-G.top;return be*be+Ce*Ce>20*20}Ft(a.scroller,"touchstart",function(G){if(!pi(r,G)&&!C(G)&&!wu(r,G)){a.input.ensurePolled(),clearTimeout(p);var K=+new Date;a.activeTouch={start:K,moved:!1,prev:K-d.end<=300?d:null},G.touches.length==1&&(a.activeTouch.left=G.touches[0].pageX,a.activeTouch.top=G.touches[0].pageY)}}),Ft(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Ft(a.scroller,"touchend",function(G){var K=a.activeTouch;if(K&&!zn(a,G)&&K.left!=null&&!K.moved&&new Date-K.start<300){var be=r.coordsChar(a.activeTouch,"page"),Ce;!K.prev||R(K,K.prev)?Ce=new Ii(be,be):!K.prev.prev||R(K,K.prev.prev)?Ce=r.findWordAt(be):Ce=new Ii(je(be.line,0),Wt(r.doc,je(be.line+1,0))),r.setSelection(Ce.anchor,Ce.head),r.focus(),Bi(G)}b()}),Ft(a.scroller,"touchcancel",b),Ft(a.scroller,"scroll",function(){a.scroller.clientHeight&&(lt(r,a.scroller.scrollTop),zt(r,a.scroller.scrollLeft,!0),Fi(r,"scroll",r))}),Ft(a.scroller,"mousewheel",function(G){return Sh(r,G)}),Ft(a.scroller,"DOMMouseScroll",function(G){return Sh(r,G)}),Ft(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(G){pi(r,G)||Fr(G)},over:function(G){pi(r,G)||(bi(r,G),Fr(G))},start:function(G){return Pc(r,G)},drop:Li(r,yd),leave:function(G){pi(r,G)||qh(r)}};var W=a.input.getField();Ft(W,"keyup",function(G){return Bo.call(r,G)}),Ft(W,"keydown",Li(r,Ic)),Ft(W,"keypress",Li(r,Xh)),Ft(W,"focus",function(G){return nu(r,G)}),Ft(W,"blur",function(G){return Ea(r,G)})}var $l=[];Oi.defineInitHook=function(r){return $l.push(r)};function ol(r,a,p,d){var b=r.doc,C;p==null&&(p="add"),p=="smart"&&(b.mode.indent?C=_e(r,a).state:p="prev");var R=r.options.tabSize,W=Dt(b,a),G=qe(W.text,null,R);W.stateAfter&&(W.stateAfter=null);var K=W.text.match(/^\s*/)[0],be;if(!d&&!/\S/.test(W.text))be=0,p="not";else if(p=="smart"&&(be=b.mode.indent(C,W.text.slice(K.length),W.text),be==Et||be>150)){if(!d)return;p="prev"}p=="prev"?a>b.first?be=qe(Dt(b,a-1).text,null,R):be=0:p=="add"?be=G+r.options.indentUnit:p=="subtract"?be=G-r.options.indentUnit:typeof p=="number"&&(be=G+p),be=Math.max(0,be);var Ce="",Ie=0;if(r.options.indentWithTabs)for(var Re=Math.floor(be/R);Re;--Re)Ie+=R,Ce+="	";if(Ie<be&&(Ce+=Kt(be-Ie)),Ce!=K)return Ds(b,Ce,je(a,0),je(a,K.length),"+input"),W.stateAfter=null,!0;for(var Ge=0;Ge<b.sel.ranges.length;Ge++){var rt=b.sel.ranges[Ge];if(rt.head.line==a&&rt.head.ch<K.length){var dt=je(a,K.length);_o(b,Ge,new Ii(dt,dt));break}}}var yo=null;function Wl(r){yo=r}function $c(r,a,p,d,b){var C=r.doc;r.display.shift=!1,d||(d=C.sel);var R=+new Date-200,W=b=="paste"||r.state.pasteIncoming>R,G=Gn(a),K=null;if(W&&d.ranges.length>1)if(yo&&yo.text.join(`
`)==a){if(d.ranges.length%yo.text.length==0){K=[];for(var be=0;be<yo.text.length;be++)K.push(C.splitLines(yo.text[be]))}}else G.length==d.ranges.length&&r.options.pasteLinesPerSelection&&(K=le(G,function(bt){return[bt]}));for(var Ce=r.curOp.updateInput,Ie=d.ranges.length-1;Ie>=0;Ie--){var Re=d.ranges[Ie],Ge=Re.from(),rt=Re.to();Re.empty()&&(p&&p>0?Ge=je(Ge.line,Ge.ch-p):r.state.overwrite&&!W?rt=je(rt.line,Math.min(Dt(C,rt.line).text.length,rt.ch+X(G).length)):W&&yo&&yo.lineWise&&yo.text.join(`
`)==G.join(`
`)&&(Ge=rt=je(Ge.line,0)));var dt={from:Ge,to:rt,text:K?K[Ie%K.length]:G,origin:b||(W?"paste":r.state.cutIncoming>R?"cut":"+input")};fu(r.doc,dt),tn(r,"inputRead",r,dt)}a&&!W&&ql(r,a),U(r),r.curOp.updateInput<2&&(r.curOp.updateInput=Ce),r.curOp.typing=!0,r.state.pasteIncoming=r.state.cutIncoming=-1}function ha(r,a){var p=r.clipboardData&&r.clipboardData.getData("Text");if(p)return r.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&Vn(a,function(){return $c(a,p,0,null,"paste")}),!0}function ql(r,a){if(!(!r.options.electricChars||!r.options.smartIndent))for(var p=r.doc.sel,d=p.ranges.length-1;d>=0;d--){var b=p.ranges[d];if(!(b.head.ch>100||d&&p.ranges[d-1].head.line==b.head.line)){var C=r.getModeAt(b.head),R=!1;if(C.electricChars){for(var W=0;W<C.electricChars.length;W++)if(a.indexOf(C.electricChars.charAt(W))>-1){R=ol(r,b.head.line,"smart");break}}else C.electricInput&&C.electricInput.test(Dt(r.doc,b.head.line).text.slice(0,b.head.ch))&&(R=ol(r,b.head.line,"smart"));R&&tn(r,"electricInput",r,b.head.line)}}}function jl(r){for(var a=[],p=[],d=0;d<r.doc.sel.ranges.length;d++){var b=r.doc.sel.ranges[d].head.line,C={anchor:je(b,0),head:je(b+1,0)};p.push(C),a.push(r.getRange(C.anchor,C.head))}return{text:a,ranges:p}}function al(r,a,p,d){r.setAttribute("autocorrect",p?"on":"off"),r.setAttribute("autocapitalize",d?"on":"off"),r.setAttribute("spellcheck",!!a)}function sl(){var r=P("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=P("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return w?r.style.width="1000px":r.setAttribute("wrap","off"),S&&(r.style.border="1px solid black"),a}function xu(r){var a=r.optionHandlers,p=r.helpers={};r.prototype={constructor:r,focus:function(){Z(this).focus(),this.display.input.focus()},setOption:function(d,b){var C=this.options,R=C[d];C[d]==b&&d!="mode"||(C[d]=b,a.hasOwnProperty(d)&&Li(this,a[d])(this,b,R),Fi(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,b){this.state.keyMaps[b?"push":"unshift"](Ku(d))},removeKeyMap:function(d){for(var b=this.state.keyMaps,C=0;C<b.length;++C)if(b[C]==d||b[C].name==d)return b.splice(C,1),!0},addOverlay:Gt(function(d,b){var C=d.token?d:r.getMode(this.options,d);if(C.startState)throw new Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:C,modeSpec:d,opaque:b&&b.opaque,priority:b&&b.priority||0},function(R){return R.priority}),this.state.modeGen++,yr(this)}),removeOverlay:Gt(function(d){for(var b=this.state.overlays,C=0;C<b.length;++C){var R=b[C].modeSpec;if(R==d||typeof d=="string"&&R.name==d){b.splice(C,1),this.state.modeGen++,yr(this);return}}}),indentLine:Gt(function(d,b,C){typeof b!="string"&&typeof b!="number"&&(b==null?b=this.options.smartIndent?"smart":"prev":b=b?"add":"subtract"),$e(this.doc,d)&&ol(this,d,b,C)}),indentSelection:Gt(function(d){for(var b=this.doc.sel.ranges,C=-1,R=0;R<b.length;R++){var W=b[R];if(W.empty())W.head.line>C&&(ol(this,W.head.line,d,!0),C=W.head.line,R==this.doc.sel.primIndex&&U(this));else{var G=W.from(),K=W.to(),be=Math.max(C,G.line);C=Math.min(this.lastLine(),K.line-(K.ch?0:1))+1;for(var Ce=be;Ce<C;++Ce)ol(this,Ce,d);var Ie=this.doc.sel.ranges;G.ch==0&&b.length==Ie.length&&Ie[R].from().ch>0&&_o(this.doc,R,new Ii(G,Ie[R].to()),wt)}}}),getTokenAt:function(d,b){return Ke(this,d,b)},getLineTokens:function(d,b){return Ke(this,je(d),b,!0)},getTokenTypeAt:function(d){d=Wt(this.doc,d);var b=ae(this,Dt(this.doc,d.line)),C=0,R=(b.length-1)/2,W=d.ch,G;if(W==0)G=b[2];else for(;;){var K=C+R>>1;if((K?b[K*2-1]:0)>=W)R=K;else if(b[K*2+1]<W)C=K+1;else{G=b[K*2+2];break}}var be=G?G.indexOf("overlay "):-1;return be<0?G:be==0?null:G.slice(0,be-1)},getModeAt:function(d){var b=this.doc.mode;return b.innerMode?r.innerMode(b,this.getTokenAt(d).state).mode:b},getHelper:function(d,b){return this.getHelpers(d,b)[0]},getHelpers:function(d,b){var C=[];if(!p.hasOwnProperty(b))return C;var R=p[b],W=this.getModeAt(d);if(typeof W[b]=="string")R[W[b]]&&C.push(R[W[b]]);else if(W[b])for(var G=0;G<W[b].length;G++){var K=R[W[b][G]];K&&C.push(K)}else W.helperType&&R[W.helperType]?C.push(R[W.helperType]):R[W.name]&&C.push(R[W.name]);for(var be=0;be<R._global.length;be++){var Ce=R._global[be];Ce.pred(W,this)&&Ze(C,Ce.val)==-1&&C.push(Ce.val)}return C},getStateAfter:function(d,b){var C=this.doc;return d=po(C,d??C.first+C.size-1),_e(this,d+1,b).state},cursorCoords:function(d,b){var C,R=this.doc.sel.primary();return d==null?C=R.head:typeof d=="object"?C=Wt(this.doc,d):C=d?R.from():R.to(),Ue(this,C,b||"page")},charCoords:function(d,b){return tt(this,Wt(this.doc,d),b||"page")},coordsChar:function(d,b){return d=Ne(this,d,b||"page"),Si(this,d.left,d.top)},lineAtHeight:function(d,b){return d=Ne(this,{top:d,left:0},b||"page").top,xe(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,b,C){var R=!1,W;if(typeof d=="number"){var G=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>G&&(d=G,R=!0),W=Dt(this.doc,d)}else W=d;return Yr(this,W,{top:0,left:0},b||"page",C||R).top+(R?this.doc.height-no(W):0)},defaultTextHeight:function(){return ro(this.display)},defaultCharWidth:function(){return bo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,b,C,R,W){var G=this.display;d=Ue(this,Wt(this.doc,d));var K=d.bottom,be=d.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),G.sizer.appendChild(b),R=="over")K=d.top;else if(R=="above"||R=="near"){var Ce=Math.max(G.wrapper.clientHeight,this.doc.height),Ie=Math.max(G.sizer.clientWidth,G.lineSpace.clientWidth);(R=="above"||d.bottom+b.offsetHeight>Ce)&&d.top>b.offsetHeight?K=d.top-b.offsetHeight:d.bottom+b.offsetHeight<=Ce&&(K=d.bottom),be+b.offsetWidth>Ie&&(be=Ie-b.offsetWidth)}b.style.top=K+"px",b.style.left=b.style.right="",W=="right"?(be=G.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):(W=="left"?be=0:W=="middle"&&(be=(G.sizer.clientWidth-b.offsetWidth)/2),b.style.left=be+"px"),C&&m(this,{left:be,top:K,right:be+b.offsetWidth,bottom:K+b.offsetHeight})},triggerOnKeyDown:Gt(Ic),triggerOnKeyPress:Gt(Xh),triggerOnKeyUp:Bo,triggerOnMouseDown:Gt(Vh),execCommand:function(d){if(el.hasOwnProperty(d))return el[d].call(null,this)},triggerElectric:Gt(function(d){ql(this,d)}),findPosH:function(d,b,C,R){var W=1;b<0&&(W=-1,b=-b);for(var G=Wt(this.doc,d),K=0;K<b&&(G=Zt(this.doc,G,W,C,R),!G.hitSide);++K);return G},moveH:Gt(function(d,b){var C=this;this.extendSelectionsBy(function(R){return C.display.shift||C.doc.extend||R.empty()?Zt(C.doc,R.head,d,b,C.options.rtlMoveVisually):d<0?R.from():R.to()},_t)}),deleteH:Gt(function(d,b){var C=this.doc.sel,R=this.doc;C.somethingSelected()?R.replaceSelection("",null,"+delete"):es(this,function(W){var G=Zt(R,W.head,d,b,!1);return d<0?{from:G,to:W.head}:{from:W.head,to:G}})}),findPosV:function(d,b,C,R){var W=1,G=R;b<0&&(W=-1,b=-b);for(var K=Wt(this.doc,d),be=0;be<b;++be){var Ce=Ue(this,K,"div");if(G==null?G=Ce.left:Ce.left=G,K=ul(this,Ce,W,C),K.hitSide)break}return K},moveV:Gt(function(d,b){var C=this,R=this.doc,W=[],G=!this.display.shift&&!R.extend&&R.sel.somethingSelected();if(R.extendSelectionsBy(function(be){if(G)return d<0?be.from():be.to();var Ce=Ue(C,be.head,"div");be.goalColumn!=null&&(Ce.left=be.goalColumn),W.push(Ce.left);var Ie=ul(C,Ce,d,b);return b=="page"&&be==R.sel.primary()&&A(C,tt(C,Ie,"div").top-Ce.top),Ie},_t),W.length)for(var K=0;K<R.sel.ranges.length;K++)R.sel.ranges[K].goalColumn=W[K]}),findWordAt:function(d){var b=this.doc,C=Dt(b,d.line).text,R=d.ch,W=d.ch;if(C){var G=this.getHelper(d,"wordChars");(d.sticky=="before"||W==C.length)&&R?--R:++W;for(var K=C.charAt(R),be=Qe(K,G)?function(Ce){return Qe(Ce,G)}:/\s/.test(K)?function(Ce){return/\s/.test(Ce)}:function(Ce){return!/\s/.test(Ce)&&!Qe(Ce)};R>0&&be(C.charAt(R-1));)--R;for(;W<C.length&&be(C.charAt(W));)++W}return new Ii(je(d.line,R),je(d.line,W))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Be(this.display.cursorDiv,"CodeMirror-overwrite"):Le(this.display.cursorDiv,"CodeMirror-overwrite"),Fi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==it(De(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gt(function(d,b){oe(this,d,b)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Sr(this)-this.display.barHeight,width:d.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:Wa(this),clientWidth:Jo(this)}},scrollIntoView:Gt(function(d,b){d==null?(d={from:this.doc.sel.primary().head,to:null},b==null&&(b=this.options.cursorScrollMargin)):typeof d=="number"?d={from:je(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=b||0,d.from.line!=null?Ae(this,d):Ye(this,d.from,d.to,d.margin)}),setSize:Gt(function(d,b){var C=this,R=function(G){return typeof G=="number"||/^\d+$/.test(String(G))?G+"px":G};d!=null&&(this.display.wrapper.style.width=R(d)),b!=null&&(this.display.wrapper.style.height=R(b)),this.options.lineWrapping&&eu(this);var W=this.display.viewFrom;this.doc.iter(W,this.display.viewTo,function(G){if(G.widgets){for(var K=0;K<G.widgets.length;K++)if(G.widgets[K].noHScroll){ur(C,W,"widget");break}}++W}),this.curOp.forceUpdate=!0,Fi(this,"refresh",this)}),operation:function(d){return Vn(this,d)},startOperation:function(){return Sa(this)},endOperation:function(){return sa(this)},refresh:Gt(function(){var d=this.display.cachedTextHeight;yr(this),this.curOp.forceUpdate=!0,ea(this),oe(this,this.doc.scrollLeft,this.doc.scrollTop),_c(this.display),(d==null||Math.abs(d-ro(this.display))>.5||this.options.lineWrapping)&&Po(this),Fi(this,"refresh",this)}),swapDoc:Gt(function(d){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),kc(this,d),ea(this),this.display.input.reset(),oe(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,tn(this,"swapDoc",this,b),b}),phrase:function(d){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,d)?b[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},si(r),r.registerHelper=function(d,b,C){p.hasOwnProperty(d)||(p[d]=r[d]={_global:[]}),p[d][b]=C},r.registerGlobalHelper=function(d,b,C,R){r.registerHelper(d,b,R),p[d]._global.push({pred:C,val:R})}}function Zt(r,a,p,d,b){var C=a,R=p,W=Dt(r,a.line),G=b&&r.direction=="rtl"?-p:p;function K(){var yt=a.line+G;return yt<r.first||yt>=r.first+r.size?!1:(a=new je(yt,a.ch,a.sticky),W=Dt(r,yt))}function be(yt){var vt;if(d=="codepoint"){var Tt=W.text.charCodeAt(a.ch+(p>0?0:-1));if(isNaN(Tt))vt=null;else{var Bt=p>0?Tt>=55296&&Tt<56320:Tt>=56320&&Tt<57343;vt=new je(a.line,Math.max(0,Math.min(W.text.length,a.ch+p*(Bt?2:1))),-p)}}else b?vt=ts(r.cm,W,a,p):vt=Qu(W,a,p);if(vt==null)if(!yt&&K())a=Ju(b,r.cm,W,a.line,G);else return!1;else a=vt;return!0}if(d=="char"||d=="codepoint")be();else if(d=="column")be(!0);else if(d=="word"||d=="group")for(var Ce=null,Ie=d=="group",Re=r.cm&&r.cm.getHelper(a,"wordChars"),Ge=!0;!(p<0&&!be(!Ge));Ge=!1){var rt=W.text.charAt(a.ch)||`
`,dt=Qe(rt,Re)?"w":Ie&&rt==`
`?"n":!Ie||/\s/.test(rt)?null:"p";if(Ie&&!Ge&&!dt&&(dt="s"),Ce&&Ce!=dt){p<0&&(p=1,be(),a.sticky="after");break}if(dt&&(Ce=dt),p>0&&!be(!Ge))break}var bt=cu(r,a,C,R,!0);return ni(C,bt)&&(bt.hitSide=!0),bt}function ul(r,a,p,d){var b=r.doc,C=a.left,R;if(d=="page"){var W=Math.min(r.display.wrapper.clientHeight,Z(r).innerHeight||b(r).documentElement.clientHeight),G=Math.max(W-.5*ro(r.display),3);R=(p>0?a.bottom:a.top)+p*G}else d=="line"&&(R=p>0?a.bottom+3:a.top-3);for(var K;K=Si(r,C,R),!!K.outside;){if(p<0?R<=0:R>=b.height){K.hitSide=!0;break}R+=p*5}return K}var zi=function(r){this.cm=r,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Xe,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};zi.prototype.init=function(r){var a=this,p=this,d=p.cm,b=p.div=r.lineDiv;b.contentEditable=!0,al(b,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function C(W){for(var G=W.target;G;G=G.parentNode){if(G==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(G.className))break}return!1}Ft(b,"paste",function(W){!C(W)||pi(d,W)||ha(W,d)||x<=11&&setTimeout(Li(d,function(){return a.updateFromDOM()}),20)}),Ft(b,"compositionstart",function(W){a.composing={data:W.data,done:!1}}),Ft(b,"compositionupdate",function(W){a.composing||(a.composing={data:W.data,done:!1})}),Ft(b,"compositionend",function(W){a.composing&&(W.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),Ft(b,"touchstart",function(){return p.forceCompositionEnd()}),Ft(b,"input",function(){a.composing||a.readFromDOMSoon()});function R(W){if(!(!C(W)||pi(d,W))){if(d.somethingSelected())Wl({lineWise:!1,text:d.getSelections()}),W.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var G=jl(d);Wl({lineWise:!0,text:G.text}),W.type=="cut"&&d.operation(function(){d.setSelections(G.ranges,0,wt),d.replaceSelection("",null,"cut")})}else return;if(W.clipboardData){W.clipboardData.clearData();var K=yo.text.join(`
`);if(W.clipboardData.setData("Text",K),W.clipboardData.getData("Text")==K){W.preventDefault();return}}var be=sl(),Ce=be.firstChild;al(Ce),d.display.lineSpace.insertBefore(be,d.display.lineSpace.firstChild),Ce.value=yo.text.join(`
`);var Ie=it(Fe(b));te(Ce),setTimeout(function(){d.display.lineSpace.removeChild(be),Ie.focus(),Ie==b&&p.showPrimarySelection()},50)}}Ft(b,"copy",R),Ft(b,"cut",R)},zi.prototype.screenReaderLabelChanged=function(r){r?this.div.setAttribute("aria-label",r):this.div.removeAttribute("aria-label")},zi.prototype.prepareSelection=function(){var r=ka(this.cm,!1);return r.focus=it(Fe(this.div))==this.div,r},zi.prototype.showSelection=function(r,a){!r||!this.cm.display.view.length||((r.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(r))},zi.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zi.prototype.showPrimarySelection=function(){var r=this.getSelection(),a=this.cm,p=a.doc.sel.primary(),d=p.from(),b=p.to();if(a.display.viewTo==a.display.viewFrom||d.line>=a.display.viewTo||b.line<a.display.viewFrom){r.removeAllRanges();return}var C=Jn(a,r.anchorNode,r.anchorOffset),R=Jn(a,r.focusNode,r.focusOffset);if(!(C&&!C.bad&&R&&!R.bad&&pt(li(C,R),d)==0&&pt(Nt(C,R),b)==0)){var W=a.display.view,G=d.line>=a.display.viewFrom&&is(a,d)||{node:W[0].measure.map[2],offset:0},K=b.line<a.display.viewTo&&is(a,b);if(!K){var be=W[W.length-1].measure,Ce=be.maps?be.maps[be.maps.length-1]:be.map;K={node:Ce[Ce.length-1],offset:Ce[Ce.length-2]-Ce[Ce.length-3]}}if(!G||!K){r.removeAllRanges();return}var Ie=r.rangeCount&&r.getRangeAt(0),Re;try{Re=ye(G.node,G.offset,K.offset,K.node)}catch{}Re&&(!u&&a.state.focused?(r.collapse(G.node,G.offset),Re.collapsed||(r.removeAllRanges(),r.addRange(Re))):(r.removeAllRanges(),r.addRange(Re)),Ie&&r.anchorNode==null?r.addRange(Ie):u&&this.startGracePeriod()),this.rememberSelection()}},zi.prototype.startGracePeriod=function(){var r=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){r.gracePeriod=!1,r.selectionChanged()&&r.cm.operation(function(){return r.cm.curOp.selectionChanged=!0})},20)},zi.prototype.showMultipleSelections=function(r){re(this.cm.display.cursorDiv,r.cursors),re(this.cm.display.selectionDiv,r.selection)},zi.prototype.rememberSelection=function(){var r=this.getSelection();this.lastAnchorNode=r.anchorNode,this.lastAnchorOffset=r.anchorOffset,this.lastFocusNode=r.focusNode,this.lastFocusOffset=r.focusOffset},zi.prototype.selectionInEditor=function(){var r=this.getSelection();if(!r.rangeCount)return!1;var a=r.getRangeAt(0).commonAncestorContainer;return Ee(this.div,a)},zi.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||it(Fe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},zi.prototype.blur=function(){this.div.blur()},zi.prototype.getField=function(){return this.div},zi.prototype.supportsTouch=function(){return!0},zi.prototype.receivedFocus=function(){var r=this,a=this;this.selectionInEditor()?setTimeout(function(){return r.pollSelection()},20):Vn(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function p(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},zi.prototype.selectionChanged=function(){var r=this.getSelection();return r.anchorNode!=this.lastAnchorNode||r.anchorOffset!=this.lastAnchorOffset||r.focusNode!=this.lastFocusNode||r.focusOffset!=this.lastFocusOffset},zi.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var r=this.getSelection(),a=this.cm;if(D&&O&&this.cm.display.gutterSpecs.length&&Ld(r.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=Jn(a,r.anchorNode,r.anchorOffset),d=Jn(a,r.focusNode,r.focusOffset);p&&d&&Vn(a,function(){lr(a.doc,Za(p,d),wt),(p.bad||d.bad)&&(a.curOp.selectionChanged=!0)})}}},zi.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var r=this.cm,a=r.display,p=r.doc.sel.primary(),d=p.from(),b=p.to();if(d.ch==0&&d.line>r.firstLine()&&(d=je(d.line-1,Dt(r.doc,d.line-1).length)),b.ch==Dt(r.doc,b.line).text.length&&b.line<r.lastLine()&&(b=je(b.line+1,0)),d.line<a.viewFrom||b.line>a.viewTo-1)return!1;var C,R,W;d.line==a.viewFrom||(C=ia(r,d.line))==0?(R=J(a.view[0].line),W=a.view[0].node):(R=J(a.view[C].line),W=a.view[C-1].node.nextSibling);var G=ia(r,b.line),K,be;if(G==a.view.length-1?(K=a.viewTo-1,be=a.lineDiv.lastChild):(K=J(a.view[G+1].line)-1,be=a.view[G+1].node.previousSibling),!W)return!1;for(var Ce=r.doc.splitLines(nf(r,W,be,R,K)),Ie=Zn(r.doc,je(R,0),je(K,Dt(r.doc,K).text.length));Ce.length>1&&Ie.length>1;)if(X(Ce)==X(Ie))Ce.pop(),Ie.pop(),K--;else if(Ce[0]==Ie[0])Ce.shift(),Ie.shift(),R++;else break;for(var Re=0,Ge=0,rt=Ce[0],dt=Ie[0],bt=Math.min(rt.length,dt.length);Re<bt&&rt.charCodeAt(Re)==dt.charCodeAt(Re);)++Re;for(var yt=X(Ce),vt=X(Ie),Tt=Math.min(yt.length-(Ce.length==1?Re:0),vt.length-(Ie.length==1?Re:0));Ge<Tt&&yt.charCodeAt(yt.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)++Ge;if(Ce.length==1&&Ie.length==1&&R==d.line)for(;Re&&Re>d.ch&&yt.charCodeAt(yt.length-Ge-1)==vt.charCodeAt(vt.length-Ge-1);)Re--,Ge++;Ce[Ce.length-1]=yt.slice(0,yt.length-Ge).replace(/^\u200b+/,""),Ce[0]=Ce[0].slice(Re).replace(/\u200b+$/,"");var Bt=je(R,Re),It=je(K,Ie.length?X(Ie).length-Ge:0);if(Ce.length>1||Ce[0]||pt(Bt,It))return Ds(r.doc,Ce,Bt,It,"+input"),!0},zi.prototype.ensurePolled=function(){this.forceCompositionEnd()},zi.prototype.reset=function(){this.forceCompositionEnd()},zi.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zi.prototype.readFromDOMSoon=function(){var r=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(r.readDOMTimeout=null,r.composing)if(r.composing.done)r.composing=null;else return;r.updateFromDOM()},80))},zi.prototype.updateFromDOM=function(){var r=this;(this.cm.isReadOnly()||!this.pollContent())&&Vn(this.cm,function(){return yr(r.cm)})},zi.prototype.setUneditable=function(r){r.contentEditable="false"},zi.prototype.onKeyPress=function(r){r.charCode==0||this.composing||(r.preventDefault(),this.cm.isReadOnly()||Li(this.cm,$c)(this.cm,String.fromCharCode(r.charCode==null?r.keyCode:r.charCode),0))},zi.prototype.readOnlyChanged=function(r){this.div.contentEditable=String(r!="nocursor")},zi.prototype.onContextMenu=function(){},zi.prototype.resetPosition=function(){},zi.prototype.needsContentAttribute=!0;function is(r,a){var p=ja(r,a.line);if(!p||p.hidden)return null;var d=Dt(r.doc,a.line),b=Mo(p,d,a.line),C=Ut(d,r.doc.direction),R="left";if(C){var W=xt(C,a.ch);R=W%2?"right":"left"}var G=xa(b.map,a.ch,R);return G.offset=G.collapse=="right"?G.end:G.start,G}function Ld(r){for(var a=r;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function ns(r,a){return a&&(r.bad=!0),r}function nf(r,a,p,d,b){var C="",R=!1,W=r.doc.lineSeparator(),G=!1;function K(Re){return function(Ge){return Ge.id==Re}}function be(){R&&(C+=W,G&&(C+=W),R=G=!1)}function Ce(Re){Re&&(be(),C+=Re)}function Ie(Re){if(Re.nodeType==1){var Ge=Re.getAttribute("cm-text");if(Ge){Ce(Ge);return}var rt=Re.getAttribute("cm-marker"),dt;if(rt){var bt=r.findMarks(je(d,0),je(b+1,0),K(+rt));bt.length&&(dt=bt[0].find(0))&&Ce(Zn(r.doc,dt.from,dt.to).join(W));return}if(Re.getAttribute("contenteditable")=="false")return;var yt=/^(pre|div|p|li|table|br)$/i.test(Re.nodeName);if(!/^br$/i.test(Re.nodeName)&&Re.textContent.length==0)return;yt&&be();for(var vt=0;vt<Re.childNodes.length;vt++)Ie(Re.childNodes[vt]);/^(pre|p)$/i.test(Re.nodeName)&&(G=!0),yt&&(R=!0)}else Re.nodeType==3&&Ce(Re.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ie(a),a!=p;)a=a.nextSibling,G=!1;return C}function Jn(r,a,p){var d;if(a==r.display.lineDiv){if(d=r.display.lineDiv.childNodes[p],!d)return ns(r.clipPos(je(r.display.viewTo-1)),!0);a=null,p=0}else for(d=a;;d=d.parentNode){if(!d||d==r.display.lineDiv)return null;if(d.parentNode&&d.parentNode==r.display.lineDiv)break}for(var b=0;b<r.display.view.length;b++){var C=r.display.view[b];if(C.node==d)return Dd(C,a,p)}}function Dd(r,a,p){var d=r.text.firstChild,b=!1;if(!a||!Ee(d,a))return ns(je(J(r.line),0),!0);if(a==d&&(b=!0,a=d.childNodes[p],p=0,!a)){var C=r.rest?X(r.rest):r.line;return ns(je(J(C),C.text.length),b)}var R=a.nodeType==3?a:null,W=a;for(!R&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(R=a.firstChild,p&&(p=R.nodeValue.length));W.parentNode!=d;)W=W.parentNode;var G=r.measure,K=G.maps;function be(dt,bt,yt){for(var vt=-1;vt<(K?K.length:0);vt++)for(var Tt=vt<0?G.map:K[vt],Bt=0;Bt<Tt.length;Bt+=3){var It=Tt[Bt+2];if(It==dt||It==bt){var ci=J(vt<0?r.line:r.rest[vt]),Yi=Tt[Bt]+yt;return(yt<0||It!=dt)&&(Yi=Tt[Bt+(yt?1:0)]),je(ci,Yi)}}}var Ce=be(R,W,p);if(Ce)return ns(Ce,b);for(var Ie=W.nextSibling,Re=R?R.nodeValue.length-p:0;Ie;Ie=Ie.nextSibling){if(Ce=be(Ie,Ie.firstChild,0),Ce)return ns(je(Ce.line,Ce.ch-Re),b);Re+=Ie.textContent.length}for(var Ge=W.previousSibling,rt=p;Ge;Ge=Ge.previousSibling){if(Ce=be(Ge,Ge.firstChild,-1),Ce)return ns(je(Ce.line,Ce.ch+rt),b);rt+=Ge.textContent.length}}var kn=function(r){this.cm=r,this.prevInput="",this.pollingFast=!1,this.polling=new Xe,this.hasSelection=!1,this.composing=null,this.resetting=!1};kn.prototype.init=function(r){var a=this,p=this,d=this.cm;this.createField(r);var b=this.textarea;r.wrapper.insertBefore(this.wrapper,r.wrapper.firstChild),S&&(b.style.width="0px"),Ft(b,"input",function(){v&&x>=9&&a.hasSelection&&(a.hasSelection=null),p.poll()}),Ft(b,"paste",function(R){pi(d,R)||ha(R,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function C(R){if(!pi(d,R)){if(d.somethingSelected())Wl({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var W=jl(d);Wl({lineWise:!0,text:W.text}),R.type=="cut"?d.setSelections(W.ranges,null,wt):(p.prevInput="",b.value=W.text.join(`
`),te(b))}else return;R.type=="cut"&&(d.state.cutIncoming=+new Date)}}Ft(b,"cut",C),Ft(b,"copy",C),Ft(r.scroller,"paste",function(R){if(!(zn(r,R)||pi(d,R))){if(!b.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var W=new Event("paste");W.clipboardData=R.clipboardData,b.dispatchEvent(W)}}),Ft(r.lineSpace,"selectstart",function(R){zn(r,R)||Bi(R)}),Ft(b,"compositionstart",function(){var R=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:R,range:d.markText(R,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Ft(b,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},kn.prototype.createField=function(r){this.wrapper=sl(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;al(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},kn.prototype.screenReaderLabelChanged=function(r){r?this.textarea.setAttribute("aria-label",r):this.textarea.removeAttribute("aria-label")},kn.prototype.prepareSelection=function(){var r=this.cm,a=r.display,p=r.doc,d=ka(r);if(r.options.moveInputWithCursor){var b=Ue(r,p.sel.primary().head,"div"),C=a.wrapper.getBoundingClientRect(),R=a.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,b.top+R.top-C.top)),d.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,b.left+R.left-C.left))}return d},kn.prototype.showSelection=function(r){var a=this.cm,p=a.display;re(p.cursorDiv,r.cursors),re(p.selectionDiv,r.selection),r.teTop!=null&&(this.wrapper.style.top=r.teTop+"px",this.wrapper.style.left=r.teLeft+"px")},kn.prototype.reset=function(r){if(!(this.contextMenuPending||this.composing&&r)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var p=a.getSelection();this.textarea.value=p,a.state.focused&&te(this.textarea),v&&x>=9&&(this.hasSelection=p)}else r||(this.prevInput=this.textarea.value="",v&&x>=9&&(this.hasSelection=null));this.resetting=!1}},kn.prototype.getField=function(){return this.textarea},kn.prototype.supportsTouch=function(){return!1},kn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!B||it(Fe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},kn.prototype.blur=function(){this.textarea.blur()},kn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},kn.prototype.receivedFocus=function(){this.slowPoll()},kn.prototype.slowPoll=function(){var r=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){r.poll(),r.cm.state.focused&&r.slowPoll()})},kn.prototype.fastPoll=function(){var r=!1,a=this;a.pollingFast=!0;function p(){var d=a.poll();!d&&!r?(r=!0,a.polling.set(60,p)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,p)},kn.prototype.poll=function(){var r=this,a=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||nr(p)&&!d&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var b=p.value;if(b==d&&!a.somethingSelected())return!1;if(v&&x>=9&&this.hasSelection===b||I&&/[\uf700-\uf7ff]/.test(b))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var C=b.charCodeAt(0);if(C==8203&&!d&&(d=""),C==8666)return this.reset(),this.cm.execCommand("undo")}for(var R=0,W=Math.min(d.length,b.length);R<W&&d.charCodeAt(R)==b.charCodeAt(R);)++R;return Vn(a,function(){$c(a,b.slice(R),d.length-R,null,r.composing?"*compose":null),b.length>1e3||b.indexOf(`
`)>-1?p.value=r.prevInput="":r.prevInput=b,r.composing&&(r.composing.range.clear(),r.composing.range=a.markText(r.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},kn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},kn.prototype.onKeyPress=function(){v&&x>=9&&(this.hasSelection=null),this.fastPoll()},kn.prototype.onContextMenu=function(r){var a=this,p=a.cm,d=p.display,b=a.textarea;a.contextMenuPending&&a.contextMenuPending();var C=oo(p,r),R=d.scroller.scrollTop;if(!C||F)return;var W=p.options.resetSelectionOnContextMenu;W&&p.doc.sel.contains(C)==-1&&Li(p,lr)(p.doc,Za(C),wt);var G=b.style.cssText,K=a.wrapper.style.cssText,be=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",b.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(r.clientY-be.top-5)+"px; left: "+(r.clientX-be.left-5)+`px;
      z-index: 1000; background: `+(v?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ce;w&&(Ce=b.ownerDocument.defaultView.scrollY),d.input.focus(),w&&b.ownerDocument.defaultView.scrollTo(null,Ce),d.input.reset(),p.somethingSelected()||(b.value=a.prevInput=" "),a.contextMenuPending=Re,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function Ie(){if(b.selectionStart!=null){var rt=p.somethingSelected(),dt=""+(rt?b.value:"");b.value="",b.value=dt,a.prevInput=rt?"":"",b.selectionStart=1,b.selectionEnd=dt.length,d.selForContextMenu=p.doc.sel}}function Re(){if(a.contextMenuPending==Re&&(a.contextMenuPending=!1,a.wrapper.style.cssText=K,b.style.cssText=G,v&&x<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=R),b.selectionStart!=null)){(!v||v&&x<9)&&Ie();var rt=0,dt=function(){d.selForContextMenu==p.doc.sel&&b.selectionStart==0&&b.selectionEnd>0&&a.prevInput==""?Li(p,hu)(p):rt++<10?d.detectingSelectAll=setTimeout(dt,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(dt,200)}}if(v&&x>=9&&Ie(),ge){Fr(r);var Ge=function(){yi(window,"mouseup",Ge),setTimeout(Re,20)};Ft(window,"mouseup",Ge)}else setTimeout(Re,50)},kn.prototype.readOnlyChanged=function(r){r||this.reset(),this.textarea.disabled=r=="nocursor",this.textarea.readOnly=!!r},kn.prototype.setUneditable=function(){},kn.prototype.needsContentAttribute=!1;function rf(r,a){if(a=a?Te(a):{},a.value=r.value,!a.tabindex&&r.tabIndex&&(a.tabindex=r.tabIndex),!a.placeholder&&r.placeholder&&(a.placeholder=r.placeholder),a.autofocus==null){var p=it(Fe(r));a.autofocus=p==r||r.getAttribute("autofocus")!=null&&p==document.body}function d(){r.value=W.getValue()}var b;if(r.form&&(Ft(r.form,"submit",d),!a.leaveSubmitMethodAlone)){var C=r.form;b=C.submit;try{var R=C.submit=function(){d(),C.submit=b,C.submit(),C.submit=R}}catch{}}a.finishInit=function(G){G.save=d,G.getTextArea=function(){return r},G.toTextArea=function(){G.toTextArea=isNaN,d(),r.parentNode.removeChild(G.getWrapperElement()),r.style.display="",r.form&&(yi(r.form,"submit",d),!a.leaveSubmitMethodAlone&&typeof r.form.submit=="function"&&(r.form.submit=b))}},r.style.display="none";var W=Oi(function(G){return r.parentNode.insertBefore(G,r.nextSibling)},a);return W}function Md(r){r.off=yi,r.on=Ft,r.wheelEventPixels=md,r.Doc=Lr,r.splitLines=Gn,r.countColumn=qe,r.findColumn=Mt,r.isWordChar=ot,r.Pass=Et,r.signal=Fi,r.Line=To,r.changeEnd=Va,r.scrollbarModel=Zr,r.Pos=je,r.cmpPos=pt,r.modes=rr,r.mimeModes=or,r.resolveMode=io,r.getMode=kr,r.modeExtensions=Tn,r.extendMode=Nr,r.copyState=yn,r.startState=Xn,r.innerMode=fo,r.commands=el,r.keyMap=la,r.keyName=Vu,r.isModifierKey=Fl,r.lookupKey=lo,r.normalizeKeyMap=uo,r.StringStream=ji,r.SharedTextMarker=mu,r.TextMarker=zo,r.LineWidget=Ps,r.e_preventDefault=Bi,r.e_stopPropagation=eo,r.e_stop=Fr,r.addClass=Be,r.contains=Ee,r.rmClass=Le,r.keyNames=Qn}Hc(Oi),xu(Oi);var of="iter insert remove copy getEditor constructor".split(" ");for(var Ul in Lr.prototype)Lr.prototype.hasOwnProperty(Ul)&&Ze(of,Ul)<0&&(Oi.prototype[Ul]=function(r){return function(){return r.apply(this.doc,arguments)}}(Lr.prototype[Ul]));return si(Lr),Oi.inputStyles={textarea:kn,contenteditable:zi},Oi.defineMode=function(r){!Oi.defaults.mode&&r!="null"&&(Oi.defaults.mode=r),Sn.apply(this,arguments)},Oi.defineMIME=to,Oi.defineMode("null",function(){return{token:function(r){return r.skipToEnd()}}}),Oi.defineMIME("text/plain","null"),Oi.defineExtension=function(r,a){Oi.prototype[r]=a},Oi.defineDocExtension=function(r,a){Lr.prototype[r]=a},Oi.fromTextArea=rf,Md(Oi),Oi.version="5.65.19",Oi})}(Af)),Af.exports}var Hw=ds();const $w=mh(Hw);var Gm={exports:{}},Xm={exports:{}},Zm;function I0(){return Zm||(Zm=1,function(t,e){(function(n){n(ds())})(function(n){var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},u={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(l,h){var f=l.indentUnit,v={},x=h.htmlMode?s:u;for(var w in x)v[w]=x[w];for(var w in h)v[w]=h[w];var E,O;function H(P,se){function ye(Be){return se.tokenize=Be,Be(P,se)}var Ee=P.next();if(Ee=="<")return P.eat("!")?P.eat("[")?P.match("CDATA[")?ye(q("atom","]]>")):null:P.match("--")?ye(q("comment","-->")):P.match("DOCTYPE",!0,!0)?(P.eatWhile(/[\w\._\-]/),ye(M(1))):null:P.eat("?")?(P.eatWhile(/[\w\._\-]/),se.tokenize=q("meta","?>"),"meta"):(E=P.eat("/")?"closeTag":"openTag",se.tokenize=F,"tag bracket");if(Ee=="&"){var it;return P.eat("#")?P.eat("x")?it=P.eatWhile(/[a-fA-F\d]/)&&P.eat(";"):it=P.eatWhile(/[\d]/)&&P.eat(";"):it=P.eatWhile(/[\w\.\-:]/)&&P.eat(";"),it?"atom":"error"}else return P.eatWhile(/[^&<]/),null}H.isInText=!0;function F(P,se){var ye=P.next();if(ye==">"||ye=="/"&&P.eat(">"))return se.tokenize=H,E=ye==">"?"endTag":"selfcloseTag","tag bracket";if(ye=="=")return E="equals",null;if(ye=="<"){se.tokenize=H,se.state=V,se.tagName=se.tagStart=null;var Ee=se.tokenize(P,se);return Ee?Ee+" tag error":"tag error"}else return/[\'\"]/.test(ye)?(se.tokenize=j(ye),se.stringStartCol=P.column(),se.tokenize(P,se)):(P.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function j(P){var se=function(ye,Ee){for(;!ye.eol();)if(ye.next()==P){Ee.tokenize=F;break}return"string"};return se.isInAttribute=!0,se}function q(P,se){return function(ye,Ee){for(;!ye.eol();){if(ye.match(se)){Ee.tokenize=H;break}ye.next()}return P}}function M(P){return function(se,ye){for(var Ee;(Ee=se.next())!=null;){if(Ee=="<")return ye.tokenize=M(P+1),ye.tokenize(se,ye);if(Ee==">")if(P==1){ye.tokenize=H;break}else return ye.tokenize=M(P-1),ye.tokenize(se,ye)}return"meta"}}function S(P){return P&&P.toLowerCase()}function D(P,se,ye){this.prev=P.context,this.tagName=se||"",this.indent=P.indented,this.startOfLine=ye,(v.doNotIndent.hasOwnProperty(se)||P.context&&P.context.noIndent)&&(this.noIndent=!0)}function B(P){P.context&&(P.context=P.context.prev)}function I(P,se){for(var ye;;){if(!P.context||(ye=P.context.tagName,!v.contextGrabbers.hasOwnProperty(S(ye))||!v.contextGrabbers[S(ye)].hasOwnProperty(S(se))))return;B(P)}}function V(P,se,ye){return P=="openTag"?(ye.tagStart=se.column(),ne):P=="closeTag"?ue:V}function ne(P,se,ye){return P=="word"?(ye.tagName=se.current(),O="tag",he):v.allowMissingTagName&&P=="endTag"?(O="tag bracket",he(P,se,ye)):(O="error",ne)}function ue(P,se,ye){if(P=="word"){var Ee=se.current();return ye.context&&ye.context.tagName!=Ee&&v.implicitlyClosed.hasOwnProperty(S(ye.context.tagName))&&B(ye),ye.context&&ye.context.tagName==Ee||v.matchClosing===!1?(O="tag",de):(O="tag error",ge)}else return v.allowMissingTagName&&P=="endTag"?(O="tag bracket",de(P,se,ye)):(O="error",ge)}function de(P,se,ye){return P!="endTag"?(O="error",de):(B(ye),V)}function ge(P,se,ye){return O="error",de(P,se,ye)}function he(P,se,ye){if(P=="word")return O="attribute",Le;if(P=="endTag"||P=="selfcloseTag"){var Ee=ye.tagName,it=ye.tagStart;return ye.tagName=ye.tagStart=null,P=="selfcloseTag"||v.autoSelfClosers.hasOwnProperty(S(Ee))?I(ye,Ee):(I(ye,Ee),ye.context=new D(ye,Ee,it==ye.indented)),V}return O="error",he}function Le(P,se,ye){return P=="equals"?ve:(v.allowMissing||(O="error"),he(P,se,ye))}function ve(P,se,ye){return P=="string"?re:P=="word"&&v.allowUnquoted?(O="string",he):(O="error",he(P,se,ye))}function re(P,se,ye){return P=="string"?re:he(P,se,ye)}return{startState:function(P){var se={tokenize:H,state:V,indented:P||0,tagName:null,tagStart:null,context:null};return P!=null&&(se.baseIndent=P),se},token:function(P,se){if(!se.tagName&&P.sol()&&(se.indented=P.indentation()),P.eatSpace())return null;E=null;var ye=se.tokenize(P,se);return(ye||E)&&ye!="comment"&&(O=null,se.state=se.state(E||ye,P,se),O&&(ye=O=="error"?ye+" error":O)),ye},indent:function(P,se,ye){var Ee=P.context;if(P.tokenize.isInAttribute)return P.tagStart==P.indented?P.stringStartCol+1:P.indented+f;if(Ee&&Ee.noIndent)return n.Pass;if(P.tokenize!=F&&P.tokenize!=H)return ye?ye.match(/^(\s*)/)[0].length:0;if(P.tagName)return v.multilineTagIndentPastTag!==!1?P.tagStart+P.tagName.length+2:P.tagStart+f*(v.multilineTagIndentFactor||1);if(v.alignCDATA&&/<!\[CDATA\[/.test(se))return 0;var it=se&&/^<(\/)?([\w_:\.-]*)/.exec(se);if(it&&it[1])for(;Ee;)if(Ee.tagName==it[2]){Ee=Ee.prev;break}else if(v.implicitlyClosed.hasOwnProperty(S(Ee.tagName)))Ee=Ee.prev;else break;else if(it)for(;Ee;){var Be=v.contextGrabbers[S(Ee.tagName)];if(Be&&Be.hasOwnProperty(S(it[2])))Ee=Ee.prev;else break}for(;Ee&&Ee.prev&&!Ee.startOfLine;)Ee=Ee.prev;return Ee?Ee.indent+f:P.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:v.htmlMode?"html":"xml",helperType:v.htmlMode?"html":"xml",skipAttribute:function(P){P.state==ve&&(P.state=he)},xmlCurrentTag:function(P){return P.tagName?{name:P.tagName,close:P.type=="closeTag"}:null},xmlCurrentContext:function(P){for(var se=[],ye=P.context;ye;ye=ye.prev)se.push(ye.tagName);return se.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Xm.exports}var Vm={exports:{}},Km;function Ww(){return Km||(Km=1,function(t,e){(function(n){n(ds())})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var s=0;s<n.modeInfo.length;s++){var u=n.modeInfo[s];u.mimes&&(u.mime=u.mimes[0])}n.findModeByMIME=function(l){l=l.toLowerCase();for(var h=0;h<n.modeInfo.length;h++){var f=n.modeInfo[h];if(f.mime==l)return f;if(f.mimes){for(var v=0;v<f.mimes.length;v++)if(f.mimes[v]==l)return f}}if(/\+xml$/.test(l))return n.findModeByMIME("application/xml");if(/\+json$/.test(l))return n.findModeByMIME("application/json")},n.findModeByExtension=function(l){l=l.toLowerCase();for(var h=0;h<n.modeInfo.length;h++){var f=n.modeInfo[h];if(f.ext){for(var v=0;v<f.ext.length;v++)if(f.ext[v]==l)return f}}},n.findModeByFileName=function(l){for(var h=0;h<n.modeInfo.length;h++){var f=n.modeInfo[h];if(f.file&&f.file.test(l))return f}var v=l.lastIndexOf("."),x=v>-1&&l.substring(v+1,l.length);if(x)return n.findModeByExtension(x)},n.findModeByName=function(l){l=l.toLowerCase();for(var h=0;h<n.modeInfo.length;h++){var f=n.modeInfo[h];if(f.name.toLowerCase()==l)return f;if(f.alias){for(var v=0;v<f.alias.length;v++)if(f.alias[v].toLowerCase()==l)return f}}}})}()),Vm.exports}var Qm;function z0(){return Qm||(Qm=1,function(t,e){(function(n){n(ds(),I0(),Ww())})(function(n){n.defineMode("markdown",function(s,u){var l=n.getMode(s,"text/html"),h=l.name=="null";function f(te){if(n.findModeByName){var Y=n.findModeByName(te);Y&&(te=Y.mime||Y.mimes[0])}var De=n.getMode(s,te);return De.name=="null"?null:De}u.highlightFormatting===void 0&&(u.highlightFormatting=!1),u.maxBlockquoteDepth===void 0&&(u.maxBlockquoteDepth=0),u.taskLists===void 0&&(u.taskLists=!1),u.strikethrough===void 0&&(u.strikethrough=!1),u.emoji===void 0&&(u.emoji=!1),u.fencedCodeBlockHighlighting===void 0&&(u.fencedCodeBlockHighlighting=!0),u.fencedCodeBlockDefaultMode===void 0&&(u.fencedCodeBlockDefaultMode="text/plain"),u.xml===void 0&&(u.xml=!0),u.tokenTypeOverrides===void 0&&(u.tokenTypeOverrides={});var v={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var x in v)v.hasOwnProperty(x)&&u.tokenTypeOverrides[x]&&(v[x]=u.tokenTypeOverrides[x]);var w=/^([*\-_])(?:\s*\1){2,}\s*$/,E=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,O=/^\[(x| )\](?=\s)/i,H=u.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,F=/^ {0,3}(?:\={1,}|-{2,})\s*$/,j=/^[^#!\[\]*_\\<>` "'(~:]+/,q=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,M=/^\s*\[[^\]]+?\]:.*$/,S=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function B(te,Y,De){return Y.f=Y.inline=De,De(te,Y)}function I(te,Y,De){return Y.f=Y.block=De,De(te,Y)}function V(te){return!te||!/\S/.test(te.string)}function ne(te){if(te.linkTitle=!1,te.linkHref=!1,te.linkText=!1,te.em=!1,te.strong=!1,te.strikethrough=!1,te.quote=0,te.indentedCode=!1,te.f==de){var Y=h;if(!Y){var De=n.innerMode(l,te.htmlState);Y=De.mode.name=="xml"&&De.state.tagStart===null&&!De.state.context&&De.state.tokenize.isInText}Y&&(te.f=ve,te.block=ue,te.htmlState=null)}return te.trailingSpace=0,te.trailingSpaceNewLine=!1,te.prevLine=te.thisLine,te.thisLine={stream:null},null}function ue(te,Y){var De=te.column()===Y.indentation,Fe=V(Y.prevLine.stream),Z=Y.indentedCode,we=Y.prevLine.hr,Te=Y.list!==!1,qe=(Y.listStack[Y.listStack.length-1]||0)+3;Y.indentedCode=!1;var Xe=Y.indentation;if(Y.indentationDiff===null&&(Y.indentationDiff=Y.indentation,Te)){for(Y.list=null;Xe<Y.listStack[Y.listStack.length-1];)Y.listStack.pop(),Y.listStack.length?Y.indentation=Y.listStack[Y.listStack.length-1]:Y.list=!1;Y.list!==!1&&(Y.indentationDiff=Xe-Y.listStack[Y.listStack.length-1])}var Ze=!Fe&&!we&&!Y.prevLine.header&&(!Te||!Z)&&!Y.prevLine.fencedCodeEnd,ut=(Y.list===!1||we||Fe)&&Y.indentation<=qe&&te.match(w),Et=null;if(Y.indentationDiff>=4&&(Z||Y.prevLine.fencedCodeEnd||Y.prevLine.header||Fe))return te.skipToEnd(),Y.indentedCode=!0,v.code;if(te.eatSpace())return null;if(De&&Y.indentation<=qe&&(Et=te.match(H))&&Et[1].length<=6)return Y.quote=0,Y.header=Et[1].length,Y.thisLine.header=!0,u.highlightFormatting&&(Y.formatting="header"),Y.f=Y.inline,he(Y);if(Y.indentation<=qe&&te.eat(">"))return Y.quote=De?1:Y.quote+1,u.highlightFormatting&&(Y.formatting="quote"),te.eatSpace(),he(Y);if(!ut&&!Y.setext&&De&&Y.indentation<=qe&&(Et=te.match(E))){var wt=Et[1]?"ol":"ul";return Y.indentation=Xe+te.current().length,Y.list=!0,Y.quote=0,Y.listStack.push(Y.indentation),Y.em=!1,Y.strong=!1,Y.code=!1,Y.strikethrough=!1,u.taskLists&&te.match(O,!1)&&(Y.taskList=!0),Y.f=Y.inline,u.highlightFormatting&&(Y.formatting=["list","list-"+wt]),he(Y)}else{if(De&&Y.indentation<=qe&&(Et=te.match(q,!0)))return Y.quote=0,Y.fencedEndRE=new RegExp(Et[1]+"+ *$"),Y.localMode=u.fencedCodeBlockHighlighting&&f(Et[2]||u.fencedCodeBlockDefaultMode),Y.localMode&&(Y.localState=n.startState(Y.localMode)),Y.f=Y.block=ge,u.highlightFormatting&&(Y.formatting="code-block"),Y.code=-1,he(Y);if(Y.setext||(!Ze||!Te)&&!Y.quote&&Y.list===!1&&!Y.code&&!ut&&!M.test(te.string)&&(Et=te.lookAhead(1))&&(Et=Et.match(F)))return Y.setext?(Y.header=Y.setext,Y.setext=0,te.skipToEnd(),u.highlightFormatting&&(Y.formatting="header")):(Y.header=Et[0].charAt(0)=="="?1:2,Y.setext=Y.header),Y.thisLine.header=!0,Y.f=Y.inline,he(Y);if(ut)return te.skipToEnd(),Y.hr=!0,Y.thisLine.hr=!0,v.hr;if(te.peek()==="[")return B(te,Y,Ee)}return B(te,Y,Y.inline)}function de(te,Y){var De=l.token(te,Y.htmlState);if(!h){var Fe=n.innerMode(l,Y.htmlState);(Fe.mode.name=="xml"&&Fe.state.tagStart===null&&!Fe.state.context&&Fe.state.tokenize.isInText||Y.md_inside&&te.current().indexOf(">")>-1)&&(Y.f=ve,Y.block=ue,Y.htmlState=null)}return De}function ge(te,Y){var De=Y.listStack[Y.listStack.length-1]||0,Fe=Y.indentation<De,Z=De+3;if(Y.fencedEndRE&&Y.indentation<=Z&&(Fe||te.match(Y.fencedEndRE))){u.highlightFormatting&&(Y.formatting="code-block");var we;return Fe||(we=he(Y)),Y.localMode=Y.localState=null,Y.block=ue,Y.f=ve,Y.fencedEndRE=null,Y.code=0,Y.thisLine.fencedCodeEnd=!0,Fe?I(te,Y,Y.block):we}else return Y.localMode?Y.localMode.token(te,Y.localState):(te.skipToEnd(),v.code)}function he(te){var Y=[];if(te.formatting){Y.push(v.formatting),typeof te.formatting=="string"&&(te.formatting=[te.formatting]);for(var De=0;De<te.formatting.length;De++)Y.push(v.formatting+"-"+te.formatting[De]),te.formatting[De]==="header"&&Y.push(v.formatting+"-"+te.formatting[De]+"-"+te.header),te.formatting[De]==="quote"&&(!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=te.quote?Y.push(v.formatting+"-"+te.formatting[De]+"-"+te.quote):Y.push("error"))}if(te.taskOpen)return Y.push("meta"),Y.length?Y.join(" "):null;if(te.taskClosed)return Y.push("property"),Y.length?Y.join(" "):null;if(te.linkHref?Y.push(v.linkHref,"url"):(te.strong&&Y.push(v.strong),te.em&&Y.push(v.em),te.strikethrough&&Y.push(v.strikethrough),te.emoji&&Y.push(v.emoji),te.linkText&&Y.push(v.linkText),te.code&&Y.push(v.code),te.image&&Y.push(v.image),te.imageAltText&&Y.push(v.imageAltText,"link"),te.imageMarker&&Y.push(v.imageMarker)),te.header&&Y.push(v.header,v.header+"-"+te.header),te.quote&&(Y.push(v.quote),!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=te.quote?Y.push(v.quote+"-"+te.quote):Y.push(v.quote+"-"+u.maxBlockquoteDepth)),te.list!==!1){var Fe=(te.listStack.length-1)%3;Fe?Fe===1?Y.push(v.list2):Y.push(v.list3):Y.push(v.list1)}return te.trailingSpaceNewLine?Y.push("trailing-space-new-line"):te.trailingSpace&&Y.push("trailing-space-"+(te.trailingSpace%2?"a":"b")),Y.length?Y.join(" "):null}function Le(te,Y){if(te.match(j,!0))return he(Y)}function ve(te,Y){var De=Y.text(te,Y);if(typeof De<"u")return De;if(Y.list)return Y.list=null,he(Y);if(Y.taskList){var Fe=te.match(O,!0)[1]===" ";return Fe?Y.taskOpen=!0:Y.taskClosed=!0,u.highlightFormatting&&(Y.formatting="task"),Y.taskList=!1,he(Y)}if(Y.taskOpen=!1,Y.taskClosed=!1,Y.header&&te.match(/^#+$/,!0))return u.highlightFormatting&&(Y.formatting="header"),he(Y);var Z=te.next();if(Y.linkTitle){Y.linkTitle=!1;var we=Z;Z==="("&&(we=")"),we=(we+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Te="^\\s*(?:[^"+we+"\\\\]+|\\\\\\\\|\\\\.)"+we;if(te.match(new RegExp(Te),!0))return v.linkHref}if(Z==="`"){var qe=Y.formatting;u.highlightFormatting&&(Y.formatting="code"),te.eatWhile("`");var Xe=te.current().length;if(Y.code==0&&(!Y.quote||Xe==1))return Y.code=Xe,he(Y);if(Xe==Y.code){var Ze=he(Y);return Y.code=0,Ze}else return Y.formatting=qe,he(Y)}else if(Y.code)return he(Y);if(Z==="\\"&&(te.next(),u.highlightFormatting)){var ut=he(Y),Et=v.formatting+"-escape";return ut?ut+" "+Et:Et}if(Z==="!"&&te.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Y.imageMarker=!0,Y.image=!0,u.highlightFormatting&&(Y.formatting="image"),he(Y);if(Z==="["&&Y.imageMarker&&te.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Y.imageMarker=!1,Y.imageAltText=!0,u.highlightFormatting&&(Y.formatting="image"),he(Y);if(Z==="]"&&Y.imageAltText){u.highlightFormatting&&(Y.formatting="image");var ut=he(Y);return Y.imageAltText=!1,Y.image=!1,Y.inline=Y.f=P,ut}if(Z==="["&&!Y.image)return Y.linkText&&te.match(/^.*?\]/)||(Y.linkText=!0,u.highlightFormatting&&(Y.formatting="link")),he(Y);if(Z==="]"&&Y.linkText){u.highlightFormatting&&(Y.formatting="link");var ut=he(Y);return Y.linkText=!1,Y.inline=Y.f=te.match(/\(.*?\)| ?\[.*?\]/,!1)?P:ve,ut}if(Z==="<"&&te.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=re,u.highlightFormatting&&(Y.formatting="link");var ut=he(Y);return ut?ut+=" ":ut="",ut+v.linkInline}if(Z==="<"&&te.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=re,u.highlightFormatting&&(Y.formatting="link");var ut=he(Y);return ut?ut+=" ":ut="",ut+v.linkEmail}if(u.xml&&Z==="<"&&te.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var wt=te.string.indexOf(">",te.pos);if(wt!=-1){var St=te.string.substring(te.start,wt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(St)&&(Y.md_inside=!0)}return te.backUp(1),Y.htmlState=n.startState(l),I(te,Y,de)}if(u.xml&&Z==="<"&&te.match(/^\/\w*?>/))return Y.md_inside=!1,"tag";if(Z==="*"||Z==="_"){for(var _t=1,Mt=te.pos==1?" ":te.string.charAt(te.pos-2);_t<3&&te.eat(Z);)_t++;var jt=te.peek()||" ",Kt=!/\s/.test(jt)&&(!S.test(jt)||/\s/.test(Mt)||S.test(Mt)),X=!/\s/.test(Mt)&&(!S.test(Mt)||/\s/.test(jt)||S.test(jt)),le=null,Q=null;if(_t%2&&(!Y.em&&Kt&&(Z==="*"||!X||S.test(Mt))?le=!0:Y.em==Z&&X&&(Z==="*"||!Kt||S.test(jt))&&(le=!1)),_t>1&&(!Y.strong&&Kt&&(Z==="*"||!X||S.test(Mt))?Q=!0:Y.strong==Z&&X&&(Z==="*"||!Kt||S.test(jt))&&(Q=!1)),Q!=null||le!=null){u.highlightFormatting&&(Y.formatting=le==null?"strong":Q==null?"em":"strong em"),le===!0&&(Y.em=Z),Q===!0&&(Y.strong=Z);var Ze=he(Y);return le===!1&&(Y.em=!1),Q===!1&&(Y.strong=!1),Ze}}else if(Z===" "&&(te.eat("*")||te.eat("_"))){if(te.peek()===" ")return he(Y);te.backUp(1)}if(u.strikethrough){if(Z==="~"&&te.eatWhile(Z)){if(Y.strikethrough){u.highlightFormatting&&(Y.formatting="strikethrough");var Ze=he(Y);return Y.strikethrough=!1,Ze}else if(te.match(/^[^\s]/,!1))return Y.strikethrough=!0,u.highlightFormatting&&(Y.formatting="strikethrough"),he(Y)}else if(Z===" "&&te.match("~~",!0)){if(te.peek()===" ")return he(Y);te.backUp(2)}}if(u.emoji&&Z===":"&&te.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Y.emoji=!0,u.highlightFormatting&&(Y.formatting="emoji");var fe=he(Y);return Y.emoji=!1,fe}return Z===" "&&(te.match(/^ +$/,!1)?Y.trailingSpace++:Y.trailingSpace&&(Y.trailingSpaceNewLine=!0)),he(Y)}function re(te,Y){var De=te.next();if(De===">"){Y.f=Y.inline=ve,u.highlightFormatting&&(Y.formatting="link");var Fe=he(Y);return Fe?Fe+=" ":Fe="",Fe+v.linkInline}return te.match(/^[^>]+/,!0),v.linkInline}function P(te,Y){if(te.eatSpace())return null;var De=te.next();return De==="("||De==="["?(Y.f=Y.inline=ye(De==="("?")":"]"),u.highlightFormatting&&(Y.formatting="link-string"),Y.linkHref=!0,he(Y)):"error"}var se={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ye(te){return function(Y,De){var Fe=Y.next();if(Fe===te){De.f=De.inline=ve,u.highlightFormatting&&(De.formatting="link-string");var Z=he(De);return De.linkHref=!1,Z}return Y.match(se[te]),De.linkHref=!0,he(De)}}function Ee(te,Y){return te.match(/^([^\]\\]|\\.)*\]:/,!1)?(Y.f=it,te.next(),u.highlightFormatting&&(Y.formatting="link"),Y.linkText=!0,he(Y)):B(te,Y,ve)}function it(te,Y){if(te.match("]:",!0)){Y.f=Y.inline=Be,u.highlightFormatting&&(Y.formatting="link");var De=he(Y);return Y.linkText=!1,De}return te.match(/^([^\]\\]|\\.)+/,!0),v.linkText}function Be(te,Y){return te.eatSpace()?null:(te.match(/^[^\s]+/,!0),te.peek()===void 0?Y.linkTitle=!0:te.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Y.f=Y.inline=ve,v.linkHref+" url")}var Me={startState:function(){return{f:ue,prevLine:{stream:null},thisLine:{stream:null},block:ue,htmlState:null,indentation:0,inline:ve,text:Le,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(te){return{f:te.f,prevLine:te.prevLine,thisLine:te.thisLine,block:te.block,htmlState:te.htmlState&&n.copyState(l,te.htmlState),indentation:te.indentation,localMode:te.localMode,localState:te.localMode?n.copyState(te.localMode,te.localState):null,inline:te.inline,text:te.text,formatting:!1,linkText:te.linkText,linkTitle:te.linkTitle,linkHref:te.linkHref,code:te.code,em:te.em,strong:te.strong,strikethrough:te.strikethrough,emoji:te.emoji,header:te.header,setext:te.setext,hr:te.hr,taskList:te.taskList,list:te.list,listStack:te.listStack.slice(0),quote:te.quote,indentedCode:te.indentedCode,trailingSpace:te.trailingSpace,trailingSpaceNewLine:te.trailingSpaceNewLine,md_inside:te.md_inside,fencedEndRE:te.fencedEndRE}},token:function(te,Y){if(Y.formatting=!1,te!=Y.thisLine.stream){if(Y.header=0,Y.hr=!1,te.match(/^\s*$/,!0))return ne(Y),null;if(Y.prevLine=Y.thisLine,Y.thisLine={stream:te},Y.taskList=!1,Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,!Y.localState&&(Y.f=Y.block,Y.f!=de)){var De=te.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(Y.indentation=De,Y.indentationDiff=null,De>0)return null}}return Y.f(te,Y)},innerMode:function(te){return te.block==de?{state:te.htmlState,mode:l}:te.localState?{state:te.localState,mode:te.localMode}:{state:te,mode:Me}},indent:function(te,Y,De){return te.block==de&&l.indent?l.indent(te.htmlState,Y,De):te.localState&&te.localMode.indent?te.localMode.indent(te.localState,Y,De):n.Pass},blankLine:ne,getType:he,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Me},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})}()),Gm.exports}z0();var Jm={exports:{}},eg;function qw(){return eg||(eg=1,function(t,e){(function(n){n(ds())})(function(n){n.defineMode("javascript",function(s,u){var l=s.indentUnit,h=u.statementIndent,f=u.jsonld,v=u.json||f,x=u.trackScope!==!1,w=u.typescript,E=u.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function J(Ui){return{type:Ui,style:"keyword"}}var xe=J("keyword a"),$e=J("keyword b"),nt=J("keyword c"),je=J("keyword d"),pt=J("operator"),ni={type:"atom",style:"atom"};return{if:J("if"),while:xe,with:xe,else:$e,do:$e,try:$e,finally:$e,return:je,break:je,continue:je,new:J("new"),delete:nt,void:nt,throw:nt,debugger:J("debugger"),var:J("var"),const:J("var"),let:J("var"),function:J("function"),catch:J("catch"),for:J("for"),switch:J("switch"),case:J("case"),default:J("default"),in:pt,typeof:pt,instanceof:pt,true:ni,false:ni,null:ni,undefined:ni,NaN:ni,Infinity:ni,this:J("this"),class:J("class"),super:J("atom"),yield:nt,export:J("export"),import:J("import"),extends:nt,await:nt}}(),H=/[+\-*&%=<>!?|~^@]/,F=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function j(J){for(var xe=!1,$e,nt=!1;($e=J.next())!=null;){if(!xe){if($e=="/"&&!nt)return;$e=="["?nt=!0:nt&&$e=="]"&&(nt=!1)}xe=!xe&&$e=="\\"}}var q,M;function S(J,xe,$e){return q=J,M=$e,xe}function D(J,xe){var $e=J.next();if($e=='"'||$e=="'")return xe.tokenize=B($e),xe.tokenize(J,xe);if($e=="."&&J.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if($e=="."&&J.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test($e))return S($e);if($e=="="&&J.eat(">"))return S("=>","operator");if($e=="0"&&J.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test($e))return J.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if($e=="/")return J.eat("*")?(xe.tokenize=I,I(J,xe)):J.eat("/")?(J.skipToEnd(),S("comment","comment")):In(J,xe,1)?(j(J),J.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(J.eat("="),S("operator","operator",J.current()));if($e=="`")return xe.tokenize=V,V(J,xe);if($e=="#"&&J.peek()=="!")return J.skipToEnd(),S("meta","meta");if($e=="#"&&J.eatWhile(E))return S("variable","property");if($e=="<"&&J.match("!--")||$e=="-"&&J.match("->")&&!/\S/.test(J.string.slice(0,J.start)))return J.skipToEnd(),S("comment","comment");if(H.test($e))return($e!=">"||!xe.lexical||xe.lexical.type!=">")&&(J.eat("=")?($e=="!"||$e=="=")&&J.eat("="):/[<>*+\-|&?]/.test($e)&&(J.eat($e),$e==">"&&J.eat($e))),$e=="?"&&J.eat(".")?S("."):S("operator","operator",J.current());if(E.test($e)){J.eatWhile(E);var nt=J.current();if(xe.lastType!="."){if(O.propertyIsEnumerable(nt)){var je=O[nt];return S(je.type,je.style,nt)}if(nt=="async"&&J.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",nt)}return S("variable","variable",nt)}}function B(J){return function(xe,$e){var nt=!1,je;if(f&&xe.peek()=="@"&&xe.match(F))return $e.tokenize=D,S("jsonld-keyword","meta");for(;(je=xe.next())!=null&&!(je==J&&!nt);)nt=!nt&&je=="\\";return nt||($e.tokenize=D),S("string","string")}}function I(J,xe){for(var $e=!1,nt;nt=J.next();){if(nt=="/"&&$e){xe.tokenize=D;break}$e=nt=="*"}return S("comment","comment")}function V(J,xe){for(var $e=!1,nt;(nt=J.next())!=null;){if(!$e&&(nt=="`"||nt=="$"&&J.eat("{"))){xe.tokenize=D;break}$e=!$e&&nt=="\\"}return S("quasi","string-2",J.current())}var ne="([{}])";function ue(J,xe){xe.fatArrowAt&&(xe.fatArrowAt=null);var $e=J.string.indexOf("=>",J.start);if(!($e<0)){if(w){var nt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(J.string.slice(J.start,$e));nt&&($e=nt.index)}for(var je=0,pt=!1,ni=$e-1;ni>=0;--ni){var Ui=J.string.charAt(ni),Nt=ne.indexOf(Ui);if(Nt>=0&&Nt<3){if(!je){++ni;break}if(--je==0){Ui=="("&&(pt=!0);break}}else if(Nt>=3&&Nt<6)++je;else if(E.test(Ui))pt=!0;else if(/["'\/`]/.test(Ui))for(;;--ni){if(ni==0)return;var li=J.string.charAt(ni-1);if(li==Ui&&J.string.charAt(ni-2)!="\\"){ni--;break}}else if(pt&&!je){++ni;break}}pt&&!je&&(xe.fatArrowAt=ni)}}var de={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ge(J,xe,$e,nt,je,pt){this.indented=J,this.column=xe,this.type=$e,this.prev=je,this.info=pt,nt!=null&&(this.align=nt)}function he(J,xe){if(!x)return!1;for(var $e=J.localVars;$e;$e=$e.next)if($e.name==xe)return!0;for(var nt=J.context;nt;nt=nt.prev)for(var $e=nt.vars;$e;$e=$e.next)if($e.name==xe)return!0}function Le(J,xe,$e,nt,je){var pt=J.cc;for(ve.state=J,ve.stream=je,ve.marked=null,ve.cc=pt,ve.style=xe,J.lexical.hasOwnProperty("align")||(J.lexical.align=!0);;){var ni=pt.length?pt.pop():v?Ze:qe;if(ni($e,nt)){for(;pt.length&&pt[pt.length-1].lex;)pt.pop()();return ve.marked?ve.marked:$e=="variable"&&he(J,nt)?"variable-2":xe}}}var ve={state:null,marked:null,cc:null};function re(){for(var J=arguments.length-1;J>=0;J--)ve.cc.push(arguments[J])}function P(){return re.apply(null,arguments),!0}function se(J,xe){for(var $e=xe;$e;$e=$e.next)if($e.name==J)return!0;return!1}function ye(J){var xe=ve.state;if(ve.marked="def",!!x){if(xe.context){if(xe.lexical.info=="var"&&xe.context&&xe.context.block){var $e=Ee(J,xe.context);if($e!=null){xe.context=$e;return}}else if(!se(J,xe.localVars)){xe.localVars=new Me(J,xe.localVars);return}}u.globalVars&&!se(J,xe.globalVars)&&(xe.globalVars=new Me(J,xe.globalVars))}}function Ee(J,xe){if(xe)if(xe.block){var $e=Ee(J,xe.prev);return $e?$e==xe.prev?xe:new Be($e,xe.vars,!0):null}else return se(J,xe.vars)?xe:new Be(xe.prev,new Me(J,xe.vars),!1);else return null}function it(J){return J=="public"||J=="private"||J=="protected"||J=="abstract"||J=="readonly"}function Be(J,xe,$e){this.prev=J,this.vars=xe,this.block=$e}function Me(J,xe){this.name=J,this.next=xe}var te=new Me("this",new Me("arguments",null));function Y(){ve.state.context=new Be(ve.state.context,ve.state.localVars,!1),ve.state.localVars=te}function De(){ve.state.context=new Be(ve.state.context,ve.state.localVars,!0),ve.state.localVars=null}Y.lex=De.lex=!0;function Fe(){ve.state.localVars=ve.state.context.vars,ve.state.context=ve.state.context.prev}Fe.lex=!0;function Z(J,xe){var $e=function(){var nt=ve.state,je=nt.indented;if(nt.lexical.type=="stat")je=nt.lexical.indented;else for(var pt=nt.lexical;pt&&pt.type==")"&&pt.align;pt=pt.prev)je=pt.indented;nt.lexical=new ge(je,ve.stream.column(),J,null,nt.lexical,xe)};return $e.lex=!0,$e}function we(){var J=ve.state;J.lexical.prev&&(J.lexical.type==")"&&(J.indented=J.lexical.indented),J.lexical=J.lexical.prev)}we.lex=!0;function Te(J){function xe($e){return $e==J?P():J==";"||$e=="}"||$e==")"||$e=="]"?re():P(xe)}return xe}function qe(J,xe){return J=="var"?P(Z("vardef",xe),eo,Te(";"),we):J=="keyword a"?P(Z("form"),Et,qe,we):J=="keyword b"?P(Z("form"),qe,we):J=="keyword d"?ve.stream.match(/^\s*$/,!1)?P():P(Z("stat"),St,Te(";"),we):J=="debugger"?P(Te(";")):J=="{"?P(Z("}"),De,Yt,we,Fe):J==";"?P():J=="if"?(ve.state.lexical.info=="else"&&ve.state.cc[ve.state.cc.length-1]==we&&ve.state.cc.pop()(),P(Z("form"),Et,qe,we,En)):J=="function"?P(Gn):J=="for"?P(Z("form"),De,Ot,qe,Fe,we):J=="class"||w&&xe=="interface"?(ve.marked="keyword",P(Z("form",J=="class"?J:xe),rr,we)):J=="variable"?w&&xe=="declare"?(ve.marked="keyword",P(qe)):w&&(xe=="module"||xe=="enum"||xe=="type")&&ve.stream.match(/^\s*\w/,!1)?(ve.marked="keyword",xe=="enum"?P(Dt):xe=="type"?P(jr,Te("operator"),Ut,Te(";")):P(Z("form"),Hi,Te("{"),Z("}"),Yt,we,we)):w&&xe=="namespace"?(ve.marked="keyword",P(Z("form"),Ze,qe,we)):w&&xe=="abstract"?(ve.marked="keyword",P(qe)):P(Z("stat"),ze):J=="switch"?P(Z("form"),Et,Te("{"),Z("}","switch"),De,Yt,we,we,Fe):J=="case"?P(Ze,Te(":")):J=="default"?P(Te(":")):J=="catch"?P(Z("form"),Y,Xe,qe,we,Fe):J=="export"?P(Z("stat"),io,we):J=="import"?P(Z("stat"),Tn,we):J=="async"?P(qe):xe=="@"?P(Ze,qe):re(Z("stat"),Ze,Te(";"),we)}function Xe(J){if(J=="(")return P(Xi,Te(")"))}function Ze(J,xe){return wt(J,xe,!1)}function ut(J,xe){return wt(J,xe,!0)}function Et(J){return J!="("?re():P(Z(")"),St,Te(")"),we)}function wt(J,xe,$e){if(ve.state.fatArrowAt==ve.stream.start){var nt=$e?le:X;if(J=="(")return P(Y,Z(")"),ct(Xi,")"),we,Te("=>"),nt,Fe);if(J=="variable")return re(Y,Hi,Te("=>"),nt,Fe)}var je=$e?Mt:_t;return de.hasOwnProperty(J)?P(je):J=="function"?P(Gn,je):J=="class"||w&&xe=="interface"?(ve.marked="keyword",P(Z("form"),Ji,we)):J=="keyword c"||J=="async"?P($e?ut:Ze):J=="("?P(Z(")"),St,Te(")"),we,je):J=="operator"||J=="spread"?P($e?ut:Ze):J=="["?P(Z("]"),ji,we,je):J=="{"?$t(Qe,"}",null,je):J=="quasi"?re(jt,je):J=="new"?P(Q($e)):P()}function St(J){return J.match(/[;\}\)\],]/)?re():re(Ze)}function _t(J,xe){return J==","?P(St):Mt(J,xe,!1)}function Mt(J,xe,$e){var nt=$e==!1?_t:Mt,je=$e==!1?Ze:ut;if(J=="=>")return P(Y,$e?le:X,Fe);if(J=="operator")return/\+\+|--/.test(xe)||w&&xe=="!"?P(nt):w&&xe=="<"&&ve.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?P(Z(">"),ct(Ut,">"),we,nt):xe=="?"?P(Ze,Te(":"),je):P(je);if(J=="quasi")return re(jt,nt);if(J!=";"){if(J=="(")return $t(ut,")","call",nt);if(J==".")return P(ot,nt);if(J=="[")return P(Z("]"),St,Te("]"),we,nt);if(w&&xe=="as")return ve.marked="keyword",P(Ut,nt);if(J=="regexp")return ve.state.lastType=ve.marked="operator",ve.stream.backUp(ve.stream.pos-ve.stream.start-1),P(je)}}function jt(J,xe){return J!="quasi"?re():xe.slice(xe.length-2)!="${"?P(jt):P(St,Kt)}function Kt(J){if(J=="}")return ve.marked="string-2",ve.state.tokenize=V,P(jt)}function X(J){return ue(ve.stream,ve.state),re(J=="{"?qe:Ze)}function le(J){return ue(ve.stream,ve.state),re(J=="{"?qe:ut)}function Q(J){return function(xe){return xe=="."?P(J?pe:fe):xe=="variable"&&w?P(ui,J?Mt:_t):re(J?ut:Ze)}}function fe(J,xe){if(xe=="target")return ve.marked="keyword",P(_t)}function pe(J,xe){if(xe=="target")return ve.marked="keyword",P(Mt)}function ze(J){return J==":"?P(we,qe):re(_t,Te(";"),we)}function ot(J){if(J=="variable")return ve.marked="property",P()}function Qe(J,xe){if(J=="async")return ve.marked="property",P(Qe);if(J=="variable"||ve.style=="keyword"){if(ve.marked="property",xe=="get"||xe=="set")return P(mt);var $e;return w&&ve.state.fatArrowAt==ve.stream.start&&($e=ve.stream.match(/^\s*:\s*/,!1))&&(ve.state.fatArrowAt=ve.stream.pos+$e[0].length),P(Pt)}else{if(J=="number"||J=="string")return ve.marked=f?"property":ve.style+" property",P(Pt);if(J=="jsonld-keyword")return P(Pt);if(w&&it(xe))return ve.marked="keyword",P(Qe);if(J=="[")return P(Ze,Qt,Te("]"),Pt);if(J=="spread")return P(ut,Pt);if(xe=="*")return ve.marked="keyword",P(Qe);if(J==":")return re(Pt)}}function mt(J){return J!="variable"?re(Pt):(ve.marked="property",P(Gn))}function Pt(J){if(J==":")return P(ut);if(J=="(")return re(Gn)}function ct(J,xe,$e){function nt(je,pt){if($e?$e.indexOf(je)>-1:je==","){var ni=ve.state.lexical;return ni.info=="call"&&(ni.pos=(ni.pos||0)+1),P(function(Ui,Nt){return Ui==xe||Nt==xe?re():re(J)},nt)}return je==xe||pt==xe?P():$e&&$e.indexOf(";")>-1?re(J):P(Te(xe))}return function(je,pt){return je==xe||pt==xe?P():re(J,nt)}}function $t(J,xe,$e){for(var nt=3;nt<arguments.length;nt++)ve.cc.push(arguments[nt]);return P(Z(xe,$e),ct(J,xe),we)}function Yt(J){return J=="}"?P():re(qe,Yt)}function Qt(J,xe){if(w){if(J==":")return P(Ut);if(xe=="?")return P(Qt)}}function Vt(J,xe){if(w&&(J==":"||xe=="in"))return P(Ut)}function xt(J){if(w&&J==":")return ve.stream.match(/^\s*\w+\s+is\b/,!1)?P(Ze,Un,Ut):P(Ut)}function Un(J,xe){if(xe=="is")return ve.marked="keyword",P()}function Ut(J,xe){if(xe=="keyof"||xe=="typeof"||xe=="infer"||xe=="readonly")return ve.marked="keyword",P(xe=="typeof"?ut:Ut);if(J=="variable"||xe=="void")return ve.marked="type",P(wi);if(xe=="|"||xe=="&")return P(Ut);if(J=="string"||J=="number"||J=="atom")return P(wi);if(J=="[")return P(Z("]"),ct(Ut,"]",","),we,wi);if(J=="{")return P(Z("}"),Ft,we,wi);if(J=="(")return P(ct(pi,")"),mr,wi);if(J=="<")return P(ct(Ut,">"),Ut);if(J=="quasi")return re(yi,wi)}function mr(J){if(J=="=>")return P(Ut)}function Ft(J){return J.match(/[\}\)\]]/)?P():J==","||J==";"?P(Ft):re(un,Ft)}function un(J,xe){if(J=="variable"||ve.style=="keyword")return ve.marked="property",P(un);if(xe=="?"||J=="number"||J=="string")return P(un);if(J==":")return P(Ut);if(J=="[")return P(Te("variable"),Vt,Te("]"),un);if(J=="(")return re(nr,un);if(!J.match(/[;\}\)\],]/))return P()}function yi(J,xe){return J!="quasi"?re():xe.slice(xe.length-2)!="${"?P(yi):P(Ut,Fi)}function Fi(J){if(J=="}")return ve.marked="string-2",ve.state.tokenize=V,P(yi)}function pi(J,xe){return J=="variable"&&ve.stream.match(/^\s*[?:]/,!1)||xe=="?"?P(pi):J==":"?P(Ut):J=="spread"?P(pi):re(Ut)}function wi(J,xe){if(xe=="<")return P(Z(">"),ct(Ut,">"),we,wi);if(xe=="|"||J=="."||xe=="&")return P(Ut);if(J=="[")return P(Ut,Te("]"),wi);if(xe=="extends"||xe=="implements")return ve.marked="keyword",P(Ut);if(xe=="?")return P(Ut,Te(":"),Ut)}function ui(J,xe){if(xe=="<")return P(Z(">"),ct(Ut,">"),we,wi)}function si(){return re(Ut,Bi)}function Bi(J,xe){if(xe=="=")return P(Ut)}function eo(J,xe){return xe=="enum"?(ve.marked="keyword",P(Dt)):re(Hi,Qt,Qi,gr)}function Hi(J,xe){if(w&&it(xe))return ve.marked="keyword",P(Hi);if(J=="variable")return ye(xe),P();if(J=="spread")return P(Hi);if(J=="[")return $t($i,"]");if(J=="{")return $t(Fr,"}")}function Fr(J,xe){return J=="variable"&&!ve.stream.match(/^\s*:/,!1)?(ye(xe),P(Qi)):(J=="variable"&&(ve.marked="property"),J=="spread"?P(Hi):J=="}"?re():J=="["?P(Ze,Te("]"),Te(":"),Fr):P(Te(":"),Hi,Qi))}function $i(){return re(Hi,Qi)}function Qi(J,xe){if(xe=="=")return P(ut)}function gr(J){if(J==",")return P(eo)}function En(J,xe){if(J=="keyword b"&&xe=="else")return P(Z("form","else"),qe,we)}function Ot(J,xe){if(xe=="await")return P(Ot);if(J=="(")return P(Z(")"),vr,we)}function vr(J){return J=="var"?P(eo,Yn):J=="variable"?P(Yn):re(Yn)}function Yn(J,xe){return J==")"?P():J==";"?P(Yn):xe=="in"||xe=="of"?(ve.marked="keyword",P(Ze,Yn)):re(Ze,Yn)}function Gn(J,xe){if(xe=="*")return ve.marked="keyword",P(Gn);if(J=="variable")return ye(xe),P(Gn);if(J=="(")return P(Y,Z(")"),ct(Xi,")"),we,xt,qe,Fe);if(w&&xe=="<")return P(Z(">"),ct(si,">"),we,Gn)}function nr(J,xe){if(xe=="*")return ve.marked="keyword",P(nr);if(J=="variable")return ye(xe),P(nr);if(J=="(")return P(Y,Z(")"),ct(Xi,")"),we,xt,Fe);if(w&&xe=="<")return P(Z(">"),ct(si,">"),we,nr)}function jr(J,xe){if(J=="keyword"||J=="variable")return ve.marked="type",P(jr);if(xe=="<")return P(Z(">"),ct(si,">"),we)}function Xi(J,xe){return xe=="@"&&P(Ze,Xi),J=="spread"?P(Xi):w&&it(xe)?(ve.marked="keyword",P(Xi)):w&&J=="this"?P(Qt,Qi):re(Hi,Qt,Qi)}function Ji(J,xe){return J=="variable"?rr(J,xe):or(J,xe)}function rr(J,xe){if(J=="variable")return ye(xe),P(or)}function or(J,xe){if(xe=="<")return P(Z(">"),ct(si,">"),we,or);if(xe=="extends"||xe=="implements"||w&&J==",")return xe=="implements"&&(ve.marked="keyword"),P(w?Ut:Ze,or);if(J=="{")return P(Z("}"),Sn,we)}function Sn(J,xe){if(J=="async"||J=="variable"&&(xe=="static"||xe=="get"||xe=="set"||w&&it(xe))&&ve.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return ve.marked="keyword",P(Sn);if(J=="variable"||ve.style=="keyword")return ve.marked="property",P(to,Sn);if(J=="number"||J=="string")return P(to,Sn);if(J=="[")return P(Ze,Qt,Te("]"),to,Sn);if(xe=="*")return ve.marked="keyword",P(Sn);if(w&&J=="(")return re(nr,Sn);if(J==";"||J==",")return P(Sn);if(J=="}")return P();if(xe=="@")return P(Ze,Sn)}function to(J,xe){if(xe=="!"||xe=="?")return P(to);if(J==":")return P(Ut,Qi);if(xe=="=")return P(ut);var $e=ve.state.lexical.prev,nt=$e&&$e.info=="interface";return re(nt?nr:Gn)}function io(J,xe){return xe=="*"?(ve.marked="keyword",P(Xn,Te(";"))):xe=="default"?(ve.marked="keyword",P(Ze,Te(";"))):J=="{"?P(ct(kr,"}"),Xn,Te(";")):re(qe)}function kr(J,xe){if(xe=="as")return ve.marked="keyword",P(Te("variable"));if(J=="variable")return re(ut,kr)}function Tn(J){return J=="string"?P():J=="("?re(Ze):J=="."?re(_t):re(Nr,yn,Xn)}function Nr(J,xe){return J=="{"?$t(Nr,"}"):(J=="variable"&&ye(xe),xe=="*"&&(ve.marked="keyword"),P(fo))}function yn(J){if(J==",")return P(Nr,yn)}function fo(J,xe){if(xe=="as")return ve.marked="keyword",P(Nr)}function Xn(J,xe){if(xe=="from")return ve.marked="keyword",P(Ze)}function ji(J){return J=="]"?P():re(ct(ut,"]"))}function Dt(){return re(Z("form"),Hi,Te("{"),Z("}"),ct(Zn,"}"),we,we)}function Zn(){return re(Hi,Qi)}function ar(J,xe){return J.lastType=="operator"||J.lastType==","||H.test(xe.charAt(0))||/[,.]/.test(xe.charAt(0))}function In(J,xe,$e){return xe.tokenize==D&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(xe.lastType)||xe.lastType=="quasi"&&/\{\s*$/.test(J.string.slice(0,J.pos-($e||0)))}return{startState:function(J){var xe={tokenize:D,lastType:"sof",cc:[],lexical:new ge((J||0)-l,0,"block",!1),localVars:u.localVars,context:u.localVars&&new Be(null,null,!1),indented:J||0};return u.globalVars&&typeof u.globalVars=="object"&&(xe.globalVars=u.globalVars),xe},token:function(J,xe){if(J.sol()&&(xe.lexical.hasOwnProperty("align")||(xe.lexical.align=!1),xe.indented=J.indentation(),ue(J,xe)),xe.tokenize!=I&&J.eatSpace())return null;var $e=xe.tokenize(J,xe);return q=="comment"?$e:(xe.lastType=q=="operator"&&(M=="++"||M=="--")?"incdec":q,Le(xe,$e,q,M,J))},indent:function(J,xe){if(J.tokenize==I||J.tokenize==V)return n.Pass;if(J.tokenize!=D)return 0;var $e=xe&&xe.charAt(0),nt=J.lexical,je;if(!/^\s*else\b/.test(xe))for(var pt=J.cc.length-1;pt>=0;--pt){var ni=J.cc[pt];if(ni==we)nt=nt.prev;else if(ni!=En&&ni!=Fe)break}for(;(nt.type=="stat"||nt.type=="form")&&($e=="}"||(je=J.cc[J.cc.length-1])&&(je==_t||je==Mt)&&!/^[,\.=+\-*:?[\(]/.test(xe));)nt=nt.prev;h&&nt.type==")"&&nt.prev.type=="stat"&&(nt=nt.prev);var Ui=nt.type,Nt=$e==Ui;return Ui=="vardef"?nt.indented+(J.lastType=="operator"||J.lastType==","?nt.info.length+1:0):Ui=="form"&&$e=="{"?nt.indented:Ui=="form"?nt.indented+l:Ui=="stat"?nt.indented+(ar(J,xe)?h||l:0):nt.info=="switch"&&!Nt&&u.doubleIndentSwitch!=!1?nt.indented+(/^(?:case|default)\b/.test(xe)?l:2*l):nt.align?nt.column+(Nt?0:1):nt.indented+(Nt?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:f,jsonMode:v,expressionAllowed:In,skipExpression:function(J){Le(J,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),Jm.exports}qw();var tg={exports:{}},ig;function jw(){return ig||(ig=1,function(t,e){(function(n){n(ds())})(function(n){n.defineMode("css",function(ge,he){var Le=he.inline;he.propertyKeywords||(he=n.resolveMode("text/css"));var ve=ge.indentUnit,re=he.tokenHooks,P=he.documentTypes||{},se=he.mediaTypes||{},ye=he.mediaFeatures||{},Ee=he.mediaValueKeywords||{},it=he.propertyKeywords||{},Be=he.nonStandardPropertyKeywords||{},Me=he.fontProperties||{},te=he.counterDescriptors||{},Y=he.colorKeywords||{},De=he.valueKeywords||{},Fe=he.allowNested,Z=he.lineComment,we=he.supportsAtComponent===!0,Te=ge.highlightNonStandardPropertyKeywords!==!1,qe,Xe;function Ze(Q,fe){return qe=fe,Q}function ut(Q,fe){var pe=Q.next();if(re[pe]){var ze=re[pe](Q,fe);if(ze!==!1)return ze}if(pe=="@")return Q.eatWhile(/[\w\\\-]/),Ze("def",Q.current());if(pe=="="||(pe=="~"||pe=="|")&&Q.eat("="))return Ze(null,"compare");if(pe=='"'||pe=="'")return fe.tokenize=Et(pe),fe.tokenize(Q,fe);if(pe=="#")return Q.eatWhile(/[\w\\\-]/),Ze("atom","hash");if(pe=="!")return Q.match(/^\s*\w*/),Ze("keyword","important");if(/\d/.test(pe)||pe=="."&&Q.eat(/\d/))return Q.eatWhile(/[\w.%]/),Ze("number","unit");if(pe==="-"){if(/[\d.]/.test(Q.peek()))return Q.eatWhile(/[\w.%]/),Ze("number","unit");if(Q.match(/^-[\w\\\-]*/))return Q.eatWhile(/[\w\\\-]/),Q.match(/^\s*:/,!1)?Ze("variable-2","variable-definition"):Ze("variable-2","variable");if(Q.match(/^\w+-/))return Ze("meta","meta")}else return/[,+>*\/]/.test(pe)?Ze(null,"select-op"):pe=="."&&Q.match(/^-?[_a-z][_a-z0-9-]*/i)?Ze("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(pe)?Ze(null,pe):Q.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Q.current())&&(fe.tokenize=wt),Ze("variable callee","variable")):/[\w\\\-]/.test(pe)?(Q.eatWhile(/[\w\\\-]/),Ze("property","word")):Ze(null,null)}function Et(Q){return function(fe,pe){for(var ze=!1,ot;(ot=fe.next())!=null;){if(ot==Q&&!ze){Q==")"&&fe.backUp(1);break}ze=!ze&&ot=="\\"}return(ot==Q||!ze&&Q!=")")&&(pe.tokenize=null),Ze("string","string")}}function wt(Q,fe){return Q.next(),Q.match(/^\s*[\"\')]/,!1)?fe.tokenize=null:fe.tokenize=Et(")"),Ze(null,"(")}function St(Q,fe,pe){this.type=Q,this.indent=fe,this.prev=pe}function _t(Q,fe,pe,ze){return Q.context=new St(pe,fe.indentation()+(ze===!1?0:ve),Q.context),pe}function Mt(Q){return Q.context.prev&&(Q.context=Q.context.prev),Q.context.type}function jt(Q,fe,pe){return le[pe.context.type](Q,fe,pe)}function Kt(Q,fe,pe,ze){for(var ot=ze||1;ot>0;ot--)pe.context=pe.context.prev;return jt(Q,fe,pe)}function X(Q){var fe=Q.current().toLowerCase();De.hasOwnProperty(fe)?Xe="atom":Y.hasOwnProperty(fe)?Xe="keyword":Xe="variable"}var le={};return le.top=function(Q,fe,pe){if(Q=="{")return _t(pe,fe,"block");if(Q=="}"&&pe.context.prev)return Mt(pe);if(we&&/@component/i.test(Q))return _t(pe,fe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Q))return _t(pe,fe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Q))return _t(pe,fe,"atBlock");if(/^@(font-face|counter-style)/i.test(Q))return pe.stateArg=Q,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Q))return"keyframes";if(Q&&Q.charAt(0)=="@")return _t(pe,fe,"at");if(Q=="hash")Xe="builtin";else if(Q=="word")Xe="tag";else{if(Q=="variable-definition")return"maybeprop";if(Q=="interpolation")return _t(pe,fe,"interpolation");if(Q==":")return"pseudo";if(Fe&&Q=="(")return _t(pe,fe,"parens")}return pe.context.type},le.block=function(Q,fe,pe){if(Q=="word"){var ze=fe.current().toLowerCase();return it.hasOwnProperty(ze)?(Xe="property","maybeprop"):Be.hasOwnProperty(ze)?(Xe=Te?"string-2":"property","maybeprop"):Fe?(Xe=fe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Xe+=" error","maybeprop")}else return Q=="meta"?"block":!Fe&&(Q=="hash"||Q=="qualifier")?(Xe="error","block"):le.top(Q,fe,pe)},le.maybeprop=function(Q,fe,pe){return Q==":"?_t(pe,fe,"prop"):jt(Q,fe,pe)},le.prop=function(Q,fe,pe){if(Q==";")return Mt(pe);if(Q=="{"&&Fe)return _t(pe,fe,"propBlock");if(Q=="}"||Q=="{")return Kt(Q,fe,pe);if(Q=="(")return _t(pe,fe,"parens");if(Q=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(fe.current()))Xe+=" error";else if(Q=="word")X(fe);else if(Q=="interpolation")return _t(pe,fe,"interpolation");return"prop"},le.propBlock=function(Q,fe,pe){return Q=="}"?Mt(pe):Q=="word"?(Xe="property","maybeprop"):pe.context.type},le.parens=function(Q,fe,pe){return Q=="{"||Q=="}"?Kt(Q,fe,pe):Q==")"?Mt(pe):Q=="("?_t(pe,fe,"parens"):Q=="interpolation"?_t(pe,fe,"interpolation"):(Q=="word"&&X(fe),"parens")},le.pseudo=function(Q,fe,pe){return Q=="meta"?"pseudo":Q=="word"?(Xe="variable-3",pe.context.type):jt(Q,fe,pe)},le.documentTypes=function(Q,fe,pe){return Q=="word"&&P.hasOwnProperty(fe.current())?(Xe="tag",pe.context.type):le.atBlock(Q,fe,pe)},le.atBlock=function(Q,fe,pe){if(Q=="(")return _t(pe,fe,"atBlock_parens");if(Q=="}"||Q==";")return Kt(Q,fe,pe);if(Q=="{")return Mt(pe)&&_t(pe,fe,Fe?"block":"top");if(Q=="interpolation")return _t(pe,fe,"interpolation");if(Q=="word"){var ze=fe.current().toLowerCase();ze=="only"||ze=="not"||ze=="and"||ze=="or"?Xe="keyword":se.hasOwnProperty(ze)?Xe="attribute":ye.hasOwnProperty(ze)?Xe="property":Ee.hasOwnProperty(ze)?Xe="keyword":it.hasOwnProperty(ze)?Xe="property":Be.hasOwnProperty(ze)?Xe=Te?"string-2":"property":De.hasOwnProperty(ze)?Xe="atom":Y.hasOwnProperty(ze)?Xe="keyword":Xe="error"}return pe.context.type},le.atComponentBlock=function(Q,fe,pe){return Q=="}"?Kt(Q,fe,pe):Q=="{"?Mt(pe)&&_t(pe,fe,Fe?"block":"top",!1):(Q=="word"&&(Xe="error"),pe.context.type)},le.atBlock_parens=function(Q,fe,pe){return Q==")"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,fe,pe,2):le.atBlock(Q,fe,pe)},le.restricted_atBlock_before=function(Q,fe,pe){return Q=="{"?_t(pe,fe,"restricted_atBlock"):Q=="word"&&pe.stateArg=="@counter-style"?(Xe="variable","restricted_atBlock_before"):jt(Q,fe,pe)},le.restricted_atBlock=function(Q,fe,pe){return Q=="}"?(pe.stateArg=null,Mt(pe)):Q=="word"?(pe.stateArg=="@font-face"&&!Me.hasOwnProperty(fe.current().toLowerCase())||pe.stateArg=="@counter-style"&&!te.hasOwnProperty(fe.current().toLowerCase())?Xe="error":Xe="property","maybeprop"):"restricted_atBlock"},le.keyframes=function(Q,fe,pe){return Q=="word"?(Xe="variable","keyframes"):Q=="{"?_t(pe,fe,"top"):jt(Q,fe,pe)},le.at=function(Q,fe,pe){return Q==";"?Mt(pe):Q=="{"||Q=="}"?Kt(Q,fe,pe):(Q=="word"?Xe="tag":Q=="hash"&&(Xe="builtin"),"at")},le.interpolation=function(Q,fe,pe){return Q=="}"?Mt(pe):Q=="{"||Q==";"?Kt(Q,fe,pe):(Q=="word"?Xe="variable":Q!="variable"&&Q!="("&&Q!=")"&&(Xe="error"),"interpolation")},{startState:function(Q){return{tokenize:null,state:Le?"block":"top",stateArg:null,context:new St(Le?"block":"top",Q||0,null)}},token:function(Q,fe){if(!fe.tokenize&&Q.eatSpace())return null;var pe=(fe.tokenize||ut)(Q,fe);return pe&&typeof pe=="object"&&(qe=pe[1],pe=pe[0]),Xe=pe,qe!="comment"&&(fe.state=le[fe.state](qe,Q,fe)),Xe},indent:function(Q,fe){var pe=Q.context,ze=fe&&fe.charAt(0),ot=pe.indent;return pe.type=="prop"&&(ze=="}"||ze==")")&&(pe=pe.prev),pe.prev&&(ze=="}"&&(pe.type=="block"||pe.type=="top"||pe.type=="interpolation"||pe.type=="restricted_atBlock")?(pe=pe.prev,ot=pe.indent):(ze==")"&&(pe.type=="parens"||pe.type=="atBlock_parens")||ze=="{"&&(pe.type=="at"||pe.type=="atBlock"))&&(ot=Math.max(0,pe.indent-ve))),ot},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Z,fold:"brace"}});function s(ge){for(var he={},Le=0;Le<ge.length;++Le)he[ge[Le].toLowerCase()]=!0;return he}var u=["domain","regexp","url","url-prefix"],l=s(u),h=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],f=s(h),v=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],x=s(v),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],E=s(w),O=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],H=s(O),F=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],j=s(F),q=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],M=s(q),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],D=s(S),B=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],I=s(B),V=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ne=s(V),ue=u.concat(h).concat(v).concat(w).concat(O).concat(F).concat(B).concat(V);n.registerHelper("hintWords","css",ue);function de(ge,he){for(var Le=!1,ve;(ve=ge.next())!=null;){if(Le&&ve=="/"){he.tokenize=null;break}Le=ve=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:l,mediaTypes:f,mediaFeatures:x,mediaValueKeywords:E,propertyKeywords:H,nonStandardPropertyKeywords:j,fontProperties:M,counterDescriptors:D,colorKeywords:I,valueKeywords:ne,tokenHooks:{"/":function(ge,he){return ge.eat("*")?(he.tokenize=de,de(ge,he)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:f,mediaFeatures:x,mediaValueKeywords:E,propertyKeywords:H,nonStandardPropertyKeywords:j,colorKeywords:I,valueKeywords:ne,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,he){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(he.tokenize=de,de(ge,he)):["operator","operator"]},":":function(ge){return ge.match(/^\s*\{/,!1)?[null,null]:!1},$:function(ge){return ge.match(/^[\w-]+/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(ge){return ge.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:f,mediaFeatures:x,mediaValueKeywords:E,propertyKeywords:H,nonStandardPropertyKeywords:j,colorKeywords:I,valueKeywords:ne,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ge,he){return ge.eat("/")?(ge.skipToEnd(),["comment","comment"]):ge.eat("*")?(he.tokenize=de,de(ge,he)):["operator","operator"]},"@":function(ge){return ge.eat("{")?[null,"interpolation"]:ge.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(ge.eatWhile(/[\w\\\-]/),ge.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:l,mediaTypes:f,mediaFeatures:x,propertyKeywords:H,nonStandardPropertyKeywords:j,fontProperties:M,counterDescriptors:D,colorKeywords:I,valueKeywords:ne,supportsAtComponent:!0,tokenHooks:{"/":function(ge,he){return ge.eat("*")?(he.tokenize=de,de(ge,he)):!1}},name:"css",helperType:"gss"})})}()),tg.exports}jw();var ng={exports:{}},rg;function B0(){return rg||(rg=1,function(t,e){(function(n){n(ds())})(function(n){n.overlayMode=function(s,u,l){return{startState:function(){return{base:n.startState(s),overlay:n.startState(u),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(h){return{base:n.copyState(s,h.base),overlay:n.copyState(u,h.overlay),basePos:h.basePos,baseCur:null,overlayPos:h.overlayPos,overlayCur:null}},token:function(h,f){return(h!=f.streamSeen||Math.min(f.basePos,f.overlayPos)<h.start)&&(f.streamSeen=h,f.basePos=f.overlayPos=h.start),h.start==f.basePos&&(f.baseCur=s.token(h,f.base),f.basePos=h.pos),h.start==f.overlayPos&&(h.pos=h.start,f.overlayCur=u.token(h,f.overlay),f.overlayPos=h.pos),h.pos=Math.min(f.basePos,f.overlayPos),f.overlayCur==null?f.baseCur:f.baseCur!=null&&f.overlay.combineTokens||l&&f.overlay.combineTokens==null?f.baseCur+" "+f.overlayCur:f.overlayCur},indent:s.indent&&function(h,f,v){return s.indent(h.base,f,v)},electricChars:s.electricChars,innerMode:function(h){return{state:h.base,mode:s}},blankLine:function(h){var f,v;return s.blankLine&&(f=s.blankLine(h.base)),u.blankLine&&(v=u.blankLine(h.overlay)),v==null?f:l&&f!=null?f+" "+v:v}}}})}()),ng.exports}B0();I0();var og={exports:{}},ag;function Uw(){return ag||(ag=1,function(t,e){(function(n){n(ds())})(function(n){n.defineMode("yaml",function(){var s=["true","false","on","off","yes","no"],u=new RegExp("\\b(("+s.join(")|(")+"))$","i");return{token:function(l,h){var f=l.peek(),v=h.escaped;if(h.escaped=!1,f=="#"&&(l.pos==0||/\s/.test(l.string.charAt(l.pos-1))))return l.skipToEnd(),"comment";if(l.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(h.literal&&l.indentation()>h.keyCol)return l.skipToEnd(),"string";if(h.literal&&(h.literal=!1),l.sol()){if(h.keyCol=0,h.pair=!1,h.pairStart=!1,l.match("---")||l.match("..."))return"def";if(l.match(/\s*-\s+/))return"meta"}if(l.match(/^(\{|\}|\[|\])/))return f=="{"?h.inlinePairs++:f=="}"?h.inlinePairs--:f=="["?h.inlineList++:h.inlineList--,"meta";if(h.inlineList>0&&!v&&f==",")return l.next(),"meta";if(h.inlinePairs>0&&!v&&f==",")return h.keyCol=0,h.pair=!1,h.pairStart=!1,l.next(),"meta";if(h.pairStart){if(l.match(/^\s*(\||\>)\s*/))return h.literal=!0,"meta";if(l.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(h.inlinePairs==0&&l.match(/^\s*-?[0-9\.\,]+\s?$/)||h.inlinePairs>0&&l.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(l.match(u))return"keyword"}return!h.pair&&l.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(h.pair=!0,h.keyCol=l.indentation(),"atom"):h.pair&&l.match(/^:\s*/)?(h.pairStart=!0,"meta"):(h.pairStart=!1,h.escaped=f=="\\",l.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),n.defineMIME("text/x-yaml","yaml"),n.defineMIME("text/yaml","yaml")})}()),og.exports}Uw();var sg={exports:{}},ug;function Yw(){return ug||(ug=1,function(t,e){(function(n){n(ds(),z0(),B0())})(function(n){var s=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(u,l){var h=0;function f(E){return E.code=!1,null}var v={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(E){return{code:E.code,codeBlock:E.codeBlock,ateSpace:E.ateSpace}},token:function(E,O){if(O.combineTokens=null,O.codeBlock)return E.match(/^```+/)?(O.codeBlock=!1,null):(E.skipToEnd(),null);if(E.sol()&&(O.code=!1),E.sol()&&E.match(/^```+/))return E.skipToEnd(),O.codeBlock=!0,null;if(E.peek()==="`"){E.next();var H=E.pos;E.eatWhile("`");var F=1+E.pos-H;return O.code?F===h&&(O.code=!1):(h=F,O.code=!0),null}else if(O.code)return E.next(),null;if(E.eatSpace())return O.ateSpace=!0,null;if((E.sol()||O.ateSpace)&&(O.ateSpace=!1,l.gitHubSpice!==!1)){if(E.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return O.combineTokens=!0,"link";if(E.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return O.combineTokens=!0,"link"}return E.match(s)&&E.string.slice(E.start-2,E.start)!="]("&&(E.start==0||/\W/.test(E.string.charAt(E.start-1)))?(O.combineTokens=!0,"link"):(E.next(),null)},blankLine:f},x={taskLists:!0,strikethrough:!0,emoji:!0};for(var w in l)x[w]=l[w];return x.name="markdown",n.overlayMode(n.getMode(u,x),v)},"markdown"),n.defineMIME("text/x-gfm","gfm")})}()),sg.exports}Yw();var lg={exports:{}},cg;function Gw(){return cg||(cg=1,function(t,e){(function(n){n(ds())})(function(n){n.defineOption("rulers",!1,function(u,l){u.state.rulerDiv&&(u.state.rulerDiv.parentElement.removeChild(u.state.rulerDiv),u.state.rulerDiv=null,u.off("refresh",s)),l&&l.length&&(u.state.rulerDiv=u.display.lineSpace.parentElement.insertBefore(document.createElement("div"),u.display.lineSpace),u.state.rulerDiv.className="CodeMirror-rulers",s(u),u.on("refresh",s))});function s(u){u.state.rulerDiv.textContent="";var l=u.getOption("rulers"),h=u.defaultCharWidth(),f=u.charCoords(n.Pos(u.firstLine(),0),"div").left;u.state.rulerDiv.style.minHeight=u.display.scroller.offsetHeight+30+"px";for(var v=0;v<l.length;v++){var x=document.createElement("div");x.className="CodeMirror-ruler";var w,E=l[v];typeof E=="number"?w=E:(w=E.column,E.className&&(x.className+=" "+E.className),E.color&&(x.style.borderColor=E.color),E.lineStyle&&(x.style.borderLeftStyle=E.lineStyle),E.width&&(x.style.borderLeftWidth=E.width)),x.style.left=f+w*h+"px",u.state.rulerDiv.appendChild(x)}}})}()),lg.exports}Gw();var hg={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var fg;function Xw(){return fg||(fg=1,function(t){t(jQuery)}(function(t){var e=0,n=Array.prototype.hasOwnProperty,s=Array.prototype.slice;return t.cleanData=function(u){return function(l){var h,f,v;for(v=0;(f=l[v])!=null;v++)h=t._data(f,"events"),h&&h.remove&&t(f).triggerHandler("remove");u(l)}}(t.cleanData),t.widget=function(u,l,h){var f,v,x,w={},E=u.split(".")[0];if(u=u.split(".")[1],u==="__proto__"||u==="constructor")return t.error("Invalid widget name: "+u);var O=E+"-"+u;return h||(h=l,l=t.Widget),Array.isArray(h)&&(h=t.extend.apply(null,[{}].concat(h))),t.expr.pseudos[O.toLowerCase()]=function(H){return!!t.data(H,O)},t[E]=t[E]||{},f=t[E][u],v=t[E][u]=function(H,F){if(!this||!this._createWidget)return new v(H,F);arguments.length&&this._createWidget(H,F)},t.extend(v,f,{version:h.version,_proto:t.extend({},h),_childConstructors:[]}),x=new l,x.options=t.widget.extend({},x.options),t.each(h,function(H,F){if(typeof F!="function"){w[H]=F;return}w[H]=function(){function j(){return l.prototype[H].apply(this,arguments)}function q(M){return l.prototype[H].apply(this,M)}return function(){var M=this._super,S=this._superApply,D;return this._super=j,this._superApply=q,D=F.apply(this,arguments),this._super=M,this._superApply=S,D}}()}),v.prototype=t.widget.extend(x,{widgetEventPrefix:f&&x.widgetEventPrefix||u},w,{constructor:v,namespace:E,widgetName:u,widgetFullName:O}),f?(t.each(f._childConstructors,function(H,F){var j=F.prototype;t.widget(j.namespace+"."+j.widgetName,v,F._proto)}),delete f._childConstructors):l._childConstructors.push(v),t.widget.bridge(u,v),v},t.widget.extend=function(u){for(var l=s.call(arguments,1),h=0,f=l.length,v,x;h<f;h++)for(v in l[h])x=l[h][v],n.call(l[h],v)&&x!==void 0&&(t.isPlainObject(x)?u[v]=t.isPlainObject(u[v])?t.widget.extend({},u[v],x):t.widget.extend({},x):u[v]=x);return u},t.widget.bridge=function(u,l){var h=l.prototype.widgetFullName||u;t.fn[u]=function(f){var v=typeof f=="string",x=s.call(arguments,1),w=this;return v?!this.length&&f==="instance"?w=void 0:this.each(function(){var E,O=t.data(this,h);if(f==="instance")return w=O,!1;if(!O)return t.error("cannot call methods on "+u+" prior to initialization; attempted to call method '"+f+"'");if(typeof O[f]!="function"||f.charAt(0)==="_")return t.error("no such method '"+f+"' for "+u+" widget instance");if(E=O[f].apply(O,x),E!==O&&E!==void 0)return w=E&&E.jquery?w.pushStack(E.get()):E,!1}):(x.length&&(f=t.widget.extend.apply(null,[f].concat(x))),this.each(function(){var E=t.data(this,h);E?(E.option(f||{}),E._init&&E._init()):t.data(this,h,new l(f,this))})),w}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(u,l){l=t(l||this.defaultElement||this)[0],this.element=t(l),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},l!==this&&(t.data(l,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===l&&this.destroy()}}),this.document=t(l.style?l.ownerDocument:l.document||l),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),u),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var u=this;this._destroy(),t.each(this.classesElementLookup,function(l,h){u._removeClass(h,l)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(u,l){var h=u,f,v,x;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof u=="string")if(h={},f=u.split("."),u=f.shift(),f.length){for(v=h[u]=t.widget.extend({},this.options[u]),x=0;x<f.length-1;x++)v[f[x]]=v[f[x]]||{},v=v[f[x]];if(u=f.pop(),arguments.length===1)return v[u]===void 0?null:v[u];v[u]=l}else{if(arguments.length===1)return this.options[u]===void 0?null:this.options[u];h[u]=l}return this._setOptions(h),this},_setOptions:function(u){var l;for(l in u)this._setOption(l,u[l]);return this},_setOption:function(u,l){return u==="classes"&&this._setOptionClasses(l),this.options[u]=l,u==="disabled"&&this._setOptionDisabled(l),this},_setOptionClasses:function(u){var l,h,f;for(l in u)f=this.classesElementLookup[l],!(u[l]===this.options.classes[l]||!f||!f.length)&&(h=t(f.get()),this._removeClass(f,l),h.addClass(this._classes({element:h,keys:l,classes:u,add:!0})))},_setOptionDisabled:function(u){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!u),u&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(u){var l=[],h=this;u=t.extend({element:this.element,classes:this.options.classes||{}},u);function f(){var x=[];u.element.each(function(w,E){var O=t.map(h.classesElementLookup,function(H){return H}).some(function(H){return H.is(E)});O||x.push(E)}),h._on(t(x),{remove:"_untrackClassesElement"})}function v(x,w){var E,O;for(O=0;O<x.length;O++)E=h.classesElementLookup[x[O]]||t(),u.add?(f(),E=t(t.uniqueSort(E.get().concat(u.element.get())))):E=t(E.not(u.element).get()),h.classesElementLookup[x[O]]=E,l.push(x[O]),w&&u.classes[x[O]]&&l.push(u.classes[x[O]])}return u.keys&&v(u.keys.match(/\S+/g)||[],!0),u.extra&&v(u.extra.match(/\S+/g)||[]),l.join(" ")},_untrackClassesElement:function(u){var l=this;t.each(l.classesElementLookup,function(h,f){t.inArray(u.target,f)!==-1&&(l.classesElementLookup[h]=t(f.not(u.target).get()))}),this._off(t(u.target))},_removeClass:function(u,l,h){return this._toggleClass(u,l,h,!1)},_addClass:function(u,l,h){return this._toggleClass(u,l,h,!0)},_toggleClass:function(u,l,h,f){f=typeof f=="boolean"?f:h;var v=typeof u=="string"||u===null,x={extra:v?l:h,keys:v?u:l,element:v?this.element:u,add:f};return x.element.toggleClass(this._classes(x),f),this},_on:function(u,l,h){var f,v=this;typeof u!="boolean"&&(h=l,l=u,u=!1),h?(l=f=t(l),this.bindings=this.bindings.add(l)):(h=l,l=this.element,f=this.widget()),t.each(h,function(x,w){function E(){if(!(!u&&(v.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof w=="string"?v[w]:w).apply(v,arguments)}typeof w!="string"&&(E.guid=w.guid=w.guid||E.guid||t.guid++);var O=x.match(/^([\w:-]*)\s*(.*)$/),H=O[1]+v.eventNamespace,F=O[2];F?f.on(H,F,E):l.on(H,E)})},_off:function(u,l){l=(l||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.off(l),this.bindings=t(this.bindings.not(u).get()),this.focusable=t(this.focusable.not(u).get()),this.hoverable=t(this.hoverable.not(u).get())},_delay:function(u,l){function h(){return(typeof u=="string"?f[u]:u).apply(f,arguments)}var f=this;return setTimeout(h,l||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(l){this._addClass(t(l.currentTarget),null,"ui-state-hover")},mouseleave:function(l){this._removeClass(t(l.currentTarget),null,"ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(l){this._addClass(t(l.currentTarget),null,"ui-state-focus")},focusout:function(l){this._removeClass(t(l.currentTarget),null,"ui-state-focus")}})},_trigger:function(u,l,h){var f,v,x=this.options[u];if(h=h||{},l=t.Event(l),l.type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),l.target=this.element[0],v=l.originalEvent,v)for(f in v)f in l||(l[f]=v[f]);return this.element.trigger(l,h),!(typeof x=="function"&&x.apply(this.element[0],[l].concat(h))===!1||l.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(u,l){t.Widget.prototype["_"+u]=function(h,f,v){typeof f=="string"&&(f={effect:f});var x,w=f?f===!0||typeof f=="number"?l:f.effect||l:u;f=f||{},typeof f=="number"?f={duration:f}:f===!0&&(f={}),x=!t.isEmptyObject(f),f.complete=v,f.delay&&h.delay(f.delay),x&&t.effects&&t.effects.effect[w]?h[u](f):w!==u&&h[w]?h[w](f.duration,f.easing,v):h.queue(function(E){t(this)[u](),v&&v.call(h[0]),E()})}}),t.widget})),hg}Xw();var dg={};/*!
 * jQuery UI Autocomplete 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var pg;function Zw(){return pg||(pg=1,function(t){t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,n,s,u=this.element[0].nodeName.toLowerCase(),l=u==="textarea",h=u==="input";this.isMultiLine=l||!h&&this.element.prop("contentEditable")==="true",this.valueMethod=this.element[l||h?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(f){if(this.element.prop("readOnly")){e=!0,s=!0,n=!0;return}e=!1,s=!1,n=!1;var v=t.ui.keyCode;switch(f.keyCode){case v.PAGE_UP:e=!0,this._move("previousPage",f);break;case v.PAGE_DOWN:e=!0,this._move("nextPage",f);break;case v.UP:e=!0,this._keyEvent("previous",f);break;case v.DOWN:e=!0,this._keyEvent("next",f);break;case v.ENTER:this.menu.active&&(e=!0,f.preventDefault(),this.menu.select(f));break;case v.TAB:this.menu.active&&this.menu.select(f);break;case v.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(f),f.preventDefault());break;default:n=!0,this._searchTimeout(f);break}},keypress:function(f){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&f.preventDefault();return}if(!n){var v=t.ui.keyCode;switch(f.keyCode){case v.PAGE_UP:this._move("previousPage",f);break;case v.PAGE_DOWN:this._move("nextPage",f);break;case v.UP:this._keyEvent("previous",f);break;case v.DOWN:this._keyEvent("next",f);break}}},input:function(f){if(s){s=!1,f.preventDefault();return}this._searchTimeout(f)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(f){clearTimeout(this.searching),this.close(f),this._change(f)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(f){f.preventDefault()},menufocus:function(f,v){var x,w;if(this.isNewMenu&&(this.isNewMenu=!1,f.originalEvent&&/^mouse/.test(f.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(f.target).trigger(f.originalEvent)});return}w=v.item.data("ui-autocomplete-item"),this._trigger("focus",f,{item:w})!==!1&&f.originalEvent&&/^key/.test(f.originalEvent.type)&&this._value(w.value),x=v.item.attr("aria-label")||w.value,x&&String.prototype.trim.call(x).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(x))},100))},menuselect:function(f,v){var x=v.item.data("ui-autocomplete-item"),w=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=w),this._trigger("select",f,{item:x})!==!1&&this._value(x.value),this.term=this._value(),this.close(f),this.selectedItem=x}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,n){this._super(e,n),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&n&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,s=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(u,l){l(t.ui.autocomplete.filter(e,u.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(u,l){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:n,data:u,dataType:"json",success:function(h){l(h)},error:function(){l([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var n=this.term===this._value(),s=this.menu.element.is(":visible"),u=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!n||n&&!s&&!u)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,n){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(n);if(this._trigger("search",n)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(n){e===this.requestIndex&&this.__response(n),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(n){return typeof n=="string"?{label:n,value:n}:t.extend({},n,{label:n.label||n.value,value:n.value||n.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var s=this;t.each(n,function(u,l){s._renderItemData(e,l)})},_renderItemData:function(e,n){return this._renderItem(e,n).data("ui-autocomplete-item",n)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(e,n){if(!this.menu.element.is(":visible")){this.search(null,n);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](n)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,n){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,n),n.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var s=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(u){return s.test(u.label||u.value||u)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?n=this.options.messages.results(e.length):n=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(n))},100))}}),t.ui.autocomplete})),dg}Zw();function mg(){document.querySelectorAll('input[type="color"]').forEach(e=>{if(e.parentElement&&e.parentElement.classList.contains("color-input-wrapper"))return;const n=e.getAttribute("data-initial-value"),s=document.createElement("div");s.className="color-input-wrapper",e.parentNode.insertBefore(s,e),s.appendChild(e);const u=document.createElement("button");u.type="button",u.classList.add("color-toggle-btn"),u.classList.add("uk-button"),u.textContent="Reset",s.appendChild(u),n&&n!==""&&(s.classList.add("color-input-wrapper--defined"),s.style.setProperty("--color-input-value",n)),gg(e,u,n),u.addEventListener("click",()=>{gg(e,u)}),e.addEventListener("change",()=>{e.value&&e.value!==""?(s.style.setProperty("--color-input-value",e.value),s.classList.add("color-input-wrapper--defined")):(s.style.removeProperty("--color-input-value"),s.classList.remove("color-input-wrapper--defined"))})})}function gg(t,e,n=void 0){t.type==="color"?(t.type="text",e.textContent=t.getAttribute("data-color-picker-label")):(t.type="color",t.value=n||t.value||"#000000",e.textContent=t.getAttribute("data-hex-color-label"))}const Xl="bulk-actions--collapsed",Xd="bulk-actions--collapsing";function vg(){const t=[],e=document.querySelectorAll(".bulk-layout ."+Xl),n=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),s=document.querySelector('.bulk-layout input[name="bulk-selection-all"]'),u=document.querySelector(".bulk-layout .uk-button-select-all"),l=document.querySelectorAll(".bulk-layout .uk-button-bulk"),h=document.querySelectorAll(".bulk-layout input.bulk-form-value"),f=document.querySelectorAll('.bulk-layout input[name="bulk-selection[]"]');e.forEach(w=>w.addEventListener("transitionend",E=>{w.classList.contains(Xd)&&w.classList.remove(Xd)}));const v=()=>{f.forEach(w=>{w.checked=!1,t.splice(0,t.length),h.forEach(E=>E.value="")}),s&&(s.checked=!1),x()},x=()=>{window.requestAnimationFrame(()=>{e.forEach(w=>w.classList.add(Xd)),e.forEach(w=>w.classList.add(Xl))})};l.forEach(w=>{w.hasAttribute("data-bulk-group")&&w.addEventListener("click",E=>{const O=document.getElementById(w.getAttribute("data-bulk-group"));O&&(document.querySelectorAll(".bulk-group").forEach(H=>{H!==O&&H.classList.remove("bulk-group--open")}),O.classList.toggle("bulk-group--open"))})}),f.forEach(w=>{w.addEventListener("change",E=>{w.checked?t.push(w.value):t.splice(t.indexOf(w.value),1),t.length>0?(e.forEach(O=>O.classList.remove(Xl)),h.forEach(O=>O.value=JSON.stringify(t))):(x(),s&&(s.checked=!1))})}),n&&n.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),v()}),u&&u.addEventListener("click",w=>{w.preventDefault(),w.stopPropagation(),f.forEach(E=>{E.checked=!0,t.push(E.value)}),e.forEach(E=>E.classList.remove(Xl)),h.forEach(E=>E.value=JSON.stringify(t))}),s&&s.addEventListener("change",w=>{s.checked?f.forEach(E=>{E.checked=!0,t.push(E.value)}):v(),t.length>0?(e.forEach(E=>E.classList.remove(Xl)),h.forEach(E=>E.value=JSON.stringify(t))):e.forEach(E=>E.classList.add(Xl))})}class Vw{constructor(){var e,n,s,u,l,h,f;this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll("a"),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=(e=this.treeWrapper)==null?void 0:e.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.userPicture.length&&this.userPicture[0].classList.add("rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(v=>v.addEventListener("click",this.adminMenuLinkClick)),this.adminMenuNavParents.forEach(v=>v.addEventListener("click",this.adminMenuNavParentClick)),(n=this.searchButton)==null||n.addEventListener("click",this.searchButtonClick),(s=this.treeButton)==null||s.addEventListener("click",this.treeButtonClick),(u=this.treeWrapperLink)==null||u.addEventListener("click",this.treeWrapperLinkClick),(l=this.userPicture)==null||l.addEventListener("click",this.userPictureClick),(h=this.userActionsLink)==null||h.addEventListener("click",this.userActionsLinkClick),(f=this.mainContentOverlay)==null||f.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}menuClick(e){this.menuOpen?this.closeMenu():this.openMenu()}adminMenuNavParentClick(e){e.preventDefault();const n=e.currentTarget;if(!n)return!1;this.adminMenuNavParents.forEach(s=>{s.classList.remove("nav-open")}),n.classList.contains("nav-open")?n.classList.remove("nav-open"):n.classList.add("nav-open")}adminMenuLinkClick(e){this.menuOpen&&this.closeMenu()}showOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}hideOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}openMenu(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}closeMenu(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}searchButtonClick(e){this.searchOpen?this.closeSearch():this.openSearch()}openSearch(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}closeSearch(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}treeButtonClick(e){this.treeOpen?this.closeTree():this.openTree()}treeWrapperLinkClick(e){e.currentTarget.className.indexOf("tab-link")===-1&&this.treeOpen&&this.closeTree()}openTree(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}closeTree(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),this.treeButton.classList.remove("active"),this.treeOpen=!1}userPictureClick(e){return this.userOpen?this.closeUser():this.openUser(),!1}userActionsLinkClick(e){this.userOpen&&this.closeUser()}openUser(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}closeUser(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}mainContentOverlayClick(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}class bg{constructor(){if(this.button=document.querySelector(".rz-action-save"),this.actionMenu=document.querySelector(".actions-menu"),this.formToSave=null,!this.button||!this.actionMenu)return;this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.button.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown);const e=this.button.getAttribute("data-action-save");e&&(this.formToSave=document.querySelector(e),this.formToSave&&(this.actionMenu.insertBefore(this.button,this.actionMenu.firstChild),this.button.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown)))}onKeyDown(e){if(this.formToSave&&(e.metaKey||e.ctrlKey)&&e.key==="s")return e.preventDefault(),this.formToSave.requestSubmit(),!1}onClick(){this.formToSave.requestSubmit()}}class Kw extends HTMLElement{get contextualMenuPath(){return this.getAttribute("data-contextual-menu-path")}get editPath(){return this.getAttribute("data-node-edit-path")}get statusPath(){return this.getAttribute("data-node-status-path")}connectedCallback(){const e=this.querySelector(".tree-contextualmenu-button"),n=this.contextualMenuPath;!e||!n||(this.onClick=this.onClick.bind(this),this.moveNodeToPosition=this.moveNodeToPosition.bind(this),e.addEventListener("click",async s=>{if(!this.querySelector("nav.uk-dropdown")){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const v=await fetch(n,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.insertAdjacentHTML("beforeend",await v.text()),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}const l=this.querySelectorAll(".node-actions a, .node-actions button, .duplicate-node"),h=this.querySelector(".move-node-first-position"),f=this.querySelector(".move-node-last-position");l.forEach(v=>{v.removeEventListener("click",this.onClick),v.addEventListener("click",this.onClick)}),h&&h.addEventListener("click",v=>this.moveNodeToPosition("first",v)),f&&f.addEventListener("click",v=>this.moveNodeToPosition("last",v))}))}async onClick(e){e.preventDefault();const n=e.currentTarget,s=n.closest(".nodetree-element"),u=parseInt(s.getAttribute("data-node-id")),l=n.getAttribute("data-status"),h=n.getAttribute("data-value"),f=n.getAttribute("data-action");if(window.dispatchEvent(new CustomEvent("requestLoaderShow")),f==="duplicate"){await this.duplicateNode(u);return}if(l!==""&&h!==""){await this.changeStatus(u,l,h);return}}async changeStatus(e,n,s){await this.postNodeUpdate(this.statusPath,{_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:e,statusName:n,statusValue:s}),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async duplicateNode(e){await this.postNodeUpdate(this.editPath,{_token:window.RozierConfig.ajaxToken,_action:"duplicate",nodeId:e}),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async moveNodeToPosition(e,n){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let s=n.currentTarget.closest(".nodetree-element"),u=parseInt(s.getAttribute("data-node-id")),l=parseInt(s.closest("ul").getAttribute("data-parent-node-id")),h={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:u};typeof e<"u"&&e==="first"?h.firstPosition=!0:typeof e<"u"&&e==="last"&&(h.lastPosition=!0),isNaN(l)&&(l=null),h.newParent=l,await this.postNodeUpdate(this.editPath,h),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async postNodeUpdate(e,n){return new Promise(async(s,u)=>{try{const l=await fetch(e,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(n)});if(l.ok){const h=await l.json();window.dispatchEvent(new CustomEvent("requestAllNodeTreeChange")),s(h)}else{const h=await l.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}})),u(h)}}catch(l){u(l)}})}}const Lf=t=>({}).toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase();(function(){let t,e=()=>{},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=n.length,u=window.console=window.console||{};for(;s--;)t=n[s],u[t]||(u[t]=e)})();const mf=(t,e)=>{e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(s,"").replace(n,(u,l)=>e.indexOf("<"+l.toLowerCase()+">")>-1?u:"")},_g=(t,e)=>{t&&(t.classList?t.classList.add(e):t.className+=" "+e)};class Qw extends HTMLElement{constructor(){super(),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.inputFocus=this.inputFocus.bind(this),this.inputFocusOut=this.inputFocusOut.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.wrapInTabs=this.wrapInTabs.bind(this),this.dropdown=null,this.form=this.querySelector("#edit-node-source-form"),this.formRow=this.querySelectorAll(".uk-form-row"),this.input=this.querySelectorAll("input, select"),this.devNames=this.querySelectorAll("[data-dev-name]")}connectedCallback(){this.form&&(this.wrapInTabs(),this.devNames.forEach(e=>{if(e.getAttribute("data-dev-name")!==""){const n=e.closest(".uk-form-row").querySelector("label"),s=e.querySelector(".uk-navbar-brand.label");n?n.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>"):s&&s.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>")}}),this.formRow.forEach((e,n)=>{e.className.indexOf("children-nodes-widget")>=0&&this.childrenNodeWidgetFlip(n)}),window.addEventListener("keydown",this.onInputKeyDown),window.addEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.addEventListener("focus",this.inputFocus),e.addEventListener("focusout",this.inputFocusOut)}),this.form.addEventListener("submit",this.onFormSubmit))}disconnectedCallback(){this.form&&(window.removeEventListener("keydown",this.onInputKeyDown),window.removeEventListener("keyup",this.onInputKeyUp),this.input.forEach(e=>{e.removeEventListener("focus",this.inputFocus),e.removeEventListener("focusout",this.inputFocusOut)}),this.form.removeEventListener("submit",this.onFormSubmit))}wrapInTabs(){let e={default:{name:"default",id:"default",fields:[]}},n=this.querySelectorAll(".uk-form-row[data-field-group-canonical]");const s=n.length;let u=1;if(s<=0){this.classList.add("content-tabs-ready");return}for(let l=0;l<s;l++){let h=n[l].getAttribute("data-field-group"),f=n[l].getAttribute("data-field-group-canonical");f?(typeof e[f]>"u"&&(e[f]={name:h,id:f,fields:[]},u++),e[f].fields.push(n[l])):e.default.fields.push(n[l])}if(u>1){this.form.insertAdjacentHTML("beforeend",'<div id="node-source-form-switcher-nav-cont"><nav role="tablist" id="node-source-form-switcher-nav"></nav></div><ul id="node-source-form-switcher"></ul>');const l=this.form.querySelector("#node-source-form-switcher"),h=this.form.querySelector("#node-source-form-switcher-nav");for(let f in e){const v=e[f],x=v.id.replace(/[\s_]/g,"-").replace(/[^\w-]+/g,""),w="group-"+x,E="tab-"+x;l.insertAdjacentHTML("beforeend",'<li role="tabpanel" aria-labelledby="'+E+'" class="field-group" id="'+w+'"></li>'),v.id==="default"?h.insertAdjacentHTML("beforeend",'<button id="'+E+'" role="tab" class="switcher-nav-item" type="button" aria-controls="'+w+'"><i class="uk-icon-star"></i></button>'):h.insertAdjacentHTML("beforeend",'<button id="'+E+'" role="tab" class="switcher-nav-item" type="button" aria-controls="'+w+'">'+v.name+"</button>");let O=l.querySelector("#"+w);for(let H=0;H<v.fields.length;H++)O.appendChild(v.fields[H])}}this.activateTab(this.form.querySelector("#group-default")),this.activateTabNav(this.form.querySelector(".switcher-nav-item")),this.form.querySelectorAll(".switcher-nav-item").forEach(l=>{l.addEventListener("click",h=>{const f=l.getAttribute("aria-controls");this.form.querySelectorAll(".switcher-nav-item").forEach(v=>this.desactivateTabNav(v)),this.activateTabNav(l.closest(".switcher-nav-item")),this.form.querySelectorAll(".field-group").forEach(v=>this.desactivateTab(v)),this.activateTab(this.form.querySelector("#"+f))})}),this.classList.add("content-tabs-ready")}activateTab(e){e==null||e.classList.add("active")}activateTabNav(e){e==null||e.classList.add("active"),e==null||e.setAttribute("aria-selected",!0)}desactivateTab(e){e==null||e.classList.remove("active")}desactivateTabNav(e){e==null||e.classList.remove("active"),e==null||e.removeAttribute("aria-selected")}async onFormSubmit(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("requestLoaderShow")),window.dispatchEvent(new CustomEvent("pagechange"));try{const n=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(new FormData(this.form))});if(!n.ok)throw n;const s=await n.json();this.cleanErrors(),s.public_url&&document.querySelectorAll("a.public-url-link").forEach(l=>l.setAttribute("href",s.public_url)),s.preview_url&&document.querySelectorAll("a.preview-url-link").forEach(l=>l.setAttribute("href",s.preview_url))}catch(n){const s=await n.json();s.errors&&(this.displayErrors(s.errors),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:s.message,status:"danger"}})))}return window.dispatchEvent(new CustomEvent("requestLoaderHide")),window.dispatchEvent(new CustomEvent("requestAllNodeTreeChange")),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(n=>{n.classList.remove("form-errored"),n.querySelector(".error-message").remove()})}displayErrors(e,n=!1,s=""){(!n||n===!1)&&this.cleanErrors(),Object.keys(e).forEach(l=>{const h=e[l];if(Array.isArray(h)){h.forEach((v,x)=>{this.displayErrors(v,!0,s+l+"_"+x+"_")});return}if(Lf(h)==="string"){this.displaySingleError(s,l,e);return}if(Lf(h)!=="object")return;Object.keys(h).forEach(v=>{Lf(h[v])==="object"?this.displayErrors(h[v],!0,s+l+"_"+v+"_"):this.displaySingleError(s,v,h)})})}displaySingleError(e,n,s=[]){const u="source_"+(e+n);let l="";Array.isArray(s[n])?l=s[n][0]:l=s[n];const h=document.getElementById(u);if(h){const f=h.closest(".uk-form-row");f&&(f.classList.add("form-errored"),f.insertAdjacentHTML("beforeend",`<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> ${l}</p>`))}}onInputKeyDown(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}onInputKeyUp(e){e.keyCode===18&&document.body.classList.toggle("dev-name-visible")}childrenNodeWidgetFlip(e){e>=this.formRow.length-2&&(this.dropdown=this.formRow[e].querySelector(".uk-dropdown-small"),this.dropdown.classList.add("uk-dropdown-up"))}inputFocus(e){e.currentTarget.parentElement.classList.add("form-col-focus")}inputFocusOut(e){e.currentTarget.parentElement.classList.remove("form-col-focus")}}class Jw extends HTMLElement{constructor(){super(),this.form=this.querySelector("#edit-tag-form"),this.formRow=this.querySelectorAll(".uk-form-row"),this.dropdown=null,this.onFormSubmit=this.onFormSubmit.bind(this)}connectedCallback(){this.form&&this.form.addEventListener("submit",this.onFormSubmit)}disconnectedCallback(){this.form&&this.form.removeEventListener("submit",this.onFormSubmit)}async onFormSubmit(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("requestLoaderShow"));let n=new CustomEvent("pagechange");window.dispatchEvent(n);const s=new FormData(this.form),u=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:s});if(u.ok)this.cleanErrors();else{const l=await u.json();l.errors&&(this.displayErrors(l.errors),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:l.message,status:"danger"}})))}return await window.Rozier.refreshMainTagTree(),await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}cleanErrors(){document.querySelectorAll(".form-errored").forEach(n=>{n.classList.remove("form-errored"),n.querySelector(".error-message").remove()})}displayErrors(e,n){(!n||n===!1)&&this.cleanErrors();for(let s in e){let u=null,l=null;if(Lf(e[s])==="object")this.displayErrors(e[s],!0);else{u=s.replace("_","-"),e[s]instanceof Array?l=e[s][0]:l=e[s];let h=document.querySelector(".form-col-"+u);h&&(h.classList.add("form-errored"),h.insertAdjacentHTML("beforeend",'<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+l+"</p>"))}}}}class ex extends HTMLElement{connectedCallback(){this.reverseSubNav=this.reverseSubNav.bind(this),window.addEventListener("resize",this.reverseSubNav),this.querySelectorAll('ul[role="menu"]').forEach(e=>{const n=e.closest("li");n&&(n.addEventListener("mouseenter",()=>this.enterMenuItem(n)),n.addEventListener("focusin",()=>this.enterMenuItem(n)),n.addEventListener("mouseleave",()=>this.leaveMenuItem(n)),n.addEventListener("focusout",()=>this.leaveMenuItem(n)))}),this.reverseSubNav()}enterMenuItem(e){const n=e.querySelector('[role="menuitem"]');n==null||n.setAttribute("aria-expanded","true")}leaveMenuItem(e){const n=e.querySelector('[role="menuitem"]');n==null||n.setAttribute("aria-expanded","false")}disconnectedCallback(){window.removeEventListener("resize",this.reverseSubNav)}reverseSubNav(){this.querySelectorAll(".uk-nav-sub").forEach(e=>{e.style.display="block";const n=e.getBoundingClientRect().top,s=e.getBoundingClientRect().height;e.style.display=null,n+s+20>window.innerHeight&&e.parentElement.classList.add("reversed-nav")})}}class tx extends HTMLElement{constructor(){super();Gi(this,"handleOutsideClick",n=>{n.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});this.debounce=null,this.input=this.querySelector(".rz-folder-autocomplete"),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.resize=this.resize.bind(this)}get value(){return this.input?this.input.value:""}get searchPath(){return this.getAttribute("data-search-path")}get csrfToken(){return this.getAttribute("data-csrf-token")}connectedCallback(){this.input&&(this.input.setAttribute("autocomplete","off"),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("input",this.onInput),window.addEventListener("resize",this.resize))}disconnectedCallback(){this.input&&(this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("input",this.onInput),window.removeEventListener("resize",this.resize))}onKeyDown(n){n.keyCode===9&&this.input.dataset.menuActive==="true"&&n.preventDefault()}async onInput(n){const s=this.extractLast(this.value);if(s.length<2){this.removeAutocompleteMenu();return}const u={_action:"folderAutocomplete",_token:this.csrfToken,search:this.extractLast(s)},l=this.searchPath+"?"+new URLSearchParams(u);this.debounce&&(window.clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout(async()=>{const h=await fetch(l,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.showAutocompleteMenu(await h.json())},300)}showAutocompleteMenu(n){this.removeAutocompleteMenu();const s=document.createElement("ul");s.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",n.forEach(u=>{const l=document.createElement("li");l.className="ui-menu-item",l.textContent=u,l.addEventListener("mousedown",h=>{h.preventDefault();let f=this.split(this.input.value);f.pop(),f.push(u),f.push(""),this.input.value=f.join(", "),this.removeAutocompleteMenu()}),s.appendChild(l)}),this.appendChild(s),this.input.dataset.menuActive="true",this.resize(),document.addEventListener("click",this.handleOutsideClick)}resize(){const n=this.querySelector(".ui-autocomplete");n&&(this.input.getBoundingClientRect(),n.style.left=`${this.input.offsetLeft}px`,n.style.top=`${this.input.offsetTop+this.input.offsetHeight}px`)}removeAutocompleteMenu(){const n=this.querySelector(".ui-autocomplete");n&&(n.remove(),document.removeEventListener("click",this.handleOutsideClick)),this.input&&(this.input.dataset.menuActive="false")}unbind(){}split(n){return n.split(/,\s*/)}extractLast(n){return this.split(n).pop()}}class ix extends HTMLElement{constructor(){super();Gi(this,"handleOutsideClick",n=>{n.target.closest(".ui-autocomplete")||this.removeAutocompleteMenu()});this.debounce=null,this.input=this.querySelector(".rz-tag-autocomplete"),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.resize=this.resize.bind(this)}get value(){return this.input?this.input.value:""}get searchPath(){return this.getAttribute("data-search-path")}get csrfToken(){return this.getAttribute("data-csrf-token")}connectedCallback(){this.input&&(this.input.setAttribute("autocomplete","off"),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("input",this.onInput),window.addEventListener("resize",this.resize))}disconnectedCallback(){this.input&&(this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("input",this.onInput),window.removeEventListener("resize",this.resize))}onKeyDown(n){n.keyCode===9&&this.input.dataset.menuActive==="true"&&n.preventDefault()}async onInput(n){const s=this.extractLast(this.value);if(s.length<2){this.removeAutocompleteMenu();return}const u={_action:"tagAutocomplete",_token:this.csrfToken,search:this.extractLast(s)},l=this.searchPath+"?"+new URLSearchParams(u);this.debounce&&(window.clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout(async()=>{const h=await fetch(l,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.showAutocompleteMenu(await h.json())},300)}showAutocompleteMenu(n){this.removeAutocompleteMenu();const s=document.createElement("ul");s.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",n.forEach(u=>{const l=document.createElement("li");l.className="ui-menu-item",l.textContent=u,l.addEventListener("mousedown",h=>{h.preventDefault();let f=this.split(this.input.value);f.pop(),f.push(u),f.push(""),this.input.value=f.join(", "),this.removeAutocompleteMenu()}),s.appendChild(l)}),this.appendChild(s),this.input.dataset.menuActive="true",this.resize(),document.addEventListener("click",this.handleOutsideClick)}resize(){const n=this.querySelector(".ui-autocomplete");n&&(this.input.getBoundingClientRect(),n.style.left=`${this.input.offsetLeft}px`,n.style.top=`${this.input.offsetTop+this.input.offsetHeight}px`)}removeAutocompleteMenu(){const n=this.querySelector(".ui-autocomplete");n&&(n.remove(),document.removeEventListener("click",this.handleOutsideClick)),this.input&&(this.input.dataset.menuActive="false")}unbind(){}split(n){return n.split(/,\s*/)}extractLast(n){return this.split(n).pop()}}const yg="roadiz.currentMainTreeTab";class nx extends HTMLElement{constructor(){super(),this.activateTab=this.activateTab.bind(this),this.activateTabNav=this.activateTabNav.bind(this),this.currentTabId=window.localStorage.getItem(yg)}connectedCallback(){this.querySelector("#tree-menu").querySelectorAll(".tab-link").forEach(u=>{u.addEventListener("click",l=>{l.preventDefault(),this.activateTabNav(u),this.activateTab(this.querySelector("#"+u.getAttribute("aria-controls")))})});let s=this.querySelector(".tab-link");this.currentTabId&&typeof this.currentTabId=="string"&&this.currentTabId.startsWith("tree")&&(s=this.querySelector("#"+this.currentTabId)),this.activateTabNav(s),this.activateTab(this.querySelector("#"+s.getAttribute("aria-controls")))}disconnectedCallback(){}activateTab(e){this.querySelectorAll(".tree-tab-content").forEach(n=>{this.desactivateTab(n)}),e==null||e.classList.add("active")}activateTabNav(e){this.querySelectorAll(".tab-link").forEach(s=>{this.desactivateTabNav(s)}),e==null||e.classList.add("active"),e==null||e.setAttribute("aria-selected",!0);const n=e.id;n&&(this.currentTabId=n,window.localStorage.setItem(yg,n))}desactivateTab(e){e==null||e.classList.remove("active")}desactivateTabNav(e){e==null||e.classList.remove("active"),e==null||e.removeAttribute("aria-selected")}}function Zl(t,e=3){const n=Math.pow(10,e);return Math.round(t*n)/n}const _n=class _n extends HTMLElement{constructor(){super();Gi(this,"originalHotspot",null);Gi(this,"hotspotOverridable",!1);Gi(this,"isDraggingHandle",!1);Gi(this,"isDraggingHotspot",!1);Gi(this,"isDraggingArea",!1);Gi(this,"cachedRects",new Map);Gi(this,"imageWrapper",null);Gi(this,"area",null);Gi(this,"handles",null);Gi(this,"hotspot",null);Gi(this,"resetButton",null);Gi(this,"overrideButton",null);Gi(this,"overrideButtonInput",null);Gi(this,"imageElement",null);Gi(this,"handleDragProps",null);Gi(this,"areaDragProps",null);Gi(this,"pointerDownEvent",null);this.boundHandlers={areaPointerDown:this.onAreaPointerDown.bind(this),pointerMove:this.onPointerMove.bind(this),pointerUp:this.onPointerUp.bind(this),resetClick:this.onResetClick.bind(this),overrideChange:this.onOverrideChange.bind(this)}}connectedCallback(){this.initializeOriginalHotspot(),this.initializeOverridableHotspot(),this.initializeElements(),this.updateImagePath(),this.setupOverrideHandling(),this.updateElements()}disconnectedCallback(){this.cleanup()}attributeChangedCallback(n){n==="image-path"&&this.updateImagePath()}initializeOriginalHotspot(){const n=this.getAttribute("original-hotspot");if(n)try{this.originalHotspot=JSON.parse(n)}catch(s){console.error("DocumentAlignmentWidget: Invalid original hotspot data:",s),this.originalHotspot=null}}initializeOverridableHotspot(){this.hotspotOverridable=!!this.getAttribute("hotspot-overridable")}setupOverrideHandling(){if(!this.hotspotOverridable||!this.overrideButton)return;const n=this.getStoredHotspotData();this.overrideButton.classList.add(_n.CSS_CLASSES.OVERRIDE_VISIBLE),this.overrideButtonInput.checked=!!n,this.area.inert=!this.overrideButtonInput.checked,this.overrideButtonInput.addEventListener("change",this.boundHandlers.overrideChange)}initializeElements(){var s;const{CSS_SELECTORS:n}=_n;if(this.imageWrapper=this.querySelector(n.IMAGE_WRAPPER),this.area=this.querySelector(n.AREA),this.handles=Array.from(this.querySelectorAll(n.HANDLES)),this.hotspot=this.querySelector(n.HOTSPOT),this.resetButton=this.querySelector(n.RESET_BUTTON),this.overrideButton=this.querySelector(n.OVERRIDE_BUTTON),this.overrideButtonInput=(s=this.overrideButton)==null?void 0:s.querySelector("input"),!this.imageWrapper||!this.area||this.handles.length===0||!this.hotspot){console.error("DocumentAlignmentWidget: Missing required elements");return}this.setupEventListeners()}setupEventListeners(){var n;(n=this.resetButton)==null||n.addEventListener("click",this.boundHandlers.resetClick),this.area.addEventListener("pointerdown",this.boundHandlers.areaPointerDown,{passive:!1})}cleanup(){var n,s,u;(n=this.area)==null||n.removeEventListener("pointerdown",this.boundHandlers.areaPointerDown),(s=this.resetButton)==null||s.removeEventListener("click",this.boundHandlers.resetClick),(u=this.overrideButtonInput)==null||u.removeEventListener("change",this.boundHandlers.overrideChange),document.removeEventListener("pointermove",this.boundHandlers.pointerMove),document.removeEventListener("pointerup",this.boundHandlers.pointerUp),this.imageWrapper=null,this.area=null,this.handles=null,this.hotspot=null,this.resetButton=null,this.overrideButton=null,this.overrideButtonInput=null,this.handleDragProps=null,this.areaDragProps=null,this.pointerDownEvent=null}updateImagePath(){if(!this.imageElement&&(this.imageElement=this.querySelector(_n.CSS_SELECTORS.IMAGE),!this.imageElement))return;const n=this.getAttribute("image-path");n&&this.imageElement.src!==n&&(this.imageElement.src=n)}updateElements(){var l,h;const n=this.getStoredHotspotData();let s=n,u=!!n;this.hotspotOverridable&&((l=this.overrideButtonInput)!=null&&l.checked||(s=this.originalHotspot),u=((h=this.overrideButtonInput)==null?void 0:h.checked)&&!!n),this.setAreaPosition(s),this.setHotspotPosition(s),this.toggleResetButtonVisibility(u)}toggleResetButtonVisibility(n){var s;(s=this.resetButton)==null||s.classList.toggle(_n.CSS_CLASSES.RESET_VISIBLE,n)}getInput(n){const s=this.getAttribute("input-base-name");return document.querySelector(`input[name="${s}[${n}]"]`)}moveArea({x:n,y:s,width:u,height:l}){let h=this.cachedRects.get("wrapper");h||(h=this.imageWrapper.getBoundingClientRect(),this.cachedRects.set("wrapper",h));const f=h.width,v=h.height;let x=Math.max(0,Math.min(n,f-u)),w=Math.max(0,Math.min(s,v-l)),E=Math.max(_n.DEFAULT_VALUES.MIN_SIZE,u),O=Math.max(_n.DEFAULT_VALUES.MIN_SIZE,l);x+E>f&&(E=f-x),w+O>v&&(O=v-w);const H={areaStartX:Zl(x/f),areaStartY:Zl(w/v),areaEndX:Zl((x+E)/f),areaEndY:Zl((w+O)/v)};this.setHotspotData(H),this.toggleResetButtonVisibility(!0),this.setAreaPosition(H)}setAreaPosition(n){const{CSS_PROPERTIES:s}=_n;if(n){const{areaStartX:u,areaStartY:l,areaEndX:h,areaEndY:f}=n,v=(l||0)*100,x=(1-(h||1))*100,w=(1-(f||1))*100,E=(u||0)*100;this.imageWrapper.style.setProperty(s.AREA_TOP,`${v}%`),this.imageWrapper.style.setProperty(s.AREA_RIGHT,`${x}%`),this.imageWrapper.style.setProperty(s.AREA_BOTTOM,`${w}%`),this.imageWrapper.style.setProperty(s.AREA_LEFT,`${E}%`)}else this.imageWrapper.style.removeProperty(s.AREA_TOP),this.imageWrapper.style.removeProperty(s.AREA_RIGHT),this.imageWrapper.style.removeProperty(s.AREA_BOTTOM),this.imageWrapper.style.removeProperty(s.AREA_LEFT)}getHotspotFromImageCropAlignment(n){return _n.CROP_ALIGNMENT_MAP[n]}moveHotspot(n,s){let u=this.cachedRects.get("area");u||(u=this.area.getBoundingClientRect(),this.cachedRects.set("area",u));let l=(n-u.left)/u.width,h=(s-u.top)/u.height;l=Math.max(0,Math.min(1,Zl(l))),h=Math.max(0,Math.min(1,Zl(h)));const f={x:l,y:h};this.setHotspotData(f),this.toggleResetButtonVisibility(!0),this.setHotspotPosition(f)}setHotspotPosition(n){this.hotspot&&(this.hotspot.style.top=typeof(n==null?void 0:n.y)=="number"?`${n.y*100}%`:"",this.hotspot.style.left=typeof(n==null?void 0:n.x)=="number"?`${n.x*100}%`:"")}getStoredHotspotData(){var u,l;const n=(u=this.getInput("hotspot"))==null?void 0:u.value;if(n&&n!=="null")try{const h=JSON.parse(n);if(h&&typeof h.x=="number"&&typeof h.y=="number")return h}catch(h){console.error("DocumentAlignmentWidget: Invalid stored hotspot data:",h)}const s=(l=this.getInput("imageCropAlignment"))==null?void 0:l.value;return s?this.getHotspotFromImageCropAlignment(s):null}setHotspotData(n){const s=this.getInput("hotspot"),u=this.getInput("imageCropAlignment");if(s){let l={};try{l=JSON.parse(s.value||"{}")||{}}catch(f){console.error("DocumentAlignmentWidget: Invalid existing hotspot data:",f)}let h=null;n&&(h={..._n.DEFAULT_VALUES.HOTSPOT,...l,...n}),s.value=JSON.stringify(h)}u&&u.value!==""&&(u.value="")}startDragHandle(n){const s=n.target,u=this.area.getBoundingClientRect(),l=this.area.parentElement.getBoundingClientRect();this.isDraggingHandle=!0,this.handleDragProps={startX:u.left-l.left,startY:u.top-l.top,startWidth:u.width,startHeight:u.height,handleIndex:this.handles.indexOf(s),parentRect:this.imageWrapper.getBoundingClientRect()},this.cachedRects.clear()}dragHandle(n){const{startX:s,startY:u,startWidth:l,startHeight:h,handleIndex:f,parentRect:v}=this.handleDragProps,x=n.clientX-v.left,w=n.clientY-v.top;let E=s,O=u,H=l,F=h;switch(f){case 0:H=l+(s-x),F=h+(u-w),E=x,O=w;break;case 1:F=h+(u-w),O=w;break;case 2:H=x-s,F=h+(u-w),O=w;break;case 3:H=l+(s-x),E=x;break;case 4:H=x-s;break;case 5:H=l+(s-x),E=x,F=w-u;break;case 6:F=w-u;break;case 7:H=x-s,F=w-u;break}H=Math.max(_n.DEFAULT_VALUES.MIN_SIZE,H),F=Math.max(_n.DEFAULT_VALUES.MIN_SIZE,F),this.moveArea({x:E,y:O,width:H,height:F})}stopDragHandle(){this.isDraggingHandle=!1}startDragHotspot(){var n;this.isDraggingHotspot=!0,(n=this.hotspot)==null||n.classList.add(_n.CSS_CLASSES.HOTSPOT_GRABBING),this.cachedRects.clear()}dragHotspot(n){this.moveHotspot(n.clientX,n.clientY)}stopDragHotspot(){var n;this.isDraggingHotspot=!1,(n=this.hotspot)==null||n.classList.remove(_n.CSS_CLASSES.HOTSPOT_GRABBING)}startDragArea(n){const s=this.area.getBoundingClientRect(),u=this.area.parentElement.getBoundingClientRect();this.isDraggingArea=!0,this.areaDragProps={startX:s.left-u.left,startY:s.top-u.top,startMouseX:n.clientX,startMouseY:n.clientY,areaWidth:s.width,areaHeight:s.height},this.cachedRects.clear()}dragArea(n){const{startX:s,startY:u,startMouseX:l,startMouseY:h,areaWidth:f,areaHeight:v}=this.areaDragProps,x=n.clientX-l,w=n.clientY-h,E=s+x,O=u+w;this.moveArea({x:E,y:O,width:f,height:v})}stopDragArea(){this.isDraggingArea=!1}onAreaPointerDown(n){const s=n.target;this.pointerDownEvent=n,n.preventDefault(),n.stopPropagation(),this.handles.includes(s)?this.startDragHandle(n):s===this.hotspot?this.startDragHotspot(n):(s===this.area||this.area.contains(s))&&this.startDragArea(n),document.addEventListener("pointermove",this.boundHandlers.pointerMove,{passive:!1}),document.addEventListener("pointerup",this.boundHandlers.pointerUp)}onPointerMove(n){n.preventDefault(),this.isDraggingHandle?this.dragHandle(n):this.isDraggingHotspot?this.dragHotspot(n):this.isDraggingArea&&this.dragArea(n)}onPointerUp(n){this.pointerDownEvent.clientX===n.clientX&&this.pointerDownEvent.clientY===n.clientY&&this.moveHotspot(n.clientX,n.clientY),this.pointerDownEvent=null,this.isDraggingHandle&&this.stopDragHandle(),this.isDraggingArea&&this.stopDragArea(),this.isDraggingHotspot&&this.stopDragHotspot(),document.removeEventListener("pointermove",this.boundHandlers.pointerMove),document.removeEventListener("pointerup",this.boundHandlers.pointerUp),this.cachedRects.clear()}onOverrideChange(n){const s=n.target.checked;if(this.area.inert=!s,!s)this.setHotspotData(null);else{const u={..._n.DEFAULT_VALUES.HOTSPOT,..._n.DEFAULT_VALUES.AREA};this.setHotspotData(this.originalHotspot||u)}this.updateElements()}onResetClick(){let n=null;this.hotspotOverridable&&(n={..._n.DEFAULT_VALUES.HOTSPOT,..._n.DEFAULT_VALUES.AREA}),this.setHotspotData(n),this.updateElements()}};Gi(_n,"observedAttributes",["image-path"]),Gi(_n,"CSS_SELECTORS",{IMAGE_WRAPPER:".document-alignment-widget__image-wrapper",AREA:".document-alignment-widget__area",HANDLES:".document-alignment-widget__handle",HOTSPOT:".document-alignment-widget__hotspot",RESET_BUTTON:".document-alignment-widget__reset",OVERRIDE_BUTTON:".document-alignment-widget__override",IMAGE:".document-alignment-widget__image"}),Gi(_n,"CSS_CLASSES",{OVERRIDE_VISIBLE:"document-alignment-widget__override--visible",RESET_VISIBLE:"document-alignment-widget__reset--visible",HOTSPOT_GRABBING:"document-alignment-widget__hotspot--grabbing"}),Gi(_n,"CSS_PROPERTIES",{AREA_TOP:"--document-alignment-widget-area-top",AREA_RIGHT:"--document-alignment-widget-area-right",AREA_BOTTOM:"--document-alignment-widget-area-bottom",AREA_LEFT:"--document-alignment-widget-area-left"}),Gi(_n,"DEFAULT_VALUES",{HOTSPOT:{x:.5,y:.5},AREA:{areaStartX:0,areaStartY:0,areaEndX:1,areaEndY:1},MIN_SIZE:20}),Gi(_n,"CROP_ALIGNMENT_MAP",{"top-left":{x:0,y:0},top:{x:.5,y:0},"top-right":{x:1,y:0},left:{x:0,y:.5},center:{x:.5,y:.5},right:{x:1,y:.5},"bottom-left":{x:0,y:1},bottom:{x:.5,y:1},"bottom-right":{x:1,y:1}});let gp=_n;const Yo=class Yo extends HTMLElement{constructor(){super();Gi(this,"dialog",null);Gi(this,"boundHandlers",{});this.boundHandlers={buttonClick:this.onButtonClick.bind(this),dialogClose:this.onDialogClose.bind(this)}}connectedCallback(){this.createDialog(),this.setupEventListeners(),this.appendToDOM(),this.loadTemplate()}disconnectedCallback(){this.cleanup()}createDialog(){this.dialog=document.createElement("dialog"),this.dialog.setAttribute("closedby","any"),this.dialog.classList.add("uk-form","document-edit-dialog"),this.dialog.innerHTML=this.getDialogHTML()}getDialogHTML(){var u,l,h,f;const{INPUT_BASE_NAME:n,INPUT_KEYS:s}=Yo;return`
            <header class="document-edit-dialog__header">
                <h2 class="document-edit-dialog__title">
                    <i class="uk-icon-image"></i>
                    <span>${this.getAttribute("title")}</span>
                </h2>
                <button class="document-edit-dialog__close" type="button" value="cancel">
                    <i class="uk-icon-close"></i>
                </button>
            </header>
            <div class="document-edit-dialog__content">
                <div class="document-edit-dialog__content__placeholder">
                    <div class="spinner"></div>
                </div>
            </div>
            ${s.map(v=>`<input type="hidden" name="${n}[${v}]">`).join(`
`)}
            <footer>
                <div class="document-edit-dialog__actions">
                    ${this.getEditLink()}
                    <button class="uk-button uk-button-small document-edit-dialog__cancel" type="button" value="cancel">
                        ${(l=(u=window.RozierConfig)==null?void 0:u.messages)==null?void 0:l.documentEditDialogCancel}
                    </button>
                    <button class="uk-button uk-button-small document-edit-dialog__submit" type="button" value="submit">
                        ${(f=(h=window.RozierConfig)==null?void 0:h.messages)==null?void 0:f.documentEditDialogSubmit}
                    </button>
                </div>
            </footer>
        `}setupEventListeners(){var s;const{CSS_SELECTORS:n}=Yo;(s=this.dialog.querySelectorAll(`${n.DIALOG_CLOSE}, ${n.DIALOG_ACTIONS}`))==null||s.forEach(u=>{u.addEventListener("click",this.boundHandlers.buttonClick)}),this.dialog.addEventListener("close",this.boundHandlers.dialogClose)}appendToDOM(){this.appendChild(this.dialog)}cleanup(){var s,u,l;const{CSS_SELECTORS:n}=Yo;(u=(s=this.dialog)==null?void 0:s.querySelectorAll(`${n.DIALOG_CLOSE}, ${n.DIALOG_ACTIONS}`))==null||u.forEach(h=>{h.removeEventListener("click",this.boundHandlers.buttonClick)}),(l=this.dialog)==null||l.removeEventListener("close",this.boundHandlers.dialogClose),this.dialog=null}loadTemplate(){const n=this.getAttribute("template-path");if(n)return this.fetchTemplate(n).then(s=>this.parseTemplate(s)).then(s=>this.setupWidget(s)).then(s=>this.replaceDialogContent(s)).catch(s=>{console.error("DocumentEditDialog: Failed to load template:",s)})}async fetchTemplate(n){const s=await fetch(n,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw new Error("Network response was not ok");return s.text()}parseTemplate(n){const s=document.createElement("div");return s.innerHTML=n,s.querySelector(Yo.CSS_SELECTORS.ALIGNMENT_WIDGET)}setupWidget(n){const{INPUT_BASE_NAME:s}=Yo;if(n){this.applyInputValues(this.getAttribute("input-base-name"),s,document,this.dialog),n.setAttribute("image-path",this.getAttribute("image-path")),n.setAttribute("input-base-name",s),n.setAttribute("hotspot-overridable",!0);const u=this.getAttribute("original-hotspot");u&&n.setAttribute("original-hotspot",u)}return(n==null?void 0:n.parentNode)||document.createElement("div")}replaceDialogContent(n){this.dialog.querySelector(Yo.CSS_SELECTORS.DIALOG_CONTENT).replaceChildren(...n.childNodes)}applyInputValues(n,s,u,l){const{INPUT_KEYS:h}=Yo;h.forEach(f=>{const v=u.querySelector(`input[name="${n}[${f}]"]`);if(v){const x=l.querySelector(`input[name="${s}[${f}]"]`);x&&(x.value=v.value)}})}getEditLink(){var s,u;const n=this.getAttribute("edit-url");return n?`
            <a class="uk-button uk-button-small document-edit-dialog__edit-link" href="${n}">
                ${(u=(s=window.RozierConfig)==null?void 0:s.messages)==null?void 0:u.documentEditDialogEdit}
            </a>
        `:""}showModal(){var n;(n=this.dialog)==null||n.showModal()}onButtonClick(n){(n.currentTarget.value==="cancel"||n.target.value==="submit")&&this.dialog.close(n.target.value)}onDialogClose(){const{INPUT_BASE_NAME:n}=Yo;this.dialog.returnValue==="submit"&&this.applyInputValues(n,this.getAttribute("input-base-name"),this.dialog,document),this.remove()}};Gi(Yo,"INPUT_BASE_NAME","document_edit_dialog[proxy]"),Gi(Yo,"INPUT_KEYS",["imageCropAlignment","hotspot"]),Gi(Yo,"CSS_SELECTORS",{DIALOG_CLOSE:".document-edit-dialog__close",DIALOG_ACTIONS:".document-edit-dialog__actions > button",DIALOG_CONTENT:".document-edit-dialog__content",ALIGNMENT_WIDGET:"document-alignment-widget"});let vp=Yo;/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */const Jr=typeof window<"u"?window:typeof Fp<"u"&&Fp.exports&&typeof global<"u"?global:void 0,Wf=function(t,e){var n=t.document,s=t.GreenSockGlobals=t.GreenSockGlobals||t;if(s.TweenLite)return s.TweenLite;var u=function(X){var le=X.split("."),Q=s,fe;for(fe=0;fe<le.length;fe++)Q[le[fe]]=Q=Q[le[fe]]||{};return Q},l=u("com.greensock"),h=1e-10,f=function(X){var le=[],Q=X.length,fe;for(fe=0;fe!==Q;le.push(X[fe++]));return le},v=function(){},x=function(){var X=Object.prototype.toString,le=X.call([]);return function(Q){return Q!=null&&(Q instanceof Array||typeof Q=="object"&&!!Q.push&&X.call(Q)===le)}}(),w,E,O,H,F,j={},q=function(X,le,Q,fe){this.sc=j[X]?j[X].sc:[],j[X]=this,this.gsClass=null,this.func=Q;var pe=[];this.check=function(ze){for(var ot=le.length,Qe=ot,mt,Pt,ct,$t;--ot>-1;)(mt=j[le[ot]]||new q(le[ot],[])).gsClass?(pe[ot]=mt.gsClass,Qe--):ze&&mt.sc.push(this);if(Qe===0&&Q)for(Pt=("com.greensock."+X).split("."),ct=Pt.pop(),$t=u(Pt.join("."))[ct]=this.gsClass=Q.apply(Q,pe),fe&&(s[ct]=$t),ot=0;ot<this.sc.length;ot++)this.sc[ot].check()},this.check(!0)},M=t._gsDefine=function(X,le,Q,fe){return new q(X,le,Q,fe)},S=l._class=function(X,le,Q){return le=le||function(){},M(X,[],function(){return le},Q),le};M.globals=s;var D=[0,0,1,1],B=S("easing.Ease",function(X,le,Q,fe){this._func=X,this._type=Q||0,this._power=fe||0,this._params=le?D.concat(le):D},!0),I=B.map={},V=B.register=function(X,le,Q,fe){for(var pe=le.split(","),ze=pe.length,ot=(Q||"easeIn,easeOut,easeInOut").split(","),Qe,mt,Pt,ct;--ze>-1;)for(mt=pe[ze],Qe=fe?S("easing."+mt,null,!0):l.easing[mt]||{},Pt=ot.length;--Pt>-1;)ct=ot[Pt],I[mt+"."+ct]=I[ct+mt]=Qe[ct]=X.getRatio?X:X[ct]||new X};for(O=B.prototype,O._calcEnd=!1,O.getRatio=function(X){if(this._func)return this._params[0]=X,this._func.apply(null,this._params);var le=this._type,Q=this._power,fe=le===1?1-X:le===2?X:X<.5?X*2:(1-X)*2;return Q===1?fe*=fe:Q===2?fe*=fe*fe:Q===3?fe*=fe*fe*fe:Q===4&&(fe*=fe*fe*fe*fe),le===1?1-fe:le===2?fe:X<.5?fe/2:1-fe/2},w=["Linear","Quad","Cubic","Quart","Quint,Strong"],E=w.length;--E>-1;)O=w[E]+",Power"+E,V(new B(null,null,1,E),O,"easeOut",!0),V(new B(null,null,2,E),O,"easeIn"+(E===0?",easeNone":"")),V(new B(null,null,3,E),O,"easeInOut");I.linear=l.easing.Linear.easeIn,I.swing=l.easing.Quad.easeInOut;var ne=S("events.EventDispatcher",function(X){this._listeners={},this._eventTarget=X||this});O=ne.prototype,O.addEventListener=function(X,le,Q,fe,pe){pe=pe||0;var ze=this._listeners[X],ot=0,Qe,mt;for(this===H&&!F&&H.wake(),ze==null&&(this._listeners[X]=ze=[]),mt=ze.length;--mt>-1;)Qe=ze[mt],Qe.c===le&&Qe.s===Q?ze.splice(mt,1):ot===0&&Qe.pr<pe&&(ot=mt+1);ze.splice(ot,0,{c:le,s:Q,up:fe,pr:pe})},O.removeEventListener=function(X,le){var Q=this._listeners[X],fe;if(Q){for(fe=Q.length;--fe>-1;)if(Q[fe].c===le){Q.splice(fe,1);return}}},O.dispatchEvent=function(X){var le=this._listeners[X],Q,fe,pe;if(le)for(Q=le.length,Q>1&&(le=le.slice(0)),fe=this._eventTarget;--Q>-1;)pe=le[Q],pe&&(pe.up?pe.c.call(pe.s||fe,{type:X,target:fe}):pe.c.call(pe.s||fe))};var ue=t.requestAnimationFrame,de=t.cancelAnimationFrame,ge=Date.now||function(){return new Date().getTime()},he=ge();for(w=["ms","moz","webkit","o"],E=w.length;--E>-1&&!ue;)ue=t[w[E]+"RequestAnimationFrame"],de=t[w[E]+"CancelAnimationFrame"]||t[w[E]+"CancelRequestAnimationFrame"];S("Ticker",function(X,le){var Q=this,fe=ge(),pe=le!==!1&&ue?"auto":!1,ze=500,ot=33,Qe="tick",mt,Pt,ct,$t,Yt,Qt=function(Vt){var xt=ge()-he,Un,Ut;xt>ze&&(fe+=xt-ot),he+=xt,Q.time=(he-fe)/1e3,Un=Q.time-Yt,(!mt||Un>0||Vt===!0)&&(Q.frame++,Yt+=Un+(Un>=$t?.004:$t-Un),Ut=!0),Vt!==!0&&(ct=Pt(Qt)),Ut&&Q.dispatchEvent(Qe)};ne.call(Q),Q.time=Q.frame=0,Q.tick=function(){Qt(!0)},Q.lagSmoothing=function(Vt,xt){if(!arguments.length)return ze<1/h;ze=Vt||1/h,ot=Math.min(xt,ze,0)},Q.sleep=function(){ct!=null&&(!pe||!de?clearTimeout(ct):de(ct),Pt=v,ct=null,Q===H&&(F=!1))},Q.wake=function(Vt){ct!==null?Q.sleep():Vt?fe+=-he+(he=ge()):Q.frame>10&&(he=ge()-ze+5),Pt=mt===0?v:!pe||!ue?function(xt){return setTimeout(xt,(Yt-Q.time)*1e3+1|0)}:ue,Q===H&&(F=!0),Qt(2)},Q.fps=function(Vt){if(!arguments.length)return mt;mt=Vt,$t=1/(mt||60),Yt=this.time+$t,Q.wake()},Q.useRAF=function(Vt){if(!arguments.length)return pe;Q.sleep(),pe=Vt,Q.fps(mt)},Q.fps(X),setTimeout(function(){pe==="auto"&&Q.frame<5&&(n||{}).visibilityState!=="hidden"&&Q.useRAF(!1)},1500)}),O=l.Ticker.prototype=new l.events.EventDispatcher,O.constructor=l.Ticker;var Le=S("core.Animation",function(X,le){if(this.vars=le=le||{},this._duration=this._totalDuration=X||0,this._delay=Number(le.delay)||0,this._timeScale=1,this._active=le.immediateRender===!0,this.data=le.data,this._reversed=le.reversed===!0,!!ut){F||H.wake();var Q=this.vars.useFrames?Ze:ut;Q.add(this,Q._time),this.vars.paused&&this.paused(!0)}});H=Le.ticker=new l.Ticker,O=Le.prototype,O._dirty=O._gc=O._initted=O._paused=!1,O._totalTime=O._time=0,O._rawPrevTime=-1,O._next=O._last=O._onUpdate=O._timeline=O.timeline=null,O._paused=!1;var ve=function(){F&&ge()-he>2e3&&((n||{}).visibilityState!=="hidden"||!H.lagSmoothing())&&H.wake();var X=setTimeout(ve,2e3);X.unref&&X.unref()};ve(),O.play=function(X,le){return X!=null&&this.seek(X,le),this.reversed(!1).paused(!1)},O.pause=function(X,le){return X!=null&&this.seek(X,le),this.paused(!0)},O.resume=function(X,le){return X!=null&&this.seek(X,le),this.paused(!1)},O.seek=function(X,le){return this.totalTime(Number(X),le!==!1)},O.restart=function(X,le){return this.reversed(!1).paused(!1).totalTime(X?-this._delay:0,le!==!1,!0)},O.reverse=function(X,le){return X!=null&&this.seek(X||this.totalDuration(),le),this.reversed(!0).paused(!1)},O.render=function(X,le,Q){},O.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},O.isActive=function(){var X=this._timeline,le=this._startTime,Q;return!X||!this._gc&&!this._paused&&X.isActive()&&(Q=X.rawTime(!0))>=le&&Q<le+this.totalDuration()/this._timeScale-1e-7},O._enabled=function(X,le){return F||H.wake(),this._gc=!X,this._active=this.isActive(),le!==!0&&(X&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!X&&this.timeline&&this._timeline._remove(this,!0)),!1},O._kill=function(X,le){return this._enabled(!1,!1)},O.kill=function(X,le){return this._kill(X,le),this},O._uncache=function(X){for(var le=X?this:this.timeline;le;)le._dirty=!0,le=le.timeline;return this},O._swapSelfInParams=function(X){for(var le=X.length,Q=X.concat();--le>-1;)X[le]==="{self}"&&(Q[le]=this);return Q},O._callback=function(X){var le=this.vars,Q=le[X],fe=le[X+"Params"],pe=le[X+"Scope"]||le.callbackScope||this,ze=fe?fe.length:0;switch(ze){case 0:Q.call(pe);break;case 1:Q.call(pe,fe[0]);break;case 2:Q.call(pe,fe[0],fe[1]);break;default:Q.apply(pe,fe)}},O.eventCallback=function(X,le,Q,fe){if((X||"").substr(0,2)==="on"){var pe=this.vars;if(arguments.length===1)return pe[X];le==null?delete pe[X]:(pe[X]=le,pe[X+"Params"]=x(Q)&&Q.join("").indexOf("{self}")!==-1?this._swapSelfInParams(Q):Q,pe[X+"Scope"]=fe),X==="onUpdate"&&(this._onUpdate=le)}return this},O.delay=function(X){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+X-this._delay),this._delay=X,this):this._delay},O.duration=function(X){return arguments.length?(this._duration=this._totalDuration=X,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&X!==0&&this.totalTime(this._totalTime*(X/this._duration),!0),this):(this._dirty=!1,this._duration)},O.totalDuration=function(X){return this._dirty=!1,arguments.length?this.duration(X):this._totalDuration},O.time=function(X,le){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(X>this._duration?this._duration:X,le)):this._time},O.totalTime=function(X,le,Q){if(F||H.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(X<0&&!Q&&(X+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var fe=this._totalDuration,pe=this._timeline;if(X>fe&&!Q&&(X=fe),this._startTime=(this._paused?this._pauseTime:pe._time)-(this._reversed?fe-X:X)/this._timeScale,pe._dirty||this._uncache(!1),pe._timeline)for(;pe._timeline;)pe._timeline._time!==(pe._startTime+pe._totalTime)/pe._timeScale&&pe.totalTime(pe._totalTime,!0),pe=pe._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==X||this._duration===0)&&(Ee.length&&wt(),this.render(X,le,!1),Ee.length&&wt())}return this},O.progress=O.totalProgress=function(X,le){var Q=this.duration();return arguments.length?this.totalTime(Q*X,le):Q?this._time/Q:this.ratio},O.startTime=function(X){return arguments.length?(X!==this._startTime&&(this._startTime=X,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,X-this._delay)),this):this._startTime},O.endTime=function(X){return this._startTime+(X!=!1?this.totalDuration():this.duration())/this._timeScale},O.timeScale=function(X){if(!arguments.length)return this._timeScale;var le,Q;for(X=X||h,this._timeline&&this._timeline.smoothChildTiming&&(le=this._pauseTime,Q=le||le===0?le:this._timeline.totalTime(),this._startTime=Q-(Q-this._startTime)*this._timeScale/X),this._timeScale=X,Q=this.timeline;Q&&Q.timeline;)Q._dirty=!0,Q.totalDuration(),Q=Q.timeline;return this},O.reversed=function(X){return arguments.length?(X!=this._reversed&&(this._reversed=X,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},O.paused=function(X){if(!arguments.length)return this._paused;var le=this._timeline,Q,fe;return X!=this._paused&&le&&(!F&&!X&&H.wake(),Q=le.rawTime(),fe=Q-this._pauseTime,!X&&le.smoothChildTiming&&(this._startTime+=fe,this._uncache(!1)),this._pauseTime=X?Q:null,this._paused=X,this._active=this.isActive(),!X&&fe!==0&&this._initted&&this.duration()&&(Q=le.smoothChildTiming?this._totalTime:(Q-this._startTime)/this._timeScale,this.render(Q,Q===this._totalTime,!0))),this._gc&&!X&&this._enabled(!0,!1),this};var re=S("core.SimpleTimeline",function(X){Le.call(this,0,X),this.autoRemoveChildren=this.smoothChildTiming=!0});O=re.prototype=new Le,O.constructor=re,O.kill()._gc=!1,O._first=O._last=O._recent=null,O._sortChildren=!1,O.add=O.insert=function(X,le,Q,fe){var pe,ze;if(X._startTime=Number(le||0)+X._delay,X._paused&&this!==X._timeline&&(X._pauseTime=this.rawTime()-(X._timeline.rawTime()-X._pauseTime)),X.timeline&&X.timeline._remove(X,!0),X.timeline=X._timeline=this,X._gc&&X._enabled(!0,!0),pe=this._last,this._sortChildren)for(ze=X._startTime;pe&&pe._startTime>ze;)pe=pe._prev;return pe?(X._next=pe._next,pe._next=X):(X._next=this._first,this._first=X),X._next?X._next._prev=X:this._last=X,X._prev=pe,this._recent=X,this._timeline&&this._uncache(!0),this},O._remove=function(X,le){return X.timeline===this&&(le||X._enabled(!1,!0),X._prev?X._prev._next=X._next:this._first===X&&(this._first=X._next),X._next?X._next._prev=X._prev:this._last===X&&(this._last=X._prev),X._next=X._prev=X.timeline=null,X===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},O.render=function(X,le,Q){var fe=this._first,pe;for(this._totalTime=this._time=this._rawPrevTime=X;fe;)pe=fe._next,(fe._active||X>=fe._startTime&&!fe._paused&&!fe._gc)&&(fe._reversed?fe.render((fe._dirty?fe.totalDuration():fe._totalDuration)-(X-fe._startTime)*fe._timeScale,le,Q):fe.render((X-fe._startTime)*fe._timeScale,le,Q)),fe=pe},O.rawTime=function(){return F||H.wake(),this._totalTime};var P=S("TweenLite",function(X,le,Q){if(Le.call(this,le,Q),this.render=P.prototype.render,X==null)throw"Cannot tween a null target.";this.target=X=typeof X!="string"?X:P.selector(X)||X;var fe=X.jquery||X.length&&X!==t&&X[0]&&(X[0]===t||X[0].nodeType&&X[0].style&&!X.nodeType),pe=this.vars.overwrite,ze,ot,Qe;if(this._overwrite=pe=pe==null?Xe[P.defaultOverwrite]:typeof pe=="number"?pe>>0:Xe[pe],(fe||X instanceof Array||X.push&&x(X))&&typeof X[0]!="number")for(this._targets=Qe=f(X),this._propLookup=[],this._siblings=[],ze=0;ze<Qe.length;ze++){if(ot=Qe[ze],ot){if(typeof ot=="string"){ot=Qe[ze--]=P.selector(ot),typeof ot=="string"&&Qe.splice(ze+1,1);continue}else if(ot.length&&ot!==t&&ot[0]&&(ot[0]===t||ot[0].nodeType&&ot[0].style&&!ot.nodeType)){Qe.splice(ze--,1),this._targets=Qe=Qe.concat(f(ot));continue}}else{Qe.splice(ze--,1);continue}this._siblings[ze]=St(ot,this,!1),pe===1&&this._siblings[ze].length>1&&Mt(ot,this,null,1,this._siblings[ze])}else this._propLookup={},this._siblings=St(X,this,!1),pe===1&&this._siblings.length>1&&Mt(X,this,null,1,this._siblings);(this.vars.immediateRender||le===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),se=function(X){return X&&X.length&&X!==t&&X[0]&&(X[0]===t||X[0].nodeType&&X[0].style&&!X.nodeType)},ye=function(X,le){var Q={},fe;for(fe in X)!qe[fe]&&(!(fe in le)||fe==="transform"||fe==="x"||fe==="y"||fe==="width"||fe==="height"||fe==="className"||fe==="border")&&(!Z[fe]||Z[fe]&&Z[fe]._autoCSS)&&(Q[fe]=X[fe],delete X[fe]);X.css=Q};O=P.prototype=new Le,O.constructor=P,O.kill()._gc=!1,O.ratio=0,O._firstPT=O._targets=O._overwrittenProps=O._startAt=null,O._notifyPluginsOfEnabled=O._lazy=!1,P.version="1.20.5",P.defaultEase=O._ease=new B(null,null,1,1),P.defaultOverwrite="auto",P.ticker=H,P.autoSleep=120,P.lagSmoothing=function(X,le){H.lagSmoothing(X,le)},P.selector=t.$||t.jQuery||function(X){var le=t.$||t.jQuery;return le?(P.selector=le,le(X)):(n||(n=t.document),n?n.querySelectorAll?n.querySelectorAll(X):n.getElementById(X.charAt(0)==="#"?X.substr(1):X):X)};var Ee=[],it={},Be=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Me=/[\+-]=-?[\.\d]/,te=function(X){for(var le=this._firstPT,Q=1e-6,fe;le;)fe=le.blob?X===1&&this.end!=null?this.end:X?this.join(""):this.start:le.c*X+le.s,le.m?fe=le.m.call(this._tween,fe,this._target||le.t,this._tween):fe<Q&&fe>-Q&&!le.blob&&(fe=0),le.f?le.fp?le.t[le.p](le.fp,fe):le.t[le.p](fe):le.t[le.p]=fe,le=le._next},Y=function(X,le,Q,fe){var pe=[],ze=0,ot="",Qe=0,mt,Pt,ct,$t,Yt,Qt,Vt;for(pe.start=X,pe.end=le,X=pe[0]=X+"",le=pe[1]=le+"",Q&&(Q(pe),X=pe[0],le=pe[1]),pe.length=0,mt=X.match(Be)||[],Pt=le.match(Be)||[],fe&&(fe._next=null,fe.blob=1,pe._firstPT=pe._applyPT=fe),Yt=Pt.length,$t=0;$t<Yt;$t++)Vt=Pt[$t],Qt=le.substr(ze,le.indexOf(Vt,ze)-ze),ot+=Qt||!$t?Qt:",",ze+=Qt.length,Qe?Qe=(Qe+1)%5:Qt.substr(-5)==="rgba("&&(Qe=1),Vt===mt[$t]||mt.length<=$t?ot+=Vt:(ot&&(pe.push(ot),ot=""),ct=parseFloat(mt[$t]),pe.push(ct),pe._firstPT={_next:pe._firstPT,t:pe,p:pe.length-1,s:ct,c:(Vt.charAt(1)==="="?parseInt(Vt.charAt(0)+"1",10)*parseFloat(Vt.substr(2)):parseFloat(Vt)-ct)||0,f:0,m:Qe&&Qe<4?Math.round:0}),ze+=Vt.length;return ot+=le.substr(ze),ot&&pe.push(ot),pe.setRatio=te,Me.test(le)&&(pe.end=null),pe},De=function(X,le,Q,fe,pe,ze,ot,Qe,mt){typeof fe=="function"&&(fe=fe(mt||0,X));var Pt=typeof X[le],ct=Pt!=="function"?"":le.indexOf("set")||typeof X["get"+le.substr(3)]!="function"?le:"get"+le.substr(3),$t=Q!=="get"?Q:ct?ot?X[ct](ot):X[ct]():X[le],Yt=typeof fe=="string"&&fe.charAt(1)==="=",Qt={t:X,p:le,s:$t,f:Pt==="function",pg:0,n:pe||le,m:ze?typeof ze=="function"?ze:Math.round:0,pr:0,c:Yt?parseInt(fe.charAt(0)+"1",10)*parseFloat(fe.substr(2)):parseFloat(fe)-$t||0},Vt;if((typeof $t!="number"||typeof fe!="number"&&!Yt)&&(ot||isNaN($t)||!Yt&&isNaN(fe)||typeof $t=="boolean"||typeof fe=="boolean"?(Qt.fp=ot,Vt=Y($t,Yt?parseFloat(Qt.s)+Qt.c+(Qt.s+"").replace(/[0-9\-\.]/g,""):fe,Qe||P.defaultStringFilter,Qt),Qt={t:Vt,p:"setRatio",s:0,c:1,f:2,pg:0,n:pe||le,pr:0,m:0}):(Qt.s=parseFloat($t),Yt||(Qt.c=parseFloat(fe)-Qt.s||0))),Qt.c)return(Qt._next=this._firstPT)&&(Qt._next._prev=Qt),this._firstPT=Qt,Qt},Fe=P._internals={isArray:x,isSelector:se,lazyTweens:Ee,blobDif:Y},Z=P._plugins={},we=Fe.tweenLookup={},Te=0,qe=Fe.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Xe={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Ze=Le._rootFramesTimeline=new re,ut=Le._rootTimeline=new re,Et=30,wt=Fe.lazyRender=function(){var X=Ee.length,le;for(it={};--X>-1;)le=Ee[X],le&&le._lazy!==!1&&(le.render(le._lazy[0],le._lazy[1],!0),le._lazy=!1);Ee.length=0};ut._startTime=H.time,Ze._startTime=H.frame,ut._active=Ze._active=!0,setTimeout(wt,1),Le._updateRoot=P.render=function(){var X,le,Q;if(Ee.length&&wt(),ut.render((H.time-ut._startTime)*ut._timeScale,!1,!1),Ze.render((H.frame-Ze._startTime)*Ze._timeScale,!1,!1),Ee.length&&wt(),H.frame>=Et){Et=H.frame+(parseInt(P.autoSleep,10)||120);for(Q in we){for(le=we[Q].tweens,X=le.length;--X>-1;)le[X]._gc&&le.splice(X,1);le.length===0&&delete we[Q]}if(Q=ut._first,(!Q||Q._paused)&&P.autoSleep&&!Ze._first&&H._listeners.tick.length===1){for(;Q&&Q._paused;)Q=Q._next;Q||H.sleep()}}},H.addEventListener("tick",Le._updateRoot);var St=function(X,le,Q){var fe=X._gsTweenID,pe,ze;if(we[fe||(X._gsTweenID=fe="t"+Te++)]||(we[fe]={target:X,tweens:[]}),le&&(pe=we[fe].tweens,pe[ze=pe.length]=le,Q))for(;--ze>-1;)pe[ze]===le&&pe.splice(ze,1);return we[fe].tweens},_t=function(X,le,Q,fe){var pe=X.vars.onOverwrite,ze,ot;return pe&&(ze=pe(X,le,Q,fe)),pe=P.onOverwrite,pe&&(ot=pe(X,le,Q,fe)),ze!==!1&&ot!==!1},Mt=function(X,le,Q,fe,pe){var ze,ot,Qe,mt;if(fe===1||fe>=4){for(mt=pe.length,ze=0;ze<mt;ze++)if((Qe=pe[ze])!==le)Qe._gc||Qe._kill(null,X,le)&&(ot=!0);else if(fe===5)break;return ot}var Pt=le._startTime+h,ct=[],$t=0,Yt=le._duration===0,Qt;for(ze=pe.length;--ze>-1;)(Qe=pe[ze])===le||Qe._gc||Qe._paused||(Qe._timeline!==le._timeline?(Qt=Qt||jt(le,0,Yt),jt(Qe,Qt,Yt)===0&&(ct[$t++]=Qe)):Qe._startTime<=Pt&&Qe._startTime+Qe.totalDuration()/Qe._timeScale>Pt&&((Yt||!Qe._initted)&&Pt-Qe._startTime<=2e-10||(ct[$t++]=Qe)));for(ze=$t;--ze>-1;)if(Qe=ct[ze],fe===2&&Qe._kill(Q,X,le)&&(ot=!0),fe!==2||!Qe._firstPT&&Qe._initted){if(fe!==2&&!_t(Qe,le))continue;Qe._enabled(!1,!1)&&(ot=!0)}return ot},jt=function(X,le,Q){for(var fe=X._timeline,pe=fe._timeScale,ze=X._startTime;fe._timeline;){if(ze+=fe._startTime,pe*=fe._timeScale,fe._paused)return-100;fe=fe._timeline}return ze/=pe,ze>le?ze-le:Q&&ze===le||!X._initted&&ze-le<2*h?h:(ze+=X.totalDuration()/X._timeScale/pe)>le+h?0:ze-le-h};O._init=function(){var X=this.vars,le=this._overwrittenProps,Q=this._duration,fe=!!X.immediateRender,pe=X.ease,ze,ot,Qe,mt,Pt,ct;if(X.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),Pt={};for(mt in X.startAt)Pt[mt]=X.startAt[mt];if(Pt.data="isStart",Pt.overwrite=!1,Pt.immediateRender=!0,Pt.lazy=fe&&X.lazy!==!1,Pt.startAt=Pt.delay=null,Pt.onUpdate=X.onUpdate,Pt.onUpdateParams=X.onUpdateParams,Pt.onUpdateScope=X.onUpdateScope||X.callbackScope||this,this._startAt=P.to(this.target||{},0,Pt),fe){if(this._time>0)this._startAt=null;else if(Q!==0)return}}else if(X.runBackwards&&Q!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{this._time!==0&&(fe=!1),Qe={};for(mt in X)(!qe[mt]||mt==="autoCSS")&&(Qe[mt]=X[mt]);if(Qe.overwrite=0,Qe.data="isFromStart",Qe.lazy=fe&&X.lazy!==!1,Qe.immediateRender=fe,this._startAt=P.to(this.target,0,Qe),!fe)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(this._time===0)return}if(this._ease=pe=pe?pe instanceof B?pe:typeof pe=="function"?new B(pe,X.easeParams):I[pe]||P.defaultEase:P.defaultEase,X.easeParams instanceof Array&&pe.config&&(this._ease=pe.config.apply(pe,X.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(ct=this._targets.length,ze=0;ze<ct;ze++)this._initProps(this._targets[ze],this._propLookup[ze]={},this._siblings[ze],le?le[ze]:null,ze)&&(ot=!0);else ot=this._initProps(this.target,this._propLookup,this._siblings,le,0);if(ot&&P._onPluginEvent("_onInitAllProps",this),le&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),X.runBackwards)for(Qe=this._firstPT;Qe;)Qe.s+=Qe.c,Qe.c=-Qe.c,Qe=Qe._next;this._onUpdate=X.onUpdate,this._initted=!0},O._initProps=function(X,le,Q,fe,pe){var ze,ot,Qe,mt,Pt,ct;if(X==null)return!1;it[X._gsTweenID]&&wt(),this.vars.css||X.style&&X!==t&&X.nodeType&&Z.css&&this.vars.autoCSS!==!1&&ye(this.vars,X);for(ze in this.vars)if(ct=this.vars[ze],qe[ze])ct&&(ct instanceof Array||ct.push&&x(ct))&&ct.join("").indexOf("{self}")!==-1&&(this.vars[ze]=ct=this._swapSelfInParams(ct,this));else if(Z[ze]&&(mt=new Z[ze])._onInitTween(X,this.vars[ze],this,pe)){for(this._firstPT=Pt={_next:this._firstPT,t:mt,p:"setRatio",s:0,c:1,f:1,n:ze,pg:1,pr:mt._priority,m:0},ot=mt._overwriteProps.length;--ot>-1;)le[mt._overwriteProps[ot]]=this._firstPT;(mt._priority||mt._onInitAllProps)&&(Qe=!0),(mt._onDisable||mt._onEnable)&&(this._notifyPluginsOfEnabled=!0),Pt._next&&(Pt._next._prev=Pt)}else le[ze]=De.call(this,X,ze,"get",ct,ze,0,null,this.vars.stringFilter,pe);return fe&&this._kill(fe,X)?this._initProps(X,le,Q,fe,pe):this._overwrite>1&&this._firstPT&&Q.length>1&&Mt(X,this,le,this._overwrite,Q)?(this._kill(le,X),this._initProps(X,le,Q,fe,pe)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(it[X._gsTweenID]=!0),Qe)},O.render=function(X,le,Q){var fe=this._time,pe=this._duration,ze=this._rawPrevTime,ot,Qe,mt,Pt;if(X>=pe-1e-7&&X>=0)this._totalTime=this._time=pe,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(ot=!0,Qe="onComplete",Q=Q||this._timeline.autoRemoveChildren),pe===0&&(this._initted||!this.vars.lazy||Q)&&(this._startTime===this._timeline._duration&&(X=0),(ze<0||X<=0&&X>=-1e-7||ze===h&&this.data!=="isPause")&&ze!==X&&(Q=!0,ze>h&&(Qe="onReverseComplete")),this._rawPrevTime=Pt=!le||X||ze===X?X:h);else if(X<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(fe!==0||pe===0&&ze>0)&&(Qe="onReverseComplete",ot=this._reversed),X<0&&(this._active=!1,pe===0&&(this._initted||!this.vars.lazy||Q)&&(ze>=0&&!(ze===h&&this.data==="isPause")&&(Q=!0),this._rawPrevTime=Pt=!le||X||ze===X?X:h)),(!this._initted||this._startAt&&this._startAt.progress())&&(Q=!0);else if(this._totalTime=this._time=X,this._easeType){var ct=X/pe,$t=this._easeType,Yt=this._easePower;($t===1||$t===3&&ct>=.5)&&(ct=1-ct),$t===3&&(ct*=2),Yt===1?ct*=ct:Yt===2?ct*=ct*ct:Yt===3?ct*=ct*ct*ct:Yt===4&&(ct*=ct*ct*ct*ct),$t===1?this.ratio=1-ct:$t===2?this.ratio=ct:X/pe<.5?this.ratio=ct/2:this.ratio=1-ct/2}else this.ratio=this._ease.getRatio(X/pe);if(!(this._time===fe&&!Q)){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!Q&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=fe,this._rawPrevTime=ze,Ee.push(this),this._lazy=[X,le];return}this._time&&!ot?this.ratio=this._ease.getRatio(this._time/pe):ot&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==fe&&X>=0&&(this._active=!0),fe===0&&(this._startAt&&(X>=0?this._startAt.render(X,!0,Q):Qe||(Qe="_dummyGS")),this.vars.onStart&&(this._time!==0||pe===0)&&(le||this._callback("onStart"))),mt=this._firstPT;mt;)mt.f?mt.t[mt.p](mt.c*this.ratio+mt.s):mt.t[mt.p]=mt.c*this.ratio+mt.s,mt=mt._next;this._onUpdate&&(X<0&&this._startAt&&X!==-1e-4&&this._startAt.render(X,!0,Q),le||(this._time!==fe||ot||Q)&&this._callback("onUpdate")),Qe&&(!this._gc||Q)&&(X<0&&this._startAt&&!this._onUpdate&&X!==-1e-4&&this._startAt.render(X,!0,Q),ot&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!le&&this.vars[Qe]&&this._callback(Qe),pe===0&&this._rawPrevTime===h&&Pt!==h&&(this._rawPrevTime=0))}},O._kill=function(X,le,Q){if(X==="all"&&(X=null),X==null&&(le==null||le===this.target))return this._lazy=!1,this._enabled(!1,!1);le=typeof le!="string"?le||this._targets||this.target:P.selector(le)||le;var fe=Q&&this._time&&Q._startTime===this._startTime&&this._timeline===Q._timeline,pe,ze,ot,Qe,mt,Pt,ct,$t,Yt;if((x(le)||se(le))&&typeof le[0]!="number")for(pe=le.length;--pe>-1;)this._kill(X,le[pe],Q)&&(Pt=!0);else{if(this._targets){for(pe=this._targets.length;--pe>-1;)if(le===this._targets[pe]){mt=this._propLookup[pe]||{},this._overwrittenProps=this._overwrittenProps||[],ze=this._overwrittenProps[pe]=X?this._overwrittenProps[pe]||{}:"all";break}}else{if(le!==this.target)return!1;mt=this._propLookup,ze=this._overwrittenProps=X?this._overwrittenProps||{}:"all"}if(mt){if(ct=X||mt,$t=X!==ze&&ze!=="all"&&X!==mt&&(typeof X!="object"||!X._tempKill),Q&&(P.onOverwrite||this.vars.onOverwrite)){for(ot in ct)mt[ot]&&(Yt||(Yt=[]),Yt.push(ot));if((Yt||!X)&&!_t(this,Q,le,Yt))return!1}for(ot in ct)(Qe=mt[ot])&&(fe&&(Qe.f?Qe.t[Qe.p](Qe.s):Qe.t[Qe.p]=Qe.s,Pt=!0),Qe.pg&&Qe.t._kill(ct)&&(Pt=!0),(!Qe.pg||Qe.t._overwriteProps.length===0)&&(Qe._prev?Qe._prev._next=Qe._next:Qe===this._firstPT&&(this._firstPT=Qe._next),Qe._next&&(Qe._next._prev=Qe._prev),Qe._next=Qe._prev=null),delete mt[ot]),$t&&(ze[ot]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return Pt},O.invalidate=function(){return this._notifyPluginsOfEnabled&&P._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Le.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},O._enabled=function(X,le){if(F||H.wake(),X&&this._gc){var Q=this._targets,fe;if(Q)for(fe=Q.length;--fe>-1;)this._siblings[fe]=St(Q[fe],this,!0);else this._siblings=St(this.target,this,!0)}return Le.prototype._enabled.call(this,X,le),this._notifyPluginsOfEnabled&&this._firstPT?P._onPluginEvent(X?"_onEnable":"_onDisable",this):!1},P.to=function(X,le,Q){return new P(X,le,Q)},P.from=function(X,le,Q){return Q.runBackwards=!0,Q.immediateRender=Q.immediateRender!=!1,new P(X,le,Q)},P.fromTo=function(X,le,Q,fe){return fe.startAt=Q,fe.immediateRender=fe.immediateRender!=!1&&Q.immediateRender!=!1,new P(X,le,fe)},P.delayedCall=function(X,le,Q,fe,pe){return new P(le,0,{delay:X,onComplete:le,onCompleteParams:Q,callbackScope:fe,onReverseComplete:le,onReverseCompleteParams:Q,immediateRender:!1,lazy:!1,useFrames:pe,overwrite:0})},P.set=function(X,le){return new P(X,0,le)},P.getTweensOf=function(X,le){if(X==null)return[];X=typeof X!="string"?X:P.selector(X)||X;var Q,fe,pe,ze;if((x(X)||se(X))&&typeof X[0]!="number"){for(Q=X.length,fe=[];--Q>-1;)fe=fe.concat(P.getTweensOf(X[Q],le));for(Q=fe.length;--Q>-1;)for(ze=fe[Q],pe=Q;--pe>-1;)ze===fe[pe]&&fe.splice(Q,1)}else if(X._gsTweenID)for(fe=St(X).concat(),Q=fe.length;--Q>-1;)(fe[Q]._gc||le&&!fe[Q].isActive())&&fe.splice(Q,1);return fe||[]},P.killTweensOf=P.killDelayedCallsTo=function(X,le,Q){typeof le=="object"&&(Q=le,le=!1);for(var fe=P.getTweensOf(X,le),pe=fe.length;--pe>-1;)fe[pe]._kill(Q,X)};var Kt=S("plugins.TweenPlugin",function(X,le){this._overwriteProps=(X||"").split(","),this._propName=this._overwriteProps[0],this._priority=le||0,this._super=Kt.prototype},!0);if(O=Kt.prototype,Kt.version="1.19.0",Kt.API=2,O._firstPT=null,O._addTween=De,O.setRatio=te,O._kill=function(X){var le=this._overwriteProps,Q=this._firstPT,fe;if(X[this._propName]!=null)this._overwriteProps=[];else for(fe=le.length;--fe>-1;)X[le[fe]]!=null&&le.splice(fe,1);for(;Q;)X[Q.n]!=null&&(Q._next&&(Q._next._prev=Q._prev),Q._prev?(Q._prev._next=Q._next,Q._prev=null):this._firstPT===Q&&(this._firstPT=Q._next)),Q=Q._next;return!1},O._mod=O._roundProps=function(X){for(var le=this._firstPT,Q;le;)Q=X[this._propName]||le.n!=null&&X[le.n.split(this._propName+"_").join("")],Q&&typeof Q=="function"&&(le.f===2?le.t._applyPT.m=Q:le.m=Q),le=le._next},P._onPluginEvent=function(X,le){var Q=le._firstPT,fe,pe,ze,ot,Qe;if(X==="_onInitAllProps"){for(;Q;){for(Qe=Q._next,pe=ze;pe&&pe.pr>Q.pr;)pe=pe._next;(Q._prev=pe?pe._prev:ot)?Q._prev._next=Q:ze=Q,(Q._next=pe)?pe._prev=Q:ot=Q,Q=Qe}Q=le._firstPT=ze}for(;Q;)Q.pg&&typeof Q.t[X]=="function"&&Q.t[X]()&&(fe=!0),Q=Q._next;return fe},Kt.activate=function(X){for(var le=X.length;--le>-1;)X[le].API===Kt.API&&(Z[new X[le]()._propName]=X[le]);return!0},M.plugin=function(X){if(!X||!X.propName||!X.init||!X.API)throw"illegal plugin definition.";var le=X.propName,Q=X.priority||0,fe=X.overwriteProps,pe={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},ze=S("plugins."+le.charAt(0).toUpperCase()+le.substr(1)+"Plugin",function(){Kt.call(this,le,Q),this._overwriteProps=fe||[]},X.global===!0),ot=ze.prototype=new Kt(le),Qe;ot.constructor=ze,ze.API=X.API;for(Qe in pe)typeof X[Qe]=="function"&&(ot[pe[Qe]]=X[Qe]);return ze.version=X.version,Kt.activate([ze]),ze},w=t._gsQueue,w){for(E=0;E<w.length;E++)w[E]();for(O in j)j[O].func||t.console.log("GSAP encountered missing dependency: "+O)}return F=!1,P}(Jr),Np=Jr.com.greensock;Np.core.SimpleTimeline;Np.core.Animation;const{Ease:ss,Linear:b3,Power0:_3,Power1:y3,Power2:w3,Power3:x3,Power4:k3,TweenPlugin:C3}=Jr;Np.events.EventDispatcher;/*!
 * VERSION: 1.16.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/Jr._gsDefine("easing.Back",["easing.Ease"],function(){var t=Jr.GreenSockGlobals||Jr,e=t.com.greensock,n=Math.PI*2,s=Math.PI/2,u=e._class,l=function(M,S){var D=u("easing."+M,function(){},!0),B=D.prototype=new ss;return B.constructor=D,B.getRatio=S,D},h=ss.register||function(){},f=function(M,S,D,B,I){var V=u("easing."+M,{easeOut:new S,easeIn:new D,easeInOut:new B},!0);return h(V,M),V},v=function(M,S,D){this.t=M,this.v=S,D&&(this.next=D,D.prev=this,this.c=D.v-S,this.gap=D.t-M)},x=function(M,S){var D=u("easing."+M,function(I){this._p1=I||I===0?I:1.70158,this._p2=this._p1*1.525},!0),B=D.prototype=new ss;return B.constructor=D,B.getRatio=S,B.config=function(I){return new D(I)},D},w=f("Back",x("BackOut",function(M){return(M=M-1)*M*((this._p1+1)*M+this._p1)+1}),x("BackIn",function(M){return M*M*((this._p1+1)*M-this._p1)}),x("BackInOut",function(M){return(M*=2)<1?.5*M*M*((this._p2+1)*M-this._p2):.5*((M-=2)*M*((this._p2+1)*M+this._p2)+2)})),E=u("easing.SlowMo",function(M,S,D){S=S||S===0?S:.7,M==null?M=.7:M>1&&(M=1),this._p=M!==1?S:0,this._p1=(1-M)/2,this._p2=M,this._p3=this._p1+this._p2,this._calcEnd=D===!0},!0),O=E.prototype=new ss,H,F,j,q;return O.constructor=E,O.getRatio=function(M){var S=M+(.5-M)*this._p;return M<this._p1?this._calcEnd?1-(M=1-M/this._p1)*M:S-(M=1-M/this._p1)*M*M*M*S:M>this._p3?this._calcEnd?M===1?0:1-(M=(M-this._p3)/this._p1)*M:S+(M-S)*(M=(M-this._p3)/this._p1)*M*M*M:this._calcEnd?1:S},E.ease=new E(.7,.7),O.config=E.config=function(M,S,D){return new E(M,S,D)},H=u("easing.SteppedEase",function(M,S){M=M||1,this._p1=1/M,this._p2=M+(S?0:1),this._p3=S?1:0},!0),O=H.prototype=new ss,O.constructor=H,O.getRatio=function(M){return M<0?M=0:M>=1&&(M=.999999999),((this._p2*M|0)+this._p3)*this._p1},O.config=H.config=function(M,S){return new H(M,S)},F=u("easing.ExpoScaleEase",function(M,S,D){this._p1=Math.log(S/M),this._p2=S-M,this._p3=M,this._ease=D},!0),O=F.prototype=new ss,O.constructor=F,O.getRatio=function(M){return this._ease&&(M=this._ease.getRatio(M)),(this._p3*Math.exp(this._p1*M)-this._p3)/this._p2},O.config=F.config=function(M,S,D){return new F(M,S,D)},j=u("easing.RoughEase",function(M){M=M||{};for(var S=M.taper||"none",D=[],B=0,I=(M.points||20)|0,V=I,ne=M.randomize!==!1,ue=M.clamp===!0,de=M.template instanceof ss?M.template:null,ge=typeof M.strength=="number"?M.strength*.4:.4,he,Le,ve,re,P,se;--V>-1;)he=ne?Math.random():1/I*V,Le=de?de.getRatio(he):he,S==="none"?ve=ge:S==="out"?(re=1-he,ve=re*re*ge):S==="in"?ve=he*he*ge:he<.5?(re=he*2,ve=re*re*.5*ge):(re=(1-he)*2,ve=re*re*.5*ge),ne?Le+=Math.random()*ve-ve*.5:V%2?Le+=ve*.5:Le-=ve*.5,ue&&(Le>1?Le=1:Le<0&&(Le=0)),D[B++]={x:he,y:Le};for(D.sort(function(ye,Ee){return ye.x-Ee.x}),se=new v(1,1,null),V=I;--V>-1;)P=D[V],se=new v(P.x,P.y,se);this._prev=new v(0,0,se.t!==0?se:se.next)},!0),O=j.prototype=new ss,O.constructor=j,O.getRatio=function(M){var S=this._prev;if(M>S.t){for(;S.next&&M>=S.t;)S=S.next;S=S.prev}else for(;S.prev&&M<=S.t;)S=S.prev;return this._prev=S,S.v+(M-S.t)/S.gap*S.c},O.config=function(M){return new j(M)},j.ease=new j,f("Bounce",l("BounceOut",function(M){return M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375}),l("BounceIn",function(M){return(M=1-M)<1/2.75?1-7.5625*M*M:M<2/2.75?1-(7.5625*(M-=1.5/2.75)*M+.75):M<2.5/2.75?1-(7.5625*(M-=2.25/2.75)*M+.9375):1-(7.5625*(M-=2.625/2.75)*M+.984375)}),l("BounceInOut",function(M){var S=M<.5;return S?M=1-M*2:M=M*2-1,M<1/2.75?M=7.5625*M*M:M<2/2.75?M=7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?M=7.5625*(M-=2.25/2.75)*M+.9375:M=7.5625*(M-=2.625/2.75)*M+.984375,S?(1-M)*.5:M*.5+.5})),f("Circ",l("CircOut",function(M){return Math.sqrt(1-(M=M-1)*M)}),l("CircIn",function(M){return-(Math.sqrt(1-M*M)-1)}),l("CircInOut",function(M){return(M*=2)<1?-.5*(Math.sqrt(1-M*M)-1):.5*(Math.sqrt(1-(M-=2)*M)+1)})),q=function(M,S,D){var B=u("easing."+M,function(V,ne){this._p1=V>=1?V:1,this._p2=(ne||D)/(V<1?V:1),this._p3=this._p2/n*(Math.asin(1/this._p1)||0),this._p2=n/this._p2},!0),I=B.prototype=new ss;return I.constructor=B,I.getRatio=S,I.config=function(V,ne){return new B(V,ne)},B},f("Elastic",q("ElasticOut",function(M){return this._p1*Math.pow(2,-10*M)*Math.sin((M-this._p3)*this._p2)+1},.3),q("ElasticIn",function(M){return-(this._p1*Math.pow(2,10*(M-=1))*Math.sin((M-this._p3)*this._p2))},.3),q("ElasticInOut",function(M){return(M*=2)<1?-.5*(this._p1*Math.pow(2,10*(M-=1))*Math.sin((M-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(M-=1))*Math.sin((M-this._p3)*this._p2)*.5+1},.45)),f("Expo",l("ExpoOut",function(M){return 1-Math.pow(2,-10*M)}),l("ExpoIn",function(M){return Math.pow(2,10*(M-1))-.001}),l("ExpoInOut",function(M){return(M*=2)<1?.5*Math.pow(2,10*(M-1)):.5*(2-Math.pow(2,-10*(M-1)))})),f("Sine",l("SineOut",function(M){return Math.sin(M*s)}),l("SineIn",function(M){return-Math.cos(M*s)+1}),l("SineInOut",function(M){return-.5*(Math.cos(Math.PI*M)-1)})),u("easing.EaseLookup",{find:function(M){return ss.map[M]}},!0),h(t.SlowMo,"SlowMo","ease,"),h(j,"RoughEase","ease,"),h(H,"SteppedEase","ease,"),w},!0);Jr.Back;Jr.Elastic;Jr.Bounce;Jr.RoughEase;Jr.SlowMo;Jr.SteppedEase;Jr.Circ;const qf=Jr.Expo;Jr.Sine;Jr.ExpoScaleEase;var Zd={exports:{}},wg;function rx(){return wg||(wg=1,function(t){var e=function(){function j(q,M){for(var S=0;S<M.length;S++){var D=M[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(q,D.key,D)}}return function(q,M,S){return M&&j(q.prototype,M),S&&j(q,S),q}}();function n(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function s(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}function u(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}var l=function(){function j(){u(this,j)}return e(j,[{key:"on",value:function(M,S){return this._callbacks=this._callbacks||{},this._callbacks[M]||(this._callbacks[M]=[]),this._callbacks[M].push(S),this}},{key:"emit",value:function(M){this._callbacks=this._callbacks||{};var S=this._callbacks[M];if(S){for(var D=arguments.length,B=Array(D>1?D-1:0),I=1;I<D;I++)B[I-1]=arguments[I];for(var ue=S,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;ge.apply(this,B)}}return this}},{key:"off",value:function(M,S){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var D=this._callbacks[M];if(!D)return this;if(arguments.length===1)return delete this._callbacks[M],this;for(var B=0;B<D.length;B++){var I=D[B];if(I===S){D.splice(B,1);break}}return this}}]),j}(),h=function(j){s(q,j),e(q,null,[{key:"initClass",value:function(){this.prototype.Emitter=l,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(D,B,I){if(I)return{dzuuid:I.file.upload.uuid,dzchunkindex:I.index,dztotalfilesize:I.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:I.file.upload.totalChunkCount,dzchunkbyteoffset:I.index*this.options.chunkSize}},accept:function(D,B){return B()},chunksUploaded:function(D,B){B()},fallback:function(){var D=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var V=this.element.getElementsByTagName("div"),B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(I>=V.length)break;ne=V[I++]}else{if(I=V.next(),I.done)break;ne=I.value}var ue=ne;if(/(^| )dz-message($| )/.test(ue.className)){D=ue,ue.className="dz-message";break}}D||(D=q.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(D));var de=D.getElementsByTagName("span")[0];return de&&(de.textContent!=null?de.textContent=this.options.dictFallbackMessage:de.innerText!=null&&(de.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(D,B,I,V){var ne={srcX:0,srcY:0,srcWidth:D.width,srcHeight:D.height},ue=D.width/D.height;B==null&&I==null?(B=ne.srcWidth,I=ne.srcHeight):B==null?B=I*ue:I==null&&(I=B/ue),B=Math.min(B,ne.srcWidth),I=Math.min(I,ne.srcHeight);var de=B/I;if(ne.srcWidth>B||ne.srcHeight>I)if(V==="crop")ue>de?(ne.srcHeight=D.height,ne.srcWidth=ne.srcHeight*de):(ne.srcWidth=D.width,ne.srcHeight=ne.srcWidth/de);else if(V==="contain")ue>de?I=B/ue:B=I*ue;else throw new Error("Unknown resizeMethod '"+V+"'");return ne.srcX=(D.width-ne.srcWidth)/2,ne.srcY=(D.height-ne.srcHeight)/2,ne.trgWidth=B,ne.trgHeight=I,ne},transformFile:function(D,B){return(this.options.resizeWidth||this.options.resizeHeight)&&D.type.match(/image.*/)?this.resizeImage(D,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,B):B(D)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(D){return this.element.classList.remove("dz-drag-hover")},dragstart:function(D){},dragend:function(D){return this.element.classList.remove("dz-drag-hover")},dragenter:function(D){return this.element.classList.add("dz-drag-hover")},dragover:function(D){return this.element.classList.add("dz-drag-hover")},dragleave:function(D){return this.element.classList.remove("dz-drag-hover")},paste:function(D){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(D){var B=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){D.previewElement=q.createElement(this.options.previewTemplate.trim()),D.previewTemplate=D.previewElement,this.previewsContainer.appendChild(D.previewElement);for(var ne=D.previewElement.querySelectorAll("[data-dz-name]"),I=!0,V=0,ne=I?ne:ne[Symbol.iterator]();;){var ue;if(I){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.textContent=D.name}for(var Le=D.previewElement.querySelectorAll("[data-dz-size]"),ge=!0,he=0,Le=ge?Le:Le[Symbol.iterator]();;){if(ge){if(he>=Le.length)break;de=Le[he++]}else{if(he=Le.next(),he.done)break;de=he.value}de.innerHTML=this.filesize(D.size)}this.options.addRemoveLinks&&(D._removeLink=q.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),D.previewElement.appendChild(D._removeLink));for(var ve=function(Be){return Be.preventDefault(),Be.stopPropagation(),D.status===q.UPLOADING?q.confirm(B.options.dictCancelUploadConfirmation,function(){return B.removeFile(D)}):B.options.dictRemoveFileConfirmation?q.confirm(B.options.dictRemoveFileConfirmation,function(){return B.removeFile(D)}):B.removeFile(D)},se=D.previewElement.querySelectorAll("[data-dz-remove]"),re=!0,P=0,se=re?se:se[Symbol.iterator]();;){var ye;if(re){if(P>=se.length)break;ye=se[P++]}else{if(P=se.next(),P.done)break;ye=P.value}var Ee=ye;Ee.addEventListener("click",ve)}}},removedfile:function(D){return D.previewElement!=null&&D.previewElement.parentNode!=null&&D.previewElement.parentNode.removeChild(D.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(D,B){if(D.previewElement){D.previewElement.classList.remove("dz-file-preview");for(var ne=D.previewElement.querySelectorAll("[data-dz-thumbnail]"),I=!0,V=0,ne=I?ne:ne[Symbol.iterator]();;){var ue;if(I){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.alt=D.name,de.src=B}return setTimeout(function(){return D.previewElement.classList.add("dz-image-preview")},1)}},error:function(D,B){if(D.previewElement){D.previewElement.classList.add("dz-error"),typeof B!="String"&&B.error&&(B=B.error);for(var ne=D.previewElement.querySelectorAll("[data-dz-errormessage]"),I=!0,V=0,ne=I?ne:ne[Symbol.iterator]();;){var ue;if(I){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.textContent=B}}},errormultiple:function(){},processing:function(D){if(D.previewElement&&(D.previewElement.classList.add("dz-processing"),D._removeLink))return D._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(D,B,I){if(D.previewElement)for(var ue=D.previewElement.querySelectorAll("[data-dz-uploadprogress]"),V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;ge.nodeName==="PROGRESS"?ge.value=B:ge.style.width=B+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(D){if(D.previewElement)return D.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(D){return this.emit("error",D,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(D){if(D._removeLink&&(D._removeLink.innerHTML=this.options.dictRemoveFile),D.previewElement)return D.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(S){for(var D=arguments.length,B=Array(D>1?D-1:0),I=1;I<D;I++)B[I-1]=arguments[I];for(var ue=B,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;for(var he in ge){var Le=ge[he];S[he]=Le}}return S}}]);function q(M,S){u(this,q);var D=n(this,(q.__proto__||Object.getPrototypeOf(q)).call(this)),B=void 0,I=void 0;if(D.element=M,D.version=q.version,D.defaultOptions.previewTemplate=D.defaultOptions.previewTemplate.replace(/\n*/g,""),D.clickableElements=[],D.listeners=[],D.files=[],typeof D.element=="string"&&(D.element=document.querySelector(D.element)),!D.element||D.element.nodeType==null)throw new Error("Invalid dropzone element.");if(D.element.dropzone)throw new Error("Dropzone already attached.");q.instances.push(D),D.element.dropzone=D;var V=(I=q.optionsForElement(D.element))!=null?I:{};if(D.options=q.extend({},D.defaultOptions,V,S??{}),D.options.forceFallback||!q.isBrowserSupported()){var ne;return ne=D.options.fallback.call(D),n(D,ne)}if(D.options.url==null&&(D.options.url=D.element.getAttribute("action")),!D.options.url)throw new Error("No URL provided.");if(D.options.acceptedFiles&&D.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(D.options.uploadMultiple&&D.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return D.options.acceptedMimeTypes&&(D.options.acceptedFiles=D.options.acceptedMimeTypes,delete D.options.acceptedMimeTypes),D.options.renameFilename!=null&&(D.options.renameFile=function(ue){return D.options.renameFilename.call(D,ue.name,ue)}),D.options.method=D.options.method.toUpperCase(),(B=D.getExistingFallback())&&B.parentNode&&B.parentNode.removeChild(B),D.options.previewsContainer!==!1&&(D.options.previewsContainer?D.previewsContainer=q.getElement(D.options.previewsContainer,"previewsContainer"):D.previewsContainer=D.element),D.options.clickable&&(D.options.clickable===!0?D.clickableElements=[D.element]:D.clickableElements=q.getElements(D.options.clickable,"clickable")),D.init(),D}return e(q,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(S){return S.accepted}).map(function(S){return S})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(S){return!S.accepted}).map(function(S){return S})}},{key:"getFilesWithStatus",value:function(S){return this.files.filter(function(D){return D.status===S}).map(function(D){return D})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(q.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(q.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(q.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(S){return S.status===q.UPLOADING||S.status===q.QUEUED}).map(function(S){return S})}},{key:"init",value:function(){var S=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(q.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var D=function ge(){return S.hiddenFileInput&&S.hiddenFileInput.parentNode.removeChild(S.hiddenFileInput),S.hiddenFileInput=document.createElement("input"),S.hiddenFileInput.setAttribute("type","file"),(S.options.maxFiles===null||S.options.maxFiles>1)&&S.hiddenFileInput.setAttribute("multiple","multiple"),S.hiddenFileInput.className="dz-hidden-input",S.options.acceptedFiles!==null&&S.hiddenFileInput.setAttribute("accept",S.options.acceptedFiles),S.options.capture!==null&&S.hiddenFileInput.setAttribute("capture",S.options.capture),S.hiddenFileInput.style.visibility="hidden",S.hiddenFileInput.style.position="absolute",S.hiddenFileInput.style.top="0",S.hiddenFileInput.style.left="0",S.hiddenFileInput.style.height="0",S.hiddenFileInput.style.width="0",q.getElement(S.options.hiddenInputContainer,"hiddenInputContainer").appendChild(S.hiddenFileInput),S.hiddenFileInput.addEventListener("change",function(){var he=S.hiddenFileInput.files;if(he.length)for(var re=he,Le=!0,ve=0,re=Le?re:re[Symbol.iterator]();;){var P;if(Le){if(ve>=re.length)break;P=re[ve++]}else{if(ve=re.next(),ve.done)break;P=ve.value}var se=P;S.addFile(se)}return S.emit("addedfiles",he),ge()})};D()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var V=this.events,B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(I>=V.length)break;ne=V[I++]}else{if(I=V.next(),I.done)break;ne=I.value}var ue=ne;this.on(ue,this.options[ue])}this.on("uploadprogress",function(){return S.updateTotalUploadProgress()}),this.on("removedfile",function(){return S.updateTotalUploadProgress()}),this.on("canceled",function(ge){return S.emit("complete",ge)}),this.on("complete",function(ge){if(S.getAddedFiles().length===0&&S.getUploadingFiles().length===0&&S.getQueuedFiles().length===0)return setTimeout(function(){return S.emit("queuecomplete")},0)});var de=function(he){return he.stopPropagation(),he.preventDefault?he.preventDefault():he.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(he){return S.emit("dragstart",he)},dragenter:function(he){return de(he),S.emit("dragenter",he)},dragover:function(he){var Le=void 0;try{Le=he.dataTransfer.effectAllowed}catch{}return he.dataTransfer.dropEffect=Le==="move"||Le==="linkMove"?"move":"copy",de(he),S.emit("dragover",he)},dragleave:function(he){return S.emit("dragleave",he)},drop:function(he){return de(he),S.drop(he)},dragend:function(he){return S.emit("dragend",he)}}}],this.clickableElements.forEach(function(ge){return S.listeners.push({element:ge,events:{click:function(Le){return(ge!==S.element||Le.target===S.element||q.elementInside(Le.target,S.element.querySelector(".dz-message")))&&S.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,q.instances.splice(q.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var S=void 0,D=0,B=0,I=this.getActiveFiles();if(I.length){for(var ue=this.getActiveFiles(),V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;D+=ge.upload.bytesSent,B+=ge.upload.total}S=100*D/B}else S=100;return this.emit("totaluploadprogress",S,B,D)}},{key:"_getParamName",value:function(S){return typeof this.options.paramName=="function"?this.options.paramName(S):""+this.options.paramName+(this.options.uploadMultiple?"["+S+"]":"")}},{key:"_renameFile",value:function(S){return typeof this.options.renameFile!="function"?S.name:this.options.renameFile(S)}},{key:"getFallbackForm",value:function(){var S=void 0,D=void 0;if(S=this.getExistingFallback())return S;var B='<div class="dz-fallback">';this.options.dictFallbackText&&(B+="<p>"+this.options.dictFallbackText+"</p>"),B+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var I=q.createElement(B);return this.element.tagName!=="FORM"?(D=q.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),D.appendChild(I)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),D??I}},{key:"getExistingFallback",value:function(){for(var S=function(ue){for(var he=ue,de=!0,ge=0,he=de?he:he[Symbol.iterator]();;){var Le;if(de){if(ge>=he.length)break;Le=he[ge++]}else{if(ge=he.next(),ge.done)break;Le=ge.value}var ve=Le;if(/(^| )fallback($| )/.test(ve.className))return ve}},D=["div","form"],B=0;B<D.length;B++){var I=D[B],V;if(V=S(this.element.getElementsByTagName(I)))return V}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(S){return function(){var D=[];for(var B in S.events){var I=S.events[B];D.push(S.element.addEventListener(B,I,!1))}return D}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(S){return function(){var D=[];for(var B in S.events){var I=S.events[B];D.push(S.element.removeEventListener(B,I,!1))}return D}()})}},{key:"disable",value:function(){var S=this;return this.clickableElements.forEach(function(D){return D.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(D){return S.cancelUpload(D)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(S){return S.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(S){var D=0,B="b";if(S>0){for(var I=["tb","gb","mb","kb","b"],V=0;V<I.length;V++){var ne=I[V],ue=Math.pow(this.options.filesizeBase,4-V)/10;if(S>=ue){D=S/Math.pow(this.options.filesizeBase,4-V),B=ne;break}}D=Math.round(10*D)/10}return"<strong>"+D+"</strong> "+this.options.dictFileSizeUnits[B]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(S){if(S.dataTransfer){this.emit("drop",S);for(var D=[],B=0;B<S.dataTransfer.files.length;B++)D[B]=S.dataTransfer.files[B];if(this.emit("addedfiles",D),D.length){var I=S.dataTransfer.items;I&&I.length&&I[0].webkitGetAsEntry!=null?this._addFilesFromItems(I):this.handleFiles(D)}}}},{key:"paste",value:function(S){if(H(S!=null?S.clipboardData:void 0,function(B){return B.items})!=null){this.emit("paste",S);var D=S.clipboardData.items;if(D.length)return this._addFilesFromItems(D)}}},{key:"handleFiles",value:function(S){for(var I=S,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var ne=V;this.addFile(ne)}}},{key:"_addFilesFromItems",value:function(S){var D=this;return function(){for(var B=[],ne=S,I=!0,V=0,ne=I?ne:ne[Symbol.iterator]();;){var ue;if(I){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue,ge;de.webkitGetAsEntry!=null&&(ge=de.webkitGetAsEntry())?ge.isFile?B.push(D.addFile(de.getAsFile())):ge.isDirectory?B.push(D._addFilesFromDirectory(ge,ge.name)):B.push(void 0):de.getAsFile!=null&&(de.kind==null||de.kind==="file")?B.push(D.addFile(de.getAsFile())):B.push(void 0)}return B}()}},{key:"_addFilesFromDirectory",value:function(S,D){var B=this,I=S.createReader(),V=function(de){return F(console,"log",function(ge){return ge.log(de)})},ne=function ue(){return I.readEntries(function(de){if(de.length>0){for(var Le=de,ge=!0,he=0,Le=ge?Le:Le[Symbol.iterator]();;){var ve;if(ge){if(he>=Le.length)break;ve=Le[he++]}else{if(he=Le.next(),he.done)break;ve=he.value}var re=ve;re.isFile?re.file(function(P){if(!(B.options.ignoreHiddenFiles&&P.name.substring(0,1)==="."))return P.fullPath=D+"/"+P.name,B.addFile(P)}):re.isDirectory&&B._addFilesFromDirectory(re,D+"/"+re.name)}ue()}return null},V)};return ne()}},{key:"accept",value:function(S,D){return this.options.maxFilesize&&S.size>this.options.maxFilesize*1024*1024?D(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(S.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):q.isValidFile(S,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(D(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",S)):this.options.accept.call(this,S,D):D(this.options.dictInvalidFileType)}},{key:"addFile",value:function(S){var D=this;return S.upload={uuid:q.uuidv4(),progress:0,total:S.size,bytesSent:0,filename:this._renameFile(S),chunked:this.options.chunking&&(this.options.forceChunking||S.size>this.options.chunkSize),totalChunkCount:Math.ceil(S.size/this.options.chunkSize)},this.files.push(S),S.status=q.ADDED,this.emit("addedfile",S),this._enqueueThumbnail(S),this.accept(S,function(B){return B?(S.accepted=!1,D._errorProcessing([S],B)):(S.accepted=!0,D.options.autoQueue&&D.enqueueFile(S)),D._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(S){for(var I=S,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var ne=V;this.enqueueFile(ne)}return null}},{key:"enqueueFile",value:function(S){var D=this;if(S.status===q.ADDED&&S.accepted===!0){if(S.status=q.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return D.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(S){var D=this;if(this.options.createImageThumbnails&&S.type.match(/image.*/)&&S.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(S),setTimeout(function(){return D._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var S=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var D=this._thumbnailQueue.shift();return this.createThumbnail(D,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(B){return S.emit("thumbnail",D,B),S._processingThumbnail=!1,S._processThumbnailQueue()})}}},{key:"removeFile",value:function(S){if(S.status===q.UPLOADING&&this.cancelUpload(S),this.files=f(this.files,S),this.emit("removedfile",S),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(S){S==null&&(S=!1);for(var I=this.files.slice(),D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var ne=V;(ne.status!==q.UPLOADING||S)&&this.removeFile(ne)}return null}},{key:"resizeImage",value:function(S,D,B,I,V){var ne=this;return this.createThumbnail(S,D,B,I,!0,function(ue,de){if(de==null)return V(S);var ge=ne.options.resizeMimeType;ge==null&&(ge=S.type);var he=de.toDataURL(ge,ne.options.resizeQuality);return(ge==="image/jpeg"||ge==="image/jpg")&&(he=E.restore(S.dataURL,he)),V(q.dataURItoBlob(he))})}},{key:"createThumbnail",value:function(S,D,B,I,V,ne){var ue=this,de=new FileReader;return de.onload=function(){if(S.dataURL=de.result,S.type==="image/svg+xml"){ne!=null&&ne(de.result);return}return ue.createThumbnailFromUrl(S,D,B,I,V,ne)},de.readAsDataURL(S)}},{key:"createThumbnailFromUrl",value:function(S,D,B,I,V,ne,ue){var de=this,ge=document.createElement("img");return ue&&(ge.crossOrigin=ue),ge.onload=function(){var he=function(ve){return ve(1)};return typeof EXIF<"u"&&EXIF!==null&&V&&(he=function(ve){return EXIF.getData(ge,function(){return ve(EXIF.getTag(this,"Orientation"))})}),he(function(Le){S.width=ge.width,S.height=ge.height;var ve=de.options.resize.call(de,S,D,B,I),re=document.createElement("canvas"),P=re.getContext("2d");switch(re.width=ve.trgWidth,re.height=ve.trgHeight,Le>4&&(re.width=ve.trgHeight,re.height=ve.trgWidth),Le){case 2:P.translate(re.width,0),P.scale(-1,1);break;case 3:P.translate(re.width,re.height),P.rotate(Math.PI);break;case 4:P.translate(0,re.height),P.scale(1,-1);break;case 5:P.rotate(.5*Math.PI),P.scale(1,-1);break;case 6:P.rotate(.5*Math.PI),P.translate(0,-re.width);break;case 7:P.rotate(.5*Math.PI),P.translate(re.height,-re.width),P.scale(-1,1);break;case 8:P.rotate(-.5*Math.PI),P.translate(-re.height,0);break}w(P,ge,ve.srcX!=null?ve.srcX:0,ve.srcY!=null?ve.srcY:0,ve.srcWidth,ve.srcHeight,ve.trgX!=null?ve.trgX:0,ve.trgY!=null?ve.trgY:0,ve.trgWidth,ve.trgHeight);var se=re.toDataURL("image/png");if(ne!=null)return ne(se,re)})},ne!=null&&(ge.onerror=ne),ge.src=S.dataURL}},{key:"processQueue",value:function(){var S=this.options.parallelUploads,D=this.getUploadingFiles().length,B=D;if(!(D>=S)){var I=this.getQueuedFiles();if(I.length>0){if(this.options.uploadMultiple)return this.processFiles(I.slice(0,S-D));for(;B<S;){if(!I.length)return;this.processFile(I.shift()),B++}}}}},{key:"processFile",value:function(S){return this.processFiles([S])}},{key:"processFiles",value:function(S){for(var I=S,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var ne=V;ne.processing=!0,ne.status=q.UPLOADING,this.emit("processing",ne)}return this.options.uploadMultiple&&this.emit("processingmultiple",S),this.uploadFiles(S)}},{key:"_getFilesWithXhr",value:function(S){return this.files.filter(function(D){return D.xhr===S}).map(function(D){return D})}},{key:"cancelUpload",value:function(S){if(S.status===q.UPLOADING){for(var D=this._getFilesWithXhr(S.xhr),V=D,B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(I>=V.length)break;ne=V[I++]}else{if(I=V.next(),I.done)break;ne=I.value}var ue=ne;ue.status=q.CANCELED}typeof S.xhr<"u"&&S.xhr.abort();for(var he=D,de=!0,ge=0,he=de?he:he[Symbol.iterator]();;){var Le;if(de){if(ge>=he.length)break;Le=he[ge++]}else{if(ge=he.next(),ge.done)break;Le=ge.value}var ve=Le;this.emit("canceled",ve)}this.options.uploadMultiple&&this.emit("canceledmultiple",D)}else(S.status===q.ADDED||S.status===q.QUEUED)&&(S.status=q.CANCELED,this.emit("canceled",S),this.options.uploadMultiple&&this.emit("canceledmultiple",[S]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(S){if(typeof S=="function"){for(var D=arguments.length,B=Array(D>1?D-1:0),I=1;I<D;I++)B[I-1]=arguments[I];return S.apply(this,B)}return S}},{key:"uploadFile",value:function(S){return this.uploadFiles([S])}},{key:"uploadFiles",value:function(S){var D=this;this._transformFiles(S,function(B){if(S[0].upload.chunked){var I=S[0],V=B[0];I.upload.chunks=[];var ne=function(){for(var Le=0;I.upload.chunks[Le]!==void 0;)Le++;if(!(Le>=I.upload.totalChunkCount)){var ve=Le*D.options.chunkSize,re=Math.min(ve+D.options.chunkSize,I.size),P={name:D._getParamName(0),data:V.webkitSlice?V.webkitSlice(ve,re):V.slice(ve,re),filename:I.upload.filename,chunkIndex:Le};I.upload.chunks[Le]={file:I,index:Le,dataBlock:P,status:q.UPLOADING,progress:0,retries:0},D._uploadData(S,[P])}};if(I.upload.finishedChunkUpload=function(he){var Le=!0;he.status=q.SUCCESS,he.dataBlock=null,he.xhr=null;for(var ve=0;ve<I.upload.totalChunkCount;ve++){if(I.upload.chunks[ve]===void 0)return ne();I.upload.chunks[ve].status!==q.SUCCESS&&(Le=!1)}Le&&D.options.chunksUploaded(I,function(){D._finished(S,"",null)})},D.options.parallelChunkUploads)for(var ue=0;ue<I.upload.totalChunkCount;ue++)ne();else ne()}else{for(var de=[],ge=0;ge<S.length;ge++)de[ge]={name:D._getParamName(ge),data:B[ge],filename:S[ge].upload.filename};D._uploadData(S,de)}})}},{key:"_getChunk",value:function(S,D){for(var B=0;B<S.upload.totalChunkCount;B++)if(S.upload.chunks[B]!==void 0&&S.upload.chunks[B].xhr===D)return S.upload.chunks[B]}},{key:"_uploadData",value:function(S,D){for(var B=this,I=new XMLHttpRequest,ue=S,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){var de;if(V){if(ne>=ue.length)break;de=ue[ne++]}else{if(ne=ue.next(),ne.done)break;de=ne.value}var ge=de;ge.xhr=I}S[0].upload.chunked&&(S[0].upload.chunks[D[0].chunkIndex].xhr=I);var he=this.resolveOption(this.options.method,S),Le=this.resolveOption(this.options.url,S);I.open(he,Le,!0),I.timeout=this.resolveOption(this.options.timeout,S),I.withCredentials=!!this.options.withCredentials,I.onload=function(Te){B._finishedUploading(S,I,Te)},I.onerror=function(){B._handleUploadError(S,I)};var ve=I.upload!=null?I.upload:I;ve.onprogress=function(Te){return B._updateFilesUploadProgress(S,I,Te)};var re={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&q.extend(re,this.options.headers);for(var P in re){var se=re[P];se&&I.setRequestHeader(P,se)}var ye=new FormData;if(this.options.params){var Ee=this.options.params;typeof Ee=="function"&&(Ee=Ee.call(this,S,I,S[0].upload.chunked?this._getChunk(S[0],I):null));for(var it in Ee){var Be=Ee[it];ye.append(it,Be)}}for(var Y=S,Me=!0,te=0,Y=Me?Y:Y[Symbol.iterator]();;){var De;if(Me){if(te>=Y.length)break;De=Y[te++]}else{if(te=Y.next(),te.done)break;De=te.value}var Fe=De;this.emit("sending",Fe,I,ye)}this.options.uploadMultiple&&this.emit("sendingmultiple",S,I,ye),this._addFormElementData(ye);for(var Z=0;Z<D.length;Z++){var we=D[Z];ye.append(we.name,we.data,we.filename)}this.submitRequest(I,ye,S)}},{key:"_transformFiles",value:function(S,D){for(var B=this,I=[],V=0,ne=function(ge){B.options.transformFile.call(B,S[ge],function(he){I[ge]=he,++V===S.length&&D(I)})},ue=0;ue<S.length;ue++)ne(ue)}},{key:"_addFormElementData",value:function(S){if(this.element.tagName==="FORM")for(var I=this.element.querySelectorAll("input, textarea, select, button"),D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var ne=V,ue=ne.getAttribute("name"),de=ne.getAttribute("type");if(de&&(de=de.toLowerCase()),!(typeof ue>"u"||ue===null))if(ne.tagName==="SELECT"&&ne.hasAttribute("multiple"))for(var Le=ne.options,ge=!0,he=0,Le=ge?Le:Le[Symbol.iterator]();;){var ve;if(ge){if(he>=Le.length)break;ve=Le[he++]}else{if(he=Le.next(),he.done)break;ve=he.value}var re=ve;re.selected&&S.append(ue,re.value)}else(!de||de!=="checkbox"&&de!=="radio"||ne.checked)&&S.append(ue,ne.value)}}},{key:"_updateFilesUploadProgress",value:function(S,D,B){var I=void 0;if(typeof B<"u"){if(I=100*B.loaded/B.total,S[0].upload.chunked){var V=S[0],ne=this._getChunk(V,D);ne.progress=I,ne.total=B.total,ne.bytesSent=B.loaded,V.upload.progress=0,V.upload.total=0,V.upload.bytesSent=0;for(var ue=0;ue<V.upload.totalChunkCount;ue++)V.upload.chunks[ue]!==void 0&&V.upload.chunks[ue].progress!==void 0&&(V.upload.progress+=V.upload.chunks[ue].progress,V.upload.total+=V.upload.chunks[ue].total,V.upload.bytesSent+=V.upload.chunks[ue].bytesSent);V.upload.progress=V.upload.progress/V.upload.totalChunkCount}else for(var he=S,de=!0,ge=0,he=de?he:he[Symbol.iterator]();;){var Le;if(de){if(ge>=he.length)break;Le=he[ge++]}else{if(ge=he.next(),ge.done)break;Le=ge.value}var ve=Le;ve.upload.progress=I,ve.upload.total=B.total,ve.upload.bytesSent=B.loaded}for(var se=S,re=!0,P=0,se=re?se:se[Symbol.iterator]();;){var ye;if(re){if(P>=se.length)break;ye=se[P++]}else{if(P=se.next(),P.done)break;ye=P.value}var Ee=ye;this.emit("uploadprogress",Ee,Ee.upload.progress,Ee.upload.bytesSent)}}else{var it=!0;I=100;for(var te=S,Be=!0,Me=0,te=Be?te:te[Symbol.iterator]();;){var Y;if(Be){if(Me>=te.length)break;Y=te[Me++]}else{if(Me=te.next(),Me.done)break;Y=Me.value}var De=Y;(De.upload.progress!==100||De.upload.bytesSent!==De.upload.total)&&(it=!1),De.upload.progress=I,De.upload.bytesSent=De.upload.total}if(it)return;for(var we=S,Fe=!0,Z=0,we=Fe?we:we[Symbol.iterator]();;){var Te;if(Fe){if(Z>=we.length)break;Te=we[Z++]}else{if(Z=we.next(),Z.done)break;Te=Z.value}var qe=Te;this.emit("uploadprogress",qe,I,qe.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(S,D,B){var I=void 0;if(S[0].status!==q.CANCELED&&D.readyState===4){if(D.responseType!=="arraybuffer"&&D.responseType!=="blob"&&(I=D.responseText,D.getResponseHeader("content-type")&&~D.getResponseHeader("content-type").indexOf("application/json")))try{I=JSON.parse(I)}catch(V){B=V,I="Invalid JSON response from server."}this._updateFilesUploadProgress(S),200<=D.status&&D.status<300?S[0].upload.chunked?S[0].upload.finishedChunkUpload(this._getChunk(S[0],D)):this._finished(S,I,B):this._handleUploadError(S,D,I)}}},{key:"_handleUploadError",value:function(S,D,B){if(S[0].status!==q.CANCELED){if(S[0].upload.chunked&&this.options.retryChunks){var I=this._getChunk(S[0],D);if(I.retries++<this.options.retryChunksLimit){this._uploadData(S,[I.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var ue=S,V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){if(V){if(ne>=ue.length)break;ue[ne++]}else{if(ne=ue.next(),ne.done)break;ne.value}this._errorProcessing(S,B||this.options.dictResponseError.replace("{{statusCode}}",D.status),D)}}}},{key:"submitRequest",value:function(S,D,B){S.send(D)}},{key:"_finished",value:function(S,D,B){for(var ne=S,I=!0,V=0,ne=I?ne:ne[Symbol.iterator]();;){var ue;if(I){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.status=q.SUCCESS,this.emit("success",de,D,B),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("successmultiple",S,D,B),this.emit("completemultiple",S)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(S,D,B){for(var ne=S,I=!0,V=0,ne=I?ne:ne[Symbol.iterator]();;){var ue;if(I){if(V>=ne.length)break;ue=ne[V++]}else{if(V=ne.next(),V.done)break;ue=V.value}var de=ue;de.status=q.ERROR,this.emit("error",de,D,B),this.emit("complete",de)}if(this.options.uploadMultiple&&(this.emit("errormultiple",S,D,B),this.emit("completemultiple",S)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(S){var D=Math.random()*16|0,B=S==="x"?D:D&3|8;return B.toString(16)})}}]),q}(l);h.initClass(),h.version="5.5.1",h.options={},h.optionsForElement=function(j){if(j.getAttribute("id"))return h.options[v(j.getAttribute("id"))]},h.instances=[],h.forElement=function(j){if(typeof j=="string"&&(j=document.querySelector(j)),(j!=null?j.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return j.dropzone},h.autoDiscover=!0,h.discover=function(){var j=void 0;if(document.querySelectorAll)j=document.querySelectorAll(".dropzone");else{j=[];var q=function(S){return function(){for(var D=[],V=S,B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var ne;if(B){if(I>=V.length)break;ne=V[I++]}else{if(I=V.next(),I.done)break;ne=I.value}var ue=ne;/(^| )dropzone($| )/.test(ue.className)?D.push(j.push(ue)):D.push(void 0)}return D}()};q(document.getElementsByTagName("div")),q(document.getElementsByTagName("form"))}return function(){for(var M=[],B=j,S=!0,D=0,B=S?B:B[Symbol.iterator]();;){var I;if(S){if(D>=B.length)break;I=B[D++]}else{if(D=B.next(),D.done)break;I=D.value}var V=I;h.optionsForElement(V)!==!1?M.push(new h(V)):M.push(void 0)}return M}()},h.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],h.isBrowserSupported=function(){var j=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))j=!1;else for(var S=h.blacklistedBrowsers,q=!0,M=0,S=q?S:S[Symbol.iterator]();;){var D;if(q){if(M>=S.length)break;D=S[M++]}else{if(M=S.next(),M.done)break;D=M.value}var B=D;if(B.test(navigator.userAgent)){j=!1;continue}}else j=!1;return j},h.dataURItoBlob=function(j){for(var q=atob(j.split(",")[1]),M=j.split(",")[0].split(":")[1].split(";")[0],S=new ArrayBuffer(q.length),D=new Uint8Array(S),B=0,I=q.length,V=0<=I;V?B<=I:B>=I;V?B++:B--)D[B]=q.charCodeAt(B);return new Blob([S],{type:M})};var f=function(q,M){return q.filter(function(S){return S!==M}).map(function(S){return S})},v=function(q){return q.replace(/[\-_](\w)/g,function(M){return M.charAt(1).toUpperCase()})};h.createElement=function(j){var q=document.createElement("div");return q.innerHTML=j,q.childNodes[0]},h.elementInside=function(j,q){if(j===q)return!0;for(;j=j.parentNode;)if(j===q)return!0;return!1},h.getElement=function(j,q){var M=void 0;if(typeof j=="string"?M=document.querySelector(j):j.nodeType!=null&&(M=j),M==null)throw new Error("Invalid `"+q+"` option provided. Please provide a CSS selector or a plain HTML element.");return M},h.getElements=function(j,q){var M=void 0,S=void 0;if(j instanceof Array){S=[];try{for(var I=j,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){if(D){if(B>=I.length)break;M=I[B++]}else{if(B=I.next(),B.done)break;M=B.value}S.push(this.getElement(M,q))}}catch{S=null}}else if(typeof j=="string"){S=[];for(var ue=document.querySelectorAll(j),V=!0,ne=0,ue=V?ue:ue[Symbol.iterator]();;){if(V){if(ne>=ue.length)break;M=ue[ne++]}else{if(ne=ue.next(),ne.done)break;M=ne.value}S.push(M)}}else j.nodeType!=null&&(S=[j]);if(S==null||!S.length)throw new Error("Invalid `"+q+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return S},h.confirm=function(j,q,M){if(window.confirm(j))return q();if(M!=null)return M()},h.isValidFile=function(j,q){if(!q)return!0;q=q.split(",");for(var M=j.type,S=M.replace(/\/.*$/,""),I=q,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var ne=V;if(ne=ne.trim(),ne.charAt(0)==="."){if(j.name.toLowerCase().indexOf(ne.toLowerCase(),j.name.length-ne.length)!==-1)return!0}else if(/\/\*$/.test(ne)){if(S===ne.replace(/\/.*$/,""))return!0}else if(M===ne)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(j){return this.each(function(){return new h(this,j)})}),t!==null?t.exports=h:window.Dropzone=h,h.ADDED="added",h.QUEUED="queued",h.ACCEPTED=h.QUEUED,h.UPLOADING="uploading",h.PROCESSING=h.UPLOADING,h.CANCELED="canceled",h.ERROR="error",h.SUCCESS="success";var x=function(q){q.naturalWidth;var M=q.naturalHeight,S=document.createElement("canvas");S.width=1,S.height=M;var D=S.getContext("2d");D.drawImage(q,0,0);for(var B=D.getImageData(1,0,1,M),I=B.data,V=0,ne=M,ue=M;ue>V;){var de=I[(ue-1)*4+3];de===0?ne=ue:V=ue,ue=ne+V>>1}var ge=ue/M;return ge===0?1:ge},w=function(q,M,S,D,B,I,V,ne,ue,de){var ge=x(M);return q.drawImage(M,S,D,B,I,V,ne,ue,de/ge)},E=function(){function j(){u(this,j)}return e(j,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(M){for(var S="",D=void 0,B=void 0,I="",V=void 0,ne=void 0,ue=void 0,de="",ge=0;D=M[ge++],B=M[ge++],I=M[ge++],V=D>>2,ne=(D&3)<<4|B>>4,ue=(B&15)<<2|I>>6,de=I&63,isNaN(B)?ue=de=64:isNaN(I)&&(de=64),S=S+this.KEY_STR.charAt(V)+this.KEY_STR.charAt(ne)+this.KEY_STR.charAt(ue)+this.KEY_STR.charAt(de),D=B=I="",V=ne=ue=de="",ge<M.length;);return S}},{key:"restore",value:function(M,S){if(!M.match("data:image/jpeg;base64,"))return S;var D=this.decode64(M.replace("data:image/jpeg;base64,","")),B=this.slice2Segments(D),I=this.exifManipulation(S,B);return"data:image/jpeg;base64,"+this.encode64(I)}},{key:"exifManipulation",value:function(M,S){var D=this.getExifArray(S),B=this.insertExif(M,D),I=new Uint8Array(B);return I}},{key:"getExifArray",value:function(M){for(var S=void 0,D=0;D<M.length;){if(S=M[D],S[0]===255&S[1]===225)return S;D++}return[]}},{key:"insertExif",value:function(M,S){var D=M.replace("data:image/jpeg;base64,",""),B=this.decode64(D),I=B.indexOf(255,3),V=B.slice(0,I),ne=B.slice(I),ue=V;return ue=ue.concat(S),ue=ue.concat(ne),ue}},{key:"slice2Segments",value:function(M){for(var S=0,D=[];;){var B;if(M[S]===255&M[S+1]===218)break;if(M[S]===255&M[S+1]===216)S+=2;else{B=M[S+2]*256+M[S+3];var I=S+B+2,V=M.slice(S,I);D.push(V),S=I}if(S>M.length)break}return D}},{key:"decode64",value:function(M){var S=void 0,D=void 0,B="",I=void 0,V=void 0,ne=void 0,ue="",de=0,ge=[],he=/[^A-Za-z0-9\+\/\=]/g;for(he.exec(M)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");I=this.KEY_STR.indexOf(M.charAt(de++)),V=this.KEY_STR.indexOf(M.charAt(de++)),ne=this.KEY_STR.indexOf(M.charAt(de++)),ue=this.KEY_STR.indexOf(M.charAt(de++)),S=I<<2|V>>4,D=(V&15)<<4|ne>>2,B=(ne&3)<<6|ue,ge.push(S),ne!==64&&ge.push(D),ue!==64&&ge.push(B),S=D=B="",I=V=ne=ue="",de<M.length;);return ge}}]),j}();E.initClass();var O=function(q,M){var S=!1,D=!0,B=q.document,I=B.documentElement,V=B.addEventListener?"addEventListener":"attachEvent",ne=B.addEventListener?"removeEventListener":"detachEvent",ue=B.addEventListener?"":"on",de=function he(Le){if(!(Le.type==="readystatechange"&&B.readyState!=="complete")&&((Le.type==="load"?q:B)[ne](ue+Le.type,he,!1),!S&&(S=!0)))return M.call(q,Le.type||Le)},ge=function he(){try{I.doScroll("left")}catch{setTimeout(he,50);return}return de("poll")};if(B.readyState!=="complete"){if(B.createEventObject&&I.doScroll){try{D=!q.frameElement}catch{}D&&ge()}return B[V](ue+"DOMContentLoaded",de,!1),B[V](ue+"readystatechange",de,!1),q[V](ue+"load",de,!1)}};h._autoDiscoverFunction=function(){if(h.autoDiscover)return h.discover()},O(window,h._autoDiscoverFunction);function H(j,q){return typeof j<"u"&&j!==null?q(j):void 0}function F(j,q,M){if(typeof j<"u"&&j!==null&&typeof j[q]=="function")return M(j,q)}}(Zd)),Zd.exports}var ox=rx();const dl=mh(ox);async function hc(t){return new Promise(e=>setTimeout(e,t))}async function pl(t,e=400){return new Promise(n=>{t.style.opacity=0,t.style.display="block",t.style.transition=`opacity ${e}ms ease-in`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=1,await hc(e),n()})})}async function Ru(t,e=600){return new Promise(n=>{t.style.opacity=1,t.style.transition=`opacity ${e}ms ease-out`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=0,await hc(e),t.style.display="none",n()})})}class ax{constructor(e){this.attached=!1,this.options={onSuccess:s=>{},onError:s=>{},onAdded:s=>{},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},typeof e<"u"&&Object.assign(this.options,e),document.querySelector(this.options.selector)&&!this.attached&&this.init()}init(){const e=this;let s=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");s&&s>0&&(this.options.headers.folderId=parseInt(s),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(s)),dl.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(u,l){e.options.onAdded(u)}),this.on("success",async function(u,l){if(u.previewElement){let h=u.previewElement;await hc(3e3),await Ru(h,500),h.remove()}e.options.onSuccess(l),await window.Rozier.getMessages()}),this.on("canceled",function(u,l){e.options.onError(JSON.parse(l)),window.Rozier.getMessages()}),this.on("error",function(u,l,h){console.error(l)}),this.on("sending",function(u,l,h){l.ontimeout=()=>{e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},dl.autoDiscover=this.options.autoDiscover;try{new dl(this.options.selector,dl.options.uploadDropzoneDocument);let u=document.querySelector(this.options.selector);u.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`),u.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
            <div class="circles-icons">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
                <div class="circle circle-4"></div>
                <div class="circle circle-5"></div>
                <i class="uk-icon-rz-file"></i>
            </div>`),this.attached=!0}catch(u){console.error(u)}}unbind(){}}class sx{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,n,s){if(e.target instanceof HTMLInputElement)return;let u=$(s),l=parseInt(u.data("id")),h=u.prev(),f=null,v=null;h.length===0?(h=u.next(),f=parseInt(h.data("id"))):v=parseInt(h.data("id"));const x=window.RozierConfig.routes.attributeValueAjaxEdit;if(!(!x||!l))try{const w=await fetch(x.replace("%attributeValueId%",l),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:l,beforeAttributeValueId:f,afterAttributeValueId:v})});if(!w.ok)throw w;const E=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.responseText,status:E.status}}))}catch(w){const E=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.title||"",status:"danger"}}))}}}class ux{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,n,s){let u=$(s),l=parseInt(u.data("field-id")),h=u.prev(),f=null,v=null;h.length===0?(h=u.next(),v=parseInt(h.data("field-id"))):f=parseInt(h.data("field-id"));const x={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:l,beforeFieldId:v,afterFieldId:f},w=await fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",l),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(x)});if(w.ok){const E=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.responseText,status:E.status}}))}else{const E=await w.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.title,status:"danger"}}))}}}class lx{constructor(){this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}init(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.addEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.addEventListener("keyup",this.onMinKeyUp)})}unbind(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMinKeyUp)})}onMaxKeyUp(e){let n=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>s?n.classList.add("uk-form-danger"):n.classList.remove("uk-form-danger")}onMinKeyUp(e){let n=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=s?n.classList.add("uk-form-danger"):n.classList.remove("uk-form-danger")}}class cx{constructor(){this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation a"),this.cleanNodeTree()}unbind(){this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}cleanNodeTree(){document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(e=>{e.remove()}),this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick),e.addEventListener("click",this.onQuickAddClick)})}treeAvailable(){return!!(this.nodeTrees&&this.nodeTrees.length)}async quickAddNode(e,n,s){return new Promise(async(u,l)=>{const h=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:n,translationId:s})});h.ok?u(await h.json()):l(await h.json())})}async onQuickAddClick(e){e.preventDefault();let n=e.currentTarget,s=n.getAttribute("data-children-node-type"),u=parseInt(n.getAttribute("data-children-parent-node")),l=parseInt(n.getAttribute("data-translation-id"));if(s!==""&&u>0)try{await this.quickAddNode(s,u,l),window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();let h=n.closest(".children-nodes-widget").querySelector(".nodetree-widget");await this.refreshNodeTree(h)}catch(h){h=JSON.parse(h.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}}))}}async fetchNodeTree(e,n,s=void 0){return new Promise(async(u,l)=>{const h=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:e,translationId:s||null});n.forEach((x,w)=>{h.append("linkedTypes["+w+"]",x)});const f=window.RozierConfig.routes.nodesTreeAjax+"?"+h.toString(),v=await fetch(f,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});v.ok?u(await v.json()):l(await v.json())})}async refreshNodeTree(e){if(!e){console.log("No node-tree available.");return}let n=[];const s=e.querySelector(".root-tree");if(!s)return;const u=parseInt(s.getAttribute("data-parent-node-id")),l=s.getAttribute("data-linked-types");let h=s.getAttribute("data-translation-id");l&&(n=JSON.parse(l)),window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const f=await this.fetchNodeTree(u,n,h||null);if(e&&typeof f.nodeTree<"u"){await Ru(e);let v=e.closest(".children-nodes-widget");e.innerHTML=f.nodeTree,e=v.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await pl(e),this.cleanNodeTree(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}catch(f){f=JSON.parse(f.responseText),window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}}}class hx{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation a"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(n=>{n.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,n,s=null){try{const u=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:n,translationId:this.getTranslationId(),tagId:s,pushTop:1})});if(!u.ok)throw await u.json();return await u.json()}catch(u){throw u}}async onQuickAddClick(e){e.preventDefault();const n=e.currentTarget,s=n.getAttribute("data-children-node-type"),u=parseInt(n.getAttribute("data-children-parent-node"));let l=null;if(!s||u<=0)return!1;n.hasAttribute("data-filter-tag")&&(l=parseInt(n.getAttribute("data-filter-tag")));try{await this.quickAddNode(s,u,l),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(u,l,1)]),await window.Rozier.getMessages()}catch(h){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}}))}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,n=void 0,s=void 0){try{const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:n||this.getCurrentPage(),tagId:s,translationId:this.getTranslationId()}),l=`${window.RozierConfig.routes.nodesTreeAjax}?${u.toString()}`,h=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!h.ok)throw await h.json();return await h.json()}catch(u){throw u}}async refreshNodeTree(e,n,s){const u=this.page.querySelector(".nodetree-widget");if(!u)return;const l=u.querySelector(".root-tree");if(typeof e>"u"){const f=l.getAttribute("data-parent-node-id");e=f?parseInt(f):null}else e=parseInt(e);window.dispatchEvent(new CustomEvent("requestLoaderShow"));const h=await this.fetchNodeTree(e,s?parseInt(s):void 0,n?parseInt(n):void 0);if(h.nodeTree){await Ru(u);const f=document.createElement("div");f.innerHTML=h.nodeTree;const v=f.querySelector(".nodetree-widget");u.replaceWith(v),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await pl(v),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const x=this.page.querySelector(".nodetree-langs");x&&x.remove(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}}class fx{constructor(){this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){var l,h;e.preventDefault();let n=(h=(l=e.currentTarget)==null?void 0:l.closest(".setting-row"))==null?void 0:h.querySelector(".uk-form");if(!n)return console.error("No form found for settings save button"),!1;if(n.querySelectorAll("input[type=file]").length)return n.requestSubmit(),!1;n.classList.contains("uk-has-errors")&&(n.querySelector(".uk-alert").remove(),n.classList.remove("uk-has-errors")),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const s=new window.FormData(n),u=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:s});if(!u.ok){const f=await u.json();if(f.errors&&f.errors.value)for(let v in f.errors.value)n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+f.errors.value[v]+"</span>");else if(f.errors)for(let v in f.errors){n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+f.errors[v]+"</span>");break}}return await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}resize(){}}class dx{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(n=>{const s=n.querySelectorAll(".node-statuses-item"),u=n.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(n,s,u)})}init(e,n,s){n.forEach(u=>{u.removeEventListener("click",this.itemClick),u.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),s.forEach(u=>{u.removeEventListener("change",this.onChange),u.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(u=>{u.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const n=e.currentTarget,s=n.querySelector("ul, nav"),u=n.offsetHeight,l=s?s.offsetHeight:0,h=n.getBoundingClientRect().top+window.scrollY,f=window.innerHeight,v=h+l+u;f<v&&n.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const n=e.currentTarget.querySelector('input[type="radio"]');n&&(n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const n=e.currentTarget;if(!n)return!1;const s=n.getAttribute("name");let u=null;n instanceof HTMLInputElement&&n.type==="checkbox"?u=Number(n.checked):n instanceof HTMLInputElement&&n.type==="radio"&&(this.icon&&(this.icon.className=n.parentElement.querySelector("i").className),u=n.value),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const l=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(n.getAttribute("data-node-id")),statusName:s,statusValue:u})});if(l.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestAllNodeTreeRefresh"));else{const h=await l.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.error_message,status:"danger"}}))}this.locked=!1,window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}class px{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s=[];for(let l=1;l<19;l++)s.push({column:this.tabSize*l,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let u={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:s,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(u.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,u),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}const xg={};function mx(t){let e=xg[t];if(e)return e;e=xg[t]=[];for(let n=0;n<128;n++){const s=String.fromCharCode(n);e.push(s)}for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}function rc(t,e){typeof e!="string"&&(e=rc.defaultChars);const n=mx(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(s){let u="";for(let l=0,h=s.length;l<h;l+=3){const f=parseInt(s.slice(l+1,l+3),16);if(f<128){u+=n[f];continue}if((f&224)===192&&l+3<h){const v=parseInt(s.slice(l+4,l+6),16);if((v&192)===128){const x=f<<6&1984|v&63;x<128?u+="":u+=String.fromCharCode(x),l+=3;continue}}if((f&240)===224&&l+6<h){const v=parseInt(s.slice(l+4,l+6),16),x=parseInt(s.slice(l+7,l+9),16);if((v&192)===128&&(x&192)===128){const w=f<<12&61440|v<<6&4032|x&63;w<2048||w>=55296&&w<=57343?u+="":u+=String.fromCharCode(w),l+=6;continue}}if((f&248)===240&&l+9<h){const v=parseInt(s.slice(l+4,l+6),16),x=parseInt(s.slice(l+7,l+9),16),w=parseInt(s.slice(l+10,l+12),16);if((v&192)===128&&(x&192)===128&&(w&192)===128){let E=f<<18&1835008|v<<12&258048|x<<6&4032|w&63;E<65536||E>1114111?u+="":(E-=65536,u+=String.fromCharCode(55296+(E>>10),56320+(E&1023))),l+=9;continue}}u+=""}return u})}rc.defaultChars=";/?:@&=+$,#";rc.componentChars="";const kg={};function gx(t){let e=kg[t];if(e)return e;e=kg[t]=[];for(let n=0;n<128;n++){const s=String.fromCharCode(n);/^[0-9a-z]$/i.test(s)?e.push(s):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function gh(t,e,n){typeof e!="string"&&(n=e,e=gh.defaultChars),typeof n>"u"&&(n=!0);const s=gx(e);let u="";for(let l=0,h=t.length;l<h;l++){const f=t.charCodeAt(l);if(n&&f===37&&l+2<h&&/^[0-9a-f]{2}$/i.test(t.slice(l+1,l+3))){u+=t.slice(l,l+3),l+=2;continue}if(f<128){u+=s[f];continue}if(f>=55296&&f<=57343){if(f>=55296&&f<=56319&&l+1<h){const v=t.charCodeAt(l+1);if(v>=56320&&v<=57343){u+=encodeURIComponent(t[l]+t[l+1]),l++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(t[l])}return u}gh.defaultChars=";/?:@&=+$,-_.!~*'()#";gh.componentChars="-_.!~*'()";function Ip(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function jf(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const vx=/^([a-z0-9.+-]+:)/i,bx=/:[0-9]*$/,_x=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,yx=["<",">",'"',"`"," ","\r",`
`,"	"],wx=["{","}","|","\\","^","`"].concat(yx),xx=["'"].concat(wx),Cg=["%","/","?",";","#"].concat(xx),Eg=["/","?","#"],kx=255,Sg=/^[+a-z0-9A-Z_-]{0,63}$/,Cx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tg={javascript:!0,"javascript:":!0},Ag={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function zp(t,e){if(t&&t instanceof jf)return t;const n=new jf;return n.parse(t,e),n}jf.prototype.parse=function(t,e){let n,s,u,l=t;if(l=l.trim(),!e&&t.split("#").length===1){const x=_x.exec(l);if(x)return this.pathname=x[1],x[2]&&(this.search=x[2]),this}let h=vx.exec(l);if(h&&(h=h[0],n=h.toLowerCase(),this.protocol=h,l=l.substr(h.length)),(e||h||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=l.substr(0,2)==="//",u&&!(h&&Tg[h])&&(l=l.substr(2),this.slashes=!0)),!Tg[h]&&(u||h&&!Ag[h])){let x=-1;for(let F=0;F<Eg.length;F++)s=l.indexOf(Eg[F]),s!==-1&&(x===-1||s<x)&&(x=s);let w,E;x===-1?E=l.lastIndexOf("@"):E=l.lastIndexOf("@",x),E!==-1&&(w=l.slice(0,E),l=l.slice(E+1),this.auth=w),x=-1;for(let F=0;F<Cg.length;F++)s=l.indexOf(Cg[F]),s!==-1&&(x===-1||s<x)&&(x=s);x===-1&&(x=l.length),l[x-1]===":"&&x--;const O=l.slice(0,x);l=l.slice(x),this.parseHost(O),this.hostname=this.hostname||"";const H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H){const F=this.hostname.split(/\./);for(let j=0,q=F.length;j<q;j++){const M=F[j];if(M&&!M.match(Sg)){let S="";for(let D=0,B=M.length;D<B;D++)M.charCodeAt(D)>127?S+="x":S+=M[D];if(!S.match(Sg)){const D=F.slice(0,j),B=F.slice(j+1),I=M.match(Cx);I&&(D.push(I[1]),B.unshift(I[2])),B.length&&(l=B.join(".")+l),this.hostname=D.join(".");break}}}}this.hostname.length>kx&&(this.hostname=""),H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const f=l.indexOf("#");f!==-1&&(this.hash=l.substr(f),l=l.slice(0,f));const v=l.indexOf("?");return v!==-1&&(this.search=l.substr(v),l=l.slice(0,v)),l&&(this.pathname=l),Ag[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};jf.prototype.parseHost=function(t){let e=bx.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Ex=Object.freeze(Object.defineProperty({__proto__:null,decode:rc,encode:gh,format:Ip,parse:zp},Symbol.toStringTag,{value:"Module"})),H0=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$0=/[\0-\x1F\x7F-\x9F]/,Sx=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Bp=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,W0=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,q0=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Tx=Object.freeze(Object.defineProperty({__proto__:null,Any:H0,Cc:$0,Cf:Sx,P:Bp,S:W0,Z:q0},Symbol.toStringTag,{value:"Module"})),Ax=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Lx=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Vd;const Dx=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Mx=(Vd=String.fromCodePoint)!==null&&Vd!==void 0?Vd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function Px(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Dx.get(t))!==null&&e!==void 0?e:t}var Rr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Rr||(Rr={}));const Ox=32;var Mu;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Mu||(Mu={}));function bp(t){return t>=Rr.ZERO&&t<=Rr.NINE}function Rx(t){return t>=Rr.UPPER_A&&t<=Rr.UPPER_F||t>=Rr.LOWER_A&&t<=Rr.LOWER_F}function Fx(t){return t>=Rr.UPPER_A&&t<=Rr.UPPER_Z||t>=Rr.LOWER_A&&t<=Rr.LOWER_Z||bp(t)}function Nx(t){return t===Rr.EQUALS||Fx(t)}var Or;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Or||(Or={}));var Lu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Lu||(Lu={}));class Ix{constructor(e,n,s){this.decodeTree=e,this.emitCodePoint=n,this.errors=s,this.state=Or.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Lu.Strict}startEntity(e){this.decodeMode=e,this.state=Or.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Or.EntityStart:return e.charCodeAt(n)===Rr.NUM?(this.state=Or.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Or.NamedEntity,this.stateNamedEntity(e,n));case Or.NumericStart:return this.stateNumericStart(e,n);case Or.NumericDecimal:return this.stateNumericDecimal(e,n);case Or.NumericHex:return this.stateNumericHex(e,n);case Or.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Ox)===Rr.LOWER_X?(this.state=Or.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Or.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,s,u){if(n!==s){const l=s-n;this.result=this.result*Math.pow(u,l)+parseInt(e.substr(n,l),u),this.consumed+=l}}stateNumericHex(e,n){const s=n;for(;n<e.length;){const u=e.charCodeAt(n);if(bp(u)||Rx(u))n+=1;else return this.addToNumericResult(e,s,n,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(e,s,n,16),-1}stateNumericDecimal(e,n){const s=n;for(;n<e.length;){const u=e.charCodeAt(n);if(bp(u))n+=1;else return this.addToNumericResult(e,s,n,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(e,s,n,10),-1}emitNumericEntity(e,n){var s;if(this.consumed<=n)return(s=this.errors)===null||s===void 0||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Rr.SEMI)this.consumed+=1;else if(this.decodeMode===Lu.Strict)return 0;return this.emitCodePoint(Px(this.result),this.consumed),this.errors&&(e!==Rr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:s}=this;let u=s[this.treeIndex],l=(u&Mu.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const h=e.charCodeAt(n);if(this.treeIndex=zx(s,u,this.treeIndex+Math.max(1,l),h),this.treeIndex<0)return this.result===0||this.decodeMode===Lu.Attribute&&(l===0||Nx(h))?0:this.emitNotTerminatedNamedEntity();if(u=s[this.treeIndex],l=(u&Mu.VALUE_LENGTH)>>14,l!==0){if(h===Rr.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Lu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:s}=this,u=(s[n]&Mu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,u,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,s){const{decodeTree:u}=this;return this.emitCodePoint(n===1?u[e]&~Mu.VALUE_LENGTH:u[e+1],s),n===3&&this.emitCodePoint(u[e+2],s),s}end(){var e;switch(this.state){case Or.NamedEntity:return this.result!==0&&(this.decodeMode!==Lu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Or.NumericDecimal:return this.emitNumericEntity(0,2);case Or.NumericHex:return this.emitNumericEntity(0,3);case Or.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Or.EntityStart:return 0}}}function j0(t){let e="";const n=new Ix(t,s=>e+=Mx(s));return function(u,l){let h=0,f=0;for(;(f=u.indexOf("&",f))>=0;){e+=u.slice(h,f),n.startEntity(l);const x=n.write(u,f+1);if(x<0){h=f+n.end();break}h=f+x,f=x===0?h+1:h}const v=e+u.slice(h);return e="",v}}function zx(t,e,n,s){const u=(e&Mu.BRANCH_LENGTH)>>7,l=e&Mu.JUMP_TABLE;if(u===0)return l!==0&&s===l?n:-1;if(l){const v=s-l;return v<0||v>=u?-1:t[n+v]-1}let h=n,f=h+u-1;for(;h<=f;){const v=h+f>>>1,x=t[v];if(x<s)h=v+1;else if(x>s)f=v-1;else return t[v+u]}return-1}const Bx=j0(Ax);j0(Lx);function U0(t,e=Lu.Legacy){return Bx(t,e)}function Hx(t){return Object.prototype.toString.call(t)}function Hp(t){return Hx(t)==="[object String]"}const $x=Object.prototype.hasOwnProperty;function Wx(t,e){return $x.call(t,e)}function nd(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(s){t[s]=n[s]})}}),t}function Y0(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function $p(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Uf(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const G0=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,qx=/&([a-z#][a-z0-9]{1,31});/gi,jx=new RegExp(G0.source+"|"+qx.source,"gi"),Ux=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Yx(t,e){if(e.charCodeAt(0)===35&&Ux.test(e)){const s=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return $p(s)?Uf(s):t}const n=U0(t);return n!==t?n:t}function Gx(t){return t.indexOf("\\")<0?t:t.replace(G0,"$1")}function oc(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(jx,function(e,n,s){return n||Yx(e,s)})}const Xx=/[&<>"]/,Zx=/[&<>"]/g,Vx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Kx(t){return Vx[t]}function Fu(t){return Xx.test(t)?t.replace(Zx,Kx):t}const Qx=/[.?*+^$[\]\\(){}|-]/g;function Jx(t){return t.replace(Qx,"\\$&")}function hn(t){switch(t){case 9:case 32:return!0}return!1}function hh(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function fh(t){return Bp.test(t)||W0.test(t)}function dh(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function rd(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const ek={mdurl:Ex,ucmicro:Tx},tk=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Y0,assign:nd,escapeHtml:Fu,escapeRE:Jx,fromCodePoint:Uf,has:Wx,isMdAsciiPunct:dh,isPunctChar:fh,isSpace:hn,isString:Hp,isValidEntityCode:$p,isWhiteSpace:hh,lib:ek,normalizeReference:rd,unescapeAll:oc,unescapeMd:Gx},Symbol.toStringTag,{value:"Module"}));function ik(t,e,n){let s,u,l,h;const f=t.posMax,v=t.pos;for(t.pos=e+1,s=1;t.pos<f;){if(l=t.src.charCodeAt(t.pos),l===93&&(s--,s===0)){u=!0;break}if(h=t.pos,t.md.inline.skipToken(t),l===91){if(h===t.pos-1)s++;else if(n)return t.pos=v,-1}}let x=-1;return u&&(x=t.pos),t.pos=v,x}function nk(t,e,n){let s,u=e;const l={ok:!1,pos:0,str:""};if(t.charCodeAt(u)===60){for(u++;u<n;){if(s=t.charCodeAt(u),s===10||s===60)return l;if(s===62)return l.pos=u+1,l.str=oc(t.slice(e+1,u)),l.ok=!0,l;if(s===92&&u+1<n){u+=2;continue}u++}return l}let h=0;for(;u<n&&(s=t.charCodeAt(u),!(s===32||s<32||s===127));){if(s===92&&u+1<n){if(t.charCodeAt(u+1)===32)break;u+=2;continue}if(s===40&&(h++,h>32))return l;if(s===41){if(h===0)break;h--}u++}return e===u||h!==0||(l.str=oc(t.slice(e,u)),l.pos=u,l.ok=!0),l}function rk(t,e,n,s){let u,l=e;const h={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)h.str=s.str,h.marker=s.marker;else{if(l>=n)return h;let f=t.charCodeAt(l);if(f!==34&&f!==39&&f!==40)return h;e++,l++,f===40&&(f=41),h.marker=f}for(;l<n;){if(u=t.charCodeAt(l),u===h.marker)return h.pos=l+1,h.str+=oc(t.slice(e,l)),h.ok=!0,h;if(u===40&&h.marker===41)return h;u===92&&l+1<n&&l++,l++}return h.can_continue=!0,h.str+=oc(t.slice(e,l)),h}const ok=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:nk,parseLinkLabel:ik,parseLinkTitle:rk},Symbol.toStringTag,{value:"Module"})),ps={};ps.code_inline=function(t,e,n,s,u){const l=t[e];return"<code"+u.renderAttrs(l)+">"+Fu(l.content)+"</code>"};ps.code_block=function(t,e,n,s,u){const l=t[e];return"<pre"+u.renderAttrs(l)+"><code>"+Fu(t[e].content)+`</code></pre>
`};ps.fence=function(t,e,n,s,u){const l=t[e],h=l.info?oc(l.info).trim():"";let f="",v="";if(h){const w=h.split(/(\s+)/g);f=w[0],v=w.slice(2).join("")}let x;if(n.highlight?x=n.highlight(l.content,f,v)||Fu(l.content):x=Fu(l.content),x.indexOf("<pre")===0)return x+`
`;if(h){const w=l.attrIndex("class"),E=l.attrs?l.attrs.slice():[];w<0?E.push(["class",n.langPrefix+f]):(E[w]=E[w].slice(),E[w][1]+=" "+n.langPrefix+f);const O={attrs:E};return`<pre><code${u.renderAttrs(O)}>${x}</code></pre>
`}return`<pre><code${u.renderAttrs(l)}>${x}</code></pre>
`};ps.image=function(t,e,n,s,u){const l=t[e];return l.attrs[l.attrIndex("alt")][1]=u.renderInlineAsText(l.children,n,s),u.renderToken(t,e,n)};ps.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};ps.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};ps.text=function(t,e){return Fu(t[e].content)};ps.html_block=function(t,e){return t[e].content};ps.html_inline=function(t,e){return t[e].content};function fc(){this.rules=nd({},ps)}fc.prototype.renderAttrs=function(e){let n,s,u;if(!e.attrs)return"";for(u="",n=0,s=e.attrs.length;n<s;n++)u+=" "+Fu(e.attrs[n][0])+'="'+Fu(e.attrs[n][1])+'"';return u};fc.prototype.renderToken=function(e,n,s){const u=e[n];let l="";if(u.hidden)return"";u.block&&u.nesting!==-1&&n&&e[n-1].hidden&&(l+=`
`),l+=(u.nesting===-1?"</":"<")+u.tag,l+=this.renderAttrs(u),u.nesting===0&&s.xhtmlOut&&(l+=" /");let h=!1;if(u.block&&(h=!0,u.nesting===1&&n+1<e.length)){const f=e[n+1];(f.type==="inline"||f.hidden||f.nesting===-1&&f.tag===u.tag)&&(h=!1)}return l+=h?`>
`:">",l};fc.prototype.renderInline=function(t,e,n){let s="";const u=this.rules;for(let l=0,h=t.length;l<h;l++){const f=t[l].type;typeof u[f]<"u"?s+=u[f](t,l,e,n,this):s+=this.renderToken(t,l,e)}return s};fc.prototype.renderInlineAsText=function(t,e,n){let s="";for(let u=0,l=t.length;u<l;u++)switch(t[u].type){case"text":s+=t[u].content;break;case"image":s+=this.renderInlineAsText(t[u].children,e,n);break;case"html_inline":case"html_block":s+=t[u].content;break;case"softbreak":case"hardbreak":s+=`
`;break}return s};fc.prototype.render=function(t,e,n){let s="";const u=this.rules;for(let l=0,h=t.length;l<h;l++){const f=t[l].type;f==="inline"?s+=this.renderInline(t[l].children,e,n):typeof u[f]<"u"?s+=u[f](t,l,e,n,this):s+=this.renderToken(t,l,e,n)}return s};function So(){this.__rules__=[],this.__cache__=null}So.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};So.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(s){e.indexOf(s)<0&&e.push(s)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(s){s.enabled&&(n&&s.alt.indexOf(n)<0||t.__cache__[n].push(s.fn))})})};So.prototype.at=function(t,e,n){const s=this.__find__(t),u=n||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=u.alt||[],this.__cache__=null};So.prototype.before=function(t,e,n,s){const u=this.__find__(t),l=s||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u,0,{name:e,enabled:!0,fn:n,alt:l.alt||[]}),this.__cache__=null};So.prototype.after=function(t,e,n,s){const u=this.__find__(t),l=s||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u+1,0,{name:e,enabled:!0,fn:n,alt:l.alt||[]}),this.__cache__=null};So.prototype.push=function(t,e,n){const s=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null};So.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(s){const u=this.__find__(s);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[u].enabled=!0,n.push(s)},this),this.__cache__=null,n};So.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};So.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(s){const u=this.__find__(s);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[u].enabled=!1,n.push(s)},this),this.__cache__=null,n};So.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function za(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}za.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let s=0,u=n.length;s<u;s++)if(n[s][0]===e)return s;return-1};za.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};za.prototype.attrSet=function(e,n){const s=this.attrIndex(e),u=[e,n];s<0?this.attrPush(u):this.attrs[s]=u};za.prototype.attrGet=function(e){const n=this.attrIndex(e);let s=null;return n>=0&&(s=this.attrs[n][1]),s};za.prototype.attrJoin=function(e,n){const s=this.attrIndex(e);s<0?this.attrPush([e,n]):this.attrs[s][1]=this.attrs[s][1]+" "+n};function X0(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}X0.prototype.Token=za;const ak=/\r\n?|\n/g,sk=/\0/g;function uk(t){let e;e=t.src.replace(ak,`
`),e=e.replace(sk,""),t.src=e}function lk(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function ck(t){const e=t.tokens;for(let n=0,s=e.length;n<s;n++){const u=e[n];u.type==="inline"&&t.md.inline.parse(u.content,t.md,t.env,u.children)}}function hk(t){return/^<a[>\s]/i.test(t)}function fk(t){return/^<\/a\s*>/i.test(t)}function dk(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,s=e.length;n<s;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let u=e[n].children,l=0;for(let h=u.length-1;h>=0;h--){const f=u[h];if(f.type==="link_close"){for(h--;u[h].level!==f.level&&u[h].type!=="link_open";)h--;continue}if(f.type==="html_inline"&&(hk(f.content)&&l>0&&l--,fk(f.content)&&l++),!(l>0)&&f.type==="text"&&t.md.linkify.test(f.content)){const v=f.content;let x=t.md.linkify.match(v);const w=[];let E=f.level,O=0;x.length>0&&x[0].index===0&&h>0&&u[h-1].type==="text_special"&&(x=x.slice(1));for(let H=0;H<x.length;H++){const F=x[H].url,j=t.md.normalizeLink(F);if(!t.md.validateLink(j))continue;let q=x[H].text;x[H].schema?x[H].schema==="mailto:"&&!/^mailto:/i.test(q)?q=t.md.normalizeLinkText("mailto:"+q).replace(/^mailto:/,""):q=t.md.normalizeLinkText(q):q=t.md.normalizeLinkText("http://"+q).replace(/^http:\/\//,"");const M=x[H].index;if(M>O){const I=new t.Token("text","",0);I.content=v.slice(O,M),I.level=E,w.push(I)}const S=new t.Token("link_open","a",1);S.attrs=[["href",j]],S.level=E++,S.markup="linkify",S.info="auto",w.push(S);const D=new t.Token("text","",0);D.content=q,D.level=E,w.push(D);const B=new t.Token("link_close","a",-1);B.level=--E,B.markup="linkify",B.info="auto",w.push(B),O=x[H].lastIndex}if(O<v.length){const H=new t.Token("text","",0);H.content=v.slice(O),H.level=E,w.push(H)}e[n].children=u=Y0(u,h,w)}}}}const Z0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,pk=/\((c|tm|r)\)/i,mk=/\((c|tm|r)\)/ig,gk={c:"",r:"",tm:""};function vk(t,e){return gk[e.toLowerCase()]}function bk(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];s.type==="text"&&!e&&(s.content=s.content.replace(mk,vk)),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function _k(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];s.type==="text"&&!e&&Z0.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function yk(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(pk.test(t.tokens[e].content)&&bk(t.tokens[e].children),Z0.test(t.tokens[e].content)&&_k(t.tokens[e].children))}const wk=/['"]/,Lg=/['"]/g,Dg="";function gf(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function xk(t,e){let n;const s=[];for(let u=0;u<t.length;u++){const l=t[u],h=t[u].level;for(n=s.length-1;n>=0&&!(s[n].level<=h);n--);if(s.length=n+1,l.type!=="text")continue;let f=l.content,v=0,x=f.length;e:for(;v<x;){Lg.lastIndex=v;const w=Lg.exec(f);if(!w)break;let E=!0,O=!0;v=w.index+1;const H=w[0]==="'";let F=32;if(w.index-1>=0)F=f.charCodeAt(w.index-1);else for(n=u-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){F=t[n].content.charCodeAt(t[n].content.length-1);break}let j=32;if(v<x)j=f.charCodeAt(v);else for(n=u+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){j=t[n].content.charCodeAt(0);break}const q=dh(F)||fh(String.fromCharCode(F)),M=dh(j)||fh(String.fromCharCode(j)),S=hh(F),D=hh(j);if(D?E=!1:M&&(S||q||(E=!1)),S?O=!1:q&&(D||M||(O=!1)),j===34&&w[0]==='"'&&F>=48&&F<=57&&(O=E=!1),E&&O&&(E=q,O=M),!E&&!O){H&&(l.content=gf(l.content,w.index,Dg));continue}if(O)for(n=s.length-1;n>=0;n--){let B=s[n];if(s[n].level<h)break;if(B.single===H&&s[n].level===h){B=s[n];let I,V;H?(I=e.md.options.quotes[2],V=e.md.options.quotes[3]):(I=e.md.options.quotes[0],V=e.md.options.quotes[1]),l.content=gf(l.content,w.index,V),t[B.token].content=gf(t[B.token].content,B.pos,I),v+=V.length-1,B.token===u&&(v+=I.length-1),f=l.content,x=f.length,s.length=n;continue e}}E?s.push({token:u,pos:w.index,single:H,level:h}):O&&H&&(l.content=gf(l.content,w.index,Dg))}}}function kk(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!wk.test(t.tokens[e].content)||xk(t.tokens[e].children,t)}function Ck(t){let e,n;const s=t.tokens,u=s.length;for(let l=0;l<u;l++){if(s[l].type!=="inline")continue;const h=s[l].children,f=h.length;for(e=0;e<f;e++)h[e].type==="text_special"&&(h[e].type="text");for(e=n=0;e<f;e++)h[e].type==="text"&&e+1<f&&h[e+1].type==="text"?h[e+1].content=h[e].content+h[e+1].content:(e!==n&&(h[n]=h[e]),n++);e!==n&&(h.length=n)}}const Kd=[["normalize",uk],["block",lk],["inline",ck],["linkify",dk],["replacements",yk],["smartquotes",kk],["text_join",Ck]];function Wp(){this.ruler=new So;for(let t=0;t<Kd.length;t++)this.ruler.push(Kd[t][0],Kd[t][1])}Wp.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,s=e.length;n<s;n++)e[n](t)};Wp.prototype.State=X0;function ms(t,e,n,s){this.src=t,this.md=e,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let l=0,h=0,f=0,v=0,x=u.length,w=!1;h<x;h++){const E=u.charCodeAt(h);if(!w)if(hn(E)){f++,E===9?v+=4-v%4:v++;continue}else w=!0;(E===10||h===x-1)&&(E!==10&&h++,this.bMarks.push(l),this.eMarks.push(h),this.tShift.push(f),this.sCount.push(v),this.bsCount.push(0),w=!1,f=0,v=0,l=h+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ms.prototype.push=function(t,e,n){const s=new za(t,e,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s};ms.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};ms.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};ms.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const s=this.src.charCodeAt(e);if(!hn(s))break}return e};ms.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!hn(this.src.charCodeAt(--e)))return e+1;return e};ms.prototype.skipChars=function(e,n){for(let s=this.src.length;e<s&&this.src.charCodeAt(e)===n;e++);return e};ms.prototype.skipCharsBack=function(e,n,s){if(e<=s)return e;for(;e>s;)if(n!==this.src.charCodeAt(--e))return e+1;return e};ms.prototype.getLines=function(e,n,s,u){if(e>=n)return"";const l=new Array(n-e);for(let h=0,f=e;f<n;f++,h++){let v=0;const x=this.bMarks[f];let w=x,E;for(f+1<n||u?E=this.eMarks[f]+1:E=this.eMarks[f];w<E&&v<s;){const O=this.src.charCodeAt(w);if(hn(O))O===9?v+=4-(v+this.bsCount[f])%4:v++;else if(w-x<this.tShift[f])v++;else break;w++}v>s?l[h]=new Array(v-s+1).join(" ")+this.src.slice(w,E):l[h]=this.src.slice(w,E)}return l.join("")};ms.prototype.Token=za;const Ek=65536;function Qd(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(n,s)}function Mg(t){const e=[],n=t.length;let s=0,u=t.charCodeAt(s),l=!1,h=0,f="";for(;s<n;)u===124&&(l?(f+=t.substring(h,s-1),h=s):(e.push(f+t.substring(h,s)),f="",h=s+1)),l=u===92,s++,u=t.charCodeAt(s);return e.push(f+t.substring(h)),e}function Sk(t,e,n,s){if(e+2>n)return!1;let u=e+1;if(t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)return!1;let l=t.bMarks[u]+t.tShift[u];if(l>=t.eMarks[u])return!1;const h=t.src.charCodeAt(l++);if(h!==124&&h!==45&&h!==58||l>=t.eMarks[u])return!1;const f=t.src.charCodeAt(l++);if(f!==124&&f!==45&&f!==58&&!hn(f)||h===45&&hn(f))return!1;for(;l<t.eMarks[u];){const B=t.src.charCodeAt(l);if(B!==124&&B!==45&&B!==58&&!hn(B))return!1;l++}let v=Qd(t,e+1),x=v.split("|");const w=[];for(let B=0;B<x.length;B++){const I=x[B].trim();if(!I){if(B===0||B===x.length-1)continue;return!1}if(!/^:?-+:?$/.test(I))return!1;I.charCodeAt(I.length-1)===58?w.push(I.charCodeAt(0)===58?"center":"right"):I.charCodeAt(0)===58?w.push("left"):w.push("")}if(v=Qd(t,e).trim(),v.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;x=Mg(v),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop();const E=x.length;if(E===0||E!==w.length)return!1;if(s)return!0;const O=t.parentType;t.parentType="table";const H=t.md.block.ruler.getRules("blockquote"),F=t.push("table_open","table",1),j=[e,0];F.map=j;const q=t.push("thead_open","thead",1);q.map=[e,e+1];const M=t.push("tr_open","tr",1);M.map=[e,e+1];for(let B=0;B<x.length;B++){const I=t.push("th_open","th",1);w[B]&&(I.attrs=[["style","text-align:"+w[B]]]);const V=t.push("inline","",0);V.content=x[B].trim(),V.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,D=0;for(u=e+2;u<n&&!(t.sCount[u]<t.blkIndent);u++){let B=!1;for(let V=0,ne=H.length;V<ne;V++)if(H[V](t,u,n,!0)){B=!0;break}if(B||(v=Qd(t,u).trim(),!v)||t.sCount[u]-t.blkIndent>=4||(x=Mg(v),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),D+=E-x.length,D>Ek))break;if(u===e+2){const V=t.push("tbody_open","tbody",1);V.map=S=[e+2,0]}const I=t.push("tr_open","tr",1);I.map=[u,u+1];for(let V=0;V<E;V++){const ne=t.push("td_open","td",1);w[V]&&(ne.attrs=[["style","text-align:"+w[V]]]);const ue=t.push("inline","",0);ue.content=x[V]?x[V].trim():"",ue.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=u),t.push("table_close","table",-1),j[1]=u,t.parentType=O,t.line=u,!0}function Tk(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,u=s;for(;s<n;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}t.line=u;const l=t.push("code_block","code",0);return l.content=t.getLines(e,u,4+t.blkIndent,!1)+`
`,l.map=[e,t.line],!0}function Ak(t,e,n,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||u+3>l)return!1;const h=t.src.charCodeAt(u);if(h!==126&&h!==96)return!1;let f=u;u=t.skipChars(u,h);let v=u-f;if(v<3)return!1;const x=t.src.slice(f,u),w=t.src.slice(u,l);if(h===96&&w.indexOf(String.fromCharCode(h))>=0)return!1;if(s)return!0;let E=e,O=!1;for(;E++,!(E>=n||(u=f=t.bMarks[E]+t.tShift[E],l=t.eMarks[E],u<l&&t.sCount[E]<t.blkIndent));)if(t.src.charCodeAt(u)===h&&!(t.sCount[E]-t.blkIndent>=4)&&(u=t.skipChars(u,h),!(u-f<v)&&(u=t.skipSpaces(u),!(u<l)))){O=!0;break}v=t.sCount[e],t.line=E+(O?1:0);const H=t.push("fence","code",0);return H.info=w,H.content=t.getLines(e+1,E,v,!0),H.markup=x,H.map=[e,t.line],!0}function Lk(t,e,n,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];const h=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==62)return!1;if(s)return!0;const f=[],v=[],x=[],w=[],E=t.md.block.ruler.getRules("blockquote"),O=t.parentType;t.parentType="blockquote";let H=!1,F;for(F=e;F<n;F++){const D=t.sCount[F]<t.blkIndent;if(u=t.bMarks[F]+t.tShift[F],l=t.eMarks[F],u>=l)break;if(t.src.charCodeAt(u++)===62&&!D){let I=t.sCount[F]+1,V,ne;t.src.charCodeAt(u)===32?(u++,I++,ne=!1,V=!0):t.src.charCodeAt(u)===9?(V=!0,(t.bsCount[F]+I)%4===3?(u++,I++,ne=!1):ne=!0):V=!1;let ue=I;for(f.push(t.bMarks[F]),t.bMarks[F]=u;u<l;){const de=t.src.charCodeAt(u);if(hn(de))de===9?ue+=4-(ue+t.bsCount[F]+(ne?1:0))%4:ue++;else break;u++}H=u>=l,v.push(t.bsCount[F]),t.bsCount[F]=t.sCount[F]+1+(V?1:0),x.push(t.sCount[F]),t.sCount[F]=ue-I,w.push(t.tShift[F]),t.tShift[F]=u-t.bMarks[F];continue}if(H)break;let B=!1;for(let I=0,V=E.length;I<V;I++)if(E[I](t,F,n,!0)){B=!0;break}if(B){t.lineMax=F,t.blkIndent!==0&&(f.push(t.bMarks[F]),v.push(t.bsCount[F]),w.push(t.tShift[F]),x.push(t.sCount[F]),t.sCount[F]-=t.blkIndent);break}f.push(t.bMarks[F]),v.push(t.bsCount[F]),w.push(t.tShift[F]),x.push(t.sCount[F]),t.sCount[F]=-1}const j=t.blkIndent;t.blkIndent=0;const q=t.push("blockquote_open","blockquote",1);q.markup=">";const M=[e,0];q.map=M,t.md.block.tokenize(t,e,F);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=h,t.parentType=O,M[1]=t.line;for(let D=0;D<w.length;D++)t.bMarks[D+e]=f[D],t.tShift[D+e]=w[D],t.sCount[D+e]=x[D],t.bsCount[D+e]=v[D];return t.blkIndent=j,!0}function Dk(t,e,n,s){const u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let l=t.bMarks[e]+t.tShift[e];const h=t.src.charCodeAt(l++);if(h!==42&&h!==45&&h!==95)return!1;let f=1;for(;l<u;){const x=t.src.charCodeAt(l++);if(x!==h&&!hn(x))return!1;x===h&&f++}if(f<3)return!1;if(s)return!0;t.line=e+1;const v=t.push("hr","hr",0);return v.map=[e,t.line],v.markup=Array(f+1).join(String.fromCharCode(h)),!0}function Pg(t,e){const n=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const u=t.src.charCodeAt(s++);if(u!==42&&u!==45&&u!==43)return-1;if(s<n){const l=t.src.charCodeAt(s);if(!hn(l))return-1}return s}function Og(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let u=n;if(u+1>=s)return-1;let l=t.src.charCodeAt(u++);if(l<48||l>57)return-1;for(;;){if(u>=s)return-1;if(l=t.src.charCodeAt(u++),l>=48&&l<=57){if(u-n>=10)return-1;continue}if(l===41||l===46)break;return-1}return u<s&&(l=t.src.charCodeAt(u),!hn(l))?-1:u}function Mk(t,e){const n=t.level+2;for(let s=e+2,u=t.tokens.length-2;s<u;s++)t.tokens[s].level===n&&t.tokens[s].type==="paragraph_open"&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}function Pk(t,e,n,s){let u,l,h,f,v=e,x=!0;if(t.sCount[v]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[v]-t.listIndent>=4&&t.sCount[v]<t.blkIndent)return!1;let w=!1;s&&t.parentType==="paragraph"&&t.sCount[v]>=t.blkIndent&&(w=!0);let E,O,H;if((H=Og(t,v))>=0){if(E=!0,h=t.bMarks[v]+t.tShift[v],O=Number(t.src.slice(h,H-1)),w&&O!==1)return!1}else if((H=Pg(t,v))>=0)E=!1;else return!1;if(w&&t.skipSpaces(H)>=t.eMarks[v])return!1;if(s)return!0;const F=t.src.charCodeAt(H-1),j=t.tokens.length;E?(f=t.push("ordered_list_open","ol",1),O!==1&&(f.attrs=[["start",O]])):f=t.push("bullet_list_open","ul",1);const q=[v,0];f.map=q,f.markup=String.fromCharCode(F);let M=!1;const S=t.md.block.ruler.getRules("list"),D=t.parentType;for(t.parentType="list";v<n;){l=H,u=t.eMarks[v];const B=t.sCount[v]+H-(t.bMarks[v]+t.tShift[v]);let I=B;for(;l<u;){const P=t.src.charCodeAt(l);if(P===9)I+=4-(I+t.bsCount[v])%4;else if(P===32)I++;else break;l++}const V=l;let ne;V>=u?ne=1:ne=I-B,ne>4&&(ne=1);const ue=B+ne;f=t.push("list_item_open","li",1),f.markup=String.fromCharCode(F);const de=[v,0];f.map=de,E&&(f.info=t.src.slice(h,H-1));const ge=t.tight,he=t.tShift[v],Le=t.sCount[v],ve=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=ue,t.tight=!0,t.tShift[v]=V-t.bMarks[v],t.sCount[v]=I,V>=u&&t.isEmpty(v+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,v,n,!0),(!t.tight||M)&&(x=!1),M=t.line-v>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ve,t.tShift[v]=he,t.sCount[v]=Le,t.tight=ge,f=t.push("list_item_close","li",-1),f.markup=String.fromCharCode(F),v=t.line,de[1]=v,v>=n||t.sCount[v]<t.blkIndent||t.sCount[v]-t.blkIndent>=4)break;let re=!1;for(let P=0,se=S.length;P<se;P++)if(S[P](t,v,n,!0)){re=!0;break}if(re)break;if(E){if(H=Og(t,v),H<0)break;h=t.bMarks[v]+t.tShift[v]}else if(H=Pg(t,v),H<0)break;if(F!==t.src.charCodeAt(H-1))break}return E?f=t.push("ordered_list_close","ol",-1):f=t.push("bullet_list_close","ul",-1),f.markup=String.fromCharCode(F),q[1]=v,t.line=v,t.parentType=D,x&&Mk(t,j),!0}function Ok(t,e,n,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e],h=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==91)return!1;function f(S){const D=t.lineMax;if(S>=D||t.isEmpty(S))return null;let B=!1;if(t.sCount[S]-t.blkIndent>3&&(B=!0),t.sCount[S]<0&&(B=!0),!B){const ne=t.md.block.ruler.getRules("reference"),ue=t.parentType;t.parentType="reference";let de=!1;for(let ge=0,he=ne.length;ge<he;ge++)if(ne[ge](t,S,D,!0)){de=!0;break}if(t.parentType=ue,de)return null}const I=t.bMarks[S]+t.tShift[S],V=t.eMarks[S];return t.src.slice(I,V+1)}let v=t.src.slice(u,l+1);l=v.length;let x=-1;for(u=1;u<l;u++){const S=v.charCodeAt(u);if(S===91)return!1;if(S===93){x=u;break}else if(S===10){const D=f(h);D!==null&&(v+=D,l=v.length,h++)}else if(S===92&&(u++,u<l&&v.charCodeAt(u)===10)){const D=f(h);D!==null&&(v+=D,l=v.length,h++)}}if(x<0||v.charCodeAt(x+1)!==58)return!1;for(u=x+2;u<l;u++){const S=v.charCodeAt(u);if(S===10){const D=f(h);D!==null&&(v+=D,l=v.length,h++)}else if(!hn(S))break}const w=t.md.helpers.parseLinkDestination(v,u,l);if(!w.ok)return!1;const E=t.md.normalizeLink(w.str);if(!t.md.validateLink(E))return!1;u=w.pos;const O=u,H=h,F=u;for(;u<l;u++){const S=v.charCodeAt(u);if(S===10){const D=f(h);D!==null&&(v+=D,l=v.length,h++)}else if(!hn(S))break}let j=t.md.helpers.parseLinkTitle(v,u,l);for(;j.can_continue;){const S=f(h);if(S===null)break;v+=S,u=l,l=v.length,h++,j=t.md.helpers.parseLinkTitle(v,u,l,j)}let q;for(u<l&&F!==u&&j.ok?(q=j.str,u=j.pos):(q="",u=O,h=H);u<l;){const S=v.charCodeAt(u);if(!hn(S))break;u++}if(u<l&&v.charCodeAt(u)!==10&&q)for(q="",u=O,h=H;u<l;){const S=v.charCodeAt(u);if(!hn(S))break;u++}if(u<l&&v.charCodeAt(u)!==10)return!1;const M=rd(v.slice(1,x));return M?(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[M]>"u"&&(t.env.references[M]={title:q,href:E}),t.line=h),!0):!1}const Rk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Fk="[a-zA-Z_:][a-zA-Z0-9:._-]*",Nk="[^\"'=<>`\\x00-\\x20]+",Ik="'[^']*'",zk='"[^"]*"',Bk="(?:"+Nk+"|"+Ik+"|"+zk+")",Hk="(?:\\s+"+Fk+"(?:\\s*=\\s*"+Bk+")?)",V0="<[A-Za-z][A-Za-z0-9\\-]*"+Hk+"*\\s*\\/?>",K0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",$k="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Wk="<[?][\\s\\S]*?[?]>",qk="<![A-Za-z][^>]*>",jk="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Uk=new RegExp("^(?:"+V0+"|"+K0+"|"+$k+"|"+Wk+"|"+qk+"|"+jk+")"),Yk=new RegExp("^(?:"+V0+"|"+K0+")"),Vl=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Rk.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Yk.source+"\\s*$"),/^$/,!1]];function Gk(t,e,n,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(u)!==60)return!1;let h=t.src.slice(u,l),f=0;for(;f<Vl.length&&!Vl[f][0].test(h);f++);if(f===Vl.length)return!1;if(s)return Vl[f][2];let v=e+1;if(!Vl[f][1].test(h)){for(;v<n&&!(t.sCount[v]<t.blkIndent);v++)if(u=t.bMarks[v]+t.tShift[v],l=t.eMarks[v],h=t.src.slice(u,l),Vl[f][1].test(h)){h.length!==0&&v++;break}}t.line=v;const x=t.push("html_block","",0);return x.map=[e,v],x.content=t.getLines(e,v,t.blkIndent,!0),!0}function Xk(t,e,n,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let h=t.src.charCodeAt(u);if(h!==35||u>=l)return!1;let f=1;for(h=t.src.charCodeAt(++u);h===35&&u<l&&f<=6;)f++,h=t.src.charCodeAt(++u);if(f>6||u<l&&!hn(h))return!1;if(s)return!0;l=t.skipSpacesBack(l,u);const v=t.skipCharsBack(l,35,u);v>u&&hn(t.src.charCodeAt(v-1))&&(l=v),t.line=e+1;const x=t.push("heading_open","h"+String(f),1);x.markup="########".slice(0,f),x.map=[e,t.line];const w=t.push("inline","",0);w.content=t.src.slice(u,l).trim(),w.map=[e,t.line],w.children=[];const E=t.push("heading_close","h"+String(f),-1);return E.markup="########".slice(0,f),!0}function Zk(t,e,n){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const u=t.parentType;t.parentType="paragraph";let l=0,h,f=e+1;for(;f<n&&!t.isEmpty(f);f++){if(t.sCount[f]-t.blkIndent>3)continue;if(t.sCount[f]>=t.blkIndent){let H=t.bMarks[f]+t.tShift[f];const F=t.eMarks[f];if(H<F&&(h=t.src.charCodeAt(H),(h===45||h===61)&&(H=t.skipChars(H,h),H=t.skipSpaces(H),H>=F))){l=h===61?1:2;break}}if(t.sCount[f]<0)continue;let O=!1;for(let H=0,F=s.length;H<F;H++)if(s[H](t,f,n,!0)){O=!0;break}if(O)break}if(!l)return!1;const v=t.getLines(e,f,t.blkIndent,!1).trim();t.line=f+1;const x=t.push("heading_open","h"+String(l),1);x.markup=String.fromCharCode(h),x.map=[e,t.line];const w=t.push("inline","",0);w.content=v,w.map=[e,t.line-1],w.children=[];const E=t.push("heading_close","h"+String(l),-1);return E.markup=String.fromCharCode(h),t.parentType=u,!0}function Vk(t,e,n){const s=t.md.block.ruler.getRules("paragraph"),u=t.parentType;let l=e+1;for(t.parentType="paragraph";l<n&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3||t.sCount[l]<0)continue;let x=!1;for(let w=0,E=s.length;w<E;w++)if(s[w](t,l,n,!0)){x=!0;break}if(x)break}const h=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l;const f=t.push("paragraph_open","p",1);f.map=[e,t.line];const v=t.push("inline","",0);return v.content=h,v.map=[e,t.line],v.children=[],t.push("paragraph_close","p",-1),t.parentType=u,!0}const vf=[["table",Sk,["paragraph","reference"]],["code",Tk],["fence",Ak,["paragraph","reference","blockquote","list"]],["blockquote",Lk,["paragraph","reference","blockquote","list"]],["hr",Dk,["paragraph","reference","blockquote","list"]],["list",Pk,["paragraph","reference","blockquote"]],["reference",Ok],["html_block",Gk,["paragraph","reference","blockquote"]],["heading",Xk,["paragraph","reference","blockquote"]],["lheading",Zk],["paragraph",Vk]];function od(){this.ruler=new So;for(let t=0;t<vf.length;t++)this.ruler.push(vf[t][0],vf[t][1],{alt:(vf[t][2]||[]).slice()})}od.prototype.tokenize=function(t,e,n){const s=this.ruler.getRules(""),u=s.length,l=t.md.options.maxNesting;let h=e,f=!1;for(;h<n&&(t.line=h=t.skipEmptyLines(h),!(h>=n||t.sCount[h]<t.blkIndent));){if(t.level>=l){t.line=n;break}const v=t.line;let x=!1;for(let w=0;w<u;w++)if(x=s[w](t,h,n,!1),x){if(v>=t.line)throw new Error("block rule didn't increment state.line");break}if(!x)throw new Error("none of the block rules matched");t.tight=!f,t.isEmpty(t.line-1)&&(f=!0),h=t.line,h<n&&t.isEmpty(h)&&(f=!0,h++,t.line=h)}};od.prototype.parse=function(t,e,n,s){if(!t)return;const u=new this.State(t,e,n,s);this.tokenize(u,u.line,u.lineMax)};od.prototype.State=ms;function vh(t,e,n,s){this.src=t,this.env=n,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}vh.prototype.pushPending=function(){const t=new za("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};vh.prototype.push=function(t,e,n){this.pending&&this.pushPending();const s=new za(t,e,n);let u=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(u),s};vh.prototype.scanDelims=function(t,e){const n=this.posMax,s=this.src.charCodeAt(t),u=t>0?this.src.charCodeAt(t-1):32;let l=t;for(;l<n&&this.src.charCodeAt(l)===s;)l++;const h=l-t,f=l<n?this.src.charCodeAt(l):32,v=dh(u)||fh(String.fromCharCode(u)),x=dh(f)||fh(String.fromCharCode(f)),w=hh(u),E=hh(f),O=!E&&(!x||w||v),H=!w&&(!v||E||x);return{can_open:O&&(e||!H||v),can_close:H&&(e||!O||x),length:h}};vh.prototype.Token=za;function Kk(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Qk(t,e){let n=t.pos;for(;n<t.posMax&&!Kk(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const Jk=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function eC(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,s=t.posMax;if(n+3>s||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const u=t.pending.match(Jk);if(!u)return!1;const l=u[1],h=t.md.linkify.matchAtStart(t.src.slice(n-l.length));if(!h)return!1;let f=h.url;if(f.length<=l.length)return!1;f=f.replace(/\*+$/,"");const v=t.md.normalizeLink(f);if(!t.md.validateLink(v))return!1;if(!e){t.pending=t.pending.slice(0,-l.length);const x=t.push("link_open","a",1);x.attrs=[["href",v]],x.markup="linkify",x.info="auto";const w=t.push("text","",0);w.content=t.md.normalizeLinkText(f);const E=t.push("link_close","a",-1);E.markup="linkify",E.info="auto"}return t.pos+=f.length-l.length,!0}function tC(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const s=t.pending.length-1,u=t.posMax;if(!e)if(s>=0&&t.pending.charCodeAt(s)===32)if(s>=1&&t.pending.charCodeAt(s-1)===32){let l=s-1;for(;l>=1&&t.pending.charCodeAt(l-1)===32;)l--;t.pending=t.pending.slice(0,l),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<u&&hn(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const qp=[];for(let t=0;t<256;t++)qp.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){qp[t.charCodeAt(0)]=1});function iC(t,e){let n=t.pos;const s=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=s))return!1;let u=t.src.charCodeAt(n);if(u===10){for(e||t.push("hardbreak","br",0),n++;n<s&&(u=t.src.charCodeAt(n),!!hn(u));)n++;return t.pos=n,!0}let l=t.src[n];if(u>=55296&&u<=56319&&n+1<s){const f=t.src.charCodeAt(n+1);f>=56320&&f<=57343&&(l+=t.src[n+1],n++)}const h="\\"+l;if(!e){const f=t.push("text_special","",0);u<256&&qp[u]!==0?f.content=l:f.content=h,f.markup=h,f.info="escape"}return t.pos=n+1,!0}function nC(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const u=n;n++;const l=t.posMax;for(;n<l&&t.src.charCodeAt(n)===96;)n++;const h=t.src.slice(u,n),f=h.length;if(t.backticksScanned&&(t.backticks[f]||0)<=u)return e||(t.pending+=h),t.pos+=f,!0;let v=n,x;for(;(x=t.src.indexOf("`",v))!==-1;){for(v=x+1;v<l&&t.src.charCodeAt(v)===96;)v++;const w=v-x;if(w===f){if(!e){const E=t.push("code_inline","code",0);E.markup=h,E.content=t.src.slice(n,x).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=v,!0}t.backticks[w]=x}return t.backticksScanned=!0,e||(t.pending+=h),t.pos+=f,!0}function rC(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e||s!==126)return!1;const u=t.scanDelims(t.pos,!0);let l=u.length;const h=String.fromCharCode(s);if(l<2)return!1;let f;l%2&&(f=t.push("text","",0),f.content=h,l--);for(let v=0;v<l;v+=2)f=t.push("text","",0),f.content=h+h,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return t.pos+=u.length,!0}function Rg(t,e){let n;const s=[],u=e.length;for(let l=0;l<u;l++){const h=e[l];if(h.marker!==126||h.end===-1)continue;const f=e[h.end];n=t.tokens[h.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[f.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[f.token-1].type==="text"&&t.tokens[f.token-1].content==="~"&&s.push(f.token-1)}for(;s.length;){const l=s.pop();let h=l+1;for(;h<t.tokens.length&&t.tokens[h].type==="s_close";)h++;h--,l!==h&&(n=t.tokens[h],t.tokens[h]=t.tokens[l],t.tokens[l]=n)}}function oC(t){const e=t.tokens_meta,n=t.tokens_meta.length;Rg(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&Rg(t,e[s].delimiters)}const Q0={tokenize:rC,postProcess:oC};function aC(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e||s!==95&&s!==42)return!1;const u=t.scanDelims(t.pos,s===42);for(let l=0;l<u.length;l++){const h=t.push("text","",0);h.content=String.fromCharCode(s),t.delimiters.push({marker:s,length:u.length,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return t.pos+=u.length,!0}function Fg(t,e){const n=e.length;for(let s=n-1;s>=0;s--){const u=e[s];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const l=e[u.end],h=s>0&&e[s-1].end===u.end+1&&e[s-1].marker===u.marker&&e[s-1].token===u.token-1&&e[u.end+1].token===l.token+1,f=String.fromCharCode(u.marker),v=t.tokens[u.token];v.type=h?"strong_open":"em_open",v.tag=h?"strong":"em",v.nesting=1,v.markup=h?f+f:f,v.content="";const x=t.tokens[l.token];x.type=h?"strong_close":"em_close",x.tag=h?"strong":"em",x.nesting=-1,x.markup=h?f+f:f,x.content="",h&&(t.tokens[e[s-1].token].content="",t.tokens[e[u.end+1].token].content="",s--)}}function sC(t){const e=t.tokens_meta,n=t.tokens_meta.length;Fg(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&Fg(t,e[s].delimiters)}const J0={tokenize:aC,postProcess:sC};function uC(t,e){let n,s,u,l,h="",f="",v=t.pos,x=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const w=t.pos,E=t.posMax,O=t.pos+1,H=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(H<0)return!1;let F=H+1;if(F<E&&t.src.charCodeAt(F)===40){for(x=!1,F++;F<E&&(n=t.src.charCodeAt(F),!(!hn(n)&&n!==10));F++);if(F>=E)return!1;if(v=F,u=t.md.helpers.parseLinkDestination(t.src,F,t.posMax),u.ok){for(h=t.md.normalizeLink(u.str),t.md.validateLink(h)?F=u.pos:h="",v=F;F<E&&(n=t.src.charCodeAt(F),!(!hn(n)&&n!==10));F++);if(u=t.md.helpers.parseLinkTitle(t.src,F,t.posMax),F<E&&v!==F&&u.ok)for(f=u.str,F=u.pos;F<E&&(n=t.src.charCodeAt(F),!(!hn(n)&&n!==10));F++);}(F>=E||t.src.charCodeAt(F)!==41)&&(x=!0),F++}if(x){if(typeof t.env.references>"u")return!1;if(F<E&&t.src.charCodeAt(F)===91?(v=F+1,F=t.md.helpers.parseLinkLabel(t,F),F>=0?s=t.src.slice(v,F++):F=H+1):F=H+1,s||(s=t.src.slice(O,H)),l=t.env.references[rd(s)],!l)return t.pos=w,!1;h=l.href,f=l.title}if(!e){t.pos=O,t.posMax=H;const j=t.push("link_open","a",1),q=[["href",h]];j.attrs=q,f&&q.push(["title",f]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=F,t.posMax=E,!0}function lC(t,e){let n,s,u,l,h,f,v,x,w="";const E=t.pos,O=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const H=t.pos+2,F=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(F<0)return!1;if(l=F+1,l<O&&t.src.charCodeAt(l)===40){for(l++;l<O&&(n=t.src.charCodeAt(l),!(!hn(n)&&n!==10));l++);if(l>=O)return!1;for(x=l,f=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),f.ok&&(w=t.md.normalizeLink(f.str),t.md.validateLink(w)?l=f.pos:w=""),x=l;l<O&&(n=t.src.charCodeAt(l),!(!hn(n)&&n!==10));l++);if(f=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<O&&x!==l&&f.ok)for(v=f.str,l=f.pos;l<O&&(n=t.src.charCodeAt(l),!(!hn(n)&&n!==10));l++);else v="";if(l>=O||t.src.charCodeAt(l)!==41)return t.pos=E,!1;l++}else{if(typeof t.env.references>"u")return!1;if(l<O&&t.src.charCodeAt(l)===91?(x=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?u=t.src.slice(x,l++):l=F+1):l=F+1,u||(u=t.src.slice(H,F)),h=t.env.references[rd(u)],!h)return t.pos=E,!1;w=h.href,v=h.title}if(!e){s=t.src.slice(H,F);const j=[];t.md.inline.parse(s,t.md,t.env,j);const q=t.push("image","img",0),M=[["src",w],["alt",""]];q.attrs=M,q.children=j,q.content=s,v&&M.push(["title",v])}return t.pos=l,t.posMax=O,!0}const cC=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,hC=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function fC(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const s=t.pos,u=t.posMax;for(;;){if(++n>=u)return!1;const h=t.src.charCodeAt(n);if(h===60)return!1;if(h===62)break}const l=t.src.slice(s+1,n);if(hC.test(l)){const h=t.md.normalizeLink(l);if(!t.md.validateLink(h))return!1;if(!e){const f=t.push("link_open","a",1);f.attrs=[["href",h]],f.markup="autolink",f.info="auto";const v=t.push("text","",0);v.content=t.md.normalizeLinkText(l);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=l.length+2,!0}if(cC.test(l)){const h=t.md.normalizeLink("mailto:"+l);if(!t.md.validateLink(h))return!1;if(!e){const f=t.push("link_open","a",1);f.attrs=[["href",h]],f.markup="autolink",f.info="auto";const v=t.push("text","",0);v.content=t.md.normalizeLinkText(l);const x=t.push("link_close","a",-1);x.markup="autolink",x.info="auto"}return t.pos+=l.length+2,!0}return!1}function dC(t){return/^<a[>\s]/i.test(t)}function pC(t){return/^<\/a\s*>/i.test(t)}function mC(t){const e=t|32;return e>=97&&e<=122}function gC(t,e){if(!t.md.options.html)return!1;const n=t.posMax,s=t.pos;if(t.src.charCodeAt(s)!==60||s+2>=n)return!1;const u=t.src.charCodeAt(s+1);if(u!==33&&u!==63&&u!==47&&!mC(u))return!1;const l=t.src.slice(s).match(Uk);if(!l)return!1;if(!e){const h=t.push("html_inline","",0);h.content=l[0],dC(h.content)&&t.linkLevel++,pC(h.content)&&t.linkLevel--}return t.pos+=l[0].length,!0}const vC=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,bC=/^&([a-z][a-z0-9]{1,31});/i;function _C(t,e){const n=t.pos,s=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=s)return!1;if(t.src.charCodeAt(n+1)===35){const l=t.src.slice(n).match(vC);if(l){if(!e){const h=l[1][0].toLowerCase()==="x"?parseInt(l[1].slice(1),16):parseInt(l[1],10),f=t.push("text_special","",0);f.content=$p(h)?Uf(h):Uf(65533),f.markup=l[0],f.info="entity"}return t.pos+=l[0].length,!0}}else{const l=t.src.slice(n).match(bC);if(l){const h=U0(l[0]);if(h!==l[0]){if(!e){const f=t.push("text_special","",0);f.content=h,f.markup=l[0],f.info="entity"}return t.pos+=l[0].length,!0}}}return!1}function Ng(t){const e={},n=t.length;if(!n)return;let s=0,u=-2;const l=[];for(let h=0;h<n;h++){const f=t[h];if(l.push(0),(t[s].marker!==f.marker||u!==f.token-1)&&(s=h),u=f.token,f.length=f.length||0,!f.close)continue;e.hasOwnProperty(f.marker)||(e[f.marker]=[-1,-1,-1,-1,-1,-1]);const v=e[f.marker][(f.open?3:0)+f.length%3];let x=s-l[s]-1,w=x;for(;x>v;x-=l[x]+1){const E=t[x];if(E.marker===f.marker&&E.open&&E.end<0){let O=!1;if((E.close||f.open)&&(E.length+f.length)%3===0&&(E.length%3!==0||f.length%3!==0)&&(O=!0),!O){const H=x>0&&!t[x-1].open?l[x-1]+1:0;l[h]=h-x+H,l[x]=H,f.open=!1,E.end=h,E.close=!1,w=-1,u=-2;break}}}w!==-1&&(e[f.marker][(f.open?3:0)+(f.length||0)%3]=w)}}function yC(t){const e=t.tokens_meta,n=t.tokens_meta.length;Ng(t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&Ng(e[s].delimiters)}function wC(t){let e,n,s=0;const u=t.tokens,l=t.tokens.length;for(e=n=0;e<l;e++)u[e].nesting<0&&s--,u[e].level=s,u[e].nesting>0&&s++,u[e].type==="text"&&e+1<l&&u[e+1].type==="text"?u[e+1].content=u[e].content+u[e+1].content:(e!==n&&(u[n]=u[e]),n++);e!==n&&(u.length=n)}const Jd=[["text",Qk],["linkify",eC],["newline",tC],["escape",iC],["backticks",nC],["strikethrough",Q0.tokenize],["emphasis",J0.tokenize],["link",uC],["image",lC],["autolink",fC],["html_inline",gC],["entity",_C]],ep=[["balance_pairs",yC],["strikethrough",Q0.postProcess],["emphasis",J0.postProcess],["fragments_join",wC]];function bh(){this.ruler=new So;for(let t=0;t<Jd.length;t++)this.ruler.push(Jd[t][0],Jd[t][1]);this.ruler2=new So;for(let t=0;t<ep.length;t++)this.ruler2.push(ep[t][0],ep[t][1])}bh.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),s=n.length,u=t.md.options.maxNesting,l=t.cache;if(typeof l[e]<"u"){t.pos=l[e];return}let h=!1;if(t.level<u){for(let f=0;f<s;f++)if(t.level++,h=n[f](t,!0),t.level--,h){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;h||t.pos++,l[e]=t.pos};bh.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,s=t.posMax,u=t.md.options.maxNesting;for(;t.pos<s;){const l=t.pos;let h=!1;if(t.level<u){for(let f=0;f<n;f++)if(h=e[f](t,!1),h){if(l>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(h){if(t.pos>=s)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};bh.prototype.parse=function(t,e,n,s){const u=new this.State(t,e,n,s);this.tokenize(u);const l=this.ruler2.getRules(""),h=l.length;for(let f=0;f<h;f++)l[f](u)};bh.prototype.State=vh;function xC(t){const e={};t=t||{},e.src_Any=H0.source,e.src_Cc=$0.source,e.src_Z=q0.source,e.src_P=Bp.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function _p(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(s){t[s]=n[s]})}),t}function ad(t){return Object.prototype.toString.call(t)}function kC(t){return ad(t)==="[object String]"}function CC(t){return ad(t)==="[object Object]"}function EC(t){return ad(t)==="[object RegExp]"}function Ig(t){return ad(t)==="[object Function]"}function SC(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const ev={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function TC(t){return Object.keys(t||{}).reduce(function(e,n){return e||ev.hasOwnProperty(n)},!1)}const AC={"http:":{validate:function(t,e,n){const s=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const s=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const s=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},LC="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",DC="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function MC(t){t.__index__=-1,t.__text_cache__=""}function PC(t){return function(e,n){const s=e.slice(n);return t.test(s)?s.match(t)[0].length:0}}function zg(){return function(t,e){e.normalize(t)}}function Yf(t){const e=t.re=xC(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(LC),n.push(e.src_xn),e.src_tlds=n.join("|");function s(f){return f.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const u=[];t.__compiled__={};function l(f,v){throw new Error('(LinkifyIt) Invalid schema "'+f+'": '+v)}Object.keys(t.__schemas__).forEach(function(f){const v=t.__schemas__[f];if(v===null)return;const x={validate:null,link:null};if(t.__compiled__[f]=x,CC(v)){EC(v.validate)?x.validate=PC(v.validate):Ig(v.validate)?x.validate=v.validate:l(f,v),Ig(v.normalize)?x.normalize=v.normalize:v.normalize?l(f,v):x.normalize=zg();return}if(kC(v)){u.push(f);return}l(f,v)}),u.forEach(function(f){t.__compiled__[t.__schemas__[f]]&&(t.__compiled__[f].validate=t.__compiled__[t.__schemas__[f]].validate,t.__compiled__[f].normalize=t.__compiled__[t.__schemas__[f]].normalize)}),t.__compiled__[""]={validate:null,normalize:zg()};const h=Object.keys(t.__compiled__).filter(function(f){return f.length>0&&t.__compiled__[f]}).map(SC).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+h+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+h+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),MC(t)}function OC(t,e){const n=t.__index__,s=t.__last_index__,u=t.__text_cache__.slice(n,s);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=s+e,this.raw=u,this.text=u,this.url=u}function yp(t,e){const n=new OC(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Go(t,e){if(!(this instanceof Go))return new Go(t,e);e||TC(t)&&(e=t,t={}),this.__opts__=_p({},ev,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=_p({},AC,t),this.__compiled__={},this.__tlds__=DC,this.__tlds_replaced__=!1,this.re={},Yf(this)}Go.prototype.add=function(e,n){return this.__schemas__[e]=n,Yf(this),this};Go.prototype.set=function(e){return this.__opts__=_p(this.__opts__,e),this};Go.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,s,u,l,h,f,v,x,w;if(this.re.schema_test.test(e)){for(v=this.re.schema_search,v.lastIndex=0;(n=v.exec(e))!==null;)if(l=this.testSchemaAt(e,n[2],v.lastIndex),l){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+l;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(x=e.search(this.re.host_fuzzy_test),x>=0&&(this.__index__<0||x<this.__index__)&&(s=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(h=s.index+s[1].length,(this.__index__<0||h<this.__index__)&&(this.__schema__="",this.__index__=h,this.__last_index__=s.index+s[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(w=e.indexOf("@"),w>=0&&(u=e.match(this.re.email_fuzzy))!==null&&(h=u.index+u[1].length,f=u.index+u[0].length,(this.__index__<0||h<this.__index__||h===this.__index__&&f>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=h,this.__last_index__=f))),this.__index__>=0};Go.prototype.pretest=function(e){return this.re.pretest.test(e)};Go.prototype.testSchemaAt=function(e,n,s){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,s,this):0};Go.prototype.match=function(e){const n=[];let s=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(yp(this,s)),s=this.__last_index__);let u=s?e.slice(s):e;for(;this.test(u);)n.push(yp(this,s)),u=u.slice(this.__last_index__),s+=this.__last_index__;return n.length?n:null};Go.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const s=this.testSchemaAt(e,n[2],n[0].length);return s?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s,yp(this,0)):null};Go.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(s,u,l){return s!==l[u-1]}).reverse(),Yf(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Yf(this),this)};Go.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Go.prototype.onCompile=function(){};const ic=2147483647,ls=36,jp=1,ph=26,RC=38,FC=700,tv=72,iv=128,nv="-",NC=/^xn--/,IC=/[^\0-\x7F]/,zC=/[\x2E\u3002\uFF0E\uFF61]/g,BC={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},tp=ls-jp,cs=Math.floor,ip=String.fromCharCode;function Su(t){throw new RangeError(BC[t])}function HC(t,e){const n=[];let s=t.length;for(;s--;)n[s]=e(t[s]);return n}function rv(t,e){const n=t.split("@");let s="";n.length>1&&(s=n[0]+"@",t=n[1]),t=t.replace(zC,".");const u=t.split("."),l=HC(u,e).join(".");return s+l}function ov(t){const e=[];let n=0;const s=t.length;for(;n<s;){const u=t.charCodeAt(n++);if(u>=55296&&u<=56319&&n<s){const l=t.charCodeAt(n++);(l&64512)==56320?e.push(((u&1023)<<10)+(l&1023)+65536):(e.push(u),n--)}else e.push(u)}return e}const $C=t=>String.fromCodePoint(...t),WC=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:ls},Bg=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},av=function(t,e,n){let s=0;for(t=n?cs(t/FC):t>>1,t+=cs(t/e);t>tp*ph>>1;s+=ls)t=cs(t/tp);return cs(s+(tp+1)*t/(t+RC))},sv=function(t){const e=[],n=t.length;let s=0,u=iv,l=tv,h=t.lastIndexOf(nv);h<0&&(h=0);for(let f=0;f<h;++f)t.charCodeAt(f)>=128&&Su("not-basic"),e.push(t.charCodeAt(f));for(let f=h>0?h+1:0;f<n;){const v=s;for(let w=1,E=ls;;E+=ls){f>=n&&Su("invalid-input");const O=WC(t.charCodeAt(f++));O>=ls&&Su("invalid-input"),O>cs((ic-s)/w)&&Su("overflow"),s+=O*w;const H=E<=l?jp:E>=l+ph?ph:E-l;if(O<H)break;const F=ls-H;w>cs(ic/F)&&Su("overflow"),w*=F}const x=e.length+1;l=av(s-v,x,v==0),cs(s/x)>ic-u&&Su("overflow"),u+=cs(s/x),s%=x,e.splice(s++,0,u)}return String.fromCodePoint(...e)},uv=function(t){const e=[];t=ov(t);const n=t.length;let s=iv,u=0,l=tv;for(const v of t)v<128&&e.push(ip(v));const h=e.length;let f=h;for(h&&e.push(nv);f<n;){let v=ic;for(const w of t)w>=s&&w<v&&(v=w);const x=f+1;v-s>cs((ic-u)/x)&&Su("overflow"),u+=(v-s)*x,s=v;for(const w of t)if(w<s&&++u>ic&&Su("overflow"),w===s){let E=u;for(let O=ls;;O+=ls){const H=O<=l?jp:O>=l+ph?ph:O-l;if(E<H)break;const F=E-H,j=ls-H;e.push(ip(Bg(H+F%j,0))),E=cs(F/j)}e.push(ip(Bg(E,0))),l=av(u,x,f===h),u=0,++f}++u,++s}return e.join("")},qC=function(t){return rv(t,function(e){return NC.test(e)?sv(e.slice(4).toLowerCase()):e})},jC=function(t){return rv(t,function(e){return IC.test(e)?"xn--"+uv(e):e})},lv={version:"2.3.1",ucs2:{decode:ov,encode:$C},decode:sv,encode:uv,toASCII:jC,toUnicode:qC},UC={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},YC={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},GC={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},XC={default:UC,zero:YC,commonmark:GC},ZC=/^(vbscript|javascript|file|data):/,VC=/^data:image\/(gif|png|jpeg|webp);/;function KC(t){const e=t.trim().toLowerCase();return ZC.test(e)?VC.test(e):!0}const cv=["http:","https:","mailto:"];function QC(t){const e=zp(t,!0);if(e.hostname&&(!e.protocol||cv.indexOf(e.protocol)>=0))try{e.hostname=lv.toASCII(e.hostname)}catch{}return gh(Ip(e))}function JC(t){const e=zp(t,!0);if(e.hostname&&(!e.protocol||cv.indexOf(e.protocol)>=0))try{e.hostname=lv.toUnicode(e.hostname)}catch{}return rc(Ip(e),rc.defaultChars+"%")}function va(t,e){if(!(this instanceof va))return new va(t,e);e||Hp(t)||(e=t||{},t="default"),this.inline=new bh,this.block=new od,this.core=new Wp,this.renderer=new fc,this.linkify=new Go,this.validateLink=KC,this.normalizeLink=QC,this.normalizeLinkText=JC,this.utils=tk,this.helpers=nd({},ok),this.options={},this.configure(t),e&&this.set(e)}va.prototype.set=function(t){return nd(this.options,t),this};va.prototype.configure=function(t){const e=this;if(Hp(t)){const n=t;if(t=XC[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};va.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const s=t.filter(function(u){return n.indexOf(u)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this};va.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const s=t.filter(function(u){return n.indexOf(u)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this};va.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};va.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};va.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};va.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};va.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function eE(t,e,n,s){const u=Number(t[e].meta.id+1).toString();let l="";return typeof s.docId=="string"&&(l=`-${s.docId}-`),l+u}function tE(t,e){let n=Number(t[e].meta.id+1).toString();return t[e].meta.subId>0&&(n+=`:${t[e].meta.subId}`),`[${n}]`}function iE(t,e,n,s,u){const l=u.rules.footnote_anchor_name(t,e,n,s,u),h=u.rules.footnote_caption(t,e,n,s,u);let f=l;return t[e].meta.subId>0&&(f+=`:${t[e].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${l}" id="fnref${f}">${h}</a></sup>`}function nE(t,e,n){return(n.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function rE(){return`</ol>
</section>
`}function oE(t,e,n,s,u){let l=u.rules.footnote_anchor_name(t,e,n,s,u);return t[e].meta.subId>0&&(l+=`:${t[e].meta.subId}`),`<li id="fn${l}" class="footnote-item">`}function aE(){return`</li>
`}function sE(t,e,n,s,u){let l=u.rules.footnote_anchor_name(t,e,n,s,u);return t[e].meta.subId>0&&(l+=`:${t[e].meta.subId}`),` <a href="#fnref${l}" class="footnote-backref"></a>`}function uE(t){const e=t.helpers.parseLinkLabel,n=t.utils.isSpace;t.renderer.rules.footnote_ref=iE,t.renderer.rules.footnote_block_open=nE,t.renderer.rules.footnote_block_close=rE,t.renderer.rules.footnote_open=oE,t.renderer.rules.footnote_close=aE,t.renderer.rules.footnote_anchor=sE,t.renderer.rules.footnote_caption=tE,t.renderer.rules.footnote_anchor_name=eE;function s(f,v,x,w){const E=f.bMarks[v]+f.tShift[v],O=f.eMarks[v];if(E+4>O||f.src.charCodeAt(E)!==91||f.src.charCodeAt(E+1)!==94)return!1;let H;for(H=E+2;H<O;H++){if(f.src.charCodeAt(H)===32)return!1;if(f.src.charCodeAt(H)===93)break}if(H===E+2||H+1>=O||f.src.charCodeAt(++H)!==58)return!1;if(w)return!0;H++,f.env.footnotes||(f.env.footnotes={}),f.env.footnotes.refs||(f.env.footnotes.refs={});const F=f.src.slice(E+2,H-2);f.env.footnotes.refs[`:${F}`]=-1;const j=new f.Token("footnote_reference_open","",1);j.meta={label:F},j.level=f.level++,f.tokens.push(j);const q=f.bMarks[v],M=f.tShift[v],S=f.sCount[v],D=f.parentType,B=H,I=f.sCount[v]+H-(f.bMarks[v]+f.tShift[v]);let V=I;for(;H<O;){const ue=f.src.charCodeAt(H);if(n(ue))ue===9?V+=4-V%4:V++;else break;H++}f.tShift[v]=H-B,f.sCount[v]=V-I,f.bMarks[v]=B,f.blkIndent+=4,f.parentType="footnote",f.sCount[v]<f.blkIndent&&(f.sCount[v]+=f.blkIndent),f.md.block.tokenize(f,v,x,!0),f.parentType=D,f.blkIndent-=4,f.tShift[v]=M,f.sCount[v]=S,f.bMarks[v]=q;const ne=new f.Token("footnote_reference_close","",-1);return ne.level=--f.level,f.tokens.push(ne),!0}function u(f,v){const x=f.posMax,w=f.pos;if(w+2>=x||f.src.charCodeAt(w)!==94||f.src.charCodeAt(w+1)!==91)return!1;const E=w+2,O=e(f,w+1);if(O<0)return!1;if(!v){f.env.footnotes||(f.env.footnotes={}),f.env.footnotes.list||(f.env.footnotes.list=[]);const H=f.env.footnotes.list.length,F=[];f.md.inline.parse(f.src.slice(E,O),f.md,f.env,F);const j=f.push("footnote_ref","",0);j.meta={id:H},f.env.footnotes.list[H]={content:f.src.slice(E,O),tokens:F}}return f.pos=O+1,f.posMax=x,!0}function l(f,v){const x=f.posMax,w=f.pos;if(w+3>x||!f.env.footnotes||!f.env.footnotes.refs||f.src.charCodeAt(w)!==91||f.src.charCodeAt(w+1)!==94)return!1;let E;for(E=w+2;E<x;E++){if(f.src.charCodeAt(E)===32||f.src.charCodeAt(E)===10)return!1;if(f.src.charCodeAt(E)===93)break}if(E===w+2||E>=x)return!1;E++;const O=f.src.slice(w+2,E-1);if(typeof f.env.footnotes.refs[`:${O}`]>"u")return!1;if(!v){f.env.footnotes.list||(f.env.footnotes.list=[]);let H;f.env.footnotes.refs[`:${O}`]<0?(H=f.env.footnotes.list.length,f.env.footnotes.list[H]={label:O,count:0},f.env.footnotes.refs[`:${O}`]=H):H=f.env.footnotes.refs[`:${O}`];const F=f.env.footnotes.list[H].count;f.env.footnotes.list[H].count++;const j=f.push("footnote_ref","",0);j.meta={id:H,subId:F,label:O}}return f.pos=E,f.posMax=x,!0}function h(f){let v,x,w,E=!1;const O={};if(!f.env.footnotes||(f.tokens=f.tokens.filter(function(F){return F.type==="footnote_reference_open"?(E=!0,x=[],w=F.meta.label,!1):F.type==="footnote_reference_close"?(E=!1,O[":"+w]=x,!1):(E&&x.push(F),!E)}),!f.env.footnotes.list))return;const H=f.env.footnotes.list;f.tokens.push(new f.Token("footnote_block_open","",1));for(let F=0,j=H.length;F<j;F++){const q=new f.Token("footnote_open","",1);if(q.meta={id:F,label:H[F].label},f.tokens.push(q),H[F].tokens){v=[];const D=new f.Token("paragraph_open","p",1);D.block=!0,v.push(D);const B=new f.Token("inline","",0);B.children=H[F].tokens,B.content=H[F].content,v.push(B);const I=new f.Token("paragraph_close","p",-1);I.block=!0,v.push(I)}else H[F].label&&(v=O[`:${H[F].label}`]);v&&(f.tokens=f.tokens.concat(v));let M;f.tokens[f.tokens.length-1].type==="paragraph_close"?M=f.tokens.pop():M=null;const S=H[F].count>0?H[F].count:1;for(let D=0;D<S;D++){const B=new f.Token("footnote_anchor","",0);B.meta={id:F,subId:D,label:H[F].label},f.tokens.push(B)}M&&f.tokens.push(M),f.tokens.push(new f.Token("footnote_close","",-1))}f.tokens.push(new f.Token("footnote_block_close","",-1))}t.block.ruler.before("reference","footnote_def",s,{alt:["paragraph","reference"]}),t.inline.ruler.after("image","footnote_inline",u),t.inline.ruler.after("footnote_inline","footnote_ref",l),t.core.ruler.after("inline","footnote_tail",h)}class lE{constructor(e,n){this.markdownit=new va,this.markdownit.use(uE),this.textarea=e,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&this.textarea.getAttribute("dir")==="rtl"?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled"}),this.editor.addKeyMap({"Ctrl-B":s=>{s.replaceSelections(this.boldSelections())},"Ctrl-I":s=>{s.replaceSelections(this.italicSelections())},"Cmd-B":s=>{s.replaceSelections(this.boldSelections())},"Cmd-I":s=>{s.replaceSelections(this.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=n,this.buttonCode=null,this.buttonPreview=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){if(this.editor.on("change",this.textareaChange),!this.cont||!this.textarea)return;this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),this.editor.getOption("readOnly")===!0&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(f=>{f.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(f=>{f.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(f=>{f.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(f=>{f.setAttribute("data-index",this.index)}),this.$editor.setAttribute("data-index",this.index);const l=document.createElement("div");l.classList.add("markdown-editor-tabs"),this.$editor.before(l),this.tabs=l,this.previewContainer=document.getElementById("codemirror-preview-containers");const h=document.createElement("div");h.classList.add("markdown-editor-preview"),this.$editor.after(h),this.preview=h,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&this.textarea.getAttribute("data-max-length")!==""&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=mf(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")!==""&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")===""&&this.textarea.getAttribute("data-max-length")===""&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&(mf(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,_g(this.cont,"content-limit")):mf(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,_g(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(f=>{f.addEventListener("click",this.buttonPreviewClick)}),this.buttons.forEach(f=>{f.addEventListener("click",this.buttonClick)}),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(f=>{f.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()})}async onDropFile(e,n){n.preventDefault(n);for(let s=0;s<n.dataTransfer.files.length;s++){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let u=n.dataTransfer.files[s],l=new FormData;l.append("_token",window.RozierConfig.ajaxToken),l.append("form[attachment]",u);const h=await fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:l});if(h.ok){const f=await h.json();await window.Rozier.getMessages(),this.onDropFileUploaded(e,f)}else{const f=await h.json();f.errors&&window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.message,status:"danger"}}))}}}onDropFileUploaded(e,n){if(window.dispatchEvent(new CustomEvent("requestLoaderHide")),n.success===!0){let s="!["+n.document.name+"]("+n.document.url+")";e.replaceSelection(s)}}forceEditorUpdate(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}buttonClick(e){if(this.editor.getOption("readOnly")===!0)return!1;let n=e.currentTarget,s=this.editor.getSelections();if(s.length>0){switch(n.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(s));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(s));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(s));break;case"link":this.editor.replaceSelections(this.linkSelections(s));break;case"image":this.editor.replaceSelections(this.imageSelections(s));break;case"bold":this.editor.replaceSelections(this.boldSelections(s));break;case"italic":this.editor.replaceSelections(this.italicSelections(s));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(s));break;case"h2":this.editor.replaceSelections(this.h2Selections(s));break;case"h3":this.editor.replaceSelections(this.h3Selections(s));break;case"h4":this.editor.replaceSelections(this.h4Selections(s));break;case"h5":this.editor.replaceSelections(this.h5Selections(s));break;case"h6":this.editor.replaceSelections(this.h6Selections(s));break;case"back":this.editor.replaceSelections(this.backSelections(s));break;case"hr":this.editor.replaceSelections(this.hrSelections(s));break}this.editor.focus()}}backSelections(e){for(let n in e)e[n]=`   
`;return e}hrSelections(e){for(let n in e)e[n]=`

---

`;return e}nbspSelections(e){for(let n in e)e[n]="";return e}nbHyphenSelections(e){for(let n in e)e[n]="";return e}listUlSelections(e){for(let n in e)e[n]=`

* `+e[n]+`

`;return e}linkSelections(e){for(let n in e)e[n]="["+e[n]+"](http://)";return e}imageSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="!["+e[n]+"](/files/)";return e}boldSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="**"+e[n]+"**";return e}italicSelections(e){e||(e=this.editor.getSelections());for(let n in e)e[n]="*"+e[n]+"*";return e}h2Selections(e){for(let n in e)e[n]=`
## `+e[n]+`
`;return e}h3Selections(e){for(let n in e)e[n]=`
### `+e[n]+`
`;return e}h4Selections(e){for(let n in e)e[n]=`
#### `+e[n]+`
`;return e}h5Selections(e){for(let n in e)e[n]=`
##### `+e[n]+`
`;return e}h6Selections(e){for(let n in e)e[n]=`
###### `+e[n]+`
`;return e}blockquoteSelections(e){for(let n in e)e[n]=`
> `+e[n]+`
`;return e}textareaChange(){this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(()=>{this.preview.innerHTML=this.markdownit.render(this.editor.getValue())})),this.limit&&window.requestAnimationFrame(()=>{let e=this.editor.getValue(),s=mf(e).length;this.countCurrent[0].innerHTML=s,s>this.countMaxLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):s<this.countMinLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):this.countAlertActive&&(this.cont.classList.remove("content-limit"),this.countAlertActive=!1)})}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}buttonPreviewClick(e){e.preventDefault();let n=this.preview.offsetWidth;this.usePreview?this.closePreview():(this.usePreview=!0,this.buttonPreview.forEach(s=>{s.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),Wf.fromTo(this.preview,1,{x:n*-1,opacity:0},{x:0,ease:qf.easeOut,opacity:1}),window.addEventListener("keyup",this.closePreview),document.body.dispatchEvent(new CustomEvent("markdownPreviewOpen",{detail:this})))}closePreview(e){if(e)if(e.keyCode===27)e.preventDefault();else return;let n=this.preview.offsetWidth;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(s=>{s.classList.remove("uk-active","active")}),Wf.fromTo(this.preview,1,{x:0,opacity:1},{x:n*-1,opacity:0,ease:qf.easeOut,onComplete:()=>{this.preview.classList.remove("active")}})}destroy(){this.preview.remove()}resize(){}}class cE{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class hE{constructor(e,n){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let s={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:u=>u.execCommand("indentMore"),"Shift-Tab":u=>u.execCommand("indentLess")}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(n=>{n.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}var Jc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var fE=Jc.exports,Hg;function dE(){return Hg||(Hg=1,function(t,e){(function(n,s){s(e)})(fE,function(n){var s="1.9.4";function u(o){var m,y,A,U;for(y=1,A=arguments.length;y<A;y++){U=arguments[y];for(m in U)o[m]=U[m]}return o}var l=Object.create||function(){function o(){}return function(m){return o.prototype=m,new o}}();function h(o,m){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var A=y.call(arguments,2);return function(){return o.apply(m,A.length?A.concat(y.call(arguments)):arguments)}}var f=0;function v(o){return"_leaflet_id"in o||(o._leaflet_id=++f),o._leaflet_id}function x(o,m,y){var A,U,oe,Ae;return Ae=function(){A=!1,U&&(oe.apply(y,U),U=!1)},oe=function(){A?U=arguments:(o.apply(y,arguments),setTimeout(Ae,m),A=!0)},oe}function w(o,m,y){var A=m[1],U=m[0],oe=A-U;return o===A&&y?o:((o-U)%oe+oe)%oe+U}function E(){return!1}function O(o,m){if(m===!1)return o;var y=Math.pow(10,m===void 0?6:m);return Math.round(o*y)/y}function H(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function F(o){return H(o).split(/\s+/)}function j(o,m){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var y in m)o.options[y]=m[y];return o.options}function q(o,m,y){var A=[];for(var U in o)A.push(encodeURIComponent(y?U.toUpperCase():U)+"="+encodeURIComponent(o[U]));return(!m||m.indexOf("?")===-1?"?":"&")+A.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function S(o,m){return o.replace(M,function(y,A){var U=m[A];if(U===void 0)throw new Error("No value provided for variable "+y);return typeof U=="function"&&(U=U(m)),U})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function B(o,m){for(var y=0;y<o.length;y++)if(o[y]===m)return y;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var ne=0;function ue(o){var m=+new Date,y=Math.max(0,16-(m-ne));return ne=m+y,window.setTimeout(o,y)}var de=window.requestAnimationFrame||V("RequestAnimationFrame")||ue,ge=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function he(o,m,y){if(y&&de===ue)o.call(m);else return de.call(window,h(o,m))}function Le(o){o&&ge.call(window,o)}var ve={__proto__:null,extend:u,create:l,bind:h,get lastId(){return f},stamp:v,throttle:x,wrapNum:w,falseFn:E,formatNum:O,trim:H,splitWords:F,setOptions:j,getParamString:q,template:S,isArray:D,indexOf:B,emptyImageUrl:I,requestFn:de,cancelFn:ge,requestAnimFrame:he,cancelAnimFrame:Le};function re(){}re.extend=function(o){var m=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=m.__super__=this.prototype,A=l(y);A.constructor=m,m.prototype=A;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(m[U]=this[U]);return o.statics&&u(m,o.statics),o.includes&&(P(o.includes),u.apply(null,[A].concat(o.includes))),u(A,o),delete A.statics,delete A.includes,A.options&&(A.options=y.options?l(y.options):{},u(A.options,o.options)),A._initHooks=[],A.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,Ae=A._initHooks.length;oe<Ae;oe++)A._initHooks[oe].call(this)}},m},re.include=function(o){var m=this.prototype.options;return u(this.prototype,o),o.options&&(this.prototype.options=m,this.mergeOptions(o.options)),this},re.mergeOptions=function(o){return u(this.prototype.options,o),this},re.addInitHook=function(o){var m=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function P(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var m=0;m<o.length;m++)o[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(o,m,y){if(typeof o=="object")for(var A in o)this._on(A,o[A],m);else{o=F(o);for(var U=0,oe=o.length;U<oe;U++)this._on(o[U],m,y)}return this},off:function(o,m,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var A in o)this._off(A,o[A],m);else{o=F(o);for(var U=arguments.length===1,oe=0,Ae=o.length;oe<Ae;oe++)U?this._off(o[oe]):this._off(o[oe],m,y)}return this},_on:function(o,m,y,A){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(o,m,y)===!1){y===this&&(y=void 0);var U={fn:m,ctx:y};A&&(U.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(U)}},_off:function(o,m,y){var A,U,oe;if(this._events&&(A=this._events[o],!!A)){if(arguments.length===1){if(this._firingCount)for(U=0,oe=A.length;U<oe;U++)A[U].fn=E;delete this._events[o];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Ae=this._listens(o,m,y);if(Ae!==!1){var We=A[Ae];this._firingCount&&(We.fn=E,this._events[o]=A=A.slice()),A.splice(Ae,1)}}},fire:function(o,m,y){if(!this.listens(o,y))return this;var A=u({},m,{type:o,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var U=this._events[o];if(U){this._firingCount=this._firingCount+1||1;for(var oe=0,Ae=U.length;oe<Ae;oe++){var We=U[oe],Ye=We.fn;We.once&&this.off(o,Ye,We.ctx),Ye.call(We.ctx||this,A)}this._firingCount--}}return y&&this._propagateEvent(A),this},listens:function(o,m,y,A){typeof o!="string"&&console.warn('"string" type argument expected');var U=m;typeof m!="function"&&(A=!!m,U=void 0,y=void 0);var oe=this._events&&this._events[o];if(oe&&oe.length&&this._listens(o,U,y)!==!1)return!0;if(A){for(var Ae in this._eventParents)if(this._eventParents[Ae].listens(o,m,y,A))return!0}return!1},_listens:function(o,m,y){if(!this._events)return!1;var A=this._events[o]||[];if(!m)return!!A.length;y===this&&(y=void 0);for(var U=0,oe=A.length;U<oe;U++)if(A[U].fn===m&&A[U].ctx===y)return U;return!1},once:function(o,m,y){if(typeof o=="object")for(var A in o)this._on(A,o[A],m,!0);else{o=F(o);for(var U=0,oe=o.length;U<oe;U++)this._on(o[U],m,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[v(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[v(o)],this},_propagateEvent:function(o){for(var m in this._eventParents)this._eventParents[m].fire(o.type,u({layer:o.target,propagatedFrom:o.target},o),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ye=re.extend(se);function Ee(o,m,y){this.x=y?Math.round(o):o,this.y=y?Math.round(m):m}var it=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Ee.prototype={clone:function(){return new Ee(this.x,this.y)},add:function(o){return this.clone()._add(Be(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Be(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Ee(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Ee(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(o){o=Be(o);var m=o.x-this.x,y=o.y-this.y;return Math.sqrt(m*m+y*y)},equals:function(o){return o=Be(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Be(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function Be(o,m,y){return o instanceof Ee?o:D(o)?new Ee(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Ee(o.x,o.y):new Ee(o,m,y)}function Me(o,m){if(o)for(var y=m?[o,m]:o,A=0,U=y.length;A<U;A++)this.extend(y[A])}Me.prototype={extend:function(o){var m,y;if(!o)return this;if(o instanceof Ee||typeof o[0]=="number"||"x"in o)m=y=Be(o);else if(o=te(o),m=o.min,y=o.max,!m||!y)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=y.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return Be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Be(this.min.x,this.max.y)},getTopRight:function(){return Be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var m,y;return typeof o[0]=="number"||o instanceof Ee?o=Be(o):o=te(o),o instanceof Me?(m=o.min,y=o.max):m=y=o,m.x>=this.min.x&&y.x<=this.max.x&&m.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=te(o);var m=this.min,y=this.max,A=o.min,U=o.max,oe=U.x>=m.x&&A.x<=y.x,Ae=U.y>=m.y&&A.y<=y.y;return oe&&Ae},overlaps:function(o){o=te(o);var m=this.min,y=this.max,A=o.min,U=o.max,oe=U.x>m.x&&A.x<y.x,Ae=U.y>m.y&&A.y<y.y;return oe&&Ae},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var m=this.min,y=this.max,A=Math.abs(m.x-y.x)*o,U=Math.abs(m.y-y.y)*o;return te(Be(m.x-A,m.y-U),Be(y.x+A,y.y+U))},equals:function(o){return o?(o=te(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function te(o,m){return!o||o instanceof Me?o:new Me(o,m)}function Y(o,m){if(o)for(var y=m?[o,m]:o,A=0,U=y.length;A<U;A++)this.extend(y[A])}Y.prototype={extend:function(o){var m=this._southWest,y=this._northEast,A,U;if(o instanceof Fe)A=o,U=o;else if(o instanceof Y){if(A=o._southWest,U=o._northEast,!A||!U)return this}else return o?this.extend(Z(o)||De(o)):this;return!m&&!y?(this._southWest=new Fe(A.lat,A.lng),this._northEast=new Fe(U.lat,U.lng)):(m.lat=Math.min(A.lat,m.lat),m.lng=Math.min(A.lng,m.lng),y.lat=Math.max(U.lat,y.lat),y.lng=Math.max(U.lng,y.lng)),this},pad:function(o){var m=this._southWest,y=this._northEast,A=Math.abs(m.lat-y.lat)*o,U=Math.abs(m.lng-y.lng)*o;return new Y(new Fe(m.lat-A,m.lng-U),new Fe(y.lat+A,y.lng+U))},getCenter:function(){return new Fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Fe||"lat"in o?o=Z(o):o=De(o);var m=this._southWest,y=this._northEast,A,U;return o instanceof Y?(A=o.getSouthWest(),U=o.getNorthEast()):A=U=o,A.lat>=m.lat&&U.lat<=y.lat&&A.lng>=m.lng&&U.lng<=y.lng},intersects:function(o){o=De(o);var m=this._southWest,y=this._northEast,A=o.getSouthWest(),U=o.getNorthEast(),oe=U.lat>=m.lat&&A.lat<=y.lat,Ae=U.lng>=m.lng&&A.lng<=y.lng;return oe&&Ae},overlaps:function(o){o=De(o);var m=this._southWest,y=this._northEast,A=o.getSouthWest(),U=o.getNorthEast(),oe=U.lat>m.lat&&A.lat<y.lat,Ae=U.lng>m.lng&&A.lng<y.lng;return oe&&Ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,m){return o?(o=De(o),this._southWest.equals(o.getSouthWest(),m)&&this._northEast.equals(o.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(o,m){return o instanceof Y?o:new Y(o,m)}function Fe(o,m,y){if(isNaN(o)||isNaN(m))throw new Error("Invalid LatLng object: ("+o+", "+m+")");this.lat=+o,this.lng=+m,y!==void 0&&(this.alt=+y)}Fe.prototype={equals:function(o,m){if(!o)return!1;o=Z(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(m===void 0?1e-9:m)},toString:function(o){return"LatLng("+O(this.lat,o)+", "+O(this.lng,o)+")"},distanceTo:function(o){return Te.distance(this,Z(o))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(o){var m=180*o/40075017,y=m/Math.cos(Math.PI/180*this.lat);return De([this.lat-m,this.lng-y],[this.lat+m,this.lng+y])},clone:function(){return new Fe(this.lat,this.lng,this.alt)}};function Z(o,m,y){return o instanceof Fe?o:D(o)&&typeof o[0]!="object"?o.length===3?new Fe(o[0],o[1],o[2]):o.length===2?new Fe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Fe(o.lat,"lng"in o?o.lng:o.lon,o.alt):m===void 0?null:new Fe(o,m,y)}var we={latLngToPoint:function(o,m){var y=this.projection.project(o),A=this.scale(m);return this.transformation._transform(y,A)},pointToLatLng:function(o,m){var y=this.scale(m),A=this.transformation.untransform(o,y);return this.projection.unproject(A)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var m=this.projection.bounds,y=this.scale(o),A=this.transformation.transform(m.min,y),U=this.transformation.transform(m.max,y);return new Me(A,U)},infinite:!1,wrapLatLng:function(o){var m=this.wrapLng?w(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?w(o.lat,this.wrapLat,!0):o.lat,A=o.alt;return new Fe(y,m,A)},wrapLatLngBounds:function(o){var m=o.getCenter(),y=this.wrapLatLng(m),A=m.lat-y.lat,U=m.lng-y.lng;if(A===0&&U===0)return o;var oe=o.getSouthWest(),Ae=o.getNorthEast(),We=new Fe(oe.lat-A,oe.lng-U),Ye=new Fe(Ae.lat-A,Ae.lng-U);return new Y(We,Ye)}},Te=u({},we,{wrapLng:[-180,180],R:6371e3,distance:function(o,m){var y=Math.PI/180,A=o.lat*y,U=m.lat*y,oe=Math.sin((m.lat-o.lat)*y/2),Ae=Math.sin((m.lng-o.lng)*y/2),We=oe*oe+Math.cos(A)*Math.cos(U)*Ae*Ae,Ye=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*Ye}}),qe=6378137,Xe={R:qe,MAX_LATITUDE:85.0511287798,project:function(o){var m=Math.PI/180,y=this.MAX_LATITUDE,A=Math.max(Math.min(y,o.lat),-y),U=Math.sin(A*m);return new Ee(this.R*o.lng*m,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(o){var m=180/Math.PI;return new Fe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*m,o.x*m/this.R)},bounds:function(){var o=qe*Math.PI;return new Me([-o,-o],[o,o])}()};function Ze(o,m,y,A){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=m,this._c=y,this._d=A}Ze.prototype={transform:function(o,m){return this._transform(o.clone(),m)},_transform:function(o,m){return m=m||1,o.x=m*(this._a*o.x+this._b),o.y=m*(this._c*o.y+this._d),o},untransform:function(o,m){return m=m||1,new Ee((o.x/m-this._b)/this._a,(o.y/m-this._d)/this._c)}};function ut(o,m,y,A){return new Ze(o,m,y,A)}var Et=u({},Te,{code:"EPSG:3857",projection:Xe,transformation:function(){var o=.5/(Math.PI*Xe.R);return ut(o,.5,-o,.5)}()}),wt=u({},Et,{code:"EPSG:900913"});function St(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function _t(o,m){var y="",A,U,oe,Ae,We,Ye;for(A=0,oe=o.length;A<oe;A++){for(We=o[A],U=0,Ae=We.length;U<Ae;U++)Ye=We[U],y+=(U?"L":"M")+Ye.x+" "+Ye.y;y+=m?Ot.svg?"z":"x":""}return y||"M0 0"}var Mt=document.documentElement.style,jt="ActiveXObject"in window,Kt=jt&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),le=En("webkit"),Q=En("android"),fe=En("android 2")||En("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ze=Q&&En("Google")&&pe<537&&!("AudioNode"in window),ot=!!window.opera,Qe=!X&&En("chrome"),mt=En("gecko")&&!le&&!ot&&!jt,Pt=!Qe&&En("safari"),ct=En("phantom"),$t="OTransition"in Mt,Yt=navigator.platform.indexOf("Win")===0,Qt=jt&&"transition"in Mt,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fe,xt="MozPerspective"in Mt,Un=!window.L_DISABLE_3D&&(Qt||Vt||xt)&&!$t&&!ct,Ut=typeof orientation<"u"||En("mobile"),mr=Ut&&le,Ft=Ut&&Vt,un=!window.PointerEvent&&window.MSPointerEvent,yi=!!(window.PointerEvent||un),Fi="ontouchstart"in window||!!window.TouchEvent,pi=!window.L_NO_TOUCH&&(Fi||yi),wi=Ut&&ot,ui=Ut&&mt,si=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bi=function(){var o=!1;try{var m=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,m),window.removeEventListener("testPassiveEventSupport",E,m)}catch{}return o}(),eo=function(){return!!document.createElement("canvas").getContext}(),Hi=!!(document.createElementNS&&St("svg").createSVGRect),Fr=!!Hi&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$i=!Hi&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var m=o.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),Qi=navigator.platform.indexOf("Mac")===0,gr=navigator.platform.indexOf("Linux")===0;function En(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ot={ie:jt,ielt9:Kt,edge:X,webkit:le,android:Q,android23:fe,androidStock:ze,opera:ot,chrome:Qe,gecko:mt,safari:Pt,phantom:ct,opera12:$t,win:Yt,ie3d:Qt,webkit3d:Vt,gecko3d:xt,any3d:Un,mobile:Ut,mobileWebkit:mr,mobileWebkit3d:Ft,msPointer:un,pointer:yi,touch:pi,touchNative:Fi,mobileOpera:wi,mobileGecko:ui,retina:si,passiveEvents:Bi,canvas:eo,svg:Hi,vml:$i,inlineSvg:Fr,mac:Qi,linux:gr},vr=Ot.msPointer?"MSPointerDown":"pointerdown",Yn=Ot.msPointer?"MSPointerMove":"pointermove",Gn=Ot.msPointer?"MSPointerUp":"pointerup",nr=Ot.msPointer?"MSPointerCancel":"pointercancel",jr={touchstart:vr,touchmove:Yn,touchend:Gn,touchcancel:nr},Xi={touchstart:yn,touchmove:Nr,touchend:Nr,touchcancel:Nr},Ji={},rr=!1;function or(o,m,y){return m==="touchstart"&&Tn(),Xi[m]?(y=Xi[m].bind(this,y),o.addEventListener(jr[m],y,!1),y):(console.warn("wrong event specified:",m),E)}function Sn(o,m,y){if(!jr[m]){console.warn("wrong event specified:",m);return}o.removeEventListener(jr[m],y,!1)}function to(o){Ji[o.pointerId]=o}function io(o){Ji[o.pointerId]&&(Ji[o.pointerId]=o)}function kr(o){delete Ji[o.pointerId]}function Tn(){rr||(document.addEventListener(vr,to,!0),document.addEventListener(Yn,io,!0),document.addEventListener(Gn,kr,!0),document.addEventListener(nr,kr,!0),rr=!0)}function Nr(o,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var y in Ji)m.touches.push(Ji[y]);m.changedTouches=[m],o(m)}}function yn(o,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Xt(m),Nr(o,m)}function fo(o){var m={},y,A;for(A in o)y=o[A],m[A]=y&&y.bind?y.bind(o):y;return o=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Xn=200;function ji(o,m){o.addEventListener("dblclick",m);var y=0,A;function U(oe){if(oe.detail!==1){A=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var Ae=wn(oe);if(!(Ae.some(function(Ye){return Ye instanceof HTMLLabelElement&&Ye.attributes.for})&&!Ae.some(function(Ye){return Ye instanceof HTMLInputElement||Ye instanceof HTMLSelectElement}))){var We=Date.now();We-y<=Xn?(A++,A===2&&m(fo(oe))):A=1,y=We}}}return o.addEventListener("click",U),{dblclick:m,simDblclick:U}}function Dt(o,m){o.removeEventListener("dblclick",m.dblclick),o.removeEventListener("click",m.simDblclick)}var Zn=T(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ar=T(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),In=ar==="webkitTransition"||ar==="OTransition"?ar+"End":"transitionend";function J(o){return typeof o=="string"?document.getElementById(o):o}function xe(o,m){var y=o.style[m]||o.currentStyle&&o.currentStyle[m];if((!y||y==="auto")&&document.defaultView){var A=document.defaultView.getComputedStyle(o,null);y=A?A[m]:null}return y==="auto"?null:y}function $e(o,m,y){var A=document.createElement(o);return A.className=m||"",y&&y.appendChild(A),A}function nt(o){var m=o.parentNode;m&&m.removeChild(o)}function je(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function pt(o){var m=o.parentNode;m&&m.lastChild!==o&&m.appendChild(o)}function ni(o){var m=o.parentNode;m&&m.firstChild!==o&&m.insertBefore(o,m.firstChild)}function Ui(o,m){if(o.classList!==void 0)return o.classList.contains(m);var y=Wt(o);return y.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(y)}function Nt(o,m){if(o.classList!==void 0)for(var y=F(m),A=0,U=y.length;A<U;A++)o.classList.add(y[A]);else if(!Ui(o,m)){var oe=Wt(o);po(o,(oe?oe+" ":"")+m)}}function li(o,m){o.classList!==void 0?o.classList.remove(m):po(o,H((" "+Wt(o)+" ").replace(" "+m+" "," ")))}function po(o,m){o.className.baseVal===void 0?o.className=m:o.className.baseVal=m}function Wt(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ke(o,m){"opacity"in o.style?o.style.opacity=m:"filter"in o.style&&_(o,m)}function _(o,m){var y=!1,A="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(A)}catch{if(m===1)return}m=Math.round(m*100),y?(y.Enabled=m!==100,y.Opacity=m):o.style.filter+=" progid:"+A+"(opacity="+m+")"}function T(o){for(var m=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in m)return o[y];return!1}function N(o,m,y){var A=m||new Ee(0,0);o.style[Zn]=(Ot.ie3d?"translate("+A.x+"px,"+A.y+"px)":"translate3d("+A.x+"px,"+A.y+"px,0)")+(y?" scale("+y+")":"")}function ie(o,m){o._leaflet_pos=m,Ot.any3d?N(o,m):(o.style.left=m.x+"px",o.style.top=m.y+"px")}function ae(o){return o._leaflet_pos||new Ee(0,0)}var _e,Oe,Je;if("onselectstart"in document)_e=function(){Rt(window,"selectstart",Xt)},Oe=function(){ri(window,"selectstart",Xt)};else{var et=T(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_e=function(){if(et){var o=document.documentElement.style;Je=o[et],o[et]="none"}},Oe=function(){et&&(document.documentElement.style[et]=Je,Je=void 0)}}function Ve(){Rt(window,"dragstart",Xt)}function Ke(){ri(window,"dragstart",Xt)}var ht,hi;function fi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Wi(),ht=o,hi=o.style.outlineStyle,o.style.outlineStyle="none",Rt(window,"keydown",Wi))}function Wi(){ht&&(ht.style.outlineStyle=hi,ht=void 0,hi=void 0,ri(window,"keydown",Wi))}function Ei(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Pi(o){var m=o.getBoundingClientRect();return{x:m.width/o.offsetWidth||1,y:m.height/o.offsetHeight||1,boundingClientRect:m}}var fn={__proto__:null,TRANSFORM:Zn,TRANSITION:ar,TRANSITION_END:In,get:J,getStyle:xe,create:$e,remove:nt,empty:je,toFront:pt,toBack:ni,hasClass:Ui,addClass:Nt,removeClass:li,setClass:po,getClass:Wt,setOpacity:ke,testProp:T,setTransform:N,setPosition:ie,getPosition:ae,get disableTextSelection(){return _e},get enableTextSelection(){return Oe},disableImageDrag:Ve,enableImageDrag:Ke,preventOutline:fi,restoreOutline:Wi,getSizedParentNode:Ei,getScale:Pi};function Rt(o,m,y,A){if(m&&typeof m=="object")for(var U in m)an(o,U,m[U],y);else{m=F(m);for(var oe=0,Ae=m.length;oe<Ae;oe++)an(o,m[oe],y,A)}return this}var on="_leaflet_events";function ri(o,m,y,A){if(arguments.length===1)gt(o),delete o[on];else if(m&&typeof m=="object")for(var U in m)sr(o,U,m[U],y);else if(m=F(m),arguments.length===2)gt(o,function(We){return B(m,We)!==-1});else for(var oe=0,Ae=m.length;oe<Ae;oe++)sr(o,m[oe],y,A);return this}function gt(o,m){for(var y in o[on]){var A=y.split(/\d/)[0];(!m||m(A))&&sr(o,A,null,null,y)}}var xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function an(o,m,y,A){var U=m+v(y)+(A?"_"+v(A):"");if(o[on]&&o[on][U])return this;var oe=function(We){return y.call(A||o,We||window.event)},Ae=oe;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?oe=or(o,m,oe):Ot.touch&&m==="dblclick"?oe=ji(o,oe):"addEventListener"in o?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?o.addEventListener(xi[m]||m,oe,Ot.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(oe=function(We){We=We||window.event,Zo(o,We)&&Ae(We)},o.addEventListener(xi[m],oe,!1)):o.addEventListener(m,Ae,!1):o.attachEvent("on"+m,oe),o[on]=o[on]||{},o[on][U]=oe}function sr(o,m,y,A,U){U=U||m+v(y)+(A?"_"+v(A):"");var oe=o[on]&&o[on][U];if(!oe)return this;!Ot.touchNative&&Ot.pointer&&m.indexOf("touch")===0?Sn(o,m,oe):Ot.touch&&m==="dblclick"?Dt(o,oe):"removeEventListener"in o?o.removeEventListener(xi[m]||m,oe,!1):o.detachEvent("on"+m,oe),o[on][U]=null}function An(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ur(o){return an(o,"wheel",An),this}function Ir(o){return Rt(o,"mousedown touchstart dblclick contextmenu",An),o._leaflet_disable_click=!0,this}function Xt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function oi(o){return Xt(o),An(o),this}function wn(o){if(o.composedPath)return o.composedPath();for(var m=[],y=o.target;y;)m.push(y),y=y.parentNode;return m}function zr(o,m){if(!m)return new Ee(o.clientX,o.clientY);var y=Pi(m),A=y.boundingClientRect;return new Ee((o.clientX-A.left)/y.x-m.clientLeft,(o.clientY-A.top)/y.y-m.clientTop)}var Xo=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _a(o){return Ot.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Xo:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Zo(o,m){var y=m.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var ya={__proto__:null,on:Rt,off:ri,stopPropagation:An,disableScrollPropagation:Ur,disableClickPropagation:Ir,preventDefault:Xt,stop:oi,getPropagationPath:wn,getMousePosition:zr,getWheelDelta:_a,isExternalTarget:Zo,addListener:Rt,removeListener:ri},Ba=ye.extend({run:function(o,m,y,A){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(A||.5,.2),this._startPos=ae(o),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=he(this._animate,this),this._step()},_step:function(o){var m=+new Date-this._startTime,y=this._duration*1e3;m<y?this._runFrame(this._easeOut(m/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,m){var y=this._startPos.add(this._offset.multiplyBy(o));m&&y._round(),ie(this._el,y),this.fire("step")},_complete:function(){Le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),gi=ye.extend({options:{crs:Et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,m){m=j(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(Z(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ar&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,In,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,m,y){if(m=m===void 0?this._zoom:this._limitZoom(m),o=this._limitCenter(Z(o),m,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=u({animate:y.animate},y.zoom),y.pan=u({animate:y.animate,duration:y.duration},y.pan));var A=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,m,y.zoom):this._tryAnimatedPan(o,y.pan);if(A)return clearTimeout(this._sizeTimer),this}return this._resetView(o,m,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,m){return this._loaded?this.setView(this.getCenter(),o,{zoom:m}):(this._zoom=o,this)},zoomIn:function(o,m){return o=o||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,m)},zoomOut:function(o,m){return o=o||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,m)},setZoomAround:function(o,m,y){var A=this.getZoomScale(m),U=this.getSize().divideBy(2),oe=o instanceof Ee?o:this.latLngToContainerPoint(o),Ae=oe.subtract(U).multiplyBy(1-1/A),We=this.containerPointToLatLng(U.add(Ae));return this.setView(We,m,{zoom:y})},_getBoundsCenterZoom:function(o,m){m=m||{},o=o.getBounds?o.getBounds():De(o);var y=Be(m.paddingTopLeft||m.padding||[0,0]),A=Be(m.paddingBottomRight||m.padding||[0,0]),U=this.getBoundsZoom(o,!1,y.add(A));if(U=typeof m.maxZoom=="number"?Math.min(m.maxZoom,U):U,U===1/0)return{center:o.getCenter(),zoom:U};var oe=A.subtract(y).divideBy(2),Ae=this.project(o.getSouthWest(),U),We=this.project(o.getNorthEast(),U),Ye=this.unproject(Ae.add(We).divideBy(2).add(oe),U);return{center:Ye,zoom:U}},fitBounds:function(o,m){if(o=De(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,m);return this.setView(y.center,y.zoom,m)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,m){return this.setView(o,this._zoom,{pan:m})},panBy:function(o,m){if(o=Be(o).round(),m=m||{},!o.x&&!o.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,m.duration||.25,m.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,m,y){if(y=y||{},y.animate===!1||!Ot.any3d)return this.setView(o,m,y);this._stop();var A=this.project(this.getCenter()),U=this.project(o),oe=this.getSize(),Ae=this._zoom;o=Z(o),m=m===void 0?Ae:m;var We=Math.max(oe.x,oe.y),Ye=We*this.getZoomScale(Ae,m),lt=U.distanceTo(A)||1,Ct=1.42,zt=Ct*Ct;function ai(rn){var Ts=rn?-1:1,ce=rn?Ye:We,Ga=Ye*Ye-We*We+Ts*zt*zt*lt*lt,Vn=2*ce*zt*lt,Li=Ga/Vn,Gt=Math.sqrt(Li*Li+1)-Li,Ln=Gt<1e-9?-18:Math.log(Gt);return Ln}function Zi(rn){return(Math.exp(rn)-Math.exp(-rn))/2}function Vi(rn){return(Math.exp(rn)+Math.exp(-rn))/2}function mn(rn){return Zi(rn)/Vi(rn)}var Bn=ai(0);function Zr(rn){return We*(Vi(Bn)/Vi(Bn+Ct*rn))}function Tl(rn){return We*(Vi(Bn)*mn(Bn+Ct*rn)-Zi(Bn))/zt}function gc(rn){return 1-Math.pow(1-rn,1.5)}var Sa=Date.now(),sa=(ai(1)-Bn)/Ct,vc=y.duration?1e3*y.duration:1e3*sa*.8;function Ss(){var rn=(Date.now()-Sa)/vc,Ts=gc(rn)*sa;rn<=1?(this._flyToFrame=he(Ss,this),this._move(this.unproject(A.add(U.subtract(A).multiplyBy(Tl(Ts)/lt)),Ae),this.getScaleZoom(We/Zr(Ts),Ae),{flyTo:!0})):this._move(o,m)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),Ss.call(this),this},flyToBounds:function(o,m){var y=this._getBoundsCenterZoom(o,m);return this.flyTo(y.center,y.zoom,m)},setMaxBounds:function(o){return o=De(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var m=this.options.minZoom;return this.options.minZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var m=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,m){this._enforcingBounds=!0;var y=this.getCenter(),A=this._limitCenter(y,this._zoom,De(o));return y.equals(A)||this.panTo(A,m),this._enforcingBounds=!1,this},panInside:function(o,m){m=m||{};var y=Be(m.paddingTopLeft||m.padding||[0,0]),A=Be(m.paddingBottomRight||m.padding||[0,0]),U=this.project(this.getCenter()),oe=this.project(o),Ae=this.getPixelBounds(),We=te([Ae.min.add(y),Ae.max.subtract(A)]),Ye=We.getSize();if(!We.contains(oe)){this._enforcingBounds=!0;var lt=oe.subtract(We.getCenter()),Ct=We.extend(oe).getSize().subtract(Ye);U.x+=lt.x<0?-Ct.x:Ct.x,U.y+=lt.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(U),m),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=u({animate:!1,pan:!0},o===!0?{animate:!0}:o);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),A=m.divideBy(2).round(),U=y.divideBy(2).round(),oe=A.subtract(U);return!oe.x&&!oe.y?this:(o.animate&&o.pan?this.panBy(oe):(o.pan&&this._rawPanBy(oe),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=u({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=h(this._handleGeolocationResponse,this),y=h(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,y,o):navigator.geolocation.getCurrentPosition(m,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var m=o.code,y=o.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var m=o.coords.latitude,y=o.coords.longitude,A=new Fe(m,y),U=A.toBounds(o.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var Ae=this.getBoundsZoom(U);this.setView(A,oe.maxZoom?Math.min(Ae,oe.maxZoom):Ae)}var We={latlng:A,bounds:U,timestamp:o.timestamp};for(var Ye in o.coords)typeof o.coords[Ye]=="number"&&(We[Ye]=o.coords[Ye]);this.fire("locationfound",We)}},addHandler:function(o,m){if(!m)return this;var y=this[o]=new m(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)nt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,m){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),A=$e("div",y,m||this._mapPane);return o&&(this._panes[o]=A),A},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),m=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new Y(m,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,m,y){o=De(o),y=Be(y||[0,0]);var A=this.getZoom()||0,U=this.getMinZoom(),oe=this.getMaxZoom(),Ae=o.getNorthWest(),We=o.getSouthEast(),Ye=this.getSize().subtract(y),lt=te(this.project(We,A),this.project(Ae,A)).getSize(),Ct=Ot.any3d?this.options.zoomSnap:1,zt=Ye.x/lt.x,ai=Ye.y/lt.y,Zi=m?Math.max(zt,ai):Math.min(zt,ai);return A=this.getScaleZoom(Zi,A),Ct&&(A=Math.round(A/(Ct/100))*(Ct/100),A=m?Math.ceil(A/Ct)*Ct:Math.floor(A/Ct)*Ct),Math.max(U,Math.min(oe,A))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,m){var y=this._getTopLeftPoint(o,m);return new Me(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,m){var y=this.options.crs;return m=m===void 0?this._zoom:m,y.scale(o)/y.scale(m)},getScaleZoom:function(o,m){var y=this.options.crs;m=m===void 0?this._zoom:m;var A=y.zoom(o*y.scale(m));return isNaN(A)?1/0:A},project:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(Z(o),m)},unproject:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Be(o),m)},layerPointToLatLng:function(o){var m=Be(o).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(o){var m=this.project(Z(o))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Z(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(De(o))},distance:function(o,m){return this.options.crs.distance(Z(o),Z(m))},containerPointToLayerPoint:function(o){return Be(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Be(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var m=this.containerPointToLayerPoint(Be(o));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(o)))},mouseEventToContainerPoint:function(o){return zr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var m=this._container=J(o);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Rt(m,"scroll",this._onScroll,this),this._containerId=v(m)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Nt(o,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=xe(o,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ie(this._mapPane,new Ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(o.markerPane,"leaflet-zoom-hide"),Nt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,m,y){ie(this._mapPane,new Ee(0,0));var A=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var U=this._zoom!==m;this._moveStart(U,y)._move(o,m)._moveEnd(U),this.fire("viewreset"),A&&this.fire("load")},_moveStart:function(o,m){return o&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(o,m,y,A){m===void 0&&(m=this._zoom);var U=this._zoom!==m;return this._zoom=m,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),A?y&&y.pinch&&this.fire("zoom",y):((U||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ie(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[v(this._container)]=this;var m=o?ri:Rt;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Le(this._resizeRequest),this._resizeRequest=he(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,m){for(var y=[],A,U=m==="mouseout"||m==="mouseover",oe=o.target||o.srcElement,Ae=!1;oe;){if(A=this._targets[v(oe)],A&&(m==="click"||m==="preclick")&&this._draggableMoved(A)){Ae=!0;break}if(A&&A.listens(m,!0)&&(U&&!Zo(oe,o)||(y.push(A),U))||oe===this._container)break;oe=oe.parentNode}return!y.length&&!Ae&&!U&&this.listens(m,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var m=o.target||o.srcElement;if(!(!this._loaded||m._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(m))){var y=o.type;y==="mousedown"&&fi(m),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,m,y){if(o.type==="click"){var A=u({},o);A.type="preclick",this._fireDOMEvent(A,A.type,y)}var U=this._findEventTargets(o,m);if(y){for(var oe=[],Ae=0;Ae<y.length;Ae++)y[Ae].listens(m,!0)&&oe.push(y[Ae]);U=oe.concat(U)}if(U.length){m==="contextmenu"&&Xt(o);var We=U[0],Ye={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var lt=We.getLatLng&&(!We._radius||We._radius<=10);Ye.containerPoint=lt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(o),Ye.layerPoint=this.containerPointToLayerPoint(Ye.containerPoint),Ye.latlng=lt?We.getLatLng():this.layerPointToLatLng(Ye.layerPoint)}for(Ae=0;Ae<U.length;Ae++)if(U[Ae].fire(m,Ye,!0),Ye.originalEvent._stopped||U[Ae].options.bubblingMouseEvents===!1&&B(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,m=this._handlers.length;o<m;o++)this._handlers[o].disable()},whenReady:function(o,m){return this._loaded?o.call(m||this,{target:this}):this.on("load",o,m),this},_getMapPanePos:function(){return ae(this._mapPane)||new Ee(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,m){var y=o&&m!==void 0?this._getNewPixelOrigin(o,m):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,m){var y=this.getSize()._divideBy(2);return this.project(o,m)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,m,y){var A=this._getNewPixelOrigin(y,m);return this.project(o,m)._subtract(A)},_latLngBoundsToNewLayerBounds:function(o,m,y){var A=this._getNewPixelOrigin(y,m);return te([this.project(o.getSouthWest(),m)._subtract(A),this.project(o.getNorthWest(),m)._subtract(A),this.project(o.getSouthEast(),m)._subtract(A),this.project(o.getNorthEast(),m)._subtract(A)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,m,y){if(!y)return o;var A=this.project(o,m),U=this.getSize().divideBy(2),oe=new Me(A.subtract(U),A.add(U)),Ae=this._getBoundsOffset(oe,y,m);return Math.abs(Ae.x)<=1&&Math.abs(Ae.y)<=1?o:this.unproject(A.add(Ae),m)},_limitOffset:function(o,m){if(!m)return o;var y=this.getPixelBounds(),A=new Me(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(A,m))},_getBoundsOffset:function(o,m,y){var A=te(this.project(m.getNorthEast(),y),this.project(m.getSouthWest(),y)),U=A.min.subtract(o.min),oe=A.max.subtract(o.max),Ae=this._rebound(U.x,-oe.x),We=this._rebound(U.y,-oe.y);return new Ee(Ae,We)},_rebound:function(o,m){return o+m>0?Math.round(o-m)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(m))},_limitZoom:function(o){var m=this.getMinZoom(),y=this.getMaxZoom(),A=Ot.any3d?this.options.zoomSnap:1;return A&&(o=Math.round(o/A)*A),Math.max(m,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,m){var y=this._getCenterOffset(o)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,m),!0)},_createAnimProxy:function(){var o=this._proxy=$e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(m){var y=Zn,A=this._proxy.style[y];N(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),A===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),m=this.getZoom();N(this._proxy,this.project(o,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,m,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var A=this.getZoomScale(m),U=this._getCenterOffset(o)._divideBy(1-1/A);return y.animate!==!0&&!this.getSize().contains(U)?!1:(he(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,m,!0)},this),!0)},_animateZoom:function(o,m,y,A){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=m,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:m,noUpdate:A}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ni(o,m){return new gi(o,m)}var br=re.extend({options:{position:"topright"},initialize:function(o){j(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var m=this._map;return m&&m.removeControl(this),this.options.position=o,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var m=this._container=this.onAdd(o),y=this.getPosition(),A=o._controlCorners[y];return Nt(m,"leaflet-control"),y.indexOf("bottom")!==-1?A.insertBefore(m,A.firstChild):A.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Br=function(o){return new br(o)};gi.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},m="leaflet-",y=this._controlContainer=$e("div",m+"control-container",this._container);function A(U,oe){var Ae=m+U+" "+m+oe;o[U+oe]=$e("div",Ae,y)}A("top","left"),A("top","right"),A("bottom","left"),A("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)nt(this._controlCorners[o]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vs=br.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,m,y,A){return y<A?-1:A<y?1:0}},initialize:function(o,m,y){j(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var A in o)this._addLayer(o[A],A);for(A in m)this._addLayer(m[A],A,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return br.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,m){return this._addLayer(o,m),this._map?this._update():this},addOverlay:function(o,m){return this._addLayer(o,m,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var m=this._getLayer(v(o));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",m=this._container=$e("div",o),y=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Ir(m),Ur(m);var A=this._section=$e("section",o+"-list");y&&(this._map.on("click",this.collapse,this),Rt(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=$e("a",o+"-toggle",m);U.href="#",U.title="Layers",U.setAttribute("role","button"),Rt(U,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Xt(oe),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=$e("div",o+"-base",A),this._separator=$e("div",o+"-separator",A),this._overlaysList=$e("div",o+"-overlays",A),m.appendChild(A)},_getLayer:function(o){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&v(this._layers[m].layer)===o)return this._layers[m]},_addLayer:function(o,m,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:m,overlay:y}),this.options.sortLayers&&this._layers.sort(h(function(A,U){return this.options.sortFunction(A.layer,U.layer,A.name,U.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;je(this._baseLayersList),je(this._overlaysList),this._layerControlInputs=[];var o,m,y,A,U=0;for(y=0;y<this._layers.length;y++)A=this._layers[y],this._addItem(A),m=m||A.overlay,o=o||!A.overlay,U+=A.overlay?0:1;return this.options.hideSingleBase&&(o=o&&U>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=m&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var m=this._getLayer(v(o.target)),y=m.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,m)},_createRadioElement:function(o,m){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(m?' checked="checked"':"")+"/>",A=document.createElement("div");return A.innerHTML=y,A.firstChild},_addItem:function(o){var m=document.createElement("label"),y=this._map.hasLayer(o.layer),A;o.overlay?(A=document.createElement("input"),A.type="checkbox",A.className="leaflet-control-layers-selector",A.defaultChecked=y):A=this._createRadioElement("leaflet-base-layers_"+v(this),y),this._layerControlInputs.push(A),A.layerId=v(o.layer),Rt(A,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+o.name;var oe=document.createElement("span");m.appendChild(oe),oe.appendChild(A),oe.appendChild(U);var Ae=o.overlay?this._overlaysList:this._baseLayersList;return Ae.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,m,y,A=[],U=[];this._handlingClick=!0;for(var oe=o.length-1;oe>=0;oe--)m=o[oe],y=this._getLayer(m.layerId).layer,m.checked?A.push(y):m.checked||U.push(y);for(oe=0;oe<U.length;oe++)this._map.hasLayer(U[oe])&&this._map.removeLayer(U[oe]);for(oe=0;oe<A.length;oe++)this._map.hasLayer(A[oe])||this._map.addLayer(A[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,m,y,A=this._map.getZoom(),U=o.length-1;U>=0;U--)m=o[U],y=this._getLayer(m.layerId).layer,m.disabled=y.options.minZoom!==void 0&&A<y.options.minZoom||y.options.maxZoom!==void 0&&A>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Rt(o,"click",Xt),this.expand();var m=this;setTimeout(function(){ri(o,"click",Xt),m._preventClick=!1})}}),qs=function(o,m,y){return new vs(o,m,y)},dn=br.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var m="leaflet-control-zoom",y=$e("div",m+" leaflet-bar"),A=this.options;return this._zoomInButton=this._createButton(A.zoomInText,A.zoomInTitle,m+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(A.zoomOutText,A.zoomOutTitle,m+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,m,y,A,U){var oe=$e("a",y,A);return oe.innerHTML=o,oe.href="#",oe.title=m,oe.setAttribute("role","button"),oe.setAttribute("aria-label",m),Ir(oe),Rt(oe,"click",oi),Rt(oe,"click",U,this),Rt(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var o=this._map,m="leaflet-disabled";li(this._zoomInButton,m),li(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Nt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Nt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});gi.mergeOptions({zoomControl:!0}),gi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dn,this.addControl(this.zoomControl))});var js=function(o){return new dn(o)},no=br.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var m="leaflet-control-scale",y=$e("div",m),A=this.options;return this._addScales(A,m+"-line",y),o.on(A.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,m,y){o.metric&&(this._mScale=$e("div",m,y)),o.imperial&&(this._iScale=$e("div",m,y))},_update:function(){var o=this._map,m=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,m]),o.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var m=this._getRoundNum(o),y=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,y,m/o)},_updateImperial:function(o){var m=o*3.2808399,y,A,U;m>5280?(y=m/5280,A=this._getRoundNum(y),this._updateScale(this._iScale,A+" mi",A/y)):(U=this._getRoundNum(m),this._updateScale(this._iScale,U+" ft",U/m))},_updateScale:function(o,m,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=m},_getRoundNum:function(o){var m=Math.pow(10,(Math.floor(o)+"").length-1),y=o/m;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,m*y}}),bs=function(o){return new no(o)},Us='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',To=br.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?Us+" ":"")+"Leaflet</a>"},initialize:function(o){j(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=$e("div","leaflet-control-attribution"),Ir(this._container);for(var m in o._layers)o._layers[m].getAttribution&&this.addAttribution(o._layers[m].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var m in this._attributions)this._attributions[m]&&o.push(m);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});gi.mergeOptions({attributionControl:!0}),gi.addInitHook(function(){this.options.attributionControl&&new To().addTo(this)});var bl=function(o){return new To(o)};br.Layers=vs,br.Zoom=dn,br.Scale=no,br.Attribution=To,Br.layers=qs,Br.zoom=js,Br.scale=bs,Br.attribution=bl;var ln=re.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ln.addTo=function(o,m){return o.addHandler(m,this),this};var pc={Events:se},Hr=Ot.touch?"touchstart mousedown":"mousedown",Ao=ye.extend({options:{clickTolerance:3},initialize:function(o,m,y,A){j(this,A),this._element=o,this._dragStartTarget=m||o,this._preventOutline=y},enable:function(){this._enabled||(Rt(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ao._dragging===this&&this.finishDrag(!0),ri(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ui(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ao._dragging===this&&this.finishDrag();return}if(!(Ao._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ao._dragging=this,this._preventOutline&&fi(this._element),Ve(),_e(),!this._moving)){this.fire("down");var m=o.touches?o.touches[0]:o,y=Ei(this._element);this._startPoint=new Ee(m.clientX,m.clientY),this._startPos=ae(this._element),this._parentScale=Pi(y);var A=o.type==="mousedown";Rt(document,A?"mousemove":"touchmove",this._onMove,this),Rt(document,A?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var m=o.touches&&o.touches.length===1?o.touches[0]:o,y=new Ee(m.clientX,m.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Xt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ie(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){li(document.body,"leaflet-dragging"),this._lastTarget&&(li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ri(document,"mousemove touchmove",this._onMove,this),ri(document,"mouseup touchend touchcancel",this._onUp,this),Ke(),Oe();var m=this._moved&&this._moving;this._moving=!1,Ao._dragging=!1,m&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ys(o,m,y){var A,U=[1,4,2,8],oe,Ae,We,Ye,lt,Ct,zt,ai;for(oe=0,Ct=o.length;oe<Ct;oe++)o[oe]._code=Cr(o[oe],m);for(We=0;We<4;We++){for(zt=U[We],A=[],oe=0,Ct=o.length,Ae=Ct-1;oe<Ct;Ae=oe++)Ye=o[oe],lt=o[Ae],Ye._code&zt?lt._code&zt||(ai=_s(lt,Ye,zt,m,y),ai._code=Cr(ai,m),A.push(ai)):(lt._code&zt&&(ai=_s(lt,Ye,zt,m,y),ai._code=Cr(ai,m),A.push(ai)),A.push(Ye));o=A}return o}function Lo(o,m){var y,A,U,oe,Ae,We,Ye,lt,Ct;if(!o||o.length===0)throw new Error("latlngs not passed");Er(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var zt=Z([0,0]),ai=De(o),Zi=ai.getNorthWest().distanceTo(ai.getSouthWest())*ai.getNorthEast().distanceTo(ai.getNorthWest());Zi<1700&&(zt=Ha(o));var Vi=o.length,mn=[];for(y=0;y<Vi;y++){var Bn=Z(o[y]);mn.push(m.project(Z([Bn.lat-zt.lat,Bn.lng-zt.lng])))}for(We=Ye=lt=0,y=0,A=Vi-1;y<Vi;A=y++)U=mn[y],oe=mn[A],Ae=U.y*oe.x-oe.y*U.x,Ye+=(U.x+oe.x)*Ae,lt+=(U.y+oe.y)*Ae,We+=Ae*3;We===0?Ct=mn[0]:Ct=[Ye/We,lt/We];var Zr=m.unproject(Be(Ct));return Z([Zr.lat+zt.lat,Zr.lng+zt.lng])}function Ha(o){for(var m=0,y=0,A=0,U=0;U<o.length;U++){var oe=Z(o[U]);m+=oe.lat,y+=oe.lng,A++}return Z([m/A,y/A])}var zu={__proto__:null,clipPolygon:Ys,polygonCenter:Lo,centroid:Ha};function en(o,m){if(!m||!o.length)return o.slice();var y=m*m;return o=$a(o,y),o=_l(o,y),o}function mo(o,m,y){return Math.sqrt(ys(o,m,y,!0))}function Bu(o,m,y){return ys(o,m,y)}function _l(o,m){var y=o.length,A=typeof Uint8Array<"u"?Uint8Array:Array,U=new A(y);U[0]=U[y-1]=1,Vo(o,U,m,0,y-1);var oe,Ae=[];for(oe=0;oe<y;oe++)U[oe]&&Ae.push(o[oe]);return Ae}function Vo(o,m,y,A,U){var oe=0,Ae,We,Ye;for(We=A+1;We<=U-1;We++)Ye=ys(o[We],o[A],o[U],!0),Ye>oe&&(Ae=We,oe=Ye);oe>y&&(m[Ae]=1,Vo(o,m,y,A,Ae),Vo(o,m,y,Ae,U))}function $a(o,m){for(var y=[o[0]],A=1,U=0,oe=o.length;A<oe;A++)tn(o[A],o[U])>m&&(y.push(o[A]),U=A);return U<oe-1&&y.push(o[oe-1]),y}var yl;function wl(o,m,y,A,U){var oe=A?yl:Cr(o,y),Ae=Cr(m,y),We,Ye,lt;for(yl=Ae;;){if(!(oe|Ae))return[o,m];if(oe&Ae)return!1;We=oe||Ae,Ye=_s(o,m,We,y,U),lt=Cr(Ye,y),We===oe?(o=Ye,oe=lt):(m=Ye,Ae=lt)}}function _s(o,m,y,A,U){var oe=m.x-o.x,Ae=m.y-o.y,We=A.min,Ye=A.max,lt,Ct;return y&8?(lt=o.x+oe*(Ye.y-o.y)/Ae,Ct=Ye.y):y&4?(lt=o.x+oe*(We.y-o.y)/Ae,Ct=We.y):y&2?(lt=Ye.x,Ct=o.y+Ae*(Ye.x-o.x)/oe):y&1&&(lt=We.x,Ct=o.y+Ae*(We.x-o.x)/oe),new Ee(lt,Ct,U)}function Cr(o,m){var y=0;return o.x<m.min.x?y|=1:o.x>m.max.x&&(y|=2),o.y<m.min.y?y|=4:o.y>m.max.y&&(y|=8),y}function tn(o,m){var y=m.x-o.x,A=m.y-o.y;return y*y+A*A}function ys(o,m,y,A){var U=m.x,oe=m.y,Ae=y.x-U,We=y.y-oe,Ye=Ae*Ae+We*We,lt;return Ye>0&&(lt=((o.x-U)*Ae+(o.y-oe)*We)/Ye,lt>1?(U=y.x,oe=y.y):lt>0&&(U+=Ae*lt,oe+=We*lt)),Ae=o.x-U,We=o.y-oe,A?Ae*Ae+We*We:new Ee(U,oe)}function Er(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function wa(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Er(o)}function Gs(o,m){var y,A,U,oe,Ae,We,Ye,lt;if(!o||o.length===0)throw new Error("latlngs not passed");Er(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ct=Z([0,0]),zt=De(o),ai=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());ai<1700&&(Ct=Ha(o));var Zi=o.length,Vi=[];for(y=0;y<Zi;y++){var mn=Z(o[y]);Vi.push(m.project(Z([mn.lat-Ct.lat,mn.lng-Ct.lng])))}for(y=0,A=0;y<Zi-1;y++)A+=Vi[y].distanceTo(Vi[y+1])/2;if(A===0)lt=Vi[0];else for(y=0,oe=0;y<Zi-1;y++)if(Ae=Vi[y],We=Vi[y+1],U=Ae.distanceTo(We),oe+=U,oe>A){Ye=(oe-A)/U,lt=[We.x-Ye*(We.x-Ae.x),We.y-Ye*(We.y-Ae.y)];break}var Bn=m.unproject(Be(lt));return Z([Bn.lat+Ct.lat,Bn.lng+Ct.lng])}var Xs={__proto__:null,simplify:en,pointToSegmentDistance:mo,closestPointOnSegment:Bu,clipSegment:wl,_getEdgeIntersection:_s,_getBitCode:Cr,_sqClosestPointOnSegment:ys,isFlat:Er,_flat:wa,polylineCenter:Gs},Zs={project:function(o){return new Ee(o.lng,o.lat)},unproject:function(o){return new Fe(o.y,o.x)},bounds:new Me([-180,-90],[180,90])},ws={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Me([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var m=Math.PI/180,y=this.R,A=o.lat*m,U=this.R_MINOR/y,oe=Math.sqrt(1-U*U),Ae=oe*Math.sin(A),We=Math.tan(Math.PI/4-A/2)/Math.pow((1-Ae)/(1+Ae),oe/2);return A=-y*Math.log(Math.max(We,1e-10)),new Ee(o.lng*m*y,A)},unproject:function(o){for(var m=180/Math.PI,y=this.R,A=this.R_MINOR/y,U=Math.sqrt(1-A*A),oe=Math.exp(-o.y/y),Ae=Math.PI/2-2*Math.atan(oe),We=0,Ye=.1,lt;We<15&&Math.abs(Ye)>1e-7;We++)lt=U*Math.sin(Ae),lt=Math.pow((1-lt)/(1+lt),U/2),Ye=Math.PI/2-2*Math.atan(oe*lt)-Ae,Ae+=Ye;return new Fe(Ae*m,o.x*m/y)}},Vs={__proto__:null,LonLat:Zs,Mercator:ws,SphericalMercator:Xe},Hu=u({},Te,{code:"EPSG:3395",projection:ws,transformation:function(){var o=.5/(Math.PI*ws.R);return ut(o,.5,-o,.5)}()}),xl=u({},Te,{code:"EPSG:4326",projection:Zs,transformation:ut(1/180,1,-1/180,.5)}),$u=u({},we,{projection:Zs,transformation:ut(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,m){var y=m.lng-o.lng,A=m.lat-o.lat;return Math.sqrt(y*y+A*A)},infinite:!0});we.Earth=Te,we.EPSG3395=Hu,we.EPSG3857=Et,we.EPSG900913=wt,we.EPSG4326=xl,we.Simple=$u;var nn=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[v(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[v(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var m=o.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var y=this.getEvents();m.on(y,this),this.once("remove",function(){m.off(y,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});gi.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var m=v(o);return this._layers[m]?this:(this._layers[m]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var m=v(o);return this._layers[m]?(this._loaded&&o.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return v(o)in this._layers},eachLayer:function(o,m){for(var y in this._layers)o.call(m,this._layers[y]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var m=0,y=o.length;m<y;m++)this.addLayer(o[m])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[v(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var m=v(o);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,m=-1/0,y=this._getZoomSpan();for(var A in this._zoomBoundLayers){var U=this._zoomBoundLayers[A].options;o=U.minZoom===void 0?o:Math.min(o,U.minZoom),m=U.maxZoom===void 0?m:Math.max(m,U.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ko=nn.extend({initialize:function(o,m){j(this,m),this._layers={};var y,A;if(o)for(y=0,A=o.length;y<A;y++)this.addLayer(o[y])},addLayer:function(o){var m=this.getLayerId(o);return this._layers[m]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var m=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(o){var m=typeof o=="number"?o:this.getLayerId(o);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var m=Array.prototype.slice.call(arguments,1),y,A;for(y in this._layers)A=this._layers[y],A[o]&&A[o].apply(A,m);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,m){for(var y in this._layers)o.call(m,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return v(o)}}),Do=function(o,m){return new Ko(o,m)},zn=Ko.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ko.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ko.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Y;for(var m in this._layers){var y=this._layers[m];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),xs=function(o,m){return new zn(o,m)},Qo=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){j(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,m){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var A=this._createImg(y,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(A,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),A},_setIconStyles:function(o,m){var y=this.options,A=y[m+"Size"];typeof A=="number"&&(A=[A,A]);var U=Be(A),oe=Be(m==="shadow"&&y.shadowAnchor||y.iconAnchor||U&&U.divideBy(2,!0));o.className="leaflet-marker-"+m+" "+(y.className||""),oe&&(o.style.marginLeft=-oe.x+"px",o.style.marginTop=-oe.y+"px"),U&&(o.style.width=U.x+"px",o.style.height=U.y+"px")},_createImg:function(o,m){return m=m||document.createElement("img"),m.src=o,m},_getIconUrl:function(o){return Ot.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function kl(o){return new Qo(o)}var Sr=Qo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Sr.imagePath!="string"&&(Sr.imagePath=this._detectIconPath()),(this.options.imagePath||Sr.imagePath)+Qo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var m=function(y,A,U){var oe=A.exec(y);return oe&&oe[U]};return o=m(o,/^url\((['"])?(.+)\1\)$/,2),o&&m(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=$e("div","leaflet-default-icon-path",document.body),m=xe(o,"background-image")||xe(o,"backgroundImage");if(document.body.removeChild(o),m=this._stripUrl(m),m)return m;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Jo=ln.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ao(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var m=this._marker,y=m._map,A=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,oe=ae(m._icon),Ae=y.getPixelBounds(),We=y.getPixelOrigin(),Ye=te(Ae.min._subtract(We).add(U),Ae.max._subtract(We).subtract(U));if(!Ye.contains(oe)){var lt=Be((Math.max(Ye.max.x,oe.x)-Ye.max.x)/(Ae.max.x-Ye.max.x)-(Math.min(Ye.min.x,oe.x)-Ye.min.x)/(Ae.min.x-Ye.min.x),(Math.max(Ye.max.y,oe.y)-Ye.max.y)/(Ae.max.y-Ye.max.y)-(Math.min(Ye.min.y,oe.y)-Ye.min.y)/(Ae.min.y-Ye.min.y)).multiplyBy(A);y.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),ie(m._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=he(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Le(this._panRequest),this._panRequest=he(this._adjustPan.bind(this,o)))},_onDrag:function(o){var m=this._marker,y=m._shadow,A=ae(m._icon),U=m._map.layerPointToLatLng(A);y&&ie(y,A),m._latlng=U,o.latlng=U,o.oldLatLng=this._oldLatLng,m.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Wa=nn.extend({options:{icon:new Sr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,m){j(this,m),this._latlng=Z(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var m=this._latlng;return this._latlng=Z(o),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),A=!1;y!==this._icon&&(this._icon&&this._removeIcon(),A=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),Nt(y,m),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(y,"focus",this._panOnFocus,this);var U=o.icon.createShadow(this._shadow),oe=!1;U!==this._shadow&&(this._removeShadow(),oe=!0),U&&(Nt(U,m),U.alt=""),this._shadow=U,o.opacity<1&&this._updateOpacity(),A&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&oe&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ri(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ie(this._icon,o),this._shadow&&ie(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ke(this._icon,o),this._shadow&&ke(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var m=this.options.icon.options,y=m.iconSize?Be(m.iconSize):Be(0,0),A=m.iconAnchor?Be(m.iconAnchor):Be(0,0);o.panInside(this._latlng,{paddingTopLeft:A,paddingBottomRight:y.subtract(A)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qa(o,m){return new Wa(o,m)}var Mo=nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return j(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ks=Mo.extend({options:{fill:!0,radius:10},initialize:function(o,m){j(this,m),this._latlng=Z(o),this._radius=this.options.radius},setLatLng:function(o){var m=this._latlng;return this._latlng=Z(o),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var m=o&&o.radius||this._radius;return Mo.prototype.setStyle.call(this,o),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,m=this._radiusY||o,y=this._clickTolerance(),A=[o+y,m+y];this._pxBounds=new Me(this._point.subtract(A),this._point.add(A))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qs(o,m){return new Ks(o,m)}var ja=Ks.extend({initialize:function(o,m,y){if(typeof m=="number"&&(m=u({},y,{radius:m})),j(this,m),this._latlng=Z(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Mo.prototype.setStyle,_project:function(){var o=this._latlng.lng,m=this._latlng.lat,y=this._map,A=y.options.crs;if(A.distance===Te.distance){var U=Math.PI/180,oe=this._mRadius/Te.R/U,Ae=y.project([m+oe,o]),We=y.project([m-oe,o]),Ye=Ae.add(We).divideBy(2),lt=y.unproject(Ye).lat,Ct=Math.acos((Math.cos(oe*U)-Math.sin(m*U)*Math.sin(lt*U))/(Math.cos(m*U)*Math.cos(lt*U)))/U;(isNaN(Ct)||Ct===0)&&(Ct=oe/Math.cos(Math.PI/180*m)),this._point=Ye.subtract(y.getPixelOrigin()),this._radius=isNaN(Ct)?0:Ye.x-y.project([lt,o-Ct]).x,this._radiusY=Ye.y-Ae.y}else{var zt=A.unproject(A.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(zt).x}this._updateBounds()}});function $r(o,m,y){return new ja(o,m,y)}var pn=Mo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,m){j(this,m),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var m=1/0,y=null,A=ys,U,oe,Ae=0,We=this._parts.length;Ae<We;Ae++)for(var Ye=this._parts[Ae],lt=1,Ct=Ye.length;lt<Ct;lt++){U=Ye[lt-1],oe=Ye[lt];var zt=A(o,U,oe,!0);zt<m&&(m=zt,y=A(o,U,oe))}return y&&(y.distance=Math.sqrt(m)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,m){return m=m||this._defaultShape(),o=Z(o),m.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Y,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Er(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var m=[],y=Er(o),A=0,U=o.length;A<U;A++)y?(m[A]=Z(o[A]),this._bounds.extend(m[A])):m[A]=this._convertLatLngs(o[A]);return m},_project:function(){var o=new Me;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),m=new Ee(o,o);this._rawPxBounds&&(this._pxBounds=new Me([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(o,m,y){var A=o[0]instanceof Fe,U=o.length,oe,Ae;if(A){for(Ae=[],oe=0;oe<U;oe++)Ae[oe]=this._map.latLngToLayerPoint(o[oe]),y.extend(Ae[oe]);m.push(Ae)}else for(oe=0;oe<U;oe++)this._projectLatlngs(o[oe],m,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,y,A,U,oe,Ae,We,Ye;for(y=0,U=0,oe=this._rings.length;y<oe;y++)for(Ye=this._rings[y],A=0,Ae=Ye.length;A<Ae-1;A++)We=wl(Ye[A],Ye[A+1],o,A,!0),We&&(m[U]=m[U]||[],m[U].push(We[0]),(We[1]!==Ye[A+1]||A===Ae-2)&&(m[U].push(We[1]),U++))}},_simplifyPoints:function(){for(var o=this._parts,m=this.options.smoothFactor,y=0,A=o.length;y<A;y++)o[y]=en(o[y],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,m){var y,A,U,oe,Ae,We,Ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,oe=this._parts.length;y<oe;y++)for(We=this._parts[y],A=0,Ae=We.length,U=Ae-1;A<Ae;U=A++)if(!(!m&&A===0)&&mo(o,We[U],We[A])<=Ye)return!0;return!1}});function Cl(o,m){return new pn(o,m)}pn._flat=wa;var xa=pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var m=pn.prototype._convertLatLngs.call(this,o),y=m.length;return y>=2&&m[0]instanceof Fe&&m[0].equals(m[y-1])&&m.pop(),m},_setLatLngs:function(o){pn.prototype._setLatLngs.call(this,o),Er(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Er(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,m=this.options.weight,y=new Ee(m,m);if(o=new Me(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var A=0,U=this._rings.length,oe;A<U;A++)oe=Ys(this._rings[A],o,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var m=!1,y,A,U,oe,Ae,We,Ye,lt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(oe=0,Ye=this._parts.length;oe<Ye;oe++)for(y=this._parts[oe],Ae=0,lt=y.length,We=lt-1;Ae<lt;We=Ae++)A=y[Ae],U=y[We],A.y>o.y!=U.y>o.y&&o.x<(U.x-A.x)*(o.y-A.y)/(U.y-A.y)+A.x&&(m=!m);return m||pn.prototype._containsPoint.call(this,o,!0)}});function mc(o,m){return new xa(o,m)}var Tr=zn.extend({initialize:function(o,m){j(this,m),this._layers={},o&&this.addData(o)},addData:function(o){var m=D(o)?o:o.features,y,A,U;if(m){for(y=0,A=m.length;y<A;y++)U=m[y],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var oe=this.options;if(oe.filter&&!oe.filter(o))return this;var Ae=Ar(o,oe);return Ae?(Ae.feature=Yr(o),Ae.defaultOptions=Ae.options,this.resetStyle(Ae),oe.onEachFeature&&oe.onEachFeature(o,Ae),this.addLayer(Ae)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=u({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(m){this._setLayerStyle(m,o)},this)},_setLayerStyle:function(o,m){o.setStyle&&(typeof m=="function"&&(m=m(o.feature)),o.setStyle(m))}});function Ar(o,m){var y=o.type==="Feature"?o.geometry:o,A=y?y.coordinates:null,U=[],oe=m&&m.pointToLayer,Ae=m&&m.coordsToLatLng||eu,We,Ye,lt,Ct;if(!A&&!y)return null;switch(y.type){case"Point":return We=Ae(A),Js(oe,o,We,m);case"MultiPoint":for(lt=0,Ct=A.length;lt<Ct;lt++)We=Ae(A[lt]),U.push(Js(oe,o,We,m));return new zn(U);case"LineString":case"MultiLineString":return Ye=ea(A,y.type==="LineString"?0:1,Ae),new pn(Ye,m);case"Polygon":case"MultiPolygon":return Ye=ea(A,y.type==="Polygon"?1:2,Ae),new xa(Ye,m);case"GeometryCollection":for(lt=0,Ct=y.geometries.length;lt<Ct;lt++){var zt=Ar({geometry:y.geometries[lt],type:"Feature",properties:o.properties},m);zt&&U.push(zt)}return new zn(U);case"FeatureCollection":for(lt=0,Ct=y.features.length;lt<Ct;lt++){var ai=Ar(y.features[lt],m);ai&&U.push(ai)}return new zn(U);default:throw new Error("Invalid GeoJSON object.")}}function Js(o,m,y,A){return o?o(m,y):new Wa(y,A&&A.markersInheritOptions&&A)}function eu(o){return new Fe(o[1],o[0],o[2])}function ea(o,m,y){for(var A=[],U=0,oe=o.length,Ae;U<oe;U++)Ae=m?ea(o[U],m-1,y):(y||eu)(o[U]),A.push(Ae);return A}function tu(o,m){return o=Z(o),o.alt!==void 0?[O(o.lng,m),O(o.lat,m),O(o.alt,m)]:[O(o.lng,m),O(o.lat,m)]}function ks(o,m,y,A){for(var U=[],oe=0,Ae=o.length;oe<Ae;oe++)U.push(m?ks(o[oe],Er(o[oe])?0:m-1,y,A):tu(o[oe],A));return!m&&y&&U.length>0&&U.push(U[0].slice()),U}function ta(o,m){return o.feature?u({},o.feature,{geometry:m}):Yr(m)}function Yr(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ne={toGeoJSON:function(o){return ta(this,{type:"Point",coordinates:tu(this.getLatLng(),o)})}};Wa.include(Ne),ja.include(Ne),Ks.include(Ne),pn.include({toGeoJSON:function(o){var m=!Er(this._latlngs),y=ks(this._latlngs,m?1:0,!1,o);return ta(this,{type:(m?"Multi":"")+"LineString",coordinates:y})}}),xa.include({toGeoJSON:function(o){var m=!Er(this._latlngs),y=m&&!Er(this._latlngs[0]),A=ks(this._latlngs,y?2:m?1:0,!0,o);return m||(A=[A]),ta(this,{type:(y?"Multi":"")+"Polygon",coordinates:A})}}),Ko.include({toMultiPoint:function(o){var m=[];return this.eachLayer(function(y){m.push(y.toGeoJSON(o).geometry.coordinates)}),ta(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(o){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(o);var y=m==="GeometryCollection",A=[];return this.eachLayer(function(U){if(U.toGeoJSON){var oe=U.toGeoJSON(o);if(y)A.push(oe.geometry);else{var Ae=Yr(oe);Ae.type==="FeatureCollection"?A.push.apply(A,Ae.features):A.push(Ae)}}}),y?ta(this,{geometries:A,type:"GeometryCollection"}):{type:"FeatureCollection",features:A}}});function tt(o,m){return new Tr(o,m)}var Ue=tt,At=nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,m,y){this._url=o,this._bounds=De(m),j(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&pt(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=De(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",m=this._image=o?this._url:$e("img");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=E,m.onmousemove=E,m.onload=h(this.fire,this,"load"),m.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(o){var m=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;N(this._image,y,m)},_reset:function(){var o=this._image,m=new Me(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=m.getSize();ie(o,m.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Jt=function(o,m,y){return new At(o,m,y)},Si=At.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",m=this._image=o?this._url:$e("video");if(Nt(m,"leaflet-image-layer"),this._zoomAnimated&&Nt(m,"leaflet-zoom-animated"),this.options.className&&Nt(m,this.options.className),m.onselectstart=E,m.onmousemove=E,m.onloadeddata=h(this.fire,this,"load"),o){for(var y=m.getElementsByTagName("source"),A=[],U=0;U<y.length;U++)A.push(y[U].src);this._url=y.length>0?A:[m.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var Ae=$e("source");Ae.src=this._url[oe],m.appendChild(Ae)}}});function xn(o,m,y){return new Si(o,m,y)}var qi=At.extend({_initImage:function(){var o=this._image=this._url;Nt(o,"leaflet-image-layer"),this._zoomAnimated&&Nt(o,"leaflet-zoom-animated"),this.options.className&&Nt(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function Cs(o,m,y){return new qi(o,m,y)}var go=nn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,m){o&&(o instanceof Fe||D(o))?(this._latlng=Z(o),j(this,m)):(j(this,o),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(h(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(li(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Z(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pt(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(o){var m=this._source;if(!m._map)return!1;if(m instanceof zn){m=null;var y=this._source._layers;for(var A in y)if(y[A]._map){m=y[A];break}if(!m)return!1;this._source=m}if(!o)if(m.getCenter)o=m.getCenter();else if(m.getLatLng)o=m.getLatLng();else if(m.getBounds)o=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")o.innerHTML=m;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),m=Be(this.options.offset),y=this._getAnchor();this._zoomAnimated?ie(this._container,o.add(y)):m=m.add(o).add(y);var A=this._containerBottom=-m.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=A+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});gi.include({_initOverlay:function(o,m,y,A){var U=m;return U instanceof o||(U=new o(A).setContent(m)),y&&U.setLatLng(y),U}}),nn.include({_initOverlay:function(o,m,y,A){var U=y;return U instanceof o?(j(U,A),U._source=this):(U=m&&!A?m:new o(A,this),U.setContent(y)),U}});var _r=go.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,go.prototype.openOn.call(this,o)},onAdd:function(o){go.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mo||this._source.on("preclick",An))},onRemove:function(o){go.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mo||this._source.off("preclick",An))},getEvents:function(){var o=go.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",m=this._container=$e("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=$e("div",o+"-content-wrapper",m);if(this._contentNode=$e("div",o+"-content",y),Ir(m),Ur(this._contentNode),Rt(m,"contextmenu",An),this._tipContainer=$e("div",o+"-tip-container",m),this._tip=$e("div",o+"-tip",this._tipContainer),this.options.closeButton){var A=this._closeButton=$e("a",o+"-close-button",m);A.setAttribute("role","button"),A.setAttribute("aria-label","Close popup"),A.href="#close",A.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(A,"click",function(U){Xt(U),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,m=o.style;m.width="",m.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),m.width=y+1+"px",m.whiteSpace="",m.height="";var A=o.offsetHeight,U=this.options.maxHeight,oe="leaflet-popup-scrolled";U&&A>U?(m.height=U+"px",Nt(o,oe)):li(o,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();ie(this._container,m.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,m=parseInt(xe(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+m,A=this._containerWidth,U=new Ee(this._containerLeft,-y-this._containerBottom);U._add(ae(this._container));var oe=o.layerPointToContainerPoint(U),Ae=Be(this.options.autoPanPadding),We=Be(this.options.autoPanPaddingTopLeft||Ae),Ye=Be(this.options.autoPanPaddingBottomRight||Ae),lt=o.getSize(),Ct=0,zt=0;oe.x+A+Ye.x>lt.x&&(Ct=oe.x+A-lt.x+Ye.x),oe.x-Ct-We.x<0&&(Ct=oe.x-We.x),oe.y+y+Ye.y>lt.y&&(zt=oe.y+y-lt.y+Ye.y),oe.y-zt-We.y<0&&(zt=oe.y-We.y),(Ct||zt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ct,zt]))}},_getAnchor:function(){return Be(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),iu=function(o,m){return new _r(o,m)};gi.mergeOptions({closePopupOnClick:!0}),gi.include({openPopup:function(o,m,y){return this._initOverlay(_r,o,m,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),nn.include({bindPopup:function(o,m){return this._popup=this._initOverlay(_r,this._popup,o,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof zn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){oi(o);var m=o.layer||o.target;if(this._popup._source===m&&!(m instanceof Mo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=m,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var vo=go.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){go.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){go.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=go.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",m=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$e("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var m,y,A=this._map,U=this._container,oe=A.latLngToContainerPoint(A.getCenter()),Ae=A.layerPointToContainerPoint(o),We=this.options.direction,Ye=U.offsetWidth,lt=U.offsetHeight,Ct=Be(this.options.offset),zt=this._getAnchor();We==="top"?(m=Ye/2,y=lt):We==="bottom"?(m=Ye/2,y=0):We==="center"?(m=Ye/2,y=lt/2):We==="right"?(m=0,y=lt/2):We==="left"?(m=Ye,y=lt/2):Ae.x<oe.x?(We="right",m=0,y=lt/2):(We="left",m=Ye+(Ct.x+zt.x)*2,y=lt/2),o=o.subtract(Be(m,y,!0)).add(Ct).add(zt),li(U,"leaflet-tooltip-right"),li(U,"leaflet-tooltip-left"),li(U,"leaflet-tooltip-top"),li(U,"leaflet-tooltip-bottom"),Nt(U,"leaflet-tooltip-"+We),ie(U,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ke(this._container,o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(m)},_getAnchor:function(){return Be(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ro=function(o,m){return new vo(o,m)};gi.include({openTooltip:function(o,m,y){return this._initOverlay(vo,o,m,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),nn.include({bindTooltip:function(o,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vo,this._tooltip,o,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var m=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[m](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof zn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&(Rt(m,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Rt(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var m=o.latlng,y,A;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),A=this._map.containerPointToLayerPoint(y),m=this._map.layerPointToLatLng(A)),this._tooltip.setLatLng(m)}});var bo=Qo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var m=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(je(m),m.appendChild(y.html)):m.innerHTML=y.html!==!1?y.html:"",y.bgPos){var A=Be(y.bgPos);m.style.backgroundPosition=-A.x+"px "+-A.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Ua(o){return new bo(o)}Qo.Default=Sr;var Ci=nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){j(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),nt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Ee?o:new Ee(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var m=this.getPane().children,y=-o(-1/0,1/0),A=0,U=m.length,oe;A<U;A++)oe=m[A].style.zIndex,m[A]!==this._container&&oe&&(y=o(y,+oe));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){ke(this._container,this.options.opacity);var o=+new Date,m=!1,y=!1;for(var A in this._tiles){var U=this._tiles[A];if(!(!U.current||!U.loaded)){var oe=Math.min(1,(o-U.loaded)/200);ke(U.el,oe),oe<1?m=!0:(U.active?y=!0:this._onOpaqueTile(U),U.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),m&&(Le(this._fadeFrame),this._fadeFrame=he(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=$e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,m=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=m-Math.abs(o-y),this._onUpdateLevel(y)):(nt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var A=this._levels[o],U=this._map;return A||(A=this._levels[o]={},A.el=$e("div","leaflet-tile-container leaflet-zoom-animated",this._container),A.el.style.zIndex=m,A.origin=U.project(U.unproject(U.getPixelOrigin()),o).round(),A.zoom=o,this._setZoomTransform(A,U.getCenter(),U.getZoom()),E(A.el.offsetWidth),this._onCreateLevel(A)),this._level=A,A}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,m,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)m=this._tiles[o],m.retain=m.current;for(o in this._tiles)if(m=this._tiles[o],m.current&&!m.active){var A=m.coords;this._retainParent(A.x,A.y,A.z,A.z-5)||this._retainChildren(A.x,A.y,A.z,A.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var m in this._tiles)this._tiles[m].coords.z===o&&this._removeTile(m)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)nt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,m,y,A){var U=Math.floor(o/2),oe=Math.floor(m/2),Ae=y-1,We=new Ee(+U,+oe);We.z=+Ae;var Ye=this._tileCoordsToKey(We),lt=this._tiles[Ye];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),Ae>A?this._retainParent(U,oe,Ae,A):!1)},_retainChildren:function(o,m,y,A){for(var U=2*o;U<2*o+2;U++)for(var oe=2*m;oe<2*m+2;oe++){var Ae=new Ee(U,oe);Ae.z=y+1;var We=this._tileCoordsToKey(Ae),Ye=this._tiles[We];if(Ye&&Ye.active){Ye.retain=!0;continue}else Ye&&Ye.loaded&&(Ye.retain=!0);y+1<A&&this._retainChildren(U,oe,y+1,A)}},_resetView:function(o){var m=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var m=this.options;return m.minNativeZoom!==void 0&&o<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<o?m.maxNativeZoom:o},_setView:function(o,m,y,A){var U=Math.round(m);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var oe=this.options.updateWhenZooming&&U!==this._tileZoom;(!A||oe)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,m)},_setZoomTransforms:function(o,m){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,m)},_setZoomTransform:function(o,m,y){var A=this._map.getZoomScale(y,o.zoom),U=o.origin.multiplyBy(A).subtract(this._map._getNewPixelOrigin(m,y)).round();Ot.any3d?N(o.el,U,A):ie(o.el,U)},_resetGrid:function(){var o=this._map,m=o.options.crs,y=this._tileSize=this.getTileSize(),A=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,m.wrapLng[0]],A).x/y.x),Math.ceil(o.project([0,m.wrapLng[1]],A).x/y.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([m.wrapLat[0],0],A).y/y.x),Math.ceil(o.project([m.wrapLat[1],0],A).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var m=this._map,y=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),A=m.getZoomScale(y,this._tileZoom),U=m.project(o,this._tileZoom).floor(),oe=m.getSize().divideBy(A*2);return new Me(U.subtract(oe),U.add(oe))},_update:function(o){var m=this._map;if(m){var y=this._clampZoom(m.getZoom());if(o===void 0&&(o=m.getCenter()),this._tileZoom!==void 0){var A=this._getTiledPixelBounds(o),U=this._pxBoundsToTileRange(A),oe=U.getCenter(),Ae=[],We=this.options.keepBuffer,Ye=new Me(U.getBottomLeft().subtract([We,-We]),U.getTopRight().add([We,-We]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Ct=this._tiles[lt].coords;(Ct.z!==this._tileZoom||!Ye.contains(new Ee(Ct.x,Ct.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var zt=U.min.y;zt<=U.max.y;zt++)for(var ai=U.min.x;ai<=U.max.x;ai++){var Zi=new Ee(ai,zt);if(Zi.z=this._tileZoom,!!this._isValidTile(Zi)){var Vi=this._tiles[this._tileCoordsToKey(Zi)];Vi?Vi.current=!0:Ae.push(Zi)}}if(Ae.sort(function(Bn,Zr){return Bn.distanceTo(oe)-Zr.distanceTo(oe)}),Ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mn=document.createDocumentFragment();for(ai=0;ai<Ae.length;ai++)this._addTile(Ae[ai],mn);this._level.el.appendChild(mn)}}}},_isValidTile:function(o){var m=this._map.options.crs;if(!m.infinite){var y=this._globalTileRange;if(!m.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!m.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var A=this._tileCoordsToBounds(o);return De(this.options.bounds).overlaps(A)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var m=this._map,y=this.getTileSize(),A=o.scaleBy(y),U=A.add(y),oe=m.unproject(A,o.z),Ae=m.unproject(U,o.z);return[oe,Ae]},_tileCoordsToBounds:function(o){var m=this._tileCoordsToNwSe(o),y=new Y(m[0],m[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var m=o.split(":"),y=new Ee(+m[0],+m[1]);return y.z=+m[2],y},_removeTile:function(o){var m=this._tiles[o];m&&(nt(m.el),delete this._tiles[o],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Nt(o,"leaflet-tile");var m=this.getTileSize();o.style.width=m.x+"px",o.style.height=m.y+"px",o.onselectstart=E,o.onmousemove=E,Ot.ielt9&&this.options.opacity<1&&ke(o,this.options.opacity)},_addTile:function(o,m){var y=this._getTilePos(o),A=this._tileCoordsToKey(o),U=this.createTile(this._wrapCoords(o),h(this._tileReady,this,o));this._initTile(U),this.createTile.length<2&&he(h(this._tileReady,this,o,null,U)),ie(U,y),this._tiles[A]={el:U,coords:o,current:!0},m.appendChild(U),this.fire("tileloadstart",{tile:U,coords:o})},_tileReady:function(o,m,y){m&&this.fire("tileerror",{error:m,tile:y,coords:o});var A=this._tileCoordsToKey(o);y=this._tiles[A],y&&(y.loaded=+new Date,this._map._fadeAnimated?(ke(y.el,0),Le(this._fadeFrame),this._fadeFrame=he(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),m||(Nt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?he(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var m=new Ee(this._wrapX?w(o.x,this._wrapX):o.x,this._wrapY?w(o.y,this._wrapY):o.y);return m.z=o.z,m},_pxBoundsToTileRange:function(o){var m=this.getTileSize();return new Me(o.min.unscaleBy(m).floor(),o.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function El(o){return new Ci(o)}var Po=Ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,m){this._url=o,m=j(this,m),m.detectRetina&&Ot.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,m){return this._url===o&&m===void 0&&(m=!0),this._url=o,m||this.redraw(),this},createTile:function(o,m){var y=document.createElement("img");return Rt(y,"load",h(this._tileOnLoad,this,m,y)),Rt(y,"error",h(this._tileOnError,this,m,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var m={r:Ot.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(m.y=y),m["-y"]=y}return S(this._url,u(m,this.options))},_tileOnLoad:function(o,m){Ot.ielt9?setTimeout(h(o,this,null,m),0):o(null,m)},_tileOnError:function(o,m,y){var A=this.options.errorTileUrl;A&&m.getAttribute("src")!==A&&(m.src=A),o(y,m)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,m=this.options.maxZoom,y=this.options.zoomReverse,A=this.options.zoomOffset;return y&&(o=m-o),o+A},_getSubdomain:function(o){var m=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var o,m;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(m=this._tiles[o].el,m.onload=E,m.onerror=E,!m.complete)){m.src=I;var y=this._tiles[o].coords;nt(m),delete this._tiles[o],this.fire("tileabort",{tile:m,coords:y})}},_removeTile:function(o){var m=this._tiles[o];if(m)return m.el.setAttribute("src",I),Ci.prototype._removeTile.call(this,o)},_tileReady:function(o,m,y){if(!(!this._map||y&&y.getAttribute("src")===I))return Ci.prototype._tileReady.call(this,o,m,y)}});function oo(o,m){return new Po(o,m)}var ia=Po.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,m){this._url=o;var y=u({},this.defaultWmsParams);for(var A in m)A in this.options||(y[A]=m[A]);m=j(this,m);var U=m.detectRetina&&Ot.retina?2:1,oe=this.getTileSize();y.width=oe.x*U,y.height=oe.y*U,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Po.prototype.onAdd.call(this,o)},getTileUrl:function(o){var m=this._tileCoordsToNwSe(o),y=this._crs,A=te(y.project(m[0]),y.project(m[1])),U=A.min,oe=A.max,Ae=(this._wmsVersion>=1.3&&this._crs===xl?[U.y,U.x,oe.y,oe.x]:[U.x,U.y,oe.x,oe.y]).join(","),We=Po.prototype.getTileUrl.call(this,o);return We+q(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ae},setParams:function(o,m){return u(this.wmsParams,o),m||this.redraw(),this}});function yr(o,m){return new ia(o,m)}Po.WMS=ia,oo.wms=yr;var ur=nn.extend({options:{padding:.1},initialize:function(o){j(this,o),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,m){var y=this._map.getZoomScale(m,this._zoom),A=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,m),oe=A.multiplyBy(-y).add(U).subtract(this._map._getNewPixelOrigin(o,m));Ot.any3d?N(this._container,oe,y):ie(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,m=this._map.getSize(),y=this._map.containerPointToLayerPoint(m.multiplyBy(-o)).round();this._bounds=new Me(y,y.add(m.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gr=ur.extend({options:{tolerance:0},getEvents:function(){var o=ur.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Rt(o,"mousemove",this._onMouseMove,this),Rt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Le(this._redrawRequest),delete this._ctx,nt(this._container),ri(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var m in this._layers)o=this._layers[m],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var o=this._bounds,m=this._container,y=o.getSize(),A=Ot.retina?2:1;ie(m,o.min),m.width=A*y.x,m.height=A*y.y,m.style.width=y.x+"px",m.style.height=y.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[v(o)]=o;var m=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var m=o._order,y=m.next,A=m.prev;y?y.prev=A:this._drawLast=A,A?A.next=y:this._drawFirst=y,delete o._order,delete this._layers[v(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var m=o.options.dashArray.split(/[, ]+/),y=[],A,U;for(U=0;U<m.length;U++){if(A=Number(m[U]),isNaN(A))return;y.push(A)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||he(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var m=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Me,this._redrawBounds.extend(o._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(o._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var m=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,m=this._redrawBounds;if(this._ctx.save(),m){var y=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var A=this._drawFirst;A;A=A.next)o=A.layer,(!m||o._pxBounds&&o._pxBounds.intersects(m))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,m){if(this._drawing){var y,A,U,oe,Ae=o._parts,We=Ae.length,Ye=this._ctx;if(We){for(Ye.beginPath(),y=0;y<We;y++){for(A=0,U=Ae[y].length;A<U;A++)oe=Ae[y][A],Ye[A?"lineTo":"moveTo"](oe.x,oe.y);m&&Ye.closePath()}this._fillStroke(Ye,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var m=o._point,y=this._ctx,A=Math.max(Math.round(o._radius),1),U=(Math.max(Math.round(o._radiusY),1)||A)/A;U!==1&&(y.save(),y.scale(1,U)),y.beginPath(),y.arc(m.x,m.y/U,A,0,Math.PI*2,!1),U!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,m){var y=m.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(m.options&&m.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var m=this._map.mouseEventToLayerPoint(o),y,A,U=this._drawFirst;U;U=U.next)y=U.layer,y.options.interactive&&y._containsPoint(m)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(A=y);this._fireEvent(A?[A]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,m)}},_handleMouseOut:function(o){var m=this._hoveredLayer;m&&(li(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,m){if(!this._mouseHoverThrottled){for(var y,A,U=this._drawFirst;U;U=U.next)y=U.layer,y.options.interactive&&y._containsPoint(m)&&(A=y);A!==this._hoveredLayer&&(this._handleMouseOut(o),A&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([A],o,"mouseover"),this._hoveredLayer=A)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,m,y){this._map._fireDOMEvent(m,y||m.type,o)},_bringToFront:function(o){var m=o._order;if(m){var y=m.next,A=m.prev;if(y)y.prev=A;else return;A?A.next=y:y&&(this._drawFirst=y),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(o)}},_bringToBack:function(o){var m=o._order;if(m){var y=m.next,A=m.prev;if(A)A.next=y;else return;y?y.prev=A:A&&(this._drawLast=A),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(o)}}});function Xr(o){return Ot.canvas?new Gr(o):null}var na=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wu={_initContainer:function(){this._container=$e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var m=o._container=na("shape");Nt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",o._path=na("path"),m.appendChild(o._path),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){var m=o._container;this._container.appendChild(m),o.options.interactive&&o.addInteractiveTarget(m)},_removePath:function(o){var m=o._container;nt(m),o.removeInteractiveTarget(m),delete this._layers[v(o)]},_updateStyle:function(o){var m=o._stroke,y=o._fill,A=o.options,U=o._container;U.stroked=!!A.stroke,U.filled=!!A.fill,A.stroke?(m||(m=o._stroke=na("stroke")),U.appendChild(m),m.weight=A.weight+"px",m.color=A.color,m.opacity=A.opacity,A.dashArray?m.dashStyle=D(A.dashArray)?A.dashArray.join(" "):A.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=A.lineCap.replace("butt","flat"),m.joinstyle=A.lineJoin):m&&(U.removeChild(m),o._stroke=null),A.fill?(y||(y=o._fill=na("fill")),U.appendChild(y),y.color=A.fillColor||A.color,y.opacity=A.fillOpacity):y&&(U.removeChild(y),o._fill=null)},_updateCircle:function(o){var m=o._point.round(),y=Math.round(o._radius),A=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+m.x+","+m.y+" "+y+","+A+" 0,"+65535*360)},_setPath:function(o,m){o._path.v=m},_bringToFront:function(o){pt(o._container)},_bringToBack:function(o){ni(o._container)}},ao=Ot.vml?na:St,ka=ur.extend({_initContainer:function(){this._container=ao("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ao("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),ri(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var o=this._bounds,m=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,y.setAttribute("width",m.x),y.setAttribute("height",m.y)),ie(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(o){var m=o._path=ao("path");o.options.className&&Nt(m,o.options.className),o.options.interactive&&Nt(m,"leaflet-interactive"),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){nt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[v(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var m=o._path,y=o.options;m&&(y.stroke?(m.setAttribute("stroke",y.color),m.setAttribute("stroke-opacity",y.opacity),m.setAttribute("stroke-width",y.weight),m.setAttribute("stroke-linecap",y.lineCap),m.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?m.setAttribute("stroke-dasharray",y.dashArray):m.removeAttribute("stroke-dasharray"),y.dashOffset?m.setAttribute("stroke-dashoffset",y.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),y.fill?(m.setAttribute("fill",y.fillColor||y.color),m.setAttribute("fill-opacity",y.fillOpacity),m.setAttribute("fill-rule",y.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(o,m){this._setPath(o,_t(o._parts,m))},_updateCircle:function(o){var m=o._point,y=Math.max(Math.round(o._radius),1),A=Math.max(Math.round(o._radiusY),1)||y,U="a"+y+","+A+" 0 1,0 ",oe=o._empty()?"M0 0":"M"+(m.x-y)+","+m.y+U+y*2+",0 "+U+-y*2+",0 ";this._setPath(o,oe)},_setPath:function(o,m){o._path.setAttribute("d",m)},_bringToFront:function(o){pt(o._path)},_bringToBack:function(o){ni(o._path)}});Ot.vml&&ka.include(Wu);function Es(o){return Ot.svg||Ot.vml?new ka(o):null}gi.include({getRenderer:function(o){var m=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var m=this._paneRenderers[o];return m===void 0&&(m=this._createRenderer({pane:o}),this._paneRenderers[o]=m),m},_createRenderer:function(o){return this.options.preferCanvas&&Xr(o)||Es(o)}});var ra=xa.extend({initialize:function(o,m){xa.prototype.initialize.call(this,this._boundsToLatLngs(o),m)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=De(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Sl(o,m){return new ra(o,m)}ka.create=ao,ka.pointsToPath=_t,Tr.geometryToLayer=Ar,Tr.coordsToLatLng=eu,Tr.coordsToLatLngs=ea,Tr.latLngToCoords=tu,Tr.latLngsToCoords=ks,Tr.getFeature=ta,Tr.asFeature=Yr,gi.mergeOptions({boxZoom:!0});var oa=ln.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ri(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_e(),Ve(),this._startPoint=this._map.mouseEventToContainerPoint(o),Rt(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=$e("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var m=new Me(this._point,this._startPoint),y=m.getSize();ie(this._box,m.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(nt(this._box),li(this._container,"leaflet-crosshair")),Oe(),Ke(),ri(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var m=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gi.addInitHook("addHandler","boxZoom",oa),gi.mergeOptions({doubleClickZoom:!0});var Oo=ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var m=this._map,y=m.getZoom(),A=m.options.zoomDelta,U=o.originalEvent.shiftKey?y-A:y+A;m.options.doubleClickZoom==="center"?m.setZoom(U):m.setZoomAround(o.containerPoint,U)}});gi.addInitHook("addHandler","doubleClickZoom",Oo),gi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ca=ln.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ao(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){li(this._map._container,"leaflet-grab"),li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=De(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var m=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(m),this._prunePositions(m)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,m){return o-(o-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;o.x<m.min.x&&(o.x=this._viscousLimit(o.x,m.min.x)),o.y<m.min.y&&(o.y=this._viscousLimit(o.y,m.min.y)),o.x>m.max.x&&(o.x=this._viscousLimit(o.x,m.max.x)),o.y>m.max.y&&(o.y=this._viscousLimit(o.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,m=Math.round(o/2),y=this._initialWorldOffset,A=this._draggable._newPos.x,U=(A-m+y)%o+m-y,oe=(A+m+y)%o-m-y,Ae=Math.abs(U+y)<Math.abs(oe+y)?U:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ae},_onDragEnd:function(o){var m=this._map,y=m.options,A=!y.inertia||o.noInertia||this._times.length<2;if(m.fire("dragend",o),A)m.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,Ae=y.easeLinearity,We=U.multiplyBy(Ae/oe),Ye=We.distanceTo([0,0]),lt=Math.min(y.inertiaMaxSpeed,Ye),Ct=We.multiplyBy(lt/Ye),zt=lt/(y.inertiaDeceleration*Ae),ai=Ct.multiplyBy(-zt/2).round();!ai.x&&!ai.y?m.fire("moveend"):(ai=m._limitOffset(ai,m.options.maxBounds),he(function(){m.panBy(ai,{duration:zt,easeLinearity:Ae,noMoveStart:!0,animate:!0})}))}}});gi.addInitHook("addHandler","dragging",Ca),gi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nu=ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Rt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ri(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,m=document.documentElement,y=o.scrollTop||m.scrollTop,A=o.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(A,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var m=this._panKeys={},y=this.keyCodes,A,U;for(A=0,U=y.left.length;A<U;A++)m[y.left[A]]=[-1*o,0];for(A=0,U=y.right.length;A<U;A++)m[y.right[A]]=[o,0];for(A=0,U=y.down.length;A<U;A++)m[y.down[A]]=[0,o];for(A=0,U=y.up.length;A<U;A++)m[y.up[A]]=[0,-1*o]},_setZoomDelta:function(o){var m=this._zoomKeys={},y=this.keyCodes,A,U;for(A=0,U=y.zoomIn.length;A<U;A++)m[y.zoomIn[A]]=o;for(A=0,U=y.zoomOut.length;A<U;A++)m[y.zoomOut[A]]=-o},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ri(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var m=o.keyCode,y=this._map,A;if(m in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(A=this._panKeys[m],o.shiftKey&&(A=Be(A).multiplyBy(3)),y.options.maxBounds&&(A=y._limitOffset(Be(A),y.options.maxBounds)),y.options.worldCopyJump){var U=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(A)));y.panTo(U)}else y.panBy(A)}else if(m in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;oi(o)}}});gi.addInitHook("addHandler","keyboard",nu),gi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ea=ln.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ri(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var m=_a(o),y=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var A=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),A),oi(o)},_performZoom:function(){var o=this._map,m=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var A=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(A))))/Math.LN2,oe=y?Math.ceil(U/y)*y:U,Ae=o._limitZoom(m+(this._delta>0?oe:-oe))-m;this._delta=0,this._startTime=null,Ae&&(o.options.scrollWheelZoom==="center"?o.setZoom(m+Ae):o.setZoomAround(this._lastMousePos,m+Ae))}});gi.addInitHook("addHandler","scrollWheelZoom",Ea);var ru=600;gi.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Ya=ln.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ri(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var m=o.touches[0];this._startPos=this._newPos=new Ee(m.clientX,m.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",Xt),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ru),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ri(document,"touchend",Xt),ri(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ri(document,"touchend touchcancel contextmenu",this._cancel,this),ri(document,"touchmove",this._onMove,this)},_onMove:function(o){var m=o.touches[0];this._newPos=new Ee(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,m){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});y._simulated=!0,m.target.dispatchEvent(y)}});gi.addInitHook("addHandler","tapHold",Ya),gi.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var aa=ln.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){li(this._map._container,"leaflet-touch-zoom"),ri(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var m=this._map;if(!(!o.touches||o.touches.length!==2||m._animatingZoom||this._zooming)){var y=m.mouseEventToContainerPoint(o.touches[0]),A=m.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(y.add(A)._divideBy(2))),this._startDist=y.distanceTo(A),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),Xt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var m=this._map,y=m.mouseEventToContainerPoint(o.touches[0]),A=m.mouseEventToContainerPoint(o.touches[1]),U=y.distanceTo(A)/this._startDist;if(this._zoom=m.getScaleZoom(U,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&U<1||this._zoom>m.getMaxZoom()&&U>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var oe=y._add(A)._divideBy(2)._subtract(this._centerPoint);if(U===1&&oe.x===0&&oe.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Le(this._animRequest);var Ae=h(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=he(Ae,this,!0),Xt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Le(this._animRequest),ri(document,"touchmove",this._onTouchMove,this),ri(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gi.addInitHook("addHandler","touchZoom",aa),gi.BoxZoom=oa,gi.DoubleClickZoom=Oo,gi.Drag=Ca,gi.Keyboard=nu,gi.ScrollWheelZoom=Ea,gi.TapHold=Ya,gi.TouchZoom=aa,n.Bounds=Me,n.Browser=Ot,n.CRS=we,n.Canvas=Gr,n.Circle=ja,n.CircleMarker=Ks,n.Class=re,n.Control=br,n.DivIcon=bo,n.DivOverlay=go,n.DomEvent=ya,n.DomUtil=fn,n.Draggable=Ao,n.Evented=ye,n.FeatureGroup=zn,n.GeoJSON=Tr,n.GridLayer=Ci,n.Handler=ln,n.Icon=Qo,n.ImageOverlay=At,n.LatLng=Fe,n.LatLngBounds=Y,n.Layer=nn,n.LayerGroup=Ko,n.LineUtil=Xs,n.Map=gi,n.Marker=Wa,n.Mixin=pc,n.Path=Mo,n.Point=Ee,n.PolyUtil=zu,n.Polygon=xa,n.Polyline=pn,n.Popup=_r,n.PosAnimation=Ba,n.Projection=Vs,n.Rectangle=ra,n.Renderer=ur,n.SVG=ka,n.SVGOverlay=qi,n.TileLayer=Po,n.Tooltip=vo,n.Transformation=Ze,n.Util=ve,n.VideoOverlay=Si,n.bind=h,n.bounds=te,n.canvas=Xr,n.circle=$r,n.circleMarker=Qs,n.control=Br,n.divIcon=Ua,n.extend=u,n.featureGroup=xs,n.geoJSON=tt,n.geoJson=Ue,n.gridLayer=El,n.icon=kl,n.imageOverlay=Jt,n.latLng=Z,n.latLngBounds=De,n.layerGroup=Do,n.map=Ni,n.marker=qa,n.point=Be,n.polygon=mc,n.polyline=Cl,n.popup=iu,n.rectangle=Sl,n.setOptions=j,n.stamp=v,n.svg=Es,n.svgOverlay=Cs,n.tileLayer=oo,n.tooltip=ro,n.transformation=ut,n.version=s,n.videoOverlay=xn;var qu=window.L;n.noConflict=function(){return window.L=qu,this},window.L=n})}(Jc,Jc.exports)),Jc.exports}var us=dE();class pE{async geoCode(e){const s=await(await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:e}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"})).json();return s&&s[0]?s[0]:null}}const mE=new pE,gE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIDZVWTWhcVRT+7pskM29+Xl6SaSpdOFGQQlps6UIUrMRNEbvVVVHcGKtVtKEEBf9QoRJEFLFidCG6bJZWrJsG24UbS6uJtrTFdGwlyUySmcz0vUySeU/Oue++30mqBx5z7/n57rnnnp8RruuiE4kvx/fCar2NtbXHsekUI8IurYpM5hyy6ffcFyZmEsZkHwcW3741iKX6d2jYh6CngaF7gKIZtarWgLl5wG4BBf0nDPQ+4z77/uKWwGJyfASLtR8ghI59DwClnQDJw4cLEfzeXAAuXyO5jUHzSXd0YjoB7IPmdR2P7QdSmtTYIlT+AW0HOH8JaNg2dpgPqdBovuJy4xsUdB0H90lQAnTI2xCQAiNyvJuQ7sH9YNuVxvdKzMDi1Ik30Noo4cBuoCsVBdQEUL8DVOtAdVWu1QGudwCBk21ro8RY9L6sUG+M4d6dgJGLXr3dBi7MAEurITAXGDCAR/YCqVTAI1vCmK+OATipcWzX20UMlwIvSHGzDfx8CVi9s4TBvqfdd74W9NGaeSQjHTd0u+EhEBZharDXjyCbBvRMkAHk3fVbQNO2UTRH3Jc+mlKX4HXRHGEZ6ZCusqP0JCx7/Yh8PNqETyaq1ICcfqZTATAvp5/hfPaZ3k0JK5IVvoKHbq3RQ9YSckXbyRLACpRPzlAMzYSFIpIpL+NF5ANbraTXO0ygaR3mnhEj5jWtw6wTLyAPS0NP91neUN2HC+D+XUA+q6OyMi1OnXhKsXldWZlmGen4AiExCLin+yyXtPhg1MLwkI77dgGOE3hB5frLLLBMeaxK3AH6DeDhPUHZE6imAX/9A/wxZ7tvTmZlgWTT51FeOBTxgLDJ8NEHgXoT2HQknyqzNxdUp7okVWh5QWL5Mc7rJ2XZxiqMjMnrQg7oL8ivkJW88IORTaUuy52wFDC3Oz09iytzyWYTPsTp0EI5DAJsq6dnVesM0i2vv8seU7MBkuCdSKmQHfUTwlBnRhr9xLEZdKf2YOSAbEDOFr3YfzAh3+HcRWCjPeuOf+6nZrRAzNzLqFvAjduB4VYkPHDSXbWkbYgiwBwfIzuFK2Xpbad4w8sA4lNq/lmmB50Kj6Wkx0TF3mMQ7hIuXpW5qYnonFN7CsGvV8G6ZBM/O87gadtnHMX8MnCrEoAzYKgY/q6AdfqMo/EJ3REYqucaudP47To1eg/c+8jThgX8foOmxulwrw5T4n9FRPjhi3PI9JR4wHZ5Y4imxoXL1Mxvuq9/MZQw2s5jn/oLz/GkIO9Snre0plFPsm1oW2B+6QHjOMqLMqb00XrAOB7Pgv8VCl/ps7FJ1JrP88bMf+W+8vHoXW3+CzArfvraj3yLVz954q7KAP4FsFfcPBQDhqkAAAAASUVORK5CYII=",vE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAJP0lEQVRoBcVaa2wc1RX+ZvZhr/dpZxOlBOqGJq3AQTQlbYpUBFRU6o9KrUSg/WW1UkUgoUCDEzUGtWpTEhTcFNoQcP+0ioQEOPwEIajkoPwIbaKEKiRpm5dNSZzHxtm1vV6vdz1TnXPnzs7emdmddZz0k652Hvec+82Zc88998xqpmliPtAGt6zCbLUXlep9KJdXoGpkPdWE9Rza2k4jEj6AaHivuX7np64+AdAyUe21zVsxUVyPSrUbtmgzHVrtJxIeRSo+aD7x0g5XtwYITFR7ta8fhclNqBqLIGXCIWBJJ5BJANmMS4aRywP5KeDyNaA6ZynTyNJXkU7uMjcObHfJeKApUX7FE9NvYma2xyaYTQErvwjcIt92Yx22RS/kgFOfAbmJGuH26HGkOn7czCUaEtV2P9uP/OTzqBoxm+Cdy4HFlvWkrJ8OTfM+v5IHTpyrEQ7rJWSSvzOf/L2vdX2Janv6tiJXEIIhHehZDqxYZhHD9RGVl0+fB46fA+YMcZ5N95sbBjx915MoW3J84gUYhvC/e74KZJLgcyc8ZBtCJa7rQH4SOPJv4FoR0DWgK/Wcl2VdROssmeoAHlgNhELi5o0gKvXuPwIUpsW5h2XriPLEyeX/gYoRQ2cc+PbdFE7cr1jlJ8dXiagPYvr0J8KVKnDgE2HZiF5CNvNN5wTT6xQVim/CMGOIhIA1dwiSNws0Fo8ZAnMgLk7j20ahV14q98AwgTu6gVRcWISaYTVTsSb5FDVNaWQhaup1p2WpSb306qnRmDQ2XSuVe5iThZrJJqY28S+FnpW3tWZGCuSX86Sj/t3SwEsyYmEIChr74rgIYYIT+yr7KK8644UXOEzcvxroSlpP7uOTulYjePpzEWbIx7x8lF4phbUVt9YIG4pC1WfHJ4GPjoqw2JV+jlYv8eoni48Ja6aFBYKAlsW/HQaOjwiShGh4lFcaanRMoHvUh/rmp4LpJg7ExcFNw+ubV+Hi+DG+uLYHWJathSFDme3SkhPTwEef1Pql4kPoaPutugxyFJku/woTxUeEvA7c/zUR9pz67dlv/ZIlz+eAj4+L86Vdd4VRqfbyCb2iZd6ZWh0qc8DBT4WlIqGSlkn8xPj5H9529aPnE8Qf1f/0i0fN/NRfUanGWPY794jZ3QjEhTjROJVqr47Z6n3sgzSJ5CxXm3Pmkk+WyuLpF6V7/Ug6wX0WpXtZhmRJh1OnOp6MBswJII46J70EWiqbWrMKnPpcHMdj75gbBva5+viA+8Zj7/Bd0iH9uhEkp3J5hY6qmWXaWadFPWY64UpBzHRNgxZv/43rfhOwDFmQdOQK7s5yXMmDc1wTtHvQXZ0boWDN2mh41NgwcKxBT0+wjIwGhYARwILubTr5hGb9ej1bEb+hUGujODFP2ZpFb+a6Pg/U2Dmd25X1WOfRiPitzgWYeT6Ys2TNRom35pJtzUfTFr9KtVvf03eX634TsMxstbtOVyM4jKcjGhnlJ6Ddoh/sWZgW67VhwizO/Nqnty9YhuIj6SBd6hxQwRNOozc5qiMSHuPbQdZhWk1W3iqOp0oPa3v61rn6+ID7TpUe5ruko9nK5OQUCY/piIYPsEtQWuWXP0pQdnX7LUAsKtb5XH4vLY+ufgq4Ty6/l2VIlnTMGa5+rvGZE4fDA0T0Pe5E/hDEqvTa7l0looRhxsyrE29pu54a4gREHXdwyyq6R33EziEsZIPkp8SllpW9J/LR7etzXAG5/QvA3StrFQ2ZHal+RE9L/vP3E8B0uZb1tEVHoWtFIWvGUZ7tto6BjjZg7Z1iEnnpg2OzRw/yz1PA2TGuqJj9g1kRntrbhjFVWsepFRENAhrwoW+IBOOMlTjLGe0EWfHLVuKse7iTH4iL5CbjqNbRtscsltZxZkNrcKdP6FCLYjTwV24TPsdbh2J9/1QCWJJ2bLd9MnsJ+SDEgbiEdOYG53ZZ27H+CsrVLLqXAqstq84pr95vu2sPpIRlNaD7EZV6pO8e+Q8wehFoC+fMrYOLURfwk/G/sMBnl8TTeM1+NV+kB6Fmn88pzahvat4JB1E5zvSM4EDnxEnawO6cig9A10p8PHoJ/zfIsYkLcVKJmr3bLiMee1dk8eeFhZrFVT9L23UAn5XHVQewGsnQ2HQtHnuXObksSpDJMGfy/3Xpv+GgMWXsVBLzOqK8GUvGPuAnou0C+ZkzpDSzbFBoyownneTDZE0aLxn7QN3RurOnjvZnoaPEu00qtt4sUJ2UrEm+SRwUuIjyk6QTb/CTnbkAzJQdtSSP2NeSJRXfpP07tZlZMRZdS8Xf8CqTu4hCbMKetyPAoX+57i84Dp202GglHtsDnkSNn714CenEbmi6qLOPXa2v2slZ2rJFZXPoGhsHrk4IfenEbh7bA66Kc53e7Y+P8PrdHgEeWlObSH4rTTPoSvJBej48BJQr/P3J7H/9S34aPC1qI9WxWVQ3ZoGzF2o+FTS+2qModVSph5IZ0k33Mok+l1xQouaTu4aQiIlqCFXkglbjgoB0kU5w1WVfs6pLQ6KMbHojfweip6avFzICcFMsJaH6smpJkmVdmvjGRGM0QVOivIx1JUU1Ol8ETo64+rSME46305Xc5Fwq/dBwMjmh7XrqICanv8WXHvy6KGDJNLDRTgCOyUPWJILDR8R5suNjc9Mf73UN5oHA+3ot1fFDO7bK+mirIJmDViwnXdn0D4JqCEyU4xvXOHUxU4+dqflgnd86Wkhpx86KVYjuLUr3BnnlLROFrHEmYkN8MnKptbyV+lLWTkjEhlqprWI+fyxgoRefGOE/FnBNfnWtJu/no5PTwP6jwpcpsP/yNd/A7ofWak8Sncnvs4+Rzx0+2dhf7T5zYi3PJH7q6nOjiHJ205naxhalLyTkr7TTVH2SrtE9+hhLvtyZ2mY8/tKwS+GNIgrhrzsQbxd+NuLwPyfo2ojlx/H2fX7f4oNg3v/SkdB2bjyHmVnhc99dI77rE+g7/IeHxXF7dMTc8upyl3ALmLdFbSztWmvH1+GjQLEkGh3DipfU5zpx3RYlaH/e8gCuFIY57ZNVlmtTwi8Xpx80H9u53yXUIq7fouSvRKQr1W8TvCbX8VT/QpDEQlnUVvbKM29hqiTqpYnY2+bTL/9owXQvJFFW+Moz79Ov+fTL31swpQD+B6DpPQVpybZ7AAAAAElFTkSuQmCC",bE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRIibWVv07DMBDGPyMLFpjiBUQkJrrABA/ABBPvwDvyAkyw0Cld6BTJEl2ciU5ZjK6cUxTbsdO0nxRFdU73u3++CmstDi25q39RqjMA9BwDKACs6Nxq8+3Z5mbCTq8AnAO4YOchtQBqAO9WmzYLIkpFDm8YMEYNgFcCRcvFzu848l1EJZwBqDyIKBWV4Z6jn6pNSWUPQPQnAKcR567eP/x7NmDr7LcQBjxHGtpyI5e9oCoAL571VnUHSQC6Bnpf/jKJaWG12WR8xAYPEQDpLQQQpbrmwQiJAvt055KNi4Ch00nPOY3y7cDUeZkLXBaPGXeg4b7EHDvVocwl396UhjJ1mltt5t4pQ2K9yNWao/d21n/IFC2owaHB2AckGf0UCEVcxWofk+T/gZwlSJPz4S7YWEiTgKx4crJKExJBviIbd81NXXpfxkKsNo0oFTl023RvzjsIv2mb0h4a3dSkAPwCJdSH4GnrpMEAAAAASUVORK5CYII=",_E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAArCAYAAADR0WDhAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVRogdWYsY4aMRCGf0cr0nAVbjjF0lWkCVWqUFFdlwdIqjxguqS5jipp7iquOSqklXLNUrENNI4GzXI+vCy7s/bCfRIS2LvY/3g8Y4+y1uKt8+7NKwCQeC0doIy+BtAHcMWjvQcwALABsOK2NX23abY6NaPo7qSMpokOAVzzp+89VM0WwBLAwqbZv7Ino4hQRpNVP/LkB94Dcp4BzGyaraOIUEb3ANwAGAee+CG0Mr9cN2stgt3lMwvoeQ/EIQfw06YZCZJvbGfyI68zPn1217lIBLvNmAWckxuRCGU0vTjt0G2qGBZ9tUSw9aes/uI4KYIT020A6684soCjV4j/21EpQhk94hWQkHOSeirLumycLy3C8ekQq4yeCiMPTf7eptnC6/HHoAj3TTAG8bvI4KUr0ULAX5tmc6/1CJR5ldHlndXk7hHEE6GMnggEeFm0DuxSEmbuj1dHcd4Dn7xXqpEK6PGeaMrj4UFwL4L9c+K9cpoHoYCJYFPTOPeHja47iZJYkz2AF2PdCgTkvOLbw44EL7459F4LiHNcGQuMRRO/KxMAZyWa7oM9FMlsms28Dsa5W4yECW51bAX2Y+DDgP74h9fTjCKxbZy3roQ3uUYCwCsR4jzUb7OaR1hUrbBLwta6NGZ1Mn5B4lQcLoGcN3CjkJ3EjkoNIMv/OeX/ZXjHjjNAkyb3WUqHPreIJft/Y+u7nEtEa+u7nEOE2PeP0aWInK1fWopsQ8KlwZgRiiw+t2n24PUEFLHxWsOx5NveOuIYOxGrCKWYaK5TRuFOodjyJanRHSOEiMxrlfHIVY5gUacuu5KNMvpri83did9XUYTYpUDEM7tOJ35fhSuibuWh001bh30FsIZL1a7sdY2bsZ+OiLjYyRe8qsUqo787d+LomTYUh2cnWg0qqVCcJwGdh8vGAPgPu3cdHuTAvBEAAAAASUVORK5CYII=",hv={lat:45.769785,lng:4.833967,zoom:14};class fv{constructor(){this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}init(){this.bindFields()}unbind(){}bindFields(){const e=this.$fields.length;for(let n=0;n<e;n++){const s=this.$fields[n];s.classList.contains("is-enable")||(this.bindSingleField(s),s.classList.add("is-enable"))}}bindSingleField(e){const n=e.parentElement.querySelector(".uk-form-label"),s=n.innerHTML;let u=null;window.RozierConfig.defaultMapLocation?u=window.RozierConfig.defaultMapLocation:u=hv;const l="geotag-canvas-"+this.uniqid(),h=l+"-address",f=l+"-reset";e.style.display="none",n.style.display="none",e.setAttribute("data-geotag-canvas",l);let v=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+h+'" type="text" value="" />','<button type="button" id="'+f+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+l+'" style="width: 100%; height: 400px;"></div>'].join("");const x=document.createElement("div");if(x.innerHTML=v,e.after(x),!document.getElementById(l))throw new Error("Map container does not exist");let E=document.getElementById(h);E&&E.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let O=document.getElementById(f);O&&(O.style.display="none");let H={center:this.createLatLng(u),zoom:u.zoom||u.alt,styles:window.RozierConfig.mapsStyle},F=this.createMap(l,H),j=null;if(e.value!=="")try{u=JSON.parse(e.value),j=this.createMarker(u,F),O.style.display="inline-block",j.on("dragend",this.setMarkerEvent.bind(this,j,e,O,F)),O.addEventListener("click",this.resetMarker.bind(this,j,e,O,F))}catch{return e.style.display=null,document.getElementById(l).style.display="none",!1}F.on("click",this.setMarkerEvent.bind(this,j,e,O,F)),E.addEventListener("keypress",this.requestGeocode.bind(this,j,e,O,F)),this.resetMap(F,j,H,null),new ResizeObserver(M=>{F.invalidateSize({animate:!1,pan:!1}),j!==null?F.panTo(j.getLatLng(),{animate:!1,pan:!1}):F.panTo(H.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}resetMap(e,n,s){window.requestAnimationFrame(()=>{e.invalidateSize(!0),n!==null?e.panTo(n.getLatLng()):e.panTo(s.center)})}resetMarker(e,n,s,u,l){return l.preventDefault(),e.removeFrom(u),n.value="",s.style.display="none",!1}setMarkerEvent(e,n,s,u,l){if(e||(e=this.createAndBindMarker(l.latlng,u,n,s)),typeof l.latlng<"u")this.setMarker(e,n,s,u,l.latlng);else{const h=e.getLatLng();u.panTo(h),this.applyGeocode(n,s,h,u.getZoom(),void 0)}}createAndBindMarker(e,n,s,u){const l=this.createMarker(e,n);return l.on("dragend",this.setMarkerEvent.bind(this,l,s,u,n)),u.addEventListener("click",this.resetMarker.bind(this,l,s,u,n)),n.off("click"),n.on("click",this.setMarkerEvent.bind(this,l,s,u,n)),l}setMarker(e,n,s,u,l){e||(e=this.createAndBindMarker(l,u,n,s)),e.setLatLng(l),e.addTo(u),u.panTo(l),this.applyGeocode(n,s,e.getLatLng(),u.getZoom(),e.name)}latLngToFeature(e,n,s){return e.alt&&(n=e.alt,e.alt=void 0),{type:"Feature",properties:{name:s||"",zoom:n},geometry:{type:"Point",coordinates:us.GeoJSON.latLngToCoords(e)}}}applyGeocode(e,n,s,u,l){e.value=JSON.stringify(this.latLngToFeature(s,u,l)),n.style.display="inline-block"}createMarker(e,n){let s=null;e instanceof us.LatLng?s=e:s=this.createLatLng(e);let u=new us.Marker(s,{icon:this.createIcon(),draggable:!0}).addTo(n);return n.flyTo(s,s.alt),u.alt=s.alt,e.type&&e.type==="Feature"&&e.properties&&e.properties.name&&(u.name=e.properties.name),e.name&&(u.name=e.name),u}async requestGeocode(e,n,s,u,l){let h=l.currentTarget.value;if(l.which&&l.which===13){l.preventDefault();const f=await this.getLatLngForAddress(h);if(f===null){console.error("Geocode was not successful.");return}this.setMarker(e,n,s,u,f)}}uniqid(){return new Date().getTime()}createMap(e,n){const s=new us.Map(document.getElementById(e)).setView(n.center,n.zoom),u=new us.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return s.addLayer(u),s}createLatLng(e){if(typeof e.lat=="number"&&typeof e.lng=="number")return new us.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&e.type==="Feature"){const n=e.properties&&e.properties.zoom?Number.parseInt(e.properties.zoom):7,s=new us.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],n);return e.properties&&e.properties.name&&(s.name=e.properties.name),s}throw new Error("Cannot create LatLng object from data")}createIcon(){return new us.Icon({iconUrl:gE,iconRetinaUrl:vE,shadowUrl:bE,shadowRetinaUrl:_E,iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}getLatLngForAddress(e){return mE.geoCode(e).then(n=>{if(n!==null){const s=new us.LatLng(n.lat,n.lon);return s.name=n.display_name,s}else return null}).catch(n=>null)}}class yE extends fv{constructor(){super(),this.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}resetMarker(e,n,s,u,l){n.value="";for(const h of e)h!==null&&h.removeFrom(u);return e=[],s.style.display="none",this.syncSelector(l,e,u,n),!1}bindSingleField(e){const n=e.parentElement.querySelector(".uk-form-label"),s=n.innerHTML||"Geotag";n.style.display="none";let u=null;window.RozierConfig.defaultMapLocation?u=window.RozierConfig.defaultMapLocation:u=hv;const l="geotag-canvas-"+this.uniqid(),h=l+"-address",f=l+"-reset",v={center:this.createLatLng(u),zoom:u.zoom||u.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",l);let x=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+h+'" type="text" value="" />','<button type="button" id="'+f+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+l+'"></div>',"</div>"].join("");const w=document.createElement("div");w.innerHTML=x,e.after(w);let E=document.getElementById(h);E.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let O=document.getElementById(f);O.style.display="none";const H=this.createMap(l,v),F=[],j=e.parentElement.querySelector(".multi-geotag-list-markers");if(e.value!=="")try{const M=JSON.parse(e.value);if(!M.features)throw new Error("Data is not a valid GeoJSON featureCollection");for(const S of M.features){const D=this.createMarker(S,H);D.on("dragend",this.setMarkerEvent.bind(this,D,F,e,O,H,j)),F.push(D)}}catch{return e.style.display="block",document.getElementById(l).style.display="none",!1}H.on("click",this.setMarkerEvent.bind(this,null,F,e,O,H,j)),E.addEventListener("keypress",this.requestGeocode.bind(this,F,e,O,H,j)),this.resetMap(H,F,v,null),this.syncSelector(j,F,H,e),new ResizeObserver(M=>{H.invalidateSize({animate:!1,pan:!1}),typeof F<"u"&&F.length>0?H.fitBounds(this.getMediumLatLng(F),{animate:!1,pan:!1}):H.panTo(v.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}syncSelector(e,n,s,u){e.innerHTML="";const l=[];let h=0;const f=n.filter(x=>x!==null&&x.getLatLng()!==null);for(const x of f)["<li>",'<span class="multi-geotag-marker-name">',x.name?x.name:"#"+h,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+h+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+h+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(w=>l.push(w)),h++;e.innerHTML=l.join("");let v=0;for(const x of f){let w=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+v+'"]'),E=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+v+'"]');w&&E&&(w.addEventListener("click",this.centerMap.bind(this,s,x)),E.addEventListener("click",this.removeMarker.bind(this,s,n,x,e,u))),v++}}removeMarker(e,n,s,u,l,h){h&&h.preventDefault();const f=n.indexOf(s);return s.removeFrom(e),n.splice(f,1),this.syncSelector(u,n,e,l),this.writeMarkers(n,l),!1}resetMap(e,n,s,u){u&&u.preventDefault(),window.requestAnimationFrame(()=>{e.invalidateSize({animate:!0,pan:!0}),typeof n<"u"&&n.length>0?e.fitBounds(this.getMediumLatLng(n)):e.panTo(s.center)})}centerMap(e,n,s){if(s&&s.preventDefault(),e&&n){const u=n.getLatLng();e.flyTo(u,u.alt)}}getMediumLatLng(e){let n=new us.LatLngBounds;for(const s of e)n.extend(s.getLatLng());return n}setMarkerEvent(e,n,s,u,l,h,f){if(f.latlng)this.setMarker(e,n,s,u,l,f.latlng);else if(e!==null){const v=e.getLatLng();v.alt=l.getZoom(),e.setLatLng(v),l.flyTo(v,v.alt),this.writeMarkers(n,s)}this.syncSelector(h,n,l,s)}setMarker(e,n,s,u,l,h,f){return l&&(h.alt||(h.alt=l.getZoom()),e===null?e=this.createMarker(h,l):(e.setLatLng(h),e.addTo(l)),e.name=f,l.flyTo(h,h.alt),n.push(e),this.writeMarkers(n,s)),e}writeMarkers(e,n){const s={type:"FeatureCollection",features:[]};for(const u of e)if(u){const l=u.getLatLng();s.features.push(this.latLngToFeature(l,l.alt,u.name))}n.value=JSON.stringify(s)}async requestGeocode(e,n,s,u,l,h){let f=h.currentTarget.value;if(h.which&&h.which===13){h.preventDefault();const v=await this.getLatLngForAddress(f);if(v===null){console.error("Geocode was not successful.");return}v.alt=u.getZoom(),this.setMarker(null,e,n,s,u,v,v.name||""),this.syncSelector(l,e,u,n)}}}class wE{constructor(){this.linksSelector=null,this.currentRequest=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.tagAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),window.history.pushState({},document.title,window.location.href)}parseLinks(){this.linksSelector=document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')}onClick(e){const n=e.currentTarget,s=n.getAttribute("href");if(typeof s<"u"&&s!==null&&!n.classList.contains("rz-no-ajax-link")&&s!==""&&s!=="#"&&(s.indexOf(window.RozierConfig.baseUrl)>=0||s.charAt(0)==="/"||s.charAt(0)==="?"))return e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,s),this.onPopState(null)}),!1}onPopState(e){let n=null;e!==null&&e.originalEvent&&(n=e.originalEvent.state),(typeof n>"u"||n===null)&&(n=window.history.state),n!==null&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),this.loadContent(n,window.location))}loadContent(e,n){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{let s=new CustomEvent("pagechange");window.dispatchEvent(s);try{let u="";const l=n.href.split("?")[0],h=new URLSearchParams(n.href.split("?")[1]);if(e.headerData)for(let[w,E]of Object.entries(e.headerData))Array.isArray(E)?E.forEach((O,H)=>{h.append(w+"["+H+"]",O)}):h.set(w,E);h.toString()!==""?u=l+"?"+h.toString():u=l;const f=await fetch(u,{method:"GET",headers:{Accept:"text/html"}});if(!f.ok)throw f;const v=await f.text();this.applyContent(v);let x=new CustomEvent("pageload",{detail:v});window.dispatchEvent(x)}catch(u){const l=await u.text();if(l)try{let h=JSON.parse(l);window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.message,status:"danger"}}))}catch{window.location.href=n.href}else window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:window.RozierConfig.messages.forbiddenPage,status:"danger"}}))}window.dispatchEvent(new CustomEvent("requestLoaderHide"))})}refreshCodemirrorEditor(){for(let e of this.markdownEditors)e.forceEditorUpdate();for(let e of this.yamlEditors)e.forceEditorUpdate();for(let e of this.cssEditors)e.forceEditorUpdate();for(let e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(let e of this.markdownEditors)e.destroy();for(let e of this.yamlEditors)e.destroy();for(let e of this.cssEditors)e.destroy();for(let e of this.jsonEditors)e.destroy()}async applyContent(e){let n=document.getElementById("main-content-scrollable"),s=n.querySelector(".content-global"),u=document.createElement("div");u.innerHTML=e;const l=u.querySelector("[data-ajax-root]");l&&(u=document.createElement("div"),u.innerHTML=l.innerHTML),u.classList.add("new-content-global"),n.querySelectorAll('meta[name="title"]').forEach(v=>{v.remove()}),n.append(u);const f=n.querySelectorAll('meta[name="title"]');if(f.length&&(document.title=f[0].getAttribute("content")),u=n.querySelector(".new-content-global"),s&&u){await Ru(s,100),s.remove(),this.generalBind(),await pl(u,200),u.classList.remove("new-content-global");const v=new CustomEvent("pageshowend");window.dispatchEvent(v)}}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.tagAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.inputLengthWatcher=new lx,this.documentUploader=new ax(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new cx,this.geotagField=new fv,this.multiGeotagField=new yE,this.stackNodeTrees=new hx,this.attributeValuesPosition=new sx,this.customFormFieldsPosition=new ux,this.settingsSaveButtons=new fx,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),document.querySelectorAll(".actions-menu").length&&Wf.to(".actions-menu",.5,{right:0,delay:.4,ease:qf.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new dx,window.Rozier.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(let n of e)n&&n.unbind()}initCollectionsForms(e=null){const n=this;let s=null;e!==null?s=e.querySelectorAll(".rz-collection-form-type"):s=document.querySelectorAll(".rz-collection-form-type"),s.length&&$(s).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(u,l)=>{const h=l[0];return n.initMarkdownEditors(h),n.initJsonEditors(h),n.initCssEditors(h),n.initYamlEditors(h),n.initCollectionsForms(h),h.querySelectorAll("[data-vuejs]").forEach(v=>{window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(v))}),!0}})}initMarkdownEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-markdowneditor]"):n=document.querySelectorAll("textarea[data-rz-markdowneditor]");let s=n.length;if(s)for(let u=0;u<s;u++)this.markdownEditors.push(new lE(n[u],u))}initJsonEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-jsoneditor]"):n=document.querySelectorAll("textarea[data-rz-jsoneditor]");let s=n.length;if(s)for(let u=0;u<s;u++)this.jsonEditors.push(new cE(n[u],u))}initCssEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-csseditor]"):n=document.querySelectorAll("textarea[data-rz-csseditor]");let s=n.length;if(s)for(let u=0;u<s;u++)this.cssEditors.push(new hE(n[u],u))}initYamlEditors(e){let n=[];e?n=e.querySelectorAll("textarea[data-rz-yamleditor]"):n=document.querySelectorAll("textarea[data-rz-yamleditor]");let s=n.length;if(s)for(let u=0;u<s;u++)this.yamlEditors.push(new px(n[u],u))}initFilterBars(){const e=document.querySelectorAll("select.item-per-page");if(e.length){const n=s=>{const u=s.currentTarget.closest("form");u&&u.requestSubmit()};e.forEach(s=>{s.addEventListener("change",n)})}}resize(){}}const dv="NODES_SEARCH_REQUEST",pv="NODES_SEARCH_SUCCESS",mv="NODES_SEARCH_RESET",gv="NODES_SEARCH_FAILED",vv="NODES_SEARCH_ENABLE_FOCUS",bv="NODES_SEARCH_DISABLE_FOCUS",_v="EXPLORER_REQUEST",Up="EXPLORER_SUCCESS",wp="EXPLORER_RESET",yv="EXPLORER_FAILED",wv="EXPLORER_OPEN",Yp="EXPLORER_CLOSE",xv="EXPLORER_LOAD_MORE",kv="EXPLORER_LOAD_MORE_SUCCESS",Cv="EXPLORER_IS_LOADED",Gf="EXPLORER_UPDATE_SEARCH_TERMS",Ev="FILTER_EXPLORER_OPEN",Sv="FILTER_EXPLORER_CLOSE",Tv="FILTER_EXPLORER_REQUEST",Av="FILTER_EXPLORER_SUCCESS",xp="FILTER_EXPLORER_FAILED",Gp="FILTER_EXPLORER_UPDATE",Lv="FILTER_EXPLORER_RESET",gs="KEYBOARD_EVENT_ESCAPE",Dv="KEYBOARD_EVENT_SPACE",kp="LOGIN_CHECK_DISCONNECTED",Mv="LOGIN_CHECK_CONNECTED",Cp="HEALTH_CHECK_FAILED",Pv="HEALTH_CHECK_SUCCEEDED",Ov="DRAWERS_ADD_INSTANCE",Rv="DRAWERS_REMOVE_INSTANCE",Fv="DRAWERS_ADD_DOCUMENT",Nv="DRAWERS_REMOVE_DOCUMENT",Iv="DRAWERS_EDIT_INSTANCE",zv="DRAWERS_UPDATE_LIST",Bv="DRAWERS_ENABLE_DROPZONE",Hv="DRAWERS_DISABLE_DROPZONE",$v="DRAWERS_INIT_DATA_REQUEST",Ep="DRAWERS_INIT_DATA_REQUEST_SUCCESS",Wv="DRAWERS_INIT_DATA_REQUEST_FAILED",qv="DRAWERS_INIT_DATA_REQUEST_EMPTY",jv="TAG_CREATE_NEW_REQUEST",Uv="TAG_CREATE_NEW_REQUEST_SUCCESS",Yv="TAG_CREATE_NEW_REQUEST_ERROR",Gv="TAG_CREATOR_READY",Xv="DOCUMENT_PREVIEW_INIT",Zv="DOCUMENT_PREVIEW_DESTROY",Vv="DOCUMENT_PREVIEW_OPEN",Kv="DOCUMENT_PREVIEW_CLOSE",Qv="BLANCHETTE_EDITOR_INIT",Sp="BLANCHETTE_EDITOR_IS_LOADING",Df="BLANCHETTE_EDITOR_LOADED",Jv="BLANCHETTE_EDITOR_ERROR",eb="BLANCHETTE_EDITOR_SAVE_SUCCESS";function xE(t){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:t};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async n=>{const s=await n.json();return typeof s.data<"u"&&s.data.length>0?s.data:[]}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}const kE=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:xE},Symbol.toStringTag,{value:"Module"})),ac="document",_h="node",Xp="node-type",tb="join",ib="explorer-provider",nb="custom-form",sc="tag",rb="node-source-document";function CE({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(n._locale=e._locale);for(let s=0;s<t.length;s++)n["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.documents?{items:u.documents,trans:u.trans}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function EE({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),n&&n._locale&&(l._locale=n._locale),s&&s.id&&(l.folderId=s.id),u&&(l.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async h=>{const f=await h.json();return typeof f<"u"&&f.documents?{items:f.documents,filters:f.filters,trans:f.trans}:{}}).catch(async h=>{throw new Error((await h.response.json()).humanMessage)})}function SE(t){return fetch(window.location.href,{method:"POST",body:t,headers:{Accept:"application/json"}})}function TE({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};e&&e._locale&&(n._locale=e._locale);for(let s=0;s<t.length;s++)n["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function AE({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};if(e&&e._locale&&(l._locale=e._locale),n&&n._locale&&(l._locale=n._locale),s&&s.id&&(l.tagId=s.id),e&&e.nodeTypes){const h=JSON.parse(e.nodeTypes);Array.isArray(h)&&h.length>0&&(l.nodeTypes=h)}return u&&(l.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async h=>{const f=await h.json();return typeof f<"u"&&f.nodes?{items:f.nodes,filters:f.filters}:{}}).catch(async h=>{throw new Error((await h.response.json()).humanMessage)})}function LE({ids:t=[]}){t=t.map(n=>n.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let n=0;n<t.length;n++)e["names["+n+"]"]=t[n];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async n=>{const s=await n.json();return typeof s<"u"&&s.items?{items:s.items}:null}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}function DE({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return u&&(l.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async h=>{const f=await h.json();return typeof f<"u"&&f.nodeTypes?{items:f.nodeTypes,filters:f.filters}:{}}).catch(async h=>{throw new Error((await h.response.json()).humanMessage)})}function ME({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};e&&e._locale&&(n._locale=e._locale);for(let s=0;s<t.length;s++)n["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function PE({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:t,page:1};return e&&e._locale&&(l._locale=e._locale),n&&n._locale&&(l._locale=n._locale),e&&e.nodeTypeField&&(l.nodeTypeFieldName=e.nodeTypeField),u&&(l.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async h=>{const f=await h.json();return typeof f<"u"&&f.entities?{items:f.entities,filters:f.filters}:{}}).catch(async h=>{throw new Error((await h.response.json()).humanMessage)})}function OE({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken};for(let s=0;s<t.length;s++)n["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>({items:(await s.json()).forms})).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function RE({searchTerms:t,filters:e,moreData:n}){const s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return n&&(s.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async u=>{const l=await u.json();return typeof l<"u"&&l.customForms?{items:l.customForms,filters:l.filters}:{}}).catch(async u=>{throw new Error((await u.response.json()).humanMessage)})}function ob({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),n&&n._locale&&(l._locale=n._locale),u&&(l.page=n?n.nextPage:1),s&&s.id&&(l.tagId=s.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async h=>{const f=await h.json();if(typeof f<"u"&&f.tags)return{items:f.tags,filters:f.filters};throw new Error("No tags found")}).catch(async h=>{throw new Error((await h.response.json()).humanMessage)})}function ab({ids:t=[],filters:e={}}){const n={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(n._locale=e._locale);for(let s=0;s<t.length;s++)n["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.tags?{items:u.tags}:{}}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function sb({tagName:t}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:t};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(e),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async n=>{const s=await n.json();if(typeof s<"u"&&s.tag)return s.tag;throw new Error("Tag creation error")}).catch(async n=>{throw new Error((await n.response.json()).humanMessage)})}const FE=Object.freeze(Object.defineProperty({__proto__:null,createTag:sb,getTags:ob,getTagsByIds:ab},Symbol.toStringTag,{value:"Module"}));function ub({ids:t=[],filters:e}){const n={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};e&&e._locale&&(n._locale=e._locale);for(let s=0;s<t.length;s++)n["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function lb({searchTerms:t,preFilters:e,filters:n,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),n&&n._locale&&(l._locale=n._locale),e&&e.providerClass&&(l.providerClass=e.providerClass),e&&e.providerOptions&&(l.options=e.providerOptions),u&&(l.page=n?n.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async h=>{const f=await h.json();return typeof f<"u"&&f.entities?{items:f.entities,filters:f.filters}:{}}).catch(async h=>{throw new Error((await h.response.json()).humanMessage)})}const NE=Object.freeze(Object.defineProperty({__proto__:null,getItems:lb,getItemsByIds:ub},Symbol.toStringTag,{value:"Module"}));function IE({entity:t,searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l=!1}){switch(t){case ac:return EE({searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l});case _h:return AE({searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l});case Xp:return DE({searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l});case tb:return PE({searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l});case nb:return RE({searchTerms:e,filters:s,moreData:l});case sc:return ob({searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l});case ib:return lb({searchTerms:e,preFilters:n,filters:s,filterExplorerSelection:u,moreData:l})}return Promise.reject(new Error("No type entity found"))}const zE=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:IE},Symbol.toStringTag,{value:"Module"}));function BE(){const t={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.folders?{items:n.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function HE(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.tags?{items:n.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function $E(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const n=await e.json();return typeof n<"u"&&n.tags?{items:n.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function WE({entity:t}){switch(t){case ac:return BE();case _h:return HE();case sc:return $E();default:return Promise.reject(new Error("Entity not found"))}}const qE=Object.freeze(Object.defineProperty({__proto__:null,getFilters:WE},Symbol.toStringTag,{value:"Module"}));function cb(t,e=[],n){switch(t){case ac:return CE({ids:e,filters:n});case _h:return TE({ids:e,filters:n});case Xp:return LE({ids:e});case tb:return ME({ids:e,filters:n});case nb:return OE({ids:e,filters:n});case sc:return ab({ids:e,filters:n});case ib:return ub({ids:e,filters:n})}return Promise.reject(new Error("No type entity found"))}const jE=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:cb},Symbol.toStringTag,{value:"Module"}));function hb(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async t=>(await t.json()).url).catch(()=>{throw new Error("Image not found")})}const UE=Object.freeze(Object.defineProperty({__proto__:null,getImage:hb},Symbol.toStringTag,{value:"Module"})),Zp={...kE,...zE,...qE,...jE,...FE,...UE,...NE},YE={searchTerms:null,items:[],isFocus:!1,isOpen:!1},GE={},XE={nodeSourceSearchEnableFocus({commit:t}){t(vv)},nodeSourceSearchDisableFocus({commit:t}){t(bv)},nodeSourceSearchEscape({commit:t}){t(gs)},nodesSourceSearchUpdate({commit:t},e=""){if(!e||e.length<=1){t(mv);return}t(dv,{searchTerms:e}),Zp.getNodesSourceFromSearch(e).then(n=>{t(pv,{items:n})}).catch(()=>{t(gv)})}},ZE={[vv](t){t.isFocus=!0},[bv](t){t.isFocus=!1},[dv](t,{searchTerms:e}){t.searchTerms=e},[pv](t,{items:e}){t.items=e},[gv](t){t.items=[]},[mv](t){t.items=[]},[gs](t){t.items=[],t.isFocus=!1}},VE={state:YE,getters:GE,actions:XE,mutations:ZE};function Mf(t,e,n=0,s="[]"){if(t&&t.length&&t.length>e+s.length){let u=t.substr(0,Math.floor(e/2)+Math.floor(n/2)),l=t.substr(Math.floor(e/2)*-1+Math.floor(n/2));return u+s+l}else return t}function KE(t,e,n=0,s=""){return t&&t.length&&t.length>e?t.substr(0,e+n)+s:t}const QE={centralTruncate:Mf,truncate:KE};function Nn(t,e,n,s,u,l,h,f){var v=typeof t=="function"?t.options:t;return e&&(v.render=e,v.staticRenderFns=n,v._compiled=!0),l&&(v._scopeId="data-v-"+l),{exports:t,options:v}}const JE={props:["title","href","typeColor"],methods:{onItemClick:function(t){window.Rozier.lazyload.onClick(t),this.$store.commit(gs)}}};var e2=function(){var e=this,n=e._self._c;return n("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(s){return s.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},t2=[],i2=Nn(JE,e2,t2,!1,null,null);const Vp=i2.exports,fb={bind(t,e){let n=new Image;n.src=e.value,n.onload=async()=>{t.src=e.value,await pl(t,1e3)}}},n2={directives:{DynamicImg:fb},filters:QE,props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],computed:{shortMimeType:function(){return Mf(this.document.shortMimeType,13)},filename:function(){return Mf(this.document.classname,12)},name:function(){return Mf(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...Ia({previewIsVisible:t=>t.documentPreview.isVisible}),...Hs(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen({document:this.document})},onEditClick(t){this.document.processable&&this.$emit("edit",{document:this.document,index:this.index,currentTarget:t.currentTarget})},onMouseover(){this.documentPreviewInit({document:this.item.document})},onMouseleave(){this.previewIsVisible||this.documentPreviewDestroy({document:this.item.document})}},components:{AjaxLink:Vp}};var r2=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.document?n("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[n("div",{staticClass:"preview-zoom",on:{click:function(s){return s.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-search-plus"})]),n("div",{on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[n("div",{staticClass:"uk-sortable-handle"}),n("div",{staticClass:"document-border"}),n("div",{staticClass:"document-overflow"},[e.document.isPrivate?[n("div",{staticClass:"document-platform-icon"},[n("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[n("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[n("picture",[n("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),n("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e.drawerName&&e.entityName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}),n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}})]:e.drawerName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),n("div",{staticClass:"document-links"},[n(e.document.processable?"button":"a",{tag:"component",class:["uk-button","document-link","uk-button-mini","document-link--edit"],attrs:{id:`edit-${e.drawerName}[${e.index}]`,type:e.document.processable?"button":null,href:e.document.processable?null:e.editUrl},on:{click:e.onEditClick}},[n("i",{staticClass:"uk-icon-rz-pencil"})]),n("button",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e.document.embedPlatform?[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-"+e.document.icon})])]:[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])],2),n("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},o2=[],a2=Nn(n2,r2,o2,!1,null,null);const $g=a2.exports,s2={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:Vp}};var u2=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.item?n("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":e.published===!1},on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[n("div",{staticClass:"uk-sortable-handle"}),n("div",{staticClass:"border",style:{backgroundColor:e.color}}),e.thumbnailUrl&&!e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail"},[n("picture",[n("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),n("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),n("div",{staticClass:"names"},[e.parentName?n("p",{staticClass:"parent-name"},[e.subParentName?[n("span",{staticClass:"sub"},[e._v(" "+e._s(e.subParentName)+" ")])]:e._e(),n("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),n("span",{staticClass:"name"},[e._v(e._s(e.name))]),e.inputName&&e.item&&e.item.id?n("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),n("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?n("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),n("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},l2=[],c2=Nn(s2,u2,l2,!1,null,null);const h2=c2.exports,f2={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:h2}};var d2=function(){var e=this,n=e._self._c;return n("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},p2=[],m2=Nn(f2,d2,p2,!1,null,null);const Wg=m2.exports,g2={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var v2=function(){var e=this,n=e._self._c;return n("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),n("div",{staticClass:"new-tag"},[n("p",{staticClass:"parent-name"}),n("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},b2=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],_2=Nn(g2,v2,b2,!1,null,"22f18d8b");const y2=_2.exports,w2={mounted(){this.tagCreatorReady()},computed:{...Ia({translations:t=>t.translations,searchTerms:t=>t.explorer.searchTerms,isTagExisting:t=>t.tags.isTagExisting})},methods:{...Hs(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:y2}};var x2=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?n("div",{staticClass:"tag-creator"},[n("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),n("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},k2=[],C2=Nn(w2,x2,k2,!1,null,"bd268ee8");const E2=C2.exports;class Tp{static getState(e){const n={trans:{moreItems:""}};switch(n.isFilterEnable=!1,n.currentListingView=Wg,n.trans.moreItems="moreEntities",e){case ac:n.currentListingView=$g,n.filterExplorerIcon="uk-icon-rz-folder-tree-mini",n.trans.moreItems="moreDocuments",n.isFilterEnable=!0;break;case _h:n.filterExplorerIcon="uk-icon-tags",n.trans.moreItems="moreNodes",n.isFilterEnable=!0;break;case Xp:n.trans.moreItems="moreNodeTypes";break;case sc:n.trans.moreItems="moreTags",n.isFilterEnable=!0,n.filterExplorerIcon="uk-icon-tags";break;default:n.trans.moreItems="moreEntities";break}return n}static getListingView(e){switch(e){case ac:return $g;default:return Wg}}static getWidgetView(e){switch(e){case sc:return E2;default:return null}}}const db={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},pb={...db},S2={getExplorerEntity:t=>t.entity,getExplorerSearchTerms:t=>t.searchTerms},T2={async explorerOpen({commit:t,dispatch:e},{entity:n}){e("filterExplorerClose"),t(wp),t(wv,{entity:n}),await e("explorerMakeSearch"),t(Cv)},explorerClose({commit:t,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),t(wp),t(Yp)},explorerToggle({dispatch:t,state:e}){e.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms({commit:t,state:e,dispatch:n}){const s="";e.searchTerms===s?t(Gf,{searchTerms:s}):n("explorerUpdateSearch",{searchTerms:s})},explorerUpdateSearch({commit:t,dispatch:e},{searchTerms:n}){t(Gf,{searchTerms:n}),e("explorerMakeSearch")},explorerMakeSearch({commit:t,state:e,getters:n}){const s=e.entity,u=e.searchTerms,l=n.getDrawerFilters,h=e.filters,f=n.getFilterExplorerSelectedItem,v=e.isLoadingMore;return t(_v),Zp.getExplorerItems({entity:s,searchTerms:u,preFilters:l,filters:h,filterExplorerSelection:f,moreData:v}).then(x=>{t(Up,{result:x})}).catch(x=>{console.error(x),t(yv,{error:x})})},async explorerLoadMore({commit:t,dispatch:e}){t(xv),await e("explorerMakeSearch"),t(kv)}},A2={[_v](t){t.isLoadingMore||(t.isLoading=!0)},[Gf](t,{searchTerms:e}){t.searchTerms=e},[Up](t,{result:e}){t.isLoading=!1,t.isLoadingMore?t.items=[...t.items,...e.items]:t.items=e.items,t.filters=e.filters},[xv](t){t.isLoadingMore=!0},[kv](t){t.isLoadingMore=!1},[Gp](t){t.filters={}},[wp](t){for(let e in t)t.hasOwnProperty(e)&&nc.set(t,e,db[e])},[yv](t){t.isLoading=!1,t.isLoadingMore=!1,t.error="Request failed"},[wv](t,{entity:e}){t.isOpen=!0,t.isLoading=!0,t.entity=e,t.trans.moreItems="",t.widgetView=Tp.getWidgetView(e);const n=Tp.getState(e);for(let s in n)t.hasOwnProperty(s)&&nc.set(t,s,n[s])},[Cv](t){t.isLoading=!1},[Yp](t){t.isOpen=!1,t.isLoading=!1},[gs](){pb.isOpen=!1}},L2={state:pb,getters:S2,actions:T2,mutations:A2};var eh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var D2=eh.exports,qg;function M2(){return qg||(qg=1,function(t,e){(function(){var n,s="4.17.21",u=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",f="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",x=500,w="__lodash_placeholder__",E=1,O=2,H=4,F=1,j=2,q=1,M=2,S=4,D=8,B=16,I=32,V=64,ne=128,ue=256,de=512,ge=30,he="...",Le=800,ve=16,re=1,P=2,se=3,ye=1/0,Ee=9007199254740991,it=17976931348623157e292,Be=NaN,Me=4294967295,te=Me-1,Y=Me>>>1,De=[["ary",ne],["bind",q],["bindKey",M],["curry",D],["curryRight",B],["flip",de],["partial",I],["partialRight",V],["rearg",ue]],Fe="[object Arguments]",Z="[object Array]",we="[object AsyncFunction]",Te="[object Boolean]",qe="[object Date]",Xe="[object DOMException]",Ze="[object Error]",ut="[object Function]",Et="[object GeneratorFunction]",wt="[object Map]",St="[object Number]",_t="[object Null]",Mt="[object Object]",jt="[object Promise]",Kt="[object Proxy]",X="[object RegExp]",le="[object Set]",Q="[object String]",fe="[object Symbol]",pe="[object Undefined]",ze="[object WeakMap]",ot="[object WeakSet]",Qe="[object ArrayBuffer]",mt="[object DataView]",Pt="[object Float32Array]",ct="[object Float64Array]",$t="[object Int8Array]",Yt="[object Int16Array]",Qt="[object Int32Array]",Vt="[object Uint8Array]",xt="[object Uint8ClampedArray]",Un="[object Uint16Array]",Ut="[object Uint32Array]",mr=/\b__p \+= '';/g,Ft=/\b(__p \+=) '' \+/g,un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yi=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,pi=RegExp(yi.source),wi=RegExp(Fi.source),ui=/<%-([\s\S]+?)%>/g,si=/<%([\s\S]+?)%>/g,Bi=/<%=([\s\S]+?)%>/g,eo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hi=/^\w*$/,Fr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$i=/[\\^$.*+?()[\]{}|]/g,Qi=RegExp($i.source),gr=/^\s+/,En=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vr=/\{\n\/\* \[wrapped with (.+)\] \*/,Yn=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nr=/[()=,{}\[\]\/\s]/,jr=/\\(\\)?/g,Xi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ji=/\w*$/,rr=/^[-+]0x[0-9a-f]+$/i,or=/^0b[01]+$/i,Sn=/^\[object .+?Constructor\]$/,to=/^0o[0-7]+$/i,io=/^(?:0|[1-9]\d*)$/,kr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tn=/($^)/,Nr=/['\n\r\u2028\u2029\\]/g,yn="\\ud800-\\udfff",fo="\\u0300-\\u036f",Xn="\\ufe20-\\ufe2f",ji="\\u20d0-\\u20ff",Dt=fo+Xn+ji,Zn="\\u2700-\\u27bf",ar="a-z\\xdf-\\xf6\\xf8-\\xff",In="\\xac\\xb1\\xd7\\xf7",J="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xe="\\u2000-\\u206f",$e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nt="A-Z\\xc0-\\xd6\\xd8-\\xde",je="\\ufe0e\\ufe0f",pt=In+J+xe+$e,ni="[']",Ui="["+yn+"]",Nt="["+pt+"]",li="["+Dt+"]",po="\\d+",Wt="["+Zn+"]",ke="["+ar+"]",_="[^"+yn+pt+po+Zn+ar+nt+"]",T="\\ud83c[\\udffb-\\udfff]",N="(?:"+li+"|"+T+")",ie="[^"+yn+"]",ae="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+nt+"]",Je="\\u200d",et="(?:"+ke+"|"+_+")",Ve="(?:"+Oe+"|"+_+")",Ke="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",ht="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",hi=N+"?",fi="["+je+"]?",Wi="(?:"+Je+"(?:"+[ie,ae,_e].join("|")+")"+fi+hi+")*",Ei="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fn=fi+hi+Wi,Rt="(?:"+[Wt,ae,_e].join("|")+")"+fn,on="(?:"+[ie+li+"?",li,ae,_e,Ui].join("|")+")",ri=RegExp(ni,"g"),gt=RegExp(li,"g"),xi=RegExp(T+"(?="+T+")|"+on+fn,"g"),an=RegExp([Oe+"?"+ke+"+"+Ke+"(?="+[Nt,Oe,"$"].join("|")+")",Ve+"+"+ht+"(?="+[Nt,Oe+et,"$"].join("|")+")",Oe+"?"+et+"+"+Ke,Oe+"+"+ht,Pi,Ei,po,Rt].join("|"),"g"),sr=RegExp("["+Je+yn+Dt+je+"]"),An=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ur=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ir=-1,Xt={};Xt[Pt]=Xt[ct]=Xt[$t]=Xt[Yt]=Xt[Qt]=Xt[Vt]=Xt[xt]=Xt[Un]=Xt[Ut]=!0,Xt[Fe]=Xt[Z]=Xt[Qe]=Xt[Te]=Xt[mt]=Xt[qe]=Xt[Ze]=Xt[ut]=Xt[wt]=Xt[St]=Xt[Mt]=Xt[X]=Xt[le]=Xt[Q]=Xt[ze]=!1;var oi={};oi[Fe]=oi[Z]=oi[Qe]=oi[mt]=oi[Te]=oi[qe]=oi[Pt]=oi[ct]=oi[$t]=oi[Yt]=oi[Qt]=oi[wt]=oi[St]=oi[Mt]=oi[X]=oi[le]=oi[Q]=oi[fe]=oi[Vt]=oi[xt]=oi[Un]=oi[Ut]=!0,oi[Ze]=oi[ut]=oi[ze]=!1;var wn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_a={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zo=parseFloat,ya=parseInt,Ba=typeof pf=="object"&&pf&&pf.Object===Object&&pf,gi=typeof self=="object"&&self&&self.Object===Object&&self,Ni=Ba||gi||Function("return this")(),br=e&&!e.nodeType&&e,Br=br&&!0&&t&&!t.nodeType&&t,vs=Br&&Br.exports===br,qs=vs&&Ba.process,dn=function(){try{var Ne=Br&&Br.require&&Br.require("util").types;return Ne||qs&&qs.binding&&qs.binding("util")}catch{}}(),js=dn&&dn.isArrayBuffer,no=dn&&dn.isDate,bs=dn&&dn.isMap,Us=dn&&dn.isRegExp,To=dn&&dn.isSet,bl=dn&&dn.isTypedArray;function ln(Ne,tt,Ue){switch(Ue.length){case 0:return Ne.call(tt);case 1:return Ne.call(tt,Ue[0]);case 2:return Ne.call(tt,Ue[0],Ue[1]);case 3:return Ne.call(tt,Ue[0],Ue[1],Ue[2])}return Ne.apply(tt,Ue)}function pc(Ne,tt,Ue,At){for(var Jt=-1,Si=Ne==null?0:Ne.length;++Jt<Si;){var xn=Ne[Jt];tt(At,xn,Ue(xn),Ne)}return At}function Hr(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length;++Ue<At&&tt(Ne[Ue],Ue,Ne)!==!1;);return Ne}function Ao(Ne,tt){for(var Ue=Ne==null?0:Ne.length;Ue--&&tt(Ne[Ue],Ue,Ne)!==!1;);return Ne}function Ys(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length;++Ue<At;)if(!tt(Ne[Ue],Ue,Ne))return!1;return!0}function Lo(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length,Jt=0,Si=[];++Ue<At;){var xn=Ne[Ue];tt(xn,Ue,Ne)&&(Si[Jt++]=xn)}return Si}function Ha(Ne,tt){var Ue=Ne==null?0:Ne.length;return!!Ue&&tn(Ne,tt,0)>-1}function zu(Ne,tt,Ue){for(var At=-1,Jt=Ne==null?0:Ne.length;++At<Jt;)if(Ue(tt,Ne[At]))return!0;return!1}function en(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length,Jt=Array(At);++Ue<At;)Jt[Ue]=tt(Ne[Ue],Ue,Ne);return Jt}function mo(Ne,tt){for(var Ue=-1,At=tt.length,Jt=Ne.length;++Ue<At;)Ne[Jt+Ue]=tt[Ue];return Ne}function Bu(Ne,tt,Ue,At){var Jt=-1,Si=Ne==null?0:Ne.length;for(At&&Si&&(Ue=Ne[++Jt]);++Jt<Si;)Ue=tt(Ue,Ne[Jt],Jt,Ne);return Ue}function _l(Ne,tt,Ue,At){var Jt=Ne==null?0:Ne.length;for(At&&Jt&&(Ue=Ne[--Jt]);Jt--;)Ue=tt(Ue,Ne[Jt],Jt,Ne);return Ue}function Vo(Ne,tt){for(var Ue=-1,At=Ne==null?0:Ne.length;++Ue<At;)if(tt(Ne[Ue],Ue,Ne))return!0;return!1}var $a=Gs("length");function yl(Ne){return Ne.split("")}function wl(Ne){return Ne.match(Gn)||[]}function _s(Ne,tt,Ue){var At;return Ue(Ne,function(Jt,Si,xn){if(tt(Jt,Si,xn))return At=Si,!1}),At}function Cr(Ne,tt,Ue,At){for(var Jt=Ne.length,Si=Ue+(At?1:-1);At?Si--:++Si<Jt;)if(tt(Ne[Si],Si,Ne))return Si;return-1}function tn(Ne,tt,Ue){return tt===tt?xa(Ne,tt,Ue):Cr(Ne,Er,Ue)}function ys(Ne,tt,Ue,At){for(var Jt=Ue-1,Si=Ne.length;++Jt<Si;)if(At(Ne[Jt],tt))return Jt;return-1}function Er(Ne){return Ne!==Ne}function wa(Ne,tt){var Ue=Ne==null?0:Ne.length;return Ue?Vs(Ne,tt)/Ue:Be}function Gs(Ne){return function(tt){return tt==null?n:tt[Ne]}}function Xs(Ne){return function(tt){return Ne==null?n:Ne[tt]}}function Zs(Ne,tt,Ue,At,Jt){return Jt(Ne,function(Si,xn,qi){Ue=At?(At=!1,Si):tt(Ue,Si,xn,qi)}),Ue}function ws(Ne,tt){var Ue=Ne.length;for(Ne.sort(tt);Ue--;)Ne[Ue]=Ne[Ue].value;return Ne}function Vs(Ne,tt){for(var Ue,At=-1,Jt=Ne.length;++At<Jt;){var Si=tt(Ne[At]);Si!==n&&(Ue=Ue===n?Si:Ue+Si)}return Ue}function Hu(Ne,tt){for(var Ue=-1,At=Array(Ne);++Ue<Ne;)At[Ue]=tt(Ue);return At}function xl(Ne,tt){return en(tt,function(Ue){return[Ue,Ne[Ue]]})}function $u(Ne){return Ne&&Ne.slice(0,Js(Ne)+1).replace(gr,"")}function nn(Ne){return function(tt){return Ne(tt)}}function Ko(Ne,tt){return en(tt,function(Ue){return Ne[Ue]})}function Do(Ne,tt){return Ne.has(tt)}function zn(Ne,tt){for(var Ue=-1,At=Ne.length;++Ue<At&&tn(tt,Ne[Ue],0)>-1;);return Ue}function xs(Ne,tt){for(var Ue=Ne.length;Ue--&&tn(tt,Ne[Ue],0)>-1;);return Ue}function Qo(Ne,tt){for(var Ue=Ne.length,At=0;Ue--;)Ne[Ue]===tt&&++At;return At}var kl=Xs(wn),Sr=Xs(zr);function Jo(Ne){return"\\"+_a[Ne]}function Wa(Ne,tt){return Ne==null?n:Ne[tt]}function qa(Ne){return sr.test(Ne)}function Mo(Ne){return An.test(Ne)}function Ks(Ne){for(var tt,Ue=[];!(tt=Ne.next()).done;)Ue.push(tt.value);return Ue}function Qs(Ne){var tt=-1,Ue=Array(Ne.size);return Ne.forEach(function(At,Jt){Ue[++tt]=[Jt,At]}),Ue}function ja(Ne,tt){return function(Ue){return Ne(tt(Ue))}}function $r(Ne,tt){for(var Ue=-1,At=Ne.length,Jt=0,Si=[];++Ue<At;){var xn=Ne[Ue];(xn===tt||xn===w)&&(Ne[Ue]=w,Si[Jt++]=Ue)}return Si}function pn(Ne){var tt=-1,Ue=Array(Ne.size);return Ne.forEach(function(At){Ue[++tt]=At}),Ue}function Cl(Ne){var tt=-1,Ue=Array(Ne.size);return Ne.forEach(function(At){Ue[++tt]=[At,At]}),Ue}function xa(Ne,tt,Ue){for(var At=Ue-1,Jt=Ne.length;++At<Jt;)if(Ne[At]===tt)return At;return-1}function mc(Ne,tt,Ue){for(var At=Ue+1;At--;)if(Ne[At]===tt)return At;return At}function Tr(Ne){return qa(Ne)?ea(Ne):$a(Ne)}function Ar(Ne){return qa(Ne)?tu(Ne):yl(Ne)}function Js(Ne){for(var tt=Ne.length;tt--&&En.test(Ne.charAt(tt)););return tt}var eu=Xs(Xo);function ea(Ne){for(var tt=xi.lastIndex=0;xi.test(Ne);)++tt;return tt}function tu(Ne){return Ne.match(xi)||[]}function ks(Ne){return Ne.match(an)||[]}var ta=function Ne(tt){tt=tt==null?Ni:Yr.defaults(Ni.Object(),tt,Yr.pick(Ni,Ur));var Ue=tt.Array,At=tt.Date,Jt=tt.Error,Si=tt.Function,xn=tt.Math,qi=tt.Object,Cs=tt.RegExp,go=tt.String,_r=tt.TypeError,iu=Ue.prototype,vo=Si.prototype,ro=qi.prototype,bo=tt["__core-js_shared__"],Ua=vo.toString,Ci=ro.hasOwnProperty,El=0,Po=function(){var c=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),oo=ro.toString,ia=Ua.call(qi),yr=Ni._,ur=Cs("^"+Ua.call(Ci).replace($i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gr=vs?tt.Buffer:n,Xr=tt.Symbol,na=tt.Uint8Array,Wu=Gr?Gr.allocUnsafe:n,ao=ja(qi.getPrototypeOf,qi),ka=qi.create,Es=ro.propertyIsEnumerable,ra=iu.splice,Sl=Xr?Xr.isConcatSpreadable:n,oa=Xr?Xr.iterator:n,Oo=Xr?Xr.toStringTag:n,Ca=function(){try{var c=is(qi,"defineProperty");return c({},"",{}),c}catch{}}(),nu=tt.clearTimeout!==Ni.clearTimeout&&tt.clearTimeout,Ea=At&&At.now!==Ni.Date.now&&At.now,ru=tt.setTimeout!==Ni.setTimeout&&tt.setTimeout,Ya=xn.ceil,aa=xn.floor,qu=qi.getOwnPropertySymbols,o=Gr?Gr.isBuffer:n,m=tt.isFinite,y=iu.join,A=ja(qi.keys,qi),U=xn.max,oe=xn.min,Ae=At.now,We=tt.parseInt,Ye=xn.random,lt=iu.reverse,Ct=is(tt,"DataView"),zt=is(tt,"Map"),ai=is(tt,"Promise"),Zi=is(tt,"Set"),Vi=is(tt,"WeakMap"),mn=is(qi,"create"),Bn=Vi&&new Vi,Zr={},Tl=Dn(Ct),gc=Dn(zt),Sa=Dn(ai),sa=Dn(Zi),vc=Dn(Vi),Ss=Xr?Xr.prototype:n,rn=Ss?Ss.valueOf:n,Ts=Ss?Ss.toString:n;function ce(c){if($n(c)&&!mi(c)&&!(c instanceof Gt)){if(c instanceof Li)return c;if(Ci.call(c,"__wrapped__"))return Dr(c)}return new Li(c)}var Ga=function(){function c(){}return function(g){if(!On(g))return{};if(ka)return ka(g);c.prototype=g;var k=new c;return c.prototype=n,k}}();function Vn(){}function Li(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}ce.templateSettings={escape:ui,evaluate:si,interpolate:Bi,variable:"",imports:{_:ce}},ce.prototype=Vn.prototype,ce.prototype.constructor=ce,Li.prototype=Ga(Vn.prototype),Li.prototype.constructor=Li;function Gt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function Ln(){var c=new Gt(this.__wrapped__);return c.__actions__=Vr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Vr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Vr(this.__views__),c}function ju(){if(this.__filtered__){var c=new Gt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ld(){var c=this.__wrapped__.value(),g=this.__dir__,k=mi(c),z=g<0,ee=k?c.length:0,me=Dd(0,ee,this.__views__),Se=me.start,Pe=me.end,He=Pe-Se,at=z?Pe:Se-1,st=this.__iteratees__,ft=st.length,Lt=0,qt=oe(He,this.__takeCount__);if(!k||!z&&ee==He&&qt==He)return Ku(c,this.__actions__);var ei=[];e:for(;He--&&Lt<qt;){at+=g;for(var ki=-1,ti=c[at];++ki<ft;){var Ai=st[ki],Ri=Ai.iteratee,$o=Ai.type,co=Ri(ti);if($o==P)ti=co;else if(!co){if($o==re)continue e;break e}}ei[Lt++]=ti}return ei}Gt.prototype=Ga(Vn.prototype),Gt.prototype.constructor=Gt;function ua(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var z=c[g];this.set(z[0],z[1])}}function cd(){this.__data__=mn?mn(null):{},this.size=0}function hd(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function fd(c){var g=this.__data__;if(mn){var k=g[c];return k===v?n:k}return Ci.call(g,c)?g[c]:n}function bc(c){var g=this.__data__;return mn?g[c]!==n:Ci.call(g,c)}function xh(c,g){var k=this.__data__;return this.size+=this.has(c)?0:1,k[c]=mn&&g===n?v:g,this}ua.prototype.clear=cd,ua.prototype.delete=hd,ua.prototype.get=fd,ua.prototype.has=bc,ua.prototype.set=xh;function Ro(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var z=c[g];this.set(z[0],z[1])}}function dd(){this.__data__=[],this.size=0}function _c(c){var g=this.__data__,k=au(g,c);if(k<0)return!1;var z=g.length-1;return k==z?g.pop():ra.call(g,k,1),--this.size,!0}function yc(c){var g=this.__data__,k=au(g,c);return k<0?n:g[k][1]}function kh(c){return au(this.__data__,c)>-1}function Ch(c,g){var k=this.__data__,z=au(k,c);return z<0?(++this.size,k.push([c,g])):k[z][1]=g,this}Ro.prototype.clear=dd,Ro.prototype.delete=_c,Ro.prototype.get=yc,Ro.prototype.has=kh,Ro.prototype.set=Ch;function Fo(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var z=c[g];this.set(z[0],z[1])}}function Eh(){this.size=0,this.__data__={hash:new ua,map:new(zt||Ro),string:new ua}}function Uu(c){var g=ul(this,c).delete(c);return this.size-=g?1:0,g}function pd(c){return ul(this,c).get(c)}function Al(c){return ul(this,c).has(c)}function Ta(c,g){var k=ul(this,c),z=k.size;return k.set(c,g),this.size+=k.size==z?0:1,this}Fo.prototype.clear=Eh,Fo.prototype.delete=Uu,Fo.prototype.get=pd,Fo.prototype.has=Al,Fo.prototype.set=Ta;function Xa(c){var g=-1,k=c==null?0:c.length;for(this.__data__=new Fo;++g<k;)this.add(c[g])}function md(c){return this.__data__.set(c,v),this}function Sh(c){return this.__data__.has(c)}Xa.prototype.add=Xa.prototype.push=md,Xa.prototype.has=Sh;function gn(c){var g=this.__data__=new Ro(c);this.size=g.size}function Ii(){this.__data__=new Ro,this.size=0}function No(c){var g=this.__data__,k=g.delete(c);return this.size=g.size,k}function Za(c){return this.__data__.get(c)}function Va(c){return this.__data__.has(c)}function Th(c,g){var k=this.__data__;if(k instanceof Ro){var z=k.__data__;if(!zt||z.length<u-1)return z.push([c,g]),this.size=++k.size,this;k=this.__data__=new Fo(z)}return k.set(c,g),this.size=k.size,this}gn.prototype.clear=Ii,gn.prototype.delete=No,gn.prototype.get=Za,gn.prototype.has=Va,gn.prototype.set=Th;function Ll(c,g){var k=mi(c),z=!k&&ll(c),ee=!k&&!z&&Eu(c),me=!k&&!z&&!ee&&Yl(c),Se=k||z||ee||me,Pe=Se?Hu(c.length,go):[],He=Pe.length;for(var at in c)(g||Ci.call(c,at))&&!(Se&&(at=="length"||ee&&(at=="offset"||at=="parent")||me&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||p(at,He)))&&Pe.push(at);return Pe}function wc(c){var g=c.length;return g?c[Rl(0,g-1)]:n}function gd(c,g){return Cn(Vr(c),La(g,0,c.length))}function xc(c){return Cn(Vr(c))}function As(c,g,k){(k!==n&&!Ma(c[g],k)||k===n&&!(g in c))&&Aa(c,g,k)}function ou(c,g,k){var z=c[g];(!(Ci.call(c,g)&&Ma(z,k))||k===n&&!(g in c))&&Aa(c,g,k)}function au(c,g){for(var k=c.length;k--;)if(Ma(c[k][0],g))return k;return-1}function Ka(c,g,k,z){return Io(c,function(ee,me,Se){g(z,ee,k(ee),Se)}),z}function kc(c,g){return c&&Bo(g,Pr(g),c)}function Ah(c,g){return c&&Bo(g,xo(g),c)}function Aa(c,g,k){g=="__proto__"&&Ca?Ca(c,g,{configurable:!0,enumerable:!0,value:k,writable:!0}):c[g]=k}function su(c,g){for(var k=-1,z=g.length,ee=Ue(z),me=c==null;++k<z;)ee[k]=me?n:zd(c,g[k]);return ee}function La(c,g,k){return c===c&&(k!==n&&(c=c<=k?c:k),g!==n&&(c=c>=g?c:g)),c}function so(c,g,k,z,ee,me){var Se,Pe=g&E,He=g&O,at=g&H;if(k&&(Se=ee?k(c,z,ee,me):k(c)),Se!==n)return Se;if(!On(c))return c;var st=mi(c);if(st){if(Se=Md(c),!Pe)return Vr(c,Se)}else{var ft=Jn(c),Lt=ft==ut||ft==Et;if(Eu(c))return Rc(c,Pe);if(ft==Mt||ft==Fe||Lt&&!ee){if(Se=He||Lt?{}:of(c),!Pe)return He?Sd(c,Ah(Se,c)):Xh(c,kc(Se,c))}else{if(!oi[ft])return ee?c:{};Se=Ul(c,ft,Pe)}}me||(me=new gn);var qt=me.get(c);if(qt)return qt;me.set(c,Se),Am(c)?c.forEach(function(ti){Se.add(so(ti,g,k,ti,c,me))}):Sm(c)&&c.forEach(function(ti,Ai){Se.set(Ai,so(ti,g,k,Ai,c,me))});var ei=at?He?jl:ql:He?xo:Pr,ki=st?n:ei(c);return Hr(ki||c,function(ti,Ai){ki&&(Ai=ti,ti=c[Ai]),ou(Se,Ai,so(ti,g,k,Ai,c,me))}),Se}function vd(c){var g=Pr(c);return function(k){return Cc(k,c,g)}}function Cc(c,g,k){var z=k.length;if(c==null)return!z;for(c=qi(c);z--;){var ee=k[z],me=g[ee],Se=c[ee];if(Se===n&&!(ee in c)||!me(Se))return!1}return!0}function Lh(c,g,k){if(typeof c!="function")throw new _r(h);return Bt(function(){c.apply(n,k)},g)}function Yu(c,g,k,z){var ee=-1,me=Ha,Se=!0,Pe=c.length,He=[],at=g.length;if(!Pe)return He;k&&(g=en(g,nn(k))),z?(me=zu,Se=!1):g.length>=u&&(me=Do,Se=!1,g=new Xa(g));e:for(;++ee<Pe;){var st=c[ee],ft=k==null?st:k(st);if(st=z||st!==0?st:0,Se&&ft===ft){for(var Lt=at;Lt--;)if(g[Lt]===ft)continue e;He.push(st)}else me(g,ft,z)||He.push(st)}return He}var Io=_u(_o),Ec=_u(Ml,!0);function bd(c,g){var k=!0;return Io(c,function(z,ee,me){return k=!!g(z,ee,me),k}),k}function Dl(c,g,k){for(var z=-1,ee=c.length;++z<ee;){var me=c[z],Se=g(me);if(Se!=null&&(Pe===n?Se===Se&&!Ho(Se):k(Se,Pe)))var Pe=Se,He=me}return He}function Dh(c,g,k,z){var ee=c.length;for(k=_i(k),k<0&&(k=-k>ee?0:ee+k),z=z===n||z>ee?ee:_i(z),z<0&&(z+=ee),z=k>z?0:Dm(z);k<z;)c[k++]=g;return c}function Ls(c,g){var k=[];return Io(c,function(z,ee,me){g(z,ee,me)&&k.push(z)}),k}function Kn(c,g,k,z,ee){var me=-1,Se=c.length;for(k||(k=a),ee||(ee=[]);++me<Se;){var Pe=c[me];g>0&&k(Pe)?g>1?Kn(Pe,g-1,k,z,ee):mo(ee,Pe):z||(ee[ee.length]=Pe)}return ee}var uu=Zh(),Sc=Zh(!0);function _o(c,g){return c&&uu(c,g,Pr)}function Ml(c,g){return c&&Sc(c,g,Pr)}function Pl(c,g){return Lo(g,function(k){return Ns(c[k])})}function Qa(c,g){g=ts(g,c);for(var k=0,z=g.length;c!=null&&k<z;)c=c[vn(g[k++])];return k&&k==z?c:n}function lr(c,g,k){var z=g(c);return mi(c)?z:mo(z,k(c))}function cr(c){return c==null?c===n?pe:_t:Oo&&Oo in qi(c)?Ld(c):rt(c)}function Ol(c,g){return c>g}function Mh(c,g){return c!=null&&Ci.call(c,g)}function Ph(c,g){return c!=null&&g in qi(c)}function lu(c,g,k){return c>=oe(g,k)&&c<U(g,k)}function cu(c,g,k){for(var z=k?zu:Ha,ee=c[0].length,me=c.length,Se=me,Pe=Ue(me),He=1/0,at=[];Se--;){var st=c[Se];Se&&g&&(st=en(st,nn(g))),He=oe(st.length,He),Pe[Se]=!k&&(g||ee>=120&&st.length>=120)?new Xa(Se&&st):n}st=c[0];var ft=-1,Lt=Pe[0];e:for(;++ft<ee&&at.length<He;){var qt=st[ft],ei=g?g(qt):qt;if(qt=k||qt!==0?qt:0,!(Lt?Do(Lt,ei):z(at,ei,k))){for(Se=me;--Se;){var ki=Pe[Se];if(!(ki?Do(ki,ei):z(c[Se],ei,k)))continue e}Lt&&Lt.push(ei),at.push(qt)}}return at}function Oh(c,g,k,z){return _o(c,function(ee,me,Se){g(z,k(ee),me,Se)}),z}function hu(c,g,k){g=ts(g,c),c=bt(c,g);var z=c==null?c:c[vn(pa(g))];return z==null?n:ln(z,c,k)}function Tc(c){return $n(c)&&cr(c)==Fe}function fu(c){return $n(c)&&cr(c)==Qe}function Rh(c){return $n(c)&&cr(c)==qe}function Ja(c,g,k,z,ee){return c===g?!0:c==null||g==null||!$n(c)&&!$n(g)?c!==c&&g!==g:Fh(c,g,k,z,Ja,ee)}function Fh(c,g,k,z,ee,me){var Se=mi(c),Pe=mi(g),He=Se?Z:Jn(c),at=Pe?Z:Jn(g);He=He==Fe?Mt:He,at=at==Fe?Mt:at;var st=He==Mt,ft=at==Mt,Lt=He==at;if(Lt&&Eu(c)){if(!Eu(g))return!1;Se=!0,st=!1}if(Lt&&!st)return me||(me=new gn),Se||Yl(c)?yo(c,g,k,z,ee,me):Wl(c,g,He,k,z,ee,me);if(!(k&F)){var qt=st&&Ci.call(c,"__wrapped__"),ei=ft&&Ci.call(g,"__wrapped__");if(qt||ei){var ki=qt?c.value():c,ti=ei?g.value():g;return me||(me=new gn),ee(ki,ti,k,z,me)}}return Lt?(me||(me=new gn),$c(c,g,k,z,ee,me)):!1}function Gu(c){return $n(c)&&Jn(c)==wt}function Ac(c,g,k,z){var ee=k.length,me=ee,Se=!z;if(c==null)return!me;for(c=qi(c);ee--;){var Pe=k[ee];if(Se&&Pe[2]?Pe[1]!==c[Pe[0]]:!(Pe[0]in c))return!1}for(;++ee<me;){Pe=k[ee];var He=Pe[0],at=c[He],st=Pe[1];if(Se&&Pe[2]){if(at===n&&!(He in c))return!1}else{var ft=new gn;if(z)var Lt=z(at,st,He,c,g,ft);if(!(Lt===n?Ja(st,at,F|j,z,ft):Lt))return!1}}return!0}function Ds(c){if(!On(c)||W(c))return!1;var g=Ns(c)?ur:Sn;return g.test(Dn(c))}function Nh(c){return $n(c)&&cr(c)==X}function Ih(c){return $n(c)&&Jn(c)==le}function zh(c){return $n(c)&&hf(c.length)&&!!Xt[cr(c)]}function du(c){return typeof c=="function"?c:c==null?ko:typeof c=="object"?mi(c)?Dc(c[0],c[1]):Bh(c):$m(c)}function Ms(c){if(!K(c))return A(c);var g=[];for(var k in qi(c))Ci.call(c,k)&&k!="constructor"&&g.push(k);return g}function Xu(c){if(!On(c))return Ge(c);var g=K(c),k=[];for(var z in c)z=="constructor"&&(g||!Ci.call(c,z))||k.push(z);return k}function Ps(c,g){return c<g}function Lc(c,g){var k=-1,z=wo(c)?Ue(c.length):[];return Io(c,function(ee,me,Se){z[++k]=g(ee,me,Se)}),z}function Bh(c){var g=zi(c);return g.length==1&&g[0][2]?Ce(g[0][0],g[0][1]):function(k){return k===c||Ac(k,c,g)}}function Dc(c,g){return b(c)&&be(g)?Ce(vn(c),g):function(k){var z=zd(k,c);return z===n&&z===g?Bd(k,c):Ja(g,z,F|j)}}function zo(c,g,k,z,ee){c!==g&&uu(g,function(me,Se){if(ee||(ee=new gn),On(me))pu(c,g,Se,k,zo,z,ee);else{var Pe=z?z(vt(c,Se),me,Se+"",c,g,ee):n;Pe===n&&(Pe=me),As(c,Se,Pe)}},xo)}function pu(c,g,k,z,ee,me,Se){var Pe=vt(c,k),He=vt(g,k),at=Se.get(He);if(at){As(c,k,at);return}var st=me?me(Pe,He,k+"",c,g,Se):n,ft=st===n;if(ft){var Lt=mi(He),qt=!Lt&&Eu(He),ei=!Lt&&!qt&&Yl(He);st=He,Lt||qt||ei?mi(Pe)?st=Pe:tr(Pe)?st=Vr(Pe):qt?(ft=!1,st=Rc(He,!0)):ei?(ft=!1,st=Fc(He,!0)):st=[]:jc(He)||ll(He)?(st=Pe,ll(Pe)?st=Mm(Pe):(!On(Pe)||Ns(Pe))&&(st=of(He))):ft=!1}ft&&(Se.set(He,st),ee(st,He,z,me,Se),Se.delete(He)),As(c,k,st)}function mu(c,g){var k=c.length;if(k)return g+=g<0?k:0,p(g,k)?c[g]:n}function Hh(c,g,k){g.length?g=en(g,function(me){return mi(me)?function(Se){return Qa(Se,me.length===1?me[0]:me)}:me}):g=[ko];var z=-1;g=en(g,nn(Zt()));var ee=Lc(c,function(me,Se,Pe){var He=en(g,function(at){return at(me)});return{criteria:He,index:++z,value:me}});return ws(ee,function(me,Se){return Ed(me,Se,k)})}function $h(c,g){return Wh(c,g,function(k,z){return Bd(c,z)})}function Wh(c,g,k){for(var z=-1,ee=g.length,me={};++z<ee;){var Se=g[z],Pe=Qa(c,Se);k(Pe,Se)&&gu(me,ts(Se,c),Pe)}return me}function _d(c){return function(g){return Qa(g,c)}}function Mc(c,g,k,z){var ee=z?ys:tn,me=-1,Se=g.length,Pe=c;for(c===g&&(g=Vr(g)),k&&(Pe=en(c,nn(k)));++me<Se;)for(var He=0,at=g[me],st=k?k(at):at;(He=ee(Pe,st,He,z))>-1;)Pe!==c&&ra.call(Pe,He,1),ra.call(c,He,1);return c}function Lr(c,g){for(var k=c?g.length:0,z=k-1;k--;){var ee=g[k];if(k==z||ee!==me){var me=ee;p(ee)?ra.call(c,ee,1):Fl(c,ee)}}return c}function Rl(c,g){return c+aa(Ye()*(g-c+1))}function yd(c,g,k,z){for(var ee=-1,me=U(Ya((g-c)/(k||1)),0),Se=Ue(me);me--;)Se[z?me:++ee]=c,c+=k;return Se}function Pc(c,g){var k="";if(!c||g<1||g>Ee)return k;do g%2&&(k+=c),g=aa(g/2),g&&(c+=c);while(g);return k}function bi(c,g){return It(dt(c,g,ko),c+"")}function qh(c){return wc(Gl(c))}function jh(c,g){var k=Gl(c);return Cn(k,La(g,0,k.length))}function gu(c,g,k,z){if(!On(c))return c;g=ts(g,c);for(var ee=-1,me=g.length,Se=me-1,Pe=c;Pe!=null&&++ee<me;){var He=vn(g[ee]),at=k;if(He==="__proto__"||He==="constructor"||He==="prototype")return c;if(ee!=Se){var st=Pe[He];at=z?z(st,He,Pe):n,at===n&&(at=On(st)?st:p(g[ee+1])?[]:{})}ou(Pe,He,at),Pe=Pe[He]}return c}var Uh=Bn?function(c,g){return Bn.set(c,g),c}:ko,wd=Ca?function(c,g){return Ca(c,"toString",{configurable:!0,enumerable:!1,value:$d(g),writable:!0})}:ko;function xd(c){return Cn(Gl(c))}function Qn(c,g,k){var z=-1,ee=c.length;g<0&&(g=-g>ee?0:ee+g),k=k>ee?ee:k,k<0&&(k+=ee),ee=g>k?0:k-g>>>0,g>>>=0;for(var me=Ue(ee);++z<ee;)me[z]=c[z+g];return me}function Zu(c,g){var k;return Io(c,function(z,ee,me){return k=g(z,ee,me),!k}),!!k}function Os(c,g,k){var z=0,ee=c==null?z:c.length;if(typeof g=="number"&&g===g&&ee<=Y){for(;z<ee;){var me=z+ee>>>1,Se=c[me];Se!==null&&!Ho(Se)&&(k?Se<=g:Se<g)?z=me+1:ee=me}return ee}return Rs(c,g,ko,k)}function Rs(c,g,k,z){var ee=0,me=c==null?0:c.length;if(me===0)return 0;g=k(g);for(var Se=g!==g,Pe=g===null,He=Ho(g),at=g===n;ee<me;){var st=aa((ee+me)/2),ft=k(c[st]),Lt=ft!==n,qt=ft===null,ei=ft===ft,ki=Ho(ft);if(Se)var ti=z||ei;else at?ti=ei&&(z||Lt):Pe?ti=ei&&Lt&&(z||!qt):He?ti=ei&&Lt&&!qt&&(z||!ki):qt||ki?ti=!1:ti=z?ft<=g:ft<g;ti?ee=st+1:me=st}return oe(me,te)}function la(c,g){for(var k=-1,z=c.length,ee=0,me=[];++k<z;){var Se=c[k],Pe=g?g(Se):Se;if(!k||!Ma(Pe,He)){var He=Pe;me[ee++]=Se===0?0:Se}}return me}function Yh(c){return typeof c=="number"?c:Ho(c)?Be:+c}function uo(c){if(typeof c=="string")return c;if(mi(c))return en(c,uo)+"";if(Ho(c))return Ts?Ts.call(c):"";var g=c+"";return g=="0"&&1/c==-ye?"-0":g}function lo(c,g,k){var z=-1,ee=Ha,me=c.length,Se=!0,Pe=[],He=Pe;if(k)Se=!1,ee=zu;else if(me>=u){var at=g?null:Ad(c);if(at)return pn(at);Se=!1,ee=Do,He=new Xa}else He=g?[]:Pe;e:for(;++z<me;){var st=c[z],ft=g?g(st):st;if(st=k||st!==0?st:0,Se&&ft===ft){for(var Lt=He.length;Lt--;)if(He[Lt]===ft)continue e;g&&He.push(ft),Pe.push(st)}else ee(He,ft,k)||(He!==Pe&&He.push(ft),Pe.push(st))}return Pe}function Fl(c,g){return g=ts(g,c),c=bt(c,g),c==null||delete c[vn(pa(g))]}function Oc(c,g,k,z){return gu(c,g,k(Qa(c,g)),z)}function Vu(c,g,k,z){for(var ee=c.length,me=z?ee:-1;(z?me--:++me<ee)&&g(c[me],me,c););return k?Qn(c,z?0:me,z?me+1:ee):Qn(c,z?me+1:0,z?ee:me)}function Ku(c,g){var k=c;return k instanceof Gt&&(k=k.value()),Bu(g,function(z,ee){return ee.func.apply(ee.thisArg,mo([z],ee.args))},k)}function es(c,g,k){var z=c.length;if(z<2)return z?lo(c[0]):[];for(var ee=-1,me=Ue(z);++ee<z;)for(var Se=c[ee],Pe=-1;++Pe<z;)Pe!=ee&&(me[ee]=Yu(me[ee]||Se,c[Pe],g,k));return lo(Kn(me,1),g,k)}function Nl(c,g,k){for(var z=-1,ee=c.length,me=g.length,Se={};++z<ee;){var Pe=z<me?g[z]:n;k(Se,c[z],Pe)}return Se}function Qu(c){return tr(c)?c:[]}function Ju(c){return typeof c=="function"?c:ko}function ts(c,g){return mi(c)?c:b(c,g)?[c]:sn(Ki(c))}var el=bi;function Da(c,g,k){var z=c.length;return k=k===n?z:k,!g&&k>=z?c:Qn(c,g,k)}var Gh=nu||function(c){return Ni.clearTimeout(c)};function Rc(c,g){if(g)return c.slice();var k=c.length,z=Wu?Wu(k):new c.constructor(k);return c.copy(z),z}function vu(c){var g=new c.constructor(c.byteLength);return new na(g).set(new na(c)),g}function kd(c,g){var k=g?vu(c.buffer):c.buffer;return new c.constructor(k,c.byteOffset,c.byteLength)}function Cd(c){var g=new c.constructor(c.source,Ji.exec(c));return g.lastIndex=c.lastIndex,g}function tl(c){return rn?qi(rn.call(c)):{}}function Fc(c,g){var k=g?vu(c.buffer):c.buffer;return new c.constructor(k,c.byteOffset,c.length)}function Nc(c,g){if(c!==g){var k=c!==n,z=c===null,ee=c===c,me=Ho(c),Se=g!==n,Pe=g===null,He=g===g,at=Ho(g);if(!Pe&&!at&&!me&&c>g||me&&Se&&He&&!Pe&&!at||z&&Se&&He||!k&&He||!ee)return 1;if(!z&&!me&&!at&&c<g||at&&k&&ee&&!z&&!me||Pe&&k&&ee||!Se&&ee||!He)return-1}return 0}function Ed(c,g,k){for(var z=-1,ee=c.criteria,me=g.criteria,Se=ee.length,Pe=k.length;++z<Se;){var He=Nc(ee[z],me[z]);if(He){if(z>=Pe)return He;var at=k[z];return He*(at=="desc"?-1:1)}}return c.index-g.index}function Il(c,g,k,z){for(var ee=-1,me=c.length,Se=k.length,Pe=-1,He=g.length,at=U(me-Se,0),st=Ue(He+at),ft=!z;++Pe<He;)st[Pe]=g[Pe];for(;++ee<Se;)(ft||ee<me)&&(st[k[ee]]=c[ee]);for(;at--;)st[Pe++]=c[ee++];return st}function Ic(c,g,k,z){for(var ee=-1,me=c.length,Se=-1,Pe=k.length,He=-1,at=g.length,st=U(me-Pe,0),ft=Ue(st+at),Lt=!z;++ee<st;)ft[ee]=c[ee];for(var qt=ee;++He<at;)ft[qt+He]=g[He];for(;++Se<Pe;)(Lt||ee<me)&&(ft[qt+k[Se]]=c[ee++]);return ft}function Vr(c,g){var k=-1,z=c.length;for(g||(g=Ue(z));++k<z;)g[k]=c[k];return g}function Bo(c,g,k,z){var ee=!k;k||(k={});for(var me=-1,Se=g.length;++me<Se;){var Pe=g[me],He=z?z(k[Pe],c[Pe],Pe,k,c):n;He===n&&(He=c[Pe]),ee?Aa(k,Pe,He):ou(k,Pe,He)}return k}function Xh(c,g){return Bo(c,ns(c),g)}function Sd(c,g){return Bo(c,nf(c),g)}function bu(c,g){return function(k,z){var ee=mi(k)?pc:Ka,me=g?g():{};return ee(k,c,Zt(z,2),me)}}function ca(c){return bi(function(g,k){var z=-1,ee=k.length,me=ee>1?k[ee-1]:n,Se=ee>2?k[2]:n;for(me=c.length>3&&typeof me=="function"?(ee--,me):n,Se&&d(k[0],k[1],Se)&&(me=ee<3?n:me,ee=1),g=qi(g);++z<ee;){var Pe=k[z];Pe&&c(g,Pe,z,me)}return g})}function _u(c,g){return function(k,z){if(k==null)return k;if(!wo(k))return c(k,z);for(var ee=k.length,me=g?ee:-1,Se=qi(k);(g?me--:++me<ee)&&z(Se[me],me,Se)!==!1;);return k}}function Zh(c){return function(g,k,z){for(var ee=-1,me=qi(g),Se=z(g),Pe=Se.length;Pe--;){var He=Se[c?Pe:++ee];if(k(me[He],He,me)===!1)break}return g}}function Vh(c,g,k){var z=g&q,ee=il(c);function me(){var Se=this&&this!==Ni&&this instanceof me?ee:c;return Se.apply(z?k:this,arguments)}return me}function Kh(c){return function(g){g=Ki(g);var k=qa(g)?Ar(g):n,z=k?k[0]:g.charAt(0),ee=k?Da(k,1).join(""):g.slice(1);return z[c]()+ee}}function yu(c){return function(g){return Bu(Bm(zm(g).replace(ri,"")),c,"")}}function il(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var k=Ga(c.prototype),z=c.apply(k,g);return On(z)?z:k}}function Td(c,g,k){var z=il(c);function ee(){for(var me=arguments.length,Se=Ue(me),Pe=me,He=xu(ee);Pe--;)Se[Pe]=arguments[Pe];var at=me<3&&Se[0]!==He&&Se[me-1]!==He?[]:$r(Se,He);if(me-=at.length,me<k)return rl(c,g,zl,ee.placeholder,n,Se,at,n,n,k-me);var st=this&&this!==Ni&&this instanceof ee?z:c;return ln(st,this,Se)}return ee}function zc(c){return function(g,k,z){var ee=qi(g);if(!wo(g)){var me=Zt(k,3);g=Pr(g),k=function(Pe){return me(ee[Pe],Pe,ee)}}var Se=c(g,k,z);return Se>-1?ee[me?g[Se]:Se]:n}}function Qh(c){return ha(function(g){var k=g.length,z=k,ee=Li.prototype.thru;for(c&&g.reverse();z--;){var me=g[z];if(typeof me!="function")throw new _r(h);if(ee&&!Se&&sl(me)=="wrapper")var Se=new Li([],!0)}for(z=Se?z:k;++z<k;){me=g[z];var Pe=sl(me),He=Pe=="wrapper"?al(me):n;He&&R(He[0])&&He[1]==(ne|D|I|ue)&&!He[4].length&&He[9]==1?Se=Se[sl(He[0])].apply(Se,He[3]):Se=me.length==1&&R(me)?Se[Pe]():Se.thru(me)}return function(){var at=arguments,st=at[0];if(Se&&at.length==1&&mi(st))return Se.plant(st).value();for(var ft=0,Lt=k?g[ft].apply(this,at):st;++ft<k;)Lt=g[ft].call(this,Lt);return Lt}})}function zl(c,g,k,z,ee,me,Se,Pe,He,at){var st=g&ne,ft=g&q,Lt=g&M,qt=g&(D|B),ei=g&de,ki=Lt?n:il(c);function ti(){for(var Ai=arguments.length,Ri=Ue(Ai),$o=Ai;$o--;)Ri[$o]=arguments[$o];if(qt)var co=xu(ti),Wo=Qo(Ri,co);if(z&&(Ri=Il(Ri,z,ee,qt)),me&&(Ri=Ic(Ri,me,Se,qt)),Ai-=Wo,qt&&Ai<at){var ir=$r(Ri,co);return rl(c,g,zl,ti.placeholder,k,Ri,ir,Pe,He,at-Ai)}var Pa=ft?k:this,zs=Lt?Pa[c]:c;return Ai=Ri.length,Pe?Ri=yt(Ri,Pe):ei&&Ai>1&&Ri.reverse(),st&&He<Ai&&(Ri.length=He),this&&this!==Ni&&this instanceof ti&&(zs=ki||il(zs)),zs.apply(Pa,Ri)}return ti}function Bc(c,g){return function(k,z){return Oh(k,c,g(z),{})}}function wu(c,g){return function(k,z){var ee;if(k===n&&z===n)return g;if(k!==n&&(ee=k),z!==n){if(ee===n)return z;typeof k=="string"||typeof z=="string"?(k=uo(k),z=uo(z)):(k=Yh(k),z=Yh(z)),ee=c(k,z)}return ee}}function Bl(c){return ha(function(g){return g=en(g,nn(Zt())),bi(function(k){var z=this;return c(g,function(ee){return ln(ee,z,k)})})})}function Hl(c,g){g=g===n?" ":uo(g);var k=g.length;if(k<2)return k?Pc(g,c):g;var z=Pc(g,Ya(c/Tr(g)));return qa(g)?Da(Ar(z),0,c).join(""):z.slice(0,c)}function Jh(c,g,k,z){var ee=g&q,me=il(c);function Se(){for(var Pe=-1,He=arguments.length,at=-1,st=z.length,ft=Ue(st+He),Lt=this&&this!==Ni&&this instanceof Se?me:c;++at<st;)ft[at]=z[at];for(;He--;)ft[at++]=arguments[++Pe];return ln(Lt,ee?k:this,ft)}return Se}function Fs(c){return function(g,k,z){return z&&typeof z!="number"&&d(g,k,z)&&(k=z=n),g=Is(g),k===n?(k=g,g=0):k=Is(k),z=z===n?g<k?1:-1:Is(z),yd(g,k,z,c)}}function nl(c){return function(g,k){return typeof g=="string"&&typeof k=="string"||(g=ma(g),k=ma(k)),c(g,k)}}function rl(c,g,k,z,ee,me,Se,Pe,He,at){var st=g&D,ft=st?Se:n,Lt=st?n:Se,qt=st?me:n,ei=st?n:me;g|=st?I:V,g&=~(st?V:I),g&S||(g&=-4);var ki=[c,g,ee,qt,ft,ei,Lt,Pe,He,at],ti=k.apply(n,ki);return R(c)&&Tt(ti,ki),ti.placeholder=z,ci(ti,c,g)}function Hc(c){var g=xn[c];return function(k,z){if(k=ma(k),z=z==null?0:oe(_i(z),292),z&&m(k)){var ee=(Ki(k)+"e").split("e"),me=g(ee[0]+"e"+(+ee[1]+z));return ee=(Ki(me)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-z))}return g(k)}}var Ad=Zi&&1/pn(new Zi([,-0]))[1]==ye?function(c){return new Zi(c)}:jd;function ef(c){return function(g){var k=Jn(g);return k==wt?Qs(g):k==le?Cl(g):xl(g,c(g))}}function Oi(c,g,k,z,ee,me,Se,Pe){var He=g&M;if(!He&&typeof c!="function")throw new _r(h);var at=z?z.length:0;if(at||(g&=-97,z=ee=n),Se=Se===n?Se:U(_i(Se),0),Pe=Pe===n?Pe:_i(Pe),at-=ee?ee.length:0,g&V){var st=z,ft=ee;z=ee=n}var Lt=He?n:al(c),qt=[c,g,k,z,ee,st,ft,me,Se,Pe];if(Lt&&Re(qt,Lt),c=qt[0],g=qt[1],k=qt[2],z=qt[3],ee=qt[4],Pe=qt[9]=qt[9]===n?He?0:c.length:U(qt[9]-at,0),!Pe&&g&(D|B)&&(g&=-25),!g||g==q)var ei=Vh(c,g,k);else g==D||g==B?ei=Td(c,g,Pe):(g==I||g==(q|I))&&!ee.length?ei=Jh(c,g,k,z):ei=zl.apply(n,qt);var ki=Lt?Uh:Tt;return ci(ki(ei,qt),c,g)}function tf(c,g,k,z){return c===n||Ma(c,ro[k])&&!Ci.call(z,k)?g:c}function $l(c,g,k,z,ee,me){return On(c)&&On(g)&&(me.set(g,c),zo(c,g,n,$l,me),me.delete(g)),c}function ol(c){return jc(c)?n:c}function yo(c,g,k,z,ee,me){var Se=k&F,Pe=c.length,He=g.length;if(Pe!=He&&!(Se&&He>Pe))return!1;var at=me.get(c),st=me.get(g);if(at&&st)return at==g&&st==c;var ft=-1,Lt=!0,qt=k&j?new Xa:n;for(me.set(c,g),me.set(g,c);++ft<Pe;){var ei=c[ft],ki=g[ft];if(z)var ti=Se?z(ki,ei,ft,g,c,me):z(ei,ki,ft,c,g,me);if(ti!==n){if(ti)continue;Lt=!1;break}if(qt){if(!Vo(g,function(Ai,Ri){if(!Do(qt,Ri)&&(ei===Ai||ee(ei,Ai,k,z,me)))return qt.push(Ri)})){Lt=!1;break}}else if(!(ei===ki||ee(ei,ki,k,z,me))){Lt=!1;break}}return me.delete(c),me.delete(g),Lt}function Wl(c,g,k,z,ee,me,Se){switch(k){case mt:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case Qe:return!(c.byteLength!=g.byteLength||!me(new na(c),new na(g)));case Te:case qe:case St:return Ma(+c,+g);case Ze:return c.name==g.name&&c.message==g.message;case X:case Q:return c==g+"";case wt:var Pe=Qs;case le:var He=z&F;if(Pe||(Pe=pn),c.size!=g.size&&!He)return!1;var at=Se.get(c);if(at)return at==g;z|=j,Se.set(c,g);var st=yo(Pe(c),Pe(g),z,ee,me,Se);return Se.delete(c),st;case fe:if(rn)return rn.call(c)==rn.call(g)}return!1}function $c(c,g,k,z,ee,me){var Se=k&F,Pe=ql(c),He=Pe.length,at=ql(g),st=at.length;if(He!=st&&!Se)return!1;for(var ft=He;ft--;){var Lt=Pe[ft];if(!(Se?Lt in g:Ci.call(g,Lt)))return!1}var qt=me.get(c),ei=me.get(g);if(qt&&ei)return qt==g&&ei==c;var ki=!0;me.set(c,g),me.set(g,c);for(var ti=Se;++ft<He;){Lt=Pe[ft];var Ai=c[Lt],Ri=g[Lt];if(z)var $o=Se?z(Ri,Ai,Lt,g,c,me):z(Ai,Ri,Lt,c,g,me);if(!($o===n?Ai===Ri||ee(Ai,Ri,k,z,me):$o)){ki=!1;break}ti||(ti=Lt=="constructor")}if(ki&&!ti){var co=c.constructor,Wo=g.constructor;co!=Wo&&"constructor"in c&&"constructor"in g&&!(typeof co=="function"&&co instanceof co&&typeof Wo=="function"&&Wo instanceof Wo)&&(ki=!1)}return me.delete(c),me.delete(g),ki}function ha(c){return It(dt(c,n,as),c+"")}function ql(c){return lr(c,Pr,ns)}function jl(c){return lr(c,xo,nf)}var al=Bn?function(c){return Bn.get(c)}:jd;function sl(c){for(var g=c.name+"",k=Zr[g],z=Ci.call(Zr,g)?k.length:0;z--;){var ee=k[z],me=ee.func;if(me==null||me==c)return ee.name}return g}function xu(c){var g=Ci.call(ce,"placeholder")?ce:c;return g.placeholder}function Zt(){var c=ce.iteratee||Wd;return c=c===Wd?du:c,arguments.length?c(arguments[0],arguments[1]):c}function ul(c,g){var k=c.__data__;return C(g)?k[typeof g=="string"?"string":"hash"]:k.map}function zi(c){for(var g=Pr(c),k=g.length;k--;){var z=g[k],ee=c[z];g[k]=[z,ee,be(ee)]}return g}function is(c,g){var k=Wa(c,g);return Ds(k)?k:n}function Ld(c){var g=Ci.call(c,Oo),k=c[Oo];try{c[Oo]=n;var z=!0}catch{}var ee=oo.call(c);return z&&(g?c[Oo]=k:delete c[Oo]),ee}var ns=qu?function(c){return c==null?[]:(c=qi(c),Lo(qu(c),function(g){return Es.call(c,g)}))}:Ud,nf=qu?function(c){for(var g=[];c;)mo(g,ns(c)),c=ao(c);return g}:Ud,Jn=cr;(Ct&&Jn(new Ct(new ArrayBuffer(1)))!=mt||zt&&Jn(new zt)!=wt||ai&&Jn(ai.resolve())!=jt||Zi&&Jn(new Zi)!=le||Vi&&Jn(new Vi)!=ze)&&(Jn=function(c){var g=cr(c),k=g==Mt?c.constructor:n,z=k?Dn(k):"";if(z)switch(z){case Tl:return mt;case gc:return wt;case Sa:return jt;case sa:return le;case vc:return ze}return g});function Dd(c,g,k){for(var z=-1,ee=k.length;++z<ee;){var me=k[z],Se=me.size;switch(me.type){case"drop":c+=Se;break;case"dropRight":g-=Se;break;case"take":g=oe(g,c+Se);break;case"takeRight":c=U(c,g-Se);break}}return{start:c,end:g}}function kn(c){var g=c.match(vr);return g?g[1].split(Yn):[]}function rf(c,g,k){g=ts(g,c);for(var z=-1,ee=g.length,me=!1;++z<ee;){var Se=vn(g[z]);if(!(me=c!=null&&k(c,Se)))break;c=c[Se]}return me||++z!=ee?me:(ee=c==null?0:c.length,!!ee&&hf(ee)&&p(Se,ee)&&(mi(c)||ll(c)))}function Md(c){var g=c.length,k=new c.constructor(g);return g&&typeof c[0]=="string"&&Ci.call(c,"index")&&(k.index=c.index,k.input=c.input),k}function of(c){return typeof c.constructor=="function"&&!K(c)?Ga(ao(c)):{}}function Ul(c,g,k){var z=c.constructor;switch(g){case Qe:return vu(c);case Te:case qe:return new z(+c);case mt:return kd(c,k);case Pt:case ct:case $t:case Yt:case Qt:case Vt:case xt:case Un:case Ut:return Fc(c,k);case wt:return new z;case St:case Q:return new z(c);case X:return Cd(c);case le:return new z;case fe:return tl(c)}}function r(c,g){var k=g.length;if(!k)return c;var z=k-1;return g[z]=(k>1?"& ":"")+g[z],g=g.join(k>2?", ":" "),c.replace(Ot,`{
/* [wrapped with `+g+`] */
`)}function a(c){return mi(c)||ll(c)||!!(Sl&&c&&c[Sl])}function p(c,g){var k=typeof c;return g=g??Ee,!!g&&(k=="number"||k!="symbol"&&io.test(c))&&c>-1&&c%1==0&&c<g}function d(c,g,k){if(!On(k))return!1;var z=typeof g;return(z=="number"?wo(k)&&p(g,k.length):z=="string"&&g in k)?Ma(k[g],c):!1}function b(c,g){if(mi(c))return!1;var k=typeof c;return k=="number"||k=="symbol"||k=="boolean"||c==null||Ho(c)?!0:Hi.test(c)||!eo.test(c)||g!=null&&c in qi(g)}function C(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function R(c){var g=sl(c),k=ce[g];if(typeof k!="function"||!(g in Gt.prototype))return!1;if(c===k)return!0;var z=al(k);return!!z&&c===z[0]}function W(c){return!!Po&&Po in c}var G=bo?Ns:Yd;function K(c){var g=c&&c.constructor,k=typeof g=="function"&&g.prototype||ro;return c===k}function be(c){return c===c&&!On(c)}function Ce(c,g){return function(k){return k==null?!1:k[c]===g&&(g!==n||c in qi(k))}}function Ie(c){var g=lf(c,function(z){return k.size===x&&k.clear(),z}),k=g.cache;return g}function Re(c,g){var k=c[1],z=g[1],ee=k|z,me=ee<(q|M|ne),Se=z==ne&&k==D||z==ne&&k==ue&&c[7].length<=g[8]||z==(ne|ue)&&g[7].length<=g[8]&&k==D;if(!(me||Se))return c;z&q&&(c[2]=g[2],ee|=k&q?0:S);var Pe=g[3];if(Pe){var He=c[3];c[3]=He?Il(He,Pe,g[4]):Pe,c[4]=He?$r(c[3],w):g[4]}return Pe=g[5],Pe&&(He=c[5],c[5]=He?Ic(He,Pe,g[6]):Pe,c[6]=He?$r(c[5],w):g[6]),Pe=g[7],Pe&&(c[7]=Pe),z&ne&&(c[8]=c[8]==null?g[8]:oe(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=ee,c}function Ge(c){var g=[];if(c!=null)for(var k in qi(c))g.push(k);return g}function rt(c){return oo.call(c)}function dt(c,g,k){return g=U(g===n?c.length-1:g,0),function(){for(var z=arguments,ee=-1,me=U(z.length-g,0),Se=Ue(me);++ee<me;)Se[ee]=z[g+ee];ee=-1;for(var Pe=Ue(g+1);++ee<g;)Pe[ee]=z[ee];return Pe[g]=k(Se),ln(c,this,Pe)}}function bt(c,g){return g.length<2?c:Qa(c,Qn(g,0,-1))}function yt(c,g){for(var k=c.length,z=oe(g.length,k),ee=Vr(c);z--;){var me=g[z];c[z]=p(me,k)?ee[me]:n}return c}function vt(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var Tt=Yi(Uh),Bt=ru||function(c,g){return Ni.setTimeout(c,g)},It=Yi(wd);function ci(c,g,k){var z=g+"";return It(c,r(z,Mn(kn(z),k)))}function Yi(c){var g=0,k=0;return function(){var z=Ae(),ee=ve-(z-k);if(k=z,ee>0){if(++g>=Le)return arguments[0]}else g=0;return c.apply(n,arguments)}}function Cn(c,g){var k=-1,z=c.length,ee=z-1;for(g=g===n?z:g;++k<g;){var me=Rl(k,ee),Se=c[me];c[me]=c[k],c[k]=Se}return c.length=g,c}var sn=Ie(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(Fr,function(k,z,ee,me){g.push(ee?me.replace(jr,"$1"):z||k)}),g});function vn(c){if(typeof c=="string"||Ho(c))return c;var g=c+"";return g=="0"&&1/c==-ye?"-0":g}function Dn(c){if(c!=null){try{return Ua.call(c)}catch{}try{return c+""}catch{}}return""}function Mn(c,g){return Hr(De,function(k){var z="_."+k[0];g&k[1]&&!Ha(c,z)&&c.push(z)}),c.sort()}function Dr(c){if(c instanceof Gt)return c.clone();var g=new Li(c.__wrapped__,c.__chain__);return g.__actions__=Vr(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function hr(c,g,k){(k?d(c,g,k):g===n)?g=1:g=U(_i(g),0);var z=c==null?0:c.length;if(!z||g<1)return[];for(var ee=0,me=0,Se=Ue(Ya(z/g));ee<z;)Se[me++]=Qn(c,ee,ee+=g);return Se}function Hn(c){for(var g=-1,k=c==null?0:c.length,z=0,ee=[];++g<k;){var me=c[g];me&&(ee[z++]=me)}return ee}function Pn(){var c=arguments.length;if(!c)return[];for(var g=Ue(c-1),k=arguments[0],z=c;z--;)g[z-1]=arguments[z];return mo(mi(k)?Vr(k):[k],Kn(g,1))}var bn=bi(function(c,g){return tr(c)?Yu(c,Kn(g,1,tr,!0)):[]}),Wr=bi(function(c,g){var k=pa(g);return tr(k)&&(k=n),tr(c)?Yu(c,Kn(g,1,tr,!0),Zt(k,2)):[]}),ku=bi(function(c,g){var k=pa(g);return tr(k)&&(k=n),tr(c)?Yu(c,Kn(g,1,tr,!0),n,k):[]});function rs(c,g,k){var z=c==null?0:c.length;return z?(g=k||g===n?1:_i(g),Qn(c,g<0?0:g,z)):[]}function wr(c,g,k){var z=c==null?0:c.length;return z?(g=k||g===n?1:_i(g),g=z-g,Qn(c,0,g<0?0:g)):[]}function fa(c,g){return c&&c.length?Vu(c,Zt(g,3),!0,!0):[]}function er(c,g){return c&&c.length?Vu(c,Zt(g,3),!0):[]}function Wc(c,g,k,z){var ee=c==null?0:c.length;return ee?(k&&typeof k!="number"&&d(c,g,k)&&(k=0,z=ee),Dh(c,g,k,z)):[]}function da(c,g,k){var z=c==null?0:c.length;if(!z)return-1;var ee=k==null?0:_i(k);return ee<0&&(ee=U(z+ee,0)),Cr(c,Zt(g,3),ee)}function os(c,g,k){var z=c==null?0:c.length;if(!z)return-1;var ee=z-1;return k!==n&&(ee=_i(k),ee=k<0?U(z+ee,0):oe(ee,z-1)),Cr(c,Zt(g,3),ee,!0)}function as(c){var g=c==null?0:c.length;return g?Kn(c,1):[]}function Mr(c){var g=c==null?0:c.length;return g?Kn(c,ye):[]}function Cu(c,g){var k=c==null?0:c.length;return k?(g=g===n?1:_i(g),Kn(c,g)):[]}function qc(c){for(var g=-1,k=c==null?0:c.length,z={};++g<k;){var ee=c[g];z[ee[0]]=ee[1]}return z}function fm(c){return c&&c.length?c[0]:n}function Rb(c,g,k){var z=c==null?0:c.length;if(!z)return-1;var ee=k==null?0:_i(k);return ee<0&&(ee=U(z+ee,0)),tn(c,g,ee)}function Fb(c){var g=c==null?0:c.length;return g?Qn(c,0,-1):[]}var Nb=bi(function(c){var g=en(c,Qu);return g.length&&g[0]===c[0]?cu(g):[]}),Ib=bi(function(c){var g=pa(c),k=en(c,Qu);return g===pa(k)?g=n:k.pop(),k.length&&k[0]===c[0]?cu(k,Zt(g,2)):[]}),zb=bi(function(c){var g=pa(c),k=en(c,Qu);return g=typeof g=="function"?g:n,g&&k.pop(),k.length&&k[0]===c[0]?cu(k,n,g):[]});function Bb(c,g){return c==null?"":y.call(c,g)}function pa(c){var g=c==null?0:c.length;return g?c[g-1]:n}function Hb(c,g,k){var z=c==null?0:c.length;if(!z)return-1;var ee=z;return k!==n&&(ee=_i(k),ee=ee<0?U(z+ee,0):oe(ee,z-1)),g===g?mc(c,g,ee):Cr(c,Er,ee,!0)}function $b(c,g){return c&&c.length?mu(c,_i(g)):n}var Wb=bi(dm);function dm(c,g){return c&&c.length&&g&&g.length?Mc(c,g):c}function qb(c,g,k){return c&&c.length&&g&&g.length?Mc(c,g,Zt(k,2)):c}function jb(c,g,k){return c&&c.length&&g&&g.length?Mc(c,g,n,k):c}var Ub=ha(function(c,g){var k=c==null?0:c.length,z=su(c,g);return Lr(c,en(g,function(ee){return p(ee,k)?+ee:ee}).sort(Nc)),z});function Yb(c,g){var k=[];if(!(c&&c.length))return k;var z=-1,ee=[],me=c.length;for(g=Zt(g,3);++z<me;){var Se=c[z];g(Se,z,c)&&(k.push(Se),ee.push(z))}return Lr(c,ee),k}function Pd(c){return c==null?c:lt.call(c)}function Gb(c,g,k){var z=c==null?0:c.length;return z?(k&&typeof k!="number"&&d(c,g,k)?(g=0,k=z):(g=g==null?0:_i(g),k=k===n?z:_i(k)),Qn(c,g,k)):[]}function Xb(c,g){return Os(c,g)}function Zb(c,g,k){return Rs(c,g,Zt(k,2))}function Vb(c,g){var k=c==null?0:c.length;if(k){var z=Os(c,g);if(z<k&&Ma(c[z],g))return z}return-1}function Kb(c,g){return Os(c,g,!0)}function Qb(c,g,k){return Rs(c,g,Zt(k,2),!0)}function Jb(c,g){var k=c==null?0:c.length;if(k){var z=Os(c,g,!0)-1;if(Ma(c[z],g))return z}return-1}function e_(c){return c&&c.length?la(c):[]}function t_(c,g){return c&&c.length?la(c,Zt(g,2)):[]}function i_(c){var g=c==null?0:c.length;return g?Qn(c,1,g):[]}function n_(c,g,k){return c&&c.length?(g=k||g===n?1:_i(g),Qn(c,0,g<0?0:g)):[]}function r_(c,g,k){var z=c==null?0:c.length;return z?(g=k||g===n?1:_i(g),g=z-g,Qn(c,g<0?0:g,z)):[]}function o_(c,g){return c&&c.length?Vu(c,Zt(g,3),!1,!0):[]}function a_(c,g){return c&&c.length?Vu(c,Zt(g,3)):[]}var s_=bi(function(c){return lo(Kn(c,1,tr,!0))}),u_=bi(function(c){var g=pa(c);return tr(g)&&(g=n),lo(Kn(c,1,tr,!0),Zt(g,2))}),l_=bi(function(c){var g=pa(c);return g=typeof g=="function"?g:n,lo(Kn(c,1,tr,!0),n,g)});function c_(c){return c&&c.length?lo(c):[]}function h_(c,g){return c&&c.length?lo(c,Zt(g,2)):[]}function f_(c,g){return g=typeof g=="function"?g:n,c&&c.length?lo(c,n,g):[]}function Od(c){if(!(c&&c.length))return[];var g=0;return c=Lo(c,function(k){if(tr(k))return g=U(k.length,g),!0}),Hu(g,function(k){return en(c,Gs(k))})}function pm(c,g){if(!(c&&c.length))return[];var k=Od(c);return g==null?k:en(k,function(z){return ln(g,n,z)})}var d_=bi(function(c,g){return tr(c)?Yu(c,g):[]}),p_=bi(function(c){return es(Lo(c,tr))}),m_=bi(function(c){var g=pa(c);return tr(g)&&(g=n),es(Lo(c,tr),Zt(g,2))}),g_=bi(function(c){var g=pa(c);return g=typeof g=="function"?g:n,es(Lo(c,tr),n,g)}),v_=bi(Od);function b_(c,g){return Nl(c||[],g||[],ou)}function __(c,g){return Nl(c||[],g||[],gu)}var y_=bi(function(c){var g=c.length,k=g>1?c[g-1]:n;return k=typeof k=="function"?(c.pop(),k):n,pm(c,k)});function mm(c){var g=ce(c);return g.__chain__=!0,g}function w_(c,g){return g(c),c}function af(c,g){return g(c)}var x_=ha(function(c){var g=c.length,k=g?c[0]:0,z=this.__wrapped__,ee=function(me){return su(me,c)};return g>1||this.__actions__.length||!(z instanceof Gt)||!p(k)?this.thru(ee):(z=z.slice(k,+k+(g?1:0)),z.__actions__.push({func:af,args:[ee],thisArg:n}),new Li(z,this.__chain__).thru(function(me){return g&&!me.length&&me.push(n),me}))});function k_(){return mm(this)}function C_(){return new Li(this.value(),this.__chain__)}function E_(){this.__values__===n&&(this.__values__=Lm(this.value()));var c=this.__index__>=this.__values__.length,g=c?n:this.__values__[this.__index__++];return{done:c,value:g}}function S_(){return this}function T_(c){for(var g,k=this;k instanceof Vn;){var z=Dr(k);z.__index__=0,z.__values__=n,g?ee.__wrapped__=z:g=z;var ee=z;k=k.__wrapped__}return ee.__wrapped__=c,g}function A_(){var c=this.__wrapped__;if(c instanceof Gt){var g=c;return this.__actions__.length&&(g=new Gt(this)),g=g.reverse(),g.__actions__.push({func:af,args:[Pd],thisArg:n}),new Li(g,this.__chain__)}return this.thru(Pd)}function L_(){return Ku(this.__wrapped__,this.__actions__)}var D_=bu(function(c,g,k){Ci.call(c,k)?++c[k]:Aa(c,k,1)});function M_(c,g,k){var z=mi(c)?Ys:bd;return k&&d(c,g,k)&&(g=n),z(c,Zt(g,3))}function P_(c,g){var k=mi(c)?Lo:Ls;return k(c,Zt(g,3))}var O_=zc(da),R_=zc(os);function F_(c,g){return Kn(sf(c,g),1)}function N_(c,g){return Kn(sf(c,g),ye)}function I_(c,g,k){return k=k===n?1:_i(k),Kn(sf(c,g),k)}function gm(c,g){var k=mi(c)?Hr:Io;return k(c,Zt(g,3))}function vm(c,g){var k=mi(c)?Ao:Ec;return k(c,Zt(g,3))}var z_=bu(function(c,g,k){Ci.call(c,k)?c[k].push(g):Aa(c,k,[g])});function B_(c,g,k,z){c=wo(c)?c:Gl(c),k=k&&!z?_i(k):0;var ee=c.length;return k<0&&(k=U(ee+k,0)),ff(c)?k<=ee&&c.indexOf(g,k)>-1:!!ee&&tn(c,g,k)>-1}var H_=bi(function(c,g,k){var z=-1,ee=typeof g=="function",me=wo(c)?Ue(c.length):[];return Io(c,function(Se){me[++z]=ee?ln(g,Se,k):hu(Se,g,k)}),me}),$_=bu(function(c,g,k){Aa(c,k,g)});function sf(c,g){var k=mi(c)?en:Lc;return k(c,Zt(g,3))}function W_(c,g,k,z){return c==null?[]:(mi(g)||(g=g==null?[]:[g]),k=z?n:k,mi(k)||(k=k==null?[]:[k]),Hh(c,g,k))}var q_=bu(function(c,g,k){c[k?0:1].push(g)},function(){return[[],[]]});function j_(c,g,k){var z=mi(c)?Bu:Zs,ee=arguments.length<3;return z(c,Zt(g,4),k,ee,Io)}function U_(c,g,k){var z=mi(c)?_l:Zs,ee=arguments.length<3;return z(c,Zt(g,4),k,ee,Ec)}function Y_(c,g){var k=mi(c)?Lo:Ls;return k(c,cf(Zt(g,3)))}function G_(c){var g=mi(c)?wc:qh;return g(c)}function X_(c,g,k){(k?d(c,g,k):g===n)?g=1:g=_i(g);var z=mi(c)?gd:jh;return z(c,g)}function Z_(c){var g=mi(c)?xc:xd;return g(c)}function V_(c){if(c==null)return 0;if(wo(c))return ff(c)?Tr(c):c.length;var g=Jn(c);return g==wt||g==le?c.size:Ms(c).length}function K_(c,g,k){var z=mi(c)?Vo:Zu;return k&&d(c,g,k)&&(g=n),z(c,Zt(g,3))}var Q_=bi(function(c,g){if(c==null)return[];var k=g.length;return k>1&&d(c,g[0],g[1])?g=[]:k>2&&d(g[0],g[1],g[2])&&(g=[g[0]]),Hh(c,Kn(g,1),[])}),uf=Ea||function(){return Ni.Date.now()};function J_(c,g){if(typeof g!="function")throw new _r(h);return c=_i(c),function(){if(--c<1)return g.apply(this,arguments)}}function bm(c,g,k){return g=k?n:g,g=c&&g==null?c.length:g,Oi(c,ne,n,n,n,n,g)}function _m(c,g){var k;if(typeof g!="function")throw new _r(h);return c=_i(c),function(){return--c>0&&(k=g.apply(this,arguments)),c<=1&&(g=n),k}}var Rd=bi(function(c,g,k){var z=q;if(k.length){var ee=$r(k,xu(Rd));z|=I}return Oi(c,z,g,k,ee)}),ym=bi(function(c,g,k){var z=q|M;if(k.length){var ee=$r(k,xu(ym));z|=I}return Oi(g,z,c,k,ee)});function wm(c,g,k){g=k?n:g;var z=Oi(c,D,n,n,n,n,n,g);return z.placeholder=wm.placeholder,z}function xm(c,g,k){g=k?n:g;var z=Oi(c,B,n,n,n,n,n,g);return z.placeholder=xm.placeholder,z}function km(c,g,k){var z,ee,me,Se,Pe,He,at=0,st=!1,ft=!1,Lt=!0;if(typeof c!="function")throw new _r(h);g=ma(g)||0,On(k)&&(st=!!k.leading,ft="maxWait"in k,me=ft?U(ma(k.maxWait)||0,g):me,Lt="trailing"in k?!!k.trailing:Lt);function qt(ir){var Pa=z,zs=ee;return z=ee=n,at=ir,Se=c.apply(zs,Pa),Se}function ei(ir){return at=ir,Pe=Bt(Ai,g),st?qt(ir):Se}function ki(ir){var Pa=ir-He,zs=ir-at,Wm=g-Pa;return ft?oe(Wm,me-zs):Wm}function ti(ir){var Pa=ir-He,zs=ir-at;return He===n||Pa>=g||Pa<0||ft&&zs>=me}function Ai(){var ir=uf();if(ti(ir))return Ri(ir);Pe=Bt(Ai,ki(ir))}function Ri(ir){return Pe=n,Lt&&z?qt(ir):(z=ee=n,Se)}function $o(){Pe!==n&&Gh(Pe),at=0,z=He=ee=Pe=n}function co(){return Pe===n?Se:Ri(uf())}function Wo(){var ir=uf(),Pa=ti(ir);if(z=arguments,ee=this,He=ir,Pa){if(Pe===n)return ei(He);if(ft)return Gh(Pe),Pe=Bt(Ai,g),qt(He)}return Pe===n&&(Pe=Bt(Ai,g)),Se}return Wo.cancel=$o,Wo.flush=co,Wo}var ey=bi(function(c,g){return Lh(c,1,g)}),ty=bi(function(c,g,k){return Lh(c,ma(g)||0,k)});function iy(c){return Oi(c,de)}function lf(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new _r(h);var k=function(){var z=arguments,ee=g?g.apply(this,z):z[0],me=k.cache;if(me.has(ee))return me.get(ee);var Se=c.apply(this,z);return k.cache=me.set(ee,Se)||me,Se};return k.cache=new(lf.Cache||Fo),k}lf.Cache=Fo;function cf(c){if(typeof c!="function")throw new _r(h);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function ny(c){return _m(2,c)}var ry=el(function(c,g){g=g.length==1&&mi(g[0])?en(g[0],nn(Zt())):en(Kn(g,1),nn(Zt()));var k=g.length;return bi(function(z){for(var ee=-1,me=oe(z.length,k);++ee<me;)z[ee]=g[ee].call(this,z[ee]);return ln(c,this,z)})}),Fd=bi(function(c,g){var k=$r(g,xu(Fd));return Oi(c,I,n,g,k)}),Cm=bi(function(c,g){var k=$r(g,xu(Cm));return Oi(c,V,n,g,k)}),oy=ha(function(c,g){return Oi(c,ue,n,n,n,g)});function ay(c,g){if(typeof c!="function")throw new _r(h);return g=g===n?g:_i(g),bi(c,g)}function sy(c,g){if(typeof c!="function")throw new _r(h);return g=g==null?0:U(_i(g),0),bi(function(k){var z=k[g],ee=Da(k,0,g);return z&&mo(ee,z),ln(c,this,ee)})}function uy(c,g,k){var z=!0,ee=!0;if(typeof c!="function")throw new _r(h);return On(k)&&(z="leading"in k?!!k.leading:z,ee="trailing"in k?!!k.trailing:ee),km(c,g,{leading:z,maxWait:g,trailing:ee})}function ly(c){return bm(c,1)}function cy(c,g){return Fd(Ju(g),c)}function hy(){if(!arguments.length)return[];var c=arguments[0];return mi(c)?c:[c]}function fy(c){return so(c,H)}function dy(c,g){return g=typeof g=="function"?g:n,so(c,H,g)}function py(c){return so(c,E|H)}function my(c,g){return g=typeof g=="function"?g:n,so(c,E|H,g)}function gy(c,g){return g==null||Cc(c,g,Pr(g))}function Ma(c,g){return c===g||c!==c&&g!==g}var vy=nl(Ol),by=nl(function(c,g){return c>=g}),ll=Tc(function(){return arguments}())?Tc:function(c){return $n(c)&&Ci.call(c,"callee")&&!Es.call(c,"callee")},mi=Ue.isArray,_y=js?nn(js):fu;function wo(c){return c!=null&&hf(c.length)&&!Ns(c)}function tr(c){return $n(c)&&wo(c)}function yy(c){return c===!0||c===!1||$n(c)&&cr(c)==Te}var Eu=o||Yd,wy=no?nn(no):Rh;function xy(c){return $n(c)&&c.nodeType===1&&!jc(c)}function ky(c){if(c==null)return!0;if(wo(c)&&(mi(c)||typeof c=="string"||typeof c.splice=="function"||Eu(c)||Yl(c)||ll(c)))return!c.length;var g=Jn(c);if(g==wt||g==le)return!c.size;if(K(c))return!Ms(c).length;for(var k in c)if(Ci.call(c,k))return!1;return!0}function Cy(c,g){return Ja(c,g)}function Ey(c,g,k){k=typeof k=="function"?k:n;var z=k?k(c,g):n;return z===n?Ja(c,g,n,k):!!z}function Nd(c){if(!$n(c))return!1;var g=cr(c);return g==Ze||g==Xe||typeof c.message=="string"&&typeof c.name=="string"&&!jc(c)}function Sy(c){return typeof c=="number"&&m(c)}function Ns(c){if(!On(c))return!1;var g=cr(c);return g==ut||g==Et||g==we||g==Kt}function Em(c){return typeof c=="number"&&c==_i(c)}function hf(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ee}function On(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function $n(c){return c!=null&&typeof c=="object"}var Sm=bs?nn(bs):Gu;function Ty(c,g){return c===g||Ac(c,g,zi(g))}function Ay(c,g,k){return k=typeof k=="function"?k:n,Ac(c,g,zi(g),k)}function Ly(c){return Tm(c)&&c!=+c}function Dy(c){if(G(c))throw new Jt(l);return Ds(c)}function My(c){return c===null}function Py(c){return c==null}function Tm(c){return typeof c=="number"||$n(c)&&cr(c)==St}function jc(c){if(!$n(c)||cr(c)!=Mt)return!1;var g=ao(c);if(g===null)return!0;var k=Ci.call(g,"constructor")&&g.constructor;return typeof k=="function"&&k instanceof k&&Ua.call(k)==ia}var Id=Us?nn(Us):Nh;function Oy(c){return Em(c)&&c>=-Ee&&c<=Ee}var Am=To?nn(To):Ih;function ff(c){return typeof c=="string"||!mi(c)&&$n(c)&&cr(c)==Q}function Ho(c){return typeof c=="symbol"||$n(c)&&cr(c)==fe}var Yl=bl?nn(bl):zh;function Ry(c){return c===n}function Fy(c){return $n(c)&&Jn(c)==ze}function Ny(c){return $n(c)&&cr(c)==ot}var Iy=nl(Ps),zy=nl(function(c,g){return c<=g});function Lm(c){if(!c)return[];if(wo(c))return ff(c)?Ar(c):Vr(c);if(oa&&c[oa])return Ks(c[oa]());var g=Jn(c),k=g==wt?Qs:g==le?pn:Gl;return k(c)}function Is(c){if(!c)return c===0?c:0;if(c=ma(c),c===ye||c===-ye){var g=c<0?-1:1;return g*it}return c===c?c:0}function _i(c){var g=Is(c),k=g%1;return g===g?k?g-k:g:0}function Dm(c){return c?La(_i(c),0,Me):0}function ma(c){if(typeof c=="number")return c;if(Ho(c))return Be;if(On(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=On(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=$u(c);var k=or.test(c);return k||to.test(c)?ya(c.slice(2),k?2:8):rr.test(c)?Be:+c}function Mm(c){return Bo(c,xo(c))}function By(c){return c?La(_i(c),-Ee,Ee):c===0?c:0}function Ki(c){return c==null?"":uo(c)}var Hy=ca(function(c,g){if(K(g)||wo(g)){Bo(g,Pr(g),c);return}for(var k in g)Ci.call(g,k)&&ou(c,k,g[k])}),Pm=ca(function(c,g){Bo(g,xo(g),c)}),df=ca(function(c,g,k,z){Bo(g,xo(g),c,z)}),$y=ca(function(c,g,k,z){Bo(g,Pr(g),c,z)}),Wy=ha(su);function qy(c,g){var k=Ga(c);return g==null?k:kc(k,g)}var jy=bi(function(c,g){c=qi(c);var k=-1,z=g.length,ee=z>2?g[2]:n;for(ee&&d(g[0],g[1],ee)&&(z=1);++k<z;)for(var me=g[k],Se=xo(me),Pe=-1,He=Se.length;++Pe<He;){var at=Se[Pe],st=c[at];(st===n||Ma(st,ro[at])&&!Ci.call(c,at))&&(c[at]=me[at])}return c}),Uy=bi(function(c){return c.push(n,$l),ln(Om,n,c)});function Yy(c,g){return _s(c,Zt(g,3),_o)}function Gy(c,g){return _s(c,Zt(g,3),Ml)}function Xy(c,g){return c==null?c:uu(c,Zt(g,3),xo)}function Zy(c,g){return c==null?c:Sc(c,Zt(g,3),xo)}function Vy(c,g){return c&&_o(c,Zt(g,3))}function Ky(c,g){return c&&Ml(c,Zt(g,3))}function Qy(c){return c==null?[]:Pl(c,Pr(c))}function Jy(c){return c==null?[]:Pl(c,xo(c))}function zd(c,g,k){var z=c==null?n:Qa(c,g);return z===n?k:z}function e1(c,g){return c!=null&&rf(c,g,Mh)}function Bd(c,g){return c!=null&&rf(c,g,Ph)}var t1=Bc(function(c,g,k){g!=null&&typeof g.toString!="function"&&(g=oo.call(g)),c[g]=k},$d(ko)),i1=Bc(function(c,g,k){g!=null&&typeof g.toString!="function"&&(g=oo.call(g)),Ci.call(c,g)?c[g].push(k):c[g]=[k]},Zt),n1=bi(hu);function Pr(c){return wo(c)?Ll(c):Ms(c)}function xo(c){return wo(c)?Ll(c,!0):Xu(c)}function r1(c,g){var k={};return g=Zt(g,3),_o(c,function(z,ee,me){Aa(k,g(z,ee,me),z)}),k}function o1(c,g){var k={};return g=Zt(g,3),_o(c,function(z,ee,me){Aa(k,ee,g(z,ee,me))}),k}var a1=ca(function(c,g,k){zo(c,g,k)}),Om=ca(function(c,g,k,z){zo(c,g,k,z)}),s1=ha(function(c,g){var k={};if(c==null)return k;var z=!1;g=en(g,function(me){return me=ts(me,c),z||(z=me.length>1),me}),Bo(c,jl(c),k),z&&(k=so(k,E|O|H,ol));for(var ee=g.length;ee--;)Fl(k,g[ee]);return k});function u1(c,g){return Rm(c,cf(Zt(g)))}var l1=ha(function(c,g){return c==null?{}:$h(c,g)});function Rm(c,g){if(c==null)return{};var k=en(jl(c),function(z){return[z]});return g=Zt(g),Wh(c,k,function(z,ee){return g(z,ee[0])})}function c1(c,g,k){g=ts(g,c);var z=-1,ee=g.length;for(ee||(ee=1,c=n);++z<ee;){var me=c==null?n:c[vn(g[z])];me===n&&(z=ee,me=k),c=Ns(me)?me.call(c):me}return c}function h1(c,g,k){return c==null?c:gu(c,g,k)}function f1(c,g,k,z){return z=typeof z=="function"?z:n,c==null?c:gu(c,g,k,z)}var Fm=ef(Pr),Nm=ef(xo);function d1(c,g,k){var z=mi(c),ee=z||Eu(c)||Yl(c);if(g=Zt(g,4),k==null){var me=c&&c.constructor;ee?k=z?new me:[]:On(c)?k=Ns(me)?Ga(ao(c)):{}:k={}}return(ee?Hr:_o)(c,function(Se,Pe,He){return g(k,Se,Pe,He)}),k}function p1(c,g){return c==null?!0:Fl(c,g)}function m1(c,g,k){return c==null?c:Oc(c,g,Ju(k))}function g1(c,g,k,z){return z=typeof z=="function"?z:n,c==null?c:Oc(c,g,Ju(k),z)}function Gl(c){return c==null?[]:Ko(c,Pr(c))}function v1(c){return c==null?[]:Ko(c,xo(c))}function b1(c,g,k){return k===n&&(k=g,g=n),k!==n&&(k=ma(k),k=k===k?k:0),g!==n&&(g=ma(g),g=g===g?g:0),La(ma(c),g,k)}function _1(c,g,k){return g=Is(g),k===n?(k=g,g=0):k=Is(k),c=ma(c),lu(c,g,k)}function y1(c,g,k){if(k&&typeof k!="boolean"&&d(c,g,k)&&(g=k=n),k===n&&(typeof g=="boolean"?(k=g,g=n):typeof c=="boolean"&&(k=c,c=n)),c===n&&g===n?(c=0,g=1):(c=Is(c),g===n?(g=c,c=0):g=Is(g)),c>g){var z=c;c=g,g=z}if(k||c%1||g%1){var ee=Ye();return oe(c+ee*(g-c+Zo("1e-"+((ee+"").length-1))),g)}return Rl(c,g)}var w1=yu(function(c,g,k){return g=g.toLowerCase(),c+(k?Im(g):g)});function Im(c){return Hd(Ki(c).toLowerCase())}function zm(c){return c=Ki(c),c&&c.replace(kr,kl).replace(gt,"")}function x1(c,g,k){c=Ki(c),g=uo(g);var z=c.length;k=k===n?z:La(_i(k),0,z);var ee=k;return k-=g.length,k>=0&&c.slice(k,ee)==g}function k1(c){return c=Ki(c),c&&wi.test(c)?c.replace(Fi,Sr):c}function C1(c){return c=Ki(c),c&&Qi.test(c)?c.replace($i,"\\$&"):c}var E1=yu(function(c,g,k){return c+(k?"-":"")+g.toLowerCase()}),S1=yu(function(c,g,k){return c+(k?" ":"")+g.toLowerCase()}),T1=Kh("toLowerCase");function A1(c,g,k){c=Ki(c),g=_i(g);var z=g?Tr(c):0;if(!g||z>=g)return c;var ee=(g-z)/2;return Hl(aa(ee),k)+c+Hl(Ya(ee),k)}function L1(c,g,k){c=Ki(c),g=_i(g);var z=g?Tr(c):0;return g&&z<g?c+Hl(g-z,k):c}function D1(c,g,k){c=Ki(c),g=_i(g);var z=g?Tr(c):0;return g&&z<g?Hl(g-z,k)+c:c}function M1(c,g,k){return k||g==null?g=0:g&&(g=+g),We(Ki(c).replace(gr,""),g||0)}function P1(c,g,k){return(k?d(c,g,k):g===n)?g=1:g=_i(g),Pc(Ki(c),g)}function O1(){var c=arguments,g=Ki(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var R1=yu(function(c,g,k){return c+(k?"_":"")+g.toLowerCase()});function F1(c,g,k){return k&&typeof k!="number"&&d(c,g,k)&&(g=k=n),k=k===n?Me:k>>>0,k?(c=Ki(c),c&&(typeof g=="string"||g!=null&&!Id(g))&&(g=uo(g),!g&&qa(c))?Da(Ar(c),0,k):c.split(g,k)):[]}var N1=yu(function(c,g,k){return c+(k?" ":"")+Hd(g)});function I1(c,g,k){return c=Ki(c),k=k==null?0:La(_i(k),0,c.length),g=uo(g),c.slice(k,k+g.length)==g}function z1(c,g,k){var z=ce.templateSettings;k&&d(c,g,k)&&(g=n),c=Ki(c),g=df({},g,z,tf);var ee=df({},g.imports,z.imports,tf),me=Pr(ee),Se=Ko(ee,me),Pe,He,at=0,st=g.interpolate||Tn,ft="__p += '",Lt=Cs((g.escape||Tn).source+"|"+st.source+"|"+(st===Bi?Xi:Tn).source+"|"+(g.evaluate||Tn).source+"|$","g"),qt="//# sourceURL="+(Ci.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ir+"]")+`
`;c.replace(Lt,function(ti,Ai,Ri,$o,co,Wo){return Ri||(Ri=$o),ft+=c.slice(at,Wo).replace(Nr,Jo),Ai&&(Pe=!0,ft+=`' +
__e(`+Ai+`) +
'`),co&&(He=!0,ft+=`';
`+co+`;
__p += '`),Ri&&(ft+=`' +
((__t = (`+Ri+`)) == null ? '' : __t) +
'`),at=Wo+ti.length,ti}),ft+=`';
`;var ei=Ci.call(g,"variable")&&g.variable;if(!ei)ft=`with (obj) {
`+ft+`
}
`;else if(nr.test(ei))throw new Jt(f);ft=(He?ft.replace(mr,""):ft).replace(Ft,"$1").replace(un,"$1;"),ft="function("+(ei||"obj")+`) {
`+(ei?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(He?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ft+`return __p
}`;var ki=Hm(function(){return Si(me,qt+"return "+ft).apply(n,Se)});if(ki.source=ft,Nd(ki))throw ki;return ki}function B1(c){return Ki(c).toLowerCase()}function H1(c){return Ki(c).toUpperCase()}function $1(c,g,k){if(c=Ki(c),c&&(k||g===n))return $u(c);if(!c||!(g=uo(g)))return c;var z=Ar(c),ee=Ar(g),me=zn(z,ee),Se=xs(z,ee)+1;return Da(z,me,Se).join("")}function W1(c,g,k){if(c=Ki(c),c&&(k||g===n))return c.slice(0,Js(c)+1);if(!c||!(g=uo(g)))return c;var z=Ar(c),ee=xs(z,Ar(g))+1;return Da(z,0,ee).join("")}function q1(c,g,k){if(c=Ki(c),c&&(k||g===n))return c.replace(gr,"");if(!c||!(g=uo(g)))return c;var z=Ar(c),ee=zn(z,Ar(g));return Da(z,ee).join("")}function j1(c,g){var k=ge,z=he;if(On(g)){var ee="separator"in g?g.separator:ee;k="length"in g?_i(g.length):k,z="omission"in g?uo(g.omission):z}c=Ki(c);var me=c.length;if(qa(c)){var Se=Ar(c);me=Se.length}if(k>=me)return c;var Pe=k-Tr(z);if(Pe<1)return z;var He=Se?Da(Se,0,Pe).join(""):c.slice(0,Pe);if(ee===n)return He+z;if(Se&&(Pe+=He.length-Pe),Id(ee)){if(c.slice(Pe).search(ee)){var at,st=He;for(ee.global||(ee=Cs(ee.source,Ki(Ji.exec(ee))+"g")),ee.lastIndex=0;at=ee.exec(st);)var ft=at.index;He=He.slice(0,ft===n?Pe:ft)}}else if(c.indexOf(uo(ee),Pe)!=Pe){var Lt=He.lastIndexOf(ee);Lt>-1&&(He=He.slice(0,Lt))}return He+z}function U1(c){return c=Ki(c),c&&pi.test(c)?c.replace(yi,eu):c}var Y1=yu(function(c,g,k){return c+(k?" ":"")+g.toUpperCase()}),Hd=Kh("toUpperCase");function Bm(c,g,k){return c=Ki(c),g=k?n:g,g===n?Mo(c)?ks(c):wl(c):c.match(g)||[]}var Hm=bi(function(c,g){try{return ln(c,n,g)}catch(k){return Nd(k)?k:new Jt(k)}}),G1=ha(function(c,g){return Hr(g,function(k){k=vn(k),Aa(c,k,Rd(c[k],c))}),c});function X1(c){var g=c==null?0:c.length,k=Zt();return c=g?en(c,function(z){if(typeof z[1]!="function")throw new _r(h);return[k(z[0]),z[1]]}):[],bi(function(z){for(var ee=-1;++ee<g;){var me=c[ee];if(ln(me[0],this,z))return ln(me[1],this,z)}})}function Z1(c){return vd(so(c,E))}function $d(c){return function(){return c}}function V1(c,g){return c==null||c!==c?g:c}var K1=Qh(),Q1=Qh(!0);function ko(c){return c}function Wd(c){return du(typeof c=="function"?c:so(c,E))}function J1(c){return Bh(so(c,E))}function ew(c,g){return Dc(c,so(g,E))}var tw=bi(function(c,g){return function(k){return hu(k,c,g)}}),iw=bi(function(c,g){return function(k){return hu(c,k,g)}});function qd(c,g,k){var z=Pr(g),ee=Pl(g,z);k==null&&!(On(g)&&(ee.length||!z.length))&&(k=g,g=c,c=this,ee=Pl(g,Pr(g)));var me=!(On(k)&&"chain"in k)||!!k.chain,Se=Ns(c);return Hr(ee,function(Pe){var He=g[Pe];c[Pe]=He,Se&&(c.prototype[Pe]=function(){var at=this.__chain__;if(me||at){var st=c(this.__wrapped__),ft=st.__actions__=Vr(this.__actions__);return ft.push({func:He,args:arguments,thisArg:c}),st.__chain__=at,st}return He.apply(c,mo([this.value()],arguments))})}),c}function nw(){return Ni._===this&&(Ni._=yr),this}function jd(){}function rw(c){return c=_i(c),bi(function(g){return mu(g,c)})}var ow=Bl(en),aw=Bl(Ys),sw=Bl(Vo);function $m(c){return b(c)?Gs(vn(c)):_d(c)}function uw(c){return function(g){return c==null?n:Qa(c,g)}}var lw=Fs(),cw=Fs(!0);function Ud(){return[]}function Yd(){return!1}function hw(){return{}}function fw(){return""}function dw(){return!0}function pw(c,g){if(c=_i(c),c<1||c>Ee)return[];var k=Me,z=oe(c,Me);g=Zt(g),c-=Me;for(var ee=Hu(z,g);++k<c;)g(k);return ee}function mw(c){return mi(c)?en(c,vn):Ho(c)?[c]:Vr(sn(Ki(c)))}function gw(c){var g=++El;return Ki(c)+g}var vw=wu(function(c,g){return c+g},0),bw=Hc("ceil"),_w=wu(function(c,g){return c/g},1),yw=Hc("floor");function ww(c){return c&&c.length?Dl(c,ko,Ol):n}function xw(c,g){return c&&c.length?Dl(c,Zt(g,2),Ol):n}function kw(c){return wa(c,ko)}function Cw(c,g){return wa(c,Zt(g,2))}function Ew(c){return c&&c.length?Dl(c,ko,Ps):n}function Sw(c,g){return c&&c.length?Dl(c,Zt(g,2),Ps):n}var Tw=wu(function(c,g){return c*g},1),Aw=Hc("round"),Lw=wu(function(c,g){return c-g},0);function Dw(c){return c&&c.length?Vs(c,ko):0}function Mw(c,g){return c&&c.length?Vs(c,Zt(g,2)):0}return ce.after=J_,ce.ary=bm,ce.assign=Hy,ce.assignIn=Pm,ce.assignInWith=df,ce.assignWith=$y,ce.at=Wy,ce.before=_m,ce.bind=Rd,ce.bindAll=G1,ce.bindKey=ym,ce.castArray=hy,ce.chain=mm,ce.chunk=hr,ce.compact=Hn,ce.concat=Pn,ce.cond=X1,ce.conforms=Z1,ce.constant=$d,ce.countBy=D_,ce.create=qy,ce.curry=wm,ce.curryRight=xm,ce.debounce=km,ce.defaults=jy,ce.defaultsDeep=Uy,ce.defer=ey,ce.delay=ty,ce.difference=bn,ce.differenceBy=Wr,ce.differenceWith=ku,ce.drop=rs,ce.dropRight=wr,ce.dropRightWhile=fa,ce.dropWhile=er,ce.fill=Wc,ce.filter=P_,ce.flatMap=F_,ce.flatMapDeep=N_,ce.flatMapDepth=I_,ce.flatten=as,ce.flattenDeep=Mr,ce.flattenDepth=Cu,ce.flip=iy,ce.flow=K1,ce.flowRight=Q1,ce.fromPairs=qc,ce.functions=Qy,ce.functionsIn=Jy,ce.groupBy=z_,ce.initial=Fb,ce.intersection=Nb,ce.intersectionBy=Ib,ce.intersectionWith=zb,ce.invert=t1,ce.invertBy=i1,ce.invokeMap=H_,ce.iteratee=Wd,ce.keyBy=$_,ce.keys=Pr,ce.keysIn=xo,ce.map=sf,ce.mapKeys=r1,ce.mapValues=o1,ce.matches=J1,ce.matchesProperty=ew,ce.memoize=lf,ce.merge=a1,ce.mergeWith=Om,ce.method=tw,ce.methodOf=iw,ce.mixin=qd,ce.negate=cf,ce.nthArg=rw,ce.omit=s1,ce.omitBy=u1,ce.once=ny,ce.orderBy=W_,ce.over=ow,ce.overArgs=ry,ce.overEvery=aw,ce.overSome=sw,ce.partial=Fd,ce.partialRight=Cm,ce.partition=q_,ce.pick=l1,ce.pickBy=Rm,ce.property=$m,ce.propertyOf=uw,ce.pull=Wb,ce.pullAll=dm,ce.pullAllBy=qb,ce.pullAllWith=jb,ce.pullAt=Ub,ce.range=lw,ce.rangeRight=cw,ce.rearg=oy,ce.reject=Y_,ce.remove=Yb,ce.rest=ay,ce.reverse=Pd,ce.sampleSize=X_,ce.set=h1,ce.setWith=f1,ce.shuffle=Z_,ce.slice=Gb,ce.sortBy=Q_,ce.sortedUniq=e_,ce.sortedUniqBy=t_,ce.split=F1,ce.spread=sy,ce.tail=i_,ce.take=n_,ce.takeRight=r_,ce.takeRightWhile=o_,ce.takeWhile=a_,ce.tap=w_,ce.throttle=uy,ce.thru=af,ce.toArray=Lm,ce.toPairs=Fm,ce.toPairsIn=Nm,ce.toPath=mw,ce.toPlainObject=Mm,ce.transform=d1,ce.unary=ly,ce.union=s_,ce.unionBy=u_,ce.unionWith=l_,ce.uniq=c_,ce.uniqBy=h_,ce.uniqWith=f_,ce.unset=p1,ce.unzip=Od,ce.unzipWith=pm,ce.update=m1,ce.updateWith=g1,ce.values=Gl,ce.valuesIn=v1,ce.without=d_,ce.words=Bm,ce.wrap=cy,ce.xor=p_,ce.xorBy=m_,ce.xorWith=g_,ce.zip=v_,ce.zipObject=b_,ce.zipObjectDeep=__,ce.zipWith=y_,ce.entries=Fm,ce.entriesIn=Nm,ce.extend=Pm,ce.extendWith=df,qd(ce,ce),ce.add=vw,ce.attempt=Hm,ce.camelCase=w1,ce.capitalize=Im,ce.ceil=bw,ce.clamp=b1,ce.clone=fy,ce.cloneDeep=py,ce.cloneDeepWith=my,ce.cloneWith=dy,ce.conformsTo=gy,ce.deburr=zm,ce.defaultTo=V1,ce.divide=_w,ce.endsWith=x1,ce.eq=Ma,ce.escape=k1,ce.escapeRegExp=C1,ce.every=M_,ce.find=O_,ce.findIndex=da,ce.findKey=Yy,ce.findLast=R_,ce.findLastIndex=os,ce.findLastKey=Gy,ce.floor=yw,ce.forEach=gm,ce.forEachRight=vm,ce.forIn=Xy,ce.forInRight=Zy,ce.forOwn=Vy,ce.forOwnRight=Ky,ce.get=zd,ce.gt=vy,ce.gte=by,ce.has=e1,ce.hasIn=Bd,ce.head=fm,ce.identity=ko,ce.includes=B_,ce.indexOf=Rb,ce.inRange=_1,ce.invoke=n1,ce.isArguments=ll,ce.isArray=mi,ce.isArrayBuffer=_y,ce.isArrayLike=wo,ce.isArrayLikeObject=tr,ce.isBoolean=yy,ce.isBuffer=Eu,ce.isDate=wy,ce.isElement=xy,ce.isEmpty=ky,ce.isEqual=Cy,ce.isEqualWith=Ey,ce.isError=Nd,ce.isFinite=Sy,ce.isFunction=Ns,ce.isInteger=Em,ce.isLength=hf,ce.isMap=Sm,ce.isMatch=Ty,ce.isMatchWith=Ay,ce.isNaN=Ly,ce.isNative=Dy,ce.isNil=Py,ce.isNull=My,ce.isNumber=Tm,ce.isObject=On,ce.isObjectLike=$n,ce.isPlainObject=jc,ce.isRegExp=Id,ce.isSafeInteger=Oy,ce.isSet=Am,ce.isString=ff,ce.isSymbol=Ho,ce.isTypedArray=Yl,ce.isUndefined=Ry,ce.isWeakMap=Fy,ce.isWeakSet=Ny,ce.join=Bb,ce.kebabCase=E1,ce.last=pa,ce.lastIndexOf=Hb,ce.lowerCase=S1,ce.lowerFirst=T1,ce.lt=Iy,ce.lte=zy,ce.max=ww,ce.maxBy=xw,ce.mean=kw,ce.meanBy=Cw,ce.min=Ew,ce.minBy=Sw,ce.stubArray=Ud,ce.stubFalse=Yd,ce.stubObject=hw,ce.stubString=fw,ce.stubTrue=dw,ce.multiply=Tw,ce.nth=$b,ce.noConflict=nw,ce.noop=jd,ce.now=uf,ce.pad=A1,ce.padEnd=L1,ce.padStart=D1,ce.parseInt=M1,ce.random=y1,ce.reduce=j_,ce.reduceRight=U_,ce.repeat=P1,ce.replace=O1,ce.result=c1,ce.round=Aw,ce.runInContext=Ne,ce.sample=G_,ce.size=V_,ce.snakeCase=R1,ce.some=K_,ce.sortedIndex=Xb,ce.sortedIndexBy=Zb,ce.sortedIndexOf=Vb,ce.sortedLastIndex=Kb,ce.sortedLastIndexBy=Qb,ce.sortedLastIndexOf=Jb,ce.startCase=N1,ce.startsWith=I1,ce.subtract=Lw,ce.sum=Dw,ce.sumBy=Mw,ce.template=z1,ce.times=pw,ce.toFinite=Is,ce.toInteger=_i,ce.toLength=Dm,ce.toLower=B1,ce.toNumber=ma,ce.toSafeInteger=By,ce.toString=Ki,ce.toUpper=H1,ce.trim=$1,ce.trimEnd=W1,ce.trimStart=q1,ce.truncate=j1,ce.unescape=U1,ce.uniqueId=gw,ce.upperCase=Y1,ce.upperFirst=Hd,ce.each=gm,ce.eachRight=vm,ce.first=fm,qd(ce,function(){var c={};return _o(ce,function(g,k){Ci.call(ce.prototype,k)||(c[k]=g)}),c}(),{chain:!1}),ce.VERSION=s,Hr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){ce[c].placeholder=ce}),Hr(["drop","take"],function(c,g){Gt.prototype[c]=function(k){k=k===n?1:U(_i(k),0);var z=this.__filtered__&&!g?new Gt(this):this.clone();return z.__filtered__?z.__takeCount__=oe(k,z.__takeCount__):z.__views__.push({size:oe(k,Me),type:c+(z.__dir__<0?"Right":"")}),z},Gt.prototype[c+"Right"]=function(k){return this.reverse()[c](k).reverse()}}),Hr(["filter","map","takeWhile"],function(c,g){var k=g+1,z=k==re||k==se;Gt.prototype[c]=function(ee){var me=this.clone();return me.__iteratees__.push({iteratee:Zt(ee,3),type:k}),me.__filtered__=me.__filtered__||z,me}}),Hr(["head","last"],function(c,g){var k="take"+(g?"Right":"");Gt.prototype[c]=function(){return this[k](1).value()[0]}}),Hr(["initial","tail"],function(c,g){var k="drop"+(g?"":"Right");Gt.prototype[c]=function(){return this.__filtered__?new Gt(this):this[k](1)}}),Gt.prototype.compact=function(){return this.filter(ko)},Gt.prototype.find=function(c){return this.filter(c).head()},Gt.prototype.findLast=function(c){return this.reverse().find(c)},Gt.prototype.invokeMap=bi(function(c,g){return typeof c=="function"?new Gt(this):this.map(function(k){return hu(k,c,g)})}),Gt.prototype.reject=function(c){return this.filter(cf(Zt(c)))},Gt.prototype.slice=function(c,g){c=_i(c);var k=this;return k.__filtered__&&(c>0||g<0)?new Gt(k):(c<0?k=k.takeRight(-c):c&&(k=k.drop(c)),g!==n&&(g=_i(g),k=g<0?k.dropRight(-g):k.take(g-c)),k)},Gt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Gt.prototype.toArray=function(){return this.take(Me)},_o(Gt.prototype,function(c,g){var k=/^(?:filter|find|map|reject)|While$/.test(g),z=/^(?:head|last)$/.test(g),ee=ce[z?"take"+(g=="last"?"Right":""):g],me=z||/^find/.test(g);ee&&(ce.prototype[g]=function(){var Se=this.__wrapped__,Pe=z?[1]:arguments,He=Se instanceof Gt,at=Pe[0],st=He||mi(Se),ft=function(Ai){var Ri=ee.apply(ce,mo([Ai],Pe));return z&&Lt?Ri[0]:Ri};st&&k&&typeof at=="function"&&at.length!=1&&(He=st=!1);var Lt=this.__chain__,qt=!!this.__actions__.length,ei=me&&!Lt,ki=He&&!qt;if(!me&&st){Se=ki?Se:new Gt(this);var ti=c.apply(Se,Pe);return ti.__actions__.push({func:af,args:[ft],thisArg:n}),new Li(ti,Lt)}return ei&&ki?c.apply(this,Pe):(ti=this.thru(ft),ei?z?ti.value()[0]:ti.value():ti)})}),Hr(["pop","push","shift","sort","splice","unshift"],function(c){var g=iu[c],k=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",z=/^(?:pop|shift)$/.test(c);ce.prototype[c]=function(){var ee=arguments;if(z&&!this.__chain__){var me=this.value();return g.apply(mi(me)?me:[],ee)}return this[k](function(Se){return g.apply(mi(Se)?Se:[],ee)})}}),_o(Gt.prototype,function(c,g){var k=ce[g];if(k){var z=k.name+"";Ci.call(Zr,z)||(Zr[z]=[]),Zr[z].push({name:g,func:k})}}),Zr[zl(n,M).name]=[{name:"wrapper",func:n}],Gt.prototype.clone=Ln,Gt.prototype.reverse=ju,Gt.prototype.value=ld,ce.prototype.at=x_,ce.prototype.chain=k_,ce.prototype.commit=C_,ce.prototype.next=E_,ce.prototype.plant=T_,ce.prototype.reverse=A_,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=L_,ce.prototype.first=ce.prototype.head,oa&&(ce.prototype[oa]=S_),ce},Yr=ta();Br?((Br.exports=Yr)._=Yr,br._=Yr):Ni._=Yr}).call(D2)}(eh,eh.exports)),eh.exports}var oh=M2();const mb={list:[],trans:null,selectedDrawer:null},P2={drawersGetById:t=>e=>t.list.find(n=>n.id===e),getDrawerFilters:t=>t.selectedDrawer?t.selectedDrawer.filters:null},O2={drawersAddInstance({commit:t},e){t(Ov,{drawer:e})},drawersRemoveInstance({commit:t},e){t(Rv,{drawerToRemove:e})},drawersInitData({commit:t},{drawer:e,entity:n,ids:s,filters:u,maxLength:l,minLength:h,entityName:f}){if(t($v,{drawer:e,entity:n,ids:s,filters:u}),!s||s.length===0||!n)t(qv,{drawer:e,maxLength:l,minLength:h});else{const v=s.map(x=>x&&x.document?x.document:x);cb(n,v,u).then(x=>{if(x&&f===rb){const w={...x,items:s.map(function(E,O){return{document:x.items[O],hotspot:E.hotspot,imageCropAlignment:E.imageCropAlignment}})};t(Ep,{drawer:e,result:w,maxLength:l,minLength:h});return}t(Ep,{drawer:e,result:x,maxLength:l,minLength:h})}).catch(x=>{t(Wv,{drawer:e,error:x})})}},drawersAddItem({commit:t,state:e},{drawer:n,item:s,newIndex:u}){let l=e.selectedDrawer;n&&(l=n),l.acceptMore&&t(Fv,{drawer:l,item:s,newIndex:u})},drawersMoveItem({commit:t},{drawer:e,item:n}){},drawersRemoveItem({commit:t},{drawer:e,item:n}){t(Nv,{drawer:e,item:n})},drawersExplorerButtonClick({commit:t,dispatch:e},n){t(Iv,{drawer:n}),mb.selectedDrawer.isActive?e("explorerOpen",{entity:n.entity}):e("explorerClose")},drawersDropzoneButtonClick({state:t,dispatch:e},n){n.isDropzoneEnable?e("drawersDisableDropzone",{drawer:n}):e("drawersEnableDropzone",{drawer:n})},drawersEnableDropzone({commit:t},{drawer:e}){t(Bv,{drawer:e})},drawersDisableDropzone({commit:t},{drawer:e}){t(Hv,{drawer:e})}},R2={[Ov](t,{drawer:e}){t.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[Rv](t,{drawerToRemove:e}){t.list=oh.remove(t.list,n=>n._uid===e._uid)},[Iv](t,{drawer:e}){t.list.forEach(n=>{n!==e&&(n.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,t.selectedDrawer=e},[Fv](t,{drawer:e,item:n,newIndex:s=0}){e.items.push(n),e.acceptMore=e.items.length<e.maxLength},[zv](t,{drawer:e,newList:n}){e.items=n,e.acceptMore=e.items.length<e.maxLength},[Nv](t,{drawer:e,item:n}){let s=e.items.indexOf(n);s>=0&&e.items.splice(s,1),e.acceptMore=e.items.length<e.maxLength},[Yp](t){t=jg(t)},[Ep](t,{drawer:e,result:n,maxLength:s,minLength:u}){e.isLoading=!1,e.items=n.items,e.trans=n.trans,e.maxLength=s,e.minLength=u,e.acceptMore=n.items.length<s},[$v](t,{drawer:e,entity:n,filters:s}){e.isLoading=!0,e.entity=n,e.filters=s,e.currentListingView=Tp.getListingView(n)},[Wv](t,{drawer:e,error:n}){e.isLoading=!1,e.errorMessage=n.message},[qv](t,{drawer:e,maxLength:n,minLength:s}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=n,e.minLength=s},[gs](t){t=jg(t)},[Bv](t,{drawer:e}){t.list.forEach(n=>{n.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[Hv](t,{drawer:e}){e.isDropzoneEnable=!1}};function jg(t){return t.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),t.selectedDrawer=null,t}const F2={state:mb,getters:P2,actions:O2,mutations:R2},N2={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},I2={...N2},z2={getFilterExplorerSelectedItem:t=>t.selectedItem},B2={filterExplorerOpen({commit:t,dispatch:e,getters:n}){const s=n.getExplorerEntity;t(Ev,{entity:s}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:t,dispatch:e},{item:n}){t(Gp,{item:n}),e("explorerMakeSearch")},filterExplorerClose({commit:t}){t(Sv)},filterExplorerReset({commit:t}){t(Lv)},filterExplorerToggle({dispatch:t,state:e}){e.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch({commit:t,state:e}){t(Tv);const n=e.entity;return Zp.getFilters({entity:n}).then(s=>{s?t(Av,{result:s}):t(xp)}).catch(s=>{t(xp,{error:s})})}},H2={[Gp](t,{item:e}){t.selectedItem=e},[Tv](t){t.isLoading=!0},[Av](t,{result:e}){t.items=e.items,t.isLoading=!1},[Ev](t,{entity:e}){switch(t.isOpen=!0,t.entity=e,e){case ac:t.icons.normal="uk-icon-folder",t.icons.active="uk-icon-folder-open";break;case _h:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break;case sc:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break}},[Sv](t){t.isOpen=!1},[Lv](t){t.selectedItem=null,t.items=[]},[xp](t,{error:e}){t.isLoading=!1,t.error="Request failed"},[gs](t){t.isLoading=!1,t.isOpen=!1,t.selectedItem=null}},$2={state:I2,getters:z2,actions:B2,mutations:H2},W2={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},q2={tagsSearchExisting:t=>(e,n)=>t.isTagExisting},j2={tagCreatorReady({commit:t}){t(Gv)},tagsCreate({commit:t,dispatch:e},{tagName:n}){t(jv,{tagName:n}),sb({tagName:n}).then(s=>{t(Uv,s),e("drawersAddItem",{item:s}),e("explorerResetSearchTerms")}).catch(s=>{t(Yv,s)})}},U2={[Gv](t){t.isReady=!0},[Gf](t,{searchTerms:e}){t.searchTerms=e},[Up](t,{result:e}){if(t.isTagExisting=!1,t.isReady&&t.searchTerms!=="")for(let n of e.items)n.name&&t.searchTerms&&n.name.toLowerCase()===t.searchTerms.toLowerCase()&&(t.isTagExisting=!0)},[jv](t){t.isLoading=!0},[Uv](t,e){t.isLoading=!1},[Yv](t,e){t.isLoading=!1,t.error=e.message}},Y2={state:W2,getters:q2,actions:j2,mutations:U2},G2={document:null,isVisible:!1,isLoading:!1},X2={documentPreviewGetDocument:t=>t.document},Z2={documentPreviewInit({commit:t},{document:e}){t(Xv,{document:e})},documentPreviewDestroy({commit:t}){t(Zv)},documentPreviewClose({commit:t}){t(Kv)},documentPreviewOpen({commit:t},{document:e}){t(Vv,{document:e})}},V2={[Xv](t,{document:e}){e&&(t.document=e)},[Zv](t){t.isVisible=!1,t.document=null},[Dv](t){t.document&&!t.isVisible?t.isVisible=!0:(t.isVisible=!1,t.document=null)},[gs](t){t.isVisible=!1,t.document=null},[Vv](t,{document:e}){e&&(t.document=e,t.isVisible=!0)},[Kv](t){t.isVisible=!1,t.document=null}},K2={state:G2,getters:X2,actions:Z2,mutations:V2};function Q2(t){let e=atob(t.split(",")[1]),n=[];for(let u=0;u<e.length;u++)n.push(e.charCodeAt(u));const s=t.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(n)],{type:s})}const J2={isLoading:!0,originalUrl:"",editor:null},eS={blanchetteEditorInit({commit:t,dispatch:e},{url:n,editor:s}){e("blanchetteEditorIsLoading"),t(Qv,{url:n,editor:s})},blanchetteEditorIsLoading({commit:t}){t(Sp)},blanchetteEditorLoaded({commit:t}){t(Df)},blanchetteEditorSave({commit:t,state:e},{url:n,filename:s}){const u=Q2(n),l=e.editor.getElementsByTagName("form")[0];let h=new FormData(l);return h.append("form[editDocument]",u,s),t(Sp),SE(h).then(async f=>{const v=await f.json();if(t(Df),v&&v.path)window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:v.message,status:"success"}})),t(eb,{path:v.path});else throw new Error("No path found")}).catch(async f=>{t(Jv,{error:await f.response.json()}),t(Df)})}},tS={[Qv](t,{url:e,editor:n}){t.originalUrl=e,t.editor=n},[Sp](t){t.isLoading=!0},[Jv](t,{error:e}){t.error=e.message},[Df](t){t.isLoading=!1},[eb](t,{path:e}){t.originalUrl=e}},iS={state:J2,actions:eS,mutations:tS};nc.use(N0);const bf=new N0.Store({modules:{nodesSourceSearch:VE,explorer:L2,filterExplorer:$2,drawers:F2,tags:Y2,documentPreview:K2,blanchetteEditor:iS},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[Mv](t){t.connected=!0},[kp](t){t.connected=!1},[Pv](t){t.healthChecked=!0},[Cp](t){t.healthChecked=!1}},actions:{escape({commit:t}){t(gs)}}});class nS{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.addEventListener("keyup",e=>{(e.key==="Escape"||e.keyCode===27)&&this.store.commit(gs)})}bindSpace(){window.addEventListener("keyup",e=>{if(!(!e.key==="Space"||!this.store.getters.documentPreviewGetDocument))return e.preventDefault(),this.store.commit(Dv,{event:e}),!1})}}class rS{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(kp):this.store.commit(Cp);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(kp);return}(e.status===200||e.status===202)&&(this.store.commit(Mv),this.store.commit(Pv),this.check())}}catch{this.store.commit(Cp)}},this.intervalDuration)}}const oS={data:function(){return{searchTerms:null}},computed:{...Ia({items:t=>t.nodesSourceSearch.items,isFocus:t=>t.nodesSourceSearch.isFocus,isOpen:t=>t.nodesSourceSearch.isOpen})},methods:{...Hs(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),enableFocus:oh.debounce(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:oh.debounce(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(t){t&&t.key==="Escape"&&(t.preventDefault(),this.nodeSourceSearchEscape())}},watch:{searchTerms:oh.debounce(function(t,e){this.nodesSourceSearchUpdate(t,e)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:Vp}},aS=null,sS=null;var uS=Nn(oS,aS,sS,!1,null,null);const lS=uS.exports,cS={name:"rz-button",props:["isActive","callback"]};var hS=function(){var e=this,n=e._self._c;return n("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},fS=[],dS=Nn(cS,hS,fS,!1,null,null);const pS=dS.exports;var Pf={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Of(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Of=function(e){return typeof e}:Of=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function mS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ba(){return ba=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ba.apply(this,arguments)}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable}))),s.forEach(function(u){mS(t,u,n[u])})}return t}function gS(t,e){if(t==null)return{};var n={},s=Object.keys(t),u,l;for(l=0;l<s.length;l++)u=s[l],!(e.indexOf(u)>=0)&&(n[u]=t[u]);return n}function vS(t,e){if(t==null)return{};var n=gS(t,e),s,u;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(u=0;u<l.length;u++)s=l[u],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function bS(t){return _S(t)||yS(t)||wS()}function _S(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function yS(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function wS(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var xS="1.10.2";function Bs(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var $s=Bs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),yh=Bs(/Edge/i),Ug=Bs(/firefox/i),Ap=Bs(/safari/i)&&!Bs(/chrome/i)&&!Bs(/android/i),gb=Bs(/iP(ad|od|hone)/i),kS=Bs(/chrome/i)&&Bs(/android/i),vb={capture:!1,passive:!1};function Mi(t,e,n){t.addEventListener(e,n,!$s&&vb)}function Ti(t,e,n){t.removeEventListener(e,n,!$s&&vb)}function Xf(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function CS(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Fa(t,e,n,s){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Xf(t,e):Xf(t,e))||s&&t===n)return t;if(t===n)break}while(t=CS(t))}return null}var Yg=/\s+/g;function Fn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(Yg," ").replace(" "+e+" "," ");t.className=(s+(n?" "+e:"")).replace(Yg," ")}}function Ht(t,e,n){var s=t&&t.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=n+(typeof n=="string"?"":"px")}}function ml(t,e){var n="";if(typeof t=="string")n=t;else do{var s=Ht(t,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!e&&(t=t.parentNode));var u=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return u&&new u(n)}function bb(t,e,n){if(t){var s=t.getElementsByTagName(e),u=0,l=s.length;if(n)for(;u<l;u++)n(s[u],u);return s}return[]}function fs(){var t=document.scrollingElement;return t||document.documentElement}function jn(t,e,n,s,u){if(!(!t.getBoundingClientRect&&t!==window)){var l,h,f,v,x,w,E;if(t!==window&&t!==fs()?(l=t.getBoundingClientRect(),h=l.top,f=l.left,v=l.bottom,x=l.right,w=l.height,E=l.width):(h=0,f=0,v=window.innerHeight,x=window.innerWidth,w=window.innerHeight,E=window.innerWidth),(e||n)&&t!==window&&(u=u||t.parentNode,!$s))do if(u&&u.getBoundingClientRect&&(Ht(u,"transform")!=="none"||n&&Ht(u,"position")!=="static")){var O=u.getBoundingClientRect();h-=O.top+parseInt(Ht(u,"border-top-width")),f-=O.left+parseInt(Ht(u,"border-left-width")),v=h+l.height,x=f+l.width;break}while(u=u.parentNode);if(s&&t!==window){var H=ml(u||t),F=H&&H.a,j=H&&H.d;H&&(h/=j,f/=F,E/=F,w/=j,v=h+w,x=f+E)}return{top:h,left:f,bottom:v,right:x,width:E,height:w}}}function Gg(t,e,n){for(var s=Pu(t,!0),u=jn(t)[e];s;){var l=jn(s)[n],h=void 0;if(h=u>=l,!h)return s;if(s===fs())break;s=Pu(s,!1)}return!1}function Zf(t,e,n){for(var s=0,u=0,l=t.children;u<l.length;){if(l[u].style.display!=="none"&&l[u]!==ii.ghost&&l[u]!==ii.dragged&&Fa(l[u],n.draggable,t,!1)){if(s===e)return l[u];s++}u++}return null}function Kp(t,e){for(var n=t.lastElementChild;n&&(n===ii.ghost||Ht(n,"display")==="none"||e&&!Xf(n,e));)n=n.previousElementSibling;return n||null}function qn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ii.clone&&(!e||Xf(t,e))&&n++;return n}function Xg(t){var e=0,n=0,s=fs();if(t)do{var u=ml(t),l=u.a,h=u.d;e+=t.scrollLeft*l,n+=t.scrollTop*h}while(t!==s&&(t=t.parentNode));return[e,n]}function ES(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[n][s])return Number(n)}return-1}function Pu(t,e){if(!t||!t.getBoundingClientRect)return fs();var n=t,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var u=Ht(n);if(n.clientWidth<n.scrollWidth&&(u.overflowX=="auto"||u.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(u.overflowY=="auto"||u.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return fs();if(s||e)return n;s=!0}}while(n=n.parentNode);return fs()}function SS(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function np(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var ah;function _b(t,e){return function(){if(!ah){var n=arguments,s=this;n.length===1?t.call(s,n[0]):t.apply(s,n),ah=setTimeout(function(){ah=void 0},e)}}}function TS(){clearTimeout(ah),ah=void 0}function yb(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Qp(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Zg(t,e){Ht(t,"position","absolute"),Ht(t,"top",e.top),Ht(t,"left",e.left),Ht(t,"width",e.width),Ht(t,"height",e.height)}function rp(t){Ht(t,"position",""),Ht(t,"top",""),Ht(t,"left",""),Ht(t,"width",""),Ht(t,"height","")}var Qr="Sortable"+new Date().getTime();function AS(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(u){if(!(Ht(u,"display")==="none"||u===ii.ghost)){t.push({target:u,rect:jn(u)});var l=Nu({},t[t.length-1].rect);if(u.thisAnimationDuration){var h=ml(u,!0);h&&(l.top-=h.f,l.left-=h.e)}u.fromRect=l}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(ES(t,{target:s}),1)},animateAll:function(s){var u=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var l=!1,h=0;t.forEach(function(f){var v=0,x=f.target,w=x.fromRect,E=jn(x),O=x.prevFromRect,H=x.prevToRect,F=f.rect,j=ml(x,!0);j&&(E.top-=j.f,E.left-=j.e),x.toRect=E,x.thisAnimationDuration&&np(O,E)&&!np(w,E)&&(F.top-E.top)/(F.left-E.left)===(w.top-E.top)/(w.left-E.left)&&(v=DS(F,O,H,u.options)),np(E,w)||(x.prevFromRect=w,x.prevToRect=E,v||(v=u.options.animation),u.animate(x,F,E,v)),v&&(l=!0,h=Math.max(h,v),clearTimeout(x.animationResetTimer),x.animationResetTimer=setTimeout(function(){x.animationTime=0,x.prevFromRect=null,x.fromRect=null,x.prevToRect=null,x.thisAnimationDuration=null},v),x.thisAnimationDuration=v)}),clearTimeout(e),l?e=setTimeout(function(){typeof s=="function"&&s()},h):typeof s=="function"&&s(),t=[]},animate:function(s,u,l,h){if(h){Ht(s,"transition",""),Ht(s,"transform","");var f=ml(this.el),v=f&&f.a,x=f&&f.d,w=(u.left-l.left)/(v||1),E=(u.top-l.top)/(x||1);s.animatingX=!!w,s.animatingY=!!E,Ht(s,"transform","translate3d("+w+"px,"+E+"px,0)"),LS(s),Ht(s,"transition","transform "+h+"ms"+(this.options.easing?" "+this.options.easing:"")),Ht(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Ht(s,"transition",""),Ht(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},h)}}}}function LS(t){return t.offsetWidth}function DS(t,e,n,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*s.animation}var Uc=[],op={initializeByDefault:!0},wh={mount:function(e){for(var n in op)op.hasOwnProperty(n)&&!(n in e)&&(e[n]=op[n]);Uc.push(e)},pluginEvent:function(e,n,s){var u=this;this.eventCanceled=!1,s.cancel=function(){u.eventCanceled=!0};var l=e+"Global";Uc.forEach(function(h){n[h.pluginName]&&(n[h.pluginName][l]&&n[h.pluginName][l](Nu({sortable:n},s)),n.options[h.pluginName]&&n[h.pluginName][e]&&n[h.pluginName][e](Nu({sortable:n},s)))})},initializePlugins:function(e,n,s,u){Uc.forEach(function(f){var v=f.pluginName;if(!(!e.options[v]&&!f.initializeByDefault)){var x=new f(e,n,e.options);x.sortable=e,x.options=e.options,e[v]=x,ba(s,x.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var h=this.modifyOption(e,l,e.options[l]);typeof h<"u"&&(e.options[l]=h)}},getEventProperties:function(e,n){var s={};return Uc.forEach(function(u){typeof u.eventProperties=="function"&&ba(s,u.eventProperties.call(n[u.pluginName],e))}),s},modifyOption:function(e,n,s){var u;return Uc.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(u=l.optionListeners[n].call(e[l.pluginName],s))}),u}};function th(t){var e=t.sortable,n=t.rootEl,s=t.name,u=t.targetEl,l=t.cloneEl,h=t.toEl,f=t.fromEl,v=t.oldIndex,x=t.newIndex,w=t.oldDraggableIndex,E=t.newDraggableIndex,O=t.originalEvent,H=t.putSortable,F=t.extraEventProperties;if(e=e||n&&n[Qr],!!e){var j,q=e.options,M="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!$s&&!yh?j=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(j=document.createEvent("Event"),j.initEvent(s,!0,!0)),j.to=h||n,j.from=f||n,j.item=u||n,j.clone=l,j.oldIndex=v,j.newIndex=x,j.oldDraggableIndex=w,j.newDraggableIndex=E,j.originalEvent=O,j.pullMode=H?H.lastPutMode:void 0;var S=Nu({},F,wh.getEventProperties(s,e));for(var D in S)j[D]=S[D];n&&n.dispatchEvent(j),q[M]&&q[M].call(e,j)}}var Co=function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.evt,l=vS(s,["evt"]);wh.pluginEvent.bind(ii)(e,n,Nu({dragEl:kt,parentEl:fr,ghostEl:vi,rootEl:Rn,nextEl:fl,lastDownEl:Rf,cloneEl:Wn,cloneHidden:Du,dragStarted:ih,putSortable:qr,activeSortable:ii.active,originalEvent:u,oldIndex:ec,oldDraggableIndex:sh,newIndex:Uo,newDraggableIndex:Tu,hideGhostForTarget:Cb,unhideGhostForTarget:Eb,cloneNowHidden:function(){Du=!0},cloneNowShown:function(){Du=!1},dispatchSortableEvent:function(f){ho({sortable:n,name:f,originalEvent:u})}},l))};function ho(t){th(Nu({putSortable:qr,cloneEl:Wn,targetEl:kt,rootEl:Rn,oldIndex:ec,oldDraggableIndex:sh,newIndex:Uo,newDraggableIndex:Tu},t))}var kt,fr,vi,Rn,fl,Rf,Wn,Du,ec,Uo,sh,Tu,_f,qr,Jl=!1,Vf=!1,Kf=[],cl,Oa,ap,sp,Vg,Kg,ih,Kl,uh,lh=!1,yf=!1,Ff,Kr,up=[],Lp=!1,Qf=[],sd=typeof document<"u",wf=gb,Qg=yh||$s?"cssFloat":"float",MS=sd&&!kS&&!gb&&"draggable"in document.createElement("div"),wb=function(){if(sd){if($s)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),xb=function(e,n){var s=Ht(e),u=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=Zf(e,0,n),h=Zf(e,1,n),f=l&&Ht(l),v=h&&Ht(h),x=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+jn(l).width,w=v&&parseInt(v.marginLeft)+parseInt(v.marginRight)+jn(h).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&f.float&&f.float!=="none"){var E=f.float==="left"?"left":"right";return h&&(v.clear==="both"||v.clear===E)?"vertical":"horizontal"}return l&&(f.display==="block"||f.display==="flex"||f.display==="table"||f.display==="grid"||x>=u&&s[Qg]==="none"||h&&s[Qg]==="none"&&x+w>u)?"vertical":"horizontal"},PS=function(e,n,s){var u=s?e.left:e.top,l=s?e.right:e.bottom,h=s?e.width:e.height,f=s?n.left:n.top,v=s?n.right:n.bottom,x=s?n.width:n.height;return u===f||l===v||u+h/2===f+x/2},OS=function(e,n){var s;return Kf.some(function(u){if(!Kp(u)){var l=jn(u),h=u[Qr].options.emptyInsertThreshold,f=e>=l.left-h&&e<=l.right+h,v=n>=l.top-h&&n<=l.bottom+h;if(h&&f&&v)return s=u}}),s},kb=function(e){function n(l,h){return function(f,v,x,w){var E=f.options.group.name&&v.options.group.name&&f.options.group.name===v.options.group.name;if(l==null&&(h||E))return!0;if(l==null||l===!1)return!1;if(h&&l==="clone")return l;if(typeof l=="function")return n(l(f,v,x,w),h)(f,v,x,w);var O=(h?f:v).options.group.name;return l===!0||typeof l=="string"&&l===O||l.join&&l.indexOf(O)>-1}}var s={},u=e.group;(!u||Of(u)!="object")&&(u={name:u}),s.name=u.name,s.checkPull=n(u.pull,!0),s.checkPut=n(u.put),s.revertClone=u.revertClone,e.group=s},Cb=function(){!wb&&vi&&Ht(vi,"display","none")},Eb=function(){!wb&&vi&&Ht(vi,"display","")};sd&&document.addEventListener("click",function(t){if(Vf)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Vf=!1,!1},!0);var hl=function(e){if(kt){e=e.touches?e.touches[0]:e;var n=OS(e.clientX,e.clientY);if(n){var s={};for(var u in e)e.hasOwnProperty(u)&&(s[u]=e[u]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[Qr]._onDragOver(s)}}},RS=function(e){kt&&kt.parentNode[Qr]._isOutsideThisEl(e.target)};function ii(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ba({},e),t[Qr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return xb(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(h,f){h.setData("Text",f.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ii.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};wh.initializePlugins(this,t,n);for(var s in n)!(s in e)&&(e[s]=n[s]);kb(e);for(var u in this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this));this.nativeDraggable=e.forceFallback?!1:MS,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Mi(t,"pointerdown",this._onTapStart):(Mi(t,"mousedown",this._onTapStart),Mi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mi(t,"dragover",this),Mi(t,"dragenter",this)),Kf.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ba(this,AS())}ii.prototype={constructor:ii,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Kl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,kt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,s=this.el,u=this.options,l=u.preventOnFilter,h=e.type,f=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,v=(f||e).target,x=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||v,w=u.filter;if($S(s),!kt&&!(/mousedown|pointerdown/.test(h)&&e.button!==0||u.disabled)&&!x.isContentEditable&&(v=Fa(v,u.draggable,s,!1),!(v&&v.animated)&&Rf!==v)){if(ec=qn(v),sh=qn(v,u.draggable),typeof w=="function"){if(w.call(this,e,v,this)){ho({sortable:n,rootEl:x,name:"filter",targetEl:v,toEl:s,fromEl:s}),Co("filter",n,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(w&&(w=w.split(",").some(function(E){if(E=Fa(x,E.trim(),s,!1),E)return ho({sortable:n,rootEl:E,name:"filter",targetEl:v,fromEl:s,toEl:s}),Co("filter",n,{evt:e}),!0}),w)){l&&e.cancelable&&e.preventDefault();return}u.handle&&!Fa(x,u.handle,s,!1)||this._prepareDragStart(e,f,v)}}},_prepareDragStart:function(e,n,s){var u=this,l=u.el,h=u.options,f=l.ownerDocument,v;if(s&&!kt&&s.parentNode===l){var x=jn(s);if(Rn=l,kt=s,fr=kt.parentNode,fl=kt.nextSibling,Rf=s,_f=h.group,ii.dragged=kt,cl={target:kt,clientX:(n||e).clientX,clientY:(n||e).clientY},Vg=cl.clientX-x.left,Kg=cl.clientY-x.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,kt.style["will-change"]="all",v=function(){if(Co("delayEnded",u,{evt:e}),ii.eventCanceled){u._onDrop();return}u._disableDelayedDragEvents(),!Ug&&u.nativeDraggable&&(kt.draggable=!0),u._triggerDragStart(e,n),ho({sortable:u,name:"choose",originalEvent:e}),Fn(kt,h.chosenClass,!0)},h.ignore.split(",").forEach(function(w){bb(kt,w.trim(),cp)}),Mi(f,"dragover",hl),Mi(f,"mousemove",hl),Mi(f,"touchmove",hl),Mi(f,"mouseup",u._onDrop),Mi(f,"touchend",u._onDrop),Mi(f,"touchcancel",u._onDrop),Ug&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kt.draggable=!0),Co("delayStart",this,{evt:e}),h.delay&&(!h.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(yh||$s))){if(ii.eventCanceled){this._onDrop();return}Mi(f,"mouseup",u._disableDelayedDrag),Mi(f,"touchend",u._disableDelayedDrag),Mi(f,"touchcancel",u._disableDelayedDrag),Mi(f,"mousemove",u._delayedDragTouchMoveHandler),Mi(f,"touchmove",u._delayedDragTouchMoveHandler),h.supportPointer&&Mi(f,"pointermove",u._delayedDragTouchMoveHandler),u._dragStartTimer=setTimeout(v,h.delay)}else v()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kt&&cp(kt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._disableDelayedDrag),Ti(e,"touchend",this._disableDelayedDrag),Ti(e,"touchcancel",this._disableDelayedDrag),Ti(e,"mousemove",this._delayedDragTouchMoveHandler),Ti(e,"touchmove",this._delayedDragTouchMoveHandler),Ti(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Mi(document,"pointermove",this._onTouchMove):n?Mi(document,"touchmove",this._onTouchMove):Mi(document,"mousemove",this._onTouchMove):(Mi(kt,"dragend",this),Mi(Rn,"dragstart",this._onDragStart));try{document.selection?Nf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Jl=!1,Rn&&kt){Co("dragStarted",this,{evt:n}),this.nativeDraggable&&Mi(document,"dragover",RS);var s=this.options;!e&&Fn(kt,s.dragClass,!1),Fn(kt,s.ghostClass,!0),ii.active=this,e&&this._appendGhost(),ho({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Oa){this._lastX=Oa.clientX,this._lastY=Oa.clientY,Cb();for(var e=document.elementFromPoint(Oa.clientX,Oa.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Oa.clientX,Oa.clientY),e!==n);)n=e;if(kt.parentNode[Qr]._isOutsideThisEl(e),n)do{if(n[Qr]){var s=void 0;if(s=n[Qr]._onDragOver({clientX:Oa.clientX,clientY:Oa.clientY,target:e,rootEl:n}),s&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Eb()}},_onTouchMove:function(e){if(cl){var n=this.options,s=n.fallbackTolerance,u=n.fallbackOffset,l=e.touches?e.touches[0]:e,h=vi&&ml(vi,!0),f=vi&&h&&h.a,v=vi&&h&&h.d,x=wf&&Kr&&Xg(Kr),w=(l.clientX-cl.clientX+u.x)/(f||1)+(x?x[0]-up[0]:0)/(f||1),E=(l.clientY-cl.clientY+u.y)/(v||1)+(x?x[1]-up[1]:0)/(v||1);if(!ii.active&&!Jl){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(vi){h?(h.e+=w-(ap||0),h.f+=E-(sp||0)):h={a:1,b:0,c:0,d:1,e:w,f:E};var O="matrix(".concat(h.a,",").concat(h.b,",").concat(h.c,",").concat(h.d,",").concat(h.e,",").concat(h.f,")");Ht(vi,"webkitTransform",O),Ht(vi,"mozTransform",O),Ht(vi,"msTransform",O),Ht(vi,"transform",O),ap=w,sp=E,Oa=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!vi){var e=this.options.fallbackOnBody?document.body:Rn,n=jn(kt,!0,wf,!0,e),s=this.options;if(wf){for(Kr=e;Ht(Kr,"position")==="static"&&Ht(Kr,"transform")==="none"&&Kr!==document;)Kr=Kr.parentNode;Kr!==document.body&&Kr!==document.documentElement?(Kr===document&&(Kr=fs()),n.top+=Kr.scrollTop,n.left+=Kr.scrollLeft):Kr=fs(),up=Xg(Kr)}vi=kt.cloneNode(!0),Fn(vi,s.ghostClass,!1),Fn(vi,s.fallbackClass,!0),Fn(vi,s.dragClass,!0),Ht(vi,"transition",""),Ht(vi,"transform",""),Ht(vi,"box-sizing","border-box"),Ht(vi,"margin",0),Ht(vi,"top",n.top),Ht(vi,"left",n.left),Ht(vi,"width",n.width),Ht(vi,"height",n.height),Ht(vi,"opacity","0.8"),Ht(vi,"position",wf?"absolute":"fixed"),Ht(vi,"zIndex","100000"),Ht(vi,"pointerEvents","none"),ii.ghost=vi,e.appendChild(vi),Ht(vi,"transform-origin",Vg/parseInt(vi.style.width)*100+"% "+Kg/parseInt(vi.style.height)*100+"%")}},_onDragStart:function(e,n){var s=this,u=e.dataTransfer,l=s.options;if(Co("dragStart",this,{evt:e}),ii.eventCanceled){this._onDrop();return}Co("setupClone",this),ii.eventCanceled||(Wn=Qp(kt),Wn.draggable=!1,Wn.style["will-change"]="",this._hideClone(),Fn(Wn,this.options.chosenClass,!1),ii.clone=Wn),s.cloneId=Nf(function(){Co("clone",s),!ii.eventCanceled&&(s.options.removeCloneOnHide||Rn.insertBefore(Wn,kt),s._hideClone(),ho({sortable:s,name:"clone"}))}),!n&&Fn(kt,l.dragClass,!0),n?(Vf=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Ti(document,"mouseup",s._onDrop),Ti(document,"touchend",s._onDrop),Ti(document,"touchcancel",s._onDrop),u&&(u.effectAllowed="move",l.setData&&l.setData.call(s,u,kt)),Mi(document,"drop",s),Ht(kt,"transform","translateZ(0)")),Jl=!0,s._dragStartId=Nf(s._dragStarted.bind(s,n,e)),Mi(document,"selectstart",s),ih=!0,Ap&&Ht(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,s=e.target,u,l,h,f=this.options,v=f.group,x=ii.active,w=_f===v,E=f.sort,O=qr||x,H,F=this,j=!1;if(Lp)return;function q(ye,Ee){Co(ye,F,Nu({evt:e,isOwner:w,axis:H?"vertical":"horizontal",revert:h,dragRect:u,targetRect:l,canSort:E,fromSortable:O,target:s,completed:S,onMove:function(Be,Me){return lp(Rn,n,kt,u,Be,jn(Be),e,Me)},changed:D},Ee))}function M(){q("dragOverAnimationCapture"),F.captureAnimationState(),F!==O&&O.captureAnimationState()}function S(ye){return q("dragOverCompleted",{insertion:ye}),ye&&(w?x._hideClone():x._showClone(F),F!==O&&(Fn(kt,qr?qr.options.ghostClass:x.options.ghostClass,!1),Fn(kt,f.ghostClass,!0)),qr!==F&&F!==ii.active?qr=F:F===ii.active&&qr&&(qr=null),O===F&&(F._ignoreWhileAnimating=s),F.animateAll(function(){q("dragOverAnimationComplete"),F._ignoreWhileAnimating=null}),F!==O&&(O.animateAll(),O._ignoreWhileAnimating=null)),(s===kt&&!kt.animated||s===n&&!s.animated)&&(Kl=null),!f.dragoverBubble&&!e.rootEl&&s!==document&&(kt.parentNode[Qr]._isOutsideThisEl(e.target),!ye&&hl(e)),!f.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),j=!0}function D(){Uo=qn(kt),Tu=qn(kt,f.draggable),ho({sortable:F,name:"change",toEl:n,newIndex:Uo,newDraggableIndex:Tu,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=Fa(s,f.draggable,n,!0),q("dragOver"),ii.eventCanceled)return j;if(kt.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||F._ignoreWhileAnimating===s)return S(!1);if(Vf=!1,x&&!f.disabled&&(w?E||(h=!Rn.contains(kt)):qr===this||(this.lastPutMode=_f.checkPull(this,x,kt,e))&&v.checkPut(this,x,kt,e))){if(H=this._getDirection(e,s)==="vertical",u=jn(kt),q("dragOverValid"),ii.eventCanceled)return j;if(h)return fr=Rn,M(),this._hideClone(),q("revert"),ii.eventCanceled||(fl?Rn.insertBefore(kt,fl):Rn.appendChild(kt)),S(!0);var B=Kp(n,f.draggable);if(!B||IS(e,H,this)&&!B.animated){if(B===kt)return S(!1);if(B&&n===e.target&&(s=B),s&&(l=jn(s)),lp(Rn,n,kt,u,s,l,e,!!s)!==!1)return M(),n.appendChild(kt),fr=n,D(),S(!0)}else if(s.parentNode===n){l=jn(s);var I=0,V,ne=kt.parentNode!==n,ue=!PS(kt.animated&&kt.toRect||u,s.animated&&s.toRect||l,H),de=H?"top":"left",ge=Gg(s,"top","top")||Gg(kt,"top","top"),he=ge?ge.scrollTop:void 0;Kl!==s&&(V=l[de],lh=!1,yf=!ue&&f.invertSwap||ne),I=zS(e,s,l,H,ue?1:f.swapThreshold,f.invertedSwapThreshold==null?f.swapThreshold:f.invertedSwapThreshold,yf,Kl===s);var Le;if(I!==0){var ve=qn(kt);do ve-=I,Le=fr.children[ve];while(Le&&(Ht(Le,"display")==="none"||Le===vi))}if(I===0||Le===s)return S(!1);Kl=s,uh=I;var re=s.nextElementSibling,P=!1;P=I===1;var se=lp(Rn,n,kt,u,s,l,e,P);if(se!==!1)return(se===1||se===-1)&&(P=se===1),Lp=!0,setTimeout(NS,30),M(),P&&!re?n.appendChild(kt):s.parentNode.insertBefore(kt,P?re:s),ge&&yb(ge,0,he-ge.scrollTop),fr=kt.parentNode,V!==void 0&&!yf&&(Ff=Math.abs(V-jn(s)[de])),D(),S(!0)}if(n.contains(kt))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ti(document,"mousemove",this._onTouchMove),Ti(document,"touchmove",this._onTouchMove),Ti(document,"pointermove",this._onTouchMove),Ti(document,"dragover",hl),Ti(document,"mousemove",hl),Ti(document,"touchmove",hl)},_offUpEvents:function(){var e=this.el.ownerDocument;Ti(e,"mouseup",this._onDrop),Ti(e,"touchend",this._onDrop),Ti(e,"pointerup",this._onDrop),Ti(e,"touchcancel",this._onDrop),Ti(document,"selectstart",this)},_onDrop:function(e){var n=this.el,s=this.options;if(Uo=qn(kt),Tu=qn(kt,s.draggable),Co("drop",this,{evt:e}),fr=kt&&kt.parentNode,Uo=qn(kt),Tu=qn(kt,s.draggable),ii.eventCanceled){this._nulling();return}Jl=!1,yf=!1,lh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Dp(this.cloneId),Dp(this._dragStartId),this.nativeDraggable&&(Ti(document,"drop",this),Ti(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ap&&Ht(document.body,"user-select",""),Ht(kt,"transform",""),e&&(ih&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),vi&&vi.parentNode&&vi.parentNode.removeChild(vi),(Rn===fr||qr&&qr.lastPutMode!=="clone")&&Wn&&Wn.parentNode&&Wn.parentNode.removeChild(Wn),kt&&(this.nativeDraggable&&Ti(kt,"dragend",this),cp(kt),kt.style["will-change"]="",ih&&!Jl&&Fn(kt,qr?qr.options.ghostClass:this.options.ghostClass,!1),Fn(kt,this.options.chosenClass,!1),ho({sortable:this,name:"unchoose",toEl:fr,newIndex:null,newDraggableIndex:null,originalEvent:e}),Rn!==fr?(Uo>=0&&(ho({rootEl:fr,name:"add",toEl:fr,fromEl:Rn,originalEvent:e}),ho({sortable:this,name:"remove",toEl:fr,originalEvent:e}),ho({rootEl:fr,name:"sort",toEl:fr,fromEl:Rn,originalEvent:e}),ho({sortable:this,name:"sort",toEl:fr,originalEvent:e})),qr&&qr.save()):Uo!==ec&&Uo>=0&&(ho({sortable:this,name:"update",toEl:fr,originalEvent:e}),ho({sortable:this,name:"sort",toEl:fr,originalEvent:e})),ii.active&&((Uo==null||Uo===-1)&&(Uo=ec,Tu=sh),ho({sortable:this,name:"end",toEl:fr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Co("nulling",this),Rn=kt=fr=vi=fl=Wn=Rf=Du=cl=Oa=ih=Uo=Tu=ec=sh=Kl=uh=qr=_f=ii.dragged=ii.ghost=ii.clone=ii.active=null,Qf.forEach(function(e){e.checked=!0}),Qf.length=ap=sp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":kt&&(this._onDragOver(e),FS(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,s=this.el.children,u=0,l=s.length,h=this.options;u<l;u++)n=s[u],Fa(n,h.draggable,this.el,!1)&&e.push(n.getAttribute(h.dataIdAttr)||HS(n));return e},sort:function(e){var n={},s=this.el;this.toArray().forEach(function(u,l){var h=s.children[l];Fa(h,this.options.draggable,s,!1)&&(n[u]=h)},this),e.forEach(function(u){n[u]&&(s.removeChild(n[u]),s.appendChild(n[u]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Fa(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var s=this.options;if(n===void 0)return s[e];var u=wh.modifyOption(this,e,n);typeof u<"u"?s[e]=u:s[e]=n,e==="group"&&kb(s)},destroy:function(){Co("destroy",this);var e=this.el;e[Qr]=null,Ti(e,"mousedown",this._onTapStart),Ti(e,"touchstart",this._onTapStart),Ti(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ti(e,"dragover",this),Ti(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Kf.splice(Kf.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Du){if(Co("hideClone",this),ii.eventCanceled)return;Ht(Wn,"display","none"),this.options.removeCloneOnHide&&Wn.parentNode&&Wn.parentNode.removeChild(Wn),Du=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Du){if(Co("showClone",this),ii.eventCanceled)return;Rn.contains(kt)&&!this.options.group.revertClone?Rn.insertBefore(Wn,kt):fl?Rn.insertBefore(Wn,fl):Rn.appendChild(Wn),this.options.group.revertClone&&this.animate(kt,Wn),Ht(Wn,"display",""),Du=!1}}};function FS(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function lp(t,e,n,s,u,l,h,f){var v,x=t[Qr],w=x.options.onMove,E;return window.CustomEvent&&!$s&&!yh?v=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent("move",!0,!0)),v.to=e,v.from=t,v.dragged=n,v.draggedRect=s,v.related=u||e,v.relatedRect=l||jn(e),v.willInsertAfter=f,v.originalEvent=h,t.dispatchEvent(v),w&&(E=w.call(x,v,h)),E}function cp(t){t.draggable=!1}function NS(){Lp=!1}function IS(t,e,n){var s=jn(Kp(n.el,n.options.draggable)),u=10;return e?t.clientX>s.right+u||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+u}function zS(t,e,n,s,u,l,h,f){var v=s?t.clientY:t.clientX,x=s?n.height:n.width,w=s?n.top:n.left,E=s?n.bottom:n.right,O=!1;if(!h){if(f&&Ff<x*u){if(!lh&&(uh===1?v>w+x*l/2:v<E-x*l/2)&&(lh=!0),lh)O=!0;else if(uh===1?v<w+Ff:v>E-Ff)return-uh}else if(v>w+x*(1-u)/2&&v<E-x*(1-u)/2)return BS(e)}return O=O||h,O&&(v<w+x*l/2||v>E-x*l/2)?v>w+x/2?1:-1:0}function BS(t){return qn(kt)<qn(t)?1:-1}function HS(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,s=0;n--;)s+=e.charCodeAt(n);return s.toString(36)}function $S(t){Qf.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var s=e[n];s.checked&&Qf.push(s)}}function Nf(t){return setTimeout(t,0)}function Dp(t){return clearTimeout(t)}sd&&Mi(document,"touchmove",function(t){(ii.active||Jl)&&t.cancelable&&t.preventDefault()});ii.utils={on:Mi,off:Ti,css:Ht,find:bb,is:function(e,n){return!!Fa(e,n,e,!1)},extend:SS,throttle:_b,closest:Fa,toggleClass:Fn,clone:Qp,index:qn,nextTick:Nf,cancelNextTick:Dp,detectDirection:xb,getChild:Zf};ii.get=function(t){return t[Qr]};ii.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(ii.utils=Nu({},ii.utils,s.utils)),wh.mount(s)})};ii.create=function(t,e){return new ii(t,e)};ii.version=xS;var dr=[],nh,Mp,Pp=!1,hp,fp,Jf,rh;function WS(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?Mi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mi(document,"pointermove",this._handleFallbackAutoScroll):s.touches?Mi(document,"touchmove",this._handleFallbackAutoScroll):Mi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Ti(document,"dragover",this._handleAutoScroll):(Ti(document,"pointermove",this._handleFallbackAutoScroll),Ti(document,"touchmove",this._handleFallbackAutoScroll),Ti(document,"mousemove",this._handleFallbackAutoScroll)),Jg(),If(),TS()},nulling:function(){Jf=Mp=nh=Pp=rh=hp=fp=null,dr.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var u=this,l=(n.touches?n.touches[0]:n).clientX,h=(n.touches?n.touches[0]:n).clientY,f=document.elementFromPoint(l,h);if(Jf=n,s||yh||$s||Ap){dp(n,this.options,f,s);var v=Pu(f,!0);Pp&&(!rh||l!==hp||h!==fp)&&(rh&&Jg(),rh=setInterval(function(){var x=Pu(document.elementFromPoint(l,h),!0);x!==v&&(v=x,If()),dp(n,u.options,x,s)},10),hp=l,fp=h)}else{if(!this.options.bubbleScroll||Pu(f,!0)===fs()){If();return}dp(n,this.options,Pu(f,!1),!1)}}},ba(t,{pluginName:"scroll",initializeByDefault:!0})}function If(){dr.forEach(function(t){clearInterval(t.pid)}),dr=[]}function Jg(){clearInterval(rh)}var dp=_b(function(t,e,n,s){if(e.scroll){var u=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,h=e.scrollSensitivity,f=e.scrollSpeed,v=fs(),x=!1,w;Mp!==n&&(Mp=n,If(),nh=e.scroll,w=e.scrollFn,nh===!0&&(nh=Pu(n,!0)));var E=0,O=nh;do{var H=O,F=jn(H),j=F.top,q=F.bottom,M=F.left,S=F.right,D=F.width,B=F.height,I=void 0,V=void 0,ne=H.scrollWidth,ue=H.scrollHeight,de=Ht(H),ge=H.scrollLeft,he=H.scrollTop;H===v?(I=D<ne&&(de.overflowX==="auto"||de.overflowX==="scroll"||de.overflowX==="visible"),V=B<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"||de.overflowY==="visible")):(I=D<ne&&(de.overflowX==="auto"||de.overflowX==="scroll"),V=B<ue&&(de.overflowY==="auto"||de.overflowY==="scroll"));var Le=I&&(Math.abs(S-u)<=h&&ge+D<ne)-(Math.abs(M-u)<=h&&!!ge),ve=V&&(Math.abs(q-l)<=h&&he+B<ue)-(Math.abs(j-l)<=h&&!!he);if(!dr[E])for(var re=0;re<=E;re++)dr[re]||(dr[re]={});(dr[E].vx!=Le||dr[E].vy!=ve||dr[E].el!==H)&&(dr[E].el=H,dr[E].vx=Le,dr[E].vy=ve,clearInterval(dr[E].pid),(Le!=0||ve!=0)&&(x=!0,dr[E].pid=setInterval((function(){s&&this.layer===0&&ii.active._onTouchMove(Jf);var P=dr[this.layer].vy?dr[this.layer].vy*f:0,se=dr[this.layer].vx?dr[this.layer].vx*f:0;typeof w=="function"&&w.call(ii.dragged.parentNode[Qr],se,P,t,Jf,dr[this.layer].el)!=="continue"||yb(dr[this.layer].el,se,P)}).bind({layer:E}),24))),E++}while(e.bubbleScroll&&O!==v&&(O=Pu(O,!1)));Pp=x}},30),Sb=function(e){var n=e.originalEvent,s=e.putSortable,u=e.dragEl,l=e.activeSortable,h=e.dispatchSortableEvent,f=e.hideGhostForTarget,v=e.unhideGhostForTarget;if(n){var x=s||l;f();var w=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,E=document.elementFromPoint(w.clientX,w.clientY);v(),x&&!x.el.contains(E)&&(h("spill"),this.onSpill({dragEl:u,putSortable:s}))}};function Jp(){}Jp.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var u=Zf(this.sortable.el,this.startIndex,this.options);u?this.sortable.el.insertBefore(n,u):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:Sb};ba(Jp,{pluginName:"revertOnSpill"});function em(){}em.prototype={onSpill:function(e){var n=e.dragEl,s=e.putSortable,u=s||this.sortable;u.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),u.animateAll()},drop:Sb};ba(em,{pluginName:"removeOnSpill"});var ga;function qS(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var s=n.dragEl;ga=s},dragOverValid:function(n){var s=n.completed,u=n.target,l=n.onMove,h=n.activeSortable,f=n.changed,v=n.cancel;if(h.options.swap){var x=this.sortable.el,w=this.options;if(u&&u!==x){var E=ga;l(u)!==!1?(Fn(u,w.swapClass,!0),ga=u):ga=null,E&&E!==ga&&Fn(E,w.swapClass,!1)}f(),s(!0),v()}},drop:function(n){var s=n.activeSortable,u=n.putSortable,l=n.dragEl,h=u||this.sortable,f=this.options;ga&&Fn(ga,f.swapClass,!1),ga&&(f.swap||u&&u.options.swap)&&l!==ga&&(h.captureAnimationState(),h!==s&&s.captureAnimationState(),jS(l,ga),h.animateAll(),h!==s&&s.animateAll())},nulling:function(){ga=null}},ba(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ga}}})}function jS(t,e){var n=t.parentNode,s=e.parentNode,u,l;!n||!s||n.isEqualNode(e)||s.isEqualNode(t)||(u=qn(t),l=qn(e),n.isEqualNode(s)&&u<l&&l++,n.insertBefore(e,n.children[u]),s.insertBefore(t,s.children[l]))}var di=[],jo=[],Yc,Ra,Gc=!1,qo=!1,Ql=!1,cn,Xc,xf;function US(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Mi(document,"pointerup",this._deselectMultiDrag):(Mi(document,"mouseup",this._deselectMultiDrag),Mi(document,"touchend",this._deselectMultiDrag)),Mi(document,"keydown",this._checkKeyDown),Mi(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(u,l){var h="";di.length&&Ra===e?di.forEach(function(f,v){h+=(v?", ":"")+f.textContent}):h=l.textContent,u.setData("Text",h)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var s=n.dragEl;cn=s},delayEnded:function(){this.isMultiDrag=~di.indexOf(cn)},setupClone:function(n){var s=n.sortable,u=n.cancel;if(this.isMultiDrag){for(var l=0;l<di.length;l++)jo.push(Qp(di[l])),jo[l].sortableIndex=di[l].sortableIndex,jo[l].draggable=!1,jo[l].style["will-change"]="",Fn(jo[l],this.options.selectedClass,!1),di[l]===cn&&Fn(jo[l],this.options.chosenClass,!1);s._hideClone(),u()}},clone:function(n){var s=n.sortable,u=n.rootEl,l=n.dispatchSortableEvent,h=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||di.length&&Ra===s&&(e0(!0,u),l("clone"),h()))},showClone:function(n){var s=n.cloneNowShown,u=n.rootEl,l=n.cancel;this.isMultiDrag&&(e0(!1,u),jo.forEach(function(h){Ht(h,"display","")}),s(),xf=!1,l())},hideClone:function(n){var s=this;n.sortable;var u=n.cloneNowHidden,l=n.cancel;this.isMultiDrag&&(jo.forEach(function(h){Ht(h,"display","none"),s.options.removeCloneOnHide&&h.parentNode&&h.parentNode.removeChild(h)}),u(),xf=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Ra&&Ra.multiDrag._deselectMultiDrag(),di.forEach(function(s){s.sortableIndex=qn(s)}),di=di.sort(function(s,u){return s.sortableIndex-u.sortableIndex}),Ql=!0},dragStarted:function(n){var s=this,u=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(u.captureAnimationState(),this.options.animation)){di.forEach(function(h){h!==cn&&Ht(h,"position","absolute")});var l=jn(cn,!1,!0,!0);di.forEach(function(h){h!==cn&&Zg(h,l)}),qo=!0,Gc=!0}u.animateAll(function(){qo=!1,Gc=!1,s.options.animation&&di.forEach(function(h){rp(h)}),s.options.sort&&kf()})}},dragOver:function(n){var s=n.target,u=n.completed,l=n.cancel;qo&&~di.indexOf(s)&&(u(!1),l())},revert:function(n){var s=n.fromSortable,u=n.rootEl,l=n.sortable,h=n.dragRect;di.length>1&&(di.forEach(function(f){l.addAnimationState({target:f,rect:qo?jn(f):h}),rp(f),f.fromRect=h,s.removeAnimationState(f)}),qo=!1,YS(!this.options.removeCloneOnHide,u))},dragOverCompleted:function(n){var s=n.sortable,u=n.isOwner,l=n.insertion,h=n.activeSortable,f=n.parentEl,v=n.putSortable,x=this.options;if(l){if(u&&h._hideClone(),Gc=!1,x.animation&&di.length>1&&(qo||!u&&!h.options.sort&&!v)){var w=jn(cn,!1,!0,!0);di.forEach(function(O){O!==cn&&(Zg(O,w),f.appendChild(O))}),qo=!0}if(!u)if(qo||kf(),di.length>1){var E=xf;h._showClone(s),h.options.animation&&!xf&&E&&jo.forEach(function(O){h.addAnimationState({target:O,rect:Xc}),O.fromRect=Xc,O.thisAnimationDuration=null})}else h._showClone(s)}},dragOverAnimationCapture:function(n){var s=n.dragRect,u=n.isOwner,l=n.activeSortable;if(di.forEach(function(f){f.thisAnimationDuration=null}),l.options.animation&&!u&&l.multiDrag.isMultiDrag){Xc=ba({},s);var h=ml(cn,!0);Xc.top-=h.f,Xc.left-=h.e}},dragOverAnimationComplete:function(){qo&&(qo=!1,kf())},drop:function(n){var s=n.originalEvent,u=n.rootEl,l=n.parentEl,h=n.sortable,f=n.dispatchSortableEvent,v=n.oldIndex,x=n.putSortable,w=x||this.sortable;if(s){var E=this.options,O=l.children;if(!Ql)if(E.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Fn(cn,E.selectedClass,!~di.indexOf(cn)),~di.indexOf(cn))di.splice(di.indexOf(cn),1),Yc=null,th({sortable:h,rootEl:u,name:"deselect",targetEl:cn});else{if(di.push(cn),th({sortable:h,rootEl:u,name:"select",targetEl:cn}),s.shiftKey&&Yc&&h.el.contains(Yc)){var H=qn(Yc),F=qn(cn);if(~H&&~F&&H!==F){var j,q;for(F>H?(q=H,j=F):(q=F,j=H+1);q<j;q++)~di.indexOf(O[q])||(Fn(O[q],E.selectedClass,!0),di.push(O[q]),th({sortable:h,rootEl:u,name:"select",targetEl:O[q]}))}}else Yc=cn;Ra=w}if(Ql&&this.isMultiDrag){if((l[Qr].options.sort||l!==u)&&di.length>1){var M=jn(cn),S=qn(cn,":not(."+this.options.selectedClass+")");if(!Gc&&E.animation&&(cn.thisAnimationDuration=null),w.captureAnimationState(),!Gc&&(E.animation&&(cn.fromRect=M,di.forEach(function(B){if(B.thisAnimationDuration=null,B!==cn){var I=qo?jn(B):M;B.fromRect=I,w.addAnimationState({target:B,rect:I})}})),kf(),di.forEach(function(B){O[S]?l.insertBefore(B,O[S]):l.appendChild(B),S++}),v===qn(cn))){var D=!1;di.forEach(function(B){if(B.sortableIndex!==qn(B)){D=!0;return}}),D&&f("update")}di.forEach(function(B){rp(B)}),w.animateAll()}Ra=w}(u===l||x&&x.lastPutMode!=="clone")&&jo.forEach(function(B){B.parentNode&&B.parentNode.removeChild(B)})}},nullingGlobal:function(){this.isMultiDrag=Ql=!1,jo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ti(document,"pointerup",this._deselectMultiDrag),Ti(document,"mouseup",this._deselectMultiDrag),Ti(document,"touchend",this._deselectMultiDrag),Ti(document,"keydown",this._checkKeyDown),Ti(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Ql<"u"&&Ql)&&Ra===this.sortable&&!(n&&Fa(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;di.length;){var s=di[0];Fn(s,this.options.selectedClass,!1),di.shift(),th({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ba(t,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[Qr];!s||!s.options.multiDrag||~di.indexOf(n)||(Ra&&Ra!==s&&(Ra.multiDrag._deselectMultiDrag(),Ra=s),Fn(n,s.options.selectedClass,!0),di.push(n))},deselect:function(n){var s=n.parentNode[Qr],u=di.indexOf(n);!s||!s.options.multiDrag||!~u||(Fn(n,s.options.selectedClass,!1),di.splice(u,1))}},eventProperties:function(){var n=this,s=[],u=[];return di.forEach(function(l){s.push({multiDragElement:l,index:l.sortableIndex});var h;qo&&l!==cn?h=-1:qo?h=qn(l,":not(."+n.options.selectedClass+")"):h=qn(l),u.push({multiDragElement:l,index:h})}),{items:bS(di),clones:[].concat(jo),oldIndicies:s,newIndicies:u}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function YS(t,e){di.forEach(function(n,s){var u=e.children[n.sortableIndex+(t?Number(s):0)];u?e.insertBefore(n,u):e.appendChild(n)})}function e0(t,e){jo.forEach(function(n,s){var u=e.children[n.sortableIndex+(t?Number(s):0)];u?e.insertBefore(n,u):e.appendChild(n)})}function kf(){di.forEach(function(t){t!==cn&&t.parentNode&&t.parentNode.removeChild(t)})}ii.mount(new WS);ii.mount(em,Jp);const GS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:US,Sortable:ii,Swap:qS,default:ii},Symbol.toStringTag,{value:"Module"})),XS=F0(GS);var ZS=Pf.exports,t0;function VS(){return t0||(t0=1,function(t,e){(function(s,u){t.exports=u(XS)})(typeof self<"u"?self:ZS,function(n){return function(s){var u={};function l(h){if(u[h])return u[h].exports;var f=u[h]={i:h,l:!1,exports:{}};return s[h].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=s,l.c=u,l.d=function(h,f,v){l.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:v})},l.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,f){if(f&1&&(h=l(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var v=Object.create(null);if(l.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var x in h)l.d(v,x,(function(w){return h[w]}).bind(null,x));return v},l.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(f,"a",f),f},l.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},l.p="",l(l.s="fb15")}({"01f9":function(s,u,l){var h=l("2d00"),f=l("5ca1"),v=l("2aba"),x=l("32e9"),w=l("84f2"),E=l("41a0"),O=l("7f20"),H=l("38fd"),F=l("2b4c")("iterator"),j=!([].keys&&"next"in[].keys()),q="@@iterator",M="keys",S="values",D=function(){return this};s.exports=function(B,I,V,ne,ue,de,ge){E(V,I,ne);var he=function(Y){if(!j&&Y in P)return P[Y];switch(Y){case M:return function(){return new V(this,Y)};case S:return function(){return new V(this,Y)}}return function(){return new V(this,Y)}},Le=I+" Iterator",ve=ue==S,re=!1,P=B.prototype,se=P[F]||P[q]||ue&&P[ue],ye=se||he(ue),Ee=ue?ve?he("entries"):ye:void 0,it=I=="Array"&&P.entries||se,Be,Me,te;if(it&&(te=H(it.call(new B)),te!==Object.prototype&&te.next&&(O(te,Le,!0),!h&&typeof te[F]!="function"&&x(te,F,D))),ve&&se&&se.name!==S&&(re=!0,ye=function(){return se.call(this)}),(!h||ge)&&(j||re||!P[F])&&x(P,F,ye),w[I]=ye,w[Le]=D,ue)if(Be={values:ve?ye:he(S),keys:de?ye:he(M),entries:Ee},ge)for(Me in Be)Me in P||v(P,Me,Be[Me]);else f(f.P+f.F*(j||re),I,Be);return Be}},"02f4":function(s,u,l){var h=l("4588"),f=l("be13");s.exports=function(v){return function(x,w){var E=String(f(x)),O=h(w),H=E.length,F,j;return O<0||O>=H?v?"":void 0:(F=E.charCodeAt(O),F<55296||F>56319||O+1===H||(j=E.charCodeAt(O+1))<56320||j>57343?v?E.charAt(O):F:v?E.slice(O,O+2):(F-55296<<10)+(j-56320)+65536)}}},"0390":function(s,u,l){var h=l("02f4")(!0);s.exports=function(f,v,x){return v+(x?h(f,v).length:1)}},"0bfb":function(s,u,l){var h=l("cb7c");s.exports=function(){var f=h(this),v="";return f.global&&(v+="g"),f.ignoreCase&&(v+="i"),f.multiline&&(v+="m"),f.unicode&&(v+="u"),f.sticky&&(v+="y"),v}},"0d58":function(s,u,l){var h=l("ce10"),f=l("e11e");s.exports=Object.keys||function(x){return h(x,f)}},1495:function(s,u,l){var h=l("86cc"),f=l("cb7c"),v=l("0d58");s.exports=l("9e1e")?Object.defineProperties:function(w,E){f(w);for(var O=v(E),H=O.length,F=0,j;H>F;)h.f(w,j=O[F++],E[j]);return w}},"214f":function(s,u,l){l("b0c5");var h=l("2aba"),f=l("32e9"),v=l("79e5"),x=l("be13"),w=l("2b4c"),E=l("520a"),O=w("species"),H=!v(function(){var j=/./;return j.exec=function(){var q=[];return q.groups={a:"7"},q},"".replace(j,"$<a>")!=="7"}),F=function(){var j=/(?:)/,q=j.exec;j.exec=function(){return q.apply(this,arguments)};var M="ab".split(j);return M.length===2&&M[0]==="a"&&M[1]==="b"}();s.exports=function(j,q,M){var S=w(j),D=!v(function(){var de={};return de[S]=function(){return 7},""[j](de)!=7}),B=D?!v(function(){var de=!1,ge=/a/;return ge.exec=function(){return de=!0,null},j==="split"&&(ge.constructor={},ge.constructor[O]=function(){return ge}),ge[S](""),!de}):void 0;if(!D||!B||j==="replace"&&!H||j==="split"&&!F){var I=/./[S],V=M(x,S,""[j],function(ge,he,Le,ve,re){return he.exec===E?D&&!re?{done:!0,value:I.call(he,Le,ve)}:{done:!0,value:ge.call(Le,he,ve)}:{done:!1}}),ne=V[0],ue=V[1];h(String.prototype,j,ne),f(RegExp.prototype,S,q==2?function(de,ge){return ue.call(de,this,ge)}:function(de){return ue.call(de,this)})}}},"230e":function(s,u,l){var h=l("d3f4"),f=l("7726").document,v=h(f)&&h(f.createElement);s.exports=function(x){return v?f.createElement(x):{}}},"23c6":function(s,u,l){var h=l("2d95"),f=l("2b4c")("toStringTag"),v=h(function(){return arguments}())=="Arguments",x=function(w,E){try{return w[E]}catch{}};s.exports=function(w){var E,O,H;return w===void 0?"Undefined":w===null?"Null":typeof(O=x(E=Object(w),f))=="string"?O:v?h(E):(H=h(E))=="Object"&&typeof E.callee=="function"?"Arguments":H}},2621:function(s,u){u.f=Object.getOwnPropertySymbols},"2aba":function(s,u,l){var h=l("7726"),f=l("32e9"),v=l("69a8"),x=l("ca5a")("src"),w=l("fa5b"),E="toString",O=(""+w).split(E);l("8378").inspectSource=function(H){return w.call(H)},(s.exports=function(H,F,j,q){var M=typeof j=="function";M&&(v(j,"name")||f(j,"name",F)),H[F]!==j&&(M&&(v(j,x)||f(j,x,H[F]?""+H[F]:O.join(String(F)))),H===h?H[F]=j:q?H[F]?H[F]=j:f(H,F,j):(delete H[F],f(H,F,j)))})(Function.prototype,E,function(){return typeof this=="function"&&this[x]||w.call(this)})},"2aeb":function(s,u,l){var h=l("cb7c"),f=l("1495"),v=l("e11e"),x=l("613b")("IE_PROTO"),w=function(){},E="prototype",O=function(){var H=l("230e")("iframe"),F=v.length,j="<",q=">",M;for(H.style.display="none",l("fab2").appendChild(H),H.src="javascript:",M=H.contentWindow.document,M.open(),M.write(j+"script"+q+"document.F=Object"+j+"/script"+q),M.close(),O=M.F;F--;)delete O[E][v[F]];return O()};s.exports=Object.create||function(F,j){var q;return F!==null?(w[E]=h(F),q=new w,w[E]=null,q[x]=F):q=O(),j===void 0?q:f(q,j)}},"2b4c":function(s,u,l){var h=l("5537")("wks"),f=l("ca5a"),v=l("7726").Symbol,x=typeof v=="function",w=s.exports=function(E){return h[E]||(h[E]=x&&v[E]||(x?v:f)("Symbol."+E))};w.store=h},"2d00":function(s,u){s.exports=!1},"2d95":function(s,u){var l={}.toString;s.exports=function(h){return l.call(h).slice(8,-1)}},"2fdb":function(s,u,l){var h=l("5ca1"),f=l("d2c8"),v="includes";h(h.P+h.F*l("5147")(v),"String",{includes:function(w){return!!~f(this,w,v).indexOf(w,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(s,u,l){var h=l("86cc"),f=l("4630");s.exports=l("9e1e")?function(v,x,w){return h.f(v,x,f(1,w))}:function(v,x,w){return v[x]=w,v}},"38fd":function(s,u,l){var h=l("69a8"),f=l("4bf8"),v=l("613b")("IE_PROTO"),x=Object.prototype;s.exports=Object.getPrototypeOf||function(w){return w=f(w),h(w,v)?w[v]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?x:null}},"41a0":function(s,u,l){var h=l("2aeb"),f=l("4630"),v=l("7f20"),x={};l("32e9")(x,l("2b4c")("iterator"),function(){return this}),s.exports=function(w,E,O){w.prototype=h(x,{next:f(1,O)}),v(w,E+" Iterator")}},"456d":function(s,u,l){var h=l("4bf8"),f=l("0d58");l("5eda")("keys",function(){return function(x){return f(h(x))}})},4588:function(s,u){var l=Math.ceil,h=Math.floor;s.exports=function(f){return isNaN(f=+f)?0:(f>0?h:l)(f)}},4630:function(s,u){s.exports=function(l,h){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:h}}},"4bf8":function(s,u,l){var h=l("be13");s.exports=function(f){return Object(h(f))}},5147:function(s,u,l){var h=l("2b4c")("match");s.exports=function(f){var v=/./;try{"/./"[f](v)}catch{try{return v[h]=!1,!"/./"[f](v)}catch{}}return!0}},"520a":function(s,u,l){var h=l("0bfb"),f=RegExp.prototype.exec,v=String.prototype.replace,x=f,w="lastIndex",E=function(){var F=/a/,j=/b*/g;return f.call(F,"a"),f.call(j,"a"),F[w]!==0||j[w]!==0}(),O=/()??/.exec("")[1]!==void 0,H=E||O;H&&(x=function(j){var q=this,M,S,D,B;return O&&(S=new RegExp("^"+q.source+"$(?!\\s)",h.call(q))),E&&(M=q[w]),D=f.call(q,j),E&&D&&(q[w]=q.global?D.index+D[0].length:M),O&&D&&D.length>1&&v.call(D[0],S,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(D[B]=void 0)}),D}),s.exports=x},"52a7":function(s,u){u.f={}.propertyIsEnumerable},5537:function(s,u,l){var h=l("8378"),f=l("7726"),v="__core-js_shared__",x=f[v]||(f[v]={});(s.exports=function(w,E){return x[w]||(x[w]=E!==void 0?E:{})})("versions",[]).push({version:h.version,mode:l("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(s,u,l){var h=l("7726"),f=l("8378"),v=l("32e9"),x=l("2aba"),w=l("9b43"),E="prototype",O=function(H,F,j){var q=H&O.F,M=H&O.G,S=H&O.S,D=H&O.P,B=H&O.B,I=M?h:S?h[F]||(h[F]={}):(h[F]||{})[E],V=M?f:f[F]||(f[F]={}),ne=V[E]||(V[E]={}),ue,de,ge,he;M&&(j=F);for(ue in j)de=!q&&I&&I[ue]!==void 0,ge=(de?I:j)[ue],he=B&&de?w(ge,h):D&&typeof ge=="function"?w(Function.call,ge):ge,I&&x(I,ue,ge,H&O.U),V[ue]!=ge&&v(V,ue,he),D&&ne[ue]!=ge&&(ne[ue]=ge)};h.core=f,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128,s.exports=O},"5eda":function(s,u,l){var h=l("5ca1"),f=l("8378"),v=l("79e5");s.exports=function(x,w){var E=(f.Object||{})[x]||Object[x],O={};O[x]=w(E),h(h.S+h.F*v(function(){E(1)}),"Object",O)}},"5f1b":function(s,u,l){var h=l("23c6"),f=RegExp.prototype.exec;s.exports=function(v,x){var w=v.exec;if(typeof w=="function"){var E=w.call(v,x);if(typeof E!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return E}if(h(v)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return f.call(v,x)}},"613b":function(s,u,l){var h=l("5537")("keys"),f=l("ca5a");s.exports=function(v){return h[v]||(h[v]=f(v))}},"626a":function(s,u,l){var h=l("2d95");s.exports=Object("z").propertyIsEnumerable(0)?Object:function(f){return h(f)=="String"?f.split(""):Object(f)}},6762:function(s,u,l){var h=l("5ca1"),f=l("c366")(!0);h(h.P,"Array",{includes:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),l("9c6c")("includes")},6821:function(s,u,l){var h=l("626a"),f=l("be13");s.exports=function(v){return h(f(v))}},"69a8":function(s,u){var l={}.hasOwnProperty;s.exports=function(h,f){return l.call(h,f)}},"6a99":function(s,u,l){var h=l("d3f4");s.exports=function(f,v){if(!h(f))return f;var x,w;if(v&&typeof(x=f.toString)=="function"&&!h(w=x.call(f))||typeof(x=f.valueOf)=="function"&&!h(w=x.call(f))||!v&&typeof(x=f.toString)=="function"&&!h(w=x.call(f)))return w;throw TypeError("Can't convert object to primitive value")}},7333:function(s,u,l){var h=l("0d58"),f=l("2621"),v=l("52a7"),x=l("4bf8"),w=l("626a"),E=Object.assign;s.exports=!E||l("79e5")(function(){var O={},H={},F=Symbol(),j="abcdefghijklmnopqrst";return O[F]=7,j.split("").forEach(function(q){H[q]=q}),E({},O)[F]!=7||Object.keys(E({},H)).join("")!=j})?function(H,F){for(var j=x(H),q=arguments.length,M=1,S=f.f,D=v.f;q>M;)for(var B=w(arguments[M++]),I=S?h(B).concat(S(B)):h(B),V=I.length,ne=0,ue;V>ne;)D.call(B,ue=I[ne++])&&(j[ue]=B[ue]);return j}:E},7726:function(s,u){var l=s.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=l)},"77f1":function(s,u,l){var h=l("4588"),f=Math.max,v=Math.min;s.exports=function(x,w){return x=h(x),x<0?f(x+w,0):v(x,w)}},"79e5":function(s,u){s.exports=function(l){try{return!!l()}catch{return!0}}},"7f20":function(s,u,l){var h=l("86cc").f,f=l("69a8"),v=l("2b4c")("toStringTag");s.exports=function(x,w,E){x&&!f(x=E?x:x.prototype,v)&&h(x,v,{configurable:!0,value:w})}},8378:function(s,u){var l=s.exports={version:"2.6.5"};typeof __e=="number"&&(__e=l)},"84f2":function(s,u){s.exports={}},"86cc":function(s,u,l){var h=l("cb7c"),f=l("c69a"),v=l("6a99"),x=Object.defineProperty;u.f=l("9e1e")?Object.defineProperty:function(E,O,H){if(h(E),O=v(O,!0),h(H),f)try{return x(E,O,H)}catch{}if("get"in H||"set"in H)throw TypeError("Accessors not supported!");return"value"in H&&(E[O]=H.value),E}},"9b43":function(s,u,l){var h=l("d8e8");s.exports=function(f,v,x){if(h(f),v===void 0)return f;switch(x){case 1:return function(w){return f.call(v,w)};case 2:return function(w,E){return f.call(v,w,E)};case 3:return function(w,E,O){return f.call(v,w,E,O)}}return function(){return f.apply(v,arguments)}}},"9c6c":function(s,u,l){var h=l("2b4c")("unscopables"),f=Array.prototype;f[h]==null&&l("32e9")(f,h,{}),s.exports=function(v){f[h][v]=!0}},"9def":function(s,u,l){var h=l("4588"),f=Math.min;s.exports=function(v){return v>0?f(h(v),9007199254740991):0}},"9e1e":function(s,u,l){s.exports=!l("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(s,u){s.exports=n},a481:function(s,u,l){var h=l("cb7c"),f=l("4bf8"),v=l("9def"),x=l("4588"),w=l("0390"),E=l("5f1b"),O=Math.max,H=Math.min,F=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,q=/\$([$&`']|\d\d?)/g,M=function(S){return S===void 0?S:String(S)};l("214f")("replace",2,function(S,D,B,I){return[function(ue,de){var ge=S(this),he=ue==null?void 0:ue[D];return he!==void 0?he.call(ue,ge,de):B.call(String(ge),ue,de)},function(ne,ue){var de=I(B,ne,this,ue);if(de.done)return de.value;var ge=h(ne),he=String(this),Le=typeof ue=="function";Le||(ue=String(ue));var ve=ge.global;if(ve){var re=ge.unicode;ge.lastIndex=0}for(var P=[];;){var se=E(ge,he);if(se===null||(P.push(se),!ve))break;var ye=String(se[0]);ye===""&&(ge.lastIndex=w(he,v(ge.lastIndex),re))}for(var Ee="",it=0,Be=0;Be<P.length;Be++){se=P[Be];for(var Me=String(se[0]),te=O(H(x(se.index),he.length),0),Y=[],De=1;De<se.length;De++)Y.push(M(se[De]));var Fe=se.groups;if(Le){var Z=[Me].concat(Y,te,he);Fe!==void 0&&Z.push(Fe);var we=String(ue.apply(void 0,Z))}else we=V(Me,he,te,Y,Fe,ue);te>=it&&(Ee+=he.slice(it,te)+we,it=te+Me.length)}return Ee+he.slice(it)}];function V(ne,ue,de,ge,he,Le){var ve=de+ne.length,re=ge.length,P=q;return he!==void 0&&(he=f(he),P=j),B.call(Le,P,function(se,ye){var Ee;switch(ye.charAt(0)){case"$":return"$";case"&":return ne;case"`":return ue.slice(0,de);case"'":return ue.slice(ve);case"<":Ee=he[ye.slice(1,-1)];break;default:var it=+ye;if(it===0)return se;if(it>re){var Be=F(it/10);return Be===0?se:Be<=re?ge[Be-1]===void 0?ye.charAt(1):ge[Be-1]+ye.charAt(1):se}Ee=ge[it-1]}return Ee===void 0?"":Ee})}})},aae3:function(s,u,l){var h=l("d3f4"),f=l("2d95"),v=l("2b4c")("match");s.exports=function(x){var w;return h(x)&&((w=x[v])!==void 0?!!w:f(x)=="RegExp")}},ac6a:function(s,u,l){for(var h=l("cadf"),f=l("0d58"),v=l("2aba"),x=l("7726"),w=l("32e9"),E=l("84f2"),O=l("2b4c"),H=O("iterator"),F=O("toStringTag"),j=E.Array,q={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},M=f(q),S=0;S<M.length;S++){var D=M[S],B=q[D],I=x[D],V=I&&I.prototype,ne;if(V&&(V[H]||w(V,H,j),V[F]||w(V,F,D),E[D]=j,B))for(ne in h)V[ne]||v(V,ne,h[ne],!0)}},b0c5:function(s,u,l){var h=l("520a");l("5ca1")({target:"RegExp",proto:!0,forced:h!==/./.exec},{exec:h})},be13:function(s,u){s.exports=function(l){if(l==null)throw TypeError("Can't call method on  "+l);return l}},c366:function(s,u,l){var h=l("6821"),f=l("9def"),v=l("77f1");s.exports=function(x){return function(w,E,O){var H=h(w),F=f(H.length),j=v(O,F),q;if(x&&E!=E){for(;F>j;)if(q=H[j++],q!=q)return!0}else for(;F>j;j++)if((x||j in H)&&H[j]===E)return x||j||0;return!x&&-1}}},c649:function(s,u,l){(function(h){l.d(u,"c",function(){return H}),l.d(u,"a",function(){return E}),l.d(u,"b",function(){return v}),l.d(u,"d",function(){return O}),l("a481");function f(){return typeof window<"u"?window.console:h.console}var v=f();function x(F){var j=Object.create(null);return function(M){var S=j[M];return S||(j[M]=F(M))}}var w=/-(\w)/g,E=x(function(F){return F.replace(w,function(j,q){return q?q.toUpperCase():""})});function O(F){F.parentElement!==null&&F.parentElement.removeChild(F)}function H(F,j,q){var M=q===0?F.children[0]:F.children[q-1].nextSibling;F.insertBefore(j,M)}}).call(this,l("c8ba"))},c69a:function(s,u,l){s.exports=!l("9e1e")&&!l("79e5")(function(){return Object.defineProperty(l("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(s,u){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}s.exports=l},ca5a:function(s,u){var l=0,h=Math.random();s.exports=function(f){return"Symbol(".concat(f===void 0?"":f,")_",(++l+h).toString(36))}},cadf:function(s,u,l){var h=l("9c6c"),f=l("d53b"),v=l("84f2"),x=l("6821");s.exports=l("01f9")(Array,"Array",function(w,E){this._t=x(w),this._i=0,this._k=E},function(){var w=this._t,E=this._k,O=this._i++;return!w||O>=w.length?(this._t=void 0,f(1)):E=="keys"?f(0,O):E=="values"?f(0,w[O]):f(0,[O,w[O]])},"values"),v.Arguments=v.Array,h("keys"),h("values"),h("entries")},cb7c:function(s,u,l){var h=l("d3f4");s.exports=function(f){if(!h(f))throw TypeError(f+" is not an object!");return f}},ce10:function(s,u,l){var h=l("69a8"),f=l("6821"),v=l("c366")(!1),x=l("613b")("IE_PROTO");s.exports=function(w,E){var O=f(w),H=0,F=[],j;for(j in O)j!=x&&h(O,j)&&F.push(j);for(;E.length>H;)h(O,j=E[H++])&&(~v(F,j)||F.push(j));return F}},d2c8:function(s,u,l){var h=l("aae3"),f=l("be13");s.exports=function(v,x,w){if(h(x))throw TypeError("String#"+w+" doesn't accept regex!");return String(f(v))}},d3f4:function(s,u){s.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},d53b:function(s,u){s.exports=function(l,h){return{value:h,done:!!l}}},d8e8:function(s,u){s.exports=function(l){if(typeof l!="function")throw TypeError(l+" is not a function!");return l}},e11e:function(s,u){s.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(s,u,l){var h=l("5ca1"),f=l("9def"),v=l("d2c8"),x="startsWith",w=""[x];h(h.P+h.F*l("5147")(x),"String",{startsWith:function(O){var H=v(this,O,x),F=f(Math.min(arguments.length>1?arguments[1]:void 0,H.length)),j=String(O);return w?w.call(H,j,F):H.slice(F,F+j.length)===j}})},f6fd:function(s,u){(function(l){var h="currentScript",f=l.getElementsByTagName("script");h in l||Object.defineProperty(l,h,{get:function(){try{throw new Error}catch(w){var v,x=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(w.stack)||[!1])[1];for(v in f)if(f[v].src==x||f[v].readyState=="interactive")return f[v];return null}}})})(document)},f751:function(s,u,l){var h=l("5ca1");h(h.S+h.F,"Object",{assign:l("7333")})},fa5b:function(s,u,l){s.exports=l("5537")("native-function-to-string",Function.toString)},fab2:function(s,u,l){var h=l("7726").document;s.exports=h&&h.documentElement},fb15:function(s,u,l){if(l.r(u),typeof window<"u"){l("f6fd");var h;(h=window.document.currentScript)&&(h=h.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(l.p=h[1])}l("f751"),l("f559"),l("ac6a"),l("cadf"),l("456d");function f(Me){if(Array.isArray(Me))return Me}function v(Me,te){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Me)))){var Y=[],De=!0,Fe=!1,Z=void 0;try{for(var we=Me[Symbol.iterator](),Te;!(De=(Te=we.next()).done)&&(Y.push(Te.value),!(te&&Y.length===te));De=!0);}catch(qe){Fe=!0,Z=qe}finally{try{!De&&we.return!=null&&we.return()}finally{if(Fe)throw Z}}return Y}}function x(Me,te){(te==null||te>Me.length)&&(te=Me.length);for(var Y=0,De=new Array(te);Y<te;Y++)De[Y]=Me[Y];return De}function w(Me,te){if(Me){if(typeof Me=="string")return x(Me,te);var Y=Object.prototype.toString.call(Me).slice(8,-1);if(Y==="Object"&&Me.constructor&&(Y=Me.constructor.name),Y==="Map"||Y==="Set")return Array.from(Me);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return x(Me,te)}}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(Me,te){return f(Me)||v(Me,te)||w(Me,te)||E()}l("6762"),l("2fdb");function H(Me){if(Array.isArray(Me))return x(Me)}function F(Me){if(typeof Symbol<"u"&&Symbol.iterator in Object(Me))return Array.from(Me)}function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(Me){return H(Me)||F(Me)||w(Me)||j()}var M=l("a352"),S=l.n(M),D=l("c649");function B(Me,te,Y){return Y===void 0||(Me=Me||{},Me[te]=Y),Me}function I(Me,te){return Me.map(function(Y){return Y.elm}).indexOf(te)}function V(Me,te,Y,De){if(!Me)return[];var Fe=Me.map(function(Te){return Te.elm}),Z=te.length-De,we=q(te).map(function(Te,qe){return qe>=Z?Fe.length:Fe.indexOf(Te)});return Y?we.filter(function(Te){return Te!==-1}):we}function ne(Me,te){var Y=this;this.$nextTick(function(){return Y.$emit(Me.toLowerCase(),te)})}function ue(Me){var te=this;return function(Y){te.realList!==null&&te["onDrag"+Me](Y),ne.call(te,Me,Y)}}function de(Me){return["transition-group","TransitionGroup"].includes(Me)}function ge(Me){if(!Me||Me.length!==1)return!1;var te=O(Me,1),Y=te[0].componentOptions;return Y?de(Y.tag):!1}function he(Me,te,Y){return Me[Y]||(te[Y]?te[Y]():void 0)}function Le(Me,te,Y){var De=0,Fe=0,Z=he(te,Y,"header");Z&&(De=Z.length,Me=Me?[].concat(q(Z),q(Me)):q(Z));var we=he(te,Y,"footer");return we&&(Fe=we.length,Me=Me?[].concat(q(Me),q(we)):q(we)),{children:Me,headerOffset:De,footerOffset:Fe}}function ve(Me,te){var Y=null,De=function(Xe,Ze){Y=B(Y,Xe,Ze)},Fe=Object.keys(Me).filter(function(qe){return qe==="id"||qe.startsWith("data-")}).reduce(function(qe,Xe){return qe[Xe]=Me[Xe],qe},{});if(De("attrs",Fe),!te)return Y;var Z=te.on,we=te.props,Te=te.attrs;return De("on",Z),De("props",we),Object.assign(Y.attrs,Te),Y}var re=["Start","Add","Remove","Update","End"],P=["Choose","Unchoose","Sort","Filter","Clone"],se=["Move"].concat(re,P).map(function(Me){return"on"+Me}),ye=null,Ee={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(te){return te}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},it={name:"draggable",inheritAttrs:!1,props:Ee,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(te){var Y=this.$slots.default;this.transitionMode=ge(Y);var De=Le(Y,this.$slots,this.$scopedSlots),Fe=De.children,Z=De.headerOffset,we=De.footerOffset;this.headerOffset=Z,this.footerOffset=we;var Te=ve(this.$attrs,this.componentData);return te(this.getTag(),Te,Fe)},created:function(){this.list!==null&&this.value!==null&&D.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&D.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&D.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var te=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var Y={};re.forEach(function(Z){Y["on"+Z]=ue.call(te,Z)}),P.forEach(function(Z){Y["on"+Z]=ne.bind(te,Z)});var De=Object.keys(this.$attrs).reduce(function(Z,we){return Z[Object(D.a)(we)]=te.$attrs[we],Z},{}),Fe=Object.assign({},this.options,De,Y,{onMove:function(we,Te){return te.onDragMove(we,Te)}});!("draggable"in Fe)&&(Fe.draggable=">*"),this._sortable=new S.a(this.rootContainer,Fe),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(te){this.updateOptions(te)},deep:!0},$attrs:{handler:function(te){this.updateOptions(te)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var te=this._vnode.fnOptions;return te&&te.functional},getTag:function(){return this.tag||this.element},updateOptions:function(te){for(var Y in te){var De=Object(D.a)(Y);se.indexOf(De)===-1&&this._sortable.option(De,te[Y])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var te=this.$slots.default;return this.transitionMode?te[0].child.$slots.default:te},computeIndexes:function(){var te=this;this.$nextTick(function(){te.visibleIndexes=V(te.getChildrenNodes(),te.rootContainer.children,te.transitionMode,te.footerOffset)})},getUnderlyingVm:function(te){var Y=I(this.getChildrenNodes()||[],te);if(Y===-1)return null;var De=this.realList[Y];return{index:Y,element:De}},getUnderlyingPotencialDraggableComponent:function(te){var Y=te.__vue__;return!Y||!Y.$options||!de(Y.$options._componentTag)?!("realList"in Y)&&Y.$children.length===1&&"realList"in Y.$children[0]?Y.$children[0]:Y:Y.$parent},emitChanges:function(te){var Y=this;this.$nextTick(function(){Y.$emit("change",te)})},alterList:function(te){if(this.list){te(this.list);return}var Y=q(this.value);te(Y),this.$emit("input",Y)},spliceList:function(){var te=arguments,Y=function(Fe){return Fe.splice.apply(Fe,q(te))};this.alterList(Y)},updatePosition:function(te,Y){var De=function(Z){return Z.splice(Y,0,Z.splice(te,1)[0])};this.alterList(De)},getRelatedContextFromMoveEvent:function(te){var Y=te.to,De=te.related,Fe=this.getUnderlyingPotencialDraggableComponent(Y);if(!Fe)return{component:Fe};var Z=Fe.realList,we={list:Z,component:Fe};if(Y!==De&&Z&&Fe.getUnderlyingVm){var Te=Fe.getUnderlyingVm(De);if(Te)return Object.assign(Te,we)}return we},getVmIndex:function(te){var Y=this.visibleIndexes,De=Y.length;return te>De-1?De:Y[te]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(te){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var Y=this.getChildrenNodes();Y[te].data=null;var De=this.getComponent();De.children=[],De.kept=void 0}},onDragStart:function(te){this.context=this.getUnderlyingVm(te.item),te.item._underlying_vm_=this.clone(this.context.element),ye=te.item},onDragAdd:function(te){var Y=te.item._underlying_vm_;if(Y!==void 0){Object(D.d)(te.item);var De=this.getVmIndex(te.newIndex);this.spliceList(De,0,Y),this.computeIndexes();var Fe={element:Y,newIndex:De};this.emitChanges({added:Fe})}},onDragRemove:function(te){if(Object(D.c)(this.rootContainer,te.item,te.oldIndex),te.pullMode==="clone"){Object(D.d)(te.clone);return}var Y=this.context.index;this.spliceList(Y,1);var De={element:this.context.element,oldIndex:Y};this.resetTransitionData(Y),this.emitChanges({removed:De})},onDragUpdate:function(te){Object(D.d)(te.item),Object(D.c)(te.from,te.item,te.oldIndex);var Y=this.context.index,De=this.getVmIndex(te.newIndex);this.updatePosition(Y,De);var Fe={element:this.context.element,oldIndex:Y,newIndex:De};this.emitChanges({moved:Fe})},updateProperty:function(te,Y){te.hasOwnProperty(Y)&&(te[Y]+=this.headerOffset)},computeFutureIndex:function(te,Y){if(!te.element)return 0;var De=q(Y.to.children).filter(function(Te){return Te.style.display!=="none"}),Fe=De.indexOf(Y.related),Z=te.component.getVmIndex(Fe),we=De.indexOf(ye)!==-1;return we||!Y.willInsertAfter?Z:Z+1},onDragMove:function(te,Y){var De=this.move;if(!De||!this.realList)return!0;var Fe=this.getRelatedContextFromMoveEvent(te),Z=this.context,we=this.computeFutureIndex(Fe,te);Object.assign(Z,{futureIndex:we});var Te=Object.assign({},te,{relatedContext:Fe,draggedContext:Z});return De(Te,Y)},onDragEnd:function(){this.computeIndexes(),ye=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",it);var Be=it;u.default=Be}}).default})}(Pf)),Pf.exports}var KS=VS();const Tb=mh(KS),QS={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(t,e){this.dropzone.options[t]=e},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(t){this.dropzone.removeFile(t)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted(){if(this.$isServer)return;let t=document.getElementById(this.id);if(dl.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new dl(t,this.dropzoneOptions);else{this.dropzone=new dl(t,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:{_token:window.RozierConfig.ajaxToken,...this.headers},dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:(l,h)=>{let f;h.error?f=h.error:f="Error",l.previewElement.classList.add("dz-error");let v=l.previewElement.querySelectorAll("[data-dz-errormessage]"),x=[];for(let w=0,E=v.length;w<E;w++){let O=v[w];x.push(O.textContent=f)}return x}});const n=t;n.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.language.dictDefaultMessage}</span></div>`),n.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
                <div class="circles-icons">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <i class="uk-icon-rz-file"></i>
                </div>
            `)}const e=this;this.dropzone.on("thumbnail",function(n){e.$emit("vdropzone-thumbnail",n)}),this.dropzone.on("addedfile",function(n){e.$emit("vdropzone-file-added",n)}),this.dropzone.on("removedfile",function(n){e.$emit("vdropzone-removed-file",n)}),this.dropzone.on("success",async function(n,s){if(e.$emit("vdropzone-success",n,s),n.previewElement){let u=n.previewElement;await hc(3e3),await Ru(u,500)}}),this.dropzone.on("successmultiple",function(n,s){e.$emit("vdropzone-success-multiple",n,s)}),this.dropzone.on("error",function(n,s,u){e.$emit("vdropzone-error",n,s,u)}),this.dropzone.on("sending",function(n,s,u){e.$emit("vdropzone-sending",n,s,u),s.ontimeout=()=>{console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(n,s,u){e.$emit("vdropzone-sending-multiple",n,s,u)}),this.dropzone.on("queuecomplete",function(n,s,u){e.$emit("vdropzone-queue-complete",n,s,u)})},beforeDestroy(){this.dropzone.destroy()}};var JS=function(){var e=this,n=e._self._c;return n("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:e.url,id:e.id}})},eT=[],tT=Nn(QS,JS,eT,!1,null,null);const iT=tT.exports,nT={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null,documentEditDialog:null}),mounted(){this.drawersAddInstance(this),nc.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name");let t=this.ids,e=this.entity;t||(t=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const n=this.$refs.drawer.getAttribute("data-is-sortable"),s=this.$refs.drawer.getAttribute("data-min-length"),u=this.$refs.drawer.getAttribute("data-max-length"),l=u?parseInt(u,10):9999,h=s?parseInt(s,10):0;this.groupName=e,this.isSortable=n==="true";const f=this.$refs.drawer.getAttribute("data-nodetypes"),v=this.$refs.drawer.getAttribute("data-nodetypefield"),x=this.$refs.drawer.getAttribute("data-nodetypename"),w=this.$refs.drawer.getAttribute("data-provider-class"),E=this.$refs.drawer.getAttribute("data-locale"),O=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),H={nodeTypes:f,nodeTypeField:v,providerClass:w,providerOptions:O,nodeTypeName:x,_locale:E};this.drawersInitData({drawer:this.drawer,entity:e,ids:t,filters:H,maxLength:l,minLength:h,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...Ia({isActive:function(){let t=this.$store.getters.drawersGetById(this._uid);return t?t.isActive:!1},trans:t=>t.drawers.trans,currentListingView:t=>t.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer.items},set(t){this.$store.commit(zv,{drawer:this.drawer,newList:t})}}},methods:{...Hs(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(t){this.drawersRemoveItem({drawer:this.drawer,item:t})},addItem:function(t,e=null){this.drawersAddItem({drawer:this.drawer,item:t,newIndex:e})},showSuccess:function(t,e){this.entityName===rb?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(t,e,n){console.error(t),console.error(e),console.error(n)},onEditItem(t){const e=document.createElement("document-edit-dialog");e.setAttribute("template-path",this.$el.getAttribute("data-document-alignment-template-path")),e.setAttribute("title",t.document.classname),e.setAttribute("edit-url",t.document.editItem+"?referer="+window.location.pathname),e.setAttribute("image-path",t.document.editImageUrl),e.setAttribute("input-base-name",`${this.drawerName}[${t.index}]`),t.document.originalHotspot&&e.setAttribute("original-hotspot",JSON.stringify(t.document.originalHotspot)),document.body.appendChild(e),e.showModal()}},components:{RzButton:pS,draggable:Tb,Dropzone:iT}},rT=null,oT=null;var aT=Nn(nT,rT,oT,!1,null,null);const sT=aT.exports,uT={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}};var lT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?n("div",{staticClass:"widget-explorer-nextpage",on:{click:function(s){return s.preventDefault(),e.loadMoreItems.apply(null,arguments)}}},[e.isLoadingMore?[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner light"})])]:[n("i",{staticClass:"uk-icon-plus"}),n("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},cT=[],hT=Nn(uT,lT,cT,!1,null,null);const fT=hT.exports,dT={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}};var pT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?n("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},mT=[],gT=Nn(dT,pT,mT,!1,null,null);const vT=gT.exports,bT={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}};var _T=function(){var e=this,n=e._self._c;return n("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[n("i",{class:e.icon}),e.filterExplorerSelectedItems?n("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},yT=[],wT=Nn(bT,_T,yT,!1,null,null);const xT=wT.exports,kT={data:()=>({searchPlaceHolder:""}),computed:{...Ia({isLoadingMore:t=>t.explorer.isLoadingMore,isLoading:t=>t.explorer.isLoading,isOpen:t=>t.explorer.isOpen,items:t=>t.explorer.items,filters:t=>t.explorer.filters,moreItems:t=>t.explorer.trans.moreItems,translations:t=>t.translations,entity:t=>t.explorer.entity,isFilterExplorerOpen:t=>t.filterExplorer.isOpen,filterExplorerSelectedItems:t=>t.filterExplorer.selectedItem,currentListingView:t=>t.explorer.currentListingView,widgetView:t=>t.explorer.widgetView,isFilterEnable:t=>t.explorer.isFilterEnable,filterExplorerIcon:t=>t.explorer.filterExplorerIcon,entityClass:t=>"entity-"+t.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:oh.debounce(function(t){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:t})},450)}},methods:{...Hs(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(t){this.drawersAddItem({item:t})}},components:{LoadMoreButton:fT,ExplorerItemsInfos:vT,FilterExplorerButton:xT,draggable:Tb}};var CT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"slide-left"}},[e.isOpen?n("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[n("div",{staticClass:"widget-explorer-wrapper"},[n("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?n("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),n("div",{staticClass:"widget-explorer-search"},[n("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(s){s.preventDefault()}}},[n("div",{staticClass:"uk-form-icon"},[n("i",{staticClass:"uk-icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:(s.stopPropagation(),s.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(s){s.target.composing||(e.searchTerms=s.target.value)}}})])])]),n("div",{staticClass:"widget-explorer-close",on:{click:function(s){return s.preventDefault(),e.explorerClose.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e.isLoading?n("div",{staticClass:"spinner light"}):e._e(),n("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():n("ul",{staticClass:"uk-sortable"},[n("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(s){e.items=s},expression:"items"}},[n("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(s,u){return n(e.currentListingView,{key:s.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:u,item:s}})}),1)],1)],1)]),e.filters?n("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e.filters?n("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),n(e.widgetView,{tag:"component"})],1)]):e._e()])},ET=[],ST=Nn(kT,CT,ET,!1,null,null);const TT=ST.exports,AT={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var LT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade-in"}},[e.item?n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onItemClick(e.item)}}},[n("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),n("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),n("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(s,u){return n("filter-explorer-item",{key:s.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:s}})}),1)]):e._e()])},DT=[],MT=Nn(AT,LT,DT,!1,null,null);const PT=MT.exports,OT={data:()=>({currentListingView:null}),computed:{...Ia({isLoading:t=>t.filterExplorer.isLoading,isOpen:t=>t.filterExplorer.isOpen,items:t=>t.filterExplorer.items,entity:t=>t.explorer.entity,itemCount:t=>t.explorer.filters.itemCount,selectedItem:t=>t.filterExplorer.selectedItem,translations:t=>t.translations,icons:t=>t.filterExplorer.icons})},methods:{...Hs(["filterExplorerUpdate"]),onItemClick:function(t){this.filterExplorerUpdate({item:t})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:PT}};var RT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?n("div",{staticClass:"filter-widget-explorer"},[n("ul",{staticClass:"filters-items"},[n("li",{staticClass:"filters-infos"},[n("div",{staticClass:"infos-content"},[n("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?n("div",[n("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v(" "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+" ")]):e._e()])],1)]),n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onResetClick.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(s,u){return n("filter-explorer-item",{key:u,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:s}})})],2)]):e._e()])},FT=[],NT=Nn(OT,RT,FT,!1,null,null);const IT=NT.exports;var zf={exports:{}},zT=zf.exports,i0;function BT(){return i0||(i0=1,function(t,e){(function(n,s){t.exports=s()})(zT,function(){return function(n){function s(l){if(u[l])return u[l].exports;var h=u[l]={i:l,l:!1,exports:{}};return n[l].call(h.exports,h,h.exports,s),h.l=!0,h.exports}var u={};return s.m=n,s.c=u,s.i=function(l){return l},s.d=function(l,h,f){s.o(l,h)||Object.defineProperty(l,h,{configurable:!1,enumerable:!0,get:f})},s.n=function(l){var h=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(h,"a",h),h},s.o=function(l,h){return Object.prototype.hasOwnProperty.call(l,h)},s.p="/",s(s.s=8)}([function(n,s,u){function l(q){return q&&q.__esModule?q:{default:q}}function h(q,M,S){return M in q?Object.defineProperty(q,M,{value:S,enumerable:!0,configurable:!0,writable:!0}):q[M]=S,q}function f(q,M){if(!q)return!1;var S=q.toString().toLowerCase();return S.indexOf(M.trim())!==-1}function v(q,M,S){return S?q.filter(function(D){return f(D[S],M)}):q.filter(function(D){return f(D,M)})}function x(q){return q.filter(function(M){return!M.$isLabel})}function w(q,M){return function(S){return S.reduce(function(D,B){return B[q]&&B[q].length?(D.push({$groupLabel:B[M],$isLabel:!0}),D.concat(B[q])):D.concat(B)},[])}}function E(q,M,S,D){return function(B){return B.map(function(I){var V,ne=v(I[S],q,M);return ne.length?(V={},h(V,D,I[D]),h(V,S,ne),V):[]})}}Object.defineProperty(s,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},H=u(2),F=l(H),j=function(){for(var q=arguments.length,M=Array(q),S=0;S<q;S++)M[S]=arguments[S];return function(D){return M.reduce(function(B,I){return I(B)},D)}};s.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,F.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(q,M){return M?q[M]:q}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props cant be both set to false.")},computed:{filteredOptions:function(){var q=this.search||"",M=q.toLowerCase(),S=this.options.concat();return this.internalSearch?(S=this.groupValues?this.filterAndFlat(S,M,this.label):v(S,M,this.label),S=this.hideSelected?S.filter(this.isNotSelected):S):S=this.groupValues?w(this.groupValues,this.groupLabel)(S):S,this.taggable&&M.length&&!this.isExistingOption(M)&&S.unshift({isTag:!0,label:q}),S.slice(0,this.optionsLimit)},valueKeys:function(){var q=this;return this.trackBy?this.internalValue.map(function(M){return M[q.trackBy]}):this.internalValue},optionKeys:function(){var q=this,M=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?M.map(function(S){return S[q.label].toString().toLowerCase()}):M.map(function(S){return S.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(q,M){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(q){this.internalValue=this.getInternalValue(q)}},methods:{getValue:function(){return this.multiple?(0,F.default)(this.internalValue):this.internalValue.length===0?null:(0,F.default)(this.internalValue[0])},getInternalValue:function(q){return q==null?[]:this.multiple?(0,F.default)(q):(0,F.default)([q])},filterAndFlat:function(q){return j(E(this.search,this.label,this.groupValues,this.groupLabel),w(this.groupValues,this.groupLabel))(q)},flatAndStrip:function(q){return j(w(this.groupValues,this.groupLabel),x)(q)},updateSearch:function(q){this.search=q},isExistingOption:function(q){return!!this.options&&this.optionKeys.indexOf(q)>-1},isSelected:function(q){var M=this.trackBy?q[this.trackBy]:q;return this.valueKeys.indexOf(M)>-1},isNotSelected:function(q){return!this.isSelected(q)},getOptionLabel:function(q){return q||q===0?q.isTag?q.label:this.customLabel(q,this.label)||"":""},select:function(q,M){if(!(this.blockKeys.indexOf(M)!==-1||this.disabled||q.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(q.isTag)this.$emit("tag",q.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var S=this.isSelected(q);if(S)return void(M!=="Tab"&&this.removeElement(q));this.multiple?this.internalValue.push(q):this.internalValue=[q],this.$emit("select",(0,F.default)(q),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(q){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var M=(typeof q>"u"?"undefined":O(q))==="object"?this.valueKeys.indexOf(q[this.trackBy]):this.valueKeys.indexOf(q);this.internalValue.splice(M,1),this.$emit("remove",(0,F.default)(q),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(n,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(l,h){return{"multiselect__option--highlight":l===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(h)}},addPointerElement:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",h=l.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],h),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(l){this.pointer=l}}}},function(n,s,u){function l(f){if(Array.isArray(f))return f.map(l);if(f&&(typeof f>"u"?"undefined":h(f))==="object"){for(var v={},x=Object.keys(f),w=0,E=x.length;w<E;w++){var O=x[w];v[O]=l(f[O])}return v}return f}Object.defineProperty(s,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};s.default=l},function(n,s,u){u(5);var l=u(6)(u(4),u(7),null,null);n.exports=l.exports},function(n,s,u){function l(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(s,"__esModule",{value:!0});var h=u(0),f=l(h),v=u(1),x=l(v);s.default={name:"vue-multiselect",mixins:[f.default,x.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(w){return"and "+w+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(n,s){},function(n,s){n.exports=function(u,l,h,f){var v,x=u=u||{},w=typeof u.default;w!=="object"&&w!=="function"||(v=u,x=u.default);var E=typeof x=="function"?x.options:x;if(l&&(E.render=l.render,E.staticRenderFns=l.staticRenderFns),h&&(E._scopeId=h),f){var O=E.computed||(E.computed={});Object.keys(f).forEach(function(H){var F=f[H];O[H]=function(){return F}})}return{esModule:v,exports:x,options:E}}},function(n,s){n.exports={render:function(){var u=this,l=u.$createElement,h=u._self._c||l;return h("div",{staticClass:"multiselect",class:{"multiselect--active":u.isOpen,"multiselect--disabled":u.disabled,"multiselect--above":!u.hasEnoughSpace},attrs:{tabindex:u.searchable?-1:0},on:{focus:function(f){u.activate()},blur:function(f){!u.searchable&&u.deactivate()},keydown:[function(f){u._k(f.keyCode,"down",40)||f.target===f.currentTarget&&(f.preventDefault(),u.pointerForward())},function(f){u._k(f.keyCode,"up",38)||f.target===f.currentTarget&&(f.preventDefault(),u.pointerBackward())},function(f){u._k(f.keyCode,"enter",13)&&u._k(f.keyCode,"tab",9)||(f.stopPropagation(),f.target===f.currentTarget&&u.addPointerElement(f))}],keyup:function(f){u._k(f.keyCode,"esc",27)||u.deactivate()}}},[u._t("carret",[h("div",{staticClass:"multiselect__select",on:{mousedown:function(f){f.preventDefault(),u.toggle()}}})]),u._v(" "),h("div",{ref:"tags",staticClass:"multiselect__tags"},[u._l(u.visibleValue,function(f){return h("span",{staticClass:"multiselect__tag",on:{mousedown:function(v){v.preventDefault()}}},[h("span",{domProps:{textContent:u._s(u.getOptionLabel(f))}}),u._v(" "),h("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(v){u._k(v.keyCode,"enter",13)||(v.preventDefault(),u.removeElement(f))},mousedown:function(v){v.preventDefault(),u.removeElement(f)}}})])}),u._v(" "),u.internalValue&&u.internalValue.length>u.limit?[h("strong",{domProps:{textContent:u._s(u.limitText(u.internalValue.length-u.limit))}})]:u._e(),u._v(" "),h("transition",{attrs:{name:"multiselect__loading"}},[u._t("loading",[h("div",{directives:[{name:"show",rawName:"v-show",value:u.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),u._v(" "),u.searchable?h("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:u.placeholder,disabled:u.disabled},domProps:{value:u.isOpen?u.search:u.currentOptionLabel},on:{input:function(f){u.updateSearch(f.target.value)},focus:function(f){f.preventDefault(),u.activate()},blur:function(f){f.preventDefault(),u.deactivate()},keyup:function(f){u._k(f.keyCode,"esc",27)||u.deactivate()},keydown:[function(f){u._k(f.keyCode,"down",40)||(f.preventDefault(),u.pointerForward())},function(f){u._k(f.keyCode,"up",38)||(f.preventDefault(),u.pointerBackward())},function(f){u._k(f.keyCode,"enter",13)||f.preventDefault()},function(f){u._k(f.keyCode,"enter",13)&&u._k(f.keyCode,"tab",9)||(f.stopPropagation(),f.target===f.currentTarget&&u.addPointerElement(f))},function(f){u._k(f.keyCode,"delete",[8,46])||u.removeLastElement()}]}}):u._e(),u._v(" "),u.searchable?u._e():h("span",{staticClass:"multiselect__single",domProps:{textContent:u._s(u.currentOptionLabel)}})],2),u._v(" "),h("transition",{attrs:{name:"multiselect"}},[h("ul",{directives:[{name:"show",rawName:"v-show",value:u.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:u.maxHeight+"px"}},[u._t("beforeList"),u._v(" "),u.multiple&&u.max===u.internalValue.length?h("li",[h("span",{staticClass:"multiselect__option"},[u._t("maxElements",[u._v("Maximum of "+u._s(u.max)+" options selected. First remove a selected option to select another.")])],2)]):u._e(),u._v(" "),!u.max||u.internalValue.length<u.max?u._l(u.filteredOptions,function(f,v){return h("li",{key:v,staticClass:"multiselect__element"},[f.$isLabel?u._e():h("span",{staticClass:"multiselect__option",class:u.optionHighlight(v,f),attrs:{tabindex:"0","data-select":f.isTag?u.tagPlaceholder:u.selectLabelText,"data-selected":u.selectedLabelText,"data-deselect":u.deselectLabelText},on:{mousedown:function(x){x.preventDefault(),u.select(f)},mouseenter:function(x){u.pointerSet(v)}}},[u._t("option",[h("span",[u._v(u._s(u.getOptionLabel(f)))])],{option:f,search:u.search})],2),u._v(" "),f.$isLabel?h("span",{staticClass:"multiselect__option multiselect__option--disabled",class:u.optionHighlight(v,f)},[u._v(`
              `+u._s(f.$groupLabel)+`
            `)]):u._e()])}):u._e(),u._v(" "),h("li",{directives:[{name:"show",rawName:"v-show",value:u.filteredOptions.length===0&&u.search&&!u.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[h("span",{staticClass:"multiselect__option"},[u._t("noResult",[u._v("No elements found. Consider changing the search query.")])],2)]),u._v(" "),u._t("afterList")],2)])],2)},staticRenderFns:[]}},function(n,s,u){function l(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(s,"__esModule",{value:!0}),s.deepClone=s.pointerMixin=s.multiselectMixin=s.Multiselect=void 0;var h=u(3),f=l(h),v=u(0),x=l(v),w=u(1),E=l(w),O=u(2),H=l(O);s.default=f.default,s.Multiselect=f.default,s.multiselectMixin=x.default,s.pointerMixin=E.default,s.deepClone=H.default}])})}(zf)),zf.exports}var HT=BT();const $T=mh(HT),WT={mounted(){this.tagsInitData()},computed:{...Ia({value:t=>t.tags.value,options:t=>t.tags.options})},methods:{...Hs(["tagsUpdateValue","tagsInitData"]),addTag(t){const e={name:t};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:$T}};var qT=function(){var e=this,n=e._self._c;return n("div",[e._t("default"),n("label",{staticClass:"typo__label"},[e._v("Tagging")]),n("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(s){e.value=s},expression:"value"}}),n("pre",{staticClass:"language-json"},[n("code",[e._v(e._s(e.value))])])],2)},jT=[],UT=Nn(WT,qT,jT,!1,null,null);const YT=UT.exports,GT={computed:{...Ia({isVisible:t=>t.documentPreview.isVisible,document:t=>t.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},methods:{...Hs(["documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(t){t.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}}};var XT=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?n("div",{staticClass:"document-preview-widget"},[n("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[n("div",{staticClass:"document-preview-widget__information"},[n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?n("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),n("div",{staticClass:"close",on:{click:function(s){return s.preventDefault(),e.closePreview.apply(null,arguments)}}},[n("i",{staticClass:"uk-icon-times"})])]),n("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[n("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},ZT=[],VT=Nn(GT,XT,ZT,!1,null,null);const KT=VT.exports;var Cf={};const QT=F0(Fw);var Bf={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var JT=Bf.exports,n0;function eA(){return n0||(n0=1,function(t,e){(function(n,s){t.exports=s()})(JT,function(){function n(ke,_){var T=Object.keys(ke);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(ke);_&&(N=N.filter(function(ie){return Object.getOwnPropertyDescriptor(ke,ie).enumerable})),T.push.apply(T,N)}return T}function s(ke){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?n(Object(T),!0).forEach(function(N){w(ke,N,T[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(T)):n(Object(T)).forEach(function(N){Object.defineProperty(ke,N,Object.getOwnPropertyDescriptor(T,N))})}return ke}function u(ke,_){if(typeof ke!="object"||!ke)return ke;var T=ke[Symbol.toPrimitive];if(T!==void 0){var N=T.call(ke,_);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(ke)}function l(ke){var _=u(ke,"string");return typeof _=="symbol"?_:_+""}function h(ke){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(ke)}function f(ke,_){if(!(ke instanceof _))throw new TypeError("Cannot call a class as a function")}function v(ke,_){for(var T=0;T<_.length;T++){var N=_[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(ke,l(N.key),N)}}function x(ke,_,T){return _&&v(ke.prototype,_),T&&v(ke,T),Object.defineProperty(ke,"prototype",{writable:!1}),ke}function w(ke,_,T){return _=l(_),_ in ke?Object.defineProperty(ke,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):ke[_]=T,ke}function E(ke){return O(ke)||H(ke)||F(ke)||q()}function O(ke){if(Array.isArray(ke))return j(ke)}function H(ke){if(typeof Symbol<"u"&&ke[Symbol.iterator]!=null||ke["@@iterator"]!=null)return Array.from(ke)}function F(ke,_){if(ke){if(typeof ke=="string")return j(ke,_);var T=Object.prototype.toString.call(ke).slice(8,-1);if(T==="Object"&&ke.constructor&&(T=ke.constructor.name),T==="Map"||T==="Set")return Array.from(ke);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return j(ke,_)}}function j(ke,_){(_==null||_>ke.length)&&(_=ke.length);for(var T=0,N=new Array(_);T<_;T++)N[T]=ke[T];return N}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=typeof window<"u"&&typeof window.document<"u",S=M?window:{},D=M&&S.document.documentElement?"ontouchstart"in S.document.documentElement:!1,B=M?"PointerEvent"in S:!1,I="cropper",V="all",ne="crop",ue="move",de="zoom",ge="e",he="w",Le="s",ve="n",re="ne",P="nw",se="se",ye="sw",Ee="".concat(I,"-crop"),it="".concat(I,"-disabled"),Be="".concat(I,"-hidden"),Me="".concat(I,"-hide"),te="".concat(I,"-invisible"),Y="".concat(I,"-modal"),De="".concat(I,"-move"),Fe="".concat(I,"Action"),Z="".concat(I,"Preview"),we="crop",Te="move",qe="none",Xe="crop",Ze="cropend",ut="cropmove",Et="cropstart",wt="dblclick",St=D?"touchstart":"mousedown",_t=D?"touchmove":"mousemove",Mt=D?"touchend touchcancel":"mouseup",jt=B?"pointerdown":St,Kt=B?"pointermove":_t,X=B?"pointerup pointercancel":Mt,le="ready",Q="resize",fe="wheel",pe="zoom",ze="image/jpeg",ot=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Qe=/^data:/,mt=/^data:image\/jpeg;base64,/,Pt=/^img|canvas$/i,ct=200,$t=100,Yt={viewMode:0,dragMode:we,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ct,minContainerHeight:$t,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Qt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Vt=Number.isNaN||S.isNaN;function xt(ke){return typeof ke=="number"&&!Vt(ke)}var Un=function(_){return _>0&&_<1/0};function Ut(ke){return typeof ke>"u"}function mr(ke){return h(ke)==="object"&&ke!==null}var Ft=Object.prototype.hasOwnProperty;function un(ke){if(!mr(ke))return!1;try{var _=ke.constructor,T=_.prototype;return _&&T&&Ft.call(T,"isPrototypeOf")}catch{return!1}}function yi(ke){return typeof ke=="function"}var Fi=Array.prototype.slice;function pi(ke){return Array.from?Array.from(ke):Fi.call(ke)}function wi(ke,_){return ke&&yi(_)&&(Array.isArray(ke)||xt(ke.length)?pi(ke).forEach(function(T,N){_.call(ke,T,N,ke)}):mr(ke)&&Object.keys(ke).forEach(function(T){_.call(ke,ke[T],T,ke)})),ke}var ui=Object.assign||function(_){for(var T=arguments.length,N=new Array(T>1?T-1:0),ie=1;ie<T;ie++)N[ie-1]=arguments[ie];return mr(_)&&N.length>0&&N.forEach(function(ae){mr(ae)&&Object.keys(ae).forEach(function(_e){_[_e]=ae[_e]})}),_},si=/\.\d*(?:0|9){12}\d*$/;function Bi(ke){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return si.test(ke)?Math.round(ke*_)/_:ke}var eo=/^width|height|left|top|marginLeft|marginTop$/;function Hi(ke,_){var T=ke.style;wi(_,function(N,ie){eo.test(ie)&&xt(N)&&(N="".concat(N,"px")),T[ie]=N})}function Fr(ke,_){return ke.classList?ke.classList.contains(_):ke.className.indexOf(_)>-1}function $i(ke,_){if(_){if(xt(ke.length)){wi(ke,function(N){$i(N,_)});return}if(ke.classList){ke.classList.add(_);return}var T=ke.className.trim();T?T.indexOf(_)<0&&(ke.className="".concat(T," ").concat(_)):ke.className=_}}function Qi(ke,_){if(_){if(xt(ke.length)){wi(ke,function(T){Qi(T,_)});return}if(ke.classList){ke.classList.remove(_);return}ke.className.indexOf(_)>=0&&(ke.className=ke.className.replace(_,""))}}function gr(ke,_,T){if(_){if(xt(ke.length)){wi(ke,function(N){gr(N,_,T)});return}T?$i(ke,_):Qi(ke,_)}}var En=/([a-z\d])([A-Z])/g;function Ot(ke){return ke.replace(En,"$1-$2").toLowerCase()}function vr(ke,_){return mr(ke[_])?ke[_]:ke.dataset?ke.dataset[_]:ke.getAttribute("data-".concat(Ot(_)))}function Yn(ke,_,T){mr(T)?ke[_]=T:ke.dataset?ke.dataset[_]=T:ke.setAttribute("data-".concat(Ot(_)),T)}function Gn(ke,_){if(mr(ke[_]))try{delete ke[_]}catch{ke[_]=void 0}else if(ke.dataset)try{delete ke.dataset[_]}catch{ke.dataset[_]=void 0}else ke.removeAttribute("data-".concat(Ot(_)))}var nr=/\s\s*/,jr=function(){var ke=!1;if(M){var _=!1,T=function(){},N=Object.defineProperty({},"once",{get:function(){return ke=!0,_},set:function(ae){_=ae}});S.addEventListener("test",T,N),S.removeEventListener("test",T,N)}return ke}();function Xi(ke,_,T){var N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=T;_.trim().split(nr).forEach(function(ae){if(!jr){var _e=ke.listeners;_e&&_e[ae]&&_e[ae][T]&&(ie=_e[ae][T],delete _e[ae][T],Object.keys(_e[ae]).length===0&&delete _e[ae],Object.keys(_e).length===0&&delete ke.listeners)}ke.removeEventListener(ae,ie,N)})}function Ji(ke,_,T){var N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=T;_.trim().split(nr).forEach(function(ae){if(N.once&&!jr){var _e=ke.listeners,Oe=_e===void 0?{}:_e;ie=function(){delete Oe[ae][T],ke.removeEventListener(ae,ie,N);for(var et=arguments.length,Ve=new Array(et),Ke=0;Ke<et;Ke++)Ve[Ke]=arguments[Ke];T.apply(ke,Ve)},Oe[ae]||(Oe[ae]={}),Oe[ae][T]&&ke.removeEventListener(ae,Oe[ae][T],N),Oe[ae][T]=ie,ke.listeners=Oe}ke.addEventListener(ae,ie,N)})}function rr(ke,_,T){var N;return yi(Event)&&yi(CustomEvent)?N=new CustomEvent(_,{detail:T,bubbles:!0,cancelable:!0}):(N=document.createEvent("CustomEvent"),N.initCustomEvent(_,!0,!0,T)),ke.dispatchEvent(N)}function or(ke){var _=ke.getBoundingClientRect();return{left:_.left+(window.pageXOffset-document.documentElement.clientLeft),top:_.top+(window.pageYOffset-document.documentElement.clientTop)}}var Sn=S.location,to=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function io(ke){var _=ke.match(to);return _!==null&&(_[1]!==Sn.protocol||_[2]!==Sn.hostname||_[3]!==Sn.port)}function kr(ke){var _="timestamp=".concat(new Date().getTime());return ke+(ke.indexOf("?")===-1?"?":"&")+_}function Tn(ke){var _=ke.rotate,T=ke.scaleX,N=ke.scaleY,ie=ke.translateX,ae=ke.translateY,_e=[];xt(ie)&&ie!==0&&_e.push("translateX(".concat(ie,"px)")),xt(ae)&&ae!==0&&_e.push("translateY(".concat(ae,"px)")),xt(_)&&_!==0&&_e.push("rotate(".concat(_,"deg)")),xt(T)&&T!==1&&_e.push("scaleX(".concat(T,")")),xt(N)&&N!==1&&_e.push("scaleY(".concat(N,")"));var Oe=_e.length?_e.join(" "):"none";return{WebkitTransform:Oe,msTransform:Oe,transform:Oe}}function Nr(ke){var _=s({},ke),T=0;return wi(ke,function(N,ie){delete _[ie],wi(_,function(ae){var _e=Math.abs(N.startX-ae.startX),Oe=Math.abs(N.startY-ae.startY),Je=Math.abs(N.endX-ae.endX),et=Math.abs(N.endY-ae.endY),Ve=Math.sqrt(_e*_e+Oe*Oe),Ke=Math.sqrt(Je*Je+et*et),ht=(Ke-Ve)/Ve;Math.abs(ht)>Math.abs(T)&&(T=ht)})}),T}function yn(ke,_){var T=ke.pageX,N=ke.pageY,ie={endX:T,endY:N};return _?ie:s({startX:T,startY:N},ie)}function fo(ke){var _=0,T=0,N=0;return wi(ke,function(ie){var ae=ie.startX,_e=ie.startY;_+=ae,T+=_e,N+=1}),_/=N,T/=N,{pageX:_,pageY:T}}function Xn(ke){var _=ke.aspectRatio,T=ke.height,N=ke.width,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",ae=Un(N),_e=Un(T);if(ae&&_e){var Oe=T*_;ie==="contain"&&Oe>N||ie==="cover"&&Oe<N?T=N/_:N=T*_}else ae?T=N/_:_e&&(N=T*_);return{width:N,height:T}}function ji(ke){var _=ke.width,T=ke.height,N=ke.degree;if(N=Math.abs(N)%180,N===90)return{width:T,height:_};var ie=N%90*Math.PI/180,ae=Math.sin(ie),_e=Math.cos(ie),Oe=_*_e+T*ae,Je=_*ae+T*_e;return N>90?{width:Je,height:Oe}:{width:Oe,height:Je}}function Dt(ke,_,T,N){var ie=_.aspectRatio,ae=_.naturalWidth,_e=_.naturalHeight,Oe=_.rotate,Je=Oe===void 0?0:Oe,et=_.scaleX,Ve=et===void 0?1:et,Ke=_.scaleY,ht=Ke===void 0?1:Ke,hi=T.aspectRatio,fi=T.naturalWidth,Wi=T.naturalHeight,Ei=N.fillColor,Pi=Ei===void 0?"transparent":Ei,fn=N.imageSmoothingEnabled,Rt=fn===void 0?!0:fn,on=N.imageSmoothingQuality,ri=on===void 0?"low":on,gt=N.maxWidth,xi=gt===void 0?1/0:gt,an=N.maxHeight,sr=an===void 0?1/0:an,An=N.minWidth,Ur=An===void 0?0:An,Ir=N.minHeight,Xt=Ir===void 0?0:Ir,oi=document.createElement("canvas"),wn=oi.getContext("2d"),zr=Xn({aspectRatio:hi,width:xi,height:sr}),Xo=Xn({aspectRatio:hi,width:Ur,height:Xt},"cover"),_a=Math.min(zr.width,Math.max(Xo.width,fi)),Zo=Math.min(zr.height,Math.max(Xo.height,Wi)),ya=Xn({aspectRatio:ie,width:xi,height:sr}),Ba=Xn({aspectRatio:ie,width:Ur,height:Xt},"cover"),gi=Math.min(ya.width,Math.max(Ba.width,ae)),Ni=Math.min(ya.height,Math.max(Ba.height,_e)),br=[-gi/2,-Ni/2,gi,Ni];return oi.width=Bi(_a),oi.height=Bi(Zo),wn.fillStyle=Pi,wn.fillRect(0,0,_a,Zo),wn.save(),wn.translate(_a/2,Zo/2),wn.rotate(Je*Math.PI/180),wn.scale(Ve,ht),wn.imageSmoothingEnabled=Rt,wn.imageSmoothingQuality=ri,wn.drawImage.apply(wn,[ke].concat(E(br.map(function(Br){return Math.floor(Bi(Br))})))),wn.restore(),oi}var Zn=String.fromCharCode;function ar(ke,_,T){var N="";T+=_;for(var ie=_;ie<T;ie+=1)N+=Zn(ke.getUint8(ie));return N}var In=/^data:.*,/;function J(ke){var _=ke.replace(In,""),T=atob(_),N=new ArrayBuffer(T.length),ie=new Uint8Array(N);return wi(ie,function(ae,_e){ie[_e]=T.charCodeAt(_e)}),N}function xe(ke,_){for(var T=[],N=8192,ie=new Uint8Array(ke);ie.length>0;)T.push(Zn.apply(null,pi(ie.subarray(0,N)))),ie=ie.subarray(N);return"data:".concat(_,";base64,").concat(btoa(T.join("")))}function $e(ke){var _=new DataView(ke),T;try{var N,ie,ae;if(_.getUint8(0)===255&&_.getUint8(1)===216)for(var _e=_.byteLength,Oe=2;Oe+1<_e;){if(_.getUint8(Oe)===255&&_.getUint8(Oe+1)===225){ie=Oe;break}Oe+=1}if(ie){var Je=ie+4,et=ie+10;if(ar(_,Je,4)==="Exif"){var Ve=_.getUint16(et);if(N=Ve===18761,(N||Ve===19789)&&_.getUint16(et+2,N)===42){var Ke=_.getUint32(et+4,N);Ke>=8&&(ae=et+Ke)}}}if(ae){var ht=_.getUint16(ae,N),hi,fi;for(fi=0;fi<ht;fi+=1)if(hi=ae+fi*12+2,_.getUint16(hi,N)===274){hi+=8,T=_.getUint16(hi,N),_.setUint16(hi,1,N);break}}}catch{T=1}return T}function nt(ke){var _=0,T=1,N=1;switch(ke){case 2:T=-1;break;case 3:_=-180;break;case 4:N=-1;break;case 5:_=90,N=-1;break;case 6:_=90;break;case 7:_=90,T=-1;break;case 8:_=-90;break}return{rotate:_,scaleX:T,scaleY:N}}var je={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var _=this.element,T=this.options,N=this.container,ie=this.cropper,ae=Number(T.minContainerWidth),_e=Number(T.minContainerHeight);$i(ie,Be),Qi(_,Be);var Oe={width:Math.max(N.offsetWidth,ae>=0?ae:ct),height:Math.max(N.offsetHeight,_e>=0?_e:$t)};this.containerData=Oe,Hi(ie,{width:Oe.width,height:Oe.height}),$i(_,Be),Qi(ie,Be)},initCanvas:function(){var _=this.containerData,T=this.imageData,N=this.options.viewMode,ie=Math.abs(T.rotate)%180===90,ae=ie?T.naturalHeight:T.naturalWidth,_e=ie?T.naturalWidth:T.naturalHeight,Oe=ae/_e,Je=_.width,et=_.height;_.height*Oe>_.width?N===3?Je=_.height*Oe:et=_.width/Oe:N===3?et=_.width/Oe:Je=_.height*Oe;var Ve={aspectRatio:Oe,naturalWidth:ae,naturalHeight:_e,width:Je,height:et};this.canvasData=Ve,this.limited=N===1||N===2,this.limitCanvas(!0,!0),Ve.width=Math.min(Math.max(Ve.width,Ve.minWidth),Ve.maxWidth),Ve.height=Math.min(Math.max(Ve.height,Ve.minHeight),Ve.maxHeight),Ve.left=(_.width-Ve.width)/2,Ve.top=(_.height-Ve.height)/2,Ve.oldLeft=Ve.left,Ve.oldTop=Ve.top,this.initialCanvasData=ui({},Ve)},limitCanvas:function(_,T){var N=this.options,ie=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=N.viewMode,Je=ae.aspectRatio,et=this.cropped&&_e;if(_){var Ve=Number(N.minCanvasWidth)||0,Ke=Number(N.minCanvasHeight)||0;Oe>1?(Ve=Math.max(Ve,ie.width),Ke=Math.max(Ke,ie.height),Oe===3&&(Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je)):Oe>0&&(Ve?Ve=Math.max(Ve,et?_e.width:0):Ke?Ke=Math.max(Ke,et?_e.height:0):et&&(Ve=_e.width,Ke=_e.height,Ke*Je>Ve?Ve=Ke*Je:Ke=Ve/Je));var ht=Xn({aspectRatio:Je,width:Ve,height:Ke});Ve=ht.width,Ke=ht.height,ae.minWidth=Ve,ae.minHeight=Ke,ae.maxWidth=1/0,ae.maxHeight=1/0}if(T)if(Oe>(et?0:1)){var hi=ie.width-ae.width,fi=ie.height-ae.height;ae.minLeft=Math.min(0,hi),ae.minTop=Math.min(0,fi),ae.maxLeft=Math.max(0,hi),ae.maxTop=Math.max(0,fi),et&&this.limited&&(ae.minLeft=Math.min(_e.left,_e.left+(_e.width-ae.width)),ae.minTop=Math.min(_e.top,_e.top+(_e.height-ae.height)),ae.maxLeft=_e.left,ae.maxTop=_e.top,Oe===2&&(ae.width>=ie.width&&(ae.minLeft=Math.min(0,hi),ae.maxLeft=Math.max(0,hi)),ae.height>=ie.height&&(ae.minTop=Math.min(0,fi),ae.maxTop=Math.max(0,fi))))}else ae.minLeft=-ae.width,ae.minTop=-ae.height,ae.maxLeft=ie.width,ae.maxTop=ie.height},renderCanvas:function(_,T){var N=this.canvasData,ie=this.imageData;if(T){var ae=ji({width:ie.naturalWidth*Math.abs(ie.scaleX||1),height:ie.naturalHeight*Math.abs(ie.scaleY||1),degree:ie.rotate||0}),_e=ae.width,Oe=ae.height,Je=N.width*(_e/N.naturalWidth),et=N.height*(Oe/N.naturalHeight);N.left-=(Je-N.width)/2,N.top-=(et-N.height)/2,N.width=Je,N.height=et,N.aspectRatio=_e/Oe,N.naturalWidth=_e,N.naturalHeight=Oe,this.limitCanvas(!0,!1)}(N.width>N.maxWidth||N.width<N.minWidth)&&(N.left=N.oldLeft),(N.height>N.maxHeight||N.height<N.minHeight)&&(N.top=N.oldTop),N.width=Math.min(Math.max(N.width,N.minWidth),N.maxWidth),N.height=Math.min(Math.max(N.height,N.minHeight),N.maxHeight),this.limitCanvas(!1,!0),N.left=Math.min(Math.max(N.left,N.minLeft),N.maxLeft),N.top=Math.min(Math.max(N.top,N.minTop),N.maxTop),N.oldLeft=N.left,N.oldTop=N.top,Hi(this.canvas,ui({width:N.width,height:N.height},Tn({translateX:N.left,translateY:N.top}))),this.renderImage(_),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(_){var T=this.canvasData,N=this.imageData,ie=N.naturalWidth*(T.width/T.naturalWidth),ae=N.naturalHeight*(T.height/T.naturalHeight);ui(N,{width:ie,height:ae,left:(T.width-ie)/2,top:(T.height-ae)/2}),Hi(this.image,ui({width:N.width,height:N.height},Tn(ui({translateX:N.left,translateY:N.top},N)))),_&&this.output()},initCropBox:function(){var _=this.options,T=this.canvasData,N=_.aspectRatio||_.initialAspectRatio,ie=Number(_.autoCropArea)||.8,ae={width:T.width,height:T.height};N&&(T.height*N>T.width?ae.height=ae.width/N:ae.width=ae.height*N),this.cropBoxData=ae,this.limitCropBox(!0,!0),ae.width=Math.min(Math.max(ae.width,ae.minWidth),ae.maxWidth),ae.height=Math.min(Math.max(ae.height,ae.minHeight),ae.maxHeight),ae.width=Math.max(ae.minWidth,ae.width*ie),ae.height=Math.max(ae.minHeight,ae.height*ie),ae.left=T.left+(T.width-ae.width)/2,ae.top=T.top+(T.height-ae.height)/2,ae.oldLeft=ae.left,ae.oldTop=ae.top,this.initialCropBoxData=ui({},ae)},limitCropBox:function(_,T){var N=this.options,ie=this.containerData,ae=this.canvasData,_e=this.cropBoxData,Oe=this.limited,Je=N.aspectRatio;if(_){var et=Number(N.minCropBoxWidth)||0,Ve=Number(N.minCropBoxHeight)||0,Ke=Oe?Math.min(ie.width,ae.width,ae.width+ae.left,ie.width-ae.left):ie.width,ht=Oe?Math.min(ie.height,ae.height,ae.height+ae.top,ie.height-ae.top):ie.height;et=Math.min(et,ie.width),Ve=Math.min(Ve,ie.height),Je&&(et&&Ve?Ve*Je>et?Ve=et/Je:et=Ve*Je:et?Ve=et/Je:Ve&&(et=Ve*Je),ht*Je>Ke?ht=Ke/Je:Ke=ht*Je),_e.minWidth=Math.min(et,Ke),_e.minHeight=Math.min(Ve,ht),_e.maxWidth=Ke,_e.maxHeight=ht}T&&(Oe?(_e.minLeft=Math.max(0,ae.left),_e.minTop=Math.max(0,ae.top),_e.maxLeft=Math.min(ie.width,ae.left+ae.width)-_e.width,_e.maxTop=Math.min(ie.height,ae.top+ae.height)-_e.height):(_e.minLeft=0,_e.minTop=0,_e.maxLeft=ie.width-_e.width,_e.maxTop=ie.height-_e.height))},renderCropBox:function(){var _=this.options,T=this.containerData,N=this.cropBoxData;(N.width>N.maxWidth||N.width<N.minWidth)&&(N.left=N.oldLeft),(N.height>N.maxHeight||N.height<N.minHeight)&&(N.top=N.oldTop),N.width=Math.min(Math.max(N.width,N.minWidth),N.maxWidth),N.height=Math.min(Math.max(N.height,N.minHeight),N.maxHeight),this.limitCropBox(!1,!0),N.left=Math.min(Math.max(N.left,N.minLeft),N.maxLeft),N.top=Math.min(Math.max(N.top,N.minTop),N.maxTop),N.oldLeft=N.left,N.oldTop=N.top,_.movable&&_.cropBoxMovable&&Yn(this.face,Fe,N.width>=T.width&&N.height>=T.height?ue:V),Hi(this.cropBox,ui({width:N.width,height:N.height},Tn({translateX:N.left,translateY:N.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),rr(this.element,Xe,this.getData())}},pt={initPreview:function(){var _=this.element,T=this.crossOrigin,N=this.options.preview,ie=T?this.crossOriginUrl:this.url,ae=_.alt||"The image to preview",_e=document.createElement("img");if(T&&(_e.crossOrigin=T),_e.src=ie,_e.alt=ae,this.viewBox.appendChild(_e),this.viewBoxImage=_e,!!N){var Oe=N;typeof N=="string"?Oe=_.ownerDocument.querySelectorAll(N):N.querySelector&&(Oe=[N]),this.previews=Oe,wi(Oe,function(Je){var et=document.createElement("img");Yn(Je,Z,{width:Je.offsetWidth,height:Je.offsetHeight,html:Je.innerHTML}),T&&(et.crossOrigin=T),et.src=ie,et.alt=ae,et.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Je.innerHTML="",Je.appendChild(et)})}},resetPreview:function(){wi(this.previews,function(_){var T=vr(_,Z);Hi(_,{width:T.width,height:T.height}),_.innerHTML=T.html,Gn(_,Z)})},preview:function(){var _=this.imageData,T=this.canvasData,N=this.cropBoxData,ie=N.width,ae=N.height,_e=_.width,Oe=_.height,Je=N.left-T.left-_.left,et=N.top-T.top-_.top;!this.cropped||this.disabled||(Hi(this.viewBoxImage,ui({width:_e,height:Oe},Tn(ui({translateX:-Je,translateY:-et},_)))),wi(this.previews,function(Ve){var Ke=vr(Ve,Z),ht=Ke.width,hi=Ke.height,fi=ht,Wi=hi,Ei=1;ie&&(Ei=ht/ie,Wi=ae*Ei),ae&&Wi>hi&&(Ei=hi/ae,fi=ie*Ei,Wi=hi),Hi(Ve,{width:fi,height:Wi}),Hi(Ve.getElementsByTagName("img")[0],ui({width:_e*Ei,height:Oe*Ei},Tn(ui({translateX:-Je*Ei,translateY:-et*Ei},_))))}))}},ni={bind:function(){var _=this.element,T=this.options,N=this.cropper;yi(T.cropstart)&&Ji(_,Et,T.cropstart),yi(T.cropmove)&&Ji(_,ut,T.cropmove),yi(T.cropend)&&Ji(_,Ze,T.cropend),yi(T.crop)&&Ji(_,Xe,T.crop),yi(T.zoom)&&Ji(_,pe,T.zoom),Ji(N,jt,this.onCropStart=this.cropStart.bind(this)),T.zoomable&&T.zoomOnWheel&&Ji(N,fe,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Ji(N,wt,this.onDblclick=this.dblclick.bind(this)),Ji(_.ownerDocument,Kt,this.onCropMove=this.cropMove.bind(this)),Ji(_.ownerDocument,X,this.onCropEnd=this.cropEnd.bind(this)),T.responsive&&Ji(window,Q,this.onResize=this.resize.bind(this))},unbind:function(){var _=this.element,T=this.options,N=this.cropper;yi(T.cropstart)&&Xi(_,Et,T.cropstart),yi(T.cropmove)&&Xi(_,ut,T.cropmove),yi(T.cropend)&&Xi(_,Ze,T.cropend),yi(T.crop)&&Xi(_,Xe,T.crop),yi(T.zoom)&&Xi(_,pe,T.zoom),Xi(N,jt,this.onCropStart),T.zoomable&&T.zoomOnWheel&&Xi(N,fe,this.onWheel,{passive:!1,capture:!0}),T.toggleDragModeOnDblclick&&Xi(N,wt,this.onDblclick),Xi(_.ownerDocument,Kt,this.onCropMove),Xi(_.ownerDocument,X,this.onCropEnd),T.responsive&&Xi(window,Q,this.onResize)}},Ui={resize:function(){if(!this.disabled){var _=this.options,T=this.container,N=this.containerData,ie=T.offsetWidth/N.width,ae=T.offsetHeight/N.height,_e=Math.abs(ie-1)>Math.abs(ae-1)?ie:ae;if(_e!==1){var Oe,Je;_.restore&&(Oe=this.getCanvasData(),Je=this.getCropBoxData()),this.render(),_.restore&&(this.setCanvasData(wi(Oe,function(et,Ve){Oe[Ve]=et*_e})),this.setCropBoxData(wi(Je,function(et,Ve){Je[Ve]=et*_e})))}}},dblclick:function(){this.disabled||this.options.dragMode===qe||this.setDragMode(Fr(this.dragBox,Ee)?Te:we)},wheel:function(_){var T=this,N=Number(this.options.wheelZoomRatio)||.1,ie=1;this.disabled||(_.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){T.wheeling=!1},50),_.deltaY?ie=_.deltaY>0?1:-1:_.wheelDelta?ie=-_.wheelDelta/120:_.detail&&(ie=_.detail>0?1:-1),this.zoom(-ie*N,_)))},cropStart:function(_){var T=_.buttons,N=_.button;if(!(this.disabled||(_.type==="mousedown"||_.type==="pointerdown"&&_.pointerType==="mouse")&&(xt(T)&&T!==1||xt(N)&&N!==0||_.ctrlKey))){var ie=this.options,ae=this.pointers,_e;_.changedTouches?wi(_.changedTouches,function(Oe){ae[Oe.identifier]=yn(Oe)}):ae[_.pointerId||0]=yn(_),Object.keys(ae).length>1&&ie.zoomable&&ie.zoomOnTouch?_e=de:_e=vr(_.target,Fe),ot.test(_e)&&rr(this.element,Et,{originalEvent:_,action:_e})!==!1&&(_.preventDefault(),this.action=_e,this.cropping=!1,_e===ne&&(this.cropping=!0,$i(this.dragBox,Y)))}},cropMove:function(_){var T=this.action;if(!(this.disabled||!T)){var N=this.pointers;_.preventDefault(),rr(this.element,ut,{originalEvent:_,action:T})!==!1&&(_.changedTouches?wi(_.changedTouches,function(ie){ui(N[ie.identifier]||{},yn(ie,!0))}):ui(N[_.pointerId||0]||{},yn(_,!0)),this.change(_))}},cropEnd:function(_){if(!this.disabled){var T=this.action,N=this.pointers;_.changedTouches?wi(_.changedTouches,function(ie){delete N[ie.identifier]}):delete N[_.pointerId||0],T&&(_.preventDefault(),Object.keys(N).length||(this.action=""),this.cropping&&(this.cropping=!1,gr(this.dragBox,Y,this.cropped&&this.options.modal)),rr(this.element,Ze,{originalEvent:_,action:T}))}}},Nt={change:function(_){var T=this.options,N=this.canvasData,ie=this.containerData,ae=this.cropBoxData,_e=this.pointers,Oe=this.action,Je=T.aspectRatio,et=ae.left,Ve=ae.top,Ke=ae.width,ht=ae.height,hi=et+Ke,fi=Ve+ht,Wi=0,Ei=0,Pi=ie.width,fn=ie.height,Rt=!0,on;!Je&&_.shiftKey&&(Je=Ke&&ht?Ke/ht:1),this.limited&&(Wi=ae.minLeft,Ei=ae.minTop,Pi=Wi+Math.min(ie.width,N.width,N.left+N.width),fn=Ei+Math.min(ie.height,N.height,N.top+N.height));var ri=_e[Object.keys(_e)[0]],gt={x:ri.endX-ri.startX,y:ri.endY-ri.startY},xi=function(sr){switch(sr){case ge:hi+gt.x>Pi&&(gt.x=Pi-hi);break;case he:et+gt.x<Wi&&(gt.x=Wi-et);break;case ve:Ve+gt.y<Ei&&(gt.y=Ei-Ve);break;case Le:fi+gt.y>fn&&(gt.y=fn-fi);break}};switch(Oe){case V:et+=gt.x,Ve+=gt.y;break;case ge:if(gt.x>=0&&(hi>=Pi||Je&&(Ve<=Ei||fi>=fn))){Rt=!1;break}xi(ge),Ke+=gt.x,Ke<0&&(Oe=he,Ke=-Ke,et-=Ke),Je&&(ht=Ke/Je,Ve+=(ae.height-ht)/2);break;case ve:if(gt.y<=0&&(Ve<=Ei||Je&&(et<=Wi||hi>=Pi))){Rt=!1;break}xi(ve),ht-=gt.y,Ve+=gt.y,ht<0&&(Oe=Le,ht=-ht,Ve-=ht),Je&&(Ke=ht*Je,et+=(ae.width-Ke)/2);break;case he:if(gt.x<=0&&(et<=Wi||Je&&(Ve<=Ei||fi>=fn))){Rt=!1;break}xi(he),Ke-=gt.x,et+=gt.x,Ke<0&&(Oe=ge,Ke=-Ke,et-=Ke),Je&&(ht=Ke/Je,Ve+=(ae.height-ht)/2);break;case Le:if(gt.y>=0&&(fi>=fn||Je&&(et<=Wi||hi>=Pi))){Rt=!1;break}xi(Le),ht+=gt.y,ht<0&&(Oe=ve,ht=-ht,Ve-=ht),Je&&(Ke=ht*Je,et+=(ae.width-Ke)/2);break;case re:if(Je){if(gt.y<=0&&(Ve<=Ei||hi>=Pi)){Rt=!1;break}xi(ve),ht-=gt.y,Ve+=gt.y,Ke=ht*Je}else xi(ve),xi(ge),gt.x>=0?hi<Pi?Ke+=gt.x:gt.y<=0&&Ve<=Ei&&(Rt=!1):Ke+=gt.x,gt.y<=0?Ve>Ei&&(ht-=gt.y,Ve+=gt.y):(ht-=gt.y,Ve+=gt.y);Ke<0&&ht<0?(Oe=ye,ht=-ht,Ke=-Ke,Ve-=ht,et-=Ke):Ke<0?(Oe=P,Ke=-Ke,et-=Ke):ht<0&&(Oe=se,ht=-ht,Ve-=ht);break;case P:if(Je){if(gt.y<=0&&(Ve<=Ei||et<=Wi)){Rt=!1;break}xi(ve),ht-=gt.y,Ve+=gt.y,Ke=ht*Je,et+=ae.width-Ke}else xi(ve),xi(he),gt.x<=0?et>Wi?(Ke-=gt.x,et+=gt.x):gt.y<=0&&Ve<=Ei&&(Rt=!1):(Ke-=gt.x,et+=gt.x),gt.y<=0?Ve>Ei&&(ht-=gt.y,Ve+=gt.y):(ht-=gt.y,Ve+=gt.y);Ke<0&&ht<0?(Oe=se,ht=-ht,Ke=-Ke,Ve-=ht,et-=Ke):Ke<0?(Oe=re,Ke=-Ke,et-=Ke):ht<0&&(Oe=ye,ht=-ht,Ve-=ht);break;case ye:if(Je){if(gt.x<=0&&(et<=Wi||fi>=fn)){Rt=!1;break}xi(he),Ke-=gt.x,et+=gt.x,ht=Ke/Je}else xi(Le),xi(he),gt.x<=0?et>Wi?(Ke-=gt.x,et+=gt.x):gt.y>=0&&fi>=fn&&(Rt=!1):(Ke-=gt.x,et+=gt.x),gt.y>=0?fi<fn&&(ht+=gt.y):ht+=gt.y;Ke<0&&ht<0?(Oe=re,ht=-ht,Ke=-Ke,Ve-=ht,et-=Ke):Ke<0?(Oe=se,Ke=-Ke,et-=Ke):ht<0&&(Oe=P,ht=-ht,Ve-=ht);break;case se:if(Je){if(gt.x>=0&&(hi>=Pi||fi>=fn)){Rt=!1;break}xi(ge),Ke+=gt.x,ht=Ke/Je}else xi(Le),xi(ge),gt.x>=0?hi<Pi?Ke+=gt.x:gt.y>=0&&fi>=fn&&(Rt=!1):Ke+=gt.x,gt.y>=0?fi<fn&&(ht+=gt.y):ht+=gt.y;Ke<0&&ht<0?(Oe=P,ht=-ht,Ke=-Ke,Ve-=ht,et-=Ke):Ke<0?(Oe=ye,Ke=-Ke,et-=Ke):ht<0&&(Oe=re,ht=-ht,Ve-=ht);break;case ue:this.move(gt.x,gt.y),Rt=!1;break;case de:this.zoom(Nr(_e),_),Rt=!1;break;case ne:if(!gt.x||!gt.y){Rt=!1;break}on=or(this.cropper),et=ri.startX-on.left,Ve=ri.startY-on.top,Ke=ae.minWidth,ht=ae.minHeight,gt.x>0?Oe=gt.y>0?se:re:gt.x<0&&(et-=Ke,Oe=gt.y>0?ye:P),gt.y<0&&(Ve-=ht),this.cropped||(Qi(this.cropBox,Be),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Rt&&(ae.width=Ke,ae.height=ht,ae.left=et,ae.top=Ve,this.action=Oe,this.renderCropBox()),wi(_e,function(an){an.startX=an.endX,an.startY=an.endY})}},li={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&$i(this.dragBox,Y),Qi(this.cropBox,Be),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ui({},this.initialImageData),this.canvasData=ui({},this.initialCanvasData),this.cropBoxData=ui({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ui(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Qi(this.dragBox,Y),$i(this.cropBox,Be)),this},replace:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&_&&(this.isImg&&(this.element.src=_),T?(this.url=_,this.image.src=_,this.ready&&(this.viewBoxImage.src=_,wi(this.previews,function(N){N.getElementsByTagName("img")[0].src=_}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(_))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Qi(this.cropper,it)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,$i(this.cropper,it)),this},destroy:function(){var _=this.element;return _[I]?(_[I]=void 0,this.isImg&&this.replaced&&(_.src=this.originalUrl),this.uncreate(),this):this},move:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,N=this.canvasData,ie=N.left,ae=N.top;return this.moveTo(Ut(_)?_:ie+Number(_),Ut(T)?T:ae+Number(T))},moveTo:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,N=this.canvasData,ie=!1;return _=Number(_),T=Number(T),this.ready&&!this.disabled&&this.options.movable&&(xt(_)&&(N.left=_,ie=!0),xt(T)&&(N.top=T,ie=!0),ie&&this.renderCanvas(!0)),this},zoom:function(_,T){var N=this.canvasData;return _=Number(_),_<0?_=1/(1-_):_=1+_,this.zoomTo(N.width*_/N.naturalWidth,null,T)},zoomTo:function(_,T,N){var ie=this.options,ae=this.canvasData,_e=ae.width,Oe=ae.height,Je=ae.naturalWidth,et=ae.naturalHeight;if(_=Number(_),_>=0&&this.ready&&!this.disabled&&ie.zoomable){var Ve=Je*_,Ke=et*_;if(rr(this.element,pe,{ratio:_,oldRatio:_e/Je,originalEvent:N})===!1)return this;if(N){var ht=this.pointers,hi=or(this.cropper),fi=ht&&Object.keys(ht).length?fo(ht):{pageX:N.pageX,pageY:N.pageY};ae.left-=(Ve-_e)*((fi.pageX-hi.left-ae.left)/_e),ae.top-=(Ke-Oe)*((fi.pageY-hi.top-ae.top)/Oe)}else un(T)&&xt(T.x)&&xt(T.y)?(ae.left-=(Ve-_e)*((T.x-ae.left)/_e),ae.top-=(Ke-Oe)*((T.y-ae.top)/Oe)):(ae.left-=(Ve-_e)/2,ae.top-=(Ke-Oe)/2);ae.width=Ve,ae.height=Ke,this.renderCanvas(!0)}return this},rotate:function(_){return this.rotateTo((this.imageData.rotate||0)+Number(_))},rotateTo:function(_){return _=Number(_),xt(_)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=_%360,this.renderCanvas(!0,!0)),this},scaleX:function(_){var T=this.imageData.scaleY;return this.scale(_,xt(T)?T:1)},scaleY:function(_){var T=this.imageData.scaleX;return this.scale(xt(T)?T:1,_)},scale:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,N=this.imageData,ie=!1;return _=Number(_),T=Number(T),this.ready&&!this.disabled&&this.options.scalable&&(xt(_)&&(N.scaleX=_,ie=!0),xt(T)&&(N.scaleY=T,ie=!0),ie&&this.renderCanvas(!0,!0)),this},getData:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.options,N=this.imageData,ie=this.canvasData,ae=this.cropBoxData,_e;if(this.ready&&this.cropped){_e={x:ae.left-ie.left,y:ae.top-ie.top,width:ae.width,height:ae.height};var Oe=N.width/N.naturalWidth;if(wi(_e,function(Ve,Ke){_e[Ke]=Ve/Oe}),_){var Je=Math.round(_e.y+_e.height),et=Math.round(_e.x+_e.width);_e.x=Math.round(_e.x),_e.y=Math.round(_e.y),_e.width=et-_e.x,_e.height=Je-_e.y}}else _e={x:0,y:0,width:0,height:0};return T.rotatable&&(_e.rotate=N.rotate||0),T.scalable&&(_e.scaleX=N.scaleX||1,_e.scaleY=N.scaleY||1),_e},setData:function(_){var T=this.options,N=this.imageData,ie=this.canvasData,ae={};if(this.ready&&!this.disabled&&un(_)){var _e=!1;T.rotatable&&xt(_.rotate)&&_.rotate!==N.rotate&&(N.rotate=_.rotate,_e=!0),T.scalable&&(xt(_.scaleX)&&_.scaleX!==N.scaleX&&(N.scaleX=_.scaleX,_e=!0),xt(_.scaleY)&&_.scaleY!==N.scaleY&&(N.scaleY=_.scaleY,_e=!0)),_e&&this.renderCanvas(!0,!0);var Oe=N.width/N.naturalWidth;xt(_.x)&&(ae.left=_.x*Oe+ie.left),xt(_.y)&&(ae.top=_.y*Oe+ie.top),xt(_.width)&&(ae.width=_.width*Oe),xt(_.height)&&(ae.height=_.height*Oe),this.setCropBoxData(ae)}return this},getContainerData:function(){return this.ready?ui({},this.containerData):{}},getImageData:function(){return this.sized?ui({},this.imageData):{}},getCanvasData:function(){var _=this.canvasData,T={};return this.ready&&wi(["left","top","width","height","naturalWidth","naturalHeight"],function(N){T[N]=_[N]}),T},setCanvasData:function(_){var T=this.canvasData,N=T.aspectRatio;return this.ready&&!this.disabled&&un(_)&&(xt(_.left)&&(T.left=_.left),xt(_.top)&&(T.top=_.top),xt(_.width)?(T.width=_.width,T.height=_.width/N):xt(_.height)&&(T.height=_.height,T.width=_.height*N),this.renderCanvas(!0)),this},getCropBoxData:function(){var _=this.cropBoxData,T;return this.ready&&this.cropped&&(T={left:_.left,top:_.top,width:_.width,height:_.height}),T||{}},setCropBoxData:function(_){var T=this.cropBoxData,N=this.options.aspectRatio,ie,ae;return this.ready&&this.cropped&&!this.disabled&&un(_)&&(xt(_.left)&&(T.left=_.left),xt(_.top)&&(T.top=_.top),xt(_.width)&&_.width!==T.width&&(ie=!0,T.width=_.width),xt(_.height)&&_.height!==T.height&&(ae=!0,T.height=_.height),N&&(ie?T.height=T.width/N:ae&&(T.width=T.height*N)),this.renderCropBox()),this},getCroppedCanvas:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var T=this.canvasData,N=Dt(this.image,this.imageData,T,_);if(!this.cropped)return N;var ie=this.getData(_.rounded),ae=ie.x,_e=ie.y,Oe=ie.width,Je=ie.height,et=N.width/Math.floor(T.naturalWidth);et!==1&&(ae*=et,_e*=et,Oe*=et,Je*=et);var Ve=Oe/Je,Ke=Xn({aspectRatio:Ve,width:_.maxWidth||1/0,height:_.maxHeight||1/0}),ht=Xn({aspectRatio:Ve,width:_.minWidth||0,height:_.minHeight||0},"cover"),hi=Xn({aspectRatio:Ve,width:_.width||(et!==1?N.width:Oe),height:_.height||(et!==1?N.height:Je)}),fi=hi.width,Wi=hi.height;fi=Math.min(Ke.width,Math.max(ht.width,fi)),Wi=Math.min(Ke.height,Math.max(ht.height,Wi));var Ei=document.createElement("canvas"),Pi=Ei.getContext("2d");Ei.width=Bi(fi),Ei.height=Bi(Wi),Pi.fillStyle=_.fillColor||"transparent",Pi.fillRect(0,0,fi,Wi);var fn=_.imageSmoothingEnabled,Rt=fn===void 0?!0:fn,on=_.imageSmoothingQuality;Pi.imageSmoothingEnabled=Rt,on&&(Pi.imageSmoothingQuality=on);var ri=N.width,gt=N.height,xi=ae,an=_e,sr,An,Ur,Ir,Xt,oi;xi<=-Oe||xi>ri?(xi=0,sr=0,Ur=0,Xt=0):xi<=0?(Ur=-xi,xi=0,sr=Math.min(ri,Oe+xi),Xt=sr):xi<=ri&&(Ur=0,sr=Math.min(Oe,ri-xi),Xt=sr),sr<=0||an<=-Je||an>gt?(an=0,An=0,Ir=0,oi=0):an<=0?(Ir=-an,an=0,An=Math.min(gt,Je+an),oi=An):an<=gt&&(Ir=0,An=Math.min(Je,gt-an),oi=An);var wn=[xi,an,sr,An];if(Xt>0&&oi>0){var zr=fi/Oe;wn.push(Ur*zr,Ir*zr,Xt*zr,oi*zr)}return Pi.drawImage.apply(Pi,[N].concat(E(wn.map(function(Xo){return Math.floor(Bi(Xo))})))),Ei},setAspectRatio:function(_){var T=this.options;return!this.disabled&&!Ut(_)&&(T.aspectRatio=Math.max(0,_)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(_){var T=this.options,N=this.dragBox,ie=this.face;if(this.ready&&!this.disabled){var ae=_===we,_e=T.movable&&_===Te;_=ae||_e?_:qe,T.dragMode=_,Yn(N,Fe,_),gr(N,Ee,ae),gr(N,De,_e),T.cropBoxMovable||(Yn(ie,Fe,_),gr(ie,Ee,ae),gr(ie,De,_e))}return this}},po=S.Cropper,Wt=function(){function ke(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(f(this,ke),!_||!Pt.test(_.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=_,this.options=ui({},Yt,un(T)&&T),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return x(ke,[{key:"init",value:function(){var T=this.element,N=T.tagName.toLowerCase(),ie;if(!T[I]){if(T[I]=this,N==="img"){if(this.isImg=!0,ie=T.getAttribute("src")||"",this.originalUrl=ie,!ie)return;ie=T.src}else N==="canvas"&&window.HTMLCanvasElement&&(ie=T.toDataURL());this.load(ie)}}},{key:"load",value:function(T){var N=this;if(T){this.url=T,this.imageData={};var ie=this.element,ae=this.options;if(!ae.rotatable&&!ae.scalable&&(ae.checkOrientation=!1),!ae.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Qe.test(T)){mt.test(T)?this.read(J(T)):this.clone();return}var _e=new XMLHttpRequest,Oe=this.clone.bind(this);this.reloading=!0,this.xhr=_e,_e.onabort=Oe,_e.onerror=Oe,_e.ontimeout=Oe,_e.onprogress=function(){_e.getResponseHeader("content-type")!==ze&&_e.abort()},_e.onload=function(){N.read(_e.response)},_e.onloadend=function(){N.reloading=!1,N.xhr=null},ae.checkCrossOrigin&&io(T)&&ie.crossOrigin&&(T=kr(T)),_e.open("GET",T,!0),_e.responseType="arraybuffer",_e.withCredentials=ie.crossOrigin==="use-credentials",_e.send()}}},{key:"read",value:function(T){var N=this.options,ie=this.imageData,ae=$e(T),_e=0,Oe=1,Je=1;if(ae>1){this.url=xe(T,ze);var et=nt(ae);_e=et.rotate,Oe=et.scaleX,Je=et.scaleY}N.rotatable&&(ie.rotate=_e),N.scalable&&(ie.scaleX=Oe,ie.scaleY=Je),this.clone()}},{key:"clone",value:function(){var T=this.element,N=this.url,ie=T.crossOrigin,ae=N;this.options.checkCrossOrigin&&io(N)&&(ie||(ie="anonymous"),ae=kr(N)),this.crossOrigin=ie,this.crossOriginUrl=ae;var _e=document.createElement("img");ie&&(_e.crossOrigin=ie),_e.src=ae||N,_e.alt=T.alt||"The image to crop",this.image=_e,_e.onload=this.start.bind(this),_e.onerror=this.stop.bind(this),$i(_e,Me),T.parentNode.insertBefore(_e,T.nextSibling)}},{key:"start",value:function(){var T=this,N=this.image;N.onload=null,N.onerror=null,this.sizing=!0;var ie=S.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(S.navigator.userAgent),ae=function(et,Ve){ui(T.imageData,{naturalWidth:et,naturalHeight:Ve,aspectRatio:et/Ve}),T.initialImageData=ui({},T.imageData),T.sizing=!1,T.sized=!0,T.build()};if(N.naturalWidth&&!ie){ae(N.naturalWidth,N.naturalHeight);return}var _e=document.createElement("img"),Oe=document.body||document.documentElement;this.sizingImage=_e,_e.onload=function(){ae(_e.width,_e.height),ie||Oe.removeChild(_e)},_e.src=N.src,ie||(_e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Oe.appendChild(_e))}},{key:"stop",value:function(){var T=this.image;T.onload=null,T.onerror=null,T.parentNode.removeChild(T),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var T=this.element,N=this.options,ie=this.image,ae=T.parentNode,_e=document.createElement("div");_e.innerHTML=Qt;var Oe=_e.querySelector(".".concat(I,"-container")),Je=Oe.querySelector(".".concat(I,"-canvas")),et=Oe.querySelector(".".concat(I,"-drag-box")),Ve=Oe.querySelector(".".concat(I,"-crop-box")),Ke=Ve.querySelector(".".concat(I,"-face"));this.container=ae,this.cropper=Oe,this.canvas=Je,this.dragBox=et,this.cropBox=Ve,this.viewBox=Oe.querySelector(".".concat(I,"-view-box")),this.face=Ke,Je.appendChild(ie),$i(T,Be),ae.insertBefore(Oe,T.nextSibling),Qi(ie,Me),this.initPreview(),this.bind(),N.initialAspectRatio=Math.max(0,N.initialAspectRatio)||NaN,N.aspectRatio=Math.max(0,N.aspectRatio)||NaN,N.viewMode=Math.max(0,Math.min(3,Math.round(N.viewMode)))||0,$i(Ve,Be),N.guides||$i(Ve.getElementsByClassName("".concat(I,"-dashed")),Be),N.center||$i(Ve.getElementsByClassName("".concat(I,"-center")),Be),N.background&&$i(Oe,"".concat(I,"-bg")),N.highlight||$i(Ke,te),N.cropBoxMovable&&($i(Ke,De),Yn(Ke,Fe,V)),N.cropBoxResizable||($i(Ve.getElementsByClassName("".concat(I,"-line")),Be),$i(Ve.getElementsByClassName("".concat(I,"-point")),Be)),this.render(),this.ready=!0,this.setDragMode(N.dragMode),N.autoCrop&&this.crop(),this.setData(N.data),yi(N.ready)&&Ji(T,le,N.ready,{once:!0}),rr(T,le)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var T=this.cropper.parentNode;T&&T.removeChild(this.cropper),Qi(this.element,Be)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=po,ke}},{key:"setDefaults",value:function(T){ui(Yt,un(T)&&T)}}])}();return ui(Wt.prototype,je,pt,ni,Ui,Nt,li),Wt})}(Bf)),Bf.exports}var r0;function tA(){if(r0)return Cf;r0=1,Object.defineProperty(Cf,"__esModule",{value:!0});var t=QT,e=u(t),n=eA(),s=u(n);function u(v){return v&&v.__esModule?v:{default:v}}function l(v,x){var w={};for(var E in v)x.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(v,E)&&(w[E]=v[E]);return w}var h=e.default.extend({render:function(x){return x("div",{style:this.containerStyle},[x("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var x=this.$options.props;x.containerStyle,x.src,x.alt,x.imgStyle;var w=l(x,["containerStyle","src","alt","imgStyle"]),E={};for(var O in w)this[O]!==void 0&&(E[O]=this[O]);this.cropper=new s.default(this.$refs.img,E)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(x,w)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(x,w){return this.cropper.move(x,w)},moveTo:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.moveTo(x,w)},relativeZoom:function(x,w){return this.cropper.zoom(x,w)},zoomTo:function(x,w){return this.cropper.zoomTo(x,w)},rotate:function(x){return this.cropper.rotate(x)},rotateTo:function(x){return this.cropper.rotateTo(x)},scaleX:function(x){return this.cropper.scaleX(x)},scaleY:function(x){return this.cropper.scaleY(x)},scale:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return this.cropper.scale(x,w)},getData:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(x)},setData:function(x){return this.cropper.setData(x)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(x){return this.cropper.setCanvasData(x)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(x){return this.cropper.setCropBoxData(x)},getCroppedCanvas:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(x)},setAspectRatio:function(x){return this.cropper.setAspectRatio(x)},setDragMode:function(x){return this.cropper.setDragMode(x)}}}),f=e.default.component("vue-cropper",h);return Cf.default=f,Cf}tA();const ud=typeof window<"u"&&typeof window.document<"u",Na=ud?window:{},tm=ud?"ontouchstart"in Na.document.documentElement:!1,im=ud?"PointerEvent"in Na:!1,Iu="cropper",dc=`${Iu}-canvas`,iA=`${Iu}-crosshair`,nA=`${Iu}-grid`,rA=`${Iu}-handle`,uc=`${Iu}-image`,hs=`${Iu}-selection`,oA=`${Iu}-shade`,aA=`${Iu}-viewer`,ed="select",Ab="move",lc="scale",Op="rotate",td="transform",Au="none",o0="n-resize",a0="e-resize",s0="s-resize",u0="w-resize",Zc="ne-resize",Vc="nw-resize",Kc="se-resize",Qc="sw-resize",sA="action",uA=tm?"touchend touchcancel":"mouseup",lA=tm?"touchmove":"mousemove",cA=tm?"touchstart":"mousedown",l0=im?"pointerdown":cA,c0=im?"pointermove":lA,h0=im?"pointerup pointercancel":uA,f0="error",d0="keydown",tc="load",p0="wheel",cc="action",gl="actionend",hA="actionmove",vl="actionstart",Ou="change",Rp="transform";function Hf(t){return typeof t=="string"}const Lb=Number.isNaN||Na.isNaN;function Di(t){return typeof t=="number"&&!Lb(t)}function Eo(t){return Di(t)&&t>0&&t<1/0}function fA(t){return typeof t>"u"}function Db(t){return typeof t=="object"&&t!==null}const{hasOwnProperty:dA}=Object.prototype;function id(t){if(!Db(t))return!1;try{const{constructor:e}=t,{prototype:n}=e;return e&&n&&dA.call(n,"isPrototypeOf")}catch{return!1}}function nm(t){return typeof t=="function"}function ch(t){return typeof t=="object"&&t!==null&&t.nodeType===1}const pA=/([a-z\d])([A-Z])/g;function m0(t){return String(t).replace(pA,"$1-$2").toLowerCase()}const mA=/-[A-z\d]/g;function g0(t){return t.replace(mA,e=>e.slice(1).toUpperCase())}const Mb=/\s\s*/;function pr(t,e,n,s){e.trim().split(Mb).forEach(u=>{t.removeEventListener(u,n,s)})}function xr(t,e,n,s){e.trim().split(Mb).forEach(u=>{t.addEventListener(u,n,s)})}function v0(t,e,n,s){xr(t,e,n,Object.assign(Object.assign({},s),{once:!0}))}const gA={bubbles:!0,cancelable:!0,composed:!0};function vA(t,e,n,s){return t.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign(Object.assign({},gA),{detail:n}),s)))}const b0=Promise.resolve();function bA(t,e){return e?b0.then(t?e.bind(t):e):b0}function _0(t){const{documentElement:e}=t.ownerDocument,n=t.getBoundingClientRect();return{left:n.left+(Na.pageXOffset-e.clientLeft),top:n.top+(Na.pageYOffset-e.clientTop)}}const _A=/deg|g?rad|turn$/i;function pp(t){const e=parseFloat(t)||0;if(e!==0){const[n="rad"]=String(t).match(_A)||[];switch(n.toLowerCase()){case"deg":return e/360*(Math.PI*2);case"grad":return e/400*(Math.PI*2);case"turn":return e*(Math.PI*2)}}return e}const y0="contain",yA="cover";function $f(t,e=y0){const{aspectRatio:n}=t;let{width:s,height:u}=t;const l=Eo(s),h=Eo(u);if(l&&h){const f=u*n;e===y0&&f>s||e===yA&&f<s?u=s/n:s=u*n}else l?u=s/n:h&&(s=u*n);return{width:s,height:u}}function Pb(t,...e){if(e.length===0)return t;const[n,s,u,l,h,f]=t,[v,x,w,E,O,H]=e[0];return t=[n*v+u*x,s*v+l*x,n*w+u*E,s*w+l*E,n*O+u*H+h,s*O+l*H+f],Pb(t,...e.slice(1))}var wA=":host([hidden]){display:none!important}";const xA=/left|top|width|height/i,w0="open",Ef=new WeakMap,Sf=new WeakMap,x0=new Map,k0=Na.document&&Array.isArray(Na.document.adoptedStyleSheets)&&"replaceSync"in Na.CSSStyleSheet.prototype;class Ws extends HTMLElement{get $sharedStyle(){return`${this.themeColor?`:host{--theme-color: ${this.themeColor};}`:""}${wA}`}constructor(){var e,n;super(),this.shadowRootMode=w0,this.slottable=!0;const s=(n=(e=Object.getPrototypeOf(this))===null||e===void 0?void 0:e.constructor)===null||n===void 0?void 0:n.$name;s&&x0.set(s,this.tagName.toLowerCase())}static get observedAttributes(){return["shadow-root-mode","slottable","theme-color"]}attributeChangedCallback(e,n,s){if(Object.is(s,n))return;const u=g0(e),l=this[u];let h=s;switch(typeof l){case"boolean":h=s!==null&&s!=="false";break;case"number":h=Number(s);break}switch(this[u]=h,e){case"theme-color":{const f=Sf.get(this),v=this.$sharedStyle;f&&v&&(k0?f.replaceSync(v):f.textContent=v);break}}}$propertyChangedCallback(e,n,s){if(!Object.is(s,n))switch(e=m0(e),typeof s){case"boolean":s===!0?this.hasAttribute(e)||this.setAttribute(e,""):this.removeAttribute(e);break;case"number":Lb(s)?s="":s=String(s);default:s?this.getAttribute(e)!==s&&this.setAttribute(e,s):this.removeAttribute(e)}}connectedCallback(){Object.getPrototypeOf(this).constructor.observedAttributes.forEach(n=>{const s=g0(n);let u=this[s];fA(u)||this.$propertyChangedCallback(s,void 0,u),Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get(){return u},set(l){const h=u;u=l,this.$propertyChangedCallback(s,h,l)}})});const e=this.attachShadow({mode:this.shadowRootMode||w0});if(this.shadowRoot||Ef.set(this,e),Sf.set(this,this.$addStyles(this.$sharedStyle)),this.$style&&this.$addStyles(this.$style),this.$template){const n=document.createElement("template");n.innerHTML=this.$template,e.appendChild(n.content)}if(this.slottable){const n=document.createElement("slot");e.appendChild(n)}}disconnectedCallback(){Sf.has(this)&&Sf.delete(this),Ef.has(this)&&Ef.delete(this)}$getTagNameOf(e){var n;return(n=x0.get(e))!==null&&n!==void 0?n:e}$setStyles(e){return Object.keys(e).forEach(n=>{let s=e[n];Di(s)&&(s!==0&&xA.test(n)?s=`${s}px`:s=String(s)),this.style[n]=s}),this}$getShadowRoot(){return this.shadowRoot||Ef.get(this)}$addStyles(e){let n;const s=this.$getShadowRoot();return k0?(n=new CSSStyleSheet,n.replaceSync(e),s.adoptedStyleSheets=s.adoptedStyleSheets.concat(n)):(n=document.createElement("style"),n.textContent=e,s.appendChild(n)),n}$emit(e,n,s){return vA(this,e,n,s)}$nextTick(e){return bA(this,e)}static $define(e,n){Db(e)&&(n=e,e=""),e||(e=this.$name||this.name),e=m0(e),ud&&Na.customElements&&!Na.customElements.get(e)&&customElements.define(e,this,n)}}Ws.$version="2.0.0";var kA=':host{display:block;min-height:100px;min-width:200px;overflow:hidden;position:relative;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([background]){background-color:#fff;background-image:repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc),repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc);background-image:repeating-conic-gradient(#ccc 0 25%,#fff 0 50%);background-position:0 0,.5rem .5rem;background-size:1rem 1rem}:host([disabled]){pointer-events:none}:host([disabled]):after{bottom:0;content:"";cursor:not-allowed;display:block;left:0;pointer-events:none;position:absolute;right:0;top:0}';class rm extends Ws{constructor(){super(...arguments),this.$onPointerDown=null,this.$onPointerMove=null,this.$onPointerUp=null,this.$onWheel=null,this.$wheeling=!1,this.$pointers=new Map,this.$style=kA,this.$action=Au,this.background=!1,this.disabled=!1,this.scaleStep=.1,this.themeColor="#39f"}static get observedAttributes(){return super.observedAttributes.concat(["background","disabled","scale-step"])}connectedCallback(){super.connectedCallback(),this.disabled||this.$bind()}disconnectedCallback(){this.disabled||this.$unbind(),super.disconnectedCallback()}$propertyChangedCallback(e,n,s){if(!Object.is(s,n))switch(super.$propertyChangedCallback(e,n,s),e){case"disabled":s?this.$unbind():this.$bind();break}}$bind(){this.$onPointerDown||(this.$onPointerDown=this.$handlePointerDown.bind(this),xr(this,l0,this.$onPointerDown)),this.$onPointerMove||(this.$onPointerMove=this.$handlePointerMove.bind(this),xr(this.ownerDocument,c0,this.$onPointerMove)),this.$onPointerUp||(this.$onPointerUp=this.$handlePointerUp.bind(this),xr(this.ownerDocument,h0,this.$onPointerUp)),this.$onWheel||(this.$onWheel=this.$handleWheel.bind(this),xr(this,p0,this.$onWheel,{passive:!1,capture:!0}))}$unbind(){this.$onPointerDown&&(pr(this,l0,this.$onPointerDown),this.$onPointerDown=null),this.$onPointerMove&&(pr(this.ownerDocument,c0,this.$onPointerMove),this.$onPointerMove=null),this.$onPointerUp&&(pr(this.ownerDocument,h0,this.$onPointerUp),this.$onPointerUp=null),this.$onWheel&&(pr(this,p0,this.$onWheel,{capture:!0}),this.$onWheel=null)}$handlePointerDown(e){const{buttons:n,button:s,type:u}=e;if(this.disabled||(u==="pointerdown"&&e.pointerType==="mouse"||u==="mousedown")&&(Di(n)&&n!==1||Di(s)&&s!==0||e.ctrlKey))return;const{$pointers:l}=this;let h="";if(e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:f,pageX:v,pageY:x})=>{l.set(f,{startX:v,startY:x,endX:v,endY:x})});else{const{pointerId:f=0,pageX:v,pageY:x}=e;l.set(f,{startX:v,startY:x,endX:v,endY:x})}l.size>1?h=td:ch(e.target)&&(h=e.target.action||e.target.getAttribute(sA)||""),this.$emit(vl,{action:h,relatedEvent:e})!==!1&&(e.preventDefault(),this.$action=h,this.style.willChange="transform")}$handlePointerMove(e){const{$action:n,$pointers:s}=this;if(this.disabled||n===Au||s.size===0||this.$emit(hA,{action:n,relatedEvent:e})===!1)return;if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:l,pageX:h,pageY:f})=>{const v=s.get(l);v&&Object.assign(v,{endX:h,endY:f})});else{const{pointerId:l=0,pageX:h,pageY:f}=e,v=s.get(l);v&&Object.assign(v,{endX:h,endY:f})}const u={action:n,relatedEvent:e};if(n===td){const l=new Map(s);let h=0,f=0,v=0,x=0,w=e.pageX,E=e.pageY;s.forEach((F,j)=>{l.delete(j),l.forEach(q=>{let M=q.startX-F.startX,S=q.startY-F.startY,D=q.endX-F.endX,B=q.endY-F.endY,I=0,V=0,ne=0,ue=0;if(M===0?S<0?ne=Math.PI*2:S>0&&(ne=Math.PI):M>0?ne=Math.PI/2+Math.atan(S/M):M<0&&(ne=Math.PI*1.5+Math.atan(S/M)),D===0?B<0?ue=Math.PI*2:B>0&&(ue=Math.PI):D>0?ue=Math.PI/2+Math.atan(B/D):D<0&&(ue=Math.PI*1.5+Math.atan(B/D)),ue>0||ne>0){const de=ue-ne,ge=Math.abs(de);ge>h&&(h=ge,v=de,w=(F.startX+q.startX)/2,E=(F.startY+q.startY)/2)}if(M=Math.abs(M),S=Math.abs(S),D=Math.abs(D),B=Math.abs(B),M>0&&S>0?I=Math.sqrt(M*M+S*S):M>0?I=M:S>0&&(I=S),D>0&&B>0?V=Math.sqrt(D*D+B*B):D>0?V=D:B>0&&(V=B),I>0&&V>0){const de=(V-I)/I,ge=Math.abs(de);ge>f&&(f=ge,x=de,w=(F.startX+q.startX)/2,E=(F.startY+q.startY)/2)}})});const O=h>0,H=f>0;O&&H?(u.rotate=v,u.scale=x,u.centerX=w,u.centerY=E):O?(u.action=Op,u.rotate=v,u.centerX=w,u.centerY=E):H?(u.action=lc,u.scale=x,u.centerX=w,u.centerY=E):u.action=Au}else{const[l]=Array.from(s.values());Object.assign(u,l)}s.forEach(l=>{l.startX=l.endX,l.startY=l.endY}),u.action!==Au&&this.$emit(cc,u,{cancelable:!1})}$handlePointerUp(e){const{$action:n,$pointers:s}=this;if(!(this.disabled||n===Au)&&this.$emit(gl,{action:n,relatedEvent:e})!==!1){if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:u})=>{s.delete(u)});else{const{pointerId:u=0}=e;s.delete(u)}s.size===0&&(this.style.willChange="",this.$action=Au)}}$handleWheel(e){if(this.disabled||(e.preventDefault(),this.$wheeling))return;this.$wheeling=!0,setTimeout(()=>{this.$wheeling=!1},50);const s=(e.deltaY>0?-1:1)*this.scaleStep;this.$emit(cc,{action:lc,scale:s,relatedEvent:e},{cancelable:!1})}$setAction(e){return Hf(e)&&(this.$action=e),this}$toCanvas(e){return new Promise((n,s)=>{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const u=document.createElement("canvas");let l=this.offsetWidth,h=this.offsetHeight,f=1;id(e)&&(Eo(e.width)||Eo(e.height))&&({width:l,height:h}=$f({aspectRatio:l/h,width:e.width,height:e.height}),f=l/this.offsetWidth),u.width=l,u.height=h;const v=this.querySelector(this.$getTagNameOf(uc));if(!v){n(u);return}v.$ready().then(x=>{const w=u.getContext("2d");if(w){const[E,O,H,F,j,q]=v.$getTransform();let M=j,S=q,D=x.naturalWidth,B=x.naturalHeight;f!==1&&(M*=f,S*=f,D*=f,B*=f);const I=D/2,V=B/2;w.fillStyle="transparent",w.fillRect(0,0,l,h),id(e)&&nm(e.beforeDraw)&&e.beforeDraw.call(this,w,u),w.save(),w.translate(I,V),w.transform(E,O,H,F,M,S),w.translate(-I,-V),w.drawImage(x,0,0,D,B),w.restore()}n(u)}).catch(s)})}}rm.$name=dc;rm.$version="2.0.0";var CA=":host{display:inline-block}img{display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}";const C0=new WeakMap,E0=["alt","crossorigin","decoding","importance","loading","referrerpolicy","sizes","src","srcset"];class om extends Ws{constructor(){super(...arguments),this.$matrix=[1,0,0,1,0,0],this.$onLoad=null,this.$onCanvasAction=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$actionStartTarget=null,this.$style=CA,this.$image=new Image,this.initialCenterSize="contain",this.rotatable=!1,this.scalable=!1,this.skewable=!1,this.slottable=!1,this.translatable=!1}set $canvas(e){C0.set(this,e)}get $canvas(){return C0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(E0,["initial-center-size","rotatable","scalable","skewable","translatable"])}attributeChangedCallback(e,n,s){Object.is(s,n)||(super.attributeChangedCallback(e,n,s),E0.includes(e)&&this.$image.setAttribute(e,s))}$propertyChangedCallback(e,n,s){if(!Object.is(s,n))switch(super.$propertyChangedCallback(e,n,s),e){case"initialCenterSize":this.$nextTick(()=>{this.$center(s)});break}}connectedCallback(){super.connectedCallback();const{$image:e}=this,n=this.closest(this.$getTagNameOf(dc));n&&(this.$canvas=n,this.$setStyles({display:"block",position:"absolute"}),this.$onCanvasActionStart=s=>{var u,l;this.$actionStartTarget=(l=(u=s.detail)===null||u===void 0?void 0:u.relatedEvent)===null||l===void 0?void 0:l.target},this.$onCanvasActionEnd=()=>{this.$actionStartTarget=null},this.$onCanvasAction=this.$handleAction.bind(this),xr(n,vl,this.$onCanvasActionStart),xr(n,gl,this.$onCanvasActionEnd),xr(n,cc,this.$onCanvasAction)),this.$onLoad=this.$handleLoad.bind(this),xr(e,tc,this.$onLoad),this.$getShadowRoot().appendChild(e)}disconnectedCallback(){const{$image:e,$canvas:n}=this;n&&(this.$onCanvasActionStart&&(pr(n,vl,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(pr(n,gl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(pr(n,cc,this.$onCanvasAction),this.$onCanvasAction=null)),e&&this.$onLoad&&(pr(e,tc,this.$onLoad),this.$onLoad=null),this.$getShadowRoot().removeChild(e),super.disconnectedCallback()}$handleLoad(){const{$image:e}=this;this.$setStyles({width:e.naturalWidth,height:e.naturalHeight}),this.$canvas&&this.$center(this.initialCenterSize)}$handleAction(e){if(this.hidden||!(this.rotatable||this.scalable||this.translatable))return;const{$canvas:n}=this,{detail:s}=e;if(s){const{relatedEvent:u}=s;let{action:l}=s;switch(l===td&&(!this.rotatable||!this.scalable)&&(this.rotatable?l=Op:this.scalable?l=lc:l=Au),l){case Ab:if(this.translatable){let h=null;u&&(h=u.target.closest(this.$getTagNameOf(hs))),h||(h=n.querySelector(this.$getTagNameOf(hs))),h&&h.multiple&&!h.active&&(h=n.querySelector(`${this.$getTagNameOf(hs)}[active]`)),(!h||h.hidden||!h.movable||h.dynamic||!(this.$actionStartTarget&&h.contains(this.$actionStartTarget)))&&this.$move(s.endX-s.startX,s.endY-s.startY)}break;case Op:if(this.rotatable)if(u){const{x:h,y:f}=this.getBoundingClientRect();this.$rotate(s.rotate,u.clientX-h,u.clientY-f)}else this.$rotate(s.rotate);break;case lc:if(this.scalable)if(u){const h=u.target.closest(this.$getTagNameOf(hs));if(!h||!h.zoomable||h.zoomable&&h.dynamic){const{x:f,y:v}=this.getBoundingClientRect();this.$zoom(s.scale,u.clientX-f,u.clientY-v)}}else this.$zoom(s.scale);break;case td:if(this.rotatable&&this.scalable){const{rotate:h}=s;let{scale:f}=s;f<0?f=1/(1-f):f+=1;const v=Math.cos(h),x=Math.sin(h),[w,E,O,H]=[v*f,x*f,-x*f,v*f];if(u){const F=this.getBoundingClientRect(),j=u.clientX-F.x,q=u.clientY-F.y,[M,S,D,B]=this.$matrix,I=F.width/2,V=F.height/2,ne=j-I,ue=q-V,de=(ne*B-D*ue)/(M*B-D*S),ge=(ue*M-S*ne)/(M*B-D*S);this.$transform(w,E,O,H,de*(1-w)+ge*O,ge*(1-H)+de*E)}else this.$transform(w,E,O,H,0,0)}break}}}$ready(e){const{$image:n}=this,s=new Promise((u,l)=>{const h=new Error("Failed to load the image source");if(n.complete)n.naturalWidth>0&&n.naturalHeight>0?u(n):l(h);else{const f=()=>{pr(n,f0,v),u(n)},v=()=>{pr(n,tc,f),l(h)};v0(n,tc,f),v0(n,f0,v)}});return nm(e)&&s.then(u=>(e(u),u)),s}$center(e){const{parentElement:n}=this;if(!n)return this;const s=n.getBoundingClientRect(),u=s.width,l=s.height,{x:h,y:f,width:v,height:x}=this.getBoundingClientRect(),w=h+v/2,E=f+x/2,O=s.x+u/2,H=s.y+l/2;if(this.$move(O-w,H-E),e&&(v!==u||x!==l)){const F=u/v,j=l/x;switch(e){case"cover":this.$scale(Math.max(F,j));break;case"contain":this.$scale(Math.min(F,j));break}}return this}$move(e,n=e){if(this.translatable&&Di(e)&&Di(n)){const[s,u,l,h]=this.$matrix,f=(e*h-l*n)/(s*h-l*u),v=(n*s-u*e)/(s*h-l*u);this.$translate(f,v)}return this}$moveTo(e,n=e){if(this.translatable&&Di(e)&&Di(n)){const[s,u,l,h]=this.$matrix,f=(e*h-l*n)/(s*h-l*u),v=(n*s-u*e)/(s*h-l*u);this.$setTransform(s,u,l,h,f,v)}return this}$rotate(e,n,s){if(this.rotatable){const u=pp(e),l=Math.cos(u),h=Math.sin(u),[f,v,x,w]=[l,h,-h,l];if(Di(n)&&Di(s)){const[E,O,H,F]=this.$matrix,{width:j,height:q}=this.getBoundingClientRect(),M=j/2,S=q/2,D=n-M,B=s-S,I=(D*F-H*B)/(E*F-H*O),V=(B*E-O*D)/(E*F-H*O);this.$transform(f,v,x,w,I*(1-f)-V*x,V*(1-w)-I*v)}else this.$transform(f,v,x,w,0,0)}return this}$zoom(e,n,s){if(!this.scalable||e===0)return this;if(e<0?e=1/(1-e):e+=1,Di(n)&&Di(s)){const[u,l,h,f]=this.$matrix,{width:v,height:x}=this.getBoundingClientRect(),w=v/2,E=x/2,O=n-w,H=s-E,F=(O*f-h*H)/(u*f-h*l),j=(H*u-l*O)/(u*f-h*l);this.$transform(e,0,0,e,F*(1-e),j*(1-e))}else this.$scale(e);return this}$scale(e,n=e){return this.scalable&&this.$transform(e,0,0,n,0,0),this}$skew(e,n=0){if(this.skewable){const s=pp(e),u=pp(n);this.$transform(1,Math.tan(u),Math.tan(s),1,0,0)}return this}$translate(e,n=e){return this.translatable&&Di(e)&&Di(n)&&this.$transform(1,0,0,1,e,n),this}$transform(e,n,s,u,l,h){return Di(e)&&Di(n)&&Di(s)&&Di(u)&&Di(l)&&Di(h)?this.$setTransform(Pb(this.$matrix,[e,n,s,u,l,h])):this}$setTransform(e,n,s,u,l,h){if((this.rotatable||this.scalable||this.skewable||this.translatable)&&(Array.isArray(e)&&([e,n,s,u,l,h]=e),Di(e)&&Di(n)&&Di(s)&&Di(u)&&Di(l)&&Di(h))){const f=[...this.$matrix],v=[e,n,s,u,l,h];if(this.$emit(Rp,{matrix:v,oldMatrix:f})===!1)return this;this.$matrix=v,this.style.transform=`matrix(${v.join(", ")})`}return this}$getTransform(){return this.$matrix.slice()}$resetTransform(){return this.$setTransform([1,0,0,1,0,0])}}om.$name=uc;om.$version="2.0.0";var EA=":host{display:block;height:0;left:0;outline:var(--theme-color) solid 1px;position:relative;top:0;width:0}:host([transparent]){outline-color:transparent}";const S0=new WeakMap;class am extends Ws{constructor(){super(...arguments),this.$onCanvasChange=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$style=EA,this.x=0,this.y=0,this.width=0,this.height=0,this.slottable=!1,this.themeColor="rgba(0, 0, 0, 0.65)"}set $canvas(e){S0.set(this,e)}get $canvas(){return S0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["height","width","x","y"])}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(dc));if(e){this.$canvas=e,this.style.position="absolute";const n=e.querySelector(this.$getTagNameOf(hs));n&&(this.$onCanvasActionStart=s=>{n.hidden&&s.detail.action===ed&&(this.hidden=!1)},this.$onCanvasActionEnd=s=>{n.hidden&&s.detail.action===ed&&(this.hidden=!0)},this.$onCanvasChange=s=>{const{x:u,y:l,width:h,height:f}=s.detail;this.$change(u,l,h,f),(n.hidden||u===0&&l===0&&h===0&&f===0)&&(this.hidden=!0)},xr(e,vl,this.$onCanvasActionStart),xr(e,gl,this.$onCanvasActionEnd),xr(e,Ou,this.$onCanvasChange))}this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(pr(e,vl,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(pr(e,gl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasChange&&(pr(e,Ou,this.$onCanvasChange),this.$onCanvasChange=null)),super.disconnectedCallback()}$change(e,n,s=this.width,u=this.height){return!Di(e)||!Di(n)||!Di(s)||!Di(u)||e===this.x&&n===this.y&&s===this.width&&u===this.height?this:(this.hidden&&(this.hidden=!1),this.x=e,this.y=n,this.width=s,this.height=u,this.$render())}$reset(){return this.$change(0,0,0,0)}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height,outlineWidth:Na.innerWidth})}}am.$name=oA;am.$version="2.0.0";var SA=':host{background-color:var(--theme-color);display:block}:host([action=move]),:host([action=select]){height:100%;left:0;position:absolute;top:0;width:100%}:host([action=move]){cursor:move}:host([action=select]){cursor:crosshair}:host([action$=-resize]){background-color:transparent;height:15px;position:absolute;width:15px}:host([action$=-resize]):after{background-color:var(--theme-color);content:"";display:block;height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:5px}:host([action=n-resize]),:host([action=s-resize]){cursor:ns-resize;left:50%;transform:translateX(-50%);width:100%}:host([action=n-resize]){top:-8px}:host([action=s-resize]){bottom:-8px}:host([action=e-resize]),:host([action=w-resize]){cursor:ew-resize;height:100%;top:50%;transform:translateY(-50%)}:host([action=e-resize]){right:-8px}:host([action=w-resize]){left:-8px}:host([action=ne-resize]){cursor:nesw-resize;right:-8px;top:-8px}:host([action=nw-resize]){cursor:nwse-resize;left:-8px;top:-8px}:host([action=se-resize]){bottom:-8px;cursor:nwse-resize;right:-8px}:host([action=se-resize]):after{height:15px;width:15px}@media (pointer:coarse){:host([action=se-resize]):after{height:10px;width:10px}}@media (pointer:fine){:host([action=se-resize]):after{height:5px;width:5px}}:host([action=sw-resize]){bottom:-8px;cursor:nesw-resize;left:-8px}:host([plain]){background-color:transparent}';class sm extends Ws{constructor(){super(...arguments),this.$onCanvasCropEnd=null,this.$onCanvasCropStart=null,this.$style=SA,this.action=Au,this.plain=!1,this.slottable=!1,this.themeColor="rgba(51, 153, 255, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["action","plain"])}}sm.$name=rA;sm.$version="2.0.0";var TA=':host{display:block;left:0;position:relative;right:0}:host([outlined]){outline:1px solid var(--theme-color)}:host([multiple]){outline:1px dashed hsla(0,0%,100%,.5)}:host([multiple]):after{bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0}:host([multiple][active]){outline-color:var(--theme-color);z-index:1}:host([multiple])>*{visibility:hidden}:host([multiple][active])>*{visibility:visible}:host([multiple][active]):after{display:none}';const T0=new WeakMap;class um extends Ws{constructor(){super(...arguments),this.$onCanvasAction=null,this.$onCanvasActionStart=null,this.$onCanvasActionEnd=null,this.$onDocumentKeyDown=null,this.$action="",this.$actionStartTarget=null,this.$changing=!1,this.$style=TA,this.$initialSelection={x:0,y:0,width:0,height:0},this.x=0,this.y=0,this.width=0,this.height=0,this.aspectRatio=NaN,this.initialAspectRatio=NaN,this.initialCoverage=NaN,this.active=!1,this.linked=!1,this.dynamic=!1,this.movable=!1,this.resizable=!1,this.zoomable=!1,this.multiple=!1,this.keyboard=!1,this.outlined=!1,this.precise=!1}set $canvas(e){T0.set(this,e)}get $canvas(){return T0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["active","aspect-ratio","dynamic","height","initial-aspect-ratio","initial-coverage","keyboard","linked","movable","multiple","outlined","precise","resizable","width","x","y","zoomable"])}$propertyChangedCallback(e,n,s){if(!Object.is(s,n))switch(super.$propertyChangedCallback(e,n,s),e){case"x":case"y":case"width":case"height":this.$changing||this.$nextTick(()=>{this.$change(this.x,this.y,this.width,this.height,this.aspectRatio,!0)});break;case"aspectRatio":case"initialAspectRatio":this.$nextTick(()=>{this.$initSelection()});break;case"initialCoverage":this.$nextTick(()=>{Eo(s)&&s<=1&&this.$initSelection(!0,!0)});break;case"keyboard":this.$nextTick(()=>{this.$canvas&&(s?this.$onDocumentKeyDown||(this.$onDocumentKeyDown=this.$handleKeyDown.bind(this),xr(this.ownerDocument,d0,this.$onDocumentKeyDown)):this.$onDocumentKeyDown&&(pr(this.ownerDocument,d0,this.$onDocumentKeyDown),this.$onDocumentKeyDown=null))});break;case"multiple":this.$nextTick(()=>{if(this.$canvas){const u=this.$getSelections();s?(u.forEach(l=>{l.active=!1}),this.active=!0,this.$emit(Ou,{x:this.x,y:this.y,width:this.width,height:this.height})):(this.active=!1,u.slice(1).forEach(l=>{this.$removeSelection(l)}))}});break;case"precise":this.$nextTick(()=>{this.$change(this.x,this.y)});break;case"linked":s&&(this.dynamic=!0);break}}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(dc));e?(this.$canvas=e,this.$setStyles({position:"absolute",transform:`translate(${this.x}px, ${this.y}px)`}),this.hidden||this.$render(),this.$initSelection(!0),this.$onCanvasActionStart=this.$handleActionStart.bind(this),this.$onCanvasActionEnd=this.$handleActionEnd.bind(this),this.$onCanvasAction=this.$handleAction.bind(this),xr(e,vl,this.$onCanvasActionStart),xr(e,gl,this.$onCanvasActionEnd),xr(e,cc,this.$onCanvasAction)):this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(pr(e,vl,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(pr(e,gl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(pr(e,cc,this.$onCanvasAction),this.$onCanvasAction=null)),super.disconnectedCallback()}$getSelections(){let e=[];return this.parentElement&&(e=Array.from(this.parentElement.querySelectorAll(this.$getTagNameOf(hs)))),e}$initSelection(e=!1,n=!1){const{initialCoverage:s,parentElement:u}=this;if(Eo(s)&&u){const l=this.aspectRatio||this.initialAspectRatio;let h=(n?0:this.width)||u.offsetWidth*s,f=(n?0:this.height)||u.offsetHeight*s;Eo(l)&&({width:h,height:f}=$f({aspectRatio:l,width:h,height:f})),this.$change(this.x,this.y,h,f),e&&this.$center(),this.$initialSelection={x:this.x,y:this.y,width:this.width,height:this.height}}}$createSelection(){const e=this.cloneNode(!0);return this.hasAttribute("id")&&e.removeAttribute("id"),e.initialCoverage=NaN,this.active=!1,this.parentElement&&this.parentElement.insertBefore(e,this.nextSibling),e}$removeSelection(e=this){if(this.parentElement){const n=this.$getSelections();if(n.length>1){const s=n.indexOf(e),u=n[s+1]||n[s-1];u&&(e.active=!1,this.parentElement.removeChild(e),u.active=!0,u.$emit(Ou,{x:u.x,y:u.y,width:u.width,height:u.height}))}else this.$clear()}}$handleActionStart(e){var n,s;const u=(s=(n=e.detail)===null||n===void 0?void 0:n.relatedEvent)===null||s===void 0?void 0:s.target;this.$action="",this.$actionStartTarget=u,!this.hidden&&this.multiple&&!this.active&&u===this&&this.parentElement&&(this.$getSelections().forEach(l=>{l.active=!1}),this.active=!0,this.$emit(Ou,{x:this.x,y:this.y,width:this.width,height:this.height}))}$handleAction(e){const{currentTarget:n,detail:s}=e;if(!n||!s)return;const{relatedEvent:u}=s;let{action:l}=s;if(!l&&this.multiple&&(l=this.$action||(u==null?void 0:u.target.action),this.$action=l),!l||this.hidden&&l!==ed||this.multiple&&!this.active&&l!==lc)return;const h=s.endX-s.startX,f=s.endY-s.startY,{width:v,height:x}=this;let{aspectRatio:w}=this;switch(!Eo(w)&&u.shiftKey&&(w=Eo(v)&&Eo(x)?v/x:1),l){case ed:if(h!==0&&f!==0){const{$canvas:E}=this,O=_0(n);(this.multiple&&!this.hidden?this.$createSelection():this).$change(s.startX-O.left,s.startY-O.top,Math.abs(h),Math.abs(f),w),h<0?f<0?l=Vc:f>0&&(l=Qc):h>0&&(f<0?l=Zc:f>0&&(l=Kc)),E&&(E.$action=l)}break;case Ab:this.movable&&(this.dynamic||this.$actionStartTarget&&this.contains(this.$actionStartTarget))&&this.$move(h,f);break;case lc:if(u&&this.zoomable&&(this.dynamic||this.contains(u.target))){const E=_0(n);this.$zoom(s.scale,u.pageX-E.left,u.pageY-E.top)}break;default:this.$resize(l,h,f,w)}}$handleActionEnd(){this.$action="",this.$actionStartTarget=null}$handleKeyDown(e){if(this.hidden||!this.keyboard||this.multiple&&!this.active||e.defaultPrevented)return;const{activeElement:n}=document;if(!(n&&(["INPUT","TEXTAREA"].includes(n.tagName)||["true","plaintext-only"].includes(n.contentEditable))))switch(e.key){case"Backspace":e.metaKey&&(e.preventDefault(),this.$removeSelection());break;case"Delete":e.preventDefault(),this.$removeSelection();break;case"ArrowLeft":e.preventDefault(),this.$move(-1,0);break;case"ArrowRight":e.preventDefault(),this.$move(1,0);break;case"ArrowUp":e.preventDefault(),this.$move(0,-1);break;case"ArrowDown":e.preventDefault(),this.$move(0,1);break;case"+":e.preventDefault(),this.$zoom(.1);break;case"-":e.preventDefault(),this.$zoom(-.1);break}}$center(){const{parentElement:e}=this;if(!e)return this;const n=(e.offsetWidth-this.width)/2,s=(e.offsetHeight-this.height)/2;return this.$change(n,s)}$move(e,n=e){return this.$moveTo(this.x+e,this.y+n)}$moveTo(e,n=e){return this.movable?this.$change(e,n):this}$resize(e,n=0,s=0,u=this.aspectRatio){if(!this.resizable)return this;const l=Eo(u),{$canvas:h}=this;let{x:f,y:v,width:x,height:w}=this;switch(e){case o0:v+=s,w-=s,w<0&&(e=s0,w=-w,v-=w),l&&(n=s*u,f+=n/2,x-=n,x<0&&(x=-x,f-=x));break;case a0:x+=n,x<0&&(e=u0,x=-x,f-=x),l&&(s=n/u,v-=s/2,w+=s,w<0&&(w=-w,v-=w));break;case s0:w+=s,w<0&&(e=o0,w=-w,v-=w),l&&(n=s*u,f-=n/2,x+=n,x<0&&(x=-x,f-=x));break;case u0:f+=n,x-=n,x<0&&(e=a0,x=-x,f-=x),l&&(s=n/u,v+=s/2,w-=s,w<0&&(w=-w,v-=w));break;case Zc:l&&(s=-n/u),v+=s,w-=s,x+=n,x<0&&w<0?(e=Qc,x=-x,w=-w,f-=x,v-=w):x<0?(e=Vc,x=-x,f-=x):w<0&&(e=Kc,w=-w,v-=w);break;case Vc:l&&(s=n/u),f+=n,v+=s,x-=n,w-=s,x<0&&w<0?(e=Kc,x=-x,w=-w,f-=x,v-=w):x<0?(e=Zc,x=-x,f-=x):w<0&&(e=Qc,w=-w,v-=w);break;case Kc:l&&(s=n/u),x+=n,w+=s,x<0&&w<0?(e=Vc,x=-x,w=-w,f-=x,v-=w):x<0?(e=Qc,x=-x,f-=x):w<0&&(e=Zc,w=-w,v-=w);break;case Qc:l&&(s=-n/u),f+=n,x-=n,w+=s,x<0&&w<0?(e=Zc,x=-x,w=-w,f-=x,v-=w):x<0?(e=Kc,x=-x,f-=x):w<0&&(e=Vc,w=-w,v-=w);break}return h&&h.$setAction(e),this.$change(f,v,x,w)}$zoom(e,n,s){if(!this.zoomable||e===0)return this;e<0?e=1/(1-e):e+=1;const{width:u,height:l}=this,h=u*e,f=l*e;let v=this.x,x=this.y;return Di(n)&&Di(s)?(v-=(h-u)*((n-this.x)/u),x-=(f-l)*((s-this.y)/l)):(v-=(h-u)/2,x-=(f-l)/2),this.$change(v,x,h,f)}$change(e,n,s=this.width,u=this.height,l=this.aspectRatio,h=!1){return this.$changing||!Di(e)||!Di(n)||!Di(s)||!Di(u)||s<0||u<0?this:(Eo(l)&&({width:s,height:u}=$f({aspectRatio:l,width:s,height:u},"cover")),this.precise||(e=Math.round(e),n=Math.round(n),s=Math.round(s),u=Math.round(u)),e===this.x&&n===this.y&&s===this.width&&u===this.height&&Object.is(l,this.aspectRatio)&&!h?this:(this.hidden&&(this.hidden=!1),this.$emit(Ou,{x:e,y:n,width:s,height:u})===!1?this:(this.$changing=!0,this.x=e,this.y=n,this.width=s,this.height=u,this.$changing=!1,this.$render())))}$reset(){const{x:e,y:n,width:s,height:u}=this.$initialSelection;return this.$change(e,n,s,u)}$clear(){return this.$change(0,0,0,0,NaN,!0),this.hidden=!0,this}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height})}$toCanvas(e){return new Promise((n,s)=>{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const u=document.createElement("canvas");let{width:l,height:h}=this,f=1;if(id(e)&&(Eo(e.width)||Eo(e.height))&&({width:l,height:h}=$f({aspectRatio:l/h,width:e.width,height:e.height}),f=l/this.width),u.width=l,u.height=h,!this.$canvas){n(u);return}const v=this.$canvas.querySelector(this.$getTagNameOf(uc));if(!v){n(u);return}v.$ready().then(x=>{const w=u.getContext("2d");if(w){const[E,O,H,F,j,q]=v.$getTransform(),M=-this.x,S=-this.y,D=(M*F-H*S)/(E*F-H*O),B=(S*E-O*M)/(E*F-H*O);let I=E*D+H*B+j,V=O*D+F*B+q,ne=x.naturalWidth,ue=x.naturalHeight;f!==1&&(I*=f,V*=f,ne*=f,ue*=f);const de=ne/2,ge=ue/2;w.fillStyle="transparent",w.fillRect(0,0,l,h),id(e)&&nm(e.beforeDraw)&&e.beforeDraw.call(this,w,u),w.save(),w.translate(de,ge),w.transform(E,O,H,F,I,V),w.translate(-de,-ge),w.drawImage(x,0,0,ne,ue),w.restore()}n(u)}).catch(s)})}}um.$name=hs;um.$version="2.0.0";var AA=":host{display:flex;flex-direction:column;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([bordered]){border:1px dashed var(--theme-color)}:host([covered]){bottom:0;left:0;position:absolute;right:0;top:0}:host>span{display:flex;flex:1}:host>span+span{border-top:1px dashed var(--theme-color)}:host>span>span{flex:1}:host>span>span+span{border-left:1px dashed var(--theme-color)}";class lm extends Ws{constructor(){super(...arguments),this.$style=AA,this.bordered=!1,this.columns=3,this.covered=!1,this.rows=3,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["bordered","columns","covered","rows"])}$propertyChangedCallback(e,n,s){Object.is(s,n)||(super.$propertyChangedCallback(e,n,s),(e==="rows"||e==="columns")&&this.$nextTick(()=>{this.$render()}))}connectedCallback(){super.connectedCallback(),this.$render()}$render(){const e=this.$getShadowRoot(),n=document.createDocumentFragment();for(let s=0;s<this.rows;s+=1){const u=document.createElement("span");u.setAttribute("role","row");for(let l=0;l<this.columns;l+=1){const h=document.createElement("span");h.setAttribute("role","gridcell"),u.appendChild(h)}n.appendChild(u)}e&&(e.innerHTML="",e.appendChild(n))}}lm.$name=nA;lm.$version="2.0.0";var LA=':host{display:inline-block;height:1em;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:1em}:host:after,:host:before{background-color:var(--theme-color);content:"";display:block;position:absolute}:host:before{height:1px;left:0;top:50%;transform:translateY(-50%);width:100%}:host:after{height:100%;left:50%;top:0;transform:translateX(-50%);width:1px}:host([centered]){left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}';class cm extends Ws{constructor(){super(...arguments),this.$style=LA,this.centered=!1,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["centered"])}}cm.$name=iA;cm.$version="2.0.0";var DA=":host{display:block;height:100%;overflow:hidden;position:relative;width:100%}";const A0=new WeakMap,L0=new WeakMap,D0=new WeakMap,M0=new WeakMap,MA="both",PA="horizontal",P0="vertical",OA="none";class hm extends Ws{constructor(){super(...arguments),this.$onSelectionChange=null,this.$onSourceImageLoad=null,this.$onSourceImageTransform=null,this.$scale=1,this.$style=DA,this.resize=P0,this.selection="",this.slottable=!1}set $image(e){L0.set(this,e)}get $image(){return L0.get(this)}set $sourceImage(e){M0.set(this,e)}get $sourceImage(){return M0.get(this)}set $canvas(e){A0.set(this,e)}get $canvas(){return A0.get(this)}set $selection(e){D0.set(this,e)}get $selection(){return D0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["resize","selection"])}connectedCallback(){super.connectedCallback();let e=null;if(this.selection?e=this.ownerDocument.querySelector(this.selection):e=this.closest(this.$getTagNameOf(hs)),ch(e)){this.$selection=e,this.$onSelectionChange=this.$handleSelectionChange.bind(this),xr(e,Ou,this.$onSelectionChange);const n=e.closest(this.$getTagNameOf(dc));if(n){this.$canvas=n;const s=n.querySelector(this.$getTagNameOf(uc));s&&(this.$sourceImage=s,this.$image=s.cloneNode(!0),this.$getShadowRoot().appendChild(this.$image),this.$onSourceImageLoad=this.$handleSourceImageLoad.bind(this),this.$onSourceImageTransform=this.$handleSourceImageTransform.bind(this),xr(s.$image,tc,this.$onSourceImageLoad),xr(s,Rp,this.$onSourceImageTransform))}this.$render()}}disconnectedCallback(){const{$selection:e,$sourceImage:n}=this;e&&this.$onSelectionChange&&(pr(e,Ou,this.$onSelectionChange),this.$onSelectionChange=null),n&&this.$onSourceImageLoad&&(pr(n.$image,tc,this.$onSourceImageLoad),this.$onSourceImageLoad=null),n&&this.$onSourceImageTransform&&(pr(n,Rp,this.$onSourceImageTransform),this.$onSourceImageTransform=null),super.disconnectedCallback()}$handleSelectionChange(e){this.$render(e.detail)}$handleSourceImageLoad(){const{$image:e,$sourceImage:n}=this,s=e.getAttribute("src"),u=n.getAttribute("src");u&&u!==s&&(e.setAttribute("src",u),e.$ready(()=>{setTimeout(()=>{this.$render()},50)}))}$handleSourceImageTransform(e){this.$render(void 0,e.detail.matrix)}$render(e,n){const{$canvas:s,$selection:u}=this;!e&&!u.hidden&&(e=u),(!e||e.x===0&&e.y===0&&e.width===0&&e.height===0)&&(e={x:0,y:0,width:s.offsetWidth,height:s.offsetHeight});const{x:l,y:h,width:f,height:v}=e,x={},{clientWidth:w,clientHeight:E}=this;let O=w,H=E,F=NaN;switch(this.resize){case MA:F=1,O=f,H=v,x.width=f,x.height=v;break;case PA:F=v>0?E/v:0,O=f*F,x.width=O;break;case P0:F=f>0?w/f:0,H=v*F,x.height=H;break;case OA:default:w>0?F=f>0?w/f:0:E>0&&(F=v>0?E/v:0)}this.$scale=F,this.$setStyles(x),this.$sourceImage&&this.$transformImageByOffset(n??this.$sourceImage.$getTransform(),-l,-h)}$transformImageByOffset(e,n,s){const{$image:u,$scale:l,$sourceImage:h}=this;if(h&&u&&l>=0){const[f,v,x,w,E,O]=e,H=(n*w-x*s)/(f*w-x*v),F=(s*f-v*n)/(f*w-x*v),j=f*H+x*F+E,q=v*H+w*F+O;u.$ready(M=>{this.$setStyles.call(u,{width:M.naturalWidth*l,height:M.naturalHeight*l})}),u.$setTransform(f,v,x,w,j*l,q*l)}}}hm.$name=aA;hm.$version="2.0.0";/*! Cropper.js v2.0.0 | (c) 2015-present Chen Fengyuan | MIT */var RA='<cropper-canvas background><cropper-image rotatable scalable skewable translatable></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const FA=/^img|canvas$/,NA=/<(\/?(?:script|style)[^>]*)>/gi,O0={template:RA};rm.$define();cm.$define();lm.$define();sm.$define();om.$define();um.$define();am.$define();hm.$define();class Ob{constructor(e,n){if(this.options=O0,Hf(e)&&(e=document.querySelector(e)),!ch(e)||!FA.test(e.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,n=Object.assign(Object.assign({},O0),n),this.options=n;const{ownerDocument:s}=e;let{container:u}=n;if(u&&(Hf(u)&&(u=s.querySelector(u)),!ch(u)))throw new Error("The `container` option must be an element or a valid selector.");ch(u)||(e.parentElement?u=e.parentElement:u=s.body),this.container=u;const l=e.localName;let h="";l==="img"?{src:h}=e:l==="canvas"&&window.HTMLCanvasElement&&(h=e.toDataURL());const{template:f}=n;if(f&&Hf(f)){const v=document.createElement("template"),x=document.createDocumentFragment();v.innerHTML=f.replace(NA,"&lt;$1&gt;"),x.appendChild(v.content),Array.from(x.querySelectorAll(uc)).forEach(w=>{w.setAttribute("src",h),w.setAttribute("alt",e.alt||"The image to crop")}),e.parentElement?(e.style.display="none",u.insertBefore(x,e.nextSibling)):u.appendChild(x)}}getCropperCanvas(){return this.container.querySelector(dc)}getCropperImage(){return this.container.querySelector(uc)}getCropperSelection(){return this.container.querySelector(hs)}getCropperSelections(){return this.container.querySelectorAll(hs)}}Ob.version="2.0.0";const IA={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(t){const e=t.keyCode;switch(e){case 90:this.undo&&(t.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(t.preventDefault(),this.move(-1,0));break;case 38:this.move&&(t.preventDefault(),this.move(0,-1));break;case 39:this.move&&(t.preventDefault(),this.move(1,0));break;case 40:this.move&&(t.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var zA=function(){var e=this,n=e._self._c;return n("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(s){return e.setDragMode("move")}}},[n("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(s){return e.setDragMode("crop")}}},[n("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[n("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[n("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[n("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[n("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[n("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[n("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),n("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(s){var u=Array.prototype.filter.call(s.target.options,function(l){return l.selected}).map(function(l){var h="_value"in l?l._value:l.value;return h});e.ratio=s.target.multiple?u:u[0]},e.aspectRatio]}},[n("optgroup",{attrs:{label:e.translations.other}},[n("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),n("option",{attrs:{value:"1:1"}},[e._v("1:1")]),n("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),n("optgroup",{attrs:{label:e.translations.landscape}},[n("option",{attrs:{value:"16:9"}},[e._v("16:9")]),n("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),n("optgroup",{attrs:{label:e.translations.portrait}},[n("option",{attrs:{value:"9:16"}},[e._v("9:16")]),n("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),n("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[n("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[n("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[n("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},BA=[],HA=Nn(IA,zA,BA,!1,null,"49d78b1c");const $A=HA.exports,WA={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...Ia({originalUrl:t=>t.blanchetteEditor.originalUrl,isLoading:t=>t.blanchetteEditor.isLoading,translations:t=>t.translations})},methods:{...Hs(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await hc(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(t){switch(t.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(t){t&&this.cropper&&this.cropper.setDragMode(t)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(t,e){this.cropper.move(t,e)},start(){this.cropper||(this.cropper=new Ob(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(t){t.detail.width>0&&t.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const t=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=t.getData(),this.canvasData=t.getCanvasData(),this.cropBoxData=t.getCropBoxData(),this.url=t.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:$A}};var qA=function(){var e=this,n=e._self._c;return n("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[n("div",{staticClass:"canvas"},[e.isLoading?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner-container"},[n("div",{staticClass:"spinner"})])]):e._e(),n("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),n("div",{staticClass:"editor"},[e.url?[n("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},jA=[],UA=Nn(WA,qA,jA,!1,null,"9956183e");const YA=UA.exports;var mp={exports:{}},R0;function GA(){return R0||(R0=1,function(t,e){(function(n,s){t.exports=s()})(window,function(){return u={},n.m=s=[function(l,h,f){var v=f(6);typeof v=="string"&&(v=[[l.i,v,""]]),v.locals&&(l.exports=v.locals),(0,f(4).default)("27d83796",v,!1,{})},function(l,h,f){var v=f(8);typeof v=="string"&&(v=[[l.i,v,""]]),v.locals&&(l.exports=v.locals),(0,f(4).default)("0e783494",v,!1,{})},function(l,h,f){var v=f(10);typeof v=="string"&&(v=[[l.i,v,""]]),v.locals&&(l.exports=v.locals),(0,f(4).default)("17757f60",v,!1,{})},function(l,h){l.exports=function(f){var v=[];return v.toString=function(){return this.map(function(x){var w=function(E,O){var H=E[1]||"",F=E[3];if(!F)return H;if(O&&typeof btoa=="function"){var j=function(M){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */"}(F),q=F.sources.map(function(M){return"/*# sourceURL="+F.sourceRoot+M+" */"});return[H].concat(q).concat([j]).join(`
`)}return[H].join(`
`)}(x,f);return x[2]?"@media "+x[2]+"{"+w+"}":w}).join("")},v.i=function(x,w){typeof x=="string"&&(x=[[null,x,""]]);for(var E={},O=0;O<this.length;O++){var H=this[O][0];typeof H=="number"&&(E[H]=!0)}for(O=0;O<x.length;O++){var F=x[O];typeof F[0]=="number"&&E[F[0]]||(w&&!F[2]?F[2]=w:w&&(F[2]="("+F[2]+") and ("+w+")"),v.push(F))}},v}},function(l,h,f){function v(ge,he){for(var Le=[],ve={},re=0;re<he.length;re++){var P=he[re],se=P[0],ye={id:ge+":"+re,css:P[1],media:P[2],sourceMap:P[3]};ve[se]?ve[se].parts.push(ye):Le.push(ve[se]={id:se,parts:[ye]})}return Le}f.r(h),f.d(h,"default",function(){return D});var x=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!x)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var w={},E=x&&(document.head||document.getElementsByTagName("head")[0]),O=null,H=0,F=!1,j=function(){},q=null,M="data-vue-ssr-id",S=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function D(ge,he,Le,ve){F=Le,q=ve||{};var re=v(ge,he);return B(re),function(P){for(var se=[],ye=0;ye<re.length;ye++){var Ee=re[ye];(it=w[Ee.id]).refs--,se.push(it)}for(P?B(re=v(ge,P)):re=[],ye=0;ye<se.length;ye++){var it;if((it=se[ye]).refs===0){for(var Be=0;Be<it.parts.length;Be++)it.parts[Be]();delete w[it.id]}}}}function B(ge){for(var he=0;he<ge.length;he++){var Le=ge[he],ve=w[Le.id];if(ve){ve.refs++;for(var re=0;re<ve.parts.length;re++)ve.parts[re](Le.parts[re]);for(;re<Le.parts.length;re++)ve.parts.push(V(Le.parts[re]));ve.parts.length>Le.parts.length&&(ve.parts.length=Le.parts.length)}else{var P=[];for(re=0;re<Le.parts.length;re++)P.push(V(Le.parts[re]));w[Le.id]={id:Le.id,refs:1,parts:P}}}}function I(){var ge=document.createElement("style");return ge.type="text/css",E.appendChild(ge),ge}function V(ge){var he,Le,ve=document.querySelector("style["+M+'~="'+ge.id+'"]');if(ve){if(F)return j;ve.parentNode.removeChild(ve)}if(S){var re=H++;ve=O=O||I(),he=de.bind(null,ve,re,!1),Le=de.bind(null,ve,re,!0)}else ve=I(),he=(function(P,se){var ye=se.css,Ee=se.media,it=se.sourceMap;if(Ee&&P.setAttribute("media",Ee),q.ssrId&&P.setAttribute(M,se.id),it&&(ye+=`
/*# sourceURL=`+it.sources[0]+" */",ye+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(it))))+" */"),P.styleSheet)P.styleSheet.cssText=ye;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(ye))}}).bind(null,ve),Le=function(){ve.parentNode.removeChild(ve)};return he(ge),function(P){if(P){if(P.css===ge.css&&P.media===ge.media&&P.sourceMap===ge.sourceMap)return;he(ge=P)}else Le()}}var ne,ue=(ne=[],function(ge,he){return ne[ge]=he,ne.filter(Boolean).join(`
`)});function de(ge,he,Le,ve){var re=Le?"":ve.css;if(ge.styleSheet)ge.styleSheet.cssText=ue(he,re);else{var P=document.createTextNode(re),se=ge.childNodes;se[he]&&ge.removeChild(se[he]),se.length?ge.insertBefore(P,se[he]):ge.appendChild(P)}}},function(l,h,f){var v=f(0);f.n(v).a},function(l,h,f){(l.exports=f(3)(!1)).push([l.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(l,h,f){var v=f(1);f.n(v).a},function(l,h,f){(l.exports=f(3)(!1)).push([l.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(l,h,f){var v=f(2);f.n(v).a},function(l,h,f){(l.exports=f(3)(!1)).push([l.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(l,h,f){f.r(h),f.d(h,"getModalsContainer",function(){return Y});function v(){var Z=this,we=Z.$createElement,Te=Z._self._c||we;return Te("transition",{attrs:{name:Z.overlayTransition}},[Z.visibility.overlay?Te("div",{ref:"overlay",class:Z.overlayClass,attrs:{"aria-expanded":Z.visibility.overlay.toString(),"data-modal":Z.name}},[Te("div",{staticClass:"v--modal-background-click",on:{mousedown:function(qe){return qe.target!==qe.currentTarget?null:Z.handleBackgroundClick(qe)},touchstart:function(qe){return qe.target!==qe.currentTarget?null:Z.handleBackgroundClick(qe)}}},[Te("div",{staticClass:"v--modal-top-right"},[Z._t("top-right")],2),Z._v(" "),Te("transition",{attrs:{name:Z.transition},on:{"before-enter":Z.beforeTransitionEnter,"after-enter":Z.afterTransitionEnter,"after-leave":Z.afterTransitionLeave}},[Z.visibility.modal?Te("div",{ref:"modal",class:Z.modalClass,style:Z.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[Z._t("default"),Z._v(" "),Z.resizable&&!Z.isAutoHeight?Te("resizer",{attrs:{"min-width":Z.minWidth,"min-height":Z.minHeight,"max-width":Z.maxWidth,"max-height":Z.maxHeight},on:{resize:Z.handleModalResize}}):Z._e()],2):Z._e()])],1)]):Z._e()])}function x(){var Z=this.$createElement;return(this._self._c||Z)("div",{class:this.className})}function w(Z,we){return function(Te){if(Array.isArray(Te))return Te}(Z)||function(Te,qe){var Xe=[],Ze=!0,ut=!1,Et=void 0;try{for(var wt,St=Te[Symbol.iterator]();!(Ze=(wt=St.next()).done)&&(Xe.push(wt.value),!qe||Xe.length!==qe);Ze=!0);}catch(_t){ut=!0,Et=_t}finally{try{Ze||St.return==null||St.return()}finally{if(ut)throw Et}}return Xe}(Z,we)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(Z){for(var we=1;we<arguments.length;we++){var Te=arguments[we]!=null?arguments[we]:{},qe=Object.keys(Te);typeof Object.getOwnPropertySymbols=="function"&&(qe=qe.concat(Object.getOwnPropertySymbols(Te).filter(function(Xe){return Object.getOwnPropertyDescriptor(Te,Xe).enumerable}))),qe.forEach(function(Xe){O(Z,Xe,Te[Xe])})}return Z}function O(Z,we,Te){return we in Z?Object.defineProperty(Z,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):Z[we]=Te,Z}x._withStripped=v._withStripped=!0;function H(Z,we,Te){return Te<Z?Z:we<Te?we:Te}function F(){var Z=window.innerWidth,we=document.documentElement.clientWidth;return Z&&we?Math.min(Z,we):we||Z}var j=function(Z){var we=0;return function(){return(we++).toString()}}(),q={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(Z){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),Z.stopPropagation(),Z.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(Z){this.resize(Z)},resize:function(Z){var we=this.$el.parentElement;if(we){var Te=Z.clientX-we.offsetLeft,qe=Z.clientY-we.offsetTop,Xe=Math.min(F(),this.maxWidth),Ze=Math.min(window.innerHeight,this.maxHeight);Te=H(this.minWidth,Xe,Te),qe=H(this.minHeight,Ze,qe),this.size={width:Te,height:qe},we.style.width=Te+"px",we.style.height=qe+"px",this.$emit("resize",{element:we,size:this.size})}}}};f(5);function M(Z,we,Te,qe,Xe,Ze,ut,Et){var wt,St=typeof Z=="function"?Z.options:Z;return we&&(St.render=we,St.staticRenderFns=Te,St._compiled=!0),{exports:Z,options:St}}var S=M(q,x,[]);S.options.__file="src/Resizer.vue";var D=S.exports;function B(Z){return(B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(Z)}function I(Z){switch(B(Z)){case"number":return{type:"px",value:Z};case"string":return function(we){if(we==="auto")return{type:we,value:0};var Te=ue.find(function(qe){return qe.regexp.test(we)});return Te?{type:Te.name,value:parseFloat(we)}:{type:"",value:we}}(Z);default:return{type:"",value:Z}}}function V(Z){if(typeof Z!="string")return 0<=Z;var we=I(Z);return(we.type==="%"||we.type==="px")&&0<we.value}var ne="[-+]?[0-9]*.?[0-9]+",ue=[{name:"px",regexp:new RegExp("^".concat(ne,"px$"))},{name:"%",regexp:new RegExp("^".concat(ne,"%$"))},{name:"px",regexp:new RegExp("^".concat(ne,"$"))}];function de(Z,we,Te){return we in Z?Object.defineProperty(Z,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):Z[we]=Te,Z}var ge={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(Z){return 0<=Z}},minHeight:{type:Number,default:0,validator:function(Z){return 0<=Z}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:V},height:{type:[Number,String],default:300,validator:function(Z){return Z==="auto"||V(Z)}},pivotX:{type:Number,default:.5,validator:function(Z){return 0<=Z&&Z<=1}},pivotY:{type:Number,default:.5,validator:function(Z){return 0<=Z&&Z<=1}}},components:{Resizer:D},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var Z=this;if(Fe.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var we=function(){if(typeof window<"u")for(var Te=["","WebKit","Moz","O","Ms"],qe=0;qe<Te.length;qe++){var Xe=Te[qe]+"MutationObserver";if(Xe in window)return window[Xe]}return!1}();we?this.mutationObserver=new we(function(Te){Z.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Fe.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var Z=this.viewportHeight,we=this.viewportWidth,Te=this.shift,qe=this.pivotX,Xe=this.pivotY,Ze=this.trueModalWidth,ut=this.trueModalHeight,Et=we-Ze,wt=Math.max(Z-ut,0),St=Te.left+qe*Et,_t=Te.top+Xe*wt;return{left:parseInt(H(0,Et,St)),top:parseInt(H(0,wt,_t))}},trueModalWidth:function(){var Z=this.viewportWidth,we=this.modal,Te=this.adaptive,qe=this.minWidth,Xe=this.maxWidth,Ze=we.widthType==="%"?Z/100*we.width:we.width,ut=Math.max(qe,Math.min(Z,Xe));return Te?H(qe,ut,Ze):Ze},trueModalHeight:function(){var Z=this.viewportHeight,we=this.modal,Te=this.isAutoHeight,qe=this.adaptive,Xe=this.minHeight,Ze=this.maxHeight,ut=we.heightType==="%"?Z/100*we.height:we.height;if(Te)return this.modal.renderedHeight;var Et=Math.max(Xe,Math.min(Z,Ze));return qe?H(Xe,Et,ut):ut},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(Z){return Z.trim()}).filter(Boolean).map(function(Z){return Z.split(":")}).reduce(function(Z,we){var Te=w(we,2);return E({},Z,O({},Te[0],Te[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(Z){var we=this;Z?(this.visibility.overlay=!0,setTimeout(function(){we.visibility.modal=!0,we.$nextTick(function(){we.addDraggableListeners(),we.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){we.visibility.overlay=!1,we.$nextTick(function(){we.removeDraggableListeners(),we.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(Z,we,Te){if(this.name===Z){var qe=we===void 0?!this.visible:we;this.toggle(qe,Te)}},setInitialSize:function(){var Z=this.modal,we=I(this.width),Te=I(this.height);Z.width=we.value,Z.widthType=we.type,Z.height=Te.value,Z.heightType=Te.type},handleEscapeKeyUp:function(Z){Z.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=F(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(Z){var we=0<arguments.length&&Z!==void 0?Z:{};return function(Te){var qe=0<arguments.length&&Te!==void 0?Te:{};return E({id:j(),timestamp:Date.now(),canceled:!1},qe)}(function(Te){for(var qe=1;qe<arguments.length;qe++){var Xe=arguments[qe]!=null?arguments[qe]:{},Ze=Object.keys(Xe);typeof Object.getOwnPropertySymbols=="function"&&(Ze=Ze.concat(Object.getOwnPropertySymbols(Xe).filter(function(ut){return Object.getOwnPropertyDescriptor(Xe,ut).enumerable}))),Ze.forEach(function(ut){de(Te,ut,Xe[ut])})}return Te}({name:this.name,ref:this.$refs.modal},we))},handleModalResize:function(Z){this.modal.widthType="px",this.modal.width=Z.size.width,this.modal.heightType="px",this.modal.height=Z.size.height;var we=this.modal.size;this.$emit("resize",this.createModalEvent({size:we}))},toggle:function(Z,we){var Te=this.reset,qe=this.scrollable,Xe=this.visible;if(Xe!==Z){var Ze=Xe?"before-close":"before-open";Ze=="before-open"?(Te&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),qe&&document.body.classList.add("v--modal-block-scroll")):qe&&document.body.classList.remove("v--modal-block-scroll");var ut=!1,Et=this.createModalEvent({stop:function(){ut=!0},state:Z,params:we});this.$emit(Ze,Et),ut||(this.visible=Z,Ze=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var Z=typeof this.draggable!="string"?".v--modal-box":this.draggable;return Z?this.$refs.overlay.querySelector(Z):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(Z){Z?this.connectObserver():this.disconnectObserver();var we=Z?"opened":"closed",Te=this.createModalEvent({state:Z});this.$emit(we,Te)},addDraggableListeners:function(){var Z=this;if(this.draggable){var we=this.getDraggableElement();if(we){var Te=0,qe=0,Xe=0,Ze=0,ut=function(_t){return _t.touches&&0<_t.touches.length?_t.touches[0]:_t},Et=function(_t){var Mt=_t.target;if(!Mt||Mt.nodeName!=="INPUT"&&Mt.nodeName!=="TEXTAREA"&&Mt.nodeName!=="SELECT"){var jt=ut(_t),Kt=jt.clientX,X=jt.clientY;document.addEventListener("mousemove",wt),document.addEventListener("touchmove",wt),document.addEventListener("mouseup",St),document.addEventListener("touchend",St),Te=Kt,qe=X,Xe=Z.shift.left,Ze=Z.shift.top}},wt=function(_t){var Mt=ut(_t),jt=Mt.clientX,Kt=Mt.clientY;Z.shift.left=Xe+jt-Te,Z.shift.top=Ze+Kt-qe,_t.preventDefault()},St=function _t(Mt){Z.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",wt),document.removeEventListener("touchmove",wt),document.removeEventListener("mouseup",_t),document.removeEventListener("touchend",_t),Mt.preventDefault()};we.addEventListener("mousedown",Et),we.addEventListener("touchstart",Et)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var Z=this.viewportHeight,we=this.viewportWidth,Te=this.shift,qe=this.pivotX,Xe=this.pivotY,Ze=this.trueModalWidth,ut=this.trueModalHeight,Et=we-Ze,wt=Math.max(Z-ut,0),St=Te.left+qe*Et,_t=Te.top+Xe*wt;this.shift.left-=St-H(0,Et,St),this.shift.top-=_t-H(0,wt,_t)}}},he=(f(7),M(ge,v,[]));he.options.__file="src/Modal.vue";function Le(){var Z=this,we=Z.$createElement,Te=Z._self._c||we;return Te("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:Z.width,"pivot-y":.3,adaptive:!0,clickToClose:Z.clickToClose,transition:Z.transition},on:{"before-open":Z.beforeOpened,"before-close":Z.beforeClosed,opened:function(qe){Z.$emit("opened",qe)},closed:function(qe){Z.$emit("closed",qe)}}},[Te("div",{staticClass:"dialog-content"},[Z.params.title?Te("div",{staticClass:"dialog-c-title",domProps:{innerHTML:Z._s(Z.params.title||"")}}):Z._e(),Z._v(" "),Z.params.component?Te(Z.params.component,Z._b({tag:"component"},"component",Z.params.props,!1)):Te("div",{staticClass:"dialog-c-text",domProps:{innerHTML:Z._s(Z.params.text||"")}})],1),Z._v(" "),Z.buttons?Te("div",{staticClass:"vue-dialog-buttons"},Z._l(Z.buttons,function(qe,Xe){return Te("button",{key:Xe,class:qe.class||"vue-dialog-button",style:Z.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:Z._s(qe.title)},on:{click:function(Ze){Ze.stopPropagation(),Z.click(Xe,Ze)}}},[Z._v(`
      `+Z._s(qe.title)+`
    `)])})):Te("div",{staticClass:"vue-dialog-buttons-none"})])}var ve=he.exports;Le._withStripped=!0;var re={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(Z){window.addEventListener("keyup",this.onKeyUp),this.params=Z.params||{},this.$emit("before-opened",Z)},beforeClosed:function(Z){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",Z)},click:function(Z,we,Te){var qe=2<arguments.length&&Te!==void 0?Te:"click",Xe=this.buttons[Z];Xe&&typeof Xe.handler=="function"?Xe.handler(Z,we,{source:qe}):this.$modal.hide("dialog")},onKeyUp:function(Z){if(Z.which===13&&0<this.buttons.length){var we=this.buttons.length===1?0:this.buttons.findIndex(function(Te){return Te.default});we!==-1&&this.click(we,Z,"keypress")}}}},P=(f(9),M(re,Le,[]));P.options.__file="src/Dialog.vue";function se(){var Z=this,we=Z.$createElement,Te=Z._self._c||we;return Te("div",{attrs:{id:"modals-container"}},Z._l(Z.modals,function(qe){return Te("modal",Z._g(Z._b({key:qe.id,on:{closed:function(Xe){Z.remove(qe.id)}}},"modal",qe.modalAttrs,!1),qe.modalListeners),[Te(qe.component,Z._g(Z._b({tag:"component",on:{close:function(Xe){Z.$modal.hide(qe.modalAttrs.name)}}},"component",qe.componentAttrs,!1),Z.$listeners))],1)}))}var ye=P.exports;function Ee(Z,we,Te){return we in Z?Object.defineProperty(Z,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):Z[we]=Te,Z}se._withStripped=!0;var it=M({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(Z,we,Te,qe){var Xe=this,Ze=1<arguments.length&&we!==void 0?we:{},ut=2<arguments.length&&Te!==void 0?Te:{},Et=3<arguments.length&&qe!==void 0?qe:{},wt=j(),St=ut.name||"_dynamic_modal_"+wt;this.modals.push({id:wt,modalAttrs:function(_t){for(var Mt=1;Mt<arguments.length;Mt++){var jt=arguments[Mt]!=null?arguments[Mt]:{},Kt=Object.keys(jt);typeof Object.getOwnPropertySymbols=="function"&&(Kt=Kt.concat(Object.getOwnPropertySymbols(jt).filter(function(X){return Object.getOwnPropertyDescriptor(jt,X).enumerable}))),Kt.forEach(function(X){Ee(_t,X,jt[X])})}return _t}({},ut,{name:St}),modalListeners:Et,component:Z,componentAttrs:Ze}),this.$nextTick(function(){Xe.$modal.show(St)})},remove:function(Z){var we=this.modals.findIndex(function(Te){return Te.id===Z});we!==-1&&this.modals.splice(we,1)}}},se,[]);it.options.__file="src/ModalsContainer.vue";var Be=it.exports;function Me(Z){return(Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(Z)}function te(Z,we,Te){return we in Z?Object.defineProperty(Z,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):Z[we]=Te,Z}var Y=function(Z,we,Te){if(!Te._dynamicContainer&&we.injectModalsContainer){var qe=(Xe=document.createElement("div"),document.body.appendChild(Xe),Xe);new Z({parent:Te,render:function(Ze){return Ze(Be)}}).$mount(qe)}var Xe;return Te._dynamicContainer},De={install:function(Z,we){var Te=1<arguments.length&&we!==void 0?we:{};if(!this.installed){this.installed=!0,this.event=new Z,this.rootInstance=null;var qe=Te.componentName||"Modal",Xe=Te.dynamicDefaults||{},Ze=function(ut,Et,wt,St){var _t=wt&&wt.root?wt.root:De.rootInstance,Mt=Y(Z,Te,_t);Mt?Mt.add(ut,Et,function(jt){for(var Kt=1;Kt<arguments.length;Kt++){var X=arguments[Kt]!=null?arguments[Kt]:{},le=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(le=le.concat(Object.getOwnPropertySymbols(X).filter(function(Q){return Object.getOwnPropertyDescriptor(X,Q).enumerable}))),le.forEach(function(Q){te(jt,Q,X[Q])})}return jt}({},Xe,wt),St):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};Z.prototype.$modal={show:function(ut){for(var Et=arguments.length,wt=new Array(1<Et?Et-1:0),St=1;St<Et;St++)wt[St-1]=arguments[St];switch(Me(ut)){case"string":return(function(_t,Mt){De.event.$emit("toggle",_t,!0,Mt)}).apply(void 0,[ut].concat(wt));case"object":case"function":return Te.dynamic?Ze.apply(void 0,[ut].concat(wt)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",ut)}},hide:function(ut,Et){De.event.$emit("toggle",ut,!1,Et)},toggle:function(ut,Et){De.event.$emit("toggle",ut,void 0,Et)}},Z.component(qe,ve),Te.dialog&&Z.component("VDialog",ye),Te.dynamic&&(Z.component("ModalsContainer",Be),Z.mixin({beforeMount:function(){De.rootInstance===null&&(De.rootInstance=this.$root)}}))}}},Fe=h.default=De}],n.c=u,n.d=function(l,h,f){n.o(l,h)||Object.defineProperty(l,h,{enumerable:!0,get:f})},n.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},n.t=function(l,h){if(1&h&&(l=n(l)),8&h||4&h&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&h&&typeof l!="string")for(var v in l)n.d(f,v,(function(x){return l[x]}).bind(null,v));return f},n.n=function(l){var h=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(h,"a",h),h},n.o=function(l,h){return Object.prototype.hasOwnProperty.call(l,h)},n.p="/dist/",n(n.s=11);function n(l){if(u[l])return u[l].exports;var h=u[l]={i:l,l:!1,exports:{}};return s[l].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var s,u})}(mp)),mp.exports}var XA=GA();const ZA=mh(XA),Tf=656,VA={data(){return{modalWidth:Tf,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:fb},mounted(){this.modalWidth=window.innerWidth<Tf?Tf/2:Tf,hb().then(t=>{this.imageUrl=t}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(t){this.manualClose||t.stop()}}};var KA=function(){var e=this,n=e._self._c;return n("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[n("div",{staticClass:"modal",attrs:{id:"partition-register"}},[n("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),n("div",{staticClass:"modal-content"},[n("p",[e._v(e._s(e.content))]),n("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?n("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?n("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?n("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},QA=[],JA=Nn(VA,KA,QA,!1,null,"73759aa5");const e3=JA.exports;nc.use(ZA);const t3={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...Ia({connected:t=>t.connected,healthChecked:t=>t.healthChecked,translations:t=>t.translations})},components:{WarningModal:e3}};var i3=function(){var e=this,n=e._self._c;return n("div",[e.connected?e.healthChecked?e._e():n("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):n("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},n3=[],r3=Nn(t3,i3,n3,!1,null,null);const o3=r3.exports,a3={computed:{...Ia({isExplorerOpen:t=>t.explorer.isOpen})}};var s3=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?n("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},u3=[],l3=Nn(a3,s3,u3,!1,null,null);const c3=l3.exports;class h3{constructor(){this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:lS,DrawerContainer:sT,ExplorerContainer:TT,FilterExplorerContainer:IT,TagsEditorContainer:YT,DocumentPreviewContainer:KT,BlanchetteEditorContainer:YA,ModalContainer:o3},this.registeredComponents={Overlay:c3},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},this.init(),this.initListeners()}init(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new nS(bf)),this.services.push(new rS(bf))}onPageChange(){bf.commit(gs)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildNavTrees(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(n=>{this.mainContentComponents.push(this.buildComponent(n))})}buildComponent(e){return new nc({el:e,delimiters:["${","}"],store:bf,components:this.vuejsElements,ignoreElements:["document-edit-dialog"]})}}class f3{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.minifyTreePanelButton=null,this.mainTrees=null,this.canvasLoader=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}onDocumentReady(){this.initLoader(),this.setupCollapsedNestableState(),this.lazyload=new wE,this.vueApp=new h3,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(e=>{e.addEventListener("click",this.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),window.addEventListener("pageshowend",()=>{this.syncCollapsedNestableState()}),window.addEventListener("requestAllNodeTreeChange",()=>{this.refreshAllNodeTrees(),this.getMessages()}),window.addEventListener("requestLoaderShow",()=>{this.canvasLoader.show()}),window.addEventListener("requestLoaderHide",()=>{this.canvasLoader.hide()}),window.addEventListener("pushToast",e=>{!e.detail||!e.detail.message||window.UIkit.notify({message:e.detail.message,status:e.detail.status||"success",timeout:2e3,pos:"top-center"})})}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color")),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}setupCollapsedNestableState(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){var n=e.children(this.options._listClass);n.length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}saveCollapsedNestableState(e=null){e===null&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",JSON.stringify(e))}syncCollapsedNestableState(){this.collapsedNestableState.nodes.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})})}initNestables(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(e=>{const n={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?n.group="nodeTree":e.classList.contains("tagtree")?n.group="tagTree":e.classList.contains("foldertree")&&(n.group="folderTree"),window.UIkit.nestable(e,n)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}bindMainTrees(){var l;document.querySelectorAll(".nodetree-widget .root-tree").forEach(h=>{const f=$(h);f.off("change.uk.nestable",this.onNestableNodeTreeChange),f.on("change.uk.nestable",this.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(h=>{const f=$(h);f.off("change.uk.nestable",this.onNestableTagTreeChange),f.on("change.uk.nestable",this.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(h=>{const f=$(h);f.off("change.uk.nestable",this.onNestableFolderTreeChange),f.on("change.uk.nestable",this.onNestableFolderTreeChange)}),(((l=this.mainTrees)==null?void 0:l.querySelectorAll(".tree-element-name"))||[]).forEach(h=>{h.removeEventListener("contextmenu",this.maintreeElementNameRightClick),h.addEventListener("contextmenu",this.maintreeElementNameRightClick)})}maintreeElementNameRightClick(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(s=>{s.classList.contains("uk-open")&&s.classList.remove("uk-open")});const n=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return n&&(n.classList.contains("uk-open")?n.classList.remove("uk-open"):n.classList.add("uk-open")),!1}bindMainNodeTreeLangs(){document.body.addEventListener("click",e=>{const n=e.target.closest("#tree-container .nodetree-langs a");if(n){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const s=parseInt(n.getAttribute("data-translation-id"),10);return this.refreshMainNodeTree(s),!1}})}fetchSessionMessages(){return new Promise(async(e,n)=>{const s=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),u=window.RozierConfig.routes.ajaxSessionMessages+"?"+s.toString();try{const h=await(await fetch(u,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();h.messages||e([]),e(h.messages)}catch(l){n(l)}})}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&Array.isArray(e.confirm)&&e.confirm.length>0&&e.confirm.forEach(n=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:n,status:"success"}}))}),e.error&&Array.isArray(e.error)&&e.error.length>0&&e.error.forEach(n=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:n,status:"danger"}}))})}refreshAllNodeTrees(e){const n=[];return n.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&n.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(s=>{n.push(this.lazyload.childrenNodesFields.refreshNodeTree(s))}),Promise.all(n)}async refreshMainNodeTree(e=void 0){const n=document.querySelector("#tree-container .nodetree-widget");if(!n){console.debug("No main node-tree available.");return}const s=n.querySelector(".root-tree");s&&!e&&(e=s.getAttribute("data-translation-id"));try{const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:e||null}),l=window.RozierConfig.routes.nodesTreeAjax+"?"+u.toString(),h=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!h.ok)throw h;const f=await h.json();if(typeof f.nodeTree<"u"){await Ru(n),n.insertAdjacentHTML("afterend",f.nodeTree),n.remove();const v=document.querySelector("#tree-container .nodetree-widget");if(v)await pl(v);else{console.debug("No main node-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}}catch{console.debug("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),await hc(3e3),this.refreshMainNodeTree(e)}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainTagTree(){const e=document.querySelector("#tree-container .tagtree-widget");if(!e){console.debug("No main tag-tree available.");return}const n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),s=window.RozierConfig.routes.tagsTreeAjax+"?"+n.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(typeof l.tagTree<"u"){await Ru(e),e.insertAdjacentHTML("afterend",l.tagTree),e.remove();const h=document.querySelector("#tree-container .tagtree-widget");if(h)await pl(h);else{console.debug("No main tag-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainFolderTree(){const e=document.querySelector("#tree-container .foldertree-widget");if(!e){console.debug("No main folder-tree available.");return}const n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),s=window.RozierConfig.routes.foldersTreeAjax+"?"+n.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(typeof l.folderTree<"u"){await Ru(e),e.insertAdjacentHTML("afterend",l.folderTree),e.remove();const h=document.querySelector("#tree-container .foldertree-widget");if(h)await pl(h);else{console.debug("No main folder-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}toggleTreesPanel(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}openTreesPanel(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}toggleUserPanel(){return document.getElementById("user-panel").classList.toggle("minified"),!1}onNestableCollapse({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.push(e[0].getAttribute("data-node-id"));break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.push(e[0].getAttribute("data-tag-id"));break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.push(e[0].getAttribute("data-folder-id"));break}this.saveCollapsedNestableState(this.collapsedNestableState)}}onNestableExpand({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(e[0].getAttribute("data-node-id")),1);break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(e[0].getAttribute("data-tag-id")),1);break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(e[0].getAttribute("data-folder-id")),1);break}this.saveCollapsedNestableState(this.collapsedNestableState)}}async onNestableNodeTreeChange(e,n,s,u){if(u==="removed"||!s)return!1;const l=s[0];if(!l)return console.error("No element found"),!1;const h=parseInt(l.getAttribute("data-node-id"));let f=null;const v=l.parentElement.closest(".nodetree-element"),x=l.parentElement.closest(".stack-tree-widget"),w=l.parentElement.closest(".children-node-widget");if(v?f=parseInt(v.getAttribute("data-node-id")):x?f=parseInt(x.getAttribute("data-parent-node-id")):w&&(f=parseInt(w.getAttribute("data-parent-node-id"))),isNaN(f)&&(f=null),h===f)return console.error("You cannot move a node inside itself!"),window.location.reload(),!1;const E={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:h,newParent:f},O=l.nextElementSibling;if(O&&typeof O.getAttribute("data-node-id")<"u")E.nextNodeId=parseInt(O.getAttribute("data-node-id"));else{const H=l.previousElementSibling;H&&typeof H.getAttribute("data-node-id")<"u"&&(E.prevNodeId=parseInt(H.getAttribute("data-node-id")))}try{const H=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",h),F=await fetch(H,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(E)});if(!F.ok)throw F;const j=await F.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:j.responseText||j.detail,status:j.status}}))}catch(H){const F=await H.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:F.error_message||F.detail,status:"danger"}}))}}async onNestableTagTreeChange(e,n,s,u){if(u==="removed")return!1;const l=s[0];let h=parseInt(l.getAttribute("data-tag-id")),f=null;const v=l.parentElement.closest(".tagtree-element"),x=l.parentElement.closest(".root-tree");if(v?f=parseInt(v.getAttribute("data-tag-id")):x&&(f=parseInt(x.getAttribute("data-parent-tag-id"))),isNaN(f)&&(f=null),h===f)return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:h,newParent:f};const E=l.nextElementSibling;if(E&&typeof E.getAttribute("data-tag-id")<"u")w.nextTagId=parseInt(E.getAttribute("data-tag-id"));else{const O=l.previousElementSibling;O&&typeof O.getAttribute("data-tag-id")<"u"&&(w.prevTagId=parseInt(O.getAttribute("data-tag-id")))}try{const O=await fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",h),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(w)});if(!O.ok)throw O;const H=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.responseText,status:H.status}}))}catch(O){const H=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.error_message||H.detail,status:"danger"}}))}}async onNestableFolderTreeChange(e,n,s,u){if(u==="removed")return!1;const l=s[0];let h=parseInt(l.getAttribute("data-folder-id")),f=null;const v=l.parentElement.closest(".foldertree-element"),x=l.parentElement.closest(".root-tree");if(v?f=parseInt(v.getAttribute("data-folder-id")):x&&(f=parseInt(x.getAttribute("data-parent-folder-id"))),isNaN(f)&&(f=null),h===f)return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),!1;let w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:h,newParent:f};const E=l.nextElementSibling;if(E&&typeof E.getAttribute("data-folder-id")<"u")w.nextFolderId=parseInt(E.getAttribute("data-folder-id"));else{const O=l.previousElementSibling;O&&typeof O.getAttribute("data-folder-id")<"u"&&(w.prevFolderId=parseInt(O.getAttribute("data-folder-id")))}try{const O=await fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",h),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(w)});if(!O.ok)throw O;const H=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.responseText,status:H.status}}))}catch(O){const H=await O.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:H.error_message||H.detail,status:"danger"}}))}}backTopBtnClick(){return Wf.to(this.mainContentScrollable,.6,{scrollTo:{y:0},ease:qf.easeOut}),!1}resize(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.resizeFirst&&(this.resizeFirst=!1)}}window.CodeMirror=$w;window.UIkit=UIkit;window.Rozier=new f3;const d3=t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)};d3(()=>{window.Rozier.onDocumentReady()});(function(){customElements.define("node-tree-contextual-menu",Kw),customElements.define("node-source-edit-page",Qw),customElements.define("tag-edit-page",Jw),customElements.define("admin-menu-nav",ex),customElements.define("folder-autocomplete",tx),customElements.define("tag-autocomplete",ix),customElements.define("main-trees",nx),customElements.define("document-alignment-widget",gp),customElements.define("document-edit-dialog",vp),vg(),mg(),new Vw,new bg,window.addEventListener("pageshowend",()=>{vg(),mg(),new bg})})()});export default p3();
