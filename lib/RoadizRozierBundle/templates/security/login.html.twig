{% extends '@RoadizRozier/login/base.html.twig' %}

{% block title %}{% trans %}login{% endtrans %} | {{ parent() }}{% endblock %}

{% block login_content %}
    {% if error %}
        <div data-uk-alert class="uk-alert uk-alert-danger">
            {{- error.messageKey|default(error.message)|trans(error.messageData, 'security') -}}
        </div>
    {% endif %}

    {% if openid %}
        <p>
            <a href="{{ openid }}"
               class="uk-button uk-button-secondary">
                <i class="uk-icon uk-icon-chain"></i>
                {{ (openid_button_label|default('login_with_openid'))|trans -}}
            </a>
        </p>
        <hr>
    {% endif %}
    <form id="login-form"
          class="rz-form"
          method="post">
        <div class="rz-form__field-list">
            <div class="rz-form-field rz-form-field--type-text rz-form-field--required">
                <div class="rz-form-field__head">
                    <label class="rz-form-field__head__label" for="_username">{% trans %}username{% endtrans %}</label>
                </div>
                <input
                    is="rz-input"
                    name="username"
                    id="_username"
                    type="text"
                    autocomplete="username email"
                    placeholder="{% trans %}username{% endtrans %}"
                    class="rz-form-field__input"
                    required="true"
                    value="{{ last_username }}">
            </div>
            <div class="rz-form-field rz-form-field--type-password rz-form-field--required">
                <div class="rz-form-field__head">
                    <label class="rz-form-field__head__label" for="_password">{% trans %}password{% endtrans %}</label>
                </div>
                <input
                    is="rz-input"
                    name="password"
                    id="_password"
                    type="password"
                    autocomplete="current-password"
                    placeholder="{% trans %}password{% endtrans %}"
                    class="rz-form-field__input"
                    required="true">
            </div>
            <div class="rz-form-field rz-form-field--type-checkbox">
                <div class="rz-form-field__head">
                    <label class="rz-form-field__head__label" for="_remember_me">{% trans %}keep_me_logged_in{% endtrans %}</label>
                </div>
                <input type="checkbox" class="rz-switch rz-form-field__input" id="_remember_me" name="_remember_me" checked>
            </div>
        </div>
        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
        <div class="rz-button-group rz-button-group--gap-md">
            <button type="submit" class="rz-button rz-button--primary rz-button-group__button">
                <span class="rz-button__label">{% trans %}login{% endtrans %}</span>
                <span class="rz-icon-ri--arrow-right-s-line"></span>
            </button>
            <a class="rz-button rz-button--secondary rz-button-group__button" href="{{ path('roadiz_rozier_login_link') }}">
                <span class="rz-button__label">{% trans %}request_login_link{% endtrans %}</span>
                <span class="rz-icon-ri--link"></span>
            </a>
        </div>
    </form>
{% endblock %}
