webpackJsonp([1],{"+Rwj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:this.url,id:this.id}})},staticRenderFns:[]};t.default=i},"+VLV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){(0,i.default)(this,e),this.$textarea=t,this.textarea=this.$textarea[0],this.$cont=this.$textarea.parents(".uk-form-row").eq(0),this.$settingRow=this.$textarea.parents(".setting-row").eq(0),this.tabSize=4;for(var a=[],r=1;r<19;r++)a.push({column:this.tabSize*r,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});var o={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:a,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled"),extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.$settingRow.length&&(o.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,o),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.$textarea.length&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(function(){(0,r.default)("[data-uk-switcher]").on("show.uk.switcher",e.forceEditorUpdate),e.forceEditorUpdate()}))}},{key:"forceEditorUpdate",value:function(){this.editor.refresh()}},{key:"textareaChange",value:function(){this.editor.save()}},{key:"textareaFocus",value:function(){this.$cont.addClass("form-col-focus")}},{key:"textareaBlur",value:function(){this.$cont.removeClass("form-col-focus")}},{key:"resize",value:function(){}}]),e}();t.default=s},"+hDt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("e1f4")),a=function(e){return e&&e.__esModule?e:{default:e}}(n("XEtd"));t.default={data:function(){return{modalWidth:656,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:a.default},mounted:function(){var e=this;this.modalWidth=window.innerWidth<656?328:656,i.getImage().then(function(t){e.imageUrl=t}).finally(function(){e.$modal.show("warning-modal")})},methods:{close:function(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose:function(e){this.manualClose||e.stop()}}}},"/Z0b":function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,'.document-preview-widget{position:fixed;width:100%;height:100%;z-index:99999;top:0;left:0}.document-preview-widget__wrapper{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5)}.document-preview-widget__information{position:absolute;top:10px;right:10px;height:31px;line-height:30px;font-size:12px;text-align:left;padding:0 15px;border-radius:16px;color:#7d7d7d;background:#000;box-shadow:0 4px 15px rgba(0,0,0,.31)}.document-preview-widget__information .close,.document-preview-widget__information .info{display:inline-block}.document-preview-widget__information .close:before,.document-preview-widget__information .info:before{display:inline-block;content:" ";height:20px;width:1px;background:#000;margin:0 10px;position:relative;border-left:1px solid #2d2d2d;top:5px}.document-preview-widget__information .close:first-of-type:before,.document-preview-widget__information .info:first-of-type:before{display:none}.document-preview-widget__information .close{font-size:15px;cursor:pointer}.document-preview-widget__information .close i{transition:all .3s ease-out}.document-preview-widget__information .close:hover i{color:#b0b0b0}.document-preview-widget__container{position:absolute;top:50%;left:50%;max-width:80vw;max-height:80vh;width:auto;height:auto;display:inline-block;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;box-shadow:0 0 320px rgba(0,0,0,.7);background:#dadada}.document-preview-widget__container>div{height:100%}.document-preview-widget__container.hasNoPreview.isVideo{position:relative;width:auto;height:auto}.document-preview-widget__container.hasNoPreview.isVideo .document-preview-widget__preview{position:relative}.document-preview-widget__container.isSvg{position:relative;width:auto;height:auto}.document-preview-widget__container.isSvg .document-preview-widget__preview{position:relative;width:500px;height:500px;pointer-events:none}.document-preview-widget__container.isPdf object,.document-preview-widget__container.isSvg object{width:100%;height:100%}.document-preview-widget__container.isPdf{width:80vw;height:80vh;background:#000}.document-preview-widget iframe,.document-preview-widget img,.document-preview-widget object,.document-preview-widget video{width:auto;height:auto;max-width:80vw;max-height:80vh}.document-preview-widget iframe{min-width:640px;min-height:360px}.document-preview-widget__message{position:absolute;left:50%;top:50%;-webkit-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);background:#1a1a1a;padding-left:20px;padding-right:20px;height:43px;border-radius:25px;color:#b3b3b3}',""])},"/rgl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=l(n("Xos8")),r=l(n("X9RM")),o=n("xHmi"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("RfA7"));function l(e){return e&&e.__esModule?e:{default:e}}var u={tagCreatorReady:function(e){(0,e.commit)(o.TAG_CREATOR_READY)},tagsCreate:function(e,t){var n=e.commit,i=e.dispatch,a=t.tagName;n(o.TAG_CREATE_NEW_REQUEST,{tagName:a}),s.createTag({tagName:a}).then(function(e){n(o.TAG_CREATE_NEW_REQUEST_SUCCESS,e),i("drawersAddItem",{item:e}),i("explorerResetSearchTerms")}).catch(function(e){n(o.TAG_CREATE_NEW_REQUEST_ERROR,e)})}},c=(i={},(0,a.default)(i,o.TAG_CREATOR_READY,function(e){e.isReady=!0}),(0,a.default)(i,o.EXPLORER_UPDATE_SEARCH_TERMS,function(e,t){var n=t.searchTerms;e.searchTerms=n}),(0,a.default)(i,o.EXPLORER_SUCCESS,function(e,t){var n=t.result;if(e.isTagExisting=!1,e.isReady&&""!==e.searchTerms){var i=!0,a=!1,o=void 0;try{for(var s,l=(0,r.default)(n.items);!(i=(s=l.next()).done);i=!0){var u=s.value;u.name&&e.searchTerms&&u.name.toLowerCase()===e.searchTerms.toLowerCase()&&(e.isTagExisting=!0)}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}}}),(0,a.default)(i,o.TAG_CREATE_NEW_REQUEST,function(e){e.isLoading=!0}),(0,a.default)(i,o.TAG_CREATE_NEW_REQUEST_SUCCESS,function(e,t){e.isLoading=!1}),(0,a.default)(i,o.TAG_CREATE_NEW_REQUEST_ERROR,function(e,t){e.isLoading=!1,e.error=t.message}),i);t.default={state:{isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},getters:{tagsSearchExisting:function(e){return function(t,n){return e.isTagExisting}}},actions:u,mutations:c}},"0b3H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[n("div",{staticClass:"modal",attrs:{id:"partition-register"}},[n("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"modal-content"},[n("p",[e._v(e._s(e.content))]),e._v(" "),n("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?n("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e._v(" "),e.closeable?n("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e._v(" "),e.imageUrl?n("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},staticRenderFns:[]};t.default=i},"0iPh":function(e,t){e.exports=$},"0vVo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("aIIw")),a=d(n("L3Vt")),r=d(n("kcQR")),o=d(n("dACh")),s=d(n("jx4H")),l=d(n("0iPh")),u=d(n("P4+A")),c=d(n("T2ht"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){(0,o.default)(this,e),this.$page=(0,l.default)(".stack-tree").eq(0),this.$quickAddNodeButtons=this.$page.find(".stack-tree-quick-creation a"),this.$nodeTree=this.$page.find(".root-tree").eq(0),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}return(0,s.default)(e,[{key:"getCurrentPage",value:function(){this.$nodeTree=this.$page.find(".root-tree").eq(0);var e=parseInt(this.$nodeTree.attr("data-page"));return isNaN(e)?1:e}},{key:"getTranslationId",value:function(){this.$nodeTree=this.$page.find(".root-tree").eq(0);var e=parseInt(this.$nodeTree.attr("data-translation-id"));return isNaN(e)?null:e}},{key:"init",value:function(){this.$page.find(".nodetree-langs").remove(),this.$quickAddNodeButtons.length&&this.$quickAddNodeButtons.on("click",this.onQuickAddClick)}},{key:"unbind",value:function(){this.$quickAddNodeButtons.length&&this.$quickAddNodeButtons.off("click",this.onQuickAddClick)}},{key:"quickAddNode",value:function(){var e=(0,r.default)(i.default.mark(function e(t,n){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.default(function(){var e=(0,r.default)(i.default.mark(function e(a,r){var l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(window.Rozier.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.Rozier.ajaxToken,_action:"quickAddNode",nodeTypeName:t,parentNodeId:n,translationId:o.getTranslationId(),tagId:s||null,pushTop:1})});case 3:if((l=e.sent).ok){e.next=12;break}return e.t0=r,e.next=8,l.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=17;break;case 12:return e.t2=a,e.next=15,l.json();case 15:e.t3=e.sent,(0,e.t2)(e.t3);case 17:e.next=22;break;case 19:e.prev=19,e.t4=e.catch(0),r();case 22:case"end":return e.stop()}},e,o,[[0,19]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onQuickAddClick",value:function(){var e=(0,r.default)(i.default.mark(function e(t){var n,r,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=(0,l.default)(t.currentTarget),r=n.attr("data-children-node-type"),o=parseInt(n.attr("data-children-parent-node")),s=void 0,!(""===r||o<=0)){e.next=7;break}return e.abrupt("return",!1);case 7:return n.attr("data-filter-tag")&&(s=parseInt(n.attr("data-filter-tag"))),e.prev=8,e.next=11,this.quickAddNode(r,o,s);case 11:return e.next=13,a.default.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(o,s,1)]);case 13:return e.next=15,window.Rozier.getMessages();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),window.UIkit.notify({message:e.t0.error_message,status:"danger",timeout:3e3,pos:"top-center"});case 20:case"end":return e.stop()}},e,this,[[8,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"treeAvailable",value:function(){return!!this.$page.find(".nodetree-widget").length}},{key:"fetchNodeTree",value:function(){var e=(0,r.default)(i.default.mark(function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.default(function(){var e=(0,r.default)(i.default.mark(function e(a,r){var l,u,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=new URLSearchParams({_token:window.Rozier.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:t,page:o||n.getCurrentPage(),tagId:s,translationId:n.getTranslationId()}),u=window.Rozier.routes.nodesTreeAjax+"?"+l.toString(),e.next=5,fetch(u,{method:"GET",headers:{Accept:"application/json"}});case 5:if((c=e.sent).ok){e.next=14;break}return e.t0=r,e.next=10,c.json();case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=19;break;case 14:return e.t2=a,e.next=17,c.json();case 17:e.t3=e.sent,(0,e.t2)(e.t3);case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(0),r();case 24:case"end":return e.stop()}},e,n,[[0,21]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"refreshNodeTree",value:function(){var e=(0,r.default)(i.default.mark(function e(t,n,a){var r,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.$page.find(".nodetree-widget")).length){e.next=3;break}return e.abrupt("return");case 3:return o=r.find(".root-tree").eq(0),t=void 0===t?o.attr("data-parent-node-id")?parseInt(o.attr("data-parent-node-id")):null:parseInt(t),window.Rozier.lazyload.canvasLoader.show(),e.next=8,this.fetchNodeTree(t,a?parseInt(a):void 0,n?parseInt(n):void 0);case 8:if(s=e.sent,!r.length||void 0===s.nodeTree){e.next=26;break}return e.next=12,window.Rozier.fadeOut(r);case 12:return r.replaceWith(s.nodeTree),r=this.$page.find(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),e.next=19,window.Rozier.fadeIn(r);case 19:window.Rozier.resize(),new u.default,this.$nodeTree=this.$page.find(".root-tree").eq(0),this.$page.find(".nodetree-langs").remove(),window.Rozier.lazyload.canvasLoader.hide(),window.Rozier.lazyload.nodeTreeContextActions&&window.Rozier.lazyload.nodeTreeContextActions.unbind(),window.Rozier.lazyload.nodeTreeContextActions=new c.default;case 26:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()}]),e}();t.default=f},"1+1T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=p(n("Xos8")),r=p(n("SJI6")),o=n("xHmi"),s=p(n("2byC")),l=p(n("7hA0")),u=p(n("DN71")),c=p(n("nY3t")),d=p(n("/rgl")),f=p(n("krmO")),h=p(n("fHvF"));function p(e){return e&&e.__esModule?e:{default:e}}t.default=new r.default.Store({modules:{nodesSourceSearch:s.default,explorer:l.default,filterExplorer:c.default,drawers:u.default,tags:d.default,documentPreview:f.default,blanchetteEditor:h.default},state:{translations:window.RozierRoot.messages,connected:!0,healthChecked:!0},mutations:(i={},(0,a.default)(i,o.LOGIN_CHECK_CONNECTED,function(e){e.connected=!0}),(0,a.default)(i,o.LOGIN_CHECK_DISCONNECTED,function(e){e.connected=!1}),(0,a.default)(i,o.HEALTH_CHECK_SUCCEEDED,function(e){e.healthChecked=!0}),(0,a.default)(i,o.HEALTH_CHECK_FAILED,function(e){e.healthChecked=!1}),i),actions:{escape:function(e){(0,e.commit)(o.KEYBOARD_EVENT_ESCAPE)}}})},"1MrQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("+hDt"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("0b3H"),s=n.n(o);var l=function(e){n("o8dy")},u=n("/4AN")(a.a,s.a,!1,l,"data-v-7a805390",null);t.default=u.exports},"1afk":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("aIIw")),a=s(n("kcQR")),r=s(n("dACh")),o=s(n("jx4H"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"geoCode",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:t}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(a=e.sent)||!a[0]){e.next=8;break}return e.abrupt("return",a[0]);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=new l},"2byC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=s(n("Xos8")),r=s(n("lS9x")),o=n("xHmi");function s(e){return e&&e.__esModule?e:{default:e}}var l={nodeSourceSearchEnableFocus:function(e){(0,e.commit)(o.NODES_SEARCH_ENABLE_FOCUS)},nodeSourceSearchDisableFocus:function(e){(0,e.commit)(o.NODES_SEARCH_DISABLE_FOCUS)},nodesSourceSearchUpdate:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!n||n.length<=1?t(o.NODES_SEARCH_RESET):(t(o.NODES_SEARCH_REQUEST,{searchTerms:n}),r.default.getNodesSourceFromSearch(n).then(function(e){t(o.NODES_SEARCH_SUCCESS,{items:e})}).catch(function(){t(o.NODES_SEARCH_FAILED)}))}},u=(i={},(0,a.default)(i,o.NODES_SEARCH_ENABLE_FOCUS,function(e){e.isFocus=!0}),(0,a.default)(i,o.NODES_SEARCH_DISABLE_FOCUS,function(e){e.isFocus=!1}),(0,a.default)(i,o.NODES_SEARCH_REQUEST,function(e,t){var n=t.searchTerms;e.searchTerms=n}),(0,a.default)(i,o.NODES_SEARCH_SUCCESS,function(e,t){var n=t.items;e.items=n}),(0,a.default)(i,o.NODES_SEARCH_FAILED,function(e){e.items=[]}),(0,a.default)(i,o.NODES_SEARCH_RESET,function(e){e.items=[]}),(0,a.default)(i,o.KEYBOARD_EVENT_ESCAPE,function(e){e.isFocus=!1}),i);t.default={state:{searchTerms:null,items:[],isFocus:!1,isOpen:!1},getters:{},actions:l,mutations:u}},"2pAm":function(e,t,n){"use strict";!function(e){e.fn.tagEditorInput=function(){var t=" ",n=e(this),i=parseInt(n.css("fontSize")),a=e("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"});return a.insertAfter(n),n.bind("keyup keydown focus",function(){if(t!==(t=n.val())){a.text(t);var e=a.width()+i;20>e&&(e=20),e!=n.width()&&n.width(e)}})},e.fn.tagEditor=function(t,n,a){function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var o,s=e.extend({},e.fn.tagEditor.defaults,t);if(s.dregex=new RegExp("["+s.delimiter.replace("-","-")+"]","g"),"string"==typeof t){var l=[];return this.each(function(){var i=e(this),r=i.data("options"),o=i.next(".tag-editor");if("getTags"==t)l.push({field:i[0],editor:o,tags:o.data("tags")});else if("addTag"==t){if(r.maxTags&&o.data("tags").length>=r.maxTags)return!1;e('<li><div class="tag-editor-spacer">&nbsp;'+r.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(o).find(".tag-editor-tag").html('<input type="text" maxlength="'+r.maxLength+'">').addClass("active").find("input").val(n).blur(),a?e(".placeholder",o).remove():o.click()}else"removeTag"==t?(e(".tag-editor-tag",o).filter(function(){return e(this).text()==n}).closest("li").find(".tag-editor-delete").click(),a||o.click()):"destroy"==t&&i.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),"getTags"==t?l:this}return window.getSelection&&e(document).off("keydown.tag-editor").on("keydown.tag-editor",function(t){if(8==t.which||46==t.which||t.ctrlKey&&88==t.which){try{var n=getSelection(),a="BODY"==document.activeElement.tagName?e(n.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch(t){a=0}if(n.rangeCount>0&&a&&a.length){var r=[],o=n.toString().split(a.prev().data("options").dregex);for(i=0;i<o.length;i++){var s=e.trim(o[i]);s&&r.push(s)}return e(".tag-editor-tag",a).each(function(){~e.inArray(e(this).text(),r)&&e(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),this.each(function(){var t=e(this),n=[],i=e("<ul "+(s.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(t);t.addClass("tag-editor-hidden-src").data("options",s).on("focus.tag-editor",function(){i.click()}),i.append('<li style="width:1px">&nbsp;</li>');var a,l,u='<li><div class="tag-editor-spacer">&nbsp;'+s.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function c(){!s.placeholder||n.length||e(".deleted, .placeholder, input",i).length||i.append('<li class="placeholder"><div>'+s.placeholder+"</div></li>")}function d(a){var r=n.toString();n=e(".tag-editor-tag:not(.deleted)",i).map(function(t,n){var i=e.trim(e(this).hasClass("active")?e(this).find("input").val():e(n).text());if(i)return i}).get(),i.data("tags",n),t.val(n.join(s.delimiter[0])),a||r!=n.toString()&&s.onChange(t,i,n),c()}function f(a){for(var o,l=a.closest("li"),u=a.val().replace(/ +/," ").split(s.dregex),c=a.data("old_tag"),f=n.slice(0),h=!1,p=0;p<u.length;p++)if(m=e.trim(u[p]).slice(0,s.maxLength),s.forceLowercase&&(m=m.toLowerCase()),o=s.beforeTagSave(t,i,f,c,m),m=o||m,!1!==o&&m&&(s.removeDuplicates&&~e.inArray(m,f)&&e(".tag-editor-tag",i).each(function(){e(this).text()==m&&e(this).closest("li").remove()}),f.push(m),l.before('<li><div class="tag-editor-spacer">&nbsp;'+s.delimiter[0]+'</div><div class="tag-editor-tag">'+r(m)+'</div><div class="tag-editor-delete"><i></i></div></li>'),s.maxTags&&f.length>=s.maxTags)){h=!0;break}a.attr("maxlength",s.maxLength).removeData("old_tag").val(""),h?a.blur():a.focus(),d()}i.click(function(t,n){var a,r,l=99999;if(!window.getSelection||""==getSelection())return s.maxTags&&i.data("tags").length>=s.maxTags?(i.find("input").blur(),!1):(o=!0,e("input:focus",i).blur(),!!o&&(o=!0,e(".placeholder",i).remove(),n&&n.length?r="before":e(".tag-editor-tag",i).each(function(){var i=e(this),o=i.offset(),s=o.left,u=o.top;t.pageY>=u&&t.pageY<=u+i.height()&&(t.pageX<s?(r="before",a=s-t.pageX):(r="after",a=t.pageX-s-i.width()),a<l&&(l=a,n=i))}),"before"==r?e(u).insertBefore(n.closest("li")).find(".tag-editor-tag").click():"after"==r?e(u).insertAfter(n.closest("li")).find(".tag-editor-tag").click():e(u).appendTo(i).find(".tag-editor-tag").click(),!1))}),i.on("click",".tag-editor-delete",function(a){if(e(this).prev().hasClass("active"))return e(this).closest("li").find("input").caret(-1),!1;var r=e(this).closest("li"),o=r.find(".tag-editor-tag");return!1!==s.beforeTagDelete(t,i,n,o.text())&&(o.addClass("deleted").animate({width:0},s.animateDelete,function(){r.remove(),c()}),d(),!1)}),s.clickDelete&&i.on("mousedown",".tag-editor-tag",function(a){if(a.ctrlKey||a.which>1){var r=e(this).closest("li"),o=r.find(".tag-editor-tag");return!1!==s.beforeTagDelete(t,i,n,o.text())&&(o.addClass("deleted").animate({width:0},s.animateDelete,function(){r.remove(),c()}),d(),!1)}}),i.on("click",".tag-editor-tag",function(t){if(s.clickDelete&&(t.ctrlKey||t.which>1))return!1;if(!e(this).hasClass("active")){var n=e(this).text(),a=Math.abs((e(this).offset().left-t.pageX)/e(this).width()),o=parseInt(n.length*a),l=e(this).html('<input type="text" maxlength="'+s.maxLength+'" value="'+r(n)+'">').addClass("active").find("input");if(l.data("old_tag",n).tagEditorInput().focus().caret(o),s.autocomplete){var u=e.extend({},s.autocomplete),c="select"in u?s.autocomplete.select:"";u.select=function(t,n){c&&c(t,n),setTimeout(function(){i.trigger("click",[e(".active",i).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},l.autocomplete(u)}}return!1}),i.on("blur","input",function(a){a.stopPropagation();var l,u=e(this),h=u.data("old_tag"),p=e.trim(u.val().replace(/ +/," ").replace(s.dregex,s.delimiter[0]));if(p){if(p.indexOf(s.delimiter[0])>=0)return void f(u);if(p!=h)if(s.forceLowercase&&(p=p.toLowerCase()),l=s.beforeTagSave(t,i,n,h,p),p=l||p,!1===l){if(h)return u.val(h).focus(),o=!1,void d();try{u.closest("li").remove()}catch(a){}h&&d()}else s.removeDuplicates&&e(".tag-editor-tag:not(.active)",i).each(function(){e(this).text()==p&&e(this).closest("li").remove()})}else{if(h&&!1===s.beforeTagDelete(t,i,n,h))return u.val(h).focus(),o=!1,void d();try{u.closest("li").remove()}catch(a){}h&&d()}u.parent().html(r(p)).removeClass("active"),p!=h&&d(),c()}),i.on("paste","input",function(t){e(this).removeAttr("maxlength"),a=e(this),setTimeout(function(){f(a)},30)}),i.on("keypress","input",function(t){s.delimiter.indexOf(String.fromCharCode(t.which))>=0&&(l=e(this),setTimeout(function(){f(l)},20))}),i.on("keydown","input",function(n){var a=e(this);if((37==n.which||!s.autocomplete&&38==n.which)&&!a.caret()||8==n.which&&!a.val())return(r=a.closest("li").prev("li").find(".tag-editor-tag")).length?r.click().find("input").caret(-1):!a.val()||s.maxTags&&i.data("tags").length>=s.maxTags||e(u).insertBefore(a.closest("li")).find(".tag-editor-tag").click(),!1;if((39==n.which||!s.autocomplete&&40==n.which)&&a.caret()==a.val().length)return(o=a.closest("li").next("li").find(".tag-editor-tag")).length?o.click().find("input").caret(0):a.val()&&i.click(),!1;if(9==n.which){if(n.shiftKey){var r;if((r=a.closest("li").prev("li").find(".tag-editor-tag")).length)r.click().find("input").caret(0);else{if(!a.val()||s.maxTags&&i.data("tags").length>=s.maxTags)return t.attr("disabled","disabled"),void setTimeout(function(){t.removeAttr("disabled")},30);e(u).insertBefore(a.closest("li")).find(".tag-editor-tag").click()}return!1}var o;if((o=a.closest("li").next("li").find(".tag-editor-tag")).length)o.click().find("input").caret(0);else{if(!a.val())return;i.click()}return!1}if(!(46!=n.which||e.trim(a.val())&&a.caret()!=a.val().length))return(o=a.closest("li").next("li").find(".tag-editor-tag")).length?o.click().find("input").caret(0):a.val()&&i.click(),!1;if(13==n.which)return i.trigger("click",[a.closest("li").next("li").find(".tag-editor-tag")]),s.maxTags&&i.data("tags").length>=s.maxTags&&i.find("input").blur(),!1;if(36!=n.which||a.caret()){if(35==n.which&&a.caret()==a.val().length)i.find(".tag-editor-tag").last().click();else if(27==n.which)return a.val(a.data("old_tag")?a.data("old_tag"):"").blur(),!1}else i.find(".tag-editor-tag").first().click()});for(var h=s.initialTags.length?s.initialTags:t.val().split(s.dregex),p=0;p<h.length&&!(s.maxTags&&p>=s.maxTags);p++){var m=e.trim(h[p].replace(/ +/," "));m&&(s.forceLowercase&&(m=m.toLowerCase()),n.push(m),i.append('<li><div class="tag-editor-spacer">&nbsp;'+s.delimiter[0]+'</div><div class="tag-editor-tag">'+r(m)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}d(!0),s.sortable&&e.fn.sortable&&i.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){d()}})})},e.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}}(jQuery)},"2y8T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getDocumentsByIds=function(e){for(var t=this,n=e.ids,r=void 0===n?[]:n,o={_token:window.RozierRoot.ajaxToken,_action:"documentsByIds"},s=0;s<r.length;s++)o["ids["+s+"]"]=r[s];return fetch(window.RozierRoot.routes.documentsAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.documents){e.next=7;break}return e.abrupt("return",{items:a.documents,trans:a.trans});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getDocuments=function(e){var t=this,n=e.searchTerms,r=e.filters,o=e.filterExplorerSelection,s=e.moreData,l={_token:window.RozierRoot.ajaxToken,_action:"toggleExplorer",search:n,page:1};o&&o.id&&(l.folderId=o.id);s&&(l.page=r?r.nextPage:1);return fetch(window.RozierRoot.routes.documentsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.documents){e.next=7;break}return e.abrupt("return",{items:a.documents,filters:a.filters,trans:a.trans});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.setDocument=function(e){return fetch(window.location.href,{method:"POST",body:e,headers:{Accept:"application/json"}})}},"3Z0C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e),this.$input=(0,r.default)(".rz-tag-autocomplete").eq(0),this.initialUrl=this.$input.attr("data-get-url"),this.placeholder=this.$input.attr("placeholder"),this.initialTags=[],this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;void 0!==this.initialUrl&&""!==this.initialUrl?r.default.getJSON(this.initialUrl,{_action:"getNodeTags",_token:window.Rozier.ajaxToken},function(t){e.initialTags=t,e.initAutocomplete()}):this.initAutocomplete()}},{key:"unbind",value:function(){}},{key:"split",value:function(e){return e.split(/,\s*/)}},{key:"extractLast",value:function(e){return this.split(e).pop()}},{key:"initAutocomplete",value:function(){var e=this;this.$input.tagEditor({autocomplete:{delay:.3,position:{collision:"flip"},source:function(t,n){r.default.getJSON(window.Rozier.routes.tagAjaxSearch,{_action:"tagAutocomplete",_token:window.Rozier.ajaxToken,search:e.extractLast(t.term)},n)}},placeholder:this.placeholder,initialTags:this.initialTags,animateDelete:0})}}]),e}();t.default=s},"3aBW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("aIIw")),a=l(n("kcQR")),r=l(n("dACh")),o=l(n("jx4H")),s=l(n("0iPh"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,r.default)(this,e),this.$containers=(0,s.default)(".node-statuses, .node-actions"),this.$icon=(0,s.default)(".node-status header i"),this.$inputs=this.$containers.find('input[type="checkbox"], input[type="radio"]'),this.$item=this.$containers.find(".node-statuses-item"),this.locked=!1,this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.$item.off("click",this.itemClick),this.$item.on("click",this.itemClick),this.$containers.on("mouseenter",this.containerEnter),this.$containers.on("mouseleave",this.containerLeave),this.$inputs.off("change",this.onChange),this.$inputs.on("change",this.onChange),this.$containers.find(".rz-boolean-checkbox").bootstrapSwitch({size:"small",onSwitchChange:this.onChange})}},{key:"containerEnter",value:function(e){e.stopPropagation();var t=(0,s.default)(e.currentTarget),n=t.find("ul, nav").eq(0),i=t.height(),a=n.height(),r=t.offset().top;window.innerHeight<r+a+i&&t.addClass("reverse")}},{key:"containerLeave",value:function(e){e.stopPropagation(),(0,s.default)(e.currentTarget).removeClass("reverse")}},{key:"itemClick",value:function(e){e.stopPropagation();var t=(0,s.default)(e.currentTarget).find('input[type="radio"]');t.length&&(t.prop("checked",!0),t.trigger("change"))}},{key:"onChange",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,a,r,o,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!0!==this.locked){e.next=3;break}return e.abrupt("return",!1);case 3:if(this.locked=!0,(n=(0,s.default)(t.currentTarget)).length){e.next=7;break}return e.abrupt("return",!1);case 7:return a=n.attr("name"),r=null,n.is('input[type="checkbox"]')?r=Number(n.is(":checked")):n.is('input[type="radio"]')&&(this.$icon[0].className=n.parent().find("i")[0].className,r=n.val()),e.next=12,fetch(window.Rozier.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.Rozier.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(n.attr("data-node-id")),statusName:a,statusValue:r})});case 12:if((o=e.sent).ok){e.next=20;break}return e.next=16,o.json();case 16:l=e.sent,window.UIkit.notify({message:l.error_message,status:"danger",timeout:3e3,pos:"top-center"}),e.next=24;break;case 20:return e.next=22,window.Rozier.refreshMainNodeTree();case 22:return e.next=24,window.Rozier.getMessages();case 24:this.locked=!1;case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u},"4YKS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("T4f3")),a=c(n("CXfR")),r=n("SJI6"),o=c(n("FPV2")),s=c(n("s/f/")),l=c(n("YM2E")),u=c(n("RZXU"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{searchPlaceHolder:""}},computed:(0,i.default)({},(0,r.mapState)({isLoadingMore:function(e){return e.explorer.isLoadingMore},isLoading:function(e){return e.explorer.isLoading},isOpen:function(e){return e.explorer.isOpen},items:function(e){return e.explorer.items},filters:function(e){return e.explorer.filters},moreItems:function(e){return e.explorer.trans.moreItems},translations:function(e){return e.translations},entity:function(e){return e.explorer.entity},isFilterExplorerOpen:function(e){return e.filterExplorer.isOpen},filterExplorerSelectedItems:function(e){return e.filterExplorer.selectedItem},currentListingView:function(e){return e.explorer.currentListingView},widgetView:function(e){return e.explorer.widgetView},isFilterEnable:function(e){return e.explorer.isFilterEnable},filterExplorerIcon:function(e){return e.explorer.filterExplorerIcon},entityClass:function(e){return"entity-"+e.explorer.entity}}),{searchTerms:{get:function(){return this.$store.getters.getExplorerSearchTerms},set:(0,a.default)(function(e){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:e})},450)}}),methods:(0,i.default)({},(0,r.mapActions)(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),{manualUpdate:function(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem:function(e){this.drawersAddItem({item:e})}}),components:{LoadMoreButton:o.default,ExplorerItemsInfos:s.default,FilterExplorerButton:l.default,draggable:u.default}}},"5J2Y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(n("T4f3")),a=_(n("dACh")),r=_(n("jx4H")),o=_(n("lRwf")),s=_(n("1+1T")),l=_(n("0iPh")),u=_(n("5zda")),c=_(n("Fk2h")),d=_(n("KU4q")),f=_(n("eQwT")),h=_(n("ywca")),p=_(n("bXQK")),m=_(n("bpQj")),v=_(n("XTd8")),g=_(n("BLmM")),w=_(n("IPB7")),b=_(n("9NTV")),k=n("xHmi");function _(e){return e&&e.__esModule?e:{default:e}}var E=function(){function e(){(0,a.default)(this,e),this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:d.default,DrawerContainer:f.default,ExplorerContainer:h.default,FilterExplorerContainer:p.default,TagsEditorContainer:m.default,DocumentPreviewContainer:v.default,BlanchetteEditorContainer:g.default,ModalContainer:w.default},this.registeredComponents={Overlay:b.default},this.vuejsElements=(0,i.default)({},this.registeredComponents,this.registeredContainers),this.init(),this.initListeners()}return(0,r.default)(e,[{key:"init",value:function(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}},{key:"initListeners",value:function(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}},{key:"initServices",value:function(){this.services.push(new u.default(s.default)),this.services.push(new c.default(s.default))}},{key:"onPageChange",value:function(){s.default.commit(k.KEYBOARD_EVENT_ESCAPE)}},{key:"onPageLoaded",value:function(e){this.buildMainContentComponents(e.detail)}},{key:"destroyMainContentComponents",value:function(){this.mainContentComponents.forEach(function(e){e.$destroy()})}},{key:"buildDocumentExplorer",value:function(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}},{key:"buildOtherContainers",value:function(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}},{key:"buildNavTrees",value:function(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}},{key:"buildMainContentComponents",value:function(){var e=this;this.destroyMainContentComponents(),(0,l.default)("#main-content").find("[data-vuejs]").each(function(t,n){e.mainContentComponents.push(e.buildComponent(n))})}},{key:"buildComponent",value:function(e){return new o.default({delimiters:["${","}"],el:e,store:s.default,components:this.vuejsElements})}}]),e}();t.default=E},"5zda":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=n("xHmi");function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,i.default)(this,e),this.store=t,this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.bindEscape(),this.bindSpace()}},{key:"bindEscape",value:function(){var e=this;window.Mousetrap.bind("esc",function(){return e.store.commit(r.KEYBOARD_EVENT_ESCAPE)})}},{key:"bindSpace",value:function(){var e=this;window.Mousetrap.bind("space",function(t){t.preventDefault&&e.store.getters.documentPreviewGetDocument?t.preventDefault():e.store.getters.documentPreviewGetDocument&&(t.returnValue=!1),t.target===document.body&&t.preventDefault?t.preventDefault():t.target===document.body&&(t.returnValue=!1),e.store.commit(r.KEYBOARD_EVENT_SPACE)})}}]),e}();t.default=s},"7APs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("B2tc"));t.default={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:i.default}}},"7Smz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e),this.$button=(0,r.default)(".rz-action-save").eq(0),this.$actionMenu=(0,r.default)(".actions-menu").eq(0),this.formToSave=null,this.onClick=this.onClick.bind(this),this.bindKeyboard(),this.$button.length&&this.$actionMenu.length&&this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.formToSave=(0,r.default)(this.$button.attr("data-action-save")),this.formToSave.length&&(this.$button.prependTo(this.$actionMenu),this.$button.on("click",this.onClick),window.Mousetrap.bind(["mod+s"],function(){return console.debug("Save requested"),e.formToSave.submit(),!1}))}},{key:"unbind",value:function(){this.formToSave&&this.formToSave.length&&this.$button.off("click",this.onClick)}},{key:"onClick",value:function(){this.formToSave.submit()}},{key:"bindKeyboard",value:function(){window.Mousetrap.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&"SELECT"===t.tagName}}}]),e}();t.default=s},"7hA0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=h(n("Xos8")),r=h(n("mYpx")),o=h(n("aIIw")),s=h(n("kcQR")),l=h(n("T4f3")),u=h(n("lRwf")),c=h(n("lS9x")),d=n("xHmi"),f=h(n("uC1N"));function h(e){return e&&e.__esModule?e:{default:e}}var p={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},m=(0,l.default)({},p),v={explorerOpen:function(e,t){var n=this,i=e.commit,a=e.dispatch,r=t.entity;return(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a("filterExplorerClose"),i(d.EXPLORER_RESET),i(d.EXPLORER_OPEN,{entity:r}),e.next=5,a("explorerMakeSearch");case 5:i(d.EXPLORER_IS_LOADED);case 6:case"end":return e.stop()}},e,n)}))()},explorerClose:function(e){var t=e.commit,n=e.dispatch;n("filterExplorerClose"),n("filterExplorerReset"),t(d.EXPLORER_RESET),t(d.EXPLORER_CLOSE)},explorerToggle:function(e){var t=e.dispatch;e.state.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms:function(e){var t=e.commit,n=e.state,i=e.dispatch;""===n.searchTerms?t(d.EXPLORER_UPDATE_SEARCH_TERMS,{searchTerms:""}):i("explorerUpdateSearch",{searchTerms:""})},explorerUpdateSearch:function(e,t){var n=e.commit,i=e.dispatch,a=t.searchTerms;n(d.EXPLORER_UPDATE_SEARCH_TERMS,{searchTerms:a}),i("explorerMakeSearch")},explorerMakeSearch:function(e){var t=e.commit,n=e.state,i=e.getters,a=n.entity,r=n.searchTerms,o=i.getDrawerFilters,s=n.filters,l=i.getFilterExplorerSelectedItem,u=n.isLoadingMore;return t(d.EXPLORER_REQUEST),c.default.getExplorerItems({entity:a,searchTerms:r,preFilters:o,filters:s,filterExplorerSelection:l,moreData:u}).then(function(e){t(d.EXPLORER_SUCCESS,{result:e})}).catch(function(e){console.error(e),t(d.EXPLORER_FAILED,{error:e})})},explorerLoadMore:function(e){var t=this,n=e.commit,i=e.dispatch;return(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(d.EXPLORER_LOAD_MORE),e.next=3,i("explorerMakeSearch");case 3:n(d.EXPLORER_LOAD_MORE_SUCCESS);case 4:case"end":return e.stop()}},e,t)}))()}},g=(i={},(0,a.default)(i,d.EXPLORER_REQUEST,function(e){e.isLoadingMore||(e.isLoading=!0)}),(0,a.default)(i,d.EXPLORER_UPDATE_SEARCH_TERMS,function(e,t){var n=t.searchTerms;e.searchTerms=n}),(0,a.default)(i,d.EXPLORER_SUCCESS,function(e,t){var n=t.result;e.isLoading=!1,e.isLoadingMore?e.items=[].concat((0,r.default)(e.items),(0,r.default)(n.items)):e.items=n.items,e.filters=n.filters}),(0,a.default)(i,d.EXPLORER_LOAD_MORE,function(e){e.isLoadingMore=!0}),(0,a.default)(i,d.EXPLORER_LOAD_MORE_SUCCESS,function(e){e.isLoadingMore=!1}),(0,a.default)(i,d.FILTER_EXPLORER_UPDATE,function(e){e.filters={}}),(0,a.default)(i,d.EXPLORER_RESET,function(e){for(var t in e)e.hasOwnProperty(t)&&u.default.set(e,t,p[t])}),(0,a.default)(i,d.EXPLORER_FAILED,function(e){e.isLoading=!1,e.isLoadingMore=!1,e.error="Request failed"}),(0,a.default)(i,d.EXPLORER_OPEN,function(e,t){var n=t.entity;e.isOpen=!0,e.isLoading=!0,e.entity=n,e.trans.moreItems="",e.widgetView=f.default.getWidgetView(n);var i=f.default.getState(n);for(var a in i)e.hasOwnProperty(a)&&u.default.set(e,a,i[a])}),(0,a.default)(i,d.EXPLORER_IS_LOADED,function(e){e.isLoading=!1}),(0,a.default)(i,d.EXPLORER_CLOSE,function(e){e.isOpen=!1,e.isLoading=!1}),(0,a.default)(i,d.KEYBOARD_EVENT_ESCAPE,function(){m.isOpen=!1}),i);t.default={state:m,getters:{getExplorerEntity:function(e){return e.entity},getExplorerSearchTerms:function(e){return e.searchTerms}},actions:v,mutations:g}},"8DOo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getCustomFormsByIds=function(e){for(var t=this,n=e.ids,r=void 0===n?[]:n,o=(e.filters,{_token:window.RozierRoot.ajaxToken}),s=0;s<r.length;s++)o["ids["+s+"]"]=r[s];return fetch(window.RozierRoot.routes.customFormsAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return e.t0=e.sent.forms,e.abrupt("return",{items:e.t0});case 4:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getCustomForms=function(e){var t=this,n=e.searchTerms,r=e.filters,o=e.moreData,s={_token:window.RozierRoot.ajaxToken,_action:"toggleExplorer",search:n,page:1};o&&(s.page=r?r.nextPage:1);return fetch(window.RozierRoot.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.customForms){e.next=7;break}return e.abrupt("return",{items:a.customForms,filters:a.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},"8Wgj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("xHmi");t.default={props:["title","href","typeColor"],methods:{onItemClick:function(e){window.Rozier.lazyload.onClick(e),this.$store.commit(i.KEYBOARD_EVENT_ESCAPE)}}}},"9NTV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("en6P"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("TFax"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},"9QM9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("T4f3")),a=s(n("CXfR")),r=n("SJI6"),o=s(n("O7VT"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{searchTerms:null}},computed:(0,i.default)({},(0,r.mapState)({items:function(e){return e.nodesSourceSearch.items},isFocus:function(e){return e.nodesSourceSearch.isFocus},isOpen:function(e){return e.nodesSourceSearch.isOpen}})),methods:(0,i.default)({},(0,r.mapActions)(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus"]),{enableFocus:(0,a.default)(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:(0,a.default)(function(){this.nodeSourceSearchDisableFocus()},500)}),watch:{searchTerms:(0,a.default)(function(e,t){this.nodesSourceSearchUpdate(e,t)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:o.default}}},"9ttF":function(e,t){},"9wWa":function(e,t,n){"use strict";n("xlJi"),n("9ttF"),n("hICd"),n("+dCG"),n("2pAm"),n("LReI"),n("VBkt"),n("NHlQ"),n("0YO9"),n("JghL");var i=s(n("k+5J"));n("rhri"),n("aPDB"),n("Dyy6"),n("Dlui"),n("xQgR"),n("k+i+");var a=s(n("tQq4"));n("Krj7"),n("qqFR"),n("ggoL"),n("av7Y"),n("HeB0"),n("hCSc"),n("0cyU"),n("Emo7"),n("xKia"),n("A8sX");var r=s(n("0iPh")),o=s(n("SwUv"));function s(e){return e&&e.__esModule?e:{default:e}}window.CodeMirror=a.default,window.UIkit=i.default,window.Rozier=new o.default,(0,r.default)(document).ready(function(){window.Rozier.onDocumentReady()})},AcRm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("T4f3")),a=r(n("0iPh"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(e,t){this.dropzone.options[e]=t},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(e){this.dropzone.removeFile(e)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted:function(){if(!this.$isServer){var e=n("ujpI"),t=document.getElementById(this.id);if(e.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new e(t,this.dropzoneOptions);else{this.dropzone=new e(t,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:(0,i.default)({_token:window.Rozier.ajaxToken},this.headers),dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:function(e,t){var n=void 0;n=t.error?t.error:"Error",e.previewElement.classList.add("dz-error");for(var i=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],r=0,o=i.length;r<o;r++){var s=i[r];a.push(s.textContent=n)}return a}});var r=(0,a.default)(t);r.append('<div class="dz-default dz-message"><span>'+this.language.dictDefaultMessage+"</span></div>"),r.find(".dz-message").append('<div class="circles-icons"><div class="circle circle-1"></div><div class="circle circle-2"></div><div class="circle circle-3"></div><div class="circle circle-4"></div><div class="circle circle-5"></div><i class="uk-icon-rz-file"></i></div>')}var o=this;this.dropzone.on("thumbnail",function(e){o.$emit("vdropzone-thumbnail",e)}),this.dropzone.on("addedfile",function(e){o.$emit("vdropzone-file-added",e)}),this.dropzone.on("removedfile",function(e){o.$emit("vdropzone-removed-file",e)}),this.dropzone.on("success",function(e,t){if(o.$emit("vdropzone-success",e,t),e.previewElement){var n=(0,a.default)(e.previewElement);window.setTimeout(function(){n.fadeOut(500)},3e3)}}),this.dropzone.on("successmultiple",function(e,t){o.$emit("vdropzone-success-multiple",e,t)}),this.dropzone.on("error",function(e,t,n){o.$emit("vdropzone-error",e,t,n)}),this.dropzone.on("sending",function(e,t,n){o.$emit("vdropzone-sending",e,t,n),t.ontimeout=function(){console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(e,t,n){o.$emit("vdropzone-sending-multiple",e,t,n)}),this.dropzone.on("queuecomplete",function(e,t,n){o.$emit("vdropzone-queue-complete",e,t,n)})}},beforeDestroy:function(){this.dropzone.destroy()}}},Afu7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("L3Vt"));t.getItemsByIds=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];switch(e){case a.DOCUMENT_ENTITY:return r.getDocumentsByIds({ids:t,filters:n});case a.NODE_ENTITY:return o.getNodesByIds({ids:t,filters:n});case a.NODE_TYPE_ENTITY:return s.getNodeTypesByIds({ids:t,filters:n});case a.JOIN_ENTITY:return l.getJoinsByIds({ids:t,filters:n});case a.CUSTOM_FORM_ENTITY:return u.getCustomFormsByIds({ids:t,filters:n});case a.TAG_ENTITY:return c.getTagsByIds({ids:t,filters:n});case a.EXPLORER_PROVIDER_ENTITY:return d.getItemsByIds({ids:t,filters:n})}return i.default.reject(new Error("No type entity found"))};var a=n("EY70"),r=f(n("2y8T")),o=f(n("vfsJ")),s=f(n("O/s3")),l=f(n("m1Vf")),u=f(n("8DOo")),c=f(n("RfA7")),d=f(n("CpLN"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},B2tc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("gk4s"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("CCj5"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},BLmM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("eC0v"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("nhV0"),s=n.n(o);var l=function(e){n("Qv8n")},u=n("/4AN")(a.a,s.a,!1,l,"data-v-57d805b4",null);t.default=u.exports},BYnw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick:function(){this.createTag({tagName:this.tagName})}}}},CCj5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.item?n("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":!1===e.published},on:{click:function(t){t.preventDefault(),e.onAddItemButtonClick(t)}}},[n("div",{staticClass:"uk-sortable-handle"}),e._v(" "),n("div",{staticClass:"border",style:{backgroundColor:e.color}}),e._v(" "),e.thumbnailUrl&&!e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail"},[n("picture",[n("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),e._v(" "),n("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),e._v(" "),n("div",{staticClass:"names"},[e.parentName?n("p",{staticClass:"parent-name"},[e.subParentName?[n("span",{staticClass:"sub"},[e._v("\n                    "+e._s(e.subParentName)+"\n                ")])]:e._e(),e._v(" "),n("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),e._v(" "),n("span",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),e.inputName&&e.item&&e.item.id?n("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),e._v(" "),n("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?n("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),n("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e._v(" "),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},staticRenderFns:[]};t.default=i},"CS+6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.connected?e.healthChecked?e._e():n("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):n("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},staticRenderFns:[]};t.default=i},CpLN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getItemsByIds=function(e){for(var t=this,n=e.ids,r=void 0===n?[]:n,o=e.filters,s={_token:window.RozierRoot.ajaxToken,providerClass:o.providerClass},l=0;l<r.length;l++)s["ids["+l+"]"]=r[l];return fetch(window.RozierRoot.routes.providerAjaxByArray+"?"+new URLSearchParams(s),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.items){e.next=7;break}return e.abrupt("return",{items:a.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getItems=function(e){var t=this,n=e.searchTerms,r=e.preFilters,o=e.filters,s=(e.filterExplorerSelection,e.moreData),l={_token:window.RozierRoot.ajaxToken,_action:"toggleExplorer",search:n,page:1};r&&r.providerClass&&(l.providerClass=r.providerClass);r&&r.providerOptions&&(l.options=r.providerOptions);s&&(l.page=o?o.nextPage:1);return fetch(window.RozierRoot.routes.providerAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.entities){e.next=7;break}return e.abrupt("return",{items:a.entities,filters:a.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},DN71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=d(n("Xos8")),r=d(n("T4f3")),o=d(n("EmLd")),s=n("xHmi"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Afu7")),u=d(n("uC1N")),c=n("EY70");function d(e){return e&&e.__esModule?e:{default:e}}var f={list:[],trans:null,selectedDrawer:null},h={drawersAddInstance:function(e,t){(0,e.commit)(s.DRAWERS_ADD_INSTANCE,{drawer:t})},drawersRemoveInstance:function(e,t){(0,e.commit)(s.DRAWERS_REMOVE_INSTANCE,{drawerToRemove:t})},drawersInitData:function(e,t){var n=e.commit,i=t.drawer,a=t.entity,o=t.ids,u=t.filters,d=t.maxLength,f=t.minLength,h=t.entityName;if(n(s.DRAWERS_INIT_DATA_REQUEST,{drawer:i,entity:a,ids:o,filters:u}),o&&0!==o.length&&a){var p=o.map(function(e){return e.document?e.document:e});l.getItemsByIds(a,p,u).then(function(e){if(e&&h===c.NODE_SOURCE_DOCUMENT_ENTITY){var t=(0,r.default)({},e,{items:o.map(function(t,n){return{document:e.items[n],hotspot:t.hotspot,imageCropAlignment:t.imageCropAlignment}})});n(s.DRAWERS_INIT_DATA_REQUEST_SUCCESS,{drawer:i,result:t,maxLength:d,minLength:f})}else n(s.DRAWERS_INIT_DATA_REQUEST_SUCCESS,{drawer:i,result:e,maxLength:d,minLength:f})}).catch(function(e){n(s.DRAWERS_INIT_DATA_REQUEST_FAILED,{drawer:i,error:e})})}else n(s.DRAWERS_INIT_DATA_REQUEST_EMPTY,{drawer:i,maxLength:d,minLength:f})},drawersAddItem:function(e,t){var n=e.commit,i=e.state,a=t.drawer,r=t.item,o=t.newIndex,l=i.selectedDrawer;a&&(l=a),l.acceptMore&&n(s.DRAWERS_ADD_ITEM,{drawer:l,item:r,newIndex:o})},drawersMoveItem:function(e,t){e.commit,t.drawer,t.item},drawersRemoveItem:function(e,t){var n=e.commit,i=t.drawer,a=t.item;n(s.DRAWERS_REMOVE_ITEM,{drawer:i,item:a})},drawersExplorerButtonClick:function(e,t){var n=e.commit,i=e.dispatch;n(s.DRAWERS_EDIT_INSTANCE,{drawer:t}),f.selectedDrawer.isActive?i("explorerOpen",{entity:t.entity}):i("explorerClose")},drawersDropzoneButtonClick:function(e,t){e.state;var n=e.dispatch;t.isDropzoneEnable?n("drawersDisableDropzone",{drawer:t}):n("drawersEnableDropzone",{drawer:t})},drawersEnableDropzone:function(e,t){var n=e.commit,i=t.drawer;n(s.DRAWERS_ENABLE_DROPZONE,{drawer:i})},drawersDisableDropzone:function(e,t){var n=e.commit,i=t.drawer;n(s.DRAWERS_DISABLE_DROPZONE,{drawer:i})}},p=(i={},(0,a.default)(i,s.DRAWERS_ADD_INSTANCE,function(e,t){var n=t.drawer;e.list.push({entity:null,id:n._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})}),(0,a.default)(i,s.DRAWERS_REMOVE_INSTANCE,function(e,t){var n=t.drawerToRemove;e.list=(0,o.default)(e.list,function(e){return e._uid===n._uid})}),(0,a.default)(i,s.DRAWERS_EDIT_INSTANCE,function(e,t){var n=t.drawer;e.list.forEach(function(e){e!==n&&(e.isActive=!1)}),n.acceptMore=n.items.length<n.maxLength,n.isActive=!n.isActive,e.selectedDrawer=n}),(0,a.default)(i,s.DRAWERS_ADD_ITEM,function(e,t){var n=t.drawer,i=t.item;t.newIndex;n.items.push(i),n.acceptMore=n.items.length<n.maxLength}),(0,a.default)(i,s.DRAWERS_UPDATE_LIST,function(e,t){var n=t.drawer,i=t.newList;n.items=i,n.acceptMore=n.items.length<n.maxLength}),(0,a.default)(i,s.DRAWERS_REMOVE_ITEM,function(e,t){var n=t.drawer,i=t.item,a=n.items.indexOf(i);a>=0&&n.items.splice(a,1),n.acceptMore=n.items.length<n.maxLength}),(0,a.default)(i,s.EXPLORER_CLOSE,function(e){e=m(e)}),(0,a.default)(i,s.DRAWERS_INIT_DATA_REQUEST_SUCCESS,function(e,t){var n=t.drawer,i=t.result,a=t.maxLength,r=t.minLength;n.isLoading=!1,n.items=i.items,n.trans=i.trans,n.maxLength=a,n.minLength=r,n.acceptMore=i.items.length<a}),(0,a.default)(i,s.DRAWERS_INIT_DATA_REQUEST,function(e,t){var n=t.drawer,i=t.entity,a=t.filters;n.isLoading=!0,n.entity=i,n.filters=a,n.currentListingView=u.default.getListingView(i)}),(0,a.default)(i,s.DRAWERS_INIT_DATA_REQUEST_FAILED,function(e,t){var n=t.drawer,i=t.error;n.isLoading=!1,n.errorMessage=i.message}),(0,a.default)(i,s.DRAWERS_INIT_DATA_REQUEST_EMPTY,function(e,t){var n=t.drawer,i=t.maxLength,a=t.minLength;n.isLoading=!1,n.acceptMore=!0,n.maxLength=i,n.minLength=a}),(0,a.default)(i,s.KEYBOARD_EVENT_ESCAPE,function(e){e=m(e)}),(0,a.default)(i,s.DRAWERS_ENABLE_DROPZONE,function(e,t){var n=t.drawer;e.list.forEach(function(e){e.isDropzoneEnable=!1}),n.isDropzoneEnable=!0}),(0,a.default)(i,s.DRAWERS_DISABLE_DROPZONE,function(e,t){t.drawer.isDropzoneEnable=!1}),i);function m(e){return e.list.forEach(function(e){e.isActive=!1,e.isDropzoneEnable=!1}),e.selectedDrawer=null,e}t.default={state:f,getters:{drawersGetById:function(e,t){return function(t){return e.list.find(function(e){return e.id===t})}},getDrawerFilters:function(e){return e.selectedDrawer?e.selectedDrawer.filters:null}},actions:h,mutations:p}},DqSB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("L3Vt"));t.getFilters=function(e){switch(e.entity){case o.DOCUMENT_ENTITY:return a.getFolders();case o.NODE_ENTITY:return r.getTags();case o.TAG_ENTITY:return r.getParentTags();default:return i.default.reject(new Error("Entity not found"))}};var a=s(n("bKSI")),r=s(n("kMqv")),o=n("EY70");function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},ERN0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("T4f3")),a=n("SJI6"),r=o(n("KV+T"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{currentListingView:null}},computed:(0,i.default)({},(0,a.mapState)({isLoading:function(e){return e.filterExplorer.isLoading},isOpen:function(e){return e.filterExplorer.isOpen},items:function(e){return e.filterExplorer.items},entity:function(e){return e.explorer.entity},itemCount:function(e){return e.explorer.filters.itemCount},selectedItem:function(e){return e.filterExplorer.selectedItem},translations:function(e){return e.translations},icons:function(e){return e.filterExplorer.icons}})),methods:(0,i.default)({},(0,a.mapActions)(["filterExplorerUpdate"]),{onItemClick:function(e){this.filterExplorerUpdate({item:e})},onResetClick:function(){this.filterExplorerUpdate({item:null})}}),components:{FilterExplorerItem:r.default}}},EY70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DOCUMENT_ENTITY="document",t.NODE_ENTITY="node",t.NODE_TYPE_ENTITY="node-type",t.JOIN_ENTITY="join",t.EXPLORER_PROVIDER_ENTITY="explorer-provider",t.CUSTOM_FORM_ENTITY="custom-form",t.TAG_ENTITY="tag",t.NODE_SOURCE_DOCUMENT_ENTITY="node-source-document"},FPV2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("e9E8"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("inhQ"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},FVwp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("aIIw")),a=c(n("L3Vt")),r=c(n("kcQR")),o=c(n("dACh")),s=c(n("jx4H")),l=c(n("0iPh")),u=c(n("T2ht"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,o.default)(this,e),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.$fields=(0,l.default)("[data-children-nodes-widget]"),this.$nodeTrees=this.$fields.find(".nodetree-widget"),this.$quickAddNodeButtons=this.$fields.find(".children-nodes-quick-creation a"),this.cleanNodeTree()}return(0,s.default)(e,[{key:"unbind",value:function(){this.$quickAddNodeButtons.length&&this.$quickAddNodeButtons.off("click")}},{key:"cleanNodeTree",value:function(){this.$fields=(0,l.default)("[data-children-nodes-widget]"),this.$nodeTrees=this.$fields.find(".nodetree-widget"),this.$fields.find(".nodetree-langs").remove(),this.$quickAddNodeButtons.length&&(this.$quickAddNodeButtons.off("click"),this.$quickAddNodeButtons.on("click",this.onQuickAddClick))}},{key:"treeAvailable",value:function(){return!!this.$fields.find(".nodetree-widget").length}},{key:"quickAddNode",value:function(){var e=(0,r.default)(i.default.mark(function e(t,n,o){var s=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.default(function(){var e=(0,r.default)(i.default.mark(function e(a,r){var l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.Rozier.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.Rozier.ajaxToken,_action:"quickAddNode",nodeTypeName:t,parentNodeId:n,translationId:o})});case 2:if((l=e.sent).ok){e.next=11;break}return e.t0=r,e.next=7,l.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 11:return e.t2=a,e.next=14,l.json();case 14:e.t3=e.sent,(0,e.t2)(e.t3);case 16:case"end":return e.stop()}},e,s)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"onQuickAddClick",value:function(){var e=(0,r.default)(i.default.mark(function e(t){var n,a,r,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=(0,l.default)(t.currentTarget),a=n.attr("data-children-node-type"),r=parseInt(n.attr("data-children-parent-node")),o=parseInt(n.attr("data-translation-id")),!(""!==a&&r>0)){e.next=20;break}return e.prev=6,e.next=9,this.quickAddNode(a,r,o);case 9:return window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),s=n.parents(".children-nodes-widget").find(".nodetree-widget").eq(0),e.next=14,this.refreshNodeTree(s);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),e.t0=JSON.parse(e.t0.responseText),window.UIkit.notify({message:e.t0.error_message,status:"danger",timeout:3e3,pos:"top-center"});case 20:case"end":return e.stop()}},e,this,[[6,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchNodeTree",value:function(){var e=(0,r.default)(i.default.mark(function e(t,n){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.default(function(){var e=(0,r.default)(i.default.mark(function e(a,r){var l,u,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=new URLSearchParams({_token:window.Rozier.ajaxToken,_action:"requestNodeTree",parentNodeId:t,translationId:s||null}),n.forEach(function(e,t){l.append("linkedTypes["+t+"]",e)}),u=window.Rozier.routes.nodesTreeAjax+"?"+l.toString(),e.next=5,fetch(u,{method:"GET",headers:{Accept:"application/json"}});case 5:if((c=e.sent).ok){e.next=14;break}return e.t0=r,e.next=10,c.json();case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=19;break;case 14:return e.t2=a,e.next=17,c.json();case 17:e.t3=e.sent,(0,e.t2)(e.t3);case 19:case"end":return e.stop()}},e,o)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"refreshNodeTree",value:function(){var e=(0,r.default)(i.default.mark(function e(t){var n,a,r,o,s,l,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=3;break}return console.log("No node-tree available."),e.abrupt("return");case 3:if(n=[],a=t.find(".root-tree").eq(0)){e.next=7;break}return e.abrupt("return");case 7:return r=parseInt(a.attr("data-parent-node-id")),o=a.attr("data-linked-types"),s=a.attr("data-translation-id"),o&&(n=JSON.parse(o)),window.Rozier.lazyload.canvasLoader.show(),e.prev=12,e.next=15,this.fetchNodeTree(r,n,s||null);case 15:if(l=e.sent,!t.length||void 0===l.nodeTree){e.next=31;break}return e.next=19,window.Rozier.fadeOut(t);case 19:return c=t.parents(".children-nodes-widget"),t.replaceWith(l.nodeTree),t=c.find(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),e.next=27,window.Rozier.fadeIn(t);case 27:this.cleanNodeTree(),window.Rozier.lazyload.canvasLoader.hide(),window.Rozier.lazyload.nodeTreeContextActions&&window.Rozier.lazyload.nodeTreeContextActions.unbind(),window.Rozier.lazyload.nodeTreeContextActions=new u.default;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(12),e.t0=JSON.parse(e.t0.responseText),window.UIkit.notify({message:e.t0.error_message,status:"danger",timeout:3e3,pos:"top-center"});case 37:case"end":return e.stop()}},e,this,[[12,33]])}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=d},"FZV/":function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".blanchette-editor[data-v-57d805b4]{margin-bottom:25px}.canvas[data-v-57d805b4]{position:relative;width:100%;height:100%}.spinner-container[data-v-57d805b4]{position:absolute;z-index:5;top:0;right:0;bottom:0;left:0;background:hsla(0,0%,100%,.5)}.editor[data-v-57d805b4]{background:#eee;height:100%;overflow:hidden}.editor>img[data-v-57d805b4]{display:block;max-width:100%;max-height:100%;margin:auto}",""])},Fk2h:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("aIIw")),a=l(n("kcQR")),r=l(n("dACh")),o=l(n("jx4H")),s=n("xHmi");function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,r.default)(this,e),this.store=t,this.intervalDuration=1e4,this.check()}return(0,o.default)(e,[{key:"check",value:function(){var e=this;this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval((0,a.default)(i.default.mark(function t(){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(window.RozierRoot.routes.ping,{method:"GET",headers:{Accept:"application/json"}});case 3:if((n=t.sent).ok){t.next=8;break}401===n.status||403===n.status?e.store.commit(s.LOGIN_CHECK_DISCONNECTED):e.store.commit(s.HEALTH_CHECK_FAILED),t.next=13;break;case 8:if(new URL(n.url).pathname===window.RozierRoot.routes.ping){t.next=12;break}return e.store.commit(s.LOGIN_CHECK_DISCONNECTED),t.abrupt("return");case 12:200!==n.status&&202!==n.status||(e.store.commit(s.LOGIN_CHECK_CONNECTED),e.store.commit(s.HEALTH_CHECK_SUCCEEDED),e.check());case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),e.store.commit(s.HEALTH_CHECK_FAILED);case 18:case"end":return t.stop()}},t,e,[[0,15]])})),this.intervalDuration)}}]),e}();t.default=u},G7TI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-left"}},[e.isOpen?n("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[n("div",{staticClass:"widget-explorer-wrapper"},[n("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?n("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),e._v(" "),n("div",{staticClass:"widget-explorer-search"},[n("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"uk-form-icon"},[n("i",{staticClass:"uk-icon-search"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.stopPropagation(),t.preventDefault(),e.manualUpdate(t)},input:function(t){t.target.composing||(e.searchTerms=t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"widget-explorer-close",on:{click:function(t){t.preventDefault(),e.explorerClose(t)}}},[n("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e._v(" "),e.isLoading?n("div",{staticClass:"spinner light"}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():n("ul",{staticClass:"uk-sortable"},[n("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},[n("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(t,i){return n(e.currentListingView,{key:t.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:i,item:t}})}))],1)],1)]),e._v(" "),e.filters?n("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e._v(" "),e.filters?n("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),e._v(" "),n(e.widgetView,{tag:"component"})],1)]):e._e()])},staticRenderFns:[]};t.default=i},H8iA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"[]";if(e&&e.length&&e.length>t+i.length){var a=e.substr(0,Math.floor(t/2)+Math.floor(n/2)),r=e.substr(-1*Math.floor(t/2)+Math.floor(n/2));return a+i+r}return e}},IPB7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("NSsB"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("CS+6"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},Is3e:function(e,t,n){var i=n("OM1e");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("X/Wc")("9b9e1bec",i,!0,{})},JTvu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("aIIw")),a=l(n("kcQR")),r=l(n("dACh")),o=l(n("jx4H")),s=l(n("0iPh"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,r.default)(this,e),this.$list=(0,s.default)(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}},{key:"unbind",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}},{key:"onSortableChange",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,a){var r,o,l,u,c,d,f,h,p;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.default)(a),o=parseInt(r.data("field-id")),l=r.prev(),u=null,c=null,0===l.length?(l=r.next(),c=parseInt(l.data("field-id"))):u=parseInt(l.data("field-id")),d={_token:window.Rozier.ajaxToken,_action:"updatePosition",customFormFieldId:o,beforeFieldId:c,afterFieldId:u},e.next=9,fetch(window.Rozier.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",o),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(d)});case 9:if((f=e.sent).ok){e.next=17;break}return e.next=13,f.json();case 13:h=e.sent,window.UIkit.notify({message:h.title,status:"danger",timeout:3e3,pos:"top-center"}),e.next=21;break;case 17:return e.next=19,f.json();case 19:p=e.sent,window.UIkit.notify({message:p.responseText,status:p.status,timeout:3e3,pos:"top-center"});case 21:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()}]),e}();t.default=u},KFYC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("T4f3")),a=o(n("0iPh")),r=n("SJI6");function o(e){return e&&e.__esModule?e:{default:e}}t.default={computed:(0,i.default)({},(0,r.mapState)({isVisible:function(e){return e.documentPreview.isVisible},document:function(e){return e.documentPreview.document}}),{containerClass:function(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}}),methods:(0,i.default)({},(0,r.mapActions)(["documentPreviewClose"]),{closePreview:function(){this.documentPreviewClose()},onClick:function(e){(0,a.default)(e.srcElement).hasClass("document-preview-widget__wrapper")&&this.closePreview()}})}},KTjH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("HxWs"));t.default=function(){var e=[],t=document.querySelectorAll(".bulk-layout .bulk-actions--collapsed"),n=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),a=document.querySelector(".bulk-layout input[name='bulk-selection-all']"),r=document.querySelectorAll(".bulk-layout input.bulk-form-value"),o=document.querySelectorAll(".bulk-layout input[name='bulk-selection[]']");t.forEach(function(e){return e.addEventListener("transitionend",function(t){e.classList.contains("bulk-actions--collapsing")&&e.classList.remove("bulk-actions--collapsing")})});var s=function(){o.forEach(function(t){t.checked=!1,e.splice(0,e.length),r.forEach(function(e){return e.value=""})}),a&&(a.checked=!1),l()},l=function(){window.requestAnimationFrame(function(){t.forEach(function(e){return e.classList.add("bulk-actions--collapsing")}),t.forEach(function(e){return e.classList.add("bulk-actions--collapsed")})})};o.forEach(function(n){n.addEventListener("change",function(o){n.checked?e.push(n.value):e.splice(e.indexOf(n.value),1),e.length>0?(t.forEach(function(e){return e.classList.remove("bulk-actions--collapsed")}),r.forEach(function(t){return t.value=(0,i.default)(e)})):(l(),a&&(a.checked=!1))})}),n&&n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),s()}),a&&a.addEventListener("change",function(n){a.checked?o.forEach(function(t){t.checked=!0,e.push(t.value)}):s(),e.length>0?(t.forEach(function(e){return e.classList.remove("bulk-actions--collapsed")}),r.forEach(function(t){return t.value=(0,i.default)(e)})):t.forEach(function(e){return e.classList.add("bulk-actions--collapsed")})})}},KU4q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("9QM9"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("/4AN")(a.a,null,!1,null,null,null);t.default=o.exports},"KV+T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("TjfP"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("otgr"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},KtXb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(e&&e.length&&e.length>t){var a=e.substr(0,t+n);return a+i}return e}},LReI:function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(n("GyB/"));!function(e){e.fn.collection=function(t){var n={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(e,t){return!0},after_up:function(e,t){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(e,t){return!0},after_down:function(e,t){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(e,t){return!0},after_add:function(e,t){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(e,t){return!0},after_remove:function(e,t){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(e,t){return!0},after_duplicate:function(e,t){return!0},before_init:function(e){},after_init:function(e){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(e,t){return!0},drag_drop_update:function(e,t){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},a=function(t,n){if(!n.attr("id")){var i;do{i=t+"_"+(""+1e3*Math.random()*(new Date).getTime()).replace(".","").split("").sort(function(){return.5-Math.random()}).join("")}while(e("#"+i).length>0);n.attr("id",i)}return n.attr("id")},r=function(t){try{var n=e(t)}catch(e){return null}return 0===n.length?null:n.is('input[type="checkbox"]')?!0===n.prop("checked"):n.is('input[type="radio"]')&&void 0!==n.attr("name")?e('input[name="'+n.attr("name")+'"]:checked').val():void 0!==n.prop("value")?n.val():n.html()},o=function(t,n,i){try{var a=e(t)}catch(e){return}0!==a.length&&(a.is('input[type="checkbox"]')?n?a.attr("checked",!0):a.removeAttr("checked"):void 0!==a.prop("value")?i?a.attr("value",n):a.val(n):a.html(n))},s=function(e){return void 0===e||e},l=function(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},u=function(t,n,a,r){var o=function(t){var n=e(t);"object"===(void 0===t?"undefined":(0,i.default)(t))&&"attributes"in t&&e.each(t.attributes,function(t,i){"string"===e.type(i.value)&&n.attr(i.name.replace(a,r),i.value.replace(a,r))}),n.length>0&&e.each(n.data(),function(t,i){"string"===e.type(i)&&n.data(t.replace(a,r),i.replace(a,r))})},s=t.eq(n);o(s[0]),s.find("*").each(function(){o(this)})},c=function(t,n,i,a,r,o){var s=new RegExp(l(i.name_prefix+"["+r+"]"),"g"),c=i.name_prefix+"["+o+"]";i.children&&e.each(i.children,function(e,n){var i=t.find(n.selector).eq(a),r=i.data("collection-settings");r&&(r.name_prefix=r.name_prefix.replace(s,c),i.data("collection-settings",r))}),u(n,a,s,c),s=new RegExp(l(t.attr("id")+"_"+r),"g"),c=t.attr("id")+"_"+o,i.children&&e.each(i.children,function(e,n){var i=t.find(n.selector).eq(a),r=i.data("collection-settings");r&&(r.elements_parent_selector=r.elements_parent_selector.replace(s,c),r.elements_selector=r.elements_selector.replace(s,c),r.prefix=r.prefix.replace(s,c),i.data("collection-settings",r))}),u(n,a,s,c)},d=function(e,t,n,i){var a=e.data("collection-settings");return a.position_field_selector||a.preserve_names||(c(e,t,a,n,n,"__swap__"),c(e,t,a,i,i,n),c(e,t,a,n,"__swap__",i)),t.eq(n).insertBefore(t.eq(i)),i>n?t.eq(i).insertBefore(t.eq(n)):t.eq(i).insertAfter(t.eq(n)),e.find(a.elements_selector)},f=function(e,t,n,i,a){for(var r=i+1;r<=a;r++)t=d(e,t,r,r-1);return e.find(n.elements_selector)},h=function(e,t,n,i,a){for(var r=i-1;r>=a;r--)t=d(e,t,r,r+1);return e.find(n.elements_selector)},p=function(e,t,n,i){for(var a=i+1;a<t.length;a++)t=d(e,t,a-1,a);return e.find(n.elements_selector)},m=function(t,n,i,r){var o=e(n.elements_parent_selector),s=0===o.find("."+n.prefix+"-tmp").length,l=t.find(n.elements_selector);if(n.allow_add&&s&&(o.append('<span class="'+n.prefix+'-tmp"></span>'),n.add&&o.append(e(n.add).addClass(n.prefix+"-action "+n.prefix+"-rescue-add").data("collection",t.attr("id")))),i){t.data("collection-offset",l.length);for(var u=e(n.container),c=t.find("."+n.prefix+"-add, ."+n.prefix+"-rescue-add, ."+n.prefix+"-duplicate").first(),d=0;l.length<n.init_with_n_elements;){d++;var f=l.length>0?l.last():void 0,h=l.length-1;if(l=g(u,c,t,n,l,f,h,!1),d>n.init_with_n_elements){console.error("Infinite loop, element selector ("+n.elements_selector+") not found !");break}}t.data("collection-offset",l.length)}if(l.each(function(o){var s=e(this);i&&s.data("index",o);var u=s.find("."+n.prefix+"-actions").addBack().filter("."+n.prefix+"-actions");0===u.length&&(u=e('<div class="'+n.prefix+'-actions"></div>'),s.append(u));var c=0;"remove"===r&&n.fade_out&&(c=1);var d=[{enabled:n.allow_remove,selector:n.prefix+"-remove",html:n.remove,condition:l.length-c>n.min},{enabled:n.allow_up,selector:n.prefix+"-up",html:n.up,condition:l.length-c>1&&l.index(s)-c>0},{enabled:n.allow_down,selector:n.prefix+"-down",html:n.down,condition:l.length-c>1&&l.index(s)!==l.length-1},{enabled:n.allow_add&&!n.add_at_the_end&&!n.custom_add_location,selector:n.prefix+"-add",html:n.add,condition:l.length-c<n.max},{enabled:n.allow_duplicate,selector:n.prefix+"-duplicate",html:n.duplicate,condition:l.length-c<n.max}];e.each(d,function(i,r){if(r.enabled){var l=s.find("."+r.selector);0===l.length&&r.html&&(l=e(r.html).appendTo(u).addClass(r.selector)),r.condition?(l.removeClass(n.prefix+"-action-disabled"),n.hide_useless_buttons&&l.css("display","")):(l.addClass(n.prefix+"-action-disabled"),n.hide_useless_buttons&&l.css("display","none")),l.addClass(n.prefix+"-action").data("collection",t.attr("id")).data("element",a(t.attr("id")+"_"+o,s))}else s.find("."+r.selector).css("display","none")})}),n.allow_add){var p=0;"remove"===r&&n.fade_out&&(p=1);var m=t.find("."+n.prefix+"-rescue-add").css("display","").removeClass(n.prefix+"-action-disabled"),v=t.find("."+n.prefix+"-add");!n.add_at_the_end&&v.length>p||n.custom_add_location?m.css("display","none"):"remove"===r&&n.fade_out&&(m.css("display","none"),m.fadeIn("fast")),l.length-p>=n.max&&(m.addClass(n.prefix+"-action-disabled"),n.hide_useless_buttons&&t.find("."+n.prefix+"-add, ."+n.prefix+"-rescue-add, ."+n.prefix+"-duplicate").css("display","none"))}},v=function(t,n,i){i.children&&e.each(i.children,function(e,i){if(!i.selector)return console.log("jquery.collection.js: given collection "+t.attr("id")+" has children collections, but children's root selector is undefined."),!0;null!==n?n.find(i.selector).collection(i):t.find(i.selector).collection(i)})},g=function(t,n,i,a,u,c,d,f){if(u.length<a.max&&(f&&s(a.before_duplicate(i,c))||s(a.before_add(i,c)))){var h=i.data("prototype"),g=i.data("collection-offset");i.data("collection-offset",g+1),-1===d&&(d=u.length-1);var w=new RegExp(l(a.prototype_name),"g"),y=g;a.preserve_names&&(void 0===(y=i.data("collection-free-key"))&&(y=E(a,u)),i.data("collection-free-key",y+1));var C=e(h.replace(w,y)).data("index",g);x(a,C);var T=e(a.elements_parent_selector).find("> ."+a.prefix+"-tmp");e(C).find("[id]").first().attr("id");if(f){var R=u.eq(d);!function(t){e(t).find(":input").each(function(e,t){o(t,r(t),!0)})}(R);var S=e("<div/>").append(R.clone()).html(),A=a.preserve_names||a.position_field_selector?R.data("index"):d,I=a.preserve_names?_(a,R):A,O=function(e,t,n,i,a,r,o){var s=new RegExp(l(t.name_prefix+"["+r+"]"),"g"),u=t.name_prefix+"["+o+"]";return n=n.replace(s,u),s=new RegExp(l(e.attr("id")+"_"+i),"g"),u=e.attr("id")+"_"+a,n=n.replace(s,u)}(i,a,S,A,g,I,y);C=e("<div/>").html(O).contents().data("index",g),a.fade_in&&C.hide(),T.before(C).find(a.prefix+"-actions").remove()}else a.fade_in&&C.hide(),T.before(C);u=i.find(a.elements_selector);var L=C.find("."+a.prefix+"-add, ."+a.prefix+"-duplicate");L.length>0&&L.addClass(a.prefix+"-action").data("collection",i.attr("id")),a.add_at_the_end||d+1===g?m(i,a,!1):u=b(i,a,u,C,g,d+1),v(i,C,a),(f&&!s(a.after_duplicate(i,C))||!s(a.after_add(i,C)))&&(-1!==d&&(u=p(i,u,a,d+1)),C.remove())}if(void 0!==C&&a.fade_in)C.fadeIn("fast",function(){a.position_field_selector&&k(a,u)});else if(a.position_field_selector)return k(a,u);return u},w=function(t,n,i,a,r){if(i.length>n.min&&s(n.before_remove(t,a))){var o=function(){var o=a;n.preserve_names||(o=(i=p(t,i,n,r)).last());var l=o.clone({withDataAndEvents:!0}).show();(o.remove(),s(n.after_remove(t,l)))||(e(n.elements_parent_selector).find("> ."+n.prefix+"-tmp").before(l),i=t.find(n.elements_selector),i=function(e,t,n,i){for(var a=t.length-2;a>i;a--)t=d(e,t,a+1,a);return e.find(n.elements_selector)}(t,i,n,r-1));n.position_field_selector&&k(n,i)};n.fade_out?a.fadeOut("fast",function(){o()}):o()}return i},b=function(e,t,n,i,a,r){return 1===Math.abs(r-a)?(n=d(e,n,a,r),s(r-a>0?t.after_up(e,i):t.after_down(e,i))||(n=d(e,n,r,a))):a<r?(n=f(e,n,t,a,r),s(r-a>0?t.after_up(e,i):t.after_down(e,i))||(n=h(e,n,t,r,a))):(n=h(e,n,t,a,r),s(r-a>0?t.after_up(e,i):t.after_down(e,i))||(n=f(e,n,t,r,a))),m(e,t,!1),t.position_field_selector?k(t,n):n},k=function(t,n){return e(n).each(function(){var i=e(this);o(i.find(t.position_field_selector),n.index(i))}),n},_=function(e,t){return t.find(':input[name^="'+e.name_prefix+'["]').attr("name").slice(e.name_prefix.length+1).split("]",1)[0]},E=function(t,n){var i=0;return n.each(function(){var n=_(t,e(this));/^0|[1-9]\d*$/.test(n)&&n>=i&&(i=Number(n)+1)}),i},x=function(t,n){e.each(["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"],function(){var i=this;n.each(function(){var n=e(this);n.hasClass(t.user_prefix+i)&&n.addClass(t.prefix+i),n.find("*").each(function(){var n=e(this);n.hasClass(t.user_prefix+i)&&n.addClass(t.prefix+i)})})})},y=e(this);return 0===y.length?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(y.each(function(){var i=e.extend(!0,{},n,t);if(0===e(i.container).length)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var l,u,c=e(this);if(void 0!==c.data("collection")){var f=e("#"+c.data("collection"));if(0===f.length)return console.log("jquery.collection.js: given collection id does not exist."),!0}else f=c;if(f=e(f),i.elements_parent_selector=i.elements_parent_selector.replace("%id%","#"+a("",f)),!i.elements_parent_selector&&(i.elements_parent_selector="#"+a("",f),0===e(i.elements_parent_selector).length))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(i.user_prefix=i.prefix,i.prefix=f.attr("id")+"-"+i.user_prefix,x(i,f),i.allow_add||(i.allow_duplicate=!1,i.add_at_the_end=!1),i.init_with_n_elements>i.max&&(i.init_with_n_elements=i.max),i.min&&(!i.init_with_n_elements||i.init_with_n_elements<i.min)&&(i.init_with_n_elements=i.min),i.before_init(f),null===f.data("prototype"))return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(void 0!==f.data("prototype-name")&&(i.prototype_name=f.data("prototype-name")),void 0!==f.data("allow-add")&&(i.allow_add=f.data("allow-add"),i.allow_duplicate=!!f.data("allow-add")&&i.allow_duplicate),void 0!==f.data("allow-remove")&&(i.allow_remove=f.data("allow-remove")),void 0!==f.data("name-prefix")&&(i.name_prefix=f.data("name-prefix")),!i.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;(i.preserve_names&&(i.allow_up=!1,i.allow_down=!1,i.drag_drop=!1,i.add_at_the_end=!0),void 0!==jQuery.ui&&void 0!==jQuery.ui.sortable&&f.data("sortable")&&f.sortable("disable"),i.drag_drop&&i.allow_up&&i.allow_down)&&(void 0===jQuery.ui||void 0===jQuery.ui.sortable?i.drag_drop=!1:f.sortable(e.extend(!0,{},{start:function(t,n){var a=f.find(i.elements_selector),r=n.item,o=e(this);s(i.drag_drop_start(t,n,a,r))?(n.placeholder.height(n.item.height()),n.placeholder.width(n.item.width()),l=a.index(r)):o.sortable("cancel")},update:function(t,n){var a=f.find(i.elements_selector),r=n.item;e(this).sortable("cancel"),!1!==i.drag_drop_update(t,n,a,r)&&s(u-l>0?i.before_up(f,r):i.before_down(f,r))&&(u=a.index(r),a=f.find(i.elements_selector),b(f,i,a,r,l,u))}},i.drag_drop_options)));f.data("collection-settings",i);var h=e(i.container);if(h.off("click","."+i.prefix+"-action").on("click","."+i.prefix+"-action",function(t){var n,i,a=e(this);if(void 0===(i=(n=e("#"+a.data("collection"))).data("collection-settings"))&&void 0===(i=(n=e("#"+a.data("collection")).find("."+a.data("collection")+"-collection")).data("collection-settings")))throw"Can't find collection: "+a.data("collection");var r=n.find(i.elements_selector),o=a.data("element")?e("#"+a.data("element")):void 0,l=o&&o.length?r.index(o):-1,u=null,c=a.is("."+i.prefix+"-duplicate");(a.is("."+i.prefix+"-add")||a.is("."+i.prefix+"-rescue-add")||c)&&i.allow_add&&(u="add",r=g(h,a,n,i,r,o,l,c)),a.is("."+i.prefix+"-remove")&&i.allow_remove&&(u="remove",r=w(n,i,r,o,l)),a.is("."+i.prefix+"-up")&&i.allow_up&&(u="up",r=function(e,t,n,i,a){return 0!==a&&s(t.before_up(e,i))&&(n=d(e,n,a,a-1),s(t.after_up(e,i))||(n=d(e,n,a-1,a))),t.position_field_selector?k(t,n):n}(n,i,r,o,l)),a.is("."+i.prefix+"-down")&&i.allow_down&&(u="down",r=function(e,t,n,i,a){return a!==n.length-1&&s(t.before_down(e,i))&&(n=d(e,n,a,a+1),s(t.after_down(e,n))||(n=d(e,n,a+1,a))),t.position_field_selector?k(t,n):n}(n,i,r,o,l)),m(n,i,!1,u),t.preventDefault()}),m(f,i,!0),v(f,null,i),i.position_field_selector){var p=[],_=f.find(i.elements_selector);_.each(function(t){var n=e(this);p.push({position:parseFloat(r(n.find(i.position_field_selector))),element:n})});p.sort(function(e,t){return e.position<t.position?-1:e.position>t.position?1:0}),e.each(p,function(t,n){var a=[];e(_).each(function(t){a.push(e(this).attr("id"))});var r=n.element,s=e.inArray(r.attr("id"),a);t!==s&&(_=b(f,i,_,r,s,t),o(r.find(i.position_field_selector),_.index(r)))})}i.after_init(f)}),!0)}}(jQuery)},MIk5:function(e,t,n){var i=n("/Z0b");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("X/Wc")("23b3c36e",i,!0,{})},MT2W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default"),e._v(" "),n("label",{staticClass:"typo__label"},[e._v("Tagging")]),e._v(" "),n("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("pre",{staticClass:"language-json"},[n("code",[e._v(e._s(e.value))])])],2)},staticRenderFns:[]};t.default=i},Mb7i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=[],i=0;i<t.length;i++)n.push(t.charCodeAt(i));var a=e.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(n)],{type:a})}},Mhog:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?n("div",{staticClass:"tag-creator"},[n("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),e._v(" "),n("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},staticRenderFns:[]};t.default=i},MjFt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"rz-button",props:["isActive","callback"]}},N8bA:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".tag-creator[data-v-42df67a6]{position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px 40px;background-color:#242424;color:#575757;box-sizing:border-box;display:flex}.tag-creator .infos[data-v-42df67a6],.tag-creator .new-tag-container[data-v-42df67a6]{flex:1}.tag-creator .infos[data-v-42df67a6]{font-size:12px;margin-right:20px}",""])},NAyJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){(0,i.default)(this,e),this.$textarea=t,this.textarea=this.$textarea[0],this.$cont=this.$textarea.parents(".uk-form-row").eq(0),this.$settingRow=this.$textarea.parents(".setting-row").eq(0),this.tabSize=4;var a={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled"),extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.$settingRow.length&&(a.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,a),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.$textarea.length&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(function(){(0,r.default)("[data-uk-switcher]").on("show.uk.switcher",e.forceEditorUpdate),e.forceEditorUpdate()}))}},{key:"forceEditorUpdate",value:function(){this.editor.refresh()}},{key:"textareaChange",value:function(){this.editor.save()}},{key:"textareaFocus",value:function(){this.$cont.addClass("form-col-focus")}},{key:"textareaBlur",value:function(){this.$cont.removeClass("form-col-focus")}},{key:"resize",value:function(){}}]),e}();t.default=s},"NC+4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("T4f3")),a=n("SJI6"),r=o(n("e0io"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={mounted:function(){this.tagsInitData()},computed:(0,i.default)({},(0,a.mapState)({value:function(e){return e.tags.value},options:function(e){return e.tags.options}})),methods:(0,i.default)({},(0,a.mapActions)(["tagsUpdateValue","tagsInitData"]),{addTag:function(e){var t={name:e};this.options.push(t),this.value.push(t),this.tagsUpdateValue(this.value)}}),components:{Multiselect:r.default}}},NSsB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("T4f3")),a=l(n("lRwf")),r=n("SJI6"),o=l(n("tlfz")),s=l(n("1MrQ"));function l(e){return e&&e.__esModule?e:{default:e}}a.default.use(o.default),t.default={data:function(){return{linkUrl:window.RozierRoot.routes.loginPage+"?_home=1"}},computed:(0,i.default)({},(0,r.mapState)({connected:function(e){return e.connected},healthChecked:function(e){return e.healthChecked},translations:function(e){return e.translations}})),components:{WarningModal:s.default}}},"O/s3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getNodeTypesByIds=function(e){var t=this,n=e.ids,r=void 0===n?[]:n;r=r.map(function(e){return e.trim()});for(var o={_token:window.RozierRoot.ajaxToken,_action:"nodeTypesByIds"},s=0;s<r.length;s++)o["names["+s+"]"]=r[s];return fetch(window.RozierRoot.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.items){e.next=7;break}return e.abrupt("return",{items:a.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getNodeTypes=function(e){var t=this,n=e.searchTerms,r=(e.preFilters,e.filters),o=(e.filterExplorerSelection,e.moreData),s={_token:window.RozierRoot.ajaxToken,_action:"toggleExplorer",search:n,page:1};o&&(s.page=r?r.nextPage:1);return fetch(window.RozierRoot.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.nodeTypes){e.next=7;break}return e.abrupt("return",{items:a.nodeTypes,filters:a.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},O7VT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("8Wgj"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("pz+8"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},OM1e:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".toolbar[data-v-567f3979]{margin:20px 0}.toolbar .toolbar__select_wraper[data-v-567f3979]{position:relative;display:inline-block}.toolbar .toolbar__select_wraper .toolbar__select[data-v-567f3979]{padding-right:30px}.toolbar .toolbar__select_wraper i[data-v-567f3979]{position:absolute;right:7px;top:11px;pointer-events:none}",""])},Ow2O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){(0,i.default)(this,e),this.$textarea=t,this.textarea=this.$textarea[0],this.$cont=this.$textarea.parents(".uk-form-row").eq(0),this.$settingRow=this.$textarea.parents(".setting-row").eq(0);var a={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled"),extraKeys:{Tab:function(e){return e.execCommand("indentMore")},"Shift-Tab":function(e){return e.execCommand("indentLess")}}};this.$settingRow.length&&(a.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,a),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.$textarea.length&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(function(){(0,r.default)("[data-uk-switcher]").on("show.uk.switcher",e.forceEditorUpdate),e.forceEditorUpdate()}))}},{key:"forceEditorUpdate",value:function(){this.editor.refresh()}},{key:"textareaChange",value:function(){this.editor.save()}},{key:"textareaFocus",value:function(){this.$cont.addClass("form-col-focus")}},{key:"textareaBlur",value:function(){this.$cont.removeClass("form-col-focus")}},{key:"resize",value:function(){}}]),e}();t.default=s},P3YS:function(e,t,n){var i=n("N8bA");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("X/Wc")("485025f0",i,!0,{})},"P4+A":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e),this.$nodesCheckboxes=(0,r.default)("input.node-checkbox"),this.$nodesIdBulkTags=(0,r.default)("input.nodes-id-bulk-tags"),this.$nodesIdBulkStatus=(0,r.default)("input.nodes-id-bulk-status"),this.$actionsMenu=(0,r.default)(".nodes-bulk-actions"),this.$nodesFolderButton=(0,r.default)(".uk-button-bulk-folder-nodes"),this.$nodesFolderCont=(0,r.default)(".nodes-bulk-folder-cont"),this.$nodesStatusButton=(0,r.default)(".uk-button-bulk-status-nodes"),this.$nodesStatusCont=(0,r.default)(".nodes-bulk-status-cont"),this.$nodesSelectAll=(0,r.default)(".uk-button-select-all"),this.$nodesDeselectAll=(0,r.default)(".uk-button-bulk-deselect"),this.nodesFolderOpen=!1,this.nodesStatusOpen=!1,this.nodesIds=null,this.onCheckboxChange=this.onCheckboxChange.bind(this),this.nodesFolderButtonClick=this.nodesFolderButtonClick.bind(this),this.nodesStatusButtonClick=this.nodesStatusButtonClick.bind(this),this.onSelectAll=this.onSelectAll.bind(this),this.onDeselectAll=this.onDeselectAll.bind(this),this.$nodesCheckboxes.length&&this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.$nodesCheckboxes.on("change",this.onCheckboxChange),this.$nodesFolderButton.on("click",this.nodesFolderButtonClick),this.$nodesStatusButton.on("click",this.nodesStatusButtonClick),this.$nodesSelectAll.on("click",this.onSelectAll),this.$nodesDeselectAll.on("click",this.onDeselectAll)}},{key:"unbind",value:function(){this.$nodesCheckboxes.length&&(this.$nodesCheckboxes.off("change",this.onCheckboxChange),this.$nodesFolderButton.off("click",this.nodesFolderButtonClick),this.$nodesStatusButton.off("click",this.nodesStatusButtonClick),this.$nodesSelectAll.off("click",this.onSelectAll),this.$nodesDeselectAll.off("click",this.onDeselectAll))}},{key:"onSelectAll",value:function(){return this.$nodesCheckboxes.prop("checked",!0),this.onCheckboxChange(null),!1}},{key:"onDeselectAll",value:function(){return this.$nodesCheckboxes.prop("checked",!1),this.onCheckboxChange(null),!1}},{key:"onCheckboxChange",value:function(){var e=this;return this.nodesIds=[],(0,r.default)("input.node-checkbox:checked").each(function(t,n){e.nodesIds.push((0,r.default)(n).val())}),this.$nodesIdBulkTags.length&&this.$nodesIdBulkTags.val(this.nodesIds.join(",")),this.$nodesIdBulkStatus.length&&this.$nodesIdBulkStatus.val(this.nodesIds.join(",")),this.nodesIds.length>0?this.showActions():this.hideActions(),!1}},{key:"onBulkDelete",value:function(){return this.nodesIds.length>0&&(history.pushState({headerData:{nodes:this.nodesIds}},null,window.Rozier.routes.nodesBulkDeletePage),window.Rozier.lazyload.onPopState(null)),!1}},{key:"showActions",value:function(){this.$actionsMenu.slideDown()}},{key:"hideActions",value:function(){this.$actionsMenu.slideUp()}},{key:"nodesFolderButtonClick",value:function(){return this.nodesFolderOpen?(this.$nodesFolderCont.slideUp(),this.nodesFolderOpen=!1):(this.$nodesStatusCont.slideUp(),this.nodesStatusOpen=!1,this.$nodesFolderCont.slideDown(),this.nodesFolderOpen=!0),!1}},{key:"nodesStatusButtonClick",value:function(){return this.nodesStatusOpen?(this.$nodesStatusCont.slideUp(),this.nodesStatusOpen=!1):(this.$nodesFolderCont.slideUp(),this.nodesFolderOpen=!1,this.$nodesStatusCont.slideDown(),this.nodesStatusOpen=!0),!1}}]),e}();t.default=s},PKoN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e),this.$maxLengthed=(0,r.default)("input[data-max-length]"),this.$minLengthed=(0,r.default)("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.$maxLengthed.length&&this.$maxLengthed.on("keyup",this.onMaxKeyUp),this.$minLengthed.length&&this.$minLengthed.on("keyup",this.onMinKeyUp)}},{key:"unbind",value:function(){this.$maxLengthed.length&&this.$maxLengthed.off("keyup",this.onMaxKeyUp),this.$minLengthed.length&&this.$minLengthed.off("keyup",this.onMinKeyUp)}},{key:"onMaxKeyUp",value:function(e){var t=(0,r.default)(e.currentTarget),n=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>n?t.addClass("uk-form-danger"):t.removeClass("uk-form-danger")}},{key:"onMinKeyUp",value:function(e){var t=(0,r.default)(e.currentTarget),n=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=n?t.addClass("uk-form-danger"):t.removeClass("uk-form-danger")}}]),e}();t.default=s},PbGk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("dACh")),a=r(n("jx4H"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e),this.adminMenuNav=document.getElementById("admin-menu-nav"),this.replaceSubNavs()}return(0,a.default)(e,[{key:"replaceSubNavs",value:function(){this.adminMenuNav.querySelectorAll(".uk-nav-sub").forEach(function(e){e.style.display="block";var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().height;e.style.display=null,t+n+20>window.innerHeight&&e.parentElement.classList.add("reversed-nav")})}}]),e}();t.default=o},QKcT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("aIIw")),a=l(n("kcQR")),r=l(n("dACh")),o=l(n("jx4H")),s=l(n("0iPh"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,r.default)(this,e),this.$button=(0,s.default)(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.$button.length&&this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.$button.on("click",this.buttonClick)}},{key:"unbind",value:function(){this.$button.off("click",this.buttonClick)}},{key:"buttonClick",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,a,r,o,l,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=(0,s.default)(t.currentTarget).parent().parent().find(".uk-form").eq(0)).find("input[type=file]").length){e.next=5;break}return n.submit(),e.abrupt("return",!1);case 5:return n.hasClass("uk-has-errors")&&(n.find(".uk-alert").remove(),n.removeClass("uk-has-errors")),window.Rozier.lazyload.canvasLoader.show(),a=new window.FormData(n[0]),e.next=10,fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:a});case 10:if((r=e.sent).ok){e.next=28;break}return e.next=14,r.json();case 14:if(!(o=e.sent).errors||!o.errors.value){e.next=19;break}for(l in o.errors.value)n.addClass("uk-has-errors"),n.append('<span class="uk-alert uk-alert-danger">'+o.errors.value[l]+"</span>");e.next=28;break;case 19:if(!o.errors){e.next=28;break}e.t0=i.default.keys(o.errors);case 21:if((e.t1=e.t0()).done){e.next=28;break}return u=e.t1.value,n.addClass("uk-has-errors"),n.append('<span class="uk-alert uk-alert-danger">'+o.errors[u]+"</span>"),e.abrupt("break",28);case 28:return e.next=30,window.Rozier.getMessages();case 30:return window.Rozier.lazyload.canvasLoader.hide(),e.abrupt("return",!1);case 32:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resize",value:function(){}}]),e}();t.default=u},QKtd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e),this.$documentsCheckboxes=(0,r.default)("input.document-checkbox"),this.$documentsIdBulkFolders=(0,r.default)("input.document-id-bulk-folder"),this.$actionsMenu=(0,r.default)(".documents-bulk-actions"),this.$documentsFolderButton=(0,r.default)(".uk-button-bulk-folder-documents"),this.$documentsFolderCont=(0,r.default)(".documents-bulk-folder-cont"),this.$documentsSelectAll=(0,r.default)(".uk-button-select-all"),this.$documentsDeselectAll=(0,r.default)(".uk-button-bulk-deselect"),this.$bulkDeleteButton=this.$actionsMenu.find(".uk-button-bulk-delete-documents"),this.$bulkDownloadButton=this.$actionsMenu.find(".uk-button-bulk-download-documents"),this.documentsFolderOpen=!1,this.documentsIds=null,this.onCheckboxChange=this.onCheckboxChange.bind(this),this.onBulkDelete=this.onBulkDelete.bind(this),this.documentsFolderButtonClick=this.documentsFolderButtonClick.bind(this),this.onBulkDownload=this.onBulkDownload.bind(this),this.onSelectAll=this.onSelectAll.bind(this),this.onDeselectAll=this.onDeselectAll.bind(this),this.$documentsCheckboxes.length&&this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.$documentsCheckboxes.on("change",this.onCheckboxChange),this.$bulkDeleteButton.on("click",this.onBulkDelete),this.$documentsFolderButton.on("click",this.documentsFolderButtonClick),this.$bulkDownloadButton.on("click",this.onBulkDownload),this.$documentsSelectAll.on("click",this.onSelectAll),this.$documentsDeselectAll.on("click",this.onDeselectAll)}},{key:"unbind",value:function(){this.$documentsCheckboxes.length&&(this.$documentsCheckboxes.off("change",this.onCheckboxChange),this.$bulkDeleteButton.off("click",this.onBulkDelete),this.$documentsFolderButton.off("click",this.documentsFolderButtonClick),this.$bulkDownloadButton.off("click",this.onBulkDownload),this.$documentsSelectAll.off("click",this.onSelectAll),this.$documentsDeselectAll.off("click",this.onDeselectAll))}},{key:"onSelectAll",value:function(){return this.$documentsCheckboxes.prop("checked",!0),this.onCheckboxChange(null),!1}},{key:"onDeselectAll",value:function(){return this.$documentsCheckboxes.prop("checked",!1),this.onCheckboxChange(null),!1}},{key:"onCheckboxChange",value:function(){var e=this;this.documentsIds=[],(0,r.default)("input.document-checkbox:checked").each(function(t,n){e.documentsIds.push((0,r.default)(n).val())}),this.$documentsIdBulkFolders.length&&this.$documentsIdBulkFolders.val(this.documentsIds.join(",")),this.documentsIds.length>0?this.showActions():this.hideActions()}},{key:"onBulkDelete",value:function(){return this.documentsIds.length>0&&(history.pushState({headerData:{documents:this.documentsIds}},null,window.Rozier.routes.documentsBulkDeletePage),window.Rozier.lazyload.onPopState(null)),!1}},{key:"onBulkDownload",value:function(){return this.documentsIds.length>0&&(history.pushState({headerData:{documents:this.documentsIds}},null,window.Rozier.routes.documentsBulkDownloadPage),window.Rozier.lazyload.onPopState(null)),!1}},{key:"showActions",value:function(){this.$actionsMenu.stop(),this.$actionsMenu.slideDown()}},{key:"hideActions",value:function(){this.$actionsMenu.stop(),this.$actionsMenu.slideUp()}},{key:"documentsFolderButtonClick",value:function(){return this.documentsFolderOpen?(this.$documentsFolderCont.slideUp(),this.documentsFolderOpen=!1):(this.$documentsFolderCont.slideDown(),this.documentsFolderOpen=!0),!1}}]),e}();t.default=s},Qv8n:function(e,t,n){var i=n("FZV/");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("X/Wc")("758e5db1",i,!0,{})},RIYy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("aIIw")),a=f(n("kcQR")),r=f(n("dACh")),o=f(n("jx4H")),s=f(n("0iPh")),l=n("Tzw7"),u=n("EQNM"),c=f(n("6snJ")),d=f(n("Vef5"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n){var i=this;(0,r.default)(this,e),this.markdownit=new c.default,this.markdownit.use(d.default),this.$textarea=t,this.textarea=this.$textarea[0],this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&"rtl"===this.textarea.getAttribute("dir")?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled")}),this.editor.addKeyMap({"Ctrl-B":function(e){e.replaceSelections(i.boldSelections())},"Ctrl-I":function(e){e.replaceSelections(i.italicSelections())},"Cmd-B":function(e){e.replaceSelections(i.boldSelections())},"Cmd-I":function(e){e.replaceSelections(i.italicSelections())}}),this.$cont=this.$textarea.parents(".uk-form-row").eq(0),this.$parentForm=this.$textarea.parents("form").eq(0),this.index=n,this.$buttonCode=null,this.$buttonPreview=null,this.$buttonFullscreen=null,this.$count=null,this.$countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.$countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){var e=this;this.editor.on("change",this.textareaChange),this.$cont.length&&this.$textarea.length&&(this.$editor=this.$cont.find(".CodeMirror").eq(0),this.$cont.addClass("markdown-editor"),!0===this.editor.getOption("readOnly")&&this.$cont.addClass("markdown-editor__disabled"),this.$buttons=this.$cont.find("[data-markdowneditor-button]"),this.$content=this.$cont.find(".markdown-editor-content"),this.$buttonCode=this.$cont.find(".markdown-editor-button-code"),this.$buttonPreview=this.$cont.find(".markdown-editor-button-preview"),this.$buttonFullscreen=this.$cont.find(".markdown-editor-button-fullscreen"),this.$count=this.$cont.find(".markdown-editor-count"),this.$countCurrent=this.$cont.find(".count-current"),this.$countMaxLimitText=this.$cont.find(".count-limit"),this.$cont.find(".markdown-editor-button-code").attr("data-index",this.index),this.$cont.find(".markdown-editor-button-preview").attr("data-index",this.index),this.$cont.find(".markdown-editor-button-fullscreen").attr("data-index",this.index),this.$cont.find(".markdown_textarea").attr("data-index",this.index),this.$editor.attr("data-index",this.index),this.$editor.before('<div class="markdown-editor-tabs">'),this.$tabs=this.$cont.find(".markdown-editor-tabs").eq(0),this.$editor.after('<div class="markdown-editor-preview">'),this.$preview=this.$cont.find(".markdown-editor-preview").eq(0),this.$tabs.append(this.$editor),this.$tabs.append(this.$preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&""!==this.textarea.getAttribute("data-max-length")&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.$countCurrent.length&&this.$countMaxLimitText.length&&this.$count.length&&(this.$countCurrent[0].innerHTML=(0,l.stripTags)(this.editor.getValue()).length,this.$countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.$count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&""!==this.textarea.getAttribute("data-min-length")&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&""===this.textarea.getAttribute("data-min-length")&&""===this.textarea.getAttribute("data-max-length")&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&((0,l.stripTags)(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,(0,l.addClass)(this.$cont[0],"content-limit")):(0,l.stripTags)(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,(0,l.addClass)(this.$cont[0],"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.$buttonPreview.on("click",this.buttonPreviewClick),this.$buttons.on("click",this.buttonClick),window.requestAnimationFrame(function(){(0,s.default)("[data-uk-switcher]").on("show.uk.switcher",e.forceEditorUpdate),e.forceEditorUpdate()}))}},{key:"onDropFile",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n){var a,r,o,s,l,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(n),a=0;case 2:if(!(a<n.dataTransfer.files.length)){e.next=27;break}return window.Rozier.lazyload.canvasLoader.show(),r=n.dataTransfer.files[a],(o=new FormData).append("_token",window.Rozier.ajaxToken),o.append("form[attachment]",r),e.next=10,fetch(window.Rozier.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json"},body:o});case 10:if((s=e.sent).ok){e.next=18;break}return e.next=14,s.json();case 14:(l=e.sent).errors&&window.UIkit.notify({message:l.message,status:"danger",timeout:2e3,pos:"top-center"}),e.next=24;break;case 18:return e.next=20,s.json();case 20:return u=e.sent,e.next=23,window.Rozier.getMessages();case 23:this.onDropFileUploaded(t,u);case 24:a++,e.next=2;break;case 27:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onDropFileUploaded",value:function(e,t){if(window.Rozier.lazyload.canvasLoader.hide(),!0===t.success){var n="!["+t.document.name+"]("+t.document.url+")";e.replaceSelection(n)}}},{key:"forceEditorUpdate",value:function(){this.editor.refresh(),this.usePreview&&this.$preview.html(this.markdownit.render(this.editor.getValue()))}},{key:"buttonClick",value:function(e){if(!0===this.editor.getOption("readOnly"))return!1;var t=(0,s.default)(e.currentTarget),n=this.editor.getSelections();if(n.length>0){switch(t.attr("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(n));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(n));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(n));break;case"link":this.editor.replaceSelections(this.linkSelections(n));break;case"image":this.editor.replaceSelections(this.imageSelections(n));break;case"bold":this.editor.replaceSelections(this.boldSelections(n));break;case"italic":this.editor.replaceSelections(this.italicSelections(n));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(n));break;case"h2":this.editor.replaceSelections(this.h2Selections(n));break;case"h3":this.editor.replaceSelections(this.h3Selections(n));break;case"h4":this.editor.replaceSelections(this.h4Selections(n));break;case"h5":this.editor.replaceSelections(this.h5Selections(n));break;case"h6":this.editor.replaceSelections(this.h6Selections(n));break;case"back":this.editor.replaceSelections(this.backSelections(n));break;case"hr":this.editor.replaceSelections(this.hrSelections(n))}this.editor.focus()}}},{key:"backSelections",value:function(e){for(var t in e)e[t]="   \n";return e}},{key:"hrSelections",value:function(e){for(var t in e)e[t]="\n\n---\n\n";return e}},{key:"nbspSelections",value:function(e){for(var t in e)e[t]="";return e}},{key:"nbHyphenSelections",value:function(e){for(var t in e)e[t]="";return e}},{key:"listUlSelections",value:function(e){for(var t in e)e[t]="\n\n* "+e[t]+"\n\n";return e}},{key:"linkSelections",value:function(e){for(var t in e)e[t]="["+e[t]+"](http://)";return e}},{key:"imageSelections",value:function(e){for(var t in e||(e=this.editor.getSelections()),e)e[t]="!["+e[t]+"](/files/)";return e}},{key:"boldSelections",value:function(e){for(var t in e||(e=this.editor.getSelections()),e)e[t]="**"+e[t]+"**";return e}},{key:"italicSelections",value:function(e){for(var t in e||(e=this.editor.getSelections()),e)e[t]="*"+e[t]+"*";return e}},{key:"h2Selections",value:function(e){for(var t in e)e[t]="\n## "+e[t]+"\n";return e}},{key:"h3Selections",value:function(e){for(var t in e)e[t]="\n### "+e[t]+"\n";return e}},{key:"h4Selections",value:function(e){for(var t in e)e[t]="\n#### "+e[t]+"\n";return e}},{key:"h5Selections",value:function(e){for(var t in e)e[t]="\n##### "+e[t]+"\n";return e}},{key:"h6Selections",value:function(e){for(var t in e)e[t]="\n###### "+e[t]+"\n";return e}},{key:"blockquoteSelections",value:function(e){for(var t in e)e[t]="\n> "+e[t]+"\n";return e}},{key:"textareaChange",value:function(){var e=this;this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(function(){e.$preview.html(e.markdownit.render(e.editor.getValue()))})),this.limit&&window.requestAnimationFrame(function(){var t=e.editor.getValue(),n=(0,l.stripTags)(t).length;e.$countCurrent.html(n),n>e.countMaxLimit?e.countAlertActive||(e.$cont.addClass("content-limit"),e.countAlertActive=!0):n<e.countMinLimit?e.countAlertActive||(e.$cont.addClass("content-limit"),e.countAlertActive=!0):e.countAlertActive&&(e.$cont.removeClass("content-limit"),e.countAlertActive=!1)})}},{key:"textareaFocus",value:function(){this.$cont.addClass("form-col-focus")}},{key:"textareaBlur",value:function(){this.$cont.removeClass("form-col-focus")}},{key:"buttonPreviewClick",value:function(e){e.preventDefault();var t=this.$preview.outerWidth();if(this.usePreview)this.closePreview();else{this.usePreview=!0,this.$buttonPreview.addClass("uk-active active"),this.$preview.addClass("active"),this.forceEditorUpdate(),u.TweenLite.fromTo(this.$preview,1,{x:-1*t,opacity:0},{x:0,ease:u.Expo.easeOut,opacity:1}),window.Rozier.$window.on("keyup",this.closePreview);var n=new CustomEvent("markdownPreviewOpen",{detail:this});document.body.dispatchEvent(n)}}},{key:"closePreview",value:function(e){var t=this;if(e){if(27!==e.keyCode)return;e.preventDefault()}var n=this.$preview.outerWidth();window.Rozier.$window.off("keyup",this.closePreview),this.usePreview=!1,this.$buttonPreview.removeClass("uk-active active"),u.TweenLite.fromTo(this.$preview,1,{x:0,opacity:1},{x:-1*n,opacity:0,ease:u.Expo.easeOut,onComplete:function(){t.$preview.removeClass("active")}})}},{key:"resize",value:function(){}}]),e}();t.default=h},RIdr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"new-tag-container",on:{click:this.tagCreatorItemClick}},[this._m(0,!1,!1),this._v(" "),t("div",{staticClass:"new-tag"},[t("p",{staticClass:"parent-name"}),this._v(" "),t("span",{staticClass:"name"},[this._v(this._s(this.tagName))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"button"},[t("i",{staticClass:"uk-icon-plus"})])}]};t.default=i},RfA7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getTags=function(e){var t=this,n=e.searchTerms,r=e.filters,o=e.filterExplorerSelection,s=e.moreData,l={_token:window.RozierRoot.ajaxToken,_action:"getTags",search:n,page:1};s&&(l.page=r?r.nextPage:1);o&&o.id&&(l.tagId=o.id);return fetch(window.RozierRoot.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.tags){e.next=5;break}return e.abrupt("return",{items:a.tags,filters:a.filters});case 5:throw new Error("No tags found");case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getTagsByIds=function(e){for(var t=this,n=e.ids,r=void 0===n?[]:n,o={_token:window.RozierRoot.ajaxToken,_action:"documentsByIds"},s=0;s<r.length;s++)o["ids["+s+"]"]=r[s];return fetch(window.RozierRoot.routes.tagsAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.tags){e.next=7;break}return e.abrupt("return",{items:a.tags});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.createTag=function(e){var t=this,n=e.tagName,r={_token:window.RozierRoot.ajaxToken,_action:"documentsByIds",tagName:n};return fetch(window.RozierRoot.routes.tagsAjaxCreate+"?"+new URLSearchParams(r),{method:"POST",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.tag){e.next=5;break}return e.abrupt("return",a.tag);case 5:throw new Error("Tag creation error");case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},SJI6:function(e,t){e.exports=Vuex},SwUv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=w(n("aIIw")),a=w(n("kcQR")),r=w(n("L3Vt")),o=w(n("HxWs")),s=w(n("dACh")),l=w(n("jx4H")),u=w(n("0iPh")),c=w(n("pmdL")),d=w(n("PbGk")),f=w(n("5J2Y")),h=n("Tzw7"),p=n("EQNM"),m=w(n("T2ht")),v=w(n("stwt")),g=w(n("KTjH"));function w(e){return e&&e.__esModule?e:{default:e}}n("jhqH");var b=function(){function e(){(0,s.default)(this,e),this.$window=null,this.$body=null,this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.mobile=null,this.ajaxToken=null,this.nodeTrees=[],this.treeTrees=[],this.$userPanelContainer=null,this.$minifyTreePanelButton=null,this.$mainTrees=null,this.$mainTreesContainer=null,this.$mainTreeElementName=null,this.$treeContextualButton=null,this.$nodesSourcesSearch=null,this.nodesSourcesSearchHeight=null,this.$nodeTreeHead=null,this.nodeTreeHeadHeight=null,this.$treeScrollCont=null,this.$treeScroll=null,this.treeScrollHeight=null,this.$mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.$backTopBtn=null,this.entriesPanel=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}return(0,l.default)(e,[{key:"onDocumentReady",value:function(){var e=this;for(var t in window.temp)window.Rozier[t]=window.temp[t];this.setupCollapsedNestableState(),this.lazyload=new c.default,this.entriesPanel=new d.default,this.vueApp=new f.default,this.$window=(0,u.default)(window),this.$body=(0,u.default)("body"),this.$userPanelContainer=(0,u.default)("#user-panel-container"),this.$minifyTreePanelButton=(0,u.default)("#minify-tree-panel-button"),this.$mainTrees=(0,u.default)("#main-trees"),this.$mainTreesContainer=(0,u.default)("#main-trees-container"),this.$nodesSourcesSearch=(0,u.default)("#nodes-sources-search"),this.$mainContentScrollable=(0,u.default)("#main-content-scrollable"),this.$backTopBtn=(0,u.default)("#back-top-button"),window.Modernizr.testProp("pointerEvents")||h.PointerEventsPolyfill.initialize({selector:"#main-trees-overlay"}),this.$minifyTreePanelButton.on("click",this.toggleTreesPanel),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.$backTopBtn.on("click",this.backTopBtnClick),this.$window.on("resize",this.resize),this.$window.trigger("resize"),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),(0,g.default)(),window.addEventListener("pageshowend",function(){(0,g.default)(),e.syncCollapsedNestableState()})}},{key:"setupCollapsedNestableState",value:function(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){u.default.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){e.children(this.options._listClass).length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),u.default.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}},{key:"saveCollapsedNestableState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",(0,o.default)(e))}},{key:"syncCollapsedNestableState",value:function(){this.collapsedNestableState.nodes.forEach(function(e){document.querySelectorAll('.uk-nestable-item[data-node-id="'+u.default.escapeSelector(e)+'"]').forEach(function(e){e.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(function(e){document.querySelectorAll('.uk-nestable-item[data-tag-id="'+u.default.escapeSelector(e)+'"]').forEach(function(e){e.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(function(e){document.querySelectorAll('.uk-nestable-item[data-folder-id="'+u.default.escapeSelector(e)+'"]').forEach(function(e){e.classList.add("uk-collapsed")})})}},{key:"initNestables",value:function(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(function(e){var t={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?t.group="nodeTree":e.classList.contains("tagtree")?t.group="tagTree":e.classList.contains("foldertree")&&(t.group="folderTree"),window.UIkit.nestable(e,t)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}},{key:"bindMainTrees",value:function(){var e=(0,u.default)(".nodetree-widget .root-tree");e.length&&(e.off("change.uk.nestable"),e.on("change.uk.nestable",this.onNestableNodeTreeChange));var t=(0,u.default)(".tagtree-widget .root-tree");t.length&&(t.off("change.uk.nestable"),t.on("change.uk.nestable",this.onNestableTagTreeChange));var n=(0,u.default)(".foldertree-widget .root-tree");n.length&&(n.off("change.uk.nestable"),n.on("change.uk.nestable",this.onNestableFolderTreeChange)),this.$mainTreeElementName=this.$mainTrees.find(".tree-element-name"),this.$mainTreeElementName.length&&(this.$mainTreeElementName.off("contextmenu",this.maintreeElementNameRightClick),this.$mainTreeElementName.on("contextmenu",this.maintreeElementNameRightClick))}},{key:"maintreeElementNameRightClick",value:function(e){var t=(0,u.default)(e.currentTarget).parent().find(".tree-contextualmenu");return t.length&&(-1===t[0].className.indexOf("uk-open")?t.addClass("uk-open"):t.removeClass("uk-open")),!1}},{key:"bindMainNodeTreeLangs",value:function(){var e=this;(0,u.default)("body").on("click","#tree-container .nodetree-langs a",function(t){e.lazyload.canvasLoader.show();var n=(0,u.default)(t.currentTarget),i=parseInt(n.attr("data-translation-id"));return e.refreshMainNodeTree(i),!1})}},{key:"fetchSessionMessages",value:function(){var e=this;return new r.default(function(){var t=(0,a.default)(i.default.mark(function t(n,a){var r,o,s,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams({_action:"messages",_token:e.ajaxToken}),o=e.routes.ajaxSessionMessages+"?"+r.toString(),t.prev=2,t.next=5,fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 5:return s=t.sent,t.next=8,s.json();case 8:(l=t.sent).messages||a(),n(l.messages),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),a();case 16:case"end":return t.stop()}},t,e,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"getMessages",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSessionMessages();case 2:if(void 0!==(t=e.sent).confirm&&t.confirm.length>0)for(n=t.confirm.length-1;n>=0;n--)window.UIkit.notify({message:t.confirm[n],status:"success",timeout:2e3,pos:"top-center"});if(void 0!==t.error&&t.error.length>0)for(a=data.messages.error.length-1;a>=0;a--)window.UIkit.notify({message:data.messages.error[a],status:"error",timeout:2e3,pos:"top-center"});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refreshAllNodeTrees",value:function(e){var t=[];if(t.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&t.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable())for(var n=this.lazyload.childrenNodesFields.$nodeTrees.length-1;n>=0;n--){var i=this.lazyload.childrenNodesFields.$nodeTrees.eq(n);t.push(this.lazyload.childrenNodesFields.refreshNodeTree(i))}return r.default.all(t)}},{key:"refreshMainNodeTree",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,n,a,r,o,s,l=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,u.default)("#tree-container").find(".nodetree-widget").eq(0)).length){e.next=4;break}return console.debug("No main node-tree available."),e.abrupt("return");case 4:return(n=t.find(".root-tree").eq(0)).length&&!c&&(c=n.attr("data-translation-id")),e.prev=6,a=new URLSearchParams({_token:this.ajaxToken,_action:"requestMainNodeTree",translationId:c||null}),r=this.routes.nodesTreeAjax+"?"+a.toString(),e.next=11,fetch(r,{method:"GET",headers:{Accept:"application/json"}});case 11:if((o=e.sent).ok){e.next=14;break}throw o;case 14:return e.next=16,o.json();case 16:if(void 0===(s=e.sent).nodeTree){e.next=30;break}return e.next=20,this.fadeOut(t);case 20:return t.replaceWith(s.nodeTree),t=(0,u.default)("#tree-container").find(".nodetree-widget"),e.next=24,this.fadeIn(t);case 24:this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink(),this.lazyload.nodeTreeContextActions&&this.lazyload.nodeTreeContextActions.unbind(),this.lazyload.nodeTreeContextActions=new m.default;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(6),console.log("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),window.setTimeout(function(){l.refreshMainNodeTree(c)},3e3);case 36:this.lazyload.canvasLoader.hide();case 37:case"end":return e.stop()}},e,this,[[6,32]])}));return function(){return e.apply(this,arguments)}}()},{key:"refreshMainTagTree",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,n,a,r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,u.default)("#tree-container").find(".tagtree-widget")).length){e.next=4;break}return console.debug("No main tag-tree available."),e.abrupt("return");case 4:return n=new URLSearchParams({_token:this.ajaxToken,_action:"requestMainTagTree"}),a=this.routes.tagsTreeAjax+"?"+n.toString(),e.next=8,fetch(a,{method:"GET",headers:{Accept:"application/json"}});case 8:return r=e.sent,e.next=11,r.json();case 11:if(void 0===(o=e.sent).tagTree){e.next=23;break}return e.next=15,this.fadeOut(t);case 15:return t.replaceWith(o.tagTree),t=(0,u.default)("#tree-container").find(".tagtree-widget"),e.next=19,this.fadeIn(t);case 19:this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink();case 23:this.lazyload.canvasLoader.hide();case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refreshMainFolderTree",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,n,a,r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,u.default)("#tree-container").find(".foldertree-widget")).length){e.next=4;break}return console.debug("No main folder-tree available."),e.abrupt("return");case 4:return n=new URLSearchParams({_token:this.ajaxToken,_action:"requestMainFolderTree"}),a=this.routes.foldersTreeAjax+"?"+n.toString(),e.next=8,fetch(a,{method:"GET",headers:{Accept:"application/json"}});case 8:return r=e.sent,e.next=11,r.json();case 11:if(void 0===(o=e.sent).folderTree){e.next=23;break}return e.next=15,this.fadeOut(t);case 15:return t.replaceWith(o.folderTree),t=(0,u.default)("#tree-container").find(".foldertree-widget"),e.next=19,this.fadeIn(t);case 19:this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink();case 23:this.lazyload.canvasLoader.hide();case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fadeIn",value:function(){var e=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new r.default(function(e,n){t.fadeIn(function(){e()})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fadeOut",value:function(){var e=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new r.default(function(e,n){t.fadeOut("slow",function(){e()})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"toggleTreesPanel",value:function(){return(0,u.default)("#main-container-inner").toggleClass("trees-panel--minified"),(0,u.default)("#main-content").toggleClass("maximized"),(0,u.default)("#minify-tree-panel-button").find("i").toggleClass("uk-icon-rz-panel-tree-open"),(0,u.default)("#minify-tree-panel-area").toggleClass("tree-panel-hidden"),!1}},{key:"openTreesPanel",value:function(){return(0,u.default)("#main-container-inner").hasClass("trees-panel--minified")&&this.toggleTreesPanel(null),!1}},{key:"toggleUserPanel",value:function(){return(0,u.default)("#user-panel").toggleClass("minified"),!1}},{key:"onNestableCollapse",value:function(e){var t=e.detail;if(t[0]){switch(!0){case null!==t[0].getAttribute("data-node-id"):this.collapsedNestableState.nodes.push(t[0].getAttribute("data-node-id"));break;case null!==t[0].getAttribute("data-tag-id"):this.collapsedNestableState.tags.push(t[0].getAttribute("data-tag-id"));break;case null!==t[0].getAttribute("data-folder-id"):this.collapsedNestableState.folders.push(t[0].getAttribute("data-folder-id"))}this.saveCollapsedNestableState(this.collapsedNestableState)}}},{key:"onNestableExpand",value:function(e){var t=e.detail;if(t[0]){switch(!0){case null!==t[0].getAttribute("data-node-id"):this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(t[0].getAttribute("data-node-id")),1);break;case null!==t[0].getAttribute("data-tag-id"):this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(t[0].getAttribute("data-tag-id")),1);break;case null!==t[0].getAttribute("data-folder-id"):this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(t[0].getAttribute("data-folder-id")),1)}this.saveCollapsedNestableState(this.collapsedNestableState)}}},{key:"onNestableNodeTreeChange",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,a,r){var o,s,l,c,d,f,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,u.default)(a),"removed"!==r){e.next=3;break}return e.abrupt("return",!1);case 3:if(s=parseInt(o.attr("data-node-id")),l=null,o.parents(".nodetree-element").length?l=parseInt(o.parents(".nodetree-element").eq(0).attr("data-node-id")):o.parents(".stack-tree-widget").length?l=parseInt(o.parents(".stack-tree-widget").eq(0).attr("data-parent-node-id")):o.parents(".children-node-widget").length&&(l=parseInt(o.parents(".children-node-widget").eq(0).attr("data-parent-node-id"))),isNaN(l)&&(l=null),s!==l){e.next=11;break}return console.error("You cannot move a node inside itself!"),window.location.reload(),e.abrupt("return",!1);case 11:return c={_token:this.ajaxToken,_action:"updatePosition",nodeId:s,newParent:l},o.next().length&&void 0!==o.next().attr("data-node-id")?c.nextNodeId=parseInt(o.next().attr("data-node-id")):o.prev().length&&void 0!==o.prev().attr("data-node-id")&&(c.prevNodeId=parseInt(o.prev().attr("data-node-id"))),e.prev=13,e.next=16,fetch(this.routes.nodeAjaxEdit.replace("%nodeId%",s),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(c)});case 16:if((d=e.sent).ok){e.next=19;break}throw d;case 19:return e.next=21,d.json();case 21:f=e.sent,window.UIkit.notify({message:f.responseText||f.detail,status:f.status,timeout:3e3,pos:"top-center"}),e.next=31;break;case 25:return e.prev=25,e.t0=e.catch(13),e.next=29,e.t0.json();case 29:h=e.sent,window.UIkit.notify({message:h.error_message||h.detail,status:"danger",timeout:3e3,pos:"top-center"});case 31:case"end":return e.stop()}},e,this,[[13,25]])}));return function(t,n,i,a){return e.apply(this,arguments)}}()},{key:"onNestableTagTreeChange",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,a,r){var o,s,l,c,d,f,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,u.default)(a),"removed"!==r){e.next=3;break}return e.abrupt("return",!1);case 3:if(s=parseInt(o.attr("data-tag-id")),l=null,o.parents(".tagtree-element").length?l=parseInt(o.parents(".tagtree-element").eq(0).attr("data-tag-id")):o.parents(".root-tree").length&&(l=parseInt(o.parents(".root-tree").eq(0).attr("data-parent-tag-id"))),isNaN(l)&&(l=null),s!==l){e.next=12;break}return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),e.abrupt("return",!1);case 12:return c={_token:this.ajaxToken,_action:"updatePosition",tagId:s,newParent:l},o.next().length&&void 0!==o.next().attr("data-tag-id")?c.nextTagId=parseInt(o.next().attr("data-tag-id")):o.prev().length&&void 0!==o.prev().attr("data-tag-id")&&(c.prevTagId=parseInt(o.prev().attr("data-tag-id"))),e.prev=14,e.next=17,fetch(this.routes.tagAjaxEdit.replace("%tagId%",s),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(c)});case 17:if((d=e.sent).ok){e.next=20;break}throw d;case 20:return e.next=22,d.json();case 22:f=e.sent,window.UIkit.notify({message:f.responseText,status:f.status,timeout:3e3,pos:"top-center"}),e.next=32;break;case 26:return e.prev=26,e.t0=e.catch(14),e.next=30,e.t0.json();case 30:h=e.sent,window.UIkit.notify({message:h.error_message||h.detail,status:"danger",timeout:3e3,pos:"top-center"});case 32:case"end":return e.stop()}},e,this,[[14,26]])}));return function(t,n,i,a){return e.apply(this,arguments)}}()},{key:"onNestableFolderTreeChange",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,a,r){var o,s,l,c,d,f,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,u.default)(a),"removed"!==r){e.next=3;break}return e.abrupt("return",!1);case 3:if(s=parseInt(o.attr("data-folder-id")),l=null,o.parents(".foldertree-element").length?l=parseInt(o.parents(".foldertree-element").eq(0).attr("data-folder-id")):o.parents(".root-tree").length&&(l=parseInt(o.parents(".root-tree").eq(0).attr("data-parent-folder-id"))),isNaN(l)&&(l=null),s!==l){e.next=12;break}return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),e.abrupt("return",!1);case 12:return c={_token:this.ajaxToken,_action:"updatePosition",folderId:s,newParent:l},o.next().length&&void 0!==o.next().attr("data-folder-id")?c.nextFolderId=parseInt(o.next().attr("data-folder-id")):o.prev().length&&void 0!==o.prev().attr("data-folder-id")&&(c.prevFolderId=parseInt(o.prev().attr("data-folder-id"))),e.prev=14,e.next=17,fetch(this.routes.folderAjaxEdit.replace("%folderId%",s),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(c)});case 17:if((d=e.sent).ok){e.next=20;break}throw d;case 20:return e.next=22,d.json();case 22:f=e.sent,window.UIkit.notify({message:f.responseText,status:f.status,timeout:3e3,pos:"top-center"}),e.next=32;break;case 26:return e.prev=26,e.t0=e.catch(14),e.next=30,e.t0.json();case 30:h=e.sent,window.UIkit.notify({message:h.error_message||h.detail,status:"danger",timeout:3e3,pos:"top-center"});case 32:case"end":return e.stop()}},e,this,[[14,26]])}));return function(t,n,i,a){return e.apply(this,arguments)}}()},{key:"backTopBtnClick",value:function(){return p.TweenLite.to(this.$mainContentScrollable,.6,{scrollTo:{y:0},ease:p.Expo.easeOut}),!1}},{key:"resize",value:function(){var e=this;if(this.windowWidth=this.$window.width(),this.windowHeight=this.$window.height(),this.windowWidth>=768&&this.windowWidth<=1200&&this.$mainTrees.length&&this.resizeFirst&&(this.$mainTrees[0].style.display="none",this.$minifyTreePanelButton.trigger("click"),window.requestAnimationFrame(function(){e.$mainTrees[0].style.display="table-cell"})),this.windowWidth<=768&&this.resizeFirst&&(this.mobile=new v.default),this.$mainTreesContainer.length&&this.$mainContentScrollable.length&&(this.windowWidth>=768?(this.$mainContentScrollable.height(this.windowHeight),this.$mainTreesContainer[0].style.height=""):(this.$mainContentScrollable[0].style.height="",this.$mainTreesContainer.height(this.windowHeight))),this.$mainTrees.length){this.$nodeTreeHead=this.$mainTrees.find(".nodetree-head"),this.$treeScrollCont=this.$mainTrees.find(".tree-scroll-cont"),this.$treeScroll=this.$mainTrees.find(".tree-scroll"),this.nodesSourcesSearchHeight=this.$nodesSourcesSearch.actual("outerHeight"),this.nodeTreeHeadHeight=this.$nodeTreeHead.actual("outerHeight"),this.treeScrollHeight=this.windowHeight-(this.nodesSourcesSearchHeight+this.nodeTreeHeadHeight),null!==this.mobile&&(this.treeScrollHeight=this.windowHeight-(100+this.nodeTreeHeadHeight));for(var t=0;t<this.$treeScrollCont.length;t++)this.$treeScrollCont[t].style.height=this.treeScrollHeight+"px"}this.mainContentScrollableWidth=this.$mainContentScrollable.width(),this.mainContentScrollableOffsetLeft=this.windowWidth-this.mainContentScrollableWidth,this.lazyload.resize(),this.entriesPanel.replaceSubNavs(),this.resizeFirst&&(this.resizeFirst=!1)}}]),e}();t.default=b},T2ht:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("L3Vt")),a=u(n("aIIw")),r=u(n("kcQR")),o=u(n("dACh")),s=u(n("jx4H")),l=u(n("0iPh"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,o.default)(this,e),this.$contextualMenus=(0,l.default)(".tree-contextualmenu"),this.$links=this.$contextualMenus.find(".node-actions a"),this.$nodeMoveFirstLinks=this.$contextualMenus.find("a.move-node-first-position"),this.$nodeMoveLastLinks=this.$contextualMenus.find("a.move-node-last-position"),this.onClick=this.onClick.bind(this),this.moveNodeToPosition=this.moveNodeToPosition.bind(this),this.$links.length&&this.bind()}return(0,s.default)(e,[{key:"bind",value:function(){var e=this;this.$links.on("click",this.onClick),this.$nodeMoveFirstLinks.on("click",function(t){return e.moveNodeToPosition("first",t)}),this.$nodeMoveLastLinks.on("click",function(t){return e.moveNodeToPosition("last",t)})}},{key:"unbind",value:function(){this.$links.off("click",this.onClick),this.$nodeMoveFirstLinks.off("click"),this.$nodeMoveLastLinks.off("click")}},{key:"onClick",value:function(){var e=(0,r.default)(a.default.mark(function e(t){var n,i,r,o,s,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=(0,l.default)(t.currentTarget),i=(0,l.default)(n.parents(".nodetree-element")[0]),r=parseInt(i.data("node-id")),o=n.attr("data-status"),s=n.attr("data-value"),void 0===(u=n.attr("data-action"))){e.next=17;break}if(window.Rozier.lazyload.canvasLoader.show(),void 0===o||void 0===s){e.next=14;break}return e.next=12,this.changeStatus(r,o,s);case 12:e.next=17;break;case 14:if("duplicate"!==u){e.next=17;break}return e.next=17,this.duplicateNode(r);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeStatus",value:function(){var e=(0,r.default)(a.default.mark(function e(t,n,i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postNodeUpdate(window.Rozier.routes.nodesStatusesAjax,{_token:window.Rozier.ajaxToken,_action:"nodeChangeStatus",nodeId:t,statusName:n,statusValue:i});case 2:window.Rozier.lazyload.canvasLoader.hide();case 3:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"duplicateNode",value:function(){var e=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postNodeUpdate(window.Rozier.routes.nodeAjaxEdit.replace("%nodeId%",t),{_token:window.Rozier.ajaxToken,_action:"duplicate",nodeId:t});case 2:window.Rozier.lazyload.canvasLoader.hide();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"moveNodeToPosition",value:function(){var e=(0,r.default)(a.default.mark(function e(t,n){var i,r,o,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.Rozier.lazyload.canvasLoader.show(),i=(0,l.default)((0,l.default)(n.currentTarget).parents(".nodetree-element")[0]),r=parseInt(i.data("node-id")),o=parseInt(i.parents("ul").first().data("parent-node-id")),s={_token:window.Rozier.ajaxToken,_action:"updatePosition",nodeId:r},void 0!==t&&"first"===t?s.firstPosition=!0:void 0!==t&&"last"===t&&(s.lastPosition=!0),isNaN(o)&&(o=null),s.newParent=o,e.next=10,this.postNodeUpdate(window.Rozier.routes.nodeAjaxEdit.replace("%nodeId%",r),s);case 10:window.Rozier.lazyload.canvasLoader.hide();case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"postNodeUpdate",value:function(){var e=(0,r.default)(a.default.mark(function e(t,n){var o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(){var e=(0,r.default)(a.default.mark(function e(i,r){var s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(n)});case 3:if((s=e.sent).ok){e.next=12;break}return e.next=7,s.json();case 7:l=e.sent,window.UIkit.notify({message:l.error_message,status:"danger",timeout:3e3,pos:"top-center"}),r(l),e.next=21;break;case 12:return e.next=14,window.Rozier.refreshAllNodeTrees();case 14:return e.next=16,window.Rozier.getMessages();case 16:return e.t0=i,e.next=19,s.json();case 19:e.t1=e.sent,(0,e.t0)(e.t1);case 21:e.next=26;break;case 23:e.prev=23,e.t2=e.catch(0),r();case 26:case"end":return e.stop()}},e,o,[[0,23]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=c},TFax:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade"}},[this.isExplorerOpen?t("div",{class:{"is-active":this.isExplorerOpen},attrs:{id:"overlay"}}):this._e()])},staticRenderFns:[]};t.default=i},THhJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("T4f3")),a=d(n("lRwf")),r=n("SJI6"),o=n("xHmi"),s=d(n("fa0H")),l=d(n("RZXU")),u=d(n("pQmN")),c=n("EY70");function d(e){return e&&e.__esModule?e:{default:e}}t.default={props:["entity"],data:function(){return{drawerName:null,dropzoneLanguage:window.RozierRoot.messages.dropzone,groupName:null,isSortable:null,entityName:null}},mounted:function(){var e=this;this.drawersAddInstance(this),a.default.nextTick(function(){e.drawerName=e.$refs.drawer.getAttribute("name"),e.entityName=e.$refs.drawer.getAttribute("data-entity-name");var t=e.ids,n=e.entity;t||(t=JSON.parse(e.$refs.drawer.getAttribute("data-initial-items"))),n||(n=e.$refs.drawer.getAttribute("data-accept-entity"));var i=e.$refs.drawer.getAttribute("data-is-sortable"),a=e.$refs.drawer.getAttribute("data-min-length"),r=e.$refs.drawer.getAttribute("data-max-length"),o=r?parseInt(r,10):9999,s=a?parseInt(a,10):0;e.groupName=n,e.isSortable="true"===i;var l=e.$refs.drawer.getAttribute("data-nodetypes"),u=e.$refs.drawer.getAttribute("data-nodetypefield"),c=e.$refs.drawer.getAttribute("data-nodetypename"),d={nodeTypes:l,nodeTypeField:u,providerClass:e.$refs.drawer.getAttribute("data-provider-class"),providerOptions:JSON.parse(decodeURIComponent(e.$refs.drawer.getAttribute("data-provider-options"))),nodeTypeName:c};e.drawersInitData({drawer:e.drawer,entity:n,ids:t,filters:d,maxLength:o,minLength:s,entityName:e.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:(0,i.default)({},(0,r.mapState)({isActive:function(){var e=this.$store.getters.drawersGetById(this._uid);return!!e&&e.isActive},trans:function(e){return e.drawers.trans},currentListingView:function(e){return e.explorer.currentListingView}}),{drawer:function(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get:function(){return this.drawer.items},set:function(e){this.$store.commit(o.DRAWERS_UPDATE_LIST,{drawer:this.drawer,newList:e})}}}),methods:(0,i.default)({},(0,r.mapActions)(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),{getOptions:function(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(e){this.drawersRemoveItem({drawer:this.drawer,item:e})},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.drawersAddItem({drawer:this.drawer,item:e,newIndex:t})},showSuccess:function(e,t){this.entityName===c.NODE_SOURCE_DOCUMENT_ENTITY?this.addItem({document:t.document,hotspot:null,imageCropAlignment:null}):this.addItem(t.document)},showError:function(e,t,n){console.error(e),console.error(t),console.error(n)}}),components:{RzButton:s.default,draggable:l.default,Dropzone:u.default}}},"TL+m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("T4f3")),a=n("SJI6"),r=u(n("kRS3")),o=u(n("O7VT")),s=u(n("XEtd")),l=u(n("H8iA"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],directives:{DynamicImg:s.default},filters:r.default,computed:{shortMimeType:function(){return(0,l.default)(this.document.shortMimeType,13)},filename:function(){return(0,l.default)(this.document.classname,12)},name:function(){return(0,l.default)(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:(0,i.default)({},(0,a.mapActions)(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)},getReferer:function(){return"?referer="+window.location.pathname},onPreviewClick:function(){this.documentPreviewOpen()},onMouseover:function(){this.documentPreviewInit({document:this.item})},onMouseleave:function(){this.documentPreviewDestroy({document:this.item})}}),components:{AjaxLink:o.default}}},TjfP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!(!this.currentItem||!this.currentItem.id)&&this.currentItem.id===this.item.id}}}},Tr2I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("aIIw")),a=l(n("kcQR")),r=l(n("dACh")),o=l(n("jx4H")),s=l(n("0iPh"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,r.default)(this,e),this.$list=(0,s.default)(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}},{key:"unbind",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}},{key:"onSortableChange",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,a){var r,o,l,u,c,d,f,h,p;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target instanceof HTMLInputElement)){e.next=2;break}return e.abrupt("return");case 2:if(r=(0,s.default)(a),o=parseInt(r.data("id")),l=r.prev(),u=null,c=null,0===l.length?(l=r.next(),u=parseInt(l.data("id"))):c=parseInt(l.data("id")),(d=window.Rozier.routes.attributeValueAjaxEdit)&&o){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,fetch(d.replace("%attributeValueId%",o),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.Rozier.ajaxToken,_action:"updatePosition",attributeValueId:o,beforeAttributeValueId:u,afterAttributeValueId:c})});case 14:if((f=e.sent).ok){e.next=17;break}throw f;case 17:return e.next=19,f.json();case 19:h=e.sent,window.UIkit.notify({message:h.responseText,status:h.status,timeout:3e3,pos:"top-center"}),e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(11),e.next=27,e.t0.json();case 27:p=e.sent,window.UIkit.notify({message:p.title||"",status:"danger",timeout:3e3,pos:"top-center"});case 29:case"end":return e.stop()}},e,this,[[11,23]])}));return function(t,n,i){return e.apply(this,arguments)}}()}]),e}();t.default=u},Tzw7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointerEventsPolyfill=t.removeClass=t.addClass=t.stripTags=t.toType=void 0;var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}t.toType=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};!function(){for(var e=void 0,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=n.length,a=window.console=window.console||{};i--;)a[e=n[i]]||(a[e]=t)}();t.stripTags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})},t.addClass=function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)},t.removeClass=function(e,t){if(e)if(e.classList)e.classList.remove(t);else{e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi"),"");var n=e.className.length-1;" "===e.className[n]&&(e.className=e.className.substring(0,n))}},t.PointerEventsPolyfill=function(){function e(t){if((0,i.default)(this,e),this.options={selector:"*",mouseEvents:["click","dblclick","mousedown","mouseup"],usePolyfillIf:function(){if("Microsoft Internet Explorer"===navigator.appName&&(null!==navigator.userAgent.match(/MSIE ([0-9]{1,}[.0-9]{0,})/)&&parseFloat(RegExp.$1)<11))return!0;return!1}},t){var n=this;r.default.each(t,function(e,t){n.options[e]=t})}this.options.usePolyfillIf()&&this.registerMouseEvents()}return(0,a.default)(e,[{key:"initialize",value:function(t){return e.singleton||(e.singleton=new e(t)),e.singleton}},{key:"registerMouseEvents",value:function(){var e=this;(0,r.default)(document).on(this.options.mouseEvents.join(" "),this.options.selector,function(t){if("none"===(0,r.default)(e).css("pointer-events")){var n=(0,r.default)(e).css("display");(0,r.default)(e).css("display","none");var i=document.elementFromPoint(t.clientX,t.clientY);return n?(0,r.default)(e).css("display",n):(0,r.default)(e).css("display",""),t.target=i,(0,r.default)(i).trigger(t),!1}return!0})}}]),e}()},UIBU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("dACh")),a=s(n("jx4H")),r=s(n("0iPh")),o=s(n("ujpI"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,i.default)(this,e),this.attached=!1,this.options={onSuccess:function(e){},onError:function(e){},onAdded:function(e){},url:window.Rozier.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.Rozier.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},void 0!==t&&r.default.extend(this.options,t),(0,r.default)(this.options.selector).length&&!this.attached&&this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this,t=(0,r.default)("#upload-dropzone-document");t.attr("data-folder-id")&&t.attr("data-folder-id")>0&&(this.options.headers.folderId=parseInt(t.attr("data-folder-id")),this.options.url=window.Rozier.routes.documentsUploadPage+"/"+parseInt(t.attr("data-folder-id"))),o.default.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(t,n){e.options.onAdded(t)}),this.on("success",function(t,n){if(t.previewElement){var i=(0,r.default)(t.previewElement);window.setTimeout(function(){i.fadeOut(500,function(){i.remove()})},3e3)}e.options.onSuccess(n),window.Rozier.getMessages()}),this.on("canceled",function(t,n){e.options.onError(JSON.parse(n)),window.Rozier.getMessages()}),this.on("error",function(e,t,n){console.error(t)}),this.on("sending",function(t,n,i){n.ontimeout=function(){e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},o.default.autoDiscover=this.options.autoDiscover;try{new o.default(this.options.selector,o.default.options.uploadDropzoneDocument);var n=(0,r.default)(this.options.selector);n.append('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"),n.find(".dz-message").append('\n            <div class="circles-icons">\n                <div class="circle circle-1"></div>\n                <div class="circle circle-2"></div>\n                <div class="circle circle-3"></div>\n                <div class="circle circle-4"></div>\n                <div class="circle circle-5"></div>\n                <i class="uk-icon-rz-file"></i>\n            </div>'),this.attached=!0}catch(e){console.error(e)}}},{key:"unbind",value:function(){}}]),e}();t.default=l},WGNA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7APs"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("Zfec"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},XEtd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("0iPh"));t.default={bind:function(e,t){var n=new Image;n.src=t.value,n.onload=function(){e.src=t.value,(0,i.default)(e).css("opacity",0).animate({opacity:1},1e3)}}}},XLU9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?n("div",{staticClass:"document-preview-widget"},[n("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(t){t.preventDefault(),e.onClick(t)}}},[n("div",{staticClass:"document-preview-widget__information"},[n("div",{staticClass:"info"},[e._v("\n                    "+e._s(e.document.classname)+"\n                ")]),e._v(" "),e.document.displayable!==e.document.classname?n("div",{staticClass:"info"},[e._v("\n                    "+e._s(e.document.displayable)+"\n                ")]):e._e(),e._v(" "),e.document.embedPlatform?n("div",{staticClass:"info"},[e._v("\n                    "+e._s(e.document.embedPlatform)+"\n                ")]):e._e(),e._v(" "),n("div",{staticClass:"close",on:{click:function(t){t.preventDefault(),e.closePreview(t)}}},[n("i",{staticClass:"uk-icon-times"})])]),e._v(" "),n("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[n("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},staticRenderFns:[]};t.default=i},XTd8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("KFYC"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("XLU9"),s=n.n(o);var l=function(e){n("MIk5")},u=n("/4AN")(a.a,s.a,!1,l,null,null);t.default=u.exports},Xmk5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onClick(t)}}},[n("i",{class:e.icon}),e._v(" "),e.filterExplorerSelectedItems?n("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},staticRenderFns:[]};t.default=i},Xu3G:function(e,t){e.exports=UIkit},YM2E:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("si9I"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("Xmk5"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},ZJj3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data:function(){return{ratio:"free"}},mounted:function(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown:function(e){var t=e.keyCode;switch(t){case 90:this.undo&&(e.preventDefault(),this.undo())}if(!this.cropped)switch(t){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(e.preventDefault(),this.move(-1,0));break;case 38:this.move&&(e.preventDefault(),this.move(0,-1));break;case 39:this.move&&(e.preventDefault(),this.move(1,0));break;case 40:this.move&&(e.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical()}}}}},Zfec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},staticRenderFns:[]};t.default=i},ZysM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOCATION=void 0;var i=f(n("zv2j")),a=f(n("aIIw")),r=f(n("kcQR")),o=f(n("HxWs")),s=f(n("dACh")),l=f(n("jx4H")),u=f(n("0iPh")),c=n("f3z0"),d=f(n("1afk"));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.DEFAULT_LOCATION={lat:45.769785,lng:4.833967,zoom:14},p=function(){function e(){(0,s.default)(this,e),this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}return(0,l.default)(e,[{key:"init",value:function(){this.bindFields()}},{key:"unbind",value:function(){}},{key:"bindFields",value:function(){for(var e=this.$fields.length,t=0;t<e;t++){var n=this.$fields[t];n.classList.contains("is-enable")||(this.bindSingleField(n),n.classList.add("is-enable"))}}},{key:"bindSingleField",value:function(e){var t=e.parentElement.querySelector(".uk-form-label"),n=t.innerHTML,i=null;i=window.Rozier.defaultMapLocation?window.Rozier.defaultMapLocation:h;var a="geotag-canvas-"+this.uniqid(),r=a+"-address",o=a+"-reset";e.style.display="none",t.style.display="none",e.setAttribute("data-geotag-canvas",a);var s=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+n+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+r+'" type="text" value="" />','<button type="button" id="'+o+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.Rozier.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+a+'" style="width: 100%; height: 400px;"></div>'].join(""),l=document.createElement("div");if(l.innerHTML=s,e.after(l),!document.getElementById(a))throw new Error("Map container does not exist");var c=document.getElementById(r);c&&c.setAttribute("placeholder",window.Rozier.messages.geotag.typeAnAddress);var d=document.getElementById(o);d&&(d.style.display="none");var f={center:this.createLatLng(i),zoom:i.zoom||i.alt,styles:window.Rozier.mapsStyle},p=this.createMap(a,f),m=null;if(""!==e.value)try{i=JSON.parse(e.value),m=this.createMarker(i,p),d.style.display="inline-block",m.on("dragend",u.default.proxy(this.setMarkerEvent,this,m,e,d,p)),d.addEventListener("click",u.default.proxy(this.resetMarker,this,m,e,d,p))}catch(t){return e.style.display=null,document.getElementById(a).style.display="none",!1}p.on("click",u.default.proxy(this.setMarkerEvent,this,m,e,d,p)),c.addEventListener("keypress",u.default.proxy(this.requestGeocode,this,m,e,d,p)),this.resetMap(p,m,f,null),new ResizeObserver(function(e){p.invalidateSize({animate:!1,pan:!1}),null!==m?p.panTo(m.getLatLng(),{animate:!1,pan:!1}):p.panTo(f.center,{animate:!1,pan:!1})}).observe(document.getElementById(a))}},{key:"resetMap",value:function(e,t,n){window.requestAnimationFrame(function(){e.invalidateSize(!0),null!==t?e.panTo(t.getLatLng()):e.panTo(n.center)})}},{key:"resetMarker",value:function(e,t,n,i,a){return a.preventDefault(),e.removeFrom(i),t.value="",n.style.display="none",!1}},{key:"setMarkerEvent",value:function(e,t,n,i,a){if(e||(e=this.createAndBindMarker(a.latlng,i,t,n)),void 0!==a.latlng)this.setMarker(e,t,n,i,a.latlng);else{var r=e.getLatLng();i.panTo(r),this.applyGeocode(t,n,r,i.getZoom(),void 0)}}},{key:"createAndBindMarker",value:function(e,t,n,i){var a=this.createMarker(e,t);return a.on("dragend",u.default.proxy(this.setMarkerEvent,this,a,n,i,t)),i.addEventListener("click",u.default.proxy(this.resetMarker,this,a,n,i,t)),t.off("click"),t.on("click",u.default.proxy(this.setMarkerEvent,this,a,n,i,t)),a}},{key:"setMarker",value:function(e,t,n,i,a){e||(e=this.createAndBindMarker(a,i,t,n)),e.setLatLng(a),e.addTo(i),i.panTo(a),this.applyGeocode(t,n,e.getLatLng(),i.getZoom(),e.name)}},{key:"latLngToFeature",value:function(e,t,n){return e.alt&&(t=e.alt,e.alt=void 0),{type:"Feature",properties:{name:n||"",zoom:t},geometry:{type:"Point",coordinates:c.GeoJSON.latLngToCoords(e)}}}},{key:"applyGeocode",value:function(e,t,n,i,a){e.value=(0,o.default)(this.latLngToFeature(n,i,a)),t.style.display="inline-block"}},{key:"createMarker",value:function(e,t){var n=null;n=e instanceof c.LatLng?e:this.createLatLng(e);var i=new c.Marker(n,{icon:this.createIcon(),draggable:!0}).addTo(t);return t.flyTo(n,n.alt),i.alt=n.alt,e.type&&"Feature"===e.type&&e.properties&&e.properties.name&&(i.name=e.properties.name),e.name&&(i.name=e.name),i}},{key:"requestGeocode",value:function(){var e=(0,r.default)(a.default.mark(function e(t,n,i,r,o){var s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.currentTarget.value,!o.which||13!==o.which){e.next=10;break}return o.preventDefault(),e.next=5,this.getLatLngForAddress(s);case 5:if(null!==(l=e.sent)){e.next=9;break}return console.error("Geocode was not successful."),e.abrupt("return");case 9:this.setMarker(t,n,i,r,l);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,i,a,r){return e.apply(this,arguments)}}()},{key:"uniqid",value:function(){return(new Date).getTime()}},{key:"createMap",value:function(e,t){var n=new c.Map(document.getElementById(e)).setView(t.center,t.zoom),i=new c.TileLayer(window.Rozier.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return n.addLayer(i),n}},{key:"createLatLng",value:function(e){if("number"==typeof e.lat&&"number"==typeof e.lng)return new c.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&"Feature"===e.type){var t=e.properties&&e.properties.zoom?(0,i.default)(e.properties.zoom):7,n=new c.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],t);return e.properties&&e.properties.name&&(n.name=e.properties.name),n}throw new Error("Cannot create LatLng object from data")}},{key:"createIcon",value:function(){return new c.Icon({iconUrl:window.Rozier.resourcesUrl+"assets/img/marker.png",iconRetinaUrl:window.Rozier.resourcesUrl+"assets/img/marker@2x.png",shadowUrl:window.Rozier.resourcesUrl+"assets/img/marker_shadow.png",shadowRetinaUrl:window.Rozier.resourcesUrl+"assets/img/marker_shadow@2x.png",iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}},{key:"getLatLngForAddress",value:function(e){return d.default.geoCode(e).then(function(e){if(null!==e){var t=new c.LatLng(e.lat,e.lon);return t.name=e.display_name,t}return null}).catch(function(e){return null})}}]),e}();t.default=p},aI4R:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("dACh")),a=s(n("jx4H")),r=s(n("0iPh")),o=n("Tzw7");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,i.default)(this,e),this.$content=(0,r.default)(".content-node-tree"),this.$dropdown=null,this.$content.length&&(this.$dropdown=this.$content.find(".uk-dropdown-small"),this.init())}return(0,a.default)(e,[{key:"init",value:function(){this.contentHeight=this.$content.actual("outerHeight"),this.contentHeight>=window.Rozier.windowHeight-400&&this.dropdownFlip()}},{key:"unbind",value:function(){}},{key:"dropdownFlip",value:function(){for(var e=this.$dropdown.length-1;e>=this.$dropdown.length-3;e--)(0,o.addClass)(this.$dropdown[e],"uk-dropdown-up")}}]),e}();t.default=l},bB58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("aIIw")),a=u(n("kcQR")),r=u(n("dACh")),o=u(n("jx4H")),s=u(n("0iPh")),l=n("Tzw7");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.$content=(0,s.default)(".content-node-edit-source").eq(0),this.$form=(0,s.default)("#edit-node-source-form"),this.$formRow=null,this.$dropdown=null,this.$input=null,this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.inputFocus=this.inputFocus.bind(this),this.inputFocusOut=this.inputFocusOut.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.wrapInTabs=this.wrapInTabs.bind(this),this.$content.length&&(this.$formRow=this.$content.find(".uk-form-row"),window.requestAnimationFrame(this.wrapInTabs),this.init(),this.initEvents())}return(0,o.default)(e,[{key:"wrapInTabs",value:function(){var e={default:{name:"default",id:"default",fields:[]}},t=this.$content.find(".uk-form-row[data-field-group-canonical]"),n=t.length,i=1;if(n>0){for(var a=0;a<n;a++){var r=t[a].getAttribute("data-field-group"),o=t[a].getAttribute("data-field-group-canonical");o?(void 0===e[o]&&(e[o]={name:r,id:o,fields:[]},i++),e[o].fields.push(t[a])):e.default.fields.push(t[a])}if(i>1){this.$form.append('<div id="node-source-form-switcher-nav-cont"><ul id="node-source-form-switcher-nav" class="uk-subnav uk-subnav-pill" data-uk-switcher="{connect:\'#node-source-form-switcher\', swiping:false}"></ul></div><ul id="node-source-form-switcher" class="uk-switcher"></ul>');var l=this.$form.find(".uk-switcher"),u=this.$form.find("#node-source-form-switcher-nav");for(var c in e){var d=e[c],f="group-"+d.id.replace(/[\s_]/g,"-").replace(/[^\w-]+/g,"");l.append('<li class="field-group" id="'+f+'"></li>'),"default"===d.id?u.append('<li class="switcher-nav-item"><a href="#"><i class="uk-icon-star"></i></a></li>'):u.append('<li class="switcher-nav-item"><a href="#">'+d.name+"</a></li>");for(var h=l.find("#"+f),p=0;p<d.fields.length;p++)h.append((0,s.default)(d.fields[p]))}u.on("show.uk.switcher",function(){window.requestAnimationFrame(function(){window.dispatchEvent(new CustomEvent("NodeEditSource:tabSwitched")),window.Rozier.$window.trigger("resize"),window.Rozier.lazyload.refreshCodemirrorEditor()})})}}this.$content.addClass("content-tabs-ready")}},{key:"init",value:function(){this.$input=this.$content.find("input, select"),this.$devNames=this.$content.find("[data-dev-name]");for(var e=this.$devNames.length-1;e>=0;e--){var t=this.$devNames[e],n=(0,s.default)(t);if(""!==t.getAttribute("data-dev-name")){var i=n.parents(".uk-form-row").find("label"),a=n.find(".uk-navbar-brand.label");i.length?i.append('<span class="field-dev-name">'+t.getAttribute("data-dev-name")+"</span>"):a.length&&a.append('<span class="field-dev-name">'+t.getAttribute("data-dev-name")+"</span>")}}for(var r=this.$formRow.length-1;r>=0;r--)if(this.$formRow[r].className.indexOf("children-nodes-widget")>=0){this.childrenNodeWidgetFlip(r);break}}},{key:"initEvents",value:function(){window.Rozier.$window.on("keydown",this.onInputKeyDown),window.Rozier.$window.on("keyup",this.onInputKeyUp),this.$input.on("focus",this.inputFocus),this.$input.on("focusout",this.inputFocusOut),this.$form.on("submit",this.onFormSubmit)}},{key:"unbind",value:function(){this.$content.length&&(window.Rozier.$window.off("keydown",this.onInputKeyDown),window.Rozier.$window.off("keyup",this.onInputKeyUp),this.$input.off("focus",this.inputFocus),this.$input.off("focusout",this.inputFocusOut),this.$form.off("submit",this.onFormSubmit))}},{key:"onFormSubmit",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,a,r,o,l,u,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),window.Rozier.lazyload.canvasLoader.show(),n=new CustomEvent("pagechange"),window.dispatchEvent(n),e.prev=4,a=new FormData(this.$form.get(0)),e.next=8,fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:a});case 8:if((r=e.sent).ok){e.next=11;break}throw r;case 11:return e.next=13,r.json();case 13:o=e.sent,this.cleanErrors(),o.public_url&&(l=(0,s.default)("a.public-url-link")).length&&l.attr("href",o.public_url),o.preview_url&&(u=(0,s.default)("a.preview-url-link")).length&&u.attr("href",o.preview_url),e.next=25;break;case 19:return e.prev=19,e.t0=e.catch(4),e.next=23,e.t0.json();case 23:(c=e.sent).errors&&(this.displayErrors(c.errors),window.UIkit.notify({message:c.message,status:"danger",timeout:2e3,pos:"top-center"}));case 25:return window.Rozier.lazyload.canvasLoader.hide(),e.next=28,window.Rozier.getMessages();case 28:return window.Rozier.refreshAllNodeTrees(),e.abrupt("return",!1);case 30:case"end":return e.stop()}},e,this,[[4,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"cleanErrors",value:function(){var e=(0,s.default)(".form-errored");e.each(function(t){e.eq(t).removeClass("form-errored"),e.eq(t).find(".error-message").remove()})}},{key:"displayErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in t&&!1!==t||this.cleanErrors(),e){var i=null,a=null;if("object"===(0,l.toType)(e[n]))this.displayErrors(e[n],!0);else{i=n.replace("_","-"),a=e[n]instanceof Array?e[n][0]:e[n];var r=(0,s.default)(".form-col-"+i);r.length&&(r.addClass("form-errored"),r.append('<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+a+"</p>"))}}}},{key:"onInputKeyDown",value:function(e){18===e.keyCode&&window.Rozier.$body.toggleClass("dev-name-visible")}},{key:"onInputKeyUp",value:function(e){18===e.keyCode&&window.Rozier.$body.toggleClass("dev-name-visible")}},{key:"childrenNodeWidgetFlip",value:function(e){e>=this.$formRow.length-2&&(this.$dropdown=(0,s.default)(this.$formRow[e]).find(".uk-dropdown-small"),this.$dropdown.addClass("uk-dropdown-up"))}},{key:"inputFocus",value:function(e){(0,s.default)(e.currentTarget).parent().addClass("form-col-focus")}},{key:"inputFocusOut",value:function(e){(0,s.default)(e.currentTarget).parent().removeClass("form-col-focus")}},{key:"resize",value:function(){}}]),e}();t.default=c},bKSI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getFolders=function(){var e=this,t={_token:window.RozierRoot.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierRoot.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var t=(0,a.default)(i.default.mark(function t(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.folders){e.next=7;break}return e.abrupt("return",{items:a.folders});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=(0,a.default)(i.default.mark(function t(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},bXQK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("ERN0"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("ygC5"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},bnjF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getNodesSourceFromSearch=function(e){var t=this,n={_token:window.RozierRoot.ajaxToken,_action:"searchNodesSources",searchTerms:e};return fetch(window.RozierRoot.routes.searchAjax+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(!(void 0!==(a=e.sent).data&&a.data.length>0)){e.next=7;break}return e.abrupt("return",a.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},bpQj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("NC+4"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("MT2W"),s=n.n(o);var l=function(e){n("qAEN")},u=n("/4AN")(a.a,s.a,!1,l,null,null);t.default=u.exports},"c+pe":function(e,t,n){var i=n("eNKJ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("X/Wc")("3f241d37",i,!0,{})},cDWz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("TL+m"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("o3/T"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},ciPl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("BYnw"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("RIdr"),s=n.n(o);var l=function(e){n("c+pe")},u=n("/4AN")(a.a,s.a,!1,l,"data-v-2a1b6559",null);t.default=u.exports},e1f4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getImage=function(){var e=this;return fetch(window.RozierRoot.routes.splashRequest,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}).then(function(){var t=(0,a.default)(i.default.mark(function t(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return e.abrupt("return",e.sent.url);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){throw new Error("Image not found")})}},e9E8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}}},eC0v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("T4f3"));n("gzqx");var a=s(n("iUPs")),r=n("SJI6"),o=s(n("mebu"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data:function(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted:function(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:(0,i.default)({},(0,r.mapState)({originalUrl:function(e){return e.blanchetteEditor.originalUrl},isLoading:function(e){return e.blanchetteEditor.isLoading},translations:function(e){return e.translations}})),methods:(0,i.default)({},(0,r.mapActions)(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),{overwrite:function(){var e=this;this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(function(){return e.restore()})},load:function(){var e=this;window.setTimeout(function(){e.image||(e.image=e.$refs.image,e.start(),e.blanchetteEditorLoaded())},1e3)},setAspectRatio:function(e){switch(e.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight:function(){this.cropper.rotate(90)},rotateLeft:function(){this.cropper.rotate(-90)},setDragMode:function(e){e&&this.cropper&&this.cropper.setDragMode(e)},zoomIn:function(){this.cropper.zoom(.1)},zoomOut:function(){this.cropper.zoom(-.1)},flipHorizontal:function(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical:function(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move:function(e,t){this.cropper.move(e,t)},start:function(){this.cropper||(this.cropper=new a.default(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready:function(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop:function(e){e.detail.width>0&&e.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop:function(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop:function(){var e=this.cropper,t=this.type;this.cropping&&(this.originalUrl=this.url,this.data=e.getData(),this.canvasData=e.getCanvasData(),this.cropBoxData=e.getCropBoxData(),this.url=e.getCroppedCanvas("image/png"===t?null:{fillColor:"#fff"}).toDataURL(t),this.cropped=!0,this.stop())},clear:function(){this.cropping&&this.cropper.clear()},restore:function(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}}),components:{BlanchetteToolbar:o.default}}},eNKJ:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".infos[data-v-2a1b6559],.new-tag-container[data-v-2a1b6559]{flex:1}.infos[data-v-2a1b6559]{font-size:12px}.new-tag-container[data-v-2a1b6559]{display:flex;flex-direction:row-reverse}.new-tag-container[data-v-2a1b6559]:hover{cursor:pointer}.new-tag-container:hover .button[data-v-2a1b6559]{background-color:#171717;color:#707070}.new-tag-container:hover .new-tag[data-v-2a1b6559]{background-color:#3f3f3f}.button[data-v-2a1b6559]{width:40px;height:40px;line-height:40px;text-align:center;border:0;border-radius:0 3px 3px 0;background-color:#0a0a0a;color:#575757;transition:all .25s ease-out}.button i[data-v-2a1b6559]{position:relative;top:2px}.new-tag[data-v-2a1b6559]{float:right;height:40px;border-radius:0;font-size:12px;line-height:40px;font-weight:600;overflow:hidden;margin:0;padding:7px 0 6px 15px;background:#4c4c4c;width:182px;box-sizing:border-box;border-left:4px solid #000;transition:all .25s ease-out}.new-tag .parent-name[data-v-2a1b6559]{height:12px;font-size:8px;text-transform:uppercase;line-height:11px;color:rgba(0,0,0,.6);letter-spacing:.07em;font-weight:700;margin:0}.new-tag .name[data-v-2a1b6559],.new-tag .parent-name[data-v-2a1b6559]{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-right:10px}.new-tag .name[data-v-2a1b6559]{color:#888;line-height:16px}",""])},eQwT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("THhJ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("/4AN")(a.a,null,!1,null,null,null);t.default=o.exports},en6P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("T4f3")),a=n("SJI6");t.default={computed:(0,i.default)({},(0,a.mapState)({isExplorerOpen:function(e){return e.explorer.isOpen}}))}},fHvF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=d(n("Xos8")),r=d(n("aIIw")),o=d(n("kcQR")),s=n("xHmi"),l=c(n("2y8T")),u=c(n("Mb7i"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f={blanchetteEditorInit:function(e,t){var n=e.commit,i=e.dispatch,a=t.url,r=t.editor;i("blanchetteEditorIsLoading"),n(s.BLANCHETTE_EDITOR_INIT,{url:a,editor:r})},blanchetteEditorIsLoading:function(e){(0,e.commit)(s.BLANCHETTE_EDITOR_IS_LOADING)},blanchetteEditorLoaded:function(e){(0,e.commit)(s.BLANCHETTE_EDITOR_LOADED)},blanchetteEditorSave:function(e,t){var n=this,i=e.commit,a=e.state,c=t.url,d=t.filename,f=u.dataURItoBlob(c),h=a.editor.getElementsByTagName("form")[0],p=new FormData(h);return p.append("form[editDocument]",f,d),i(s.BLANCHETTE_EDITOR_IS_LOADING),l.setDocument(p).then(function(){var e=(0,o.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,i(s.BLANCHETTE_EDITOR_LOADED),!a||!a.path){e.next=9;break}window.UIkit.notify({message:a.message,status:"success",timeout:2e3,pos:"top-center"}),i(s.BLANCHETTE_EDITOR_SAVE_SUCCESS,{path:a.path}),e.next=10;break;case 9:throw new Error("No path found");case 10:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.t1=s.BLANCHETTE_EDITOR_ERROR,e.next=4,t.response.json();case 4:e.t2=e.sent,e.t3={error:e.t2},(0,e.t0)(e.t1,e.t3),i(s.BLANCHETTE_EDITOR_LOADED);case 8:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}())}},h=(i={},(0,a.default)(i,s.BLANCHETTE_EDITOR_INIT,function(e,t){var n=t.url,i=t.editor;e.originalUrl=n,e.editor=i}),(0,a.default)(i,s.BLANCHETTE_EDITOR_IS_LOADING,function(e){e.isLoading=!0}),(0,a.default)(i,s.BLANCHETTE_EDITOR_ERROR,function(e,t){var n=t.error;e.error=n.message}),(0,a.default)(i,s.BLANCHETTE_EDITOR_LOADED,function(e){e.isLoading=!1}),(0,a.default)(i,s.BLANCHETTE_EDITOR_SAVE_SUCCESS,function(e,t){var n=t.path;e.originalUrl=n}),i);t.default={state:{isLoading:!0,originalUrl:"",editor:null},actions:f,mutations:h}},fa0H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("MjFt"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("qE/d"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},gk4s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("O7VT"));t.default={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName:function(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl:function(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return!(!this.item.thumbnail||!this.item.thumbnail.processable)&&this.item.thumbnail.processable}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:i.default}}},"h0x+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(t){e.setDragMode("move")}}},[n("i",{staticClass:"uk-icon-arrows"})]):e._e(),e._v(" "),e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(t){e.setDragMode("crop")}}},[n("i",{staticClass:"uk-icon-crop"})]):e._e(),e._v(" "),e.zoomIn?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[n("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e._v(" "),e.zoomOut?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[n("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e._v(" "),e.rotateLeft?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[n("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e._v(" "),e.rotateRight?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[n("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e._v(" "),e.flipHorizontal?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[n("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e._v(" "),e.flipVertical?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[n("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),e._v(" "),n("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.ratio=t.target.multiple?n:n[0]},e.aspectRatio]}},[n("optgroup",{attrs:{label:e.translations.other}},[n("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),e._v(" "),n("option",{attrs:{value:"1:1"}},[e._v("1:1")]),e._v(" "),n("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),e._v(" "),n("optgroup",{attrs:{label:e.translations.landscape}},[n("option",{attrs:{value:"16:9"}},[e._v("16:9")]),e._v(" "),n("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),e._v(" "),n("optgroup",{attrs:{label:e.translations.portrait}},[n("option",{attrs:{value:"9:16"}},[e._v("9:16")]),e._v(" "),n("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),e._v(" "),n("i",{staticClass:"uk-icon-arrow-down"})]),e._v(" "),e.cropping&&!e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[n("i",{staticClass:"uk-icon-check"})]):e._e()],e._v(" "),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[n("i",{staticClass:"uk-icon-undo"})]):e._e(),e._v(" "),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[n("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+"\n    ")]):e._e()],2)},staticRenderFns:[]};t.default=i},hICd:function(e,t,n){"use strict";!function(e){var t,n=function(e,t){void 0===t&&(t={}),this.init(e,t)},i=n.prototype,a=["canvas","vml"],r=["oval","spiral","square","rect","roundRect"],o=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,s=-1!==navigator.appVersion.indexOf("MSIE")&&8===parseFloat(navigator.appVersion.split("MSIE")[1]),l=!!document.createElement("canvas").getContext,u=!0,c=function(e,t,n){var i;e=document.createElement(e);for(i in n)e[i]=n[i];return void 0!==t&&t.appendChild(e),e},d=function(e,t){for(var n in t)e.style[n]=t[n];return e},f=function(e,t){for(var n in t)e.setAttribute(n,t[n]);return e},h=function(e,t,n,i){e.save(),e.translate(t,n),e.rotate(i),e.translate(-t,-n),e.beginPath()};i.init=function(e,i){"boolean"==typeof i.safeVML&&(u=i.safeVML);try{this.mum=void 0!==document.getElementById(e)?document.getElementById(e):document.body}catch(e){this.mum=document.body}if(i.id=void 0!==i.id?i.id:"canvasLoader",this.cont=c("div",this.mum,{id:i.id}),l)t=a[0],this.can=c("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=d(c("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(t=a[1],void 0===n.vmlSheet){document.getElementsByTagName("head")[0].appendChild(c("style")),n.vmlSheet=document.styleSheets[document.styleSheets.length-1];var r,o=["group","oval","roundrect","fill"];for(r in o)n.vmlSheet.addRule(o[r],"behavior:url(#default#VML); position:absolute;")}this.vml=c("group",this.cont)}this.setColor(this.color),this.draw(),d(this.cont,{display:"none"})},i.cont={},i.can={},i.con={},i.cCan={},i.cCon={},i.timer={},i.activeId=0,i.diameter=40,i.setDiameter=function(e){this.diameter=Math.round(Math.abs(e)),this.redraw()},i.getDiameter=function(){return this.diameter},i.cRGB={},i.color="#000000",i.setColor=function(e){this.color=o.test(e)?e:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},i.getColor=function(){return this.color},i.shape=r[0],i.setShape=function(e){for(var t in r)if(e===r[t]){this.shape=e,this.redraw();break}},i.getShape=function(){return this.shape},i.density=40,i.setDensity=function(e){this.density=u&&t===a[1]?Math.round(Math.abs(e))<=40?Math.round(Math.abs(e)):40:Math.round(Math.abs(e)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},i.getDensity=function(){return this.density},i.range=1.3,i.setRange=function(e){this.range=Math.abs(e),this.redraw()},i.getRange=function(){return this.range},i.speed=2,i.setSpeed=function(e){this.speed=Math.round(Math.abs(e))},i.getSpeed=function(){return this.speed},i.fps=24,i.setFPS=function(e){this.fps=Math.round(Math.abs(e)),this.reset()},i.getFPS=function(){return this.fps},i.getRGB=function(e){return e="#"===e.charAt(0)?e.substring(1,7):e,{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},i.draw=function(){var e,n,i,o,l,u,p,m,v,g=0,w=this.density,b=Math.round(w*this.range),k=0;v=this.cCon;var _=this.diameter;if(t===a[0])for(v.clearRect(0,0,1e3,1e3),f(this.can,{width:_,height:_}),f(this.cCan,{width:_,height:_});g<w;){switch(m=g<=b?1-1/b*g:m=0,p=(u=270-360/w*g)/180*Math.PI,v.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+m.toString()+")",this.shape){case r[0]:case r[1]:e=.07*_,o=.47*_+Math.cos(p)*(.47*_-e)-.47*_,l=.47*_+Math.sin(p)*(.47*_-e)-.47*_,v.beginPath(),this.shape===r[1]?v.arc(.5*_+o,.5*_+l,e*m,0,2*Math.PI,!1):v.arc(.5*_+o,.5*_+l,e,0,2*Math.PI,!1);break;case r[2]:e=.12*_,o=Math.cos(p)*(.47*_-e)+.5*_,l=Math.sin(p)*(.47*_-e)+.5*_,h(v,o,l,p),v.fillRect(o,l-.5*e,e,e);break;case r[3]:case r[4]:i=.27*(n=.3*_),o=Math.cos(p)*(i+.13*(_-i))+.5*_,l=Math.sin(p)*(i+.13*(_-i))+.5*_,h(v,o,l,p),this.shape===r[3]?v.fillRect(o,l-.5*i,n,i):(e=.55*i,v.moveTo(o+e,l-.5*i),v.lineTo(o+n-e,l-.5*i),v.quadraticCurveTo(o+n,l-.5*i,o+n,l-.5*i+e),v.lineTo(o+n,l-.5*i+i-e),v.quadraticCurveTo(o+n,l-.5*i+i,o+n-e,l-.5*i+i),v.lineTo(o+e,l-.5*i+i),v.quadraticCurveTo(o,l-.5*i+i,o,l-.5*i+i-e),v.lineTo(o,l-.5*i+e),v.quadraticCurveTo(o,l-.5*i,o+e,l-.5*i))}v.closePath(),v.fill(),v.restore(),++g}else{switch(d(this.cont,{width:_,height:_}),d(this.vml,{width:_,height:_}),this.shape){case r[0]:case r[1]:p="oval",e=140;break;case r[2]:p="roundrect",e=120;break;case r[3]:case r[4]:p="roundrect",e=300}for(n=i=e,o=500-i,l=.5*-i;g<w;){switch(m=g<=b?1-1/b*g:m=0,u=270-360/w*g,this.shape){case r[1]:n=i=e*m,o=500-.5*e-e*m*.5,l=.5*(e-e*m);break;case r[0]:case r[2]:s&&(l=0,this.shape===r[2]&&(o=500-.5*i));break;case r[3]:case r[4]:i=.28*(n=.95*e),s?(o=0,l=500-.5*i):(o=500-n,l=.5*-i),k=this.shape===r[4]?.6:0}v=f(d(c("group",this.vml),{width:1e3,height:1e3,rotation:u}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),v=d(c(p,v,{stroked:!1,arcSize:k}),{width:n,height:i,top:l,left:o}),c("fill",v,{color:this.color,opacity:m}),++g}}this.tick(!0)},i.clean=function(){if(t===a[0])this.con.clearRect(0,0,1e3,1e3);else{var e=this.vml;if(e.hasChildNodes())for(;e.childNodes.length>=1;)e.removeChild(e.firstChild)}},i.redraw=function(){this.clean(),this.draw()},i.reset=function(){"number"==typeof this.timer&&(this.hide(),this.show())},i.tick=function(e){var n=this.con,i=this.diameter;e||(this.activeId+=360/this.density*this.speed),t===a[0]?(n.clearRect(0,0,i,i),h(n,.5*i,.5*i,this.activeId/180*Math.PI),n.drawImage(this.cCan,0,0,i,i),n.restore()):(this.activeId>=360&&(this.activeId-=360),d(this.vml,{rotation:this.activeId}))},i.show=function(){if("number"!=typeof this.timer){var e=this;this.timer=self.setInterval(function(){e.tick()},Math.round(1e3/this.fps)),d(this.cont,{display:"block"})}},i.hide=function(){"number"==typeof this.timer&&(clearInterval(this.timer),delete this.timer,d(this.cont,{display:"none"}))},i.kill=function(){var e=this.cont;for(var n in"number"==typeof this.timer&&this.hide(),t===a[0]?(e.removeChild(this.can),e.removeChild(this.cCan)):e.removeChild(this.vml),this)delete this[n]},e.CanvasLoader=n}(window)},inhQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?n("div",{staticClass:"widget-explorer-nextpage",on:{click:function(t){t.preventDefault(),e.loadMoreItems(t)}}},[e.isLoadingMore?[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner light"})])]:[n("i",{staticClass:"uk-icon-plus"}),e._v(" "),n("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},staticRenderFns:[]};t.default=i},kMqv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getTags=function(){var e=this,t={_token:window.RozierRoot.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierRoot.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var t=(0,a.default)(i.default.mark(function t(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.tags){e.next=7;break}return e.abrupt("return",{items:a.tags});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=(0,a.default)(i.default.mark(function t(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())},t.getParentTags=function(){var e=this,t={_token:window.RozierRoot.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierRoot.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var t=(0,a.default)(i.default.mark(function t(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.tags){e.next=7;break}return e.abrupt("return",{items:a.tags});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=(0,a.default)(i.default.mark(function t(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},kR5N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("aIIw")),a=u(n("kcQR")),r=u(n("dACh")),o=u(n("jx4H")),s=u(n("0iPh")),l=n("Tzw7");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.$content=(0,s.default)(".content-tag-edit").eq(0),this.$form=(0,s.default)("#edit-tag-form"),this.$formRow=null,this.$dropdown=null,this.onFormSubmit=this.onFormSubmit.bind(this),this.$content.length&&(this.$formRow=this.$content.find(".uk-form-row"),this.initEvents())}return(0,o.default)(e,[{key:"initEvents",value:function(){this.$form.on("submit",this.onFormSubmit)}},{key:"unbind",value:function(){this.$content.length&&this.$form.off("submit",this.onFormSubmit)}},{key:"onFormSubmit",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,a,r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),window.Rozier.lazyload.canvasLoader.show(),n=new CustomEvent("pagechange"),window.dispatchEvent(n),a=new FormData(this.$form.get(0)),e.next=7,fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:a});case 7:if((r=e.sent).ok){e.next=15;break}return e.next=11,r.json();case 11:(o=e.sent).errors&&(this.displayErrors(o.errors),window.UIkit.notify({message:o.message,status:"danger",timeout:2e3,pos:"top-center"})),e.next=16;break;case 15:this.cleanErrors();case 16:return e.next=18,window.Rozier.refreshMainTagTree();case 18:return e.next=20,window.Rozier.getMessages();case 20:return window.Rozier.lazyload.canvasLoader.hide(),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cleanErrors",value:function(){var e=(0,s.default)(".form-errored");e.each(function(t){e.eq(t).removeClass("form-errored"),e.eq(t).find(".error-message").remove()})}},{key:"displayErrors",value:function(e,t){for(var n in t&&!1!==t||this.cleanErrors(),e){var i=null,a=null;if("object"===(0,l.toType)(e[n]))this.displayErrors(e[n],!0);else{i=n.replace("_","-"),a=e[n]instanceof Array?e[n][0]:e[n];var r=(0,s.default)(".form-col-"+i);r.length&&(r.addClass("form-errored"),r.append('<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+a+"</p>"))}}}},{key:"resize",value:function(){}}]),e}();t.default=c},kRS3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("H8iA")),a=r(n("KtXb"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={centralTruncate:i.default,truncate:a.default}},krmO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(e){return e&&e.__esModule?e:{default:e}}(n("Xos8")),r=n("xHmi");var o={documentPreviewInit:function(e,t){var n=e.commit,i=t.document;n(r.DOCUMENT_PREVIEW_INIT,{document:i})},documentPreviewDestroy:function(e){(0,e.commit)(r.DOCUMENT_PREVIEW_DESTROY)},documentPreviewClose:function(e){(0,e.commit)(r.DOCUMENT_PREVIEW_CLOSE)},documentPreviewOpen:function(e){(0,e.commit)(r.DOCUMENT_PREVIEW_OPEN)}},s=(i={},(0,a.default)(i,r.DOCUMENT_PREVIEW_INIT,function(e,t){var n=t.document;e.document=n}),(0,a.default)(i,r.DOCUMENT_PREVIEW_DESTROY,function(e){e.isVisible||(e.document=null)}),(0,a.default)(i,r.KEYBOARD_EVENT_SPACE,function(e){null===e.document||e.isVisible?e.isVisible&&(e.isVisible=!1,e.document=null):e.isVisible=!0}),(0,a.default)(i,r.KEYBOARD_EVENT_ESCAPE,function(e){e.isVisible=!1,e.document=null}),(0,a.default)(i,r.DOCUMENT_PREVIEW_OPEN,function(e){e.isVisible=!0}),(0,a.default)(i,r.DOCUMENT_PREVIEW_CLOSE,function(e){e.isVisible=!1,e.document=null}),i);t.default={state:{document:null,isVisible:!1,isLoading:!1},getters:{documentPreviewGetDocument:function(e){return e.document}},actions:o,mutations:s}},lRwf:function(e,t){e.exports=Vue},lS9x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("T4f3")),a=d(n("bnjF")),r=d(n("umdK")),o=d(n("DqSB")),s=d(n("Afu7")),l=d(n("RfA7")),u=d(n("e1f4")),c=d(n("CpLN"));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f=(0,i.default)({},a,r,o,s,l,u,c);t.default=f},lTHl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("rJVn"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("Mhog"),s=n.n(o);var l=function(e){n("P3YS")},u=n("/4AN")(a.a,s.a,!1,l,"data-v-42df67a6",null);t.default=u.exports},m1Vf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getJoinsByIds=function(e){for(var t=this,n=e.ids,r=void 0===n?[]:n,o=e.filters,s={_token:window.RozierRoot.ajaxToken,filters:o,nodeTypeFieldName:o.nodeTypeField,nodeTypeName:o.nodeTypeName},l=0;l<r.length;l++)s["ids["+l+"]"]=r[l];return fetch(window.RozierRoot.routes.joinsAjaxByArray+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.items){e.next=7;break}return e.abrupt("return",{items:a.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getJoins=function(e){var t=this,n=e.searchTerms,r=e.preFilters,o=e.filters,s=(e.filterExplorerSelection,e.moreData),l={_token:window.RozierRoot.ajaxToken,_action:"toggleExplorer",nodeTypeName:r.nodeTypeName,search:n,page:1};r&&r.nodeTypeField&&(l.nodeTypeFieldName=r.nodeTypeField);s&&(l.page=o?o.nextPage:1);return fetch(window.RozierRoot.routes.joinsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.entities){e.next=7;break}return e.abrupt("return",{items:a.entities,filters:a.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},mebu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("ZJj3"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("h0x+"),s=n.n(o);var l=function(e){n("Is3e")},u=n("/4AN")(a.a,s.a,!1,l,"data-v-567f3979",null);t.default=u.exports},nY3t:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=u(n("Xos8")),r=u(n("T4f3")),o=u(n("lS9x")),s=n("xHmi"),l=n("EY70");function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)({},{isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null}),d={filterExplorerOpen:function(e){var t=e.commit,n=e.dispatch,i=e.getters.getExplorerEntity;t(s.FILTER_EXPLORER_OPEN,{entity:i}),n("explorerResetSearchTerms"),n("filterExplorerMakeSearch")},filterExplorerUpdate:function(e,t){var n=e.commit,i=e.dispatch,a=t.item;n(s.FILTER_EXPLORER_UPDATE,{item:a}),i("explorerMakeSearch")},filterExplorerClose:function(e){(0,e.commit)(s.FILTER_EXPLORER_CLOSE)},filterExplorerReset:function(e){(0,e.commit)(s.FILTER_EXPLORER_RESET)},filterExplorerToggle:function(e){var t=e.dispatch;e.state.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch:function(e){var t=e.commit,n=e.state;t(s.FILTER_EXPLORER_REQUEST);var i=n.entity;return o.default.getFilters({entity:i}).then(function(e){e?t(s.FILTER_EXPLORER_SUCCESS,{result:e}):t(s.FILTER_EXPLORER_FAILED)}).catch(function(e){t(s.FILTER_EXPLORER_FAILED,{error:e})})}},f=(i={},(0,a.default)(i,s.FILTER_EXPLORER_UPDATE,function(e,t){var n=t.item;e.selectedItem=n}),(0,a.default)(i,s.FILTER_EXPLORER_REQUEST,function(e){e.isLoading=!0}),(0,a.default)(i,s.FILTER_EXPLORER_SUCCESS,function(e,t){var n=t.result;e.items=n.items,e.isLoading=!1}),(0,a.default)(i,s.FILTER_EXPLORER_OPEN,function(e,t){var n=t.entity;switch(e.isOpen=!0,e.entity=n,n){case l.DOCUMENT_ENTITY:e.icons.normal="uk-icon-folder",e.icons.active="uk-icon-folder-open";break;case l.NODE_ENTITY:case l.TAG_ENTITY:e.icons.normal="uk-icon-tag",e.icons.active="uk-icon-tag"}}),(0,a.default)(i,s.FILTER_EXPLORER_CLOSE,function(e){e.isOpen=!1}),(0,a.default)(i,s.FILTER_EXPLORER_RESET,function(e){e.selectedItem=null,e.items=[]}),(0,a.default)(i,s.FILTER_EXPLORER_FAILED,function(e,t){t.error;e.isLoading=!1,e.error="Request failed"}),(0,a.default)(i,s.KEYBOARD_EVENT_ESCAPE,function(e){e.isLoading=!1,e.isOpen=!1,e.selectedItem=null}),i);t.default={state:c,getters:{getFilterExplorerSelectedItem:function(e){return e.selectedItem}},actions:d,mutations:f}},nhV0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[n("div",{staticClass:"canvas"},[e.isLoading?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner-container"},[n("div",{staticClass:"spinner"})])]):e._e(),e._v(" "),n("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),e._v(" "),n("div",{staticClass:"editor"},[e.url?[n("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._v(" "),e._t("default")],2)},staticRenderFns:[]};t.default=i},"o3/T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("HxWs"));var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.document?n("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[n("div",{staticClass:"preview-zoom",on:{click:function(t){t.preventDefault(),e.onPreviewClick(t)}}},[n("i",{staticClass:"uk-icon-search-plus"})]),e._v(" "),n("div",{on:{click:function(t){t.preventDefault(),e.onAddItemButtonClick(t)}}},[n("div",{staticClass:"uk-sortable-handle"}),e._v(" "),n("div",{staticClass:"document-border"}),e._v(" "),n("div",{staticClass:"document-overflow"},[e.document.isPrivate?[n("div",{staticClass:"document-platform-icon"},[n("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[n("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[n("picture",[n("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),e._v(" "),n("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),e._v(" "),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e._v(" "),e.drawerName&&e.entityName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),e._v(" "),e.hotspot?n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:(0,i.default)(e.hotspot)}}):e._e(),e._v(" "),e.imageCropAlignment?n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}}):e._e()]:e.drawerName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),e._v(" "),n("div",{staticClass:"document-links"},[n("ajax-link",{staticClass:"uk-button document-link uk-button-mini",attrs:{href:e.editUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]),n("a",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e._v(" "),e.document.embedPlatform?[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),e._v(" "),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-"+e.document.icon})])]:[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],e._v(" "),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])],2),e._v(" "),n("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},staticRenderFns:[]};t.default=a},o8dy:function(e,t,n){var i=n("qMpF");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("X/Wc")("750452bb",i,!0,{})},otgr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade-in"}},[e.item?n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onItemClick(e.item)}}},[n("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),e._v(" "),n("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),e._v(" "),n("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(t,i){return n("filter-explorer-item",{key:t.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:t}})}))]):e._e()])},staticRenderFns:[]};t.default=i},pQmN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("AcRm"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("+Rwj"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},pmdL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=$(n("aIIw")),a=$(n("FgrW")),r=$(n("X9RM")),o=$(n("m8OI")),s=$(n("kcQR")),l=$(n("dACh")),u=$(n("jx4H")),c=$(n("0iPh")),d=n("EQNM"),f=$(n("QKtd")),h=$(n("P4+A")),p=$(n("tjLZ")),m=$(n("UIBU")),v=$(n("Tr2I")),g=$(n("JTvu")),w=$(n("T2ht")),b=$(n("bB58")),k=$(n("PKoN")),_=$(n("FVwp")),E=$(n("0vVo")),x=$(n("7Smz")),y=$(n("3Z0C")),C=$(n("wi4E")),T=$(n("QKcT")),R=$(n("aI4R")),S=$(n("3aBW")),A=$(n("+VLV")),I=$(n("RIYy")),O=$(n("NAyJ")),L=$(n("Ow2O")),M=$(n("ZysM")),N=$(n("x4pS")),P=$(n("kR5N")),D=$(n("t4hZ"));function $(e){return e&&e.__esModule?e:{default:e}}var z=function(){function e(){(0,l.default)(this,e),this.$linksSelector=null,this.$canvasLoaderContainer=null,this.mainColor=null,this.currentRequest=null,this.nodeTreeContextActions=null,this.documentsBulk=null,this.tagsBulk=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.saveButtons=null,this.tagAutocomplete=null,this.folderAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.nodeEditSource=null,this.tagEdit=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.$window=(0,c.default)(window),this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),this.$canvasLoaderContainer=(0,c.default)("#canvasloader-container"),this.mainColor=window.Rozier.mainColor?window.Rozier.mainColor:"#00deab",this.initLoader(),window.history.pushState({},document.title,window.location.href)}return(0,u.default)(e,[{key:"initLoader",value:function(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(this.mainColor),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}},{key:"parseLinks",value:function(){this.$linksSelector=(0,c.default)("a:not('[target=_blank]')").not(".rz-no-ajax-link").not("[download]").not('[href="#"]')}},{key:"onClick",value:function(e){var t=this,n=(0,c.default)(e.currentTarget),i=n.attr("href");if(void 0!==i&&!n.hasClass("rz-no-ajax-link")&&""!==i&&"#"!==i&&(i.indexOf(window.Rozier.baseUrl)>=0||"/"===i.charAt(0)||"?"===i.charAt(0)))return e.preventDefault(),window.requestAnimationFrame(function(){window.history.pushState({},null,n.attr("href")),t.onPopState(null)}),!1}},{key:"onPopState",value:function(e){var t=null;null!==e&&e.originalEvent&&(t=e.originalEvent.state),void 0!==t&&null!==t||(t=window.history.state),null!==t&&(this.canvasLoader.show(),this.loadContent(t,window.location))}},{key:"loadContent",value:function(e,t){var n=this;this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame((0,s.default)(i.default.mark(function s(){var l,u,c;return i.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=new CustomEvent("pagechange"),window.dispatchEvent(l),s.prev=2,s.delegateYield(i.default.mark(function s(){var l,u,c,d,f,h,p,m,v,g,w,b,k,_,E,x;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l="",u=t.href.split("?")[0],c=new URLSearchParams(t.href.split("?")[1]),!e.headerData){i.next=24;break}for(d=function(e,t){Array.isArray(t)?t.forEach(function(t,n){c.append(e+"["+n+"]",t)}):c.set(e,t)},f=!0,h=!1,p=void 0,i.prev=8,m=(0,r.default)((0,a.default)(e.headerData));!(f=(v=m.next()).done);f=!0)g=v.value,w=(0,o.default)(g,2),b=w[0],k=w[1],d(b,k);i.next=16;break;case 12:i.prev=12,i.t0=i.catch(8),h=!0,p=i.t0;case 16:i.prev=16,i.prev=17,!f&&m.return&&m.return();case 19:if(i.prev=19,!h){i.next=22;break}throw p;case 22:return i.finish(19);case 23:return i.finish(16);case 24:return l=""!==c.toString()?u+"?"+c.toString():u,i.next=27,fetch(l,{method:"GET",headers:{"X-Partial":!0,Accept:"text/html"}});case 27:if((_=i.sent).ok){i.next=30;break}throw _;case 30:return i.next=32,_.text();case 32:E=i.sent,n.applyContent(E),x=new CustomEvent("pageload",{detail:E}),window.dispatchEvent(x);case 36:case"end":return i.stop()}},s,n,[[8,12,16,24],[17,,19,23]])})(),"t0",4);case 4:s.next=12;break;case 6:return s.prev=6,s.t1=s.catch(2),s.next=10,s.t1.text();case 10:if(u=s.sent)try{c=JSON.parse(u),window.UIkit.notify({message:c.message,status:"danger",timeout:3e3,pos:"top-center"})}catch(e){window.location.href=t.href}else window.UIkit.notify({message:window.Rozier.messages.forbiddenPage,status:"danger",timeout:3e3,pos:"top-center"});case 12:n.canvasLoader.hide();case 13:case"end":return s.stop()}},s,n,[[2,6]])})))}},{key:"refreshCodemirrorEditor",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=(0,r.default)(this.markdownEditors);!(e=(i=a.next()).done);e=!0){i.value.forceEditorUpdate()}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}var o=!0,s=!1,l=void 0;try{for(var u,c=(0,r.default)(this.yamlEditors);!(o=(u=c.next()).done);o=!0){u.value.forceEditorUpdate()}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}var d=!0,f=!1,h=void 0;try{for(var p,m=(0,r.default)(this.cssEditors);!(d=(p=m.next()).done);d=!0){p.value.forceEditorUpdate()}}catch(e){f=!0,h=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw h}}var v=!0,g=!1,w=void 0;try{for(var b,k=(0,r.default)(this.jsonEditors);!(v=(b=k.next()).done);v=!0){b.value.forceEditorUpdate()}}catch(e){g=!0,w=e}finally{try{!v&&k.return&&k.return()}finally{if(g)throw w}}}},{key:"applyContent",value:function(e){var t=this,n=(0,c.default)("#main-content-scrollable"),i=n.find(".content-global"),a=(0,c.default)(e),r=a.find("[data-ajax-root]");r.length&&(a=(0,c.default)(r.html())),a.addClass("new-content-global"),n.find('meta[name="title"]').remove(),n.append(a);var o=n.find('meta[name="title"]');o.length&&(document.title=o[0].getAttribute("content")),a=n.find(".new-content-global"),i.eq(0).fadeOut(100,function(){i.remove(),t.generalBind(),a.eq(0).fadeIn(200,function(){a.removeClass("new-content-global");var e=new CustomEvent("pageshowend");window.dispatchEvent(e)})})}},{key:"bindAjaxLink",value:function(){this.parseLinks(),this.$linksSelector.off("click",this.onClick),this.$linksSelector.on("click",this.onClick)}},{key:"generalBind",value:function(){this.generalUnbind([this.documentsBulk,this.mainTreeTabs,this.nodesBulk,this.tagsBulk,this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.nodeTreeContextActions,this.tagAutocomplete,this.folderAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons,this.nodeEditSource,this.tagEdit,this.nodeTree]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.documentsBulk=new f.default,this.mainTreeTabs=new D.default,this.nodesBulk=new h.default,this.tagsBulk=new p.default,this.inputLengthWatcher=new k.default,this.documentUploader=new m.default(window.Rozier.messages.dropzone),this.childrenNodesFields=new _.default,this.geotagField=new M.default,this.multiGeotagField=new N.default,this.stackNodeTrees=new E.default,this.saveButtons&&this.saveButtons.unbind(),this.saveButtons=new x.default,this.tagAutocomplete=new y.default,this.folderAutocomplete=new C.default,this.attributeValuesPosition=new v.default,this.customFormFieldsPosition=new g.default,this.nodeTreeContextActions=new w.default,this.settingsSaveButtons=new T.default,this.nodeEditSource=new b.default,this.tagEdit=new P.default,this.nodeTree=new R.default,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initColorPickers(),this.initCollectionsForms(),(0,c.default)(".actions-menu").length&&d.TweenLite.to(".actions-menu",.5,{right:0,delay:.4,ease:d.Expo.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new S.default,this.initBootstrapSwitches(),window.Rozier.getMessages()}},{key:"generalUnbind",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,o=(0,r.default)(e);!(t=(a=o.next()).done);t=!0){var s=a.value;s&&s.unbind()}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"initCollectionsForms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=null;(n=null!==e?e.find(".rz-collection-form-type"):(0,c.default)(".rz-collection-form-type")).length&&n.collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:function(e,n){return t.initMarkdownEditors(n),t.initJsonEditors(n),t.initCssEditors(n),t.initYamlEditors(n),t.initBootstrapSwitches(n),t.initColorPickers(n),t.initCollectionsForms(n),n.find("[data-vuejs]").each(function(e,t){window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(t))}),!0}})}},{key:"initColorPickers",value:function(e){var t=(0,c.default)(".colorpicker-input");e&&e.length&&(t=e.find(".colorpicker-input")),t.length&&t.minicolors()}},{key:"initBootstrapSwitches",value:function(e){var t=(0,c.default)(".rz-boolean-checkbox");e&&e.length&&(t=e.find(".rz-boolean-checkbox")),t.bootstrapSwitch({size:"small"})}},{key:"initMarkdownEditors",value:function(e){var t=[],n=(t=e&&e.length?e.find("textarea[data-rz-markdowneditor]"):(0,c.default)("textarea[data-rz-markdowneditor]")).length;if(n)for(var i=0;i<n;i++)this.markdownEditors.push(new I.default(t.eq(i),i))}},{key:"initJsonEditors",value:function(e){var t=[],n=(t=e&&e.length?e.find("textarea[data-rz-jsoneditor]"):(0,c.default)("textarea[data-rz-jsoneditor]")).length;if(n)for(var i=0;i<n;i++)this.jsonEditors.push(new O.default(t.eq(i),i))}},{key:"initCssEditors",value:function(e){var t=[],n=(t=e&&e.length?e.find("textarea[data-rz-csseditor]"):(0,c.default)("textarea[data-rz-csseditor]")).length;if(n)for(var i=0;i<n;i++)this.cssEditors.push(new L.default(t.eq(i),i))}},{key:"initYamlEditors",value:function(e){var t=[],n=(t=e&&e.length?e.find("textarea[data-rz-yamleditor]"):(0,c.default)("textarea[data-rz-yamleditor]")).length;if(n)for(var i=0;i<n;i++)this.yamlEditors.push(new A.default(t.eq(i),i))}},{key:"initFilterBars",value:function(){var e=(0,c.default)("select.item-per-page");e.length&&(e.off("change"),e.on("change",function(e){(0,c.default)(e.currentTarget).parents("form").submit()}))}},{key:"resize",value:function(){this.$canvasLoaderContainer.length&&(this.$canvasLoaderContainer[0].style.left=window.Rozier.mainContentScrollableOffsetLeft+window.Rozier.mainContentScrollableWidth/2+"px")}}]),e}();t.default=z},"pz+8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(t){t.preventDefault(),e.onItemClick(t)}}},[e._t("default",[e._v(e._s(e.title))])],2)},staticRenderFns:[]};t.default=i},"qE/d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.callback(t)}}},[e._t("default")],2)},staticRenderFns:[]};t.default=i},qMpF:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".box[data-v-7a805390]{background:#fff;overflow:hidden;width:656px;height:350px;border-radius:2px;box-sizing:border-box;box-shadow:0 0 40px #000;color:#8b8c8d;display:flex}.box .box-part[data-v-7a805390]{display:block;position:relative;box-sizing:border-box;width:100%}.box .box-part#bp-right[data-v-7a805390]{border-left:1px solid #eee;background:#eee;width:50%}.box .box-part#bp-right img[data-v-7a805390]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.box .box-messages[data-v-7a805390]{position:absolute;left:0;bottom:0;width:100%}.box .modal[data-v-7a805390]{width:100%;height:100%;display:flex;flex-flow:column;justify-content:flex-start}.box .modal .modal-title[data-v-7a805390]{box-sizing:border-box;padding:30px;width:100%;text-align:center;letter-spacing:1px;font-size:20px;font-weight:300}.box .modal .modal-content[data-v-7a805390]{padding:0 20px 20px;box-sizing:border-box;display:flex;flex-flow:column;justify-content:space-between;height:100%;max-width:500px;margin:0 auto}.box .modal .modal-content p[data-v-7a805390]{margin-top:0;font-size:12px}.box input[type=password][data-v-7a805390],.box input[type=text][data-v-7a805390]{display:block;box-sizing:border-box;margin-bottom:4px;width:100%;font-size:12px;line-height:2;border:0;border-bottom:1px solid #dddedf;padding:4px 8px;font-family:inherit;transition:all .5s;outline:none}.box .btn[data-v-7a805390],.box button[data-v-7a805390]{background:#fff;border-radius:4px;box-sizing:border-box;padding:10px;letter-spacing:1px;font-family:Open Sans,sans-serif;font-weight:400;min-width:140px;margin-top:8px;color:#8b8c8d;cursor:pointer;border:1px solid #dddedf;text-transform:uppercase;transition:all .1s;font-size:10px;outline:none;display:block;text-align:center}.box .btn[data-v-7a805390]:hover,.box button[data-v-7a805390]:hover{text-decoration:none;border-color:#c7c8c9;color:#6f7071}.box .large-btn[data-v-7a805390]{width:100%;background:#fff}.box .large-btn span[data-v-7a805390]{font-weight:600}.pop-out-enter-active[data-v-7a805390],.pop-out-leave-active[data-v-7a805390]{transition:all .5s}.pop-out-enter[data-v-7a805390],.pop-out-leave-active[data-v-7a805390]{opacity:0;-webkit-transform:translateY(24px);transform:translateY(24px)}",""])},rJVn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("T4f3")),a=n("SJI6"),r=o(n("ciPl"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={mounted:function(){this.tagCreatorReady()},computed:(0,i.default)({},(0,a.mapState)({translations:function(e){return e.translations},searchTerms:function(e){return e.explorer.searchTerms},isTagExisting:function(e){return e.tags.isTagExisting}})),methods:(0,i.default)({},(0,a.mapActions)(["tagsCreate","tagCreatorReady"])),components:{TagCreatorItem:r.default}}},"s/f/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("swoF"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("tE9B"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports},si9I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}}},stwt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("dACh")),a=l(n("jx4H")),r=l(n("0iPh")),o=n("EQNM"),s=n("Tzw7");function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e),this.$menu=(0,r.default)("#menu-mobile"),this.$adminMenu=(0,r.default)("#admin-menu"),this.$adminMenuLink=this.$adminMenu.find("a"),this.$adminMenuNavParent=this.$adminMenu.find(".uk-parent"),this.$searchButton=(0,r.default)("#search-button"),this.$searchPanel=(0,r.default)("#nodes-sources-search"),this.$treeButton=(0,r.default)("#tree-button"),this.$treeWrapper=(0,r.default)("#tree-wrapper"),this.$treeWrapperLink=this.$treeWrapper.find("a"),this.$userPicture=(0,r.default)("#user-picture"),this.$userActions=(0,r.default)(".user-actions"),this.$userActionsLink=this.$userActions.find("a"),this.$mainContentOverlay=(0,r.default)("#main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.$userPicture.length&&(0,s.addClass)(this.$userPicture[0],"rz-no-ajax-link"),this.$menu.on("click",this.menuClick),this.$adminMenuLink.on("click",this.adminMenuLinkClick),this.$adminMenuNavParent.on("click",this.adminMenuNavParentClick),this.$searchButton.on("click",this.searchButtonClick),this.$treeButton.on("click",this.treeButtonClick),this.$treeWrapperLink.on("click",this.treeWrapperLinkClick),this.$userPicture.on("click",this.userPictureClick),this.$userActionsLink.on("click",this.userActionsLinkClick),this.$mainContentOverlay.on("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}},{key:"menuClick",value:function(e){this.menuOpen?this.closeMenu():this.openMenu()}},{key:"adminMenuNavParentClick",value:function(e){var t=(0,r.default)(e.currentTarget),n=(0,r.default)(e.currentTarget).find(".uk-nav-sub");if(t.hasClass("nav-open"))o.TweenLite.to(n,.6,{height:0,ease:o.Expo.easeOut,onComplete:function(){n[0].style.display="none"}}),t.removeClass("nav-open");else{var i=41*n.find(".uk-nav-sub-item").length-3;n[0].style.display="block",o.TweenLite.to(n,.6,{height:i,ease:o.Expo.easeOut,onComplete:function(){}}),t.addClass("nav-open")}}},{key:"adminMenuLinkClick",value:function(e){this.menuOpen&&this.closeMenu()}},{key:"openMenu",value:function(){this.closeSearch(),this.closeTree(),this.closeUser(),o.TweenLite.to(this.$adminMenu,.6,{x:0,ease:o.Expo.easeOut}),this.$mainContentOverlay.length&&(this.$mainContentOverlay[0].style.display="block",o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:.5,ease:o.Expo.easeOut})),this.menuOpen=!0}},{key:"closeMenu",value:function(){var e=this,t=.8*-window.Rozier.windowWidth;o.TweenLite.to(this.$adminMenu,.6,{x:t,ease:o.Expo.easeOut}),o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:0,ease:o.Expo.easeOut,onComplete:function(){e.$mainContentOverlay.length&&(e.$mainContentOverlay[0].style.display="none")}}),this.menuOpen=!1}},{key:"searchButtonClick",value:function(e){this.searchOpen?this.closeSearch():this.openSearch()}},{key:"openSearch",value:function(){this.closeMenu(),this.closeTree(),this.closeUser(),o.TweenLite.to(this.$searchPanel,.6,{x:0,ease:o.Expo.easeOut}),this.$mainContentOverlay.length&&(this.$mainContentOverlay[0].style.display="block",o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:.5,ease:o.Expo.easeOut})),this.$searchButton.addClass("active"),this.searchOpen=!0}},{key:"closeSearch",value:function(){var e=this,t=.8*-window.Rozier.windowWidth;o.TweenLite.to(this.$searchPanel,.6,{x:t,ease:o.Expo.easeOut}),o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:0,ease:o.Expo.easeOut,onComplete:function(){e.$mainContentOverlay[0].style.display="none"}}),this.$searchButton.removeClass("active"),this.searchOpen=!1}},{key:"treeButtonClick",value:function(e){this.treeOpen?this.closeTree():this.openTree()}},{key:"treeWrapperLinkClick",value:function(e){-1===e.currentTarget.className.indexOf("tab-link")&&this.treeOpen&&this.closeTree()}},{key:"openTree",value:function(){this.closeMenu(),this.closeSearch(),this.closeUser(),o.TweenLite.to(this.$treeWrapper,.6,{x:0,ease:o.Expo.easeOut}),this.$mainContentOverlay[0].style.display="block",o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:.5,ease:o.Expo.easeOut}),this.$treeButton.addClass("active"),this.treeOpen=!0}},{key:"closeTree",value:function(){var e=this,t=.8*-window.Rozier.windowWidth;o.TweenLite.to(this.$treeWrapper,.6,{x:t,ease:o.Expo.easeOut}),o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:0,ease:o.Expo.easeOut,onComplete:function(){e.$mainContentOverlay[0].style.display="none"}}),(0,s.removeClass)(this.$treeButton[0],"active"),this.treeOpen=!1}},{key:"userPictureClick",value:function(e){return this.userOpen?this.closeUser():this.openUser(),!1}},{key:"userActionsLinkClick",value:function(e){this.userOpen&&this.closeUser()}},{key:"openUser",value:function(){this.closeMenu(),this.closeSearch(),this.closeTree(),o.TweenLite.to(this.$userActions,.6,{x:0,ease:o.Expo.easeOut}),this.$mainContentOverlay.length&&(this.$mainContentOverlay[0].style.display="block",o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:.5,ease:o.Expo.easeOut})),this.$userPicture.addClass("active"),this.userOpen=!0}},{key:"closeUser",value:function(){var e=this,t=.8*window.Rozier.windowWidth;o.TweenLite.to(this.$userActions,.6,{x:t,ease:o.Expo.easeOut}),o.TweenLite.to(this.$mainContentOverlay,.6,{opacity:0,ease:o.Expo.easeOut,onComplete:function(){e.$mainContentOverlay[0].style.display="none"}}),this.$userPicture.removeClass("active"),this.userOpen=!1}},{key:"mainContentOverlayClick",value:function(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}},{key:"resize",value:function(){}}]),e}();t.default=u},swoF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}}},t4hZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("zv2j")),a=o(n("dACh")),r=o(n("jx4H"));function o(e){return e&&e.__esModule?e:{default:e}}var s="roadiz.currentMainTreeTab",l=function(){function e(){(0,a.default)(this,e),this.onTabChange=this.onTabChange.bind(this);var t=document.getElementById("tree-menu"),n=window.localStorage.getItem(s);t&&(this.tabsMenu=window.UIkit.tab(t,{connect:"#tree-container",swiping:!1,active:n?(0,i.default)(n):0}),this.tabsMenu.on("change.uk.tab",this.onTabChange))}return(0,r.default)(e,[{key:"unbind",value:function(){this.tabsMenu&&this.tabsMenu.off("change.uk.tab",this.onTabChange)}},{key:"onTabChange",value:function(e,t,n){var i=(t=t[0]).getAttribute("data-index");i&&window.localStorage.setItem(s,i)}}]),e}();t.default=l},tE9B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?n("div",{staticClass:"widget-explorer-infos"},[e._v("\n        "+e._s(e.length)+" / "+e._s(e.itemCount)+"\n    ")]):e._e()])},staticRenderFns:[]};t.default=i},tjLZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e),this.$tagsCheckboxes=(0,r.default)("input.tag-checkbox"),this.$tagsIdBulkTags=(0,r.default)("input.tags-id-bulk-tags"),this.$tagsIdBulkStatus=(0,r.default)("input.tags-id-bulk-status"),this.$actionsMenu=(0,r.default)(".tags-bulk-actions"),this.$tagsFolderButton=(0,r.default)(".uk-button-bulk-folder-tags"),this.$tagsFolderCont=(0,r.default)(".tags-bulk-folder-cont"),this.$tagsStatusButton=(0,r.default)(".uk-button-bulk-status-tags"),this.$tagsStatusCont=(0,r.default)(".tags-bulk-status-cont"),this.$tagsSelectAll=(0,r.default)(".uk-button-select-all"),this.$tagsDeselectAll=(0,r.default)(".uk-button-bulk-deselect"),this.tagsFolderOpen=!1,this.tagsStatusOpen=!1,this.tagsIds=null,this.onCheckboxChange=this.onCheckboxChange.bind(this),this.tagsFolderButtonClick=this.tagsFolderButtonClick.bind(this),this.tagsStatusButtonClick=this.tagsStatusButtonClick.bind(this),this.onSelectAll=this.onSelectAll.bind(this),this.onDeselectAll=this.onDeselectAll.bind(this),this.$tagsCheckboxes.length&&this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.$tagsCheckboxes.on("change",this.onCheckboxChange),this.$tagsStatusButton.on("click",this.tagsStatusButtonClick),this.$tagsFolderButton.on("click",this.tagsFolderButtonClick),this.$tagsSelectAll.on("click",this.onSelectAll),this.$tagsDeselectAll.on("click",this.onDeselectAll)}},{key:"unbind",value:function(){this.$tagsCheckboxes.length&&(this.$tagsCheckboxes.off("change",this.onCheckboxChange),this.$tagsStatusButton.off("click",this.tagsStatusButtonClick),this.$tagsFolderButton.off("click",this.tagsFolderButtonClick),this.$tagsSelectAll.off("click",this.onSelectAll),this.$tagsDeselectAll.off("click",this.onDeselectAll))}},{key:"onSelectAll",value:function(){return this.$tagsCheckboxes.prop("checked",!0),this.onCheckboxChange(null),!1}},{key:"onDeselectAll",value:function(){return this.$tagsCheckboxes.prop("checked",!1),this.onCheckboxChange(null),!1}},{key:"onCheckboxChange",value:function(){var e=this;return this.tagsIds=[],(0,r.default)("input.tag-checkbox:checked").each(function(t,n){e.tagsIds.push((0,r.default)(n).val())}),this.$tagsIdBulkTags.length&&this.$tagsIdBulkTags.val(this.tagsIds.join(",")),this.$tagsIdBulkStatus.length&&this.$tagsIdBulkStatus.val(this.tagsIds.join(",")),this.tagsIds.length>0?this.showActions():this.hideActions(),!1}},{key:"onBulkDelete",value:function(){return this.tagsIds.length>0&&(history.pushState({headerData:{tags:this.tagsIds}},null,window.Rozier.routes.tagsBulkDeletePage),window.Rozier.lazyload.onPopState(null)),!1}},{key:"showActions",value:function(){this.$actionsMenu.slideDown()}},{key:"hideActions",value:function(){this.$actionsMenu.slideUp()}},{key:"tagsFolderButtonClick",value:function(){return this.tagsFolderOpen?(this.$tagsFolderCont.slideUp(),this.tagsFolderOpen=!1):(this.$tagsStatusCont.slideUp(),this.tagsStatusOpen=!1,this.$tagsFolderCont.slideDown(),this.tagsFolderOpen=!0),!1}},{key:"tagsStatusButtonClick",value:function(){return this.tagsStatusOpen?(this.$tagsStatusCont.slideUp(),this.tagsStatusOpen=!1):(this.$tagsFolderCont.slideUp(),this.tagsFolderOpen=!1,this.$tagsStatusCont.slideDown(),this.tagsStatusOpen=!0),!1}}]),e}();t.default=s},uC1N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("dACh")),a=u(n("jx4H")),r=n("EY70"),o=u(n("cDWz")),s=u(n("WGNA")),l=u(n("lTHl"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"getState",value:function(e){var t={trans:{moreItems:""},isFilterEnable:!1};switch(t.currentListingView=s.default,t.trans.moreItems="moreEntities",e){case r.DOCUMENT_ENTITY:t.currentListingView=o.default,t.filterExplorerIcon="uk-icon-rz-folder-tree-mini",t.trans.moreItems="moreDocuments",t.isFilterEnable=!0;break;case r.NODE_ENTITY:t.filterExplorerIcon="uk-icon-tags",t.trans.moreItems="moreNodes",t.isFilterEnable=!0;break;case r.NODE_TYPE_ENTITY:t.trans.moreItems="moreNodeTypes";break;case r.TAG_ENTITY:t.trans.moreItems="moreTags",t.isFilterEnable=!0,t.filterExplorerIcon="uk-icon-tags";break;default:t.trans.moreItems="moreEntities"}return t}},{key:"getListingView",value:function(e){switch(e){case r.DOCUMENT_ENTITY:return o.default;default:return s.default}}},{key:"getWidgetView",value:function(e){switch(e){case r.TAG_ENTITY:return l.default;default:return null}}}]),e}();t.default=c},umdK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n("L3Vt"));t.getExplorerItems=function(e){var t=e.entity,n=e.searchTerms,f=e.preFilters,h=e.filters,p=e.filterExplorerSelection,m=e.moreData,v=void 0!==m&&m;switch(t){case a.DOCUMENT_ENTITY:return r.getDocuments({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case a.NODE_ENTITY:return o.getNodes({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case a.NODE_TYPE_ENTITY:return s.getNodeTypes({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case a.JOIN_ENTITY:return l.getJoins({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case a.CUSTOM_FORM_ENTITY:return u.getCustomForms({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case a.TAG_ENTITY:return c.getTags({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case a.EXPLORER_PROVIDER_ENTITY:return d.getItems({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v})}return i.default.reject(new Error("No type entity found"))};var a=n("EY70"),r=f(n("2y8T")),o=f(n("vfsJ")),s=f(n("O/s3")),l=f(n("m1Vf")),u=f(n("8DOo")),c=f(n("RfA7")),d=f(n("CpLN"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},vfsJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("aIIw")),a=r(n("kcQR"));function r(e){return e&&e.__esModule?e:{default:e}}t.getNodesByIds=function(e){for(var t=this,n=e.ids,r=void 0===n?[]:n,o={_token:window.RozierRoot.ajaxToken,_action:"nodesByIds"},s=0;s<r.length;s++)o["ids["+s+"]"]=r[s];return fetch(window.RozierRoot.routes.nodesAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.items){e.next=7;break}return e.abrupt("return",{items:a.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getNodes=function(e){var t=this,n=e.searchTerms,r=e.preFilters,o=e.filters,s=e.filterExplorerSelection,l=e.moreData,u={_token:window.RozierRoot.ajaxToken,_action:"toggleExplorer",search:n,page:1};s&&s.id&&(u.tagId=s.id);if(r&&r.nodeTypes){var c=JSON.parse(r.nodeTypes);Array.isArray(c)&&c.length>0&&(u.nodeTypes=c)}l&&(u.page=o?o.nextPage:1);return fetch(window.RozierRoot.routes.nodesAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,a.default)(i.default.mark(function e(n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(a=e.sent)||!a.nodes){e.next=7;break}return e.abrupt("return",{items:a.nodes,filters:a.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,a.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},wi4E:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("dACh")),a=o(n("jx4H")),r=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e);var t=this;(0,r.default)(".rz-folder-autocomplete").bind("keydown",function(e){e.keyCode===r.default.ui.keyCode.TAB&&(0,r.default)(this).autocomplete("instance").menu.active&&e.preventDefault()}).autocomplete({source:function(e,n){r.default.getJSON(window.Rozier.routes.foldersAjaxSearch,{_action:"folderAutocomplete",_token:window.Rozier.ajaxToken,search:t.extractLast(e.term)},n)},search:function(){if(t.extractLast(this.value).length<2)return!1},focus:function(){return!1},select:function(e,n){var i=t.split(this.value);return i.pop(),i.push(n.item.value),i.push(""),this.value=i.join(", "),!1}})}return(0,a.default)(e,[{key:"unbind",value:function(){}},{key:"split",value:function(e){return e.split(/,\s*/)}},{key:"extractLast",value:function(e){return this.split(e).pop()}}]),e}();t.default=s},x4pS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n("aIIw")),a=v(n("kcQR")),r=v(n("HxWs")),o=v(n("X9RM")),s=v(n("BX4+")),l=v(n("dACh")),u=v(n("jx4H")),c=v(n("VOrx")),d=v(n("ZKjc")),f=v(n("0iPh")),h=n("ZysM"),p=v(h),m=n("f3z0");function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){(0,l.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),e.$fields.length&&e.init(),e}return(0,d.default)(t,e),(0,u.default)(t,[{key:"resetMarker",value:function(e,t,n,i,a){t.value="";var r=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)(e);!(r=(u=c.next()).done);r=!0){var d=u.value;null!==d&&d.removeFrom(i)}}catch(e){s=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw l}}return e=[],n.style.display="none",this.syncSelector(a,e,i,t),!1}},{key:"bindSingleField",value:function(e){var t=this,n=e.parentElement.querySelector(".uk-form-label"),i=n.innerHTML||"Geotag";n.style.display="none";var a=null;a=window.Rozier.defaultMapLocation?window.Rozier.defaultMapLocation:h.DEFAULT_LOCATION;var r="geotag-canvas-"+this.uniqid(),s=r+"-address",l=r+"-reset",u={center:this.createLatLng(a),zoom:a.zoom||a.alt,scrollwheel:!1,styles:window.Rozier.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",r);var c=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+i+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+s+'" type="text" value="" />','<button type="button" id="'+l+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.Rozier.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+r+'"></div>',"</div>"].join(""),d=document.createElement("div");d.innerHTML=c,e.after(d);var p=document.getElementById(s);p.setAttribute("placeholder",window.Rozier.messages.geotag.typeAnAddress);var m=document.getElementById(l);m.style.display="none";var v=this.createMap(r,u),g=[],w=e.parentElement.querySelector(".multi-geotag-list-markers");if(""!==e.value)try{var b=JSON.parse(e.value);if(!b.features)throw new Error("Data is not a valid GeoJSON featureCollection");var k=!0,_=!1,E=void 0;try{for(var x,y=(0,o.default)(b.features);!(k=(x=y.next()).done);k=!0){var C=x.value,T=this.createMarker(C,v);T.on("dragend",f.default.proxy(this.setMarkerEvent,this,T,g,e,m,v,w)),g.push(T)}}catch(e){_=!0,E=e}finally{try{!k&&y.return&&y.return()}finally{if(_)throw E}}}catch(t){return e.style.display="block",(0,f.default)(document.getElementById(r)).style.display="none",!1}v.on("click",f.default.proxy(this.setMarkerEvent,this,null,g,e,m,v,w)),p.addEventListener("keypress",f.default.proxy(this.requestGeocode,this,g,e,m,v,w)),this.resetMap(v,g,u,null),this.syncSelector(w,g,v,e),new ResizeObserver(function(e){v.invalidateSize({animate:!1,pan:!1}),void 0!==g&&g.length>0?v.fitBounds(t.getMediumLatLng(g),{animate:!1,pan:!1}):v.panTo(u.center,{animate:!1,pan:!1})}).observe(document.getElementById(r))}},{key:"syncSelector",value:function(e,t,n,i){e.innerHTML="";var a=[],r=0,s=t.filter(function(e){return null!==e&&null!==e.getLatLng()}),l=!0,u=!1,c=void 0;try{for(var d,h=(0,o.default)(s);!(l=(d=h.next()).done);l=!0){var p=d.value;["<li>",'<span class="multi-geotag-marker-name">',p.name?p.name:"#"+r,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+r+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+r+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(function(e){return a.push(e)}),r++}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}e.innerHTML=a.join("");var m=0,v=!0,g=!1,w=void 0;try{for(var b,k=(0,o.default)(s);!(v=(b=k.next()).done);v=!0){var _=b.value,E=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+m+'"]'),x=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+m+'"]');E&&x&&(E.addEventListener("click",f.default.proxy(this.centerMap,this,n,_)),x.addEventListener("click",f.default.proxy(this.removeMarker,this,n,t,_,e,i))),m++}}catch(e){g=!0,w=e}finally{try{!v&&k.return&&k.return()}finally{if(g)throw w}}}},{key:"removeMarker",value:function(e,t,n,i,a,r){r&&r.preventDefault();var o=t.indexOf(n);return n.removeFrom(e),t.splice(o,1),this.syncSelector(i,t,e,a),this.writeMarkers(t,a),!1}},{key:"resetMap",value:function(e,t,n,i){var a=this;i&&i.preventDefault(),window.requestAnimationFrame(function(){e.invalidateSize({animate:!0,pan:!0}),void 0!==t&&t.length>0?e.fitBounds(a.getMediumLatLng(t)):e.panTo(n.center)})}},{key:"centerMap",value:function(e,t,n){if(n&&n.preventDefault(),e&&t){var i=t.getLatLng();e.flyTo(i,i.alt)}}},{key:"getMediumLatLng",value:function(e){var t=new m.LatLngBounds,n=!0,i=!1,a=void 0;try{for(var r,s=(0,o.default)(e);!(n=(r=s.next()).done);n=!0){var l=r.value;t.extend(l.getLatLng())}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return t}},{key:"setMarkerEvent",value:function(e,t,n,i,a,r,o){if(o.latlng)this.setMarker(e,t,n,i,a,o.latlng);else if(null!==e){var s=e.getLatLng();s.alt=a.getZoom(),e.setLatLng(s),a.flyTo(s,s.alt),this.writeMarkers(t,n)}this.syncSelector(r,t,a,n)}},{key:"setMarker",value:function(e,t,n,i,a,r,o){return a&&(r.alt||(r.alt=a.getZoom()),null===e?e=this.createMarker(r,a):(e.setLatLng(r),e.addTo(a)),e.name=o,a.flyTo(r,r.alt),t.push(e),this.writeMarkers(t,n)),e}},{key:"writeMarkers",value:function(e,t){var n={type:"FeatureCollection",features:[]},i=!0,a=!1,s=void 0;try{for(var l,u=(0,o.default)(e);!(i=(l=u.next()).done);i=!0){var c=l.value;if(c){var d=c.getLatLng();n.features.push(this.latLngToFeature(d,d.alt,c.name))}}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}t.value=(0,r.default)(n)}},{key:"requestGeocode",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,a,r,o,s){var l,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=s.currentTarget.value,!s.which||13!==s.which){e.next=12;break}return s.preventDefault(),e.next=5,this.getLatLngForAddress(l);case 5:if(null!==(u=e.sent)){e.next=9;break}return console.error("Geocode was not successful."),e.abrupt("return");case 9:u.alt=r.getZoom(),this.setMarker(null,t,n,a,r,u,u.name||""),this.syncSelector(o,t,r,n);case 12:case"end":return e.stop()}},e,this)}));return function(t,n,i,a,r,o){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=g},xHmi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NODES_SEARCH_REQUEST="NODES_SEARCH_REQUEST",t.NODES_SEARCH_SUCCESS="NODES_SEARCH_SUCCESS",t.NODES_SEARCH_RESET="NODES_SEARCH_RESET",t.NODES_SEARCH_FAILED="NODES_SEARCH_FAILED",t.NODES_SEARCH_ENABLE_FOCUS="NODES_SEARCH_ENABLE_FOCUS",t.NODES_SEARCH_DISABLE_FOCUS="NODES_SEARCH_DISABLE_FOCUS",t.EXPLORER_REQUEST="EXPLORER_REQUEST",t.EXPLORER_SUCCESS="EXPLORER_SUCCESS",t.EXPLORER_RESET="EXPLORER_RESET",t.EXPLORER_FAILED="EXPLORER_FAILED",t.EXPLORER_OPEN="EXPLORER_OPEN",t.EXPLORER_CLOSE="EXPLORER_CLOSE",t.EXPLORER_LOAD_MORE="EXPLORER_LOAD_MORE",t.EXPLORER_LOAD_MORE_SUCCESS="EXPLORER_LOAD_MORE_SUCCESS",t.EXPLORER_IS_LOADED="EXPLORER_IS_LOADED",t.EXPLORER_UPDATE_SEARCH_TERMS="EXPLORER_UPDATE_SEARCH_TERMS",t.EXPLORER_UPDATE_FILTERS="EXPLORER_UPDATE_FILTERS",t.FILTER_EXPLORER_OPEN="FILTER_EXPLORER_OPEN",t.FILTER_EXPLORER_CLOSE="FILTER_EXPLORER_CLOSE",t.FILTER_EXPLORER_REQUEST="FILTER_EXPLORER_REQUEST",t.FILTER_EXPLORER_SUCCESS="FILTER_EXPLORER_SUCCESS",t.FILTER_EXPLORER_FAILED="FILTER_EXPLORER_FAILED",t.FILTER_EXPLORER_UPDATE="FILTER_EXPLORER_UPDATE",t.FILTER_EXPLORER_RESET="FILTER_EXPLORER_RESET",t.KEYBOARD_EVENT_ESCAPE="KEYBOARD_EVENT_ESCAPE",t.KEYBOARD_EVENT_SPACE="KEYBOARD_EVENT_SPACE",t.LOGIN_CHECK_DISCONNECTED="LOGIN_CHECK_DISCONNECTED",t.LOGIN_CHECK_CONNECTED="LOGIN_CHECK_CONNECTED",t.HEALTH_CHECK_FAILED="HEALTH_CHECK_FAILED",t.HEALTH_CHECK_SUCCEEDED="HEALTH_CHECK_SUCCEEDED",t.DRAWERS_ADD_INSTANCE="DRAWERS_ADD_INSTANCE",t.DRAWERS_REMOVE_INSTANCE="DRAWERS_REMOVE_INSTANCE",t.DRAWERS_ADD_ITEM="DRAWERS_ADD_DOCUMENT",t.DRAWERS_REMOVE_ITEM="DRAWERS_REMOVE_DOCUMENT",t.DRAWERS_EDIT_INSTANCE="DRAWERS_EDIT_INSTANCE",t.DRAWERS_UPDATE_LIST="DRAWERS_UPDATE_LIST",t.DRAWERS_ENABLE_DROPZONE="DRAWERS_ENABLE_DROPZONE",t.DRAWERS_DISABLE_DROPZONE="DRAWERS_DISABLE_DROPZONE",t.DRAWERS_INIT_DATA_REQUEST="DRAWERS_INIT_DATA_REQUEST",t.DRAWERS_INIT_DATA_REQUEST_SUCCESS="DRAWERS_INIT_DATA_REQUEST_SUCCESS",t.DRAWERS_INIT_DATA_REQUEST_FAILED="DRAWERS_INIT_DATA_REQUEST_FAILED",t.DRAWERS_INIT_DATA_REQUEST_EMPTY="DRAWERS_INIT_DATA_REQUEST_EMPTY",t.TAGS_UPDATE_VALUE="TAGS_UPDATE_VALUE",t.TAGS_REQUEST="TAGS_REQUEST",t.TAGS_REQUEST_SUCCESS="TAGS_REQUEST_SUCCESS",t.TAGS_REQUEST_ERROR="TAGS_REQUEST_ERROR",t.TAG_CREATE_NEW_REQUEST="TAG_CREATE_NEW_REQUEST",t.TAG_CREATE_NEW_REQUEST_SUCCESS="TAG_CREATE_NEW_REQUEST_SUCCESS",t.TAG_CREATE_NEW_REQUEST_ERROR="TAG_CREATE_NEW_REQUEST_ERROR",t.TAG_CREATOR_READY="TAG_CREATOR_READY",t.DOCUMENT_PREVIEW_INIT="DOCUMENT_PREVIEW_INIT",t.DOCUMENT_PREVIEW_DESTROY="DOCUMENT_PREVIEW_DESTROY",t.DOCUMENT_PREVIEW_OPEN="DOCUMENT_PREVIEW_OPEN",t.DOCUMENT_PREVIEW_CLOSE="DOCUMENT_PREVIEW_CLOSE",t.BLANCHETTE_EDITOR_INIT="BLANCHETTE_EDITOR_INIT",t.BLANCHETTE_EDITOR_IS_LOADING="BLANCHETTE_EDITOR_IS_LOADING",t.BLANCHETTE_EDITOR_LOADED="BLANCHETTE_EDITOR_LOADED",t.BLANCHETTE_EDITOR_ERROR="BLANCHETTE_EDITOR_ERROR",t.BLANCHETTE_EDITOR_SAVE_SUCCESS="BLANCHETTE_EDITOR_SAVE_SUCCESS"},xlJi:function(e,t){},ygC5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?n("div",{staticClass:"filter-widget-explorer"},[n("ul",{staticClass:"filters-items"},[n("li",{staticClass:"filters-infos"},[n("div",{staticClass:"infos-content"},[n("transition",{attrs:{name:"fade"}},[e.itemCount||0===e.itemCount?n("div",[n("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v("\n                            "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+"\n                        ")]):e._e()])],1)]),e._v(" "),n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onResetClick(t)}}},[n("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+"\n                ")])]),e._v(" "),e._l(e.items,function(t,i){return n("filter-explorer-item",{key:i,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:t}})})],2)]):e._e()])},staticRenderFns:[]};t.default=i},ywca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4YKS"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("G7TI"),s=n.n(o),l=n("/4AN")(a.a,s.a,!1,null,null,null);t.default=l.exports}},["9wWa"]);