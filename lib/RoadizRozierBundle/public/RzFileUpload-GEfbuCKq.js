import{g as K}from"./jquery-BCX6_a_s.js";import{s as Z,f as $}from"./main-DUpE_d8H.js";import"./vue-BqDQd3Vv.js";var O={exports:{}},H;function V(){return H||(H=1,(function(A){var w=(function(){function p(l,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,o,e){return o&&p(l.prototype,o),e&&p(l,e),l}})();function k(p,l){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:p}function F(p,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);p.prototype=Object.create(l&&l.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(p,l):p.__proto__=l)}function L(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}var P=(function(){function p(){L(this,p)}return w(p,[{key:"on",value:function(o,e){return this._callbacks=this._callbacks||{},this._callbacks[o]||(this._callbacks[o]=[]),this._callbacks[o].push(e),this}},{key:"emit",value:function(o){this._callbacks=this._callbacks||{};var e=this._callbacks[o];if(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var s=e,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var u;if(a){if(r>=s.length)break;u=s[r++]}else{if(r=s.next(),r.done)break;u=r.value}var d=u;d.apply(this,n)}}return this}},{key:"off",value:function(o,e){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var t=this._callbacks[o];if(!t)return this;if(arguments.length===1)return delete this._callbacks[o],this;for(var n=0;n<t.length;n++){var i=t[n];if(i===e){t.splice(n,1);break}}return this}}]),p})(),g=(function(p){F(l,p),w(l,null,[{key:"initClass",value:function(){this.prototype.Emitter=P,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,n,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(t,n){return n()},chunksUploaded:function(t,n){n()},fallback:function(){var t=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var a=this.element.getElementsByTagName("div"),n=!0,i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var s=r;if(/(^| )dz-message($| )/.test(s.className)){t=s,s.className="dz-message";break}}t||(t=l.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var u=t.getElementsByTagName("span")[0];return u&&(u.textContent!=null?u.textContent=this.options.dictFallbackMessage:u.innerText!=null&&(u.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,n,i,a){var r={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},s=t.width/t.height;n==null&&i==null?(n=r.srcWidth,i=r.srcHeight):n==null?n=i*s:i==null&&(i=n/s),n=Math.min(n,r.srcWidth),i=Math.min(i,r.srcHeight);var u=n/i;if(r.srcWidth>n||r.srcHeight>i)if(a==="crop")s>u?(r.srcHeight=t.height,r.srcWidth=r.srcHeight*u):(r.srcWidth=t.width,r.srcHeight=r.srcWidth/u);else if(a==="contain")s>u?i=n/s:n=i*s;else throw new Error("Unknown resizeMethod '"+a+"'");return r.srcX=(t.width-r.srcWidth)/2,r.srcY=(t.height-r.srcHeight)/2,r.trgWidth=n,r.trgHeight=i,r},transformFile:function(t,n){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,n):n(t)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=l.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);for(var r=t.previewElement.querySelectorAll("[data-dz-name]"),i=!0,a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if(a=r.next(),a.done)break;s=a.value}var u=s;u.textContent=t.name}for(var h=t.previewElement.querySelectorAll("[data-dz-size]"),d=!0,c=0,h=d?h:h[Symbol.iterator]();;){if(d){if(c>=h.length)break;u=h[c++]}else{if(c=h.next(),c.done)break;u=c.value}u.innerHTML=this.filesize(t.size)}this.options.addRemoveLinks&&(t._removeLink=l.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));for(var f=function(M){return M.preventDefault(),M.stopPropagation(),t.status===l.UPLOADING?l.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?l.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)},b=t.previewElement.querySelectorAll("[data-dz-remove]"),v=!0,m=0,b=v?b:b[Symbol.iterator]();;){var y;if(v){if(m>=b.length)break;y=b[m++]}else{if(m=b.next(),m.done)break;y=m.value}var x=y;x.addEventListener("click",f)}}},removedfile:function(t){return t.previewElement!=null&&t.previewElement.parentNode!=null&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,n){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(var r=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=!0,a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if(a=r.next(),a.done)break;s=a.value}var u=s;u.alt=t.name,u.src=n}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,n){if(t.previewElement){t.previewElement.classList.add("dz-error"),typeof n!="String"&&n.error&&(n=n.error);for(var r=t.previewElement.querySelectorAll("[data-dz-errormessage]"),i=!0,a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if(a=r.next(),a.done)break;s=a.value}var u=s;u.textContent=n}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,n,i){if(t.previewElement)for(var s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var u;if(a){if(r>=s.length)break;u=s[r++]}else{if(r=s.next(),r.done)break;u=r.value}var d=u;d.nodeName==="PROGRESS"?d.value=n:d.style.width=n+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var s=n,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var u;if(a){if(r>=s.length)break;u=s[r++]}else{if(r=s.next(),r.done)break;u=r.value}var d=u;for(var c in d){var h=d[c];e[c]=h}}return e}}]);function l(o,e){L(this,l);var t=k(this,(l.__proto__||Object.getPrototypeOf(l)).call(this)),n=void 0,i=void 0;if(t.element=o,t.version=l.version,t.defaultOptions.previewTemplate=t.defaultOptions.previewTemplate.replace(/\n*/g,""),t.clickableElements=[],t.listeners=[],t.files=[],typeof t.element=="string"&&(t.element=document.querySelector(t.element)),!t.element||t.element.nodeType==null)throw new Error("Invalid dropzone element.");if(t.element.dropzone)throw new Error("Dropzone already attached.");l.instances.push(t),t.element.dropzone=t;var a=(i=l.optionsForElement(t.element))!=null?i:{};if(t.options=l.extend({},t.defaultOptions,a,e??{}),t.options.forceFallback||!l.isBrowserSupported()){var r;return r=t.options.fallback.call(t),k(t,r)}if(t.options.url==null&&(t.options.url=t.element.getAttribute("action")),!t.options.url)throw new Error("No URL provided.");if(t.options.acceptedFiles&&t.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(t.options.uploadMultiple&&t.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return t.options.acceptedMimeTypes&&(t.options.acceptedFiles=t.options.acceptedMimeTypes,delete t.options.acceptedMimeTypes),t.options.renameFilename!=null&&(t.options.renameFile=function(s){return t.options.renameFilename.call(t,s.name,s)}),t.options.method=t.options.method.toUpperCase(),(n=t.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),t.options.previewsContainer!==!1&&(t.options.previewsContainer?t.previewsContainer=l.getElement(t.options.previewsContainer,"previewsContainer"):t.previewsContainer=t.element),t.options.clickable&&(t.options.clickable===!0?t.clickableElements=[t.element]:t.clickableElements=l.getElements(t.options.clickable,"clickable")),t.init(),t}return w(l,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(l.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(l.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(l.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===l.UPLOADING||e.status===l.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(l.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var t=function d(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(e.options.maxFiles===null||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",e.options.acceptedFiles!==null&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),e.options.capture!==null&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",l.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var c=e.hiddenFileInput.files;if(c.length)for(var v=c,h=!0,f=0,v=h?v:v[Symbol.iterator]();;){var m;if(h){if(f>=v.length)break;m=v[f++]}else{if(f=v.next(),f.done)break;m=f.value}var b=m;e.addFile(b)}return e.emit("addedfiles",c),d()})};t()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var a=this.events,n=!0,i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var s=r;this.on(s,this.options[s])}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(d){return e.emit("complete",d)}),this.on("complete",function(d){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0)return setTimeout(function(){return e.emit("queuecomplete")},0)});var u=function(c){return c.stopPropagation(),c.preventDefault?c.preventDefault():c.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(c){return e.emit("dragstart",c)},dragenter:function(c){return u(c),e.emit("dragenter",c)},dragover:function(c){var h=void 0;try{h=c.dataTransfer.effectAllowed}catch{}return c.dataTransfer.dropEffect=h==="move"||h==="linkMove"?"move":"copy",u(c),e.emit("dragover",c)},dragleave:function(c){return e.emit("dragleave",c)},drop:function(c){return u(c),e.drop(c)},dragend:function(c){return e.emit("dragend",c)}}}],this.clickableElements.forEach(function(d){return e.listeners.push({element:d,events:{click:function(h){return(d!==e.element||h.target===e.element||l.elementInside(h.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,l.instances.splice(l.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0,i=this.getActiveFiles();if(i.length){for(var s=this.getActiveFiles(),a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var u;if(a){if(r>=s.length)break;u=s[r++]}else{if(r=s.next(),r.done)break;u=r.value}var d=u;t+=d.upload.bytesSent,n+=d.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return typeof this.options.paramName=="function"?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e=void 0,t=void 0;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var i=l.createElement(n);return this.element.tagName!=="FORM"?(t=l.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),t.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t??i}},{key:"getExistingFallback",value:function(){for(var e=function(s){for(var c=s,u=!0,d=0,c=u?c:c[Symbol.iterator]();;){var h;if(u){if(d>=c.length)break;h=c[d++]}else{if(d=c.next(),d.done)break;h=d.value}var f=h;if(/(^| )fallback($| )/.test(f.className))return f}},t=["div","form"],n=0;n<t.length;n++){var i=t[n],a;if(a=e(this.element.getElementsByTagName(i)))return a}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return(function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t})()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return(function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t})()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],a=0;a<i.length;a++){var r=i[a],s=Math.pow(this.options.filesizeBase,4-a)/10;if(e>=s){t=e/Math.pow(this.options.filesizeBase,4-a),n=r;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var i=e.dataTransfer.items;i&&i.length&&i[0].webkitGetAsEntry!=null?this._addFilesFromItems(i):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(Y(e!=null?e.clipboardData:void 0,function(n){return n.items})!=null){this.emit("paste",e);var t=e.clipboardData.items;if(t.length)return this._addFilesFromItems(t)}}},{key:"handleFiles",value:function(e){for(var i=e,t=!0,n=0,i=t?i:i[Symbol.iterator]();;){var a;if(t){if(n>=i.length)break;a=i[n++]}else{if(n=i.next(),n.done)break;a=n.value}var r=a;this.addFile(r)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return(function(){for(var n=[],r=e,i=!0,a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if(a=r.next(),a.done)break;s=a.value}var u=s,d;u.webkitGetAsEntry!=null&&(d=u.webkitGetAsEntry())?d.isFile?n.push(t.addFile(u.getAsFile())):d.isDirectory?n.push(t._addFilesFromDirectory(d,d.name)):n.push(void 0):u.getAsFile!=null&&(u.kind==null||u.kind==="file")?n.push(t.addFile(u.getAsFile())):n.push(void 0)}return n})()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),a=function(u){return X(console,"log",function(d){return d.log(u)})},r=function s(){return i.readEntries(function(u){if(u.length>0){for(var h=u,d=!0,c=0,h=d?h:h[Symbol.iterator]();;){var f;if(d){if(c>=h.length)break;f=h[c++]}else{if(c=h.next(),c.done)break;f=c.value}var v=f;v.isFile?v.file(function(m){if(!(n.options.ignoreHiddenFiles&&m.name.substring(0,1)==="."))return m.fullPath=t+"/"+m.name,n.addFile(m)}):v.isDirectory&&n._addFilesFromDirectory(v,t+"/"+v.name)}s()}return null},a)};return r()}},{key:"accept",value:function(e,t){return this.options.maxFilesize&&e.size>this.options.maxFilesize*1024*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):l.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;return e.upload={uuid:l.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=l.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){for(var i=e,t=!0,n=0,i=t?i:i[Symbol.iterator]();;){var a;if(t){if(n>=i.length)break;a=i[n++]}else{if(n=i.next(),n.done)break;a=n.value}var r=a;this.enqueueFile(r)}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status===l.ADDED&&e.accepted===!0){if(e.status=l.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===l.UPLOADING&&this.cancelUpload(e),this.files=Q(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){e==null&&(e=!1);for(var i=this.files.slice(),t=!0,n=0,i=t?i:i[Symbol.iterator]();;){var a;if(t){if(n>=i.length)break;a=i[n++]}else{if(n=i.next(),n.done)break;a=n.value}var r=a;(r.status!==l.UPLOADING||e)&&this.removeFile(r)}return null}},{key:"resizeImage",value:function(e,t,n,i,a){var r=this;return this.createThumbnail(e,t,n,i,!0,function(s,u){if(u==null)return a(e);var d=r.options.resizeMimeType;d==null&&(d=e.type);var c=u.toDataURL(d,r.options.resizeQuality);return(d==="image/jpeg"||d==="image/jpg")&&(c=N.restore(e.dataURL,c)),a(l.dataURItoBlob(c))})}},{key:"createThumbnail",value:function(e,t,n,i,a,r){var s=this,u=new FileReader;return u.onload=function(){if(e.dataURL=u.result,e.type==="image/svg+xml"){r!=null&&r(u.result);return}return s.createThumbnailFromUrl(e,t,n,i,a,r)},u.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,a,r,s){var u=this,d=document.createElement("img");return s&&(d.crossOrigin=s),d.onload=function(){var c=function(f){return f(1)};return typeof EXIF<"u"&&EXIF!==null&&a&&(c=function(f){return EXIF.getData(d,function(){return f(EXIF.getTag(this,"Orientation"))})}),c(function(h){e.width=d.width,e.height=d.height;var f=u.options.resize.call(u,e,t,n,i),v=document.createElement("canvas"),m=v.getContext("2d");switch(v.width=f.trgWidth,v.height=f.trgHeight,h>4&&(v.width=f.trgHeight,v.height=f.trgWidth),h){case 2:m.translate(v.width,0),m.scale(-1,1);break;case 3:m.translate(v.width,v.height),m.rotate(Math.PI);break;case 4:m.translate(0,v.height),m.scale(1,-1);break;case 5:m.rotate(.5*Math.PI),m.scale(1,-1);break;case 6:m.rotate(.5*Math.PI),m.translate(0,-v.width);break;case 7:m.rotate(.5*Math.PI),m.translate(v.height,-v.width),m.scale(-1,1);break;case 8:m.rotate(-.5*Math.PI),m.translate(-v.height,0);break}j(m,d,f.srcX!=null?f.srcX:0,f.srcY!=null?f.srcY:0,f.srcWidth,f.srcHeight,f.trgX!=null?f.trgX:0,f.trgY!=null?f.trgY:0,f.trgWidth,f.trgHeight);var b=v.toDataURL("image/png");if(r!=null)return r(b,v)})},r!=null&&(d.onerror=r),d.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var i=e,t=!0,n=0,i=t?i:i[Symbol.iterator]();;){var a;if(t){if(n>=i.length)break;a=i[n++]}else{if(n=i.next(),n.done)break;a=n.value}var r=a;r.processing=!0,r.status=l.UPLOADING,this.emit("processing",r)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(t){return t})}},{key:"cancelUpload",value:function(e){if(e.status===l.UPLOADING){for(var t=this._getFilesWithXhr(e.xhr),a=t,n=!0,i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var s=r;s.status=l.CANCELED}typeof e.xhr<"u"&&e.xhr.abort();for(var c=t,u=!0,d=0,c=u?c:c[Symbol.iterator]();;){var h;if(u){if(d>=c.length)break;h=c[d++]}else{if(d=c.next(),d.done)break;h=d.value}var f=h;this.emit("canceled",f)}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else(e.status===l.ADDED||e.status===l.QUEUED)&&(e.status=l.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if(typeof e=="function"){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,function(n){if(e[0].upload.chunked){var i=e[0],a=n[0];i.upload.chunks=[];var r=function(){for(var h=0;i.upload.chunks[h]!==void 0;)h++;if(!(h>=i.upload.totalChunkCount)){var f=h*t.options.chunkSize,v=Math.min(f+t.options.chunkSize,i.size),m={name:t._getParamName(0),data:a.webkitSlice?a.webkitSlice(f,v):a.slice(f,v),filename:i.upload.filename,chunkIndex:h};i.upload.chunks[h]={file:i,index:h,dataBlock:m,status:l.UPLOADING,progress:0,retries:0},t._uploadData(e,[m])}};if(i.upload.finishedChunkUpload=function(c){var h=!0;c.status=l.SUCCESS,c.dataBlock=null,c.xhr=null;for(var f=0;f<i.upload.totalChunkCount;f++){if(i.upload.chunks[f]===void 0)return r();i.upload.chunks[f].status!==l.SUCCESS&&(h=!1)}h&&t.options.chunksUploaded(i,function(){t._finished(e,"",null)})},t.options.parallelChunkUploads)for(var s=0;s<i.upload.totalChunkCount;s++)r();else r()}else{for(var u=[],d=0;d<e.length;d++)u[d]={name:t._getParamName(d),data:n[d],filename:e[d].upload.filename};t._uploadData(e,u)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(e.upload.chunks[n]!==void 0&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){for(var n=this,i=new XMLHttpRequest,s=e,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var u;if(a){if(r>=s.length)break;u=s[r++]}else{if(r=s.next(),r.done)break;u=r.value}var d=u;d.xhr=i}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=i);var c=this.resolveOption(this.options.method,e),h=this.resolveOption(this.options.url,e);i.open(c,h,!0),i.timeout=this.resolveOption(this.options.timeout,e),i.withCredentials=!!this.options.withCredentials,i.onload=function(T){n._finishedUploading(e,i,T)},i.onerror=function(){n._handleUploadError(e,i)};var f=i.upload!=null?i.upload:i;f.onprogress=function(T){return n._updateFilesUploadProgress(e,i,T)};var v={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&l.extend(v,this.options.headers);for(var m in v){var b=v[m];b&&i.setRequestHeader(m,b)}var y=new FormData;if(this.options.params){var x=this.options.params;typeof x=="function"&&(x=x.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null));for(var R in x){var M=x[R];y.append(R,M)}}for(var z=e,D=!0,E=0,z=D?z:z[Symbol.iterator]();;){var C;if(D){if(E>=z.length)break;C=z[E++]}else{if(E=z.next(),E.done)break;C=E.value}var I=C;this.emit("sending",I,i,y)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,y),this._addFormElementData(y);for(var U=0;U<t.length;U++){var S=t[U];y.append(S.name,S.data,S.filename)}this.submitRequest(i,y,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],a=0,r=function(d){n.options.transformFile.call(n,e[d],function(c){i[d]=c,++a===e.length&&t(i)})},s=0;s<e.length;s++)r(s)}},{key:"_addFormElementData",value:function(e){if(this.element.tagName==="FORM")for(var i=this.element.querySelectorAll("input, textarea, select, button"),t=!0,n=0,i=t?i:i[Symbol.iterator]();;){var a;if(t){if(n>=i.length)break;a=i[n++]}else{if(n=i.next(),n.done)break;a=n.value}var r=a,s=r.getAttribute("name"),u=r.getAttribute("type");if(u&&(u=u.toLowerCase()),!(typeof s>"u"||s===null))if(r.tagName==="SELECT"&&r.hasAttribute("multiple"))for(var h=r.options,d=!0,c=0,h=d?h:h[Symbol.iterator]();;){var f;if(d){if(c>=h.length)break;f=h[c++]}else{if(c=h.next(),c.done)break;f=c.value}var v=f;v.selected&&e.append(s,v.value)}else(!u||u!=="checkbox"&&u!=="radio"||r.checked)&&e.append(s,r.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i=void 0;if(typeof n<"u"){if(i=100*n.loaded/n.total,e[0].upload.chunked){var a=e[0],r=this._getChunk(a,t);r.progress=i,r.total=n.total,r.bytesSent=n.loaded,a.upload.progress=0,a.upload.total=0,a.upload.bytesSent=0;for(var s=0;s<a.upload.totalChunkCount;s++)a.upload.chunks[s]!==void 0&&a.upload.chunks[s].progress!==void 0&&(a.upload.progress+=a.upload.chunks[s].progress,a.upload.total+=a.upload.chunks[s].total,a.upload.bytesSent+=a.upload.chunks[s].bytesSent);a.upload.progress=a.upload.progress/a.upload.totalChunkCount}else for(var c=e,u=!0,d=0,c=u?c:c[Symbol.iterator]();;){var h;if(u){if(d>=c.length)break;h=c[d++]}else{if(d=c.next(),d.done)break;h=d.value}var f=h;f.upload.progress=i,f.upload.total=n.total,f.upload.bytesSent=n.loaded}for(var b=e,v=!0,m=0,b=v?b:b[Symbol.iterator]();;){var y;if(v){if(m>=b.length)break;y=b[m++]}else{if(m=b.next(),m.done)break;y=m.value}var x=y;this.emit("uploadprogress",x,x.upload.progress,x.upload.bytesSent)}}else{var R=!0;i=100;for(var E=e,M=!0,D=0,E=M?E:E[Symbol.iterator]();;){var z;if(M){if(D>=E.length)break;z=E[D++]}else{if(D=E.next(),D.done)break;z=D.value}var C=z;(C.upload.progress!==100||C.upload.bytesSent!==C.upload.total)&&(R=!1),C.upload.progress=i,C.upload.bytesSent=C.upload.total}if(R)return;for(var S=e,I=!0,U=0,S=I?S:S[Symbol.iterator]();;){var T;if(I){if(U>=S.length)break;T=S[U++]}else{if(U=S.next(),U.done)break;T=U.value}var q=T;this.emit("uploadprogress",q,i,q.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,t,n){var i=void 0;if(e[0].status!==l.CANCELED&&t.readyState===4){if(t.responseType!=="arraybuffer"&&t.responseType!=="blob"&&(i=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(a){n=a,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,i,n):this._handleUploadError(e,t,i)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==l.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],t);if(i.retries++<this.options.retryChunksLimit){this._uploadData(e,[i.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var s=e,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){if(a){if(r>=s.length)break;s[r++]}else{if(r=s.next(),r.done)break;r.value}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,t,n){for(var r=e,i=!0,a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if(a=r.next(),a.done)break;s=a.value}var u=s;u.status=l.SUCCESS,this.emit("success",u,t,n),this.emit("complete",u)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){for(var r=e,i=!0,a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if(a=r.next(),a.done)break;s=a.value}var u=s;u.status=l.ERROR,this.emit("error",u,t,n),this.emit("complete",u)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}}]),l})(P);g.initClass(),g.version="5.5.1",g.options={},g.optionsForElement=function(p){if(p.getAttribute("id"))return g.options[W(p.getAttribute("id"))]},g.instances=[],g.forElement=function(p){if(typeof p=="string"&&(p=document.querySelector(p)),(p!=null?p.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return p.dropzone},g.autoDiscover=!0,g.discover=function(){var p=void 0;if(document.querySelectorAll)p=document.querySelectorAll(".dropzone");else{p=[];var l=function(e){return(function(){for(var t=[],a=e,n=!0,i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var s=r;/(^| )dropzone($| )/.test(s.className)?t.push(p.push(s)):t.push(void 0)}return t})()};l(document.getElementsByTagName("div")),l(document.getElementsByTagName("form"))}return(function(){for(var o=[],n=p,e=!0,t=0,n=e?n:n[Symbol.iterator]();;){var i;if(e){if(t>=n.length)break;i=n[t++]}else{if(t=n.next(),t.done)break;i=t.value}var a=i;g.optionsForElement(a)!==!1?o.push(new g(a)):o.push(void 0)}return o})()},g.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],g.isBrowserSupported=function(){var p=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))p=!1;else for(var e=g.blacklistedBrowsers,l=!0,o=0,e=l?e:e[Symbol.iterator]();;){var t;if(l){if(o>=e.length)break;t=e[o++]}else{if(o=e.next(),o.done)break;t=o.value}var n=t;if(n.test(navigator.userAgent)){p=!1;continue}}else p=!1;return p},g.dataURItoBlob=function(p){for(var l=atob(p.split(",")[1]),o=p.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(l.length),t=new Uint8Array(e),n=0,i=l.length,a=0<=i;a?n<=i:n>=i;a?n++:n--)t[n]=l.charCodeAt(n);return new Blob([e],{type:o})};var Q=function(l,o){return l.filter(function(e){return e!==o}).map(function(e){return e})},W=function(l){return l.replace(/[\-_](\w)/g,function(o){return o.charAt(1).toUpperCase()})};g.createElement=function(p){var l=document.createElement("div");return l.innerHTML=p,l.childNodes[0]},g.elementInside=function(p,l){if(p===l)return!0;for(;p=p.parentNode;)if(p===l)return!0;return!1},g.getElement=function(p,l){var o=void 0;if(typeof p=="string"?o=document.querySelector(p):p.nodeType!=null&&(o=p),o==null)throw new Error("Invalid `"+l+"` option provided. Please provide a CSS selector or a plain HTML element.");return o},g.getElements=function(p,l){var o=void 0,e=void 0;if(p instanceof Array){e=[];try{for(var i=p,t=!0,n=0,i=t?i:i[Symbol.iterator]();;){if(t){if(n>=i.length)break;o=i[n++]}else{if(n=i.next(),n.done)break;o=n.value}e.push(this.getElement(o,l))}}catch{e=null}}else if(typeof p=="string"){e=[];for(var s=document.querySelectorAll(p),a=!0,r=0,s=a?s:s[Symbol.iterator]();;){if(a){if(r>=s.length)break;o=s[r++]}else{if(r=s.next(),r.done)break;o=r.value}e.push(o)}}else p.nodeType!=null&&(e=[p]);if(e==null||!e.length)throw new Error("Invalid `"+l+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return e},g.confirm=function(p,l,o){if(window.confirm(p))return l();if(o!=null)return o()},g.isValidFile=function(p,l){if(!l)return!0;l=l.split(",");for(var o=p.type,e=o.replace(/\/.*$/,""),i=l,t=!0,n=0,i=t?i:i[Symbol.iterator]();;){var a;if(t){if(n>=i.length)break;a=i[n++]}else{if(n=i.next(),n.done)break;a=n.value}var r=a;if(r=r.trim(),r.charAt(0)==="."){if(p.name.toLowerCase().indexOf(r.toLowerCase(),p.name.length-r.length)!==-1)return!0}else if(/\/\*$/.test(r)){if(e===r.replace(/\/.*$/,""))return!0}else if(o===r)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(p){return this.each(function(){return new g(this,p)})}),A!==null?A.exports=g:window.Dropzone=g,g.ADDED="added",g.QUEUED="queued",g.ACCEPTED=g.QUEUED,g.UPLOADING="uploading",g.PROCESSING=g.UPLOADING,g.CANCELED="canceled",g.ERROR="error",g.SUCCESS="success";var B=function(l){l.naturalWidth;var o=l.naturalHeight,e=document.createElement("canvas");e.width=1,e.height=o;var t=e.getContext("2d");t.drawImage(l,0,0);for(var n=t.getImageData(1,0,1,o),i=n.data,a=0,r=o,s=o;s>a;){var u=i[(s-1)*4+3];u===0?r=s:a=s,s=r+a>>1}var d=s/o;return d===0?1:d},j=function(l,o,e,t,n,i,a,r,s,u){var d=B(o);return l.drawImage(o,e,t,n,i,a,r,s,u/d)},N=(function(){function p(){L(this,p)}return w(p,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(o){for(var e="",t=void 0,n=void 0,i="",a=void 0,r=void 0,s=void 0,u="",d=0;t=o[d++],n=o[d++],i=o[d++],a=t>>2,r=(t&3)<<4|n>>4,s=(n&15)<<2|i>>6,u=i&63,isNaN(n)?s=u=64:isNaN(i)&&(u=64),e=e+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u),t=n=i="",a=r=s=u="",d<o.length;);return e}},{key:"restore",value:function(o,e){if(!o.match("data:image/jpeg;base64,"))return e;var t=this.decode64(o.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(t),i=this.exifManipulation(e,n);return"data:image/jpeg;base64,"+this.encode64(i)}},{key:"exifManipulation",value:function(o,e){var t=this.getExifArray(e),n=this.insertExif(o,t),i=new Uint8Array(n);return i}},{key:"getExifArray",value:function(o){for(var e=void 0,t=0;t<o.length;){if(e=o[t],e[0]===255&e[1]===225)return e;t++}return[]}},{key:"insertExif",value:function(o,e){var t=o.replace("data:image/jpeg;base64,",""),n=this.decode64(t),i=n.indexOf(255,3),a=n.slice(0,i),r=n.slice(i),s=a;return s=s.concat(e),s=s.concat(r),s}},{key:"slice2Segments",value:function(o){for(var e=0,t=[];;){var n;if(o[e]===255&o[e+1]===218)break;if(o[e]===255&o[e+1]===216)e+=2;else{n=o[e+2]*256+o[e+3];var i=e+n+2,a=o.slice(e,i);t.push(a),e=i}if(e>o.length)break}return t}},{key:"decode64",value:function(o){var e=void 0,t=void 0,n="",i=void 0,a=void 0,r=void 0,s="",u=0,d=[],c=/[^A-Za-z0-9\+\/\=]/g;for(c.exec(o)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),o=o.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=this.KEY_STR.indexOf(o.charAt(u++)),a=this.KEY_STR.indexOf(o.charAt(u++)),r=this.KEY_STR.indexOf(o.charAt(u++)),s=this.KEY_STR.indexOf(o.charAt(u++)),e=i<<2|a>>4,t=(a&15)<<4|r>>2,n=(r&3)<<6|s,d.push(e),r!==64&&d.push(t),s!==64&&d.push(n),e=t=n="",i=a=r=s="",u<o.length;);return d}}]),p})();N.initClass();var G=function(l,o){var e=!1,t=!0,n=l.document,i=n.documentElement,a=n.addEventListener?"addEventListener":"attachEvent",r=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",u=function c(h){if(!(h.type==="readystatechange"&&n.readyState!=="complete")&&((h.type==="load"?l:n)[r](s+h.type,c,!1),!e&&(e=!0)))return o.call(l,h.type||h)},d=function c(){try{i.doScroll("left")}catch{setTimeout(c,50);return}return u("poll")};if(n.readyState!=="complete"){if(n.createEventObject&&i.doScroll){try{t=!l.frameElement}catch{}t&&d()}return n[a](s+"DOMContentLoaded",u,!1),n[a](s+"readystatechange",u,!1),l[a](s+"load",u,!1)}};g._autoDiscoverFunction=function(){if(g.autoDiscover)return g.discover()},G(window,g._autoDiscoverFunction);function Y(p,l){return typeof p<"u"&&p!==null?l(p):void 0}function X(p,l,o){if(typeof p<"u"&&p!==null&&typeof p[l]=="function")return o(p,l)}})(O)),O.exports}var J=V();const _=K(J);class ie extends HTMLElement{constructor(){var w,k,F,L;super(),this.dropzone=null,this.options={...(k=(w=window.RozierConfig)==null?void 0:w.messages)==null?void 0:k.dropzone,url:this.getAttribute("url")||((F=window.RozierConfig.routes)==null?void 0:F.documentsUploadPage),paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:((L=window.RozierConfig)==null?void 0:L.ajaxToken)||""}}}connectedCallback(){this.dropzone=new _(this,this.options),this.dropzone.on("addedfile",k=>{this.dispatchEvent(new CustomEvent("addedfile",{detail:{file:k}}))}),this.dropzone.on("success",async(k,F)=>{if(this.dispatchEvent(new CustomEvent("success",{detail:{file:k,response:F}})),k.previewElement){const L=k.previewElement;await Z(3e3),await $(L,500),L.remove()}window.Rozier.getMessages()}),this.dropzone.on("canceled",(k,F)=>{this.dispatchEvent(new CustomEvent("canceled",{detail:{file:k,data:F}})),window.Rozier.getMessages()}),this.dropzone.on("error",(k,F)=>{this.dispatchEvent(new CustomEvent("error",{detail:{file:k,errorMessage:F}}))}),this.dropzone.on("sending",(k,F)=>{this.dispatchEvent(new CustomEvent("sending",{detail:{file:k,xhr:F}})),F.ontimeout=()=>{this.dispatchEvent(new CustomEvent("timeout",{detail:{file:k,xhr:F}}))}}),this.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`);const w=this.querySelector(".dz-message");w&&w.insertAdjacentHTML("beforeend",`
                    <div class="circles-icons">
                        <div class="circle circle-1"></div>
                        <div class="circle circle-2"></div>
                        <div class="circle circle-3"></div>
                        <div class="circle circle-4"></div>
                        <div class="circle circle-5"></div>
                        <i class="uk-icon-rz-file"></i>
                    </div>`)}disconnectedCallback(){this.dropzone!==null&&(this.dropzone.destroy(),this.dropzone=null)}}export{ie as default};
