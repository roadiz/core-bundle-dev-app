webpackJsonp([1],{"+VLV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("dACh")),i=a(n("jx4H"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,r.default)(this,e),this.textarea=t,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;for(var i=[],a=1;a<19;a++)i.push({column:this.tabSize*a,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});var o={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:i,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled"),extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(o.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,o),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(function(){document.querySelectorAll("[data-uk-switcher]").forEach(function(t){t.addEventListener("show.uk.switcher",e.forceEditorUpdate)}),e.forceEditorUpdate()}))}},{key:"forceEditorUpdate",value:function(){this.editor.refresh()}},{key:"textareaChange",value:function(){this.editor.save()}},{key:"textareaFocus",value:function(){this.cont.classList.add("form-col-focus")}},{key:"textareaBlur",value:function(){this.cont.classList.remove("form-col-focus")}},{key:"destroy",value:function(){}},{key:"resize",value:function(){}}]),e}();t.default=o},"+hDt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("e1f4")),i=function(e){return e&&e.__esModule?e:{default:e}}(n("XEtd"));t.default={data:function(){return{modalWidth:656,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:i.default},mounted:function(){var e=this;this.modalWidth=window.innerWidth<656?328:656,r.getImage().then(function(t){e.imageUrl=t}).finally(function(){e.$modal.show("warning-modal")})},methods:{close:function(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose:function(e){this.manualClose||e.stop()}}}},"+z8M":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;var r=o(n("aIIw")),i=o(n("L3Vt")),a=o(n("kcQR"));t.sleep=function(){var e=(0,a.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function o(e){return e&&e.__esModule?e:{default:e}}},"/rgl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=u(n("Xos8")),a=u(n("X9RM")),o=n("xHmi"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("RfA7"));function u(e){return e&&e.__esModule?e:{default:e}}var l={tagCreatorReady:function(e){(0,e.commit)(o.TAG_CREATOR_READY)},tagsCreate:function(e,t){var n=e.commit,r=e.dispatch,i=t.tagName;n(o.TAG_CREATE_NEW_REQUEST,{tagName:i}),s.createTag({tagName:i}).then(function(e){n(o.TAG_CREATE_NEW_REQUEST_SUCCESS,e),r("drawersAddItem",{item:e}),r("explorerResetSearchTerms")}).catch(function(e){n(o.TAG_CREATE_NEW_REQUEST_ERROR,e)})}},c=(r={},(0,i.default)(r,o.TAG_CREATOR_READY,function(e){e.isReady=!0}),(0,i.default)(r,o.EXPLORER_UPDATE_SEARCH_TERMS,function(e,t){var n=t.searchTerms;e.searchTerms=n}),(0,i.default)(r,o.EXPLORER_SUCCESS,function(e,t){var n=t.result;if(e.isTagExisting=!1,e.isReady&&""!==e.searchTerms){var r=!0,i=!1,o=void 0;try{for(var s,u=(0,a.default)(n.items);!(r=(s=u.next()).done);r=!0){var l=s.value;l.name&&e.searchTerms&&l.name.toLowerCase()===e.searchTerms.toLowerCase()&&(e.isTagExisting=!0)}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}}),(0,i.default)(r,o.TAG_CREATE_NEW_REQUEST,function(e){e.isLoading=!0}),(0,i.default)(r,o.TAG_CREATE_NEW_REQUEST_SUCCESS,function(e,t){e.isLoading=!1}),(0,i.default)(r,o.TAG_CREATE_NEW_REQUEST_ERROR,function(e,t){e.isLoading=!1,e.error=t.message}),r);t.default={state:{isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},getters:{tagsSearchExisting:function(e){return function(t,n){return e.isTagExisting}}},actions:l,mutations:c}},"0J/v":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"widget-explorer-logo rz-no-ajax-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onClick(t)}}},[n("i",{class:e.icon}),e._v(" "),e.filterExplorerSelectedItems?n("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},staticRenderFns:[]};t.default=r},"0iPh":function(e,t){e.exports=$},"0vVo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("L3Vt")),i=c(n("aIIw")),a=c(n("kcQR")),o=c(n("dACh")),s=c(n("jx4H")),u=c(n("T2ht")),l=n("inh7");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,o.default)(this,e),this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation a"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}return(0,s.default)(e,[{key:"getCurrentPage",value:function(){this.nodeTree=this.page.querySelector(".root-tree");var e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}},{key:"getTranslationId",value:function(){this.nodeTree=this.page.querySelector(".root-tree");var e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}},{key:"init",value:function(){var e=this;if(this.page){var t=this.page.querySelector(".nodetree-langs");t&&t.remove(),this.quickAddNodeButtons.forEach(function(t){t.addEventListener("click",e.onQuickAddClick)})}}},{key:"unbind",value:function(){var e=this;this.page&&this.quickAddNodeButtons.forEach(function(t){t.removeEventListener("click",e.onQuickAddClick)})}},{key:"quickAddNode",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:t,parentNodeId:n,translationId:this.getTranslationId(),tagId:a,pushTop:1})});case 3:if((r=e.sent).ok){e.next=8;break}return e.next=7,r.json();case 7:throw e.sent;case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onQuickAddClick",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,a,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.currentTarget,a=n.getAttribute("data-children-node-type"),o=parseInt(n.getAttribute("data-children-parent-node")),s=null,a&&!(o<=0)){e.next=7;break}return e.abrupt("return",!1);case 7:return n.hasAttribute("data-filter-tag")&&(s=parseInt(n.getAttribute("data-filter-tag"))),e.prev=8,e.next=11,this.quickAddNode(a,o,s);case 11:return e.next=13,r.default.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(o,s,1)]);case 13:return e.next=15,window.Rozier.getMessages();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),window.UIkit.notify({message:e.t0.error_message,status:"danger",timeout:3e3,pos:"top-center"});case 20:case"end":return e.stop()}},e,this,[[8,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"treeAvailable",value:function(){return!(!this.page||!this.page.querySelector(".nodetree-widget"))}},{key:"fetchNodeTree",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:t,page:o||this.getCurrentPage(),tagId:s,translationId:this.getTranslationId()}),r=window.RozierConfig.routes.nodesTreeAjax+"?"+n.toString(),e.next=5,fetch(r,{method:"GET",headers:{Accept:"application/json"}});case 5:if((a=e.sent).ok){e.next=10;break}return e.next=9,a.json();case 9:throw e.sent;case 10:return e.next=12,a.json();case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"refreshNodeTree",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,r){var a,o,s,c,d,f,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.page.querySelector(".nodetree-widget")){e.next=3;break}return e.abrupt("return");case 3:return o=a.querySelector(".root-tree"),void 0===t?(s=o.getAttribute("data-parent-node-id"),t=s?parseInt(s):null):t=parseInt(t),window.Rozier.lazyload.canvasLoader.show(),e.next=8,this.fetchNodeTree(t,r?parseInt(r):void 0,n?parseInt(n):void 0);case 8:if(!(c=e.sent).nodeTree){e.next=27;break}return e.next=12,(0,l.fadeOut)(a);case 12:return(d=document.createElement("div")).innerHTML=c.nodeTree,f=d.querySelector(".nodetree-widget"),a.replaceWith(f),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),e.next=21,(0,l.fadeIn)(f);case 21:window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree"),(h=this.page.querySelector(".nodetree-langs"))&&h.remove(),window.Rozier.lazyload.canvasLoader.hide(),window.Rozier.lazyload.nodeTreeContextActions=new u.default;case 27:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();t.default=d},"1+1T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=p(n("Xos8")),a=p(n("SJI6")),o=n("xHmi"),s=p(n("2byC")),u=p(n("7hA0")),l=p(n("DN71")),c=p(n("nY3t")),d=p(n("/rgl")),f=p(n("krmO")),h=p(n("fHvF"));function p(e){return e&&e.__esModule?e:{default:e}}t.default=new a.default.Store({modules:{nodesSourceSearch:s.default,explorer:u.default,filterExplorer:c.default,drawers:l.default,tags:d.default,documentPreview:f.default,blanchetteEditor:h.default},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:(r={},(0,i.default)(r,o.LOGIN_CHECK_CONNECTED,function(e){e.connected=!0}),(0,i.default)(r,o.LOGIN_CHECK_DISCONNECTED,function(e){e.connected=!1}),(0,i.default)(r,o.HEALTH_CHECK_SUCCEEDED,function(e){e.healthChecked=!0}),(0,i.default)(r,o.HEALTH_CHECK_FAILED,function(e){e.healthChecked=!1}),r),actions:{escape:function(e){(0,e.commit)(o.KEYBOARD_EVENT_ESCAPE)}}})},"1MrQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("+hDt"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("G65L"),s=n.n(o);var u=function(e){n("P+ed")},l=n("/4AN")(i.a,s.a,!1,u,"data-v-fe5ee7a8",null);t.default=l.exports},"1afk":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("aIIw")),i=s(n("kcQR")),a=s(n("dACh")),o=s(n("jx4H"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,[{key:"geoCode",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:t}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(i=e.sent)||!i[0]){e.next=8;break}return e.abrupt("return",i[0]);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=new u},"2LhJ":function(e,t,n){var r=n("GduZ");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("X/Wc")("1d905121",r,!0,{})},"2byC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=s(n("Xos8")),a=s(n("lS9x")),o=n("xHmi");function s(e){return e&&e.__esModule?e:{default:e}}var u={nodeSourceSearchEnableFocus:function(e){(0,e.commit)(o.NODES_SEARCH_ENABLE_FOCUS)},nodeSourceSearchDisableFocus:function(e){(0,e.commit)(o.NODES_SEARCH_DISABLE_FOCUS)},nodeSourceSearchEscape:function(e){(0,e.commit)(o.KEYBOARD_EVENT_ESCAPE)},nodesSourceSearchUpdate:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!n||n.length<=1?t(o.NODES_SEARCH_RESET):(t(o.NODES_SEARCH_REQUEST,{searchTerms:n}),a.default.getNodesSourceFromSearch(n).then(function(e){t(o.NODES_SEARCH_SUCCESS,{items:e})}).catch(function(){t(o.NODES_SEARCH_FAILED)}))}},l=(r={},(0,i.default)(r,o.NODES_SEARCH_ENABLE_FOCUS,function(e){e.isFocus=!0}),(0,i.default)(r,o.NODES_SEARCH_DISABLE_FOCUS,function(e){e.isFocus=!1}),(0,i.default)(r,o.NODES_SEARCH_REQUEST,function(e,t){var n=t.searchTerms;e.searchTerms=n}),(0,i.default)(r,o.NODES_SEARCH_SUCCESS,function(e,t){var n=t.items;e.items=n}),(0,i.default)(r,o.NODES_SEARCH_FAILED,function(e){e.items=[]}),(0,i.default)(r,o.NODES_SEARCH_RESET,function(e){e.items=[]}),(0,i.default)(r,o.KEYBOARD_EVENT_ESCAPE,function(e){e.items=[],e.isFocus=!1}),r);t.default={state:{searchTerms:null,items:[],isFocus:!1,isOpen:!1},getters:{},actions:u,mutations:l}},"2pAm":function(e,t,n){"use strict";!function(e){e.fn.tagEditorInput=function(){var t=" ",n=e(this),r=parseInt(n.css("fontSize")),i=e("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"});return i.insertAfter(n),n.bind("keyup keydown focus",function(){if(t!==(t=n.val())){i.text(t);var e=i.width()+r;20>e&&(e=20),e!=n.width()&&n.width(e)}})},e.fn.tagEditor=function(t,n,r){function a(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var o,s=e.extend({},e.fn.tagEditor.defaults,t);if(s.dregex=new RegExp("["+s.delimiter.replace("-","-")+"]","g"),"string"==typeof t){var u=[];return this.each(function(){var i=e(this),a=i.data("options"),o=i.next(".tag-editor");if("getTags"==t)u.push({field:i[0],editor:o,tags:o.data("tags")});else if("addTag"==t){if(a.maxTags&&o.data("tags").length>=a.maxTags)return!1;e('<li><div class="tag-editor-spacer">&nbsp;'+a.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(o).find(".tag-editor-tag").html('<input type="text" maxlength="'+a.maxLength+'">').addClass("active").find("input").val(n).blur(),r?e(".placeholder",o).remove():o.click()}else"removeTag"==t?(e(".tag-editor-tag",o).filter(function(){return e(this).text()==n}).closest("li").find(".tag-editor-delete").click(),r||o.click()):"destroy"==t&&i.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),"getTags"==t?u:this}return window.getSelection&&e(document).off("keydown.tag-editor").on("keydown.tag-editor",function(t){if(8==t.which||46==t.which||t.ctrlKey&&88==t.which){try{var n=getSelection(),r="BODY"==document.activeElement.tagName?e(n.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch(t){r=0}if(n.rangeCount>0&&r&&r.length){var a=[],o=n.toString().split(r.prev().data("options").dregex);for(i=0;i<o.length;i++){var s=e.trim(o[i]);s&&a.push(s)}return e(".tag-editor-tag",r).each(function(){~e.inArray(e(this).text(),a)&&e(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),this.each(function(){var t=e(this),n=[],r=e("<ul "+(s.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(t);t.addClass("tag-editor-hidden-src").data("options",s).on("focus.tag-editor",function(){r.click()}),r.append('<li style="width:1px">&nbsp;</li>');var i,u,l='<li><div class="tag-editor-spacer">&nbsp;'+s.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function c(){!s.placeholder||n.length||e(".deleted, .placeholder, input",r).length||r.append('<li class="placeholder"><div>'+s.placeholder+"</div></li>")}function d(i){var a=n.toString();n=e(".tag-editor-tag:not(.deleted)",r).map(function(t,n){var r=e.trim(e(this).hasClass("active")?e(this).find("input").val():e(n).text());if(r)return r}).get(),r.data("tags",n),t.val(n.join(s.delimiter[0])),i||a!=n.toString()&&s.onChange(t,r,n),c()}function f(i){for(var o,u=i.closest("li"),l=i.val().replace(/ +/," ").split(s.dregex),c=i.data("old_tag"),f=n.slice(0),h=!1,p=0;p<l.length;p++)if(m=e.trim(l[p]).slice(0,s.maxLength),s.forceLowercase&&(m=m.toLowerCase()),o=s.beforeTagSave(t,r,f,c,m),m=o||m,!1!==o&&m&&(s.removeDuplicates&&~e.inArray(m,f)&&e(".tag-editor-tag",r).each(function(){e(this).text()==m&&e(this).closest("li").remove()}),f.push(m),u.before('<li><div class="tag-editor-spacer">&nbsp;'+s.delimiter[0]+'</div><div class="tag-editor-tag">'+a(m)+'</div><div class="tag-editor-delete"><i></i></div></li>'),s.maxTags&&f.length>=s.maxTags)){h=!0;break}i.attr("maxlength",s.maxLength).removeData("old_tag").val(""),h?i.blur():i.focus(),d()}r.click(function(t,n){var i,a,u=99999;if(!window.getSelection||""==getSelection())return s.maxTags&&r.data("tags").length>=s.maxTags?(r.find("input").blur(),!1):(o=!0,e("input:focus",r).blur(),!!o&&(o=!0,e(".placeholder",r).remove(),n&&n.length?a="before":e(".tag-editor-tag",r).each(function(){var r=e(this),o=r.offset(),s=o.left,l=o.top;t.pageY>=l&&t.pageY<=l+r.height()&&(t.pageX<s?(a="before",i=s-t.pageX):(a="after",i=t.pageX-s-r.width()),i<u&&(u=i,n=r))}),"before"==a?e(l).insertBefore(n.closest("li")).find(".tag-editor-tag").click():"after"==a?e(l).insertAfter(n.closest("li")).find(".tag-editor-tag").click():e(l).appendTo(r).find(".tag-editor-tag").click(),!1))}),r.on("click",".tag-editor-delete",function(i){if(e(this).prev().hasClass("active"))return e(this).closest("li").find("input").caret(-1),!1;var a=e(this).closest("li"),o=a.find(".tag-editor-tag");return!1!==s.beforeTagDelete(t,r,n,o.text())&&(o.addClass("deleted").animate({width:0},s.animateDelete,function(){a.remove(),c()}),d(),!1)}),s.clickDelete&&r.on("mousedown",".tag-editor-tag",function(i){if(i.ctrlKey||i.which>1){var a=e(this).closest("li"),o=a.find(".tag-editor-tag");return!1!==s.beforeTagDelete(t,r,n,o.text())&&(o.addClass("deleted").animate({width:0},s.animateDelete,function(){a.remove(),c()}),d(),!1)}}),r.on("click",".tag-editor-tag",function(t){if(s.clickDelete&&(t.ctrlKey||t.which>1))return!1;if(!e(this).hasClass("active")){var n=e(this).text(),i=Math.abs((e(this).offset().left-t.pageX)/e(this).width()),o=parseInt(n.length*i),u=e(this).html('<input type="text" maxlength="'+s.maxLength+'" value="'+a(n)+'">').addClass("active").find("input");if(u.data("old_tag",n).tagEditorInput().focus().caret(o),s.autocomplete){var l=e.extend({},s.autocomplete),c="select"in l?s.autocomplete.select:"";l.select=function(t,n){c&&c(t,n),setTimeout(function(){r.trigger("click",[e(".active",r).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},u.autocomplete(l)}}return!1}),r.on("blur","input",function(i){i.stopPropagation();var u,l=e(this),h=l.data("old_tag"),p=e.trim(l.val().replace(/ +/," ").replace(s.dregex,s.delimiter[0]));if(p){if(p.indexOf(s.delimiter[0])>=0)return void f(l);if(p!=h)if(s.forceLowercase&&(p=p.toLowerCase()),u=s.beforeTagSave(t,r,n,h,p),p=u||p,!1===u){if(h)return l.val(h).focus(),o=!1,void d();try{l.closest("li").remove()}catch(i){}h&&d()}else s.removeDuplicates&&e(".tag-editor-tag:not(.active)",r).each(function(){e(this).text()==p&&e(this).closest("li").remove()})}else{if(h&&!1===s.beforeTagDelete(t,r,n,h))return l.val(h).focus(),o=!1,void d();try{l.closest("li").remove()}catch(i){}h&&d()}l.parent().html(a(p)).removeClass("active"),p!=h&&d(),c()}),r.on("paste","input",function(t){e(this).removeAttr("maxlength"),i=e(this),setTimeout(function(){f(i)},30)}),r.on("keypress","input",function(t){s.delimiter.indexOf(String.fromCharCode(t.which))>=0&&(u=e(this),setTimeout(function(){f(u)},20))}),r.on("keydown","input",function(n){var i=e(this);if((37==n.which||!s.autocomplete&&38==n.which)&&!i.caret()||8==n.which&&!i.val())return(a=i.closest("li").prev("li").find(".tag-editor-tag")).length?a.click().find("input").caret(-1):!i.val()||s.maxTags&&r.data("tags").length>=s.maxTags||e(l).insertBefore(i.closest("li")).find(".tag-editor-tag").click(),!1;if((39==n.which||!s.autocomplete&&40==n.which)&&i.caret()==i.val().length)return(o=i.closest("li").next("li").find(".tag-editor-tag")).length?o.click().find("input").caret(0):i.val()&&r.click(),!1;if(9==n.which){if(n.shiftKey){var a;if((a=i.closest("li").prev("li").find(".tag-editor-tag")).length)a.click().find("input").caret(0);else{if(!i.val()||s.maxTags&&r.data("tags").length>=s.maxTags)return t.attr("disabled","disabled"),void setTimeout(function(){t.removeAttr("disabled")},30);e(l).insertBefore(i.closest("li")).find(".tag-editor-tag").click()}return!1}var o;if((o=i.closest("li").next("li").find(".tag-editor-tag")).length)o.click().find("input").caret(0);else{if(!i.val())return;r.click()}return!1}if(!(46!=n.which||e.trim(i.val())&&i.caret()!=i.val().length))return(o=i.closest("li").next("li").find(".tag-editor-tag")).length?o.click().find("input").caret(0):i.val()&&r.click(),!1;if(13==n.which)return r.trigger("click",[i.closest("li").next("li").find(".tag-editor-tag")]),s.maxTags&&r.data("tags").length>=s.maxTags&&r.find("input").blur(),!1;if(36!=n.which||i.caret()){if(35==n.which&&i.caret()==i.val().length)r.find(".tag-editor-tag").last().click();else if(27==n.which)return i.val(i.data("old_tag")?i.data("old_tag"):"").blur(),!1}else r.find(".tag-editor-tag").first().click()});for(var h=s.initialTags.length?s.initialTags:t.val().split(s.dregex),p=0;p<h.length&&!(s.maxTags&&p>=s.maxTags);p++){var m=e.trim(h[p].replace(/ +/," "));m&&(s.forceLowercase&&(m=m.toLowerCase()),n.push(m),r.append('<li><div class="tag-editor-spacer">&nbsp;'+s.delimiter[0]+'</div><div class="tag-editor-tag">'+a(m)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}d(!0),s.sortable&&e.fn.sortable&&r.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){d()}})})},e.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}}(jQuery)},"2y8T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getDocumentsByIds=function(e){for(var t=this,n=e.ids,a=void 0===n?[]:n,o={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"},s=0;s<a.length;s++)o["ids["+s+"]"]=a[s];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.documents){e.next=7;break}return e.abrupt("return",{items:i.documents,trans:i.trans});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getDocuments=function(e){var t=this,n=e.searchTerms,a=e.filters,o=e.filterExplorerSelection,s=e.moreData,u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};o&&o.id&&(u.folderId=o.id);s&&(u.page=a?a.nextPage:1);return fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.documents){e.next=7;break}return e.abrupt("return",{items:i.documents,filters:i.filters,trans:i.trans});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.setDocument=function(e){return fetch(window.location.href,{method:"POST",body:e,headers:{Accept:"application/json"}})}},"3Z0C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("dACh")),i=o(n("jx4H")),a=o(n("0iPh"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,r.default)(this,e),this.$input=(0,a.default)(".rz-tag-autocomplete").eq(0),this.initialUrl=this.$input.attr("data-get-url"),this.placeholder=this.$input.attr("placeholder"),this.initialTags=[],this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;void 0!==this.initialUrl&&""!==this.initialUrl?a.default.getJSON(this.initialUrl,{_action:"getNodeTags",_token:window.RozierConfig.ajaxToken},function(t){e.initialTags=t,e.initAutocomplete()}):this.initAutocomplete()}},{key:"unbind",value:function(){}},{key:"split",value:function(e){return e.split(/,\s*/)}},{key:"extractLast",value:function(e){return this.split(e).pop()}},{key:"initAutocomplete",value:function(){var e=this;this.$input.tagEditor({autocomplete:{delay:.3,position:{collision:"flip"},source:function(t,n){a.default.getJSON(window.RozierConfig.routes.tagAjaxSearch,{_action:"tagAutocomplete",_token:window.RozierConfig.ajaxToken,search:e.extractLast(t.term)},n)}},placeholder:this.placeholder,initialTags:this.initialTags,animateDelete:0})}}]),e}();t.default=s},"3aBW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("aIIw")),i=s(n("kcQR")),a=s(n("dACh")),o=s(n("jx4H"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){var t=this;(0,a.default)(this,e),this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);var n=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,n.forEach(function(e){var n=e.querySelectorAll(".node-statuses-item"),r=e.querySelectorAll('input[type="checkbox"], input[type="radio"]');t.init(e,n,r)})}return(0,o.default)(e,[{key:"init",value:function(e,t,n){var r=this;t.forEach(function(e){e.removeEventListener("click",r.itemClick),e.addEventListener("click",r.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),n.forEach(function(e){e.removeEventListener("change",r.onChange),e.addEventListener("change",r.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(function(e){e.addEventListener("change",r.onChange)})}},{key:"containerEnter",value:function(e){e.stopPropagation();var t=e.currentTarget,n=t.querySelector("ul, nav"),r=t.offsetHeight,i=n?n.offsetHeight:0,a=t.getBoundingClientRect().top+window.scrollY;window.innerHeight<a+i+r&&t.classList.add("reverse")}},{key:"containerLeave",value:function(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}},{key:"itemClick",value:function(e){e.stopPropagation();var t=e.currentTarget.querySelector('input[type="radio"]');t&&(t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0})))}},{key:"onChange",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,a,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!0!==this.locked){e.next=3;break}return e.abrupt("return",!1);case 3:if(this.locked=!0,n=t.currentTarget){e.next=7;break}return e.abrupt("return",!1);case 7:return i=n.getAttribute("name"),a=null,n instanceof HTMLInputElement&&"checkbox"===n.type?a=Number(n.checked):n instanceof HTMLInputElement&&"radio"===n.type&&(this.icon&&(this.icon.className=n.parentElement.querySelector("i").className),a=n.value),e.next=12,fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(n.getAttribute("data-node-id")),statusName:i,statusValue:a})});case 12:if((o=e.sent).ok){e.next=20;break}return e.next=16,o.json();case 16:s=e.sent,window.UIkit.notify({message:s.error_message,status:"danger",timeout:3e3,pos:"top-center"}),e.next=22;break;case 20:window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();case 22:this.locked=!1;case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u},"4YKS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("T4f3")),i=c(n("CXfR")),a=n("SJI6"),o=c(n("FPV2")),s=c(n("s/f/")),u=c(n("YM2E")),l=c(n("RZXU"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{searchPlaceHolder:""}},computed:(0,r.default)({},(0,a.mapState)({isLoadingMore:function(e){return e.explorer.isLoadingMore},isLoading:function(e){return e.explorer.isLoading},isOpen:function(e){return e.explorer.isOpen},items:function(e){return e.explorer.items},filters:function(e){return e.explorer.filters},moreItems:function(e){return e.explorer.trans.moreItems},translations:function(e){return e.translations},entity:function(e){return e.explorer.entity},isFilterExplorerOpen:function(e){return e.filterExplorer.isOpen},filterExplorerSelectedItems:function(e){return e.filterExplorer.selectedItem},currentListingView:function(e){return e.explorer.currentListingView},widgetView:function(e){return e.explorer.widgetView},isFilterEnable:function(e){return e.explorer.isFilterEnable},filterExplorerIcon:function(e){return e.explorer.filterExplorerIcon},entityClass:function(e){return"entity-"+e.explorer.entity}}),{searchTerms:{get:function(){return this.$store.getters.getExplorerSearchTerms},set:(0,i.default)(function(e){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:e})},450)}}),methods:(0,r.default)({},(0,a.mapActions)(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),{manualUpdate:function(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem:function(e){this.drawersAddItem({item:e})}}),components:{LoadMoreButton:o.default,ExplorerItemsInfos:s.default,FilterExplorerButton:u.default,draggable:l.default}}},"5J2Y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(n("T4f3")),i=_(n("dACh")),a=_(n("jx4H")),o=_(n("lRwf")),s=_(n("1+1T")),u=_(n("5zda")),l=_(n("Fk2h")),c=_(n("KU4q")),d=_(n("eQwT")),f=_(n("ywca")),h=_(n("bXQK")),p=_(n("bpQj")),m=_(n("XTd8")),v=_(n("BLmM")),g=_(n("IPB7")),w=_(n("9NTV")),b=n("xHmi");function _(e){return e&&e.__esModule?e:{default:e}}var E=function(){function e(){(0,i.default)(this,e),this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:c.default,DrawerContainer:d.default,ExplorerContainer:f.default,FilterExplorerContainer:h.default,TagsEditorContainer:p.default,DocumentPreviewContainer:m.default,BlanchetteEditorContainer:v.default,ModalContainer:g.default},this.registeredComponents={Overlay:w.default},this.vuejsElements=(0,r.default)({},this.registeredComponents,this.registeredContainers),this.init(),this.initListeners()}return(0,a.default)(e,[{key:"init",value:function(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}},{key:"initListeners",value:function(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}},{key:"initServices",value:function(){this.services.push(new u.default(s.default)),this.services.push(new l.default(s.default))}},{key:"onPageChange",value:function(){s.default.commit(b.KEYBOARD_EVENT_ESCAPE)}},{key:"onPageLoaded",value:function(e){this.buildMainContentComponents(e.detail)}},{key:"destroyMainContentComponents",value:function(){this.mainContentComponents.forEach(function(e){e.$destroy()})}},{key:"buildDocumentExplorer",value:function(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}},{key:"buildOtherContainers",value:function(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}},{key:"buildNavTrees",value:function(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}},{key:"buildMainContentComponents",value:function(){var e=this;this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(function(t){e.mainContentComponents.push(e.buildComponent(t))})}},{key:"buildComponent",value:function(e){return new o.default({delimiters:["${","}"],el:e,store:s.default,components:this.vuejsElements})}}]),e}();t.default=E},"5zda":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("dACh")),i=o(n("jx4H")),a=n("xHmi");function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.store=t,this.init()}return(0,i.default)(e,[{key:"init",value:function(){this.bindEscape(),this.bindSpace()}},{key:"bindEscape",value:function(){var e=this;window.Mousetrap.bind("esc",function(){return e.store.commit(a.KEYBOARD_EVENT_ESCAPE)})}},{key:"bindSpace",value:function(){var e=this;window.Mousetrap.bind("space",function(t){t.preventDefault&&e.store.getters.documentPreviewGetDocument?t.preventDefault():e.store.getters.documentPreviewGetDocument&&(t.returnValue=!1),t.target===document.body&&t.preventDefault?t.preventDefault():t.target===document.body&&(t.returnValue=!1),e.store.commit(a.KEYBOARD_EVENT_SPACE)})}}]),e}();t.default=s},"6Y/U":function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".toolbar[data-v-70a2c8da]{margin:20px 0}.toolbar .toolbar__select_wraper[data-v-70a2c8da]{position:relative;display:inline-block}.toolbar .toolbar__select_wraper .toolbar__select[data-v-70a2c8da]{padding-right:30px}.toolbar .toolbar__select_wraper i[data-v-70a2c8da]{position:absolute;right:7px;top:11px;pointer-events:none}",""])},"6wAW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-left"}},[e.isOpen?n("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[n("div",{staticClass:"widget-explorer-wrapper"},[n("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?n("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),e._v(" "),n("div",{staticClass:"widget-explorer-search"},[n("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"uk-form-icon"},[n("i",{staticClass:"uk-icon-search"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.stopPropagation(),t.preventDefault(),e.manualUpdate(t)},input:function(t){t.target.composing||(e.searchTerms=t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"widget-explorer-close",on:{click:function(t){t.preventDefault(),e.explorerClose(t)}}},[n("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e._v(" "),e.isLoading?n("div",{staticClass:"spinner light"}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():n("ul",{staticClass:"uk-sortable"},[n("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},[n("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(t,r){return n(e.currentListingView,{key:t.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:r,item:t}})}))],1)],1)]),e._v(" "),e.filters?n("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e._v(" "),e.filters?n("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),e._v(" "),n(e.widgetView,{tag:"component"})],1)]):e._e()])},staticRenderFns:[]};t.default=r},"7APs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("B2tc"));t.default={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:r.default}}},"7Smz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("dACh")),i=a(n("jx4H"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,r.default)(this,e),this.button=document.querySelector(".rz-action-save"),this.actionMenu=document.querySelector(".actions-menu"),this.formToSave=null,this.onClick=this.onClick.bind(this),this.bindKeyboard(),this.button&&this.actionMenu&&this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this,t=this.button.getAttribute("data-action-save");this.formToSave=document.querySelector(t),this.formToSave&&(this.actionMenu.insertBefore(this.button,this.actionMenu.firstChild),this.button.addEventListener("click",this.onClick),window.Mousetrap.bind(["mod+s"],function(t){return e.formToSave.requestSubmit(),!1}))}},{key:"unbind",value:function(){this.formToSave&&this.formToSave&&this.button.removeEventListener("click",this.onClick)}},{key:"onClick",value:function(){this.formToSave.requestSubmit()}},{key:"bindKeyboard",value:function(){window.Mousetrap.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&"SELECT"===t.tagName}}}]),e}();t.default=o},"7hA0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=h(n("Xos8")),a=h(n("mYpx")),o=h(n("aIIw")),s=h(n("kcQR")),u=h(n("T4f3")),l=h(n("lRwf")),c=h(n("lS9x")),d=n("xHmi"),f=h(n("uC1N"));function h(e){return e&&e.__esModule?e:{default:e}}var p={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},m=(0,u.default)({},p),v={explorerOpen:function(e,t){var n=this,r=e.commit,i=e.dispatch,a=t.entity;return(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i("filterExplorerClose"),r(d.EXPLORER_RESET),r(d.EXPLORER_OPEN,{entity:a}),e.next=5,i("explorerMakeSearch");case 5:r(d.EXPLORER_IS_LOADED);case 6:case"end":return e.stop()}},e,n)}))()},explorerClose:function(e){var t=e.commit,n=e.dispatch;n("filterExplorerClose"),n("filterExplorerReset"),t(d.EXPLORER_RESET),t(d.EXPLORER_CLOSE)},explorerToggle:function(e){var t=e.dispatch;e.state.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms:function(e){var t=e.commit,n=e.state,r=e.dispatch;""===n.searchTerms?t(d.EXPLORER_UPDATE_SEARCH_TERMS,{searchTerms:""}):r("explorerUpdateSearch",{searchTerms:""})},explorerUpdateSearch:function(e,t){var n=e.commit,r=e.dispatch,i=t.searchTerms;n(d.EXPLORER_UPDATE_SEARCH_TERMS,{searchTerms:i}),r("explorerMakeSearch")},explorerMakeSearch:function(e){var t=e.commit,n=e.state,r=e.getters,i=n.entity,a=n.searchTerms,o=r.getDrawerFilters,s=n.filters,u=r.getFilterExplorerSelectedItem,l=n.isLoadingMore;return t(d.EXPLORER_REQUEST),c.default.getExplorerItems({entity:i,searchTerms:a,preFilters:o,filters:s,filterExplorerSelection:u,moreData:l}).then(function(e){t(d.EXPLORER_SUCCESS,{result:e})}).catch(function(e){console.error(e),t(d.EXPLORER_FAILED,{error:e})})},explorerLoadMore:function(e){var t=this,n=e.commit,r=e.dispatch;return(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(d.EXPLORER_LOAD_MORE),e.next=3,r("explorerMakeSearch");case 3:n(d.EXPLORER_LOAD_MORE_SUCCESS);case 4:case"end":return e.stop()}},e,t)}))()}},g=(r={},(0,i.default)(r,d.EXPLORER_REQUEST,function(e){e.isLoadingMore||(e.isLoading=!0)}),(0,i.default)(r,d.EXPLORER_UPDATE_SEARCH_TERMS,function(e,t){var n=t.searchTerms;e.searchTerms=n}),(0,i.default)(r,d.EXPLORER_SUCCESS,function(e,t){var n=t.result;e.isLoading=!1,e.isLoadingMore?e.items=[].concat((0,a.default)(e.items),(0,a.default)(n.items)):e.items=n.items,e.filters=n.filters}),(0,i.default)(r,d.EXPLORER_LOAD_MORE,function(e){e.isLoadingMore=!0}),(0,i.default)(r,d.EXPLORER_LOAD_MORE_SUCCESS,function(e){e.isLoadingMore=!1}),(0,i.default)(r,d.FILTER_EXPLORER_UPDATE,function(e){e.filters={}}),(0,i.default)(r,d.EXPLORER_RESET,function(e){for(var t in e)e.hasOwnProperty(t)&&l.default.set(e,t,p[t])}),(0,i.default)(r,d.EXPLORER_FAILED,function(e){e.isLoading=!1,e.isLoadingMore=!1,e.error="Request failed"}),(0,i.default)(r,d.EXPLORER_OPEN,function(e,t){var n=t.entity;e.isOpen=!0,e.isLoading=!0,e.entity=n,e.trans.moreItems="",e.widgetView=f.default.getWidgetView(n);var r=f.default.getState(n);for(var i in r)e.hasOwnProperty(i)&&l.default.set(e,i,r[i])}),(0,i.default)(r,d.EXPLORER_IS_LOADED,function(e){e.isLoading=!1}),(0,i.default)(r,d.EXPLORER_CLOSE,function(e){e.isOpen=!1,e.isLoading=!1}),(0,i.default)(r,d.KEYBOARD_EVENT_ESCAPE,function(){m.isOpen=!1}),r);t.default={state:m,getters:{getExplorerEntity:function(e){return e.entity},getExplorerSearchTerms:function(e){return e.searchTerms}},actions:v,mutations:g}},"8DOo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getCustomFormsByIds=function(e){for(var t=this,n=e.ids,a=void 0===n?[]:n,o=(e.filters,{_token:window.RozierConfig.ajaxToken}),s=0;s<a.length;s++)o["ids["+s+"]"]=a[s];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return e.t0=e.sent.forms,e.abrupt("return",{items:e.t0});case 4:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getCustomForms=function(e){var t=this,n=e.searchTerms,a=e.filters,o=e.moreData,s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};o&&(s.page=a?a.nextPage:1);return fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.customForms){e.next=7;break}return e.abrupt("return",{items:i.customForms,filters:i.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},"8Wgj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("xHmi");t.default={props:["title","href","typeColor"],methods:{onItemClick:function(e){window.Rozier.lazyload.onClick(e),this.$store.commit(r.KEYBOARD_EVENT_ESCAPE)}}}},"8h4x":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},staticRenderFns:[]};t.default=r},"9NTV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("en6P"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("yQaP"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},"9QM9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("T4f3")),i=s(n("CXfR")),a=n("SJI6"),o=s(n("O7VT"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{searchTerms:null}},computed:(0,r.default)({},(0,a.mapState)({items:function(e){return e.nodesSourceSearch.items},isFocus:function(e){return e.nodesSourceSearch.isFocus},isOpen:function(e){return e.nodesSourceSearch.isOpen}})),methods:(0,r.default)({},(0,a.mapActions)(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),{enableFocus:(0,i.default)(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:(0,i.default)(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(e){e&&"Escape"===e.key&&(e.preventDefault(),this.nodeSourceSearchEscape())}}),watch:{searchTerms:(0,i.default)(function(e,t){this.nodesSourceSearchUpdate(e,t)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:o.default}}},"9dW9":function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;"color"===e.type?(e.type="text",t.textContent=e.getAttribute("data-color-picker-label")):(e.type="color",e.value=n||e.value||"#000000",t.textContent=e.getAttribute("data-hex-color-label"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){document.querySelectorAll('input[type="color"]').forEach(function(e){if(!e.parentElement||!e.parentElement.classList.contains("color-input-wrapper")){var t=e.getAttribute("data-initial-value"),n=document.createElement("div");n.className="color-input-wrapper",e.parentNode.insertBefore(n,e),n.appendChild(e);var i=document.createElement("button");i.type="button",i.classList.add("color-toggle-btn"),i.classList.add("uk-button"),i.textContent="Reset",n.appendChild(i),t&&""!==t&&(n.classList.add("color-input-wrapper--defined"),n.style.setProperty("--color-input-value",t)),r(e,i,t),i.addEventListener("click",function(){r(e,i)}),e.addEventListener("change",function(){e.value&&""!==e.value?(n.style.setProperty("--color-input-value",e.value),n.classList.add("color-input-wrapper--defined")):(n.style.removeProperty("--color-input-value"),n.classList.remove("color-input-wrapper--defined"))})}})}},"9ttF":function(e,t){},"9wWa":function(e,t,n){"use strict";n("xlJi"),n("9ttF"),n("+dCG"),n("hICd"),n("raEj"),n("2pAm"),n("LReI"),n("NHlQ");var r=o(n("k+5J"));n("rhri"),n("aPDB"),n("Dyy6"),n("Dlui"),n("xQgR"),n("k+i+");var i=o(n("tQq4"));n("Krj7"),n("qqFR"),n("ggoL"),n("av7Y"),n("HeB0"),n("hCSc"),n("0cyU"),n("Emo7"),n("xKia"),n("A8sX");var a=o(n("SwUv"));function o(e){return e&&e.__esModule?e:{default:e}}window.CodeMirror=i.default,window.UIkit=r.default,window.Rozier=new a.default;!function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}(function(){window.Rozier.onDocumentReady()})},AcRm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("aIIw")),i=u(n("kcQR")),a=u(n("T4f3")),o=n("inh7"),s=n("+z8M");function u(e){return e&&e.__esModule?e:{default:e}}t.default={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(e,t){this.dropzone.options[e]=t},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(e){this.dropzone.removeFile(e)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted:function(){if(!this.$isServer){var e=n("ujpI"),t=document.getElementById(this.id);if(e.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new e(t,this.dropzoneOptions);else{this.dropzone=new e(t,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:(0,a.default)({_token:window.RozierConfig.ajaxToken},this.headers),dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:function(e,t){var n=void 0;n=t.error?t.error:"Error",e.previewElement.classList.add("dz-error");for(var r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),i=[],a=0,o=r.length;a<o;a++){var s=r[a];i.push(s.textContent=n)}return i}});var u=t;u.insertAdjacentHTML("beforeend",'<div class="dz-default dz-message"><span>'+this.language.dictDefaultMessage+"</span></div>");u.querySelector(".dz-message").insertAdjacentHTML("beforeend",'\n                <div class="circles-icons">\n                    <div class="circle circle-1"></div>\n                    <div class="circle circle-2"></div>\n                    <div class="circle circle-3"></div>\n                    <div class="circle circle-4"></div>\n                    <div class="circle circle-5"></div>\n                    <i class="uk-icon-rz-file"></i>\n                </div>\n            ')}var l=this;this.dropzone.on("thumbnail",function(e){l.$emit("vdropzone-thumbnail",e)}),this.dropzone.on("addedfile",function(e){l.$emit("vdropzone-file-added",e)}),this.dropzone.on("removedfile",function(e){l.$emit("vdropzone-removed-file",e)}),this.dropzone.on("success",function(){var e=(0,i.default)(r.default.mark(function e(t,n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.$emit("vdropzone-success",t,n),!t.previewElement){e.next=7;break}return i=t.previewElement,e.next=5,(0,s.sleep)(3e3);case 5:return e.next=7,(0,o.fadeOut)(i,500);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),this.dropzone.on("successmultiple",function(e,t){l.$emit("vdropzone-success-multiple",e,t)}),this.dropzone.on("error",function(e,t,n){l.$emit("vdropzone-error",e,t,n)}),this.dropzone.on("sending",function(e,t,n){l.$emit("vdropzone-sending",e,t,n),t.ontimeout=function(){console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(e,t,n){l.$emit("vdropzone-sending-multiple",e,t,n)}),this.dropzone.on("queuecomplete",function(e,t,n){l.$emit("vdropzone-queue-complete",e,t,n)})}},beforeDestroy:function(){this.dropzone.destroy()}}},Afu7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("L3Vt"));t.getItemsByIds=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];switch(e){case i.DOCUMENT_ENTITY:return a.getDocumentsByIds({ids:t,filters:n});case i.NODE_ENTITY:return o.getNodesByIds({ids:t,filters:n});case i.NODE_TYPE_ENTITY:return s.getNodeTypesByIds({ids:t,filters:n});case i.JOIN_ENTITY:return u.getJoinsByIds({ids:t,filters:n});case i.CUSTOM_FORM_ENTITY:return l.getCustomFormsByIds({ids:t,filters:n});case i.TAG_ENTITY:return c.getTagsByIds({ids:t,filters:n});case i.EXPLORER_PROVIDER_ENTITY:return d.getItemsByIds({ids:t,filters:n})}return r.default.reject(new Error("No type entity found"))};var i=n("EY70"),a=f(n("2y8T")),o=f(n("vfsJ")),s=f(n("O/s3")),u=f(n("m1Vf")),l=f(n("8DOo")),c=f(n("RfA7")),d=f(n("CpLN"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},B2tc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("gk4s"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("Y5N/"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},BLmM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("eC0v"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("WCGE"),s=n.n(o);var u=function(e){n("GIK5")},l=n("/4AN")(i.a,s.a,!1,u,"data-v-12a59dc0",null);t.default=l.exports},BYnw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick:function(){this.createTag({tagName:this.tagName})}}}},BuFs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(t){t.preventDefault(),e.onItemClick(t)}}},[e._t("default",[e._v(e._s(e.title))])],2)},staticRenderFns:[]};t.default=r},CpLN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getItemsByIds=function(e){for(var t=this,n=e.ids,a=void 0===n?[]:n,o=e.filters,s={_token:window.RozierConfig.ajaxToken,providerClass:o.providerClass},u=0;u<a.length;u++)s["ids["+u+"]"]=a[u];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(s),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.items){e.next=7;break}return e.abrupt("return",{items:i.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getItems=function(e){var t=this,n=e.searchTerms,a=e.preFilters,o=e.filters,s=(e.filterExplorerSelection,e.moreData),u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};a&&a.providerClass&&(u.providerClass=a.providerClass);a&&a.providerOptions&&(u.options=a.providerOptions);s&&(u.page=o?o.nextPage:1);return fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.entities){e.next=7;break}return e.abrupt("return",{items:i.entities,filters:i.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},DJDh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?n("div",{staticClass:"filter-widget-explorer"},[n("ul",{staticClass:"filters-items"},[n("li",{staticClass:"filters-infos"},[n("div",{staticClass:"infos-content"},[n("transition",{attrs:{name:"fade"}},[e.itemCount||0===e.itemCount?n("div",[n("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v("\n                            "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+"\n                        ")]):e._e()])],1)]),e._v(" "),n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onResetClick(t)}}},[n("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+"\n                ")])]),e._v(" "),e._l(e.items,function(t,r){return n("filter-explorer-item",{key:r,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:t}})})],2)]):e._e()])},staticRenderFns:[]};t.default=r},DN71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=d(n("Xos8")),a=d(n("T4f3")),o=d(n("EmLd")),s=n("xHmi"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Afu7")),l=d(n("uC1N")),c=n("EY70");function d(e){return e&&e.__esModule?e:{default:e}}var f={list:[],trans:null,selectedDrawer:null},h={drawersAddInstance:function(e,t){(0,e.commit)(s.DRAWERS_ADD_INSTANCE,{drawer:t})},drawersRemoveInstance:function(e,t){(0,e.commit)(s.DRAWERS_REMOVE_INSTANCE,{drawerToRemove:t})},drawersInitData:function(e,t){var n=e.commit,r=t.drawer,i=t.entity,o=t.ids,l=t.filters,d=t.maxLength,f=t.minLength,h=t.entityName;if(n(s.DRAWERS_INIT_DATA_REQUEST,{drawer:r,entity:i,ids:o,filters:l}),o&&0!==o.length&&i){var p=o.map(function(e){return e&&e.document?e.document:e});u.getItemsByIds(i,p,l).then(function(e){if(e&&h===c.NODE_SOURCE_DOCUMENT_ENTITY){var t=(0,a.default)({},e,{items:o.map(function(t,n){return{document:e.items[n],hotspot:t.hotspot,imageCropAlignment:t.imageCropAlignment}})});n(s.DRAWERS_INIT_DATA_REQUEST_SUCCESS,{drawer:r,result:t,maxLength:d,minLength:f})}else n(s.DRAWERS_INIT_DATA_REQUEST_SUCCESS,{drawer:r,result:e,maxLength:d,minLength:f})}).catch(function(e){n(s.DRAWERS_INIT_DATA_REQUEST_FAILED,{drawer:r,error:e})})}else n(s.DRAWERS_INIT_DATA_REQUEST_EMPTY,{drawer:r,maxLength:d,minLength:f})},drawersAddItem:function(e,t){var n=e.commit,r=e.state,i=t.drawer,a=t.item,o=t.newIndex,u=r.selectedDrawer;i&&(u=i),u.acceptMore&&n(s.DRAWERS_ADD_ITEM,{drawer:u,item:a,newIndex:o})},drawersMoveItem:function(e,t){e.commit,t.drawer,t.item},drawersRemoveItem:function(e,t){var n=e.commit,r=t.drawer,i=t.item;n(s.DRAWERS_REMOVE_ITEM,{drawer:r,item:i})},drawersExplorerButtonClick:function(e,t){var n=e.commit,r=e.dispatch;n(s.DRAWERS_EDIT_INSTANCE,{drawer:t}),f.selectedDrawer.isActive?r("explorerOpen",{entity:t.entity}):r("explorerClose")},drawersDropzoneButtonClick:function(e,t){e.state;var n=e.dispatch;t.isDropzoneEnable?n("drawersDisableDropzone",{drawer:t}):n("drawersEnableDropzone",{drawer:t})},drawersEnableDropzone:function(e,t){var n=e.commit,r=t.drawer;n(s.DRAWERS_ENABLE_DROPZONE,{drawer:r})},drawersDisableDropzone:function(e,t){var n=e.commit,r=t.drawer;n(s.DRAWERS_DISABLE_DROPZONE,{drawer:r})}},p=(r={},(0,i.default)(r,s.DRAWERS_ADD_INSTANCE,function(e,t){var n=t.drawer;e.list.push({entity:null,id:n._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})}),(0,i.default)(r,s.DRAWERS_REMOVE_INSTANCE,function(e,t){var n=t.drawerToRemove;e.list=(0,o.default)(e.list,function(e){return e._uid===n._uid})}),(0,i.default)(r,s.DRAWERS_EDIT_INSTANCE,function(e,t){var n=t.drawer;e.list.forEach(function(e){e!==n&&(e.isActive=!1)}),n.acceptMore=n.items.length<n.maxLength,n.isActive=!n.isActive,e.selectedDrawer=n}),(0,i.default)(r,s.DRAWERS_ADD_ITEM,function(e,t){var n=t.drawer,r=t.item;t.newIndex;n.items.push(r),n.acceptMore=n.items.length<n.maxLength}),(0,i.default)(r,s.DRAWERS_UPDATE_LIST,function(e,t){var n=t.drawer,r=t.newList;n.items=r,n.acceptMore=n.items.length<n.maxLength}),(0,i.default)(r,s.DRAWERS_REMOVE_ITEM,function(e,t){var n=t.drawer,r=t.item,i=n.items.indexOf(r);i>=0&&n.items.splice(i,1),n.acceptMore=n.items.length<n.maxLength}),(0,i.default)(r,s.EXPLORER_CLOSE,function(e){e=m(e)}),(0,i.default)(r,s.DRAWERS_INIT_DATA_REQUEST_SUCCESS,function(e,t){var n=t.drawer,r=t.result,i=t.maxLength,a=t.minLength;n.isLoading=!1,n.items=r.items,n.trans=r.trans,n.maxLength=i,n.minLength=a,n.acceptMore=r.items.length<i}),(0,i.default)(r,s.DRAWERS_INIT_DATA_REQUEST,function(e,t){var n=t.drawer,r=t.entity,i=t.filters;n.isLoading=!0,n.entity=r,n.filters=i,n.currentListingView=l.default.getListingView(r)}),(0,i.default)(r,s.DRAWERS_INIT_DATA_REQUEST_FAILED,function(e,t){var n=t.drawer,r=t.error;n.isLoading=!1,n.errorMessage=r.message}),(0,i.default)(r,s.DRAWERS_INIT_DATA_REQUEST_EMPTY,function(e,t){var n=t.drawer,r=t.maxLength,i=t.minLength;n.isLoading=!1,n.acceptMore=!0,n.maxLength=r,n.minLength=i}),(0,i.default)(r,s.KEYBOARD_EVENT_ESCAPE,function(e){e=m(e)}),(0,i.default)(r,s.DRAWERS_ENABLE_DROPZONE,function(e,t){var n=t.drawer;e.list.forEach(function(e){e.isDropzoneEnable=!1}),n.isDropzoneEnable=!0}),(0,i.default)(r,s.DRAWERS_DISABLE_DROPZONE,function(e,t){t.drawer.isDropzoneEnable=!1}),r);function m(e){return e.list.forEach(function(e){e.isActive=!1,e.isDropzoneEnable=!1}),e.selectedDrawer=null,e}t.default={state:f,getters:{drawersGetById:function(e,t){return function(t){return e.list.find(function(e){return e.id===t})}},getDrawerFilters:function(e){return e.selectedDrawer?e.selectedDrawer.filters:null}},actions:h,mutations:p}},DqSB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("L3Vt"));t.getFilters=function(e){switch(e.entity){case o.DOCUMENT_ENTITY:return i.getFolders();case o.NODE_ENTITY:return a.getTags();case o.TAG_ENTITY:return a.getParentTags();default:return r.default.reject(new Error("Entity not found"))}};var i=s(n("bKSI")),a=s(n("kMqv")),o=n("EY70");function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},ERN0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("T4f3")),i=n("SJI6"),a=o(n("KV+T"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{currentListingView:null}},computed:(0,r.default)({},(0,i.mapState)({isLoading:function(e){return e.filterExplorer.isLoading},isOpen:function(e){return e.filterExplorer.isOpen},items:function(e){return e.filterExplorer.items},entity:function(e){return e.explorer.entity},itemCount:function(e){return e.explorer.filters.itemCount},selectedItem:function(e){return e.filterExplorer.selectedItem},translations:function(e){return e.translations},icons:function(e){return e.filterExplorer.icons}})),methods:(0,r.default)({},(0,i.mapActions)(["filterExplorerUpdate"]),{onItemClick:function(e){this.filterExplorerUpdate({item:e})},onResetClick:function(){this.filterExplorerUpdate({item:null})}}),components:{FilterExplorerItem:a.default}}},EY70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DOCUMENT_ENTITY="document",t.NODE_ENTITY="node",t.NODE_TYPE_ENTITY="node-type",t.JOIN_ENTITY="join",t.EXPLORER_PROVIDER_ENTITY="explorer-provider",t.CUSTOM_FORM_ENTITY="custom-form",t.TAG_ENTITY="tag",t.NODE_SOURCE_DOCUMENT_ENTITY="node-source-document"},Eevm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.callback(t)}}},[e._t("default")],2)},staticRenderFns:[]};t.default=r},FPV2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("e9E8"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("pEeu"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},FVwp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("aIIw")),i=c(n("L3Vt")),a=c(n("kcQR")),o=c(n("dACh")),s=c(n("jx4H")),u=c(n("T2ht")),l=n("inh7");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,o.default)(this,e),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation a"),this.cleanNodeTree()}return(0,s.default)(e,[{key:"unbind",value:function(){var e=this;this.quickAddNodeButtons.forEach(function(t){t.removeEventListener("click",e.onQuickAddClick)})}},{key:"cleanNodeTree",value:function(){var e=this;document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(function(e){e.remove()}),this.quickAddNodeButtons.forEach(function(t){t.removeEventListener("click",e.onQuickAddClick),t.addEventListener("click",e.onQuickAddClick)})}},{key:"treeAvailable",value:function(){return!(!this.nodeTrees||!this.nodeTrees.length)}},{key:"quickAddNode",value:function(){var e=(0,a.default)(r.default.mark(function e(t,n,o){var s=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(){var e=(0,a.default)(r.default.mark(function e(i,a){var u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:t,parentNodeId:n,translationId:o})});case 2:if((u=e.sent).ok){e.next=11;break}return e.t0=a,e.next=7,u.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 11:return e.t2=i,e.next=14,u.json();case 14:e.t3=e.sent,(0,e.t2)(e.t3);case 16:case"end":return e.stop()}},e,s)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onQuickAddClick",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n,i,a,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.currentTarget,i=n.getAttribute("data-children-node-type"),a=parseInt(n.getAttribute("data-children-parent-node")),o=parseInt(n.getAttribute("data-translation-id")),!(""!==i&&a>0)){e.next=20;break}return e.prev=6,e.next=9,this.quickAddNode(i,a,o);case 9:return window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),s=n.closest(".children-nodes-widget").querySelector(".nodetree-widget"),e.next=14,this.refreshNodeTree(s);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),e.t0=JSON.parse(e.t0.responseText),window.UIkit.notify({message:e.t0.error_message,status:"danger",timeout:3e3,pos:"top-center"});case 20:case"end":return e.stop()}},e,this,[[6,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchNodeTree",value:function(){var e=(0,a.default)(r.default.mark(function e(t,n){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(){var e=(0,a.default)(r.default.mark(function e(i,a){var u,l,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:t,translationId:s||null}),n.forEach(function(e,t){u.append("linkedTypes["+t+"]",e)}),l=window.RozierConfig.routes.nodesTreeAjax+"?"+u.toString(),e.next=5,fetch(l,{method:"GET",headers:{Accept:"application/json"}});case 5:if((c=e.sent).ok){e.next=14;break}return e.t0=a,e.next=10,c.json();case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=19;break;case 14:return e.t2=i,e.next=17,c.json();case 17:e.t3=e.sent,(0,e.t2)(e.t3);case 19:case"end":return e.stop()}},e,o)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"refreshNodeTree",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n,i,a,o,s,c,d;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("No node-tree available."),e.abrupt("return");case 3:if(n=[],i=t.querySelector(".root-tree")){e.next=7;break}return e.abrupt("return");case 7:return a=parseInt(i.getAttribute("data-parent-node-id")),o=i.getAttribute("data-linked-types"),s=i.getAttribute("data-translation-id"),o&&(n=JSON.parse(o)),window.Rozier.lazyload.canvasLoader.show(),e.prev=12,e.next=15,this.fetchNodeTree(a,n,s||null);case 15:if(c=e.sent,!t||void 0===c.nodeTree){e.next=30;break}return e.next=19,(0,l.fadeOut)(t);case 19:return d=t.closest(".children-nodes-widget"),t.innerHTML=c.nodeTree,t=d.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),e.next=27,(0,l.fadeIn)(t);case 27:this.cleanNodeTree(),window.Rozier.lazyload.canvasLoader.hide(),window.Rozier.lazyload.nodeTreeContextActions=new u.default;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(12),e.t0=JSON.parse(e.t0.responseText),window.UIkit.notify({message:e.t0.error_message,status:"danger",timeout:3e3,pos:"top-center"});case 36:case"end":return e.stop()}},e,this,[[12,32]])}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=d},Fk2h:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("aIIw")),i=u(n("kcQR")),a=u(n("dACh")),o=u(n("jx4H")),s=n("xHmi");function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,a.default)(this,e),this.store=t,this.intervalDuration=1e4,this.check()}return(0,o.default)(e,[{key:"check",value:function(){var e=this;this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval((0,i.default)(r.default.mark(function t(){var n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json"}});case 3:if((n=t.sent).ok){t.next=8;break}401===n.status||403===n.status?e.store.commit(s.LOGIN_CHECK_DISCONNECTED):e.store.commit(s.HEALTH_CHECK_FAILED),t.next=13;break;case 8:if(new URL(n.url).pathname===window.RozierConfig.routes.ping){t.next=12;break}return e.store.commit(s.LOGIN_CHECK_DISCONNECTED),t.abrupt("return");case 12:200!==n.status&&202!==n.status||(e.store.commit(s.LOGIN_CHECK_CONNECTED),e.store.commit(s.HEALTH_CHECK_SUCCEEDED),e.check());case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),e.store.commit(s.HEALTH_CHECK_FAILED);case 18:case"end":return t.stop()}},t,e,[[0,15]])})),this.intervalDuration)}}]),e}();t.default=l},G65L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[n("div",{staticClass:"modal",attrs:{id:"partition-register"}},[n("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"modal-content"},[n("p",[e._v(e._s(e.content))]),e._v(" "),n("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?n("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e._v(" "),e.closeable?n("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e._v(" "),e.imageUrl?n("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},staticRenderFns:[]};t.default=r},GIK5:function(e,t,n){var r=n("dl6t");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("X/Wc")("f72c4c1e",r,!0,{})},GduZ:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".tag-creator[data-v-5dfc79f5]{position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px 40px;background-color:#242424;color:#575757;box-sizing:border-box;display:flex}.tag-creator .infos[data-v-5dfc79f5],.tag-creator .new-tag-container[data-v-5dfc79f5]{flex:1}.tag-creator .infos[data-v-5dfc79f5]{font-size:12px;margin-right:20px}",""])},H8iA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"[]";if(e&&e.length&&e.length>t+r.length){var i=e.substr(0,Math.floor(t/2)+Math.floor(n/2)),a=e.substr(-1*Math.floor(t/2)+Math.floor(n/2));return i+r+a}return e}},IPB7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("NSsB"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("yel6"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},JTvu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("aIIw")),i=u(n("kcQR")),a=u(n("dACh")),o=u(n("jx4H")),s=u(n("0iPh"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e),this.$list=(0,s.default)(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}},{key:"unbind",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}},{key:"onSortableChange",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n,i){var a,o,u,l,c,d,f,h,p;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,s.default)(i),o=parseInt(a.data("field-id")),u=a.prev(),l=null,c=null,0===u.length?(u=a.next(),c=parseInt(u.data("field-id"))):l=parseInt(u.data("field-id")),d={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:o,beforeFieldId:c,afterFieldId:l},e.next=9,fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",o),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(d)});case 9:if((f=e.sent).ok){e.next=17;break}return e.next=13,f.json();case 13:h=e.sent,window.UIkit.notify({message:h.title,status:"danger",timeout:3e3,pos:"top-center"}),e.next=21;break;case 17:return e.next=19,f.json();case 19:p=e.sent,window.UIkit.notify({message:p.responseText,status:p.status,timeout:3e3,pos:"top-center"});case 21:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();t.default=l},KFYC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("T4f3")),i=n("SJI6");t.default={computed:(0,r.default)({},(0,i.mapState)({isVisible:function(e){return e.documentPreview.isVisible},document:function(e){return e.documentPreview.document}}),{containerClass:function(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}}),methods:(0,r.default)({},(0,i.mapActions)(["documentPreviewClose"]),{closePreview:function(){this.documentPreviewClose()},onClick:function(e){e.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}})}},KTjH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkFormCollapsingClassName=t.bulkFormCollapsedClassName=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("HxWs"));t.default=function(){var e=[],t=document.querySelectorAll(".bulk-layout ."+i),n=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),o=document.querySelector(".bulk-layout input[name='bulk-selection-all']"),s=document.querySelector(".bulk-layout .uk-button-select-all"),u=document.querySelectorAll(".bulk-layout .uk-button-bulk"),l=document.querySelectorAll(".bulk-layout input.bulk-form-value"),c=document.querySelectorAll(".bulk-layout input[name='bulk-selection[]']");t.forEach(function(e){return e.addEventListener("transitionend",function(t){e.classList.contains(a)&&e.classList.remove(a)})});var d=function(){c.forEach(function(t){t.checked=!1,e.splice(0,e.length),l.forEach(function(e){return e.value=""})}),o&&(o.checked=!1),f()},f=function(){window.requestAnimationFrame(function(){t.forEach(function(e){return e.classList.add(a)}),t.forEach(function(e){return e.classList.add(i)})})};u.forEach(function(e){e.hasAttribute("data-bulk-group")&&e.addEventListener("click",function(t){var n=document.getElementById(e.getAttribute("data-bulk-group"));n&&(document.querySelectorAll(".bulk-group").forEach(function(e){e!==n&&e.classList.remove("bulk-group--open")}),n.classList.toggle("bulk-group--open"))})}),c.forEach(function(n){n.addEventListener("change",function(a){n.checked?e.push(n.value):e.splice(e.indexOf(n.value),1),e.length>0?(t.forEach(function(e){return e.classList.remove(i)}),l.forEach(function(t){return t.value=(0,r.default)(e)})):(f(),o&&(o.checked=!1))})}),n&&n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),d()}),s&&s.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),c.forEach(function(t){t.checked=!0,e.push(t.value)}),t.forEach(function(e){return e.classList.remove(i)}),l.forEach(function(t){return t.value=(0,r.default)(e)})}),o&&o.addEventListener("change",function(n){o.checked?c.forEach(function(t){t.checked=!0,e.push(t.value)}):d(),e.length>0?(t.forEach(function(e){return e.classList.remove(i)}),l.forEach(function(t){return t.value=(0,r.default)(e)})):t.forEach(function(e){return e.classList.add(i)})})};var i=t.bulkFormCollapsedClassName="bulk-actions--collapsed",a=t.bulkFormCollapsingClassName="bulk-actions--collapsing"},KU4q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("9QM9"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("/4AN")(i.a,null,!1,null,null,null);t.default=o.exports},"KV+T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("TjfP"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("LQvy"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},KtXb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(e&&e.length&&e.length>t){var i=e.substr(0,t+n);return i+r}return e}},LQvy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade-in"}},[e.item?n("li",{staticClass:"item"},[n("a",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onItemClick(e.item)}}},[n("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),e._v(" "),n("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),e._v(" "),n("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(t,r){return n("filter-explorer-item",{key:t.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:t}})}))]):e._e()])},staticRenderFns:[]};t.default=r},LReI:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("GyB/"));!function(e){e.fn.collection=function(t){var n={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(e,t){return!0},after_up:function(e,t){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(e,t){return!0},after_down:function(e,t){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(e,t){return!0},after_add:function(e,t){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(e,t){return!0},after_remove:function(e,t){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(e,t){return!0},after_duplicate:function(e,t){return!0},before_init:function(e){},after_init:function(e){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(e,t){return!0},drag_drop_update:function(e,t){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},i=function(t,n){if(!n.attr("id")){var r;do{r=t+"_"+(""+1e3*Math.random()*(new Date).getTime()).replace(".","").split("").sort(function(){return.5-Math.random()}).join("")}while(e("#"+r).length>0);n.attr("id",r)}return n.attr("id")},a=function(t){try{var n=e(t)}catch(e){return null}return 0===n.length?null:n.is('input[type="checkbox"]')?!0===n.prop("checked"):n.is('input[type="radio"]')&&void 0!==n.attr("name")?e('input[name="'+n.attr("name")+'"]:checked').val():void 0!==n.prop("value")?n.val():n.html()},o=function(t,n,r){try{var i=e(t)}catch(e){return}0!==i.length&&(i.is('input[type="checkbox"]')?n?i.attr("checked",!0):i.removeAttr("checked"):void 0!==i.prop("value")?r?i.attr("value",n):i.val(n):i.html(n))},s=function(e){return void 0===e||e},u=function(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},l=function(t,n,i,a){var o=function(t){var n=e(t);"object"===(void 0===t?"undefined":(0,r.default)(t))&&"attributes"in t&&e.each(t.attributes,function(t,r){"string"===e.type(r.value)&&n.attr(r.name.replace(i,a),r.value.replace(i,a))}),n.length>0&&e.each(n.data(),function(t,r){"string"===e.type(r)&&n.data(t.replace(i,a),r.replace(i,a))})},s=t.eq(n);o(s[0]),s.find("*").each(function(){o(this)})},c=function(t,n,r,i,a,o){var s=new RegExp(u(r.name_prefix+"["+a+"]"),"g"),c=r.name_prefix+"["+o+"]";r.children&&e.each(r.children,function(e,n){var r=t.find(n.selector).eq(i),a=r.data("collection-settings");a&&(a.name_prefix=a.name_prefix.replace(s,c),r.data("collection-settings",a))}),l(n,i,s,c),s=new RegExp(u(t.attr("id")+"_"+a),"g"),c=t.attr("id")+"_"+o,r.children&&e.each(r.children,function(e,n){var r=t.find(n.selector).eq(i),a=r.data("collection-settings");a&&(a.elements_parent_selector=a.elements_parent_selector.replace(s,c),a.elements_selector=a.elements_selector.replace(s,c),a.prefix=a.prefix.replace(s,c),r.data("collection-settings",a))}),l(n,i,s,c)},d=function(e,t,n,r){var i=e.data("collection-settings");return i.position_field_selector||i.preserve_names||(c(e,t,i,n,n,"__swap__"),c(e,t,i,r,r,n),c(e,t,i,n,"__swap__",r)),t.eq(n).insertBefore(t.eq(r)),r>n?t.eq(r).insertBefore(t.eq(n)):t.eq(r).insertAfter(t.eq(n)),e.find(i.elements_selector)},f=function(e,t,n,r,i){for(var a=r+1;a<=i;a++)t=d(e,t,a,a-1);return e.find(n.elements_selector)},h=function(e,t,n,r,i){for(var a=r-1;a>=i;a--)t=d(e,t,a,a+1);return e.find(n.elements_selector)},p=function(e,t,n,r){for(var i=r+1;i<t.length;i++)t=d(e,t,i-1,i);return e.find(n.elements_selector)},m=function(t,n,r,a){var o=e(n.elements_parent_selector),s=0===o.find("."+n.prefix+"-tmp").length,u=t.find(n.elements_selector);if(n.allow_add&&s&&(o.append('<span class="'+n.prefix+'-tmp"></span>'),n.add&&o.append(e(n.add).addClass(n.prefix+"-action "+n.prefix+"-rescue-add").data("collection",t.attr("id")))),r){t.data("collection-offset",u.length);for(var l=e(n.container),c=t.find("."+n.prefix+"-add, ."+n.prefix+"-rescue-add, ."+n.prefix+"-duplicate").first(),d=0;u.length<n.init_with_n_elements;){d++;var f=u.length>0?u.last():void 0,h=u.length-1;if(u=g(l,c,t,n,u,f,h,!1),d>n.init_with_n_elements){console.error("Infinite loop, element selector ("+n.elements_selector+") not found !");break}}t.data("collection-offset",u.length)}if(u.each(function(o){var s=e(this);r&&s.data("index",o);var l=s.find("."+n.prefix+"-actions").addBack().filter("."+n.prefix+"-actions");0===l.length&&(l=e('<div class="'+n.prefix+'-actions"></div>'),s.append(l));var c=0;"remove"===a&&n.fade_out&&(c=1);var d=[{enabled:n.allow_remove,selector:n.prefix+"-remove",html:n.remove,condition:u.length-c>n.min},{enabled:n.allow_up,selector:n.prefix+"-up",html:n.up,condition:u.length-c>1&&u.index(s)-c>0},{enabled:n.allow_down,selector:n.prefix+"-down",html:n.down,condition:u.length-c>1&&u.index(s)!==u.length-1},{enabled:n.allow_add&&!n.add_at_the_end&&!n.custom_add_location,selector:n.prefix+"-add",html:n.add,condition:u.length-c<n.max},{enabled:n.allow_duplicate,selector:n.prefix+"-duplicate",html:n.duplicate,condition:u.length-c<n.max}];e.each(d,function(r,a){if(a.enabled){var u=s.find("."+a.selector);0===u.length&&a.html&&(u=e(a.html).appendTo(l).addClass(a.selector)),a.condition?(u.removeClass(n.prefix+"-action-disabled"),n.hide_useless_buttons&&u.css("display","")):(u.addClass(n.prefix+"-action-disabled"),n.hide_useless_buttons&&u.css("display","none")),u.addClass(n.prefix+"-action").data("collection",t.attr("id")).data("element",i(t.attr("id")+"_"+o,s))}else s.find("."+a.selector).css("display","none")})}),n.allow_add){var p=0;"remove"===a&&n.fade_out&&(p=1);var m=t.find("."+n.prefix+"-rescue-add").css("display","").removeClass(n.prefix+"-action-disabled"),v=t.find("."+n.prefix+"-add");!n.add_at_the_end&&v.length>p||n.custom_add_location?m.css("display","none"):"remove"===a&&n.fade_out&&(m.css("display","none"),m.fadeIn("fast")),u.length-p>=n.max&&(m.addClass(n.prefix+"-action-disabled"),n.hide_useless_buttons&&t.find("."+n.prefix+"-add, ."+n.prefix+"-rescue-add, ."+n.prefix+"-duplicate").css("display","none"))}},v=function(t,n,r){r.children&&e.each(r.children,function(e,r){if(!r.selector)return console.log("jquery.collection.js: given collection "+t.attr("id")+" has children collections, but children's root selector is undefined."),!0;null!==n?n.find(r.selector).collection(r):t.find(r.selector).collection(r)})},g=function(t,n,r,i,l,c,d,f){if(l.length<i.max&&(f&&s(i.before_duplicate(r,c))||s(i.before_add(r,c)))){var h=r.data("prototype"),g=r.data("collection-offset");r.data("collection-offset",g+1),-1===d&&(d=l.length-1);var w=new RegExp(u(i.prototype_name),"g"),x=g;i.preserve_names&&(void 0===(x=r.data("collection-free-key"))&&(x=y(i,l)),r.data("collection-free-key",x+1));var T=e(h.replace(w,x)).data("index",g);k(i,T);var C=e(i.elements_parent_selector).find("> ."+i.prefix+"-tmp");e(T).find("[id]").first().attr("id");if(f){var S=l.eq(d);!function(t){e(t).find(":input").each(function(e,t){o(t,a(t),!0)})}(S);var A=e("<div/>").append(S.clone()).html(),R=i.preserve_names||i.position_field_selector?S.data("index"):d,L=i.preserve_names?E(i,S):R,I=function(e,t,n,r,i,a,o){var s=new RegExp(u(t.name_prefix+"["+a+"]"),"g"),l=t.name_prefix+"["+o+"]";return n=n.replace(s,l),s=new RegExp(u(e.attr("id")+"_"+r),"g"),l=e.attr("id")+"_"+i,n=n.replace(s,l)}(r,i,A,R,g,L,x);T=e("<div/>").html(I).contents().data("index",g),i.fade_in&&T.hide(),C.before(T).find(i.prefix+"-actions").remove()}else i.fade_in&&T.hide(),C.before(T);l=r.find(i.elements_selector);var O=T.find("."+i.prefix+"-add, ."+i.prefix+"-duplicate");O.length>0&&O.addClass(i.prefix+"-action").data("collection",r.attr("id")),i.add_at_the_end||d+1===g?m(r,i,!1):l=b(r,i,l,T,g,d+1),v(r,T,i),(f&&!s(i.after_duplicate(r,T))||!s(i.after_add(r,T)))&&(-1!==d&&(l=p(r,l,i,d+1)),T.remove())}if(void 0!==T&&i.fade_in)T.fadeIn("fast",function(){i.position_field_selector&&_(i,l)});else if(i.position_field_selector)return _(i,l);return l},w=function(t,n,r,i,a){if(r.length>n.min&&s(n.before_remove(t,i))){var o=function(){var o=i;n.preserve_names||(o=(r=p(t,r,n,a)).last());var u=o.clone({withDataAndEvents:!0}).show();(o.remove(),s(n.after_remove(t,u)))||(e(n.elements_parent_selector).find("> ."+n.prefix+"-tmp").before(u),r=t.find(n.elements_selector),r=function(e,t,n,r){for(var i=t.length-2;i>r;i--)t=d(e,t,i+1,i);return e.find(n.elements_selector)}(t,r,n,a-1));n.position_field_selector&&_(n,r)};n.fade_out?i.fadeOut("fast",function(){o()}):o()}return r},b=function(e,t,n,r,i,a){return 1===Math.abs(a-i)?(n=d(e,n,i,a),s(a-i>0?t.after_up(e,r):t.after_down(e,r))||(n=d(e,n,a,i))):i<a?(n=f(e,n,t,i,a),s(a-i>0?t.after_up(e,r):t.after_down(e,r))||(n=h(e,n,t,a,i))):(n=h(e,n,t,i,a),s(a-i>0?t.after_up(e,r):t.after_down(e,r))||(n=f(e,n,t,a,i))),m(e,t,!1),t.position_field_selector?_(t,n):n},_=function(t,n){return e(n).each(function(){var r=e(this);o(r.find(t.position_field_selector),n.index(r))}),n},E=function(e,t){return t.find(':input[name^="'+e.name_prefix+'["]').attr("name").slice(e.name_prefix.length+1).split("]",1)[0]},y=function(t,n){var r=0;return n.each(function(){var n=E(t,e(this));/^0|[1-9]\d*$/.test(n)&&n>=r&&(r=Number(n)+1)}),r},k=function(t,n){e.each(["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"],function(){var r=this;n.each(function(){var n=e(this);n.hasClass(t.user_prefix+r)&&n.addClass(t.prefix+r),n.find("*").each(function(){var n=e(this);n.hasClass(t.user_prefix+r)&&n.addClass(t.prefix+r)})})})},x=e(this);return 0===x.length?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(x.each(function(){var r=e.extend(!0,{},n,t);if(0===e(r.container).length)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var u,l,c=e(this);if(void 0!==c.data("collection")){var f=e("#"+c.data("collection"));if(0===f.length)return console.log("jquery.collection.js: given collection id does not exist."),!0}else f=c;if(f=e(f),r.elements_parent_selector=r.elements_parent_selector.replace("%id%","#"+i("",f)),!r.elements_parent_selector&&(r.elements_parent_selector="#"+i("",f),0===e(r.elements_parent_selector).length))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(r.user_prefix=r.prefix,r.prefix=f.attr("id")+"-"+r.user_prefix,k(r,f),r.allow_add||(r.allow_duplicate=!1,r.add_at_the_end=!1),r.init_with_n_elements>r.max&&(r.init_with_n_elements=r.max),r.min&&(!r.init_with_n_elements||r.init_with_n_elements<r.min)&&(r.init_with_n_elements=r.min),r.before_init(f),null===f.data("prototype"))return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(void 0!==f.data("prototype-name")&&(r.prototype_name=f.data("prototype-name")),void 0!==f.data("allow-add")&&(r.allow_add=f.data("allow-add"),r.allow_duplicate=!!f.data("allow-add")&&r.allow_duplicate),void 0!==f.data("allow-remove")&&(r.allow_remove=f.data("allow-remove")),void 0!==f.data("name-prefix")&&(r.name_prefix=f.data("name-prefix")),!r.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;(r.preserve_names&&(r.allow_up=!1,r.allow_down=!1,r.drag_drop=!1,r.add_at_the_end=!0),void 0!==jQuery.ui&&void 0!==jQuery.ui.sortable&&f.data("sortable")&&f.sortable("disable"),r.drag_drop&&r.allow_up&&r.allow_down)&&(void 0===jQuery.ui||void 0===jQuery.ui.sortable?r.drag_drop=!1:f.sortable(e.extend(!0,{},{start:function(t,n){var i=f.find(r.elements_selector),a=n.item,o=e(this);s(r.drag_drop_start(t,n,i,a))?(n.placeholder.height(n.item.height()),n.placeholder.width(n.item.width()),u=i.index(a)):o.sortable("cancel")},update:function(t,n){var i=f.find(r.elements_selector),a=n.item;e(this).sortable("cancel"),!1!==r.drag_drop_update(t,n,i,a)&&s(l-u>0?r.before_up(f,a):r.before_down(f,a))&&(l=i.index(a),i=f.find(r.elements_selector),b(f,r,i,a,u,l))}},r.drag_drop_options)));f.data("collection-settings",r);var h=e(r.container);if(h.off("click","."+r.prefix+"-action").on("click","."+r.prefix+"-action",function(t){var n,r,i=e(this);if(void 0===(r=(n=e("#"+i.data("collection"))).data("collection-settings"))&&void 0===(r=(n=e("#"+i.data("collection")).find("."+i.data("collection")+"-collection")).data("collection-settings")))throw"Can't find collection: "+i.data("collection");var a=n.find(r.elements_selector),o=i.data("element")?e("#"+i.data("element")):void 0,u=o&&o.length?a.index(o):-1,l=null,c=i.is("."+r.prefix+"-duplicate");(i.is("."+r.prefix+"-add")||i.is("."+r.prefix+"-rescue-add")||c)&&r.allow_add&&(l="add",a=g(h,i,n,r,a,o,u,c)),i.is("."+r.prefix+"-remove")&&r.allow_remove&&(l="remove",a=w(n,r,a,o,u)),i.is("."+r.prefix+"-up")&&r.allow_up&&(l="up",a=function(e,t,n,r,i){return 0!==i&&s(t.before_up(e,r))&&(n=d(e,n,i,i-1),s(t.after_up(e,r))||(n=d(e,n,i-1,i))),t.position_field_selector?_(t,n):n}(n,r,a,o,u)),i.is("."+r.prefix+"-down")&&r.allow_down&&(l="down",a=function(e,t,n,r,i){return i!==n.length-1&&s(t.before_down(e,r))&&(n=d(e,n,i,i+1),s(t.after_down(e,n))||(n=d(e,n,i+1,i))),t.position_field_selector?_(t,n):n}(n,r,a,o,u)),m(n,r,!1,l),t.preventDefault()}),m(f,r,!0),v(f,null,r),r.position_field_selector){var p=[],E=f.find(r.elements_selector);E.each(function(t){var n=e(this);p.push({position:parseFloat(a(n.find(r.position_field_selector))),element:n})});p.sort(function(e,t){return e.position<t.position?-1:e.position>t.position?1:0}),e.each(p,function(t,n){var i=[];e(E).each(function(t){i.push(e(this).attr("id"))});var a=n.element,s=e.inArray(a.attr("id"),i);t!==s&&(E=b(f,r,E,a,s,t),o(a.find(r.position_field_selector),E.index(a)))})}r.after_init(f)}),!0)}}(jQuery)},Mb7i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));var i=e.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(n)],{type:i})}},MjFt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"rz-button",props:["isActive","callback"]}},NAyJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("dACh")),i=a(n("jx4H"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,r.default)(this,e),this.textarea=t,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;var i={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled"),extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(i.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,i),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(function(){document.querySelectorAll("[data-uk-switcher]").forEach(function(t){t.addEventListener("show.uk.switcher",e.forceEditorUpdate)}),e.forceEditorUpdate()}))}},{key:"forceEditorUpdate",value:function(){this.editor.refresh()}},{key:"textareaChange",value:function(){this.editor.save()}},{key:"textareaFocus",value:function(){this.cont.classList.add("form-col-focus")}},{key:"textareaBlur",value:function(){this.cont.classList.remove("form-col-focus")}},{key:"destroy",value:function(){}},{key:"resize",value:function(){}}]),e}();t.default=o},"NC+4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("T4f3")),i=n("SJI6"),a=o(n("e0io"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={mounted:function(){this.tagsInitData()},computed:(0,r.default)({},(0,i.mapState)({value:function(e){return e.tags.value},options:function(e){return e.tags.options}})),methods:(0,r.default)({},(0,i.mapActions)(["tagsUpdateValue","tagsInitData"]),{addTag:function(e){var t={name:e};this.options.push(t),this.value.push(t),this.tagsUpdateValue(this.value)}}),components:{Multiselect:a.default}}},NSsB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("T4f3")),i=u(n("lRwf")),a=n("SJI6"),o=u(n("tlfz")),s=u(n("1MrQ"));function u(e){return e&&e.__esModule?e:{default:e}}i.default.use(o.default),t.default={data:function(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:(0,r.default)({},(0,a.mapState)({connected:function(e){return e.connected},healthChecked:function(e){return e.healthChecked},translations:function(e){return e.translations}})),components:{WarningModal:s.default}}},"O/s3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getNodeTypesByIds=function(e){var t=this,n=e.ids,a=void 0===n?[]:n;a=a.map(function(e){return e.trim()});for(var o={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"},s=0;s<a.length;s++)o["names["+s+"]"]=a[s];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.items){e.next=7;break}return e.abrupt("return",{items:i.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getNodeTypes=function(e){var t=this,n=e.searchTerms,a=(e.preFilters,e.filters),o=(e.filterExplorerSelection,e.moreData),s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};o&&(s.page=a?a.nextPage:1);return fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.nodeTypes){e.next=7;break}return e.abrupt("return",{items:i.nodeTypes,filters:i.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},O7VT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("8Wgj"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("BuFs"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},Ow2O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("dACh")),i=a(n("jx4H"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,r.default)(this,e),this.textarea=t,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;var i={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled"),extraKeys:{Tab:function(e){return e.execCommand("indentMore")},"Shift-Tab":function(e){return e.execCommand("indentLess")}}};this.settingRow&&(i.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,i),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(function(){document.querySelectorAll("[data-uk-switcher]").forEach(function(t){t.addEventListener("show.uk.switcher",e.forceEditorUpdate)}),e.forceEditorUpdate()}))}},{key:"forceEditorUpdate",value:function(){this.editor.refresh()}},{key:"textareaChange",value:function(){this.editor.save()}},{key:"textareaFocus",value:function(){this.cont.classList.add("form-col-focus")}},{key:"textareaBlur",value:function(){this.cont.classList.remove("form-col-focus")}},{key:"destroy",value:function(){}},{key:"resize",value:function(){}}]),e}();t.default=o},"P+ed":function(e,t,n){var r=n("l7nD");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("X/Wc")("ac51e0cc",r,!0,{})},PKoN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("dACh")),i=a(n("jx4H"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,r.default)(this,e),this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;this.maxLengthed.length&&this.maxLengthed.forEach(function(t){t.addEventListener("keyup",e.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(function(t){t.addEventListener("keyup",e.onMinKeyUp)})}},{key:"unbind",value:function(){var e=this;this.maxLengthed.length&&this.maxLengthed.forEach(function(t){t.removeEventListener("keyup",e.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(function(t){t.removeEventListener("keyup",e.onMinKeyUp)})}},{key:"onMaxKeyUp",value:function(e){var t=e.currentTarget,n=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>n?t.classList.add("uk-form-danger"):t.classList.remove("uk-form-danger")}},{key:"onMinKeyUp",value:function(e){var t=e.currentTarget,n=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=n?t.classList.add("uk-form-danger"):t.classList.remove("uk-form-danger")}}]),e}();t.default=o},PbGk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("dACh")),i=a(n("jx4H"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,r.default)(this,e),this.adminMenuNav=document.getElementById("admin-menu-nav"),this.replaceSubNavs()}return(0,i.default)(e,[{key:"replaceSubNavs",value:function(){this.adminMenuNav.querySelectorAll(".uk-nav-sub").forEach(function(e){e.style.display="block";var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().height;e.style.display=null,t+n+20>window.innerHeight&&e.parentElement.classList.add("reversed-nav")})}}]),e}();t.default=o},QKcT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("aIIw")),i=s(n("kcQR")),a=s(n("dACh")),o=s(n("jx4H"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,a.default)(this,e),this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){var e=this;this.buttons.forEach(function(t){return t.addEventListener("click",e.buttonClick)})}},{key:"unbind",value:function(){var e=this;this.buttons.forEach(function(t){return t.removeEventListener("click",e.buttonClick)})}},{key:"buttonClick",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,a,o,s,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=t.currentTarget.parentElement.parentElement.querySelector(".uk-form")).querySelectorAll("input[type=file]").length){e.next=5;break}return n.requestSubmit(),e.abrupt("return",!1);case 5:return n.classList.contains("uk-has-errors")&&(n.querySelector(".uk-alert").remove(),n.classList.remove("uk-has-errors")),window.Rozier.lazyload.canvasLoader.show(),i=new window.FormData(n),e.next=10,fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:i});case 10:if((a=e.sent).ok){e.next=28;break}return e.next=14,a.json();case 14:if(!(o=e.sent).errors||!o.errors.value){e.next=19;break}for(s in o.errors.value)n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+o.errors.value[s]+"</span>");e.next=28;break;case 19:if(!o.errors){e.next=28;break}e.t0=r.default.keys(o.errors);case 21:if((e.t1=e.t0()).done){e.next=28;break}return u=e.t1.value,n.classList.add("uk-has-errors"),n.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+o.errors[u]+"</span>"),e.abrupt("break",28);case 28:return e.next=30,window.Rozier.getMessages();case 30:return window.Rozier.lazyload.canvasLoader.hide(),e.abrupt("return",!1);case 32:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resize",value:function(){}}]),e}();t.default=u},RIYy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("aIIw")),i=d(n("kcQR")),a=d(n("dACh")),o=d(n("jx4H")),s=n("Tzw7"),u=n("EQNM"),l=d(n("6snJ")),c=d(n("Vef5"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){var r=this;(0,a.default)(this,e),this.markdownit=new l.default,this.markdownit.use(c.default),this.textarea=t,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&"rtl"===this.textarea.getAttribute("dir")?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&"disabled"===this.textarea.getAttribute("disabled")}),this.editor.addKeyMap({"Ctrl-B":function(e){e.replaceSelections(r.boldSelections())},"Ctrl-I":function(e){e.replaceSelections(r.italicSelections())},"Cmd-B":function(e){e.replaceSelections(r.boldSelections())},"Cmd-I":function(e){e.replaceSelections(r.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=n,this.buttonCode=null,this.buttonPreview=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){var e=this;if(this.editor.on("change",this.textareaChange),this.cont&&this.textarea){this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),!0===this.editor.getOption("readOnly")&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(function(t){t.setAttribute("data-index",e.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(function(t){t.setAttribute("data-index",e.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(function(t){t.setAttribute("data-index",e.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(function(t){t.setAttribute("data-index",e.index)}),this.$editor.setAttribute("data-index",this.index);var t=document.createElement("div");t.classList.add("markdown-editor-tabs"),this.$editor.before(t),this.tabs=t,this.previewContainer=document.getElementById("codemirror-preview-containers");var n=document.createElement("div");n.classList.add("markdown-editor-preview"),this.$editor.after(n),this.preview=n,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&""!==this.textarea.getAttribute("data-max-length")&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=(0,s.stripTags)(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&""!==this.textarea.getAttribute("data-min-length")&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&""===this.textarea.getAttribute("data-min-length")&&""===this.textarea.getAttribute("data-max-length")&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&((0,s.stripTags)(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,(0,s.addClass)(this.cont,"content-limit")):(0,s.stripTags)(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,(0,s.addClass)(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(function(t){t.addEventListener("click",e.buttonPreviewClick)}),this.buttons.forEach(function(t){t.addEventListener("click",e.buttonClick)}),window.requestAnimationFrame(function(){document.querySelectorAll("[data-uk-switcher]").forEach(function(t){t.addEventListener("show.uk.switcher",e.forceEditorUpdate)}),e.forceEditorUpdate()})}}},{key:"onDropFile",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n){var i,a,o,s,u,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(n),i=0;case 2:if(!(i<n.dataTransfer.files.length)){e.next=27;break}return window.Rozier.lazyload.canvasLoader.show(),a=n.dataTransfer.files[i],(o=new FormData).append("_token",window.RozierConfig.ajaxToken),o.append("form[attachment]",a),e.next=10,fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json"},body:o});case 10:if((s=e.sent).ok){e.next=18;break}return e.next=14,s.json();case 14:(u=e.sent).errors&&window.UIkit.notify({message:u.message,status:"danger",timeout:2e3,pos:"top-center"}),e.next=24;break;case 18:return e.next=20,s.json();case 20:return l=e.sent,e.next=23,window.Rozier.getMessages();case 23:this.onDropFileUploaded(t,l);case 24:i++,e.next=2;break;case 27:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onDropFileUploaded",value:function(e,t){if(window.Rozier.lazyload.canvasLoader.hide(),!0===t.success){var n="!["+t.document.name+"]("+t.document.url+")";e.replaceSelection(n)}}},{key:"forceEditorUpdate",value:function(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}},{key:"buttonClick",value:function(e){if(!0===this.editor.getOption("readOnly"))return!1;var t=e.currentTarget,n=this.editor.getSelections();if(n.length>0){switch(t.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(n));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(n));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(n));break;case"link":this.editor.replaceSelections(this.linkSelections(n));break;case"image":this.editor.replaceSelections(this.imageSelections(n));break;case"bold":this.editor.replaceSelections(this.boldSelections(n));break;case"italic":this.editor.replaceSelections(this.italicSelections(n));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(n));break;case"h2":this.editor.replaceSelections(this.h2Selections(n));break;case"h3":this.editor.replaceSelections(this.h3Selections(n));break;case"h4":this.editor.replaceSelections(this.h4Selections(n));break;case"h5":this.editor.replaceSelections(this.h5Selections(n));break;case"h6":this.editor.replaceSelections(this.h6Selections(n));break;case"back":this.editor.replaceSelections(this.backSelections(n));break;case"hr":this.editor.replaceSelections(this.hrSelections(n))}this.editor.focus()}}},{key:"backSelections",value:function(e){for(var t in e)e[t]="   \n";return e}},{key:"hrSelections",value:function(e){for(var t in e)e[t]="\n\n---\n\n";return e}},{key:"nbspSelections",value:function(e){for(var t in e)e[t]="";return e}},{key:"nbHyphenSelections",value:function(e){for(var t in e)e[t]="";return e}},{key:"listUlSelections",value:function(e){for(var t in e)e[t]="\n\n* "+e[t]+"\n\n";return e}},{key:"linkSelections",value:function(e){for(var t in e)e[t]="["+e[t]+"](http://)";return e}},{key:"imageSelections",value:function(e){for(var t in e||(e=this.editor.getSelections()),e)e[t]="!["+e[t]+"](/files/)";return e}},{key:"boldSelections",value:function(e){for(var t in e||(e=this.editor.getSelections()),e)e[t]="**"+e[t]+"**";return e}},{key:"italicSelections",value:function(e){for(var t in e||(e=this.editor.getSelections()),e)e[t]="*"+e[t]+"*";return e}},{key:"h2Selections",value:function(e){for(var t in e)e[t]="\n## "+e[t]+"\n";return e}},{key:"h3Selections",value:function(e){for(var t in e)e[t]="\n### "+e[t]+"\n";return e}},{key:"h4Selections",value:function(e){for(var t in e)e[t]="\n#### "+e[t]+"\n";return e}},{key:"h5Selections",value:function(e){for(var t in e)e[t]="\n##### "+e[t]+"\n";return e}},{key:"h6Selections",value:function(e){for(var t in e)e[t]="\n###### "+e[t]+"\n";return e}},{key:"blockquoteSelections",value:function(e){for(var t in e)e[t]="\n> "+e[t]+"\n";return e}},{key:"textareaChange",value:function(){var e=this;this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(function(){e.preview.innerHTML=e.markdownit.render(e.editor.getValue())})),this.limit&&window.requestAnimationFrame(function(){var t=e.editor.getValue(),n=(0,s.stripTags)(t).length;e.countCurrent[0].innerHTML=n,n>e.countMaxLimit?e.countAlertActive||(e.cont.classList.add("content-limit"),e.countAlertActive=!0):n<e.countMinLimit?e.countAlertActive||(e.cont.classList.add("content-limit"),e.countAlertActive=!0):e.countAlertActive&&(e.cont.classList.remove("content-limit"),e.countAlertActive=!1)})}},{key:"textareaFocus",value:function(){this.cont.classList.add("form-col-focus")}},{key:"textareaBlur",value:function(){this.cont.classList.remove("form-col-focus")}},{key:"buttonPreviewClick",value:function(e){e.preventDefault();var t=this.preview.offsetWidth;if(this.usePreview)this.closePreview();else{this.usePreview=!0,this.buttonPreview.forEach(function(e){e.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),u.TweenLite.fromTo(this.preview,1,{x:-1*t,opacity:0},{x:0,ease:u.Expo.easeOut,opacity:1}),window.addEventListener("keyup",this.closePreview);var n=new CustomEvent("markdownPreviewOpen",{detail:this});document.body.dispatchEvent(n)}}},{key:"closePreview",value:function(e){var t=this;if(e){if(27!==e.keyCode)return;e.preventDefault()}var n=this.preview.offsetWidth;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(function(e){e.classList.remove("uk-active","active")}),u.TweenLite.fromTo(this.preview,1,{x:0,opacity:1},{x:-1*n,opacity:0,ease:u.Expo.easeOut,onComplete:function(){t.preview.classList.remove("active")}})}},{key:"destroy",value:function(){this.preview.remove()}},{key:"resize",value:function(){}}]),e}();t.default=f},RfA7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getTags=function(e){var t=this,n=e.searchTerms,a=e.filters,o=e.filterExplorerSelection,s=e.moreData,u={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:n,page:1};s&&(u.page=a?a.nextPage:1);o&&o.id&&(u.tagId=o.id);return fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.tags){e.next=5;break}return e.abrupt("return",{items:i.tags,filters:i.filters});case 5:throw new Error("No tags found");case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getTagsByIds=function(e){for(var t=this,n=e.ids,a=void 0===n?[]:n,o={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"},s=0;s<a.length;s++)o["ids["+s+"]"]=a[s];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.tags){e.next=7;break}return e.abrupt("return",{items:i.tags});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.createTag=function(e){var t=this,n=e.tagName,a={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:n};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(a),{method:"POST",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.tag){e.next=5;break}return e.abrupt("return",i.tag);case 5:throw new Error("Tag creation error");case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},SJI6:function(e,t){e.exports=Vuex},SwUv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("aIIw")),i=b(n("kcQR")),a=b(n("L3Vt")),o=b(n("HxWs")),s=b(n("dACh")),u=b(n("jx4H")),l=b(n("pmdL")),c=b(n("PbGk")),d=b(n("5J2Y")),f=n("EQNM"),h=b(n("T2ht")),p=b(n("stwt")),m=b(n("KTjH")),v=b(n("9dW9")),g=n("inh7"),w=n("+z8M");function b(e){return e&&e.__esModule?e:{default:e}}n("jhqH");var _=function(){function e(){(0,s.default)(this,e),this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.mobile=null,this.minifyTreePanelButton=null,this.mainTrees=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.entriesPanel=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}return(0,u.default)(e,[{key:"onDocumentReady",value:function(){var e=this;this.setupCollapsedNestableState(),this.lazyload=new l.default,this.entriesPanel=new c.default,this.vueApp=new d.default,this.mobile=new p.default,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(function(t){t.addEventListener("click",e.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),(0,m.default)(),(0,v.default)(),window.addEventListener("pageshowend",function(){(0,m.default)(),(0,v.default)(),e.syncCollapsedNestableState()})}},{key:"setupCollapsedNestableState",value:function(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){e.children(this.options._listClass).length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}},{key:"saveCollapsedNestableState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",(0,o.default)(e))}},{key:"syncCollapsedNestableState",value:function(){this.collapsedNestableState.nodes.forEach(function(e){document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(function(e){e.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(function(e){document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(function(e){e.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(function(e){document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(function(e){e.classList.add("uk-collapsed")})})}},{key:"initNestables",value:function(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(function(e){var t={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?t.group="nodeTree":e.classList.contains("tagtree")?t.group="tagTree":e.classList.contains("foldertree")&&(t.group="folderTree"),window.UIkit.nestable(e,t)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}},{key:"bindMainTrees",value:function(){var e=this;document.querySelectorAll(".nodetree-widget .root-tree").forEach(function(t){var n=$(t);n.off("change.uk.nestable",e.onNestableNodeTreeChange),n.on("change.uk.nestable",e.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(function(t){var n=$(t);n.off("change.uk.nestable",e.onNestableTagTreeChange),n.on("change.uk.nestable",e.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(function(t){var n=$(t);n.off("change.uk.nestable",e.onNestableFolderTreeChange),n.on("change.uk.nestable",e.onNestableFolderTreeChange)}),this.mainTrees.querySelectorAll(".tree-element-name").forEach(function(t){t.removeEventListener("contextmenu",e.maintreeElementNameRightClick),t.addEventListener("contextmenu",e.maintreeElementNameRightClick)})}},{key:"maintreeElementNameRightClick",value:function(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(function(e){e.classList.contains("uk-open")&&e.classList.remove("uk-open")});var t=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return t&&(t.classList.contains("uk-open")?t.classList.remove("uk-open"):t.classList.add("uk-open")),!1}},{key:"bindMainNodeTreeLangs",value:function(){var e=this;document.body.addEventListener("click",function(t){var n=t.target.closest("#tree-container .nodetree-langs a");if(n){e.lazyload.canvasLoader.show();var r=parseInt(n.getAttribute("data-translation-id"),10);return e.refreshMainNodeTree(r),!1}})}},{key:"fetchSessionMessages",value:function(){var e=this;return new a.default(function(){var t=(0,i.default)(r.default.mark(function t(n,i){var a,o,s,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),o=window.RozierConfig.routes.ajaxSessionMessages+"?"+a.toString(),e.prev=2,e.next=5,fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:(u=e.sent).messages||n([]),n(u.messages),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i(e.t0);case 16:case"end":return e.stop()}},t,e,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"getMessages",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSessionMessages();case 2:(t=e.sent).confirm&&Array.isArray(t.confirm)&&t.confirm.length>0&&t.confirm.forEach(function(e){window.UIkit.notify({message:e,status:"success",timeout:2e3,pos:"top-center"})}),t.error&&Array.isArray(t.error)&&t.error.length>0&&t.error.forEach(function(e){window.UIkit.notify({message:e,status:"error",timeout:2e3,pos:"top-center"})});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refreshAllNodeTrees",value:function(e){var t=this,n=[];return n.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&n.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(function(e){n.push(t.lazyload.childrenNodesFields.refreshNodeTree(e))}),a.default.all(n)}},{key:"refreshMainNodeTree",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,n,i,a,o,s,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#tree-container .nodetree-widget")){e.next=4;break}return console.debug("No main node-tree available."),e.abrupt("return");case 4:return(n=t.querySelector(".root-tree"))&&!l&&(l=n.getAttribute("data-translation-id")),e.prev=6,i=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:l||null}),a=window.RozierConfig.routes.nodesTreeAjax+"?"+i.toString(),e.next=11,fetch(a,{method:"GET",headers:{Accept:"application/json"}});case 11:if((o=e.sent).ok){e.next=14;break}throw o;case 14:return e.next=16,o.json();case 16:if(void 0===(s=e.sent).nodeTree){e.next=35;break}return e.next=20,(0,g.fadeOut)(t);case 20:if(t.insertAdjacentHTML("afterend",s.nodeTree),t.remove(),!(u=document.querySelector("#tree-container .nodetree-widget"))){e.next=28;break}return e.next=26,(0,g.fadeIn)(u);case 26:e.next=30;break;case 28:return console.debug("No main node-tree available."),e.abrupt("return");case 30:this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink(),this.lazyload.nodeTreeContextActions=new h.default;case 35:e.next=43;break;case 37:return e.prev=37,e.t0=e.catch(6),console.log("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),e.next=42,(0,w.sleep)(3e3);case 42:this.refreshMainNodeTree(l);case 43:this.lazyload.canvasLoader.hide();case 44:case"end":return e.stop()}},e,this,[[6,37]])}));return function(){return e.apply(this,arguments)}}()},{key:"refreshMainTagTree",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,n,i,a,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#tree-container .tagtree-widget")){e.next=4;break}return console.debug("No main tag-tree available."),e.abrupt("return");case 4:return n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),i=window.RozierConfig.routes.tagsTreeAjax+"?"+n.toString(),e.next=8,fetch(i,{method:"GET",headers:{Accept:"application/json"}});case 8:return a=e.sent,e.next=11,a.json();case 11:if(void 0===(o=e.sent).tagTree){e.next=29;break}return e.next=15,(0,g.fadeOut)(t);case 15:if(t.insertAdjacentHTML("afterend",o.tagTree),t.remove(),!(s=document.querySelector("#tree-container .tagtree-widget"))){e.next=23;break}return e.next=21,(0,g.fadeIn)(s);case 21:e.next=25;break;case 23:return console.debug("No main tag-tree available."),e.abrupt("return");case 25:this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink();case 29:this.lazyload.canvasLoader.hide();case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refreshMainFolderTree",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,n,i,a,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#tree-container .foldertree-widget")){e.next=4;break}return console.debug("No main folder-tree available."),e.abrupt("return");case 4:return n=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),i=window.RozierConfig.routes.foldersTreeAjax+"?"+n.toString(),e.next=8,fetch(i,{method:"GET",headers:{Accept:"application/json"}});case 8:return a=e.sent,e.next=11,a.json();case 11:if(void 0===(o=e.sent).folderTree){e.next=29;break}return e.next=15,(0,g.fadeOut)(t);case 15:if(t.insertAdjacentHTML("afterend",o.folderTree),t.remove(),!(s=document.querySelector("#tree-container .foldertree-widget"))){e.next=23;break}return e.next=21,(0,g.fadeIn)(s);case 21:e.next=25;break;case 23:return console.debug("No main folder-tree available."),e.abrupt("return");case 25:this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink();case 29:this.lazyload.canvasLoader.hide();case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleTreesPanel",value:function(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}},{key:"openTreesPanel",value:function(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}},{key:"toggleUserPanel",value:function(){return document.getElementById("user-panel").classList.toggle("minified"),!1}},{key:"onNestableCollapse",value:function(e){var t=e.detail;if(t[0]){switch(!0){case null!==t[0].getAttribute("data-node-id"):this.collapsedNestableState.nodes.push(t[0].getAttribute("data-node-id"));break;case null!==t[0].getAttribute("data-tag-id"):this.collapsedNestableState.tags.push(t[0].getAttribute("data-tag-id"));break;case null!==t[0].getAttribute("data-folder-id"):this.collapsedNestableState.folders.push(t[0].getAttribute("data-folder-id"))}this.saveCollapsedNestableState(this.collapsedNestableState)}}},{key:"onNestableExpand",value:function(e){var t=e.detail;if(t[0]){switch(!0){case null!==t[0].getAttribute("data-node-id"):this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(t[0].getAttribute("data-node-id")),1);break;case null!==t[0].getAttribute("data-tag-id"):this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(t[0].getAttribute("data-tag-id")),1);break;case null!==t[0].getAttribute("data-folder-id"):this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(t[0].getAttribute("data-folder-id")),1)}this.saveCollapsedNestableState(this.collapsedNestableState)}}},{key:"onNestableNodeTreeChange",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n,i,a){var o,s,u,l,c,d,f,h,p,m,v,g,w;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("removed"!==a){e.next=2;break}return e.abrupt("return",!1);case 2:if(i){e.next=4;break}return e.abrupt("return",!1);case 4:if(o=i[0]){e.next=8;break}return console.error("No element found"),e.abrupt("return",!1);case 8:if(s=parseInt(o.getAttribute("data-node-id")),u=null,l=o.parentElement.closest(".nodetree-element"),c=o.parentElement.closest(".stack-tree-widget"),d=o.parentElement.closest(".children-node-widget"),l?u=parseInt(l.getAttribute("data-node-id")):c?u=parseInt(c.getAttribute("data-parent-node-id")):d&&(u=parseInt(d.getAttribute("data-parent-node-id"))),isNaN(u)&&(u=null),s!==u){e.next=19;break}return console.error("You cannot move a node inside itself!"),window.location.reload(),e.abrupt("return",!1);case 19:return f={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:s,newParent:u},(h=o.nextElementSibling)&&void 0!==h.getAttribute("data-node-id")?f.nextNodeId=parseInt(h.getAttribute("data-node-id")):(p=o.previousElementSibling)&&void 0!==p.getAttribute("data-node-id")&&(f.prevNodeId=parseInt(p.getAttribute("data-node-id"))),e.prev=22,m=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",s),e.next=26,fetch(m,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(f)});case 26:if((v=e.sent).ok){e.next=29;break}throw v;case 29:return e.next=31,v.json();case 31:g=e.sent,window.UIkit.notify({message:g.responseText||g.detail,status:g.status,timeout:3e3,pos:"top-center"}),e.next=41;break;case 35:return e.prev=35,e.t0=e.catch(22),e.next=39,e.t0.json();case 39:w=e.sent,window.UIkit.notify({message:w.error_message||w.detail,status:"danger",timeout:3e3,pos:"top-center"});case 41:case"end":return e.stop()}},e,this,[[22,35]])}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"onNestableTagTreeChange",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n,i,a){var o,s,u,l,c,d,f,h,p,m,v;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("removed"!==a){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=i[0],s=parseInt(o.getAttribute("data-tag-id")),u=null,l=o.parentElement.closest(".tagtree-element"),c=o.parentElement.closest(".root-tree"),l?u=parseInt(l.getAttribute("data-tag-id")):c&&(u=parseInt(c.getAttribute("data-parent-tag-id"))),isNaN(u)&&(u=null),s!==u){e.next=14;break}return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),e.abrupt("return",!1);case 14:return d={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:s,newParent:u},(f=o.nextElementSibling)&&void 0!==f.getAttribute("data-tag-id")?d.nextTagId=parseInt(f.getAttribute("data-tag-id")):(h=o.previousElementSibling)&&void 0!==h.getAttribute("data-tag-id")&&(d.prevTagId=parseInt(h.getAttribute("data-tag-id"))),e.prev=17,e.next=20,fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",s),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(d)});case 20:if((p=e.sent).ok){e.next=23;break}throw p;case 23:return e.next=25,p.json();case 25:m=e.sent,window.UIkit.notify({message:m.responseText,status:m.status,timeout:3e3,pos:"top-center"}),e.next=35;break;case 29:return e.prev=29,e.t0=e.catch(17),e.next=33,e.t0.json();case 33:v=e.sent,window.UIkit.notify({message:v.error_message||v.detail,status:"danger",timeout:3e3,pos:"top-center"});case 35:case"end":return e.stop()}},e,this,[[17,29]])}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"onNestableFolderTreeChange",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n,i,a){var o,s,u,l,c,d,f,h,p,m,v;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("removed"!==a){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=i[0],s=parseInt(o.getAttribute("data-folder-id")),u=null,l=o.parentElement.closest(".foldertree-element"),c=o.parentElement.closest(".root-tree"),l?u=parseInt(l.getAttribute("data-folder-id")):c&&(u=parseInt(c.getAttribute("data-parent-folder-id"))),isNaN(u)&&(u=null),s!==u){e.next=14;break}return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),e.abrupt("return",!1);case 14:return d={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:s,newParent:u},(f=o.nextElementSibling)&&void 0!==f.getAttribute("data-folder-id")?d.nextFolderId=parseInt(f.getAttribute("data-folder-id")):(h=o.previousElementSibling)&&void 0!==h.getAttribute("data-folder-id")&&(d.prevFolderId=parseInt(h.getAttribute("data-folder-id"))),e.prev=17,e.next=20,fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",s),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(d)});case 20:if((p=e.sent).ok){e.next=23;break}throw p;case 23:return e.next=25,p.json();case 25:m=e.sent,window.UIkit.notify({message:m.responseText,status:m.status,timeout:3e3,pos:"top-center"}),e.next=35;break;case 29:return e.prev=29,e.t0=e.catch(17),e.next=33,e.t0.json();case 33:v=e.sent,window.UIkit.notify({message:v.error_message||v.detail,status:"danger",timeout:3e3,pos:"top-center"});case 35:case"end":return e.stop()}},e,this,[[17,29]])}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"backTopBtnClick",value:function(){return f.TweenLite.to(this.mainContentScrollable,.6,{scrollTo:{y:0},ease:f.Expo.easeOut}),!1}},{key:"resize",value:function(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.entriesPanel.replaceSubNavs(),this.resizeFirst&&(this.resizeFirst=!1)}}]),e}();t.default=_},T2ht:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("L3Vt")),i=u(n("aIIw")),a=u(n("kcQR")),o=u(n("dACh")),s=u(n("jx4H"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;(0,o.default)(this,e),this.onClick=this.onClick.bind(this),this.moveNodeToPosition=this.moveNodeToPosition.bind(this),document.querySelectorAll(".tree-contextualmenu").forEach(function(e){var n=e.querySelectorAll(".node-actions a"),r=e.querySelector("a.move-node-first-position"),i=e.querySelector("a.move-node-last-position");t.bind(n,r,i)})}return(0,s.default)(e,[{key:"bind",value:function(e,t,n){var r=this;e.forEach(function(e){e.removeEventListener("click",r.onClick),e.addEventListener("click",r.onClick)}),t&&(t.removeEventListener("click",function(e){return r.moveNodeToPosition("first",e)}),t.addEventListener("click",function(e){return r.moveNodeToPosition("first",e)})),n&&(n.removeEventListener("click",function(e){return r.moveNodeToPosition("last",e)}),n.addEventListener("click",function(e){return r.moveNodeToPosition("last",e)}))}},{key:"unbind",value:function(){}},{key:"onClick",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r,a,o,s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.currentTarget,r=n.closest(".nodetree-element"),a=parseInt(r.getAttribute("data-node-id")),o=n.getAttribute("data-status"),s=n.getAttribute("data-value"),void 0===(u=n.getAttribute("data-action"))){e.next=17;break}if(window.Rozier.lazyload.canvasLoader.show(),void 0===o||void 0===s){e.next=14;break}return e.next=12,this.changeStatus(a,o,s);case 12:e.next=17;break;case 14:if("duplicate"!==u){e.next=17;break}return e.next=17,this.duplicateNode(a);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeStatus",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postNodeUpdate(window.RozierConfig.routes.nodesStatusesAjax,{_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:t,statusName:n,statusValue:r});case 2:window.Rozier.lazyload.canvasLoader.hide();case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"duplicateNode",value:function(){var e=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postNodeUpdate(window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",t),{_token:window.RozierConfig.ajaxToken,_action:"duplicate",nodeId:t});case 2:window.Rozier.lazyload.canvasLoader.hide();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"moveNodeToPosition",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n){var r,a,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.Rozier.lazyload.canvasLoader.show(),r=n.currentTarget.closest(".nodetree-element"),a=parseInt(r.getAttribute("data-node-id")),o=parseInt(r.closest("ul").getAttribute("data-parent-node-id")),s={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:a},void 0!==t&&"first"===t?s.firstPosition=!0:void 0!==t&&"last"===t&&(s.lastPosition=!0),isNaN(o)&&(o=null),s.newParent=o,e.next=10,this.postNodeUpdate(window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",a),s);case 10:window.Rozier.lazyload.canvasLoader.hide();case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"postNodeUpdate",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n){var o=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new r.default(function(){var e=(0,a.default)(i.default.mark(function e(r,a){var s,u,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(n)});case 3:if((s=e.sent).ok){e.next=12;break}return e.next=7,s.json();case 7:u=e.sent,window.UIkit.notify({message:u.error_message,status:"danger",timeout:3e3,pos:"top-center"}),a(u),e.next=18;break;case 12:return e.next=14,s.json();case 14:l=e.sent,window.Rozier.refreshAllNodeTrees(),window.Rozier.getMessages(),r(l);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),a(e.t0);case 23:case"end":return e.stop()}},e,o,[[0,20]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=l},THhJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("T4f3")),i=d(n("lRwf")),a=n("SJI6"),o=n("xHmi"),s=d(n("fa0H")),u=d(n("RZXU")),l=d(n("pQmN")),c=n("EY70");function d(e){return e&&e.__esModule?e:{default:e}}t.default={props:["entity"],data:function(){return{drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null}},mounted:function(){var e=this;this.drawersAddInstance(this),i.default.nextTick(function(){e.drawerName=e.$refs.drawer.getAttribute("name"),e.entityName=e.$refs.drawer.getAttribute("data-entity-name");var t=e.ids,n=e.entity;t||(t=JSON.parse(e.$refs.drawer.getAttribute("data-initial-items"))),n||(n=e.$refs.drawer.getAttribute("data-accept-entity"));var r=e.$refs.drawer.getAttribute("data-is-sortable"),i=e.$refs.drawer.getAttribute("data-min-length"),a=e.$refs.drawer.getAttribute("data-max-length"),o=a?parseInt(a,10):9999,s=i?parseInt(i,10):0;e.groupName=n,e.isSortable="true"===r;var u=e.$refs.drawer.getAttribute("data-nodetypes"),l=e.$refs.drawer.getAttribute("data-nodetypefield"),c=e.$refs.drawer.getAttribute("data-nodetypename"),d={nodeTypes:u,nodeTypeField:l,providerClass:e.$refs.drawer.getAttribute("data-provider-class"),providerOptions:JSON.parse(decodeURIComponent(e.$refs.drawer.getAttribute("data-provider-options"))),nodeTypeName:c};e.drawersInitData({drawer:e.drawer,entity:n,ids:t,filters:d,maxLength:o,minLength:s,entityName:e.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:(0,r.default)({},(0,a.mapState)({isActive:function(){var e=this.$store.getters.drawersGetById(this._uid);return!!e&&e.isActive},trans:function(e){return e.drawers.trans},currentListingView:function(e){return e.explorer.currentListingView}}),{drawer:function(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get:function(){return this.drawer.items},set:function(e){this.$store.commit(o.DRAWERS_UPDATE_LIST,{drawer:this.drawer,newList:e})}}}),methods:(0,r.default)({},(0,a.mapActions)(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),{getOptions:function(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(e){this.drawersRemoveItem({drawer:this.drawer,item:e})},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.drawersAddItem({drawer:this.drawer,item:e,newIndex:t})},showSuccess:function(e,t){this.entityName===c.NODE_SOURCE_DOCUMENT_ENTITY?this.addItem({document:t.document,hotspot:null,imageCropAlignment:null}):this.addItem(t.document)},showError:function(e,t,n){console.error(e),console.error(t),console.error(n)}}),components:{RzButton:s.default,draggable:u.default,Dropzone:l.default}}},"TL+m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("T4f3")),i=n("SJI6"),a=l(n("kRS3")),o=l(n("O7VT")),s=l(n("XEtd")),u=l(n("H8iA"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],directives:{DynamicImg:s.default},filters:a.default,computed:{shortMimeType:function(){return(0,u.default)(this.document.shortMimeType,13)},filename:function(){return(0,u.default)(this.document.classname,12)},name:function(){return(0,u.default)(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:(0,r.default)({},(0,i.mapActions)(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)},getReferer:function(){return"?referer="+window.location.pathname},onPreviewClick:function(){this.documentPreviewOpen()},onMouseover:function(){this.documentPreviewInit({document:this.item})},onMouseleave:function(){this.documentPreviewDestroy({document:this.item})}}),components:{AjaxLink:o.default}}},TjfP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!(!this.currentItem||!this.currentItem.id)&&this.currentItem.id===this.item.id}}}},Tr2I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("aIIw")),i=u(n("kcQR")),a=u(n("dACh")),o=u(n("jx4H")),s=u(n("0iPh"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e),this.$list=(0,s.default)(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}},{key:"unbind",value:function(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}},{key:"onSortableChange",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n,i){var a,o,u,l,c,d,f,h,p;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target instanceof HTMLInputElement)){e.next=2;break}return e.abrupt("return");case 2:if(a=(0,s.default)(i),o=parseInt(a.data("id")),u=a.prev(),l=null,c=null,0===u.length?(u=a.next(),l=parseInt(u.data("id"))):c=parseInt(u.data("id")),(d=window.RozierConfig.routes.attributeValueAjaxEdit)&&o){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,fetch(d.replace("%attributeValueId%",o),{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:o,beforeAttributeValueId:l,afterAttributeValueId:c})});case 14:if((f=e.sent).ok){e.next=17;break}throw f;case 17:return e.next=19,f.json();case 19:h=e.sent,window.UIkit.notify({message:h.responseText,status:h.status,timeout:3e3,pos:"top-center"}),e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(11),e.next=27,e.t0.json();case 27:p=e.sent,window.UIkit.notify({message:p.title||"",status:"danger",timeout:3e3,pos:"top-center"});case 29:case"end":return e.stop()}},e,this,[[11,23]])}));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();t.default=l},Tzw7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toType=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};!function(){for(var e=void 0,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)i[e=n[r]]||(i[e]=t)}();t.stripTags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})},t.addClass=function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)},t.removeClass=function(e,t){if(e)if(e.classList)e.classList.remove(t);else{e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi"),"");var n=e.className.length-1;" "===e.className[n]&&(e.className=e.className.substring(0,n))}}},UIBU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("aIIw")),i=d(n("kcQR")),a=d(n("gc0D")),o=d(n("dACh")),s=d(n("jx4H")),u=d(n("ujpI")),l=n("inh7"),c=n("+z8M");function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.attached=!1,this.options={onSuccess:function(e){},onError:function(e){},onAdded:function(e){},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},void 0!==t&&(0,a.default)(this.options,t),document.querySelector(this.options.selector)&&!this.attached&&this.init()}return(0,s.default)(e,[{key:"init",value:function(){var e=this,t=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");t&&t>0&&(this.options.headers.folderId=parseInt(t),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(t)),u.default.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(t,n){e.options.onAdded(t)}),this.on("success",function(){var t=(0,i.default)(r.default.mark(function t(n,i){var a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.previewElement){t.next=7;break}return a=n.previewElement,t.next=4,(0,c.sleep)(3e3);case 4:return t.next=6,(0,l.fadeOut)(a,500);case 6:a.remove();case 7:return e.options.onSuccess(i),t.next=10,window.Rozier.getMessages();case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),this.on("canceled",function(t,n){e.options.onError(JSON.parse(n)),window.Rozier.getMessages()}),this.on("error",function(e,t,n){console.error(t)}),this.on("sending",function(t,n,r){n.ontimeout=function(){e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},u.default.autoDiscover=this.options.autoDiscover;try{new u.default(this.options.selector,u.default.options.uploadDropzoneDocument);var n=document.querySelector(this.options.selector);n.insertAdjacentHTML("beforeend",'<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"),n.querySelector(".dz-message").insertAdjacentHTML("beforeend",'\n            <div class="circles-icons">\n                <div class="circle circle-1"></div>\n                <div class="circle circle-2"></div>\n                <div class="circle circle-3"></div>\n                <div class="circle circle-4"></div>\n                <div class="circle circle-5"></div>\n                <i class="uk-icon-rz-file"></i>\n            </div>'),this.attached=!0}catch(e){console.error(e)}}},{key:"unbind",value:function(){}}]),e}();t.default=f},WCGE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[n("div",{staticClass:"canvas"},[e.isLoading?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner-container"},[n("div",{staticClass:"spinner"})])]):e._e(),e._v(" "),n("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),e._v(" "),n("div",{staticClass:"editor"},[e.url?[n("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._v(" "),e._t("default")],2)},staticRenderFns:[]};t.default=r},WGNA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7APs"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("8h4x"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},XEtd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("aIIw")),i=o(n("kcQR")),a=n("inh7");function o(e){return e&&e.__esModule?e:{default:e}}t.default={bind:function(e,t){var n=this,o=new Image;o.src=t.value,o.onload=(0,i.default)(r.default.mark(function i(){return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.src=t.value,n.next=3,(0,a.fadeIn)(e,1e3);case 3:case"end":return n.stop()}},i,n)}))}}},XTd8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("KFYC"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("gj7n"),s=n.n(o);var u=function(e){n("vpu8")},l=n("/4AN")(i.a,s.a,!1,u,null,null);t.default=l.exports},Xu3G:function(e,t){e.exports=UIkit},"Y5N/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.item?n("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":!1===e.published},on:{click:function(t){t.preventDefault(),e.onAddItemButtonClick(t)}}},[n("div",{staticClass:"uk-sortable-handle"}),e._v(" "),n("div",{staticClass:"border",style:{backgroundColor:e.color}}),e._v(" "),e.thumbnailUrl&&!e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?n("figure",{staticClass:"thumbnail"},[n("picture",[n("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),e._v(" "),n("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),e._v(" "),n("div",{staticClass:"names"},[e.parentName?n("p",{staticClass:"parent-name"},[e.subParentName?[n("span",{staticClass:"sub"},[e._v("\n                        "+e._s(e.subParentName)+"\n                    ")])]:e._e(),e._v(" "),n("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),e._v(" "),n("span",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),e.inputName&&e.item&&e.item.id?n("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),e._v(" "),n("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?n("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),n("a",{staticClass:"uk-button uk-button-mini link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e._v(" "),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},staticRenderFns:[]};t.default=r},YM2E:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("si9I"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("0J/v"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},YmcV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?n("div",{staticClass:"tag-creator"},[n("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),e._v(" "),n("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},staticRenderFns:[]};t.default=r},YpWz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default"),e._v(" "),n("label",{staticClass:"typo__label"},[e._v("Tagging")]),e._v(" "),n("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("pre",{staticClass:"language-json"},[n("code",[e._v(e._s(e.value))])])],2)},staticRenderFns:[]};t.default=r},ZJj3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data:function(){return{ratio:"free"}},mounted:function(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown:function(e){var t=e.keyCode;switch(t){case 90:this.undo&&(e.preventDefault(),this.undo())}if(!this.cropped)switch(t){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(e.preventDefault(),this.move(-1,0));break;case 38:this.move&&(e.preventDefault(),this.move(0,-1));break;case 39:this.move&&(e.preventDefault(),this.move(1,0));break;case 40:this.move&&(e.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical()}}}}},ZmFW:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,'.document-preview-widget{position:fixed;width:100%;height:100%;z-index:99999;top:0;left:0}.document-preview-widget__wrapper{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5)}.document-preview-widget__information{position:absolute;top:10px;right:10px;height:31px;line-height:30px;font-size:12px;text-align:left;padding:0 15px;border-radius:16px;color:#7d7d7d;background:#000;box-shadow:0 4px 15px rgba(0,0,0,.31)}.document-preview-widget__information .close,.document-preview-widget__information .info{display:inline-block}.document-preview-widget__information .close:before,.document-preview-widget__information .info:before{display:inline-block;content:" ";height:20px;width:1px;background:#000;margin:0 10px;position:relative;border-left:1px solid #2d2d2d;top:5px}.document-preview-widget__information .close:first-of-type:before,.document-preview-widget__information .info:first-of-type:before{display:none}.document-preview-widget__information .close{font-size:15px;cursor:pointer}.document-preview-widget__information .close i{transition:all .3s ease-out}.document-preview-widget__information .close:hover i{color:#b0b0b0}.document-preview-widget__container{position:absolute;top:50%;left:50%;max-width:80vw;max-height:80vh;width:auto;height:auto;display:inline-block;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;box-shadow:0 0 320px rgba(0,0,0,.7);background:#dadada}.document-preview-widget__container>div{height:100%}.document-preview-widget__container.hasNoPreview.isVideo{position:relative;width:auto;height:auto}.document-preview-widget__container.hasNoPreview.isVideo .document-preview-widget__preview{position:relative}.document-preview-widget__container.isSvg{position:relative;width:auto;height:auto}.document-preview-widget__container.isSvg .document-preview-widget__preview{position:relative;width:500px;height:500px;pointer-events:none}.document-preview-widget__container.isPdf object,.document-preview-widget__container.isSvg object{width:100%;height:100%}.document-preview-widget__container.isPdf{width:80vw;height:80vh;background:#000}.document-preview-widget iframe,.document-preview-widget img,.document-preview-widget object,.document-preview-widget video{width:auto;height:auto;max-width:80vw;max-height:80vh}.document-preview-widget iframe{min-width:640px;min-height:360px}.document-preview-widget__message{position:absolute;left:50%;top:50%;-webkit-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);background:#1a1a1a;padding-left:20px;padding-right:20px;height:43px;border-radius:25px;color:#b3b3b3}',""])},ZysM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOCATION=void 0;var r=d(n("zv2j")),i=d(n("aIIw")),a=d(n("kcQR")),o=d(n("HxWs")),s=d(n("dACh")),u=d(n("jx4H")),l=n("f3z0"),c=d(n("1afk"));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.DEFAULT_LOCATION={lat:45.769785,lng:4.833967,zoom:14},h=function(){function e(){(0,s.default)(this,e),this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}return(0,u.default)(e,[{key:"init",value:function(){this.bindFields()}},{key:"unbind",value:function(){}},{key:"bindFields",value:function(){for(var e=this.$fields.length,t=0;t<e;t++){var n=this.$fields[t];n.classList.contains("is-enable")||(this.bindSingleField(n),n.classList.add("is-enable"))}}},{key:"bindSingleField",value:function(e){var t=e.parentElement.querySelector(".uk-form-label"),n=t.innerHTML,r=null;r=window.RozierConfig.defaultMapLocation?window.RozierConfig.defaultMapLocation:f;var i="geotag-canvas-"+this.uniqid(),a=i+"-address",o=i+"-reset";e.style.display="none",t.style.display="none",e.setAttribute("data-geotag-canvas",i);var s=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+n+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+a+'" type="text" value="" />','<button type="button" id="'+o+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+i+'" style="width: 100%; height: 400px;"></div>'].join(""),u=document.createElement("div");if(u.innerHTML=s,e.after(u),!document.getElementById(i))throw new Error("Map container does not exist");var l=document.getElementById(a);l&&l.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);var c=document.getElementById(o);c&&(c.style.display="none");var d={center:this.createLatLng(r),zoom:r.zoom||r.alt,styles:window.RozierConfig.mapsStyle},h=this.createMap(i,d),p=null;if(""!==e.value)try{r=JSON.parse(e.value),p=this.createMarker(r,h),c.style.display="inline-block",p.on("dragend",this.setMarkerEvent.bind(this,p,e,c,h)),c.addEventListener("click",this.resetMarker.bind(this,p,e,c,h))}catch(t){return e.style.display=null,document.getElementById(i).style.display="none",!1}h.on("click",this.setMarkerEvent.bind(this,p,e,c,h)),l.addEventListener("keypress",this.requestGeocode.bind(this,p,e,c,h)),this.resetMap(h,p,d,null),new ResizeObserver(function(e){h.invalidateSize({animate:!1,pan:!1}),null!==p?h.panTo(p.getLatLng(),{animate:!1,pan:!1}):h.panTo(d.center,{animate:!1,pan:!1})}).observe(document.getElementById(i))}},{key:"resetMap",value:function(e,t,n){window.requestAnimationFrame(function(){e.invalidateSize(!0),null!==t?e.panTo(t.getLatLng()):e.panTo(n.center)})}},{key:"resetMarker",value:function(e,t,n,r,i){return i.preventDefault(),e.removeFrom(r),t.value="",n.style.display="none",!1}},{key:"setMarkerEvent",value:function(e,t,n,r,i){if(e||(e=this.createAndBindMarker(i.latlng,r,t,n)),void 0!==i.latlng)this.setMarker(e,t,n,r,i.latlng);else{var a=e.getLatLng();r.panTo(a),this.applyGeocode(t,n,a,r.getZoom(),void 0)}}},{key:"createAndBindMarker",value:function(e,t,n,r){var i=this.createMarker(e,t);return i.on("dragend",this.setMarkerEvent.bind(this,i,n,r,t)),r.addEventListener("click",this.resetMarker.bind(this,i,n,r,t)),t.off("click"),t.on("click",this.setMarkerEvent.bind(this,i,n,r,t)),i}},{key:"setMarker",value:function(e,t,n,r,i){e||(e=this.createAndBindMarker(i,r,t,n)),e.setLatLng(i),e.addTo(r),r.panTo(i),this.applyGeocode(t,n,e.getLatLng(),r.getZoom(),e.name)}},{key:"latLngToFeature",value:function(e,t,n){return e.alt&&(t=e.alt,e.alt=void 0),{type:"Feature",properties:{name:n||"",zoom:t},geometry:{type:"Point",coordinates:l.GeoJSON.latLngToCoords(e)}}}},{key:"applyGeocode",value:function(e,t,n,r,i){e.value=(0,o.default)(this.latLngToFeature(n,r,i)),t.style.display="inline-block"}},{key:"createMarker",value:function(e,t){var n=null;n=e instanceof l.LatLng?e:this.createLatLng(e);var r=new l.Marker(n,{icon:this.createIcon(),draggable:!0}).addTo(t);return t.flyTo(n,n.alt),r.alt=n.alt,e.type&&"Feature"===e.type&&e.properties&&e.properties.name&&(r.name=e.properties.name),e.name&&(r.name=e.name),r}},{key:"requestGeocode",value:function(){var e=(0,a.default)(i.default.mark(function e(t,n,r,a,o){var s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.currentTarget.value,!o.which||13!==o.which){e.next=10;break}return o.preventDefault(),e.next=5,this.getLatLngForAddress(s);case 5:if(null!==(u=e.sent)){e.next=9;break}return console.error("Geocode was not successful."),e.abrupt("return");case 9:this.setMarker(t,n,r,a,u);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"uniqid",value:function(){return(new Date).getTime()}},{key:"createMap",value:function(e,t){var n=new l.Map(document.getElementById(e)).setView(t.center,t.zoom),r=new l.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return n.addLayer(r),n}},{key:"createLatLng",value:function(e){if("number"==typeof e.lat&&"number"==typeof e.lng)return new l.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&"Feature"===e.type){var t=e.properties&&e.properties.zoom?(0,r.default)(e.properties.zoom):7,n=new l.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],t);return e.properties&&e.properties.name&&(n.name=e.properties.name),n}throw new Error("Cannot create LatLng object from data")}},{key:"createIcon",value:function(){return new l.Icon({iconUrl:window.RozierConfig.resourcesUrl+"assets/img/marker.png",iconRetinaUrl:window.RozierConfig.resourcesUrl+"assets/img/marker@2x.png",shadowUrl:window.RozierConfig.resourcesUrl+"assets/img/marker_shadow.png",shadowRetinaUrl:window.RozierConfig.resourcesUrl+"assets/img/marker_shadow@2x.png",iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}},{key:"getLatLngForAddress",value:function(e){return c.default.geoCode(e).then(function(e){if(null!==e){var t=new l.LatLng(e.lat,e.lon);return t.name=e.display_name,t}return null}).catch(function(e){return null})}}]),e}();t.default=h},aI4R:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("dACh")),i=o(n("jx4H")),a=n("Tzw7");function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,r.default)(this,e),this.content=document.querySelector(".content-node-tree"),this.$dropdown=null,this.content&&(this.$dropdown=this.content.querySelectorAll(".uk-dropdown-small"),this.init())}return(0,i.default)(e,[{key:"init",value:function(){this.contentHeight=this.content.offsetHeight,this.contentHeight>=window.Rozier.windowHeight-400&&this.dropdownFlip()}},{key:"unbind",value:function(){}},{key:"dropdownFlip",value:function(){for(var e=this.$dropdown.length-1;e>=this.$dropdown.length-3;e--)(0,a.addClass)(this.$dropdown[e],"uk-dropdown-up")}}]),e}();t.default=s},amjE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?n("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},staticRenderFns:[]};t.default=r},bB58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("aIIw")),i=u(n("kcQR")),a=u(n("dACh")),o=u(n("jx4H")),s=n("Tzw7");function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e),this.content=document.querySelector(".content-node-edit-source"),this.form=document.getElementById("edit-node-source-form"),this.formRow=null,this.dropdown=null,this.input=null,this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.inputFocus=this.inputFocus.bind(this),this.inputFocusOut=this.inputFocusOut.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.wrapInTabs=this.wrapInTabs.bind(this),this.content&&this.form&&(this.formRow=this.content.querySelectorAll(".uk-form-row"),window.requestAnimationFrame(this.wrapInTabs),this.init(),this.initEvents())}return(0,o.default)(e,[{key:"wrapInTabs",value:function(){var e={default:{name:"default",id:"default",fields:[]}},t=this.content.querySelectorAll(".uk-form-row[data-field-group-canonical]"),n=t.length,r=1;if(n>0){for(var i=0;i<n;i++){var a=t[i].getAttribute("data-field-group"),o=t[i].getAttribute("data-field-group-canonical");o?(void 0===e[o]&&(e[o]={name:a,id:o,fields:[]},r++),e[o].fields.push(t[i])):e.default.fields.push(t[i])}if(r>1){this.form.insertAdjacentHTML("beforeend",'<div id="node-source-form-switcher-nav-cont"><ul id="node-source-form-switcher-nav" class="uk-subnav uk-subnav-pill" data-uk-switcher="{connect:\'#node-source-form-switcher\', swiping:false}"></ul></div><ul id="node-source-form-switcher" class="uk-switcher"></ul>');var s=this.form.querySelector(".uk-switcher"),u=this.form.querySelector("#node-source-form-switcher-nav");for(var l in e){var c=e[l],d="group-"+c.id.replace(/[\s_]/g,"-").replace(/[^\w-]+/g,"");s.insertAdjacentHTML("beforeend",'<li class="field-group" id="'+d+'"></li>'),"default"===c.id?u.insertAdjacentHTML("beforeend",'<li class="switcher-nav-item"><a href="#"><i class="uk-icon-star"></i></a></li>'):u.insertAdjacentHTML("beforeend",'<li class="switcher-nav-item"><a href="#">'+c.name+"</a></li>");for(var f=s.querySelector("#"+d),h=0;h<c.fields.length;h++)f.appendChild(c.fields[h])}}}this.content.classList.add("content-tabs-ready")}},{key:"init",value:function(){var e=this;this.input=this.content.querySelectorAll("input, select"),this.devNames=this.content.querySelectorAll("[data-dev-name]"),this.devNames.forEach(function(e){if(""!==e.getAttribute("data-dev-name")){var t=e.closest(".uk-form-row").querySelector("label"),n=e.querySelector(".uk-navbar-brand.label");t?t.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>"):n&&n.insertAdjacentHTML("beforeend",'<span class="field-dev-name">'+e.getAttribute("data-dev-name")+"</span>")}}),this.formRow.forEach(function(t,n){t.className.indexOf("children-nodes-widget")>=0&&e.childrenNodeWidgetFlip(n)})}},{key:"initEvents",value:function(){var e=this;this.content&&(window.addEventListener("keydown",this.onInputKeyDown),window.addEventListener("keyup",this.onInputKeyUp),this.input.forEach(function(t){t.addEventListener("focus",e.inputFocus),t.addEventListener("focusout",e.inputFocusOut)}),this.form.addEventListener("submit",this.onFormSubmit))}},{key:"unbind",value:function(){var e=this;this.content&&(window.removeEventListener("keydown",this.onInputKeyDown),window.removeEventListener("keyup",this.onInputKeyUp),this.input.forEach(function(t){t.removeEventListener("focus",e.inputFocus),t.removeEventListener("focusout",e.inputFocusOut)}),this.form.removeEventListener("submit",this.onFormSubmit))}},{key:"onFormSubmit",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,a,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),window.Rozier.lazyload.canvasLoader.show(),n=new CustomEvent("pagechange"),window.dispatchEvent(n),e.prev=4,e.next=7,fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams(new FormData(this.form))});case 7:if((i=e.sent).ok){e.next=10;break}throw i;case 10:return e.next=12,i.json();case 12:a=e.sent,this.cleanErrors(),a.public_url&&document.querySelectorAll("a.public-url-link").forEach(function(e){return e.setAttribute("href",a.public_url)}),a.preview_url&&document.querySelectorAll("a.preview-url-link").forEach(function(e){return e.setAttribute("href",a.preview_url)}),e.next=25;break;case 18:if(e.prev=18,e.t0=e.catch(4),!e.t0.response){e.next=25;break}return e.next=23,e.t0.response.json();case 23:(o=e.sent).errors&&(this.displayErrors(o.errors),window.UIkit.notify({message:o.message,status:"danger",timeout:2e3,pos:"top-center"}));case 25:return window.Rozier.lazyload.canvasLoader.hide(),e.next=28,window.Rozier.getMessages();case 28:return window.Rozier.refreshAllNodeTrees(),e.abrupt("return",!1);case 30:case"end":return e.stop()}},e,this,[[4,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"cleanErrors",value:function(){document.querySelectorAll(".form-errored").forEach(function(e){e.classList.remove("form-errored"),e.querySelector(".error-message").remove()})}},{key:"displayErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in t&&!1!==t||this.cleanErrors(),e){var r=null,i=null;if("object"===(0,s.toType)(e[n]))this.displayErrors(e[n],!0);else{r=n.replace("_","-"),i=e[n]instanceof Array?e[n][0]:e[n];var a=document.querySelector(".form-col-"+r);a&&(a.classList.add("form-errored"),a.insertAdjacentHTML("beforeend",'<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+i+"</p>"))}}}},{key:"onInputKeyDown",value:function(e){18===e.keyCode&&document.body.classList.toggle("dev-name-visible")}},{key:"onInputKeyUp",value:function(e){18===e.keyCode&&document.body.classList.toggle("dev-name-visible")}},{key:"childrenNodeWidgetFlip",value:function(e){e>=this.formRow.length-2&&(this.dropdown=this.formRow[e].querySelector(".uk-dropdown-small"),this.dropdown.classList.add("uk-dropdown-up"))}},{key:"inputFocus",value:function(e){e.currentTarget.parentElement.classList.add("form-col-focus")}},{key:"inputFocusOut",value:function(e){e.currentTarget.parentElement.classList.remove("form-col-focus")}},{key:"resize",value:function(){}}]),e}();t.default=l},bKSI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getFolders=function(){var e=this,t={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var t=(0,i.default)(r.default.mark(function t(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.folders){e.next=7;break}return e.abrupt("return",{items:i.folders});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=(0,i.default)(r.default.mark(function t(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},bXQK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ERN0"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("DJDh"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},bnjF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getNodesSourceFromSearch=function(e){var t=this,n={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:e};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(n),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(!(void 0!==(i=e.sent).data&&i.data.length>0)){e.next=7;break}return e.abrupt("return",i.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},bpQj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("NC+4"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("YpWz"),s=n.n(o);var u=function(e){n("XuEg")},l=n("/4AN")(i.a,s.a,!1,u,null,null);t.default=l.exports},bxer:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:this.url,id:this.id}})},staticRenderFns:[]};t.default=r},cDWz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("TL+m"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("hP9r"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},ciPl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("BYnw"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("nIwZ"),s=n.n(o);var u=function(e){n("siMv")},l=n("/4AN")(i.a,s.a,!1,u,"data-v-15fcb33a",null);t.default=l.exports},dl6t:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".blanchette-editor[data-v-12a59dc0]{margin-bottom:25px}.canvas[data-v-12a59dc0]{position:relative;width:100%;height:100%}.spinner-container[data-v-12a59dc0]{position:absolute;z-index:5;top:0;right:0;bottom:0;left:0;background:hsla(0,0%,100%,.5)}.editor[data-v-12a59dc0]{background:#eee;height:100%;overflow:hidden}.editor>img[data-v-12a59dc0]{display:block;max-width:100%;max-height:100%;margin:auto}",""])},e1f4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getImage=function(){var e=this;return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}).then(function(){var t=(0,i.default)(r.default.mark(function t(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return e.abrupt("return",e.sent.url);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){throw new Error("Image not found")})}},e9E8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}}},eC0v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("aIIw")),i=c(n("kcQR")),a=c(n("T4f3"));n("gzqx");var o=c(n("iUPs")),s=n("SJI6"),u=c(n("mebu")),l=n("+z8M");function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data:function(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted:function(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:(0,a.default)({},(0,s.mapState)({originalUrl:function(e){return e.blanchetteEditor.originalUrl},isLoading:function(e){return e.blanchetteEditor.isLoading},translations:function(e){return e.translations}})),methods:(0,a.default)({},(0,s.mapActions)(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),{overwrite:function(){var e=this;this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(function(){return e.restore()})},load:function(){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.sleep)(1e3);case 2:e.image||(e.image=e.$refs.image,e.start(),e.blanchetteEditorLoaded());case 3:case"end":return t.stop()}},t,e)}))()},setAspectRatio:function(e){switch(e.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight:function(){this.cropper.rotate(90)},rotateLeft:function(){this.cropper.rotate(-90)},setDragMode:function(e){e&&this.cropper&&this.cropper.setDragMode(e)},zoomIn:function(){this.cropper.zoom(.1)},zoomOut:function(){this.cropper.zoom(-.1)},flipHorizontal:function(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical:function(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move:function(e,t){this.cropper.move(e,t)},start:function(){this.cropper||(this.cropper=new o.default(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready:function(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop:function(e){e.detail.width>0&&e.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop:function(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop:function(){var e=this.cropper,t=this.type;this.cropping&&(this.originalUrl=this.url,this.data=e.getData(),this.canvasData=e.getCanvasData(),this.cropBoxData=e.getCropBoxData(),this.url=e.getCroppedCanvas("image/png"===t?null:{fillColor:"#fff"}).toDataURL(t),this.cropped=!0,this.stop())},clear:function(){this.cropping&&this.cropper.clear()},restore:function(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}}),components:{BlanchetteToolbar:u.default}}},eQwT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("THhJ"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("/4AN")(i.a,null,!1,null,null,null);t.default=o.exports},en6P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("T4f3")),i=n("SJI6");t.default={computed:(0,r.default)({},(0,i.mapState)({isExplorerOpen:function(e){return e.explorer.isOpen}}))}},fHvF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=d(n("Xos8")),a=d(n("aIIw")),o=d(n("kcQR")),s=n("xHmi"),u=c(n("2y8T")),l=c(n("Mb7i"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f={blanchetteEditorInit:function(e,t){var n=e.commit,r=e.dispatch,i=t.url,a=t.editor;r("blanchetteEditorIsLoading"),n(s.BLANCHETTE_EDITOR_INIT,{url:i,editor:a})},blanchetteEditorIsLoading:function(e){(0,e.commit)(s.BLANCHETTE_EDITOR_IS_LOADING)},blanchetteEditorLoaded:function(e){(0,e.commit)(s.BLANCHETTE_EDITOR_LOADED)},blanchetteEditorSave:function(e,t){var n=this,r=e.commit,i=e.state,c=t.url,d=t.filename,f=l.dataURItoBlob(c),h=i.editor.getElementsByTagName("form")[0],p=new FormData(h);return p.append("form[editDocument]",f,d),r(s.BLANCHETTE_EDITOR_IS_LOADING),u.setDocument(p).then(function(){var e=(0,o.default)(a.default.mark(function e(t){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(i=e.sent,r(s.BLANCHETTE_EDITOR_LOADED),!i||!i.path){e.next=9;break}window.UIkit.notify({message:i.message,status:"success",timeout:2e3,pos:"top-center"}),r(s.BLANCHETTE_EDITOR_SAVE_SUCCESS,{path:i.path}),e.next=10;break;case 9:throw new Error("No path found");case 10:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=s.BLANCHETTE_EDITOR_ERROR,e.next=4,t.response.json();case 4:e.t2=e.sent,e.t3={error:e.t2},(0,e.t0)(e.t1,e.t3),r(s.BLANCHETTE_EDITOR_LOADED);case 8:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}())}},h=(r={},(0,i.default)(r,s.BLANCHETTE_EDITOR_INIT,function(e,t){var n=t.url,r=t.editor;e.originalUrl=n,e.editor=r}),(0,i.default)(r,s.BLANCHETTE_EDITOR_IS_LOADING,function(e){e.isLoading=!0}),(0,i.default)(r,s.BLANCHETTE_EDITOR_ERROR,function(e,t){var n=t.error;e.error=n.message}),(0,i.default)(r,s.BLANCHETTE_EDITOR_LOADED,function(e){e.isLoading=!1}),(0,i.default)(r,s.BLANCHETTE_EDITOR_SAVE_SUCCESS,function(e,t){var n=t.path;e.originalUrl=n}),r);t.default={state:{isLoading:!0,originalUrl:"",editor:null},actions:f,mutations:h}},fa0H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("MjFt"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("Eevm"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},gYCg:function(e,t,n){var r=n("6Y/U");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("X/Wc")("80255a74",r,!0,{})},gj7n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?n("div",{staticClass:"document-preview-widget"},[n("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(t){t.preventDefault(),e.onClick(t)}}},[n("div",{staticClass:"document-preview-widget__information"},[n("div",{staticClass:"info"},[e._v("\n                    "+e._s(e.document.classname)+"\n                ")]),e._v(" "),e.document.displayable!==e.document.classname?n("div",{staticClass:"info"},[e._v("\n                    "+e._s(e.document.displayable)+"\n                ")]):e._e(),e._v(" "),e.document.embedPlatform?n("div",{staticClass:"info"},[e._v("\n                    "+e._s(e.document.embedPlatform)+"\n                ")]):e._e(),e._v(" "),n("div",{staticClass:"close",on:{click:function(t){t.preventDefault(),e.closePreview(t)}}},[n("i",{staticClass:"uk-icon-times"})])]),e._v(" "),n("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[n("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},staticRenderFns:[]};t.default=r},gk4s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("O7VT"));t.default={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName:function(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl:function(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return!(!this.item.thumbnail||!this.item.thumbnail.processable)&&this.item.thumbnail.processable}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:r.default}}},hICd:function(e,t,n){"use strict";!function(e){var t,n=function(e,t){void 0===t&&(t={}),this.init(e,t)},r=n.prototype,i=["canvas","vml"],a=["oval","spiral","square","rect","roundRect"],o=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,s=-1!==navigator.appVersion.indexOf("MSIE")&&8===parseFloat(navigator.appVersion.split("MSIE")[1]),u=!!document.createElement("canvas").getContext,l=!0,c=function(e,t,n){var r;e=document.createElement(e);for(r in n)e[r]=n[r];return void 0!==t&&t.appendChild(e),e},d=function(e,t){for(var n in t)e.style[n]=t[n];return e},f=function(e,t){for(var n in t)e.setAttribute(n,t[n]);return e},h=function(e,t,n,r){e.save(),e.translate(t,n),e.rotate(r),e.translate(-t,-n),e.beginPath()};r.init=function(e,r){"boolean"==typeof r.safeVML&&(l=r.safeVML);try{this.mum=void 0!==document.getElementById(e)?document.getElementById(e):document.body}catch(e){this.mum=document.body}if(r.id=void 0!==r.id?r.id:"canvasLoader",this.cont=c("div",this.mum,{id:r.id}),u)t=i[0],this.can=c("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=d(c("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(t=i[1],void 0===n.vmlSheet){document.getElementsByTagName("head")[0].appendChild(c("style")),n.vmlSheet=document.styleSheets[document.styleSheets.length-1];var a,o=["group","oval","roundrect","fill"];for(a in o)n.vmlSheet.addRule(o[a],"behavior:url(#default#VML); position:absolute;")}this.vml=c("group",this.cont)}this.setColor(this.color),this.draw(),d(this.cont,{display:"none"})},r.cont={},r.can={},r.con={},r.cCan={},r.cCon={},r.timer={},r.activeId=0,r.diameter=40,r.setDiameter=function(e){this.diameter=Math.round(Math.abs(e)),this.redraw()},r.getDiameter=function(){return this.diameter},r.cRGB={},r.color="#000000",r.setColor=function(e){this.color=o.test(e)?e:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},r.getColor=function(){return this.color},r.shape=a[0],r.setShape=function(e){for(var t in a)if(e===a[t]){this.shape=e,this.redraw();break}},r.getShape=function(){return this.shape},r.density=40,r.setDensity=function(e){this.density=l&&t===i[1]?Math.round(Math.abs(e))<=40?Math.round(Math.abs(e)):40:Math.round(Math.abs(e)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},r.getDensity=function(){return this.density},r.range=1.3,r.setRange=function(e){this.range=Math.abs(e),this.redraw()},r.getRange=function(){return this.range},r.speed=2,r.setSpeed=function(e){this.speed=Math.round(Math.abs(e))},r.getSpeed=function(){return this.speed},r.fps=24,r.setFPS=function(e){this.fps=Math.round(Math.abs(e)),this.reset()},r.getFPS=function(){return this.fps},r.getRGB=function(e){return e="#"===e.charAt(0)?e.substring(1,7):e,{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},r.draw=function(){var e,n,r,o,u,l,p,m,v,g=0,w=this.density,b=Math.round(w*this.range),_=0;v=this.cCon;var E=this.diameter;if(t===i[0])for(v.clearRect(0,0,1e3,1e3),f(this.can,{width:E,height:E}),f(this.cCan,{width:E,height:E});g<w;){switch(m=g<=b?1-1/b*g:m=0,p=(l=270-360/w*g)/180*Math.PI,v.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+m.toString()+")",this.shape){case a[0]:case a[1]:e=.07*E,o=.47*E+Math.cos(p)*(.47*E-e)-.47*E,u=.47*E+Math.sin(p)*(.47*E-e)-.47*E,v.beginPath(),this.shape===a[1]?v.arc(.5*E+o,.5*E+u,e*m,0,2*Math.PI,!1):v.arc(.5*E+o,.5*E+u,e,0,2*Math.PI,!1);break;case a[2]:e=.12*E,o=Math.cos(p)*(.47*E-e)+.5*E,u=Math.sin(p)*(.47*E-e)+.5*E,h(v,o,u,p),v.fillRect(o,u-.5*e,e,e);break;case a[3]:case a[4]:r=.27*(n=.3*E),o=Math.cos(p)*(r+.13*(E-r))+.5*E,u=Math.sin(p)*(r+.13*(E-r))+.5*E,h(v,o,u,p),this.shape===a[3]?v.fillRect(o,u-.5*r,n,r):(e=.55*r,v.moveTo(o+e,u-.5*r),v.lineTo(o+n-e,u-.5*r),v.quadraticCurveTo(o+n,u-.5*r,o+n,u-.5*r+e),v.lineTo(o+n,u-.5*r+r-e),v.quadraticCurveTo(o+n,u-.5*r+r,o+n-e,u-.5*r+r),v.lineTo(o+e,u-.5*r+r),v.quadraticCurveTo(o,u-.5*r+r,o,u-.5*r+r-e),v.lineTo(o,u-.5*r+e),v.quadraticCurveTo(o,u-.5*r,o+e,u-.5*r))}v.closePath(),v.fill(),v.restore(),++g}else{switch(d(this.cont,{width:E,height:E}),d(this.vml,{width:E,height:E}),this.shape){case a[0]:case a[1]:p="oval",e=140;break;case a[2]:p="roundrect",e=120;break;case a[3]:case a[4]:p="roundrect",e=300}for(n=r=e,o=500-r,u=.5*-r;g<w;){switch(m=g<=b?1-1/b*g:m=0,l=270-360/w*g,this.shape){case a[1]:n=r=e*m,o=500-.5*e-e*m*.5,u=.5*(e-e*m);break;case a[0]:case a[2]:s&&(u=0,this.shape===a[2]&&(o=500-.5*r));break;case a[3]:case a[4]:r=.28*(n=.95*e),s?(o=0,u=500-.5*r):(o=500-n,u=.5*-r),_=this.shape===a[4]?.6:0}v=f(d(c("group",this.vml),{width:1e3,height:1e3,rotation:l}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),v=d(c(p,v,{stroked:!1,arcSize:_}),{width:n,height:r,top:u,left:o}),c("fill",v,{color:this.color,opacity:m}),++g}}this.tick(!0)},r.clean=function(){if(t===i[0])this.con.clearRect(0,0,1e3,1e3);else{var e=this.vml;if(e.hasChildNodes())for(;e.childNodes.length>=1;)e.removeChild(e.firstChild)}},r.redraw=function(){this.clean(),this.draw()},r.reset=function(){"number"==typeof this.timer&&(this.hide(),this.show())},r.tick=function(e){var n=this.con,r=this.diameter;e||(this.activeId+=360/this.density*this.speed),t===i[0]?(n.clearRect(0,0,r,r),h(n,.5*r,.5*r,this.activeId/180*Math.PI),n.drawImage(this.cCan,0,0,r,r),n.restore()):(this.activeId>=360&&(this.activeId-=360),d(this.vml,{rotation:this.activeId}))},r.show=function(){if("number"!=typeof this.timer){var e=this;this.timer=self.setInterval(function(){e.tick()},Math.round(1e3/this.fps)),d(this.cont,{display:"block"})}},r.hide=function(){"number"==typeof this.timer&&(clearInterval(this.timer),delete this.timer,d(this.cont,{display:"none"}))},r.kill=function(){var e=this.cont;for(var n in"number"==typeof this.timer&&this.hide(),t===i[0]?(e.removeChild(this.can),e.removeChild(this.cCan)):e.removeChild(this.vml),this)delete this[n]},e.CanvasLoader=n}(window)},hP9r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("HxWs"));var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.document?n("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[n("div",{staticClass:"preview-zoom",on:{click:function(t){t.preventDefault(),e.onPreviewClick(t)}}},[n("i",{staticClass:"uk-icon-search-plus"})]),e._v(" "),n("div",{on:{click:function(t){t.preventDefault(),e.onAddItemButtonClick(t)}}},[n("div",{staticClass:"uk-sortable-handle"}),e._v(" "),n("div",{staticClass:"document-border"}),e._v(" "),n("div",{staticClass:"document-overflow"},[e.document.isPrivate?[n("div",{staticClass:"document-platform-icon"},[n("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[n("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[n("picture",[n("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),e._v(" "),n("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?n("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),e._v(" "),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e._v(" "),e.drawerName&&e.entityName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),e._v(" "),e.hotspot?n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:(0,r.default)(e.hotspot)}}):e._e(),e._v(" "),e.imageCropAlignment?n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}}):e._e()]:e.drawerName?[n("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),e._v(" "),n("div",{staticClass:"document-links"},[n("ajax-link",{staticClass:"uk-button document-link uk-button-mini",attrs:{href:e.editUrl}},[n("i",{staticClass:"uk-icon-rz-pencil"})]),n("a",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.onRemoveItemButtonClick()}}},[n("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e._v(" "),e.document.embedPlatform?[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),e._v(" "),n("div",{staticClass:"document-platform-icon"},[n("i",{class:"uk-icon-"+e.document.icon})])]:[n("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],e._v(" "),n("a",{staticClass:"uk-button uk-button-mini link-button",attrs:{"data-document-widget-link-document":"",href:"#"}},[n("div",{staticClass:"link-button-inner"},[n("i",{staticClass:"uk-icon-rz-plus"})])])],2),e._v(" "),n("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},staticRenderFns:[]};t.default=i},hQiR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(t){e.setDragMode("move")}}},[n("i",{staticClass:"uk-icon-arrows"})]):e._e(),e._v(" "),e.setDragMode?n("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(t){e.setDragMode("crop")}}},[n("i",{staticClass:"uk-icon-crop"})]):e._e(),e._v(" "),e.zoomIn?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[n("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e._v(" "),e.zoomOut?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[n("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e._v(" "),e.rotateLeft?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[n("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e._v(" "),e.rotateRight?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[n("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e._v(" "),e.flipHorizontal?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[n("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e._v(" "),e.flipVertical?n("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[n("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),e._v(" "),n("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.ratio=t.target.multiple?n:n[0]},e.aspectRatio]}},[n("optgroup",{attrs:{label:e.translations.other}},[n("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),e._v(" "),n("option",{attrs:{value:"1:1"}},[e._v("1:1")]),e._v(" "),n("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),e._v(" "),n("optgroup",{attrs:{label:e.translations.landscape}},[n("option",{attrs:{value:"16:9"}},[e._v("16:9")]),e._v(" "),n("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),e._v(" "),n("optgroup",{attrs:{label:e.translations.portrait}},[n("option",{attrs:{value:"9:16"}},[e._v("9:16")]),e._v(" "),n("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),e._v(" "),n("i",{staticClass:"uk-icon-arrow-down"})]),e._v(" "),e.cropping&&!e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[n("i",{staticClass:"uk-icon-check"})]):e._e()],e._v(" "),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[n("i",{staticClass:"uk-icon-undo"})]):e._e(),e._v(" "),e.cropped?n("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[n("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+"\n    ")]):e._e()],2)},staticRenderFns:[]};t.default=r},inh7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slideDown=t.slideUp=t.fadeOut=t.fadeIn=void 0;var r=s(n("aIIw")),i=s(n("L3Vt")),a=s(n("kcQR")),o=(t.fadeIn=function(){var e=(0,a.default)(r.default.mark(function e(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(e){t.style.opacity=0,t.style.display="block",t.style.transition="opacity "+s+"ms ease-in",t.offsetWidth,requestAnimationFrame((0,a.default)(r.default.mark(function i(){return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.style.opacity=1,n.next=3,(0,o.sleep)(s);case 3:e();case 4:case"end":return n.stop()}},i,n)})))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.fadeOut=function(){var e=(0,a.default)(r.default.mark(function e(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(e){t.style.opacity=1,t.style.transition="opacity "+s+"ms ease-out",t.offsetWidth,requestAnimationFrame((0,a.default)(r.default.mark(function i(){return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.style.opacity=0,n.next=3,(0,o.sleep)(s);case 3:t.style.display="none",e();case 5:case"end":return n.stop()}},i,n)})))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.slideUp=function(){var e=(0,a.default)(r.default.mark(function e(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(e){t.style.opacity=1,t.style.transition="opacity "+s+"ms ease-out",t.offsetWidth,requestAnimationFrame((0,a.default)(r.default.mark(function i(){return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.style.opacity=0,n.next=3,(0,o.sleep)(s);case 3:t.style.display="none",e();case 5:case"end":return n.stop()}},i,n)})))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.slideDown=function(){var e=(0,a.default)(r.default.mark(function e(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(e){t.style.opacity=0,t.style.display="block",t.style.transition="opacity "+s+"ms ease-in",t.offsetWidth,requestAnimationFrame((0,a.default)(r.default.mark(function i(){return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.style.opacity=1,n.next=3,(0,o.sleep)(s);case 3:e();case 4:case"end":return n.stop()}},i,n)})))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n("+z8M"));function s(e){return e&&e.__esModule?e:{default:e}}},kGPT:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".infos[data-v-15fcb33a],.new-tag-container[data-v-15fcb33a]{flex:1}.infos[data-v-15fcb33a]{font-size:12px}.new-tag-container[data-v-15fcb33a]{display:flex;flex-direction:row-reverse}.new-tag-container[data-v-15fcb33a]:hover{cursor:pointer}.new-tag-container:hover .button[data-v-15fcb33a]{background-color:#171717;color:#707070}.new-tag-container:hover .new-tag[data-v-15fcb33a]{background-color:#3f3f3f}.button[data-v-15fcb33a]{width:40px;height:40px;line-height:40px;text-align:center;border:0;border-radius:0 3px 3px 0;background-color:#0a0a0a;color:#575757;transition:all .25s ease-out}.button i[data-v-15fcb33a]{position:relative;top:2px}.new-tag[data-v-15fcb33a]{float:right;height:40px;border-radius:0;font-size:12px;line-height:40px;font-weight:600;overflow:hidden;margin:0;padding:7px 0 6px 15px;background:#4c4c4c;width:182px;box-sizing:border-box;border-left:4px solid #000;transition:all .25s ease-out}.new-tag .parent-name[data-v-15fcb33a]{height:12px;font-size:8px;text-transform:uppercase;line-height:11px;color:rgba(0,0,0,.6);letter-spacing:.07em;font-weight:700;margin:0}.new-tag .name[data-v-15fcb33a],.new-tag .parent-name[data-v-15fcb33a]{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-right:10px}.new-tag .name[data-v-15fcb33a]{color:#888;line-height:16px}",""])},kMqv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getTags=function(){var e=this,t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var t=(0,i.default)(r.default.mark(function t(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.tags){e.next=7;break}return e.abrupt("return",{items:i.tags});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=(0,i.default)(r.default.mark(function t(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())},t.getParentTags=function(){var e=this,t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var t=(0,i.default)(r.default.mark(function t(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.tags){e.next=7;break}return e.abrupt("return",{items:i.tags});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=(0,i.default)(r.default.mark(function t(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},kR5N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("aIIw")),i=u(n("kcQR")),a=u(n("dACh")),o=u(n("jx4H")),s=n("Tzw7");function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e),this.content=document.querySelector(".content-tag-edit"),this.form=document.getElementById("edit-tag-form"),this.formRow=null,this.dropdown=null,this.onFormSubmit=this.onFormSubmit.bind(this),this.content&&(this.formRow=this.content.querySelectorAll(".uk-form-row"),this.initEvents())}return(0,o.default)(e,[{key:"initEvents",value:function(){this.form.addEventListener("submit",this.onFormSubmit)}},{key:"unbind",value:function(){this.content&&this.form.removeEventListener("submit",this.onFormSubmit)}},{key:"onFormSubmit",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,a,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),window.Rozier.lazyload.canvasLoader.show(),n=new CustomEvent("pagechange"),window.dispatchEvent(n),i=new FormData(this.form),e.next=7,fetch(window.location.href,{method:"POST",headers:{Accept:"application/json"},body:i});case 7:if((a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:(o=e.sent).errors&&(this.displayErrors(o.errors),window.UIkit.notify({message:o.message,status:"danger",timeout:2e3,pos:"top-center"})),e.next=16;break;case 15:this.cleanErrors();case 16:return e.next=18,window.Rozier.refreshMainTagTree();case 18:return e.next=20,window.Rozier.getMessages();case 20:return window.Rozier.lazyload.canvasLoader.hide(),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cleanErrors",value:function(){document.querySelectorAll(".form-errored").forEach(function(e){e.classList.remove("form-errored"),e.querySelector(".error-message").remove()})}},{key:"displayErrors",value:function(e,t){for(var n in t&&!1!==t||this.cleanErrors(),e){var r=null,i=null;if("object"===(0,s.toType)(e[n]))this.displayErrors(e[n],!0);else{r=n.replace("_","-"),i=e[n]instanceof Array?e[n][0]:e[n];var a=document.querySelector(".form-col-"+r);a&&(a.classList.add("form-errored"),a.insertAdjacentHTML("beforeend",'<p class="error-message uk-alert uk-alert-danger"><i class="uk-icon uk-icon-warning"></i> '+i+"</p>"))}}}},{key:"resize",value:function(){}}]),e}();t.default=l},kRS3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("H8iA")),i=a(n("KtXb"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={centralTruncate:r.default,truncate:i.default}},krmO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e){return e&&e.__esModule?e:{default:e}}(n("Xos8")),a=n("xHmi");var o={documentPreviewInit:function(e,t){var n=e.commit,r=t.document;n(a.DOCUMENT_PREVIEW_INIT,{document:r})},documentPreviewDestroy:function(e){(0,e.commit)(a.DOCUMENT_PREVIEW_DESTROY)},documentPreviewClose:function(e){(0,e.commit)(a.DOCUMENT_PREVIEW_CLOSE)},documentPreviewOpen:function(e){(0,e.commit)(a.DOCUMENT_PREVIEW_OPEN)}},s=(r={},(0,i.default)(r,a.DOCUMENT_PREVIEW_INIT,function(e,t){var n=t.document;e.document=n}),(0,i.default)(r,a.DOCUMENT_PREVIEW_DESTROY,function(e){e.isVisible||(e.document=null)}),(0,i.default)(r,a.KEYBOARD_EVENT_SPACE,function(e){null===e.document||e.isVisible?e.isVisible&&(e.isVisible=!1,e.document=null):e.isVisible=!0}),(0,i.default)(r,a.KEYBOARD_EVENT_ESCAPE,function(e){e.isVisible=!1,e.document=null}),(0,i.default)(r,a.DOCUMENT_PREVIEW_OPEN,function(e){e.isVisible=!0}),(0,i.default)(r,a.DOCUMENT_PREVIEW_CLOSE,function(e){e.isVisible=!1,e.document=null}),r);t.default={state:{document:null,isVisible:!1,isLoading:!1},getters:{documentPreviewGetDocument:function(e){return e.document}},actions:o,mutations:s}},l7nD:function(e,t,n){(e.exports=n("lcwS")(!1)).push([e.i,".box[data-v-fe5ee7a8]{background:#fff;overflow:hidden;width:656px;height:350px;border-radius:2px;box-sizing:border-box;box-shadow:0 0 40px #000;color:#8b8c8d;display:flex}.box .box-part[data-v-fe5ee7a8]{display:block;position:relative;box-sizing:border-box;width:100%}.box .box-part#bp-right[data-v-fe5ee7a8]{border-left:1px solid #eee;background:#eee;width:50%}.box .box-part#bp-right img[data-v-fe5ee7a8]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.box .box-messages[data-v-fe5ee7a8]{position:absolute;left:0;bottom:0;width:100%}.box .modal[data-v-fe5ee7a8]{width:100%;height:100%;display:flex;flex-flow:column;justify-content:flex-start}.box .modal .modal-title[data-v-fe5ee7a8]{box-sizing:border-box;padding:30px;width:100%;text-align:center;letter-spacing:1px;font-size:20px;font-weight:300}.box .modal .modal-content[data-v-fe5ee7a8]{padding:0 20px 20px;box-sizing:border-box;display:flex;flex-flow:column;justify-content:space-between;height:100%;max-width:500px;margin:0 auto}.box .modal .modal-content p[data-v-fe5ee7a8]{margin-top:0;font-size:12px}.box input[type=password][data-v-fe5ee7a8],.box input[type=text][data-v-fe5ee7a8]{display:block;box-sizing:border-box;margin-bottom:4px;width:100%;font-size:12px;line-height:2;border:0;border-bottom:1px solid #dddedf;padding:4px 8px;font-family:inherit;transition:all .5s;outline:none}.box .btn[data-v-fe5ee7a8],.box button[data-v-fe5ee7a8]{background:#fff;border-radius:4px;box-sizing:border-box;padding:10px;letter-spacing:1px;font-family:Open Sans,sans-serif;font-weight:400;min-width:140px;margin-top:8px;color:#8b8c8d;cursor:pointer;border:1px solid #dddedf;text-transform:uppercase;transition:all .1s;font-size:10px;outline:none;display:block;text-align:center}.box .btn[data-v-fe5ee7a8]:hover,.box button[data-v-fe5ee7a8]:hover{text-decoration:none;border-color:#c7c8c9;color:#6f7071}.box .large-btn[data-v-fe5ee7a8]{width:100%;background:#fff}.box .large-btn span[data-v-fe5ee7a8]{font-weight:600}.pop-out-enter-active[data-v-fe5ee7a8],.pop-out-leave-active[data-v-fe5ee7a8]{transition:all .5s}.pop-out-enter[data-v-fe5ee7a8],.pop-out-leave-active[data-v-fe5ee7a8]{opacity:0;-webkit-transform:translateY(24px);transform:translateY(24px)}",""])},lRwf:function(e,t){e.exports=Vue},lS9x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("T4f3")),i=d(n("bnjF")),a=d(n("umdK")),o=d(n("DqSB")),s=d(n("Afu7")),u=d(n("RfA7")),l=d(n("e1f4")),c=d(n("CpLN"));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f=(0,r.default)({},i,a,o,s,u,l,c);t.default=f},lTHl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("rJVn"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("YmcV"),s=n.n(o);var u=function(e){n("2LhJ")},l=n("/4AN")(i.a,s.a,!1,u,"data-v-5dfc79f5",null);t.default=l.exports},m1Vf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getJoinsByIds=function(e){for(var t=this,n=e.ids,a=void 0===n?[]:n,o=e.filters,s={_token:window.RozierConfig.ajaxToken,filters:o,nodeTypeFieldName:o.nodeTypeField,nodeTypeName:o.nodeTypeName},u=0;u<a.length;u++)s["ids["+u+"]"]=a[u];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.items){e.next=7;break}return e.abrupt("return",{items:i.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getJoins=function(e){var t=this,n=e.searchTerms,a=e.preFilters,o=e.filters,s=(e.filterExplorerSelection,e.moreData),u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:a.nodeTypeName,search:n,page:1};a&&a.nodeTypeField&&(u.nodeTypeFieldName=a.nodeTypeField);s&&(u.page=o?o.nextPage:1);return fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.entities){e.next=7;break}return e.abrupt("return",{items:i.entities,filters:i.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},mebu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ZJj3"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("hQiR"),s=n.n(o);var u=function(e){n("gYCg")},l=n("/4AN")(i.a,s.a,!1,u,"data-v-70a2c8da",null);t.default=l.exports},nIwZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"new-tag-container",on:{click:this.tagCreatorItemClick}},[this._m(0,!1,!1),this._v(" "),t("div",{staticClass:"new-tag"},[t("p",{staticClass:"parent-name"}),this._v(" "),t("span",{staticClass:"name"},[this._v(this._s(this.tagName))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"button"},[t("i",{staticClass:"uk-icon-plus"})])}]};t.default=r},nY3t:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=l(n("Xos8")),a=l(n("T4f3")),o=l(n("lS9x")),s=n("xHmi"),u=n("EY70");function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.default)({},{isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null}),d={filterExplorerOpen:function(e){var t=e.commit,n=e.dispatch,r=e.getters.getExplorerEntity;t(s.FILTER_EXPLORER_OPEN,{entity:r}),n("explorerResetSearchTerms"),n("filterExplorerMakeSearch")},filterExplorerUpdate:function(e,t){var n=e.commit,r=e.dispatch,i=t.item;n(s.FILTER_EXPLORER_UPDATE,{item:i}),r("explorerMakeSearch")},filterExplorerClose:function(e){(0,e.commit)(s.FILTER_EXPLORER_CLOSE)},filterExplorerReset:function(e){(0,e.commit)(s.FILTER_EXPLORER_RESET)},filterExplorerToggle:function(e){var t=e.dispatch;e.state.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch:function(e){var t=e.commit,n=e.state;t(s.FILTER_EXPLORER_REQUEST);var r=n.entity;return o.default.getFilters({entity:r}).then(function(e){e?t(s.FILTER_EXPLORER_SUCCESS,{result:e}):t(s.FILTER_EXPLORER_FAILED)}).catch(function(e){t(s.FILTER_EXPLORER_FAILED,{error:e})})}},f=(r={},(0,i.default)(r,s.FILTER_EXPLORER_UPDATE,function(e,t){var n=t.item;e.selectedItem=n}),(0,i.default)(r,s.FILTER_EXPLORER_REQUEST,function(e){e.isLoading=!0}),(0,i.default)(r,s.FILTER_EXPLORER_SUCCESS,function(e,t){var n=t.result;e.items=n.items,e.isLoading=!1}),(0,i.default)(r,s.FILTER_EXPLORER_OPEN,function(e,t){var n=t.entity;switch(e.isOpen=!0,e.entity=n,n){case u.DOCUMENT_ENTITY:e.icons.normal="uk-icon-folder",e.icons.active="uk-icon-folder-open";break;case u.NODE_ENTITY:case u.TAG_ENTITY:e.icons.normal="uk-icon-tag",e.icons.active="uk-icon-tag"}}),(0,i.default)(r,s.FILTER_EXPLORER_CLOSE,function(e){e.isOpen=!1}),(0,i.default)(r,s.FILTER_EXPLORER_RESET,function(e){e.selectedItem=null,e.items=[]}),(0,i.default)(r,s.FILTER_EXPLORER_FAILED,function(e,t){t.error;e.isLoading=!1,e.error="Request failed"}),(0,i.default)(r,s.KEYBOARD_EVENT_ESCAPE,function(e){e.isLoading=!1,e.isOpen=!1,e.selectedItem=null}),r);t.default={state:c,getters:{getFilterExplorerSelectedItem:function(e){return e.selectedItem}},actions:d,mutations:f}},pEeu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?n("div",{staticClass:"widget-explorer-nextpage",on:{click:function(t){t.preventDefault(),e.loadMoreItems(t)}}},[e.isLoadingMore?[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"spinner light"})])]:[n("i",{staticClass:"uk-icon-plus"}),e._v(" "),n("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},staticRenderFns:[]};t.default=r},pQmN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("AcRm"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("bxer"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},pmdL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=N(n("aIIw")),i=N(n("FgrW")),a=N(n("X9RM")),o=N(n("m8OI")),s=N(n("kcQR")),u=N(n("dACh")),l=N(n("jx4H")),c=n("EQNM"),d=N(n("UIBU")),f=N(n("Tr2I")),h=N(n("JTvu")),p=N(n("T2ht")),m=N(n("bB58")),v=N(n("PKoN")),g=N(n("FVwp")),w=N(n("0vVo")),b=N(n("7Smz")),_=N(n("3Z0C")),E=N(n("wi4E")),y=N(n("QKcT")),k=N(n("aI4R")),x=N(n("3aBW")),T=N(n("+VLV")),C=N(n("RIYy")),S=N(n("NAyJ")),A=N(n("Ow2O")),R=N(n("ZysM")),L=N(n("x4pS")),I=N(n("kR5N")),O=N(n("t4hZ")),M=n("inh7");function N(e){return e&&e.__esModule?e:{default:e}}var P=function(){function e(){(0,u.default)(this,e),this.linksSelector=null,this.canvasLoaderContainer=null,this.mainColor=null,this.currentRequest=null,this.nodeTreeContextActions=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.saveButtons=null,this.tagAutocomplete=null,this.folderAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.nodeEditSource=null,this.tagEdit=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),this.canvasLoaderContainer=document.getElementById("canvasloader-container"),this.mainColor=window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color"),this.initLoader(),window.history.pushState({},document.title,window.location.href)}return(0,l.default)(e,[{key:"initLoader",value:function(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(this.mainColor),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}},{key:"parseLinks",value:function(){this.linksSelector=document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')}},{key:"onClick",value:function(e){var t=this,n=e.currentTarget,r=n.getAttribute("href");if(void 0!==r&&null!==r&&!n.classList.contains("rz-no-ajax-link")&&""!==r&&"#"!==r&&(r.indexOf(window.RozierConfig.baseUrl)>=0||"/"===r.charAt(0)||"?"===r.charAt(0)))return e.preventDefault(),window.requestAnimationFrame(function(){window.history.pushState({},null,r),t.onPopState(null)}),!1}},{key:"onPopState",value:function(e){var t=null;null!==e&&e.originalEvent&&(t=e.originalEvent.state),void 0!==t&&null!==t||(t=window.history.state),null!==t&&(this.canvasLoader.show(),this.loadContent(t,window.location))}},{key:"loadContent",value:function(e,t){var n=this;this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame((0,s.default)(r.default.mark(function s(){var u,l,c;return r.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=new CustomEvent("pagechange"),window.dispatchEvent(u),s.prev=2,s.delegateYield(r.default.mark(function s(){var u,l,c,d,f,h,p,m,v,g,w,b,_,E,y,k;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u="",l=t.href.split("?")[0],c=new URLSearchParams(t.href.split("?")[1]),!e.headerData){r.next=24;break}for(d=function(e,t){Array.isArray(t)?t.forEach(function(t,n){c.append(e+"["+n+"]",t)}):c.set(e,t)},f=!0,h=!1,p=void 0,r.prev=8,m=(0,a.default)((0,i.default)(e.headerData));!(f=(v=m.next()).done);f=!0)g=v.value,w=(0,o.default)(g,2),b=w[0],_=w[1],d(b,_);r.next=16;break;case 12:r.prev=12,r.t0=r.catch(8),h=!0,p=r.t0;case 16:r.prev=16,r.prev=17,!f&&m.return&&m.return();case 19:if(r.prev=19,!h){r.next=22;break}throw p;case 22:return r.finish(19);case 23:return r.finish(16);case 24:return u=""!==c.toString()?l+"?"+c.toString():l,r.next=27,fetch(u,{method:"GET",headers:{"X-Partial":!0,Accept:"text/html"}});case 27:if((E=r.sent).ok){r.next=30;break}throw E;case 30:return r.next=32,E.text();case 32:y=r.sent,n.applyContent(y),k=new CustomEvent("pageload",{detail:y}),window.dispatchEvent(k);case 36:case"end":return r.stop()}},s,n,[[8,12,16,24],[17,,19,23]])})(),"t0",4);case 4:s.next=12;break;case 6:return s.prev=6,s.t1=s.catch(2),s.next=10,s.t1.text();case 10:if(l=s.sent)try{c=JSON.parse(l),window.UIkit.notify({message:c.message,status:"danger",timeout:3e3,pos:"top-center"})}catch(e){window.location.href=t.href}else window.UIkit.notify({message:window.RozierConfig.messages.forbiddenPage,status:"danger",timeout:3e3,pos:"top-center"});case 12:n.canvasLoader.hide();case 13:case"end":return s.stop()}},s,n,[[2,6]])})))}},{key:"refreshCodemirrorEditor",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,a.default)(this.markdownEditors);!(e=(r=i.next()).done);e=!0){r.value.forceEditorUpdate()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var o=!0,s=!1,u=void 0;try{for(var l,c=(0,a.default)(this.yamlEditors);!(o=(l=c.next()).done);o=!0){l.value.forceEditorUpdate()}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}var d=!0,f=!1,h=void 0;try{for(var p,m=(0,a.default)(this.cssEditors);!(d=(p=m.next()).done);d=!0){p.value.forceEditorUpdate()}}catch(e){f=!0,h=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw h}}var v=!0,g=!1,w=void 0;try{for(var b,_=(0,a.default)(this.jsonEditors);!(v=(b=_.next()).done);v=!0){b.value.forceEditorUpdate()}}catch(e){g=!0,w=e}finally{try{!v&&_.return&&_.return()}finally{if(g)throw w}}}},{key:"destroyCodemirrorEditor",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,a.default)(this.markdownEditors);!(e=(r=i.next()).done);e=!0){r.value.destroy()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var o=!0,s=!1,u=void 0;try{for(var l,c=(0,a.default)(this.yamlEditors);!(o=(l=c.next()).done);o=!0){l.value.destroy()}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}var d=!0,f=!1,h=void 0;try{for(var p,m=(0,a.default)(this.cssEditors);!(d=(p=m.next()).done);d=!0){p.value.destroy()}}catch(e){f=!0,h=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw h}}var v=!0,g=!1,w=void 0;try{for(var b,_=(0,a.default)(this.jsonEditors);!(v=(b=_.next()).done);v=!0){b.value.destroy()}}catch(e){g=!0,w=e}finally{try{!v&&_.return&&_.return()}finally{if(g)throw w}}}},{key:"applyContent",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,i,a,o,s,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("main-content-scrollable"),i=n.querySelector(".content-global"),(a=document.createElement("div")).innerHTML=t,(o=a.querySelector("[data-ajax-root]"))&&((a=document.createElement("div")).innerHTML=o.innerHTML),a.classList.add("new-content-global"),n.querySelectorAll('meta[name="title"]').forEach(function(e){e.remove()}),n.append(a),(s=n.querySelectorAll('meta[name="title"]')).length&&(document.title=s[0].getAttribute("content")),a=n.querySelector(".new-content-global"),!i||!a){e.next=23;break}return e.next=16,(0,M.fadeOut)(i,100);case 16:return i.remove(),this.generalBind(),e.next=20,(0,M.fadeIn)(a,200);case 20:a.classList.remove("new-content-global"),u=new CustomEvent("pageshowend"),window.dispatchEvent(u);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"bindAjaxLink",value:function(){var e=this;this.parseLinks(),this.linksSelector.forEach(function(t){t.removeEventListener("click",e.onClick),t.addEventListener("click",e.onClick)})}},{key:"generalBind",value:function(){this.generalUnbind([this.mainTreeTabs,this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.nodeTreeContextActions,this.tagAutocomplete,this.folderAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons,this.nodeEditSource,this.tagEdit,this.nodeTree]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.mainTreeTabs=new O.default,this.inputLengthWatcher=new v.default,this.documentUploader=new d.default(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new g.default,this.geotagField=new R.default,this.multiGeotagField=new L.default,this.stackNodeTrees=new w.default,this.saveButtons&&this.saveButtons.unbind(),this.saveButtons=new b.default,this.tagAutocomplete=new _.default,this.folderAutocomplete=new E.default,this.attributeValuesPosition=new f.default,this.customFormFieldsPosition=new h.default,this.nodeTreeContextActions=new p.default,this.settingsSaveButtons=new y.default,this.nodeEditSource=new m.default,this.tagEdit=new I.default,this.nodeTree=new k.default,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),document.querySelectorAll(".actions-menu").length&&c.TweenLite.to(".actions-menu",.5,{right:0,delay:.4,ease:c.Expo.easeOut}),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new x.default,window.Rozier.getMessages()}},{key:"generalUnbind",value:function(e){this.destroyCodemirrorEditor();var t=!0,n=!1,r=void 0;try{for(var i,o=(0,a.default)(e);!(t=(i=o.next()).done);t=!0){var s=i.value;s&&s.unbind()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"initCollectionsForms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=null;(n=null!==e?e.querySelectorAll(".rz-collection-form-type"):document.querySelectorAll(".rz-collection-form-type")).length&&$(n).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:function(e,n){return t.initMarkdownEditors(n),t.initJsonEditors(n),t.initCssEditors(n),t.initYamlEditors(n),t.initCollectionsForms(n),n.querySelectorAll("[data-vuejs]").forEach(function(e){window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(e))}),!0}})}},{key:"initMarkdownEditors",value:function(e){var t=[],n=(t=e&&e.length?e.querySelectorAll("textarea[data-rz-markdowneditor]"):document.querySelectorAll("textarea[data-rz-markdowneditor]")).length;if(n)for(var r=0;r<n;r++)this.markdownEditors.push(new C.default(t[r],r))}},{key:"initJsonEditors",value:function(e){var t=[],n=(t=e&&e.length?e.querySelectorAll("textarea[data-rz-jsoneditor]"):document.querySelectorAll("textarea[data-rz-jsoneditor]")).length;if(n)for(var r=0;r<n;r++)this.jsonEditors.push(new S.default(t[r],r))}},{key:"initCssEditors",value:function(e){var t=[],n=(t=e&&e.length?e.querySelectorAll("textarea[data-rz-csseditor]"):document.querySelectorAll("textarea[data-rz-csseditor]")).length;if(n)for(var r=0;r<n;r++)this.cssEditors.push(new A.default(t[r],r))}},{key:"initYamlEditors",value:function(e){var t=[],n=(t=e&&e.length?e.querySelectorAll("textarea[data-rz-yamleditor]"):document.querySelectorAll("textarea[data-rz-yamleditor]")).length;if(n)for(var r=0;r<n;r++)this.yamlEditors.push(new T.default(t[r],r))}},{key:"initFilterBars",value:function(){var e=document.querySelectorAll("select.item-per-page");if(e.length){var t=function(e){var t=e.currentTarget.closest("form");t&&t.requestSubmit()};e.forEach(function(e){e.addEventListener("change",t)})}}},{key:"resize",value:function(){this.canvasLoaderContainer&&(this.canvasLoaderContainer.style.left=window.Rozier.mainContentScrollableOffsetLeft+window.Rozier.mainContentScrollableWidth/2+"px")}}]),e}();t.default=P},rJVn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("T4f3")),i=n("SJI6"),a=o(n("ciPl"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={mounted:function(){this.tagCreatorReady()},computed:(0,r.default)({},(0,i.mapState)({translations:function(e){return e.translations},searchTerms:function(e){return e.explorer.searchTerms},isTagExisting:function(e){return e.tags.isTagExisting}})),methods:(0,r.default)({},(0,i.mapActions)(["tagsCreate","tagCreatorReady"])),components:{TagCreatorItem:a.default}}},raEj:function(e,t,n){"use strict";jQuery.fn.caret=function(e){var t=this[0],n="true"===t.contentEditable;if(0==arguments.length){if(window.getSelection)return n?(t.focus(),(i=(r=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(t),i.setEnd(r.endContainer,r.endOffset),i.toString().length):t.selectionStart;if(document.selection){if(t.focus(),n){var r=document.selection.createRange();return(i=document.body.createTextRange()).moveToElementText(t),i.setEndPoint("EndToEnd",r),i.text.length}e=0;var i,a=t.createTextRange(),o=(i=document.selection.createRange().duplicate()).getBookmark();for(a.moveToBookmark(o);0!==a.moveStart("character",-1);)e++;return e}return t.selectionStart?t.selectionStart:0}return-1==e&&(e=this[n?"text":"val"]().length),window.getSelection?n?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e):document.body.createTextRange&&(n?((a=document.body.createTextRange()).moveToElementText(t),a.moveStart("character",e),a.collapse(!0),a.select()):((a=t.createTextRange()).move("character",e),a.select())),n||t.focus(),e}},"s/f/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("swoF"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("amjE"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports},si9I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}}},siMv:function(e,t,n){var r=n("kGPT");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("X/Wc")("b7ad1d0c",r,!0,{})},stwt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("dACh")),i=o(n("jx4H")),a=(n("EQNM"),n("Tzw7"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,r.default)(this,e),this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll("a"),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=this.treeWrapper.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;this.userPicture.length&&(0,a.addClass)(this.userPicture[0],"rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(function(t){return t.addEventListener("click",e.adminMenuLinkClick)}),this.adminMenuNavParents.forEach(function(t){return t.addEventListener("click",e.adminMenuNavParentClick)}),this.searchButton.addEventListener("click",this.searchButtonClick),this.treeButton.addEventListener("click",this.treeButtonClick),this.treeWrapperLink.addEventListener("click",this.treeWrapperLinkClick),this.userPicture.addEventListener("click",this.userPictureClick),this.userActionsLink.addEventListener("click",this.userActionsLinkClick),this.mainContentOverlay.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}},{key:"menuClick",value:function(e){this.menuOpen?this.closeMenu():this.openMenu()}},{key:"adminMenuNavParentClick",value:function(e){e.preventDefault();var t=e.currentTarget;if(!t)return!1;this.adminMenuNavParents.forEach(function(e){e.classList.remove("nav-open")}),t.classList.contains("nav-open")?t.classList.remove("nav-open"):t.classList.add("nav-open")}},{key:"adminMenuLinkClick",value:function(e){this.menuOpen&&this.closeMenu()}},{key:"showOverlay",value:function(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}},{key:"hideOverlay",value:function(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}},{key:"openMenu",value:function(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}},{key:"closeMenu",value:function(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}},{key:"searchButtonClick",value:function(e){this.searchOpen?this.closeSearch():this.openSearch()}},{key:"openSearch",value:function(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}},{key:"closeSearch",value:function(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}},{key:"treeButtonClick",value:function(e){this.treeOpen?this.closeTree():this.openTree()}},{key:"treeWrapperLinkClick",value:function(e){-1===e.currentTarget.className.indexOf("tab-link")&&this.treeOpen&&this.closeTree()}},{key:"openTree",value:function(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}},{key:"closeTree",value:function(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),(0,a.removeClass)(this.treeButton,"active"),this.treeOpen=!1}},{key:"userPictureClick",value:function(e){return this.userOpen?this.closeUser():this.openUser(),!1}},{key:"userActionsLinkClick",value:function(e){this.userOpen&&this.closeUser()}},{key:"openUser",value:function(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}},{key:"closeUser",value:function(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}},{key:"mainContentOverlayClick",value:function(e){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}]),e}();t.default=s},swoF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}}},t4hZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("zv2j")),i=o(n("dACh")),a=o(n("jx4H"));function o(e){return e&&e.__esModule?e:{default:e}}var s="roadiz.currentMainTreeTab",u=function(){function e(){(0,i.default)(this,e),this.onTabChange=this.onTabChange.bind(this);var t=document.getElementById("tree-menu"),n=window.localStorage.getItem(s);t&&(this.tabsMenu=window.UIkit.tab(t,{connect:"#tree-container",swiping:!1,active:n?(0,r.default)(n):0}),this.tabsMenu.on("change.uk.tab",this.onTabChange))}return(0,a.default)(e,[{key:"unbind",value:function(){this.tabsMenu&&this.tabsMenu.off("change.uk.tab",this.onTabChange)}},{key:"onTabChange",value:function(e,t,n){var r=(t=t[0]).getAttribute("data-index");r&&window.localStorage.setItem(s,r)}}]),e}();t.default=u},uC1N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("dACh")),i=l(n("jx4H")),a=n("EY70"),o=l(n("cDWz")),s=l(n("WGNA")),u=l(n("lTHl"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"getState",value:function(e){var t={trans:{moreItems:""},isFilterEnable:!1};switch(t.currentListingView=s.default,t.trans.moreItems="moreEntities",e){case a.DOCUMENT_ENTITY:t.currentListingView=o.default,t.filterExplorerIcon="uk-icon-rz-folder-tree-mini",t.trans.moreItems="moreDocuments",t.isFilterEnable=!0;break;case a.NODE_ENTITY:t.filterExplorerIcon="uk-icon-tags",t.trans.moreItems="moreNodes",t.isFilterEnable=!0;break;case a.NODE_TYPE_ENTITY:t.trans.moreItems="moreNodeTypes";break;case a.TAG_ENTITY:t.trans.moreItems="moreTags",t.isFilterEnable=!0,t.filterExplorerIcon="uk-icon-tags";break;default:t.trans.moreItems="moreEntities"}return t}},{key:"getListingView",value:function(e){switch(e){case a.DOCUMENT_ENTITY:return o.default;default:return s.default}}},{key:"getWidgetView",value:function(e){switch(e){case a.TAG_ENTITY:return u.default;default:return null}}}]),e}();t.default=c},umdK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("L3Vt"));t.getExplorerItems=function(e){var t=e.entity,n=e.searchTerms,f=e.preFilters,h=e.filters,p=e.filterExplorerSelection,m=e.moreData,v=void 0!==m&&m;switch(t){case i.DOCUMENT_ENTITY:return a.getDocuments({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case i.NODE_ENTITY:return o.getNodes({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case i.NODE_TYPE_ENTITY:return s.getNodeTypes({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case i.JOIN_ENTITY:return u.getJoins({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case i.CUSTOM_FORM_ENTITY:return l.getCustomForms({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case i.TAG_ENTITY:return c.getTags({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v});case i.EXPLORER_PROVIDER_ENTITY:return d.getItems({searchTerms:n,preFilters:f,filters:h,filterExplorerSelection:p,moreData:v})}return r.default.reject(new Error("No type entity found"))};var i=n("EY70"),a=f(n("2y8T")),o=f(n("vfsJ")),s=f(n("O/s3")),u=f(n("m1Vf")),l=f(n("8DOo")),c=f(n("RfA7")),d=f(n("CpLN"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},vfsJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("aIIw")),i=a(n("kcQR"));function a(e){return e&&e.__esModule?e:{default:e}}t.getNodesByIds=function(e){for(var t=this,n=e.ids,a=void 0===n?[]:n,o={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"},s=0;s<a.length;s++)o["ids["+s+"]"]=a[s];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(o),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.items){e.next=7;break}return e.abrupt("return",{items:i.items});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},t.getNodes=function(e){var t=this,n=e.searchTerms,a=e.preFilters,o=e.filters,s=e.filterExplorerSelection,u=e.moreData,l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:n,page:1};s&&s.id&&(l.tagId=s.id);if(a&&a.nodeTypes){var c=JSON.parse(a.nodeTypes);Array.isArray(c)&&c.length>0&&(l.nodeTypes=c)}u&&(l.page=o?o.nextPage:1);return fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json"}}).then(function(){var e=(0,i.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(void 0===(i=e.sent)||!i.nodes){e.next=7;break}return e.abrupt("return",{items:i.nodes,filters:i.filters});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,i.default)(r.default.mark(function e(n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Error,e.next=3,n.response.json();case 3:throw e.t1=e.sent.humanMessage,new e.t0(e.t1);case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},vpu8:function(e,t,n){var r=n("ZmFW");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("X/Wc")("67e6bbe3",r,!0,{})},wi4E:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("aIIw")),i=s(n("kcQR")),a=s(n("dACh")),o=s(n("jx4H"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){var t=this;(0,a.default)(this,e),this.handleOutsideClick=function(e){e.target.closest(".ui-autocomplete")||t.removeAutocompleteMenu()};var n=this,o=document.querySelector(".rz-folder-autocomplete");o&&(o.addEventListener("keydown",function(e){9===e.keyCode&&"true"===o.dataset.menuActive&&e.preventDefault()}),o.addEventListener("input",(0,i.default)(r.default.mark(function e(){var t,i,a,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.extractLast(this.value)).length<2)){e.next=4;break}return n.removeAutocompleteMenu(),e.abrupt("return");case 4:return i={_action:"folderAutocomplete",_token:window.RozierConfig.ajaxToken,search:n.extractLast(t)},a=window.RozierConfig.routes.foldersAjaxSearch+"?"+new URLSearchParams(i),e.next=8,fetch(a);case 8:return o=e.sent,e.next=11,o.json();case 11:s=e.sent,n.showAutocompleteMenu(this,s);case 13:case"end":return e.stop()}},e,this)}))))}return(0,o.default)(e,[{key:"showAutocompleteMenu",value:function(e,t){var n=this;this.removeAutocompleteMenu();var r=document.createElement("ul");r.className="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front",r.style.position="absolute",r.style.zIndex="1000",t.forEach(function(t){var i=document.createElement("li");i.className="ui-menu-item",i.textContent=t,i.addEventListener("mousedown",function(r){r.preventDefault();var i=n.split(e.value);i.pop(),i.push(t),i.push(""),e.value=i.join(", "),n.removeAutocompleteMenu()}),r.appendChild(i)}),e.parentNode.appendChild(r),e.dataset.menuActive="true";e.getBoundingClientRect();r.style.left=e.offsetLeft+"px",r.style.top=e.offsetTop+e.offsetHeight+"px",document.addEventListener("click",this.handleOutsideClick)}},{key:"removeAutocompleteMenu",value:function(){var e=document.querySelector(".ui-autocomplete");e&&(e.remove(),document.removeEventListener("click",this.handleOutsideClick));var t=document.querySelector(".rz-folder-autocomplete");t&&(t.dataset.menuActive="false")}},{key:"unbind",value:function(){}},{key:"split",value:function(e){return e.split(/,\s*/)}},{key:"extractLast",value:function(e){return this.split(e).pop()}}]),e}();t.default=u},x4pS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("aIIw")),i=m(n("kcQR")),a=m(n("HxWs")),o=m(n("X9RM")),s=m(n("BX4+")),u=m(n("dACh")),l=m(n("jx4H")),c=m(n("VOrx")),d=m(n("ZKjc")),f=n("ZysM"),h=m(f),p=n("f3z0");function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),e.$fields.length&&e.init(),e}return(0,d.default)(t,e),(0,l.default)(t,[{key:"resetMarker",value:function(e,t,n,r,i){t.value="";var a=!0,s=!1,u=void 0;try{for(var l,c=(0,o.default)(e);!(a=(l=c.next()).done);a=!0){var d=l.value;null!==d&&d.removeFrom(r)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return e=[],n.style.display="none",this.syncSelector(i,e,r,t),!1}},{key:"bindSingleField",value:function(e){var t=this,n=e.parentElement.querySelector(".uk-form-label"),r=n.innerHTML||"Geotag";n.style.display="none";var i=null;i=window.RozierConfig.defaultMapLocation?window.RozierConfig.defaultMapLocation:f.DEFAULT_LOCATION;var a="geotag-canvas-"+this.uniqid(),s=a+"-address",u=a+"-reset",l={center:this.createLatLng(i),zoom:i.zoom||i.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",a);var c=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+r+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+s+'" type="text" value="" />','<button type="button" id="'+u+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+a+'"></div>',"</div>"].join(""),d=document.createElement("div");d.innerHTML=c,e.after(d);var h=document.getElementById(s);h.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);var p=document.getElementById(u);p.style.display="none";var m=this.createMap(a,l),v=[],g=e.parentElement.querySelector(".multi-geotag-list-markers");if(""!==e.value)try{var w=JSON.parse(e.value);if(!w.features)throw new Error("Data is not a valid GeoJSON featureCollection");var b=!0,_=!1,E=void 0;try{for(var y,k=(0,o.default)(w.features);!(b=(y=k.next()).done);b=!0){var x=y.value,T=this.createMarker(x,m);T.on("dragend",this.setMarkerEvent.bind(this,T,v,e,p,m,g)),v.push(T)}}catch(e){_=!0,E=e}finally{try{!b&&k.return&&k.return()}finally{if(_)throw E}}}catch(t){return e.style.display="block",document.getElementById(a).style.display="none",!1}m.on("click",this.setMarkerEvent.bind(this,null,v,e,p,m,g)),h.addEventListener("keypress",this.requestGeocode.bind(this,v,e,p,m,g)),this.resetMap(m,v,l,null),this.syncSelector(g,v,m,e),new ResizeObserver(function(e){m.invalidateSize({animate:!1,pan:!1}),void 0!==v&&v.length>0?m.fitBounds(t.getMediumLatLng(v),{animate:!1,pan:!1}):m.panTo(l.center,{animate:!1,pan:!1})}).observe(document.getElementById(a))}},{key:"syncSelector",value:function(e,t,n,r){e.innerHTML="";var i=[],a=0,s=t.filter(function(e){return null!==e&&null!==e.getLatLng()}),u=!0,l=!1,c=void 0;try{for(var d,f=(0,o.default)(s);!(u=(d=f.next()).done);u=!0){var h=d.value;["<li>",'<span class="multi-geotag-marker-name">',h.name?h.name:"#"+a,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+a+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+a+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(function(e){return i.push(e)}),a++}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}e.innerHTML=i.join("");var p=0,m=!0,v=!1,g=void 0;try{for(var w,b=(0,o.default)(s);!(m=(w=b.next()).done);m=!0){var _=w.value,E=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+p+'"]'),y=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+p+'"]');E&&y&&(E.addEventListener("click",this.centerMap.bind(this,n,_)),y.addEventListener("click",this.removeMarker.bind(this,n,t,_,e,r))),p++}}catch(e){v=!0,g=e}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}}},{key:"removeMarker",value:function(e,t,n,r,i,a){a&&a.preventDefault();var o=t.indexOf(n);return n.removeFrom(e),t.splice(o,1),this.syncSelector(r,t,e,i),this.writeMarkers(t,i),!1}},{key:"resetMap",value:function(e,t,n,r){var i=this;r&&r.preventDefault(),window.requestAnimationFrame(function(){e.invalidateSize({animate:!0,pan:!0}),void 0!==t&&t.length>0?e.fitBounds(i.getMediumLatLng(t)):e.panTo(n.center)})}},{key:"centerMap",value:function(e,t,n){if(n&&n.preventDefault(),e&&t){var r=t.getLatLng();e.flyTo(r,r.alt)}}},{key:"getMediumLatLng",value:function(e){var t=new p.LatLngBounds,n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(e);!(n=(a=s.next()).done);n=!0){var u=a.value;t.extend(u.getLatLng())}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t}},{key:"setMarkerEvent",value:function(e,t,n,r,i,a,o){if(o.latlng)this.setMarker(e,t,n,r,i,o.latlng);else if(null!==e){var s=e.getLatLng();s.alt=i.getZoom(),e.setLatLng(s),i.flyTo(s,s.alt),this.writeMarkers(t,n)}this.syncSelector(a,t,i,n)}},{key:"setMarker",value:function(e,t,n,r,i,a,o){return i&&(a.alt||(a.alt=i.getZoom()),null===e?e=this.createMarker(a,i):(e.setLatLng(a),e.addTo(i)),e.name=o,i.flyTo(a,a.alt),t.push(e),this.writeMarkers(t,n)),e}},{key:"writeMarkers",value:function(e,t){var n={type:"FeatureCollection",features:[]},r=!0,i=!1,s=void 0;try{for(var u,l=(0,o.default)(e);!(r=(u=l.next()).done);r=!0){var c=u.value;if(c){var d=c.getLatLng();n.features.push(this.latLngToFeature(d,d.alt,c.name))}}}catch(e){i=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}t.value=(0,a.default)(n)}},{key:"requestGeocode",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n,i,a,o,s){var u,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=s.currentTarget.value,!s.which||13!==s.which){e.next=12;break}return s.preventDefault(),e.next=5,this.getLatLngForAddress(u);case 5:if(null!==(l=e.sent)){e.next=9;break}return console.error("Geocode was not successful."),e.abrupt("return");case 9:l.alt=a.getZoom(),this.setMarker(null,t,n,i,a,l,l.name||""),this.syncSelector(o,t,a,n);case 12:case"end":return e.stop()}},e,this)}));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}()}]),t}(h.default);t.default=v},xHmi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NODES_SEARCH_REQUEST="NODES_SEARCH_REQUEST",t.NODES_SEARCH_SUCCESS="NODES_SEARCH_SUCCESS",t.NODES_SEARCH_RESET="NODES_SEARCH_RESET",t.NODES_SEARCH_FAILED="NODES_SEARCH_FAILED",t.NODES_SEARCH_ENABLE_FOCUS="NODES_SEARCH_ENABLE_FOCUS",t.NODES_SEARCH_DISABLE_FOCUS="NODES_SEARCH_DISABLE_FOCUS",t.EXPLORER_REQUEST="EXPLORER_REQUEST",t.EXPLORER_SUCCESS="EXPLORER_SUCCESS",t.EXPLORER_RESET="EXPLORER_RESET",t.EXPLORER_FAILED="EXPLORER_FAILED",t.EXPLORER_OPEN="EXPLORER_OPEN",t.EXPLORER_CLOSE="EXPLORER_CLOSE",t.EXPLORER_LOAD_MORE="EXPLORER_LOAD_MORE",t.EXPLORER_LOAD_MORE_SUCCESS="EXPLORER_LOAD_MORE_SUCCESS",t.EXPLORER_IS_LOADED="EXPLORER_IS_LOADED",t.EXPLORER_UPDATE_SEARCH_TERMS="EXPLORER_UPDATE_SEARCH_TERMS",t.EXPLORER_UPDATE_FILTERS="EXPLORER_UPDATE_FILTERS",t.FILTER_EXPLORER_OPEN="FILTER_EXPLORER_OPEN",t.FILTER_EXPLORER_CLOSE="FILTER_EXPLORER_CLOSE",t.FILTER_EXPLORER_REQUEST="FILTER_EXPLORER_REQUEST",t.FILTER_EXPLORER_SUCCESS="FILTER_EXPLORER_SUCCESS",t.FILTER_EXPLORER_FAILED="FILTER_EXPLORER_FAILED",t.FILTER_EXPLORER_UPDATE="FILTER_EXPLORER_UPDATE",t.FILTER_EXPLORER_RESET="FILTER_EXPLORER_RESET",t.KEYBOARD_EVENT_ESCAPE="KEYBOARD_EVENT_ESCAPE",t.KEYBOARD_EVENT_SPACE="KEYBOARD_EVENT_SPACE",t.LOGIN_CHECK_DISCONNECTED="LOGIN_CHECK_DISCONNECTED",t.LOGIN_CHECK_CONNECTED="LOGIN_CHECK_CONNECTED",t.HEALTH_CHECK_FAILED="HEALTH_CHECK_FAILED",t.HEALTH_CHECK_SUCCEEDED="HEALTH_CHECK_SUCCEEDED",t.DRAWERS_ADD_INSTANCE="DRAWERS_ADD_INSTANCE",t.DRAWERS_REMOVE_INSTANCE="DRAWERS_REMOVE_INSTANCE",t.DRAWERS_ADD_ITEM="DRAWERS_ADD_DOCUMENT",t.DRAWERS_REMOVE_ITEM="DRAWERS_REMOVE_DOCUMENT",t.DRAWERS_EDIT_INSTANCE="DRAWERS_EDIT_INSTANCE",t.DRAWERS_UPDATE_LIST="DRAWERS_UPDATE_LIST",t.DRAWERS_ENABLE_DROPZONE="DRAWERS_ENABLE_DROPZONE",t.DRAWERS_DISABLE_DROPZONE="DRAWERS_DISABLE_DROPZONE",t.DRAWERS_INIT_DATA_REQUEST="DRAWERS_INIT_DATA_REQUEST",t.DRAWERS_INIT_DATA_REQUEST_SUCCESS="DRAWERS_INIT_DATA_REQUEST_SUCCESS",t.DRAWERS_INIT_DATA_REQUEST_FAILED="DRAWERS_INIT_DATA_REQUEST_FAILED",t.DRAWERS_INIT_DATA_REQUEST_EMPTY="DRAWERS_INIT_DATA_REQUEST_EMPTY",t.TAGS_UPDATE_VALUE="TAGS_UPDATE_VALUE",t.TAGS_REQUEST="TAGS_REQUEST",t.TAGS_REQUEST_SUCCESS="TAGS_REQUEST_SUCCESS",t.TAGS_REQUEST_ERROR="TAGS_REQUEST_ERROR",t.TAG_CREATE_NEW_REQUEST="TAG_CREATE_NEW_REQUEST",t.TAG_CREATE_NEW_REQUEST_SUCCESS="TAG_CREATE_NEW_REQUEST_SUCCESS",t.TAG_CREATE_NEW_REQUEST_ERROR="TAG_CREATE_NEW_REQUEST_ERROR",t.TAG_CREATOR_READY="TAG_CREATOR_READY",t.DOCUMENT_PREVIEW_INIT="DOCUMENT_PREVIEW_INIT",t.DOCUMENT_PREVIEW_DESTROY="DOCUMENT_PREVIEW_DESTROY",t.DOCUMENT_PREVIEW_OPEN="DOCUMENT_PREVIEW_OPEN",t.DOCUMENT_PREVIEW_CLOSE="DOCUMENT_PREVIEW_CLOSE",t.BLANCHETTE_EDITOR_INIT="BLANCHETTE_EDITOR_INIT",t.BLANCHETTE_EDITOR_IS_LOADING="BLANCHETTE_EDITOR_IS_LOADING",t.BLANCHETTE_EDITOR_LOADED="BLANCHETTE_EDITOR_LOADED",t.BLANCHETTE_EDITOR_ERROR="BLANCHETTE_EDITOR_ERROR",t.BLANCHETTE_EDITOR_SAVE_SUCCESS="BLANCHETTE_EDITOR_SAVE_SUCCESS"},xlJi:function(e,t){},yQaP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade"}},[this.isExplorerOpen?t("div",{class:{"is-active":this.isExplorerOpen},attrs:{id:"overlay"}}):this._e()])},staticRenderFns:[]};t.default=r},yel6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.connected?e.healthChecked?e._e():n("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):n("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},staticRenderFns:[]};t.default=r},ywca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("4YKS"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var o=n("6wAW"),s=n.n(o),u=n("/4AN")(i.a,s.a,!1,null,null,null);t.default=u.exports}},["9wWa"]);