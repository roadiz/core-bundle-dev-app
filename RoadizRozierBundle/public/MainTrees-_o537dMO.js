const s="roadiz.currentMainTreeTab";class o extends HTMLElement{constructor(){super(),this.activateTab=this.activateTab.bind(this),this.activateTabNav=this.activateTabNav.bind(this),this.currentTabId=window.localStorage.getItem(s)}connectedCallback(){this.querySelector("#tree-menu").querySelectorAll(".tab-link").forEach(r=>{r.addEventListener("click",c=>{c.preventDefault(),this.activateTabNav(r),this.activateTab(this.querySelector("#"+r.getAttribute("aria-controls")))})});let i=this.querySelector(".tab-link");this.currentTabId&&typeof this.currentTabId=="string"&&this.currentTabId.startsWith("tree")&&(i=this.querySelector("#"+this.currentTabId)),this.activateTabNav(i),this.activateTab(this.querySelector("#"+i.getAttribute("aria-controls")))}disconnectedCallback(){}activateTab(t){this.querySelectorAll(".tree-tab-content").forEach(a=>{this.desactivateTab(a)}),t==null||t.classList.add("active")}activateTabNav(t){this.querySelectorAll(".tab-link").forEach(i=>{this.desactivateTabNav(i)}),t==null||t.classList.add("active"),t==null||t.setAttribute("aria-selected",!0);const a=t.id;a&&(this.currentTabId=a,window.localStorage.setItem(s,a))}desactivateTab(t){t==null||t.classList.remove("active")}desactivateTabNav(t){t==null||t.classList.remove("active"),t==null||t.removeAttribute("aria-selected")}}export{o as default};
