const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["DocumentAlignmentWidget-CUmZZQpA.js","RoadizElement-XU473doh.js","DocumentEditDialog-ct28IygL.js","NodeSourceEditPage-C4uyyeo1.js","jquery-Cs7-jZ1a.js","vue-BqDQd3Vv.js","TagEditPage-CDlD7hB6.js"])))=>i.map(i=>d[i]);
import{g as ff,c as lh,a as C0}from"./jquery-Cs7-jZ1a.js";import{m as Ns,a as Fa,V as Ql,i as E0,v as xx}from"./vue-BqDQd3Vv.js";var Om={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var Pm;function wx(){return Pm||(Pm=1,(function(t){t(jQuery)})(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,r){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var s={absolute:!1,clone:!1,includeMargin:!1,display:"block"},u=t.extend(s,r),l=this.eq(0),f,h;if(u.clone===!0)f=function(){var N="position: absolute !important; top: -1000 !important; ";l=l.clone().attr("style",N).appendTo("body")},h=function(){l.remove()};else{var b=[],w="",x;f=function(){x=l.parents().addBack().filter(":hidden"),w+="visibility: hidden !important; display: "+u.display+" !important; ",u.absolute===!0&&(w+="position: absolute !important; "),x.each(function(){var N=t(this),q=N.attr("style");b.push(q),N.attr("style",q?q+";"+w:w)})},h=function(){x.each(function(N){var q=t(this),F=b[N];F===void 0?q.removeAttr("style"):q.attr("style",F)})}}f();var E=/(outer)/.test(e)?l[e](u.includeMargin):l[e]();return h(),E}})})),Om}wx();(function(t){var e=function(F,j){typeof j>"u"&&(j={}),this.init(F,j)},r=e.prototype,s,u=["canvas","vml"],l=["oval","spiral","square","rect","roundRect"],f=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,b=!!document.createElement("canvas").getContext,w=!0,x=function(U,j,W){var U=document.createElement(U),T;for(T in W)U[T]=W[T];return typeof j<"u"&&j.appendChild(U),U},E=function(F,j){for(var W in j)F.style[W]=j[W];return F},N=function(F,j){for(var W in j)F.setAttribute(W,j[W]);return F},q=function(F,j,W,U){F.save(),F.translate(j,W),F.rotate(U),F.translate(-j,-W),F.beginPath()};r.init=function(F,j){typeof j.safeVML=="boolean"&&(w=j.safeVML);try{this.mum=document.getElementById(F)!==void 0?document.getElementById(F):document.body}catch{this.mum=document.body}if(j.id=typeof j.id<"u"?j.id:"canvasLoader",this.cont=x("div",this.mum,{id:j.id}),b)s=u[0],this.can=x("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=E(x("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(s=u[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(x("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var W=["group","oval","roundrect","fill"],U;for(U in W)e.vmlSheet.addRule(W[U],"behavior:url(#default#VML); position:absolute;")}this.vml=x("group",this.cont)}this.setColor(this.color),this.draw(),E(this.cont,{display:"none"})},r.cont={},r.can={},r.con={},r.cCan={},r.cCon={},r.timer={},r.activeId=0,r.diameter=40,r.setDiameter=function(F){this.diameter=Math.round(Math.abs(F)),this.redraw()},r.getDiameter=function(){return this.diameter},r.cRGB={},r.color="#000000",r.setColor=function(F){this.color=f.test(F)?F:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},r.getColor=function(){return this.color},r.shape=l[0],r.setShape=function(F){for(var j in l)if(F===l[j]){this.shape=F,this.redraw();break}},r.getShape=function(){return this.shape},r.density=40,r.setDensity=function(F){this.density=w&&s===u[1]?Math.round(Math.abs(F))<=40?Math.round(Math.abs(F)):40:Math.round(Math.abs(F)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},r.getDensity=function(){return this.density},r.range=1.3,r.setRange=function(F){this.range=Math.abs(F),this.redraw()},r.getRange=function(){return this.range},r.speed=2,r.setSpeed=function(F){this.speed=Math.round(Math.abs(F))},r.getSpeed=function(){return this.speed},r.fps=24,r.setFPS=function(F){this.fps=Math.round(Math.abs(F)),this.reset()},r.getFPS=function(){return this.fps},r.getRGB=function(F){return F=F.charAt(0)==="#"?F.substring(1,7):F,{r:parseInt(F.substring(0,2),16),g:parseInt(F.substring(2,4),16),b:parseInt(F.substring(4,6),16)}},r.draw=function(){var F=0,j,W,U,T,D,B,I,V=this.density,te=Math.round(V*this.range),oe,ce,fe=0;ce=this.cCon;var ue=this.diameter;if(s===u[0])for(ce.clearRect(0,0,1e3,1e3),N(this.can,{width:ue,height:ue}),N(this.cCan,{width:ue,height:ue});F<V;){switch(oe=F<=te?1-1/te*F:oe=0,B=270-360/V*F,I=B/180*Math.PI,ce.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+oe.toString()+")",this.shape){case l[0]:case l[1]:j=ue*.07,T=ue*.47+Math.cos(I)*(ue*.47-j)-ue*.47,D=ue*.47+Math.sin(I)*(ue*.47-j)-ue*.47,ce.beginPath(),this.shape===l[1]?ce.arc(ue*.5+T,ue*.5+D,j*oe,0,Math.PI*2,!1):ce.arc(ue*.5+T,ue*.5+D,j,0,Math.PI*2,!1);break;case l[2]:j=ue*.12,T=Math.cos(I)*(ue*.47-j)+ue*.5,D=Math.sin(I)*(ue*.47-j)+ue*.5,q(ce,T,D,I),ce.fillRect(T,D-j*.5,j,j);break;case l[3]:case l[4]:W=ue*.3,U=W*.27,T=Math.cos(I)*(U+(ue-U)*.13)+ue*.5,D=Math.sin(I)*(U+(ue-U)*.13)+ue*.5,q(ce,T,D,I),this.shape===l[3]?ce.fillRect(T,D-U*.5,W,U):(j=U*.55,ce.moveTo(T+j,D-U*.5),ce.lineTo(T+W-j,D-U*.5),ce.quadraticCurveTo(T+W,D-U*.5,T+W,D-U*.5+j),ce.lineTo(T+W,D-U*.5+U-j),ce.quadraticCurveTo(T+W,D-U*.5+U,T+W-j,D-U*.5+U),ce.lineTo(T+j,D-U*.5+U),ce.quadraticCurveTo(T,D-U*.5+U,T,D-U*.5+U-j),ce.lineTo(T,D-U*.5+j),ce.quadraticCurveTo(T,D-U*.5,T+j,D-U*.5))}ce.closePath(),ce.fill(),ce.restore(),++F}else{switch(E(this.cont,{width:ue,height:ue}),E(this.vml,{width:ue,height:ue}),this.shape){case l[0]:case l[1]:I="oval",j=140;break;case l[2]:I="roundrect",j=120;break;case l[3]:case l[4]:I="roundrect",j=300}for(W=U=j,T=500-U,D=-U*.5;F<V;){switch(oe=F<=te?1-1/te*F:oe=0,B=270-360/V*F,this.shape){case l[1]:W=U=j*oe,T=500-j*.5-j*oe*.5,D=(j-j*oe)*.5;break;case l[0]:case l[2]:h&&(D=0,this.shape===l[2]&&(T=500-U*.5));break;case l[3]:case l[4]:W=j*.95,U=W*.28,h?(T=0,D=500-U*.5):(T=500-W,D=-U*.5),fe=this.shape===l[4]?.6:0}ce=N(E(x("group",this.vml),{width:1e3,height:1e3,rotation:B}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),ce=E(x(I,ce,{stroked:!1,arcSize:fe}),{width:W,height:U,top:D,left:T}),x("fill",ce,{color:this.color,opacity:oe}),++F}}this.tick(!0)},r.clean=function(){if(s===u[0])this.con.clearRect(0,0,1e3,1e3);else{var F=this.vml;if(F.hasChildNodes())for(;F.childNodes.length>=1;)F.removeChild(F.firstChild)}},r.redraw=function(){this.clean(),this.draw()},r.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},r.tick=function(F){var j=this.con,W=this.diameter;F||(this.activeId+=360/this.density*this.speed),s===u[0]?(j.clearRect(0,0,W,W),q(j,W*.5,W*.5,this.activeId/180*Math.PI),j.drawImage(this.cCan,0,0,W,W),j.restore()):(this.activeId>=360&&(this.activeId-=360),E(this.vml,{rotation:this.activeId}))},r.show=function(){if(typeof this.timer!="number"){var F=this;this.timer=self.setInterval(function(){F.tick()},Math.round(1e3/this.fps)),E(this.cont,{display:"block"})}},r.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,E(this.cont,{display:"none"}))},r.kill=function(){var F=this.cont;typeof this.timer=="number"&&this.hide(),s===u[0]?(F.removeChild(this.can),F.removeChild(this.cCan)):F.removeChild(this.vml);for(var j in this)delete this[j]},t.CanvasLoader=e})(window);(function(t){t.fn.caret=function(e){var r=this[0],s=r.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(s){r.focus();var u=window.getSelection().getRangeAt(0),l=u.cloneRange();return l.selectNodeContents(r),l.setEnd(u.endContainer,u.endOffset),l.toString().length}return r.selectionStart}if(document.selection){if(r.focus(),s){var u=document.selection.createRange(),l=document.body.createTextRange();return l.moveToElementText(r),l.setEndPoint("EndToEnd",u),l.text.length}var e=0,f=r.createTextRange(),l=document.selection.createRange().duplicate(),h=l.getBookmark();for(f.moveToBookmark(h);f.moveStart("character",-1)!==0;)e++;return e}return r.selectionStart?r.selectionStart:0}if(e==-1&&(e=this[s?"text":"val"]().length),window.getSelection)s?(r.focus(),window.getSelection().collapse(r.firstChild,e)):r.setSelectionRange(e,e);else if(document.body.createTextRange)if(s){var f=document.body.createTextRange();f.moveToElementText(r),f.moveStart("character",e),f.collapse(!0),f.select()}else{var f=r.createTextRange();f.move("character",e),f.select()}return s||r.focus(),e}})(jQuery);(function(t){t.fn.tagEditorInput=function(){var e=" ",r=t(this),s=parseInt(r.css("fontSize")),u=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),l=function(){if(e!==(e=r.val())){u.text(e);var f=u.width()+s;20>f&&(f=20),f!=r.width()&&r.width(f)}};return u.insertAfter(r),r.bind("keyup keydown focus",l)},t.fn.tagEditor=function(e,r,s){function u(w){return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var l,f=t.extend({},t.fn.tagEditor.defaults,e),h=this;if(f.dregex=new RegExp("["+f.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var b=[];return h.each(function(){var w=t(this),x=w.data("options"),E=w.next(".tag-editor");if(e=="getTags")b.push({field:w[0],editor:E,tags:E.data("tags")});else if(e=="addTag"){if(x.maxTags&&E.data("tags").length>=x.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+x.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(E).find(".tag-editor-tag").html('<input type="text" maxlength="'+x.maxLength+'">').addClass("active").find("input").val(r).blur(),s?t(".placeholder",E).remove():E.click()}else e=="removeTag"?(t(".tag-editor-tag",E).filter(function(){return t(this).text()==r}).closest("li").find(".tag-editor-delete").click(),s||E.click()):e=="destroy"&&w.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?b:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(w){if(w.which==8||w.which==46||w.ctrlKey&&w.which==88){try{var x=getSelection(),E=document.activeElement.tagName=="BODY"?t(x.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{E=0}if(x.rangeCount>0&&E&&E.length){var N=[],q=x.toString().split(E.prev().data("options").dregex);for(i=0;i<q.length;i++){var F=t.trim(q[i]);F&&N.push(F)}return t(".tag-editor-tag",E).each(function(){~t.inArray(t(this).text(),N)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),h.each(function(){var w=t(this),x=[],E=t("<ul "+(f.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(w);w.addClass("tag-editor-hidden-src").data("options",f).on("focus.tag-editor",function(){E.click()}),E.append('<li style="width:1px">&nbsp;</li>');var N='<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function q(){f.placeholder&&!x.length&&!t(".deleted, .placeholder, input",E).length&&E.append('<li class="placeholder"><div>'+f.placeholder+"</div></li>")}function F(I){var V=x.toString();x=t(".tag-editor-tag:not(.deleted)",E).map(function(te,oe){var ce=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(oe).text());if(ce)return ce}).get(),E.data("tags",x),w.val(x.join(f.delimiter[0])),I||V!=x.toString()&&f.onChange(w,E,x),q()}E.click(function(I,V){var te,oe=99999,ce;if(!(window.getSelection&&getSelection()!=""))return f.maxTags&&E.data("tags").length>=f.maxTags?(E.find("input").blur(),!1):(l=!0,t("input:focus",E).blur(),l&&(l=!0,t(".placeholder",E).remove(),V&&V.length?ce="before":t(".tag-editor-tag",E).each(function(){var fe=t(this),ue=fe.offset(),Te=ue.left,pe=ue.top;I.pageY>=pe&&I.pageY<=pe+fe.height()&&(I.pageX<Te?(ce="before",te=Te-I.pageX):(ce="after",te=I.pageX-Te-fe.width()),te<oe&&(oe=te,V=fe))}),ce=="before"?t(N).insertBefore(V.closest("li")).find(".tag-editor-tag").click():ce=="after"?t(N).insertAfter(V.closest("li")).find(".tag-editor-tag").click():t(N).appendTo(E).find(".tag-editor-tag").click()),!1)}),E.on("click",".tag-editor-delete",function(I){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caret(-1),!1;var V=t(this).closest("li"),te=V.find(".tag-editor-tag");return f.beforeTagDelete(w,E,x,te.text())===!1||(te.addClass("deleted").animate({width:0},f.animateDelete,function(){V.remove(),q()}),F()),!1}),f.clickDelete&&E.on("mousedown",".tag-editor-tag",function(I){if(I.ctrlKey||I.which>1){var V=t(this).closest("li"),te=V.find(".tag-editor-tag");return f.beforeTagDelete(w,E,x,te.text())===!1||(te.addClass("deleted").animate({width:0},f.animateDelete,function(){V.remove(),q()}),F()),!1}}),E.on("click",".tag-editor-tag",function(I){if(f.clickDelete&&(I.ctrlKey||I.which>1))return!1;if(!t(this).hasClass("active")){var V=t(this).text(),te=Math.abs((t(this).offset().left-I.pageX)/t(this).width()),oe=parseInt(V.length*te),ce=t(this).html('<input type="text" maxlength="'+f.maxLength+'" value="'+u(V)+'">').addClass("active").find("input");if(ce.data("old_tag",V).tagEditorInput().focus().caret(oe),f.autocomplete){var fe=t.extend({},f.autocomplete),ue="select"in fe?f.autocomplete.select:"";fe.select=function(Te,pe){ue&&ue(Te,pe),setTimeout(function(){E.trigger("click",[t(".active",E).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},ce.autocomplete(fe)}}return!1});function j(I){for(var V=I.closest("li"),te=I.val().replace(/ +/," ").split(f.dregex),oe=I.data("old_tag"),ce=x.slice(0),fe=!1,ue,Te=0;Te<te.length;Te++)if(B=t.trim(te[Te]).slice(0,f.maxLength),f.forceLowercase&&(B=B.toLowerCase()),ue=f.beforeTagSave(w,E,ce,oe,B),B=ue||B,!(ue===!1||!B)&&(f.removeDuplicates&&~t.inArray(B,ce)&&t(".tag-editor-tag",E).each(function(){t(this).text()==B&&t(this).closest("li").remove()}),ce.push(B),V.before('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+u(B)+'</div><div class="tag-editor-delete"><i></i></div></li>'),f.maxTags&&ce.length>=f.maxTags)){fe=!0;break}I.attr("maxlength",f.maxLength).removeData("old_tag").val(""),fe?I.blur():I.focus(),F()}E.on("blur","input",function(I){I.stopPropagation();var V=t(this),te=V.data("old_tag"),oe=t.trim(V.val().replace(/ +/," ").replace(f.dregex,f.delimiter[0])),ce;if(oe){if(oe.indexOf(f.delimiter[0])>=0){j(V);return}else if(oe!=te)if(f.forceLowercase&&(oe=oe.toLowerCase()),ce=f.beforeTagSave(w,E,x,te,oe),oe=ce||oe,ce===!1){if(te){V.val(te).focus(),l=!1,F();return}try{V.closest("li").remove()}catch{}te&&F()}else f.removeDuplicates&&t(".tag-editor-tag:not(.active)",E).each(function(){t(this).text()==oe&&t(this).closest("li").remove()})}else{if(te&&f.beforeTagDelete(w,E,x,te)===!1){V.val(te).focus(),l=!1,F();return}try{V.closest("li").remove()}catch{}te&&F()}V.parent().html(u(oe)).removeClass("active"),oe!=te&&F(),q()});var W;E.on("paste","input",function(I){t(this).removeAttr("maxlength"),W=t(this),setTimeout(function(){j(W)},30)});var U;E.on("keypress","input",function(I){f.delimiter.indexOf(String.fromCharCode(I.which))>=0&&(U=t(this),setTimeout(function(){j(U)},20))}),E.on("keydown","input",function(I){var V=t(this);if((I.which==37||!f.autocomplete&&I.which==38)&&!V.caret()||I.which==8&&!V.val()){var te=V.closest("li").prev("li").find(".tag-editor-tag");return te.length?te.click().find("input").caret(-1):V.val()&&!(f.maxTags&&E.data("tags").length>=f.maxTags)&&t(N).insertBefore(V.closest("li")).find(".tag-editor-tag").click(),!1}else if((I.which==39||!f.autocomplete&&I.which==40)&&V.caret()==V.val().length){var oe=V.closest("li").next("li").find(".tag-editor-tag");return oe.length?oe.click().find("input").caret(0):V.val()&&E.click(),!1}else if(I.which==9)if(I.shiftKey){var te=V.closest("li").prev("li").find(".tag-editor-tag");if(te.length)te.click().find("input").caret(0);else if(V.val()&&!(f.maxTags&&E.data("tags").length>=f.maxTags))t(N).insertBefore(V.closest("li")).find(".tag-editor-tag").click();else{w.attr("disabled","disabled"),setTimeout(function(){w.removeAttr("disabled")},30);return}return!1}else{var oe=V.closest("li").next("li").find(".tag-editor-tag");if(oe.length)oe.click().find("input").caret(0);else if(V.val())E.click();else return;return!1}else if(I.which==46&&(!t.trim(V.val())||V.caret()==V.val().length)){var oe=V.closest("li").next("li").find(".tag-editor-tag");return oe.length?oe.click().find("input").caret(0):V.val()&&E.click(),!1}else{if(I.which==13)return E.trigger("click",[V.closest("li").next("li").find(".tag-editor-tag")]),f.maxTags&&E.data("tags").length>=f.maxTags&&E.find("input").blur(),!1;if(I.which==36&&!V.caret())E.find(".tag-editor-tag").first().click();else if(I.which==35&&V.caret()==V.val().length)E.find(".tag-editor-tag").last().click();else if(I.which==27)return V.val(V.data("old_tag")?V.data("old_tag"):"").blur(),!1}});for(var T=f.initialTags.length?f.initialTags:w.val().split(f.dregex),D=0;D<T.length&&!(f.maxTags&&D>=f.maxTags);D++){var B=t.trim(T[D].replace(/ +/," "));B&&(f.forceLowercase&&(B=B.toLowerCase()),x.push(B),E.append('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+u(B)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}F(!0),f.sortable&&t.fn.sortable&&E.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){F()}})})},t.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);(function(t){t.fn.collection=function(e){var r={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(ie,O){return!0},after_up:function(ie,O){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(ie,O){return!0},after_down:function(ie,O){return!0},allow_add:!0,add:'<a href="#">[ + ]</a>',before_add:function(ie,O){return!0},after_add:function(ie,O){return!0},allow_remove:!0,remove:'<a href="#">[ - ]</a>',before_remove:function(ie,O){return!0},after_remove:function(ie,O){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(ie,O){return!0},after_duplicate:function(ie,O){return!0},before_init:function(ie){},after_init:function(ie){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(ie,O){return!0},drag_drop_update:function(ie,O){return!0},custom_add_location:!1,fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},s=function(){var ie=""+Math.random()*1e3*new Date().getTime();return ie.replace(".","").split("").sort(function(){return .5-Math.random()}).join("")},u=function(ie,O){if(!O.attr("id")){var ae;do ae=ie+"_"+s();while(t("#"+ae).length>0);O.attr("id",ae)}return O.attr("id")},l=function(ie){try{var O=t(ie)}catch{return null}return O.length===0?null:O.is('input[type="checkbox"]')?O.prop("checked")===!0:O.is('input[type="radio"]')&&O.attr("name")!==void 0?t('input[name="'+O.attr("name")+'"]:checked').val():O.prop("value")!==void 0?O.val():O.html()},f=function(ie,O,ae){try{var me=t(ie)}catch{return}me.length!==0&&(me.is('input[type="checkbox"]')?O?me.attr("checked",!0):me.removeAttr("checked"):me.prop("value")!==void 0?ae?me.attr("value",O):me.val(O):me.html(O))},h=function(ie){return ie===void 0||ie},b=function(ie){return(ie+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},w=function(ie,O,ae,me){var _e=function(Fe){var Ee=t(Fe);typeof Fe=="object"&&"attributes"in Fe&&t.each(Fe.attributes,function(J,Y){t.type(Y.value)==="string"&&Ee.attr(Y.name.replace(ae,me),Y.value.replace(ae,me))}),Ee.length>0&&t.each(Ee.data(),function(J,Y){t.type(Y)==="string"&&Ee.data(J.replace(ae,me),Y.replace(ae,me))})},Ve=ie.eq(O);_e(Ve[0]),Ve.find("*").each(function(){_e(this)})},x=function(ie,O,ae,me,_e,Ve){var Fe=new RegExp(b(ae.name_prefix+"["+_e+"]"),"g"),Ee=ae.name_prefix+"["+Ve+"]";ae.children&&t.each(ae.children,function(J,Y){var Ce=ie.find(Y.selector).eq(me),Me=Ce.data("collection-settings");Me&&(Me.name_prefix=Me.name_prefix.replace(Fe,Ee),Ce.data("collection-settings",Me))}),w(O,me,Fe,Ee),Fe=new RegExp(b(ie.attr("id")+"_"+_e),"g"),Ee=ie.attr("id")+"_"+Ve,ae.children&&t.each(ae.children,function(J,Y){var Ce=ie.find(Y.selector).eq(me),Me=Ce.data("collection-settings");Me&&(Me.elements_parent_selector=Me.elements_parent_selector.replace(Fe,Ee),Me.elements_selector=Me.elements_selector.replace(Fe,Ee),Me.prefix=Me.prefix.replace(Fe,Ee),Ce.data("collection-settings",Me))}),w(O,me,Fe,Ee)},E=function(ie,O,ae,me,_e,Ve,Fe){var Ee=new RegExp(b(O.name_prefix+"["+Ve+"]"),"g"),J=O.name_prefix+"["+Fe+"]";return ae=ae.replace(Ee,J),Ee=new RegExp(b(ie.attr("id")+"_"+me),"g"),J=ie.attr("id")+"_"+_e,ae=ae.replace(Ee,J),ae},N=function(ie){t(ie).find(":input").each(function(O,ae){f(ae,l(ae),!0)})},q=function(ie,O,ae,me){var _e=ie.data("collection-settings");return!_e.position_field_selector&&!_e.preserve_names&&(x(ie,O,_e,ae,ae,"__swap__"),x(ie,O,_e,me,me,ae),x(ie,O,_e,ae,"__swap__",me)),O.eq(ae).insertBefore(O.eq(me)),me>ae?O.eq(me).insertBefore(O.eq(ae)):O.eq(me).insertAfter(O.eq(ae)),ie.find(_e.elements_selector)},F=function(ie,O,ae,me,_e){for(var Ve=me+1;Ve<=_e;Ve++)O=q(ie,O,Ve,Ve-1);return ie.find(ae.elements_selector)},j=function(ie,O,ae,me,_e){for(var Ve=me-1;Ve>=_e;Ve--)O=q(ie,O,Ve,Ve+1);return ie.find(ae.elements_selector)},W=function(ie,O,ae,me){for(var _e=me+1;_e<O.length;_e++)O=q(ie,O,_e-1,_e);return ie.find(ae.elements_selector)},U=function(ie,O,ae,me){for(var _e=O.length-2;_e>me;_e--)O=q(ie,O,_e+1,_e);return ie.find(ae.elements_selector)},T=function(ie,O,ae,me){var _e=t(O.elements_parent_selector),Ve=_e.find("."+O.prefix+"-tmp").length===0,Fe=ie.find(O.elements_selector);if(O.allow_add&&Ve&&(_e.append('<span class="'+O.prefix+'-tmp"></span>'),O.add&&_e.append(t(O.add).addClass(O.prefix+"-action "+O.prefix+"-rescue-add").data("collection",ie.attr("id")))),ae){ie.data("collection-offset",Fe.length);for(var Ee=t(O.container),J=ie.find("."+O.prefix+"-add, ."+O.prefix+"-rescue-add, ."+O.prefix+"-duplicate").first(),Y=0;Fe.length<O.init_with_n_elements;){Y++;var Ce=Fe.length>0?Fe.last():void 0,Me=Fe.length-1;if(Fe=B(Ee,J,ie,O,Fe,Ce,Me,!1),Y>O.init_with_n_elements){console.error("Infinite loop, element selector ("+O.elements_selector+") not found !");break}}ie.data("collection-offset",Fe.length)}if(Fe.each(function(Ie){var Ye=t(this);ae&&Ye.data("index",Ie);var Ge=Ye.find("."+O.prefix+"-actions").addBack().filter("."+O.prefix+"-actions");Ge.length===0&&(Ge=t('<div class="'+O.prefix+'-actions"></div>'),Ye.append(Ge));var st=0;me==="remove"&&O.fade_out&&(st=1);var wt=[{enabled:O.allow_remove,selector:O.prefix+"-remove",html:O.remove,condition:Fe.length-st>O.min},{enabled:O.allow_up,selector:O.prefix+"-up",html:O.up,condition:Fe.length-st>1&&Fe.index(Ye)-st>0},{enabled:O.allow_down,selector:O.prefix+"-down",html:O.down,condition:Fe.length-st>1&&Fe.index(Ye)!==Fe.length-1},{enabled:O.allow_add&&!O.add_at_the_end&&!O.custom_add_location,selector:O.prefix+"-add",html:O.add,condition:Fe.length-st<O.max},{enabled:O.allow_duplicate,selector:O.prefix+"-duplicate",html:O.duplicate,condition:Fe.length-st<O.max}];t.each(wt,function(kt,Dt){if(Dt.enabled){var mt=Ye.find("."+Dt.selector);mt.length===0&&Dt.html&&(mt=t(Dt.html).appendTo(Ge).addClass(Dt.selector)),Dt.condition?(mt.removeClass(O.prefix+"-action-disabled"),O.hide_useless_buttons&&mt.css("display","")):(mt.addClass(O.prefix+"-action-disabled"),O.hide_useless_buttons&&mt.css("display","none")),mt.addClass(O.prefix+"-action").data("collection",ie.attr("id")).data("element",u(ie.attr("id")+"_"+Ie,Ye))}else Ye.find("."+Dt.selector).css("display","none")})}),O.allow_add){var G=0;me==="remove"&&O.fade_out&&(G=1);var ge=ie.find("."+O.prefix+"-rescue-add").css("display","").removeClass(O.prefix+"-action-disabled"),we=ie.find("."+O.prefix+"-add");!O.add_at_the_end&&we.length>G||O.custom_add_location?ge.css("display","none"):me==="remove"&&O.fade_out&&(ge.css("display","none"),ge.fadeIn("fast")),Fe.length-G>=O.max&&(ge.addClass(O.prefix+"-action-disabled"),O.hide_useless_buttons&&ie.find("."+O.prefix+"-add, ."+O.prefix+"-rescue-add, ."+O.prefix+"-duplicate").css("display","none"))}},D=function(ie,O,ae){ae.children&&t.each(ae.children,function(me,_e){if(!_e.selector)return console.log("jquery.collection.js: given collection "+ie.attr("id")+" has children collections, but children's root selector is undefined."),!0;O!==null?O.find(_e.selector).collection(_e):ie.find(_e.selector).collection(_e)})},B=function(ie,O,ae,me,_e,Ve,Fe,Ee){if(_e.length<me.max&&(Ee&&h(me.before_duplicate(ae,Ve))||h(me.before_add(ae,Ve)))){var J=ae.data("prototype"),Y=ae.data("collection-offset");ae.data("collection-offset",Y+1),Fe===-1&&(Fe=_e.length-1);var Ce=new RegExp(b(me.prototype_name),"g"),Me=Y;me.preserve_names&&(Me=ae.data("collection-free-key"),Me===void 0&&(Me=ue(me,_e)),ae.data("collection-free-key",Me+1));var G=t(J.replace(Ce,Me)).data("index",Y);Te(me,G);var ge=t(me.elements_parent_selector),we=ge.find("> ."+me.prefix+"-tmp");if(t(G).find("[id]").first().attr("id"),Ee){var Ie=_e.eq(Fe);N(Ie);var Ye=t("<div/>").append(Ie.clone()).html(),Ge=me.preserve_names||me.position_field_selector?Ie.data("index"):Fe,st=me.preserve_names?fe(me,Ie):Ge,wt=E(ae,me,Ye,Ge,Y,st,Me);G=t("<div/>").html(wt).contents().data("index",Y),me.fade_in&&G.hide(),we.before(G).find(me.prefix+"-actions").remove()}else me.fade_in&&G.hide(),we.before(G);_e=ae.find(me.elements_selector);var kt=G.find("."+me.prefix+"-add, ."+me.prefix+"-duplicate");kt.length>0&&kt.addClass(me.prefix+"-action").data("collection",ae.attr("id")),!me.add_at_the_end&&Fe+1!==Y?_e=oe(ae,me,_e,G,Y,Fe+1):T(ae,me,!1),D(ae,G,me),(Ee&&!h(me.after_duplicate(ae,G))||!h(me.after_add(ae,G)))&&(Fe!==-1&&(_e=W(ae,_e,me,Fe+1)),G.remove())}if(G!==void 0&&me.fade_in)G.fadeIn("fast",function(){me.position_field_selector&&ce(me,_e)});else if(me.position_field_selector)return ce(me,_e);return _e},I=function(ie,O,ae,me,_e){if(ae.length>O.min&&h(O.before_remove(ie,me))){var Ve=function(){var Fe=me;O.preserve_names||(ae=W(ie,ae,O,_e),Fe=ae.last());var Ee=Fe.clone({withDataAndEvents:!0}).show();if(Fe.remove(),!h(O.after_remove(ie,Ee))){var J=t(O.elements_parent_selector);J.find("> ."+O.prefix+"-tmp").before(Ee),ae=ie.find(O.elements_selector),ae=U(ie,ae,O,_e-1)}O.position_field_selector&&ce(O,ae)};O.fade_out?me.fadeOut("fast",function(){Ve()}):Ve()}return ae},V=function(ie,O,ae,me,_e){return _e!==0&&h(O.before_up(ie,me))&&(ae=q(ie,ae,_e,_e-1),h(O.after_up(ie,me))||(ae=q(ie,ae,_e-1,_e))),O.position_field_selector?ce(O,ae):ae},te=function(ie,O,ae,me,_e){return _e!==ae.length-1&&h(O.before_down(ie,me))&&(ae=q(ie,ae,_e,_e+1),h(O.after_down(ie,ae))||(ae=q(ie,ae,_e+1,_e))),O.position_field_selector?ce(O,ae):ae},oe=function(ie,O,ae,me,_e,Ve){return Math.abs(Ve-_e)===1?(ae=q(ie,ae,_e,Ve),(Ve-_e>0?h(O.after_up(ie,me)):h(O.after_down(ie,me)))||(ae=q(ie,ae,Ve,_e))):_e<Ve?(ae=F(ie,ae,O,_e,Ve),(Ve-_e>0?h(O.after_up(ie,me)):h(O.after_down(ie,me)))||(ae=j(ie,ae,O,Ve,_e))):(ae=j(ie,ae,O,_e,Ve),(Ve-_e>0?h(O.after_up(ie,me)):h(O.after_down(ie,me)))||(ae=F(ie,ae,O,Ve,_e))),T(ie,O,!1),O.position_field_selector?ce(O,ae):ae},ce=function(ie,O){return t(O).each(function(){var ae=t(this);f(ae.find(ie.position_field_selector),O.index(ae))}),O},fe=function(ie,O){var ae=O.find(':input[name^="'+ie.name_prefix+'["]').attr("name");return ae.slice(ie.name_prefix.length+1).split("]",1)[0]},ue=function(ie,O){var ae=0;return O.each(function(){var me=fe(ie,t(this));/^0|[1-9]\d*$/.test(me)&&me>=ae&&(ae=Number(me)+1)}),ae},Te=function(ie,O){var ae=["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"];t.each(ae,function(){var me=this;O.each(function(){var _e=t(this);_e.hasClass(ie.user_prefix+me)&&_e.addClass(ie.prefix+me),_e.find("*").each(function(){var Ve=t(this);Ve.hasClass(ie.user_prefix+me)&&Ve.addClass(ie.prefix+me)})})})},pe=t(this);return pe.length===0?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(pe.each(function(){var ie=t.extend(!0,{},r,e);if(t(ie.container).length===0)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var O=t(this);if(O.data("collection")!==void 0){var ae=t("#"+O.data("collection"));if(ae.length===0)return console.log("jquery.collection.js: given collection id does not exist."),!0}else ae=O;if(ae=t(ae),ie.elements_parent_selector=ie.elements_parent_selector.replace("%id%","#"+u("",ae)),!ie.elements_parent_selector&&(ie.elements_parent_selector="#"+u("",ae),t(ie.elements_parent_selector).length===0))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(ie.user_prefix=ie.prefix,ie.prefix=ae.attr("id")+"-"+ie.user_prefix,Te(ie,ae),ie.allow_add||(ie.allow_duplicate=!1,ie.add_at_the_end=!1),ie.init_with_n_elements>ie.max&&(ie.init_with_n_elements=ie.max),ie.min&&(!ie.init_with_n_elements||ie.init_with_n_elements<ie.min)&&(ie.init_with_n_elements=ie.min),ie.before_init(ae),ae.data("prototype")===null)return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(ae.data("prototype-name")!==void 0&&(ie.prototype_name=ae.data("prototype-name")),ae.data("allow-add")!==void 0&&(ie.allow_add=ae.data("allow-add"),ie.allow_duplicate=ae.data("allow-add")?ie.allow_duplicate:!1),ae.data("allow-remove")!==void 0&&(ie.allow_remove=ae.data("allow-remove")),ae.data("name-prefix")!==void 0&&(ie.name_prefix=ae.data("name-prefix")),!ie.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;if(ie.preserve_names&&(ie.allow_up=!1,ie.allow_down=!1,ie.drag_drop=!1,ie.add_at_the_end=!0),typeof jQuery.ui<"u"&&typeof jQuery.ui.sortable<"u"&&ae.data("sortable")&&ae.sortable("disable"),ie.drag_drop&&ie.allow_up&&ie.allow_down){var me,_e;typeof jQuery.ui>"u"||typeof jQuery.ui.sortable>"u"?ie.drag_drop=!1:ae.sortable(t.extend(!0,{},{start:function(Y,Ce){var Me=ae.find(ie.elements_selector),G=Ce.item,ge=t(this);if(!h(ie.drag_drop_start(Y,Ce,Me,G))){ge.sortable("cancel");return}Ce.placeholder.height(Ce.item.height()),Ce.placeholder.width(Ce.item.width()),me=Me.index(G)},update:function(Y,Ce){var Me=ae.find(ie.elements_selector),G=Ce.item,ge=t(this);ge.sortable("cancel"),!(ie.drag_drop_update(Y,Ce,Me,G)===!1||!(_e-me>0?h(ie.before_up(ae,G)):h(ie.before_down(ae,G))))&&(_e=Me.index(G),Me=ae.find(ie.elements_selector),oe(ae,ie,Me,G,me,_e))}},ie.drag_drop_options))}ae.data("collection-settings",ie);var Ve=t(ie.container);if(Ve.off("click","."+ie.prefix+"-action").on("click","."+ie.prefix+"-action",function(Y){var Ce=t(this),Me=t("#"+Ce.data("collection")),G=Me.data("collection-settings");if(G===void 0){var Me=t("#"+Ce.data("collection")).find("."+Ce.data("collection")+"-collection"),G=Me.data("collection-settings");if(G===void 0)throw"Can't find collection: "+Ce.data("collection")}var ge=Me.find(G.elements_selector),we=Ce.data("element")?t("#"+Ce.data("element")):void 0,Ie=we&&we.length?ge.index(we):-1,Ye=null,Ge=Ce.is("."+G.prefix+"-duplicate");(Ce.is("."+G.prefix+"-add")||Ce.is("."+G.prefix+"-rescue-add")||Ge)&&G.allow_add&&(Ye="add",ge=B(Ve,Ce,Me,G,ge,we,Ie,Ge)),Ce.is("."+G.prefix+"-remove")&&G.allow_remove&&(Ye="remove",ge=I(Me,G,ge,we,Ie)),Ce.is("."+G.prefix+"-up")&&G.allow_up&&(Ye="up",ge=V(Me,G,ge,we,Ie)),Ce.is("."+G.prefix+"-down")&&G.allow_down&&(Ye="down",ge=te(Me,G,ge,we,Ie)),T(Me,G,!1,Ye),Y.preventDefault()}),T(ae,ie,!0),D(ae,null,ie),ie.position_field_selector){var Fe=[],Ee=ae.find(ie.elements_selector);Ee.each(function(Y){var Ce=t(this);Fe.push({position:parseFloat(l(Ce.find(ie.position_field_selector))),element:Ce})});var J=function(Y,Ce){return Y.position<Ce.position?-1:Y.position>Ce.position?1:0};Fe.sort(J),t.each(Fe,function(Y,Ce){var Me=[];t(Ee).each(function(we){Me.push(t(this).attr("id"))});var G=Ce.element,ge=t.inArray(G.attr("id"),Me);Y!==ge&&(Ee=oe(ae,ie,Ee,G,ge,Y),f(G.find(ie.position_field_selector),Ee.index(G)))})}ie.after_init(ae)}),!0)}})(jQuery);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;if(window.jQuery)e=t(window.jQuery);else throw new Error("UIkit 2.x requires jQuery");typeof define=="function"&&define.amd&&define("uikit",function(){return e.load=function(r,s,u,l){var f=r.split(","),h=[],b,w=(l.config&&l.config.uikit&&l.config.uikit.base?l.config.uikit.base:"").replace(/\/+$/g,"");if(!w)throw new Error("Please define base path to UIkit in the requirejs config.");for(b=0;b<f.length;b+=1){var x=f[b].replace(/\./g,"/");h.push(w+"/components/"+x)}s(h,function(){u(e)})},e})})(function(t){if(window.UIkit2)return window.UIkit2;var e={},r=window.UIkit||void 0;if(e.version="2.27.4",e.noConflict=function(){return r&&(window.UIkit=r,t.UIkit=r,t.fn.uk=r.fn),e},window.UIkit2=e,r||(window.UIkit=e),e.$=t,e.$doc=e.$(document),e.$win=e.$(window),e.$html=e.$("html"),e.support={},e.support.transition=(function(){var h=(function(){var b=document.body||document.documentElement,w={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},x;for(x in w)if(b.style[x]!==void 0)return w[x]})();return h&&{end:h}})(),e.support.animation=(function(){var h=(function(){var b=document.body||document.documentElement,w={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},x;for(x in w)if(b.style[x]!==void 0)return w[x]})();return h&&{end:h}})(),(function(){Date.now=Date.now||function(){return new Date().getTime()};for(var h=["webkit","moz"],b=0;b<h.length&&!window.requestAnimationFrame;++b){var w=h[b];window.requestAnimationFrame=window[w+"RequestAnimationFrame"],window.cancelAnimationFrame=window[w+"CancelAnimationFrame"]||window[w+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var x=0;window.requestAnimationFrame=function(E){var N=Date.now(),q=Math.max(x+16,N);return setTimeout(function(){E(x=q)},q-N)},window.cancelAnimationFrame=clearTimeout}})(),e.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,e.Utils={},e.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},e.Utils.str2json=function(h,b){try{return b?JSON.parse(h.replace(/([\$\w]+)\s*:/g,function(w,x){return'"'+x+'":'}).replace(/'([^']+)'/g,function(w,x){return'"'+x+'"'})):new Function("","var json = "+h+"; return JSON.parse(JSON.stringify(json));")()}catch{return!1}},e.Utils.debounce=function(h,b,w){var x;return function(){var E=this,N=arguments,q=function(){x=null,w||h.apply(E,N)},F=w&&!x;clearTimeout(x),x=setTimeout(q,b),F&&h.apply(E,N)}},e.Utils.throttle=function(h,b){var w=!1;return function(){w||(h.call(),w=!0,setTimeout(function(){w=!1},b))}},e.Utils.removeCssRules=function(h){var b,w,x,E,N,q,F,j,W,U;h&&setTimeout(function(){try{for(U=document.styleSheets,E=0,F=U.length;E<F;E++){for(x=U[E],w=[],x.cssRules=x.cssRules,b=N=0,j=x.cssRules.length;N<j;b=++N)x.cssRules[b].type===CSSRule.STYLE_RULE&&h.test(x.cssRules[b].selectorText)&&w.unshift(b);for(q=0,W=w.length;q<W;q++)x.deleteRule(w[q])}}catch{}},0)},e.Utils.isInView=function(h,b){var w=t(h);if(!w.is(":visible"))return!1;var x=e.$win.scrollLeft(),E=e.$win.scrollTop(),N=w.offset(),q=N.left,F=N.top;return b=t.extend({topoffset:0,leftoffset:0},b),F+w.height()>=E&&F-b.topoffset<=E+e.$win.height()&&q+w.width()>=x&&q-b.leftoffset<=x+e.$win.width()},e.Utils.checkDisplay=function(h,b){var w=e.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",h||document);return h&&!w.length&&(w=t(h)),w.trigger("display.uk.check"),b&&(typeof b!="string"&&(b='[class*="uk-animation-"]'),w.find(b).each(function(){var x=e.$(this),E=x.attr("class"),N=E.match(/uk-animation-(.+)/);x.removeClass(N[0]).width(),x.addClass(N[0])})),w},e.Utils.options=function(h){if(t.type(h)!="string")return h;h.indexOf(":")!=-1&&h.trim().substr(-1)!="}"&&(h="{"+h+"}");var b=h?h.indexOf("{"):-1,w={};if(b!=-1)try{w=e.Utils.str2json(h.substr(b))}catch{}return w},e.Utils.animate=function(h,b){var w=t.Deferred();return h=e.$(h),h.css("display","none").addClass(b).one(e.support.animation.end,function(){h.removeClass(b),w.resolve()}),h.css("display",""),w.promise()},e.Utils.uid=function(h){return(h||"id")+new Date().getTime()+"RAND"+Math.ceil(Math.random()*1e5)},e.Utils.template=function(h,b){for(var w=h.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),x=0,E,N,q,F,j=[],W=0;x<w.length;){if(E=w[x],E.match(/\{\{\s*(.+?)\s*\}\}/))switch(x=x+1,E=w[x],N=E[0],q=E.substring(E.match(/^(\^|\#|\!|\~|\:)/)?1:0),N){case"~":j.push("for(var $i=0;$i<"+q+".length;$i++) { var $item = "+q+"[$i];"),W++;break;case":":j.push("for(var $key in "+q+") { var $val = "+q+"[$key];"),W++;break;case"#":j.push("if("+q+") {"),W++;break;case"^":j.push("if(!"+q+") {"),W++;break;case"/":j.push("}"),W--;break;case"!":j.push("__ret.push("+q+");");break;default:j.push("__ret.push(escape("+q+"));");break}else j.push("__ret.push('"+E.replace(/\'/g,"\\'")+"');");x=x+1}return F=new Function("$data",["var __ret = [];","try {","with($data){",W?'__ret = ["Not all blocks are closed correctly."]':j.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',`function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}`].join(`
`)),b?F(b):F},e.Utils.focus=function(h,b){if(h=t(h),!h.length)return h;var w=h.find("[autofocus]:first"),x;return w.length||(w=h.find(":input"+(b&&","+b||"")).first(),w.length)?w.focus():(h.attr("tabindex")||(x=1e3,h.attr("tabindex",x)),h[0].focus(),x&&h.attr("tabindex",""),h)},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.fn=function(h,b){var w=arguments,x=h.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),E=x[1],N=x[2];return e[E]?this.each(function(){var q=t(this),F=q.data(E);F||q.data(E,F=e[E](this,N?void 0:b)),N&&F[N].apply(F,Array.prototype.slice.call(w,1))}):(t.error("UIkit component ["+E+"] does not exist."),this)},t.UIkit=e,t.fn.uk=e.fn,e.langdirection=e.$html.attr("dir")=="rtl"?"right":"left",e.components={},e.component=function(h,b,w){if(e.components[h]&&!w)return e.components[h];var x=function(E,N){var q=this;return this.UIkit=e,this.element=E?e.$(E):null,this.options=t.extend(!0,{},this.defaults,N),this.plugins={},this.element&&this.element.data(h,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(x.plugins)).forEach(function(F){x.plugins[F].init&&(x.plugins[F].init(q),q.plugins[F]=!0)}),this.trigger("init.uk.component",[h,this]),this};return x.plugins={},t.extend(!0,x.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(E,N,q){return e.$(this.element||this).on(E,N,q)},one:function(E,N,q){return e.$(this.element||this).one(E,N,q)},off:function(E){return e.$(this.element||this).off(E)},trigger:function(E,N){return e.$(this.element||this).trigger(E,N)},find:function(E){return e.$(this.element?this.element:[]).find(E)},proxy:function(E,N){var q=this;N.split(" ").forEach(function(F){q[F]||(q[F]=function(){return E[F].apply(E,arguments)})})},mixin:function(E,N){var q=this;N.split(" ").forEach(function(F){q[F]||(q[F]=E[F].bind(q))})},option:function(){if(arguments.length==1)return this.options[arguments[0]]||void 0;arguments.length==2&&(this.options[arguments[0]]=arguments[1])}},b),this.components[h]=x,this[h]=function(){var E,N;if(arguments.length)switch(arguments.length){case 1:typeof arguments[0]=="string"||arguments[0].nodeType||arguments[0]instanceof jQuery?E=t(arguments[0]):N=arguments[0];break;case 2:E=t(arguments[0]),N=arguments[1];break}return E&&E.data(h)?E.data(h):new e.components[h](E,N)},e.domready&&e.component.boot(h),x},e.plugin=function(h,b,w){this.components[h].plugins[b]=w},e.component.boot=function(h){e.components[h].prototype&&e.components[h].prototype.boot&&!e.components[h].booted&&(e.components[h].prototype.boot.apply(e,[]),e.components[h].booted=!0)},e.component.bootComponents=function(){for(var h in e.components)e.component.boot(h)},e.domObservers=[],e.domready=!1,e.ready=function(h){e.domObservers.push(h),e.domready&&h(document)},e.on=function(h,b,w){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready&&b.apply(e.$doc),e.$doc.on(h,b,w)},e.one=function(h,b,w){return h&&h.indexOf("ready.uk.dom")>-1&&e.domready?(b.apply(e.$doc),e.$doc):e.$doc.one(h,b,w)},e.trigger=function(h,b){return e.$doc.trigger(h,b)},e.domObserve=function(h,b){e.support.mutationobserver&&(b=b||function(){},e.$(h).each(function(){var w=this,x=e.$(w);if(!x.data("observer"))try{var E=new e.support.mutationobserver(e.Utils.debounce(function(N){b.apply(w,[x]),x.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});E.observe(w,{childList:!0,subtree:!0}),x.data("observer",E)}catch{}}))},e.init=function(h){h=h||document,e.domObservers.forEach(function(b){b(h)})},e.on("domready.uk.dom",function(){e.init(),e.domready&&e.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",(function(){var h=function(){e.$body=e.$("body"),e.trigger("beforeready.uk.dom"),e.component.bootComponents();var b=requestAnimationFrame((function(){var x={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},E=function(){var N=window.pageXOffset,q=window.pageYOffset;(x.x!=N||x.y!=q)&&(N!=x.x?x.dir.x=N>x.x?1:-1:x.dir.x=0,q!=x.y?x.dir.y=q>x.y?1:-1:x.dir.y=0,x.x=N,x.y=q,e.$doc.trigger("scrolling.uk.document",[{dir:{x:x.dir.x,y:x.dir.y},x:N,y:q}])),cancelAnimationFrame(b),b=requestAnimationFrame(E)};return e.support.touch&&e.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",E),(x.x||x.y)&&E(),E})());if(e.trigger("domready.uk.dom"),e.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e.$win.on("load orientationchange resize",e.Utils.debounce((function(){var x=function(){return t(".uk-height-viewport").css("height",window.innerHeight),x};return x()})(),100)),e.trigger("afterready.uk.dom"),e.domready=!0,e.support.mutationobserver){var w=e.Utils.debounce(function(){requestAnimationFrame(function(){e.init(document.body)})},10);new e.support.mutationobserver(function(x){var E=!1;x.every(function(N){if(N.type!="childList")return!0;for(var q=0,F;q<N.addedNodes.length;++q)if(F=N.addedNodes[q],F.outerHTML&&F.outerHTML.indexOf("data-uk-")!==-1)return(E=!0)&&!1;return!0}),E&&w()}).observe(document.body,{childList:!0,subtree:!0})}};return(document.readyState=="complete"||document.readyState=="interactive")&&setTimeout(h),h})()),e.$html.addClass(e.support.touch?"uk-touch":"uk-notouch"),e.support.touch){var s=!1,u,l="uk-hover",f=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";e.$html.on("mouseenter touchstart MSPointerDown pointerdown",f,function(){s&&t("."+l).removeClass(l),s=t(this).addClass(l)}).on("mouseleave touchend MSPointerUp pointerup",function(h){u=t(h.target).parents(f),s&&s.not(u).removeClass(l)})}return e});(function(t){if(t.fn.swipeLeft)return;var e={},r,s,u,l,f=750,h,b="ontouchstart"in window,w=window.PointerEvent,x=b||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;function E(W,U,T,D){return Math.abs(W-U)>=Math.abs(T-D)?W-U>0?"Left":"Right":T-D>0?"Up":"Down"}function N(){l=null,e.last&&(e.el!==void 0&&e.el.trigger("longTap"),e={})}function q(){l&&clearTimeout(l),l=null}function F(){r&&clearTimeout(r),s&&clearTimeout(s),u&&clearTimeout(u),l&&clearTimeout(l),r=s=u=l=null,e={}}function j(W){return W.pointerType==W.MSPOINTER_TYPE_TOUCH&&W.isPrimary}t(function(){var W,U,T=0,D=0,B;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).on("MSGestureEnd gestureend",function(I){var V=I.originalEvent.velocityX>1?"Right":I.originalEvent.velocityX<-1?"Left":I.originalEvent.velocityY>1?"Down":I.originalEvent.velocityY<-1?"Up":null;V&&e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+V))}).on("touchstart MSPointerDown pointerdown",function(I){I.type=="MSPointerDown"&&!j(I.originalEvent)||(B=I.type=="MSPointerDown"||I.type=="pointerdown"?I:I.originalEvent.touches[0],W=Date.now(),U=W-(e.last||W),e.el=t("tagName"in B.target?B.target:B.target.parentNode),r&&clearTimeout(r),e.x1=B.pageX,e.y1=B.pageY,U>0&&U<=250&&(e.isDoubleTap=!0),e.last=W,l=setTimeout(N,f),I.originalEvent&&I.originalEvent.pointerId&&h&&(I.type=="MSPointerDown"||I.type=="pointerdown"||I.type=="touchstart")&&h.addPointer(I.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(I){I.type=="MSPointerMove"&&!j(I.originalEvent)||(B=I.type=="MSPointerMove"||I.type=="pointermove"?I:I.originalEvent.touches[0],q(),e.x2=B.pageX,e.y2=B.pageY,T+=Math.abs(e.x1-e.x2),D+=Math.abs(e.y1-e.y2))}).on("touchend MSPointerUp pointerup",function(I){I.type=="MSPointerUp"&&!j(I.originalEvent)||(q(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?u=setTimeout(function(){e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+E(e.x1,e.x2,e.y1,e.y2))),e={}},0):"last"in e&&(isNaN(T)||T<30&&D<30?s=setTimeout(function(){var V=t.Event("tap");V.cancelTouch=F,e.el!==void 0&&e.el.trigger(V),e.isDoubleTap?(e.el!==void 0&&e.el.trigger("doubleTap"),e={}):r=setTimeout(function(){r=null,e.el!==void 0&&e.el.trigger("singleTap"),e={}},250)},0):e={},T=D=0))}).on("touchcancel MSPointerCancel pointercancel",function(I){(I.type=="touchcancel"&&b&&x||!b&&I.type=="pointercancel"&&w)&&F()}),t(window).on("scroll",F)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(W){t.fn[W]=function(U){return t(this).on(W,U)}})})(jQuery);(function(t){t.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var r=t.$(this);r.data("stackMargin")||t.stackMargin(r,t.Utils.options(r.attr("data-uk-margin")))})})},init:function(){var e=this;t.$win.on("resize orientationchange",(function(){var r=function(){e.process()};return t.$(function(){r(),t.$win.on("load",r)}),t.Utils.debounce(r,20)})()),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.process()}).bind(this)),this.options.observe&&t.domObserve(this.element,function(r){e.element.is(":visible")&&e.process()})},process:function(){var e=this.element.children();if(t.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var r={},s=!1;return e.removeClass(this.options.rowfirst).each(function(u,l){l=t.$(this),this.style.display!="none"&&(u=l.offset().left,((r[u]=r[u]||[])&&r[u]).push(this),s=s===!1?u:Math.min(s,u))}),t.$(r[s]).addClass(this.options.rowfirst),this}}),(function(){var e=[],r=function(s){if(s.is(":visible")){var u=s.parent().width(),l=s.data("width"),f=u/l,h=Math.floor(f*s.data("height"));s.css({height:u<l?h:s.data("height")})}};t.component("responsiveElement",{defaults:{},boot:function(){t.ready(function(s){t.$("iframe.uk-responsive-width, [data-uk-responsive]",s).each(function(){var u=t.$(this);u.data("responsiveElement")||t.responsiveElement(u,{})})})},init:function(){var s=this.element;s.attr("width")&&s.attr("height")&&(s.data({width:s.attr("width"),height:s.attr("height")}).on("display.uk.check",function(){r(s)}),r(s),e.push(s))}}),t.$win.on("resize load",t.Utils.debounce(function(){e.forEach(function(s){r(s)})},15))})(),t.Utils.stackMargin=function(e,r){r=t.$.extend({cls:"uk-margin-small-top"},r),e=t.$(e).removeClass(r.cls);var s=!1;e.each(function(u,l,f,h){h=t.$(this),h.css("display")!="none"&&(u=h.offset(),l=h.outerHeight(),f=u.top+l,h.data({ukMarginPos:f,ukMarginTop:u.top}),(s===!1||u.top<s.top)&&(s={top:u.top,left:u.left,pos:f}))}).each(function(u){u=t.$(this),u.css("display")!="none"&&u.data("ukMarginTop")>s.top&&u.data("ukMarginPos")>s.pos&&u.addClass(r.cls)})},t.Utils.matchHeights=function(e,r){e=t.$(e).css("min-height",""),r=t.$.extend({row:!0},r);var s=function(u){if(!(u.length<2)){var l=0;u.each(function(){l=Math.max(l,t.$(this).outerHeight())}).each(function(){var f=t.$(this),h=l-(f.css("box-sizing")=="border-box"?0:f.outerHeight()-f.height());f.css("min-height",h+"px")})}};r.row?(e.first().width(),setTimeout(function(){var u=!1,l=[];e.each(function(){var f=t.$(this),h=f.offset().top;h!=u&&l.length&&(s(t.$(l)),l=[],h=f.offset().top),l.push(f),u=h}),l.length&&s(t.$(l))},0)):s(e)},(function(e){t.Utils.inlineSvg=function(r,s){t.$(r||'img[src$=".svg"]',s||document).each(function(){var u=t.$(this),l=u.attr("src");if(!e[l]){var f=t.$.Deferred();t.$.get(l,{nc:Math.random()},function(h){f.resolve(t.$(h).find("svg"))}),e[l]=f.promise()}e[l].then(function(h){var b=t.$(h).clone();u.attr("id")&&b.attr("id",u.attr("id")),u.attr("class")&&b.attr("class",u.attr("class")),u.attr("style")&&b.attr("style",u.attr("style")),u.attr("width")&&(b.attr("width",u.attr("width")),u.attr("height")||b.removeAttr("height")),u.attr("height")&&(b.attr("height",u.attr("height")),u.attr("width")||b.removeAttr("width")),u.replaceWith(b)})})},t.ready(function(r){t.Utils.inlineSvg("[data-uk-svg]",r)})})({}),t.Utils.getCssVar=function(e){var r,s=document.documentElement,u=s.appendChild(document.createElement("div"));u.classList.add("var-"+e);try{r=JSON.parse(r=getComputedStyle(u,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch{r=void 0}return s.removeChild(u),r}})(UIkit2);(function(t){t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(r){var s=t.$(this);return s.data("smoothScroll")||(t.smoothScroll(s,t.Utils.options(s.attr("data-uk-smooth-scroll"))),s.trigger("click")),!1})},init:function(){var r=this;this.on("click",function(s){s.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),r.options)})}});function e(r,s){s=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},s);var u=r.offset().top-s.offset,l=t.$doc.height(),f=window.innerHeight;u+f>l&&(u=l-f),t.$("html,body").stop().animate({scrollTop:u},s.duration,s.transition).promise().done(s.complete)}t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(r,s,u,l,f){return s==f?u+l:l*(-Math.pow(2,-10*s/f)+1)+u})})(UIkit2);(function(t){var e=t.$win,r=t.$doc,s=[],u=function(){for(var h=0;h<s.length;h++)window.requestAnimationFrame.apply(window,[s[h].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){r.on("scrolling.uk.document",u),e.on("load resize orientationchange",t.Utils.debounce(u,50)),t.ready(function(h){t.$("[data-uk-scrollspy]",h).each(function(){var b=t.$(this);b.data("scrollspy")||t.scrollspy(b,t.Utils.options(b.attr("data-uk-scrollspy")))})})},init:function(){var h=this,b,w=this.options.cls.split(/,/),x=function(){var E=h.options.target?h.element.find(h.options.target):h.element,N=E.length===1?1:0,q=0;E.each(function(F){var j=t.$(this),W=j.data("inviewstate"),U=t.Utils.isInView(j,h.options),T=j.attr("data-uk-scrollspy-cls")||w[q].trim();U&&!W&&!j.data("scrollspy-idle")&&(b||(j.addClass(h.options.initcls),h.offset=j.offset(),b=!0,j.trigger("init.uk.scrollspy")),j.data("scrollspy-idle",setTimeout(function(){j.addClass("uk-scrollspy-inview").toggleClass(T).width(),j.trigger("inview.uk.scrollspy"),j.data("scrollspy-idle",!1),j.data("inviewstate",!0)},h.options.delay*N)),N++),!U&&W&&h.options.repeat&&(j.data("scrollspy-idle")&&(clearTimeout(j.data("scrollspy-idle")),j.data("scrollspy-idle",!1)),j.removeClass("uk-scrollspy-inview").toggleClass(T),j.data("inviewstate",!1),j.trigger("outview.uk.scrollspy")),q=w[q+1]?q+1:0})};x(),this.check=x,s.push(this)}});var l=[],f=function(){for(var h=0;h<l.length;h++)window.requestAnimationFrame.apply(window,[l[h].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){r.on("scrolling.uk.document",f),e.on("resize orientationchange",t.Utils.debounce(f,50)),t.ready(function(h){t.$("[data-uk-scrollspy-nav]",h).each(function(){var b=t.$(this);b.data("scrollspynav")||t.scrollspynav(b,t.Utils.options(b.attr("data-uk-scrollspy-nav")))})})},init:function(){var h=[],b=this.find("a[href^='#']").each(function(){this.getAttribute("href").trim()!=="#"&&h.push(this.getAttribute("href"))}),w=t.$(h.join(",")),x=this.options.cls,E=this.options.closest||this.options.closest,N=this,q,F=function(){q=[];for(var j=0;j<w.length;j++)t.Utils.isInView(w.eq(j),N.options)&&q.push(w.eq(j));if(q.length){var W,U=e.scrollTop(),T=(function(){for(var D=0;D<q.length;D++)if(q[D].offset().top-N.options.topoffset>=U)return q[D]})();if(!T)return;N.options.closest?(b.blur().closest(E).removeClass(x),W=b.filter("a[href='#"+T.attr("id")+"']").closest(E).addClass(x)):W=b.removeClass(x).filter("a[href='#"+T.attr("id")+"']").addClass(x),N.element.trigger("inview.uk.scrollspynav",[T,W])}};this.options.smoothscroll&&t.smoothScroll&&b.each(function(){t.smoothScroll(this,N.options.smoothscroll)}),F(),this.element.data("scrollspynav",this),this.check=F,l.push(this)}})})(UIkit2);(function(t){var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(r){t.$("[data-uk-toggle]",r).each(function(){var s=t.$(this);s.data("toggle")||t.toggle(s,t.Utils.options(s.attr("data-uk-toggle")))}),setTimeout(function(){e.forEach(function(s){s.getToggles()})},0)})},init:function(){var r=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(s){r.element.is('a[href="#"]')&&s.preventDefault(),r.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),!!this.totoggle.length){if(this.options.animation&&t.support.animation){var r=this,s=this.options.animation.split(",");s.length==1&&(s[1]=s[0]),s[0]=s[0].trim(),s[1]=s[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var u=t.$(this);u.hasClass(r.options.cls)?(u.toggleClass(r.options.cls),t.Utils.animate(u,s[0]).then(function(){u.css("animation-duration",""),t.Utils.checkDisplay(u)})):t.Utils.animate(this,s[1]+" uk-animation-reverse").then(function(){u.toggleClass(r.options.cls).css("animation-duration",""),t.Utils.checkDisplay(u)})})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})})(UIkit2);(function(t){t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var r=t.$(this);if(!r.data("alert")){var s=t.alert(r,t.Utils.options(r.attr("data-uk-alert")));t.$(e.target).is(s.options.trigger)&&(e.preventDefault(),s.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(r){r.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),r=(function(){this.trigger("closed.uk.alert").remove()}).bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,r):r()}})})(UIkit2);(function(t){t.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var r=t.$(this);if(!r.data("buttonRadio")){var s=t.buttonRadio(r,t.Utils.options(r.attr("data-uk-button-radio"))),u=t.$(e.target);u.is(s.options.target)&&u.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(r){var s=t.$(this);s.is('a[href="#"]')&&r.preventDefault(),e.find(e.options.target).not(s).removeClass(e.options.activeClass).blur(),s.addClass(e.options.activeClass),e.find(e.options.target).not(s).attr("aria-checked","false"),s.attr("aria-checked","true"),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var r=t.$(this);if(!r.data("buttonCheckbox")){var s=t.buttonCheckbox(r,t.Utils.options(r.attr("data-uk-button-checkbox"))),u=t.$(e.target);u.is(s.options.target)&&u.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(r){var s=t.$(this);s.is('a[href="#"]')&&r.preventDefault(),s.toggleClass(e.options.activeClass).blur(),s.attr("aria-checked",s.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var r=t.$(this);r.data("button")||(t.button(r,t.Utils.options(r.attr("data-uk-button"))),r.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(r){e.element.is('a[href="#"]')&&r.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})})(UIkit2);(function(t){var e=!1,r,s={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};t.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:t.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var l=t.support.touch?"click":"mouseenter";t.$html.on(l+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(f){var h=t.$(this);if(!h.data("dropdown")){var b=t.dropdown(h,t.Utils.options(h.attr("data-uk-dropdown")));(f.type=="click"||f.type=="mouseenter"&&b.options.mode=="hover")&&b.element.trigger(l),b.dropdown.length&&f.preventDefault()}})},init:function(){var l=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return t.$.inArray(t.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?t.$(this.options.justify):!1,this.boundary=t.$(this.options.boundary),this.boundary.length||(this.boundary=t.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),this.options.mode=="click"||t.support.touch?this.on("click.uk.dropdown",function(f){var h=t.$(f.target);h.parents(l.options.dropdownSelector).length||((h.is("a[href='#']")||h.parent().is("a[href='#']")||l.dropdown.length&&!l.dropdown.is(":visible"))&&f.preventDefault(),h.blur()),l.element.hasClass("uk-open")?(!l.dropdown.find(f.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&l.hide():l.show()}):this.on("mouseenter",function(f){l.trigger("pointerenter.uk.dropdown",[l]),l.remainIdle&&clearTimeout(l.remainIdle),r&&clearTimeout(r),!(e&&e==l)&&(e&&e!=l?r=setTimeout(function(){r=setTimeout(l.show.bind(l),l.options.delay)},l.options.hoverDelayIdle):r=setTimeout(l.show.bind(l),l.options.delay))}).on("mouseleave",function(){r&&clearTimeout(r),l.remainIdle=setTimeout(function(){e&&e==l&&l.hide()},l.options.remaintime),l.trigger("pointerleave.uk.dropdown",[l])}).on("click",function(f){var h=t.$(f.target);if(l.remainIdle&&clearTimeout(l.remainIdle),e&&e==l){(!l.dropdown.find(f.target).length||h.is(".uk-dropdown-close")||h.parents(".uk-dropdown-close").length)&&l.hide();return}(h.is("a[href='#']")||h.parent().is("a[href='#']"))&&f.preventDefault(),l.show()})},show:function(){t.$html.off("click.outer.dropdown"),e&&e!=this&&e.hide(!0),r&&clearTimeout(r),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),t.Utils.focus(this.dropdown),e=this,this.registerOuterClick()},hide:function(l){this.trigger("beforehide.uk.dropdown",[this,l]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,l]),e==this&&(e=!1)},registerOuterClick:function(){var l=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(f){r&&clearTimeout(r),t.$(f.target),e==l&&!l.element.find(f.target).length&&(l.hide(!0),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var l=t.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),f=this.options.offset,h=this.dropdown;h.show().offset();var b=h.outerWidth(),w=h.outerHeight(),x=this.boundary.width();this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset();var E=this.options.pos,N={"bottom-left":{top:0+l.height+f,left:0},"bottom-right":{top:0+l.height+f,left:0+l.width-b},"bottom-center":{top:0+l.height+f,left:0+l.width/2-b/2},"top-left":{top:0-w-f,left:0},"top-right":{top:0-w-f,left:0+l.width-b},"top-center":{top:0-w-f,left:0+l.width/2-b/2},"left-top":{top:0,left:0-b-f},"left-bottom":{top:0+l.height-w,left:0-b-f},"left-center":{top:0+l.height/2-w/2,left:0-b-f},"right-top":{top:0,left:0+l.width+f},"right-bottom":{top:0+l.height-w,left:0+l.width+f},"right-center":{top:0+l.height/2-w/2,left:0+l.width+f}},q={},F;if(F=E.split("-"),q=N[E]?N[E]:N["bottom-left"],this.justified&&this.justified.length)u(h.css({left:0}),this.justified,x);else if(this.options.preventflip!==!0){var j;switch(this.checkBoundary(l.left+q.left,l.top+q.top,b,w,x)){case"x":this.options.preventflip!=="x"&&(j=s.x[E]||"right-top");break;case"y":this.options.preventflip!=="y"&&(j=s.y[E]||"top-left");break;case"xy":this.options.preventflip||(j=s.xy[E]||"right-bottom");break}j&&(F=j.split("-"),q=N[j]?N[j]:N["bottom-left"],h.addClass("uk-dropdown-autoflip"),this.checkBoundary(l.left+q.left,l.top+q.top,b,w,x)&&(F=E.split("-"),q=N[E]?N[E]:N["bottom-left"]))}b>x&&(h.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),h.css(q).css("display","").addClass("uk-dropdown-"+F[0])}},checkBoundary:function(l,f,h,b,w){var x="";return(l<0||l-t.$win.scrollLeft()+h>w)&&(x+="x"),(f-t.$win.scrollTop()<0||f-t.$win.scrollTop()+b>window.innerHeight)&&(x+="y"),x}}),t.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){t.ready(function(l){t.$("[data-uk-dropdown-overlay]",l).each(function(){var f=t.$(this);f.data("dropdownOverlay")||t.dropdownOverlay(f,t.Utils.options(f.attr("data-uk-dropdown-overlay")))})})},init:function(){var l=this;this.justified=this.options.justify?t.$(this.options.justify):!1,this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(f,h){l.dropdown=h,l.justified&&l.justified.length&&u(l.overlay.css({display:"block",marginLeft:"",marginRight:""}),l.justified,l.justified.outerWidth())},"show.uk.dropdown":function(f,h){var b=l.dropdown.dropdown.outerHeight(!0);l.dropdown.element.removeClass("uk-open"),l.overlay.stop().css("display","block").animate({height:b},l.options.duration,function(){l.dropdown.dropdown.css("visibility",""),l.dropdown.element.addClass("uk-open"),t.Utils.checkDisplay(l.dropdown.dropdown,!0)}),l.pointerleave=!1},"hide.uk.dropdown":function(){l.overlay.stop().animate({height:0},l.options.duration)},"pointerenter.uk.dropdown":function(f,h){clearTimeout(l.remainIdle)},"pointerleave.uk.dropdown":function(f,h){l.pointerleave=!0}}),this.overlay.on({mouseenter:function(){l.remainIdle&&(clearTimeout(l.dropdown.remainIdle),clearTimeout(l.remainIdle))},mouseleave:function(){l.pointerleave&&e&&(l.remainIdle=setTimeout(function(){e&&e.hide()},e.options.remaintime))}})}});function u(l,f,h,b){if(l=t.$(l),f=t.$(f),h=h||window.innerWidth,b=b||l.offset(),f.length){var w=f.outerWidth();if(l.css("min-width",w),t.langdirection=="right"){var x=h-(f.offset().left+w),E=h-(l.offset().left+l.outerWidth());l.css("margin-right",x-E)}else l.css("margin-left",f.offset().left-b.left)}}})(UIkit2);(function(t){t.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var r=t.$(this);r.data("gridMatchHeight")||t.gridMatchHeight(r,t.Utils.options(r.attr("data-uk-grid-match")))})})},init:function(){var e=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",(function(){var r=function(){e.element.is(":visible")&&e.match()};return t.$(function(){r()}),t.Utils.debounce(r,50)})()),this.options.observe&&t.domObserve(this.element,function(r){e.element.is(":visible")&&e.match()}),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.match()}).bind(this)))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var r=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return r&&!this.options.ignorestacked?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var r=t.$(this);r.data("gridMargin")||t.gridMargin(r,t.Utils.options(r.attr("data-uk-grid-margin")))})})},init:function(){t.stackMargin(this.element,this.options)}})})(UIkit2);(function(t){var e=!1,r=0,s=t.$html,u;t.$win.on("resize orientationchange",t.Utils.debounce(function(){t.$(".uk-modal.uk-open").each(function(){return t.$(this).data("modal")&&t.$(this).data("modal").resize()})},150)),t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(u||(u=t.$("body")),!!this.element.length){var f=this;this.paddingdir="padding-"+(t.langdirection=="left"?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(h){h.preventDefault(),f.hide()}).on("click",function(h){var b=t.$(h.target);b[0]==f.element[0]&&f.options.bgclose&&f.hide()}),t.domObserve(this.element,function(h){f.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var f=this;if(!this.isActive())return this.options.modal&&e&&e.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(e=this),this.active=!0,r++,t.support.transition?(this.hasTransitioned=!1,this.element.one(t.support.transition.end,function(){f.hasTransitioned=!0,t.Utils.focus(f.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),t.Utils.focus(this.dialog,"a[href]")),s.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this}},hide:function(f){if(!f&&t.support.transition&&this.hasTransitioned){var h=this;this.one(t.support.transition.end,function(){h._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(f){if(!(!this.isActive()&&!f)){var h=u.width();if(this.scrollbarwidth=window.innerWidth-h,u.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var b=this.dialog.outerHeight(),w=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);b+w<window.innerHeight?this.dialog.css({top:window.innerHeight/2-b/2-w}):this.dialog.css({top:""})}}},updateScrollable:function(){var f=this.dialog.find(".uk-overflow-container:visible:first");if(f.length){f.css("height",0);var h=Math.abs(parseInt(this.dialog.css("margin-top"),10)),b=this.dialog.outerHeight(),w=window.innerHeight,x=w-2*(h<20?20:h)-b;return f.css({maxHeight:x<this.options.minScrollHeight?"":x,height:""}),!0}return!1},_hide:function(){this.active=!1,r>0?r--:r=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),r||(s.removeClass("uk-modal-page"),u.css(this.paddingdir,"")),e===this&&(e=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(f){var h=t.$(this);if(h.is("a")&&f.preventDefault(),!h.data("modalTrigger")){var b=t.modalTrigger(h,t.Utils.options(h.attr("data-uk-modal")));b.show()}}),t.$html.on("keydown.modal.uikit",function(f){e&&f.keyCode===27&&e.options.keyboard&&(f.preventDefault(),e.hide())})},init:function(){var f=this;this.options=t.$.extend({target:f.element.is("a")?f.element.attr("href"):!1},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(h){h.preventDefault(),f.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(f,h){var b=t.modal(t.$(t.modal.dialog.template).appendTo("body"),h);return b.on("hide.uk.modal",function(){b.persist&&(b.persist.appendTo(b.persist.data("modalPersistParent")),b.persist=!1),b.element.remove()}),l(f,b),b},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(f,h){h=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},h);var b=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+h.labels.Ok+"</button></div>"].join(""),h);return b.on("show.uk.modal",function(){setTimeout(function(){b.element.find("button:first").focus()},50)}),b.show()},t.modal.confirm=function(f,h,b){var w=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};h=t.$.isFunction(h)?h:function(){},b=t.$.isFunction(b)?b:function(){},w=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},t.$.isFunction(w)?{}:w);var x=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+w.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+w.labels.Ok+"</button></div>"].join(""),w);return x.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){t.$(this).is(".js-modal-confirm")?h():b(),x.hide()}),x.on("show.uk.modal",function(){setTimeout(function(){x.element.find(".js-modal-confirm").focus()},50)}),x.show()},t.modal.prompt=function(f,h,b,w){b=t.$.isFunction(b)?b:function(N){},w=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},w);var x=t.modal.dialog([f?'<div class="uk-modal-content uk-form">'+String(f)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+w.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+w.labels.Ok+"</button></div>"].join(""),w),E=x.element.find("input[type='text']").val(h||"").on("keyup",function(N){N.keyCode==13&&x.element.find(".js-modal-ok").trigger("click")});return x.element.find(".js-modal-ok").on("click",function(){b(E.val())!==!1&&x.hide()}),x.show()},t.modal.blockUI=function(f,h){var b=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(f||'<div class="uk-text-center">...</div>')+"</div>"].join(""),t.$.extend({bgclose:!1,keyboard:!1,modal:!1},h));return b.content=b.element.find(".uk-modal-content:first"),b.show()},t.modal.labels={Ok:"Ok",Cancel:"Cancel"};function l(f,h){if(h)return typeof f=="object"?(f=f instanceof jQuery?f:t.$(f),f.parent().length&&(h.persist=f,h.persist.data("modalPersistParent",f.parent()))):typeof f=="string"||typeof f=="number"?f=t.$("<div></div>").html(f):f=t.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof f),f.appendTo(h.element.find(".uk-modal-dialog")),h}})(UIkit2);(function(t){t.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(r){t.$("[data-uk-nav]",r).each(function(){var s=t.$(this);s.data("nav")||t.nav(s,t.Utils.options(s.attr("data-uk-nav")))})})},init:function(){var r=this;this.on("click.uk.nav",this.options.toggle,function(s){s.preventDefault();var u=t.$(this);r.open(u.parent()[0]==r.element[0]?u:u.parent("li"))}),this.update(),t.domObserve(this.element,function(s){r.element.find(r.options.lists).not("[role]").length&&r.update()})},update:function(){var r=this;this.find(this.options.lists).each(function(){var s=t.$(this).attr("role","menu"),u=s.closest("li"),l=u.hasClass("uk-active");u.data("list-container")||(s.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),u.data("list-container",s.parent()[l?"removeClass":"addClass"]("uk-hidden"))),u.attr("aria-expanded",u.hasClass("uk-open")),l&&r.open(u,!0)})},open:function(r,s){var u=this,l=this.element,f=t.$(r),h=f.data("list-container");this.options.multiple||l.children(".uk-open").not(r).each(function(){var b=t.$(this);b.data("list-container")&&b.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),f.toggleClass("uk-open"),f.attr("aria-expanded",f.hasClass("uk-open")),h&&(f.hasClass("uk-open")&&h.removeClass("uk-hidden"),s?(h.stop().height(f.hasClass("uk-open")?"auto":0),f.hasClass("uk-open")||h.addClass("uk-hidden"),this.trigger("display.uk.check")):h.stop().animate({height:f.hasClass("uk-open")?e(h.find("ul:first")):0},function(){f.hasClass("uk-open")?h.css("height",""):h.addClass("uk-hidden"),u.trigger("display.uk.check")}))}});function e(r){var s=t.$(r),u="auto";if(s.is(":visible"))u=s.outerHeight();else{var l={position:s.css("position"),visibility:s.css("visibility"),display:s.css("display")};u=s.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),s.css(l)}return u}})(UIkit2);(function(t){var e={x:window.scrollX,y:window.scrollY};t.$win,t.$doc;var r=t.$html,s={show:function(u,l){if(u=t.$(u),!!u.length){l=t.$.extend({mode:"push"},l);var f=t.$("body"),h=u.find(".uk-offcanvas-bar:first"),b=t.langdirection=="right",w=h.hasClass("uk-offcanvas-bar-flip")?-1:1,x=w*(b?-1:1),E=window.innerWidth-f.width();e={x:window.pageXOffset,y:window.pageYOffset},h.attr("mode",l.mode),u.addClass("uk-active"),f.css({width:window.innerWidth-E,height:window.innerHeight}).addClass("uk-offcanvas-page"),(l.mode=="push"||l.mode=="reveal")&&f.css(b?"margin-right":"margin-left",(b?-1:1)*(h.outerWidth()*x)),l.mode=="reveal"&&h.css("clip","rect(0, "+h.outerWidth()+"px, 100vh, 0)"),r.css("margin-top",e.y*-1).width(),h.addClass("uk-offcanvas-bar-show"),this._initElement(u),h.trigger("show.uk.offcanvas",[u,h]),u.attr("aria-hidden","false")}},hide:function(u){var l=t.$("body"),f=t.$(".uk-offcanvas.uk-active"),h=t.langdirection=="right",b=f.find(".uk-offcanvas-bar:first"),w=function(){l.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),f.removeClass("uk-active"),b.removeClass("uk-offcanvas-bar-show"),r.css("margin-top",""),window.scrollTo(e.x,e.y),b.trigger("hide.uk.offcanvas",[f,b]),f.attr("aria-hidden","true")};f.length&&(b.attr("mode")=="none"&&(u=!0),t.support.transition&&!u?(l.one(t.support.transition.end,function(){w()}).css(h?"margin-right":"margin-left",""),b.attr("mode")=="reveal"&&b.css("clip",""),setTimeout(function(){b.removeClass("uk-offcanvas-bar-show")},0)):w())},_initElement:function(u){u.data("OffcanvasInit")||(u.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(l){var f=t.$(l.target);!l.type.match(/swipe/)&&!f.hasClass("uk-offcanvas-close")&&(f.hasClass("uk-offcanvas-bar")||f.parents(".uk-offcanvas-bar:first").length)||(l.stopImmediatePropagation(),s.hide())}),u.on("click",'a[href*="#"]',function(l){var f=t.$(this),h=f.attr("href");h!="#"&&(t.$doc.one("hide.uk.offcanvas",function(){var b;try{b=t.$(f[0].hash)}catch{b=""}b.length||(b=t.$('[name="'+f[0].hash.replace("#","")+'"]')),b.length&&t.Utils.scrollToElement?t.Utils.scrollToElement(b,t.Utils.options(f.attr("data-uk-smooth-scroll")||"{}")):window.location.href=h}),s.hide())}),u.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){r.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(u){u.preventDefault();var l=t.$(this);l.data("offcanvasTrigger")||(t.offcanvasTrigger(l,t.Utils.options(l.attr("data-uk-offcanvas"))),l.trigger("click"))}),r.on("keydown.uk.offcanvas",function(u){u.keyCode===27&&s.hide()})},init:function(){var u=this;this.options=t.$.extend({target:u.element.is("a")?u.element.attr("href"):!1,mode:"push"},this.options),this.on("click",function(l){l.preventDefault(),s.show(u.options.target,u.options)})}}),t.offcanvas=s})(UIkit2);(function(t){var e;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){t.ready(function(s){t.$("[data-uk-switcher]",s).each(function(){var u=t.$(this);u.data("switcher")||t.switcher(u,t.Utils.options(u.attr("data-uk-switcher")))})})},init:function(){var s=this;this.on("click.uk.switcher",this.options.toggle,function(u){u.preventDefault(),s.show(this)}),this.options.connect&&(this.connect=t.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(u){u.preventDefault();var l=t.$(this).attr("data-uk-switcher-item");if(s.index!=l)switch(l){case"next":case"previous":s.show(s.index+(l=="next"?1:-1));break;default:s.show(parseInt(l,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(u){u.preventDefault(),window.getSelection().toString()||s.show(s.index+(u.type=="swipeLeft"?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var s=this.find(this.options.toggle),u=s.filter(".uk-active");if(u.length)this.show(u,!1);else{if(this.options.active===!1)return;u=s.eq(this.options.active),this.show(u.length?u:s.eq(0),!1)}s.not(u).attr("aria-expanded","false"),u.attr("aria-expanded","true")},show:function(s,u){if(!this.animating){var l=this.find(this.options.toggle);isNaN(s)?s=t.$(s):(s=s<0?l.length-1:s,s=l.eq(l[s]?s:0));var f=this,h=t.$(s),b=e[this.options.animation]||function(w,x){if(!f.options.animation)return e.none.apply(f);var E=f.options.animation.split(",");return E.length==1&&(E[1]=E[0]),E[0]=E[0].trim(),E[1]=E[1].trim(),r.apply(f,[E,w,x])};(u===!1||!t.support.animation)&&(b=e.none),!h.hasClass("uk-disabled")&&(l.attr("aria-expanded","false"),h.attr("aria-expanded","true"),l.filter(".uk-active").removeClass("uk-active"),h.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(h),this.index==-1&&(this.index=0),this.connect.each(function(){var w=t.$(this),x=t.$(w.children()),E=t.$(x.filter(".uk-active")),N=t.$(x.eq(f.index));f.animating=!0,b.apply(f,[E,N]).then(function(){E.removeClass("uk-active"),N.addClass("uk-active"),E.attr("aria-hidden","true"),N.attr("aria-hidden","false"),t.Utils.checkDisplay(N,!0),f.animating=!1})})),this.trigger("show.uk.switcher",[h]))}}}),e={none:function(){var s=t.$.Deferred();return s.resolve(),s.promise()},fade:function(s,u){return r.apply(this,["uk-animation-fade",s,u])},"slide-bottom":function(s,u){return r.apply(this,["uk-animation-slide-bottom",s,u])},"slide-top":function(s,u){return r.apply(this,["uk-animation-slide-top",s,u])},"slide-vertical":function(s,u,l){var f=["uk-animation-slide-top","uk-animation-slide-bottom"];return s&&s.index()>u.index()&&f.reverse(),r.apply(this,[f,s,u])},"slide-left":function(s,u){return r.apply(this,["uk-animation-slide-left",s,u])},"slide-right":function(s,u){return r.apply(this,["uk-animation-slide-right",s,u])},"slide-horizontal":function(s,u,l){var f=["uk-animation-slide-right","uk-animation-slide-left"];return s&&s.index()>u.index()&&f.reverse(),r.apply(this,[f,s,u])},scale:function(s,u){return r.apply(this,["uk-animation-scale-up",s,u])}},t.switcher.animations=e;function r(s,u,l){var f=t.$.Deferred(),h=s,b=s,w;return l[0]===u[0]?(f.resolve(),f.promise()):(typeof s=="object"&&(h=s[0],b=s[1]||s[0]),t.$body.css("overflow-x","hidden"),w=function(){u&&u.hide().removeClass("uk-active "+b+" uk-animation-reverse"),l.addClass(h).one(t.support.animation.end,(function(){setTimeout(function(){l.removeClass(""+h).css({opacity:"",display:""})},0),f.resolve(),t.$body.css("overflow-x",""),u&&u.css({opacity:"",display:""})}).bind(this)).show()},l.css("animation-duration",this.options.duration+"ms"),u&&u.length?(u.css("animation-duration",this.options.duration+"ms"),u.css("display","none").addClass(b+" uk-animation-reverse").one(t.support.animation.end,(function(){w()}).bind(this)).css("display","")):(l.addClass("uk-active"),w()),f.promise())}})(UIkit2);(function(t){t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var r=t.$(this);r.data("tab")||t.tab(r,t.Utils.options(r.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(r){if(r.preventDefault(),!(e.switcher&&e.switcher.animating)){var s=e.find(e.options.target).not(this);s.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active"),e.current]),e.current=t.$(this),e.options.connect||(s.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(r){r.preventDefault(),r.stopPropagation();var s=t.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(s.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(r,s){e.responsivetab.caption.html(s.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),t.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length){this.responsivetab.addClass("uk-hidden");return}var r=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),s=!1,u,l;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>r&&(s=!0)}),s)for(var f=0;f<e.length;f++)u=t.$(e.eq(f)),u.find("a"),u.css("float")!="none"&&!u.attr("uk-dropdown")&&(u.hasClass("uk-disabled")||(l=t.$(u[0].outerHTML),l.find("a").data("index",f),this.responsivetab.lst.append(l)),u.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})})(UIkit2);(function(t){t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var r=t.$(this);r.data("cover")||t.cover(r,t.Utils.options(r.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce((function(){this.check()}).bind(this),100)),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.check()}).bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e=this.parent.width(),r=this.parent.height(),s,u;e/this.ratio<r?(s=Math.ceil(r*this.ratio),u=r):(s=e,u=Math.ceil(e/this.ratio)),this.element.css({width:s,height:u})}})})(UIkit2);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-nestable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window,r=t.$html,s=[],u=t.$win,l,f=e?"touchstart":"mousedown",h=e?"touchmove":"mousemove",b=e?"touchend":"mouseup",w=e?"touchcancel":"mouseup";return t.component("nestable",{defaults:{listBaseClass:"uk-nestable",listClass:"uk-nestable-list",listItemClass:"uk-nestable-item",dragClass:"uk-nestable-dragged",movingClass:"uk-nestable-moving",noChildrenClass:"uk-nestable-nochildren",emptyClass:"uk-nestable-empty",handleClass:"",collapsedClass:"uk-collapsed",placeholderClass:"uk-nestable-placeholder",noDragClass:"uk-nestable-nodrag",group:!1,maxDepth:10,threshold:20,idlethreshold:10},boot:function(){t.$html.on("mousemove touchmove",function(x){if(l){var E=l.offset().top;E<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(l.height()/2)):E+l.height()>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(l.height()/2))}}),t.ready(function(x){t.$("[data-uk-nestable]",x).each(function(){var E=t.$(this);E.data("nestable")||t.nestable(E,t.Utils.options(E.attr("data-uk-nestable")))})})},init:function(){var x=this;Object.keys(this.options).forEach(function(F){String(F).indexOf("Class")!=-1&&(x.options["_"+F]="."+x.options[F])}),this.find(this.options._listItemClass).find(">ul").addClass(this.options.listClass),this.checkEmptyList(),this.reset(),this.element.data("nestable-group",this.options.group||t.Utils.uid("nestable-group")),this.find(this.options._listItemClass).each(function(){x.setParent(t.$(this))}),this.on("click","[data-nestable-action]",function(F){if(!(x.dragEl||!e&&F.button!==0)){F.preventDefault();var j=t.$(F.currentTarget),W=j.data("nestableAction"),U=j.closest(x.options._listItemClass);W==="collapse"&&x.collapseItem(U),W==="expand"&&x.expandItem(U),W==="toggle"&&x.toggleItem(U)}});var E=function(F){var j=t.$(F.target),W=j.is("a[href]")?j:j.parents("a[href]");F.target!==x.element[0]&&(j.is(x.options._noDragClass)||j.closest(x.options._noDragClass).length||j.is("[data-nestable-action]")||j.closest("[data-nestable-action]").length||(x.options.handleClass&&!j.hasClass(x.options.handleClass)&&x.options.handleClass&&(j=j.closest(x.options._handleClass)),!(!j.length||x.dragEl||!e&&F.button!==0||e&&F.touches.length!==1)&&(F.originalEvent&&F.originalEvent.touches&&(F=evt.originalEvent.touches[0]),x.delayMove=function(U){W=!1,U.preventDefault(),x.dragStart(F),x.trigger("start.uk.nestable",[x]),x.delayMove=!1},x.delayMove.x=parseInt(F.pageX,10),x.delayMove.y=parseInt(F.pageY,10),x.delayMove.threshold=x.options.idlethreshold,W.length&&b=="touchend"&&x.one(b,function(){W&&W.attr("href").trim()&&(location.href=W.attr("href"))}),F.preventDefault())))},N=function(F){F.originalEvent&&F.originalEvent.touches&&(F=F.originalEvent.touches[0]),x.delayMove&&(Math.abs(F.pageX-x.delayMove.x)>x.delayMove.threshold||Math.abs(F.pageY-x.delayMove.y)>x.delayMove.threshold)&&(window.getSelection().toString()?x.delayMove=!1:x.delayMove(F)),x.dragEl&&(F.preventDefault(),x.dragMove(F),x.trigger("move.uk.nestable",[x]))},q=function(F){x.dragEl&&(F.preventDefault(),x.dragStop(e?F.touches[0]:F)),l=!1,x.delayMove=!1};e?(this.element[0].addEventListener(f,E,!1),window.addEventListener(h,N,!1),window.addEventListener(b,q,!1),window.addEventListener(w,q,!1)):(this.on(f,E),u.on(h,N),u.on(b,q))},serialize:function(){var x,E=this,N=function(q,F){var j=[],W=q.children(E.options._listItemClass);return W.each(function(){for(var U=t.$(this),T={},D,B=U.children(E.options._listClass),I=0,V,te;I<U[0].attributes.length;I++)D=U[0].attributes[I],D.name.indexOf("data-")===0&&(V=D.name.substr(5),te=t.Utils.str2json(D.value),T[V]=te||D.value=="false"||D.value=="0"?te:D.value);B.length&&(T.children=N(B)),j.push(T)}),j};return x=N(E.element),x},list:function(x){var E=[],N=this,q=0,F=function(j,W,U){var T=j.children(x._listItemClass);T.each(function(D){var B=t.$(this),I=t.$.extend({parent_id:U||null,depth:W,order:D},B.data()),V=B.children(x._listClass);E.push(I),V.length&&F(V,W+1,B.data(x.idProperty||"id"))})};return x=t.$.extend({},N.options,x),F(N.element,q),E},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null;for(var x=0;x<s.length;x++)this.checkEmptyList(s[x]);s=[]},toggleItem:function(x){this[x.hasClass(this.options.collapsedClass)?"expandItem":"collapseItem"](x)},expandItem:function(x){x.removeClass(this.options.collapsedClass)},collapseItem:function(x){var E=x.children(this.options._listClass);E.length&&x.addClass(this.options.collapsedClass)},expandAll:function(){var x=this;this.find(x.options._listItemClass).each(function(){x.expandItem(t.$(this))})},collapseAll:function(){var x=this;this.find(x.options._listItemClass).each(function(){x.collapseItem(t.$(this))})},setParent:function(x){x.children(this.options._listClass).length&&x.addClass("uk-parent")},unsetParent:function(x){x.removeClass("uk-parent "+this.options.collapsedClass),x.children(this.options._listClass).remove()},dragStart:function(x){var E=this.mouse,N=t.$(x.target),q=N.closest(this.options._listItemClass),F=q.offset();this.placeEl=q,E.offsetX=x.pageX-F.left,E.offsetY=x.pageY-F.top,E.startX=E.lastX=F.left,E.startY=E.lastY=F.top,this.dragRootEl=this.element,this.dragEl=t.$("<ul></ul>").addClass(this.options.listClass+" "+this.options.dragClass).append(q.clone()),this.dragEl.css("width",q.width()),this.placeEl.addClass(this.options.placeholderClass),l=this.dragEl,this.tmpDragOnSiblings=[q[0].previousSibling,q[0].nextSibling],t.$body.append(this.dragEl),this.dragEl.css({left:F.left,top:F.top});var j,W,U=this.dragEl.find(this.options._listItemClass);for(j=0;j<U.length;j++)W=t.$(U[j]).parents(this.options._listClass+","+this.options._listBaseClass).length,W>this.dragDepth&&(this.dragDepth=W);r.addClass(this.options.movingClass)},dragStop:function(x){var E=t.$(this.placeEl),N=this.placeEl.parents(this.options._listBaseClass+":first");this.placeEl.removeClass(this.options.placeholderClass),this.dragEl.remove(),this.element[0]!==N[0]?(N.trigger("change.uk.nestable",[N.data("nestable"),E,"added"]),this.element.trigger("change.uk.nestable",[this,E,"removed"])):this.element.trigger("change.uk.nestable",[this,E,"moved"]),this.trigger("stop.uk.nestable",[this,E]),this.reset(),r.removeClass(this.options.movingClass)},dragMove:function(x){var E,N,q,F,j,W=this.options,U=this.mouse,T=this.dragRootEl?this.dragRootEl.data("nestable").options.maxDepth:W.maxDepth;this.dragEl.css({left:x.pageX-U.offsetX,top:x.pageY-U.offsetY}),U.lastX=U.nowX,U.lastY=U.nowY,U.nowX=x.pageX,U.nowY=x.pageY,U.distX=U.nowX-U.lastX,U.distY=U.nowY-U.lastY,U.lastDirX=U.dirX,U.lastDirY=U.dirY,U.dirX=U.distX===0?0:U.distX>0?1:-1,U.dirY=U.distY===0?0:U.distY>0?1:-1;var D=Math.abs(U.distX)>Math.abs(U.distY)?1:0;if(!U.moving){U.dirAx=D,U.moving=!0;return}if(U.dirAx!==D?(U.distAxX=0,U.distAxY=0):(U.distAxX+=Math.abs(U.distX),U.dirX!==0&&U.dirX!==U.lastDirX&&(U.distAxX=0),U.distAxY+=Math.abs(U.distY),U.dirY!==0&&U.dirY!==U.lastDirY&&(U.distAxY=0)),U.dirAx=D,U.dirAx&&U.distAxX>=W.threshold&&(U.distAxX=0,q=this.placeEl.prev("li"),U.distX>0&&q.length&&!q.hasClass(W.collapsedClass)&&!q.hasClass(W.noChildrenClass)&&(E=q.find(W._listClass).last(),j=this.placeEl.parents(W._listClass+","+W._listBaseClass).length,j+this.dragDepth<=T&&(E.length?(E=q.children(W._listClass).last(),E.append(this.placeEl)):(E=t.$("<ul/>").addClass(W.listClass),E.append(this.placeEl),q.append(E),this.setParent(q)))),U.distX<0&&(F=this.placeEl.next(W._listItemClass),!F.length))){var B=this.placeEl.closest([W._listBaseClass,W._listClass].join(",")),I=B.closest(W._listItemClass);I.length&&(I.after(this.placeEl),B.children().length||this.unsetParent(I))}var V=!1,te=x.pageX-(window.pageXOffset||document.scrollLeft||0),oe=x.pageY-(window.pageYOffset||document.documentElement.scrollTop);if(this.pointEl=t.$(document.elementFromPoint(te,oe)),W.handleClass&&this.pointEl.hasClass(W.handleClass))this.pointEl=this.pointEl.closest(W._listItemClass);else{var ce=this.pointEl.closest(W._listItemClass);ce.length&&(this.pointEl=ce)}if(!this.placeEl.find(this.pointEl).length){if(this.pointEl.data("nestable")&&!this.pointEl.children().length)V=!0,this.checkEmptyList(this.pointEl);else if(!this.pointEl.length||!this.pointEl.hasClass(W.listItemClass))return;var fe=this.element,ue=this.pointEl.closest(this.options._listBaseClass),Te=fe[0]!=ue[0];if(!U.dirAx||Te||V){if(Te&&W.group!==ue.data("nestable-group")||(s.push(fe),j=this.dragDepth-1+this.pointEl.parents(W._listClass+","+W._listBaseClass).length,j>T))return;var pe=x.pageY<this.pointEl.offset().top+this.pointEl.height()/2;N=this.placeEl.parent(),V?this.pointEl.append(this.placeEl):pe?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),N.children().length||N.data("nestable")||this.unsetParent(N.parent()),this.checkEmptyList(this.dragRootEl),this.checkEmptyList(fe),Te&&(this.dragRootEl=ue,this.hasNewRoot=this.element[0]!==this.dragRootEl[0])}}},checkEmptyList:function(x){x=x?t.$(x):this.element,this.options.emptyClass&&x[x.children().length?"removeClass":"addClass"](this.options.emptyClass)}}),t.nestable});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e="ontouchstart"in window||"MSGesture"in window||window.DocumentTouch&&document instanceof DocumentTouch,r,s,u,l,f,h,b,w,x,E=e?"MSGesture"in window?"pointerdown":"touchstart":"mousedown",N=e?"MSGesture"in window?"pointermove":"touchmove":"mousemove",q=e?"MSGesture"in window?"pointerup":"touchend":"mouseup";function F(T){T=t.$(T);do{if(T.data("sortable"))return T;T=t.$(T).parent()}while(T.length);return T}t.component("sortable",{defaults:{animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",baseClass:"uk-sortable",noDragClass:"uk-sortable-nodrag",emptyClass:"uk-sortable-empty",dragCustomClass:"",handleClass:!1,group:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){t.ready(function(T){t.$("[data-uk-sortable]",T).each(function(){var D=t.$(this);D.data("sortable")||t.sortable(D,t.Utils.options(D.attr("data-uk-sortable")))})}),t.$html.on(N,function(T){if(f){var D=T.originalEvent.targetTouches?T.originalEvent.targetTouches[0]:T;(Math.abs(D.pageX-f.pos.x)>f.threshold||Math.abs(D.pageY-f.pos.y)>f.threshold)&&f.apply(D)}if(r){l||(l=!0,r.show(),r.$current.addClass(r.$sortable.options.placeholderClass),r.$sortable.element.children().addClass(r.$sortable.options.childClass),t.$html.addClass(r.$sortable.options.dragMovingClass));var B=r.data("mouse-offset"),I=T.originalEvent.touches&&T.originalEvent.touches[0]||T.originalEvent,V=parseInt(I.pageX,10)+B.left,te=parseInt(I.pageY,10)+B.top;if(r.css({left:V,top:te}),te+r.height()/3>document.body.offsetHeight)return;te<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(r.height()/3)):te+r.height()/3>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(r.height()/3))}}),t.$html.on(q,function(T){if(f=!1,!s||!r){s=r=null;return}var D=F(s),B=r.$sortable,I={type:T.type};D[0]&&B.dragDrop(I,B.element),B.dragEnd(I,B.element)})},init:function(){var T=this,D=this.element[0];h=[],this.checkEmptyList(),this.element.data("sortable-group",this.options.group?this.options.group:t.Utils.uid("sortable-group"));var B=ue(function(Te){if(!(Te.data&&Te.data.sortable)){var pe=t.$(Te.target),ie=pe.is("a[href]")?pe:pe.parents("a[href]");if(!pe.is(":input")){if(T.options.handleClass){var O=pe.hasClass(T.options.handleClass)?pe:pe.closest("."+T.options.handleClass,T.element);if(!O.length)return}return Te.preventDefault(),ie.length&&ie.one("click",function(ae){ae.preventDefault()}).one(q,function(){b||(ie.trigger("click"),e&&ie.attr("href").trim()&&(location.href=ie.attr("href")))}),Te.data=Te.data||{},Te.data.sortable=D,T.dragStart(Te,this)}}}),I=ue(t.Utils.debounce(function(Te){return T.dragEnter(Te,this)})),V=ue(function(Te){var pe=T.dragenterData(this);T.dragenterData(this,pe-1),T.dragenterData(this)||(t.$(this).removeClass(T.options.overClass),T.dragenterData(this,!1))}),te=ue(function(Te){return!s||s===this||u===this?!0:(T.element.children().removeClass(T.options.overClass),u=this,T.moveElementNextTo(s,this),U(Te))});function oe(){e&&x.touches&&x.touches.length?D.addEventListener(N,te,!1):(D.addEventListener("mouseover",I,!1),D.addEventListener("mouseout",V,!1))}function ce(){e&&x.touches&&x.touches.length?D.removeEventListener(N,te,!1):(D.removeEventListener("mouseover",I,!1),D.removeEventListener("mouseout",V,!1))}this.addDragHandlers=oe,this.removeDragHandlers=ce;function fe(Te){s&&T.dragMove(Te,T)}function ue(Te){return function(pe){var ie,O,ae;x=pe,pe&&(ie=pe.touches&&pe.touches[0]||pe,O=ie.target||pe.target,e&&document.elementFromPoint&&(O=document.elementFromPoint(ie.pageX-document.body.scrollLeft,ie.pageY-document.body.scrollTop)),w=t.$(O)),t.$(O).hasClass("."+T.options.childClass)?Te.apply(O,[pe]):O!==D&&(ae=W(D,O),ae&&Te.apply(ae,[pe]))}}window.addEventListener(N,fe,!1),D.addEventListener(E,B,!1)},dragStart:function(T,D){b=!1,l=!1;var B=this,I=t.$(T.target);if(!(!e&&T.button==2)&&!(I.is("."+B.options.noDragClass)||I.closest("."+B.options.noDragClass).length)&&!I.is(":input")){s=D,r&&r.remove();var V=t.$(s),te=V.offset(),oe=T.touches&&T.touches[0]||T;f={pos:{x:oe.pageX,y:oe.pageY},threshold:B.options.handleClass?1:B.options.threshold,apply:function(ce){r=t.$('<div class="'+[B.options.draggingClass,B.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:te.top,left:te.left,width:V.width(),height:V.height(),padding:V.css("padding")}).data({"mouse-offset":{left:te.left-parseInt(oe.pageX,10),top:te.top-parseInt(oe.pageY,10)},origin:B.element,index:V.index()}).append(V.html()).appendTo("body"),r.$current=V,r.$sortable=B,V.data({"start-list":V.parent(),"start-index":V.index(),"sortable-group":B.options.group}),B.addDragHandlers(),B.options.start(this,s),B.trigger("start.uk.sortable",[B,s,r]),b=!0,f=!1}}}},dragMove:function(T,D){w=t.$(document.elementFromPoint(T.pageX-(document.body.scrollLeft||document.scrollLeft||0),T.pageY-(document.body.scrollTop||document.documentElement.scrollTop||0)));var B=w.closest("."+this.options.baseClass),I=B.data("sortable-group"),V=t.$(s),te=V.parent(),oe=V.data("sortable-group"),ce;B[0]!==te[0]&&oe!==void 0&&I===oe&&(B.data("sortable").addDragHandlers(),h.push(B),B.children().addClass(this.options.childClass),B.children().length>0?(ce=w.closest("."+this.options.childClass),ce.length?ce.before(V):B.append(V)):w.append(V),t.$doc.trigger("mouseover")),this.checkEmptyList(),this.checkEmptyList(te)},dragEnter:function(T,D){if(!s||s===D)return!0;var B=this.dragenterData(D);if(this.dragenterData(D,B+1),B===0){var I=t.$(D).parent(),V=t.$(s).data("start-list");if(I[0]!==V[0]){var te=I.data("sortable-group"),oe=t.$(s).data("sortable-group");if((te||oe)&&te!=oe)return!1}t.$(D).addClass(this.options.overClass),this.moveElementNextTo(s,D)}return!1},dragEnd:function(T,D){var B=this;s&&(this.options.stop(D),this.trigger("stop.uk.sortable",[this])),s=null,u=null,h.push(this.element),h.forEach(function(I,V){t.$(I).children().each(function(){this.nodeType===1&&(t.$(this).removeClass(B.options.overClass).removeClass(B.options.placeholderClass).removeClass(B.options.childClass),B.dragenterData(this,!1))})}),h=[],t.$html.removeClass(this.options.dragMovingClass),this.removeDragHandlers(),r&&(r.remove(),r=null)},dragDrop:function(T,D){T.type==="drop"&&(T.stopPropagation&&T.stopPropagation(),T.preventDefault&&T.preventDefault()),this.triggerChangeEvents()},triggerChangeEvents:function(){if(s){var T=t.$(s),D=r.data("origin"),B=T.closest("."+this.options.baseClass),I=[],V=t.$(s);D[0]===B[0]&&r.data("index")!=T.index()?I.push({sortable:this,mode:"moved"}):D[0]!=B[0]&&I.push({sortable:t.$(B).data("sortable"),mode:"added"},{sortable:t.$(D).data("sortable"),mode:"removed"}),I.forEach(function(te,oe){te.sortable&&te.sortable.element.trigger("change.uk.sortable",[te.sortable,V,te.mode])})}},dragenterData:function(T,D){if(T=t.$(T),arguments.length==1)return parseInt(T.data("child-dragenter"),10)||0;D?T.data("child-dragenter",Math.max(0,D)):T.removeData("child-dragenter")},moveElementNextTo:function(T,D){var B=this,I=t.$(T).parent().css("min-height",""),V=j(T,D)?D:D.nextSibling,te=I.children(),oe=te.length;if(!B.options.animation){D.parentNode.insertBefore(T,V),t.Utils.checkDisplay(B.element.parent());return}I.css("min-height",I.height()),te.stop().each(function(){var ce=t.$(this),fe=ce.position();fe.width=ce.width(),ce.data("offset-before",fe)}),D.parentNode.insertBefore(T,V),t.Utils.checkDisplay(B.element.parent()),te=I.children().each(function(){var ce=t.$(this);ce.data("offset-after",ce.position())}).each(function(){var ce=t.$(this),fe=ce.data("offset-before");ce.css({position:"absolute",top:fe.top,left:fe.left,minWidth:fe.width})}),te.each(function(){var ce=t.$(this);ce.data("offset-before");var fe=ce.data("offset-after");ce.css("pointer-events","none").width(),setTimeout(function(){ce.animate({top:fe.top,left:fe.left},B.options.animation,function(){ce.css({position:"",top:"",left:"",minWidth:"","pointer-events":""}).removeClass(B.options.overClass).removeData("child-dragenter"),oe--,oe||(I.css("min-height",""),t.Utils.checkDisplay(B.element.parent()))})},0)})},serialize:function(){var T=[],D,B;return this.element.children().each(function(I,V){D={};for(var te=0,oe,ce;te<V.attributes.length;te++)B=V.attributes[te],B.name.indexOf("data-")===0&&(oe=B.name.substr(5),ce=t.Utils.str2json(B.value),D[oe]=ce||B.value=="false"||B.value=="0"?ce:B.value);T.push(D)}),T},checkEmptyList:function(T){T=T?t.$(T):this.element,this.options.emptyClass&&T[T.children().length?"removeClass":"addClass"](this.options.emptyClass)}});function j(T,D){var B=T.parentNode;if(D.parentNode!=B)return!1;for(var I=T.previousSibling;I&&I.nodeType!==9;){if(I===D)return!0;I=I.previousSibling}return!1}function W(T,D){var B=D;if(B==T)return null;for(;B;){if(B.parentNode===T)return B;if(B=B.parentNode,!B||!B.ownerDocument||B.nodeType===11)break}return null}function U(T){T.stopPropagation&&T.stopPropagation(),T.preventDefault&&T.preventDefault(),T.returnValue=!1}return t.sortable});function kx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $d={exports:{}};/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */var Fm;function Cx(){return Fm||(Fm=1,(function(t){(function(e){window.UIkit2&&e(UIkit2)})(function(e){var r=!1,s,u;e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(l,f){var h="",b;if(h+='<div class="uk-datepicker-nav">',h+='<a href="" class="uk-datepicker-previous"></a>',h+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var w=new Date().getFullYear(),x=[],E,N,q,F;for(b=0;b<f.i18n.months.length;b++)b==l.month?x.push('<option value="'+b+'" selected>'+f.i18n.months[b]+"</option>"):x.push('<option value="'+b+'">'+f.i18n.months[b]+"</option>");for(E='<span class="uk-form-select">'+f.i18n.months[l.month]+'<select class="update-picker-month">'+x.join("")+"</select></span>",x=[],q=l.minDate?l.minDate.year():w-50,F=l.maxDate?l.maxDate.year():w+20,b=q;b<=F;b++)b==l.year?x.push('<option value="'+b+'" selected>'+b+"</option>"):x.push('<option value="'+b+'">'+b+"</option>");N='<span class="uk-form-select">'+l.year+'<select class="update-picker-year">'+x.join("")+"</select></span>",h+='<div class="uk-datepicker-heading">'+E+" "+N+"</div>"}else h+='<div class="uk-datepicker-heading">'+f.i18n.months[l.month]+" "+l.year+"</div>";for(h+="</div>",h+='<table class="uk-datepicker-table">',h+="<thead>",b=0;b<l.weekdays.length;b++)l.weekdays[b]&&(h+="<th>"+l.weekdays[b]+"</th>");for(h+="</thead>",h+="<tbody>",b=0;b<l.days.length;b++)if(l.days[b]&&l.days[b].length){h+="<tr>";for(var j=0;j<l.days[b].length;j++)if(l.days[b][j]){var W=l.days[b][j],U=[];W.inmonth||U.push("uk-datepicker-table-muted"),W.selected&&U.push("uk-active"),W.disabled&&U.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),h+='<td><a href="" class="'+U.join(" ")+'" data-date="'+W.day.format()+'">'+W.day.format("D")+"</a></td>"}h+="</tr>"}return h+="</tbody>",h+="</table>",h}},boot:function(){e.$win.on("resize orientationchange",function(){r&&r.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(l){var f=e.$(this);f.data("datepicker")||(l.preventDefault(),e.datepicker(f,e.Utils.options(f.attr("data-uk-datepicker"))),f.trigger("focus"))}),e.$html.on("click focus","*",function(l){var f=e.$(l.target);r&&f[0]!=s[0]&&!f.data("datepicker")&&!f.parents(".uk-datepicker:first").length&&r.hide()})},init:function(){if(!(e.support.touch&&this.element.attr("type")=="date"&&!this.options.mobile)){var l=this;this.current=this.element.val()?u(this.element.val(),this.options.format):u(),this.on("click focus",function(){r!==l&&l.pick(this.value?this.value:"")}).on("change",function(){l.element.val()&&!u(l.element.val(),l.options.format).isValid()&&l.element.val(u().format(l.options.format))}),s||(s=e.$('<div class="uk-dropdown uk-datepicker"></div>'),s.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(f){f.stopPropagation(),f.preventDefault();var h=e.$(this);if(h.hasClass("uk-datepicker-date-disabled"))return!1;h.is("[data-date]")?(r.current=u(h.data("date")),r.element.val(r.current.isValid()?r.current.format(r.options.format):null).trigger("change"),r.hide()):r.add(h.hasClass("uk-datepicker-next")?1:-1,"months")}),s.on("change",".update-picker-month, .update-picker-year",function(){var f=e.$(this);r[f.is(".update-picker-year")?"setYear":"setMonth"](Number(f.val()))}),s.appendTo(this.options.container))}},pick:function(l){var f=this.element.offset(),h={left:f.left,right:""};this.current=isNaN(l)?u(l,this.options.format):u(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),e.langdirection=="right"&&(h.right=window.innerWidth-(h.left+this.element.outerWidth()),h.left="");var b=f.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-s.outerHeight(),w=f.top+this.element.outerHeight()+this.options.offsettop;h.top=w,(this.options.pos=="top"||this.options.pos=="auto"&&window.innerHeight-w-s.outerHeight()<0&&b>=0)&&(h.top=b),s.css(h).show(),this.trigger("show.uk.datepicker"),r=this},add:function(l,f){this.current.add(l,f),this.update()},setMonth:function(l){this.current.month(l),this.update()},setYear:function(l){this.current.year(l),this.update()},update:function(){var l=this.getRows(this.current.year(),this.current.month()),f=this.options.template(l,this.options);s.html(f),this.trigger("update.uk.datepicker")},getRows:function(l,f){var h=this.options,b=u().format("YYYY-MM-DD"),w=[31,l%4===0&&l%100!==0||l%400===0?29:28,31,30,31,30,31,31,30,31,30,31][f],x=new Date(l,f,1,12).getDay(),E={month:f,year:l,weekdays:[],days:[],maxDate:!1,minDate:!1},N=[];h.maxDate!==!1&&(E.maxDate=isNaN(h.maxDate)?u(h.maxDate,h.format).startOf("day").hours(12):u().add(h.maxDate,"days").startOf("day").hours(12)),h.minDate!==!1&&(E.minDate=isNaN(h.minDate)?u(h.minDate,h.format).startOf("day").hours(12):u().add(h.minDate-1,"days").startOf("day").hours(12)),E.weekdays=(function(){for(var V=0,te=[];V<7;V++){for(var oe=V+(h.weekstart||0);oe>=7;)oe-=7;te.push(h.i18n.weekdays[oe])}return te})(),h.weekstart&&h.weekstart>0&&(x-=h.weekstart,x<0&&(x+=7));for(var q=w+x,F=q;F>7;)F-=7;q+=7-F;for(var j,W,U,T,D,B=0,I=0;B<q;B++)j=new Date(l,f,1+(B-x),12),W=E.minDate&&E.minDate>j||E.maxDate&&j>E.maxDate,D=!(B<x||B>=w+x),j=u(j),U=this.initdate==j.format("YYYY-MM-DD"),T=b==j.format("YYYY-MM-DD"),N.push({selected:U,today:T,disabled:W,day:j,inmonth:D}),++I===7&&(E.days.push(N),N=[],I=0);return E},hide:function(){r&&r===this&&(s.hide(),r=!1,this.trigger("hide.uk.datepicker"))}});//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return u=(function(l){var f,h="2.8.3",b=Math.round,w=Object.prototype.hasOwnProperty,x,E=0,N=1,q=2,F=3,j=4,W=5,U=6,T={},D=[],B=t.exports,I=/^\/?Date\((\-?\d+)/i,V=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,te=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,oe=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ce=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,fe=/\d\d?/,ue=/\d{1,3}/,Te=/\d{1,4}/,pe=/[+\-]?\d{1,6}/,ie=/\d+/,O=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ae=/Z|[\+\-]\d\d:?\d\d/gi,me=/T/i,_e=/[\+\-]?\d+(\.\d{1,3})?/,Ve=/\d{1,2}/,Fe=/\d/,Ee=/\d\d/,J=/\d{3}/,Y=/\d{4}/,Ce=/[+-]?\d{6}/,Me=/[+-]?\d+/,G=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge="YYYY-MM-DDTHH:mm:ssZ",we=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ie=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ye=/([\+\-]|\d\d)/gi,Ge={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},st={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},wt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},kt={},Dt={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),Mt="M D H h m s w W".split(" "),Ut={M:function(){return this.month()+1},MMM:function(y){return this.localeData().monthsShort(this,y)},MMMM:function(y){return this.localeData().months(this,y)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(y){return this.localeData().weekdaysMin(this,y)},ddd:function(y){return this.localeData().weekdaysShort(this,y)},dddd:function(y){return this.localeData().weekdays(this,y)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return Tt(this.year()%100,2)},YYYY:function(){return Tt(this.year(),4)},YYYYY:function(){return Tt(this.year(),5)},YYYYYY:function(){var y=this.year(),S=y>=0?"+":"-";return S+Tt(Math.abs(y),6)},gg:function(){return Tt(this.weekYear()%100,2)},gggg:function(){return Tt(this.weekYear(),4)},ggggg:function(){return Tt(this.weekYear(),5)},GG:function(){return Tt(this.isoWeekYear()%100,2)},GGGG:function(){return Tt(this.isoWeekYear(),4)},GGGGG:function(){return Tt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return We(this.milliseconds()/100)},SS:function(){return Tt(We(this.milliseconds()/10),2)},SSS:function(){return Tt(this.milliseconds(),3)},SSSS:function(){return Tt(this.milliseconds(),3)},Z:function(){var y=-this.zone(),S="+";return y<0&&(y=-y,S="-"),S+Tt(We(y/60),2)+":"+Tt(We(y)%60,2)},ZZ:function(){var y=-this.zone(),S="+";return y<0&&(y=-y,S="-"),S+Tt(We(y/60),2)+Tt(We(y)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},hn={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function Ot(y,S,P){switch(arguments.length){case 2:return y??S;case 3:return y??S??P;default:throw new Error("Implement me")}}function Le(y,S){return w.call(y,S)}function nt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function qe(y){f.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+y)}function jt(y,S){var P=!0;return Gn(function(){return P&&(qe(y),P=!1),S.apply(this,arguments)},S)}function ii(y,S){hn[y]||(qe(S),hn[y]=!0)}function li(y,S){return function(P){return Tt(y.call(this,P),S)}}function qi(y,S){return function(P){return this.localeData().ordinal(y.call(this,P),S)}}for(;mt.length;)x=mt.pop(),Ut[x+"o"]=qi(Ut[x],x);for(;Mt.length;)x=Mt.pop(),Ut[x+x]=li(Ut[x],2);Ut.DDDD=li(Ut.DDD,3);function gi(){}function xn(y,S){S!==!1&&At(y),Mi(this,y),this._d=new Date(+y._d)}function vi(y){var S=ln(y),P=S.year||0,ee=S.quarter||0,re=S.month||0,de=S.week||0,Ae=S.day||0,Xe=S.hour||0,Ke=S.minute||0,Ue=S.second||0,Ze=S.millisecond||0;this._milliseconds=+Ze+Ue*1e3+Ke*6e4+Xe*36e5,this._days=+Ae+de*7,this._months=+re+ee*3+P*12,this._data={},this._locale=f.localeData(),this._bubble()}function Gn(y,S){for(var P in S)Le(S,P)&&(y[P]=S[P]);return Le(S,"toString")&&(y.toString=S.toString),Le(S,"valueOf")&&(y.valueOf=S.valueOf),y}function Mi(y,S){var P,ee,re;if(typeof S._isAMomentObject<"u"&&(y._isAMomentObject=S._isAMomentObject),typeof S._i<"u"&&(y._i=S._i),typeof S._f<"u"&&(y._f=S._f),typeof S._l<"u"&&(y._l=S._l),typeof S._strict<"u"&&(y._strict=S._strict),typeof S._tzm<"u"&&(y._tzm=S._tzm),typeof S._isUTC<"u"&&(y._isUTC=S._isUTC),typeof S._offset<"u"&&(y._offset=S._offset),typeof S._pf<"u"&&(y._pf=S._pf),typeof S._locale<"u"&&(y._locale=S._locale),D.length>0)for(P in D)ee=D[P],re=S[ee],typeof re<"u"&&(y[ee]=re);return y}function Yn(y){return y<0?Math.ceil(y):Math.floor(y)}function Tt(y,S,P){for(var ee=""+Math.abs(y),re=y>=0;ee.length<S;)ee="0"+ee;return(re?"":"-")+ee}function Rr(y,S){var P={milliseconds:0,months:0};return P.months=S.month()-y.month()+(S.year()-y.year())*12,y.clone().add(P.months,"M").isAfter(S)&&--P.months,P.milliseconds=+S-+y.clone().add(P.months,"M"),P}function Zt(y,S){var P;return S=Hn(S,y),y.isBefore(S)?P=Rr(y,S):(P=Rr(S,y),P.milliseconds=-P.milliseconds,P.months=-P.months),P}function ji(y,S){return function(P,ee){var re,de;return ee!==null&&!isNaN(+ee)&&(ii(S,"moment()."+S+"(period, number) is deprecated. Please use moment()."+S+"(number, period)."),de=P,P=ee,ee=de),P=typeof P=="string"?+P:P,re=f.duration(P,ee),Pt(this,re,y),this}}function Pt(y,S,P,ee){var re=S._milliseconds,de=S._days,Ae=S._months;ee=ee??!0,re&&y._d.setTime(+y._d+re*P),de&&Rt(y,"Date",Kn(y,"Date")+de*P),Ae&&tn(y,Kn(y,"Month")+Ae*P),ee&&f.updateOffset(y,de||Ae)}function oi(y){return Object.prototype.toString.call(y)==="[object Array]"}function vn(y){return Object.prototype.toString.call(y)==="[object Date]"||y instanceof Date}function Dn(y,S,P){var ee=Math.min(y.length,S.length),re=Math.abs(y.length-S.length),de=0,Ae;for(Ae=0;Ae<ee;Ae++)(P&&y[Ae]!==S[Ae]||!P&&We(y[Ae])!==We(S[Ae]))&&de++;return de+re}function an(y){if(y){var S=y.toLowerCase().replace(/(.)s$/,"$1");y=st[y]||wt[S]||S}return y}function ln(y){var S={},P,ee;for(ee in y)Le(y,ee)&&(P=an(ee),P&&(S[P]=y[ee]));return S}function et(y){var S,P;if(y.indexOf("week")===0)S=7,P="day";else if(y.indexOf("month")===0)S=12,P="month";else return;f[y]=function(ee,re){var de,Ae,Xe=f._locale[y],Ke=[];if(typeof ee=="number"&&(re=ee,ee=l),Ae=function(Ue){var Ze=f().utc().set(P,Ue);return Xe.call(f._locale,Ze,ee||"")},re!=null)return Ae(re);for(de=0;de<S;de++)Ke.push(Ae(de));return Ke}}function We(y){var S=+y,P=0;return S!==0&&isFinite(S)&&(S>=0?P=Math.floor(S):P=Math.ceil(S)),P}function at(y,S){return new Date(Date.UTC(y,S+1,0)).getUTCDate()}function Bt(y,S,P){return Ne(f([y,11,31+S-P]),S,P).week}function _t(y){return sn(y)?366:365}function sn(y){return y%4===0&&y%100!==0||y%400===0}function At(y){var S;y._a&&y._pf.overflow===-2&&(S=y._a[N]<0||y._a[N]>11?N:y._a[q]<1||y._a[q]>at(y._a[E],y._a[N])?q:y._a[F]<0||y._a[F]>23?F:y._a[j]<0||y._a[j]>59?j:y._a[W]<0||y._a[W]>59?W:y._a[U]<0||y._a[U]>999?U:-1,y._pf._overflowDayOfYear&&(S<E||S>q)&&(S=q),y._pf.overflow=S)}function Ht(y){return y._isValid==null&&(y._isValid=!isNaN(y._d.getTime())&&y._pf.overflow<0&&!y._pf.empty&&!y._pf.invalidMonth&&!y._pf.nullInput&&!y._pf.invalidFormat&&!y._pf.userInvalidated,y._strict&&(y._isValid=y._isValid&&y._pf.charsLeftOver===0&&y._pf.unusedTokens.length===0)),y._isValid}function Tn(y){return y&&y.toLowerCase().replace("_","-")}function Xn(y){for(var S=0,P,ee,re,de;S<y.length;){for(de=Tn(y[S]).split("-"),P=de.length,ee=Tn(y[S+1]),ee=ee?ee.split("-"):null;P>0;){if(re=bt(de.slice(0,P).join("-")),re)return re;if(ee&&ee.length>=P&&Dn(de,ee,!0)>=P-1)break;P--}S++}return null}function bt(y){var S=null;if(!T[y]&&B)try{S=f.locale(),kx("./locale/"+y),f.locale(S)}catch{}return T[y]}function Hn(y,S){return S._isUTC?f(y).zone(S._offset||0):f(y).local()}Gn(gi.prototype,{set:function(y){var S,P;for(P in y)S=y[P],typeof S=="function"?this[P]=S:this["_"+P]=S},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(y){return this._months[y.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(y){return this._monthsShort[y.month()]},monthsParse:function(y){var S,P,ee;for(this._monthsParse||(this._monthsParse=[]),S=0;S<12;S++)if(this._monthsParse[S]||(P=f.utc([2e3,S]),ee="^"+this.months(P,"")+"|^"+this.monthsShort(P,""),this._monthsParse[S]=new RegExp(ee.replace(".",""),"i")),this._monthsParse[S].test(y))return S},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(y){return this._weekdays[y.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(y){return this._weekdaysShort[y.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(y){return this._weekdaysMin[y.day()]},weekdaysParse:function(y){var S,P,ee;for(this._weekdaysParse||(this._weekdaysParse=[]),S=0;S<7;S++)if(this._weekdaysParse[S]||(P=f([2e3,1]).day(S),ee="^"+this.weekdays(P,"")+"|^"+this.weekdaysShort(P,"")+"|^"+this.weekdaysMin(P,""),this._weekdaysParse[S]=new RegExp(ee.replace(".",""),"i")),this._weekdaysParse[S].test(y))return S},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(y){var S=this._longDateFormat[y];return!S&&this._longDateFormat[y.toUpperCase()]&&(S=this._longDateFormat[y.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(P){return P.slice(1)}),this._longDateFormat[y]=S),S},isPM:function(y){return(y+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(y,S,P){return y>11?P?"pm":"PM":P?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(y,S){var P=this._calendar[y];return typeof P=="function"?P.apply(S):P},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(y,S,P,ee){var re=this._relativeTime[P];return typeof re=="function"?re(y,S,P,ee):re.replace(/%d/i,y)},pastFuture:function(y,S){var P=this._relativeTime[y>0?"future":"past"];return typeof P=="function"?P(S):P.replace(/%s/i,S)},ordinal:function(y){return this._ordinal.replace("%d",y)},_ordinal:"%d",preparse:function(y){return y},postformat:function(y){return y},week:function(y){return Ne(y,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function Yt(y){return y.match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"")}function dn(y){var S=y.match(oe),P,ee;for(P=0,ee=S.length;P<ee;P++)Ut[S[P]]?S[P]=Ut[S[P]]:S[P]=Yt(S[P]);return function(re){var de="";for(P=0;P<ee;P++)de+=S[P]instanceof Function?S[P].call(re,y):S[P];return de}}function Cn(y,S){return y.isValid()?(S=Jn(S,y.localeData()),kt[S]||(kt[S]=dn(S)),kt[S](y)):y.localeData().invalidDate()}function Jn(y,S){var P=5;function ee(re){return S.longDateFormat(re)||re}for(ce.lastIndex=0;P>=0&&ce.test(y);)y=y.replace(ce,ee),ce.lastIndex=0,P-=1;return y}function Pn(y,S){var P,ee=S._strict;switch(y){case"Q":return Fe;case"DDDD":return J;case"YYYY":case"GGGG":case"gggg":return ee?Y:Te;case"Y":case"G":case"g":return Me;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return ee?Ce:pe;case"S":if(ee)return Fe;case"SS":if(ee)return Ee;case"SSS":if(ee)return J;case"DDD":return ue;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return O;case"a":case"A":return S._locale._meridiemParse;case"X":return _e;case"Z":case"ZZ":return ae;case"T":return me;case"SSSS":return ie;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return ee?Ee:fe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return fe;case"Do":return Ve;default:return P=new RegExp(Nr(Pi(y.replace("\\","")))),P}}function un(y){y=y||"";var S=y.match(ae)||[],P=S[S.length-1]||[],ee=(P+"").match(Ye)||["-",0,0],re=+(ee[1]*60)+We(ee[2]);return ee[0]==="+"?-re:re}function Ei(y,S,P){var ee,re=P._a;switch(y){case"Q":S!=null&&(re[N]=(We(S)-1)*3);break;case"M":case"MM":S!=null&&(re[N]=We(S)-1);break;case"MMM":case"MMMM":ee=P._locale.monthsParse(S),ee!=null?re[N]=ee:P._pf.invalidMonth=S;break;case"D":case"DD":S!=null&&(re[q]=We(S));break;case"Do":S!=null&&(re[q]=We(parseInt(S,10)));break;case"DDD":case"DDDD":S!=null&&(P._dayOfYear=We(S));break;case"YY":re[E]=f.parseTwoDigitYear(S);break;case"YYYY":case"YYYYY":case"YYYYYY":re[E]=We(S);break;case"a":case"A":P._isPm=P._locale.isPM(S);break;case"H":case"HH":case"h":case"hh":re[F]=We(S);break;case"m":case"mm":re[j]=We(S);break;case"s":case"ss":re[W]=We(S);break;case"S":case"SS":case"SSS":case"SSSS":re[U]=We(("0."+S)*1e3);break;case"X":P._d=new Date(parseFloat(S)*1e3);break;case"Z":case"ZZ":P._useUTC=!0,P._tzm=un(S);break;case"dd":case"ddd":case"dddd":ee=P._locale.weekdaysParse(S),ee!=null?(P._w=P._w||{},P._w.d=ee):P._pf.invalidWeekday=S;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":y=y.substr(0,1);case"gggg":case"GGGG":case"GGGGG":y=y.substr(0,2),S&&(P._w=P._w||{},P._w[y]=We(S));break;case"gg":case"GG":P._w=P._w||{},P._w[y]=f.parseTwoDigitYear(S)}}function Yi(y){var S,P,ee,re,de,Ae,Xe;S=y._w,S.GG!=null||S.W!=null||S.E!=null?(de=1,Ae=4,P=Ot(S.GG,y._a[E],Ne(f(),1,4).year),ee=Ot(S.W,1),re=Ot(S.E,1)):(de=y._locale._week.dow,Ae=y._locale._week.doy,P=Ot(S.gg,y._a[E],Ne(f(),de,Ae).year),ee=Ot(S.w,1),S.d!=null?(re=S.d,re<de&&++ee):S.e!=null?re=S.e+de:re=de),Xe=Je(P,ee,re,Ae,de),y._a[E]=Xe.year,y._dayOfYear=Xe.dayOfYear}function Oi(y){var S,P,ee=[],re,de;if(!y._d){for(re=Jr(y),y._w&&y._a[q]==null&&y._a[N]==null&&Yi(y),y._dayOfYear&&(de=Ot(y._a[E],re[E]),y._dayOfYear>_t(de)&&(y._pf._overflowDayOfYear=!0),P=lr(de,0,y._dayOfYear),y._a[N]=P.getUTCMonth(),y._a[q]=P.getUTCDate()),S=0;S<3&&y._a[S]==null;++S)y._a[S]=ee[S]=re[S];for(;S<7;S++)y._a[S]=ee[S]=y._a[S]==null?S===2?1:0:y._a[S];y._d=(y._useUTC?lr:tr).apply(null,ee),y._tzm!=null&&y._d.setUTCMinutes(y._d.getUTCMinutes()+y._tzm)}}function Qr(y){var S;y._d||(S=ln(y._i),y._a=[S.year,S.month,S.day,S.hour,S.minute,S.second,S.millisecond],Oi(y))}function Jr(y){var S=new Date;return y._useUTC?[S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate()]:[S.getFullYear(),S.getMonth(),S.getDate()]}function kr(y){if(y._f===f.ISO_8601){lo(y);return}y._a=[],y._pf.empty=!0;var S=""+y._i,P,ee,re,de,Ae,Xe=S.length,Ke=0;for(re=Jn(y._f,y._locale).match(oe)||[],P=0;P<re.length;P++)de=re[P],ee=(S.match(Pn(de,y))||[])[0],ee&&(Ae=S.substr(0,S.indexOf(ee)),Ae.length>0&&y._pf.unusedInput.push(Ae),S=S.slice(S.indexOf(ee)+ee.length),Ke+=ee.length),Ut[de]?(ee?y._pf.empty=!1:y._pf.unusedTokens.push(de),Ei(de,ee,y)):y._strict&&!ee&&y._pf.unusedTokens.push(de);y._pf.charsLeftOver=Xe-Ke,S.length>0&&y._pf.unusedInput.push(S),y._isPm&&y._a[F]<12&&(y._a[F]+=12),y._isPm===!1&&y._a[F]===12&&(y._a[F]=0),Oi(y),At(y)}function Pi(y){return y.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(S,P,ee,re,de){return P||ee||re||de})}function Nr(y){return y.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Si(y){var S,P,ee,re,de;if(y._f.length===0){y._pf.invalidFormat=!0,y._d=new Date(NaN);return}for(re=0;re<y._f.length;re++)de=0,S=Mi({},y),y._useUTC!=null&&(S._useUTC=y._useUTC),S._pf=nt(),S._f=y._f[re],kr(S),Ht(S)&&(de+=S._pf.charsLeftOver,de+=S._pf.unusedTokens.length*10,S._pf.score=de,(ee==null||de<ee)&&(ee=de,P=S));Gn(y,P||S)}function lo(y){var S,P,ee=y._i,re=G.exec(ee);if(re){for(y._pf.iso=!0,S=0,P=we.length;S<P;S++)if(we[S][1].exec(ee)){y._f=we[S][0]+(re[6]||" ");break}for(S=0,P=Ie.length;S<P;S++)if(Ie[S][1].exec(ee)){y._f+=Ie[S][0];break}ee.match(ae)&&(y._f+="Z"),kr(y)}else y._isValid=!1}function er(y){lo(y),y._isValid===!1&&(delete y._isValid,f.createFromInputFallback(y))}function Vn(y,S){var P=[],ee;for(ee=0;ee<y.length;++ee)P.push(S(y[ee],ee));return P}function Lt(y){var S=y._i,P;S===l?y._d=new Date:vn(S)?y._d=new Date(+S):(P=I.exec(S))!==null?y._d=new Date(+P[1]):typeof S=="string"?er(y):oi(S)?(y._a=Vn(S.slice(0),function(ee){return parseInt(ee,10)}),Oi(y)):typeof S=="object"?Qr(y):typeof S=="number"?y._d=new Date(S):f.createFromInputFallback(y)}function tr(y,S,P,ee,re,de,Ae){var Xe=new Date(y,S,P,ee,re,de,Ae);return y<1970&&Xe.setFullYear(y),Xe}function lr(y){var S=new Date(Date.UTC.apply(null,arguments));return y<1970&&S.setUTCFullYear(y),S}function Ui(y,S){if(typeof y=="string"){if(!isNaN(y))y=parseInt(y,10);else if(y=S.weekdaysParse(y),typeof y!="number")return null}return y}function K(y,S,P,ee,re){return re.relativeTime(S||1,!!P,y,ee)}function ve(y,S,P){var ee=f.duration(y).abs(),re=b(ee.as("s")),de=b(ee.as("m")),Ae=b(ee.as("h")),Xe=b(ee.as("d")),Ke=b(ee.as("M")),Ue=b(ee.as("y")),Ze=re<Dt.s&&["s",re]||de===1&&["m"]||de<Dt.m&&["mm",de]||Ae===1&&["h"]||Ae<Dt.h&&["hh",Ae]||Xe===1&&["d"]||Xe<Dt.d&&["dd",Xe]||Ke===1&&["M"]||Ke<Dt.M&&["MM",Ke]||Ue===1&&["y"]||["yy",Ue];return Ze[2]=S,Ze[3]=+y>0,Ze[4]=P,K.apply({},Ze)}function Ne(y,S,P){var ee=P-S,re=P-y.day(),de;return re>ee&&(re-=7),re<ee-7&&(re+=7),de=f(y).add(re,"d"),{week:Math.ceil(de.dayOfYear()/7),year:de.year()}}function Je(y,S,P,ee,re){var de=lr(y,0,1).getUTCDay(),Ae,Xe;return de=de===0?7:de,P=P??re,Ae=re-de+(de>ee?7:0)-(de<re?7:0),Xe=7*(S-1)+(P-re)+Ae+1,{year:Xe>0?y:y-1,dayOfYear:Xe>0?Xe:_t(y-1)+Xe}}function Be(y){var S=y._i,P=y._f;return y._locale=y._locale||f.localeData(y._l),S===null||P===l&&S===""?f.invalid({nullInput:!0}):(typeof S=="string"&&(y._i=S=y._locale.preparse(S)),f.isMoment(S)?new xn(S,!0):(P?oi(P)?Si(y):kr(y):Lt(y),new xn(y)))}f=function(y,S,P,ee){var re;return typeof P=="boolean"&&(ee=P,P=l),re={},re._isAMomentObject=!0,re._i=y,re._f=S,re._l=P,re._strict=ee,re._isUTC=!1,re._pf=nt(),Be(re)},f.suppressDeprecationWarnings=!1,f.createFromInputFallback=jt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(y){y._d=new Date(y._i)});function ft(y,S){var P,ee;if(S.length===1&&oi(S[0])&&(S=S[0]),!S.length)return f();for(P=S[0],ee=1;ee<S.length;++ee)S[ee][y](P)&&(P=S[ee]);return P}for(f.min=function(){var y=[].slice.call(arguments,0);return ft("isBefore",y)},f.max=function(){var y=[].slice.call(arguments,0);return ft("isAfter",y)},f.utc=function(y,S,P,ee){var re;return typeof P=="boolean"&&(ee=P,P=l),re={},re._isAMomentObject=!0,re._useUTC=!0,re._isUTC=!0,re._l=P,re._i=y,re._f=S,re._strict=ee,re._pf=nt(),Be(re).utc()},f.unix=function(y){return f(y*1e3)},f.duration=function(y,S){var P=y,ee=null,re,de,Ae,Xe;return f.isDuration(y)?P={ms:y._milliseconds,d:y._days,M:y._months}:typeof y=="number"?(P={},S?P[S]=y:P.milliseconds=y):(ee=V.exec(y))?(re=ee[1]==="-"?-1:1,P={y:0,d:We(ee[q])*re,h:We(ee[F])*re,m:We(ee[j])*re,s:We(ee[W])*re,ms:We(ee[U])*re}):(ee=te.exec(y))?(re=ee[1]==="-"?-1:1,Ae=function(Ke){var Ue=Ke&&parseFloat(Ke.replace(",","."));return(isNaN(Ue)?0:Ue)*re},P={y:Ae(ee[2]),M:Ae(ee[3]),d:Ae(ee[4]),h:Ae(ee[5]),m:Ae(ee[6]),s:Ae(ee[7]),w:Ae(ee[8])}):typeof P=="object"&&("from"in P||"to"in P)&&(Xe=Zt(f(P.from),f(P.to)),P={},P.ms=Xe.milliseconds,P.M=Xe.months),de=new vi(P),f.isDuration(y)&&Le(y,"_locale")&&(de._locale=y._locale),de},f.version=h,f.defaultFormat=ge,f.ISO_8601=function(){},f.momentProperties=D,f.updateOffset=function(){},f.relativeTimeThreshold=function(y,S){return Dt[y]===l?!1:S===l?Dt[y]:(Dt[y]=S,!0)},f.lang=jt("moment.lang is deprecated. Use moment.locale instead.",function(y,S){return f.locale(y,S)}),f.locale=function(y,S){var P;return y&&(typeof S<"u"?P=f.defineLocale(y,S):P=f.localeData(y),P&&(f.duration._locale=f._locale=P)),f._locale._abbr},f.defineLocale=function(y,S){return S!==null?(S.abbr=y,T[y]||(T[y]=new gi),T[y].set(S),f.locale(y),T[y]):(delete T[y],null)},f.langData=jt("moment.langData is deprecated. Use moment.localeData instead.",function(y){return f.localeData(y)}),f.localeData=function(y){var S;if(y&&y._locale&&y._locale._abbr&&(y=y._locale._abbr),!y)return f._locale;if(!oi(y)){if(S=bt(y),S)return S;y=[y]}return Xn(y)},f.isMoment=function(y){return y instanceof xn||y!=null&&Le(y,"_isAMomentObject")},f.isDuration=function(y){return y instanceof vi},x=vt.length-1;x>=0;--x)et(vt[x]);f.normalizeUnits=function(y){return an(y)},f.invalid=function(y){var S=f.utc(NaN);return y!=null?Gn(S._pf,y):S._pf.userInvalidated=!0,S},f.parseZone=function(){return f.apply(null,arguments).parseZone()},f.parseTwoDigitYear=function(y){return We(y)+(We(y)>68?1900:2e3)},Gn(f.fn=xn.prototype,{clone:function(){return f(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var y=f(this).utc();return 0<y.year()&&y.year()<=9999?Cn(y,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Cn(y,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var y=this;return[y.year(),y.month(),y.date(),y.hours(),y.minutes(),y.seconds(),y.milliseconds()]},isValid:function(){return Ht(this)},isDSTShifted:function(){return this._a?this.isValid()&&Dn(this._a,(this._isUTC?f.utc(this._a):f(this._a)).toArray())>0:!1},parsingFlags:function(){return Gn({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(y){return this.zone(0,y)},local:function(y){return this._isUTC&&(this.zone(0,y),this._isUTC=!1,y&&this.add(this._dateTzOffset(),"m")),this},format:function(y){var S=Cn(this,y||f.defaultFormat);return this.localeData().postformat(S)},add:ji(1,"add"),subtract:ji(-1,"subtract"),diff:function(y,S,P){var ee=Hn(y,this),re=(this.zone()-ee.zone())*6e4,de,Ae,Xe;return S=an(S),S==="year"||S==="month"?(de=(this.daysInMonth()+ee.daysInMonth())*432e5,Ae=(this.year()-ee.year())*12+(this.month()-ee.month()),Xe=this-f(this).startOf("month")-(ee-f(ee).startOf("month")),Xe-=(this.zone()-f(this).startOf("month").zone()-(ee.zone()-f(ee).startOf("month").zone()))*6e4,Ae+=Xe/de,S==="year"&&(Ae=Ae/12)):(de=this-ee,Ae=S==="second"?de/1e3:S==="minute"?de/6e4:S==="hour"?de/36e5:S==="day"?(de-re)/864e5:S==="week"?(de-re)/6048e5:de),P?Ae:Yn(Ae)},from:function(y,S){return f.duration({to:this,from:y}).locale(this.locale()).humanize(!S)},fromNow:function(y){return this.from(f(),y)},calendar:function(y){var S=y||f(),P=Hn(S,this).startOf("day"),ee=this.diff(P,"days",!0),re=ee<-6?"sameElse":ee<-1?"lastWeek":ee<0?"lastDay":ee<1?"sameDay":ee<2?"nextDay":ee<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(re,this))},isLeapYear:function(){return sn(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(y){var S=this._isUTC?this._d.getUTCDay():this._d.getDay();return y!=null?(y=Ui(y,this.localeData()),this.add(y-S,"d")):S},month:cn("Month",!0),startOf:function(y){switch(y=an(y),y){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return y==="week"?this.weekday(0):y==="isoWeek"&&this.isoWeekday(1),y==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(y){return y=an(y),this.startOf(y).add(1,y==="isoWeek"?"week":y).subtract(1,"ms")},isAfter:function(y,S){return S=an(typeof S<"u"?S:"millisecond"),S==="millisecond"?(y=f.isMoment(y)?y:f(y),+this>+y):+this.clone().startOf(S)>+f(y).startOf(S)},isBefore:function(y,S){return S=an(typeof S<"u"?S:"millisecond"),S==="millisecond"?(y=f.isMoment(y)?y:f(y),+this<+y):+this.clone().startOf(S)<+f(y).startOf(S)},isSame:function(y,S){return S=an(S||"millisecond"),S==="millisecond"?(y=f.isMoment(y)?y:f(y),+this==+y):+this.clone().startOf(S)==+Hn(y,this).startOf(S)},min:jt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(y){return y=f.apply(null,arguments),y<this?this:y}),max:jt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(y){return y=f.apply(null,arguments),y>this?this:y}),zone:function(y,S){var P=this._offset||0,ee;if(y!=null)typeof y=="string"&&(y=un(y)),Math.abs(y)<16&&(y=y*60),!this._isUTC&&S&&(ee=this._dateTzOffset()),this._offset=y,this._isUTC=!0,ee!=null&&this.subtract(ee,"m"),P!==y&&(!S||this._changeInProgress?Pt(this,f.duration(P-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?P:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(y){return y?y=f(y).zone():y=0,(this.zone()-y)%60===0},daysInMonth:function(){return at(this.year(),this.month())},dayOfYear:function(y){var S=b((f(this).startOf("day")-f(this).startOf("year"))/864e5)+1;return y==null?S:this.add(y-S,"d")},quarter:function(y){return y==null?Math.ceil((this.month()+1)/3):this.month((y-1)*3+this.month()%3)},weekYear:function(y){var S=Ne(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return y==null?S:this.add(y-S,"y")},isoWeekYear:function(y){var S=Ne(this,1,4).year;return y==null?S:this.add(y-S,"y")},week:function(y){var S=this.localeData().week(this);return y==null?S:this.add((y-S)*7,"d")},isoWeek:function(y){var S=Ne(this,1,4).week;return y==null?S:this.add((y-S)*7,"d")},weekday:function(y){var S=(this.day()+7-this.localeData()._week.dow)%7;return y==null?S:this.add(y-S,"d")},isoWeekday:function(y){return y==null?this.day()||7:this.day(this.day()%7?y:y-7)},isoWeeksInYear:function(){return Bt(this.year(),1,4)},weeksInYear:function(){var y=this.localeData()._week;return Bt(this.year(),y.dow,y.doy)},get:function(y){return y=an(y),this[y]()},set:function(y,S){return y=an(y),typeof this[y]=="function"&&this[y](S),this},locale:function(y){var S;return y===l?this._locale._abbr:(S=f.localeData(y),S!=null&&(this._locale=S),this)},lang:jt("moment().lang() is deprecated. Use moment().localeData() instead.",function(y){return y===l?this.localeData():this.locale(y)}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function tn(y,S){var P;return typeof S=="string"&&(S=y.localeData().monthsParse(S),typeof S!="number")||(P=Math.min(y.date(),at(y.year(),S)),y._d["set"+(y._isUTC?"UTC":"")+"Month"](S,P)),y}function Kn(y,S){return y._d["get"+(y._isUTC?"UTC":"")+S]()}function Rt(y,S,P){return S==="Month"?tn(y,P):y._d["set"+(y._isUTC?"UTC":"")+S](P)}function cn(y,S){return function(P){return P!=null?(Rt(this,y,P),f.updateOffset(this,S),this):Kn(this,y)}}f.fn.millisecond=f.fn.milliseconds=cn("Milliseconds",!1),f.fn.second=f.fn.seconds=cn("Seconds",!1),f.fn.minute=f.fn.minutes=cn("Minutes",!1),f.fn.hour=f.fn.hours=cn("Hours",!0),f.fn.date=cn("Date",!0),f.fn.dates=jt("dates accessor is deprecated. Use date instead.",cn("Date",!0)),f.fn.year=cn("FullYear",!0),f.fn.years=jt("years accessor is deprecated. Use year instead.",cn("FullYear",!0)),f.fn.days=f.fn.day,f.fn.months=f.fn.month,f.fn.weeks=f.fn.week,f.fn.isoWeeks=f.fn.isoWeek,f.fn.quarters=f.fn.quarter,f.fn.toJSON=f.fn.toISOString;function co(y){return y*400/146097}function Wt(y){return y*146097/400}Gn(f.duration.fn=vi.prototype,{_bubble:function(){var y=this._milliseconds,S=this._days,P=this._months,ee=this._data,re,de,Ae,Xe=0;ee.milliseconds=y%1e3,re=Yn(y/1e3),ee.seconds=re%60,de=Yn(re/60),ee.minutes=de%60,Ae=Yn(de/60),ee.hours=Ae%24,S+=Yn(Ae/24),Xe=Yn(co(S)),S-=Yn(Wt(Xe)),P+=Yn(S/30),S%=30,Xe+=Yn(P/12),P%=12,ee.days=S,ee.months=P,ee.years=Xe},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return Yn(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+We(this._months/12)*31536e6},humanize:function(y){var S=ve(this,!y,this.localeData());return y&&(S=this.localeData().pastFuture(+this,S)),this.localeData().postformat(S)},add:function(y,S){var P=f.duration(y,S);return this._milliseconds+=P._milliseconds,this._days+=P._days,this._months+=P._months,this._bubble(),this},subtract:function(y,S){var P=f.duration(y,S);return this._milliseconds-=P._milliseconds,this._days-=P._days,this._months-=P._months,this._bubble(),this},get:function(y){return y=an(y),this[y.toLowerCase()+"s"]()},as:function(y){var S,P;if(y=an(y),y==="month"||y==="year")return S=this._days+this._milliseconds/864e5,P=this._months+co(S)*12,y==="month"?P:P/12;switch(S=this._days+Wt(this._months/12),y){case"week":return S/7+this._milliseconds/6048e5;case"day":return S+this._milliseconds/864e5;case"hour":return S*24+this._milliseconds/36e5;case"minute":return S*24*60+this._milliseconds/6e4;case"second":return S*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(S*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+y)}},lang:f.fn.lang,locale:f.fn.locale,toIsoString:jt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var y=Math.abs(this.years()),S=Math.abs(this.months()),P=Math.abs(this.days()),ee=Math.abs(this.hours()),re=Math.abs(this.minutes()),de=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(y?y+"Y":"")+(S?S+"M":"")+(P?P+"D":"")+(ee||re||de?"T":"")+(ee?ee+"H":"")+(re?re+"M":"")+(de?de+"S":""):"P0D"},localeData:function(){return this._locale}}),f.duration.fn.toString=f.duration.fn.toISOString;function be(y){f.duration.fn[y]=function(){return this._data[y]}}for(x in Ge)Le(Ge,x)&&be(x.toLowerCase());return f.duration.fn.asMilliseconds=function(){return this.as("ms")},f.duration.fn.asSeconds=function(){return this.as("s")},f.duration.fn.asMinutes=function(){return this.as("m")},f.duration.fn.asHours=function(){return this.as("h")},f.duration.fn.asDays=function(){return this.as("d")},f.duration.fn.asWeeks=function(){return this.as("weeks")},f.duration.fn.asMonths=function(){return this.as("M")},f.duration.fn.asYears=function(){return this.as("y")},f.locale("en",{ordinal:function(y){var S=y%10,P=We(y%100/10)===1?"th":S===1?"st":S===2?"nd":S===3?"rd":"th";return y+P}}),f}).call(this),e.Utils.moment=u,e.datepicker})})($d)),$d.exports}Cx();/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||t(UIkit2)})})(function(t){return t.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){t.ready(function(e){t.$("[data-uk-pagination]",e).each(function(){var r=t.$(this);r.data("pagination")||t.pagination(r,t.Utils.options(r.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(r){r.preventDefault(),e.selectPage(t.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(e){this.pages=e||this.pages,this._render()},selectPage:function(e,r){this.currentPage=e,this.render(r),this.options.onSelectPage.apply(this,[e]),this.trigger("select.uk.pagination",[e,this])},_render:function(){var e=this.options,r=this._getInterval(),s;if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),r.start>0&&e.edges>0){var u=Math.min(e.edges,r.start);for(s=0;s<u;s++)this._append(s);e.edges<r.start&&r.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):r.start-e.edges==1&&this._append(e.edges)}for(s=r.start;s<r.end;s++)this._append(s);if(r.end<this.pages&&e.edges>0){this.pages-e.edges>r.end&&this.pages-e.edges-r.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-r.end==1&&this._append(r.end++);var l=Math.max(this.pages-e.edges,r.end);for(s=l;s<this.pages;s++)this._append(s)}e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(e,r){var s,u;e=e<0?0:e<this.pages?e:this.pages-1,u=t.$.extend({text:e+1},r),s=e==this.currentPage?'<li class="uk-active"><span>'+u.text+"</span></li>":'<li><a href="#page-'+(e+1)+'" data-page="'+e+'">'+u.text+"</a></li>",this.element.append(s)}}),t.pagination});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-notify",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e={},r={},s=function(f){return t.$.type(f)=="string"&&(f={message:f}),arguments[1]&&(f=t.$.extend(f,t.$.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new l(f).show()},u=function(f,h){var b;if(f)for(b in r)f===r[b].group&&r[b].close(h);else for(b in r)r[b].close(h)},l=function(f){this.options=t.$.extend({},l.defaults,f),this.uuid=t.Utils.uid("notifymsg"),this.element=t.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,r[this.uuid]=this,e[this.options.pos]||(e[this.options.pos]=t.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var h=t.$(this).data("notifyMessage");h.element.trigger("manualclose.uk.notify",[h]),h.close()}))};return t.$.extend(l.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var f=this;e[this.options.pos].show().prepend(this.element);var h=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:h},function(){if(f.options.timeout){var b=function(){f.close()};f.timeout=setTimeout(b,f.options.timeout),f.element.hover(function(){clearTimeout(f.timeout)},function(){f.timeout=setTimeout(b,f.options.timeout)})}}),this}},close:function(f){var h=this,b=function(){h.element.remove(),e[h.options.pos].children().length||e[h.options.pos].hide(),h.options.onClose.apply(h,[]),h.element.trigger("close.uk.notify",[h]),delete r[h.uuid]};this.timeout&&clearTimeout(this.timeout),f?b():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){b()})},content:function(f){var h=this.element.find(">div");return f?(h.html(f),this):h.html()},status:function(f){return f?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+f),this.currentstatus=f,this):this.currentstatus}}),l.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},t.notify=s,t.notify.message=l,t.notify.closeAll=u,s});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(t){var e;window.UIkit2&&(e=t(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-tooltip",["uikit"],function(){return e||t(UIkit2)})})(function(t){var e,r,s;return t.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(u){var l=u.attr("title");return l!==void 0&&u.data("cached-title",l).removeAttr("title"),u.data("cached-title")}},tip:"",boot:function(){t.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(u){var l=t.$(this);l.data("tooltip")||(t.tooltip(l,t.Utils.options(l.attr("data-uk-tooltip"))),l.trigger("mouseenter"))})},init:function(){var u=this;e||(e=t.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(l){u.show()},blur:function(l){u.hide()},mouseenter:function(l){u.show()},mouseleave:function(l){u.hide()}})},show:function(){if(this.tip=typeof this.options.src=="function"?this.options.src(this.element):this.options.src,r&&clearTimeout(r),s&&clearInterval(s),!(typeof this.tip!="string"||!this.tip.length)){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var u=this,l=t.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),f=e[0].offsetWidth,h=e[0].offsetHeight,b=typeof this.options.offset=="function"?this.options.offset.call(this.element):this.options.offset,w=typeof this.options.pos=="function"?this.options.pos.call(this.element):this.options.pos,x=w.split("-"),E={display:"none",visibility:"visible",top:l.top+l.height+h,left:l.left};if(t.$html.css("position")=="fixed"||t.$body.css("position")=="fixed"){var N=t.$("body").offset(),q=t.$("html").offset(),F={top:q.top+N.top,left:q.left+N.left};l.left-=F.left,l.top-=F.top}(x[0]=="left"||x[0]=="right")&&t.langdirection=="right"&&(x[0]=x[0]=="left"?"right":"left");var j={bottom:{top:l.top+l.height+b,left:l.left+l.width/2-f/2},top:{top:l.top-h-b,left:l.left+l.width/2-f/2},left:{top:l.top+l.height/2-h/2,left:l.left-f-b},right:{top:l.top+l.height/2-h/2,left:l.left+l.width+b}};t.$.extend(E,j[x[0]]),x.length==2&&(E.left=x[1]=="left"?l.left:l.left+l.width-f);var W=this.checkBoundary(E.left,E.top,f,h);if(W){switch(W){case"x":x.length==2?w=x[0]+"-"+(E.left<0?"left":"right"):w=E.left<0?"right":"left";break;case"y":x.length==2?w=(E.top<0?"bottom":"top")+"-"+x[1]:w=E.top<0?"bottom":"top";break;case"xy":x.length==2?w=(E.top<0?"bottom":"top")+"-"+(E.left<0?"left":"right"):w=E.left<0?"right":"left";break}x=w.split("-"),t.$.extend(E,j[x[0]]),x.length==2&&(E.left=x[1]=="left"?l.left:l.left+l.width-f)}E.left-=t.$body.position().left,r=setTimeout(function(){e.css(E).attr("class",["uk-tooltip","uk-tooltip-"+w,u.options.cls].join(" ")),u.options.animation?e.css({opacity:0,display:"block"}).addClass(u.options.activeClass).animate({opacity:1},parseInt(u.options.animation,10)||400):e.show().addClass(u.options.activeClass),r=!1,s=setInterval(function(){u.element.is(":visible")||u.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!(this.element.is("input")&&this.element[0]===document.activeElement))if(r&&clearTimeout(r),s&&clearInterval(s),e.stop(),this.options.animation){var u=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(u.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(u,l,f,h){var b="";return(u<0||u-t.$win.scrollLeft()+f>window.innerWidth)&&(b+="x"),(l<0||l-t.$win.scrollTop()+h>window.innerHeight)&&(b+="y"),b}}),t.tooltip});var kh={exports:{}},Ex=kh.exports,Rm;function ls(){return Rm||(Rm=1,(function(t,e){(function(r,s){t.exports=s()})(Ex,(function(){var r=navigator.userAgent,s=navigator.platform,u=/gecko\/\d/i.test(r),l=/MSIE \d/.test(r),f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),h=/Edge\/(\d+)/.exec(r),b=l||f||h,w=b&&(l?document.documentMode||6:+(h||f)[1]),x=!h&&/WebKit\//.test(r),E=x&&/Qt\/\d+\.\d+/.test(r),N=!h&&/Chrome\/(\d+)/.exec(r),q=N&&+N[1],F=/Opera\//.test(r),j=/Apple Computer/.test(navigator.vendor),W=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),U=/PhantomJS/.test(r),T=j&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),D=/Android/.test(r),B=T||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),I=T||/Mac/.test(s),V=/\bCrOS\b/.test(r),te=/win/i.test(s),oe=F&&r.match(/Version\/(\d*\.\d*)/);oe&&(oe=Number(oe[1])),oe&&oe>=15&&(F=!1,x=!0);var ce=I&&(E||F&&(oe==null||oe<12.11)),fe=u||b&&w>=9;function ue(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var Te=function(n,a){var p=n.className,d=ue(a).exec(p);if(d){var v=p.slice(d.index+d[0].length);n.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function pe(n){for(var a=n.childNodes.length;a>0;--a)n.removeChild(n.firstChild);return n}function ie(n,a){return pe(n).appendChild(a)}function O(n,a,p,d){var v=document.createElement(n);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof a=="string")v.appendChild(document.createTextNode(a));else if(a)for(var C=0;C<a.length;++C)v.appendChild(a[C]);return v}function ae(n,a,p,d){var v=O(n,a,p,d);return v.setAttribute("role","presentation"),v}var me;document.createRange?me=function(n,a,p,d){var v=document.createRange();return v.setEnd(d||n,p),v.setStart(n,a),v}:me=function(n,a,p){var d=document.body.createTextRange();try{d.moveToElementText(n.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",a),d};function _e(n,a){if(a.nodeType==3&&(a=a.parentNode),n.contains)return n.contains(a);do if(a.nodeType==11&&(a=a.host),a==n)return!0;while(a=a.parentNode)}function Ve(n){var a=n.ownerDocument||n,p;try{p=n.activeElement}catch{p=a.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function Fe(n,a){var p=n.className;ue(a).test(p)||(n.className+=(p?" ":"")+a)}function Ee(n,a){for(var p=n.split(" "),d=0;d<p.length;d++)p[d]&&!ue(p[d]).test(a)&&(a+=" "+p[d]);return a}var J=function(n){n.select()};T?J=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:b&&(J=function(n){try{n.select()}catch{}});function Y(n){return n.display.wrapper.ownerDocument}function Ce(n){return Me(n.display.wrapper)}function Me(n){return n.getRootNode?n.getRootNode():n.ownerDocument}function G(n){return Y(n).defaultView}function ge(n){var a=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,a)}}function we(n,a,p){a||(a={});for(var d in n)n.hasOwnProperty(d)&&(p!==!1||!a.hasOwnProperty(d))&&(a[d]=n[d]);return a}function Ie(n,a,p,d,v){a==null&&(a=n.search(/[^\s\u00a0]/),a==-1&&(a=n.length));for(var C=d||0,M=v||0;;){var z=n.indexOf("	",C);if(z<0||z>=a)return M+(a-C);M+=z-C,M+=p-M%p,C=z+1}}var Ye=function(){this.id=null,this.f=null,this.time=0,this.handler=ge(this.onTimeout,this)};Ye.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Ye.prototype.set=function(n,a){this.f=a;var p=+new Date+n;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=p)};function Ge(n,a){for(var p=0;p<n.length;++p)if(n[p]==a)return p;return-1}var st=50,wt={toString:function(){return"CodeMirror.Pass"}},kt={scroll:!1},Dt={origin:"*mouse"},mt={origin:"+move"};function Mt(n,a,p){for(var d=0,v=0;;){var C=n.indexOf("	",d);C==-1&&(C=n.length);var M=C-d;if(C==n.length||v+M>=a)return d+Math.min(M,a-v);if(v+=C-d,v+=p-v%p,d=C+1,v>=a)return d}}var Ut=[""];function hn(n){for(;Ut.length<=n;)Ut.push(vt(Ut)+" ");return Ut[n]}function vt(n){return n[n.length-1]}function Ot(n,a){for(var p=[],d=0;d<n.length;d++)p[d]=a(n[d],d);return p}function Le(n,a,p){for(var d=0,v=p(a);d<n.length&&p(n[d])<=v;)d++;n.splice(d,0,a)}function nt(){}function qe(n,a){var p;return Object.create?p=Object.create(n):(nt.prototype=n,p=new nt),a&&we(a,p),p}var jt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ii(n){return/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||jt.test(n))}function li(n,a){return a?a.source.indexOf("\\w")>-1&&ii(n)?!0:a.test(n):ii(n)}function qi(n){for(var a in n)if(n.hasOwnProperty(a)&&n[a])return!1;return!0}var gi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function xn(n){return n.charCodeAt(0)>=768&&gi.test(n)}function vi(n,a,p){for(;(p<0?a>0:a<n.length)&&xn(n.charAt(a));)a+=p;return a}function Gn(n,a,p){for(var d=a>p?-1:1;;){if(a==p)return a;var v=(a+p)/2,C=d<0?Math.ceil(v):Math.floor(v);if(C==a)return n(C)?a:p;n(C)?p=C:a=C+d}}function Mi(n,a,p,d){if(!n)return d(a,p,"ltr",0);for(var v=!1,C=0;C<n.length;++C){var M=n[C];(M.from<p&&M.to>a||a==p&&M.to==a)&&(d(Math.max(M.from,a),Math.min(M.to,p),M.level==1?"rtl":"ltr",C),v=!0)}v||d(a,p,"ltr")}var Yn=null;function Tt(n,a,p){var d;Yn=null;for(var v=0;v<n.length;++v){var C=n[v];if(C.from<a&&C.to>a)return v;C.to==a&&(C.from!=C.to&&p=="before"?d=v:Yn=v),C.from==a&&(C.from!=C.to&&p!="before"?d=v:Yn=v)}return d??Yn}var Rr=(function(){var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(X){return X<=247?n.charAt(X):1424<=X&&X<=1524?"R":1536<=X&&X<=1785?a.charAt(X-1536):1774<=X&&X<=2220?"r":8192<=X&&X<=8203?"w":X==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,C=/[LRr]/,M=/[Lb1n]/,z=/[1n]/;function Z(X,he,ye){this.level=X,this.from=he,this.to=ye}return function(X,he){var ye=he=="ltr"?"L":"R";if(X.length==0||he=="ltr"&&!d.test(X))return!1;for(var Pe=X.length,De=[],je=0;je<Pe;++je)De.push(p(X.charCodeAt(je)));for(var tt=0,ct=ye;tt<Pe;++tt){var pt=De[tt];pt=="m"?De[tt]=ct:ct=pt}for(var gt=0,dt=ye;gt<Pe;++gt){var Ct=De[gt];Ct=="1"&&dt=="r"?De[gt]="n":C.test(Ct)&&(dt=Ct,Ct=="r"&&(De[gt]="R"))}for(var It=1,Nt=De[0];It<Pe-1;++It){var fn=De[It];fn=="+"&&Nt=="1"&&De[It+1]=="1"?De[It]="1":fn==","&&Nt==De[It+1]&&(Nt=="1"||Nt=="n")&&(De[It]=Nt),Nt=fn}for(var Qn=0;Qn<Pe;++Qn){var Li=De[Qn];if(Li==",")De[Qn]="N";else if(Li=="%"){var hi=void 0;for(hi=Qn+1;hi<Pe&&De[hi]=="%";++hi);for(var ki=Qn&&De[Qn-1]=="!"||hi<Pe&&De[hi]=="1"?"1":"N",Ni=Qn;Ni<hi;++Ni)De[Ni]=ki;Qn=hi-1}}for(var zi=0,Lr=ye;zi<Pe;++zi){var pr=De[zi];Lr=="L"&&pr=="1"?De[zi]="L":C.test(pr)&&(Lr=pr)}for(var Xi=0;Xi<Pe;++Xi)if(v.test(De[Xi])){var Ii=void 0;for(Ii=Xi+1;Ii<Pe&&v.test(De[Ii]);++Ii);for(var Ci=(Xi?De[Xi-1]:ye)=="L",Wr=(Ii<Pe?De[Ii]:ye)=="L",yu=Ci==Wr?Ci?"L":"R":ye,ts=Xi;ts<Ii;++ts)De[ts]=yu;Xi=Ii-1}for(var xr=[],ua,ar=0;ar<Pe;)if(M.test(De[ar])){var zc=ar;for(++ar;ar<Pe&&M.test(De[ar]);++ar);xr.push(new Z(0,zc,ar))}else{var la=ar,ns=xr.length,is=he=="rtl"?1:0;for(++ar;ar<Pe&&De[ar]!="L";++ar);for(var Mr=la;Mr<ar;)if(z.test(De[Mr])){la<Mr&&(xr.splice(ns,0,new Z(1,la,Mr)),ns+=is);var _u=Mr;for(++Mr;Mr<ar&&z.test(De[Mr]);++Mr);xr.splice(ns,0,new Z(2,_u,Mr)),ns+=is,la=Mr}else++Mr;la<ar&&xr.splice(ns,0,new Z(1,la,ar))}return he=="ltr"&&(xr[0].level==1&&(ua=X.match(/^\s+/))&&(xr[0].from=ua[0].length,xr.unshift(new Z(0,0,ua[0].length))),vt(xr).level==1&&(ua=X.match(/\s+$/))&&(vt(xr).to-=ua[0].length,xr.push(new Z(0,Pe-ua[0].length,Pe)))),he=="rtl"?xr.reverse():xr}})();function Zt(n,a){var p=n.order;return p==null&&(p=n.order=Rr(n.text,a)),p}var ji=[],Pt=function(n,a,p){if(n.addEventListener)n.addEventListener(a,p,!1);else if(n.attachEvent)n.attachEvent("on"+a,p);else{var d=n._handlers||(n._handlers={});d[a]=(d[a]||ji).concat(p)}};function oi(n,a){return n._handlers&&n._handlers[a]||ji}function vn(n,a,p){if(n.removeEventListener)n.removeEventListener(a,p,!1);else if(n.detachEvent)n.detachEvent("on"+a,p);else{var d=n._handlers,v=d&&d[a];if(v){var C=Ge(v,p);C>-1&&(d[a]=v.slice(0,C).concat(v.slice(C+1)))}}}function Dn(n,a){var p=oi(n,a);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function an(n,a,p){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),Dn(n,p||a.type,n,a),_t(a)||a.codemirrorIgnore}function ln(n){var a=n._handlers&&n._handlers.cursorActivity;if(a)for(var p=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),d=0;d<a.length;++d)Ge(p,a[d])==-1&&p.push(a[d])}function et(n,a){return oi(n,a).length>0}function We(n){n.prototype.on=function(a,p){Pt(this,a,p)},n.prototype.off=function(a,p){vn(this,a,p)}}function at(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function Bt(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function _t(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==!1}function sn(n){at(n),Bt(n)}function At(n){return n.target||n.srcElement}function Ht(n){var a=n.which;return a==null&&(n.button&1?a=1:n.button&2?a=3:n.button&4&&(a=2)),I&&n.ctrlKey&&a==1&&(a=3),a}var Tn=(function(){if(b&&w<9)return!1;var n=O("div");return"draggable"in n||"dragDrop"in n})(),Xn;function bt(n){if(Xn==null){var a=O("span","");ie(n,O("span",[a,document.createTextNode("x")])),n.firstChild.offsetHeight!=0&&(Xn=a.offsetWidth<=1&&a.offsetHeight>2&&!(b&&w<8))}var p=Xn?O("span",""):O("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var Hn;function Yt(n){if(Hn!=null)return Hn;var a=ie(n,document.createTextNode("AA")),p=me(a,0,1).getBoundingClientRect(),d=me(a,1,2).getBoundingClientRect();return pe(n),!p||p.left==p.right?!1:Hn=d.right-p.right<3}var dn=`

b`.split(/\n/).length!=3?function(n){for(var a=0,p=[],d=n.length;a<=d;){var v=n.indexOf(`
`,a);v==-1&&(v=n.length);var C=n.slice(a,n.charAt(v-1)=="\r"?v-1:v),M=C.indexOf("\r");M!=-1?(p.push(C.slice(0,M)),a+=M+1):(p.push(C),a=v+1)}return p}:function(n){return n.split(/\r\n?|\n/)},Cn=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var a;try{a=n.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=n?!1:a.compareEndPoints("StartToEnd",a)!=0},Jn=(function(){var n=O("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")})(),Pn=null;function un(n){if(Pn!=null)return Pn;var a=ie(n,O("span","x")),p=a.getBoundingClientRect(),d=me(a,0,1).getBoundingClientRect();return Pn=Math.abs(p.left-d.left)>1}var Ei={},Yi={};function Oi(n,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),Ei[n]=a}function Qr(n,a){Yi[n]=a}function Jr(n){if(typeof n=="string"&&Yi.hasOwnProperty(n))n=Yi[n];else if(n&&typeof n.name=="string"&&Yi.hasOwnProperty(n.name)){var a=Yi[n.name];typeof a=="string"&&(a={name:a}),n=qe(a,n),n.name=a.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return Jr("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return Jr("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function kr(n,a){a=Jr(a);var p=Ei[a.name];if(!p)return kr(n,"text/plain");var d=p(n,a);if(Pi.hasOwnProperty(a.name)){var v=Pi[a.name];for(var C in v)v.hasOwnProperty(C)&&(d.hasOwnProperty(C)&&(d["_"+C]=d[C]),d[C]=v[C])}if(d.name=a.name,a.helperType&&(d.helperType=a.helperType),a.modeProps)for(var M in a.modeProps)d[M]=a.modeProps[M];return d}var Pi={};function Nr(n,a){var p=Pi.hasOwnProperty(n)?Pi[n]:Pi[n]={};we(a,p)}function Si(n,a){if(a===!0)return a;if(n.copyState)return n.copyState(a);var p={};for(var d in a){var v=a[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function lo(n,a){for(var p;n.innerMode&&(p=n.innerMode(a),!(!p||p.mode==n));)a=p.state,n=p.mode;return p||{mode:n,state:a}}function er(n,a,p){return n.startState?n.startState(a,p):!0}var Vn=function(n,a,p){this.pos=this.start=0,this.string=n,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Vn.prototype.eol=function(){return this.pos>=this.string.length},Vn.prototype.sol=function(){return this.pos==this.lineStart},Vn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vn.prototype.eat=function(n){var a=this.string.charAt(this.pos),p;if(typeof n=="string"?p=a==n:p=a&&(n.test?n.test(a):n(a)),p)return++this.pos,a},Vn.prototype.eatWhile=function(n){for(var a=this.pos;this.eat(n););return this.pos>a},Vn.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},Vn.prototype.skipToEnd=function(){this.pos=this.string.length},Vn.prototype.skipTo=function(n){var a=this.string.indexOf(n,this.pos);if(a>-1)return this.pos=a,!0},Vn.prototype.backUp=function(n){this.pos-=n},Vn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ie(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ie(this.string,this.lineStart,this.tabSize):0)},Vn.prototype.indentation=function(){return Ie(this.string,null,this.tabSize)-(this.lineStart?Ie(this.string,this.lineStart,this.tabSize):0)},Vn.prototype.match=function(n,a,p){if(typeof n=="string"){var d=function(M){return p?M.toLowerCase():M},v=this.string.substr(this.pos,n.length);if(d(v)==d(n))return a!==!1&&(this.pos+=n.length),!0}else{var C=this.string.slice(this.pos).match(n);return C&&C.index>0?null:(C&&a!==!1&&(this.pos+=C[0].length),C)}},Vn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vn.prototype.hideFirstChars=function(n,a){this.lineStart+=n;try{return a()}finally{this.lineStart-=n}},Vn.prototype.lookAhead=function(n){var a=this.lineOracle;return a&&a.lookAhead(n)},Vn.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};function Lt(n,a){if(a-=n.first,a<0||a>=n.size)throw new Error("There is no line "+(a+n.first)+" in the document.");for(var p=n;!p.lines;)for(var d=0;;++d){var v=p.children[d],C=v.chunkSize();if(a<C){p=v;break}a-=C}return p.lines[a]}function tr(n,a,p){var d=[],v=a.line;return n.iter(a.line,p.line+1,function(C){var M=C.text;v==p.line&&(M=M.slice(0,p.ch)),v==a.line&&(M=M.slice(a.ch)),d.push(M),++v}),d}function lr(n,a,p){var d=[];return n.iter(a,p,function(v){d.push(v.text)}),d}function Ui(n,a){var p=a-n.height;if(p)for(var d=n;d;d=d.parent)d.height+=p}function K(n){if(n.parent==null)return null;for(var a=n.parent,p=Ge(a.lines,n),d=a.parent;d;a=d,d=d.parent)for(var v=0;d.children[v]!=a;++v)p+=d.children[v].chunkSize();return p+a.first}function ve(n,a){var p=n.first;e:do{for(var d=0;d<n.children.length;++d){var v=n.children[d],C=v.height;if(a<C){n=v;continue e}a-=C,p+=v.chunkSize()}return p}while(!n.lines);for(var M=0;M<n.lines.length;++M){var z=n.lines[M],Z=z.height;if(a<Z)break;a-=Z}return p+M}function Ne(n,a){return a>=n.first&&a<n.first+n.size}function Je(n,a){return String(n.lineNumberFormatter(a+n.firstLineNumber))}function Be(n,a,p){if(p===void 0&&(p=null),!(this instanceof Be))return new Be(n,a,p);this.line=n,this.ch=a,this.sticky=p}function ft(n,a){return n.line-a.line||n.ch-a.ch}function tn(n,a){return n.sticky==a.sticky&&ft(n,a)==0}function Kn(n){return Be(n.line,n.ch)}function Rt(n,a){return ft(n,a)<0?a:n}function cn(n,a){return ft(n,a)<0?n:a}function co(n,a){return Math.max(n.first,Math.min(a,n.first+n.size-1))}function Wt(n,a){if(a.line<n.first)return Be(n.first,0);var p=n.first+n.size-1;return a.line>p?Be(p,Lt(n,p).text.length):be(a,Lt(n,a.line).text.length)}function be(n,a){var p=n.ch;return p==null||p>a?Be(n.line,a):p<0?Be(n.line,0):n}function y(n,a){for(var p=[],d=0;d<a.length;d++)p[d]=Wt(n,a[d]);return p}var S=function(n,a){this.state=n,this.lookAhead=a},P=function(n,a,p,d){this.state=a,this.doc=n,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};P.prototype.lookAhead=function(n){var a=this.doc.getLine(this.line+n);return a!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),a},P.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},P.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},P.fromSaved=function(n,a,p){return a instanceof S?new P(n,Si(n.mode,a.state),p,a.lookAhead):new P(n,Si(n.mode,a),p)},P.prototype.save=function(n){var a=n!==!1?Si(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new S(a,this.maxLookAhead):a};function ee(n,a,p,d){var v=[n.state.modeGen],C={};pn(n,a.text,n.doc.mode,p,function(X,he){return v.push(X,he)},C,d);for(var M=p.state,z=function(X){p.baseTokens=v;var he=n.state.overlays[X],ye=1,Pe=0;p.state=!0,pn(n,a.text,he.mode,p,function(De,je){for(var tt=ye;Pe<De;){var ct=v[ye];ct>De&&v.splice(ye,1,De,v[ye+1],ct),ye+=2,Pe=Math.min(De,ct)}if(je)if(he.opaque)v.splice(tt,ye-tt,De,"overlay "+je),ye=tt+2;else for(;tt<ye;tt+=2){var pt=v[tt+1];v[tt+1]=(pt?pt+" ":"")+"overlay "+je}},C),p.state=M,p.baseTokens=null,p.baseTokenPos=1},Z=0;Z<n.state.overlays.length;++Z)z(Z);return{styles:v,classes:C.bgClass||C.textClass?C:null}}function re(n,a,p){if(!a.styles||a.styles[0]!=n.state.modeGen){var d=de(n,K(a)),v=a.text.length>n.options.maxHighlightLength&&Si(n.doc.mode,d.state),C=ee(n,a,d);v&&(d.state=v),a.stateAfter=d.save(!v),a.styles=C.styles,C.classes?a.styleClasses=C.classes:a.styleClasses&&(a.styleClasses=null),p===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return a.styles}function de(n,a,p){var d=n.doc,v=n.display;if(!d.mode.startState)return new P(d,!0,a);var C=mn(n,a,p),M=C>d.first&&Lt(d,C-1).stateAfter,z=M?P.fromSaved(d,M,C):new P(d,er(d.mode),C);return d.iter(C,a,function(Z){Ae(n,Z.text,z);var X=z.line;Z.stateAfter=X==a-1||X%5==0||X>=v.viewFrom&&X<v.viewTo?z.save():null,z.nextLine()}),p&&(d.modeFrontier=z.line),z}function Ae(n,a,p,d){var v=n.doc.mode,C=new Vn(a,n.options.tabSize,p);for(C.start=C.pos=d||0,a==""&&Xe(v,p.state);!C.eol();)Ke(v,C,p.state),C.start=C.pos}function Xe(n,a){if(n.blankLine)return n.blankLine(a);if(n.innerMode){var p=lo(n,a);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Ke(n,a,p,d){for(var v=0;v<10;v++){d&&(d[0]=lo(n,p).mode);var C=n.token(a,p);if(a.pos>a.start)return C}throw new Error("Mode "+n.name+" failed to advance stream.")}var Ue=function(n,a,p){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=a||null,this.state=p};function Ze(n,a,p,d){var v=n.doc,C=v.mode,M;a=Wt(v,a);var z=Lt(v,a.line),Z=de(n,a.line,p),X=new Vn(z.text,n.options.tabSize,Z),he;for(d&&(he=[]);(d||X.pos<a.ch)&&!X.eol();)X.start=X.pos,M=Ke(C,X,Z.state),d&&he.push(new Ue(X,M,Si(v.mode,Z.state)));return d?he:new Ue(X,M,Z.state)}function ut(n,a){if(n)for(;;){var p=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;n=n.slice(0,p.index)+n.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";a[d]==null?a[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(a[d])||(a[d]+=" "+p[2])}return n}function pn(n,a,p,d,v,C,M){var z=p.flattenSpans;z==null&&(z=n.options.flattenSpans);var Z=0,X=null,he=new Vn(a,n.options.tabSize,d),ye,Pe=n.options.addModeClass&&[null];for(a==""&&ut(Xe(p,d.state),C);!he.eol();){if(he.pos>n.options.maxHighlightLength?(z=!1,M&&Ae(n,a,d,he.pos),he.pos=a.length,ye=null):ye=ut(Ke(p,he,d.state,Pe),C),Pe){var De=Pe[0].name;De&&(ye="m-"+(ye?De+" "+ye:De))}if(!z||X!=ye){for(;Z<he.start;)Z=Math.min(he.start,Z+5e3),v(Z,X);X=ye}he.start=he.pos}for(;Z<he.pos;){var je=Math.min(he.pos,Z+5e3);v(je,X),Z=je}}function mn(n,a,p){for(var d,v,C=n.doc,M=p?-1:a-(n.doc.mode.innerMode?1e3:100),z=a;z>M;--z){if(z<=C.first)return C.first;var Z=Lt(C,z-1),X=Z.stateAfter;if(X&&(!p||z+(X instanceof S?X.lookAhead:0)<=C.modeFrontier))return z;var he=Ie(Z.text,null,n.options.tabSize);(v==null||d>he)&&(v=z-1,d=he)}return v}function Un(n,a){if(n.modeFrontier=Math.min(n.modeFrontier,a),!(n.highlightFrontier<a-10)){for(var p=n.first,d=a-1;d>p;d--){var v=Lt(n,d).stateAfter;if(v&&(!(v instanceof S)||d+v.lookAhead<a)){p=d+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,p)}}var Ln=!1,In=!1;function bi(){Ln=!0}function Ft(){In=!0}function ci(n,a,p){this.marker=n,this.from=a,this.to=p}function nn(n,a){if(n)for(var p=0;p<n.length;++p){var d=n[p];if(d.marker==a)return d}}function ht(n,a){for(var p,d=0;d<n.length;++d)n[d]!=a&&(p||(p=[])).push(n[d]);return p}function En(n,a,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&n.markedSpans&&d.has(n.markedSpans)?n.markedSpans.push(a):(n.markedSpans=n.markedSpans?n.markedSpans.concat([a]):[a],d&&d.add(n.markedSpans)),a.marker.attachLine(n)}function fi(n,a,p){var d;if(n)for(var v=0;v<n.length;++v){var C=n[v],M=C.marker,z=C.from==null||(M.inclusiveLeft?C.from<=a:C.from<a);if(z||C.from==a&&M.type=="bookmark"&&(!p||!C.marker.insertLeft)){var Z=C.to==null||(M.inclusiveRight?C.to>=a:C.to>a);(d||(d=[])).push(new ci(M,C.from,Z?null:C.to))}}return d}function cr(n,a,p){var d;if(n)for(var v=0;v<n.length;++v){var C=n[v],M=C.marker,z=C.to==null||(M.inclusiveRight?C.to>=a:C.to>a);if(z||C.from==a&&M.type=="bookmark"&&(!p||C.marker.insertLeft)){var Z=C.from==null||(M.inclusiveLeft?C.from<=a:C.from<a);(d||(d=[])).push(new ci(M,Z?null:C.from-a,C.to==null?null:C.to-a))}}return d}function Fi(n,a){if(a.full)return null;var p=Ne(n,a.from.line)&&Lt(n,a.from.line).markedSpans,d=Ne(n,a.to.line)&&Lt(n,a.to.line).markedSpans;if(!p&&!d)return null;var v=a.from.ch,C=a.to.ch,M=ft(a.from,a.to)==0,z=fi(p,v,M),Z=cr(d,C,M),X=a.text.length==1,he=vt(a.text).length+(X?v:0);if(z)for(var ye=0;ye<z.length;++ye){var Pe=z[ye];if(Pe.to==null){var De=nn(Z,Pe.marker);De?X&&(Pe.to=De.to==null?null:De.to+he):Pe.to=v}}if(Z)for(var je=0;je<Z.length;++je){var tt=Z[je];if(tt.to!=null&&(tt.to+=he),tt.from==null){var ct=nn(z,tt.marker);ct||(tt.from=he,X&&(z||(z=[])).push(tt))}else tt.from+=he,X&&(z||(z=[])).push(tt)}z&&(z=jr(z)),Z&&Z!=z&&(Z=jr(Z));var pt=[z];if(!X){var gt=a.text.length-2,dt;if(gt>0&&z)for(var Ct=0;Ct<z.length;++Ct)z[Ct].to==null&&(dt||(dt=[])).push(new ci(z[Ct].marker,null,null));for(var It=0;It<gt;++It)pt.push(dt);pt.push(Z)}return pt}function jr(n){for(var a=0;a<n.length;++a){var p=n[a];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&n.splice(a--,1)}return n.length?n:null}function zr(n,a,p){var d=null;if(n.iter(a.line,p.line+1,function(De){if(De.markedSpans)for(var je=0;je<De.markedSpans.length;++je){var tt=De.markedSpans[je].marker;tt.readOnly&&(!d||Ge(d,tt)==-1)&&(d||(d=[])).push(tt)}}),!d)return null;for(var v=[{from:a,to:p}],C=0;C<d.length;++C)for(var M=d[C],z=M.find(0),Z=0;Z<v.length;++Z){var X=v[Z];if(!(ft(X.to,z.from)<0||ft(X.from,z.to)>0)){var he=[Z,1],ye=ft(X.from,z.from),Pe=ft(X.to,z.to);(ye<0||!M.inclusiveLeft&&!ye)&&he.push({from:X.from,to:z.from}),(Pe>0||!M.inclusiveRight&&!Pe)&&he.push({from:z.to,to:X.to}),v.splice.apply(v,he),Z+=he.length-3}}return v}function Xt(n){var a=n.markedSpans;if(a){for(var p=0;p<a.length;++p)a[p].marker.detachLine(n);n.markedSpans=null}}function rn(n,a){if(a){for(var p=0;p<a.length;++p)a[p].marker.attachLine(n);n.markedSpans=a}}function Ti(n){return n.inclusiveLeft?-1:0}function Ir(n){return n.inclusiveRight?1:0}function jo(n,a){var p=n.lines.length-a.lines.length;if(p!=0)return p;var d=n.find(),v=a.find(),C=ft(d.from,v.from)||Ti(n)-Ti(a);if(C)return-C;var M=ft(d.to,v.to)||Ir(n)-Ir(a);return M||a.id-n.id}function ma(n,a){var p=In&&n.markedSpans,d;if(p)for(var v=void 0,C=0;C<p.length;++C)v=p[C],v.marker.collapsed&&(a?v.from:v.to)==null&&(!d||jo(d,v.marker)<0)&&(d=v.marker);return d}function Yo(n){return ma(n,!0)}function ga(n){return ma(n,!1)}function Na(n,a){var p=In&&n.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var C=p[v];C.marker.collapsed&&(C.from==null||C.from<a)&&(C.to==null||C.to>a)&&(!d||jo(d,C.marker)<0)&&(d=C.marker)}return d}function yn(n,a,p,d,v){var C=Lt(n,a),M=In&&C.markedSpans;if(M)for(var z=0;z<M.length;++z){var Z=M[z];if(Z.marker.collapsed){var X=Z.marker.find(0),he=ft(X.from,p)||Ti(Z.marker)-Ti(v),ye=ft(X.to,d)||Ir(Z.marker)-Ir(v);if(!(he>=0&&ye<=0||he<=0&&ye>=0)&&(he<=0&&(Z.marker.inclusiveRight&&v.inclusiveLeft?ft(X.to,p)>=0:ft(X.to,p)>0)||he>=0&&(Z.marker.inclusiveRight&&v.inclusiveLeft?ft(X.from,d)<=0:ft(X.from,d)<0)))return!0}}}function Wn(n){for(var a;a=Yo(n);)n=a.find(-1,!0).line;return n}function br(n){for(var a;a=ga(n);)n=a.find(1,!0).line;return n}function Br(n){for(var a,p;a=ga(n);)n=a.find(1,!0).line,(p||(p=[])).push(n);return p}function ds(n,a){var p=Lt(n,a),d=Wn(p);return p==d?a:K(d)}function Bs(n,a){if(a>n.lastLine())return a;var p=Lt(n,a),d;if(!yi(n,p))return a;for(;d=ga(p);)p=d.find(1,!0).line;return K(p)+1}function yi(n,a){var p=In&&a.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&$s(n,a,d))return!0}}}function $s(n,a,p){if(p.to==null){var d=p.marker.find(1,!0);return $s(n,d.line,nn(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==a.text.length)return!0;for(var v=void 0,C=0;C<a.markedSpans.length;++C)if(v=a.markedSpans[C],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&$s(n,a,v))return!0}function eo(n){n=Wn(n);for(var a=0,p=n.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==n)break;a+=v.height}for(var C=p.parent;C;p=C,C=p.parent)for(var M=0;M<C.children.length;++M){var z=C.children[M];if(z==p)break;a+=z.height}return a}function ps(n){if(n.height==0)return 0;for(var a=n.text.length,p,d=n;p=Yo(d);){var v=p.find(0,!0);d=v.from.line,a+=v.from.ch-v.to.ch}for(d=n;p=ga(d);){var C=p.find(0,!0);a-=d.text.length-C.from.ch,d=C.to.line,a+=d.text.length-C.to.ch}return a}function Hs(n){var a=n.display,p=n.doc;a.maxLine=Lt(p,p.first),a.maxLineLength=ps(a.maxLine),a.maxLineChanged=!0,p.iter(function(d){var v=ps(d);v>a.maxLineLength&&(a.maxLineLength=v,a.maxLine=d)})}var Co=function(n,a,p){this.text=n,rn(this,a),this.height=p?p(this):1};Co.prototype.lineNo=function(){return K(this)},We(Co);function dl(n,a,p,d){n.text=a,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),n.order!=null&&(n.order=null),Xt(n),rn(n,p);var v=d?d(n):1;v!=n.height&&Ui(n,v)}function di(n){n.parent=null,Xt(n)}var lc={},$r={};function Eo(n,a){if(!n||/^\s*$/.test(n))return null;var p=a.addModeClass?$r:lc;return p[n]||(p[n]=n.replace(/\S+/g,"cm-$&"))}function Ws(n,a){var p=ae("span",null,null,x?"padding-right: .1px":null),d={pre:ae("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};a.measure={};for(var v=0;v<=(a.rest?a.rest.length:0);v++){var C=v?a.rest[v-1]:a.line,M=void 0;d.pos=0,d.addToken=za,Yt(n.display.measure)&&(M=Zt(C,n.doc.direction))&&(d.addToken=ri(d.addToken,M)),d.map=[];var z=a!=n.display.externalMeasured&&K(C);Fu(C,d,re(n,C,z)),C.styleClasses&&(C.styleClasses.bgClass&&(d.bgClass=Ee(C.styleClasses.bgClass,d.bgClass||"")),C.styleClasses.textClass&&(d.textClass=Ee(C.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(bt(n.display.measure))),v==0?(a.measure.map=d.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(d.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(x){var Z=d.content.lastChild;(/\bcm-tab\b/.test(Z.className)||Z.querySelector&&Z.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Dn(n,"renderLine",n,a.line,d.pre),d.pre.className&&(d.textClass=Ee(d.pre.className,d.textClass||"")),d}function So(n){var a=O("span","","cm-invalidchar");return a.title="\\u"+n.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function za(n,a,p,d,v,C,M){if(a){var z=n.splitSpaces?Pu(a,n.trailingSpace):a,Z=n.cm.state.specialChars,X=!1,he;if(!Z.test(a))n.col+=a.length,he=document.createTextNode(z),n.map.push(n.pos,n.pos+a.length,he),b&&w<9&&(X=!0),n.pos+=a.length;else{he=document.createDocumentFragment();for(var ye=0;;){Z.lastIndex=ye;var Pe=Z.exec(a),De=Pe?Pe.index-ye:a.length-ye;if(De){var je=document.createTextNode(z.slice(ye,ye+De));b&&w<9?he.appendChild(O("span",[je])):he.appendChild(je),n.map.push(n.pos,n.pos+De,je),n.col+=De,n.pos+=De}if(!Pe)break;ye+=De+1;var tt=void 0;if(Pe[0]=="	"){var ct=n.cm.options.tabSize,pt=ct-n.col%ct;tt=he.appendChild(O("span",hn(pt),"cm-tab")),tt.setAttribute("role","presentation"),tt.setAttribute("cm-text","	"),n.col+=pt}else Pe[0]=="\r"||Pe[0]==`
`?(tt=he.appendChild(O("span",Pe[0]=="\r"?"":"","cm-invalidchar")),tt.setAttribute("cm-text",Pe[0]),n.col+=1):(tt=n.cm.options.specialCharPlaceholder(Pe[0]),tt.setAttribute("cm-text",Pe[0]),b&&w<9?he.appendChild(O("span",[tt])):he.appendChild(tt),n.col+=1);n.map.push(n.pos,n.pos+1,tt),n.pos++}}if(n.trailingSpace=z.charCodeAt(a.length-1)==32,p||d||v||X||C||M){var gt=p||"";d&&(gt+=d),v&&(gt+=v);var dt=O("span",[he],gt,C);if(M)for(var Ct in M)M.hasOwnProperty(Ct)&&Ct!="style"&&Ct!="class"&&dt.setAttribute(Ct,M[Ct]);return n.content.appendChild(dt)}n.content.appendChild(he)}}function Pu(n,a){if(n.length>1&&!/  /.test(n))return n;for(var p=a,d="",v=0;v<n.length;v++){var C=n.charAt(v);C==" "&&p&&(v==n.length-1||n.charCodeAt(v+1)==32)&&(C=""),d+=C,p=C==" "}return d}function ri(n,a){return function(p,d,v,C,M,z,Z){v=v?v+" cm-force-border":"cm-force-border";for(var X=p.pos,he=X+d.length;;){for(var ye=void 0,Pe=0;Pe<a.length&&(ye=a[Pe],!(ye.to>X&&ye.from<=X));Pe++);if(ye.to>=he)return n(p,d,v,C,M,z,Z);n(p,d.slice(0,ye.to-X),v,C,null,z,Z),C=null,d=d.slice(ye.to-X),X=ye.to}}}function fo(n,a,p,d){var v=!d&&p.widgetNode;v&&n.map.push(n.pos,n.pos+a,v),!d&&n.cm.display.input.needsContentAttribute&&(v||(v=n.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(n.cm.display.input.setUneditable(v),n.content.appendChild(v)),n.pos+=a,n.trailingSpace=!1}function Fu(n,a,p){var d=n.markedSpans,v=n.text,C=0;if(!d){for(var M=1;M<p.length;M+=2)a.addToken(a,v.slice(C,C=p[M]),Eo(p[M+1],a.cm.options));return}for(var z=v.length,Z=0,X=1,he="",ye,Pe,De=0,je,tt,ct,pt,gt;;){if(De==Z){je=tt=ct=Pe="",gt=null,pt=null,De=1/0;for(var dt=[],Ct=void 0,It=0;It<d.length;++It){var Nt=d[It],fn=Nt.marker;if(fn.type=="bookmark"&&Nt.from==Z&&fn.widgetNode)dt.push(fn);else if(Nt.from<=Z&&(Nt.to==null||Nt.to>Z||fn.collapsed&&Nt.to==Z&&Nt.from==Z)){if(Nt.to!=null&&Nt.to!=Z&&De>Nt.to&&(De=Nt.to,tt=""),fn.className&&(je+=" "+fn.className),fn.css&&(Pe=(Pe?Pe+";":"")+fn.css),fn.startStyle&&Nt.from==Z&&(ct+=" "+fn.startStyle),fn.endStyle&&Nt.to==De&&(Ct||(Ct=[])).push(fn.endStyle,Nt.to),fn.title&&((gt||(gt={})).title=fn.title),fn.attributes)for(var Qn in fn.attributes)(gt||(gt={}))[Qn]=fn.attributes[Qn];fn.collapsed&&(!pt||jo(pt.marker,fn)<0)&&(pt=Nt)}else Nt.from>Z&&De>Nt.from&&(De=Nt.from)}if(Ct)for(var Li=0;Li<Ct.length;Li+=2)Ct[Li+1]==De&&(tt+=" "+Ct[Li]);if(!pt||pt.from==Z)for(var hi=0;hi<dt.length;++hi)fo(a,0,dt[hi]);if(pt&&(pt.from||0)==Z){if(fo(a,(pt.to==null?z+1:pt.to)-Z,pt.marker,pt.from==null),pt.to==null)return;pt.to==Z&&(pt=!1)}}if(Z>=z)break;for(var ki=Math.min(z,De);;){if(he){var Ni=Z+he.length;if(!pt){var zi=Ni>ki?he.slice(0,ki-Z):he;a.addToken(a,zi,ye?ye+je:je,ct,Z+zi.length==De?tt:"",Pe,gt)}if(Ni>=ki){he=he.slice(ki-Z),Z=ki;break}Z=Ni,ct=""}he=v.slice(C,C=p[X++]),ye=Eo(p[X++],a.cm.options)}}}function pl(n,a,p){this.line=a,this.rest=Br(a),this.size=this.rest?K(vt(this.rest))-p+1:1,this.node=this.text=null,this.hidden=yi(n,a)}function Uo(n,a,p){for(var d=[],v,C=a;C<p;C=v){var M=new pl(n.doc,Lt(n.doc,C),C);v=C+M.size,d.push(M)}return d}var Ia=null;function ml(n){Ia?Ia.ops.push(n):n.ownsGroup=Ia={ops:[n],delayedCallbacks:[]}}function gl(n){var a=n.delayedCallbacks,p=0;do{for(;p<a.length;p++)a[p].call(null);for(var d=0;d<n.ops.length;d++){var v=n.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<a.length)}function ms(n,a){var p=n.ownsGroup;if(p)try{gl(p)}finally{Ia=null,a(p)}}var Cr=null;function ai(n,a){var p=oi(n,a);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;Ia?v=Ia.delayedCallbacks:Cr?v=Cr:(v=Cr=[],setTimeout(gs,0));for(var C=function(z){v.push(function(){return p[z].apply(null,d)})},M=0;M<p.length;++M)C(M)}}function gs(){var n=Cr;Cr=null;for(var a=0;a<n.length;++a)n[a]()}function Er(n,a,p,d){for(var v=0;v<a.changes.length;v++){var C=a.changes[v];C=="text"?Ys(n,a):C=="gutter"?Us(n,a,p,d):C=="class"?vs(n,a):C=="widget"&&Ru(n,a,d)}a.changes=null}function va(n){return n.node==n.text&&(n.node=O("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),b&&w<8&&(n.node.style.zIndex=2)),n.node}function qs(n,a){var p=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),a.background)p?a.background.className=p:(a.background.parentNode.removeChild(a.background),a.background=null);else if(p){var d=va(a);a.background=d.insertBefore(O("div",null,p),d.firstChild),n.display.input.setUneditable(a.background)}}function js(n,a){var p=n.display.externalMeasured;return p&&p.line==a.line?(n.display.externalMeasured=null,a.measure=p.measure,p.built):Ws(n,a)}function Ys(n,a){var p=a.text.className,d=js(n,a);a.text==a.node&&(a.node=d.pre),a.text.parentNode.replaceChild(d.pre,a.text),a.text=d.pre,d.bgClass!=a.bgClass||d.textClass!=a.textClass?(a.bgClass=d.bgClass,a.textClass=d.textClass,vs(n,a)):p&&(a.text.className=p)}function vs(n,a){qs(n,a),a.line.wrapClass?va(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var p=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=p||""}function Us(n,a,p,d){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var v=va(a);a.gutterBackground=O("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(n.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),n.display.input.setUneditable(a.gutterBackground),v.insertBefore(a.gutterBackground,a.text)}var C=a.line.gutterMarkers;if(n.options.lineNumbers||C){var M=va(a),z=a.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(z.setAttribute("aria-hidden","true"),n.display.input.setUneditable(z),M.insertBefore(z,a.text),a.line.gutterClass&&(z.className+=" "+a.line.gutterClass),n.options.lineNumbers&&(!C||!C["CodeMirror-linenumbers"])&&(a.lineNumber=z.appendChild(O("div",Je(n.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),C)for(var Z=0;Z<n.display.gutterSpecs.length;++Z){var X=n.display.gutterSpecs[Z].className,he=C.hasOwnProperty(X)&&C[X];he&&z.appendChild(O("div",[he],"CodeMirror-gutter-elt","left: "+d.gutterLeft[X]+"px; width: "+d.gutterWidth[X]+"px"))}}}function Ru(n,a,p){a.alignable&&(a.alignable=null);for(var d=ue("CodeMirror-linewidget"),v=a.node.firstChild,C=void 0;v;v=C)C=v.nextSibling,d.test(v.className)&&a.node.removeChild(v);Nu(n,a,p)}function vl(n,a,p,d){var v=js(n,a);return a.text=a.node=v.pre,v.bgClass&&(a.bgClass=v.bgClass),v.textClass&&(a.textClass=v.textClass),vs(n,a),Us(n,a,p,d),Nu(n,a,d),a.node}function Nu(n,a,p){if(si(n,a.line,a,p,!0),a.rest)for(var d=0;d<a.rest.length;d++)si(n,a.rest[d],a,p,!1)}function si(n,a,p,d,v){if(a.widgets)for(var C=va(p),M=0,z=a.widgets;M<z.length;++M){var Z=z[M],X=O("div",[Z.node],"CodeMirror-linewidget"+(Z.className?" "+Z.className:""));Z.handleMouseEvents||X.setAttribute("cm-ignore-events","true"),Zo(Z,X,p,d),n.display.input.setUneditable(X),v&&Z.above?C.insertBefore(X,p.gutter||p.text):C.appendChild(X),ai(Z,"redraw")}}function Zo(n,a,p,d){if(n.noHScroll){(p.alignable||(p.alignable=[])).push(a);var v=d.wrapperWidth;a.style.left=d.fixedPos+"px",n.coverGutter||(v-=d.gutterTotalWidth,a.style.paddingLeft=d.gutterTotalWidth+"px"),a.style.width=v+"px"}n.coverGutter&&(a.style.zIndex=5,a.style.position="relative",n.noHScroll||(a.style.marginLeft=-d.gutterTotalWidth+"px"))}function To(n){if(n.height!=null)return n.height;var a=n.doc.cm;if(!a)return 0;if(!_e(document.body,n.node)){var p="position: relative;";n.coverGutter&&(p+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),n.noHScroll&&(p+="width: "+a.display.wrapper.clientWidth+"px;"),ie(a.display.measure,O("div",[n.node],null,p))}return n.height=n.node.parentNode.offsetHeight}function Zi(n,a){for(var p=At(a);p!=n.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==n.sizer&&p!=n.mover)return!0}function bs(n){return n.lineSpace.offsetTop}function Go(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function bl(n){if(n.cachedPaddingH)return n.cachedPaddingH;var a=ie(n.measure,O("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(n.cachedPaddingH=d),d}function Sr(n){return st-n.display.nativeBarWidth}function Xo(n){return n.display.scroller.clientWidth-Sr(n)-n.display.barWidth}function Ba(n){return n.display.scroller.clientHeight-Sr(n)-n.display.barHeight}function $a(n,a,p){var d=n.options.lineWrapping,v=d&&Xo(n);if(!a.measure.heights||d&&a.measure.width!=v){var C=a.measure.heights=[];if(d){a.measure.width=v;for(var M=a.text.firstChild.getClientRects(),z=0;z<M.length-1;z++){var Z=M[z],X=M[z+1];Math.abs(Z.bottom-X.bottom)>2&&C.push((Z.bottom+X.top)/2-p.top)}}C.push(p.bottom-p.top)}}function Ao(n,a,p){if(n.line==a)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var d=0;d<n.rest.length;d++)if(n.rest[d]==a)return{map:n.measure.maps[d],cache:n.measure.caches[d]};for(var v=0;v<n.rest.length;v++)if(K(n.rest[v])>p)return{map:n.measure.maps[v],cache:n.measure.caches[v],before:!0}}}function Zs(n,a){a=Wn(a);var p=K(a),d=n.display.externalMeasured=new pl(n.doc,a,p);d.lineN=p;var v=d.built=Ws(n,d);return d.text=v.pre,ie(n.display.lineMeasure,v.pre),d}function Gs(n,a,p,d){return _i(n,Hr(n,a),p,d)}function Ha(n,a){if(a>=n.display.viewFrom&&a<n.display.viewTo)return n.display.view[Qo(n,a)];var p=n.display.externalMeasured;if(p&&a>=p.lineN&&a<p.lineN+p.size)return p}function Hr(n,a){var p=K(a),d=Ha(n,p);d&&!d.text?d=null:d&&d.changes&&(Er(n,d,p,Wa(n)),n.curOp.forceUpdate=!0),d||(d=Zs(n,a));var v=Ao(d,a,p);return{line:a,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function _i(n,a,p,d,v){a.before&&(p=-1);var C=p+(d||""),M;return a.cache.hasOwnProperty(C)?M=a.cache[C]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||($a(n,a.view,a.rect),a.hasHeights=!0),M=Tr(n,a,p,d),M.bogus||(a.cache[C]=M)),{left:M.left,right:M.right,top:v?M.rtop:M.top,bottom:v?M.rbottom:M.bottom}}var yl={left:0,right:0,top:0,bottom:0};function ba(n,a,p){for(var d,v,C,M,z,Z,X=0;X<n.length;X+=3)if(z=n[X],Z=n[X+1],a<z?(v=0,C=1,M="left"):a<Z?(v=a-z,C=v+1):(X==n.length-3||a==Z&&n[X+3]>a)&&(C=Z-z,v=C-1,a>=Z&&(M="right")),v!=null){if(d=n[X+2],z==Z&&p==(d.insertLeft?"left":"right")&&(M=p),p=="left"&&v==0)for(;X&&n[X-2]==n[X-3]&&n[X-1].insertLeft;)d=n[(X-=3)+2],M="left";if(p=="right"&&v==Z-z)for(;X<n.length-3&&n[X+3]==n[X+4]&&!n[X+5].insertLeft;)d=n[(X+=3)+2],M="right";break}return{node:d,start:v,end:C,collapse:M,coverStart:z,coverEnd:Z}}function cc(n,a){var p=yl;if(a=="left")for(var d=0;d<n.length&&(p=n[d]).left==p.right;d++);else for(var v=n.length-1;v>=0&&(p=n[v]).left==p.right;v--);return p}function Tr(n,a,p,d){var v=ba(a.map,p,d),C=v.node,M=v.start,z=v.end,Z=v.collapse,X;if(C.nodeType==3){for(var he=0;he<4;he++){for(;M&&xn(a.line.text.charAt(v.coverStart+M));)--M;for(;v.coverStart+z<v.coverEnd&&xn(a.line.text.charAt(v.coverStart+z));)++z;if(b&&w<9&&M==0&&z==v.coverEnd-v.coverStart?X=C.parentNode.getBoundingClientRect():X=cc(me(C,M,z).getClientRects(),d),X.left||X.right||M==0)break;z=M,M=M-1,Z="right"}b&&w<11&&(X=Ar(n.display.measure,X))}else{M>0&&(Z=d="right");var ye;n.options.lineWrapping&&(ye=C.getClientRects()).length>1?X=ye[d=="right"?ye.length-1:0]:X=C.getBoundingClientRect()}if(b&&w<9&&!M&&(!X||!X.left&&!X.right)){var Pe=C.parentNode.getClientRects()[0];Pe?X={left:Pe.left,right:Pe.left+mo(n.display),top:Pe.top,bottom:Pe.bottom}:X=yl}for(var De=X.top-a.rect.top,je=X.bottom-a.rect.top,tt=(De+je)/2,ct=a.view.measure.heights,pt=0;pt<ct.length-1&&!(tt<ct[pt]);pt++);var gt=pt?ct[pt-1]:0,dt=ct[pt],Ct={left:(Z=="right"?X.right:X.left)-a.rect.left,right:(Z=="left"?X.left:X.right)-a.rect.left,top:gt,bottom:dt};return!X.left&&!X.right&&(Ct.bogus=!0),n.options.singleCursorHeightPerLine||(Ct.rtop=De,Ct.rbottom=je),Ct}function Ar(n,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!un(n))return a;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*p,right:a.right*p,top:a.top*d,bottom:a.bottom*d}}function Xs(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var a=0;a<n.rest.length;a++)n.measure.caches[a]={}}function Vs(n){n.display.externalMeasure=null,pe(n.display.lineMeasure);for(var a=0;a<n.display.view.length;a++)Xs(n.display.view[a])}function Vo(n){Vs(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function Ks(n){return N&&D?-(n.body.getBoundingClientRect().left-parseInt(getComputedStyle(n.body).marginLeft)):n.defaultView.pageXOffset||(n.documentElement||n.body).scrollLeft}function ys(n){return N&&D?-(n.body.getBoundingClientRect().top-parseInt(getComputedStyle(n.body).marginTop)):n.defaultView.pageYOffset||(n.documentElement||n.body).scrollTop}function Ko(n){var a=Wn(n),p=a.widgets,d=0;if(p)for(var v=0;v<p.length;++v)p[v].above&&(d+=To(p[v]));return d}function Yr(n,a,p,d,v){if(!v){var C=Ko(a);p.top+=C,p.bottom+=C}if(d=="line")return p;d||(d="local");var M=eo(a);if(d=="local"?M+=bs(n.display):M-=n.display.viewOffset,d=="page"||d=="window"){var z=n.display.lineSpace.getBoundingClientRect();M+=z.top+(d=="window"?0:ys(Y(n)));var Z=z.left+(d=="window"?0:Ks(Y(n)));p.left+=Z,p.right+=Z}return p.top+=M,p.bottom+=M,p}function Oe(n,a,p){if(p=="div")return a;var d=a.left,v=a.top;if(p=="page")d-=Ks(Y(n)),v-=ys(Y(n));else if(p=="local"||!p){var C=n.display.sizer.getBoundingClientRect();d+=C.left,v+=C.top}var M=n.display.lineSpace.getBoundingClientRect();return{left:d-M.left,top:v-M.top}}function Qe(n,a,p,d,v){return d||(d=Lt(n.doc,a.line)),Yr(n,d,Gs(n,d,a.ch,v),p)}function $e(n,a,p,d,v,C){d=d||Lt(n.doc,a.line),v||(v=Hr(n,d));function M(je,tt){var ct=_i(n,v,je,tt?"right":"left",C);return tt?ct.left=ct.right:ct.right=ct.left,Yr(n,d,ct,p)}var z=Zt(d,n.doc.direction),Z=a.ch,X=a.sticky;if(Z>=d.text.length?(Z=d.text.length,X="before"):Z<=0&&(Z=0,X="after"),!z)return M(X=="before"?Z-1:Z,X=="before");function he(je,tt,ct){var pt=z[tt],gt=pt.level==1;return M(ct?je-1:je,gt!=ct)}var ye=Tt(z,Z,X),Pe=Yn,De=he(Z,ye,X=="before");return Pe!=null&&(De.other=he(Z,Pe,X!="before")),De}function Et(n,a){var p=0;a=Wt(n.doc,a),n.options.lineWrapping||(p=mo(n.display)*a.ch);var d=Lt(n.doc,a.line),v=eo(d)+bs(n.display);return{left:p,right:p,top:v,bottom:v+d.height}}function Kt(n,a,p,d,v){var C=Be(n,a,p);return C.xRel=v,d&&(C.outside=d),C}function Mn(n,a,p){var d=n.doc;if(p+=n.display.viewOffset,p<0)return Kt(d.first,0,null,-1,-1);var v=ve(d,p),C=d.first+d.size-1;if(v>C)return Kt(d.first+d.size-1,Lt(d,C).text.length,null,1,1);a<0&&(a=0);for(var M=Lt(d,v);;){var z=ho(n,M,v,a,p),Z=Na(M,z.ch+(z.xRel>0||z.outside>0?1:0));if(!Z)return z;var X=Z.find(1);if(X.line==v)return X;M=Lt(d,v=X.line)}}function Ai(n,a,p,d){d-=Ko(a);var v=a.text.length,C=Gn(function(M){return _i(n,p,M-1).bottom<=d},v,0);return v=Gn(function(M){return _i(n,p,M).top>d},C,v),{begin:C,end:v}}function Zn(n,a,p,d){p||(p=Hr(n,a));var v=Yr(n,a,_i(n,p,d),"line").top;return Ai(n,a,p,v)}function _s(n,a,p,d){return n.bottom<=p?!1:n.top>p?!0:(d?n.left:n.right)>a}function ho(n,a,p,d,v){v-=eo(a);var C=Hr(n,a),M=Ko(a),z=0,Z=a.text.length,X=!0,he=Zt(a,n.doc.direction);if(he){var ye=(n.options.lineWrapping?Qs:yr)(n,a,p,C,he,d,v);X=ye.level!=1,z=X?ye.from:ye.to-1,Z=X?ye.to:ye.from-1}var Pe=null,De=null,je=Gn(function(It){var Nt=_i(n,C,It);return Nt.top+=M,Nt.bottom+=M,_s(Nt,d,v,!1)?(Nt.top<=v&&Nt.left<=d&&(Pe=It,De=Nt),!0):!1},z,Z),tt,ct,pt=!1;if(De){var gt=d-De.left<De.right-d,dt=gt==X;je=Pe+(dt?0:1),ct=dt?"after":"before",tt=gt?De.left:De.right}else{!X&&(je==Z||je==z)&&je++,ct=je==0?"after":je==a.text.length?"before":_i(n,C,je-(X?1:0)).bottom+M<=v==X?"after":"before";var Ct=$e(n,Be(p,je,ct),"line",a,C);tt=Ct.left,pt=v<Ct.top?-1:v>=Ct.bottom?1:0}return je=vi(a.text,je,1),Kt(p,je,ct,pt,d-tt)}function yr(n,a,p,d,v,C,M){var z=Gn(function(ye){var Pe=v[ye],De=Pe.level!=1;return _s($e(n,Be(p,De?Pe.to:Pe.from,De?"before":"after"),"line",a,d),C,M,!0)},0,v.length-1),Z=v[z];if(z>0){var X=Z.level!=1,he=$e(n,Be(p,X?Z.from:Z.to,X?"after":"before"),"line",a,d);_s(he,C,M,!0)&&he.top>M&&(Z=v[z-1])}return Z}function Qs(n,a,p,d,v,C,M){var z=Ai(n,a,d,M),Z=z.begin,X=z.end;/\s/.test(a.text.charAt(X-1))&&X--;for(var he=null,ye=null,Pe=0;Pe<v.length;Pe++){var De=v[Pe];if(!(De.from>=X||De.to<=Z)){var je=De.level!=1,tt=_i(n,d,je?Math.min(X,De.to)-1:Math.max(Z,De.from)).right,ct=tt<C?C-tt+1e9:tt-C;(!he||ye>ct)&&(he=De,ye=ct)}}return he||(he=v[v.length-1]),he.from<Z&&(he={from:Z,to:he.to,level:he.level}),he.to>X&&(he={from:he.from,to:X,level:he.level}),he}var po;function to(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(po==null){po=O("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)po.appendChild(document.createTextNode("x")),po.appendChild(O("br"));po.appendChild(document.createTextNode("x"))}ie(n.measure,po);var p=po.offsetHeight/50;return p>3&&(n.cachedTextHeight=p),pe(n.measure),p||1}function mo(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var a=O("span","xxxxxxxxxx"),p=O("pre",[a],"CodeMirror-line-like");ie(n.measure,p);var d=a.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(n.cachedCharWidth=v),v||10}function Wa(n){for(var a=n.display,p={},d={},v=a.gutters.clientLeft,C=a.gutters.firstChild,M=0;C;C=C.nextSibling,++M){var z=n.display.gutterSpecs[M].className;p[z]=C.offsetLeft+C.clientLeft+v,d[z]=C.clientWidth}return{fixedPos:An(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:a.wrapper.clientWidth}}function An(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function _l(n){var a=to(n.display),p=n.options.lineWrapping,d=p&&Math.max(5,n.display.scroller.clientWidth/mo(n.display)-3);return function(v){if(yi(n.doc,v))return 0;var C=0;if(v.widgets)for(var M=0;M<v.widgets.length;M++)v.widgets[M].height&&(C+=v.widgets[M].height);return p?C+(Math.ceil(v.text.length/d)||1)*a:C+a}}function Do(n){var a=n.doc,p=_l(n);a.iter(function(d){var v=p(d);v!=d.height&&Ui(d,v)})}function no(n,a,p,d){var v=n.display;if(!p&&At(a).getAttribute("cm-not-content")=="true")return null;var C,M,z=v.lineSpace.getBoundingClientRect();try{C=a.clientX-z.left,M=a.clientY-z.top}catch{return null}var Z=Mn(n,C,M),X;if(d&&Z.xRel>0&&(X=Lt(n.doc,Z.line).text).length==Z.ch){var he=Ie(X,X.length,n.options.tabSize)-X.length;Z=Be(Z.line,Math.max(0,Math.round((C-bl(n.display).left)/mo(n.display))-he))}return Z}function Qo(n,a){if(a>=n.display.viewTo||(a-=n.display.viewFrom,a<0))return null;for(var p=n.display.view,d=0;d<p.length;d++)if(a-=p[d].size,a<0)return d}function _r(n,a,p,d){a==null&&(a=n.doc.first),p==null&&(p=n.doc.first+n.doc.size),d||(d=0);var v=n.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>a)&&(v.updateLineNumbers=a),n.curOp.viewChanged=!0,a>=v.viewTo)In&&ds(n.doc,a)<v.viewTo&&Ur(n);else if(p<=v.viewFrom)In&&Bs(n.doc,p+d)>v.viewFrom?Ur(n):(v.viewFrom+=d,v.viewTo+=d);else if(a<=v.viewFrom&&p>=v.viewTo)Ur(n);else if(a<=v.viewFrom){var C=Zr(n,p,p+d,1);C?(v.view=v.view.slice(C.index),v.viewFrom=C.lineN,v.viewTo+=d):Ur(n)}else if(p>=v.viewTo){var M=Zr(n,a,a,-1);M?(v.view=v.view.slice(0,M.index),v.viewTo=M.lineN):Ur(n)}else{var z=Zr(n,a,a,-1),Z=Zr(n,p,p+d,1);z&&Z?(v.view=v.view.slice(0,z.index).concat(Uo(n,z.lineN,Z.lineN)).concat(v.view.slice(Z.index)),v.viewTo+=d):Ur(n)}var X=v.externalMeasured;X&&(p<X.lineN?X.lineN+=d:a<X.lineN+X.size&&(v.externalMeasured=null))}function fr(n,a,p){n.curOp.viewChanged=!0;var d=n.display,v=n.display.externalMeasured;if(v&&a>=v.lineN&&a<v.lineN+v.size&&(d.externalMeasured=null),!(a<d.viewFrom||a>=d.viewTo)){var C=d.view[Qo(n,a)];if(C.node!=null){var M=C.changes||(C.changes=[]);Ge(M,p)==-1&&M.push(p)}}}function Ur(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Zr(n,a,p,d){var v=Qo(n,a),C,M=n.display.view;if(!In||p==n.doc.first+n.doc.size)return{index:v,lineN:p};for(var z=n.display.viewFrom,Z=0;Z<v;Z++)z+=M[Z].size;if(z!=a){if(d>0){if(v==M.length-1)return null;C=z+M[v].size-a,v++}else C=z-a;a+=C,p+=C}for(;ds(n.doc,p)!=p;){if(v==(d<0?0:M.length-1))return null;p+=d*M[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function Jo(n,a,p){var d=n.display,v=d.view;v.length==0||a>=d.viewTo||p<=d.viewFrom?(d.view=Uo(n,a,p),d.viewFrom=a):(d.viewFrom>a?d.view=Uo(n,a,d.viewFrom).concat(d.view):d.viewFrom<a&&(d.view=d.view.slice(Qo(n,a))),d.viewFrom=a,d.viewTo<p?d.view=d.view.concat(Uo(n,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,Qo(n,p)))),d.viewTo=p}function zu(n){for(var a=n.display.view,p=0,d=0;d<a.length;d++){var v=a[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function io(n){n.display.input.showSelection(n.display.input.prepareSelection())}function ya(n,a){a===void 0&&(a=!0);var p=n.doc,d={},v=d.cursors=document.createDocumentFragment(),C=d.selection=document.createDocumentFragment(),M=n.options.$customCursor;M&&(a=!0);for(var z=0;z<p.sel.ranges.length;z++)if(!(!a&&z==p.sel.primIndex)){var Z=p.sel.ranges[z];if(!(Z.from().line>=n.display.viewTo||Z.to().line<n.display.viewFrom)){var X=Z.empty();if(M){var he=M(n,Z);he&&xs(n,he,v)}else(X||n.options.showCursorWhenSelecting)&&xs(n,Z.head,v);X||xl(n,Z,C)}}return d}function xs(n,a,p){var d=$e(n,a,"div",null,null,!n.options.singleCursorHeightPerLine),v=p.appendChild(O("div","","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var C=Qe(n,a,"div",null,null),M=C.right-C.left;v.style.width=(M>0?M:n.defaultCharWidth())+"px"}if(d.other){var z=p.appendChild(O("div","","CodeMirror-cursor CodeMirror-secondarycursor"));z.style.display="",z.style.left=d.other.left+"px",z.style.top=d.other.top+"px",z.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function ea(n,a){return n.top-a.top||n.left-a.left}function xl(n,a,p){var d=n.display,v=n.doc,C=document.createDocumentFragment(),M=bl(n.display),z=M.left,Z=Math.max(d.sizerWidth,Xo(n)-d.sizer.offsetLeft)-M.right,X=v.direction=="ltr";function he(dt,Ct,It,Nt){Ct<0&&(Ct=0),Ct=Math.round(Ct),Nt=Math.round(Nt),C.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+dt+`px;
                             top: `+Ct+"px; width: "+(It??Z-dt)+`px;
                             height: `+(Nt-Ct)+"px"))}function ye(dt,Ct,It){var Nt=Lt(v,dt),fn=Nt.text.length,Qn,Li;function hi(zi,Lr){return Qe(n,Be(dt,zi),"div",Nt,Lr)}function ki(zi,Lr,pr){var Xi=Zn(n,Nt,null,zi),Ii=Lr=="ltr"==(pr=="after")?"left":"right",Ci=pr=="after"?Xi.begin:Xi.end-(/\s/.test(Nt.text.charAt(Xi.end-1))?2:1);return hi(Ci,Ii)[Ii]}var Ni=Zt(Nt,v.direction);return Mi(Ni,Ct||0,It??fn,function(zi,Lr,pr,Xi){var Ii=pr=="ltr",Ci=hi(zi,Ii?"left":"right"),Wr=hi(Lr-1,Ii?"right":"left"),yu=Ct==null&&zi==0,ts=It==null&&Lr==fn,xr=Xi==0,ua=!Ni||Xi==Ni.length-1;if(Wr.top-Ci.top<=3){var ar=(X?yu:ts)&&xr,zc=(X?ts:yu)&&ua,la=ar?z:(Ii?Ci:Wr).left,ns=zc?Z:(Ii?Wr:Ci).right;he(la,Ci.top,ns-la,Ci.bottom)}else{var is,Mr,_u,Ic;Ii?(is=X&&yu&&xr?z:Ci.left,Mr=X?Z:ki(zi,pr,"before"),_u=X?z:ki(Lr,pr,"after"),Ic=X&&ts&&ua?Z:Wr.right):(is=X?ki(zi,pr,"before"):z,Mr=!X&&yu&&xr?Z:Ci.right,_u=!X&&ts&&ua?z:Wr.left,Ic=X?ki(Lr,pr,"after"):Z),he(is,Ci.top,Mr-is,Ci.bottom),Ci.bottom<Wr.top&&he(z,Ci.bottom,null,Wr.top),he(_u,Wr.top,Ic-_u,Wr.bottom)}(!Qn||ea(Ci,Qn)<0)&&(Qn=Ci),ea(Wr,Qn)<0&&(Qn=Wr),(!Li||ea(Ci,Li)<0)&&(Li=Ci),ea(Wr,Li)<0&&(Li=Wr)}),{start:Qn,end:Li}}var Pe=a.from(),De=a.to();if(Pe.line==De.line)ye(Pe.line,Pe.ch,De.ch);else{var je=Lt(v,Pe.line),tt=Lt(v,De.line),ct=Wn(je)==Wn(tt),pt=ye(Pe.line,Pe.ch,ct?je.text.length+1:null).end,gt=ye(De.line,ct?0:null,De.ch).start;ct&&(pt.top<gt.top-2?(he(pt.right,pt.top,null,pt.bottom),he(z,gt.top,gt.left,gt.bottom)):he(pt.right,pt.top,gt.left-pt.right,pt.bottom)),pt.bottom<gt.top&&he(z,pt.bottom,null,gt.top)}p.appendChild(C)}function ta(n){if(n.state.focused){var a=n.display;clearInterval(a.blinker);var p=!0;a.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?a.blinker=setInterval(function(){n.hasFocus()||xa(n),a.cursorDiv.style.visibility=(p=!p)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function Lo(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Js(n))}function _a(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&xa(n))},100)}function Js(n,a){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(Dn(n,"focus",n,a),n.state.focused=!0,Fe(n.display.wrapper,"CodeMirror-focused"),!n.curOp&&n.display.selForContextMenu!=n.doc.sel&&(n.display.input.reset(),x&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),ta(n))}function xa(n,a){n.state.delayingBlurEvent||(n.state.focused&&(Dn(n,"blur",n,a),n.state.focused=!1,Te(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function eu(n){for(var a=n.display,p=a.lineDiv.offsetTop,d=Math.max(0,a.scroller.getBoundingClientRect().top),v=a.lineDiv.getBoundingClientRect().top,C=0,M=0;M<a.view.length;M++){var z=a.view[M],Z=n.options.lineWrapping,X=void 0,he=0;if(!z.hidden){if(v+=z.line.height,b&&w<8){var ye=z.node.offsetTop+z.node.offsetHeight;X=ye-p,p=ye}else{var Pe=z.node.getBoundingClientRect();X=Pe.bottom-Pe.top,!Z&&z.text.firstChild&&(he=z.text.firstChild.getBoundingClientRect().right-Pe.left-1)}var De=z.line.height-X;if((De>.005||De<-.005)&&(v<d&&(C-=De),Ui(z.line,X),qa(z.line),z.rest))for(var je=0;je<z.rest.length;je++)qa(z.rest[je]);if(he>n.display.sizerWidth){var tt=Math.ceil(he/mo(n.display));tt>n.display.maxLineLength&&(n.display.maxLineLength=tt,n.display.maxLine=z.line,n.display.maxLineChanged=!0)}}}Math.abs(C)>2&&(a.scroller.scrollTop+=C)}function qa(n){if(n.widgets)for(var a=0;a<n.widgets.length;++a){var p=n.widgets[a],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function na(n,a,p){var d=p&&p.top!=null?Math.max(0,p.top):n.scroller.scrollTop;d=Math.floor(d-bs(n));var v=p&&p.bottom!=null?p.bottom:d+n.wrapper.clientHeight,C=ve(a,d),M=ve(a,v);if(p&&p.ensure){var z=p.ensure.from.line,Z=p.ensure.to.line;z<C?(C=z,M=ve(a,eo(Lt(a,z))+n.wrapper.clientHeight)):Math.min(Z,a.lastLine())>=M&&(C=ve(a,eo(Lt(a,Z))-n.wrapper.clientHeight),M=Z)}return{from:C,to:Math.max(M,C+1)}}function Iu(n,a){if(!an(n,"scrollCursorIntoView")){var p=n.display,d=p.sizer.getBoundingClientRect(),v=null,C=p.wrapper.ownerDocument;if(a.top+d.top<0?v=!0:a.bottom+d.top>(C.defaultView.innerHeight||C.documentElement.clientHeight)&&(v=!1),v!=null&&!U){var M=O("div","",null,`position: absolute;
                         top: `+(a.top-p.viewOffset-bs(n.display))+`px;
                         height: `+(a.bottom-a.top+Sr(n)+p.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");n.display.lineSpace.appendChild(M),M.scrollIntoView(v),n.display.lineSpace.removeChild(M)}}}function o(n,a,p,d){d==null&&(d=0);var v;!n.options.lineWrapping&&a==p&&(p=a.sticky=="before"?Be(a.line,a.ch+1,"before"):a,a=a.ch?Be(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var C=0;C<5;C++){var M=!1,z=$e(n,a),Z=!p||p==a?z:$e(n,p);v={left:Math.min(z.left,Z.left),top:Math.min(z.top,Z.top)-d,right:Math.max(z.left,Z.left),bottom:Math.max(z.bottom,Z.bottom)+d};var X=_(n,v),he=n.doc.scrollTop,ye=n.doc.scrollLeft;if(X.scrollTop!=null&&(ot(n,X.scrollTop),Math.abs(n.doc.scrollTop-he)>1&&(M=!0)),X.scrollLeft!=null&&(zt(n,X.scrollLeft),Math.abs(n.doc.scrollLeft-ye)>1&&(M=!0)),!M)break}return v}function m(n,a){var p=_(n,a);p.scrollTop!=null&&ot(n,p.scrollTop),p.scrollLeft!=null&&zt(n,p.scrollLeft)}function _(n,a){var p=n.display,d=to(n.display);a.top<0&&(a.top=0);var v=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:p.scroller.scrollTop,C=Ba(n),M={};a.bottom-a.top>C&&(a.bottom=a.top+C);var z=n.doc.height+Go(p),Z=a.top<d,X=a.bottom>z-d;if(a.top<v)M.scrollTop=Z?0:a.top;else if(a.bottom>v+C){var he=Math.min(a.top,(X?z:a.bottom)-C);he!=v&&(M.scrollTop=he)}var ye=n.options.fixedGutter?0:p.gutters.offsetWidth,Pe=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:p.scroller.scrollLeft-ye,De=Xo(n)-p.gutters.offsetWidth,je=a.right-a.left>De;return je&&(a.right=a.left+De),a.left<10?M.scrollLeft=0:a.left<Pe?M.scrollLeft=Math.max(0,a.left+ye-(je?0:10)):a.right>De+Pe-3&&(M.scrollLeft=a.right+(je?0:10)-De),M}function A(n,a){a!=null&&(ze(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+a)}function H(n){ze(n);var a=n.getCursor();n.curOp.scrollToPos={from:a,to:a,margin:n.options.cursorScrollMargin}}function ne(n,a,p){(a!=null||p!=null)&&ze(n),a!=null&&(n.curOp.scrollLeft=a),p!=null&&(n.curOp.scrollTop=p)}function ke(n,a){ze(n),n.curOp.scrollToPos=a}function ze(n){var a=n.curOp.scrollToPos;if(a){n.curOp.scrollToPos=null;var p=Et(n,a.from),d=Et(n,a.to);He(n,p,d,a.margin)}}function He(n,a,p,d){var v=_(n,{left:Math.min(a.left,p.left),top:Math.min(a.top,p.top)-d,right:Math.max(a.right,p.right),bottom:Math.max(a.bottom,p.bottom)+d});ne(n,v.scrollLeft,v.scrollTop)}function ot(n,a){Math.abs(n.doc.scrollTop-a)<2||(u||Mo(n,{top:a}),xt(n,a,!0),u&&Mo(n),Bu(n,100))}function xt(n,a,p){a=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,a)),!(n.display.scroller.scrollTop==a&&!p)&&(n.doc.scrollTop=a,n.display.scrollbars.setScrollTop(a),n.display.scroller.scrollTop!=a&&(n.display.scroller.scrollTop=a))}function zt(n,a,p,d){a=Math.max(0,Math.min(a,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),!((p?a==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-a)<2)&&!d)&&(n.doc.scrollLeft=a,yf(n),n.display.scroller.scrollLeft!=a&&(n.display.scroller.scrollLeft=a),n.display.scrollbars.setScrollLeft(a))}function on(n){var a=n.display,p=a.gutters.offsetWidth,d=Math.round(n.doc.height+Go(n.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:n.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Sr(n)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:p}}var ei=function(n,a,p){this.cm=p;var d=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,n(d),n(v),Pt(d,"scroll",function(){d.clientHeight&&a(d.scrollTop,"vertical")}),Pt(v,"scroll",function(){v.clientWidth&&a(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ei.prototype.update=function(n){var a=n.scrollWidth>n.clientWidth+1,p=n.scrollHeight>n.clientHeight+1,d=n.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=a?d+"px":"0";var v=n.viewHeight-(a?d:0);this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+v)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=n.barLeft+"px";var C=n.viewWidth-n.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+C)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&n.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:a?d:0}},ei.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ei.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ei.prototype.zeroWidthHack=function(){var n=I&&!W?"12px":"18px";this.horiz.style.height=this.vert.style.width=n,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ye,this.disableVert=new Ye},ei.prototype.enableZeroWidthBar=function(n,a,p){n.style.visibility="";function d(){var v=n.getBoundingClientRect(),C=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);C!=n?n.style.visibility="hidden":a.set(1e3,d)}a.set(1e3,d)},ei.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var ti=function(){};ti.prototype.update=function(){return{bottom:0,right:0}},ti.prototype.setScrollLeft=function(){},ti.prototype.setScrollTop=function(){},ti.prototype.clear=function(){};function xi(n,a){a||(a=on(n));var p=n.display.barWidth,d=n.display.barHeight;Gi(n,a);for(var v=0;v<4&&p!=n.display.barWidth||d!=n.display.barHeight;v++)p!=n.display.barWidth&&n.options.lineWrapping&&eu(n),Gi(n,on(n)),p=n.display.barWidth,d=n.display.barHeight}function Gi(n,a){var p=n.display,d=p.scrollbars.update(a);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=a.gutterWidth+"px"):p.gutterFiller.style.display=""}var Gr={native:ei,null:ti};function wl(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&Te(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Gr[n.options.scrollbarStyle](function(a){n.display.wrapper.insertBefore(a,n.display.scrollbarFiller),Pt(a,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,p){p=="horizontal"?zt(n,a):ot(n,a)},n),n.display.scrollbars.addClass&&Fe(n.display.wrapper,n.display.scrollbars.addClass)}var fc=0;function wa(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++fc,markArrays:null},ml(n.curOp)}function ia(n){var a=n.curOp;a&&ms(a,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;hc(p)})}function hc(n){for(var a=n.ops,p=0;p<a.length;p++)ws(a[p]);for(var d=0;d<a.length;d++)ui(a[d]);for(var v=0;v<a.length;v++)ks(a[v]);for(var C=0;C<a.length;C++)se(a[C]);for(var M=0;M<a.length;M++)ja(a[M])}function ws(n){var a=n.cm,p=a.display;id(a),n.updateMaxLine&&Hs(a),n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<p.viewFrom||n.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&a.options.lineWrapping,n.update=n.mustUpdate&&new ra(a,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function ui(n){n.updatedDisplay=n.mustUpdate&&dc(n.cm,n.update)}function ks(n){var a=n.cm,p=a.display;n.updatedDisplay&&eu(a),n.barMeasure=on(a),p.maxLineChanged&&!a.options.lineWrapping&&(n.adjustWidthTo=Gs(a,p.maxLine,p.maxLine.text.length).left+3,a.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+n.adjustWidthTo+Sr(a)+a.display.barWidth),n.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+n.adjustWidthTo-Xo(a))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=p.input.prepareSelection())}function se(n){var a=n.cm;n.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<a.doc.scrollLeft&&zt(a,Math.min(a.display.scroller.scrollLeft,n.maxScrollLeft),!0),a.display.maxLineChanged=!1);var p=n.focus&&n.focus==Ve(Ce(a));n.preparedSelection&&a.display.input.showSelection(n.preparedSelection,p),(n.updatedDisplay||n.startHeight!=a.doc.height)&&xi(a,n.barMeasure),n.updatedDisplay&&mc(a,n.barMeasure),n.selectionChanged&&ta(a),a.state.focused&&n.updateInput&&a.display.input.reset(n.typing),p&&Lo(n.cm)}function ja(n){var a=n.cm,p=a.display,d=a.doc;if(n.updatedDisplay&&bf(a,n.update),p.wheelStartX!=null&&(n.scrollTop!=null||n.scrollLeft!=null||n.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),n.scrollTop!=null&&xt(a,n.scrollTop,n.forceScroll),n.scrollLeft!=null&&zt(a,n.scrollLeft,!0,!0),n.scrollToPos){var v=o(a,Wt(d,n.scrollToPos.from),Wt(d,n.scrollToPos.to),n.scrollToPos.margin);Iu(a,v)}var C=n.maybeHiddenMarkers,M=n.maybeUnhiddenMarkers;if(C)for(var z=0;z<C.length;++z)C[z].lines.length||Dn(C[z],"hide");if(M)for(var Z=0;Z<M.length;++Z)M[Z].lines.length&&Dn(M[Z],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=a.display.scroller.scrollTop),n.changeObjs&&Dn(a,"changes",a,n.changeObjs),n.update&&n.update.finish()}function nr(n,a){if(n.curOp)return a();wa(n);try{return a()}finally{ia(n)}}function Rn(n,a){return function(){if(n.curOp)return a.apply(n,arguments);wa(n);try{return a.apply(n,arguments)}finally{ia(n)}}}function Gt(n){return function(){if(this.curOp)return n.apply(this,arguments);wa(this);try{return n.apply(this,arguments)}finally{ia(this)}}}function Ri(n){return function(){var a=this.cm;if(!a||a.curOp)return n.apply(this,arguments);wa(a);try{return n.apply(this,arguments)}finally{ia(a)}}}function Bu(n,a){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(a,ge(nd,n))}function nd(n){var a=n.doc;if(!(a.highlightFrontier>=n.display.viewTo)){var p=+new Date+n.options.workTime,d=de(n,a.highlightFrontier),v=[];a.iter(d.line,Math.min(a.first+a.size,n.display.viewTo+500),function(C){if(d.line>=n.display.viewFrom){var M=C.styles,z=C.text.length>n.options.maxHighlightLength?Si(a.mode,d.state):null,Z=ee(n,C,d,!0);z&&(d.state=z),C.styles=Z.styles;var X=C.styleClasses,he=Z.classes;he?C.styleClasses=he:X&&(C.styleClasses=null);for(var ye=!M||M.length!=C.styles.length||X!=he&&(!X||!he||X.bgClass!=he.bgClass||X.textClass!=he.textClass),Pe=0;!ye&&Pe<M.length;++Pe)ye=M[Pe]!=C.styles[Pe];ye&&v.push(d.line),C.stateAfter=d.save(),d.nextLine()}else C.text.length<=n.options.maxHighlightLength&&Ae(n,C.text,d),C.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Bu(n,n.options.workDelay),!0}),a.highlightFrontier=d.line,a.modeFrontier=Math.max(a.modeFrontier,d.line),v.length&&nr(n,function(){for(var C=0;C<v.length;C++)fr(n,v[C],"text")})}}var ra=function(n,a,p){var d=n.display;this.viewport=a,this.visible=na(d,n.doc,a),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Xo(n),this.force=p,this.dims=Wa(n),this.events=[]};ra.prototype.signal=function(n,a){et(n,a)&&this.events.push(arguments)},ra.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Dn.apply(null,this.events[n])};function id(n){var a=n.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=Sr(n)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=Sr(n)+"px",a.scrollbarsClipped=!0)}function rd(n){if(n.hasFocus())return null;var a=Ve(Ce(n));if(!a||!_e(n.display.lineDiv,a))return null;var p={activeElt:a};if(window.getSelection){var d=G(n).getSelection();d.anchorNode&&d.extend&&_e(n.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function od(n){if(!(!n||!n.activeElt||n.activeElt==Ve(Me(n.activeElt)))&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&_e(document.body,n.anchorNode)&&_e(document.body,n.focusNode))){var a=n.activeElt.ownerDocument,p=a.defaultView.getSelection(),d=a.createRange();d.setEnd(n.anchorNode,n.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(n.focusNode,n.focusOffset)}}function dc(n,a){var p=n.display,d=n.doc;if(a.editorIsHidden)return Ur(n),!1;if(!a.force&&a.visible.from>=p.viewFrom&&a.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&zu(n)==0)return!1;_f(n)&&(Ur(n),a.dims=Wa(n));var v=d.first+d.size,C=Math.max(a.visible.from-n.options.viewportMargin,d.first),M=Math.min(v,a.visible.to+n.options.viewportMargin);p.viewFrom<C&&C-p.viewFrom<20&&(C=Math.max(d.first,p.viewFrom)),p.viewTo>M&&p.viewTo-M<20&&(M=Math.min(v,p.viewTo)),In&&(C=ds(n.doc,C),M=Bs(n.doc,M));var z=C!=p.viewFrom||M!=p.viewTo||p.lastWrapHeight!=a.wrapperHeight||p.lastWrapWidth!=a.wrapperWidth;Jo(n,C,M),p.viewOffset=eo(Lt(n.doc,p.viewFrom)),n.display.mover.style.top=p.viewOffset+"px";var Z=zu(n);if(!z&&Z==0&&!a.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var X=rd(n);return Z>4&&(p.lineDiv.style.display="none"),ad(n,p.updateLineNumbers,a.dims),Z>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,od(X),pe(p.cursorDiv),pe(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,z&&(p.lastWrapHeight=a.wrapperHeight,p.lastWrapWidth=a.wrapperWidth,Bu(n,400)),p.updateLineNumbers=null,!0}function bf(n,a){for(var p=a.viewport,d=!0;;d=!1){if(!d||!n.options.lineWrapping||a.oldDisplayWidth==Xo(n)){if(p&&p.top!=null&&(p={top:Math.min(n.doc.height+Go(n.display)-Ba(n),p.top)}),a.visible=na(n.display,n.doc,p),a.visible.from>=n.display.viewFrom&&a.visible.to<=n.display.viewTo)break}else d&&(a.visible=na(n.display,n.doc,p));if(!dc(n,a))break;eu(n);var v=on(n);io(n),xi(n,v),mc(n,v),a.force=!1}a.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(a.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function Mo(n,a){var p=new ra(n,a);if(dc(n,p)){eu(n),bf(n,p);var d=on(n);io(n),xi(n,d),mc(n,d),p.finish()}}function ad(n,a,p){var d=n.display,v=n.options.lineNumbers,C=d.lineDiv,M=C.firstChild;function z(je){var tt=je.nextSibling;return x&&I&&n.display.currentWheelTarget==je?je.style.display="none":je.parentNode.removeChild(je),tt}for(var Z=d.view,X=d.viewFrom,he=0;he<Z.length;he++){var ye=Z[he];if(!ye.hidden)if(!ye.node||ye.node.parentNode!=C){var Pe=vl(n,ye,X,p);C.insertBefore(Pe,M)}else{for(;M!=ye.node;)M=z(M);var De=v&&a!=null&&a<=X&&ye.lineNumber;ye.changes&&(Ge(ye.changes,"gutter")>-1&&(De=!1),Er(n,ye,X,p)),De&&(pe(ye.lineNumber),ye.lineNumber.appendChild(document.createTextNode(Je(n.options,X)))),M=ye.node.nextSibling}X+=ye.size}for(;M;)M=z(M)}function pc(n){var a=n.gutters.offsetWidth;n.sizer.style.marginLeft=a+"px",ai(n,"gutterChanged",n)}function mc(n,a){n.display.sizer.style.minHeight=a.docHeight+"px",n.display.heightForcer.style.top=a.docHeight+"px",n.display.gutters.style.height=a.docHeight+n.display.barHeight+Sr(n)+"px"}function yf(n){var a=n.display,p=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!n.options.fixedGutter))){for(var d=An(a)-a.scroller.scrollLeft+n.doc.scrollLeft,v=a.gutters.offsetWidth,C=d+"px",M=0;M<p.length;M++)if(!p[M].hidden){n.options.fixedGutter&&(p[M].gutter&&(p[M].gutter.style.left=C),p[M].gutterBackground&&(p[M].gutterBackground.style.left=C));var z=p[M].alignable;if(z)for(var Z=0;Z<z.length;Z++)z[Z].style.left=C}n.options.fixedGutter&&(a.gutters.style.left=d+v+"px")}}function _f(n){if(!n.options.lineNumbers)return!1;var a=n.doc,p=Je(n.options,a.first+a.size-1),d=n.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(O("div",[O("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),C=v.firstChild.offsetWidth,M=v.offsetWidth-C;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(C,d.lineGutter.offsetWidth-M)+1,d.lineNumWidth=d.lineNumInnerWidth+M,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",pc(n.display),!0}return!1}function Oo(n,a){for(var p=[],d=!1,v=0;v<n.length;v++){var C=n[v],M=null;if(typeof C!="string"&&(M=C.style,C=C.className),C=="CodeMirror-linenumbers")if(a)d=!0;else continue;p.push({className:C,style:M})}return a&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function xf(n){var a=n.gutters,p=n.gutterSpecs;pe(a),n.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],C=v.className,M=v.style,z=a.appendChild(O("div",null,"CodeMirror-gutter "+C));M&&(z.style.cssText=M),C=="CodeMirror-linenumbers"&&(n.lineGutter=z,z.style.width=(n.lineNumWidth||1)+"px")}a.style.display=p.length?"":"none",pc(n)}function $u(n){xf(n.display),_r(n),yf(n)}function sd(n,a,p,d){var v=this;this.input=p,v.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=ae("div",null,"CodeMirror-code"),v.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=O("div",null,"CodeMirror-cursors"),v.measure=O("div",null,"CodeMirror-measure"),v.lineMeasure=O("div",null,"CodeMirror-measure"),v.lineSpace=ae("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var C=ae("div",[v.lineSpace],"CodeMirror-lines");v.mover=O("div",[C],null,"position: relative"),v.sizer=O("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=O("div",null,null,"position: absolute; height: "+st+"px; width: 1px;"),v.gutters=O("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=O("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=O("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),N&&q===105&&(v.wrapper.style.clipPath="inset(0px)"),v.wrapper.setAttribute("translate","no"),b&&w<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!x&&!(u&&B)&&(v.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(v.wrapper):n(v.wrapper)),v.viewFrom=v.viewTo=a.first,v.reportedViewFrom=v.reportedViewTo=a.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=Oo(d.gutters,d.lineNumbers),xf(v),p.init(v)}var kl=0,ka=null;b?ka=-.53:u?ka=15:N?ka=-.7:j&&(ka=-1/3);function Ya(n){var a=n.wheelDeltaX,p=n.wheelDeltaY;return a==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(a=n.detail),p==null&&n.detail&&n.axis==n.VERTICAL_AXIS?p=n.detail:p==null&&(p=n.wheelDelta),{x:a,y:p}}function ud(n){var a=Ya(n);return a.x*=ka,a.y*=ka,a}function wf(n,a){N&&q==102&&(n.display.chromeScrollHack==null?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var p=Ya(a),d=p.x,v=p.y,C=ka;a.deltaMode===0&&(d=a.deltaX,v=a.deltaY,C=1);var M=n.display,z=M.scroller,Z=z.scrollWidth>z.clientWidth,X=z.scrollHeight>z.clientHeight;if(d&&Z||v&&X){if(v&&I&&x){e:for(var he=a.target,ye=M.view;he!=z;he=he.parentNode)for(var Pe=0;Pe<ye.length;Pe++)if(ye[Pe].node==he){n.display.currentWheelTarget=he;break e}}if(d&&!u&&!F&&C!=null){v&&X&&ot(n,Math.max(0,z.scrollTop+v*C)),zt(n,Math.max(0,z.scrollLeft+d*C)),(!v||v&&X)&&at(a),M.wheelStartX=null;return}if(v&&C!=null){var De=v*C,je=n.doc.scrollTop,tt=je+M.wrapper.clientHeight;De<0?je=Math.max(0,je+De-50):tt=Math.min(n.doc.height,tt+De+50),Mo(n,{top:je,bottom:tt})}kl<20&&a.deltaMode!==0&&(M.wheelStartX==null?(M.wheelStartX=z.scrollLeft,M.wheelStartY=z.scrollTop,M.wheelDX=d,M.wheelDY=v,setTimeout(function(){if(M.wheelStartX!=null){var ct=z.scrollLeft-M.wheelStartX,pt=z.scrollTop-M.wheelStartY,gt=pt&&M.wheelDY&&pt/M.wheelDY||ct&&M.wheelDX&&ct/M.wheelDX;M.wheelStartX=M.wheelStartY=null,gt&&(ka=(ka*kl+gt)/(kl+1),++kl)}},200)):(M.wheelDX+=d,M.wheelDY+=v))}}var wi=function(n,a){this.ranges=n,this.primIndex=a};wi.prototype.primary=function(){return this.ranges[this.primIndex]},wi.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var p=this.ranges[a],d=n.ranges[a];if(!tn(p.anchor,d.anchor)||!tn(p.head,d.head))return!1}return!0},wi.prototype.deepCopy=function(){for(var n=[],a=0;a<this.ranges.length;a++)n[a]=new qn(Kn(this.ranges[a].anchor),Kn(this.ranges[a].head));return new wi(n,this.primIndex)},wi.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},wi.prototype.contains=function(n,a){a||(a=n);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(ft(a,d.from())>=0&&ft(n,d.to())<=0)return p}return-1};var qn=function(n,a){this.anchor=n,this.head=a};qn.prototype.from=function(){return cn(this.anchor,this.head)},qn.prototype.to=function(){return Rt(this.anchor,this.head)},qn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Po(n,a,p){var d=n&&n.options.selectionsMayTouch,v=a[p];a.sort(function(Pe,De){return ft(Pe.from(),De.from())}),p=Ge(a,v);for(var C=1;C<a.length;C++){var M=a[C],z=a[C-1],Z=ft(z.to(),M.from());if(d&&!M.empty()?Z>0:Z>=0){var X=cn(z.from(),M.from()),he=Rt(z.to(),M.to()),ye=z.empty()?M.from()==M.head:z.from()==z.head;C<=p&&--p,a.splice(--C,2,new qn(ye?he:X,ye?X:he))}}return new wi(a,p)}function Ua(n,a){return new wi([new qn(n,a||n)],0)}function Za(n){return n.text?Be(n.from.line+n.text.length-1,vt(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function kf(n,a){if(ft(n,a.from)<0)return n;if(ft(n,a.to)<=0)return Za(a);var p=n.line+a.text.length-(a.to.line-a.from.line)-1,d=n.ch;return n.line==a.to.line&&(d+=Za(a).ch-a.to.ch),Be(p,d)}function Cl(n,a){for(var p=[],d=0;d<n.sel.ranges.length;d++){var v=n.sel.ranges[d];p.push(new qn(kf(v.anchor,a),kf(v.head,a)))}return Po(n.cm,p,n.sel.primIndex)}function gc(n,a,p){return n.line==a.line?Be(p.line,n.ch-a.ch+p.ch):Be(p.line+(n.line-a.line),n.ch)}function ld(n,a,p){for(var d=[],v=Be(n.first,0),C=v,M=0;M<a.length;M++){var z=a[M],Z=gc(z.from,v,C),X=gc(Za(z),v,C);if(v=z.to,C=X,p=="around"){var he=n.sel.ranges[M],ye=ft(he.head,he.anchor)<0;d[M]=new qn(ye?X:Z,ye?Z:X)}else d[M]=new qn(Z,Z)}return new wi(d,n.sel.primIndex)}function vc(n){n.doc.mode=kr(n.options,n.doc.modeOption),Cs(n)}function Cs(n){n.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,Bu(n,100),n.state.modeGen++,n.curOp&&_r(n)}function tu(n,a){return a.from.ch==0&&a.to.ch==0&&vt(a.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function nu(n,a,p,d){function v(gt){return p?p[gt]:null}function C(gt,dt,Ct){dl(gt,dt,Ct,d),ai(gt,"change",gt,a)}function M(gt,dt){for(var Ct=[],It=gt;It<dt;++It)Ct.push(new Co(X[It],v(It),d));return Ct}var z=a.from,Z=a.to,X=a.text,he=Lt(n,z.line),ye=Lt(n,Z.line),Pe=vt(X),De=v(X.length-1),je=Z.line-z.line;if(a.full)n.insert(0,M(0,X.length)),n.remove(X.length,n.size-X.length);else if(tu(n,a)){var tt=M(0,X.length-1);C(ye,ye.text,De),je&&n.remove(z.line,je),tt.length&&n.insert(z.line,tt)}else if(he==ye)if(X.length==1)C(he,he.text.slice(0,z.ch)+Pe+he.text.slice(Z.ch),De);else{var ct=M(1,X.length-1);ct.push(new Co(Pe+he.text.slice(Z.ch),De,d)),C(he,he.text.slice(0,z.ch)+X[0],v(0)),n.insert(z.line+1,ct)}else if(X.length==1)C(he,he.text.slice(0,z.ch)+X[0]+ye.text.slice(Z.ch),v(0)),n.remove(z.line+1,je);else{C(he,he.text.slice(0,z.ch)+X[0],v(0)),C(ye,Pe+ye.text.slice(Z.ch),De);var pt=M(1,X.length-1);je>1&&n.remove(z.line+1,je-1),n.insert(z.line+1,pt)}ai(n,"change",n,a)}function Ga(n,a,p){function d(v,C,M){if(v.linked)for(var z=0;z<v.linked.length;++z){var Z=v.linked[z];if(Z.doc!=C){var X=M&&Z.sharedHist;p&&!X||(a(Z.doc,X),d(Z.doc,v,X))}}}d(n,null,!0)}function bc(n,a){if(a.cm)throw new Error("This document is already in use.");n.doc=a,a.cm=n,Do(n),vc(n),Cf(n),n.options.direction=a.direction,n.options.lineWrapping||Hs(n),n.options.mode=a.modeOption,_r(n)}function Cf(n){(n.doc.direction=="rtl"?Fe:Te)(n.display.lineDiv,"CodeMirror-rtl")}function Ca(n){nr(n,function(){Cf(n),_r(n)})}function iu(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Ea(n,a){var p={from:Kn(a.from),to:Za(a),text:tr(n,a.from,a.to)};return _c(n,p,a.from.line,a.to.line+1),Ga(n,function(d){return _c(d,p,a.from.line,a.to.line+1)},!0),p}function ro(n){for(;n.length;){var a=vt(n);if(a.ranges)n.pop();else break}}function cd(n,a){if(a)return ro(n.done),vt(n.done);if(n.done.length&&!vt(n.done).ranges)return vt(n.done);if(n.done.length>1&&!n.done[n.done.length-2].ranges)return n.done.pop(),vt(n.done)}function yc(n,a,p,d){var v=n.history;v.undone.length=0;var C=+new Date,M,z;if((v.lastOp==d||v.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&v.lastModTime>C-(n.cm?n.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(M=cd(v,v.lastOp==d)))z=vt(M.changes),ft(a.from,a.to)==0&&ft(a.from,z.to)==0?z.to=Za(a):M.changes.push(Ea(n,a));else{var Z=vt(v.done);for((!Z||!Z.ranges)&&Fo(n.sel,v.done),M={changes:[Ea(n,a)],generation:v.generation},v.done.push(M);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=C,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=a.origin,z||Dn(n,"historyAdded")}function Ef(n,a,p,d){var v=a.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function Hu(n,a,p,d){var v=n.history,C=d&&d.origin;p==v.lastSelOp||C&&v.lastSelOrigin==C&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==C||Ef(n,C,vt(v.done),a))?v.done[v.done.length-1]=a:Fo(a,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=C,v.lastSelOp=p,d&&d.clearRedo!==!1&&ro(v.undone)}function Fo(n,a){var p=vt(a);p&&p.ranges&&p.equals(n)||a.push(n)}function _c(n,a,p,d){var v=a["spans_"+n.id],C=0;n.iter(Math.max(n.first,p),Math.min(n.first+n.size,d),function(M){M.markedSpans&&((v||(v=a["spans_"+n.id]={}))[C]=M.markedSpans),++C})}function fd(n){if(!n)return null;for(var a,p=0;p<n.length;++p)n[p].marker.explicitlyCleared?a||(a=n.slice(0,p)):a&&a.push(n[p]);return a?a.length?a:null:n}function El(n,a){var p=a["spans_"+n.id];if(!p)return null;for(var d=[],v=0;v<a.text.length;++v)d.push(fd(p[v]));return d}function Sf(n,a){var p=El(n,a),d=Fi(n,a);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var C=p[v],M=d[v];if(C&&M)e:for(var z=0;z<M.length;++z){for(var Z=M[z],X=0;X<C.length;++X)if(C[X].marker==Z.marker)continue e;C.push(Z)}else M&&(p[v]=M)}return p}function Es(n,a,p){for(var d=[],v=0;v<n.length;++v){var C=n[v];if(C.ranges){d.push(p?wi.prototype.deepCopy.call(C):C);continue}var M=C.changes,z=[];d.push({changes:z});for(var Z=0;Z<M.length;++Z){var X=M[Z],he=void 0;if(z.push({from:X.from,to:X.to,text:X.text}),a)for(var ye in X)(he=ye.match(/^spans_(\d+)$/))&&Ge(a,Number(he[1]))>-1&&(vt(z)[ye]=X[ye],delete X[ye])}}return d}function ir(n,a,p,d){if(d){var v=n.anchor;if(p){var C=ft(a,v)<0;C!=ft(p,v)<0?(v=a,a=p):C!=ft(a,p)<0&&(a=p)}return new qn(v,a)}else return new qn(p||a,a)}function ru(n,a,p,d,v){v==null&&(v=n.cm&&(n.cm.display.shift||n.extend)),hr(n,new wi([ir(n.sel.primary(),a,p,v)],0),d)}function xc(n,a,p){for(var d=[],v=n.cm&&(n.cm.display.shift||n.extend),C=0;C<n.sel.ranges.length;C++)d[C]=ir(n.sel.ranges[C],a[C],null,v);var M=Po(n.cm,d,n.sel.primIndex);hr(n,M,p)}function go(n,a,p,d){var v=n.sel.ranges.slice(0);v[a]=p,hr(n,Po(n.cm,v,n.sel.primIndex),d)}function Sl(n,a,p,d){hr(n,Ua(a,p),d)}function Tl(n,a,p){var d={ranges:a.ranges,update:function(v){this.ranges=[];for(var C=0;C<v.length;C++)this.ranges[C]=new qn(Wt(n,v[C].anchor),Wt(n,v[C].head))},origin:p&&p.origin};return Dn(n,"beforeSelectionChange",n,d),n.cm&&Dn(n.cm,"beforeSelectionChange",n.cm,d),d.ranges!=a.ranges?Po(n.cm,d.ranges,d.ranges.length-1):a}function Xa(n,a,p){var d=n.history.done,v=vt(d);v&&v.ranges?(d[d.length-1]=a,dr(n,a,p)):hr(n,a,p)}function hr(n,a,p){dr(n,a,p),Hu(n,n.sel,n.cm?n.cm.curOp.id:NaN,p)}function dr(n,a,p){(et(n,"beforeSelectionChange")||n.cm&&et(n.cm,"beforeSelectionChange"))&&(a=Tl(n,a,p));var d=p&&p.bias||(ft(a.primary().head,n.sel.primary().head)<0?-1:1);Al(n,Af(n,a,d,!0)),!(p&&p.scroll===!1)&&n.cm&&n.cm.getOption("readOnly")!="nocursor"&&H(n.cm)}function Al(n,a){a.equals(n.sel)||(n.sel=a,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,ln(n.cm)),ai(n,"cursorActivity",n))}function Tf(n){Al(n,Af(n,n.sel,null,!1))}function Af(n,a,p,d){for(var v,C=0;C<a.ranges.length;C++){var M=a.ranges[C],z=a.ranges.length==n.sel.ranges.length&&n.sel.ranges[C],Z=au(n,M.anchor,z&&z.anchor,p,d),X=M.head==M.anchor?Z:au(n,M.head,z&&z.head,p,d);(v||Z!=M.anchor||X!=M.head)&&(v||(v=a.ranges.slice(0,C)),v[C]=new qn(Z,X))}return v?Po(n.cm,v,a.primIndex):a}function ou(n,a,p,d,v){var C=Lt(n,a.line);if(C.markedSpans)for(var M=0;M<C.markedSpans.length;++M){var z=C.markedSpans[M],Z=z.marker,X="selectLeft"in Z?!Z.selectLeft:Z.inclusiveLeft,he="selectRight"in Z?!Z.selectRight:Z.inclusiveRight;if((z.from==null||(X?z.from<=a.ch:z.from<a.ch))&&(z.to==null||(he?z.to>=a.ch:z.to>a.ch))){if(v&&(Dn(Z,"beforeCursorEnter"),Z.explicitlyCleared))if(C.markedSpans){--M;continue}else break;if(!Z.atomic)continue;if(p){var ye=Z.find(d<0?1:-1),Pe=void 0;if((d<0?he:X)&&(ye=Df(n,ye,-d,ye&&ye.line==a.line?C:null)),ye&&ye.line==a.line&&(Pe=ft(ye,p))&&(d<0?Pe<0:Pe>0))return ou(n,ye,a,d,v)}var De=Z.find(d<0?-1:1);return(d<0?X:he)&&(De=Df(n,De,d,De.line==a.line?C:null)),De?ou(n,De,a,d,v):null}}return a}function au(n,a,p,d,v){var C=d||1,M=ou(n,a,p,C,v)||!v&&ou(n,a,p,C,!0)||ou(n,a,p,-C,v)||!v&&ou(n,a,p,-C,!0);return M||(n.cantEdit=!0,Be(n.first,0))}function Df(n,a,p,d){return p<0&&a.ch==0?a.line>n.first?Wt(n,Be(a.line-1)):null:p>0&&a.ch==(d||Lt(n,a.line)).text.length?a.line<n.first+n.size-1?Be(a.line+1,0):null:new Be(a.line,a.ch+p)}function su(n){n.setSelection(Be(n.firstLine(),0),Be(n.lastLine()),kt)}function wc(n,a,p){var d={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,C,M,z){v&&(d.from=Wt(n,v)),C&&(d.to=Wt(n,C)),M&&(d.text=M),z!==void 0&&(d.origin=z)}),Dn(n,"beforeChange",n,d),n.cm&&Dn(n.cm,"beforeChange",n.cm,d),d.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function uu(n,a,p){if(n.cm){if(!n.cm.curOp)return Rn(n.cm,uu)(n,a,p);if(n.cm.state.suppressEdits)return}if(!((et(n,"beforeChange")||n.cm&&et(n.cm,"beforeChange"))&&(a=wc(n,a,!0),!a))){var d=Ln&&!p&&zr(n,a.from,a.to);if(d)for(var v=d.length-1;v>=0;--v)Lf(n,{from:d[v].from,to:d[v].to,text:v?[""]:a.text,origin:a.origin});else Lf(n,a)}}function Lf(n,a){if(!(a.text.length==1&&a.text[0]==""&&ft(a.from,a.to)==0)){var p=Cl(n,a);yc(n,a,p,n.cm?n.cm.curOp.id:NaN),Wu(n,a,p,Fi(n,a));var d=[];Ga(n,function(v,C){!C&&Ge(d,v.history)==-1&&(Ff(v.history,a),d.push(v.history)),Wu(v,a,null,Fi(v,a))})}}function Va(n,a,p){var d=n.cm&&n.cm.state.suppressEdits;if(!(d&&!p)){for(var v=n.history,C,M=n.sel,z=a=="undo"?v.done:v.undone,Z=a=="undo"?v.undone:v.done,X=0;X<z.length&&(C=z[X],!(p?C.ranges&&!C.equals(n.sel):!C.ranges));X++);if(X!=z.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(C=z.pop(),C.ranges){if(Fo(C,Z),p&&!C.equals(n.sel)){hr(n,C,{clearRedo:!1});return}M=C}else if(d){z.push(C);return}else break;var he=[];Fo(M,Z),Z.push({changes:he,generation:v.generation}),v.generation=C.generation||++v.maxGeneration;for(var ye=et(n,"beforeChange")||n.cm&&et(n.cm,"beforeChange"),Pe=function(tt){var ct=C.changes[tt];if(ct.origin=a,ye&&!wc(n,ct,!1))return z.length=0,{};he.push(Ea(n,ct));var pt=tt?Cl(n,ct):vt(z);Wu(n,ct,pt,Sf(n,ct)),!tt&&n.cm&&n.cm.scrollIntoView({from:ct.from,to:Za(ct)});var gt=[];Ga(n,function(dt,Ct){!Ct&&Ge(gt,dt.history)==-1&&(Ff(dt.history,ct),gt.push(dt.history)),Wu(dt,ct,null,Sf(dt,ct))})},De=C.changes.length-1;De>=0;--De){var je=Pe(De);if(je)return je.v}}}}function Mf(n,a){if(a!=0&&(n.first+=a,n.sel=new wi(Ot(n.sel.ranges,function(v){return new qn(Be(v.anchor.line+a,v.anchor.ch),Be(v.head.line+a,v.head.ch))}),n.sel.primIndex),n.cm)){_r(n.cm,n.first,n.first-a,a);for(var p=n.cm.display,d=p.viewFrom;d<p.viewTo;d++)fr(n.cm,d,"gutter")}}function Wu(n,a,p,d){if(n.cm&&!n.cm.curOp)return Rn(n.cm,Wu)(n,a,p,d);if(a.to.line<n.first){Mf(n,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>n.lastLine())){if(a.from.line<n.first){var v=a.text.length-1-(n.first-a.from.line);Mf(n,v),a={from:Be(n.first,0),to:Be(a.to.line+v,a.to.ch),text:[vt(a.text)],origin:a.origin}}var C=n.lastLine();a.to.line>C&&(a={from:a.from,to:Be(C,Lt(n,C).text.length),text:[a.text[0]],origin:a.origin}),a.removed=tr(n,a.from,a.to),p||(p=Cl(n,a)),n.cm?kc(n.cm,a,d):nu(n,a,d),dr(n,p,kt),n.cantEdit&&au(n,Be(n.firstLine(),0))&&(n.cantEdit=!1)}}function kc(n,a,p){var d=n.doc,v=n.display,C=a.from,M=a.to,z=!1,Z=C.line;n.options.lineWrapping||(Z=K(Wn(Lt(d,C.line))),d.iter(Z,M.line+1,function(De){if(De==v.maxLine)return z=!0,!0})),d.sel.contains(a.from,a.to)>-1&&ln(n),nu(d,a,p,_l(n)),n.options.lineWrapping||(d.iter(Z,C.line+a.text.length,function(De){var je=ps(De);je>v.maxLineLength&&(v.maxLine=De,v.maxLineLength=je,v.maxLineChanged=!0,z=!1)}),z&&(n.curOp.updateMaxLine=!0)),Un(d,C.line),Bu(n,400);var X=a.text.length-(M.line-C.line)-1;a.full?_r(n):C.line==M.line&&a.text.length==1&&!tu(n.doc,a)?fr(n,C.line,"text"):_r(n,C.line,M.line+1,X);var he=et(n,"changes"),ye=et(n,"change");if(ye||he){var Pe={from:C,to:M,text:a.text,removed:a.removed,origin:a.origin};ye&&ai(n,"change",n,Pe),he&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(Pe)}n.display.selForContextMenu=null}function Ss(n,a,p,d,v){var C;d||(d=p),ft(d,p)<0&&(C=[d,p],p=C[0],d=C[1]),typeof a=="string"&&(a=n.splitLines(a)),uu(n,{from:p,to:d,text:a,origin:v})}function Of(n,a,p,d){p<n.line?n.line+=d:a<n.line&&(n.line=a,n.ch=0)}function Pf(n,a,p,d){for(var v=0;v<n.length;++v){var C=n[v],M=!0;if(C.ranges){C.copied||(C=n[v]=C.deepCopy(),C.copied=!0);for(var z=0;z<C.ranges.length;z++)Of(C.ranges[z].anchor,a,p,d),Of(C.ranges[z].head,a,p,d);continue}for(var Z=0;Z<C.changes.length;++Z){var X=C.changes[Z];if(p<X.from.line)X.from=Be(X.from.line+d,X.from.ch),X.to=Be(X.to.line+d,X.to.ch);else if(a<=X.to.line){M=!1;break}}M||(n.splice(0,v+1),v=0)}}function Ff(n,a){var p=a.from.line,d=a.to.line,v=a.text.length-(d-p)-1;Pf(n.done,p,d,v),Pf(n.undone,p,d,v)}function lu(n,a,p,d){var v=a,C=a;return typeof a=="number"?C=Lt(n,co(n,a)):v=K(a),v==null?null:(d(C,v)&&n.cm&&fr(n.cm,v,p),C)}function Ts(n){this.lines=n,this.parent=null;for(var a=0,p=0;p<n.length;++p)n[p].parent=this,a+=n[p].height;this.height=a}Ts.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,a){for(var p=n,d=n+a;p<d;++p){var v=this.lines[p];this.height-=v.height,di(v),ai(v,"delete")}this.lines.splice(n,a)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,a,p){this.height+=p,this.lines=this.lines.slice(0,n).concat(a).concat(this.lines.slice(n));for(var d=0;d<a.length;++d)a[d].parent=this},iterN:function(n,a,p){for(var d=n+a;n<d;++n)if(p(this.lines[n]))return!0}};function qu(n){this.children=n;for(var a=0,p=0,d=0;d<n.length;++d){var v=n[d];a+=v.chunkSize(),p+=v.height,v.parent=this}this.size=a,this.height=p,this.parent=null}qu.prototype={chunkSize:function(){return this.size},removeInner:function(n,a){this.size-=a;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(n<v){var C=Math.min(a,v-n),M=d.height;if(d.removeInner(n,C),this.height-=M-d.height,v==C&&(this.children.splice(p--,1),d.parent=null),(a-=C)==0)break;n=0}else n-=v}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof Ts))){var z=[];this.collapse(z),this.children=[new Ts(z)],this.children[0].parent=this}},collapse:function(n){for(var a=0;a<this.children.length;++a)this.children[a].collapse(n)},insertInner:function(n,a,p){this.size+=a.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],C=v.chunkSize();if(n<=C){if(v.insertInner(n,a,p),v.lines&&v.lines.length>50){for(var M=v.lines.length%25+25,z=M;z<v.lines.length;){var Z=new Ts(v.lines.slice(z,z+=25));v.height-=Z.height,this.children.splice(++d,0,Z),Z.parent=this}v.lines=v.lines.slice(0,M),this.maybeSpill()}break}n-=C}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var a=n.children.splice(n.children.length-5,5),p=new qu(a);if(n.parent){n.size-=p.size,n.height-=p.height;var v=Ge(n.parent.children,n);n.parent.children.splice(v+1,0,p)}else{var d=new qu(n.children);d.parent=n,n.children=[d,p],n=d}p.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,a,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],C=v.chunkSize();if(n<C){var M=Math.min(a,C-n);if(v.iterN(n,M,p))return!0;if((a-=M)==0)break;n=0}else n-=C}}};var As=function(n,a,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=n,this.node=a};As.prototype.clear=function(){var n=this.doc.cm,a=this.line.widgets,p=this.line,d=K(p);if(!(d==null||!a)){for(var v=0;v<a.length;++v)a[v]==this&&a.splice(v--,1);a.length||(p.widgets=null);var C=To(this);Ui(p,Math.max(0,p.height-C)),n&&(nr(n,function(){Cc(n,p,-C),fr(n,d,"widget")}),ai(n,"lineWidgetCleared",n,this,d))}},As.prototype.changed=function(){var n=this,a=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=To(this)-a;v&&(yi(this.doc,d)||Ui(d,d.height+v),p&&nr(p,function(){p.curOp.forceUpdate=!0,Cc(p,d,v),ai(p,"lineWidgetChanged",p,n,K(d))}))},We(As);function Cc(n,a,p){eo(a)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&A(n,p)}function Rf(n,a,p,d){var v=new As(n,p,d),C=n.cm;return C&&v.noHScroll&&(C.display.alignWidgets=!0),lu(n,a,"widget",function(M){var z=M.widgets||(M.widgets=[]);if(v.insertAt==null?z.push(v):z.splice(Math.min(z.length,Math.max(0,v.insertAt)),0,v),v.line=M,C&&!yi(n,M)){var Z=eo(M)<n.scrollTop;Ui(M,M.height+To(v)),Z&&A(C,v.height),C.curOp.forceUpdate=!0}return!0}),C&&ai(C,"lineWidgetAdded",C,v,typeof a=="number"?a:K(a)),v}var Ec=0,Ro=function(n,a){this.lines=[],this.type=a,this.doc=n,this.id=++Ec};Ro.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,a=n&&!n.curOp;if(a&&wa(n),et(this,"clear")){var p=this.find();p&&ai(this,"clear",p.from,p.to)}for(var d=null,v=null,C=0;C<this.lines.length;++C){var M=this.lines[C],z=nn(M.markedSpans,this);n&&!this.collapsed?fr(n,K(M),"text"):n&&(z.to!=null&&(v=K(M)),z.from!=null&&(d=K(M))),M.markedSpans=ht(M.markedSpans,z),z.from==null&&this.collapsed&&!yi(this.doc,M)&&n&&Ui(M,to(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var Z=0;Z<this.lines.length;++Z){var X=Wn(this.lines[Z]),he=ps(X);he>n.display.maxLineLength&&(n.display.maxLine=X,n.display.maxLineLength=he,n.display.maxLineChanged=!0)}d!=null&&n&&this.collapsed&&_r(n,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&Tf(n.doc)),n&&ai(n,"markerCleared",n,this,d,v),a&&ia(n),this.parent&&this.parent.clear()}},Ro.prototype.find=function(n,a){n==null&&this.type=="bookmark"&&(n=1);for(var p,d,v=0;v<this.lines.length;++v){var C=this.lines[v],M=nn(C.markedSpans,this);if(M.from!=null&&(p=Be(a?C:K(C),M.from),n==-1))return p;if(M.to!=null&&(d=Be(a?C:K(C),M.to),n==1))return d}return p&&{from:p,to:d}},Ro.prototype.changed=function(){var n=this,a=this.find(-1,!0),p=this,d=this.doc.cm;!a||!d||nr(d,function(){var v=a.line,C=K(a.line),M=Ha(d,C);if(M&&(Xs(M),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!yi(p.doc,v)&&p.height!=null){var z=p.height;p.height=null;var Z=To(p)-z;Z&&Ui(v,v.height+Z)}ai(d,"markerChanged",d,n)})},Ro.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||Ge(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},Ro.prototype.detachLine=function(n){if(this.lines.splice(Ge(this.lines,n),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},We(Ro);function cu(n,a,p,d,v){if(d&&d.shared)return Nf(n,a,p,d,v);if(n.cm&&!n.cm.curOp)return Rn(n.cm,cu)(n,a,p,d,v);var C=new Ro(n,v),M=ft(a,p);if(d&&we(d,C,!1),M>0||M==0&&C.clearWhenEmpty!==!1)return C;if(C.replacedWith&&(C.collapsed=!0,C.widgetNode=ae("span",[C.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||C.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(C.widgetNode.insertLeft=!0)),C.collapsed){if(yn(n,a.line,a,p,C)||a.line!=p.line&&yn(n,p.line,a,p,C))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ft()}C.addToHistory&&yc(n,{from:a,to:p,origin:"markText"},n.sel,NaN);var z=a.line,Z=n.cm,X;if(n.iter(z,p.line+1,function(ye){Z&&C.collapsed&&!Z.options.lineWrapping&&Wn(ye)==Z.display.maxLine&&(X=!0),C.collapsed&&z!=a.line&&Ui(ye,0),En(ye,new ci(C,z==a.line?a.ch:null,z==p.line?p.ch:null),n.cm&&n.cm.curOp),++z}),C.collapsed&&n.iter(a.line,p.line+1,function(ye){yi(n,ye)&&Ui(ye,0)}),C.clearOnEnter&&Pt(C,"beforeCursorEnter",function(){return C.clear()}),C.readOnly&&(bi(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),C.collapsed&&(C.id=++Ec,C.atomic=!0),Z){if(X&&(Z.curOp.updateMaxLine=!0),C.collapsed)_r(Z,a.line,p.line+1);else if(C.className||C.startStyle||C.endStyle||C.css||C.attributes||C.title)for(var he=a.line;he<=p.line;he++)fr(Z,he,"text");C.atomic&&Tf(Z.doc),ai(Z,"markerAdded",Z,C)}return C}var fu=function(n,a){this.markers=n,this.primary=a;for(var p=0;p<n.length;++p)n[p].parent=this};fu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();ai(this,"clear")}},fu.prototype.find=function(n,a){return this.primary.find(n,a)},We(fu);function Nf(n,a,p,d,v){d=we(d),d.shared=!1;var C=[cu(n,a,p,d,v)],M=C[0],z=d.widgetNode;return Ga(n,function(Z){z&&(d.widgetNode=z.cloneNode(!0)),C.push(cu(Z,Wt(Z,a),Wt(Z,p),d,v));for(var X=0;X<Z.linked.length;++X)if(Z.linked[X].isParent)return;M=vt(C)}),new fu(C,M)}function zf(n){return n.findMarks(Be(n.first,0),n.clipPos(Be(n.lastLine())),function(a){return a.parent})}function If(n,a){for(var p=0;p<a.length;p++){var d=a[p],v=d.find(),C=n.clipPos(v.from),M=n.clipPos(v.to);if(ft(C,M)){var z=cu(n,C,M,d.primary,d.primary.type);d.markers.push(z),z.parent=d}}}function hd(n){for(var a=function(d){var v=n[d],C=[v.primary.doc];Ga(v.primary.doc,function(Z){return C.push(Z)});for(var M=0;M<v.markers.length;M++){var z=v.markers[M];Ge(C,z.doc)==-1&&(z.parent=null,v.markers.splice(M--,1))}},p=0;p<n.length;p++)a(p)}var Sc=0,Dr=function(n,a,p,d,v){if(!(this instanceof Dr))return new Dr(n,a,p,d,v);p==null&&(p=0),qu.call(this,[new Ts([new Co("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var C=Be(p,0);this.sel=Ua(C),this.history=new iu(null),this.id=++Sc,this.modeOption=a,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),nu(this,{from:C,to:C,text:n}),hr(this,Ua(C),kt)};Dr.prototype=qe(qu.prototype,{constructor:Dr,iter:function(n,a,p){p?this.iterN(n-this.first,a-n,p):this.iterN(this.first,this.first+this.size,n)},insert:function(n,a){for(var p=0,d=0;d<a.length;++d)p+=a[d].height;this.insertInner(n-this.first,a,p)},remove:function(n,a){this.removeInner(n-this.first,a)},getValue:function(n){var a=lr(this,this.first,this.first+this.size);return n===!1?a:a.join(n||this.lineSeparator())},setValue:Ri(function(n){var a=Be(this.first,0),p=this.first+this.size-1;uu(this,{from:a,to:Be(p,Lt(this,p).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&ne(this.cm,0,0),hr(this,Ua(a),kt)}),replaceRange:function(n,a,p,d){a=Wt(this,a),p=p?Wt(this,p):a,Ss(this,n,a,p,d)},getRange:function(n,a,p){var d=tr(this,Wt(this,n),Wt(this,a));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(n){var a=this.getLineHandle(n);return a&&a.text},getLineHandle:function(n){if(Ne(this,n))return Lt(this,n)},getLineNumber:function(n){return K(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=Lt(this,n)),Wn(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return Wt(this,n)},getCursor:function(n){var a=this.sel.primary(),p;return n==null||n=="head"?p=a.head:n=="anchor"?p=a.anchor:n=="end"||n=="to"||n===!1?p=a.to():p=a.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ri(function(n,a,p){Sl(this,Wt(this,typeof n=="number"?Be(n,a||0):n),null,p)}),setSelection:Ri(function(n,a,p){Sl(this,Wt(this,n),Wt(this,a||n),p)}),extendSelection:Ri(function(n,a,p){ru(this,Wt(this,n),a&&Wt(this,a),p)}),extendSelections:Ri(function(n,a){xc(this,y(this,n),a)}),extendSelectionsBy:Ri(function(n,a){var p=Ot(this.sel.ranges,n);xc(this,y(this,p),a)}),setSelections:Ri(function(n,a,p){if(n.length){for(var d=[],v=0;v<n.length;v++)d[v]=new qn(Wt(this,n[v].anchor),Wt(this,n[v].head||n[v].anchor));a==null&&(a=Math.min(n.length-1,this.sel.primIndex)),hr(this,Po(this.cm,d,a),p)}}),addSelection:Ri(function(n,a,p){var d=this.sel.ranges.slice(0);d.push(new qn(Wt(this,n),Wt(this,a||n))),hr(this,Po(this.cm,d,d.length-1),p)}),getSelection:function(n){for(var a=this.sel.ranges,p,d=0;d<a.length;d++){var v=tr(this,a[d].from(),a[d].to());p=p?p.concat(v):v}return n===!1?p:p.join(n||this.lineSeparator())},getSelections:function(n){for(var a=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=tr(this,p[d].from(),p[d].to());n!==!1&&(v=v.join(n||this.lineSeparator())),a[d]=v}return a},replaceSelection:function(n,a,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=n;this.replaceSelections(d,a,p||"+input")},replaceSelections:Ri(function(n,a,p){for(var d=[],v=this.sel,C=0;C<v.ranges.length;C++){var M=v.ranges[C];d[C]={from:M.from(),to:M.to(),text:this.splitLines(n[C]),origin:p}}for(var z=a&&a!="end"&&ld(this,d,a),Z=d.length-1;Z>=0;Z--)uu(this,d[Z]);z?Xa(this,z):this.cm&&H(this.cm)}),undo:Ri(function(){Va(this,"undo")}),redo:Ri(function(){Va(this,"redo")}),undoSelection:Ri(function(){Va(this,"undo",!0)}),redoSelection:Ri(function(){Va(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,a=0,p=0,d=0;d<n.done.length;d++)n.done[d].ranges||++a;for(var v=0;v<n.undone.length;v++)n.undone[v].ranges||++p;return{undo:a,redo:p}},clearHistory:function(){var n=this;this.history=new iu(this.history),Ga(this,function(a){return a.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:Es(this.history.done),undone:Es(this.history.undone)}},setHistory:function(n){var a=this.history=new iu(this.history);a.done=Es(n.done.slice(0),null,!0),a.undone=Es(n.undone.slice(0),null,!0)},setGutterMarker:Ri(function(n,a,p){return lu(this,n,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[a]=p,!p&&qi(v)&&(d.gutterMarkers=null),!0})}),clearGutter:Ri(function(n){var a=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[n]&&lu(a,p,"gutter",function(){return p.gutterMarkers[n]=null,qi(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(n){var a;if(typeof n=="number"){if(!Ne(this,n)||(a=n,n=Lt(this,n),!n))return null}else if(a=K(n),a==null)return null;return{line:a,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:Ri(function(n,a,p){return lu(this,n,a=="gutter"?"gutter":"class",function(d){var v=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if(ue(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:Ri(function(n,a,p){return lu(this,n,a=="gutter"?"gutter":"class",function(d){var v=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",C=d[v];if(C)if(p==null)d[v]=null;else{var M=C.match(ue(p));if(!M)return!1;var z=M.index+M[0].length;d[v]=C.slice(0,M.index)+(!M.index||z==C.length?"":" ")+C.slice(z)||null}else return!1;return!0})}),addLineWidget:Ri(function(n,a,p){return Rf(this,n,a,p)}),removeLineWidget:function(n){n.clear()},markText:function(n,a,p){return cu(this,Wt(this,n),Wt(this,a),p,p&&p.type||"range")},setBookmark:function(n,a){var p={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return n=Wt(this,n),cu(this,n,n,p,"bookmark")},findMarksAt:function(n){n=Wt(this,n);var a=[],p=Lt(this,n.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=n.ch)&&(v.to==null||v.to>=n.ch)&&a.push(v.marker.parent||v.marker)}return a},findMarks:function(n,a,p){n=Wt(this,n),a=Wt(this,a);var d=[],v=n.line;return this.iter(n.line,a.line+1,function(C){var M=C.markedSpans;if(M)for(var z=0;z<M.length;z++){var Z=M[z];!(Z.to!=null&&v==n.line&&n.ch>=Z.to||Z.from==null&&v!=n.line||Z.from!=null&&v==a.line&&Z.from>=a.ch)&&(!p||p(Z.marker))&&d.push(Z.marker.parent||Z.marker)}++v}),d},getAllMarks:function(){var n=[];return this.iter(function(a){var p=a.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&n.push(p[d].marker)}),n},posFromIndex:function(n){var a,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var C=v.text.length+d;if(C>n)return a=n,!0;n-=C,++p}),Wt(this,Be(p,a))},indexFromPos:function(n){n=Wt(this,n);var a=n.ch;if(n.line<this.first||n.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,n.line,function(d){a+=d.text.length+p}),a},copy:function(n){var a=new Dr(lr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,n&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(n){n||(n={});var a=this.first,p=this.first+this.size;n.from!=null&&n.from>a&&(a=n.from),n.to!=null&&n.to<p&&(p=n.to);var d=new Dr(lr(this,a,p),n.mode||this.modeOption,a,this.lineSep,this.direction);return n.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:n.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],If(d,zf(this)),d},unlinkDoc:function(n){if(n instanceof Bn&&(n=n.doc),this.linked)for(var a=0;a<this.linked.length;++a){var p=this.linked[a];if(p.doc==n){this.linked.splice(a,1),n.unlinkDoc(this),hd(zf(this));break}}if(n.history==this.history){var d=[n.id];Ga(n,function(v){return d.push(v.id)},!0),n.history=new iu(null),n.history.done=Es(this.history.done,d),n.history.undone=Es(this.history.undone,d)}},iterLinkedDocs:function(n){Ga(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):dn(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ri(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(a){return a.order=null}),this.cm&&Ca(this.cm))})}),Dr.prototype.eachLine=Dr.prototype.iter;var Dl=0;function dd(n){var a=this;if(Bf(a),!(an(a,n)||Zi(a.display,n))){at(n),b&&(Dl=+new Date);var p=no(a,n,!0),d=n.dataTransfer.files;if(!(!p||a.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,C=Array(v),M=0,z=function(){++M==v&&Rn(a,function(){p=Wt(a.doc,p);var De={from:p,to:p,text:a.doc.splitLines(C.filter(function(je){return je!=null}).join(a.doc.lineSeparator())),origin:"paste"};uu(a.doc,De),Xa(a.doc,Ua(Wt(a.doc,p),Wt(a.doc,Za(De))))})()},Z=function(De,je){if(a.options.allowDropFileTypes&&Ge(a.options.allowDropFileTypes,De.type)==-1){z();return}var tt=new FileReader;tt.onerror=function(){return z()},tt.onload=function(){var ct=tt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ct)){z();return}C[je]=ct,z()},tt.readAsText(De)},X=0;X<d.length;X++)Z(d[X],X);else{if(a.state.draggingText&&a.doc.sel.contains(p)>-1){a.state.draggingText(n),setTimeout(function(){return a.display.input.focus()},20);return}try{var he=n.dataTransfer.getData("Text");if(he){var ye;if(a.state.draggingText&&!a.state.draggingText.copy&&(ye=a.listSelections()),dr(a.doc,Ua(p,p)),ye)for(var Pe=0;Pe<ye.length;++Pe)Ss(a.doc,"",ye[Pe].anchor,ye[Pe].head,"drag");a.replaceSelection(he,"around","paste"),a.display.input.focus()}}catch{}}}}function Tc(n,a){if(b&&(!n.state.draggingText||+new Date-Dl<100)){sn(a);return}if(!(an(n,a)||Zi(n.display,a))&&(a.dataTransfer.setData("Text",n.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!j)){var p=O("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F&&(p.width=p.height=1,n.display.wrapper.appendChild(p),p._top=p.offsetTop),a.dataTransfer.setDragImage(p,0,0),F&&p.parentNode.removeChild(p)}}function wn(n,a){var p=no(n,a);if(p){var d=document.createDocumentFragment();xs(n,p,d),n.display.dragCursor||(n.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),ie(n.display.dragCursor,d)}}function Bf(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function $f(n){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<a.length;d++){var v=a[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var C=0;C<p.length;C++)n(p[C])})}}var hu=!1;function Hf(){hu||(pd(),hu=!0)}function pd(){var n;Pt(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,$f(md)},100))}),Pt(window,"blur",function(){return $f(xa)})}function md(n){var a=n.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,n.setSize()}for(var rr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ju=0;ju<10;ju++)rr[ju+48]=rr[ju+96]=String(ju);for(var Ds=65;Ds<=90;Ds++)rr[Ds]=String.fromCharCode(Ds);for(var Ls=1;Ls<=12;Ls++)rr[Ls+111]=rr[Ls+63235]="F"+Ls;var oa={};oa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},oa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},oa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},oa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},oa.default=I?oa.macDefault:oa.pcDefault;function Wf(n){var a=n.split(/-(?!$)/);n=a[a.length-1];for(var p,d,v,C,M=0;M<a.length-1;M++){var z=a[M];if(/^(cmd|meta|m)$/i.test(z))C=!0;else if(/^a(lt)?$/i.test(z))p=!0;else if(/^(c|ctrl|control)$/i.test(z))d=!0;else if(/^s(hift)?$/i.test(z))v=!0;else throw new Error("Unrecognized modifier name: "+z)}return p&&(n="Alt-"+n),d&&(n="Ctrl-"+n),C&&(n="Cmd-"+n),v&&(n="Shift-"+n),n}function oo(n){var a={};for(var p in n)if(n.hasOwnProperty(p)){var d=n[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete n[p];continue}for(var v=Ot(p.split(" "),Wf),C=0;C<v.length;C++){var M=void 0,z=void 0;C==v.length-1?(z=v.join(" "),M=d):(z=v.slice(0,C+1).join(" "),M="...");var Z=a[z];if(!Z)a[z]=M;else if(Z!=M)throw new Error("Inconsistent bindings for "+z)}delete n[p]}for(var X in a)n[X]=a[X];return n}function ao(n,a,p,d){a=Uu(a);var v=a.call?a.call(n,d):a[n];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return ao(n,a.fallthrough,p,d);for(var C=0;C<a.fallthrough.length;C++){var M=ao(n,a.fallthrough[C],p,d);if(M)return M}}}function Ll(n){var a=typeof n=="string"?n:rr[n.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function Ac(n,a,p){var d=n;return a.altKey&&d!="Alt"&&(n="Alt-"+n),(ce?a.metaKey:a.ctrlKey)&&d!="Ctrl"&&(n="Ctrl-"+n),(ce?a.ctrlKey:a.metaKey)&&d!="Mod"&&(n="Cmd-"+n),!p&&a.shiftKey&&d!="Shift"&&(n="Shift-"+n),n}function Yu(n,a){if(F&&n.keyCode==34&&n.char)return!1;var p=rr[n.keyCode];return p==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(p=n.code),Ac(p,n,a))}function Uu(n){return typeof n=="string"?oa[n]:n}function Ka(n,a){for(var p=n.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var C=a(p[v]);d.length&&ft(C.from,vt(d).to)<=0;){var M=d.pop();if(ft(M.from,C.from)<0){C.from=M.from;break}}d.push(C)}nr(n,function(){for(var z=d.length-1;z>=0;z--)Ss(n.doc,"",d[z].from,d[z].to,"+delete");H(n)})}function Ml(n,a,p){var d=vi(n.text,a+p,p);return d<0||d>n.text.length?null:d}function Zu(n,a,p){var d=Ml(n,a.ch,p);return d==null?null:new Be(a.line,d,p<0?"after":"before")}function Gu(n,a,p,d,v){if(n){a.doc.direction=="rtl"&&(v=-v);var C=Zt(p,a.doc.direction);if(C){var M=v<0?vt(C):C[0],z=v<0==(M.level==1),Z=z?"after":"before",X;if(M.level>0||a.doc.direction=="rtl"){var he=Hr(a,p);X=v<0?p.text.length-1:0;var ye=_i(a,he,X).top;X=Gn(function(Pe){return _i(a,he,Pe).top==ye},v<0==(M.level==1)?M.from:M.to-1,X),Z=="before"&&(X=Ml(p,X,1))}else X=v<0?M.to:M.from;return new Be(d,X,Z)}}return new Be(d,v<0?p.text.length:0,v<0?"before":"after")}function Qa(n,a,p,d){var v=Zt(a,n.doc.direction);if(!v)return Zu(a,p,d);p.ch>=a.text.length?(p.ch=a.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var C=Tt(v,p.ch,p.sticky),M=v[C];if(n.doc.direction=="ltr"&&M.level%2==0&&(d>0?M.to>p.ch:M.from<p.ch))return Zu(a,p,d);var z=function(pt,gt){return Ml(a,pt instanceof Be?pt.ch:pt,gt)},Z,X=function(pt){return n.options.lineWrapping?(Z=Z||Hr(n,a),Zn(n,a,Z,pt)):{begin:0,end:a.text.length}},he=X(p.sticky=="before"?z(p,-1):p.ch);if(n.doc.direction=="rtl"||M.level==1){var ye=M.level==1==d<0,Pe=z(p,ye?1:-1);if(Pe!=null&&(ye?Pe<=M.to&&Pe<=he.end:Pe>=M.from&&Pe>=he.begin)){var De=ye?"before":"after";return new Be(p.line,Pe,De)}}var je=function(pt,gt,dt){for(var Ct=function(Qn,Li){return Li?new Be(p.line,z(Qn,1),"before"):new Be(p.line,Qn,"after")};pt>=0&&pt<v.length;pt+=gt){var It=v[pt],Nt=gt>0==(It.level!=1),fn=Nt?dt.begin:z(dt.end,-1);if(It.from<=fn&&fn<It.to||(fn=Nt?It.from:z(It.to,-1),dt.begin<=fn&&fn<dt.end))return Ct(fn,Nt)}},tt=je(C+d,d,he);if(tt)return tt;var ct=d>0?he.end:z(he.begin,-1);return ct!=null&&!(d>0&&ct==a.text.length)&&(tt=je(d>0?0:v.length-1,d,X(ct)),tt)?tt:null}var Xu={selectAll:su,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),kt)},killLine:function(n){return Ka(n,function(a){if(a.empty()){var p=Lt(n.doc,a.head.line).text.length;return a.head.ch==p&&a.head.line<n.lastLine()?{from:a.head,to:Be(a.head.line+1,0)}:{from:a.head,to:Be(a.head.line,p)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(n){return Ka(n,function(a){return{from:Be(a.from().line,0),to:Wt(n.doc,Be(a.to().line+1,0))}})},delLineLeft:function(n){return Ka(n,function(a){return{from:Be(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(n){return Ka(n,function(a){var p=n.charCoords(a.head,"div").top+5,d=n.coordsChar({left:0,top:p},"div");return{from:d,to:a.from()}})},delWrappedLineRight:function(n){return Ka(n,function(a){var p=n.charCoords(a.head,"div").top+5,d=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:p},"div");return{from:a.from(),to:d}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(Be(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(Be(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(a){return Sa(n,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(a){return Dc(n,a.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(a){return qf(n,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(a){var p=n.cursorCoords(a.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:p},"div")},mt)},goLineLeft:function(n){return n.extendSelectionsBy(function(a){var p=n.cursorCoords(a.head,"div").top+5;return n.coordsChar({left:0,top:p},"div")},mt)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(a){var p=n.cursorCoords(a.head,"div").top+5,d=n.coordsChar({left:0,top:p},"div");return d.ch<n.getLine(d.line).search(/\S/)?Dc(n,a.head):d},mt)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var a=[],p=n.listSelections(),d=n.options.tabSize,v=0;v<p.length;v++){var C=p[v].from(),M=Ie(n.getLine(C.line),C.ch,d);a.push(hn(d-M%d))}n.replaceSelections(a)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return nr(n,function(){for(var a=n.listSelections(),p=[],d=0;d<a.length;d++)if(a[d].empty()){var v=a[d].head,C=Lt(n.doc,v.line).text;if(C){if(v.ch==C.length&&(v=new Be(v.line,v.ch-1)),v.ch>0)v=new Be(v.line,v.ch+1),n.replaceRange(C.charAt(v.ch-1)+C.charAt(v.ch-2),Be(v.line,v.ch-2),v,"+transpose");else if(v.line>n.doc.first){var M=Lt(n.doc,v.line-1).text;M&&(v=new Be(v.line,1),n.replaceRange(C.charAt(0)+n.doc.lineSeparator()+M.charAt(M.length-1),Be(v.line-1,M.length-1),v,"+transpose"))}}p.push(new qn(v,v))}n.setSelections(p)})},newlineAndIndent:function(n){return nr(n,function(){for(var a=n.listSelections(),p=a.length-1;p>=0;p--)n.replaceRange(n.doc.lineSeparator(),a[p].anchor,a[p].head,"+input");a=n.listSelections();for(var d=0;d<a.length;d++)n.indentLine(a[d].from().line,null,!0);H(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function Sa(n,a){var p=Lt(n.doc,a),d=Wn(p);return d!=p&&(a=K(d)),Gu(!0,n,d,a,1)}function qf(n,a){var p=Lt(n.doc,a),d=br(p);return d!=p&&(a=K(d)),Gu(!0,n,p,a,-1)}function Dc(n,a){var p=Sa(n,a.line),d=Lt(n.doc,p.line),v=Zt(d,n.doc.direction);if(!v||v[0].level==0){var C=Math.max(p.ch,d.text.search(/\S/)),M=a.line==p.line&&a.ch<=C&&a.ch;return Be(p.line,M?0:C,p.sticky)}return p}function du(n,a,p){if(typeof a=="string"&&(a=Xu[a],!a))return!1;n.display.input.ensurePolled();var d=n.display.shift,v=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),p&&(n.display.shift=!1),v=a(n)!=wt}finally{n.display.shift=d,n.state.suppressEdits=!1}return v}function gd(n,a,p){for(var d=0;d<n.state.keyMaps.length;d++){var v=ao(a,n.state.keyMaps[d],p,n);if(v)return v}return n.options.extraKeys&&ao(a,n.options.extraKeys,p,n)||ao(a,n.options.keyMap,p,n)}var vd=new Ye;function Vu(n,a,p,d){var v=n.state.keySeq;if(v){if(Ll(a))return"handled";if(/\'$/.test(a)?n.state.keySeq=null:vd.set(50,function(){n.state.keySeq==v&&(n.state.keySeq=null,n.display.input.reset())}),Lc(n,v+" "+a,p,d))return!0}return Lc(n,a,p,d)}function Lc(n,a,p,d){var v=gd(n,a,d);return v=="multi"&&(n.state.keySeq=a),v=="handled"&&ai(n,"keyHandled",n,a,p),(v=="handled"||v=="multi")&&(at(p),ta(n)),!!v}function Mc(n,a){var p=Yu(a,!0);return p?a.shiftKey&&!n.state.keySeq?Vu(n,"Shift-"+p,a,function(d){return du(n,d,!0)})||Vu(n,p,a,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return du(n,d)}):Vu(n,p,a,function(d){return du(n,d)}):!1}function bd(n,a,p){return Vu(n,"'"+p+"'",a,function(d){return du(n,d,!0)})}var Ol=null;function Oc(n){var a=this;if(!(n.target&&n.target!=a.display.input.getField())&&(a.curOp.focus=Ve(Ce(a)),!an(a,n))){b&&w<11&&n.keyCode==27&&(n.returnValue=!1);var p=n.keyCode;a.display.shift=p==16||n.shiftKey;var d=Mc(a,n);F&&(Ol=d?p:null,!d&&p==88&&!Jn&&(I?n.metaKey:n.ctrlKey)&&a.replaceSelection("",null,"cut")),u&&!I&&!d&&p==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&Xr(a)}}function Xr(n){var a=n.display.lineDiv;Fe(a,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(Te(a,"CodeMirror-crosshair"),vn(document,"keyup",p),vn(document,"mouseover",p))}Pt(document,"keyup",p),Pt(document,"mouseover",p)}function No(n){n.keyCode==16&&(this.doc.sel.shift=!1),an(this,n)}function jf(n){var a=this;if(!(n.target&&n.target!=a.display.input.getField())&&!(Zi(a.display,n)||an(a,n)||n.ctrlKey&&!n.altKey||I&&n.metaKey)){var p=n.keyCode,d=n.charCode;if(F&&p==Ol){Ol=null,at(n);return}if(!(F&&(!n.which||n.which<10)&&Mc(a,n))){var v=String.fromCharCode(d??p);v!="\b"&&(bd(a,n,v)||a.display.input.onKeyPress(n))}}}var yd=400,pu=function(n,a,p){this.time=n,this.pos=a,this.button=p};pu.prototype.compare=function(n,a,p){return this.time+yd>n&&ft(a,this.pos)==0&&p==this.button};var aa,mu;function Yf(n,a){var p=+new Date;return mu&&mu.compare(p,n,a)?(aa=mu=null,"triple"):aa&&aa.compare(p,n,a)?(mu=new pu(p,n,a),aa=null,"double"):(aa=new pu(p,n,a),mu=null,"single")}function Uf(n){var a=this,p=a.display;if(!(an(a,n)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=n.shiftKey,Zi(p,n)){x||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!vu(a,n)){var d=no(a,n),v=Ht(n),C=d?Yf(d,v):"single";G(a).focus(),v==1&&a.state.selectingText&&a.state.selectingText(n),!(d&&Zf(a,v,d,C,n))&&(v==1?d?Ku(a,d,C,n):At(n)==p.scroller&&at(n):v==2?(d&&ru(a.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&(fe?a.display.input.onContextMenu(n):_a(a)))}}}function Zf(n,a,p,d,v){var C="Click";return d=="double"?C="Double"+C:d=="triple"&&(C="Triple"+C),C=(a==1?"Left":a==2?"Middle":"Right")+C,Vu(n,Ac(C,v),v,function(M){if(typeof M=="string"&&(M=Xu[M]),!M)return!1;var z=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),z=M(n,p)!=wt}finally{n.state.suppressEdits=!1}return z})}function gu(n,a,p){var d=n.getOption("configureMouse"),v=d?d(n,a,p):{};if(v.unit==null){var C=V?p.shiftKey&&p.metaKey:p.altKey;v.unit=C?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(v.extend==null||n.doc.extend)&&(v.extend=n.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=I?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(I?p.altKey:p.ctrlKey)),v}function Ku(n,a,p,d){b?setTimeout(ge(Lo,n),0):n.curOp.focus=Ve(Ce(n));var v=gu(n,p,d),C=n.doc.sel,M;n.options.dragDrop&&Tn&&!n.isReadOnly()&&p=="single"&&(M=C.contains(a))>-1&&(ft((M=C.ranges[M]).from(),a)<0||a.xRel>0)&&(ft(M.to(),a)>0||a.xRel<0)?_d(n,d,a,v):Gf(n,d,a,v)}function _d(n,a,p,d){var v=n.display,C=!1,M=Rn(n,function(X){x&&(v.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:_a(n)),vn(v.wrapper.ownerDocument,"mouseup",M),vn(v.wrapper.ownerDocument,"mousemove",z),vn(v.scroller,"dragstart",Z),vn(v.scroller,"drop",M),C||(at(X),d.addNew||ru(n.doc,p,null,null,d.extend),x&&!j||b&&w==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),z=function(X){C=C||Math.abs(a.clientX-X.clientX)+Math.abs(a.clientY-X.clientY)>=10},Z=function(){return C=!0};x&&(v.scroller.draggable=!0),n.state.draggingText=M,M.copy=!d.moveOnDrag,Pt(v.wrapper.ownerDocument,"mouseup",M),Pt(v.wrapper.ownerDocument,"mousemove",z),Pt(v.scroller,"dragstart",Z),Pt(v.scroller,"drop",M),n.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function Pc(n,a,p){if(p=="char")return new qn(a,a);if(p=="word")return n.findWordAt(a);if(p=="line")return new qn(Be(a.line,0),Wt(n.doc,Be(a.line+1,0)));var d=p(n,a);return new qn(d.from,d.to)}function Gf(n,a,p,d){b&&_a(n);var v=n.display,C=n.doc;at(a);var M,z,Z=C.sel,X=Z.ranges;if(d.addNew&&!d.extend?(z=C.sel.contains(p),z>-1?M=X[z]:M=new qn(p,p)):(M=C.sel.primary(),z=C.sel.primIndex),d.unit=="rectangle")d.addNew||(M=new qn(p,p)),p=no(n,a,!0,!0),z=-1;else{var he=Pc(n,p,d.unit);d.extend?M=ir(M,he.anchor,he.head,d.extend):M=he}d.addNew?z==-1?(z=X.length,hr(C,Po(n,X.concat([M]),z),{scroll:!1,origin:"*mouse"})):X.length>1&&X[z].empty()&&d.unit=="char"&&!d.extend?(hr(C,Po(n,X.slice(0,z).concat(X.slice(z+1)),0),{scroll:!1,origin:"*mouse"}),Z=C.sel):go(C,z,M,Dt):(z=0,hr(C,new wi([M],0),Dt),Z=C.sel);var ye=p;function Pe(dt){if(ft(ye,dt)!=0)if(ye=dt,d.unit=="rectangle"){for(var Ct=[],It=n.options.tabSize,Nt=Ie(Lt(C,p.line).text,p.ch,It),fn=Ie(Lt(C,dt.line).text,dt.ch,It),Qn=Math.min(Nt,fn),Li=Math.max(Nt,fn),hi=Math.min(p.line,dt.line),ki=Math.min(n.lastLine(),Math.max(p.line,dt.line));hi<=ki;hi++){var Ni=Lt(C,hi).text,zi=Mt(Ni,Qn,It);Qn==Li?Ct.push(new qn(Be(hi,zi),Be(hi,zi))):Ni.length>zi&&Ct.push(new qn(Be(hi,zi),Be(hi,Mt(Ni,Li,It))))}Ct.length||Ct.push(new qn(p,p)),hr(C,Po(n,Z.ranges.slice(0,z).concat(Ct),z),{origin:"*mouse",scroll:!1}),n.scrollIntoView(dt)}else{var Lr=M,pr=Pc(n,dt,d.unit),Xi=Lr.anchor,Ii;ft(pr.anchor,Xi)>0?(Ii=pr.head,Xi=cn(Lr.from(),pr.anchor)):(Ii=pr.anchor,Xi=Rt(Lr.to(),pr.head));var Ci=Z.ranges.slice(0);Ci[z]=Pl(n,new qn(Wt(C,Xi),Ii)),hr(C,Po(n,Ci,z),Dt)}}var De=v.wrapper.getBoundingClientRect(),je=0;function tt(dt){var Ct=++je,It=no(n,dt,!0,d.unit=="rectangle");if(It)if(ft(It,ye)!=0){n.curOp.focus=Ve(Ce(n)),Pe(It);var Nt=na(v,C);(It.line>=Nt.to||It.line<Nt.from)&&setTimeout(Rn(n,function(){je==Ct&&tt(dt)}),150)}else{var fn=dt.clientY<De.top?-20:dt.clientY>De.bottom?20:0;fn&&setTimeout(Rn(n,function(){je==Ct&&(v.scroller.scrollTop+=fn,tt(dt))}),50)}}function ct(dt){n.state.selectingText=!1,je=1/0,dt&&(at(dt),v.input.focus()),vn(v.wrapper.ownerDocument,"mousemove",pt),vn(v.wrapper.ownerDocument,"mouseup",gt),C.history.lastSelOrigin=null}var pt=Rn(n,function(dt){dt.buttons===0||!Ht(dt)?ct(dt):tt(dt)}),gt=Rn(n,ct);n.state.selectingText=gt,Pt(v.wrapper.ownerDocument,"mousemove",pt),Pt(v.wrapper.ownerDocument,"mouseup",gt)}function Pl(n,a){var p=a.anchor,d=a.head,v=Lt(n.doc,p.line);if(ft(p,d)==0&&p.sticky==d.sticky)return a;var C=Zt(v);if(!C)return a;var M=Tt(C,p.ch,p.sticky),z=C[M];if(z.from!=p.ch&&z.to!=p.ch)return a;var Z=M+(z.from==p.ch==(z.level!=1)?0:1);if(Z==0||Z==C.length)return a;var X;if(d.line!=p.line)X=(d.line-p.line)*(n.doc.direction=="ltr"?1:-1)>0;else{var he=Tt(C,d.ch,d.sticky),ye=he-M||(d.ch-p.ch)*(z.level==1?-1:1);he==Z-1||he==Z?X=ye<0:X=ye>0}var Pe=C[Z+(X?-1:0)],De=X==(Pe.level==1),je=De?Pe.from:Pe.to,tt=De?"after":"before";return p.ch==je&&p.sticky==tt?a:new qn(new Be(p.line,je,tt),d)}function Fc(n,a,p,d){var v,C;if(a.touches)v=a.touches[0].clientX,C=a.touches[0].clientY;else try{v=a.clientX,C=a.clientY}catch{return!1}if(v>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;d&&at(a);var M=n.display,z=M.lineDiv.getBoundingClientRect();if(C>z.bottom||!et(n,p))return _t(a);C-=z.top-M.viewOffset;for(var Z=0;Z<n.display.gutterSpecs.length;++Z){var X=M.gutters.childNodes[Z];if(X&&X.getBoundingClientRect().right>=v){var he=ve(n.doc,C),ye=n.display.gutterSpecs[Z];return Dn(n,p,n,he,ye.className,a),_t(a)}}}function vu(n,a){return Fc(n,a,"gutterClick",!0)}function Fl(n,a){Zi(n.display,a)||Rl(n,a)||an(n,a,"contextmenu")||fe||n.display.input.onContextMenu(a)}function Rl(n,a){return et(n,"gutterContextMenu")?Fc(n,a,"gutterContextMenu",!1):!1}function Xf(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Vo(n)}var Ms={toString:function(){return"CodeMirror.Init"}},Qu={},Ju={};function Rc(n){var a=n.optionHandlers;function p(d,v,C,M){n.defaults[d]=v,C&&(a[d]=M?function(z,Z,X){X!=Ms&&C(z,Z,X)}:C)}n.defineOption=p,n.Init=Ms,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,vc(d)},!0),p("indentUnit",2,vc,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){Cs(d),Vo(d),_r(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var C=[],M=d.doc.first;d.doc.iter(function(Z){for(var X=0;;){var he=Z.text.indexOf(v,X);if(he==-1)break;X=he+v.length,C.push(Be(M,he))}M++});for(var z=C.length-1;z>=0;z--)Ss(d.doc,v,C[z],Be(C[z].line,C[z].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,v,C){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),C!=Ms&&d.refresh()}),p("specialCharPlaceholder",So,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",B?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!te),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){Xf(d),$u(d)},!0),p("keyMap","default",function(d,v,C){var M=Uu(v),z=C!=Ms&&Uu(C);z&&z.detach&&z.detach(d,M),M.attach&&M.attach(d,z||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Vf,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=Oo(v,d.options.lineNumbers),$u(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?An(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return xi(d)},!0),p("scrollbarStyle","native",function(d){wl(d),xi(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=Oo(d.options.gutters,v),$u(d)},!0),p("firstLineNumber",1,$u,!0),p("lineNumberFormatter",function(d){return d},$u,!0),p("showCursorWhenSelecting",!1,io,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(xa(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,xd),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,io,!0),p("singleCursorHeightPerLine",!0,io,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Cs,!0),p("addModeClass",!1,Cs,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,Cs,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function xd(n,a,p){var d=p&&p!=Ms;if(!a!=!d){var v=n.display.dragFunctions,C=a?Pt:vn;C(n.display.scroller,"dragstart",v.start),C(n.display.scroller,"dragenter",v.enter),C(n.display.scroller,"dragover",v.over),C(n.display.scroller,"dragleave",v.leave),C(n.display.scroller,"drop",v.drop)}}function Vf(n){n.options.lineWrapping?(Fe(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(Te(n.display.wrapper,"CodeMirror-wrap"),Hs(n)),Do(n),_r(n),Vo(n),setTimeout(function(){return xi(n)},100)}function Bn(n,a){var p=this;if(!(this instanceof Bn))return new Bn(n,a);this.options=a=a?we(a):{},we(Qu,a,!1);var d=a.value;typeof d=="string"?d=new Dr(d,a.mode,null,a.lineSeparator,a.direction):a.mode&&(d.modeOption=a.mode),this.doc=d;var v=new Bn.inputStyles[a.inputStyle](this),C=this.display=new sd(n,d,v,a);C.wrapper.CodeMirror=this,Xf(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ye,keySeq:null,specialChars:null},a.autofocus&&!B&&C.input.focus(),b&&w<11&&setTimeout(function(){return p.display.input.reset(!0)},20),Kf(this),Hf(),wa(this),this.curOp.forceUpdate=!0,bc(this,d),a.autofocus&&!B||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Js(p)},20):xa(this);for(var M in Ju)Ju.hasOwnProperty(M)&&Ju[M](this,a[M],Ms);_f(this),a.finishInit&&a.finishInit(this);for(var z=0;z<Nl.length;++z)Nl[z](this);ia(this),x&&a.lineWrapping&&getComputedStyle(C.lineDiv).textRendering=="optimizelegibility"&&(C.lineDiv.style.textRendering="auto")}Bn.defaults=Qu,Bn.optionHandlers=Ju;function Kf(n){var a=n.display;Pt(a.scroller,"mousedown",Rn(n,Uf)),b&&w<11?Pt(a.scroller,"dblclick",Rn(n,function(Z){if(!an(n,Z)){var X=no(n,Z);if(!(!X||vu(n,Z)||Zi(n.display,Z))){at(Z);var he=n.findWordAt(X);ru(n.doc,he.anchor,he.head)}}})):Pt(a.scroller,"dblclick",function(Z){return an(n,Z)||at(Z)}),Pt(a.scroller,"contextmenu",function(Z){return Fl(n,Z)}),Pt(a.input.getField(),"contextmenu",function(Z){a.scroller.contains(Z.target)||Fl(n,Z)});var p,d={end:0};function v(){a.activeTouch&&(p=setTimeout(function(){return a.activeTouch=null},1e3),d=a.activeTouch,d.end=+new Date)}function C(Z){if(Z.touches.length!=1)return!1;var X=Z.touches[0];return X.radiusX<=1&&X.radiusY<=1}function M(Z,X){if(X.left==null)return!0;var he=X.left-Z.left,ye=X.top-Z.top;return he*he+ye*ye>400}Pt(a.scroller,"touchstart",function(Z){if(!an(n,Z)&&!C(Z)&&!vu(n,Z)){a.input.ensurePolled(),clearTimeout(p);var X=+new Date;a.activeTouch={start:X,moved:!1,prev:X-d.end<=300?d:null},Z.touches.length==1&&(a.activeTouch.left=Z.touches[0].pageX,a.activeTouch.top=Z.touches[0].pageY)}}),Pt(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Pt(a.scroller,"touchend",function(Z){var X=a.activeTouch;if(X&&!Zi(a,Z)&&X.left!=null&&!X.moved&&new Date-X.start<300){var he=n.coordsChar(a.activeTouch,"page"),ye;!X.prev||M(X,X.prev)?ye=new qn(he,he):!X.prev.prev||M(X,X.prev.prev)?ye=n.findWordAt(he):ye=new qn(Be(he.line,0),Wt(n.doc,Be(he.line+1,0))),n.setSelection(ye.anchor,ye.head),n.focus(),at(Z)}v()}),Pt(a.scroller,"touchcancel",v),Pt(a.scroller,"scroll",function(){a.scroller.clientHeight&&(ot(n,a.scroller.scrollTop),zt(n,a.scroller.scrollLeft,!0),Dn(n,"scroll",n))}),Pt(a.scroller,"mousewheel",function(Z){return wf(n,Z)}),Pt(a.scroller,"DOMMouseScroll",function(Z){return wf(n,Z)}),Pt(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(Z){an(n,Z)||sn(Z)},over:function(Z){an(n,Z)||(wn(n,Z),sn(Z))},start:function(Z){return Tc(n,Z)},drop:Rn(n,dd),leave:function(Z){an(n,Z)||Bf(n)}};var z=a.input.getField();Pt(z,"keyup",function(Z){return No.call(n,Z)}),Pt(z,"keydown",Rn(n,Oc)),Pt(z,"keypress",Rn(n,jf)),Pt(z,"focus",function(Z){return Js(n,Z)}),Pt(z,"blur",function(Z){return xa(n,Z)})}var Nl=[];Bn.defineInitHook=function(n){return Nl.push(n)};function el(n,a,p,d){var v=n.doc,C;p==null&&(p="add"),p=="smart"&&(v.mode.indent?C=de(n,a).state:p="prev");var M=n.options.tabSize,z=Lt(v,a),Z=Ie(z.text,null,M);z.stateAfter&&(z.stateAfter=null);var X=z.text.match(/^\s*/)[0],he;if(!d&&!/\S/.test(z.text))he=0,p="not";else if(p=="smart"&&(he=v.mode.indent(C,z.text.slice(X.length),z.text),he==wt||he>150)){if(!d)return;p="prev"}p=="prev"?a>v.first?he=Ie(Lt(v,a-1).text,null,M):he=0:p=="add"?he=Z+n.options.indentUnit:p=="subtract"?he=Z-n.options.indentUnit:typeof p=="number"&&(he=Z+p),he=Math.max(0,he);var ye="",Pe=0;if(n.options.indentWithTabs)for(var De=Math.floor(he/M);De;--De)Pe+=M,ye+="	";if(Pe<he&&(ye+=hn(he-Pe)),ye!=X)return Ss(v,ye,Be(a,0),Be(a,X.length),"+input"),z.stateAfter=null,!0;for(var je=0;je<v.sel.ranges.length;je++){var tt=v.sel.ranges[je];if(tt.head.line==a&&tt.head.ch<X.length){var ct=Be(a,X.length);go(v,je,new qn(ct,ct));break}}}var vo=null;function zl(n){vo=n}function Nc(n,a,p,d,v){var C=n.doc;n.display.shift=!1,d||(d=C.sel);var M=+new Date-200,z=v=="paste"||n.state.pasteIncoming>M,Z=dn(a),X=null;if(z&&d.ranges.length>1)if(vo&&vo.text.join(`
`)==a){if(d.ranges.length%vo.text.length==0){X=[];for(var he=0;he<vo.text.length;he++)X.push(C.splitLines(vo.text[he]))}}else Z.length==d.ranges.length&&n.options.pasteLinesPerSelection&&(X=Ot(Z,function(pt){return[pt]}));for(var ye=n.curOp.updateInput,Pe=d.ranges.length-1;Pe>=0;Pe--){var De=d.ranges[Pe],je=De.from(),tt=De.to();De.empty()&&(p&&p>0?je=Be(je.line,je.ch-p):n.state.overwrite&&!z?tt=Be(tt.line,Math.min(Lt(C,tt.line).text.length,tt.ch+vt(Z).length)):z&&vo&&vo.lineWise&&vo.text.join(`
`)==Z.join(`
`)&&(je=tt=Be(je.line,0)));var ct={from:je,to:tt,text:X?X[Pe%X.length]:Z,origin:v||(z?"paste":n.state.cutIncoming>M?"cut":"+input")};uu(n.doc,ct),ai(n,"inputRead",n,ct)}a&&!z&&Il(n,a),H(n),n.curOp.updateInput<2&&(n.curOp.updateInput=ye),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function sa(n,a){var p=n.clipboardData&&n.clipboardData.getData("Text");if(p)return n.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&nr(a,function(){return Nc(a,p,0,null,"paste")}),!0}function Il(n,a){if(!(!n.options.electricChars||!n.options.smartIndent))for(var p=n.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var C=n.getModeAt(v.head),M=!1;if(C.electricChars){for(var z=0;z<C.electricChars.length;z++)if(a.indexOf(C.electricChars.charAt(z))>-1){M=el(n,v.head.line,"smart");break}}else C.electricInput&&C.electricInput.test(Lt(n.doc,v.head.line).text.slice(0,v.head.ch))&&(M=el(n,v.head.line,"smart"));M&&ai(n,"electricInput",n,v.head.line)}}}function Bl(n){for(var a=[],p=[],d=0;d<n.doc.sel.ranges.length;d++){var v=n.doc.sel.ranges[d].head.line,C={anchor:Be(v,0),head:Be(v+1,0)};p.push(C),a.push(n.getRange(C.anchor,C.head))}return{text:a,ranges:p}}function tl(n,a,p,d){n.setAttribute("autocorrect",p?"on":"off"),n.setAttribute("autocapitalize",d?"on":"off"),n.setAttribute("spellcheck",!!a)}function nl(){var n=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=O("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return x?n.style.width="1000px":n.setAttribute("wrap","off"),T&&(n.style.border="1px solid black"),a}function bu(n){var a=n.optionHandlers,p=n.helpers={};n.prototype={constructor:n,focus:function(){G(this).focus(),this.display.input.focus()},setOption:function(d,v){var C=this.options,M=C[d];C[d]==v&&d!="mode"||(C[d]=v,a.hasOwnProperty(d)&&Rn(this,a[d])(this,v,M),Dn(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](Uu(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,C=0;C<v.length;++C)if(v[C]==d||v[C].name==d)return v.splice(C,1),!0},addOverlay:Gt(function(d,v){var C=d.token?d:n.getMode(this.options,d);if(C.startState)throw new Error("Overlays may not be stateful.");Le(this.state.overlays,{mode:C,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(M){return M.priority}),this.state.modeGen++,_r(this)}),removeOverlay:Gt(function(d){for(var v=this.state.overlays,C=0;C<v.length;++C){var M=v[C].modeSpec;if(M==d||typeof d=="string"&&M.name==d){v.splice(C,1),this.state.modeGen++,_r(this);return}}}),indentLine:Gt(function(d,v,C){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),Ne(this.doc,d)&&el(this,d,v,C)}),indentSelection:Gt(function(d){for(var v=this.doc.sel.ranges,C=-1,M=0;M<v.length;M++){var z=v[M];if(z.empty())z.head.line>C&&(el(this,z.head.line,d,!0),C=z.head.line,M==this.doc.sel.primIndex&&H(this));else{var Z=z.from(),X=z.to(),he=Math.max(C,Z.line);C=Math.min(this.lastLine(),X.line-(X.ch?0:1))+1;for(var ye=he;ye<C;++ye)el(this,ye,d);var Pe=this.doc.sel.ranges;Z.ch==0&&v.length==Pe.length&&Pe[M].from().ch>0&&go(this.doc,M,new qn(Z,Pe[M].to()),kt)}}}),getTokenAt:function(d,v){return Ze(this,d,v)},getLineTokens:function(d,v){return Ze(this,Be(d),v,!0)},getTokenTypeAt:function(d){d=Wt(this.doc,d);var v=re(this,Lt(this.doc,d.line)),C=0,M=(v.length-1)/2,z=d.ch,Z;if(z==0)Z=v[2];else for(;;){var X=C+M>>1;if((X?v[X*2-1]:0)>=z)M=X;else if(v[X*2+1]<z)C=X+1;else{Z=v[X*2+2];break}}var he=Z?Z.indexOf("overlay "):-1;return he<0?Z:he==0?null:Z.slice(0,he-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?n.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var C=[];if(!p.hasOwnProperty(v))return C;var M=p[v],z=this.getModeAt(d);if(typeof z[v]=="string")M[z[v]]&&C.push(M[z[v]]);else if(z[v])for(var Z=0;Z<z[v].length;Z++){var X=M[z[v][Z]];X&&C.push(X)}else z.helperType&&M[z.helperType]?C.push(M[z.helperType]):M[z.name]&&C.push(M[z.name]);for(var he=0;he<M._global.length;he++){var ye=M._global[he];ye.pred(z,this)&&Ge(C,ye.val)==-1&&C.push(ye.val)}return C},getStateAfter:function(d,v){var C=this.doc;return d=co(C,d??C.first+C.size-1),de(this,d+1,v).state},cursorCoords:function(d,v){var C,M=this.doc.sel.primary();return d==null?C=M.head:typeof d=="object"?C=Wt(this.doc,d):C=d?M.from():M.to(),$e(this,C,v||"page")},charCoords:function(d,v){return Qe(this,Wt(this.doc,d),v||"page")},coordsChar:function(d,v){return d=Oe(this,d,v||"page"),Mn(this,d.left,d.top)},lineAtHeight:function(d,v){return d=Oe(this,{top:d,left:0},v||"page").top,ve(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,C){var M=!1,z;if(typeof d=="number"){var Z=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>Z&&(d=Z,M=!0),z=Lt(this.doc,d)}else z=d;return Yr(this,z,{top:0,left:0},v||"page",C||M).top+(M?this.doc.height-eo(z):0)},defaultTextHeight:function(){return to(this.display)},defaultCharWidth:function(){return mo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,C,M,z){var Z=this.display;d=$e(this,Wt(this.doc,d));var X=d.bottom,he=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),Z.sizer.appendChild(v),M=="over")X=d.top;else if(M=="above"||M=="near"){var ye=Math.max(Z.wrapper.clientHeight,this.doc.height),Pe=Math.max(Z.sizer.clientWidth,Z.lineSpace.clientWidth);(M=="above"||d.bottom+v.offsetHeight>ye)&&d.top>v.offsetHeight?X=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=ye&&(X=d.bottom),he+v.offsetWidth>Pe&&(he=Pe-v.offsetWidth)}v.style.top=X+"px",v.style.left=v.style.right="",z=="right"?(he=Z.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(z=="left"?he=0:z=="middle"&&(he=(Z.sizer.clientWidth-v.offsetWidth)/2),v.style.left=he+"px"),C&&m(this,{left:he,top:X,right:he+v.offsetWidth,bottom:X+v.offsetHeight})},triggerOnKeyDown:Gt(Oc),triggerOnKeyPress:Gt(jf),triggerOnKeyUp:No,triggerOnMouseDown:Gt(Uf),execCommand:function(d){if(Xu.hasOwnProperty(d))return Xu[d].call(null,this)},triggerElectric:Gt(function(d){Il(this,d)}),findPosH:function(d,v,C,M){var z=1;v<0&&(z=-1,v=-v);for(var Z=Wt(this.doc,d),X=0;X<v&&(Z=Vt(this.doc,Z,z,C,M),!Z.hitSide);++X);return Z},moveH:Gt(function(d,v){var C=this;this.extendSelectionsBy(function(M){return C.display.shift||C.doc.extend||M.empty()?Vt(C.doc,M.head,d,v,C.options.rtlMoveVisually):d<0?M.from():M.to()},mt)}),deleteH:Gt(function(d,v){var C=this.doc.sel,M=this.doc;C.somethingSelected()?M.replaceSelection("",null,"+delete"):Ka(this,function(z){var Z=Vt(M,z.head,d,v,!1);return d<0?{from:Z,to:z.head}:{from:z.head,to:Z}})}),findPosV:function(d,v,C,M){var z=1,Z=M;v<0&&(z=-1,v=-v);for(var X=Wt(this.doc,d),he=0;he<v;++he){var ye=$e(this,X,"div");if(Z==null?Z=ye.left:ye.left=Z,X=il(this,ye,z,C),X.hitSide)break}return X},moveV:Gt(function(d,v){var C=this,M=this.doc,z=[],Z=!this.display.shift&&!M.extend&&M.sel.somethingSelected();if(M.extendSelectionsBy(function(he){if(Z)return d<0?he.from():he.to();var ye=$e(C,he.head,"div");he.goalColumn!=null&&(ye.left=he.goalColumn),z.push(ye.left);var Pe=il(C,ye,d,v);return v=="page"&&he==M.sel.primary()&&A(C,Qe(C,Pe,"div").top-ye.top),Pe},mt),z.length)for(var X=0;X<M.sel.ranges.length;X++)M.sel.ranges[X].goalColumn=z[X]}),findWordAt:function(d){var v=this.doc,C=Lt(v,d.line).text,M=d.ch,z=d.ch;if(C){var Z=this.getHelper(d,"wordChars");(d.sticky=="before"||z==C.length)&&M?--M:++z;for(var X=C.charAt(M),he=li(X,Z)?function(ye){return li(ye,Z)}:/\s/.test(X)?function(ye){return/\s/.test(ye)}:function(ye){return!/\s/.test(ye)&&!li(ye)};M>0&&he(C.charAt(M-1));)--M;for(;z<C.length&&he(C.charAt(z));)++z}return new qn(Be(d.line,M),Be(d.line,z))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Fe(this.display.cursorDiv,"CodeMirror-overwrite"):Te(this.display.cursorDiv,"CodeMirror-overwrite"),Dn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ve(Ce(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gt(function(d,v){ne(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Sr(this)-this.display.barHeight,width:d.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:Ba(this),clientWidth:Xo(this)}},scrollIntoView:Gt(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:Be(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?ke(this,d):He(this,d.from,d.to,d.margin)}),setSize:Gt(function(d,v){var C=this,M=function(Z){return typeof Z=="number"||/^\d+$/.test(String(Z))?Z+"px":Z};d!=null&&(this.display.wrapper.style.width=M(d)),v!=null&&(this.display.wrapper.style.height=M(v)),this.options.lineWrapping&&Vs(this);var z=this.display.viewFrom;this.doc.iter(z,this.display.viewTo,function(Z){if(Z.widgets){for(var X=0;X<Z.widgets.length;X++)if(Z.widgets[X].noHScroll){fr(C,z,"widget");break}}++z}),this.curOp.forceUpdate=!0,Dn(this,"refresh",this)}),operation:function(d){return nr(this,d)},startOperation:function(){return wa(this)},endOperation:function(){return ia(this)},refresh:Gt(function(){var d=this.display.cachedTextHeight;_r(this),this.curOp.forceUpdate=!0,Vo(this),ne(this,this.doc.scrollLeft,this.doc.scrollTop),pc(this.display),(d==null||Math.abs(d-to(this.display))>.5||this.options.lineWrapping)&&Do(this),Dn(this,"refresh",this)}),swapDoc:Gt(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),bc(this,d),Vo(this),this.display.input.reset(),ne(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,ai(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},We(n),n.registerHelper=function(d,v,C){p.hasOwnProperty(d)||(p[d]=n[d]={_global:[]}),p[d][v]=C},n.registerGlobalHelper=function(d,v,C,M){n.registerHelper(d,v,M),p[d]._global.push({pred:C,val:M})}}function Vt(n,a,p,d,v){var C=a,M=p,z=Lt(n,a.line),Z=v&&n.direction=="rtl"?-p:p;function X(){var gt=a.line+Z;return gt<n.first||gt>=n.first+n.size?!1:(a=new Be(gt,a.ch,a.sticky),z=Lt(n,gt))}function he(gt){var dt;if(d=="codepoint"){var Ct=z.text.charCodeAt(a.ch+(p>0?0:-1));if(isNaN(Ct))dt=null;else{var It=p>0?Ct>=55296&&Ct<56320:Ct>=56320&&Ct<57343;dt=new Be(a.line,Math.max(0,Math.min(z.text.length,a.ch+p*(It?2:1))),-p)}}else v?dt=Qa(n.cm,z,a,p):dt=Zu(z,a,p);if(dt==null)if(!gt&&X())a=Gu(v,n.cm,z,a.line,Z);else return!1;else a=dt;return!0}if(d=="char"||d=="codepoint")he();else if(d=="column")he(!0);else if(d=="word"||d=="group")for(var ye=null,Pe=d=="group",De=n.cm&&n.cm.getHelper(a,"wordChars"),je=!0;!(p<0&&!he(!je));je=!1){var tt=z.text.charAt(a.ch)||`
`,ct=li(tt,De)?"w":Pe&&tt==`
`?"n":!Pe||/\s/.test(tt)?null:"p";if(Pe&&!je&&!ct&&(ct="s"),ye&&ye!=ct){p<0&&(p=1,he(),a.sticky="after");break}if(ct&&(ye=ct),p>0&&!he(!je))break}var pt=au(n,a,C,M,!0);return tn(C,pt)&&(pt.hitSide=!0),pt}function il(n,a,p,d){var v=n.doc,C=a.left,M;if(d=="page"){var z=Math.min(n.display.wrapper.clientHeight,G(n).innerHeight||v(n).documentElement.clientHeight),Z=Math.max(z-.5*to(n.display),3);M=(p>0?a.bottom:a.top)+p*Z}else d=="line"&&(M=p>0?a.bottom+3:a.top-3);for(var X;X=Mn(n,C,M),!!X.outside;){if(p<0?M<=0:M>=v.height){X.hitSide=!0;break}M+=p*5}return X}var jn=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ye,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};jn.prototype.init=function(n){var a=this,p=this,d=p.cm,v=p.div=n.lineDiv;v.contentEditable=!0,tl(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function C(z){for(var Z=z.target;Z;Z=Z.parentNode){if(Z==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Z.className))break}return!1}Pt(v,"paste",function(z){!C(z)||an(d,z)||sa(z,d)||w<=11&&setTimeout(Rn(d,function(){return a.updateFromDOM()}),20)}),Pt(v,"compositionstart",function(z){a.composing={data:z.data,done:!1}}),Pt(v,"compositionupdate",function(z){a.composing||(a.composing={data:z.data,done:!1})}),Pt(v,"compositionend",function(z){a.composing&&(z.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),Pt(v,"touchstart",function(){return p.forceCompositionEnd()}),Pt(v,"input",function(){a.composing||a.readFromDOMSoon()});function M(z){if(!(!C(z)||an(d,z))){if(d.somethingSelected())zl({lineWise:!1,text:d.getSelections()}),z.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var Z=Bl(d);zl({lineWise:!0,text:Z.text}),z.type=="cut"&&d.operation(function(){d.setSelections(Z.ranges,0,kt),d.replaceSelection("",null,"cut")})}else return;if(z.clipboardData){z.clipboardData.clearData();var X=vo.text.join(`
`);if(z.clipboardData.setData("Text",X),z.clipboardData.getData("Text")==X){z.preventDefault();return}}var he=nl(),ye=he.firstChild;tl(ye),d.display.lineSpace.insertBefore(he,d.display.lineSpace.firstChild),ye.value=vo.text.join(`
`);var Pe=Ve(Me(v));J(ye),setTimeout(function(){d.display.lineSpace.removeChild(he),Pe.focus(),Pe==v&&p.showPrimarySelection()},50)}}Pt(v,"copy",M),Pt(v,"cut",M)},jn.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},jn.prototype.prepareSelection=function(){var n=ya(this.cm,!1);return n.focus=Ve(Me(this.div))==this.div,n},jn.prototype.showSelection=function(n,a){!n||!this.cm.display.view.length||((n.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(n))},jn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},jn.prototype.showPrimarySelection=function(){var n=this.getSelection(),a=this.cm,p=a.doc.sel.primary(),d=p.from(),v=p.to();if(a.display.viewTo==a.display.viewFrom||d.line>=a.display.viewTo||v.line<a.display.viewFrom){n.removeAllRanges();return}var C=or(a,n.anchorNode,n.anchorOffset),M=or(a,n.focusNode,n.focusOffset);if(!(C&&!C.bad&&M&&!M.bad&&ft(cn(C,M),d)==0&&ft(Rt(C,M),v)==0)){var z=a.display.view,Z=d.line>=a.display.viewFrom&&Ja(a,d)||{node:z[0].measure.map[2],offset:0},X=v.line<a.display.viewTo&&Ja(a,v);if(!X){var he=z[z.length-1].measure,ye=he.maps?he.maps[he.maps.length-1]:he.map;X={node:ye[ye.length-1],offset:ye[ye.length-2]-ye[ye.length-3]}}if(!Z||!X){n.removeAllRanges();return}var Pe=n.rangeCount&&n.getRangeAt(0),De;try{De=me(Z.node,Z.offset,X.offset,X.node)}catch{}De&&(!u&&a.state.focused?(n.collapse(Z.node,Z.offset),De.collapsed||(n.removeAllRanges(),n.addRange(De))):(n.removeAllRanges(),n.addRange(De)),Pe&&n.anchorNode==null?n.addRange(Pe):u&&this.startGracePeriod()),this.rememberSelection()}},jn.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},jn.prototype.showMultipleSelections=function(n){ie(this.cm.display.cursorDiv,n.cursors),ie(this.cm.display.selectionDiv,n.selection)},jn.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},jn.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var a=n.getRangeAt(0).commonAncestorContainer;return _e(this.div,a)},jn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Ve(Me(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},jn.prototype.blur=function(){this.div.blur()},jn.prototype.getField=function(){return this.div},jn.prototype.supportsTouch=function(){return!0},jn.prototype.receivedFocus=function(){var n=this,a=this;this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):nr(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function p(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},jn.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},jn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var n=this.getSelection(),a=this.cm;if(D&&N&&this.cm.display.gutterSpecs.length&&wd(n.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=or(a,n.anchorNode,n.anchorOffset),d=or(a,n.focusNode,n.focusOffset);p&&d&&nr(a,function(){hr(a.doc,Ua(p,d),kt),(p.bad||d.bad)&&(a.curOp.selectionChanged=!0)})}}},jn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,a=n.display,p=n.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>n.firstLine()&&(d=Be(d.line-1,Lt(n.doc,d.line-1).length)),v.ch==Lt(n.doc,v.line).text.length&&v.line<n.lastLine()&&(v=Be(v.line+1,0)),d.line<a.viewFrom||v.line>a.viewTo-1)return!1;var C,M,z;d.line==a.viewFrom||(C=Qo(n,d.line))==0?(M=K(a.view[0].line),z=a.view[0].node):(M=K(a.view[C].line),z=a.view[C-1].node.nextSibling);var Z=Qo(n,v.line),X,he;if(Z==a.view.length-1?(X=a.viewTo-1,he=a.lineDiv.lastChild):(X=K(a.view[Z+1].line)-1,he=a.view[Z+1].node.previousSibling),!z)return!1;for(var ye=n.doc.splitLines(Qf(n,z,he,M,X)),Pe=tr(n.doc,Be(M,0),Be(X,Lt(n.doc,X).text.length));ye.length>1&&Pe.length>1;)if(vt(ye)==vt(Pe))ye.pop(),Pe.pop(),X--;else if(ye[0]==Pe[0])ye.shift(),Pe.shift(),M++;else break;for(var De=0,je=0,tt=ye[0],ct=Pe[0],pt=Math.min(tt.length,ct.length);De<pt&&tt.charCodeAt(De)==ct.charCodeAt(De);)++De;for(var gt=vt(ye),dt=vt(Pe),Ct=Math.min(gt.length-(ye.length==1?De:0),dt.length-(Pe.length==1?De:0));je<Ct&&gt.charCodeAt(gt.length-je-1)==dt.charCodeAt(dt.length-je-1);)++je;if(ye.length==1&&Pe.length==1&&M==d.line)for(;De&&De>d.ch&&gt.charCodeAt(gt.length-je-1)==dt.charCodeAt(dt.length-je-1);)De--,je++;ye[ye.length-1]=gt.slice(0,gt.length-je).replace(/^\u200b+/,""),ye[0]=ye[0].slice(De).replace(/\u200b+$/,"");var It=Be(M,De),Nt=Be(X,Pe.length?vt(Pe).length-je:0);if(ye.length>1||ye[0]||ft(It,Nt))return Ss(n.doc,ye,It,Nt,"+input"),!0},jn.prototype.ensurePolled=function(){this.forceCompositionEnd()},jn.prototype.reset=function(){this.forceCompositionEnd()},jn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},jn.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},jn.prototype.updateFromDOM=function(){var n=this;(this.cm.isReadOnly()||!this.pollContent())&&nr(this.cm,function(){return _r(n.cm)})},jn.prototype.setUneditable=function(n){n.contentEditable="false"},jn.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||Rn(this.cm,Nc)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},jn.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},jn.prototype.onContextMenu=function(){},jn.prototype.resetPosition=function(){},jn.prototype.needsContentAttribute=!0;function Ja(n,a){var p=Ha(n,a.line);if(!p||p.hidden)return null;var d=Lt(n.doc,a.line),v=Ao(p,d,a.line),C=Zt(d,n.doc.direction),M="left";if(C){var z=Tt(C,a.ch);M=z%2?"right":"left"}var Z=ba(v.map,a.ch,M);return Z.offset=Z.collapse=="right"?Z.end:Z.start,Z}function wd(n){for(var a=n;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function es(n,a){return a&&(n.bad=!0),n}function Qf(n,a,p,d,v){var C="",M=!1,z=n.doc.lineSeparator(),Z=!1;function X(De){return function(je){return je.id==De}}function he(){M&&(C+=z,Z&&(C+=z),M=Z=!1)}function ye(De){De&&(he(),C+=De)}function Pe(De){if(De.nodeType==1){var je=De.getAttribute("cm-text");if(je){ye(je);return}var tt=De.getAttribute("cm-marker"),ct;if(tt){var pt=n.findMarks(Be(d,0),Be(v+1,0),X(+tt));pt.length&&(ct=pt[0].find(0))&&ye(tr(n.doc,ct.from,ct.to).join(z));return}if(De.getAttribute("contenteditable")=="false")return;var gt=/^(pre|div|p|li|table|br)$/i.test(De.nodeName);if(!/^br$/i.test(De.nodeName)&&De.textContent.length==0)return;gt&&he();for(var dt=0;dt<De.childNodes.length;dt++)Pe(De.childNodes[dt]);/^(pre|p)$/i.test(De.nodeName)&&(Z=!0),gt&&(M=!0)}else De.nodeType==3&&ye(De.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Pe(a),a!=p;)a=a.nextSibling,Z=!1;return C}function or(n,a,p){var d;if(a==n.display.lineDiv){if(d=n.display.lineDiv.childNodes[p],!d)return es(n.clipPos(Be(n.display.viewTo-1)),!0);a=null,p=0}else for(d=a;;d=d.parentNode){if(!d||d==n.display.lineDiv)return null;if(d.parentNode&&d.parentNode==n.display.lineDiv)break}for(var v=0;v<n.display.view.length;v++){var C=n.display.view[v];if(C.node==d)return kd(C,a,p)}}function kd(n,a,p){var d=n.text.firstChild,v=!1;if(!a||!_e(d,a))return es(Be(K(n.line),0),!0);if(a==d&&(v=!0,a=d.childNodes[p],p=0,!a)){var C=n.rest?vt(n.rest):n.line;return es(Be(K(C),C.text.length),v)}var M=a.nodeType==3?a:null,z=a;for(!M&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(M=a.firstChild,p&&(p=M.nodeValue.length));z.parentNode!=d;)z=z.parentNode;var Z=n.measure,X=Z.maps;function he(ct,pt,gt){for(var dt=-1;dt<(X?X.length:0);dt++)for(var Ct=dt<0?Z.map:X[dt],It=0;It<Ct.length;It+=3){var Nt=Ct[It+2];if(Nt==ct||Nt==pt){var fn=K(dt<0?n.line:n.rest[dt]),Qn=Ct[It]+gt;return(gt<0||Nt!=ct)&&(Qn=Ct[It+(gt?1:0)]),Be(fn,Qn)}}}var ye=he(M,z,p);if(ye)return es(ye,v);for(var Pe=z.nextSibling,De=M?M.nodeValue.length-p:0;Pe;Pe=Pe.nextSibling){if(ye=he(Pe,Pe.firstChild,0),ye)return es(Be(ye.line,ye.ch-De),v);De+=Pe.textContent.length}for(var je=z.previousSibling,tt=p;je;je=je.previousSibling){if(ye=he(je,je.firstChild,-1),ye)return es(Be(ye.line,ye.ch+tt),v);tt+=je.textContent.length}}var Di=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Ye,this.hasSelection=!1,this.composing=null,this.resetting=!1};Di.prototype.init=function(n){var a=this,p=this,d=this.cm;this.createField(n);var v=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),T&&(v.style.width="0px"),Pt(v,"input",function(){b&&w>=9&&a.hasSelection&&(a.hasSelection=null),p.poll()}),Pt(v,"paste",function(M){an(d,M)||sa(M,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function C(M){if(!an(d,M)){if(d.somethingSelected())zl({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var z=Bl(d);zl({lineWise:!0,text:z.text}),M.type=="cut"?d.setSelections(z.ranges,null,kt):(p.prevInput="",v.value=z.text.join(`
`),J(v))}else return;M.type=="cut"&&(d.state.cutIncoming=+new Date)}}Pt(v,"cut",C),Pt(v,"copy",C),Pt(n.scroller,"paste",function(M){if(!(Zi(n,M)||an(d,M))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var z=new Event("paste");z.clipboardData=M.clipboardData,v.dispatchEvent(z)}}),Pt(n.lineSpace,"selectstart",function(M){Zi(n,M)||at(M)}),Pt(v,"compositionstart",function(){var M=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:M,range:d.markText(M,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Pt(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},Di.prototype.createField=function(n){this.wrapper=nl(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;tl(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},Di.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},Di.prototype.prepareSelection=function(){var n=this.cm,a=n.display,p=n.doc,d=ya(n);if(n.options.moveInputWithCursor){var v=$e(n,p.sel.primary().head,"div"),C=a.wrapper.getBoundingClientRect(),M=a.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,v.top+M.top-C.top)),d.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,v.left+M.left-C.left))}return d},Di.prototype.showSelection=function(n){var a=this.cm,p=a.display;ie(p.cursorDiv,n.cursors),ie(p.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},Di.prototype.reset=function(n){if(!(this.contextMenuPending||this.composing&&n)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var p=a.getSelection();this.textarea.value=p,a.state.focused&&J(this.textarea),b&&w>=9&&(this.hasSelection=p)}else n||(this.prevInput=this.textarea.value="",b&&w>=9&&(this.hasSelection=null));this.resetting=!1}},Di.prototype.getField=function(){return this.textarea},Di.prototype.supportsTouch=function(){return!1},Di.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!B||Ve(Me(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Di.prototype.blur=function(){this.textarea.blur()},Di.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Di.prototype.receivedFocus=function(){this.slowPoll()},Di.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},Di.prototype.fastPoll=function(){var n=!1,a=this;a.pollingFast=!0;function p(){var d=a.poll();!d&&!n?(n=!0,a.polling.set(60,p)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,p)},Di.prototype.poll=function(){var n=this,a=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||Cn(p)&&!d&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var v=p.value;if(v==d&&!a.somethingSelected())return!1;if(b&&w>=9&&this.hasSelection===v||I&&/[\uf700-\uf7ff]/.test(v))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var C=v.charCodeAt(0);if(C==8203&&!d&&(d=""),C==8666)return this.reset(),this.cm.execCommand("undo")}for(var M=0,z=Math.min(d.length,v.length);M<z&&d.charCodeAt(M)==v.charCodeAt(M);)++M;return nr(a,function(){Nc(a,v.slice(M),d.length-M,null,n.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=n.prevInput="":n.prevInput=v,n.composing&&(n.composing.range.clear(),n.composing.range=a.markText(n.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Di.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Di.prototype.onKeyPress=function(){b&&w>=9&&(this.hasSelection=null),this.fastPoll()},Di.prototype.onContextMenu=function(n){var a=this,p=a.cm,d=p.display,v=a.textarea;a.contextMenuPending&&a.contextMenuPending();var C=no(p,n),M=d.scroller.scrollTop;if(!C||F)return;var z=p.options.resetSelectionOnContextMenu;z&&p.doc.sel.contains(C)==-1&&Rn(p,hr)(p.doc,Ua(C),kt);var Z=v.style.cssText,X=a.wrapper.style.cssText,he=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-he.top-5)+"px; left: "+(n.clientX-he.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ye;x&&(ye=v.ownerDocument.defaultView.scrollY),d.input.focus(),x&&v.ownerDocument.defaultView.scrollTo(null,ye),d.input.reset(),p.somethingSelected()||(v.value=a.prevInput=" "),a.contextMenuPending=De,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function Pe(){if(v.selectionStart!=null){var tt=p.somethingSelected(),ct=""+(tt?v.value:"");v.value="",v.value=ct,a.prevInput=tt?"":"",v.selectionStart=1,v.selectionEnd=ct.length,d.selForContextMenu=p.doc.sel}}function De(){if(a.contextMenuPending==De&&(a.contextMenuPending=!1,a.wrapper.style.cssText=X,v.style.cssText=Z,b&&w<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=M),v.selectionStart!=null)){(!b||b&&w<9)&&Pe();var tt=0,ct=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&a.prevInput==""?Rn(p,su)(p):tt++<10?d.detectingSelectAll=setTimeout(ct,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(ct,200)}}if(b&&w>=9&&Pe(),fe){sn(n);var je=function(){vn(window,"mouseup",je),setTimeout(De,20)};Pt(window,"mouseup",je)}else setTimeout(De,50)},Di.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},Di.prototype.setUneditable=function(){},Di.prototype.needsContentAttribute=!1;function Jf(n,a){if(a=a?we(a):{},a.value=n.value,!a.tabindex&&n.tabIndex&&(a.tabindex=n.tabIndex),!a.placeholder&&n.placeholder&&(a.placeholder=n.placeholder),a.autofocus==null){var p=Ve(Me(n));a.autofocus=p==n||n.getAttribute("autofocus")!=null&&p==document.body}function d(){n.value=z.getValue()}var v;if(n.form&&(Pt(n.form,"submit",d),!a.leaveSubmitMethodAlone)){var C=n.form;v=C.submit;try{var M=C.submit=function(){d(),C.submit=v,C.submit(),C.submit=M}}catch{}}a.finishInit=function(Z){Z.save=d,Z.getTextArea=function(){return n},Z.toTextArea=function(){Z.toTextArea=isNaN,d(),n.parentNode.removeChild(Z.getWrapperElement()),n.style.display="",n.form&&(vn(n.form,"submit",d),!a.leaveSubmitMethodAlone&&typeof n.form.submit=="function"&&(n.form.submit=v))}},n.style.display="none";var z=Bn(function(Z){return n.parentNode.insertBefore(Z,n.nextSibling)},a);return z}function Cd(n){n.off=vn,n.on=Pt,n.wheelEventPixels=ud,n.Doc=Dr,n.splitLines=dn,n.countColumn=Ie,n.findColumn=Mt,n.isWordChar=ii,n.Pass=wt,n.signal=Dn,n.Line=Co,n.changeEnd=Za,n.scrollbarModel=Gr,n.Pos=Be,n.cmpPos=ft,n.modes=Ei,n.mimeModes=Yi,n.resolveMode=Jr,n.getMode=kr,n.modeExtensions=Pi,n.extendMode=Nr,n.copyState=Si,n.startState=er,n.innerMode=lo,n.commands=Xu,n.keyMap=oa,n.keyName=Yu,n.isModifierKey=Ll,n.lookupKey=ao,n.normalizeKeyMap=oo,n.StringStream=Vn,n.SharedTextMarker=fu,n.TextMarker=Ro,n.LineWidget=As,n.e_preventDefault=at,n.e_stopPropagation=Bt,n.e_stop=sn,n.addClass=Fe,n.contains=_e,n.rmClass=Te,n.keyNames=rr}Rc(Bn),bu(Bn);var eh="iter insert remove copy getEditor constructor".split(" ");for(var $l in Dr.prototype)Dr.prototype.hasOwnProperty($l)&&Ge(eh,$l)<0&&(Bn.prototype[$l]=(function(n){return function(){return n.apply(this.doc,arguments)}})(Dr.prototype[$l]));return We(Dr),Bn.inputStyles={textarea:Di,contenteditable:jn},Bn.defineMode=function(n){!Bn.defaults.mode&&n!="null"&&(Bn.defaults.mode=n),Oi.apply(this,arguments)},Bn.defineMIME=Qr,Bn.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Bn.defineMIME("text/plain","null"),Bn.defineExtension=function(n,a){Bn.prototype[n]=a},Bn.defineDocExtension=function(n,a){Dr.prototype[n]=a},Bn.fromTextArea=Jf,Cd(Bn),Bn.version="5.65.20",Bn}))})(kh)),kh.exports}var Sx=ls();const Tx=ff(Sx);var Nm={exports:{}},zm={exports:{}},Im;function S0(){return Im||(Im=1,(function(t,e){(function(r){r(ls())})(function(r){var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},u={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(l,f){var h=l.indentUnit,b={},w=f.htmlMode?s:u;for(var x in w)b[x]=w[x];for(var x in f)b[x]=f[x];var E,N;function q(O,ae){function me(Fe){return ae.tokenize=Fe,Fe(O,ae)}var _e=O.next();if(_e=="<")return O.eat("!")?O.eat("[")?O.match("CDATA[")?me(W("atom","]]>")):null:O.match("--")?me(W("comment","-->")):O.match("DOCTYPE",!0,!0)?(O.eatWhile(/[\w\._\-]/),me(U(1))):null:O.eat("?")?(O.eatWhile(/[\w\._\-]/),ae.tokenize=W("meta","?>"),"meta"):(E=O.eat("/")?"closeTag":"openTag",ae.tokenize=F,"tag bracket");if(_e=="&"){var Ve;return O.eat("#")?O.eat("x")?Ve=O.eatWhile(/[a-fA-F\d]/)&&O.eat(";"):Ve=O.eatWhile(/[\d]/)&&O.eat(";"):Ve=O.eatWhile(/[\w\.\-:]/)&&O.eat(";"),Ve?"atom":"error"}else return O.eatWhile(/[^&<]/),null}q.isInText=!0;function F(O,ae){var me=O.next();if(me==">"||me=="/"&&O.eat(">"))return ae.tokenize=q,E=me==">"?"endTag":"selfcloseTag","tag bracket";if(me=="=")return E="equals",null;if(me=="<"){ae.tokenize=q,ae.state=V,ae.tagName=ae.tagStart=null;var _e=ae.tokenize(O,ae);return _e?_e+" tag error":"tag error"}else return/[\'\"]/.test(me)?(ae.tokenize=j(me),ae.stringStartCol=O.column(),ae.tokenize(O,ae)):(O.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function j(O){var ae=function(me,_e){for(;!me.eol();)if(me.next()==O){_e.tokenize=F;break}return"string"};return ae.isInAttribute=!0,ae}function W(O,ae){return function(me,_e){for(;!me.eol();){if(me.match(ae)){_e.tokenize=q;break}me.next()}return O}}function U(O){return function(ae,me){for(var _e;(_e=ae.next())!=null;){if(_e=="<")return me.tokenize=U(O+1),me.tokenize(ae,me);if(_e==">")if(O==1){me.tokenize=q;break}else return me.tokenize=U(O-1),me.tokenize(ae,me)}return"meta"}}function T(O){return O&&O.toLowerCase()}function D(O,ae,me){this.prev=O.context,this.tagName=ae||"",this.indent=O.indented,this.startOfLine=me,(b.doNotIndent.hasOwnProperty(ae)||O.context&&O.context.noIndent)&&(this.noIndent=!0)}function B(O){O.context&&(O.context=O.context.prev)}function I(O,ae){for(var me;;){if(!O.context||(me=O.context.tagName,!b.contextGrabbers.hasOwnProperty(T(me))||!b.contextGrabbers[T(me)].hasOwnProperty(T(ae))))return;B(O)}}function V(O,ae,me){return O=="openTag"?(me.tagStart=ae.column(),te):O=="closeTag"?oe:V}function te(O,ae,me){return O=="word"?(me.tagName=ae.current(),N="tag",ue):b.allowMissingTagName&&O=="endTag"?(N="tag bracket",ue(O,ae,me)):(N="error",te)}function oe(O,ae,me){if(O=="word"){var _e=ae.current();return me.context&&me.context.tagName!=_e&&b.implicitlyClosed.hasOwnProperty(T(me.context.tagName))&&B(me),me.context&&me.context.tagName==_e||b.matchClosing===!1?(N="tag",ce):(N="tag error",fe)}else return b.allowMissingTagName&&O=="endTag"?(N="tag bracket",ce(O,ae,me)):(N="error",fe)}function ce(O,ae,me){return O!="endTag"?(N="error",ce):(B(me),V)}function fe(O,ae,me){return N="error",ce(O,ae,me)}function ue(O,ae,me){if(O=="word")return N="attribute",Te;if(O=="endTag"||O=="selfcloseTag"){var _e=me.tagName,Ve=me.tagStart;return me.tagName=me.tagStart=null,O=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(T(_e))?I(me,_e):(I(me,_e),me.context=new D(me,_e,Ve==me.indented)),V}return N="error",ue}function Te(O,ae,me){return O=="equals"?pe:(b.allowMissing||(N="error"),ue(O,ae,me))}function pe(O,ae,me){return O=="string"?ie:O=="word"&&b.allowUnquoted?(N="string",ue):(N="error",ue(O,ae,me))}function ie(O,ae,me){return O=="string"?ie:ue(O,ae,me)}return{startState:function(O){var ae={tokenize:q,state:V,indented:O||0,tagName:null,tagStart:null,context:null};return O!=null&&(ae.baseIndent=O),ae},token:function(O,ae){if(!ae.tagName&&O.sol()&&(ae.indented=O.indentation()),O.eatSpace())return null;E=null;var me=ae.tokenize(O,ae);return(me||E)&&me!="comment"&&(N=null,ae.state=ae.state(E||me,O,ae),N&&(me=N=="error"?me+" error":N)),me},indent:function(O,ae,me){var _e=O.context;if(O.tokenize.isInAttribute)return O.tagStart==O.indented?O.stringStartCol+1:O.indented+h;if(_e&&_e.noIndent)return r.Pass;if(O.tokenize!=F&&O.tokenize!=q)return me?me.match(/^(\s*)/)[0].length:0;if(O.tagName)return b.multilineTagIndentPastTag!==!1?O.tagStart+O.tagName.length+2:O.tagStart+h*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var Ve=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(Ve&&Ve[1])for(;_e;)if(_e.tagName==Ve[2]){_e=_e.prev;break}else if(b.implicitlyClosed.hasOwnProperty(T(_e.tagName)))_e=_e.prev;else break;else if(Ve)for(;_e;){var Fe=b.contextGrabbers[T(_e.tagName)];if(Fe&&Fe.hasOwnProperty(T(Ve[2])))_e=_e.prev;else break}for(;_e&&_e.prev&&!_e.startOfLine;)_e=_e.prev;return _e?_e.indent+h:O.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(O){O.state==pe&&(O.state=ue)},xmlCurrentTag:function(O){return O.tagName?{name:O.tagName,close:O.type=="closeTag"}:null},xmlCurrentContext:function(O){for(var ae=[],me=O.context;me;me=me.prev)ae.push(me.tagName);return ae.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),zm.exports}var Bm={exports:{}},$m;function Ax(){return $m||($m=1,(function(t,e){(function(r){r(ls())})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var s=0;s<r.modeInfo.length;s++){var u=r.modeInfo[s];u.mimes&&(u.mime=u.mimes[0])}r.findModeByMIME=function(l){l=l.toLowerCase();for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.mime==l)return h;if(h.mimes){for(var b=0;b<h.mimes.length;b++)if(h.mimes[b]==l)return h}}if(/\+xml$/.test(l))return r.findModeByMIME("application/xml");if(/\+json$/.test(l))return r.findModeByMIME("application/json")},r.findModeByExtension=function(l){l=l.toLowerCase();for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.ext){for(var b=0;b<h.ext.length;b++)if(h.ext[b]==l)return h}}},r.findModeByFileName=function(l){for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.file&&h.file.test(l))return h}var b=l.lastIndexOf("."),w=b>-1&&l.substring(b+1,l.length);if(w)return r.findModeByExtension(w)},r.findModeByName=function(l){l=l.toLowerCase();for(var f=0;f<r.modeInfo.length;f++){var h=r.modeInfo[f];if(h.name.toLowerCase()==l)return h;if(h.alias){for(var b=0;b<h.alias.length;b++)if(h.alias[b].toLowerCase()==l)return h}}}})})()),Bm.exports}var Hm;function T0(){return Hm||(Hm=1,(function(t,e){(function(r){r(ls(),S0(),Ax())})(function(r){r.defineMode("markdown",function(s,u){var l=r.getMode(s,"text/html"),f=l.name=="null";function h(J){if(r.findModeByName){var Y=r.findModeByName(J);Y&&(J=Y.mime||Y.mimes[0])}var Ce=r.getMode(s,J);return Ce.name=="null"?null:Ce}u.highlightFormatting===void 0&&(u.highlightFormatting=!1),u.maxBlockquoteDepth===void 0&&(u.maxBlockquoteDepth=0),u.taskLists===void 0&&(u.taskLists=!1),u.strikethrough===void 0&&(u.strikethrough=!1),u.emoji===void 0&&(u.emoji=!1),u.fencedCodeBlockHighlighting===void 0&&(u.fencedCodeBlockHighlighting=!0),u.fencedCodeBlockDefaultMode===void 0&&(u.fencedCodeBlockDefaultMode="text/plain"),u.xml===void 0&&(u.xml=!0),u.tokenTypeOverrides===void 0&&(u.tokenTypeOverrides={});var b={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var w in b)b.hasOwnProperty(w)&&u.tokenTypeOverrides[w]&&(b[w]=u.tokenTypeOverrides[w]);var x=/^([*\-_])(?:\s*\1){2,}\s*$/,E=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,N=/^\[(x| )\](?=\s)/i,q=u.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,F=/^ {0,3}(?:\={1,}|-{2,})\s*$/,j=/^[^#!\[\]*_\\<>` "'(~:]+/,W=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,U=/^\s*\[[^\]]+?\]:.*$/,T=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function B(J,Y,Ce){return Y.f=Y.inline=Ce,Ce(J,Y)}function I(J,Y,Ce){return Y.f=Y.block=Ce,Ce(J,Y)}function V(J){return!J||!/\S/.test(J.string)}function te(J){if(J.linkTitle=!1,J.linkHref=!1,J.linkText=!1,J.em=!1,J.strong=!1,J.strikethrough=!1,J.quote=0,J.indentedCode=!1,J.f==ce){var Y=f;if(!Y){var Ce=r.innerMode(l,J.htmlState);Y=Ce.mode.name=="xml"&&Ce.state.tagStart===null&&!Ce.state.context&&Ce.state.tokenize.isInText}Y&&(J.f=pe,J.block=oe,J.htmlState=null)}return J.trailingSpace=0,J.trailingSpaceNewLine=!1,J.prevLine=J.thisLine,J.thisLine={stream:null},null}function oe(J,Y){var Ce=J.column()===Y.indentation,Me=V(Y.prevLine.stream),G=Y.indentedCode,ge=Y.prevLine.hr,we=Y.list!==!1,Ie=(Y.listStack[Y.listStack.length-1]||0)+3;Y.indentedCode=!1;var Ye=Y.indentation;if(Y.indentationDiff===null&&(Y.indentationDiff=Y.indentation,we)){for(Y.list=null;Ye<Y.listStack[Y.listStack.length-1];)Y.listStack.pop(),Y.listStack.length?Y.indentation=Y.listStack[Y.listStack.length-1]:Y.list=!1;Y.list!==!1&&(Y.indentationDiff=Ye-Y.listStack[Y.listStack.length-1])}var Ge=!Me&&!ge&&!Y.prevLine.header&&(!we||!G)&&!Y.prevLine.fencedCodeEnd,st=(Y.list===!1||ge||Me)&&Y.indentation<=Ie&&J.match(x),wt=null;if(Y.indentationDiff>=4&&(G||Y.prevLine.fencedCodeEnd||Y.prevLine.header||Me))return J.skipToEnd(),Y.indentedCode=!0,b.code;if(J.eatSpace())return null;if(Ce&&Y.indentation<=Ie&&(wt=J.match(q))&&wt[1].length<=6)return Y.quote=0,Y.header=wt[1].length,Y.thisLine.header=!0,u.highlightFormatting&&(Y.formatting="header"),Y.f=Y.inline,ue(Y);if(Y.indentation<=Ie&&J.eat(">"))return Y.quote=Ce?1:Y.quote+1,u.highlightFormatting&&(Y.formatting="quote"),J.eatSpace(),ue(Y);if(!st&&!Y.setext&&Ce&&Y.indentation<=Ie&&(wt=J.match(E))){var kt=wt[1]?"ol":"ul";return Y.indentation=Ye+J.current().length,Y.list=!0,Y.quote=0,Y.listStack.push(Y.indentation),Y.em=!1,Y.strong=!1,Y.code=!1,Y.strikethrough=!1,u.taskLists&&J.match(N,!1)&&(Y.taskList=!0),Y.f=Y.inline,u.highlightFormatting&&(Y.formatting=["list","list-"+kt]),ue(Y)}else{if(Ce&&Y.indentation<=Ie&&(wt=J.match(W,!0)))return Y.quote=0,Y.fencedEndRE=new RegExp(wt[1]+"+ *$"),Y.localMode=u.fencedCodeBlockHighlighting&&h(wt[2]||u.fencedCodeBlockDefaultMode),Y.localMode&&(Y.localState=r.startState(Y.localMode)),Y.f=Y.block=fe,u.highlightFormatting&&(Y.formatting="code-block"),Y.code=-1,ue(Y);if(Y.setext||(!Ge||!we)&&!Y.quote&&Y.list===!1&&!Y.code&&!st&&!U.test(J.string)&&(wt=J.lookAhead(1))&&(wt=wt.match(F)))return Y.setext?(Y.header=Y.setext,Y.setext=0,J.skipToEnd(),u.highlightFormatting&&(Y.formatting="header")):(Y.header=wt[0].charAt(0)=="="?1:2,Y.setext=Y.header),Y.thisLine.header=!0,Y.f=Y.inline,ue(Y);if(st)return J.skipToEnd(),Y.hr=!0,Y.thisLine.hr=!0,b.hr;if(J.peek()==="[")return B(J,Y,_e)}return B(J,Y,Y.inline)}function ce(J,Y){var Ce=l.token(J,Y.htmlState);if(!f){var Me=r.innerMode(l,Y.htmlState);(Me.mode.name=="xml"&&Me.state.tagStart===null&&!Me.state.context&&Me.state.tokenize.isInText||Y.md_inside&&J.current().indexOf(">")>-1)&&(Y.f=pe,Y.block=oe,Y.htmlState=null)}return Ce}function fe(J,Y){var Ce=Y.listStack[Y.listStack.length-1]||0,Me=Y.indentation<Ce,G=Ce+3;if(Y.fencedEndRE&&Y.indentation<=G&&(Me||J.match(Y.fencedEndRE))){u.highlightFormatting&&(Y.formatting="code-block");var ge;return Me||(ge=ue(Y)),Y.localMode=Y.localState=null,Y.block=oe,Y.f=pe,Y.fencedEndRE=null,Y.code=0,Y.thisLine.fencedCodeEnd=!0,Me?I(J,Y,Y.block):ge}else return Y.localMode?Y.localMode.token(J,Y.localState):(J.skipToEnd(),b.code)}function ue(J){var Y=[];if(J.formatting){Y.push(b.formatting),typeof J.formatting=="string"&&(J.formatting=[J.formatting]);for(var Ce=0;Ce<J.formatting.length;Ce++)Y.push(b.formatting+"-"+J.formatting[Ce]),J.formatting[Ce]==="header"&&Y.push(b.formatting+"-"+J.formatting[Ce]+"-"+J.header),J.formatting[Ce]==="quote"&&(!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=J.quote?Y.push(b.formatting+"-"+J.formatting[Ce]+"-"+J.quote):Y.push("error"))}if(J.taskOpen)return Y.push("meta"),Y.length?Y.join(" "):null;if(J.taskClosed)return Y.push("property"),Y.length?Y.join(" "):null;if(J.linkHref?Y.push(b.linkHref,"url"):(J.strong&&Y.push(b.strong),J.em&&Y.push(b.em),J.strikethrough&&Y.push(b.strikethrough),J.emoji&&Y.push(b.emoji),J.linkText&&Y.push(b.linkText),J.code&&Y.push(b.code),J.image&&Y.push(b.image),J.imageAltText&&Y.push(b.imageAltText,"link"),J.imageMarker&&Y.push(b.imageMarker)),J.header&&Y.push(b.header,b.header+"-"+J.header),J.quote&&(Y.push(b.quote),!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=J.quote?Y.push(b.quote+"-"+J.quote):Y.push(b.quote+"-"+u.maxBlockquoteDepth)),J.list!==!1){var Me=(J.listStack.length-1)%3;Me?Me===1?Y.push(b.list2):Y.push(b.list3):Y.push(b.list1)}return J.trailingSpaceNewLine?Y.push("trailing-space-new-line"):J.trailingSpace&&Y.push("trailing-space-"+(J.trailingSpace%2?"a":"b")),Y.length?Y.join(" "):null}function Te(J,Y){if(J.match(j,!0))return ue(Y)}function pe(J,Y){var Ce=Y.text(J,Y);if(typeof Ce<"u")return Ce;if(Y.list)return Y.list=null,ue(Y);if(Y.taskList){var Me=J.match(N,!0)[1]===" ";return Me?Y.taskOpen=!0:Y.taskClosed=!0,u.highlightFormatting&&(Y.formatting="task"),Y.taskList=!1,ue(Y)}if(Y.taskOpen=!1,Y.taskClosed=!1,Y.header&&J.match(/^#+$/,!0))return u.highlightFormatting&&(Y.formatting="header"),ue(Y);var G=J.next();if(Y.linkTitle){Y.linkTitle=!1;var ge=G;G==="("&&(ge=")"),ge=(ge+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var we="^\\s*(?:[^"+ge+"\\\\]+|\\\\\\\\|\\\\.)"+ge;if(J.match(new RegExp(we),!0))return b.linkHref}if(G==="`"){var Ie=Y.formatting;u.highlightFormatting&&(Y.formatting="code"),J.eatWhile("`");var Ye=J.current().length;if(Y.code==0&&(!Y.quote||Ye==1))return Y.code=Ye,ue(Y);if(Ye==Y.code){var Ge=ue(Y);return Y.code=0,Ge}else return Y.formatting=Ie,ue(Y)}else if(Y.code)return ue(Y);if(G==="\\"&&(J.next(),u.highlightFormatting)){var st=ue(Y),wt=b.formatting+"-escape";return st?st+" "+wt:wt}if(G==="!"&&J.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Y.imageMarker=!0,Y.image=!0,u.highlightFormatting&&(Y.formatting="image"),ue(Y);if(G==="["&&Y.imageMarker&&J.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Y.imageMarker=!1,Y.imageAltText=!0,u.highlightFormatting&&(Y.formatting="image"),ue(Y);if(G==="]"&&Y.imageAltText){u.highlightFormatting&&(Y.formatting="image");var st=ue(Y);return Y.imageAltText=!1,Y.image=!1,Y.inline=Y.f=O,st}if(G==="["&&!Y.image)return Y.linkText&&J.match(/^.*?\]/)||(Y.linkText=!0,u.highlightFormatting&&(Y.formatting="link")),ue(Y);if(G==="]"&&Y.linkText){u.highlightFormatting&&(Y.formatting="link");var st=ue(Y);return Y.linkText=!1,Y.inline=Y.f=J.match(/\(.*?\)| ?\[.*?\]/,!1)?O:pe,st}if(G==="<"&&J.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=ie,u.highlightFormatting&&(Y.formatting="link");var st=ue(Y);return st?st+=" ":st="",st+b.linkInline}if(G==="<"&&J.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Y.f=Y.inline=ie,u.highlightFormatting&&(Y.formatting="link");var st=ue(Y);return st?st+=" ":st="",st+b.linkEmail}if(u.xml&&G==="<"&&J.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var kt=J.string.indexOf(">",J.pos);if(kt!=-1){var Dt=J.string.substring(J.start,kt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Dt)&&(Y.md_inside=!0)}return J.backUp(1),Y.htmlState=r.startState(l),I(J,Y,ce)}if(u.xml&&G==="<"&&J.match(/^\/\w*?>/))return Y.md_inside=!1,"tag";if(G==="*"||G==="_"){for(var mt=1,Mt=J.pos==1?" ":J.string.charAt(J.pos-2);mt<3&&J.eat(G);)mt++;var Ut=J.peek()||" ",hn=!/\s/.test(Ut)&&(!T.test(Ut)||/\s/.test(Mt)||T.test(Mt)),vt=!/\s/.test(Mt)&&(!T.test(Mt)||/\s/.test(Ut)||T.test(Ut)),Ot=null,Le=null;if(mt%2&&(!Y.em&&hn&&(G==="*"||!vt||T.test(Mt))?Ot=!0:Y.em==G&&vt&&(G==="*"||!hn||T.test(Ut))&&(Ot=!1)),mt>1&&(!Y.strong&&hn&&(G==="*"||!vt||T.test(Mt))?Le=!0:Y.strong==G&&vt&&(G==="*"||!hn||T.test(Ut))&&(Le=!1)),Le!=null||Ot!=null){u.highlightFormatting&&(Y.formatting=Ot==null?"strong":Le==null?"em":"strong em"),Ot===!0&&(Y.em=G),Le===!0&&(Y.strong=G);var Ge=ue(Y);return Ot===!1&&(Y.em=!1),Le===!1&&(Y.strong=!1),Ge}}else if(G===" "&&(J.eat("*")||J.eat("_"))){if(J.peek()===" ")return ue(Y);J.backUp(1)}if(u.strikethrough){if(G==="~"&&J.eatWhile(G)){if(Y.strikethrough){u.highlightFormatting&&(Y.formatting="strikethrough");var Ge=ue(Y);return Y.strikethrough=!1,Ge}else if(J.match(/^[^\s]/,!1))return Y.strikethrough=!0,u.highlightFormatting&&(Y.formatting="strikethrough"),ue(Y)}else if(G===" "&&J.match("~~",!0)){if(J.peek()===" ")return ue(Y);J.backUp(2)}}if(u.emoji&&G===":"&&J.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Y.emoji=!0,u.highlightFormatting&&(Y.formatting="emoji");var nt=ue(Y);return Y.emoji=!1,nt}return G===" "&&(J.match(/^ +$/,!1)?Y.trailingSpace++:Y.trailingSpace&&(Y.trailingSpaceNewLine=!0)),ue(Y)}function ie(J,Y){var Ce=J.next();if(Ce===">"){Y.f=Y.inline=pe,u.highlightFormatting&&(Y.formatting="link");var Me=ue(Y);return Me?Me+=" ":Me="",Me+b.linkInline}return J.match(/^[^>]+/,!0),b.linkInline}function O(J,Y){if(J.eatSpace())return null;var Ce=J.next();return Ce==="("||Ce==="["?(Y.f=Y.inline=me(Ce==="("?")":"]"),u.highlightFormatting&&(Y.formatting="link-string"),Y.linkHref=!0,ue(Y)):"error"}var ae={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function me(J){return function(Y,Ce){var Me=Y.next();if(Me===J){Ce.f=Ce.inline=pe,u.highlightFormatting&&(Ce.formatting="link-string");var G=ue(Ce);return Ce.linkHref=!1,G}return Y.match(ae[J]),Ce.linkHref=!0,ue(Ce)}}function _e(J,Y){return J.match(/^([^\]\\]|\\.)*\]:/,!1)?(Y.f=Ve,J.next(),u.highlightFormatting&&(Y.formatting="link"),Y.linkText=!0,ue(Y)):B(J,Y,pe)}function Ve(J,Y){if(J.match("]:",!0)){Y.f=Y.inline=Fe,u.highlightFormatting&&(Y.formatting="link");var Ce=ue(Y);return Y.linkText=!1,Ce}return J.match(/^([^\]\\]|\\.)+/,!0),b.linkText}function Fe(J,Y){return J.eatSpace()?null:(J.match(/^[^\s]+/,!0),J.peek()===void 0?Y.linkTitle=!0:J.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Y.f=Y.inline=pe,b.linkHref+" url")}var Ee={startState:function(){return{f:oe,prevLine:{stream:null},thisLine:{stream:null},block:oe,htmlState:null,indentation:0,inline:pe,text:Te,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(J){return{f:J.f,prevLine:J.prevLine,thisLine:J.thisLine,block:J.block,htmlState:J.htmlState&&r.copyState(l,J.htmlState),indentation:J.indentation,localMode:J.localMode,localState:J.localMode?r.copyState(J.localMode,J.localState):null,inline:J.inline,text:J.text,formatting:!1,linkText:J.linkText,linkTitle:J.linkTitle,linkHref:J.linkHref,code:J.code,em:J.em,strong:J.strong,strikethrough:J.strikethrough,emoji:J.emoji,header:J.header,setext:J.setext,hr:J.hr,taskList:J.taskList,list:J.list,listStack:J.listStack.slice(0),quote:J.quote,indentedCode:J.indentedCode,trailingSpace:J.trailingSpace,trailingSpaceNewLine:J.trailingSpaceNewLine,md_inside:J.md_inside,fencedEndRE:J.fencedEndRE}},token:function(J,Y){if(Y.formatting=!1,J!=Y.thisLine.stream){if(Y.header=0,Y.hr=!1,J.match(/^\s*$/,!0))return te(Y),null;if(Y.prevLine=Y.thisLine,Y.thisLine={stream:J},Y.taskList=!1,Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,!Y.localState&&(Y.f=Y.block,Y.f!=ce)){var Ce=J.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(Y.indentation=Ce,Y.indentationDiff=null,Ce>0)return null}}return Y.f(J,Y)},innerMode:function(J){return J.block==ce?{state:J.htmlState,mode:l}:J.localState?{state:J.localState,mode:J.localMode}:{state:J,mode:Ee}},indent:function(J,Y,Ce){return J.block==ce&&l.indent?l.indent(J.htmlState,Y,Ce):J.localState&&J.localMode.indent?J.localMode.indent(J.localState,Y,Ce):r.Pass},blankLine:te,getType:ue,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Ee},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})})()),Nm.exports}T0();var Wm={exports:{}},qm;function Dx(){return qm||(qm=1,(function(t,e){(function(r){r(ls())})(function(r){r.defineMode("javascript",function(s,u){var l=s.indentUnit,f=u.statementIndent,h=u.jsonld,b=u.json||h,w=u.trackScope!==!1,x=u.typescript,E=u.wordCharacters||/[\w$\xa1-\uffff]/,N=(function(){function K(Kn){return{type:Kn,style:"keyword"}}var ve=K("keyword a"),Ne=K("keyword b"),Je=K("keyword c"),Be=K("keyword d"),ft=K("operator"),tn={type:"atom",style:"atom"};return{if:K("if"),while:ve,with:ve,else:Ne,do:Ne,try:Ne,finally:Ne,return:Be,break:Be,continue:Be,new:K("new"),delete:Je,void:Je,throw:Je,debugger:K("debugger"),var:K("var"),const:K("var"),let:K("var"),function:K("function"),catch:K("catch"),for:K("for"),switch:K("switch"),case:K("case"),default:K("default"),in:ft,typeof:ft,instanceof:ft,true:tn,false:tn,null:tn,undefined:tn,NaN:tn,Infinity:tn,this:K("this"),class:K("class"),super:K("atom"),yield:Je,export:K("export"),import:K("import"),extends:Je,await:Je}})(),q=/[+\-*&%=<>!?|~^@]/,F=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function j(K){for(var ve=!1,Ne,Je=!1;(Ne=K.next())!=null;){if(!ve){if(Ne=="/"&&!Je)return;Ne=="["?Je=!0:Je&&Ne=="]"&&(Je=!1)}ve=!ve&&Ne=="\\"}}var W,U;function T(K,ve,Ne){return W=K,U=Ne,ve}function D(K,ve){var Ne=K.next();if(Ne=='"'||Ne=="'")return ve.tokenize=B(Ne),ve.tokenize(K,ve);if(Ne=="."&&K.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(Ne=="."&&K.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ne))return T(Ne);if(Ne=="="&&K.eat(">"))return T("=>","operator");if(Ne=="0"&&K.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(Ne))return K.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(Ne=="/")return K.eat("*")?(ve.tokenize=I,I(K,ve)):K.eat("/")?(K.skipToEnd(),T("comment","comment")):Ui(K,ve,1)?(j(K),K.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(K.eat("="),T("operator","operator",K.current()));if(Ne=="`")return ve.tokenize=V,V(K,ve);if(Ne=="#"&&K.peek()=="!")return K.skipToEnd(),T("meta","meta");if(Ne=="#"&&K.eatWhile(E))return T("variable","property");if(Ne=="<"&&K.match("!--")||Ne=="-"&&K.match("->")&&!/\S/.test(K.string.slice(0,K.start)))return K.skipToEnd(),T("comment","comment");if(q.test(Ne))return(Ne!=">"||!ve.lexical||ve.lexical.type!=">")&&(K.eat("=")?(Ne=="!"||Ne=="=")&&K.eat("="):/[<>*+\-|&?]/.test(Ne)&&(K.eat(Ne),Ne==">"&&K.eat(Ne))),Ne=="?"&&K.eat(".")?T("."):T("operator","operator",K.current());if(E.test(Ne)){K.eatWhile(E);var Je=K.current();if(ve.lastType!="."){if(N.propertyIsEnumerable(Je)){var Be=N[Je];return T(Be.type,Be.style,Je)}if(Je=="async"&&K.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",Je)}return T("variable","variable",Je)}}function B(K){return function(ve,Ne){var Je=!1,Be;if(h&&ve.peek()=="@"&&ve.match(F))return Ne.tokenize=D,T("jsonld-keyword","meta");for(;(Be=ve.next())!=null&&!(Be==K&&!Je);)Je=!Je&&Be=="\\";return Je||(Ne.tokenize=D),T("string","string")}}function I(K,ve){for(var Ne=!1,Je;Je=K.next();){if(Je=="/"&&Ne){ve.tokenize=D;break}Ne=Je=="*"}return T("comment","comment")}function V(K,ve){for(var Ne=!1,Je;(Je=K.next())!=null;){if(!Ne&&(Je=="`"||Je=="$"&&K.eat("{"))){ve.tokenize=D;break}Ne=!Ne&&Je=="\\"}return T("quasi","string-2",K.current())}var te="([{}])";function oe(K,ve){ve.fatArrowAt&&(ve.fatArrowAt=null);var Ne=K.string.indexOf("=>",K.start);if(!(Ne<0)){if(x){var Je=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(K.string.slice(K.start,Ne));Je&&(Ne=Je.index)}for(var Be=0,ft=!1,tn=Ne-1;tn>=0;--tn){var Kn=K.string.charAt(tn),Rt=te.indexOf(Kn);if(Rt>=0&&Rt<3){if(!Be){++tn;break}if(--Be==0){Kn=="("&&(ft=!0);break}}else if(Rt>=3&&Rt<6)++Be;else if(E.test(Kn))ft=!0;else if(/["'\/`]/.test(Kn))for(;;--tn){if(tn==0)return;var cn=K.string.charAt(tn-1);if(cn==Kn&&K.string.charAt(tn-2)!="\\"){tn--;break}}else if(ft&&!Be){++tn;break}}ft&&!Be&&(ve.fatArrowAt=tn)}}var ce={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function fe(K,ve,Ne,Je,Be,ft){this.indented=K,this.column=ve,this.type=Ne,this.prev=Be,this.info=ft,Je!=null&&(this.align=Je)}function ue(K,ve){if(!w)return!1;for(var Ne=K.localVars;Ne;Ne=Ne.next)if(Ne.name==ve)return!0;for(var Je=K.context;Je;Je=Je.prev)for(var Ne=Je.vars;Ne;Ne=Ne.next)if(Ne.name==ve)return!0}function Te(K,ve,Ne,Je,Be){var ft=K.cc;for(pe.state=K,pe.stream=Be,pe.marked=null,pe.cc=ft,pe.style=ve,K.lexical.hasOwnProperty("align")||(K.lexical.align=!0);;){var tn=ft.length?ft.pop():b?Ge:Ie;if(tn(Ne,Je)){for(;ft.length&&ft[ft.length-1].lex;)ft.pop()();return pe.marked?pe.marked:Ne=="variable"&&ue(K,Je)?"variable-2":ve}}}var pe={state:null,marked:null,cc:null};function ie(){for(var K=arguments.length-1;K>=0;K--)pe.cc.push(arguments[K])}function O(){return ie.apply(null,arguments),!0}function ae(K,ve){for(var Ne=ve;Ne;Ne=Ne.next)if(Ne.name==K)return!0;return!1}function me(K){var ve=pe.state;if(pe.marked="def",!!w){if(ve.context){if(ve.lexical.info=="var"&&ve.context&&ve.context.block){var Ne=_e(K,ve.context);if(Ne!=null){ve.context=Ne;return}}else if(!ae(K,ve.localVars)){ve.localVars=new Ee(K,ve.localVars);return}}u.globalVars&&!ae(K,ve.globalVars)&&(ve.globalVars=new Ee(K,ve.globalVars))}}function _e(K,ve){if(ve)if(ve.block){var Ne=_e(K,ve.prev);return Ne?Ne==ve.prev?ve:new Fe(Ne,ve.vars,!0):null}else return ae(K,ve.vars)?ve:new Fe(ve.prev,new Ee(K,ve.vars),!1);else return null}function Ve(K){return K=="public"||K=="private"||K=="protected"||K=="abstract"||K=="readonly"}function Fe(K,ve,Ne){this.prev=K,this.vars=ve,this.block=Ne}function Ee(K,ve){this.name=K,this.next=ve}var J=new Ee("this",new Ee("arguments",null));function Y(){pe.state.context=new Fe(pe.state.context,pe.state.localVars,!1),pe.state.localVars=J}function Ce(){pe.state.context=new Fe(pe.state.context,pe.state.localVars,!0),pe.state.localVars=null}Y.lex=Ce.lex=!0;function Me(){pe.state.localVars=pe.state.context.vars,pe.state.context=pe.state.context.prev}Me.lex=!0;function G(K,ve){var Ne=function(){var Je=pe.state,Be=Je.indented;if(Je.lexical.type=="stat")Be=Je.lexical.indented;else for(var ft=Je.lexical;ft&&ft.type==")"&&ft.align;ft=ft.prev)Be=ft.indented;Je.lexical=new fe(Be,pe.stream.column(),K,null,Je.lexical,ve)};return Ne.lex=!0,Ne}function ge(){var K=pe.state;K.lexical.prev&&(K.lexical.type==")"&&(K.indented=K.lexical.indented),K.lexical=K.lexical.prev)}ge.lex=!0;function we(K){function ve(Ne){return Ne==K?O():K==";"||Ne=="}"||Ne==")"||Ne=="]"?ie():O(ve)}return ve}function Ie(K,ve){return K=="var"?O(G("vardef",ve),Bt,we(";"),ge):K=="keyword a"?O(G("form"),wt,Ie,ge):K=="keyword b"?O(G("form"),Ie,ge):K=="keyword d"?pe.stream.match(/^\s*$/,!1)?O():O(G("stat"),Dt,we(";"),ge):K=="debugger"?O(we(";")):K=="{"?O(G("}"),Ce,Gn,ge,Me):K==";"?O():K=="if"?(pe.state.lexical.info=="else"&&pe.state.cc[pe.state.cc.length-1]==ge&&pe.state.cc.pop()(),O(G("form"),wt,Ie,ge,Xn)):K=="function"?O(dn):K=="for"?O(G("form"),Ce,bt,Ie,Me,ge):K=="class"||x&&ve=="interface"?(pe.marked="keyword",O(G("form",K=="class"?K:ve),Ei,ge)):K=="variable"?x&&ve=="declare"?(pe.marked="keyword",O(Ie)):x&&(ve=="module"||ve=="enum"||ve=="type")&&pe.stream.match(/^\s*\w/,!1)?(pe.marked="keyword",ve=="enum"?O(Lt):ve=="type"?O(Jn,we("operator"),Zt,we(";")):O(G("form"),_t,we("{"),G("}"),Gn,ge,ge)):x&&ve=="namespace"?(pe.marked="keyword",O(G("form"),Ge,Ie,ge)):x&&ve=="abstract"?(pe.marked="keyword",O(Ie)):O(G("stat"),jt):K=="switch"?O(G("form"),wt,we("{"),G("}","switch"),Ce,Gn,ge,ge,Me):K=="case"?O(Ge,we(":")):K=="default"?O(we(":")):K=="catch"?O(G("form"),Y,Ye,Ie,ge,Me):K=="export"?O(G("stat"),Jr,ge):K=="import"?O(G("stat"),Pi,ge):K=="async"?O(Ie):ve=="@"?O(Ge,Ie):ie(G("stat"),Ge,we(";"),ge)}function Ye(K){if(K=="(")return O(Pn,we(")"))}function Ge(K,ve){return kt(K,ve,!1)}function st(K,ve){return kt(K,ve,!0)}function wt(K){return K!="("?ie():O(G(")"),Dt,we(")"),ge)}function kt(K,ve,Ne){if(pe.state.fatArrowAt==pe.stream.start){var Je=Ne?Ot:vt;if(K=="(")return O(Y,G(")"),xn(Pn,")"),ge,we("=>"),Je,Me);if(K=="variable")return ie(Y,_t,we("=>"),Je,Me)}var Be=Ne?Mt:mt;return ce.hasOwnProperty(K)?O(Be):K=="function"?O(dn,Be):K=="class"||x&&ve=="interface"?(pe.marked="keyword",O(G("form"),un,ge)):K=="keyword c"||K=="async"?O(Ne?st:Ge):K=="("?O(G(")"),Dt,we(")"),ge,Be):K=="operator"||K=="spread"?O(Ne?st:Ge):K=="["?O(G("]"),Vn,ge,Be):K=="{"?vi(li,"}",null,Be):K=="quasi"?ie(Ut,Be):K=="new"?O(Le(Ne)):O()}function Dt(K){return K.match(/[;\}\)\],]/)?ie():ie(Ge)}function mt(K,ve){return K==","?O(Dt):Mt(K,ve,!1)}function Mt(K,ve,Ne){var Je=Ne==!1?mt:Mt,Be=Ne==!1?Ge:st;if(K=="=>")return O(Y,Ne?Ot:vt,Me);if(K=="operator")return/\+\+|--/.test(ve)||x&&ve=="!"?O(Je):x&&ve=="<"&&pe.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?O(G(">"),xn(Zt,">"),ge,Je):ve=="?"?O(Ge,we(":"),Be):O(Be);if(K=="quasi")return ie(Ut,Je);if(K!=";"){if(K=="(")return vi(st,")","call",Je);if(K==".")return O(ii,Je);if(K=="[")return O(G("]"),Dt,we("]"),ge,Je);if(x&&ve=="as")return pe.marked="keyword",O(Zt,Je);if(K=="regexp")return pe.state.lastType=pe.marked="operator",pe.stream.backUp(pe.stream.pos-pe.stream.start-1),O(Be)}}function Ut(K,ve){return K!="quasi"?ie():ve.slice(ve.length-2)!="${"?O(Ut):O(Dt,hn)}function hn(K){if(K=="}")return pe.marked="string-2",pe.state.tokenize=V,O(Ut)}function vt(K){return oe(pe.stream,pe.state),ie(K=="{"?Ie:Ge)}function Ot(K){return oe(pe.stream,pe.state),ie(K=="{"?Ie:st)}function Le(K){return function(ve){return ve=="."?O(K?qe:nt):ve=="variable"&&x?O(et,K?Mt:mt):ie(K?st:Ge)}}function nt(K,ve){if(ve=="target")return pe.marked="keyword",O(mt)}function qe(K,ve){if(ve=="target")return pe.marked="keyword",O(Mt)}function jt(K){return K==":"?O(ge,Ie):ie(mt,we(";"),ge)}function ii(K){if(K=="variable")return pe.marked="property",O()}function li(K,ve){if(K=="async")return pe.marked="property",O(li);if(K=="variable"||pe.style=="keyword"){if(pe.marked="property",ve=="get"||ve=="set")return O(qi);var Ne;return x&&pe.state.fatArrowAt==pe.stream.start&&(Ne=pe.stream.match(/^\s*:\s*/,!1))&&(pe.state.fatArrowAt=pe.stream.pos+Ne[0].length),O(gi)}else{if(K=="number"||K=="string")return pe.marked=h?"property":pe.style+" property",O(gi);if(K=="jsonld-keyword")return O(gi);if(x&&Ve(ve))return pe.marked="keyword",O(li);if(K=="[")return O(Ge,Mi,we("]"),gi);if(K=="spread")return O(st,gi);if(ve=="*")return pe.marked="keyword",O(li);if(K==":")return ie(gi)}}function qi(K){return K!="variable"?ie(gi):(pe.marked="property",O(dn))}function gi(K){if(K==":")return O(st);if(K=="(")return ie(dn)}function xn(K,ve,Ne){function Je(Be,ft){if(Ne?Ne.indexOf(Be)>-1:Be==","){var tn=pe.state.lexical;return tn.info=="call"&&(tn.pos=(tn.pos||0)+1),O(function(Kn,Rt){return Kn==ve||Rt==ve?ie():ie(K)},Je)}return Be==ve||ft==ve?O():Ne&&Ne.indexOf(";")>-1?ie(K):O(we(ve))}return function(Be,ft){return Be==ve||ft==ve?O():ie(K,Je)}}function vi(K,ve,Ne){for(var Je=3;Je<arguments.length;Je++)pe.cc.push(arguments[Je]);return O(G(ve,Ne),xn(K,ve),ge)}function Gn(K){return K=="}"?O():ie(Ie,Gn)}function Mi(K,ve){if(x){if(K==":")return O(Zt);if(ve=="?")return O(Mi)}}function Yn(K,ve){if(x&&(K==":"||ve=="in"))return O(Zt)}function Tt(K){if(x&&K==":")return pe.stream.match(/^\s*\w+\s+is\b/,!1)?O(Ge,Rr,Zt):O(Zt)}function Rr(K,ve){if(ve=="is")return pe.marked="keyword",O()}function Zt(K,ve){if(ve=="keyof"||ve=="typeof"||ve=="infer"||ve=="readonly")return pe.marked="keyword",O(ve=="typeof"?st:Zt);if(K=="variable"||ve=="void")return pe.marked="type",O(ln);if(ve=="|"||ve=="&")return O(Zt);if(K=="string"||K=="number"||K=="atom")return O(ln);if(K=="[")return O(G("]"),xn(Zt,"]",","),ge,ln);if(K=="{")return O(G("}"),Pt,ge,ln);if(K=="(")return O(xn(an,")"),ji,ln);if(K=="<")return O(xn(Zt,">"),Zt);if(K=="quasi")return ie(vn,ln)}function ji(K){if(K=="=>")return O(Zt)}function Pt(K){return K.match(/[\}\)\]]/)?O():K==","||K==";"?O(Pt):ie(oi,Pt)}function oi(K,ve){if(K=="variable"||pe.style=="keyword")return pe.marked="property",O(oi);if(ve=="?"||K=="number"||K=="string")return O(oi);if(K==":")return O(Zt);if(K=="[")return O(we("variable"),Yn,we("]"),oi);if(K=="(")return ie(Cn,oi);if(!K.match(/[;\}\)\],]/))return O()}function vn(K,ve){return K!="quasi"?ie():ve.slice(ve.length-2)!="${"?O(vn):O(Zt,Dn)}function Dn(K){if(K=="}")return pe.marked="string-2",pe.state.tokenize=V,O(vn)}function an(K,ve){return K=="variable"&&pe.stream.match(/^\s*[?:]/,!1)||ve=="?"?O(an):K==":"?O(Zt):K=="spread"?O(an):ie(Zt)}function ln(K,ve){if(ve=="<")return O(G(">"),xn(Zt,">"),ge,ln);if(ve=="|"||K=="."||ve=="&")return O(Zt);if(K=="[")return O(Zt,we("]"),ln);if(ve=="extends"||ve=="implements")return pe.marked="keyword",O(Zt);if(ve=="?")return O(Zt,we(":"),Zt)}function et(K,ve){if(ve=="<")return O(G(">"),xn(Zt,">"),ge,ln)}function We(){return ie(Zt,at)}function at(K,ve){if(ve=="=")return O(Zt)}function Bt(K,ve){return ve=="enum"?(pe.marked="keyword",O(Lt)):ie(_t,Mi,Ht,Tn)}function _t(K,ve){if(x&&Ve(ve))return pe.marked="keyword",O(_t);if(K=="variable")return me(ve),O();if(K=="spread")return O(_t);if(K=="[")return vi(At,"]");if(K=="{")return vi(sn,"}")}function sn(K,ve){return K=="variable"&&!pe.stream.match(/^\s*:/,!1)?(me(ve),O(Ht)):(K=="variable"&&(pe.marked="property"),K=="spread"?O(_t):K=="}"?ie():K=="["?O(Ge,we("]"),we(":"),sn):O(we(":"),_t,Ht))}function At(){return ie(_t,Ht)}function Ht(K,ve){if(ve=="=")return O(st)}function Tn(K){if(K==",")return O(Bt)}function Xn(K,ve){if(K=="keyword b"&&ve=="else")return O(G("form","else"),Ie,ge)}function bt(K,ve){if(ve=="await")return O(bt);if(K=="(")return O(G(")"),Hn,ge)}function Hn(K){return K=="var"?O(Bt,Yt):K=="variable"?O(Yt):ie(Yt)}function Yt(K,ve){return K==")"?O():K==";"?O(Yt):ve=="in"||ve=="of"?(pe.marked="keyword",O(Ge,Yt)):ie(Ge,Yt)}function dn(K,ve){if(ve=="*")return pe.marked="keyword",O(dn);if(K=="variable")return me(ve),O(dn);if(K=="(")return O(Y,G(")"),xn(Pn,")"),ge,Tt,Ie,Me);if(x&&ve=="<")return O(G(">"),xn(We,">"),ge,dn)}function Cn(K,ve){if(ve=="*")return pe.marked="keyword",O(Cn);if(K=="variable")return me(ve),O(Cn);if(K=="(")return O(Y,G(")"),xn(Pn,")"),ge,Tt,Me);if(x&&ve=="<")return O(G(">"),xn(We,">"),ge,Cn)}function Jn(K,ve){if(K=="keyword"||K=="variable")return pe.marked="type",O(Jn);if(ve=="<")return O(G(">"),xn(We,">"),ge)}function Pn(K,ve){return ve=="@"&&O(Ge,Pn),K=="spread"?O(Pn):x&&Ve(ve)?(pe.marked="keyword",O(Pn)):x&&K=="this"?O(Mi,Ht):ie(_t,Mi,Ht)}function un(K,ve){return K=="variable"?Ei(K,ve):Yi(K,ve)}function Ei(K,ve){if(K=="variable")return me(ve),O(Yi)}function Yi(K,ve){if(ve=="<")return O(G(">"),xn(We,">"),ge,Yi);if(ve=="extends"||ve=="implements"||x&&K==",")return ve=="implements"&&(pe.marked="keyword"),O(x?Zt:Ge,Yi);if(K=="{")return O(G("}"),Oi,ge)}function Oi(K,ve){if(K=="async"||K=="variable"&&(ve=="static"||ve=="get"||ve=="set"||x&&Ve(ve))&&pe.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return pe.marked="keyword",O(Oi);if(K=="variable"||pe.style=="keyword")return pe.marked="property",O(Qr,Oi);if(K=="number"||K=="string")return O(Qr,Oi);if(K=="[")return O(Ge,Mi,we("]"),Qr,Oi);if(ve=="*")return pe.marked="keyword",O(Oi);if(x&&K=="(")return ie(Cn,Oi);if(K==";"||K==",")return O(Oi);if(K=="}")return O();if(ve=="@")return O(Ge,Oi)}function Qr(K,ve){if(ve=="!"||ve=="?")return O(Qr);if(K==":")return O(Zt,Ht);if(ve=="=")return O(st);var Ne=pe.state.lexical.prev,Je=Ne&&Ne.info=="interface";return ie(Je?Cn:dn)}function Jr(K,ve){return ve=="*"?(pe.marked="keyword",O(er,we(";"))):ve=="default"?(pe.marked="keyword",O(Ge,we(";"))):K=="{"?O(xn(kr,"}"),er,we(";")):ie(Ie)}function kr(K,ve){if(ve=="as")return pe.marked="keyword",O(we("variable"));if(K=="variable")return ie(st,kr)}function Pi(K){return K=="string"?O():K=="("?ie(Ge):K=="."?ie(mt):ie(Nr,Si,er)}function Nr(K,ve){return K=="{"?vi(Nr,"}"):(K=="variable"&&me(ve),ve=="*"&&(pe.marked="keyword"),O(lo))}function Si(K){if(K==",")return O(Nr,Si)}function lo(K,ve){if(ve=="as")return pe.marked="keyword",O(Nr)}function er(K,ve){if(ve=="from")return pe.marked="keyword",O(Ge)}function Vn(K){return K=="]"?O():ie(xn(st,"]"))}function Lt(){return ie(G("form"),_t,we("{"),G("}"),xn(tr,"}"),ge,ge)}function tr(){return ie(_t,Ht)}function lr(K,ve){return K.lastType=="operator"||K.lastType==","||q.test(ve.charAt(0))||/[,.]/.test(ve.charAt(0))}function Ui(K,ve,Ne){return ve.tokenize==D&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ve.lastType)||ve.lastType=="quasi"&&/\{\s*$/.test(K.string.slice(0,K.pos-(Ne||0)))}return{startState:function(K){var ve={tokenize:D,lastType:"sof",cc:[],lexical:new fe((K||0)-l,0,"block",!1),localVars:u.localVars,context:u.localVars&&new Fe(null,null,!1),indented:K||0};return u.globalVars&&typeof u.globalVars=="object"&&(ve.globalVars=u.globalVars),ve},token:function(K,ve){if(K.sol()&&(ve.lexical.hasOwnProperty("align")||(ve.lexical.align=!1),ve.indented=K.indentation(),oe(K,ve)),ve.tokenize!=I&&K.eatSpace())return null;var Ne=ve.tokenize(K,ve);return W=="comment"?Ne:(ve.lastType=W=="operator"&&(U=="++"||U=="--")?"incdec":W,Te(ve,Ne,W,U,K))},indent:function(K,ve){if(K.tokenize==I||K.tokenize==V)return r.Pass;if(K.tokenize!=D)return 0;var Ne=ve&&ve.charAt(0),Je=K.lexical,Be;if(!/^\s*else\b/.test(ve))for(var ft=K.cc.length-1;ft>=0;--ft){var tn=K.cc[ft];if(tn==ge)Je=Je.prev;else if(tn!=Xn&&tn!=Me)break}for(;(Je.type=="stat"||Je.type=="form")&&(Ne=="}"||(Be=K.cc[K.cc.length-1])&&(Be==mt||Be==Mt)&&!/^[,\.=+\-*:?[\(]/.test(ve));)Je=Je.prev;f&&Je.type==")"&&Je.prev.type=="stat"&&(Je=Je.prev);var Kn=Je.type,Rt=Ne==Kn;return Kn=="vardef"?Je.indented+(K.lastType=="operator"||K.lastType==","?Je.info.length+1:0):Kn=="form"&&Ne=="{"?Je.indented:Kn=="form"?Je.indented+l:Kn=="stat"?Je.indented+(lr(K,ve)?f||l:0):Je.info=="switch"&&!Rt&&u.doubleIndentSwitch!=!1?Je.indented+(/^(?:case|default)\b/.test(ve)?l:2*l):Je.align?Je.column+(Rt?0:1):Je.indented+(Rt?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:h,jsonMode:b,expressionAllowed:Ui,skipExpression:function(K){Te(K,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})()),Wm.exports}Dx();var jm={exports:{}},Ym;function Lx(){return Ym||(Ym=1,(function(t,e){(function(r){r(ls())})(function(r){r.defineMode("css",function(fe,ue){var Te=ue.inline;ue.propertyKeywords||(ue=r.resolveMode("text/css"));var pe=fe.indentUnit,ie=ue.tokenHooks,O=ue.documentTypes||{},ae=ue.mediaTypes||{},me=ue.mediaFeatures||{},_e=ue.mediaValueKeywords||{},Ve=ue.propertyKeywords||{},Fe=ue.nonStandardPropertyKeywords||{},Ee=ue.fontProperties||{},J=ue.counterDescriptors||{},Y=ue.colorKeywords||{},Ce=ue.valueKeywords||{},Me=ue.allowNested,G=ue.lineComment,ge=ue.supportsAtComponent===!0,we=fe.highlightNonStandardPropertyKeywords!==!1,Ie,Ye;function Ge(Le,nt){return Ie=nt,Le}function st(Le,nt){var qe=Le.next();if(ie[qe]){var jt=ie[qe](Le,nt);if(jt!==!1)return jt}if(qe=="@")return Le.eatWhile(/[\w\\\-]/),Ge("def",Le.current());if(qe=="="||(qe=="~"||qe=="|")&&Le.eat("="))return Ge(null,"compare");if(qe=='"'||qe=="'")return nt.tokenize=wt(qe),nt.tokenize(Le,nt);if(qe=="#")return Le.eatWhile(/[\w\\\-]/),Ge("atom","hash");if(qe=="!")return Le.match(/^\s*\w*/),Ge("keyword","important");if(/\d/.test(qe)||qe=="."&&Le.eat(/\d/))return Le.eatWhile(/[\w.%]/),Ge("number","unit");if(qe==="-"){if(/[\d.]/.test(Le.peek()))return Le.eatWhile(/[\w.%]/),Ge("number","unit");if(Le.match(/^-[\w\\\-]*/))return Le.eatWhile(/[\w\\\-]/),Le.match(/^\s*:/,!1)?Ge("variable-2","variable-definition"):Ge("variable-2","variable");if(Le.match(/^\w+-/))return Ge("meta","meta")}else return/[,+>*\/]/.test(qe)?Ge(null,"select-op"):qe=="."&&Le.match(/^-?[_a-z][_a-z0-9-]*/i)?Ge("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(qe)?Ge(null,qe):Le.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Le.current())&&(nt.tokenize=kt),Ge("variable callee","variable")):/[\w\\\-]/.test(qe)?(Le.eatWhile(/[\w\\\-]/),Ge("property","word")):Ge(null,null)}function wt(Le){return function(nt,qe){for(var jt=!1,ii;(ii=nt.next())!=null;){if(ii==Le&&!jt){Le==")"&&nt.backUp(1);break}jt=!jt&&ii=="\\"}return(ii==Le||!jt&&Le!=")")&&(qe.tokenize=null),Ge("string","string")}}function kt(Le,nt){return Le.next(),Le.match(/^\s*[\"\')]/,!1)?nt.tokenize=null:nt.tokenize=wt(")"),Ge(null,"(")}function Dt(Le,nt,qe){this.type=Le,this.indent=nt,this.prev=qe}function mt(Le,nt,qe,jt){return Le.context=new Dt(qe,nt.indentation()+(jt===!1?0:pe),Le.context),qe}function Mt(Le){return Le.context.prev&&(Le.context=Le.context.prev),Le.context.type}function Ut(Le,nt,qe){return Ot[qe.context.type](Le,nt,qe)}function hn(Le,nt,qe,jt){for(var ii=jt||1;ii>0;ii--)qe.context=qe.context.prev;return Ut(Le,nt,qe)}function vt(Le){var nt=Le.current().toLowerCase();Ce.hasOwnProperty(nt)?Ye="atom":Y.hasOwnProperty(nt)?Ye="keyword":Ye="variable"}var Ot={};return Ot.top=function(Le,nt,qe){if(Le=="{")return mt(qe,nt,"block");if(Le=="}"&&qe.context.prev)return Mt(qe);if(ge&&/@component/i.test(Le))return mt(qe,nt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Le))return mt(qe,nt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Le))return mt(qe,nt,"atBlock");if(/^@(font-face|counter-style)/i.test(Le))return qe.stateArg=Le,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Le))return"keyframes";if(Le&&Le.charAt(0)=="@")return mt(qe,nt,"at");if(Le=="hash")Ye="builtin";else if(Le=="word")Ye="tag";else{if(Le=="variable-definition")return"maybeprop";if(Le=="interpolation")return mt(qe,nt,"interpolation");if(Le==":")return"pseudo";if(Me&&Le=="(")return mt(qe,nt,"parens")}return qe.context.type},Ot.block=function(Le,nt,qe){if(Le=="word"){var jt=nt.current().toLowerCase();return Ve.hasOwnProperty(jt)?(Ye="property","maybeprop"):Fe.hasOwnProperty(jt)?(Ye=we?"string-2":"property","maybeprop"):Me?(Ye=nt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ye+=" error","maybeprop")}else return Le=="meta"?"block":!Me&&(Le=="hash"||Le=="qualifier")?(Ye="error","block"):Ot.top(Le,nt,qe)},Ot.maybeprop=function(Le,nt,qe){return Le==":"?mt(qe,nt,"prop"):Ut(Le,nt,qe)},Ot.prop=function(Le,nt,qe){if(Le==";")return Mt(qe);if(Le=="{"&&Me)return mt(qe,nt,"propBlock");if(Le=="}"||Le=="{")return hn(Le,nt,qe);if(Le=="(")return mt(qe,nt,"parens");if(Le=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(nt.current()))Ye+=" error";else if(Le=="word")vt(nt);else if(Le=="interpolation")return mt(qe,nt,"interpolation");return"prop"},Ot.propBlock=function(Le,nt,qe){return Le=="}"?Mt(qe):Le=="word"?(Ye="property","maybeprop"):qe.context.type},Ot.parens=function(Le,nt,qe){return Le=="{"||Le=="}"?hn(Le,nt,qe):Le==")"?Mt(qe):Le=="("?mt(qe,nt,"parens"):Le=="interpolation"?mt(qe,nt,"interpolation"):(Le=="word"&&vt(nt),"parens")},Ot.pseudo=function(Le,nt,qe){return Le=="meta"?"pseudo":Le=="word"?(Ye="variable-3",qe.context.type):Ut(Le,nt,qe)},Ot.documentTypes=function(Le,nt,qe){return Le=="word"&&O.hasOwnProperty(nt.current())?(Ye="tag",qe.context.type):Ot.atBlock(Le,nt,qe)},Ot.atBlock=function(Le,nt,qe){if(Le=="(")return mt(qe,nt,"atBlock_parens");if(Le=="}"||Le==";")return hn(Le,nt,qe);if(Le=="{")return Mt(qe)&&mt(qe,nt,Me?"block":"top");if(Le=="interpolation")return mt(qe,nt,"interpolation");if(Le=="word"){var jt=nt.current().toLowerCase();jt=="only"||jt=="not"||jt=="and"||jt=="or"?Ye="keyword":ae.hasOwnProperty(jt)?Ye="attribute":me.hasOwnProperty(jt)?Ye="property":_e.hasOwnProperty(jt)?Ye="keyword":Ve.hasOwnProperty(jt)?Ye="property":Fe.hasOwnProperty(jt)?Ye=we?"string-2":"property":Ce.hasOwnProperty(jt)?Ye="atom":Y.hasOwnProperty(jt)?Ye="keyword":Ye="error"}return qe.context.type},Ot.atComponentBlock=function(Le,nt,qe){return Le=="}"?hn(Le,nt,qe):Le=="{"?Mt(qe)&&mt(qe,nt,Me?"block":"top",!1):(Le=="word"&&(Ye="error"),qe.context.type)},Ot.atBlock_parens=function(Le,nt,qe){return Le==")"?Mt(qe):Le=="{"||Le=="}"?hn(Le,nt,qe,2):Ot.atBlock(Le,nt,qe)},Ot.restricted_atBlock_before=function(Le,nt,qe){return Le=="{"?mt(qe,nt,"restricted_atBlock"):Le=="word"&&qe.stateArg=="@counter-style"?(Ye="variable","restricted_atBlock_before"):Ut(Le,nt,qe)},Ot.restricted_atBlock=function(Le,nt,qe){return Le=="}"?(qe.stateArg=null,Mt(qe)):Le=="word"?(qe.stateArg=="@font-face"&&!Ee.hasOwnProperty(nt.current().toLowerCase())||qe.stateArg=="@counter-style"&&!J.hasOwnProperty(nt.current().toLowerCase())?Ye="error":Ye="property","maybeprop"):"restricted_atBlock"},Ot.keyframes=function(Le,nt,qe){return Le=="word"?(Ye="variable","keyframes"):Le=="{"?mt(qe,nt,"top"):Ut(Le,nt,qe)},Ot.at=function(Le,nt,qe){return Le==";"?Mt(qe):Le=="{"||Le=="}"?hn(Le,nt,qe):(Le=="word"?Ye="tag":Le=="hash"&&(Ye="builtin"),"at")},Ot.interpolation=function(Le,nt,qe){return Le=="}"?Mt(qe):Le=="{"||Le==";"?hn(Le,nt,qe):(Le=="word"?Ye="variable":Le!="variable"&&Le!="("&&Le!=")"&&(Ye="error"),"interpolation")},{startState:function(Le){return{tokenize:null,state:Te?"block":"top",stateArg:null,context:new Dt(Te?"block":"top",Le||0,null)}},token:function(Le,nt){if(!nt.tokenize&&Le.eatSpace())return null;var qe=(nt.tokenize||st)(Le,nt);return qe&&typeof qe=="object"&&(Ie=qe[1],qe=qe[0]),Ye=qe,Ie!="comment"&&(nt.state=Ot[nt.state](Ie,Le,nt)),Ye},indent:function(Le,nt){var qe=Le.context,jt=nt&&nt.charAt(0),ii=qe.indent;return qe.type=="prop"&&(jt=="}"||jt==")")&&(qe=qe.prev),qe.prev&&(jt=="}"&&(qe.type=="block"||qe.type=="top"||qe.type=="interpolation"||qe.type=="restricted_atBlock")?(qe=qe.prev,ii=qe.indent):(jt==")"&&(qe.type=="parens"||qe.type=="atBlock_parens")||jt=="{"&&(qe.type=="at"||qe.type=="atBlock"))&&(ii=Math.max(0,qe.indent-pe))),ii},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:G,fold:"brace"}});function s(fe){for(var ue={},Te=0;Te<fe.length;++Te)ue[fe[Te].toLowerCase()]=!0;return ue}var u=["domain","regexp","url","url-prefix"],l=s(u),f=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],h=s(f),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],w=s(b),x=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],E=s(x),N=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],q=s(N),F=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],j=s(F),W=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],U=s(W),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],D=s(T),B=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],I=s(B),V=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],te=s(V),oe=u.concat(f).concat(b).concat(x).concat(N).concat(F).concat(B).concat(V);r.registerHelper("hintWords","css",oe);function ce(fe,ue){for(var Te=!1,pe;(pe=fe.next())!=null;){if(Te&&pe=="/"){ue.tokenize=null;break}Te=pe=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:l,mediaTypes:h,mediaFeatures:w,mediaValueKeywords:E,propertyKeywords:q,nonStandardPropertyKeywords:j,fontProperties:U,counterDescriptors:D,colorKeywords:I,valueKeywords:te,tokenHooks:{"/":function(fe,ue){return fe.eat("*")?(ue.tokenize=ce,ce(fe,ue)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:h,mediaFeatures:w,mediaValueKeywords:E,propertyKeywords:q,nonStandardPropertyKeywords:j,colorKeywords:I,valueKeywords:te,fontProperties:U,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(fe,ue){return fe.eat("/")?(fe.skipToEnd(),["comment","comment"]):fe.eat("*")?(ue.tokenize=ce,ce(fe,ue)):["operator","operator"]},":":function(fe){return fe.match(/^\s*\{/,!1)?[null,null]:!1},$:function(fe){return fe.match(/^[\w-]+/),fe.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(fe){return fe.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:h,mediaFeatures:w,mediaValueKeywords:E,propertyKeywords:q,nonStandardPropertyKeywords:j,colorKeywords:I,valueKeywords:te,fontProperties:U,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(fe,ue){return fe.eat("/")?(fe.skipToEnd(),["comment","comment"]):fe.eat("*")?(ue.tokenize=ce,ce(fe,ue)):["operator","operator"]},"@":function(fe){return fe.eat("{")?[null,"interpolation"]:fe.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(fe.eatWhile(/[\w\\\-]/),fe.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:l,mediaTypes:h,mediaFeatures:w,propertyKeywords:q,nonStandardPropertyKeywords:j,fontProperties:U,counterDescriptors:D,colorKeywords:I,valueKeywords:te,supportsAtComponent:!0,tokenHooks:{"/":function(fe,ue){return fe.eat("*")?(ue.tokenize=ce,ce(fe,ue)):!1}},name:"css",helperType:"gss"})})})()),jm.exports}Lx();var Um={exports:{}},Zm;function A0(){return Zm||(Zm=1,(function(t,e){(function(r){r(ls())})(function(r){r.overlayMode=function(s,u,l){return{startState:function(){return{base:r.startState(s),overlay:r.startState(u),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(f){return{base:r.copyState(s,f.base),overlay:r.copyState(u,f.overlay),basePos:f.basePos,baseCur:null,overlayPos:f.overlayPos,overlayCur:null}},token:function(f,h){return(f!=h.streamSeen||Math.min(h.basePos,h.overlayPos)<f.start)&&(h.streamSeen=f,h.basePos=h.overlayPos=f.start),f.start==h.basePos&&(h.baseCur=s.token(f,h.base),h.basePos=f.pos),f.start==h.overlayPos&&(f.pos=f.start,h.overlayCur=u.token(f,h.overlay),h.overlayPos=f.pos),f.pos=Math.min(h.basePos,h.overlayPos),h.overlayCur==null?h.baseCur:h.baseCur!=null&&h.overlay.combineTokens||l&&h.overlay.combineTokens==null?h.baseCur+" "+h.overlayCur:h.overlayCur},indent:s.indent&&function(f,h,b){return s.indent(f.base,h,b)},electricChars:s.electricChars,innerMode:function(f){return{state:f.base,mode:s}},blankLine:function(f){var h,b;return s.blankLine&&(h=s.blankLine(f.base)),u.blankLine&&(b=u.blankLine(f.overlay)),b==null?h:l&&h!=null?h+" "+b:b}}}})})()),Um.exports}A0();S0();var Gm={exports:{}},Xm;function Mx(){return Xm||(Xm=1,(function(t,e){(function(r){r(ls())})(function(r){r.defineMode("yaml",function(){var s=["true","false","on","off","yes","no"],u=new RegExp("\\b(("+s.join(")|(")+"))$","i");return{token:function(l,f){var h=l.peek(),b=f.escaped;if(f.escaped=!1,h=="#"&&(l.pos==0||/\s/.test(l.string.charAt(l.pos-1))))return l.skipToEnd(),"comment";if(l.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(f.literal&&l.indentation()>f.keyCol)return l.skipToEnd(),"string";if(f.literal&&(f.literal=!1),l.sol()){if(f.keyCol=0,f.pair=!1,f.pairStart=!1,l.match("---")||l.match("..."))return"def";if(l.match(/\s*-\s+/))return"meta"}if(l.match(/^(\{|\}|\[|\])/))return h=="{"?f.inlinePairs++:h=="}"?f.inlinePairs--:h=="["?f.inlineList++:f.inlineList--,"meta";if(f.inlineList>0&&!b&&h==",")return l.next(),"meta";if(f.inlinePairs>0&&!b&&h==",")return f.keyCol=0,f.pair=!1,f.pairStart=!1,l.next(),"meta";if(f.pairStart){if(l.match(/^\s*(\||\>)\s*/))return f.literal=!0,"meta";if(l.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(f.inlinePairs==0&&l.match(/^\s*-?[0-9\.\,]+\s?$/)||f.inlinePairs>0&&l.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(l.match(u))return"keyword"}return!f.pair&&l.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(f.pair=!0,f.keyCol=l.indentation(),"atom"):f.pair&&l.match(/^:\s*/)?(f.pairStart=!0,"meta"):(f.pairStart=!1,f.escaped=h=="\\",l.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-yaml","yaml"),r.defineMIME("text/yaml","yaml")})})()),Gm.exports}Mx();var Vm={exports:{}},Km;function Ox(){return Km||(Km=1,(function(t,e){(function(r){r(ls(),T0(),A0())})(function(r){var s=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;r.defineMode("gfm",function(u,l){var f=0;function h(E){return E.code=!1,null}var b={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(E){return{code:E.code,codeBlock:E.codeBlock,ateSpace:E.ateSpace}},token:function(E,N){if(N.combineTokens=null,N.codeBlock)return E.match(/^```+/)?(N.codeBlock=!1,null):(E.skipToEnd(),null);if(E.sol()&&(N.code=!1),E.sol()&&E.match(/^```+/))return E.skipToEnd(),N.codeBlock=!0,null;if(E.peek()==="`"){E.next();var q=E.pos;E.eatWhile("`");var F=1+E.pos-q;return N.code?F===f&&(N.code=!1):(f=F,N.code=!0),null}else if(N.code)return E.next(),null;if(E.eatSpace())return N.ateSpace=!0,null;if((E.sol()||N.ateSpace)&&(N.ateSpace=!1,l.gitHubSpice!==!1)){if(E.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return N.combineTokens=!0,"link";if(E.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return N.combineTokens=!0,"link"}return E.match(s)&&E.string.slice(E.start-2,E.start)!="]("&&(E.start==0||/\W/.test(E.string.charAt(E.start-1)))?(N.combineTokens=!0,"link"):(E.next(),null)},blankLine:h},w={taskLists:!0,strikethrough:!0,emoji:!0};for(var x in l)w[x]=l[x];return w.name="markdown",r.overlayMode(r.getMode(u,w),b)},"markdown"),r.defineMIME("text/x-gfm","gfm")})})()),Vm.exports}Ox();var Qm={exports:{}},Jm;function Px(){return Jm||(Jm=1,(function(t,e){(function(r){r(ls())})(function(r){r.defineOption("rulers",!1,function(u,l){u.state.rulerDiv&&(u.state.rulerDiv.parentElement.removeChild(u.state.rulerDiv),u.state.rulerDiv=null,u.off("refresh",s)),l&&l.length&&(u.state.rulerDiv=u.display.lineSpace.parentElement.insertBefore(document.createElement("div"),u.display.lineSpace),u.state.rulerDiv.className="CodeMirror-rulers",s(u),u.on("refresh",s))});function s(u){u.state.rulerDiv.textContent="";var l=u.getOption("rulers"),f=u.defaultCharWidth(),h=u.charCoords(r.Pos(u.firstLine(),0),"div").left;u.state.rulerDiv.style.minHeight=u.display.scroller.offsetHeight+30+"px";for(var b=0;b<l.length;b++){var w=document.createElement("div");w.className="CodeMirror-ruler";var x,E=l[b];typeof E=="number"?x=E:(x=E.column,E.className&&(w.className+=" "+E.className),E.color&&(w.style.borderColor=E.color),E.lineStyle&&(w.style.borderLeftStyle=E.lineStyle),E.width&&(w.style.borderLeftWidth=E.width)),w.style.left=h+x*f+"px",u.state.rulerDiv.appendChild(w)}}})})()),Qm.exports}Px();var eg={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var tg;function Fx(){return tg||(tg=1,(function(t){t(jQuery)})(function(t){var e=0,r=Array.prototype.hasOwnProperty,s=Array.prototype.slice;return t.cleanData=(function(u){return function(l){var f,h,b;for(b=0;(h=l[b])!=null;b++)f=t._data(h,"events"),f&&f.remove&&t(h).triggerHandler("remove");u(l)}})(t.cleanData),t.widget=function(u,l,f){var h,b,w,x={},E=u.split(".")[0];if(u=u.split(".")[1],u==="__proto__"||u==="constructor")return t.error("Invalid widget name: "+u);var N=E+"-"+u;return f||(f=l,l=t.Widget),Array.isArray(f)&&(f=t.extend.apply(null,[{}].concat(f))),t.expr.pseudos[N.toLowerCase()]=function(q){return!!t.data(q,N)},t[E]=t[E]||{},h=t[E][u],b=t[E][u]=function(q,F){if(!this||!this._createWidget)return new b(q,F);arguments.length&&this._createWidget(q,F)},t.extend(b,h,{version:f.version,_proto:t.extend({},f),_childConstructors:[]}),w=new l,w.options=t.widget.extend({},w.options),t.each(f,function(q,F){if(typeof F!="function"){x[q]=F;return}x[q]=(function(){function j(){return l.prototype[q].apply(this,arguments)}function W(U){return l.prototype[q].apply(this,U)}return function(){var U=this._super,T=this._superApply,D;return this._super=j,this._superApply=W,D=F.apply(this,arguments),this._super=U,this._superApply=T,D}})()}),b.prototype=t.widget.extend(w,{widgetEventPrefix:h&&w.widgetEventPrefix||u},x,{constructor:b,namespace:E,widgetName:u,widgetFullName:N}),h?(t.each(h._childConstructors,function(q,F){var j=F.prototype;t.widget(j.namespace+"."+j.widgetName,b,F._proto)}),delete h._childConstructors):l._childConstructors.push(b),t.widget.bridge(u,b),b},t.widget.extend=function(u){for(var l=s.call(arguments,1),f=0,h=l.length,b,w;f<h;f++)for(b in l[f])w=l[f][b],r.call(l[f],b)&&w!==void 0&&(t.isPlainObject(w)?u[b]=t.isPlainObject(u[b])?t.widget.extend({},u[b],w):t.widget.extend({},w):u[b]=w);return u},t.widget.bridge=function(u,l){var f=l.prototype.widgetFullName||u;t.fn[u]=function(h){var b=typeof h=="string",w=s.call(arguments,1),x=this;return b?!this.length&&h==="instance"?x=void 0:this.each(function(){var E,N=t.data(this,f);if(h==="instance")return x=N,!1;if(!N)return t.error("cannot call methods on "+u+" prior to initialization; attempted to call method '"+h+"'");if(typeof N[h]!="function"||h.charAt(0)==="_")return t.error("no such method '"+h+"' for "+u+" widget instance");if(E=N[h].apply(N,w),E!==N&&E!==void 0)return x=E&&E.jquery?x.pushStack(E.get()):E,!1}):(w.length&&(h=t.widget.extend.apply(null,[h].concat(w))),this.each(function(){var E=t.data(this,f);E?(E.option(h||{}),E._init&&E._init()):t.data(this,f,new l(h,this))})),x}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(u,l){l=t(l||this.defaultElement||this)[0],this.element=t(l),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},l!==this&&(t.data(l,this.widgetFullName,this),this._on(!0,this.element,{remove:function(f){f.target===l&&this.destroy()}}),this.document=t(l.style?l.ownerDocument:l.document||l),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),u),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var u=this;this._destroy(),t.each(this.classesElementLookup,function(l,f){u._removeClass(f,l)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(u,l){var f=u,h,b,w;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof u=="string")if(f={},h=u.split("."),u=h.shift(),h.length){for(b=f[u]=t.widget.extend({},this.options[u]),w=0;w<h.length-1;w++)b[h[w]]=b[h[w]]||{},b=b[h[w]];if(u=h.pop(),arguments.length===1)return b[u]===void 0?null:b[u];b[u]=l}else{if(arguments.length===1)return this.options[u]===void 0?null:this.options[u];f[u]=l}return this._setOptions(f),this},_setOptions:function(u){var l;for(l in u)this._setOption(l,u[l]);return this},_setOption:function(u,l){return u==="classes"&&this._setOptionClasses(l),this.options[u]=l,u==="disabled"&&this._setOptionDisabled(l),this},_setOptionClasses:function(u){var l,f,h;for(l in u)h=this.classesElementLookup[l],!(u[l]===this.options.classes[l]||!h||!h.length)&&(f=t(h.get()),this._removeClass(h,l),f.addClass(this._classes({element:f,keys:l,classes:u,add:!0})))},_setOptionDisabled:function(u){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!u),u&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(u){var l=[],f=this;u=t.extend({element:this.element,classes:this.options.classes||{}},u);function h(){var w=[];u.element.each(function(x,E){var N=t.map(f.classesElementLookup,function(q){return q}).some(function(q){return q.is(E)});N||w.push(E)}),f._on(t(w),{remove:"_untrackClassesElement"})}function b(w,x){var E,N;for(N=0;N<w.length;N++)E=f.classesElementLookup[w[N]]||t(),u.add?(h(),E=t(t.uniqueSort(E.get().concat(u.element.get())))):E=t(E.not(u.element).get()),f.classesElementLookup[w[N]]=E,l.push(w[N]),x&&u.classes[w[N]]&&l.push(u.classes[w[N]])}return u.keys&&b(u.keys.match(/\S+/g)||[],!0),u.extra&&b(u.extra.match(/\S+/g)||[]),l.join(" ")},_untrackClassesElement:function(u){var l=this;t.each(l.classesElementLookup,function(f,h){t.inArray(u.target,h)!==-1&&(l.classesElementLookup[f]=t(h.not(u.target).get()))}),this._off(t(u.target))},_removeClass:function(u,l,f){return this._toggleClass(u,l,f,!1)},_addClass:function(u,l,f){return this._toggleClass(u,l,f,!0)},_toggleClass:function(u,l,f,h){h=typeof h=="boolean"?h:f;var b=typeof u=="string"||u===null,w={extra:b?l:f,keys:b?u:l,element:b?this.element:u,add:h};return w.element.toggleClass(this._classes(w),h),this},_on:function(u,l,f){var h,b=this;typeof u!="boolean"&&(f=l,l=u,u=!1),f?(l=h=t(l),this.bindings=this.bindings.add(l)):(f=l,l=this.element,h=this.widget()),t.each(f,function(w,x){function E(){if(!(!u&&(b.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof x=="string"?b[x]:x).apply(b,arguments)}typeof x!="string"&&(E.guid=x.guid=x.guid||E.guid||t.guid++);var N=w.match(/^([\w:-]*)\s*(.*)$/),q=N[1]+b.eventNamespace,F=N[2];F?h.on(q,F,E):l.on(q,E)})},_off:function(u,l){l=(l||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.off(l),this.bindings=t(this.bindings.not(u).get()),this.focusable=t(this.focusable.not(u).get()),this.hoverable=t(this.hoverable.not(u).get())},_delay:function(u,l){function f(){return(typeof u=="string"?h[u]:u).apply(h,arguments)}var h=this;return setTimeout(f,l||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(l){this._addClass(t(l.currentTarget),null,"ui-state-hover")},mouseleave:function(l){this._removeClass(t(l.currentTarget),null,"ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(l){this._addClass(t(l.currentTarget),null,"ui-state-focus")},focusout:function(l){this._removeClass(t(l.currentTarget),null,"ui-state-focus")}})},_trigger:function(u,l,f){var h,b,w=this.options[u];if(f=f||{},l=t.Event(l),l.type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),l.target=this.element[0],b=l.originalEvent,b)for(h in b)h in l||(l[h]=b[h]);return this.element.trigger(l,f),!(typeof w=="function"&&w.apply(this.element[0],[l].concat(f))===!1||l.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(u,l){t.Widget.prototype["_"+u]=function(f,h,b){typeof h=="string"&&(h={effect:h});var w,x=h?h===!0||typeof h=="number"?l:h.effect||l:u;h=h||{},typeof h=="number"?h={duration:h}:h===!0&&(h={}),w=!t.isEmptyObject(h),h.complete=b,h.delay&&f.delay(h.delay),w&&t.effects&&t.effects.effect[x]?f[u](h):x!==u&&f[x]?f[x](h.duration,h.easing,b):f.queue(function(E){t(this)[u](),b&&b.call(f[0]),E()})}}),t.widget})),eg}Fx();var ng={};/*!
 * jQuery UI Autocomplete 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var ig;function Rx(){return ig||(ig=1,(function(t){t(jQuery)})(function(t){return t.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,r,s,u=this.element[0].nodeName.toLowerCase(),l=u==="textarea",f=u==="input";this.isMultiLine=l||!f&&this.element.prop("contentEditable")==="true",this.valueMethod=this.element[l||f?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(h){if(this.element.prop("readOnly")){e=!0,s=!0,r=!0;return}e=!1,s=!1,r=!1;var b=t.ui.keyCode;switch(h.keyCode){case b.PAGE_UP:e=!0,this._move("previousPage",h);break;case b.PAGE_DOWN:e=!0,this._move("nextPage",h);break;case b.UP:e=!0,this._keyEvent("previous",h);break;case b.DOWN:e=!0,this._keyEvent("next",h);break;case b.ENTER:this.menu.active&&(e=!0,h.preventDefault(),this.menu.select(h));break;case b.TAB:this.menu.active&&this.menu.select(h);break;case b.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(h),h.preventDefault());break;default:r=!0,this._searchTimeout(h);break}},keypress:function(h){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&h.preventDefault();return}if(!r){var b=t.ui.keyCode;switch(h.keyCode){case b.PAGE_UP:this._move("previousPage",h);break;case b.PAGE_DOWN:this._move("nextPage",h);break;case b.UP:this._keyEvent("previous",h);break;case b.DOWN:this._keyEvent("next",h);break}}},input:function(h){if(s){s=!1,h.preventDefault();return}this._searchTimeout(h)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){clearTimeout(this.searching),this.close(h),this._change(h)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(h){h.preventDefault()},menufocus:function(h,b){var w,x;if(this.isNewMenu&&(this.isNewMenu=!1,h.originalEvent&&/^mouse/.test(h.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(h.target).trigger(h.originalEvent)});return}x=b.item.data("ui-autocomplete-item"),this._trigger("focus",h,{item:x})!==!1&&h.originalEvent&&/^key/.test(h.originalEvent.type)&&this._value(x.value),w=b.item.attr("aria-label")||x.value,w&&String.prototype.trim.call(w).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(w))},100))},menuselect:function(h,b){var w=b.item.data("ui-autocomplete-item"),x=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=x),this._trigger("select",h,{item:w})!==!1&&this._value(w.value),this.term=this._value(),this.close(h),this.selectedItem=w}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,r){this._super(e,r),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&r&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var r=this.menu.element[0];return e.target===this.element[0]||e.target===r||t.contains(r,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,r,s=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(u,l){l(t.ui.autocomplete.filter(e,u.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(u,l){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:r,data:u,dataType:"json",success:function(f){l(f)},error:function(){l([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var r=this.term===this._value(),s=this.menu.element.is(":visible"),u=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!r||r&&!s&&!u)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,r){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(r);if(this._trigger("search",r)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(r){e===this.requestIndex&&this.__response(r),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(r){return typeof r=="string"?{label:r,value:r}:t.extend({},r,{label:r.label||r.value,value:r.value||r.label})})},_suggest:function(e){var r=this.menu.element.empty();this._renderMenu(r,e),this.isNewMenu=!0,this.menu.refresh(),r.show(),this._resizeMenu(),r.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,r){var s=this;t.each(r,function(u,l){s._renderItemData(e,l)})},_renderItemData:function(e,r){return this._renderItem(e,r).data("ui-autocomplete-item",r)},_renderItem:function(e,r){return t("<li>").append(t("<div>").text(r.label)).appendTo(e)},_move:function(e,r){if(!this.menu.element.is(":visible")){this.search(null,r);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](r)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,r){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,r),r.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,r){var s=new RegExp(t.ui.autocomplete.escapeRegex(r),"i");return t.grep(e,function(u){return s.test(u.label||u.value||u)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var r;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?r=this.options.messages.results(e.length):r=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(r))},100))}}),t.ui.autocomplete})),ng}Rx();const ql="bulk-actions--collapsed",Hd="bulk-actions--collapsing";function rg(){const t=[],e=document.querySelectorAll(".bulk-layout ."+ql),r=document.querySelector(".bulk-layout .uk-button-bulk-deselect"),s=document.querySelector('.bulk-layout input[name="bulk-selection-all"]'),u=document.querySelector(".bulk-layout .uk-button-select-all"),l=document.querySelectorAll(".bulk-layout .uk-button-bulk"),f=document.querySelectorAll(".bulk-layout input.bulk-form-value"),h=document.querySelectorAll('.bulk-layout input[name="bulk-selection[]"]');e.forEach(x=>x.addEventListener("transitionend",()=>{x.classList.contains(Hd)&&x.classList.remove(Hd)}));const b=()=>{h.forEach(x=>{x.checked=!1,t.splice(0,t.length),f.forEach(E=>E.value="")}),s&&(s.checked=!1),w()},w=()=>{window.requestAnimationFrame(()=>{e.forEach(x=>x.classList.add(Hd)),e.forEach(x=>x.classList.add(ql))})};l.forEach(x=>{x.hasAttribute("data-bulk-group")&&x.addEventListener("click",()=>{const E=document.getElementById(x.getAttribute("data-bulk-group"));E&&(document.querySelectorAll(".bulk-group").forEach(N=>{N!==E&&N.classList.remove("bulk-group--open")}),E.classList.toggle("bulk-group--open"))})}),h.forEach(x=>{x.addEventListener("change",()=>{x.checked?t.push(x.value):t.splice(t.indexOf(x.value),1),t.length>0?(e.forEach(E=>E.classList.remove(ql)),f.forEach(E=>E.value=JSON.stringify(t))):(w(),s&&(s.checked=!1))})}),r&&r.addEventListener("click",x=>{x.preventDefault(),x.stopPropagation(),b()}),u&&u.addEventListener("click",x=>{x.preventDefault(),x.stopPropagation(),h.forEach(E=>{E.checked=!0,t.push(E.value)}),e.forEach(E=>E.classList.remove(ql)),f.forEach(E=>E.value=JSON.stringify(t))}),s&&s.addEventListener("change",()=>{s.checked?h.forEach(x=>{x.checked=!0,t.push(x.value)}):b(),t.length>0?(e.forEach(x=>x.classList.remove(ql)),f.forEach(x=>x.value=JSON.stringify(t))):e.forEach(x=>x.classList.add(ql))})}class Nx{constructor(){this.menu=document.getElementById("menu-mobile"),this.adminMenu=document.getElementById("admin-menu"),this.adminMenuLinks=this.adminMenu.querySelectorAll('a:not([target="_blank"])'),this.adminMenuNavParents=this.adminMenu.querySelectorAll(".uk-parent"),this.adminMenuNavParentHandles=this.adminMenu.querySelectorAll('.uk-parent > p[role="menuitem"]'),this.searchButton=document.getElementById("search-button"),this.searchPanel=document.getElementById("nodes-sources-search"),this.treeButton=document.getElementById("tree-button"),this.treeWrapper=document.getElementById("tree-wrapper"),this.treeWrapperLink=this.treeWrapper?.querySelector("a"),this.userPicture=document.getElementById("user-picture"),this.userActions=document.querySelector(".user-actions"),this.userActionsLink=this.userActions.querySelector("a"),this.mainContentOverlay=document.getElementById("main-content-overlay"),this.menuOpen=!1,this.searchOpen=!1,this.treeOpen=!1,this.adminOpen=!1,this.menuClick=this.menuClick.bind(this),this.adminMenuLinkClick=this.adminMenuLinkClick.bind(this),this.adminMenuNavParentClick=this.adminMenuNavParentClick.bind(this),this.searchButtonClick=this.searchButtonClick.bind(this),this.treeButtonClick=this.treeButtonClick.bind(this),this.treeWrapperLinkClick=this.treeWrapperLinkClick.bind(this),this.userPictureClick=this.userPictureClick.bind(this),this.userActionsLinkClick=this.userActionsLinkClick.bind(this),this.mainContentOverlayClick=this.mainContentOverlayClick.bind(this),this.userPicture&&this.userPicture.classList.add("rz-no-ajax-link"),this.menu.addEventListener("click",this.menuClick),this.adminMenuLinks.forEach(e=>e.addEventListener("click",this.adminMenuLinkClick)),this.adminMenuNavParentHandles.forEach(e=>e.addEventListener("click",this.adminMenuNavParentClick)),this.searchButton?.addEventListener("click",this.searchButtonClick),this.treeButton?.addEventListener("click",this.treeButtonClick),this.treeWrapperLink?.addEventListener("click",this.treeWrapperLinkClick),this.userPicture?.addEventListener("click",this.userPictureClick),this.userActionsLink?.addEventListener("click",this.userActionsLinkClick),this.mainContentOverlay?.addEventListener("click",this.mainContentOverlayClick),window.addEventListener("pageload",this.mainContentOverlayClick)}menuClick(){this.menuOpen?this.closeMenu():this.openMenu()}adminMenuNavParentClick(e){e.preventDefault();const r=e.currentTarget?.closest(".uk-parent");if(!r)return!1;this.adminMenuNavParents.forEach(s=>{s.classList.remove("nav-open")}),r.classList.contains("nav-open")?r.classList.remove("nav-open"):r.classList.add("nav-open")}adminMenuLinkClick(){this.menuOpen&&this.closeMenu()}showOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.add("open")}hideOverlay(){this.mainContentOverlay.length&&this.mainContentOverlay.classList.remove("open")}openMenu(){this.closeSearch(),this.closeTree(),this.closeUser(),this.adminMenu.classList.add("open"),this.showOverlay(),this.menuOpen=!0}closeMenu(){this.hideOverlay(),this.adminMenu.classList.remove("open"),this.menuOpen=!1}searchButtonClick(){this.searchOpen?this.closeSearch():this.openSearch()}openSearch(){this.closeMenu(),this.closeTree(),this.closeUser(),this.showOverlay(),this.searchPanel.classList.add("open"),this.searchButton.classList.add("active"),this.searchOpen=!0}closeSearch(){this.hideOverlay(),this.searchPanel.classList.remove("open"),this.searchButton.classList.remove("active"),this.searchOpen=!1}treeButtonClick(){this.treeOpen?this.closeTree():this.openTree()}treeWrapperLinkClick(e){e.currentTarget.className.indexOf("tab-link")===-1&&this.treeOpen&&this.closeTree()}openTree(){this.closeMenu(),this.closeSearch(),this.closeUser(),this.showOverlay(),this.treeWrapper.classList.add("open"),this.treeButton.classList.add("active"),this.treeOpen=!0}closeTree(){this.treeWrapper.classList.remove("open"),this.hideOverlay(),this.treeButton.classList.remove("active"),this.treeOpen=!1}userPictureClick(e){return e.preventDefault(),this.userOpen?this.closeUser():this.openUser(),!1}userActionsLinkClick(){this.userOpen&&this.closeUser()}openUser(){this.closeMenu(),this.closeSearch(),this.closeTree(),this.userActions.classList.add("open"),this.showOverlay(),this.userPicture.classList.add("active"),this.userOpen=!0}closeUser(){this.hideOverlay(),this.userActions.classList.remove("open"),this.userPicture.classList.remove("active"),this.userOpen=!1}mainContentOverlayClick(){this.closeMenu(),this.closeTree(),this.closeUser(),this.closeSearch()}}var Wd={exports:{}},og;function zx(){return og||(og=1,(function(t){var e=(function(){function j(W,U){for(var T=0;T<U.length;T++){var D=U[T];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(W,D.key,D)}}return function(W,U,T){return U&&j(W.prototype,U),T&&j(W,T),W}})();function r(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function s(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}function u(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}var l=(function(){function j(){u(this,j)}return e(j,[{key:"on",value:function(U,T){return this._callbacks=this._callbacks||{},this._callbacks[U]||(this._callbacks[U]=[]),this._callbacks[U].push(T),this}},{key:"emit",value:function(U){this._callbacks=this._callbacks||{};var T=this._callbacks[U];if(T){for(var D=arguments.length,B=Array(D>1?D-1:0),I=1;I<D;I++)B[I-1]=arguments[I];for(var oe=T,V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){var ce;if(V){if(te>=oe.length)break;ce=oe[te++]}else{if(te=oe.next(),te.done)break;ce=te.value}var fe=ce;fe.apply(this,B)}}return this}},{key:"off",value:function(U,T){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var D=this._callbacks[U];if(!D)return this;if(arguments.length===1)return delete this._callbacks[U],this;for(var B=0;B<D.length;B++){var I=D[B];if(I===T){D.splice(B,1);break}}return this}}]),j})(),f=(function(j){s(W,j),e(W,null,[{key:"initClass",value:function(){this.prototype.Emitter=l,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(D,B,I){if(I)return{dzuuid:I.file.upload.uuid,dzchunkindex:I.index,dztotalfilesize:I.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:I.file.upload.totalChunkCount,dzchunkbyteoffset:I.index*this.options.chunkSize}},accept:function(D,B){return B()},chunksUploaded:function(D,B){B()},fallback:function(){var D=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var V=this.element.getElementsByTagName("div"),B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var te;if(B){if(I>=V.length)break;te=V[I++]}else{if(I=V.next(),I.done)break;te=I.value}var oe=te;if(/(^| )dz-message($| )/.test(oe.className)){D=oe,oe.className="dz-message";break}}D||(D=W.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(D));var ce=D.getElementsByTagName("span")[0];return ce&&(ce.textContent!=null?ce.textContent=this.options.dictFallbackMessage:ce.innerText!=null&&(ce.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(D,B,I,V){var te={srcX:0,srcY:0,srcWidth:D.width,srcHeight:D.height},oe=D.width/D.height;B==null&&I==null?(B=te.srcWidth,I=te.srcHeight):B==null?B=I*oe:I==null&&(I=B/oe),B=Math.min(B,te.srcWidth),I=Math.min(I,te.srcHeight);var ce=B/I;if(te.srcWidth>B||te.srcHeight>I)if(V==="crop")oe>ce?(te.srcHeight=D.height,te.srcWidth=te.srcHeight*ce):(te.srcWidth=D.width,te.srcHeight=te.srcWidth/ce);else if(V==="contain")oe>ce?I=B/oe:B=I*oe;else throw new Error("Unknown resizeMethod '"+V+"'");return te.srcX=(D.width-te.srcWidth)/2,te.srcY=(D.height-te.srcHeight)/2,te.trgWidth=B,te.trgHeight=I,te},transformFile:function(D,B){return(this.options.resizeWidth||this.options.resizeHeight)&&D.type.match(/image.*/)?this.resizeImage(D,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,B):B(D)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(D){return this.element.classList.remove("dz-drag-hover")},dragstart:function(D){},dragend:function(D){return this.element.classList.remove("dz-drag-hover")},dragenter:function(D){return this.element.classList.add("dz-drag-hover")},dragover:function(D){return this.element.classList.add("dz-drag-hover")},dragleave:function(D){return this.element.classList.remove("dz-drag-hover")},paste:function(D){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(D){var B=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){D.previewElement=W.createElement(this.options.previewTemplate.trim()),D.previewTemplate=D.previewElement,this.previewsContainer.appendChild(D.previewElement);for(var te=D.previewElement.querySelectorAll("[data-dz-name]"),I=!0,V=0,te=I?te:te[Symbol.iterator]();;){var oe;if(I){if(V>=te.length)break;oe=te[V++]}else{if(V=te.next(),V.done)break;oe=V.value}var ce=oe;ce.textContent=D.name}for(var Te=D.previewElement.querySelectorAll("[data-dz-size]"),fe=!0,ue=0,Te=fe?Te:Te[Symbol.iterator]();;){if(fe){if(ue>=Te.length)break;ce=Te[ue++]}else{if(ue=Te.next(),ue.done)break;ce=ue.value}ce.innerHTML=this.filesize(D.size)}this.options.addRemoveLinks&&(D._removeLink=W.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),D.previewElement.appendChild(D._removeLink));for(var pe=function(Fe){return Fe.preventDefault(),Fe.stopPropagation(),D.status===W.UPLOADING?W.confirm(B.options.dictCancelUploadConfirmation,function(){return B.removeFile(D)}):B.options.dictRemoveFileConfirmation?W.confirm(B.options.dictRemoveFileConfirmation,function(){return B.removeFile(D)}):B.removeFile(D)},ae=D.previewElement.querySelectorAll("[data-dz-remove]"),ie=!0,O=0,ae=ie?ae:ae[Symbol.iterator]();;){var me;if(ie){if(O>=ae.length)break;me=ae[O++]}else{if(O=ae.next(),O.done)break;me=O.value}var _e=me;_e.addEventListener("click",pe)}}},removedfile:function(D){return D.previewElement!=null&&D.previewElement.parentNode!=null&&D.previewElement.parentNode.removeChild(D.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(D,B){if(D.previewElement){D.previewElement.classList.remove("dz-file-preview");for(var te=D.previewElement.querySelectorAll("[data-dz-thumbnail]"),I=!0,V=0,te=I?te:te[Symbol.iterator]();;){var oe;if(I){if(V>=te.length)break;oe=te[V++]}else{if(V=te.next(),V.done)break;oe=V.value}var ce=oe;ce.alt=D.name,ce.src=B}return setTimeout(function(){return D.previewElement.classList.add("dz-image-preview")},1)}},error:function(D,B){if(D.previewElement){D.previewElement.classList.add("dz-error"),typeof B!="String"&&B.error&&(B=B.error);for(var te=D.previewElement.querySelectorAll("[data-dz-errormessage]"),I=!0,V=0,te=I?te:te[Symbol.iterator]();;){var oe;if(I){if(V>=te.length)break;oe=te[V++]}else{if(V=te.next(),V.done)break;oe=V.value}var ce=oe;ce.textContent=B}}},errormultiple:function(){},processing:function(D){if(D.previewElement&&(D.previewElement.classList.add("dz-processing"),D._removeLink))return D._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(D,B,I){if(D.previewElement)for(var oe=D.previewElement.querySelectorAll("[data-dz-uploadprogress]"),V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){var ce;if(V){if(te>=oe.length)break;ce=oe[te++]}else{if(te=oe.next(),te.done)break;ce=te.value}var fe=ce;fe.nodeName==="PROGRESS"?fe.value=B:fe.style.width=B+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(D){if(D.previewElement)return D.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(D){return this.emit("error",D,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(D){if(D._removeLink&&(D._removeLink.innerHTML=this.options.dictRemoveFile),D.previewElement)return D.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(T){for(var D=arguments.length,B=Array(D>1?D-1:0),I=1;I<D;I++)B[I-1]=arguments[I];for(var oe=B,V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){var ce;if(V){if(te>=oe.length)break;ce=oe[te++]}else{if(te=oe.next(),te.done)break;ce=te.value}var fe=ce;for(var ue in fe){var Te=fe[ue];T[ue]=Te}}return T}}]);function W(U,T){u(this,W);var D=r(this,(W.__proto__||Object.getPrototypeOf(W)).call(this)),B=void 0,I=void 0;if(D.element=U,D.version=W.version,D.defaultOptions.previewTemplate=D.defaultOptions.previewTemplate.replace(/\n*/g,""),D.clickableElements=[],D.listeners=[],D.files=[],typeof D.element=="string"&&(D.element=document.querySelector(D.element)),!D.element||D.element.nodeType==null)throw new Error("Invalid dropzone element.");if(D.element.dropzone)throw new Error("Dropzone already attached.");W.instances.push(D),D.element.dropzone=D;var V=(I=W.optionsForElement(D.element))!=null?I:{};if(D.options=W.extend({},D.defaultOptions,V,T??{}),D.options.forceFallback||!W.isBrowserSupported()){var te;return te=D.options.fallback.call(D),r(D,te)}if(D.options.url==null&&(D.options.url=D.element.getAttribute("action")),!D.options.url)throw new Error("No URL provided.");if(D.options.acceptedFiles&&D.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(D.options.uploadMultiple&&D.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return D.options.acceptedMimeTypes&&(D.options.acceptedFiles=D.options.acceptedMimeTypes,delete D.options.acceptedMimeTypes),D.options.renameFilename!=null&&(D.options.renameFile=function(oe){return D.options.renameFilename.call(D,oe.name,oe)}),D.options.method=D.options.method.toUpperCase(),(B=D.getExistingFallback())&&B.parentNode&&B.parentNode.removeChild(B),D.options.previewsContainer!==!1&&(D.options.previewsContainer?D.previewsContainer=W.getElement(D.options.previewsContainer,"previewsContainer"):D.previewsContainer=D.element),D.options.clickable&&(D.options.clickable===!0?D.clickableElements=[D.element]:D.clickableElements=W.getElements(D.options.clickable,"clickable")),D.init(),D}return e(W,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(T){return T.accepted}).map(function(T){return T})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(T){return!T.accepted}).map(function(T){return T})}},{key:"getFilesWithStatus",value:function(T){return this.files.filter(function(D){return D.status===T}).map(function(D){return D})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(W.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(W.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(W.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(T){return T.status===W.UPLOADING||T.status===W.QUEUED}).map(function(T){return T})}},{key:"init",value:function(){var T=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(W.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var D=function fe(){return T.hiddenFileInput&&T.hiddenFileInput.parentNode.removeChild(T.hiddenFileInput),T.hiddenFileInput=document.createElement("input"),T.hiddenFileInput.setAttribute("type","file"),(T.options.maxFiles===null||T.options.maxFiles>1)&&T.hiddenFileInput.setAttribute("multiple","multiple"),T.hiddenFileInput.className="dz-hidden-input",T.options.acceptedFiles!==null&&T.hiddenFileInput.setAttribute("accept",T.options.acceptedFiles),T.options.capture!==null&&T.hiddenFileInput.setAttribute("capture",T.options.capture),T.hiddenFileInput.style.visibility="hidden",T.hiddenFileInput.style.position="absolute",T.hiddenFileInput.style.top="0",T.hiddenFileInput.style.left="0",T.hiddenFileInput.style.height="0",T.hiddenFileInput.style.width="0",W.getElement(T.options.hiddenInputContainer,"hiddenInputContainer").appendChild(T.hiddenFileInput),T.hiddenFileInput.addEventListener("change",function(){var ue=T.hiddenFileInput.files;if(ue.length)for(var ie=ue,Te=!0,pe=0,ie=Te?ie:ie[Symbol.iterator]();;){var O;if(Te){if(pe>=ie.length)break;O=ie[pe++]}else{if(pe=ie.next(),pe.done)break;O=pe.value}var ae=O;T.addFile(ae)}return T.emit("addedfiles",ue),fe()})};D()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var V=this.events,B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var te;if(B){if(I>=V.length)break;te=V[I++]}else{if(I=V.next(),I.done)break;te=I.value}var oe=te;this.on(oe,this.options[oe])}this.on("uploadprogress",function(){return T.updateTotalUploadProgress()}),this.on("removedfile",function(){return T.updateTotalUploadProgress()}),this.on("canceled",function(fe){return T.emit("complete",fe)}),this.on("complete",function(fe){if(T.getAddedFiles().length===0&&T.getUploadingFiles().length===0&&T.getQueuedFiles().length===0)return setTimeout(function(){return T.emit("queuecomplete")},0)});var ce=function(ue){return ue.stopPropagation(),ue.preventDefault?ue.preventDefault():ue.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(ue){return T.emit("dragstart",ue)},dragenter:function(ue){return ce(ue),T.emit("dragenter",ue)},dragover:function(ue){var Te=void 0;try{Te=ue.dataTransfer.effectAllowed}catch{}return ue.dataTransfer.dropEffect=Te==="move"||Te==="linkMove"?"move":"copy",ce(ue),T.emit("dragover",ue)},dragleave:function(ue){return T.emit("dragleave",ue)},drop:function(ue){return ce(ue),T.drop(ue)},dragend:function(ue){return T.emit("dragend",ue)}}}],this.clickableElements.forEach(function(fe){return T.listeners.push({element:fe,events:{click:function(Te){return(fe!==T.element||Te.target===T.element||W.elementInside(Te.target,T.element.querySelector(".dz-message")))&&T.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,W.instances.splice(W.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var T=void 0,D=0,B=0,I=this.getActiveFiles();if(I.length){for(var oe=this.getActiveFiles(),V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){var ce;if(V){if(te>=oe.length)break;ce=oe[te++]}else{if(te=oe.next(),te.done)break;ce=te.value}var fe=ce;D+=fe.upload.bytesSent,B+=fe.upload.total}T=100*D/B}else T=100;return this.emit("totaluploadprogress",T,B,D)}},{key:"_getParamName",value:function(T){return typeof this.options.paramName=="function"?this.options.paramName(T):""+this.options.paramName+(this.options.uploadMultiple?"["+T+"]":"")}},{key:"_renameFile",value:function(T){return typeof this.options.renameFile!="function"?T.name:this.options.renameFile(T)}},{key:"getFallbackForm",value:function(){var T=void 0,D=void 0;if(T=this.getExistingFallback())return T;var B='<div class="dz-fallback">';this.options.dictFallbackText&&(B+="<p>"+this.options.dictFallbackText+"</p>"),B+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var I=W.createElement(B);return this.element.tagName!=="FORM"?(D=W.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),D.appendChild(I)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),D??I}},{key:"getExistingFallback",value:function(){for(var T=function(oe){for(var ue=oe,ce=!0,fe=0,ue=ce?ue:ue[Symbol.iterator]();;){var Te;if(ce){if(fe>=ue.length)break;Te=ue[fe++]}else{if(fe=ue.next(),fe.done)break;Te=fe.value}var pe=Te;if(/(^| )fallback($| )/.test(pe.className))return pe}},D=["div","form"],B=0;B<D.length;B++){var I=D[B],V;if(V=T(this.element.getElementsByTagName(I)))return V}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(T){return(function(){var D=[];for(var B in T.events){var I=T.events[B];D.push(T.element.addEventListener(B,I,!1))}return D})()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(T){return(function(){var D=[];for(var B in T.events){var I=T.events[B];D.push(T.element.removeEventListener(B,I,!1))}return D})()})}},{key:"disable",value:function(){var T=this;return this.clickableElements.forEach(function(D){return D.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(D){return T.cancelUpload(D)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(T){return T.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(T){var D=0,B="b";if(T>0){for(var I=["tb","gb","mb","kb","b"],V=0;V<I.length;V++){var te=I[V],oe=Math.pow(this.options.filesizeBase,4-V)/10;if(T>=oe){D=T/Math.pow(this.options.filesizeBase,4-V),B=te;break}}D=Math.round(10*D)/10}return"<strong>"+D+"</strong> "+this.options.dictFileSizeUnits[B]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(T){if(T.dataTransfer){this.emit("drop",T);for(var D=[],B=0;B<T.dataTransfer.files.length;B++)D[B]=T.dataTransfer.files[B];if(this.emit("addedfiles",D),D.length){var I=T.dataTransfer.items;I&&I.length&&I[0].webkitGetAsEntry!=null?this._addFilesFromItems(I):this.handleFiles(D)}}}},{key:"paste",value:function(T){if(q(T?.clipboardData,function(B){return B.items})!=null){this.emit("paste",T);var D=T.clipboardData.items;if(D.length)return this._addFilesFromItems(D)}}},{key:"handleFiles",value:function(T){for(var I=T,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var te=V;this.addFile(te)}}},{key:"_addFilesFromItems",value:function(T){var D=this;return(function(){for(var B=[],te=T,I=!0,V=0,te=I?te:te[Symbol.iterator]();;){var oe;if(I){if(V>=te.length)break;oe=te[V++]}else{if(V=te.next(),V.done)break;oe=V.value}var ce=oe,fe;ce.webkitGetAsEntry!=null&&(fe=ce.webkitGetAsEntry())?fe.isFile?B.push(D.addFile(ce.getAsFile())):fe.isDirectory?B.push(D._addFilesFromDirectory(fe,fe.name)):B.push(void 0):ce.getAsFile!=null&&(ce.kind==null||ce.kind==="file")?B.push(D.addFile(ce.getAsFile())):B.push(void 0)}return B})()}},{key:"_addFilesFromDirectory",value:function(T,D){var B=this,I=T.createReader(),V=function(ce){return F(console,"log",function(fe){return fe.log(ce)})},te=function oe(){return I.readEntries(function(ce){if(ce.length>0){for(var Te=ce,fe=!0,ue=0,Te=fe?Te:Te[Symbol.iterator]();;){var pe;if(fe){if(ue>=Te.length)break;pe=Te[ue++]}else{if(ue=Te.next(),ue.done)break;pe=ue.value}var ie=pe;ie.isFile?ie.file(function(O){if(!(B.options.ignoreHiddenFiles&&O.name.substring(0,1)==="."))return O.fullPath=D+"/"+O.name,B.addFile(O)}):ie.isDirectory&&B._addFilesFromDirectory(ie,D+"/"+ie.name)}oe()}return null},V)};return te()}},{key:"accept",value:function(T,D){return this.options.maxFilesize&&T.size>this.options.maxFilesize*1024*1024?D(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(T.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):W.isValidFile(T,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(D(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",T)):this.options.accept.call(this,T,D):D(this.options.dictInvalidFileType)}},{key:"addFile",value:function(T){var D=this;return T.upload={uuid:W.uuidv4(),progress:0,total:T.size,bytesSent:0,filename:this._renameFile(T),chunked:this.options.chunking&&(this.options.forceChunking||T.size>this.options.chunkSize),totalChunkCount:Math.ceil(T.size/this.options.chunkSize)},this.files.push(T),T.status=W.ADDED,this.emit("addedfile",T),this._enqueueThumbnail(T),this.accept(T,function(B){return B?(T.accepted=!1,D._errorProcessing([T],B)):(T.accepted=!0,D.options.autoQueue&&D.enqueueFile(T)),D._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(T){for(var I=T,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var te=V;this.enqueueFile(te)}return null}},{key:"enqueueFile",value:function(T){var D=this;if(T.status===W.ADDED&&T.accepted===!0){if(T.status=W.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return D.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(T){var D=this;if(this.options.createImageThumbnails&&T.type.match(/image.*/)&&T.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(T),setTimeout(function(){return D._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var T=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var D=this._thumbnailQueue.shift();return this.createThumbnail(D,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(B){return T.emit("thumbnail",D,B),T._processingThumbnail=!1,T._processThumbnailQueue()})}}},{key:"removeFile",value:function(T){if(T.status===W.UPLOADING&&this.cancelUpload(T),this.files=h(this.files,T),this.emit("removedfile",T),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(T){T==null&&(T=!1);for(var I=this.files.slice(),D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var te=V;(te.status!==W.UPLOADING||T)&&this.removeFile(te)}return null}},{key:"resizeImage",value:function(T,D,B,I,V){var te=this;return this.createThumbnail(T,D,B,I,!0,function(oe,ce){if(ce==null)return V(T);var fe=te.options.resizeMimeType;fe==null&&(fe=T.type);var ue=ce.toDataURL(fe,te.options.resizeQuality);return(fe==="image/jpeg"||fe==="image/jpg")&&(ue=E.restore(T.dataURL,ue)),V(W.dataURItoBlob(ue))})}},{key:"createThumbnail",value:function(T,D,B,I,V,te){var oe=this,ce=new FileReader;return ce.onload=function(){if(T.dataURL=ce.result,T.type==="image/svg+xml"){te?.(ce.result);return}return oe.createThumbnailFromUrl(T,D,B,I,V,te)},ce.readAsDataURL(T)}},{key:"createThumbnailFromUrl",value:function(T,D,B,I,V,te,oe){var ce=this,fe=document.createElement("img");return oe&&(fe.crossOrigin=oe),fe.onload=function(){var ue=function(pe){return pe(1)};return typeof EXIF<"u"&&EXIF!==null&&V&&(ue=function(pe){return EXIF.getData(fe,function(){return pe(EXIF.getTag(this,"Orientation"))})}),ue(function(Te){T.width=fe.width,T.height=fe.height;var pe=ce.options.resize.call(ce,T,D,B,I),ie=document.createElement("canvas"),O=ie.getContext("2d");switch(ie.width=pe.trgWidth,ie.height=pe.trgHeight,Te>4&&(ie.width=pe.trgHeight,ie.height=pe.trgWidth),Te){case 2:O.translate(ie.width,0),O.scale(-1,1);break;case 3:O.translate(ie.width,ie.height),O.rotate(Math.PI);break;case 4:O.translate(0,ie.height),O.scale(1,-1);break;case 5:O.rotate(.5*Math.PI),O.scale(1,-1);break;case 6:O.rotate(.5*Math.PI),O.translate(0,-ie.width);break;case 7:O.rotate(.5*Math.PI),O.translate(ie.height,-ie.width),O.scale(-1,1);break;case 8:O.rotate(-.5*Math.PI),O.translate(-ie.height,0);break}x(O,fe,pe.srcX!=null?pe.srcX:0,pe.srcY!=null?pe.srcY:0,pe.srcWidth,pe.srcHeight,pe.trgX!=null?pe.trgX:0,pe.trgY!=null?pe.trgY:0,pe.trgWidth,pe.trgHeight);var ae=ie.toDataURL("image/png");if(te!=null)return te(ae,ie)})},te!=null&&(fe.onerror=te),fe.src=T.dataURL}},{key:"processQueue",value:function(){var T=this.options.parallelUploads,D=this.getUploadingFiles().length,B=D;if(!(D>=T)){var I=this.getQueuedFiles();if(I.length>0){if(this.options.uploadMultiple)return this.processFiles(I.slice(0,T-D));for(;B<T;){if(!I.length)return;this.processFile(I.shift()),B++}}}}},{key:"processFile",value:function(T){return this.processFiles([T])}},{key:"processFiles",value:function(T){for(var I=T,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var te=V;te.processing=!0,te.status=W.UPLOADING,this.emit("processing",te)}return this.options.uploadMultiple&&this.emit("processingmultiple",T),this.uploadFiles(T)}},{key:"_getFilesWithXhr",value:function(T){return this.files.filter(function(D){return D.xhr===T}).map(function(D){return D})}},{key:"cancelUpload",value:function(T){if(T.status===W.UPLOADING){for(var D=this._getFilesWithXhr(T.xhr),V=D,B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var te;if(B){if(I>=V.length)break;te=V[I++]}else{if(I=V.next(),I.done)break;te=I.value}var oe=te;oe.status=W.CANCELED}typeof T.xhr<"u"&&T.xhr.abort();for(var ue=D,ce=!0,fe=0,ue=ce?ue:ue[Symbol.iterator]();;){var Te;if(ce){if(fe>=ue.length)break;Te=ue[fe++]}else{if(fe=ue.next(),fe.done)break;Te=fe.value}var pe=Te;this.emit("canceled",pe)}this.options.uploadMultiple&&this.emit("canceledmultiple",D)}else(T.status===W.ADDED||T.status===W.QUEUED)&&(T.status=W.CANCELED,this.emit("canceled",T),this.options.uploadMultiple&&this.emit("canceledmultiple",[T]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(T){if(typeof T=="function"){for(var D=arguments.length,B=Array(D>1?D-1:0),I=1;I<D;I++)B[I-1]=arguments[I];return T.apply(this,B)}return T}},{key:"uploadFile",value:function(T){return this.uploadFiles([T])}},{key:"uploadFiles",value:function(T){var D=this;this._transformFiles(T,function(B){if(T[0].upload.chunked){var I=T[0],V=B[0];I.upload.chunks=[];var te=function(){for(var Te=0;I.upload.chunks[Te]!==void 0;)Te++;if(!(Te>=I.upload.totalChunkCount)){var pe=Te*D.options.chunkSize,ie=Math.min(pe+D.options.chunkSize,I.size),O={name:D._getParamName(0),data:V.webkitSlice?V.webkitSlice(pe,ie):V.slice(pe,ie),filename:I.upload.filename,chunkIndex:Te};I.upload.chunks[Te]={file:I,index:Te,dataBlock:O,status:W.UPLOADING,progress:0,retries:0},D._uploadData(T,[O])}};if(I.upload.finishedChunkUpload=function(ue){var Te=!0;ue.status=W.SUCCESS,ue.dataBlock=null,ue.xhr=null;for(var pe=0;pe<I.upload.totalChunkCount;pe++){if(I.upload.chunks[pe]===void 0)return te();I.upload.chunks[pe].status!==W.SUCCESS&&(Te=!1)}Te&&D.options.chunksUploaded(I,function(){D._finished(T,"",null)})},D.options.parallelChunkUploads)for(var oe=0;oe<I.upload.totalChunkCount;oe++)te();else te()}else{for(var ce=[],fe=0;fe<T.length;fe++)ce[fe]={name:D._getParamName(fe),data:B[fe],filename:T[fe].upload.filename};D._uploadData(T,ce)}})}},{key:"_getChunk",value:function(T,D){for(var B=0;B<T.upload.totalChunkCount;B++)if(T.upload.chunks[B]!==void 0&&T.upload.chunks[B].xhr===D)return T.upload.chunks[B]}},{key:"_uploadData",value:function(T,D){for(var B=this,I=new XMLHttpRequest,oe=T,V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){var ce;if(V){if(te>=oe.length)break;ce=oe[te++]}else{if(te=oe.next(),te.done)break;ce=te.value}var fe=ce;fe.xhr=I}T[0].upload.chunked&&(T[0].upload.chunks[D[0].chunkIndex].xhr=I);var ue=this.resolveOption(this.options.method,T),Te=this.resolveOption(this.options.url,T);I.open(ue,Te,!0),I.timeout=this.resolveOption(this.options.timeout,T),I.withCredentials=!!this.options.withCredentials,I.onload=function(we){B._finishedUploading(T,I,we)},I.onerror=function(){B._handleUploadError(T,I)};var pe=I.upload!=null?I.upload:I;pe.onprogress=function(we){return B._updateFilesUploadProgress(T,I,we)};var ie={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&W.extend(ie,this.options.headers);for(var O in ie){var ae=ie[O];ae&&I.setRequestHeader(O,ae)}var me=new FormData;if(this.options.params){var _e=this.options.params;typeof _e=="function"&&(_e=_e.call(this,T,I,T[0].upload.chunked?this._getChunk(T[0],I):null));for(var Ve in _e){var Fe=_e[Ve];me.append(Ve,Fe)}}for(var Y=T,Ee=!0,J=0,Y=Ee?Y:Y[Symbol.iterator]();;){var Ce;if(Ee){if(J>=Y.length)break;Ce=Y[J++]}else{if(J=Y.next(),J.done)break;Ce=J.value}var Me=Ce;this.emit("sending",Me,I,me)}this.options.uploadMultiple&&this.emit("sendingmultiple",T,I,me),this._addFormElementData(me);for(var G=0;G<D.length;G++){var ge=D[G];me.append(ge.name,ge.data,ge.filename)}this.submitRequest(I,me,T)}},{key:"_transformFiles",value:function(T,D){for(var B=this,I=[],V=0,te=function(fe){B.options.transformFile.call(B,T[fe],function(ue){I[fe]=ue,++V===T.length&&D(I)})},oe=0;oe<T.length;oe++)te(oe)}},{key:"_addFormElementData",value:function(T){if(this.element.tagName==="FORM")for(var I=this.element.querySelectorAll("input, textarea, select, button"),D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var te=V,oe=te.getAttribute("name"),ce=te.getAttribute("type");if(ce&&(ce=ce.toLowerCase()),!(typeof oe>"u"||oe===null))if(te.tagName==="SELECT"&&te.hasAttribute("multiple"))for(var Te=te.options,fe=!0,ue=0,Te=fe?Te:Te[Symbol.iterator]();;){var pe;if(fe){if(ue>=Te.length)break;pe=Te[ue++]}else{if(ue=Te.next(),ue.done)break;pe=ue.value}var ie=pe;ie.selected&&T.append(oe,ie.value)}else(!ce||ce!=="checkbox"&&ce!=="radio"||te.checked)&&T.append(oe,te.value)}}},{key:"_updateFilesUploadProgress",value:function(T,D,B){var I=void 0;if(typeof B<"u"){if(I=100*B.loaded/B.total,T[0].upload.chunked){var V=T[0],te=this._getChunk(V,D);te.progress=I,te.total=B.total,te.bytesSent=B.loaded,V.upload.progress=0,V.upload.total=0,V.upload.bytesSent=0;for(var oe=0;oe<V.upload.totalChunkCount;oe++)V.upload.chunks[oe]!==void 0&&V.upload.chunks[oe].progress!==void 0&&(V.upload.progress+=V.upload.chunks[oe].progress,V.upload.total+=V.upload.chunks[oe].total,V.upload.bytesSent+=V.upload.chunks[oe].bytesSent);V.upload.progress=V.upload.progress/V.upload.totalChunkCount}else for(var ue=T,ce=!0,fe=0,ue=ce?ue:ue[Symbol.iterator]();;){var Te;if(ce){if(fe>=ue.length)break;Te=ue[fe++]}else{if(fe=ue.next(),fe.done)break;Te=fe.value}var pe=Te;pe.upload.progress=I,pe.upload.total=B.total,pe.upload.bytesSent=B.loaded}for(var ae=T,ie=!0,O=0,ae=ie?ae:ae[Symbol.iterator]();;){var me;if(ie){if(O>=ae.length)break;me=ae[O++]}else{if(O=ae.next(),O.done)break;me=O.value}var _e=me;this.emit("uploadprogress",_e,_e.upload.progress,_e.upload.bytesSent)}}else{var Ve=!0;I=100;for(var J=T,Fe=!0,Ee=0,J=Fe?J:J[Symbol.iterator]();;){var Y;if(Fe){if(Ee>=J.length)break;Y=J[Ee++]}else{if(Ee=J.next(),Ee.done)break;Y=Ee.value}var Ce=Y;(Ce.upload.progress!==100||Ce.upload.bytesSent!==Ce.upload.total)&&(Ve=!1),Ce.upload.progress=I,Ce.upload.bytesSent=Ce.upload.total}if(Ve)return;for(var ge=T,Me=!0,G=0,ge=Me?ge:ge[Symbol.iterator]();;){var we;if(Me){if(G>=ge.length)break;we=ge[G++]}else{if(G=ge.next(),G.done)break;we=G.value}var Ie=we;this.emit("uploadprogress",Ie,I,Ie.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(T,D,B){var I=void 0;if(T[0].status!==W.CANCELED&&D.readyState===4){if(D.responseType!=="arraybuffer"&&D.responseType!=="blob"&&(I=D.responseText,D.getResponseHeader("content-type")&&~D.getResponseHeader("content-type").indexOf("application/json")))try{I=JSON.parse(I)}catch(V){B=V,I="Invalid JSON response from server."}this._updateFilesUploadProgress(T),200<=D.status&&D.status<300?T[0].upload.chunked?T[0].upload.finishedChunkUpload(this._getChunk(T[0],D)):this._finished(T,I,B):this._handleUploadError(T,D,I)}}},{key:"_handleUploadError",value:function(T,D,B){if(T[0].status!==W.CANCELED){if(T[0].upload.chunked&&this.options.retryChunks){var I=this._getChunk(T[0],D);if(I.retries++<this.options.retryChunksLimit){this._uploadData(T,[I.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}for(var oe=T,V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){if(V){if(te>=oe.length)break;oe[te++]}else{if(te=oe.next(),te.done)break;te.value}this._errorProcessing(T,B||this.options.dictResponseError.replace("{{statusCode}}",D.status),D)}}}},{key:"submitRequest",value:function(T,D,B){T.send(D)}},{key:"_finished",value:function(T,D,B){for(var te=T,I=!0,V=0,te=I?te:te[Symbol.iterator]();;){var oe;if(I){if(V>=te.length)break;oe=te[V++]}else{if(V=te.next(),V.done)break;oe=V.value}var ce=oe;ce.status=W.SUCCESS,this.emit("success",ce,D,B),this.emit("complete",ce)}if(this.options.uploadMultiple&&(this.emit("successmultiple",T,D,B),this.emit("completemultiple",T)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(T,D,B){for(var te=T,I=!0,V=0,te=I?te:te[Symbol.iterator]();;){var oe;if(I){if(V>=te.length)break;oe=te[V++]}else{if(V=te.next(),V.done)break;oe=V.value}var ce=oe;ce.status=W.ERROR,this.emit("error",ce,D,B),this.emit("complete",ce)}if(this.options.uploadMultiple&&(this.emit("errormultiple",T,D,B),this.emit("completemultiple",T)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(T){var D=Math.random()*16|0,B=T==="x"?D:D&3|8;return B.toString(16)})}}]),W})(l);f.initClass(),f.version="5.5.1",f.options={},f.optionsForElement=function(j){if(j.getAttribute("id"))return f.options[b(j.getAttribute("id"))]},f.instances=[],f.forElement=function(j){if(typeof j=="string"&&(j=document.querySelector(j)),j?.dropzone==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return j.dropzone},f.autoDiscover=!0,f.discover=function(){var j=void 0;if(document.querySelectorAll)j=document.querySelectorAll(".dropzone");else{j=[];var W=function(T){return(function(){for(var D=[],V=T,B=!0,I=0,V=B?V:V[Symbol.iterator]();;){var te;if(B){if(I>=V.length)break;te=V[I++]}else{if(I=V.next(),I.done)break;te=I.value}var oe=te;/(^| )dropzone($| )/.test(oe.className)?D.push(j.push(oe)):D.push(void 0)}return D})()};W(document.getElementsByTagName("div")),W(document.getElementsByTagName("form"))}return(function(){for(var U=[],B=j,T=!0,D=0,B=T?B:B[Symbol.iterator]();;){var I;if(T){if(D>=B.length)break;I=B[D++]}else{if(D=B.next(),D.done)break;I=D.value}var V=I;f.optionsForElement(V)!==!1?U.push(new f(V)):U.push(void 0)}return U})()},f.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],f.isBrowserSupported=function(){var j=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))j=!1;else for(var T=f.blacklistedBrowsers,W=!0,U=0,T=W?T:T[Symbol.iterator]();;){var D;if(W){if(U>=T.length)break;D=T[U++]}else{if(U=T.next(),U.done)break;D=U.value}var B=D;if(B.test(navigator.userAgent)){j=!1;continue}}else j=!1;return j},f.dataURItoBlob=function(j){for(var W=atob(j.split(",")[1]),U=j.split(",")[0].split(":")[1].split(";")[0],T=new ArrayBuffer(W.length),D=new Uint8Array(T),B=0,I=W.length,V=0<=I;V?B<=I:B>=I;V?B++:B--)D[B]=W.charCodeAt(B);return new Blob([T],{type:U})};var h=function(W,U){return W.filter(function(T){return T!==U}).map(function(T){return T})},b=function(W){return W.replace(/[\-_](\w)/g,function(U){return U.charAt(1).toUpperCase()})};f.createElement=function(j){var W=document.createElement("div");return W.innerHTML=j,W.childNodes[0]},f.elementInside=function(j,W){if(j===W)return!0;for(;j=j.parentNode;)if(j===W)return!0;return!1},f.getElement=function(j,W){var U=void 0;if(typeof j=="string"?U=document.querySelector(j):j.nodeType!=null&&(U=j),U==null)throw new Error("Invalid `"+W+"` option provided. Please provide a CSS selector or a plain HTML element.");return U},f.getElements=function(j,W){var U=void 0,T=void 0;if(j instanceof Array){T=[];try{for(var I=j,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){if(D){if(B>=I.length)break;U=I[B++]}else{if(B=I.next(),B.done)break;U=B.value}T.push(this.getElement(U,W))}}catch{T=null}}else if(typeof j=="string"){T=[];for(var oe=document.querySelectorAll(j),V=!0,te=0,oe=V?oe:oe[Symbol.iterator]();;){if(V){if(te>=oe.length)break;U=oe[te++]}else{if(te=oe.next(),te.done)break;U=te.value}T.push(U)}}else j.nodeType!=null&&(T=[j]);if(T==null||!T.length)throw new Error("Invalid `"+W+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return T},f.confirm=function(j,W,U){if(window.confirm(j))return W();if(U!=null)return U()},f.isValidFile=function(j,W){if(!W)return!0;W=W.split(",");for(var U=j.type,T=U.replace(/\/.*$/,""),I=W,D=!0,B=0,I=D?I:I[Symbol.iterator]();;){var V;if(D){if(B>=I.length)break;V=I[B++]}else{if(B=I.next(),B.done)break;V=B.value}var te=V;if(te=te.trim(),te.charAt(0)==="."){if(j.name.toLowerCase().indexOf(te.toLowerCase(),j.name.length-te.length)!==-1)return!0}else if(/\/\*$/.test(te)){if(T===te.replace(/\/.*$/,""))return!0}else if(U===te)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(j){return this.each(function(){return new f(this,j)})}),t!==null?t.exports=f:window.Dropzone=f,f.ADDED="added",f.QUEUED="queued",f.ACCEPTED=f.QUEUED,f.UPLOADING="uploading",f.PROCESSING=f.UPLOADING,f.CANCELED="canceled",f.ERROR="error",f.SUCCESS="success";var w=function(W){W.naturalWidth;var U=W.naturalHeight,T=document.createElement("canvas");T.width=1,T.height=U;var D=T.getContext("2d");D.drawImage(W,0,0);for(var B=D.getImageData(1,0,1,U),I=B.data,V=0,te=U,oe=U;oe>V;){var ce=I[(oe-1)*4+3];ce===0?te=oe:V=oe,oe=te+V>>1}var fe=oe/U;return fe===0?1:fe},x=function(W,U,T,D,B,I,V,te,oe,ce){var fe=w(U);return W.drawImage(U,T,D,B,I,V,te,oe,ce/fe)},E=(function(){function j(){u(this,j)}return e(j,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(U){for(var T="",D=void 0,B=void 0,I="",V=void 0,te=void 0,oe=void 0,ce="",fe=0;D=U[fe++],B=U[fe++],I=U[fe++],V=D>>2,te=(D&3)<<4|B>>4,oe=(B&15)<<2|I>>6,ce=I&63,isNaN(B)?oe=ce=64:isNaN(I)&&(ce=64),T=T+this.KEY_STR.charAt(V)+this.KEY_STR.charAt(te)+this.KEY_STR.charAt(oe)+this.KEY_STR.charAt(ce),D=B=I="",V=te=oe=ce="",fe<U.length;);return T}},{key:"restore",value:function(U,T){if(!U.match("data:image/jpeg;base64,"))return T;var D=this.decode64(U.replace("data:image/jpeg;base64,","")),B=this.slice2Segments(D),I=this.exifManipulation(T,B);return"data:image/jpeg;base64,"+this.encode64(I)}},{key:"exifManipulation",value:function(U,T){var D=this.getExifArray(T),B=this.insertExif(U,D),I=new Uint8Array(B);return I}},{key:"getExifArray",value:function(U){for(var T=void 0,D=0;D<U.length;){if(T=U[D],T[0]===255&T[1]===225)return T;D++}return[]}},{key:"insertExif",value:function(U,T){var D=U.replace("data:image/jpeg;base64,",""),B=this.decode64(D),I=B.indexOf(255,3),V=B.slice(0,I),te=B.slice(I),oe=V;return oe=oe.concat(T),oe=oe.concat(te),oe}},{key:"slice2Segments",value:function(U){for(var T=0,D=[];;){var B;if(U[T]===255&U[T+1]===218)break;if(U[T]===255&U[T+1]===216)T+=2;else{B=U[T+2]*256+U[T+3];var I=T+B+2,V=U.slice(T,I);D.push(V),T=I}if(T>U.length)break}return D}},{key:"decode64",value:function(U){var T=void 0,D=void 0,B="",I=void 0,V=void 0,te=void 0,oe="",ce=0,fe=[],ue=/[^A-Za-z0-9\+\/\=]/g;for(ue.exec(U)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),U=U.replace(/[^A-Za-z0-9\+\/\=]/g,"");I=this.KEY_STR.indexOf(U.charAt(ce++)),V=this.KEY_STR.indexOf(U.charAt(ce++)),te=this.KEY_STR.indexOf(U.charAt(ce++)),oe=this.KEY_STR.indexOf(U.charAt(ce++)),T=I<<2|V>>4,D=(V&15)<<4|te>>2,B=(te&3)<<6|oe,fe.push(T),te!==64&&fe.push(D),oe!==64&&fe.push(B),T=D=B="",I=V=te=oe="",ce<U.length;);return fe}}]),j})();E.initClass();var N=function(W,U){var T=!1,D=!0,B=W.document,I=B.documentElement,V=B.addEventListener?"addEventListener":"attachEvent",te=B.addEventListener?"removeEventListener":"detachEvent",oe=B.addEventListener?"":"on",ce=function ue(Te){if(!(Te.type==="readystatechange"&&B.readyState!=="complete")&&((Te.type==="load"?W:B)[te](oe+Te.type,ue,!1),!T&&(T=!0)))return U.call(W,Te.type||Te)},fe=function ue(){try{I.doScroll("left")}catch{setTimeout(ue,50);return}return ce("poll")};if(B.readyState!=="complete"){if(B.createEventObject&&I.doScroll){try{D=!W.frameElement}catch{}D&&fe()}return B[V](oe+"DOMContentLoaded",ce,!1),B[V](oe+"readystatechange",ce,!1),W[V](oe+"load",ce,!1)}};f._autoDiscoverFunction=function(){if(f.autoDiscover)return f.discover()},N(window,f._autoDiscoverFunction);function q(j,W){return typeof j<"u"&&j!==null?W(j):void 0}function F(j,W,U){if(typeof j<"u"&&j!==null&&typeof j[W]=="function")return U(j,W)}})(Wd)),Wd.exports}var Ix=zx();const ul=ff(Ix);async function ac(t){return new Promise(e=>setTimeout(e,t))}async function Vl(t,e=400){return new Promise(r=>{t.style.opacity=0,t.style.display="block",t.style.transition=`opacity ${e}ms ease-in`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=1,await ac(e),r()})})}async function ll(t,e=600){return new Promise(r=>{t.style.opacity=1,t.style.transition=`opacity ${e}ms ease-out`,t.offsetWidth,requestAnimationFrame(async()=>{t.style.opacity=0,await ac(e),t.style.display="none",r()})})}class Bx{constructor(e){this.attached=!1,this.options={onSuccess:()=>{},onError:()=>{},onAdded:()=>{},url:window.RozierConfig.routes.documentsUploadPage,selector:"#upload-dropzone-document",paramName:"form[attachment]",uploadMultiple:!1,maxFilesize:64,timeout:0,autoDiscover:!1,headers:{_token:window.RozierConfig.ajaxToken},dictDefaultMessage:"Drop files here to upload or click to open your explorer",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files."},typeof e<"u"&&Object.assign(this.options,e),document.querySelector(this.options.selector)&&!this.attached&&this.init()}init(){const e=this;let s=document.getElementById("upload-dropzone-document").getAttribute("data-folder-id");s&&s>0&&(this.options.headers.folderId=parseInt(s),this.options.url=window.RozierConfig.routes.documentsUploadPage+"/"+parseInt(s)),ul.options.uploadDropzoneDocument={url:this.options.url,method:"post",headers:this.options.headers,paramName:this.options.paramName,uploadMultiple:this.options.uploadMultiple,timeout:this.options.timeout,maxFilesize:this.options.maxFilesize,dictDefaultMessage:this.options.dictDefaultMessage,dictFallbackMessage:this.options.dictFallbackMessage,dictFallbackText:this.options.dictFallbackText,dictFileTooBig:this.options.dictFileTooBig,dictInvalidFileType:this.options.dictInvalidFileType,dictResponseError:this.options.dictResponseError,dictCancelUpload:this.options.dictCancelUpload,dictCancelUploadConfirmation:this.options.dictCancelUploadConfirmation,dictRemoveFile:this.options.dictRemoveFile,dictRemoveFileConfirmation:this.options.dictRemoveFileConfirmation,dictMaxFilesExceeded:this.options.dictMaxFilesExceeded,init:function(){this.on("addedfile",function(u){e.options.onAdded(u)}),this.on("success",async function(u,l){if(u.previewElement){let f=u.previewElement;await ac(3e3),await ll(f,500),f.remove()}e.options.onSuccess(l),await window.Rozier.getMessages()}),this.on("canceled",function(u,l){e.options.onError(JSON.parse(l)),window.Rozier.getMessages()}),this.on("error",function(u,l){console.error(l)}),this.on("sending",function(u,l){l.ontimeout=()=>{e.options.onError("Server Timeout"),console.error("Server Timeout")}})}},ul.autoDiscover=this.options.autoDiscover;try{new ul(this.options.selector,ul.options.uploadDropzoneDocument);let u=document.querySelector(this.options.selector);u.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`),u.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
            <div class="circles-icons">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
                <div class="circle circle-4"></div>
                <div class="circle circle-5"></div>
                <i class="uk-icon-rz-file"></i>
            </div>`),this.attached=!0}catch(u){console.error(u)}}unbind(){}}class $x{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,s){if(e.target instanceof HTMLInputElement)return;let u=$(s),l=parseInt(u.data("id")),f=u.prev(),h=null,b=null;f.length===0?(f=u.next(),h=parseInt(f.data("id"))):b=parseInt(f.data("id"));const w=window.RozierConfig.routes.attributeValueAjaxEdit;if(!(!w||!l))try{const x=await fetch(w.replace("%attributeValueId%",l),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"updatePosition",attributeValueId:l,beforeAttributeValueId:h,afterAttributeValueId:b})});if(!x.ok)throw x;const E=await x.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.responseText,status:E.status}}))}catch(x){const E=await x.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.title||"",status:"danger"}}))}}}class Hx{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,s){let u=$(s),l=parseInt(u.data("field-id")),f=u.prev(),h=null,b=null;f.length===0?(f=u.next(),b=parseInt(f.data("field-id"))):h=parseInt(f.data("field-id"));const w={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",customFormFieldId:l,beforeFieldId:b,afterFieldId:h},x=await fetch(window.RozierConfig.routes.customFormsFieldAjaxEdit.replace("%customFormFieldId%",l),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(w)});if(x.ok){const E=await x.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.responseText,status:E.status}}))}else{const E=await x.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:E.title,status:"danger"}}))}}}class Wx{constructor(){this.maxLengthed=document.querySelectorAll("input[data-max-length]"),this.minLengthed=document.querySelectorAll("input[data-min-length]"),this.onMaxKeyUp=this.onMaxKeyUp.bind(this),this.onMinKeyUp=this.onMinKeyUp.bind(this),this.init()}init(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.addEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.addEventListener("keyup",this.onMinKeyUp)})}unbind(){this.maxLengthed.length&&this.maxLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMaxKeyUp)}),this.minLengthed.length&&this.minLengthed.forEach(e=>{e.removeEventListener("keyup",this.onMinKeyUp)})}onMaxKeyUp(e){let r=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-max-length"));e.currentTarget.value.length>s?r.classList.add("uk-form-danger"):r.classList.remove("uk-form-danger")}onMinKeyUp(e){let r=e.currentTarget,s=Math.round(e.currentTarget.getAttribute("data-min-length"));e.currentTarget.value.length<=s?r.classList.add("uk-form-danger"):r.classList.remove("uk-form-danger")}}class qx{constructor(){this.onQuickAddClick=this.onQuickAddClick.bind(this),this.nodeTrees=document.querySelectorAll("[data-children-nodes-widget] .nodetree-widget"),this.quickAddNodeButtons=document.querySelectorAll(".children-nodes-quick-creation button"),this.cleanNodeTree()}unbind(){this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}cleanNodeTree(){document.querySelectorAll("[data-children-nodes-widget] .nodetree-langs").forEach(e=>{e.remove()}),this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick),e.addEventListener("click",this.onQuickAddClick)})}treeAvailable(){return!!(this.nodeTrees&&this.nodeTrees.length)}async quickAddNode(e,r,s){const u=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:r,translationId:s})});if(u.ok)return await u.json();throw await u.json()}async onQuickAddClick(e){e.preventDefault();let r=e.currentTarget,s=r.getAttribute("data-children-node-type"),u=parseInt(r.getAttribute("data-children-parent-node")),l=parseInt(r.getAttribute("data-translation-id"));if(s!==""&&u>0)try{await this.quickAddNode(s,u,l),window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages();let f=r.closest(".children-nodes-widget").querySelector(".nodetree-widget");await this.refreshNodeTree(f)}catch(f){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:JSON.parse(f.responseText).error_message,status:"danger"}}))}}async fetchNodeTree(e,r,s=void 0){const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",parentNodeId:e,translationId:s||null});r.forEach((h,b)=>{u.append("linkedTypes["+b+"]",h)});const l=window.RozierConfig.routes.nodesTreeAjax+"?"+u.toString(),f=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(f.ok)return await f.json();throw await f.json()}async refreshNodeTree(e){if(!e){console.log("No node-tree available.");return}let r=[];const s=e.querySelector(".root-tree");if(!s)return;const u=parseInt(s.getAttribute("data-parent-node-id")),l=s.getAttribute("data-linked-types");let f=s.getAttribute("data-translation-id");l&&(r=JSON.parse(l)),window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const h=await this.fetchNodeTree(u,r,f||null);if(e&&typeof h.nodeTree<"u"){await ll(e);let b=e.closest(".children-nodes-widget");e.innerHTML=h.nodeTree,e=b.querySelector(".nodetree-widget"),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await Vl(e),this.cleanNodeTree(),window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}catch(h){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:JSON.parse(h.responseText).error_message,status:"danger"}}))}}}class jx{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation button"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(r=>{r.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,r,s=null){const u=await fetch(window.RozierConfig.routes.nodesQuickAddAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"quickAddNode",nodeTypeName:e,parentNodeId:r,translationId:this.getTranslationId(),tagId:s,pushTop:1})});if(!u.ok)throw await u.json();return await u.json()}async onQuickAddClick(e){e.preventDefault();const r=e.currentTarget,s=r.getAttribute("data-children-node-type"),u=parseInt(r.getAttribute("data-children-parent-node"));let l=null;if(!s||u<=0)return!1;r.hasAttribute("data-filter-tag")&&(l=parseInt(r.getAttribute("data-filter-tag")));try{await this.quickAddNode(s,u,l),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(u,l,1)]),await window.Rozier.getMessages()}catch(f){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,r=void 0,s=void 0){const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:r||this.getCurrentPage(),tagId:s,translationId:this.getTranslationId()}),l=`${window.RozierConfig.routes.nodesTreeAjax}?${u.toString()}`,f=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!f.ok)throw await f.json();return await f.json()}async refreshNodeTree(e,r,s){const u=this.page.querySelector(".nodetree-widget");if(!u)return;const l=u.querySelector(".root-tree");if(typeof e>"u"){const f=l.getAttribute("data-parent-node-id");e=f?parseInt(f):null}else e=parseInt(e);window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const f=await this.fetchNodeTree(e,s?parseInt(s):void 0,r?parseInt(r):void 0);if(f.nodeTree){await ll(u);const h=document.createElement("div");h.innerHTML=f.nodeTree;const b=h.querySelector(".nodetree-widget");u.replaceWith(b),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await Vl(b),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const w=this.page.querySelector(".nodetree-langs");w&&w.remove()}}catch(f){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:JSON.parse(f.responseText).error_message,status:"danger"}}))}finally{window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}}class Yx{constructor(){this.buttons=document.querySelectorAll(".uk-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){e.preventDefault();let r=e.currentTarget?.closest(".setting-row")?.querySelector(".uk-form");if(!r)return console.error("No form found for settings save button"),!1;if(r.querySelectorAll("input[type=file]").length)return r.requestSubmit(),!1;r.classList.contains("uk-has-errors")&&(r.querySelector(".uk-alert").remove(),r.classList.remove("uk-has-errors")),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const s=new window.FormData(r),u=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:s});if(!u.ok){const l=await u.json();if(l.errors&&l.errors.value)for(let f in l.errors.value)r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+l.errors.value[f]+"</span>");else if(l.errors)for(let f in l.errors){r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+l.errors[f]+"</span>");break}}return await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}resize(){}}class Ux{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(r=>{const s=r.querySelectorAll(".node-statuses-item"),u=r.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(r,s,u)})}init(e,r,s){r.forEach(u=>{u.removeEventListener("click",this.itemClick),u.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),s.forEach(u=>{u.removeEventListener("change",this.onChange),u.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(u=>{u.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const r=e.currentTarget,s=r.querySelector("ul, nav"),u=r.offsetHeight,l=s?s.offsetHeight:0,f=r.getBoundingClientRect().top+window.scrollY,h=window.innerHeight,b=f+l+u;h<b&&r.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const r=e.currentTarget.querySelector('input[type="radio"]');r&&(r.checked=!0,r.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const r=e.currentTarget;if(!r)return!1;const s=r.getAttribute("name");let u=null;r instanceof HTMLInputElement&&r.type==="checkbox"?u=Number(r.checked):r instanceof HTMLInputElement&&r.type==="radio"&&(this.icon&&(this.icon.className=r.parentElement.querySelector("i").className),u=r.value),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const l=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"nodeChangeStatus",nodeId:parseInt(r.getAttribute("data-node-id")),statusName:s,statusValue:u})});if(l.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestAllNodeTreeRefresh"));else{const f=await l.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.error_message,status:"danger"}}))}this.locked=!1,window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}class Zx{constructor(e){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let r=[];for(let u=1;u<19;u++)r.push({column:this.tabSize*u,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let s={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:r,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(s.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,s),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}const e3=t=>({}).toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase();(function(){let t,e=()=>{},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=r.length,u=window.console=window.console||{};for(;s--;)t=r[s],u[t]||(u[t]=e)})();const ch=(t,e)=>{e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");let r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(s,"").replace(r,(u,l)=>e.indexOf("<"+l.toLowerCase()+">")>-1?u:"")},ag=(t,e)=>{t&&(t.classList?t.classList.add(e):t.className+=" "+e)},sg={};function Gx(t){let e=sg[t];if(e)return e;e=sg[t]=[];for(let r=0;r<128;r++){const s=String.fromCharCode(r);e.push(s)}for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}function Jl(t,e){typeof e!="string"&&(e=Jl.defaultChars);const r=Gx(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(s){let u="";for(let l=0,f=s.length;l<f;l+=3){const h=parseInt(s.slice(l+1,l+3),16);if(h<128){u+=r[h];continue}if((h&224)===192&&l+3<f){const b=parseInt(s.slice(l+4,l+6),16);if((b&192)===128){const w=h<<6&1984|b&63;w<128?u+="":u+=String.fromCharCode(w),l+=3;continue}}if((h&240)===224&&l+6<f){const b=parseInt(s.slice(l+4,l+6),16),w=parseInt(s.slice(l+7,l+9),16);if((b&192)===128&&(w&192)===128){const x=h<<12&61440|b<<6&4032|w&63;x<2048||x>=55296&&x<=57343?u+="":u+=String.fromCharCode(x),l+=6;continue}}if((h&248)===240&&l+9<f){const b=parseInt(s.slice(l+4,l+6),16),w=parseInt(s.slice(l+7,l+9),16),x=parseInt(s.slice(l+10,l+12),16);if((b&192)===128&&(w&192)===128&&(x&192)===128){let E=h<<18&1835008|b<<12&258048|w<<6&4032|x&63;E<65536||E>1114111?u+="":(E-=65536,u+=String.fromCharCode(55296+(E>>10),56320+(E&1023))),l+=9;continue}}u+=""}return u})}Jl.defaultChars=";/?:@&=+$,#";Jl.componentChars="";const ug={};function Xx(t){let e=ug[t];if(e)return e;e=ug[t]=[];for(let r=0;r<128;r++){const s=String.fromCharCode(r);/^[0-9a-z]$/i.test(s)?e.push(s):e.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<t.length;r++)e[t.charCodeAt(r)]=t[r];return e}function hf(t,e,r){typeof e!="string"&&(r=e,e=hf.defaultChars),typeof r>"u"&&(r=!0);const s=Xx(e);let u="";for(let l=0,f=t.length;l<f;l++){const h=t.charCodeAt(l);if(r&&h===37&&l+2<f&&/^[0-9a-f]{2}$/i.test(t.slice(l+1,l+3))){u+=t.slice(l,l+3),l+=2;continue}if(h<128){u+=s[h];continue}if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&l+1<f){const b=t.charCodeAt(l+1);if(b>=56320&&b<=57343){u+=encodeURIComponent(t[l]+t[l+1]),l++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(t[l])}return u}hf.defaultChars=";/?:@&=+$,-_.!~*'()#";hf.componentChars="-_.!~*'()";function Sp(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Nh(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Vx=/^([a-z0-9.+-]+:)/i,Kx=/:[0-9]*$/,Qx=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Jx=["<",">",'"',"`"," ","\r",`
`,"	"],ew=["{","}","|","\\","^","`"].concat(Jx),tw=["'"].concat(ew),lg=["%","/","?",";","#"].concat(tw),cg=["/","?","#"],nw=255,fg=/^[+a-z0-9A-Z_-]{0,63}$/,iw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hg={javascript:!0,"javascript:":!0},dg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Tp(t,e){if(t&&t instanceof Nh)return t;const r=new Nh;return r.parse(t,e),r}Nh.prototype.parse=function(t,e){let r,s,u,l=t;if(l=l.trim(),!e&&t.split("#").length===1){const w=Qx.exec(l);if(w)return this.pathname=w[1],w[2]&&(this.search=w[2]),this}let f=Vx.exec(l);if(f&&(f=f[0],r=f.toLowerCase(),this.protocol=f,l=l.substr(f.length)),(e||f||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=l.substr(0,2)==="//",u&&!(f&&hg[f])&&(l=l.substr(2),this.slashes=!0)),!hg[f]&&(u||f&&!dg[f])){let w=-1;for(let F=0;F<cg.length;F++)s=l.indexOf(cg[F]),s!==-1&&(w===-1||s<w)&&(w=s);let x,E;w===-1?E=l.lastIndexOf("@"):E=l.lastIndexOf("@",w),E!==-1&&(x=l.slice(0,E),l=l.slice(E+1),this.auth=x),w=-1;for(let F=0;F<lg.length;F++)s=l.indexOf(lg[F]),s!==-1&&(w===-1||s<w)&&(w=s);w===-1&&(w=l.length),l[w-1]===":"&&w--;const N=l.slice(0,w);l=l.slice(w),this.parseHost(N),this.hostname=this.hostname||"";const q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!q){const F=this.hostname.split(/\./);for(let j=0,W=F.length;j<W;j++){const U=F[j];if(U&&!U.match(fg)){let T="";for(let D=0,B=U.length;D<B;D++)U.charCodeAt(D)>127?T+="x":T+=U[D];if(!T.match(fg)){const D=F.slice(0,j),B=F.slice(j+1),I=U.match(iw);I&&(D.push(I[1]),B.unshift(I[2])),B.length&&(l=B.join(".")+l),this.hostname=D.join(".");break}}}}this.hostname.length>nw&&(this.hostname=""),q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const h=l.indexOf("#");h!==-1&&(this.hash=l.substr(h),l=l.slice(0,h));const b=l.indexOf("?");return b!==-1&&(this.search=l.substr(b),l=l.slice(0,b)),l&&(this.pathname=l),dg[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Nh.prototype.parseHost=function(t){let e=Kx.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const rw=Object.freeze(Object.defineProperty({__proto__:null,decode:Jl,encode:hf,format:Sp,parse:Tp},Symbol.toStringTag,{value:"Module"})),D0=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,L0=/[\0-\x1F\x7F-\x9F]/,ow=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Ap=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,M0=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,O0=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,aw=Object.freeze(Object.defineProperty({__proto__:null,Any:D0,Cc:L0,Cf:ow,P:Ap,S:M0,Z:O0},Symbol.toStringTag,{value:"Module"})),sw=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),uw=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var qd;const lw=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),cw=(qd=String.fromCodePoint)!==null&&qd!==void 0?qd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function fw(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=lw.get(t))!==null&&e!==void 0?e:t}var Fr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Fr||(Fr={}));const hw=32;var Tu;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Tu||(Tu={}));function lp(t){return t>=Fr.ZERO&&t<=Fr.NINE}function dw(t){return t>=Fr.UPPER_A&&t<=Fr.UPPER_F||t>=Fr.LOWER_A&&t<=Fr.LOWER_F}function pw(t){return t>=Fr.UPPER_A&&t<=Fr.UPPER_Z||t>=Fr.LOWER_A&&t<=Fr.LOWER_Z||lp(t)}function mw(t){return t===Fr.EQUALS||pw(t)}var Pr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Pr||(Pr={}));var Eu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Eu||(Eu={}));class gw{constructor(e,r,s){this.decodeTree=e,this.emitCodePoint=r,this.errors=s,this.state=Pr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Eu.Strict}startEntity(e){this.decodeMode=e,this.state=Pr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case Pr.EntityStart:return e.charCodeAt(r)===Fr.NUM?(this.state=Pr.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=Pr.NamedEntity,this.stateNamedEntity(e,r));case Pr.NumericStart:return this.stateNumericStart(e,r);case Pr.NumericDecimal:return this.stateNumericDecimal(e,r);case Pr.NumericHex:return this.stateNumericHex(e,r);case Pr.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|hw)===Fr.LOWER_X?(this.state=Pr.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=Pr.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,s,u){if(r!==s){const l=s-r;this.result=this.result*Math.pow(u,l)+parseInt(e.substr(r,l),u),this.consumed+=l}}stateNumericHex(e,r){const s=r;for(;r<e.length;){const u=e.charCodeAt(r);if(lp(u)||dw(u))r+=1;else return this.addToNumericResult(e,s,r,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(e,s,r,16),-1}stateNumericDecimal(e,r){const s=r;for(;r<e.length;){const u=e.charCodeAt(r);if(lp(u))r+=1;else return this.addToNumericResult(e,s,r,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(e,s,r,10),-1}emitNumericEntity(e,r){var s;if(this.consumed<=r)return(s=this.errors)===null||s===void 0||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Fr.SEMI)this.consumed+=1;else if(this.decodeMode===Eu.Strict)return 0;return this.emitCodePoint(fw(this.result),this.consumed),this.errors&&(e!==Fr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:s}=this;let u=s[this.treeIndex],l=(u&Tu.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const f=e.charCodeAt(r);if(this.treeIndex=vw(s,u,this.treeIndex+Math.max(1,l),f),this.treeIndex<0)return this.result===0||this.decodeMode===Eu.Attribute&&(l===0||mw(f))?0:this.emitNotTerminatedNamedEntity();if(u=s[this.treeIndex],l=(u&Tu.VALUE_LENGTH)>>14,l!==0){if(f===Fr.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Eu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:s}=this,u=(s[r]&Tu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,u,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,s){const{decodeTree:u}=this;return this.emitCodePoint(r===1?u[e]&~Tu.VALUE_LENGTH:u[e+1],s),r===3&&this.emitCodePoint(u[e+2],s),s}end(){var e;switch(this.state){case Pr.NamedEntity:return this.result!==0&&(this.decodeMode!==Eu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Pr.NumericDecimal:return this.emitNumericEntity(0,2);case Pr.NumericHex:return this.emitNumericEntity(0,3);case Pr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Pr.EntityStart:return 0}}}function P0(t){let e="";const r=new gw(t,s=>e+=cw(s));return function(u,l){let f=0,h=0;for(;(h=u.indexOf("&",h))>=0;){e+=u.slice(f,h),r.startEntity(l);const w=r.write(u,h+1);if(w<0){f=h+r.end();break}f=h+w,h=w===0?f+1:f}const b=e+u.slice(f);return e="",b}}function vw(t,e,r,s){const u=(e&Tu.BRANCH_LENGTH)>>7,l=e&Tu.JUMP_TABLE;if(u===0)return l!==0&&s===l?r:-1;if(l){const b=s-l;return b<0||b>=u?-1:t[r+b]-1}let f=r,h=f+u-1;for(;f<=h;){const b=f+h>>>1,w=t[b];if(w<s)f=b+1;else if(w>s)h=b-1;else return t[b+u]}return-1}const bw=P0(sw);P0(uw);function F0(t,e=Eu.Legacy){return bw(t,e)}function yw(t){return Object.prototype.toString.call(t)}function Dp(t){return yw(t)==="[object String]"}const _w=Object.prototype.hasOwnProperty;function xw(t,e){return _w.call(t,e)}function Vh(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(s){t[s]=r[s]})}}),t}function R0(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function Lp(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function zh(t){if(t>65535){t-=65536;const e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}const N0=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ww=/&([a-z#][a-z0-9]{1,31});/gi,kw=new RegExp(N0.source+"|"+ww.source,"gi"),Cw=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Ew(t,e){if(e.charCodeAt(0)===35&&Cw.test(e)){const s=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Lp(s)?zh(s):t}const r=F0(t);return r!==t?r:t}function Sw(t){return t.indexOf("\\")<0?t:t.replace(N0,"$1")}function ec(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(kw,function(e,r,s){return r||Ew(e,s)})}const Tw=/[&<>"]/,Aw=/[&<>"]/g,Dw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Lw(t){return Dw[t]}function Lu(t){return Tw.test(t)?t.replace(Aw,Lw):t}const Mw=/[.?*+^$[\]\\(){}|-]/g;function Ow(t){return t.replace(Mw,"\\$&")}function mi(t){switch(t){case 9:case 32:return!0}return!1}function sf(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function uf(t){return Ap.test(t)||M0.test(t)}function lf(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Kh(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Pw={mdurl:rw,ucmicro:aw},Fw=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:R0,assign:Vh,escapeHtml:Lu,escapeRE:Ow,fromCodePoint:zh,has:xw,isMdAsciiPunct:lf,isPunctChar:uf,isSpace:mi,isString:Dp,isValidEntityCode:Lp,isWhiteSpace:sf,lib:Pw,normalizeReference:Kh,unescapeAll:ec,unescapeMd:Sw},Symbol.toStringTag,{value:"Module"}));function Rw(t,e,r){let s,u,l,f;const h=t.posMax,b=t.pos;for(t.pos=e+1,s=1;t.pos<h;){if(l=t.src.charCodeAt(t.pos),l===93&&(s--,s===0)){u=!0;break}if(f=t.pos,t.md.inline.skipToken(t),l===91){if(f===t.pos-1)s++;else if(r)return t.pos=b,-1}}let w=-1;return u&&(w=t.pos),t.pos=b,w}function Nw(t,e,r){let s,u=e;const l={ok:!1,pos:0,str:""};if(t.charCodeAt(u)===60){for(u++;u<r;){if(s=t.charCodeAt(u),s===10||s===60)return l;if(s===62)return l.pos=u+1,l.str=ec(t.slice(e+1,u)),l.ok=!0,l;if(s===92&&u+1<r){u+=2;continue}u++}return l}let f=0;for(;u<r&&(s=t.charCodeAt(u),!(s===32||s<32||s===127));){if(s===92&&u+1<r){if(t.charCodeAt(u+1)===32)break;u+=2;continue}if(s===40&&(f++,f>32))return l;if(s===41){if(f===0)break;f--}u++}return e===u||f!==0||(l.str=ec(t.slice(e,u)),l.pos=u,l.ok=!0),l}function zw(t,e,r,s){let u,l=e;const f={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)f.str=s.str,f.marker=s.marker;else{if(l>=r)return f;let h=t.charCodeAt(l);if(h!==34&&h!==39&&h!==40)return f;e++,l++,h===40&&(h=41),f.marker=h}for(;l<r;){if(u=t.charCodeAt(l),u===f.marker)return f.pos=l+1,f.str+=ec(t.slice(e,l)),f.ok=!0,f;if(u===40&&f.marker===41)return f;u===92&&l+1<r&&l++,l++}return f.can_continue=!0,f.str+=ec(t.slice(e,l)),f}const Iw=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Nw,parseLinkLabel:Rw,parseLinkTitle:zw},Symbol.toStringTag,{value:"Module"})),cs={};cs.code_inline=function(t,e,r,s,u){const l=t[e];return"<code"+u.renderAttrs(l)+">"+Lu(l.content)+"</code>"};cs.code_block=function(t,e,r,s,u){const l=t[e];return"<pre"+u.renderAttrs(l)+"><code>"+Lu(t[e].content)+`</code></pre>
`};cs.fence=function(t,e,r,s,u){const l=t[e],f=l.info?ec(l.info).trim():"";let h="",b="";if(f){const x=f.split(/(\s+)/g);h=x[0],b=x.slice(2).join("")}let w;if(r.highlight?w=r.highlight(l.content,h,b)||Lu(l.content):w=Lu(l.content),w.indexOf("<pre")===0)return w+`
`;if(f){const x=l.attrIndex("class"),E=l.attrs?l.attrs.slice():[];x<0?E.push(["class",r.langPrefix+h]):(E[x]=E[x].slice(),E[x][1]+=" "+r.langPrefix+h);const N={attrs:E};return`<pre><code${u.renderAttrs(N)}>${w}</code></pre>
`}return`<pre><code${u.renderAttrs(l)}>${w}</code></pre>
`};cs.image=function(t,e,r,s,u){const l=t[e];return l.attrs[l.attrIndex("alt")][1]=u.renderInlineAsText(l.children,r,s),u.renderToken(t,e,r)};cs.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};cs.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};cs.text=function(t,e){return Lu(t[e].content)};cs.html_block=function(t,e){return t[e].content};cs.html_inline=function(t,e){return t[e].content};function sc(){this.rules=Vh({},cs)}sc.prototype.renderAttrs=function(e){let r,s,u;if(!e.attrs)return"";for(u="",r=0,s=e.attrs.length;r<s;r++)u+=" "+Lu(e.attrs[r][0])+'="'+Lu(e.attrs[r][1])+'"';return u};sc.prototype.renderToken=function(e,r,s){const u=e[r];let l="";if(u.hidden)return"";u.block&&u.nesting!==-1&&r&&e[r-1].hidden&&(l+=`
`),l+=(u.nesting===-1?"</":"<")+u.tag,l+=this.renderAttrs(u),u.nesting===0&&s.xhtmlOut&&(l+=" /");let f=!1;if(u.block&&(f=!0,u.nesting===1&&r+1<e.length)){const h=e[r+1];(h.type==="inline"||h.hidden||h.nesting===-1&&h.tag===u.tag)&&(f=!1)}return l+=f?`>
`:">",l};sc.prototype.renderInline=function(t,e,r){let s="";const u=this.rules;for(let l=0,f=t.length;l<f;l++){const h=t[l].type;typeof u[h]<"u"?s+=u[h](t,l,e,r,this):s+=this.renderToken(t,l,e)}return s};sc.prototype.renderInlineAsText=function(t,e,r){let s="";for(let u=0,l=t.length;u<l;u++)switch(t[u].type){case"text":s+=t[u].content;break;case"image":s+=this.renderInlineAsText(t[u].children,e,r);break;case"html_inline":case"html_block":s+=t[u].content;break;case"softbreak":case"hardbreak":s+=`
`;break}return s};sc.prototype.render=function(t,e,r){let s="";const u=this.rules;for(let l=0,f=t.length;l<f;l++){const h=t[l].type;h==="inline"?s+=this.renderInline(t[l].children,e,r):typeof u[h]<"u"?s+=u[h](t,l,e,r,this):s+=this.renderToken(t,l,e,r)}return s};function ko(){this.__rules__=[],this.__cache__=null}ko.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};ko.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(s){e.indexOf(s)<0&&e.push(s)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(s){s.enabled&&(r&&s.alt.indexOf(r)<0||t.__cache__[r].push(s.fn))})})};ko.prototype.at=function(t,e,r){const s=this.__find__(t),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=u.alt||[],this.__cache__=null};ko.prototype.before=function(t,e,r,s){const u=this.__find__(t),l=s||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u,0,{name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};ko.prototype.after=function(t,e,r,s){const u=this.__find__(t),l=s||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u+1,0,{name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};ko.prototype.push=function(t,e,r){const s=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null};ko.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(s){const u=this.__find__(s);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[u].enabled=!0,r.push(s)},this),this.__cache__=null,r};ko.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};ko.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(s){const u=this.__find__(s);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[u].enabled=!1,r.push(s)},this),this.__cache__=null,r};ko.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ra(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ra.prototype.attrIndex=function(e){if(!this.attrs)return-1;const r=this.attrs;for(let s=0,u=r.length;s<u;s++)if(r[s][0]===e)return s;return-1};Ra.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ra.prototype.attrSet=function(e,r){const s=this.attrIndex(e),u=[e,r];s<0?this.attrPush(u):this.attrs[s]=u};Ra.prototype.attrGet=function(e){const r=this.attrIndex(e);let s=null;return r>=0&&(s=this.attrs[r][1]),s};Ra.prototype.attrJoin=function(e,r){const s=this.attrIndex(e);s<0?this.attrPush([e,r]):this.attrs[s][1]=this.attrs[s][1]+" "+r};function z0(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}z0.prototype.Token=Ra;const Bw=/\r\n?|\n/g,$w=/\0/g;function Hw(t){let e;e=t.src.replace(Bw,`
`),e=e.replace($w,""),t.src=e}function Ww(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function qw(t){const e=t.tokens;for(let r=0,s=e.length;r<s;r++){const u=e[r];u.type==="inline"&&t.md.inline.parse(u.content,t.md,t.env,u.children)}}function jw(t){return/^<a[>\s]/i.test(t)}function Yw(t){return/^<\/a\s*>/i.test(t)}function Uw(t){const e=t.tokens;if(t.md.options.linkify)for(let r=0,s=e.length;r<s;r++){if(e[r].type!=="inline"||!t.md.linkify.pretest(e[r].content))continue;let u=e[r].children,l=0;for(let f=u.length-1;f>=0;f--){const h=u[f];if(h.type==="link_close"){for(f--;u[f].level!==h.level&&u[f].type!=="link_open";)f--;continue}if(h.type==="html_inline"&&(jw(h.content)&&l>0&&l--,Yw(h.content)&&l++),!(l>0)&&h.type==="text"&&t.md.linkify.test(h.content)){const b=h.content;let w=t.md.linkify.match(b);const x=[];let E=h.level,N=0;w.length>0&&w[0].index===0&&f>0&&u[f-1].type==="text_special"&&(w=w.slice(1));for(let q=0;q<w.length;q++){const F=w[q].url,j=t.md.normalizeLink(F);if(!t.md.validateLink(j))continue;let W=w[q].text;w[q].schema?w[q].schema==="mailto:"&&!/^mailto:/i.test(W)?W=t.md.normalizeLinkText("mailto:"+W).replace(/^mailto:/,""):W=t.md.normalizeLinkText(W):W=t.md.normalizeLinkText("http://"+W).replace(/^http:\/\//,"");const U=w[q].index;if(U>N){const I=new t.Token("text","",0);I.content=b.slice(N,U),I.level=E,x.push(I)}const T=new t.Token("link_open","a",1);T.attrs=[["href",j]],T.level=E++,T.markup="linkify",T.info="auto",x.push(T);const D=new t.Token("text","",0);D.content=W,D.level=E,x.push(D);const B=new t.Token("link_close","a",-1);B.level=--E,B.markup="linkify",B.info="auto",x.push(B),N=w[q].lastIndex}if(N<b.length){const q=new t.Token("text","",0);q.content=b.slice(N),q.level=E,x.push(q)}e[r].children=u=R0(u,f,x)}}}}const I0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Zw=/\((c|tm|r)\)/i,Gw=/\((c|tm|r)\)/ig,Xw={c:"",r:"",tm:""};function Vw(t,e){return Xw[e.toLowerCase()]}function Kw(t){let e=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s.type==="text"&&!e&&(s.content=s.content.replace(Gw,Vw)),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function Qw(t){let e=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s.type==="text"&&!e&&I0.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),s.type==="link_open"&&s.info==="auto"&&e--,s.type==="link_close"&&s.info==="auto"&&e++}}function Jw(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(Zw.test(t.tokens[e].content)&&Kw(t.tokens[e].children),I0.test(t.tokens[e].content)&&Qw(t.tokens[e].children))}const ek=/['"]/,pg=/['"]/g,mg="";function fh(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function tk(t,e){let r;const s=[];for(let u=0;u<t.length;u++){const l=t[u],f=t[u].level;for(r=s.length-1;r>=0&&!(s[r].level<=f);r--);if(s.length=r+1,l.type!=="text")continue;let h=l.content,b=0,w=h.length;e:for(;b<w;){pg.lastIndex=b;const x=pg.exec(h);if(!x)break;let E=!0,N=!0;b=x.index+1;const q=x[0]==="'";let F=32;if(x.index-1>=0)F=h.charCodeAt(x.index-1);else for(r=u-1;r>=0&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r--)if(t[r].content){F=t[r].content.charCodeAt(t[r].content.length-1);break}let j=32;if(b<w)j=h.charCodeAt(b);else for(r=u+1;r<t.length&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r++)if(t[r].content){j=t[r].content.charCodeAt(0);break}const W=lf(F)||uf(String.fromCharCode(F)),U=lf(j)||uf(String.fromCharCode(j)),T=sf(F),D=sf(j);if(D?E=!1:U&&(T||W||(E=!1)),T?N=!1:W&&(D||U||(N=!1)),j===34&&x[0]==='"'&&F>=48&&F<=57&&(N=E=!1),E&&N&&(E=W,N=U),!E&&!N){q&&(l.content=fh(l.content,x.index,mg));continue}if(N)for(r=s.length-1;r>=0;r--){let B=s[r];if(s[r].level<f)break;if(B.single===q&&s[r].level===f){B=s[r];let I,V;q?(I=e.md.options.quotes[2],V=e.md.options.quotes[3]):(I=e.md.options.quotes[0],V=e.md.options.quotes[1]),l.content=fh(l.content,x.index,V),t[B.token].content=fh(t[B.token].content,B.pos,I),b+=V.length-1,B.token===u&&(b+=I.length-1),h=l.content,w=h.length,s.length=r;continue e}}E?s.push({token:u,pos:x.index,single:q,level:f}):N&&q&&(l.content=fh(l.content,x.index,mg))}}}function nk(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!ek.test(t.tokens[e].content)||tk(t.tokens[e].children,t)}function ik(t){let e,r;const s=t.tokens,u=s.length;for(let l=0;l<u;l++){if(s[l].type!=="inline")continue;const f=s[l].children,h=f.length;for(e=0;e<h;e++)f[e].type==="text_special"&&(f[e].type="text");for(e=r=0;e<h;e++)f[e].type==="text"&&e+1<h&&f[e+1].type==="text"?f[e+1].content=f[e].content+f[e+1].content:(e!==r&&(f[r]=f[e]),r++);e!==r&&(f.length=r)}}const jd=[["normalize",Hw],["block",Ww],["inline",qw],["linkify",Uw],["replacements",Jw],["smartquotes",nk],["text_join",ik]];function Mp(){this.ruler=new ko;for(let t=0;t<jd.length;t++)this.ruler.push(jd[t][0],jd[t][1])}Mp.prototype.process=function(t){const e=this.ruler.getRules("");for(let r=0,s=e.length;r<s;r++)e[r](t)};Mp.prototype.State=z0;function fs(t,e,r,s){this.src=t,this.md=e,this.env=r,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let l=0,f=0,h=0,b=0,w=u.length,x=!1;f<w;f++){const E=u.charCodeAt(f);if(!x)if(mi(E)){h++,E===9?b+=4-b%4:b++;continue}else x=!0;(E===10||f===w-1)&&(E!==10&&f++,this.bMarks.push(l),this.eMarks.push(f),this.tShift.push(h),this.sCount.push(b),this.bsCount.push(0),x=!1,h=0,b=0,l=f+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}fs.prototype.push=function(t,e,r){const s=new Ra(t,e,r);return s.block=!0,r<0&&this.level--,s.level=this.level,r>0&&this.level++,this.tokens.push(s),s};fs.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};fs.prototype.skipEmptyLines=function(e){for(let r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};fs.prototype.skipSpaces=function(e){for(let r=this.src.length;e<r;e++){const s=this.src.charCodeAt(e);if(!mi(s))break}return e};fs.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!mi(this.src.charCodeAt(--e)))return e+1;return e};fs.prototype.skipChars=function(e,r){for(let s=this.src.length;e<s&&this.src.charCodeAt(e)===r;e++);return e};fs.prototype.skipCharsBack=function(e,r,s){if(e<=s)return e;for(;e>s;)if(r!==this.src.charCodeAt(--e))return e+1;return e};fs.prototype.getLines=function(e,r,s,u){if(e>=r)return"";const l=new Array(r-e);for(let f=0,h=e;h<r;h++,f++){let b=0;const w=this.bMarks[h];let x=w,E;for(h+1<r||u?E=this.eMarks[h]+1:E=this.eMarks[h];x<E&&b<s;){const N=this.src.charCodeAt(x);if(mi(N))N===9?b+=4-(b+this.bsCount[h])%4:b++;else if(x-w<this.tShift[h])b++;else break;x++}b>s?l[f]=new Array(b-s+1).join(" ")+this.src.slice(x,E):l[f]=this.src.slice(x,E)}return l.join("")};fs.prototype.Token=Ra;const rk=65536;function Yd(t,e){const r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(r,s)}function gg(t){const e=[],r=t.length;let s=0,u=t.charCodeAt(s),l=!1,f=0,h="";for(;s<r;)u===124&&(l?(h+=t.substring(f,s-1),f=s):(e.push(h+t.substring(f,s)),h="",f=s+1)),l=u===92,s++,u=t.charCodeAt(s);return e.push(h+t.substring(f)),e}function ok(t,e,r,s){if(e+2>r)return!1;let u=e+1;if(t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)return!1;let l=t.bMarks[u]+t.tShift[u];if(l>=t.eMarks[u])return!1;const f=t.src.charCodeAt(l++);if(f!==124&&f!==45&&f!==58||l>=t.eMarks[u])return!1;const h=t.src.charCodeAt(l++);if(h!==124&&h!==45&&h!==58&&!mi(h)||f===45&&mi(h))return!1;for(;l<t.eMarks[u];){const B=t.src.charCodeAt(l);if(B!==124&&B!==45&&B!==58&&!mi(B))return!1;l++}let b=Yd(t,e+1),w=b.split("|");const x=[];for(let B=0;B<w.length;B++){const I=w[B].trim();if(!I){if(B===0||B===w.length-1)continue;return!1}if(!/^:?-+:?$/.test(I))return!1;I.charCodeAt(I.length-1)===58?x.push(I.charCodeAt(0)===58?"center":"right"):I.charCodeAt(0)===58?x.push("left"):x.push("")}if(b=Yd(t,e).trim(),b.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;w=gg(b),w.length&&w[0]===""&&w.shift(),w.length&&w[w.length-1]===""&&w.pop();const E=w.length;if(E===0||E!==x.length)return!1;if(s)return!0;const N=t.parentType;t.parentType="table";const q=t.md.block.ruler.getRules("blockquote"),F=t.push("table_open","table",1),j=[e,0];F.map=j;const W=t.push("thead_open","thead",1);W.map=[e,e+1];const U=t.push("tr_open","tr",1);U.map=[e,e+1];for(let B=0;B<w.length;B++){const I=t.push("th_open","th",1);x[B]&&(I.attrs=[["style","text-align:"+x[B]]]);const V=t.push("inline","",0);V.content=w[B].trim(),V.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let T,D=0;for(u=e+2;u<r&&!(t.sCount[u]<t.blkIndent);u++){let B=!1;for(let V=0,te=q.length;V<te;V++)if(q[V](t,u,r,!0)){B=!0;break}if(B||(b=Yd(t,u).trim(),!b)||t.sCount[u]-t.blkIndent>=4||(w=gg(b),w.length&&w[0]===""&&w.shift(),w.length&&w[w.length-1]===""&&w.pop(),D+=E-w.length,D>rk))break;if(u===e+2){const V=t.push("tbody_open","tbody",1);V.map=T=[e+2,0]}const I=t.push("tr_open","tr",1);I.map=[u,u+1];for(let V=0;V<E;V++){const te=t.push("td_open","td",1);x[V]&&(te.attrs=[["style","text-align:"+x[V]]]);const oe=t.push("inline","",0);oe.content=w[V]?w[V].trim():"",oe.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return T&&(t.push("tbody_close","tbody",-1),T[1]=u),t.push("table_close","table",-1),j[1]=u,t.parentType=N,t.line=u,!0}function ak(t,e,r){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,u=s;for(;s<r;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}t.line=u;const l=t.push("code_block","code",0);return l.content=t.getLines(e,u,4+t.blkIndent,!1)+`
`,l.map=[e,t.line],!0}function sk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||u+3>l)return!1;const f=t.src.charCodeAt(u);if(f!==126&&f!==96)return!1;let h=u;u=t.skipChars(u,f);let b=u-h;if(b<3)return!1;const w=t.src.slice(h,u),x=t.src.slice(u,l);if(f===96&&x.indexOf(String.fromCharCode(f))>=0)return!1;if(s)return!0;let E=e,N=!1;for(;E++,!(E>=r||(u=h=t.bMarks[E]+t.tShift[E],l=t.eMarks[E],u<l&&t.sCount[E]<t.blkIndent));)if(t.src.charCodeAt(u)===f&&!(t.sCount[E]-t.blkIndent>=4)&&(u=t.skipChars(u,f),!(u-h<b)&&(u=t.skipSpaces(u),!(u<l)))){N=!0;break}b=t.sCount[e],t.line=E+(N?1:0);const q=t.push("fence","code",0);return q.info=x,q.content=t.getLines(e+1,E,b,!0),q.markup=w,q.map=[e,t.line],!0}function uk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];const f=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==62)return!1;if(s)return!0;const h=[],b=[],w=[],x=[],E=t.md.block.ruler.getRules("blockquote"),N=t.parentType;t.parentType="blockquote";let q=!1,F;for(F=e;F<r;F++){const D=t.sCount[F]<t.blkIndent;if(u=t.bMarks[F]+t.tShift[F],l=t.eMarks[F],u>=l)break;if(t.src.charCodeAt(u++)===62&&!D){let I=t.sCount[F]+1,V,te;t.src.charCodeAt(u)===32?(u++,I++,te=!1,V=!0):t.src.charCodeAt(u)===9?(V=!0,(t.bsCount[F]+I)%4===3?(u++,I++,te=!1):te=!0):V=!1;let oe=I;for(h.push(t.bMarks[F]),t.bMarks[F]=u;u<l;){const ce=t.src.charCodeAt(u);if(mi(ce))ce===9?oe+=4-(oe+t.bsCount[F]+(te?1:0))%4:oe++;else break;u++}q=u>=l,b.push(t.bsCount[F]),t.bsCount[F]=t.sCount[F]+1+(V?1:0),w.push(t.sCount[F]),t.sCount[F]=oe-I,x.push(t.tShift[F]),t.tShift[F]=u-t.bMarks[F];continue}if(q)break;let B=!1;for(let I=0,V=E.length;I<V;I++)if(E[I](t,F,r,!0)){B=!0;break}if(B){t.lineMax=F,t.blkIndent!==0&&(h.push(t.bMarks[F]),b.push(t.bsCount[F]),x.push(t.tShift[F]),w.push(t.sCount[F]),t.sCount[F]-=t.blkIndent);break}h.push(t.bMarks[F]),b.push(t.bsCount[F]),x.push(t.tShift[F]),w.push(t.sCount[F]),t.sCount[F]=-1}const j=t.blkIndent;t.blkIndent=0;const W=t.push("blockquote_open","blockquote",1);W.markup=">";const U=[e,0];W.map=U,t.md.block.tokenize(t,e,F);const T=t.push("blockquote_close","blockquote",-1);T.markup=">",t.lineMax=f,t.parentType=N,U[1]=t.line;for(let D=0;D<x.length;D++)t.bMarks[D+e]=h[D],t.tShift[D+e]=x[D],t.sCount[D+e]=w[D],t.bsCount[D+e]=b[D];return t.blkIndent=j,!0}function lk(t,e,r,s){const u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let l=t.bMarks[e]+t.tShift[e];const f=t.src.charCodeAt(l++);if(f!==42&&f!==45&&f!==95)return!1;let h=1;for(;l<u;){const w=t.src.charCodeAt(l++);if(w!==f&&!mi(w))return!1;w===f&&h++}if(h<3)return!1;if(s)return!0;t.line=e+1;const b=t.push("hr","hr",0);return b.map=[e,t.line],b.markup=Array(h+1).join(String.fromCharCode(f)),!0}function vg(t,e){const r=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const u=t.src.charCodeAt(s++);if(u!==42&&u!==45&&u!==43)return-1;if(s<r){const l=t.src.charCodeAt(s);if(!mi(l))return-1}return s}function bg(t,e){const r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let u=r;if(u+1>=s)return-1;let l=t.src.charCodeAt(u++);if(l<48||l>57)return-1;for(;;){if(u>=s)return-1;if(l=t.src.charCodeAt(u++),l>=48&&l<=57){if(u-r>=10)return-1;continue}if(l===41||l===46)break;return-1}return u<s&&(l=t.src.charCodeAt(u),!mi(l))?-1:u}function ck(t,e){const r=t.level+2;for(let s=e+2,u=t.tokens.length-2;s<u;s++)t.tokens[s].level===r&&t.tokens[s].type==="paragraph_open"&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}function fk(t,e,r,s){let u,l,f,h,b=e,w=!0;if(t.sCount[b]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[b]-t.listIndent>=4&&t.sCount[b]<t.blkIndent)return!1;let x=!1;s&&t.parentType==="paragraph"&&t.sCount[b]>=t.blkIndent&&(x=!0);let E,N,q;if((q=bg(t,b))>=0){if(E=!0,f=t.bMarks[b]+t.tShift[b],N=Number(t.src.slice(f,q-1)),x&&N!==1)return!1}else if((q=vg(t,b))>=0)E=!1;else return!1;if(x&&t.skipSpaces(q)>=t.eMarks[b])return!1;if(s)return!0;const F=t.src.charCodeAt(q-1),j=t.tokens.length;E?(h=t.push("ordered_list_open","ol",1),N!==1&&(h.attrs=[["start",N]])):h=t.push("bullet_list_open","ul",1);const W=[b,0];h.map=W,h.markup=String.fromCharCode(F);let U=!1;const T=t.md.block.ruler.getRules("list"),D=t.parentType;for(t.parentType="list";b<r;){l=q,u=t.eMarks[b];const B=t.sCount[b]+q-(t.bMarks[b]+t.tShift[b]);let I=B;for(;l<u;){const O=t.src.charCodeAt(l);if(O===9)I+=4-(I+t.bsCount[b])%4;else if(O===32)I++;else break;l++}const V=l;let te;V>=u?te=1:te=I-B,te>4&&(te=1);const oe=B+te;h=t.push("list_item_open","li",1),h.markup=String.fromCharCode(F);const ce=[b,0];h.map=ce,E&&(h.info=t.src.slice(f,q-1));const fe=t.tight,ue=t.tShift[b],Te=t.sCount[b],pe=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=oe,t.tight=!0,t.tShift[b]=V-t.bMarks[b],t.sCount[b]=I,V>=u&&t.isEmpty(b+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,b,r,!0),(!t.tight||U)&&(w=!1),U=t.line-b>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=pe,t.tShift[b]=ue,t.sCount[b]=Te,t.tight=fe,h=t.push("list_item_close","li",-1),h.markup=String.fromCharCode(F),b=t.line,ce[1]=b,b>=r||t.sCount[b]<t.blkIndent||t.sCount[b]-t.blkIndent>=4)break;let ie=!1;for(let O=0,ae=T.length;O<ae;O++)if(T[O](t,b,r,!0)){ie=!0;break}if(ie)break;if(E){if(q=bg(t,b),q<0)break;f=t.bMarks[b]+t.tShift[b]}else if(q=vg(t,b),q<0)break;if(F!==t.src.charCodeAt(q-1))break}return E?h=t.push("ordered_list_close","ol",-1):h=t.push("bullet_list_close","ul",-1),h.markup=String.fromCharCode(F),W[1]=b,t.line=b,t.parentType=D,w&&ck(t,j),!0}function hk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e],f=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==91)return!1;function h(T){const D=t.lineMax;if(T>=D||t.isEmpty(T))return null;let B=!1;if(t.sCount[T]-t.blkIndent>3&&(B=!0),t.sCount[T]<0&&(B=!0),!B){const te=t.md.block.ruler.getRules("reference"),oe=t.parentType;t.parentType="reference";let ce=!1;for(let fe=0,ue=te.length;fe<ue;fe++)if(te[fe](t,T,D,!0)){ce=!0;break}if(t.parentType=oe,ce)return null}const I=t.bMarks[T]+t.tShift[T],V=t.eMarks[T];return t.src.slice(I,V+1)}let b=t.src.slice(u,l+1);l=b.length;let w=-1;for(u=1;u<l;u++){const T=b.charCodeAt(u);if(T===91)return!1;if(T===93){w=u;break}else if(T===10){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}else if(T===92&&(u++,u<l&&b.charCodeAt(u)===10)){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}}if(w<0||b.charCodeAt(w+1)!==58)return!1;for(u=w+2;u<l;u++){const T=b.charCodeAt(u);if(T===10){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}else if(!mi(T))break}const x=t.md.helpers.parseLinkDestination(b,u,l);if(!x.ok)return!1;const E=t.md.normalizeLink(x.str);if(!t.md.validateLink(E))return!1;u=x.pos;const N=u,q=f,F=u;for(;u<l;u++){const T=b.charCodeAt(u);if(T===10){const D=h(f);D!==null&&(b+=D,l=b.length,f++)}else if(!mi(T))break}let j=t.md.helpers.parseLinkTitle(b,u,l);for(;j.can_continue;){const T=h(f);if(T===null)break;b+=T,u=l,l=b.length,f++,j=t.md.helpers.parseLinkTitle(b,u,l,j)}let W;for(u<l&&F!==u&&j.ok?(W=j.str,u=j.pos):(W="",u=N,f=q);u<l;){const T=b.charCodeAt(u);if(!mi(T))break;u++}if(u<l&&b.charCodeAt(u)!==10&&W)for(W="",u=N,f=q;u<l;){const T=b.charCodeAt(u);if(!mi(T))break;u++}if(u<l&&b.charCodeAt(u)!==10)return!1;const U=Kh(b.slice(1,w));return U?(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[U]>"u"&&(t.env.references[U]={title:W,href:E}),t.line=f),!0):!1}const dk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pk="[a-zA-Z_:][a-zA-Z0-9:._-]*",mk="[^\"'=<>`\\x00-\\x20]+",gk="'[^']*'",vk='"[^"]*"',bk="(?:"+mk+"|"+gk+"|"+vk+")",yk="(?:\\s+"+pk+"(?:\\s*=\\s*"+bk+")?)",B0="<[A-Za-z][A-Za-z0-9\\-]*"+yk+"*\\s*\\/?>",$0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",_k="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",xk="<[?][\\s\\S]*?[?]>",wk="<![A-Za-z][^>]*>",kk="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Ck=new RegExp("^(?:"+B0+"|"+$0+"|"+_k+"|"+xk+"|"+wk+"|"+kk+")"),Ek=new RegExp("^(?:"+B0+"|"+$0+")"),jl=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+dk.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Ek.source+"\\s*$"),/^$/,!1]];function Sk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(u)!==60)return!1;let f=t.src.slice(u,l),h=0;for(;h<jl.length&&!jl[h][0].test(f);h++);if(h===jl.length)return!1;if(s)return jl[h][2];let b=e+1;if(!jl[h][1].test(f)){for(;b<r&&!(t.sCount[b]<t.blkIndent);b++)if(u=t.bMarks[b]+t.tShift[b],l=t.eMarks[b],f=t.src.slice(u,l),jl[h][1].test(f)){f.length!==0&&b++;break}}t.line=b;const w=t.push("html_block","",0);return w.map=[e,b],w.content=t.getLines(e,b,t.blkIndent,!0),!0}function Tk(t,e,r,s){let u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let f=t.src.charCodeAt(u);if(f!==35||u>=l)return!1;let h=1;for(f=t.src.charCodeAt(++u);f===35&&u<l&&h<=6;)h++,f=t.src.charCodeAt(++u);if(h>6||u<l&&!mi(f))return!1;if(s)return!0;l=t.skipSpacesBack(l,u);const b=t.skipCharsBack(l,35,u);b>u&&mi(t.src.charCodeAt(b-1))&&(l=b),t.line=e+1;const w=t.push("heading_open","h"+String(h),1);w.markup="########".slice(0,h),w.map=[e,t.line];const x=t.push("inline","",0);x.content=t.src.slice(u,l).trim(),x.map=[e,t.line],x.children=[];const E=t.push("heading_close","h"+String(h),-1);return E.markup="########".slice(0,h),!0}function Ak(t,e,r){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const u=t.parentType;t.parentType="paragraph";let l=0,f,h=e+1;for(;h<r&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3)continue;if(t.sCount[h]>=t.blkIndent){let q=t.bMarks[h]+t.tShift[h];const F=t.eMarks[h];if(q<F&&(f=t.src.charCodeAt(q),(f===45||f===61)&&(q=t.skipChars(q,f),q=t.skipSpaces(q),q>=F))){l=f===61?1:2;break}}if(t.sCount[h]<0)continue;let N=!1;for(let q=0,F=s.length;q<F;q++)if(s[q](t,h,r,!0)){N=!0;break}if(N)break}if(!l)return!1;const b=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h+1;const w=t.push("heading_open","h"+String(l),1);w.markup=String.fromCharCode(f),w.map=[e,t.line];const x=t.push("inline","",0);x.content=b,x.map=[e,t.line-1],x.children=[];const E=t.push("heading_close","h"+String(l),-1);return E.markup=String.fromCharCode(f),t.parentType=u,!0}function Dk(t,e,r){const s=t.md.block.ruler.getRules("paragraph"),u=t.parentType;let l=e+1;for(t.parentType="paragraph";l<r&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3||t.sCount[l]<0)continue;let w=!1;for(let x=0,E=s.length;x<E;x++)if(s[x](t,l,r,!0)){w=!0;break}if(w)break}const f=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l;const h=t.push("paragraph_open","p",1);h.map=[e,t.line];const b=t.push("inline","",0);return b.content=f,b.map=[e,t.line],b.children=[],t.push("paragraph_close","p",-1),t.parentType=u,!0}const hh=[["table",ok,["paragraph","reference"]],["code",ak],["fence",sk,["paragraph","reference","blockquote","list"]],["blockquote",uk,["paragraph","reference","blockquote","list"]],["hr",lk,["paragraph","reference","blockquote","list"]],["list",fk,["paragraph","reference","blockquote"]],["reference",hk],["html_block",Sk,["paragraph","reference","blockquote"]],["heading",Tk,["paragraph","reference","blockquote"]],["lheading",Ak],["paragraph",Dk]];function Qh(){this.ruler=new ko;for(let t=0;t<hh.length;t++)this.ruler.push(hh[t][0],hh[t][1],{alt:(hh[t][2]||[]).slice()})}Qh.prototype.tokenize=function(t,e,r){const s=this.ruler.getRules(""),u=s.length,l=t.md.options.maxNesting;let f=e,h=!1;for(;f<r&&(t.line=f=t.skipEmptyLines(f),!(f>=r||t.sCount[f]<t.blkIndent));){if(t.level>=l){t.line=r;break}const b=t.line;let w=!1;for(let x=0;x<u;x++)if(w=s[x](t,f,r,!1),w){if(b>=t.line)throw new Error("block rule didn't increment state.line");break}if(!w)throw new Error("none of the block rules matched");t.tight=!h,t.isEmpty(t.line-1)&&(h=!0),f=t.line,f<r&&t.isEmpty(f)&&(h=!0,f++,t.line=f)}};Qh.prototype.parse=function(t,e,r,s){if(!t)return;const u=new this.State(t,e,r,s);this.tokenize(u,u.line,u.lineMax)};Qh.prototype.State=fs;function df(t,e,r,s){this.src=t,this.env=r,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}df.prototype.pushPending=function(){const t=new Ra("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};df.prototype.push=function(t,e,r){this.pending&&this.pushPending();const s=new Ra(t,e,r);let u=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(u),s};df.prototype.scanDelims=function(t,e){const r=this.posMax,s=this.src.charCodeAt(t),u=t>0?this.src.charCodeAt(t-1):32;let l=t;for(;l<r&&this.src.charCodeAt(l)===s;)l++;const f=l-t,h=l<r?this.src.charCodeAt(l):32,b=lf(u)||uf(String.fromCharCode(u)),w=lf(h)||uf(String.fromCharCode(h)),x=sf(u),E=sf(h),N=!E&&(!w||x||b),q=!x&&(!b||E||w);return{can_open:N&&(e||!q||b),can_close:q&&(e||!N||w),length:f}};df.prototype.Token=Ra;function Lk(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Mk(t,e){let r=t.pos;for(;r<t.posMax&&!Lk(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}const Ok=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Pk(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const r=t.pos,s=t.posMax;if(r+3>s||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47)return!1;const u=t.pending.match(Ok);if(!u)return!1;const l=u[1],f=t.md.linkify.matchAtStart(t.src.slice(r-l.length));if(!f)return!1;let h=f.url;if(h.length<=l.length)return!1;h=h.replace(/\*+$/,"");const b=t.md.normalizeLink(h);if(!t.md.validateLink(b))return!1;if(!e){t.pending=t.pending.slice(0,-l.length);const w=t.push("link_open","a",1);w.attrs=[["href",b]],w.markup="linkify",w.info="auto";const x=t.push("text","",0);x.content=t.md.normalizeLinkText(h);const E=t.push("link_close","a",-1);E.markup="linkify",E.info="auto"}return t.pos+=h.length-l.length,!0}function Fk(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==10)return!1;const s=t.pending.length-1,u=t.posMax;if(!e)if(s>=0&&t.pending.charCodeAt(s)===32)if(s>=1&&t.pending.charCodeAt(s-1)===32){let l=s-1;for(;l>=1&&t.pending.charCodeAt(l-1)===32;)l--;t.pending=t.pending.slice(0,l),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(r++;r<u&&mi(t.src.charCodeAt(r));)r++;return t.pos=r,!0}const Op=[];for(let t=0;t<256;t++)Op.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Op[t.charCodeAt(0)]=1});function Rk(t,e){let r=t.pos;const s=t.posMax;if(t.src.charCodeAt(r)!==92||(r++,r>=s))return!1;let u=t.src.charCodeAt(r);if(u===10){for(e||t.push("hardbreak","br",0),r++;r<s&&(u=t.src.charCodeAt(r),!!mi(u));)r++;return t.pos=r,!0}let l=t.src[r];if(u>=55296&&u<=56319&&r+1<s){const h=t.src.charCodeAt(r+1);h>=56320&&h<=57343&&(l+=t.src[r+1],r++)}const f="\\"+l;if(!e){const h=t.push("text_special","",0);u<256&&Op[u]!==0?h.content=l:h.content=f,h.markup=f,h.info="escape"}return t.pos=r+1,!0}function Nk(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==96)return!1;const u=r;r++;const l=t.posMax;for(;r<l&&t.src.charCodeAt(r)===96;)r++;const f=t.src.slice(u,r),h=f.length;if(t.backticksScanned&&(t.backticks[h]||0)<=u)return e||(t.pending+=f),t.pos+=h,!0;let b=r,w;for(;(w=t.src.indexOf("`",b))!==-1;){for(b=w+1;b<l&&t.src.charCodeAt(b)===96;)b++;const x=b-w;if(x===h){if(!e){const E=t.push("code_inline","code",0);E.markup=f,E.content=t.src.slice(r,w).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=b,!0}t.backticks[x]=w}return t.backticksScanned=!0,e||(t.pending+=f),t.pos+=h,!0}function zk(t,e){const r=t.pos,s=t.src.charCodeAt(r);if(e||s!==126)return!1;const u=t.scanDelims(t.pos,!0);let l=u.length;const f=String.fromCharCode(s);if(l<2)return!1;let h;l%2&&(h=t.push("text","",0),h.content=f,l--);for(let b=0;b<l;b+=2)h=t.push("text","",0),h.content=f+f,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return t.pos+=u.length,!0}function yg(t,e){let r;const s=[],u=e.length;for(let l=0;l<u;l++){const f=e[l];if(f.marker!==126||f.end===-1)continue;const h=e[f.end];r=t.tokens[f.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=t.tokens[h.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",t.tokens[h.token-1].type==="text"&&t.tokens[h.token-1].content==="~"&&s.push(h.token-1)}for(;s.length;){const l=s.pop();let f=l+1;for(;f<t.tokens.length&&t.tokens[f].type==="s_close";)f++;f--,l!==f&&(r=t.tokens[f],t.tokens[f]=t.tokens[l],t.tokens[l]=r)}}function Ik(t){const e=t.tokens_meta,r=t.tokens_meta.length;yg(t,t.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&yg(t,e[s].delimiters)}const H0={tokenize:zk,postProcess:Ik};function Bk(t,e){const r=t.pos,s=t.src.charCodeAt(r);if(e||s!==95&&s!==42)return!1;const u=t.scanDelims(t.pos,s===42);for(let l=0;l<u.length;l++){const f=t.push("text","",0);f.content=String.fromCharCode(s),t.delimiters.push({marker:s,length:u.length,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return t.pos+=u.length,!0}function _g(t,e){const r=e.length;for(let s=r-1;s>=0;s--){const u=e[s];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const l=e[u.end],f=s>0&&e[s-1].end===u.end+1&&e[s-1].marker===u.marker&&e[s-1].token===u.token-1&&e[u.end+1].token===l.token+1,h=String.fromCharCode(u.marker),b=t.tokens[u.token];b.type=f?"strong_open":"em_open",b.tag=f?"strong":"em",b.nesting=1,b.markup=f?h+h:h,b.content="";const w=t.tokens[l.token];w.type=f?"strong_close":"em_close",w.tag=f?"strong":"em",w.nesting=-1,w.markup=f?h+h:h,w.content="",f&&(t.tokens[e[s-1].token].content="",t.tokens[e[u.end+1].token].content="",s--)}}function $k(t){const e=t.tokens_meta,r=t.tokens_meta.length;_g(t,t.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&_g(t,e[s].delimiters)}const W0={tokenize:Bk,postProcess:$k};function Hk(t,e){let r,s,u,l,f="",h="",b=t.pos,w=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const x=t.pos,E=t.posMax,N=t.pos+1,q=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(q<0)return!1;let F=q+1;if(F<E&&t.src.charCodeAt(F)===40){for(w=!1,F++;F<E&&(r=t.src.charCodeAt(F),!(!mi(r)&&r!==10));F++);if(F>=E)return!1;if(b=F,u=t.md.helpers.parseLinkDestination(t.src,F,t.posMax),u.ok){for(f=t.md.normalizeLink(u.str),t.md.validateLink(f)?F=u.pos:f="",b=F;F<E&&(r=t.src.charCodeAt(F),!(!mi(r)&&r!==10));F++);if(u=t.md.helpers.parseLinkTitle(t.src,F,t.posMax),F<E&&b!==F&&u.ok)for(h=u.str,F=u.pos;F<E&&(r=t.src.charCodeAt(F),!(!mi(r)&&r!==10));F++);}(F>=E||t.src.charCodeAt(F)!==41)&&(w=!0),F++}if(w){if(typeof t.env.references>"u")return!1;if(F<E&&t.src.charCodeAt(F)===91?(b=F+1,F=t.md.helpers.parseLinkLabel(t,F),F>=0?s=t.src.slice(b,F++):F=q+1):F=q+1,s||(s=t.src.slice(N,q)),l=t.env.references[Kh(s)],!l)return t.pos=x,!1;f=l.href,h=l.title}if(!e){t.pos=N,t.posMax=q;const j=t.push("link_open","a",1),W=[["href",f]];j.attrs=W,h&&W.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=F,t.posMax=E,!0}function Wk(t,e){let r,s,u,l,f,h,b,w,x="";const E=t.pos,N=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const q=t.pos+2,F=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(F<0)return!1;if(l=F+1,l<N&&t.src.charCodeAt(l)===40){for(l++;l<N&&(r=t.src.charCodeAt(l),!(!mi(r)&&r!==10));l++);if(l>=N)return!1;for(w=l,h=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),h.ok&&(x=t.md.normalizeLink(h.str),t.md.validateLink(x)?l=h.pos:x=""),w=l;l<N&&(r=t.src.charCodeAt(l),!(!mi(r)&&r!==10));l++);if(h=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<N&&w!==l&&h.ok)for(b=h.str,l=h.pos;l<N&&(r=t.src.charCodeAt(l),!(!mi(r)&&r!==10));l++);else b="";if(l>=N||t.src.charCodeAt(l)!==41)return t.pos=E,!1;l++}else{if(typeof t.env.references>"u")return!1;if(l<N&&t.src.charCodeAt(l)===91?(w=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?u=t.src.slice(w,l++):l=F+1):l=F+1,u||(u=t.src.slice(q,F)),f=t.env.references[Kh(u)],!f)return t.pos=E,!1;x=f.href,b=f.title}if(!e){s=t.src.slice(q,F);const j=[];t.md.inline.parse(s,t.md,t.env,j);const W=t.push("image","img",0),U=[["src",x],["alt",""]];W.attrs=U,W.children=j,W.content=s,b&&U.push(["title",b])}return t.pos=l,t.posMax=N,!0}const qk=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,jk=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Yk(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==60)return!1;const s=t.pos,u=t.posMax;for(;;){if(++r>=u)return!1;const f=t.src.charCodeAt(r);if(f===60)return!1;if(f===62)break}const l=t.src.slice(s+1,r);if(jk.test(l)){const f=t.md.normalizeLink(l);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const b=t.push("text","",0);b.content=t.md.normalizeLinkText(l);const w=t.push("link_close","a",-1);w.markup="autolink",w.info="auto"}return t.pos+=l.length+2,!0}if(qk.test(l)){const f=t.md.normalizeLink("mailto:"+l);if(!t.md.validateLink(f))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",f]],h.markup="autolink",h.info="auto";const b=t.push("text","",0);b.content=t.md.normalizeLinkText(l);const w=t.push("link_close","a",-1);w.markup="autolink",w.info="auto"}return t.pos+=l.length+2,!0}return!1}function Uk(t){return/^<a[>\s]/i.test(t)}function Zk(t){return/^<\/a\s*>/i.test(t)}function Gk(t){const e=t|32;return e>=97&&e<=122}function Xk(t,e){if(!t.md.options.html)return!1;const r=t.posMax,s=t.pos;if(t.src.charCodeAt(s)!==60||s+2>=r)return!1;const u=t.src.charCodeAt(s+1);if(u!==33&&u!==63&&u!==47&&!Gk(u))return!1;const l=t.src.slice(s).match(Ck);if(!l)return!1;if(!e){const f=t.push("html_inline","",0);f.content=l[0],Uk(f.content)&&t.linkLevel++,Zk(f.content)&&t.linkLevel--}return t.pos+=l[0].length,!0}const Vk=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Kk=/^&([a-z][a-z0-9]{1,31});/i;function Qk(t,e){const r=t.pos,s=t.posMax;if(t.src.charCodeAt(r)!==38||r+1>=s)return!1;if(t.src.charCodeAt(r+1)===35){const l=t.src.slice(r).match(Vk);if(l){if(!e){const f=l[1][0].toLowerCase()==="x"?parseInt(l[1].slice(1),16):parseInt(l[1],10),h=t.push("text_special","",0);h.content=Lp(f)?zh(f):zh(65533),h.markup=l[0],h.info="entity"}return t.pos+=l[0].length,!0}}else{const l=t.src.slice(r).match(Kk);if(l){const f=F0(l[0]);if(f!==l[0]){if(!e){const h=t.push("text_special","",0);h.content=f,h.markup=l[0],h.info="entity"}return t.pos+=l[0].length,!0}}}return!1}function xg(t){const e={},r=t.length;if(!r)return;let s=0,u=-2;const l=[];for(let f=0;f<r;f++){const h=t[f];if(l.push(0),(t[s].marker!==h.marker||u!==h.token-1)&&(s=f),u=h.token,h.length=h.length||0,!h.close)continue;e.hasOwnProperty(h.marker)||(e[h.marker]=[-1,-1,-1,-1,-1,-1]);const b=e[h.marker][(h.open?3:0)+h.length%3];let w=s-l[s]-1,x=w;for(;w>b;w-=l[w]+1){const E=t[w];if(E.marker===h.marker&&E.open&&E.end<0){let N=!1;if((E.close||h.open)&&(E.length+h.length)%3===0&&(E.length%3!==0||h.length%3!==0)&&(N=!0),!N){const q=w>0&&!t[w-1].open?l[w-1]+1:0;l[f]=f-w+q,l[w]=q,h.open=!1,E.end=f,E.close=!1,x=-1,u=-2;break}}}x!==-1&&(e[h.marker][(h.open?3:0)+(h.length||0)%3]=x)}}function Jk(t){const e=t.tokens_meta,r=t.tokens_meta.length;xg(t.delimiters);for(let s=0;s<r;s++)e[s]&&e[s].delimiters&&xg(e[s].delimiters)}function eC(t){let e,r,s=0;const u=t.tokens,l=t.tokens.length;for(e=r=0;e<l;e++)u[e].nesting<0&&s--,u[e].level=s,u[e].nesting>0&&s++,u[e].type==="text"&&e+1<l&&u[e+1].type==="text"?u[e+1].content=u[e].content+u[e+1].content:(e!==r&&(u[r]=u[e]),r++);e!==r&&(u.length=r)}const Ud=[["text",Mk],["linkify",Pk],["newline",Fk],["escape",Rk],["backticks",Nk],["strikethrough",H0.tokenize],["emphasis",W0.tokenize],["link",Hk],["image",Wk],["autolink",Yk],["html_inline",Xk],["entity",Qk]],Zd=[["balance_pairs",Jk],["strikethrough",H0.postProcess],["emphasis",W0.postProcess],["fragments_join",eC]];function pf(){this.ruler=new ko;for(let t=0;t<Ud.length;t++)this.ruler.push(Ud[t][0],Ud[t][1]);this.ruler2=new ko;for(let t=0;t<Zd.length;t++)this.ruler2.push(Zd[t][0],Zd[t][1])}pf.prototype.skipToken=function(t){const e=t.pos,r=this.ruler.getRules(""),s=r.length,u=t.md.options.maxNesting,l=t.cache;if(typeof l[e]<"u"){t.pos=l[e];return}let f=!1;if(t.level<u){for(let h=0;h<s;h++)if(t.level++,f=r[h](t,!0),t.level--,f){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;f||t.pos++,l[e]=t.pos};pf.prototype.tokenize=function(t){const e=this.ruler.getRules(""),r=e.length,s=t.posMax,u=t.md.options.maxNesting;for(;t.pos<s;){const l=t.pos;let f=!1;if(t.level<u){for(let h=0;h<r;h++)if(f=e[h](t,!1),f){if(l>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(f){if(t.pos>=s)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};pf.prototype.parse=function(t,e,r,s){const u=new this.State(t,e,r,s);this.tokenize(u);const l=this.ruler2.getRules(""),f=l.length;for(let h=0;h<f;h++)l[h](u)};pf.prototype.State=df;function tC(t){const e={};t=t||{},e.src_Any=D0.source,e.src_Cc=L0.source,e.src_Z=O0.source,e.src_P=Ap.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const r="[><]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function cp(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(s){t[s]=r[s]})}),t}function Jh(t){return Object.prototype.toString.call(t)}function nC(t){return Jh(t)==="[object String]"}function iC(t){return Jh(t)==="[object Object]"}function rC(t){return Jh(t)==="[object RegExp]"}function wg(t){return Jh(t)==="[object Function]"}function oC(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const q0={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function aC(t){return Object.keys(t||{}).reduce(function(e,r){return e||q0.hasOwnProperty(r)},!1)}const sC={"http:":{validate:function(t,e,r){const s=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(s)?s.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){const s=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(s)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:s.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){const s=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(s)?s.match(r.re.mailto)[0].length:0}}},uC="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",lC="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function cC(t){t.__index__=-1,t.__text_cache__=""}function fC(t){return function(e,r){const s=e.slice(r);return t.test(s)?s.match(t)[0].length:0}}function kg(){return function(t,e){e.normalize(t)}}function Ih(t){const e=t.re=tC(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(uC),r.push(e.src_xn),e.src_tlds=r.join("|");function s(h){return h.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const u=[];t.__compiled__={};function l(h,b){throw new Error('(LinkifyIt) Invalid schema "'+h+'": '+b)}Object.keys(t.__schemas__).forEach(function(h){const b=t.__schemas__[h];if(b===null)return;const w={validate:null,link:null};if(t.__compiled__[h]=w,iC(b)){rC(b.validate)?w.validate=fC(b.validate):wg(b.validate)?w.validate=b.validate:l(h,b),wg(b.normalize)?w.normalize=b.normalize:b.normalize?l(h,b):w.normalize=kg();return}if(nC(b)){u.push(h);return}l(h,b)}),u.forEach(function(h){t.__compiled__[t.__schemas__[h]]&&(t.__compiled__[h].validate=t.__compiled__[t.__schemas__[h]].validate,t.__compiled__[h].normalize=t.__compiled__[t.__schemas__[h]].normalize)}),t.__compiled__[""]={validate:null,normalize:kg()};const f=Object.keys(t.__compiled__).filter(function(h){return h.length>0&&t.__compiled__[h]}).map(oC).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),cC(t)}function hC(t,e){const r=t.__index__,s=t.__last_index__,u=t.__text_cache__.slice(r,s);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=s+e,this.raw=u,this.text=u,this.url=u}function fp(t,e){const r=new hC(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function qo(t,e){if(!(this instanceof qo))return new qo(t,e);e||aC(t)&&(e=t,t={}),this.__opts__=cp({},q0,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=cp({},sC,t),this.__compiled__={},this.__tlds__=lC,this.__tlds_replaced__=!1,this.re={},Ih(this)}qo.prototype.add=function(e,r){return this.__schemas__[e]=r,Ih(this),this};qo.prototype.set=function(e){return this.__opts__=cp(this.__opts__,e),this};qo.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let r,s,u,l,f,h,b,w,x;if(this.re.schema_test.test(e)){for(b=this.re.schema_search,b.lastIndex=0;(r=b.exec(e))!==null;)if(l=this.testSchemaAt(e,r[2],b.lastIndex),l){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+l;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(w=e.search(this.re.host_fuzzy_test),w>=0&&(this.__index__<0||w<this.__index__)&&(s=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(f=s.index+s[1].length,(this.__index__<0||f<this.__index__)&&(this.__schema__="",this.__index__=f,this.__last_index__=s.index+s[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(x=e.indexOf("@"),x>=0&&(u=e.match(this.re.email_fuzzy))!==null&&(f=u.index+u[1].length,h=u.index+u[0].length,(this.__index__<0||f<this.__index__||f===this.__index__&&h>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=f,this.__last_index__=h))),this.__index__>=0};qo.prototype.pretest=function(e){return this.re.pretest.test(e)};qo.prototype.testSchemaAt=function(e,r,s){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,s,this):0};qo.prototype.match=function(e){const r=[];let s=0;this.__index__>=0&&this.__text_cache__===e&&(r.push(fp(this,s)),s=this.__last_index__);let u=s?e.slice(s):e;for(;this.test(u);)r.push(fp(this,s)),u=u.slice(this.__last_index__),s+=this.__last_index__;return r.length?r:null};qo.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const r=this.re.schema_at_start.exec(e);if(!r)return null;const s=this.testSchemaAt(e,r[2],r[0].length);return s?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s,fp(this,0)):null};qo.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(s,u,l){return s!==l[u-1]}).reverse(),Ih(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Ih(this),this)};qo.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};qo.prototype.onCompile=function(){};const Kl=2147483647,os=36,Pp=1,cf=26,dC=38,pC=700,j0=72,Y0=128,U0="-",mC=/^xn--/,gC=/[^\0-\x7F]/,vC=/[\x2E\u3002\uFF0E\uFF61]/g,bC={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Gd=os-Pp,as=Math.floor,Xd=String.fromCharCode;function wu(t){throw new RangeError(bC[t])}function yC(t,e){const r=[];let s=t.length;for(;s--;)r[s]=e(t[s]);return r}function Z0(t,e){const r=t.split("@");let s="";r.length>1&&(s=r[0]+"@",t=r[1]),t=t.replace(vC,".");const u=t.split("."),l=yC(u,e).join(".");return s+l}function G0(t){const e=[];let r=0;const s=t.length;for(;r<s;){const u=t.charCodeAt(r++);if(u>=55296&&u<=56319&&r<s){const l=t.charCodeAt(r++);(l&64512)==56320?e.push(((u&1023)<<10)+(l&1023)+65536):(e.push(u),r--)}else e.push(u)}return e}const _C=t=>String.fromCodePoint(...t),xC=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:os},Cg=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},X0=function(t,e,r){let s=0;for(t=r?as(t/pC):t>>1,t+=as(t/e);t>Gd*cf>>1;s+=os)t=as(t/Gd);return as(s+(Gd+1)*t/(t+dC))},V0=function(t){const e=[],r=t.length;let s=0,u=Y0,l=j0,f=t.lastIndexOf(U0);f<0&&(f=0);for(let h=0;h<f;++h)t.charCodeAt(h)>=128&&wu("not-basic"),e.push(t.charCodeAt(h));for(let h=f>0?f+1:0;h<r;){const b=s;for(let x=1,E=os;;E+=os){h>=r&&wu("invalid-input");const N=xC(t.charCodeAt(h++));N>=os&&wu("invalid-input"),N>as((Kl-s)/x)&&wu("overflow"),s+=N*x;const q=E<=l?Pp:E>=l+cf?cf:E-l;if(N<q)break;const F=os-q;x>as(Kl/F)&&wu("overflow"),x*=F}const w=e.length+1;l=X0(s-b,w,b==0),as(s/w)>Kl-u&&wu("overflow"),u+=as(s/w),s%=w,e.splice(s++,0,u)}return String.fromCodePoint(...e)},K0=function(t){const e=[];t=G0(t);const r=t.length;let s=Y0,u=0,l=j0;for(const b of t)b<128&&e.push(Xd(b));const f=e.length;let h=f;for(f&&e.push(U0);h<r;){let b=Kl;for(const x of t)x>=s&&x<b&&(b=x);const w=h+1;b-s>as((Kl-u)/w)&&wu("overflow"),u+=(b-s)*w,s=b;for(const x of t)if(x<s&&++u>Kl&&wu("overflow"),x===s){let E=u;for(let N=os;;N+=os){const q=N<=l?Pp:N>=l+cf?cf:N-l;if(E<q)break;const F=E-q,j=os-q;e.push(Xd(Cg(q+F%j,0))),E=as(F/j)}e.push(Xd(Cg(E,0))),l=X0(u,w,h===f),u=0,++h}++u,++s}return e.join("")},wC=function(t){return Z0(t,function(e){return mC.test(e)?V0(e.slice(4).toLowerCase()):e})},kC=function(t){return Z0(t,function(e){return gC.test(e)?"xn--"+K0(e):e})},Q0={version:"2.3.1",ucs2:{decode:G0,encode:_C},decode:V0,encode:K0,toASCII:kC,toUnicode:wC},CC={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},EC={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},SC={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},TC={default:CC,zero:EC,commonmark:SC},AC=/^(vbscript|javascript|file|data):/,DC=/^data:image\/(gif|png|jpeg|webp);/;function LC(t){const e=t.trim().toLowerCase();return AC.test(e)?DC.test(e):!0}const J0=["http:","https:","mailto:"];function MC(t){const e=Tp(t,!0);if(e.hostname&&(!e.protocol||J0.indexOf(e.protocol)>=0))try{e.hostname=Q0.toASCII(e.hostname)}catch{}return hf(Sp(e))}function OC(t){const e=Tp(t,!0);if(e.hostname&&(!e.protocol||J0.indexOf(e.protocol)>=0))try{e.hostname=Q0.toUnicode(e.hostname)}catch{}return Jl(Sp(e),Jl.defaultChars+"%")}function da(t,e){if(!(this instanceof da))return new da(t,e);e||Dp(t)||(e=t||{},t="default"),this.inline=new pf,this.block=new Qh,this.core=new Mp,this.renderer=new sc,this.linkify=new qo,this.validateLink=LC,this.normalizeLink=MC,this.normalizeLinkText=OC,this.utils=Fw,this.helpers=Vh({},Iw),this.options={},this.configure(t),e&&this.set(e)}da.prototype.set=function(t){return Vh(this.options,t),this};da.prototype.configure=function(t){const e=this;if(Dp(t)){const r=t;if(t=TC[r],!t)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};da.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){r=r.concat(this[u].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));const s=t.filter(function(u){return r.indexOf(u)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this};da.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){r=r.concat(this[u].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));const s=t.filter(function(u){return r.indexOf(u)<0});if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this};da.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};da.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};da.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};da.prototype.parseInline=function(t,e){const r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};da.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function PC(t,e,r,s){const u=Number(t[e].meta.id+1).toString();let l="";return typeof s.docId=="string"&&(l=`-${s.docId}-`),l+u}function FC(t,e){let r=Number(t[e].meta.id+1).toString();return t[e].meta.subId>0&&(r+=`:${t[e].meta.subId}`),`[${r}]`}function RC(t,e,r,s,u){const l=u.rules.footnote_anchor_name(t,e,r,s,u),f=u.rules.footnote_caption(t,e,r,s,u);let h=l;return t[e].meta.subId>0&&(h+=`:${t[e].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${l}" id="fnref${h}">${f}</a></sup>`}function NC(t,e,r){return(r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function zC(){return`</ol>
</section>
`}function IC(t,e,r,s,u){let l=u.rules.footnote_anchor_name(t,e,r,s,u);return t[e].meta.subId>0&&(l+=`:${t[e].meta.subId}`),`<li id="fn${l}" class="footnote-item">`}function BC(){return`</li>
`}function $C(t,e,r,s,u){let l=u.rules.footnote_anchor_name(t,e,r,s,u);return t[e].meta.subId>0&&(l+=`:${t[e].meta.subId}`),` <a href="#fnref${l}" class="footnote-backref"></a>`}function HC(t){const e=t.helpers.parseLinkLabel,r=t.utils.isSpace;t.renderer.rules.footnote_ref=RC,t.renderer.rules.footnote_block_open=NC,t.renderer.rules.footnote_block_close=zC,t.renderer.rules.footnote_open=IC,t.renderer.rules.footnote_close=BC,t.renderer.rules.footnote_anchor=$C,t.renderer.rules.footnote_caption=FC,t.renderer.rules.footnote_anchor_name=PC;function s(h,b,w,x){const E=h.bMarks[b]+h.tShift[b],N=h.eMarks[b];if(E+4>N||h.src.charCodeAt(E)!==91||h.src.charCodeAt(E+1)!==94)return!1;let q;for(q=E+2;q<N;q++){if(h.src.charCodeAt(q)===32)return!1;if(h.src.charCodeAt(q)===93)break}if(q===E+2||q+1>=N||h.src.charCodeAt(++q)!==58)return!1;if(x)return!0;q++,h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.refs||(h.env.footnotes.refs={});const F=h.src.slice(E+2,q-2);h.env.footnotes.refs[`:${F}`]=-1;const j=new h.Token("footnote_reference_open","",1);j.meta={label:F},j.level=h.level++,h.tokens.push(j);const W=h.bMarks[b],U=h.tShift[b],T=h.sCount[b],D=h.parentType,B=q,I=h.sCount[b]+q-(h.bMarks[b]+h.tShift[b]);let V=I;for(;q<N;){const oe=h.src.charCodeAt(q);if(r(oe))oe===9?V+=4-V%4:V++;else break;q++}h.tShift[b]=q-B,h.sCount[b]=V-I,h.bMarks[b]=B,h.blkIndent+=4,h.parentType="footnote",h.sCount[b]<h.blkIndent&&(h.sCount[b]+=h.blkIndent),h.md.block.tokenize(h,b,w,!0),h.parentType=D,h.blkIndent-=4,h.tShift[b]=U,h.sCount[b]=T,h.bMarks[b]=W;const te=new h.Token("footnote_reference_close","",-1);return te.level=--h.level,h.tokens.push(te),!0}function u(h,b){const w=h.posMax,x=h.pos;if(x+2>=w||h.src.charCodeAt(x)!==94||h.src.charCodeAt(x+1)!==91)return!1;const E=x+2,N=e(h,x+1);if(N<0)return!1;if(!b){h.env.footnotes||(h.env.footnotes={}),h.env.footnotes.list||(h.env.footnotes.list=[]);const q=h.env.footnotes.list.length,F=[];h.md.inline.parse(h.src.slice(E,N),h.md,h.env,F);const j=h.push("footnote_ref","",0);j.meta={id:q},h.env.footnotes.list[q]={content:h.src.slice(E,N),tokens:F}}return h.pos=N+1,h.posMax=w,!0}function l(h,b){const w=h.posMax,x=h.pos;if(x+3>w||!h.env.footnotes||!h.env.footnotes.refs||h.src.charCodeAt(x)!==91||h.src.charCodeAt(x+1)!==94)return!1;let E;for(E=x+2;E<w;E++){if(h.src.charCodeAt(E)===32||h.src.charCodeAt(E)===10)return!1;if(h.src.charCodeAt(E)===93)break}if(E===x+2||E>=w)return!1;E++;const N=h.src.slice(x+2,E-1);if(typeof h.env.footnotes.refs[`:${N}`]>"u")return!1;if(!b){h.env.footnotes.list||(h.env.footnotes.list=[]);let q;h.env.footnotes.refs[`:${N}`]<0?(q=h.env.footnotes.list.length,h.env.footnotes.list[q]={label:N,count:0},h.env.footnotes.refs[`:${N}`]=q):q=h.env.footnotes.refs[`:${N}`];const F=h.env.footnotes.list[q].count;h.env.footnotes.list[q].count++;const j=h.push("footnote_ref","",0);j.meta={id:q,subId:F,label:N}}return h.pos=E,h.posMax=w,!0}function f(h){let b,w,x,E=!1;const N={};if(!h.env.footnotes||(h.tokens=h.tokens.filter(function(F){return F.type==="footnote_reference_open"?(E=!0,w=[],x=F.meta.label,!1):F.type==="footnote_reference_close"?(E=!1,N[":"+x]=w,!1):(E&&w.push(F),!E)}),!h.env.footnotes.list))return;const q=h.env.footnotes.list;h.tokens.push(new h.Token("footnote_block_open","",1));for(let F=0,j=q.length;F<j;F++){const W=new h.Token("footnote_open","",1);if(W.meta={id:F,label:q[F].label},h.tokens.push(W),q[F].tokens){b=[];const D=new h.Token("paragraph_open","p",1);D.block=!0,b.push(D);const B=new h.Token("inline","",0);B.children=q[F].tokens,B.content=q[F].content,b.push(B);const I=new h.Token("paragraph_close","p",-1);I.block=!0,b.push(I)}else q[F].label&&(b=N[`:${q[F].label}`]);b&&(h.tokens=h.tokens.concat(b));let U;h.tokens[h.tokens.length-1].type==="paragraph_close"?U=h.tokens.pop():U=null;const T=q[F].count>0?q[F].count:1;for(let D=0;D<T;D++){const B=new h.Token("footnote_anchor","",0);B.meta={id:F,subId:D,label:q[F].label},h.tokens.push(B)}U&&h.tokens.push(U),h.tokens.push(new h.Token("footnote_close","",-1))}h.tokens.push(new h.Token("footnote_block_close","",-1))}t.block.ruler.before("reference","footnote_def",s,{alt:["paragraph","reference"]}),t.inline.ruler.after("image","footnote_inline",u),t.inline.ruler.after("footnote_inline","footnote_ref",l),t.core.ruler.after("inline","footnote_tail",f)}class WC{constructor(e,r){this.markdownit=new da,this.markdownit.use(HC),this.textarea=e,this.usePreview=!1,this.editor=window.CodeMirror.fromTextArea(this.textarea,{mode:"gfm",lineNumbers:!1,tabSize:4,styleActiveLine:!0,indentWithTabs:!1,lineWrapping:!0,viewportMargin:1/0,enterMode:"keep",direction:this.textarea.hasAttribute("dir")&&this.textarea.getAttribute("dir")==="rtl"?"rtl":"ltr",readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled"}),this.editor.addKeyMap({"Ctrl-B":s=>{s.replaceSelections(this.boldSelections())},"Ctrl-I":s=>{s.replaceSelections(this.italicSelections())},"Cmd-B":s=>{s.replaceSelections(this.boldSelections())},"Cmd-I":s=>{s.replaceSelections(this.italicSelections())}}),this.cont=this.textarea.closest(".uk-form-row"),this.parentForm=this.textarea.closest("form"),this.index=r,this.buttonCode=null,this.buttonPreview=null,this.buttonTranslateAssistant=null,this.buttonTranslateAssistantRephrase=null,this.buttonFullscreen=null,this.count=null,this.countCurrent=null,this.limit=0,this.countMinLimit=0,this.countMaxLimit=0,this.countMaxLimitText=null,this.countAlertActive=!1,this.fullscreenActive=!1,this.closePreview=this.closePreview.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.onDropFile=this.onDropFile.bind(this),this.buttonPreviewClick=this.buttonPreviewClick.bind(this),this.buttonClick=this.buttonClick.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.buttonTranslateAssistantClick=this.buttonTranslateAssistantClick.bind(this),this.buttonTranslateAssistantRephraseClick=this.buttonTranslateAssistantRephraseClick.bind(this),this.init()}init(){if(this.editor.on("change",this.textareaChange),!this.cont||!this.textarea)return;this.$editor=this.cont.querySelector(".CodeMirror"),this.cont.classList.add("markdown-editor"),this.editor.getOption("readOnly")===!0&&this.cont.classList.add("markdown-editor__disabled"),this.buttons=this.cont.querySelectorAll("[data-markdowneditor-button]"),this.content=this.cont.querySelectorAll(".markdown-editor-content"),this.buttonCode=this.cont.querySelectorAll(".markdown-editor-button-code"),this.buttonPreview=this.cont.querySelectorAll(".markdown-editor-button-preview"),this.buttonFullscreen=this.cont.querySelectorAll(".markdown-editor-button-fullscreen"),this.count=this.cont.querySelectorAll(".markdown-editor-count"),this.countCurrent=this.cont.querySelectorAll(".count-current"),this.countMaxLimitText=this.cont.querySelectorAll(".count-limit"),this.buttonTranslateAssistant=this.cont.querySelectorAll(".markdown-editor-button-translate-assistant-translate"),this.buttonTranslateAssistantRephrase=this.cont.querySelectorAll(".markdown-editor-button-translate-assistant-rephrase"),this.cont.querySelectorAll(".markdown-editor-button-code").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-preview").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown-editor-button-fullscreen").forEach(h=>{h.setAttribute("data-index",this.index)}),this.cont.querySelectorAll(".markdown_textarea").forEach(h=>{h.setAttribute("data-index",this.index)}),this.$editor.setAttribute("data-index",this.index),this.buttonTranslateAssistant.forEach(h=>{h.setAttribute("data-index",this.index)}),this.buttonTranslateAssistantRephrase.forEach(h=>{h.setAttribute("data-index",this.index)});const l=document.createElement("div");l.classList.add("markdown-editor-tabs"),this.$editor.before(l),this.tabs=l,this.previewContainer=document.getElementById("codemirror-preview-containers");const f=document.createElement("div");f.classList.add("markdown-editor-preview"),this.$editor.after(f),this.preview=f,this.tabs.append(this.$editor),this.previewContainer.append(this.preview),this.editor.refresh(),this.textarea.hasAttribute("data-max-length")&&this.textarea.getAttribute("data-max-length")!==""&&(this.limit=!0,this.countMaxLimit=parseInt(this.textarea.getAttribute("data-max-length")),this.countCurrent.length&&this.countMaxLimitText.length&&this.count.length&&(this.countCurrent[0].innerHTML=ch(this.editor.getValue()).length,this.countMaxLimitText[0].innerHTML=this.textarea.getAttribute("data-max-length"),this.count[0].style.display="block")),this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")!==""&&(this.limit=!0,this.countMinLimit=parseInt(this.textarea.getAttribute("data-min-length"))),this.textarea.hasAttribute("data-max-length")&&this.textarea.hasAttribute("data-min-length")&&this.textarea.getAttribute("data-min-length")===""&&this.textarea.getAttribute("data-max-length")===""&&(this.limit=!1,this.countMaxLimit=null,this.countAlertActive=null),this.fullscreenActive=!1,this.limit&&(ch(this.editor.getValue()).length>this.countMaxLimit?(this.countAlertActive=!0,ag(this.cont,"content-limit")):ch(this.editor.getValue()).length<this.countMinLimit?(this.countAlertActive=!0,ag(this.cont,"content-limit")):this.countAlertActive=!1),this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),this.editor.on("drop",this.onDropFile),this.buttonPreview.forEach(h=>{h.addEventListener("click",this.buttonPreviewClick)}),this.buttonTranslateAssistant.forEach(h=>{h.addEventListener("click",this.buttonTranslateAssistantClick)}),this.buttonTranslateAssistantRephrase.forEach(h=>{h.addEventListener("click",this.buttonTranslateAssistantRephraseClick)}),this.buttons.forEach(h=>{h.addEventListener("click",this.buttonClick)}),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(h=>{h.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()})}async onDropFile(e,r){r.preventDefault(r);for(let s=0;s<r.dataTransfer.files.length;s++){window.dispatchEvent(new CustomEvent("requestLoaderShow"));let u=r.dataTransfer.files[s],l=new FormData;l.append("_token",window.RozierConfig.ajaxToken),l.append("form[attachment]",u);const f=await fetch(window.RozierConfig.routes.documentsUploadPage,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:l});if(f.ok){const h=await f.json();await window.Rozier.getMessages(),this.onDropFileUploaded(e,h)}else{const h=await f.json();h.errors&&window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:h.message,status:"danger"}}))}}}onDropFileUploaded(e,r){if(window.dispatchEvent(new CustomEvent("requestLoaderHide")),r.success===!0){let s="!["+r.document.name+"]("+r.document.url+")";e.replaceSelection(s)}}forceEditorUpdate(){this.editor.refresh(),this.usePreview&&(this.preview.innerHTML=this.markdownit.render(this.editor.getValue()))}buttonClick(e){if(this.editor.getOption("readOnly")===!0)return!1;let r=e.currentTarget,s=this.editor.getSelections();if(s.length>0){switch(r.getAttribute("data-markdowneditor-button")){case"nbsp":this.editor.replaceSelections(this.nbspSelections(s));break;case"nb-hyphen":this.editor.replaceSelections(this.nbHyphenSelections(s));break;case"listUl":this.editor.replaceSelections(this.listUlSelections(s));break;case"link":this.editor.replaceSelections(this.linkSelections(s));break;case"image":this.editor.replaceSelections(this.imageSelections(s));break;case"bold":this.editor.replaceSelections(this.boldSelections(s));break;case"italic":this.editor.replaceSelections(this.italicSelections(s));break;case"blockquote":this.editor.replaceSelections(this.blockquoteSelections(s));break;case"h2":this.editor.replaceSelections(this.h2Selections(s));break;case"h3":this.editor.replaceSelections(this.h3Selections(s));break;case"h4":this.editor.replaceSelections(this.h4Selections(s));break;case"h5":this.editor.replaceSelections(this.h5Selections(s));break;case"h6":this.editor.replaceSelections(this.h6Selections(s));break;case"back":this.editor.replaceSelections(this.backSelections(s));break;case"hr":this.editor.replaceSelections(this.hrSelections(s));break}this.editor.focus()}}backSelections(e){for(let r in e)e[r]=`   
`;return e}hrSelections(e){for(let r in e)e[r]=`

---

`;return e}nbspSelections(e){for(let r in e)e[r]="";return e}nbHyphenSelections(e){for(let r in e)e[r]="";return e}listUlSelections(e){for(let r in e)e[r]=`

* `+e[r]+`

`;return e}linkSelections(e){for(let r in e)e[r]="["+e[r]+"](http://)";return e}imageSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="!["+e[r]+"](/files/)";return e}boldSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="**"+e[r]+"**";return e}italicSelections(e){e||(e=this.editor.getSelections());for(let r in e)e[r]="*"+e[r]+"*";return e}h2Selections(e){for(let r in e)e[r]=`
## `+e[r]+`
`;return e}h3Selections(e){for(let r in e)e[r]=`
### `+e[r]+`
`;return e}h4Selections(e){for(let r in e)e[r]=`
#### `+e[r]+`
`;return e}h5Selections(e){for(let r in e)e[r]=`
##### `+e[r]+`
`;return e}h6Selections(e){for(let r in e)e[r]=`
###### `+e[r]+`
`;return e}blockquoteSelections(e){for(let r in e)e[r]=`
> `+e[r]+`
`;return e}textareaChange(){this.editor.save(),this.usePreview&&(window.cancelAnimationFrame(this.refreshPreviewTimeout),this.refreshPreviewTimeout=window.requestAnimationFrame(()=>{this.preview.innerHTML=this.markdownit.render(this.editor.getValue())})),this.limit&&window.requestAnimationFrame(()=>{let e=this.editor.getValue(),s=ch(e).length;this.countCurrent[0].innerHTML=s,s>this.countMaxLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):s<this.countMinLimit?this.countAlertActive||(this.cont.classList.add("content-limit"),this.countAlertActive=!0):this.countAlertActive&&(this.cont.classList.remove("content-limit"),this.countAlertActive=!1)})}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}buttonPreviewClick(e){e.preventDefault(),this.usePreview?this.closePreview():(this.usePreview=!0,this.buttonPreview.forEach(r=>{r.classList.add("uk-active","active")}),this.preview.classList.add("active"),this.forceEditorUpdate(),window.addEventListener("keyup",this.closePreview),document.body.dispatchEvent(new CustomEvent("markdownPreviewOpen",{detail:this})))}closePreview(e){if(e)if(e.keyCode===27)e.preventDefault();else return;window.removeEventListener("keyup",this.closePreview),this.usePreview=!1,this.buttonPreview.forEach(r=>{r.classList.remove("uk-active","active")}),this.preview.classList.remove("active")}destroy(){this.preview.remove()}resize(){}async buttonTranslateAssistantClick(e){e.preventDefault();const r=this.editor.getValue(),s=e.currentTarget.getAttribute("data-translate-locale"),u=e.currentTarget.getAttribute("data-translate-path");if(!u||!r||r.length===0)return;const l=await fetch(u,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({text:r,targetLang:s})});if(!l.ok)throw new Error(`Response status: ${l.status}`);const f=await l.json();this.editor.setValue(f.translatedText)}async buttonTranslateAssistantRephraseClick(e){e.preventDefault();const r=this.editor.getValue(),s=e.currentTarget.getAttribute("data-translate-locale"),u=e.currentTarget.getAttribute("data-translate-path");if(!u||!r||r.length===0)return;const l=await fetch(u,{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({text:r,targetLang:s})});if(!l.ok)throw new Error(`Response status: ${l.status}`);const f=await l.json();this.editor.setValue(f.translatedText)}}class qC{constructor(e){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let r={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(r.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,r),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class jC{constructor(e){this.textarea=e,this.cont=this.textarea.closest(".uk-form-row"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let r={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:s=>s.execCommand("indentMore"),"Shift-Tab":s=>s.execCommand("indentLess")}};this.settingRow&&(r.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,r),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}var Gc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var YC=Gc.exports,Eg;function UC(){return Eg||(Eg=1,(function(t,e){(function(r,s){s(e)})(YC,(function(r){var s="1.9.4";function u(o){var m,_,A,H;for(_=1,A=arguments.length;_<A;_++){H=arguments[_];for(m in H)o[m]=H[m]}return o}var l=Object.create||(function(){function o(){}return function(m){return o.prototype=m,new o}})();function f(o,m){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var A=_.call(arguments,2);return function(){return o.apply(m,A.length?A.concat(_.call(arguments)):arguments)}}var h=0;function b(o){return"_leaflet_id"in o||(o._leaflet_id=++h),o._leaflet_id}function w(o,m,_){var A,H,ne,ke;return ke=function(){A=!1,H&&(ne.apply(_,H),H=!1)},ne=function(){A?H=arguments:(o.apply(_,arguments),setTimeout(ke,m),A=!0)},ne}function x(o,m,_){var A=m[1],H=m[0],ne=A-H;return o===A&&_?o:((o-H)%ne+ne)%ne+H}function E(){return!1}function N(o,m){if(m===!1)return o;var _=Math.pow(10,m===void 0?6:m);return Math.round(o*_)/_}function q(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function F(o){return q(o).split(/\s+/)}function j(o,m){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var _ in m)o.options[_]=m[_];return o.options}function W(o,m,_){var A=[];for(var H in o)A.push(encodeURIComponent(_?H.toUpperCase():H)+"="+encodeURIComponent(o[H]));return(!m||m.indexOf("?")===-1?"?":"&")+A.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function T(o,m){return o.replace(U,function(_,A){var H=m[A];if(H===void 0)throw new Error("No value provided for variable "+_);return typeof H=="function"&&(H=H(m)),H})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function B(o,m){for(var _=0;_<o.length;_++)if(o[_]===m)return _;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var te=0;function oe(o){var m=+new Date,_=Math.max(0,16-(m-te));return te=m+_,window.setTimeout(o,_)}var ce=window.requestAnimationFrame||V("RequestAnimationFrame")||oe,fe=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ue(o,m,_){if(_&&ce===oe)o.call(m);else return ce.call(window,f(o,m))}function Te(o){o&&fe.call(window,o)}var pe={__proto__:null,extend:u,create:l,bind:f,get lastId(){return h},stamp:b,throttle:w,wrapNum:x,falseFn:E,formatNum:N,trim:q,splitWords:F,setOptions:j,getParamString:W,template:T,isArray:D,indexOf:B,emptyImageUrl:I,requestFn:ce,cancelFn:fe,requestAnimFrame:ue,cancelAnimFrame:Te};function ie(){}ie.extend=function(o){var m=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=m.__super__=this.prototype,A=l(_);A.constructor=m,m.prototype=A;for(var H in this)Object.prototype.hasOwnProperty.call(this,H)&&H!=="prototype"&&H!=="__super__"&&(m[H]=this[H]);return o.statics&&u(m,o.statics),o.includes&&(O(o.includes),u.apply(null,[A].concat(o.includes))),u(A,o),delete A.statics,delete A.includes,A.options&&(A.options=_.options?l(_.options):{},u(A.options,o.options)),A._initHooks=[],A.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var ne=0,ke=A._initHooks.length;ne<ke;ne++)A._initHooks[ne].call(this)}},m},ie.include=function(o){var m=this.prototype.options;return u(this.prototype,o),o.options&&(this.prototype.options=m,this.mergeOptions(o.options)),this},ie.mergeOptions=function(o){return u(this.prototype.options,o),this},ie.addInitHook=function(o){var m=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function O(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var m=0;m<o.length;m++)o[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(o,m,_){if(typeof o=="object")for(var A in o)this._on(A,o[A],m);else{o=F(o);for(var H=0,ne=o.length;H<ne;H++)this._on(o[H],m,_)}return this},off:function(o,m,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var A in o)this._off(A,o[A],m);else{o=F(o);for(var H=arguments.length===1,ne=0,ke=o.length;ne<ke;ne++)H?this._off(o[ne]):this._off(o[ne],m,_)}return this},_on:function(o,m,_,A){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(o,m,_)===!1){_===this&&(_=void 0);var H={fn:m,ctx:_};A&&(H.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(H)}},_off:function(o,m,_){var A,H,ne;if(this._events&&(A=this._events[o],!!A)){if(arguments.length===1){if(this._firingCount)for(H=0,ne=A.length;H<ne;H++)A[H].fn=E;delete this._events[o];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var ke=this._listens(o,m,_);if(ke!==!1){var ze=A[ke];this._firingCount&&(ze.fn=E,this._events[o]=A=A.slice()),A.splice(ke,1)}}},fire:function(o,m,_){if(!this.listens(o,_))return this;var A=u({},m,{type:o,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var H=this._events[o];if(H){this._firingCount=this._firingCount+1||1;for(var ne=0,ke=H.length;ne<ke;ne++){var ze=H[ne],He=ze.fn;ze.once&&this.off(o,He,ze.ctx),He.call(ze.ctx||this,A)}this._firingCount--}}return _&&this._propagateEvent(A),this},listens:function(o,m,_,A){typeof o!="string"&&console.warn('"string" type argument expected');var H=m;typeof m!="function"&&(A=!!m,H=void 0,_=void 0);var ne=this._events&&this._events[o];if(ne&&ne.length&&this._listens(o,H,_)!==!1)return!0;if(A){for(var ke in this._eventParents)if(this._eventParents[ke].listens(o,m,_,A))return!0}return!1},_listens:function(o,m,_){if(!this._events)return!1;var A=this._events[o]||[];if(!m)return!!A.length;_===this&&(_=void 0);for(var H=0,ne=A.length;H<ne;H++)if(A[H].fn===m&&A[H].ctx===_)return H;return!1},once:function(o,m,_){if(typeof o=="object")for(var A in o)this._on(A,o[A],m,!0);else{o=F(o);for(var H=0,ne=o.length;H<ne;H++)this._on(o[H],m,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[b(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[b(o)],this},_propagateEvent:function(o){for(var m in this._eventParents)this._eventParents[m].fire(o.type,u({layer:o.target,propagatedFrom:o.target},o),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var me=ie.extend(ae);function _e(o,m,_){this.x=_?Math.round(o):o,this.y=_?Math.round(m):m}var Ve=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(o){return this.clone()._add(Fe(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Fe(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new _e(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new _e(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ve(this.x),this.y=Ve(this.y),this},distanceTo:function(o){o=Fe(o);var m=o.x-this.x,_=o.y-this.y;return Math.sqrt(m*m+_*_)},equals:function(o){return o=Fe(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Fe(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function Fe(o,m,_){return o instanceof _e?o:D(o)?new _e(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new _e(o.x,o.y):new _e(o,m,_)}function Ee(o,m){if(o)for(var _=m?[o,m]:o,A=0,H=_.length;A<H;A++)this.extend(_[A])}Ee.prototype={extend:function(o){var m,_;if(!o)return this;if(o instanceof _e||typeof o[0]=="number"||"x"in o)m=_=Fe(o);else if(o=J(o),m=o.min,_=o.max,!m||!_)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=_.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return Fe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Fe(this.min.x,this.max.y)},getTopRight:function(){return Fe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var m,_;return typeof o[0]=="number"||o instanceof _e?o=Fe(o):o=J(o),o instanceof Ee?(m=o.min,_=o.max):m=_=o,m.x>=this.min.x&&_.x<=this.max.x&&m.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=J(o);var m=this.min,_=this.max,A=o.min,H=o.max,ne=H.x>=m.x&&A.x<=_.x,ke=H.y>=m.y&&A.y<=_.y;return ne&&ke},overlaps:function(o){o=J(o);var m=this.min,_=this.max,A=o.min,H=o.max,ne=H.x>m.x&&A.x<_.x,ke=H.y>m.y&&A.y<_.y;return ne&&ke},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var m=this.min,_=this.max,A=Math.abs(m.x-_.x)*o,H=Math.abs(m.y-_.y)*o;return J(Fe(m.x-A,m.y-H),Fe(_.x+A,_.y+H))},equals:function(o){return o?(o=J(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function J(o,m){return!o||o instanceof Ee?o:new Ee(o,m)}function Y(o,m){if(o)for(var _=m?[o,m]:o,A=0,H=_.length;A<H;A++)this.extend(_[A])}Y.prototype={extend:function(o){var m=this._southWest,_=this._northEast,A,H;if(o instanceof Me)A=o,H=o;else if(o instanceof Y){if(A=o._southWest,H=o._northEast,!A||!H)return this}else return o?this.extend(G(o)||Ce(o)):this;return!m&&!_?(this._southWest=new Me(A.lat,A.lng),this._northEast=new Me(H.lat,H.lng)):(m.lat=Math.min(A.lat,m.lat),m.lng=Math.min(A.lng,m.lng),_.lat=Math.max(H.lat,_.lat),_.lng=Math.max(H.lng,_.lng)),this},pad:function(o){var m=this._southWest,_=this._northEast,A=Math.abs(m.lat-_.lat)*o,H=Math.abs(m.lng-_.lng)*o;return new Y(new Me(m.lat-A,m.lng-H),new Me(_.lat+A,_.lng+H))},getCenter:function(){return new Me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Me(this.getNorth(),this.getWest())},getSouthEast:function(){return new Me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Me||"lat"in o?o=G(o):o=Ce(o);var m=this._southWest,_=this._northEast,A,H;return o instanceof Y?(A=o.getSouthWest(),H=o.getNorthEast()):A=H=o,A.lat>=m.lat&&H.lat<=_.lat&&A.lng>=m.lng&&H.lng<=_.lng},intersects:function(o){o=Ce(o);var m=this._southWest,_=this._northEast,A=o.getSouthWest(),H=o.getNorthEast(),ne=H.lat>=m.lat&&A.lat<=_.lat,ke=H.lng>=m.lng&&A.lng<=_.lng;return ne&&ke},overlaps:function(o){o=Ce(o);var m=this._southWest,_=this._northEast,A=o.getSouthWest(),H=o.getNorthEast(),ne=H.lat>m.lat&&A.lat<_.lat,ke=H.lng>m.lng&&A.lng<_.lng;return ne&&ke},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,m){return o?(o=Ce(o),this._southWest.equals(o.getSouthWest(),m)&&this._northEast.equals(o.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(o,m){return o instanceof Y?o:new Y(o,m)}function Me(o,m,_){if(isNaN(o)||isNaN(m))throw new Error("Invalid LatLng object: ("+o+", "+m+")");this.lat=+o,this.lng=+m,_!==void 0&&(this.alt=+_)}Me.prototype={equals:function(o,m){if(!o)return!1;o=G(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(m===void 0?1e-9:m)},toString:function(o){return"LatLng("+N(this.lat,o)+", "+N(this.lng,o)+")"},distanceTo:function(o){return we.distance(this,G(o))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(o){var m=180*o/40075017,_=m/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-m,this.lng-_],[this.lat+m,this.lng+_])},clone:function(){return new Me(this.lat,this.lng,this.alt)}};function G(o,m,_){return o instanceof Me?o:D(o)&&typeof o[0]!="object"?o.length===3?new Me(o[0],o[1],o[2]):o.length===2?new Me(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Me(o.lat,"lng"in o?o.lng:o.lon,o.alt):m===void 0?null:new Me(o,m,_)}var ge={latLngToPoint:function(o,m){var _=this.projection.project(o),A=this.scale(m);return this.transformation._transform(_,A)},pointToLatLng:function(o,m){var _=this.scale(m),A=this.transformation.untransform(o,_);return this.projection.unproject(A)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var m=this.projection.bounds,_=this.scale(o),A=this.transformation.transform(m.min,_),H=this.transformation.transform(m.max,_);return new Ee(A,H)},infinite:!1,wrapLatLng:function(o){var m=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,A=o.alt;return new Me(_,m,A)},wrapLatLngBounds:function(o){var m=o.getCenter(),_=this.wrapLatLng(m),A=m.lat-_.lat,H=m.lng-_.lng;if(A===0&&H===0)return o;var ne=o.getSouthWest(),ke=o.getNorthEast(),ze=new Me(ne.lat-A,ne.lng-H),He=new Me(ke.lat-A,ke.lng-H);return new Y(ze,He)}},we=u({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(o,m){var _=Math.PI/180,A=o.lat*_,H=m.lat*_,ne=Math.sin((m.lat-o.lat)*_/2),ke=Math.sin((m.lng-o.lng)*_/2),ze=ne*ne+Math.cos(A)*Math.cos(H)*ke*ke,He=2*Math.atan2(Math.sqrt(ze),Math.sqrt(1-ze));return this.R*He}}),Ie=6378137,Ye={R:Ie,MAX_LATITUDE:85.0511287798,project:function(o){var m=Math.PI/180,_=this.MAX_LATITUDE,A=Math.max(Math.min(_,o.lat),-_),H=Math.sin(A*m);return new _e(this.R*o.lng*m,this.R*Math.log((1+H)/(1-H))/2)},unproject:function(o){var m=180/Math.PI;return new Me((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*m,o.x*m/this.R)},bounds:(function(){var o=Ie*Math.PI;return new Ee([-o,-o],[o,o])})()};function Ge(o,m,_,A){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=m,this._c=_,this._d=A}Ge.prototype={transform:function(o,m){return this._transform(o.clone(),m)},_transform:function(o,m){return m=m||1,o.x=m*(this._a*o.x+this._b),o.y=m*(this._c*o.y+this._d),o},untransform:function(o,m){return m=m||1,new _e((o.x/m-this._b)/this._a,(o.y/m-this._d)/this._c)}};function st(o,m,_,A){return new Ge(o,m,_,A)}var wt=u({},we,{code:"EPSG:3857",projection:Ye,transformation:(function(){var o=.5/(Math.PI*Ye.R);return st(o,.5,-o,.5)})()}),kt=u({},wt,{code:"EPSG:900913"});function Dt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function mt(o,m){var _="",A,H,ne,ke,ze,He;for(A=0,ne=o.length;A<ne;A++){for(ze=o[A],H=0,ke=ze.length;H<ke;H++)He=ze[H],_+=(H?"L":"M")+He.x+" "+He.y;_+=m?bt.svg?"z":"x":""}return _||"M0 0"}var Mt=document.documentElement.style,Ut="ActiveXObject"in window,hn=Ut&&!document.addEventListener,vt="msLaunchUri"in navigator&&!("documentMode"in document),Ot=Xn("webkit"),Le=Xn("android"),nt=Xn("android 2")||Xn("android 3"),qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jt=Le&&Xn("Google")&&qe<537&&!("AudioNode"in window),ii=!!window.opera,li=!vt&&Xn("chrome"),qi=Xn("gecko")&&!Ot&&!ii&&!Ut,gi=!li&&Xn("safari"),xn=Xn("phantom"),vi="OTransition"in Mt,Gn=navigator.platform.indexOf("Win")===0,Mi=Ut&&"transition"in Mt,Yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,Tt="MozPerspective"in Mt,Rr=!window.L_DISABLE_3D&&(Mi||Yn||Tt)&&!vi&&!xn,Zt=typeof orientation<"u"||Xn("mobile"),ji=Zt&&Ot,Pt=Zt&&Yn,oi=!window.PointerEvent&&window.MSPointerEvent,vn=!!(window.PointerEvent||oi),Dn="ontouchstart"in window||!!window.TouchEvent,an=!window.L_NO_TOUCH&&(Dn||vn),ln=Zt&&ii,et=Zt&&qi,We=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,at=(function(){var o=!1;try{var m=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,m),window.removeEventListener("testPassiveEventSupport",E,m)}catch{}return o})(),Bt=(function(){return!!document.createElement("canvas").getContext})(),_t=!!(document.createElementNS&&Dt("svg").createSVGRect),sn=!!_t&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),At=!_t&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var m=o.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Ht=navigator.platform.indexOf("Mac")===0,Tn=navigator.platform.indexOf("Linux")===0;function Xn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var bt={ie:Ut,ielt9:hn,edge:vt,webkit:Ot,android:Le,android23:nt,androidStock:jt,opera:ii,chrome:li,gecko:qi,safari:gi,phantom:xn,opera12:vi,win:Gn,ie3d:Mi,webkit3d:Yn,gecko3d:Tt,any3d:Rr,mobile:Zt,mobileWebkit:ji,mobileWebkit3d:Pt,msPointer:oi,pointer:vn,touch:an,touchNative:Dn,mobileOpera:ln,mobileGecko:et,retina:We,passiveEvents:at,canvas:Bt,svg:_t,vml:At,inlineSvg:sn,mac:Ht,linux:Tn},Hn=bt.msPointer?"MSPointerDown":"pointerdown",Yt=bt.msPointer?"MSPointerMove":"pointermove",dn=bt.msPointer?"MSPointerUp":"pointerup",Cn=bt.msPointer?"MSPointerCancel":"pointercancel",Jn={touchstart:Hn,touchmove:Yt,touchend:dn,touchcancel:Cn},Pn={touchstart:Si,touchmove:Nr,touchend:Nr,touchcancel:Nr},un={},Ei=!1;function Yi(o,m,_){return m==="touchstart"&&Pi(),Pn[m]?(_=Pn[m].bind(this,_),o.addEventListener(Jn[m],_,!1),_):(console.warn("wrong event specified:",m),E)}function Oi(o,m,_){if(!Jn[m]){console.warn("wrong event specified:",m);return}o.removeEventListener(Jn[m],_,!1)}function Qr(o){un[o.pointerId]=o}function Jr(o){un[o.pointerId]&&(un[o.pointerId]=o)}function kr(o){delete un[o.pointerId]}function Pi(){Ei||(document.addEventListener(Hn,Qr,!0),document.addEventListener(Yt,Jr,!0),document.addEventListener(dn,kr,!0),document.addEventListener(Cn,kr,!0),Ei=!0)}function Nr(o,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var _ in un)m.touches.push(un[_]);m.changedTouches=[m],o(m)}}function Si(o,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Xt(m),Nr(o,m)}function lo(o){var m={},_,A;for(A in o)_=o[A],m[A]=_&&_.bind?_.bind(o):_;return o=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var er=200;function Vn(o,m){o.addEventListener("dblclick",m);var _=0,A;function H(ne){if(ne.detail!==1){A=ne.detail;return}if(!(ne.pointerType==="mouse"||ne.sourceCapabilities&&!ne.sourceCapabilities.firesTouchEvents)){var ke=Ti(ne);if(!(ke.some(function(He){return He instanceof HTMLLabelElement&&He.attributes.for})&&!ke.some(function(He){return He instanceof HTMLInputElement||He instanceof HTMLSelectElement}))){var ze=Date.now();ze-_<=er?(A++,A===2&&m(lo(ne))):A=1,_=ze}}}return o.addEventListener("click",H),{dblclick:m,simDblclick:H}}function Lt(o,m){o.removeEventListener("dblclick",m.dblclick),o.removeEventListener("click",m.simDblclick)}var tr=S(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lr=S(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ui=lr==="webkitTransition"||lr==="OTransition"?lr+"End":"transitionend";function K(o){return typeof o=="string"?document.getElementById(o):o}function ve(o,m){var _=o.style[m]||o.currentStyle&&o.currentStyle[m];if((!_||_==="auto")&&document.defaultView){var A=document.defaultView.getComputedStyle(o,null);_=A?A[m]:null}return _==="auto"?null:_}function Ne(o,m,_){var A=document.createElement(o);return A.className=m||"",_&&_.appendChild(A),A}function Je(o){var m=o.parentNode;m&&m.removeChild(o)}function Be(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ft(o){var m=o.parentNode;m&&m.lastChild!==o&&m.appendChild(o)}function tn(o){var m=o.parentNode;m&&m.firstChild!==o&&m.insertBefore(o,m.firstChild)}function Kn(o,m){if(o.classList!==void 0)return o.classList.contains(m);var _=Wt(o);return _.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(_)}function Rt(o,m){if(o.classList!==void 0)for(var _=F(m),A=0,H=_.length;A<H;A++)o.classList.add(_[A]);else if(!Kn(o,m)){var ne=Wt(o);co(o,(ne?ne+" ":"")+m)}}function cn(o,m){o.classList!==void 0?o.classList.remove(m):co(o,q((" "+Wt(o)+" ").replace(" "+m+" "," ")))}function co(o,m){o.className.baseVal===void 0?o.className=m:o.className.baseVal=m}function Wt(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function be(o,m){"opacity"in o.style?o.style.opacity=m:"filter"in o.style&&y(o,m)}function y(o,m){var _=!1,A="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(A)}catch{if(m===1)return}m=Math.round(m*100),_?(_.Enabled=m!==100,_.Opacity=m):o.style.filter+=" progid:"+A+"(opacity="+m+")"}function S(o){for(var m=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in m)return o[_];return!1}function P(o,m,_){var A=m||new _e(0,0);o.style[tr]=(bt.ie3d?"translate("+A.x+"px,"+A.y+"px)":"translate3d("+A.x+"px,"+A.y+"px,0)")+(_?" scale("+_+")":"")}function ee(o,m){o._leaflet_pos=m,bt.any3d?P(o,m):(o.style.left=m.x+"px",o.style.top=m.y+"px")}function re(o){return o._leaflet_pos||new _e(0,0)}var de,Ae,Xe;if("onselectstart"in document)de=function(){Ft(window,"selectstart",Xt)},Ae=function(){nn(window,"selectstart",Xt)};else{var Ke=S(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);de=function(){if(Ke){var o=document.documentElement.style;Xe=o[Ke],o[Ke]="none"}},Ae=function(){Ke&&(document.documentElement.style[Ke]=Xe,Xe=void 0)}}function Ue(){Ft(window,"dragstart",Xt)}function Ze(){nn(window,"dragstart",Xt)}var ut,pn;function mn(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Un(),ut=o,pn=o.style.outlineStyle,o.style.outlineStyle="none",Ft(window,"keydown",Un))}function Un(){ut&&(ut.style.outlineStyle=pn,ut=void 0,pn=void 0,nn(window,"keydown",Un))}function Ln(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function In(o){var m=o.getBoundingClientRect();return{x:m.width/o.offsetWidth||1,y:m.height/o.offsetHeight||1,boundingClientRect:m}}var bi={__proto__:null,TRANSFORM:tr,TRANSITION:lr,TRANSITION_END:Ui,get:K,getStyle:ve,create:Ne,remove:Je,empty:Be,toFront:ft,toBack:tn,hasClass:Kn,addClass:Rt,removeClass:cn,setClass:co,getClass:Wt,setOpacity:be,testProp:S,setTransform:P,setPosition:ee,getPosition:re,get disableTextSelection(){return de},get enableTextSelection(){return Ae},disableImageDrag:Ue,enableImageDrag:Ze,preventOutline:mn,restoreOutline:Un,getSizedParentNode:Ln,getScale:In};function Ft(o,m,_,A){if(m&&typeof m=="object")for(var H in m)fi(o,H,m[H],_);else{m=F(m);for(var ne=0,ke=m.length;ne<ke;ne++)fi(o,m[ne],_,A)}return this}var ci="_leaflet_events";function nn(o,m,_,A){if(arguments.length===1)ht(o),delete o[ci];else if(m&&typeof m=="object")for(var H in m)cr(o,H,m[H],_);else if(m=F(m),arguments.length===2)ht(o,function(ze){return B(m,ze)!==-1});else for(var ne=0,ke=m.length;ne<ke;ne++)cr(o,m[ne],_,A);return this}function ht(o,m){for(var _ in o[ci]){var A=_.split(/\d/)[0];(!m||m(A))&&cr(o,A,null,null,_)}}var En={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fi(o,m,_,A){var H=m+b(_)+(A?"_"+b(A):"");if(o[ci]&&o[ci][H])return this;var ne=function(ze){return _.call(A||o,ze||window.event)},ke=ne;!bt.touchNative&&bt.pointer&&m.indexOf("touch")===0?ne=Yi(o,m,ne):bt.touch&&m==="dblclick"?ne=Vn(o,ne):"addEventListener"in o?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?o.addEventListener(En[m]||m,ne,bt.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(ne=function(ze){ze=ze||window.event,Yo(o,ze)&&ke(ze)},o.addEventListener(En[m],ne,!1)):o.addEventListener(m,ke,!1):o.attachEvent("on"+m,ne),o[ci]=o[ci]||{},o[ci][H]=ne}function cr(o,m,_,A,H){H=H||m+b(_)+(A?"_"+b(A):"");var ne=o[ci]&&o[ci][H];if(!ne)return this;!bt.touchNative&&bt.pointer&&m.indexOf("touch")===0?Oi(o,m,ne):bt.touch&&m==="dblclick"?Lt(o,ne):"removeEventListener"in o?o.removeEventListener(En[m]||m,ne,!1):o.detachEvent("on"+m,ne),o[ci][H]=null}function Fi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function jr(o){return fi(o,"wheel",Fi),this}function zr(o){return Ft(o,"mousedown touchstart dblclick contextmenu",Fi),o._leaflet_disable_click=!0,this}function Xt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function rn(o){return Xt(o),Fi(o),this}function Ti(o){if(o.composedPath)return o.composedPath();for(var m=[],_=o.target;_;)m.push(_),_=_.parentNode;return m}function Ir(o,m){if(!m)return new _e(o.clientX,o.clientY);var _=In(m),A=_.boundingClientRect;return new _e((o.clientX-A.left)/_.x-m.clientLeft,(o.clientY-A.top)/_.y-m.clientTop)}var jo=bt.linux&&bt.chrome?window.devicePixelRatio:bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ma(o){return bt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/jo:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Yo(o,m){var _=m.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var ga={__proto__:null,on:Ft,off:nn,stopPropagation:Fi,disableScrollPropagation:jr,disableClickPropagation:zr,preventDefault:Xt,stop:rn,getPropagationPath:Ti,getMousePosition:Ir,getWheelDelta:ma,isExternalTarget:Yo,addListener:Ft,removeListener:nn},Na=me.extend({run:function(o,m,_,A){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(A||.5,.2),this._startPos=re(o),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ue(this._animate,this),this._step()},_step:function(o){var m=+new Date-this._startTime,_=this._duration*1e3;m<_?this._runFrame(this._easeOut(m/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,m){var _=this._startPos.add(this._offset.multiplyBy(o));m&&_._round(),ee(this._el,_),this.fire("step")},_complete:function(){Te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),yn=me.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,m){m=j(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(G(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lr&&bt.any3d&&!bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,Ui,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,m,_){if(m=m===void 0?this._zoom:this._limitZoom(m),o=this._limitCenter(G(o),m,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=u({animate:_.animate},_.zoom),_.pan=u({animate:_.animate,duration:_.duration},_.pan));var A=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,m,_.zoom):this._tryAnimatedPan(o,_.pan);if(A)return clearTimeout(this._sizeTimer),this}return this._resetView(o,m,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,m){return this._loaded?this.setView(this.getCenter(),o,{zoom:m}):(this._zoom=o,this)},zoomIn:function(o,m){return o=o||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,m)},zoomOut:function(o,m){return o=o||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,m)},setZoomAround:function(o,m,_){var A=this.getZoomScale(m),H=this.getSize().divideBy(2),ne=o instanceof _e?o:this.latLngToContainerPoint(o),ke=ne.subtract(H).multiplyBy(1-1/A),ze=this.containerPointToLatLng(H.add(ke));return this.setView(ze,m,{zoom:_})},_getBoundsCenterZoom:function(o,m){m=m||{},o=o.getBounds?o.getBounds():Ce(o);var _=Fe(m.paddingTopLeft||m.padding||[0,0]),A=Fe(m.paddingBottomRight||m.padding||[0,0]),H=this.getBoundsZoom(o,!1,_.add(A));if(H=typeof m.maxZoom=="number"?Math.min(m.maxZoom,H):H,H===1/0)return{center:o.getCenter(),zoom:H};var ne=A.subtract(_).divideBy(2),ke=this.project(o.getSouthWest(),H),ze=this.project(o.getNorthEast(),H),He=this.unproject(ke.add(ze).divideBy(2).add(ne),H);return{center:He,zoom:H}},fitBounds:function(o,m){if(o=Ce(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,m);return this.setView(_.center,_.zoom,m)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,m){return this.setView(o,this._zoom,{pan:m})},panBy:function(o,m){if(o=Fe(o).round(),m=m||{},!o.x&&!o.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Na,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,m.duration||.25,m.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,m,_){if(_=_||{},_.animate===!1||!bt.any3d)return this.setView(o,m,_);this._stop();var A=this.project(this.getCenter()),H=this.project(o),ne=this.getSize(),ke=this._zoom;o=G(o),m=m===void 0?ke:m;var ze=Math.max(ne.x,ne.y),He=ze*this.getZoomScale(ke,m),ot=H.distanceTo(A)||1,xt=1.42,zt=xt*xt;function on(ui){var ks=ui?-1:1,se=ui?He:ze,ja=He*He-ze*ze+ks*zt*zt*ot*ot,nr=2*se*zt*ot,Rn=ja/nr,Gt=Math.sqrt(Rn*Rn+1)-Rn,Ri=Gt<1e-9?-18:Math.log(Gt);return Ri}function ei(ui){return(Math.exp(ui)-Math.exp(-ui))/2}function ti(ui){return(Math.exp(ui)+Math.exp(-ui))/2}function xi(ui){return ei(ui)/ti(ui)}var Gi=on(0);function Gr(ui){return ze*(ti(Gi)/ti(Gi+xt*ui))}function wl(ui){return ze*(ti(Gi)*xi(Gi+xt*ui)-ei(Gi))/zt}function fc(ui){return 1-Math.pow(1-ui,1.5)}var wa=Date.now(),ia=(on(1)-Gi)/xt,hc=_.duration?1e3*_.duration:1e3*ia*.8;function ws(){var ui=(Date.now()-wa)/hc,ks=fc(ui)*ia;ui<=1?(this._flyToFrame=ue(ws,this),this._move(this.unproject(A.add(H.subtract(A).multiplyBy(wl(ks)/ot)),ke),this.getScaleZoom(ze/Gr(ks),ke),{flyTo:!0})):this._move(o,m)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),ws.call(this),this},flyToBounds:function(o,m){var _=this._getBoundsCenterZoom(o,m);return this.flyTo(_.center,_.zoom,m)},setMaxBounds:function(o){return o=Ce(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var m=this.options.minZoom;return this.options.minZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var m=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&m!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,m){this._enforcingBounds=!0;var _=this.getCenter(),A=this._limitCenter(_,this._zoom,Ce(o));return _.equals(A)||this.panTo(A,m),this._enforcingBounds=!1,this},panInside:function(o,m){m=m||{};var _=Fe(m.paddingTopLeft||m.padding||[0,0]),A=Fe(m.paddingBottomRight||m.padding||[0,0]),H=this.project(this.getCenter()),ne=this.project(o),ke=this.getPixelBounds(),ze=J([ke.min.add(_),ke.max.subtract(A)]),He=ze.getSize();if(!ze.contains(ne)){this._enforcingBounds=!0;var ot=ne.subtract(ze.getCenter()),xt=ze.extend(ne).getSize().subtract(He);H.x+=ot.x<0?-xt.x:xt.x,H.y+=ot.y<0?-xt.y:xt.y,this.panTo(this.unproject(H),m),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=u({animate:!1,pan:!0},o===!0?{animate:!0}:o);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),A=m.divideBy(2).round(),H=_.divideBy(2).round(),ne=A.subtract(H);return!ne.x&&!ne.y?this:(o.animate&&o.pan?this.panBy(ne):(o.pan&&this._rawPanBy(ne),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=u({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=f(this._handleGeolocationResponse,this),_=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,_,o):navigator.geolocation.getCurrentPosition(m,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var m=o.code,_=o.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var m=o.coords.latitude,_=o.coords.longitude,A=new Me(m,_),H=A.toBounds(o.coords.accuracy*2),ne=this._locateOptions;if(ne.setView){var ke=this.getBoundsZoom(H);this.setView(A,ne.maxZoom?Math.min(ke,ne.maxZoom):ke)}var ze={latlng:A,bounds:H,timestamp:o.timestamp};for(var He in o.coords)typeof o.coords[He]=="number"&&(ze[He]=o.coords[He]);this.fire("locationfound",ze)}},addHandler:function(o,m){if(!m)return this;var _=this[o]=new m(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Je(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,m){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),A=Ne("div",_,m||this._mapPane);return o&&(this._panes[o]=A),A},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),m=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Y(m,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,m,_){o=Ce(o),_=Fe(_||[0,0]);var A=this.getZoom()||0,H=this.getMinZoom(),ne=this.getMaxZoom(),ke=o.getNorthWest(),ze=o.getSouthEast(),He=this.getSize().subtract(_),ot=J(this.project(ze,A),this.project(ke,A)).getSize(),xt=bt.any3d?this.options.zoomSnap:1,zt=He.x/ot.x,on=He.y/ot.y,ei=m?Math.max(zt,on):Math.min(zt,on);return A=this.getScaleZoom(ei,A),xt&&(A=Math.round(A/(xt/100))*(xt/100),A=m?Math.ceil(A/xt)*xt:Math.floor(A/xt)*xt),Math.max(H,Math.min(ne,A))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,m){var _=this._getTopLeftPoint(o,m);return new Ee(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,m){var _=this.options.crs;return m=m===void 0?this._zoom:m,_.scale(o)/_.scale(m)},getScaleZoom:function(o,m){var _=this.options.crs;m=m===void 0?this._zoom:m;var A=_.zoom(o*_.scale(m));return isNaN(A)?1/0:A},project:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(G(o),m)},unproject:function(o,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Fe(o),m)},layerPointToLatLng:function(o){var m=Fe(o).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(o){var m=this.project(G(o))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(G(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ce(o))},distance:function(o,m){return this.options.crs.distance(G(o),G(m))},containerPointToLayerPoint:function(o){return Fe(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Fe(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var m=this.containerPointToLayerPoint(Fe(o));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(o)))},mouseEventToContainerPoint:function(o){return Ir(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var m=this._container=K(o);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(m,"scroll",this._onScroll,this),this._containerId=b(m)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&bt.any3d,Rt(o,"leaflet-container"+(bt.touch?" leaflet-touch":"")+(bt.retina?" leaflet-retina":"")+(bt.ielt9?" leaflet-oldie":"")+(bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=ve(o,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ee(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(o.markerPane,"leaflet-zoom-hide"),Rt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,m,_){ee(this._mapPane,new _e(0,0));var A=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var H=this._zoom!==m;this._moveStart(H,_)._move(o,m)._moveEnd(H),this.fire("viewreset"),A&&this.fire("load")},_moveStart:function(o,m){return o&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(o,m,_,A){m===void 0&&(m=this._zoom);var H=this._zoom!==m;return this._zoom=m,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),A?_&&_.pinch&&this.fire("zoom",_):((H||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ee(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[b(this._container)]=this;var m=o?nn:Ft;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),bt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Te(this._resizeRequest),this._resizeRequest=ue(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,m){for(var _=[],A,H=m==="mouseout"||m==="mouseover",ne=o.target||o.srcElement,ke=!1;ne;){if(A=this._targets[b(ne)],A&&(m==="click"||m==="preclick")&&this._draggableMoved(A)){ke=!0;break}if(A&&A.listens(m,!0)&&(H&&!Yo(ne,o)||(_.push(A),H))||ne===this._container)break;ne=ne.parentNode}return!_.length&&!ke&&!H&&this.listens(m,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var m=o.target||o.srcElement;if(!(!this._loaded||m._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(m))){var _=o.type;_==="mousedown"&&mn(m),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,m,_){if(o.type==="click"){var A=u({},o);A.type="preclick",this._fireDOMEvent(A,A.type,_)}var H=this._findEventTargets(o,m);if(_){for(var ne=[],ke=0;ke<_.length;ke++)_[ke].listens(m,!0)&&ne.push(_[ke]);H=ne.concat(H)}if(H.length){m==="contextmenu"&&Xt(o);var ze=H[0],He={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ot=ze.getLatLng&&(!ze._radius||ze._radius<=10);He.containerPoint=ot?this.latLngToContainerPoint(ze.getLatLng()):this.mouseEventToContainerPoint(o),He.layerPoint=this.containerPointToLayerPoint(He.containerPoint),He.latlng=ot?ze.getLatLng():this.layerPointToLatLng(He.layerPoint)}for(ke=0;ke<H.length;ke++)if(H[ke].fire(m,He,!0),He.originalEvent._stopped||H[ke].options.bubblingMouseEvents===!1&&B(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,m=this._handlers.length;o<m;o++)this._handlers[o].disable()},whenReady:function(o,m){return this._loaded?o.call(m||this,{target:this}):this.on("load",o,m),this},_getMapPanePos:function(){return re(this._mapPane)||new _e(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,m){var _=o&&m!==void 0?this._getNewPixelOrigin(o,m):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,m){var _=this.getSize()._divideBy(2);return this.project(o,m)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,m,_){var A=this._getNewPixelOrigin(_,m);return this.project(o,m)._subtract(A)},_latLngBoundsToNewLayerBounds:function(o,m,_){var A=this._getNewPixelOrigin(_,m);return J([this.project(o.getSouthWest(),m)._subtract(A),this.project(o.getNorthWest(),m)._subtract(A),this.project(o.getSouthEast(),m)._subtract(A),this.project(o.getNorthEast(),m)._subtract(A)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,m,_){if(!_)return o;var A=this.project(o,m),H=this.getSize().divideBy(2),ne=new Ee(A.subtract(H),A.add(H)),ke=this._getBoundsOffset(ne,_,m);return Math.abs(ke.x)<=1&&Math.abs(ke.y)<=1?o:this.unproject(A.add(ke),m)},_limitOffset:function(o,m){if(!m)return o;var _=this.getPixelBounds(),A=new Ee(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(A,m))},_getBoundsOffset:function(o,m,_){var A=J(this.project(m.getNorthEast(),_),this.project(m.getSouthWest(),_)),H=A.min.subtract(o.min),ne=A.max.subtract(o.max),ke=this._rebound(H.x,-ne.x),ze=this._rebound(H.y,-ne.y);return new _e(ke,ze)},_rebound:function(o,m){return o+m>0?Math.round(o-m)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(m))},_limitZoom:function(o){var m=this.getMinZoom(),_=this.getMaxZoom(),A=bt.any3d?this.options.zoomSnap:1;return A&&(o=Math.round(o/A)*A),Math.max(m,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,m){var _=this._getCenterOffset(o)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,m),!0)},_createAnimProxy:function(){var o=this._proxy=Ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(m){var _=tr,A=this._proxy.style[_];P(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),A===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),m=this.getZoom();P(this._proxy,this.project(o,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,m,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var A=this.getZoomScale(m),H=this._getCenterOffset(o)._divideBy(1-1/A);return _.animate!==!0&&!this.getSize().contains(H)?!1:(ue(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,m,!0)},this),!0)},_animateZoom:function(o,m,_,A){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=m,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:m,noUpdate:A}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wn(o,m){return new yn(o,m)}var br=ie.extend({options:{position:"topright"},initialize:function(o){j(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var m=this._map;return m&&m.removeControl(this),this.options.position=o,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var m=this._container=this.onAdd(o),_=this.getPosition(),A=o._controlCorners[_];return Rt(m,"leaflet-control"),_.indexOf("bottom")!==-1?A.insertBefore(m,A.firstChild):A.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Br=function(o){return new br(o)};yn.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},m="leaflet-",_=this._controlContainer=Ne("div",m+"control-container",this._container);function A(H,ne){var ke=m+H+" "+m+ne;o[H+ne]=Ne("div",ke,_)}A("top","left"),A("top","right"),A("bottom","left"),A("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Je(this._controlCorners[o]);Je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ds=br.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,m,_,A){return _<A?-1:A<_?1:0}},initialize:function(o,m,_){j(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var A in o)this._addLayer(o[A],A);for(A in m)this._addLayer(m[A],A,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return br.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,m){return this._addLayer(o,m),this._map?this._update():this},addOverlay:function(o,m){return this._addLayer(o,m,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var m=this._getLayer(b(o));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",m=this._container=Ne("div",o),_=this.options.collapsed;m.setAttribute("aria-haspopup",!0),zr(m),jr(m);var A=this._section=Ne("section",o+"-list");_&&(this._map.on("click",this.collapse,this),Ft(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var H=this._layersLink=Ne("a",o+"-toggle",m);H.href="#",H.title="Layers",H.setAttribute("role","button"),Ft(H,{keydown:function(ne){ne.keyCode===13&&this._expandSafely()},click:function(ne){Xt(ne),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Ne("div",o+"-base",A),this._separator=Ne("div",o+"-separator",A),this._overlaysList=Ne("div",o+"-overlays",A),m.appendChild(A)},_getLayer:function(o){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&b(this._layers[m].layer)===o)return this._layers[m]},_addLayer:function(o,m,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:m,overlay:_}),this.options.sortLayers&&this._layers.sort(f(function(A,H){return this.options.sortFunction(A.layer,H.layer,A.name,H.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Be(this._baseLayersList),Be(this._overlaysList),this._layerControlInputs=[];var o,m,_,A,H=0;for(_=0;_<this._layers.length;_++)A=this._layers[_],this._addItem(A),m=m||A.overlay,o=o||!A.overlay,H+=A.overlay?0:1;return this.options.hideSingleBase&&(o=o&&H>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=m&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var m=this._getLayer(b(o.target)),_=m.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,m)},_createRadioElement:function(o,m){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(m?' checked="checked"':"")+"/>",A=document.createElement("div");return A.innerHTML=_,A.firstChild},_addItem:function(o){var m=document.createElement("label"),_=this._map.hasLayer(o.layer),A;o.overlay?(A=document.createElement("input"),A.type="checkbox",A.className="leaflet-control-layers-selector",A.defaultChecked=_):A=this._createRadioElement("leaflet-base-layers_"+b(this),_),this._layerControlInputs.push(A),A.layerId=b(o.layer),Ft(A,"click",this._onInputClick,this);var H=document.createElement("span");H.innerHTML=" "+o.name;var ne=document.createElement("span");m.appendChild(ne),ne.appendChild(A),ne.appendChild(H);var ke=o.overlay?this._overlaysList:this._baseLayersList;return ke.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,m,_,A=[],H=[];this._handlingClick=!0;for(var ne=o.length-1;ne>=0;ne--)m=o[ne],_=this._getLayer(m.layerId).layer,m.checked?A.push(_):m.checked||H.push(_);for(ne=0;ne<H.length;ne++)this._map.hasLayer(H[ne])&&this._map.removeLayer(H[ne]);for(ne=0;ne<A.length;ne++)this._map.hasLayer(A[ne])||this._map.addLayer(A[ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,m,_,A=this._map.getZoom(),H=o.length-1;H>=0;H--)m=o[H],_=this._getLayer(m.layerId).layer,m.disabled=_.options.minZoom!==void 0&&A<_.options.minZoom||_.options.maxZoom!==void 0&&A>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ft(o,"click",Xt),this.expand();var m=this;setTimeout(function(){nn(o,"click",Xt),m._preventClick=!1})}}),Bs=function(o,m,_){return new ds(o,m,_)},yi=br.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var m="leaflet-control-zoom",_=Ne("div",m+" leaflet-bar"),A=this.options;return this._zoomInButton=this._createButton(A.zoomInText,A.zoomInTitle,m+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(A.zoomOutText,A.zoomOutTitle,m+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,m,_,A,H){var ne=Ne("a",_,A);return ne.innerHTML=o,ne.href="#",ne.title=m,ne.setAttribute("role","button"),ne.setAttribute("aria-label",m),zr(ne),Ft(ne,"click",rn),Ft(ne,"click",H,this),Ft(ne,"click",this._refocusOnMap,this),ne},_updateDisabled:function(){var o=this._map,m="leaflet-disabled";cn(this._zoomInButton,m),cn(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Rt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Rt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});yn.mergeOptions({zoomControl:!0}),yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yi,this.addControl(this.zoomControl))});var $s=function(o){return new yi(o)},eo=br.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var m="leaflet-control-scale",_=Ne("div",m),A=this.options;return this._addScales(A,m+"-line",_),o.on(A.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,m,_){o.metric&&(this._mScale=Ne("div",m,_)),o.imperial&&(this._iScale=Ne("div",m,_))},_update:function(){var o=this._map,m=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,m]),o.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var m=this._getRoundNum(o),_=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,_,m/o)},_updateImperial:function(o){var m=o*3.2808399,_,A,H;m>5280?(_=m/5280,A=this._getRoundNum(_),this._updateScale(this._iScale,A+" mi",A/_)):(H=this._getRoundNum(m),this._updateScale(this._iScale,H+" ft",H/m))},_updateScale:function(o,m,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=m},_getRoundNum:function(o){var m=Math.pow(10,(Math.floor(o)+"").length-1),_=o/m;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,m*_}}),ps=function(o){return new eo(o)},Hs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Co=br.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(bt.inlineSvg?Hs+" ":"")+"Leaflet</a>"},initialize:function(o){j(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ne("div","leaflet-control-attribution"),zr(this._container);for(var m in o._layers)o._layers[m].getAttribution&&this.addAttribution(o._layers[m].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var m in this._attributions)this._attributions[m]&&o.push(m);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});yn.mergeOptions({attributionControl:!0}),yn.addInitHook(function(){this.options.attributionControl&&new Co().addTo(this)});var dl=function(o){return new Co(o)};br.Layers=ds,br.Zoom=yi,br.Scale=eo,br.Attribution=Co,Br.layers=Bs,Br.zoom=$s,Br.scale=ps,Br.attribution=dl;var di=ie.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});di.addTo=function(o,m){return o.addHandler(m,this),this};var lc={Events:ae},$r=bt.touch?"touchstart mousedown":"mousedown",Eo=me.extend({options:{clickTolerance:3},initialize:function(o,m,_,A){j(this,A),this._element=o,this._dragStartTarget=m||o,this._preventOutline=_},enable:function(){this._enabled||(Ft(this._dragStartTarget,$r,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Eo._dragging===this&&this.finishDrag(!0),nn(this._dragStartTarget,$r,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Kn(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Eo._dragging===this&&this.finishDrag();return}if(!(Eo._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Eo._dragging=this,this._preventOutline&&mn(this._element),Ue(),de(),!this._moving)){this.fire("down");var m=o.touches?o.touches[0]:o,_=Ln(this._element);this._startPoint=new _e(m.clientX,m.clientY),this._startPos=re(this._element),this._parentScale=In(_);var A=o.type==="mousedown";Ft(document,A?"mousemove":"touchmove",this._onMove,this),Ft(document,A?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var m=o.touches&&o.touches.length===1?o.touches[0]:o,_=new _e(m.clientX,m.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Xt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ee(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){cn(document.body,"leaflet-dragging"),this._lastTarget&&(cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nn(document,"mousemove touchmove",this._onMove,this),nn(document,"mouseup touchend touchcancel",this._onUp,this),Ze(),Ae();var m=this._moved&&this._moving;this._moving=!1,Eo._dragging=!1,m&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ws(o,m,_){var A,H=[1,4,2,8],ne,ke,ze,He,ot,xt,zt,on;for(ne=0,xt=o.length;ne<xt;ne++)o[ne]._code=Cr(o[ne],m);for(ze=0;ze<4;ze++){for(zt=H[ze],A=[],ne=0,xt=o.length,ke=xt-1;ne<xt;ke=ne++)He=o[ne],ot=o[ke],He._code&zt?ot._code&zt||(on=ms(ot,He,zt,m,_),on._code=Cr(on,m),A.push(on)):(ot._code&zt&&(on=ms(ot,He,zt,m,_),on._code=Cr(on,m),A.push(on)),A.push(He));o=A}return o}function So(o,m){var _,A,H,ne,ke,ze,He,ot,xt;if(!o||o.length===0)throw new Error("latlngs not passed");Er(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var zt=G([0,0]),on=Ce(o),ei=on.getNorthWest().distanceTo(on.getSouthWest())*on.getNorthEast().distanceTo(on.getNorthWest());ei<1700&&(zt=za(o));var ti=o.length,xi=[];for(_=0;_<ti;_++){var Gi=G(o[_]);xi.push(m.project(G([Gi.lat-zt.lat,Gi.lng-zt.lng])))}for(ze=He=ot=0,_=0,A=ti-1;_<ti;A=_++)H=xi[_],ne=xi[A],ke=H.y*ne.x-ne.y*H.x,He+=(H.x+ne.x)*ke,ot+=(H.y+ne.y)*ke,ze+=ke*3;ze===0?xt=xi[0]:xt=[He/ze,ot/ze];var Gr=m.unproject(Fe(xt));return G([Gr.lat+zt.lat,Gr.lng+zt.lng])}function za(o){for(var m=0,_=0,A=0,H=0;H<o.length;H++){var ne=G(o[H]);m+=ne.lat,_+=ne.lng,A++}return G([m/A,_/A])}var Pu={__proto__:null,clipPolygon:Ws,polygonCenter:So,centroid:za};function ri(o,m){if(!m||!o.length)return o.slice();var _=m*m;return o=Ia(o,_),o=pl(o,_),o}function fo(o,m,_){return Math.sqrt(gs(o,m,_,!0))}function Fu(o,m,_){return gs(o,m,_)}function pl(o,m){var _=o.length,A=typeof Uint8Array<"u"?Uint8Array:Array,H=new A(_);H[0]=H[_-1]=1,Uo(o,H,m,0,_-1);var ne,ke=[];for(ne=0;ne<_;ne++)H[ne]&&ke.push(o[ne]);return ke}function Uo(o,m,_,A,H){var ne=0,ke,ze,He;for(ze=A+1;ze<=H-1;ze++)He=gs(o[ze],o[A],o[H],!0),He>ne&&(ke=ze,ne=He);ne>_&&(m[ke]=1,Uo(o,m,_,A,ke),Uo(o,m,_,ke,H))}function Ia(o,m){for(var _=[o[0]],A=1,H=0,ne=o.length;A<ne;A++)ai(o[A],o[H])>m&&(_.push(o[A]),H=A);return H<ne-1&&_.push(o[ne-1]),_}var ml;function gl(o,m,_,A,H){var ne=A?ml:Cr(o,_),ke=Cr(m,_),ze,He,ot;for(ml=ke;;){if(!(ne|ke))return[o,m];if(ne&ke)return!1;ze=ne||ke,He=ms(o,m,ze,_,H),ot=Cr(He,_),ze===ne?(o=He,ne=ot):(m=He,ke=ot)}}function ms(o,m,_,A,H){var ne=m.x-o.x,ke=m.y-o.y,ze=A.min,He=A.max,ot,xt;return _&8?(ot=o.x+ne*(He.y-o.y)/ke,xt=He.y):_&4?(ot=o.x+ne*(ze.y-o.y)/ke,xt=ze.y):_&2?(ot=He.x,xt=o.y+ke*(He.x-o.x)/ne):_&1&&(ot=ze.x,xt=o.y+ke*(ze.x-o.x)/ne),new _e(ot,xt,H)}function Cr(o,m){var _=0;return o.x<m.min.x?_|=1:o.x>m.max.x&&(_|=2),o.y<m.min.y?_|=4:o.y>m.max.y&&(_|=8),_}function ai(o,m){var _=m.x-o.x,A=m.y-o.y;return _*_+A*A}function gs(o,m,_,A){var H=m.x,ne=m.y,ke=_.x-H,ze=_.y-ne,He=ke*ke+ze*ze,ot;return He>0&&(ot=((o.x-H)*ke+(o.y-ne)*ze)/He,ot>1?(H=_.x,ne=_.y):ot>0&&(H+=ke*ot,ne+=ze*ot)),ke=o.x-H,ze=o.y-ne,A?ke*ke+ze*ze:new _e(H,ne)}function Er(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function va(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Er(o)}function qs(o,m){var _,A,H,ne,ke,ze,He,ot;if(!o||o.length===0)throw new Error("latlngs not passed");Er(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var xt=G([0,0]),zt=Ce(o),on=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());on<1700&&(xt=za(o));var ei=o.length,ti=[];for(_=0;_<ei;_++){var xi=G(o[_]);ti.push(m.project(G([xi.lat-xt.lat,xi.lng-xt.lng])))}for(_=0,A=0;_<ei-1;_++)A+=ti[_].distanceTo(ti[_+1])/2;if(A===0)ot=ti[0];else for(_=0,ne=0;_<ei-1;_++)if(ke=ti[_],ze=ti[_+1],H=ke.distanceTo(ze),ne+=H,ne>A){He=(ne-A)/H,ot=[ze.x-He*(ze.x-ke.x),ze.y-He*(ze.y-ke.y)];break}var Gi=m.unproject(Fe(ot));return G([Gi.lat+xt.lat,Gi.lng+xt.lng])}var js={__proto__:null,simplify:ri,pointToSegmentDistance:fo,closestPointOnSegment:Fu,clipSegment:gl,_getEdgeIntersection:ms,_getBitCode:Cr,_sqClosestPointOnSegment:gs,isFlat:Er,_flat:va,polylineCenter:qs},Ys={project:function(o){return new _e(o.lng,o.lat)},unproject:function(o){return new Me(o.y,o.x)},bounds:new Ee([-180,-90],[180,90])},vs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var m=Math.PI/180,_=this.R,A=o.lat*m,H=this.R_MINOR/_,ne=Math.sqrt(1-H*H),ke=ne*Math.sin(A),ze=Math.tan(Math.PI/4-A/2)/Math.pow((1-ke)/(1+ke),ne/2);return A=-_*Math.log(Math.max(ze,1e-10)),new _e(o.lng*m*_,A)},unproject:function(o){for(var m=180/Math.PI,_=this.R,A=this.R_MINOR/_,H=Math.sqrt(1-A*A),ne=Math.exp(-o.y/_),ke=Math.PI/2-2*Math.atan(ne),ze=0,He=.1,ot;ze<15&&Math.abs(He)>1e-7;ze++)ot=H*Math.sin(ke),ot=Math.pow((1-ot)/(1+ot),H/2),He=Math.PI/2-2*Math.atan(ne*ot)-ke,ke+=He;return new Me(ke*m,o.x*m/_)}},Us={__proto__:null,LonLat:Ys,Mercator:vs,SphericalMercator:Ye},Ru=u({},we,{code:"EPSG:3395",projection:vs,transformation:(function(){var o=.5/(Math.PI*vs.R);return st(o,.5,-o,.5)})()}),vl=u({},we,{code:"EPSG:4326",projection:Ys,transformation:st(1/180,1,-1/180,.5)}),Nu=u({},ge,{projection:Ys,transformation:st(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,m){var _=m.lng-o.lng,A=m.lat-o.lat;return Math.sqrt(_*_+A*A)},infinite:!0});ge.Earth=we,ge.EPSG3395=Ru,ge.EPSG3857=wt,ge.EPSG900913=kt,ge.EPSG4326=vl,ge.Simple=Nu;var si=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[b(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[b(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var m=o.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var _=this.getEvents();m.on(_,this),this.once("remove",function(){m.off(_,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});yn.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var m=b(o);return this._layers[m]?this:(this._layers[m]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var m=b(o);return this._layers[m]?(this._loaded&&o.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return b(o)in this._layers},eachLayer:function(o,m){for(var _ in this._layers)o.call(m,this._layers[_]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var m=0,_=o.length;m<_;m++)this.addLayer(o[m])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[b(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var m=b(o);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,m=-1/0,_=this._getZoomSpan();for(var A in this._zoomBoundLayers){var H=this._zoomBoundLayers[A].options;o=H.minZoom===void 0?o:Math.min(o,H.minZoom),m=H.maxZoom===void 0?m:Math.max(m,H.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zo=si.extend({initialize:function(o,m){j(this,m),this._layers={};var _,A;if(o)for(_=0,A=o.length;_<A;_++)this.addLayer(o[_])},addLayer:function(o){var m=this.getLayerId(o);return this._layers[m]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var m=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(o){var m=typeof o=="number"?o:this.getLayerId(o);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var m=Array.prototype.slice.call(arguments,1),_,A;for(_ in this._layers)A=this._layers[_],A[o]&&A[o].apply(A,m);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,m){for(var _ in this._layers)o.call(m,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return b(o)}}),To=function(o,m){return new Zo(o,m)},Zi=Zo.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Zo.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Zo.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Y;for(var m in this._layers){var _=this._layers[m];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),bs=function(o,m){return new Zi(o,m)},Go=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){j(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,m){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var A=this._createImg(_,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(A,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),A},_setIconStyles:function(o,m){var _=this.options,A=_[m+"Size"];typeof A=="number"&&(A=[A,A]);var H=Fe(A),ne=Fe(m==="shadow"&&_.shadowAnchor||_.iconAnchor||H&&H.divideBy(2,!0));o.className="leaflet-marker-"+m+" "+(_.className||""),ne&&(o.style.marginLeft=-ne.x+"px",o.style.marginTop=-ne.y+"px"),H&&(o.style.width=H.x+"px",o.style.height=H.y+"px")},_createImg:function(o,m){return m=m||document.createElement("img"),m.src=o,m},_getIconUrl:function(o){return bt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function bl(o){return new Go(o)}var Sr=Go.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Sr.imagePath!="string"&&(Sr.imagePath=this._detectIconPath()),(this.options.imagePath||Sr.imagePath)+Go.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var m=function(_,A,H){var ne=A.exec(_);return ne&&ne[H]};return o=m(o,/^url\((['"])?(.+)\1\)$/,2),o&&m(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ne("div","leaflet-default-icon-path",document.body),m=ve(o,"background-image")||ve(o,"backgroundImage");if(document.body.removeChild(o),m=this._stripUrl(m),m)return m;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Xo=di.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Eo(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var m=this._marker,_=m._map,A=this._marker.options.autoPanSpeed,H=this._marker.options.autoPanPadding,ne=re(m._icon),ke=_.getPixelBounds(),ze=_.getPixelOrigin(),He=J(ke.min._subtract(ze).add(H),ke.max._subtract(ze).subtract(H));if(!He.contains(ne)){var ot=Fe((Math.max(He.max.x,ne.x)-He.max.x)/(ke.max.x-He.max.x)-(Math.min(He.min.x,ne.x)-He.min.x)/(ke.min.x-He.min.x),(Math.max(He.max.y,ne.y)-He.max.y)/(ke.max.y-He.max.y)-(Math.min(He.min.y,ne.y)-He.min.y)/(ke.min.y-He.min.y)).multiplyBy(A);_.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),ee(m._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ue(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Te(this._panRequest),this._panRequest=ue(this._adjustPan.bind(this,o)))},_onDrag:function(o){var m=this._marker,_=m._shadow,A=re(m._icon),H=m._map.layerPointToLatLng(A);_&&ee(_,A),m._latlng=H,o.latlng=H,o.oldLatLng=this._oldLatLng,m.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ba=si.extend({options:{icon:new Sr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,m){j(this,m),this._latlng=G(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var m=this._latlng;return this._latlng=G(o),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),A=!1;_!==this._icon&&(this._icon&&this._removeIcon(),A=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),Rt(_,m),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(_,"focus",this._panOnFocus,this);var H=o.icon.createShadow(this._shadow),ne=!1;H!==this._shadow&&(this._removeShadow(),ne=!0),H&&(Rt(H,m),H.alt=""),this._shadow=H,o.opacity<1&&this._updateOpacity(),A&&this.getPane().appendChild(this._icon),this._initInteraction(),H&&ne&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nn(this._icon,"focus",this._panOnFocus,this),Je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Je(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ee(this._icon,o),this._shadow&&ee(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&be(this._icon,o),this._shadow&&be(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var m=this.options.icon.options,_=m.iconSize?Fe(m.iconSize):Fe(0,0),A=m.iconAnchor?Fe(m.iconAnchor):Fe(0,0);o.panInside(this._latlng,{paddingTopLeft:A,paddingBottomRight:_.subtract(A)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $a(o,m){return new Ba(o,m)}var Ao=si.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return j(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zs=Ao.extend({options:{fill:!0,radius:10},initialize:function(o,m){j(this,m),this._latlng=G(o),this._radius=this.options.radius},setLatLng:function(o){var m=this._latlng;return this._latlng=G(o),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var m=o&&o.radius||this._radius;return Ao.prototype.setStyle.call(this,o),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,m=this._radiusY||o,_=this._clickTolerance(),A=[o+_,m+_];this._pxBounds=new Ee(this._point.subtract(A),this._point.add(A))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gs(o,m){return new Zs(o,m)}var Ha=Zs.extend({initialize:function(o,m,_){if(typeof m=="number"&&(m=u({},_,{radius:m})),j(this,m),this._latlng=G(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ao.prototype.setStyle,_project:function(){var o=this._latlng.lng,m=this._latlng.lat,_=this._map,A=_.options.crs;if(A.distance===we.distance){var H=Math.PI/180,ne=this._mRadius/we.R/H,ke=_.project([m+ne,o]),ze=_.project([m-ne,o]),He=ke.add(ze).divideBy(2),ot=_.unproject(He).lat,xt=Math.acos((Math.cos(ne*H)-Math.sin(m*H)*Math.sin(ot*H))/(Math.cos(m*H)*Math.cos(ot*H)))/H;(isNaN(xt)||xt===0)&&(xt=ne/Math.cos(Math.PI/180*m)),this._point=He.subtract(_.getPixelOrigin()),this._radius=isNaN(xt)?0:He.x-_.project([ot,o-xt]).x,this._radiusY=He.y-ke.y}else{var zt=A.unproject(A.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(zt).x}this._updateBounds()}});function Hr(o,m,_){return new Ha(o,m,_)}var _i=Ao.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,m){j(this,m),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var m=1/0,_=null,A=gs,H,ne,ke=0,ze=this._parts.length;ke<ze;ke++)for(var He=this._parts[ke],ot=1,xt=He.length;ot<xt;ot++){H=He[ot-1],ne=He[ot];var zt=A(o,H,ne,!0);zt<m&&(m=zt,_=A(o,H,ne))}return _&&(_.distance=Math.sqrt(m)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,m){return m=m||this._defaultShape(),o=G(o),m.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Y,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Er(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var m=[],_=Er(o),A=0,H=o.length;A<H;A++)_?(m[A]=G(o[A]),this._bounds.extend(m[A])):m[A]=this._convertLatLngs(o[A]);return m},_project:function(){var o=new Ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),m=new _e(o,o);this._rawPxBounds&&(this._pxBounds=new Ee([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(o,m,_){var A=o[0]instanceof Me,H=o.length,ne,ke;if(A){for(ke=[],ne=0;ne<H;ne++)ke[ne]=this._map.latLngToLayerPoint(o[ne]),_.extend(ke[ne]);m.push(ke)}else for(ne=0;ne<H;ne++)this._projectLatlngs(o[ne],m,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,_,A,H,ne,ke,ze,He;for(_=0,H=0,ne=this._rings.length;_<ne;_++)for(He=this._rings[_],A=0,ke=He.length;A<ke-1;A++)ze=gl(He[A],He[A+1],o,A,!0),ze&&(m[H]=m[H]||[],m[H].push(ze[0]),(ze[1]!==He[A+1]||A===ke-2)&&(m[H].push(ze[1]),H++))}},_simplifyPoints:function(){for(var o=this._parts,m=this.options.smoothFactor,_=0,A=o.length;_<A;_++)o[_]=ri(o[_],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,m){var _,A,H,ne,ke,ze,He=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,ne=this._parts.length;_<ne;_++)for(ze=this._parts[_],A=0,ke=ze.length,H=ke-1;A<ke;H=A++)if(!(!m&&A===0)&&fo(o,ze[H],ze[A])<=He)return!0;return!1}});function yl(o,m){return new _i(o,m)}_i._flat=va;var ba=_i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return So(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var m=_i.prototype._convertLatLngs.call(this,o),_=m.length;return _>=2&&m[0]instanceof Me&&m[0].equals(m[_-1])&&m.pop(),m},_setLatLngs:function(o){_i.prototype._setLatLngs.call(this,o),Er(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Er(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,m=this.options.weight,_=new _e(m,m);if(o=new Ee(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var A=0,H=this._rings.length,ne;A<H;A++)ne=Ws(this._rings[A],o,!0),ne.length&&this._parts.push(ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var m=!1,_,A,H,ne,ke,ze,He,ot;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(ne=0,He=this._parts.length;ne<He;ne++)for(_=this._parts[ne],ke=0,ot=_.length,ze=ot-1;ke<ot;ze=ke++)A=_[ke],H=_[ze],A.y>o.y!=H.y>o.y&&o.x<(H.x-A.x)*(o.y-A.y)/(H.y-A.y)+A.x&&(m=!m);return m||_i.prototype._containsPoint.call(this,o,!0)}});function cc(o,m){return new ba(o,m)}var Tr=Zi.extend({initialize:function(o,m){j(this,m),this._layers={},o&&this.addData(o)},addData:function(o){var m=D(o)?o:o.features,_,A,H;if(m){for(_=0,A=m.length;_<A;_++)H=m[_],(H.geometries||H.geometry||H.features||H.coordinates)&&this.addData(H);return this}var ne=this.options;if(ne.filter&&!ne.filter(o))return this;var ke=Ar(o,ne);return ke?(ke.feature=Yr(o),ke.defaultOptions=ke.options,this.resetStyle(ke),ne.onEachFeature&&ne.onEachFeature(o,ke),this.addLayer(ke)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=u({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(m){this._setLayerStyle(m,o)},this)},_setLayerStyle:function(o,m){o.setStyle&&(typeof m=="function"&&(m=m(o.feature)),o.setStyle(m))}});function Ar(o,m){var _=o.type==="Feature"?o.geometry:o,A=_?_.coordinates:null,H=[],ne=m&&m.pointToLayer,ke=m&&m.coordsToLatLng||Vs,ze,He,ot,xt;if(!A&&!_)return null;switch(_.type){case"Point":return ze=ke(A),Xs(ne,o,ze,m);case"MultiPoint":for(ot=0,xt=A.length;ot<xt;ot++)ze=ke(A[ot]),H.push(Xs(ne,o,ze,m));return new Zi(H);case"LineString":case"MultiLineString":return He=Vo(A,_.type==="LineString"?0:1,ke),new _i(He,m);case"Polygon":case"MultiPolygon":return He=Vo(A,_.type==="Polygon"?1:2,ke),new ba(He,m);case"GeometryCollection":for(ot=0,xt=_.geometries.length;ot<xt;ot++){var zt=Ar({geometry:_.geometries[ot],type:"Feature",properties:o.properties},m);zt&&H.push(zt)}return new Zi(H);case"FeatureCollection":for(ot=0,xt=_.features.length;ot<xt;ot++){var on=Ar(_.features[ot],m);on&&H.push(on)}return new Zi(H);default:throw new Error("Invalid GeoJSON object.")}}function Xs(o,m,_,A){return o?o(m,_):new Ba(_,A&&A.markersInheritOptions&&A)}function Vs(o){return new Me(o[1],o[0],o[2])}function Vo(o,m,_){for(var A=[],H=0,ne=o.length,ke;H<ne;H++)ke=m?Vo(o[H],m-1,_):(_||Vs)(o[H]),A.push(ke);return A}function Ks(o,m){return o=G(o),o.alt!==void 0?[N(o.lng,m),N(o.lat,m),N(o.alt,m)]:[N(o.lng,m),N(o.lat,m)]}function ys(o,m,_,A){for(var H=[],ne=0,ke=o.length;ne<ke;ne++)H.push(m?ys(o[ne],Er(o[ne])?0:m-1,_,A):Ks(o[ne],A));return!m&&_&&H.length>0&&H.push(H[0].slice()),H}function Ko(o,m){return o.feature?u({},o.feature,{geometry:m}):Yr(m)}function Yr(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Oe={toGeoJSON:function(o){return Ko(this,{type:"Point",coordinates:Ks(this.getLatLng(),o)})}};Ba.include(Oe),Ha.include(Oe),Zs.include(Oe),_i.include({toGeoJSON:function(o){var m=!Er(this._latlngs),_=ys(this._latlngs,m?1:0,!1,o);return Ko(this,{type:(m?"Multi":"")+"LineString",coordinates:_})}}),ba.include({toGeoJSON:function(o){var m=!Er(this._latlngs),_=m&&!Er(this._latlngs[0]),A=ys(this._latlngs,_?2:m?1:0,!0,o);return m||(A=[A]),Ko(this,{type:(_?"Multi":"")+"Polygon",coordinates:A})}}),Zo.include({toMultiPoint:function(o){var m=[];return this.eachLayer(function(_){m.push(_.toGeoJSON(o).geometry.coordinates)}),Ko(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(o){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(o);var _=m==="GeometryCollection",A=[];return this.eachLayer(function(H){if(H.toGeoJSON){var ne=H.toGeoJSON(o);if(_)A.push(ne.geometry);else{var ke=Yr(ne);ke.type==="FeatureCollection"?A.push.apply(A,ke.features):A.push(ke)}}}),_?Ko(this,{geometries:A,type:"GeometryCollection"}):{type:"FeatureCollection",features:A}}});function Qe(o,m){return new Tr(o,m)}var $e=Qe,Et=si.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,m,_){this._url=o,this._bounds=Ce(m),j(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ft(this._image),this},bringToBack:function(){return this._map&&tn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ce(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",m=this._image=o?this._url:Ne("img");if(Rt(m,"leaflet-image-layer"),this._zoomAnimated&&Rt(m,"leaflet-zoom-animated"),this.options.className&&Rt(m,this.options.className),m.onselectstart=E,m.onmousemove=E,m.onload=f(this.fire,this,"load"),m.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(o){var m=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;P(this._image,_,m)},_reset:function(){var o=this._image,m=new Ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=m.getSize();ee(o,m.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){be(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Kt=function(o,m,_){return new Et(o,m,_)},Mn=Et.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",m=this._image=o?this._url:Ne("video");if(Rt(m,"leaflet-image-layer"),this._zoomAnimated&&Rt(m,"leaflet-zoom-animated"),this.options.className&&Rt(m,this.options.className),m.onselectstart=E,m.onmousemove=E,m.onloadeddata=f(this.fire,this,"load"),o){for(var _=m.getElementsByTagName("source"),A=[],H=0;H<_.length;H++)A.push(_[H].src);this._url=_.length>0?A:[m.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var ne=0;ne<this._url.length;ne++){var ke=Ne("source");ke.src=this._url[ne],m.appendChild(ke)}}});function Ai(o,m,_){return new Mn(o,m,_)}var Zn=Et.extend({_initImage:function(){var o=this._image=this._url;Rt(o,"leaflet-image-layer"),this._zoomAnimated&&Rt(o,"leaflet-zoom-animated"),this.options.className&&Rt(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function _s(o,m,_){return new Zn(o,m,_)}var ho=si.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,m){o&&(o instanceof Me||D(o))?(this._latlng=G(o),j(this,m)):(j(this,o),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&be(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&be(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(be(this._container,0),this._removeTimeout=setTimeout(f(Je,void 0,this._container),200)):Je(this._container),this.options.interactive&&(cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=G(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ft(this._container),this},bringToBack:function(){return this._map&&tn(this._container),this},_prepareOpen:function(o){var m=this._source;if(!m._map)return!1;if(m instanceof Zi){m=null;var _=this._source._layers;for(var A in _)if(_[A]._map){m=_[A];break}if(!m)return!1;this._source=m}if(!o)if(m.getCenter)o=m.getCenter();else if(m.getLatLng)o=m.getLatLng();else if(m.getBounds)o=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")o.innerHTML=m;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),m=Fe(this.options.offset),_=this._getAnchor();this._zoomAnimated?ee(this._container,o.add(_)):m=m.add(o).add(_);var A=this._containerBottom=-m.y,H=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=A+"px",this._container.style.left=H+"px"}},_getAnchor:function(){return[0,0]}});yn.include({_initOverlay:function(o,m,_,A){var H=m;return H instanceof o||(H=new o(A).setContent(m)),_&&H.setLatLng(_),H}}),si.include({_initOverlay:function(o,m,_,A){var H=_;return H instanceof o?(j(H,A),H._source=this):(H=m&&!A?m:new o(A,this),H.setContent(_)),H}});var yr=ho.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ho.prototype.openOn.call(this,o)},onAdd:function(o){ho.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ao||this._source.on("preclick",Fi))},onRemove:function(o){ho.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ao||this._source.off("preclick",Fi))},getEvents:function(){var o=ho.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",m=this._container=Ne("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Ne("div",o+"-content-wrapper",m);if(this._contentNode=Ne("div",o+"-content",_),zr(m),jr(this._contentNode),Ft(m,"contextmenu",Fi),this._tipContainer=Ne("div",o+"-tip-container",m),this._tip=Ne("div",o+"-tip",this._tipContainer),this.options.closeButton){var A=this._closeButton=Ne("a",o+"-close-button",m);A.setAttribute("role","button"),A.setAttribute("aria-label","Close popup"),A.href="#close",A.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(A,"click",function(H){Xt(H),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,m=o.style;m.width="",m.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),m.width=_+1+"px",m.whiteSpace="",m.height="";var A=o.offsetHeight,H=this.options.maxHeight,ne="leaflet-popup-scrolled";H&&A>H?(m.height=H+"px",Rt(o,ne)):cn(o,ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();ee(this._container,m.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,m=parseInt(ve(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+m,A=this._containerWidth,H=new _e(this._containerLeft,-_-this._containerBottom);H._add(re(this._container));var ne=o.layerPointToContainerPoint(H),ke=Fe(this.options.autoPanPadding),ze=Fe(this.options.autoPanPaddingTopLeft||ke),He=Fe(this.options.autoPanPaddingBottomRight||ke),ot=o.getSize(),xt=0,zt=0;ne.x+A+He.x>ot.x&&(xt=ne.x+A-ot.x+He.x),ne.x-xt-ze.x<0&&(xt=ne.x-ze.x),ne.y+_+He.y>ot.y&&(zt=ne.y+_-ot.y+He.y),ne.y-zt-ze.y<0&&(zt=ne.y-ze.y),(xt||zt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([xt,zt]))}},_getAnchor:function(){return Fe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qs=function(o,m){return new yr(o,m)};yn.mergeOptions({closePopupOnClick:!0}),yn.include({openPopup:function(o,m,_){return this._initOverlay(yr,o,m,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),si.include({bindPopup:function(o,m){return this._popup=this._initOverlay(yr,this._popup,o,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Zi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){rn(o);var m=o.layer||o.target;if(this._popup._source===m&&!(m instanceof Ao)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=m,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var po=ho.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ho.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ho.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ho.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",m=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ne("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var m,_,A=this._map,H=this._container,ne=A.latLngToContainerPoint(A.getCenter()),ke=A.layerPointToContainerPoint(o),ze=this.options.direction,He=H.offsetWidth,ot=H.offsetHeight,xt=Fe(this.options.offset),zt=this._getAnchor();ze==="top"?(m=He/2,_=ot):ze==="bottom"?(m=He/2,_=0):ze==="center"?(m=He/2,_=ot/2):ze==="right"?(m=0,_=ot/2):ze==="left"?(m=He,_=ot/2):ke.x<ne.x?(ze="right",m=0,_=ot/2):(ze="left",m=He+(xt.x+zt.x)*2,_=ot/2),o=o.subtract(Fe(m,_,!0)).add(xt).add(zt),cn(H,"leaflet-tooltip-right"),cn(H,"leaflet-tooltip-left"),cn(H,"leaflet-tooltip-top"),cn(H,"leaflet-tooltip-bottom"),Rt(H,"leaflet-tooltip-"+ze),ee(H,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&be(this._container,o)},_animateZoom:function(o){var m=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(m)},_getAnchor:function(){return Fe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),to=function(o,m){return new po(o,m)};yn.include({openTooltip:function(o,m,_){return this._initOverlay(po,o,m,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),si.include({bindTooltip:function(o,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(po,this._tooltip,o,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var m=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[m](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Zi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&(Ft(m,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ft(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var m=typeof o.getElement=="function"&&o.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var m=o.latlng,_,A;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),A=this._map.containerPointToLayerPoint(_),m=this._map.layerPointToLatLng(A)),this._tooltip.setLatLng(m)}});var mo=Go.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var m=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Be(m),m.appendChild(_.html)):m.innerHTML=_.html!==!1?_.html:"",_.bgPos){var A=Fe(_.bgPos);m.style.backgroundPosition=-A.x+"px "+-A.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Wa(o){return new mo(o)}Go.Default=Sr;var An=si.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){j(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Je(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ft(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(tn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof _e?o:new _e(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var m=this.getPane().children,_=-o(-1/0,1/0),A=0,H=m.length,ne;A<H;A++)ne=m[A].style.zIndex,m[A]!==this._container&&ne&&(_=o(_,+ne));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!bt.ielt9){be(this._container,this.options.opacity);var o=+new Date,m=!1,_=!1;for(var A in this._tiles){var H=this._tiles[A];if(!(!H.current||!H.loaded)){var ne=Math.min(1,(o-H.loaded)/200);be(H.el,ne),ne<1?m=!0:(H.active?_=!0:this._onOpaqueTile(H),H.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),m&&(Te(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,m=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=m-Math.abs(o-_),this._onUpdateLevel(_)):(Je(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var A=this._levels[o],H=this._map;return A||(A=this._levels[o]={},A.el=Ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),A.el.style.zIndex=m,A.origin=H.project(H.unproject(H.getPixelOrigin()),o).round(),A.zoom=o,this._setZoomTransform(A,H.getCenter(),H.getZoom()),E(A.el.offsetWidth),this._onCreateLevel(A)),this._level=A,A}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,m,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)m=this._tiles[o],m.retain=m.current;for(o in this._tiles)if(m=this._tiles[o],m.current&&!m.active){var A=m.coords;this._retainParent(A.x,A.y,A.z,A.z-5)||this._retainChildren(A.x,A.y,A.z,A.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var m in this._tiles)this._tiles[m].coords.z===o&&this._removeTile(m)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Je(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,m,_,A){var H=Math.floor(o/2),ne=Math.floor(m/2),ke=_-1,ze=new _e(+H,+ne);ze.z=+ke;var He=this._tileCoordsToKey(ze),ot=this._tiles[He];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),ke>A?this._retainParent(H,ne,ke,A):!1)},_retainChildren:function(o,m,_,A){for(var H=2*o;H<2*o+2;H++)for(var ne=2*m;ne<2*m+2;ne++){var ke=new _e(H,ne);ke.z=_+1;var ze=this._tileCoordsToKey(ke),He=this._tiles[ze];if(He&&He.active){He.retain=!0;continue}else He&&He.loaded&&(He.retain=!0);_+1<A&&this._retainChildren(H,ne,_+1,A)}},_resetView:function(o){var m=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var m=this.options;return m.minNativeZoom!==void 0&&o<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<o?m.maxNativeZoom:o},_setView:function(o,m,_,A){var H=Math.round(m);this.options.maxZoom!==void 0&&H>this.options.maxZoom||this.options.minZoom!==void 0&&H<this.options.minZoom?H=void 0:H=this._clampZoom(H);var ne=this.options.updateWhenZooming&&H!==this._tileZoom;(!A||ne)&&(this._tileZoom=H,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),H!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,m)},_setZoomTransforms:function(o,m){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,m)},_setZoomTransform:function(o,m,_){var A=this._map.getZoomScale(_,o.zoom),H=o.origin.multiplyBy(A).subtract(this._map._getNewPixelOrigin(m,_)).round();bt.any3d?P(o.el,H,A):ee(o.el,H)},_resetGrid:function(){var o=this._map,m=o.options.crs,_=this._tileSize=this.getTileSize(),A=this._tileZoom,H=this._map.getPixelWorldBounds(this._tileZoom);H&&(this._globalTileRange=this._pxBoundsToTileRange(H)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,m.wrapLng[0]],A).x/_.x),Math.ceil(o.project([0,m.wrapLng[1]],A).x/_.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([m.wrapLat[0],0],A).y/_.x),Math.ceil(o.project([m.wrapLat[1],0],A).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var m=this._map,_=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),A=m.getZoomScale(_,this._tileZoom),H=m.project(o,this._tileZoom).floor(),ne=m.getSize().divideBy(A*2);return new Ee(H.subtract(ne),H.add(ne))},_update:function(o){var m=this._map;if(m){var _=this._clampZoom(m.getZoom());if(o===void 0&&(o=m.getCenter()),this._tileZoom!==void 0){var A=this._getTiledPixelBounds(o),H=this._pxBoundsToTileRange(A),ne=H.getCenter(),ke=[],ze=this.options.keepBuffer,He=new Ee(H.getBottomLeft().subtract([ze,-ze]),H.getTopRight().add([ze,-ze]));if(!(isFinite(H.min.x)&&isFinite(H.min.y)&&isFinite(H.max.x)&&isFinite(H.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var xt=this._tiles[ot].coords;(xt.z!==this._tileZoom||!He.contains(new _e(xt.x,xt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var zt=H.min.y;zt<=H.max.y;zt++)for(var on=H.min.x;on<=H.max.x;on++){var ei=new _e(on,zt);if(ei.z=this._tileZoom,!!this._isValidTile(ei)){var ti=this._tiles[this._tileCoordsToKey(ei)];ti?ti.current=!0:ke.push(ei)}}if(ke.sort(function(Gi,Gr){return Gi.distanceTo(ne)-Gr.distanceTo(ne)}),ke.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xi=document.createDocumentFragment();for(on=0;on<ke.length;on++)this._addTile(ke[on],xi);this._level.el.appendChild(xi)}}}},_isValidTile:function(o){var m=this._map.options.crs;if(!m.infinite){var _=this._globalTileRange;if(!m.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!m.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var A=this._tileCoordsToBounds(o);return Ce(this.options.bounds).overlaps(A)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var m=this._map,_=this.getTileSize(),A=o.scaleBy(_),H=A.add(_),ne=m.unproject(A,o.z),ke=m.unproject(H,o.z);return[ne,ke]},_tileCoordsToBounds:function(o){var m=this._tileCoordsToNwSe(o),_=new Y(m[0],m[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var m=o.split(":"),_=new _e(+m[0],+m[1]);return _.z=+m[2],_},_removeTile:function(o){var m=this._tiles[o];m&&(Je(m.el),delete this._tiles[o],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Rt(o,"leaflet-tile");var m=this.getTileSize();o.style.width=m.x+"px",o.style.height=m.y+"px",o.onselectstart=E,o.onmousemove=E,bt.ielt9&&this.options.opacity<1&&be(o,this.options.opacity)},_addTile:function(o,m){var _=this._getTilePos(o),A=this._tileCoordsToKey(o),H=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(H),this.createTile.length<2&&ue(f(this._tileReady,this,o,null,H)),ee(H,_),this._tiles[A]={el:H,coords:o,current:!0},m.appendChild(H),this.fire("tileloadstart",{tile:H,coords:o})},_tileReady:function(o,m,_){m&&this.fire("tileerror",{error:m,tile:_,coords:o});var A=this._tileCoordsToKey(o);_=this._tiles[A],_&&(_.loaded=+new Date,this._map._fadeAnimated?(be(_.el,0),Te(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),m||(Rt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),bt.ielt9||!this._map._fadeAnimated?ue(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var m=new _e(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return m.z=o.z,m},_pxBoundsToTileRange:function(o){var m=this.getTileSize();return new Ee(o.min.unscaleBy(m).floor(),o.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function _l(o){return new An(o)}var Do=An.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,m){this._url=o,m=j(this,m),m.detectRetina&&bt.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,m){return this._url===o&&m===void 0&&(m=!0),this._url=o,m||this.redraw(),this},createTile:function(o,m){var _=document.createElement("img");return Ft(_,"load",f(this._tileOnLoad,this,m,_)),Ft(_,"error",f(this._tileOnError,this,m,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var m={r:bt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(m.y=_),m["-y"]=_}return T(this._url,u(m,this.options))},_tileOnLoad:function(o,m){bt.ielt9?setTimeout(f(o,this,null,m),0):o(null,m)},_tileOnError:function(o,m,_){var A=this.options.errorTileUrl;A&&m.getAttribute("src")!==A&&(m.src=A),o(_,m)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,m=this.options.maxZoom,_=this.options.zoomReverse,A=this.options.zoomOffset;return _&&(o=m-o),o+A},_getSubdomain:function(o){var m=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var o,m;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(m=this._tiles[o].el,m.onload=E,m.onerror=E,!m.complete)){m.src=I;var _=this._tiles[o].coords;Je(m),delete this._tiles[o],this.fire("tileabort",{tile:m,coords:_})}},_removeTile:function(o){var m=this._tiles[o];if(m)return m.el.setAttribute("src",I),An.prototype._removeTile.call(this,o)},_tileReady:function(o,m,_){if(!(!this._map||_&&_.getAttribute("src")===I))return An.prototype._tileReady.call(this,o,m,_)}});function no(o,m){return new Do(o,m)}var Qo=Do.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,m){this._url=o;var _=u({},this.defaultWmsParams);for(var A in m)A in this.options||(_[A]=m[A]);m=j(this,m);var H=m.detectRetina&&bt.retina?2:1,ne=this.getTileSize();_.width=ne.x*H,_.height=ne.y*H,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Do.prototype.onAdd.call(this,o)},getTileUrl:function(o){var m=this._tileCoordsToNwSe(o),_=this._crs,A=J(_.project(m[0]),_.project(m[1])),H=A.min,ne=A.max,ke=(this._wmsVersion>=1.3&&this._crs===vl?[H.y,H.x,ne.y,ne.x]:[H.x,H.y,ne.x,ne.y]).join(","),ze=Do.prototype.getTileUrl.call(this,o);return ze+W(this.wmsParams,ze,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ke},setParams:function(o,m){return u(this.wmsParams,o),m||this.redraw(),this}});function _r(o,m){return new Qo(o,m)}Do.WMS=Qo,no.wms=_r;var fr=si.extend({options:{padding:.1},initialize:function(o){j(this,o),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,m){var _=this._map.getZoomScale(m,this._zoom),A=this._map.getSize().multiplyBy(.5+this.options.padding),H=this._map.project(this._center,m),ne=A.multiplyBy(-_).add(H).subtract(this._map._getNewPixelOrigin(o,m));bt.any3d?P(this._container,ne,_):ee(this._container,ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,m=this._map.getSize(),_=this._map.containerPointToLayerPoint(m.multiplyBy(-o)).round();this._bounds=new Ee(_,_.add(m.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ur=fr.extend({options:{tolerance:0},getEvents:function(){var o=fr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ft(o,"mousemove",this._onMouseMove,this),Ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Te(this._redrawRequest),delete this._ctx,Je(this._container),nn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var m in this._layers)o=this._layers[m],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fr.prototype._update.call(this);var o=this._bounds,m=this._container,_=o.getSize(),A=bt.retina?2:1;ee(m,o.min),m.width=A*_.x,m.height=A*_.y,m.style.width=_.x+"px",m.style.height=_.y+"px",bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[b(o)]=o;var m=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var m=o._order,_=m.next,A=m.prev;_?_.prev=A:this._drawLast=A,A?A.next=_:this._drawFirst=_,delete o._order,delete this._layers[b(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var m=o.options.dashArray.split(/[, ]+/),_=[],A,H;for(H=0;H<m.length;H++){if(A=Number(m[H]),isNaN(A))return;_.push(A)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ue(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var m=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ee,this._redrawBounds.extend(o._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(o._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var m=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,m=this._redrawBounds;if(this._ctx.save(),m){var _=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var A=this._drawFirst;A;A=A.next)o=A.layer,(!m||o._pxBounds&&o._pxBounds.intersects(m))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,m){if(this._drawing){var _,A,H,ne,ke=o._parts,ze=ke.length,He=this._ctx;if(ze){for(He.beginPath(),_=0;_<ze;_++){for(A=0,H=ke[_].length;A<H;A++)ne=ke[_][A],He[A?"lineTo":"moveTo"](ne.x,ne.y);m&&He.closePath()}this._fillStroke(He,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var m=o._point,_=this._ctx,A=Math.max(Math.round(o._radius),1),H=(Math.max(Math.round(o._radiusY),1)||A)/A;H!==1&&(_.save(),_.scale(1,H)),_.beginPath(),_.arc(m.x,m.y/H,A,0,Math.PI*2,!1),H!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,m){var _=m.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(m.options&&m.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var m=this._map.mouseEventToLayerPoint(o),_,A,H=this._drawFirst;H;H=H.next)_=H.layer,_.options.interactive&&_._containsPoint(m)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(A=_);this._fireEvent(A?[A]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,m)}},_handleMouseOut:function(o){var m=this._hoveredLayer;m&&(cn(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,m){if(!this._mouseHoverThrottled){for(var _,A,H=this._drawFirst;H;H=H.next)_=H.layer,_.options.interactive&&_._containsPoint(m)&&(A=_);A!==this._hoveredLayer&&(this._handleMouseOut(o),A&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([A],o,"mouseover"),this._hoveredLayer=A)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,m,_){this._map._fireDOMEvent(m,_||m.type,o)},_bringToFront:function(o){var m=o._order;if(m){var _=m.next,A=m.prev;if(_)_.prev=A;else return;A?A.next=_:_&&(this._drawFirst=_),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(o)}},_bringToBack:function(o){var m=o._order;if(m){var _=m.next,A=m.prev;if(A)A.next=_;else return;_?_.prev=A:A&&(this._drawLast=A),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(o)}}});function Zr(o){return bt.canvas?new Ur(o):null}var Jo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zu={_initContainer:function(){this._container=Ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var m=o._container=Jo("shape");Rt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",o._path=Jo("path"),m.appendChild(o._path),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){var m=o._container;this._container.appendChild(m),o.options.interactive&&o.addInteractiveTarget(m)},_removePath:function(o){var m=o._container;Je(m),o.removeInteractiveTarget(m),delete this._layers[b(o)]},_updateStyle:function(o){var m=o._stroke,_=o._fill,A=o.options,H=o._container;H.stroked=!!A.stroke,H.filled=!!A.fill,A.stroke?(m||(m=o._stroke=Jo("stroke")),H.appendChild(m),m.weight=A.weight+"px",m.color=A.color,m.opacity=A.opacity,A.dashArray?m.dashStyle=D(A.dashArray)?A.dashArray.join(" "):A.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=A.lineCap.replace("butt","flat"),m.joinstyle=A.lineJoin):m&&(H.removeChild(m),o._stroke=null),A.fill?(_||(_=o._fill=Jo("fill")),H.appendChild(_),_.color=A.fillColor||A.color,_.opacity=A.fillOpacity):_&&(H.removeChild(_),o._fill=null)},_updateCircle:function(o){var m=o._point.round(),_=Math.round(o._radius),A=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+m.x+","+m.y+" "+_+","+A+" 0,"+65535*360)},_setPath:function(o,m){o._path.v=m},_bringToFront:function(o){ft(o._container)},_bringToBack:function(o){tn(o._container)}},io=bt.vml?Jo:Dt,ya=fr.extend({_initContainer:function(){this._container=io("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=io("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Je(this._container),nn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fr.prototype._update.call(this);var o=this._bounds,m=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,_.setAttribute("width",m.x),_.setAttribute("height",m.y)),ee(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(o){var m=o._path=io("path");o.options.className&&Rt(m,o.options.className),o.options.interactive&&Rt(m,"leaflet-interactive"),this._updateStyle(o),this._layers[b(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Je(o._path),o.removeInteractiveTarget(o._path),delete this._layers[b(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var m=o._path,_=o.options;m&&(_.stroke?(m.setAttribute("stroke",_.color),m.setAttribute("stroke-opacity",_.opacity),m.setAttribute("stroke-width",_.weight),m.setAttribute("stroke-linecap",_.lineCap),m.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?m.setAttribute("stroke-dasharray",_.dashArray):m.removeAttribute("stroke-dasharray"),_.dashOffset?m.setAttribute("stroke-dashoffset",_.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),_.fill?(m.setAttribute("fill",_.fillColor||_.color),m.setAttribute("fill-opacity",_.fillOpacity),m.setAttribute("fill-rule",_.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(o,m){this._setPath(o,mt(o._parts,m))},_updateCircle:function(o){var m=o._point,_=Math.max(Math.round(o._radius),1),A=Math.max(Math.round(o._radiusY),1)||_,H="a"+_+","+A+" 0 1,0 ",ne=o._empty()?"M0 0":"M"+(m.x-_)+","+m.y+H+_*2+",0 "+H+-_*2+",0 ";this._setPath(o,ne)},_setPath:function(o,m){o._path.setAttribute("d",m)},_bringToFront:function(o){ft(o._path)},_bringToBack:function(o){tn(o._path)}});bt.vml&&ya.include(zu);function xs(o){return bt.svg||bt.vml?new ya(o):null}yn.include({getRenderer:function(o){var m=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var m=this._paneRenderers[o];return m===void 0&&(m=this._createRenderer({pane:o}),this._paneRenderers[o]=m),m},_createRenderer:function(o){return this.options.preferCanvas&&Zr(o)||xs(o)}});var ea=ba.extend({initialize:function(o,m){ba.prototype.initialize.call(this,this._boundsToLatLngs(o),m)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ce(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function xl(o,m){return new ea(o,m)}ya.create=io,ya.pointsToPath=mt,Tr.geometryToLayer=Ar,Tr.coordsToLatLng=Vs,Tr.coordsToLatLngs=Vo,Tr.latLngToCoords=Ks,Tr.latLngsToCoords=ys,Tr.getFeature=Ko,Tr.asFeature=Yr,yn.mergeOptions({boxZoom:!0});var ta=di.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){nn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),de(),Ue(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ft(document,{contextmenu:rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ne("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var m=new Ee(this._point,this._startPoint),_=m.getSize();ee(this._box,m.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Je(this._box),cn(this._container,"leaflet-crosshair")),Ae(),Ze(),nn(document,{contextmenu:rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var m=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yn.addInitHook("addHandler","boxZoom",ta),yn.mergeOptions({doubleClickZoom:!0});var Lo=di.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var m=this._map,_=m.getZoom(),A=m.options.zoomDelta,H=o.originalEvent.shiftKey?_-A:_+A;m.options.doubleClickZoom==="center"?m.setZoom(H):m.setZoomAround(o.containerPoint,H)}});yn.addInitHook("addHandler","doubleClickZoom",Lo),yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _a=di.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Eo(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){cn(this._map._container,"leaflet-grab"),cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Ce(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var m=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(m),this._prunePositions(m)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,m){return o-(o-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;o.x<m.min.x&&(o.x=this._viscousLimit(o.x,m.min.x)),o.y<m.min.y&&(o.y=this._viscousLimit(o.y,m.min.y)),o.x>m.max.x&&(o.x=this._viscousLimit(o.x,m.max.x)),o.y>m.max.y&&(o.y=this._viscousLimit(o.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,m=Math.round(o/2),_=this._initialWorldOffset,A=this._draggable._newPos.x,H=(A-m+_)%o+m-_,ne=(A+m+_)%o-m-_,ke=Math.abs(H+_)<Math.abs(ne+_)?H:ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ke},_onDragEnd:function(o){var m=this._map,_=m.options,A=!_.inertia||o.noInertia||this._times.length<2;if(m.fire("dragend",o),A)m.fire("moveend");else{this._prunePositions(+new Date);var H=this._lastPos.subtract(this._positions[0]),ne=(this._lastTime-this._times[0])/1e3,ke=_.easeLinearity,ze=H.multiplyBy(ke/ne),He=ze.distanceTo([0,0]),ot=Math.min(_.inertiaMaxSpeed,He),xt=ze.multiplyBy(ot/He),zt=ot/(_.inertiaDeceleration*ke),on=xt.multiplyBy(-zt/2).round();!on.x&&!on.y?m.fire("moveend"):(on=m._limitOffset(on,m.options.maxBounds),ue(function(){m.panBy(on,{duration:zt,easeLinearity:ke,noMoveStart:!0,animate:!0})}))}}});yn.addInitHook("addHandler","dragging",_a),yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Js=di.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),nn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,m=document.documentElement,_=o.scrollTop||m.scrollTop,A=o.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(A,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var m=this._panKeys={},_=this.keyCodes,A,H;for(A=0,H=_.left.length;A<H;A++)m[_.left[A]]=[-1*o,0];for(A=0,H=_.right.length;A<H;A++)m[_.right[A]]=[o,0];for(A=0,H=_.down.length;A<H;A++)m[_.down[A]]=[0,o];for(A=0,H=_.up.length;A<H;A++)m[_.up[A]]=[0,-1*o]},_setZoomDelta:function(o){var m=this._zoomKeys={},_=this.keyCodes,A,H;for(A=0,H=_.zoomIn.length;A<H;A++)m[_.zoomIn[A]]=o;for(A=0,H=_.zoomOut.length;A<H;A++)m[_.zoomOut[A]]=-o},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){nn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var m=o.keyCode,_=this._map,A;if(m in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(A=this._panKeys[m],o.shiftKey&&(A=Fe(A).multiplyBy(3)),_.options.maxBounds&&(A=_._limitOffset(Fe(A),_.options.maxBounds)),_.options.worldCopyJump){var H=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(A)));_.panTo(H)}else _.panBy(A)}else if(m in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;rn(o)}}});yn.addInitHook("addHandler","keyboard",Js),yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xa=di.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){nn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var m=ma(o),_=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var A=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),A),rn(o)},_performZoom:function(){var o=this._map,m=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var A=this._delta/(this._map.options.wheelPxPerZoomLevel*4),H=4*Math.log(2/(1+Math.exp(-Math.abs(A))))/Math.LN2,ne=_?Math.ceil(H/_)*_:H,ke=o._limitZoom(m+(this._delta>0?ne:-ne))-m;this._delta=0,this._startTime=null,ke&&(o.options.scrollWheelZoom==="center"?o.setZoom(m+ke):o.setZoomAround(this._lastMousePos,m+ke))}});yn.addInitHook("addHandler","scrollWheelZoom",xa);var eu=600;yn.mergeOptions({tapHold:bt.touchNative&&bt.safari&&bt.mobile,tapTolerance:15});var qa=di.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){nn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var m=o.touches[0];this._startPos=this._newPos=new _e(m.clientX,m.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Xt),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),eu),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){nn(document,"touchend",Xt),nn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),nn(document,"touchend touchcancel contextmenu",this._cancel,this),nn(document,"touchmove",this._onMove,this)},_onMove:function(o){var m=o.touches[0];this._newPos=new _e(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,m){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});_._simulated=!0,m.target.dispatchEvent(_)}});yn.addInitHook("addHandler","tapHold",qa),yn.mergeOptions({touchZoom:bt.touch,bounceAtZoomLimits:!0});var na=di.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){cn(this._map._container,"leaflet-touch-zoom"),nn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var m=this._map;if(!(!o.touches||o.touches.length!==2||m._animatingZoom||this._zooming)){var _=m.mouseEventToContainerPoint(o.touches[0]),A=m.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(_.add(A)._divideBy(2))),this._startDist=_.distanceTo(A),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Xt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var m=this._map,_=m.mouseEventToContainerPoint(o.touches[0]),A=m.mouseEventToContainerPoint(o.touches[1]),H=_.distanceTo(A)/this._startDist;if(this._zoom=m.getScaleZoom(H,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&H<1||this._zoom>m.getMaxZoom()&&H>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,H===1)return}else{var ne=_._add(A)._divideBy(2)._subtract(this._centerPoint);if(H===1&&ne.x===0&&ne.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(ne),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Te(this._animRequest);var ke=f(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ue(ke,this,!0),Xt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Te(this._animRequest),nn(document,"touchmove",this._onTouchMove,this),nn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yn.addInitHook("addHandler","touchZoom",na),yn.BoxZoom=ta,yn.DoubleClickZoom=Lo,yn.Drag=_a,yn.Keyboard=Js,yn.ScrollWheelZoom=xa,yn.TapHold=qa,yn.TouchZoom=na,r.Bounds=Ee,r.Browser=bt,r.CRS=ge,r.Canvas=Ur,r.Circle=Ha,r.CircleMarker=Zs,r.Class=ie,r.Control=br,r.DivIcon=mo,r.DivOverlay=ho,r.DomEvent=ga,r.DomUtil=bi,r.Draggable=Eo,r.Evented=me,r.FeatureGroup=Zi,r.GeoJSON=Tr,r.GridLayer=An,r.Handler=di,r.Icon=Go,r.ImageOverlay=Et,r.LatLng=Me,r.LatLngBounds=Y,r.Layer=si,r.LayerGroup=Zo,r.LineUtil=js,r.Map=yn,r.Marker=Ba,r.Mixin=lc,r.Path=Ao,r.Point=_e,r.PolyUtil=Pu,r.Polygon=ba,r.Polyline=_i,r.Popup=yr,r.PosAnimation=Na,r.Projection=Us,r.Rectangle=ea,r.Renderer=fr,r.SVG=ya,r.SVGOverlay=Zn,r.TileLayer=Do,r.Tooltip=po,r.Transformation=Ge,r.Util=pe,r.VideoOverlay=Mn,r.bind=f,r.bounds=J,r.canvas=Zr,r.circle=Hr,r.circleMarker=Gs,r.control=Br,r.divIcon=Wa,r.extend=u,r.featureGroup=bs,r.geoJSON=Qe,r.geoJson=$e,r.gridLayer=_l,r.icon=bl,r.imageOverlay=Kt,r.latLng=G,r.latLngBounds=Ce,r.layerGroup=To,r.map=Wn,r.marker=$a,r.point=Fe,r.polygon=cc,r.polyline=yl,r.popup=Qs,r.rectangle=xl,r.setOptions=j,r.stamp=b,r.svg=xs,r.svgOverlay=_s,r.tileLayer=no,r.tooltip=to,r.transformation=st,r.version=s,r.videoOverlay=Ai;var Iu=window.L;r.noConflict=function(){return window.L=Iu,this},window.L=r}))})(Gc,Gc.exports)),Gc.exports}var rs=UC();class ZC{async geoCode(e){const s=await(await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({format:"json",q:e}),{method:"GET",headers:{Accept:"application/json"},credentials:"omit"})).json();return s&&s[0]?s[0]:null}}const GC=new ZC,XC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIDZVWTWhcVRT+7pskM29+Xl6SaSpdOFGQQlps6UIUrMRNEbvVVVHcGKtVtKEEBf9QoRJEFLFidCG6bJZWrJsG24UbS6uJtrTFdGwlyUySmcz0vUySeU/Oue++30mqBx5z7/n57rnnnp8RruuiE4kvx/fCar2NtbXHsekUI8IurYpM5hyy6ffcFyZmEsZkHwcW3741iKX6d2jYh6CngaF7gKIZtarWgLl5wG4BBf0nDPQ+4z77/uKWwGJyfASLtR8ghI59DwClnQDJw4cLEfzeXAAuXyO5jUHzSXd0YjoB7IPmdR2P7QdSmtTYIlT+AW0HOH8JaNg2dpgPqdBovuJy4xsUdB0H90lQAnTI2xCQAiNyvJuQ7sH9YNuVxvdKzMDi1Ik30Noo4cBuoCsVBdQEUL8DVOtAdVWu1QGudwCBk21ro8RY9L6sUG+M4d6dgJGLXr3dBi7MAEurITAXGDCAR/YCqVTAI1vCmK+OATipcWzX20UMlwIvSHGzDfx8CVi9s4TBvqfdd74W9NGaeSQjHTd0u+EhEBZharDXjyCbBvRMkAHk3fVbQNO2UTRH3Jc+mlKX4HXRHGEZ6ZCusqP0JCx7/Yh8PNqETyaq1ICcfqZTATAvp5/hfPaZ3k0JK5IVvoKHbq3RQ9YSckXbyRLACpRPzlAMzYSFIpIpL+NF5ANbraTXO0ygaR3mnhEj5jWtw6wTLyAPS0NP91neUN2HC+D+XUA+q6OyMi1OnXhKsXldWZlmGen4AiExCLin+yyXtPhg1MLwkI77dgGOE3hB5frLLLBMeaxK3AH6DeDhPUHZE6imAX/9A/wxZ7tvTmZlgWTT51FeOBTxgLDJ8NEHgXoT2HQknyqzNxdUp7okVWh5QWL5Mc7rJ2XZxiqMjMnrQg7oL8ivkJW88IORTaUuy52wFDC3Oz09iytzyWYTPsTp0EI5DAJsq6dnVesM0i2vv8seU7MBkuCdSKmQHfUTwlBnRhr9xLEZdKf2YOSAbEDOFr3YfzAh3+HcRWCjPeuOf+6nZrRAzNzLqFvAjduB4VYkPHDSXbWkbYgiwBwfIzuFK2Xpbad4w8sA4lNq/lmmB50Kj6Wkx0TF3mMQ7hIuXpW5qYnonFN7CsGvV8G6ZBM/O87gadtnHMX8MnCrEoAzYKgY/q6AdfqMo/EJ3REYqucaudP47To1eg/c+8jThgX8foOmxulwrw5T4n9FRPjhi3PI9JR4wHZ5Y4imxoXL1Mxvuq9/MZQw2s5jn/oLz/GkIO9Snre0plFPsm1oW2B+6QHjOMqLMqb00XrAOB7Pgv8VCl/ps7FJ1JrP88bMf+W+8vHoXW3+CzArfvraj3yLVz954q7KAP4FsFfcPBQDhqkAAAAASUVORK5CYII=",VC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAJP0lEQVRoBcVaa2wc1RX+ZvZhr/dpZxOlBOqGJq3AQTQlbYpUBFRU6o9KrUSg/WW1UkUgoUCDEzUGtWpTEhTcFNoQcP+0ioQEOPwEIajkoPwIbaKEKiRpm5dNSZzHxtm1vV6vdz1TnXPnzs7emdmddZz0k652Hvec+82Zc88998xqpmliPtAGt6zCbLUXlep9KJdXoGpkPdWE9Rza2k4jEj6AaHivuX7np64+AdAyUe21zVsxUVyPSrUbtmgzHVrtJxIeRSo+aD7x0g5XtwYITFR7ta8fhclNqBqLIGXCIWBJJ5BJANmMS4aRywP5KeDyNaA6ZynTyNJXkU7uMjcObHfJeKApUX7FE9NvYma2xyaYTQErvwjcIt92Yx22RS/kgFOfAbmJGuH26HGkOn7czCUaEtV2P9uP/OTzqBoxm+Cdy4HFlvWkrJ8OTfM+v5IHTpyrEQ7rJWSSvzOf/L2vdX2Janv6tiJXEIIhHehZDqxYZhHD9RGVl0+fB46fA+YMcZ5N95sbBjx915MoW3J84gUYhvC/e74KZJLgcyc8ZBtCJa7rQH4SOPJv4FoR0DWgK/Wcl2VdROssmeoAHlgNhELi5o0gKvXuPwIUpsW5h2XriPLEyeX/gYoRQ2cc+PbdFE7cr1jlJ8dXiagPYvr0J8KVKnDgE2HZiF5CNvNN5wTT6xQVim/CMGOIhIA1dwiSNws0Fo8ZAnMgLk7j20ahV14q98AwgTu6gVRcWISaYTVTsSb5FDVNaWQhaup1p2WpSb306qnRmDQ2XSuVe5iThZrJJqY28S+FnpW3tWZGCuSX86Sj/t3SwEsyYmEIChr74rgIYYIT+yr7KK8644UXOEzcvxroSlpP7uOTulYjePpzEWbIx7x8lF4phbUVt9YIG4pC1WfHJ4GPjoqw2JV+jlYv8eoni48Ja6aFBYKAlsW/HQaOjwiShGh4lFcaanRMoHvUh/rmp4LpJg7ExcFNw+ubV+Hi+DG+uLYHWJathSFDme3SkhPTwEef1Pql4kPoaPutugxyFJku/woTxUeEvA7c/zUR9pz67dlv/ZIlz+eAj4+L86Vdd4VRqfbyCb2iZd6ZWh0qc8DBT4WlIqGSlkn8xPj5H9529aPnE8Qf1f/0i0fN/NRfUanGWPY794jZ3QjEhTjROJVqr47Z6n3sgzSJ5CxXm3Pmkk+WyuLpF6V7/Ug6wX0WpXtZhmRJh1OnOp6MBswJII46J70EWiqbWrMKnPpcHMdj75gbBva5+viA+8Zj7/Bd0iH9uhEkp3J5hY6qmWXaWadFPWY64UpBzHRNgxZv/43rfhOwDFmQdOQK7s5yXMmDc1wTtHvQXZ0boWDN2mh41NgwcKxBT0+wjIwGhYARwILubTr5hGb9ej1bEb+hUGujODFP2ZpFb+a6Pg/U2Dmd25X1WOfRiPitzgWYeT6Ys2TNRom35pJtzUfTFr9KtVvf03eX634TsMxstbtOVyM4jKcjGhnlJ6Ddoh/sWZgW67VhwizO/Nqnty9YhuIj6SBd6hxQwRNOozc5qiMSHuPbQdZhWk1W3iqOp0oPa3v61rn6+ID7TpUe5ruko9nK5OQUCY/piIYPsEtQWuWXP0pQdnX7LUAsKtb5XH4vLY+ufgq4Ty6/l2VIlnTMGa5+rvGZE4fDA0T0Pe5E/hDEqvTa7l0looRhxsyrE29pu54a4gREHXdwyyq6R33EziEsZIPkp8SllpW9J/LR7etzXAG5/QvA3StrFQ2ZHal+RE9L/vP3E8B0uZb1tEVHoWtFIWvGUZ7tto6BjjZg7Z1iEnnpg2OzRw/yz1PA2TGuqJj9g1kRntrbhjFVWsepFRENAhrwoW+IBOOMlTjLGe0EWfHLVuKse7iTH4iL5CbjqNbRtscsltZxZkNrcKdP6FCLYjTwV24TPsdbh2J9/1QCWJJ2bLd9MnsJ+SDEgbiEdOYG53ZZ27H+CsrVLLqXAqstq84pr95vu2sPpIRlNaD7EZV6pO8e+Q8wehFoC+fMrYOLURfwk/G/sMBnl8TTeM1+NV+kB6Fmn88pzahvat4JB1E5zvSM4EDnxEnawO6cig9A10p8PHoJ/zfIsYkLcVKJmr3bLiMee1dk8eeFhZrFVT9L23UAn5XHVQewGsnQ2HQtHnuXObksSpDJMGfy/3Xpv+GgMWXsVBLzOqK8GUvGPuAnou0C+ZkzpDSzbFBoyownneTDZE0aLxn7QN3RurOnjvZnoaPEu00qtt4sUJ2UrEm+SRwUuIjyk6QTb/CTnbkAzJQdtSSP2NeSJRXfpP07tZlZMRZdS8Xf8CqTu4hCbMKetyPAoX+57i84Dp202GglHtsDnkSNn714CenEbmi6qLOPXa2v2slZ2rJFZXPoGhsHrk4IfenEbh7bA66Kc53e7Y+P8PrdHgEeWlObSH4rTTPoSvJBej48BJQr/P3J7H/9S34aPC1qI9WxWVQ3ZoGzF2o+FTS+2qModVSph5IZ0k33Mok+l1xQouaTu4aQiIlqCFXkglbjgoB0kU5w1WVfs6pLQ6KMbHojfweip6avFzICcFMsJaH6smpJkmVdmvjGRGM0QVOivIx1JUU1Ol8ETo64+rSME46305Xc5Fwq/dBwMjmh7XrqICanv8WXHvy6KGDJNLDRTgCOyUPWJILDR8R5suNjc9Mf73UN5oHA+3ot1fFDO7bK+mirIJmDViwnXdn0D4JqCEyU4xvXOHUxU4+dqflgnd86Wkhpx86KVYjuLUr3BnnlLROFrHEmYkN8MnKptbyV+lLWTkjEhlqprWI+fyxgoRefGOE/FnBNfnWtJu/no5PTwP6jwpcpsP/yNd/A7ofWak8Sncnvs4+Rzx0+2dhf7T5zYi3PJH7q6nOjiHJ205naxhalLyTkr7TTVH2SrtE9+hhLvtyZ2mY8/tKwS+GNIgrhrzsQbxd+NuLwPyfo2ojlx/H2fX7f4oNg3v/SkdB2bjyHmVnhc99dI77rE+g7/IeHxXF7dMTc8upyl3ALmLdFbSztWmvH1+GjQLEkGh3DipfU5zpx3RYlaH/e8gCuFIY57ZNVlmtTwi8Xpx80H9u53yXUIq7fouSvRKQr1W8TvCbX8VT/QpDEQlnUVvbKM29hqiTqpYnY2+bTL/9owXQvJFFW+Moz79Ov+fTL31swpQD+B6DpPQVpybZ7AAAAAElFTkSuQmCC",KC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRIibWVv07DMBDGPyMLFpjiBUQkJrrABA/ABBPvwDvyAkyw0Cld6BTJEl2ciU5ZjK6cUxTbsdO0nxRFdU73u3++CmstDi25q39RqjMA9BwDKACs6Nxq8+3Z5mbCTq8AnAO4YOchtQBqAO9WmzYLIkpFDm8YMEYNgFcCRcvFzu848l1EJZwBqDyIKBWV4Z6jn6pNSWUPQPQnAKcR567eP/x7NmDr7LcQBjxHGtpyI5e9oCoAL571VnUHSQC6Bnpf/jKJaWG12WR8xAYPEQDpLQQQpbrmwQiJAvt055KNi4Ch00nPOY3y7cDUeZkLXBaPGXeg4b7EHDvVocwl396UhjJ1mltt5t4pQ2K9yNWao/d21n/IFC2owaHB2AckGf0UCEVcxWofk+T/gZwlSJPz4S7YWEiTgKx4crJKExJBviIbd81NXXpfxkKsNo0oFTl023RvzjsIv2mb0h4a3dSkAPwCJdSH4GnrpMEAAAAASUVORK5CYII=",QC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAArCAYAAADR0WDhAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVRogdWYsY4aMRCGf0cr0nAVbjjF0lWkCVWqUFFdlwdIqjxguqS5jipp7iquOSqklXLNUrENNI4GzXI+vCy7s/bCfRIS2LvY/3g8Y4+y1uKt8+7NKwCQeC0doIy+BtAHcMWjvQcwALABsOK2NX23abY6NaPo7qSMpokOAVzzp+89VM0WwBLAwqbZv7Ino4hQRpNVP/LkB94Dcp4BzGyaraOIUEb3ANwAGAee+CG0Mr9cN2stgt3lMwvoeQ/EIQfw06YZCZJvbGfyI68zPn1217lIBLvNmAWckxuRCGU0vTjt0G2qGBZ9tUSw9aes/uI4KYIT020A6684soCjV4j/21EpQhk94hWQkHOSeirLumycLy3C8ekQq4yeCiMPTf7eptnC6/HHoAj3TTAG8bvI4KUr0ULAX5tmc6/1CJR5ldHlndXk7hHEE6GMnggEeFm0DuxSEmbuj1dHcd4Dn7xXqpEK6PGeaMrj4UFwL4L9c+K9cpoHoYCJYFPTOPeHja47iZJYkz2AF2PdCgTkvOLbw44EL7459F4LiHNcGQuMRRO/KxMAZyWa7oM9FMlsms28Dsa5W4yECW51bAX2Y+DDgP74h9fTjCKxbZy3roQ3uUYCwCsR4jzUb7OaR1hUrbBLwta6NGZ1Mn5B4lQcLoGcN3CjkJ3EjkoNIMv/OeX/ZXjHjjNAkyb3WUqHPreIJft/Y+u7nEtEa+u7nEOE2PeP0aWInK1fWopsQ8KlwZgRiiw+t2n24PUEFLHxWsOx5NveOuIYOxGrCKWYaK5TRuFOodjyJanRHSOEiMxrlfHIVY5gUacuu5KNMvpri83did9XUYTYpUDEM7tOJ35fhSuibuWh001bh30FsIZL1a7sdY2bsZ+OiLjYyRe8qsUqo787d+LomTYUh2cnWg0qqVCcJwGdh8vGAPgPu3cdHuTAvBEAAAAASUVORK5CYII=",ev={lat:45.769785,lng:4.833967,zoom:14};class tv{constructor(){this.$fields=document.querySelectorAll(".rz-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}init(){this.bindFields()}unbind(){}bindFields(){const e=this.$fields.length;for(let r=0;r<e;r++){const s=this.$fields[r];s.classList.contains("is-enable")||(this.bindSingleField(s),s.classList.add("is-enable"))}}bindSingleField(e){const r=e.parentElement.querySelector(".uk-form-label"),s=r.innerHTML;let u=null;window.RozierConfig.defaultMapLocation?u=window.RozierConfig.defaultMapLocation:u=ev;const l="geotag-canvas-"+this.uniqid(),f=l+"-address",h=l+"-reset";e.style.display="none",r.style.display="none",e.setAttribute("data-geotag-canvas",l);let b=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+f+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="rz-geotag-canvas" id="'+l+'" style="width: 100%; height: 400px;"></div>'].join("");const w=document.createElement("div");if(w.innerHTML=b,e.after(w),!document.getElementById(l))throw new Error("Map container does not exist");let E=document.getElementById(f);E&&E.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let N=document.getElementById(h);N&&(N.style.display="none");let q={center:this.createLatLng(u),zoom:u.zoom||u.alt,styles:window.RozierConfig.mapsStyle},F=this.createMap(l,q),j=null;if(e.value!=="")try{u=JSON.parse(e.value),j=this.createMarker(u,F),N.style.display="inline-block",j.on("dragend",this.setMarkerEvent.bind(this,j,e,N,F)),N.addEventListener("click",this.resetMarker.bind(this,j,e,N,F))}catch{return e.style.display=null,document.getElementById(l).style.display="none",!1}F.on("click",this.setMarkerEvent.bind(this,j,e,N,F)),E.addEventListener("keypress",this.requestGeocode.bind(this,j,e,N,F)),this.resetMap(F,j,q,null),new ResizeObserver(()=>{F.invalidateSize({animate:!1,pan:!1}),j!==null?F.panTo(j.getLatLng(),{animate:!1,pan:!1}):F.panTo(q.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}resetMap(e,r,s){window.requestAnimationFrame(()=>{e.invalidateSize(!0),r!==null?e.panTo(r.getLatLng()):e.panTo(s.center)})}resetMarker(e,r,s,u,l){return l.preventDefault(),e.removeFrom(u),r.value="",s.style.display="none",!1}setMarkerEvent(e,r,s,u,l){if(e||(e=this.createAndBindMarker(l.latlng,u,r,s)),typeof l.latlng<"u")this.setMarker(e,r,s,u,l.latlng);else{const f=e.getLatLng();u.panTo(f),this.applyGeocode(r,s,f,u.getZoom(),void 0)}}createAndBindMarker(e,r,s,u){const l=this.createMarker(e,r);return l.on("dragend",this.setMarkerEvent.bind(this,l,s,u,r)),u.addEventListener("click",this.resetMarker.bind(this,l,s,u,r)),r.off("click"),r.on("click",this.setMarkerEvent.bind(this,l,s,u,r)),l}setMarker(e,r,s,u,l){e||(e=this.createAndBindMarker(l,u,r,s)),e.setLatLng(l),e.addTo(u),u.panTo(l),this.applyGeocode(r,s,e.getLatLng(),u.getZoom(),e.name)}latLngToFeature(e,r,s){return e.alt&&(r=e.alt,e.alt=void 0),{type:"Feature",properties:{name:s||"",zoom:r},geometry:{type:"Point",coordinates:rs.GeoJSON.latLngToCoords(e)}}}applyGeocode(e,r,s,u,l){e.value=JSON.stringify(this.latLngToFeature(s,u,l)),r.style.display="inline-block"}createMarker(e,r){let s=null;e instanceof rs.LatLng?s=e:s=this.createLatLng(e);let u=new rs.Marker(s,{icon:this.createIcon(),draggable:!0}).addTo(r);return r.flyTo(s,s.alt),u.alt=s.alt,e.type&&e.type==="Feature"&&e.properties&&e.properties.name&&(u.name=e.properties.name),e.name&&(u.name=e.name),u}async requestGeocode(e,r,s,u,l){let f=l.currentTarget.value;if(l.which&&l.which===13){l.preventDefault();const h=await this.getLatLngForAddress(f);if(h===null){console.error("Geocode was not successful.");return}this.setMarker(e,r,s,u,h)}}uniqid(){return new Date().getTime()}createMap(e,r){const s=new rs.Map(document.getElementById(e)).setView(r.center,r.zoom),u=new rs.TileLayer(window.RozierConfig.leafletMapTileUrl,{attribution:" OpenStreetMap contributors",maxZoom:18});return s.addLayer(u),s}createLatLng(e){if(typeof e.lat=="number"&&typeof e.lng=="number")return new rs.LatLng(e.lat,e.lng,e.zoom||e.alt);if(e.type&&e.type==="Feature"){const r=e.properties&&e.properties.zoom?Number.parseInt(e.properties.zoom):7,s=new rs.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0],r);return e.properties&&e.properties.name&&(s.name=e.properties.name),s}throw new Error("Cannot create LatLng object from data")}createIcon(){return new rs.Icon({iconUrl:XC,iconRetinaUrl:VC,shadowUrl:KC,shadowRetinaUrl:QC,iconSize:[22,30],shadowSize:[25,22],iconAnchor:[11,30],shadowAnchor:[2,22]})}getLatLngForAddress(e){return GC.geoCode(e).then(r=>{if(r!==null){const s=new rs.LatLng(r.lat,r.lon);return s.name=r.display_name,s}else return null}).catch(()=>null)}}class JC extends tv{constructor(){super(),this.$fields=document.querySelectorAll(".rz-multi-geotag-field:not(.is-enable)"),this.$fields.length&&this.init()}resetMarker(e,r,s,u,l){r.value="";for(const f of e)f!==null&&f.removeFrom(u);return e=[],s.style.display="none",this.syncSelector(l,e,u,r),!1}bindSingleField(e){const r=e.parentElement.querySelector(".uk-form-label"),s=r.innerHTML||"Geotag";r.style.display="none";let u=null;window.RozierConfig.defaultMapLocation?u=window.RozierConfig.defaultMapLocation:u=ev;const l="geotag-canvas-"+this.uniqid(),f=l+"-address",h=l+"-reset",b={center:this.createLatLng(u),zoom:u.zoom||u.alt,scrollwheel:!1,styles:window.RozierConfig.mapsStyle};e.style.display="none",e.setAttribute("data-geotag-canvas",l);let w=['<nav class="geotag-widget-nav rz-geotag-meta">','<div class="geotag-widget-nav__head">','<div class="geotag-widget-nav__title"><i class="uk-icon-rz-map-multi-marker"></i></div>','<div class="geotag-widget-nav__title label">'+s+"</div>","</div>",'<div class="geotag-widget-nav__content">','<div class="geotag-widget-quick-creation uk-button-group">','<input autocomplete="off" class="rz-geotag-address" id="'+f+'" type="text" value="" />','<button type="button" id="'+h+'" class="uk-button uk-button-content uk-button-danger rz-geotag-reset" title="'+window.RozierConfig.messages.geotag.resetMarker+'" data-uk-tooltip="{animation:true}"><i class="uk-icon-rz-trash-o"></i></button>',"</div>","</div>","</nav>",'<div class="multi-geotag-group">','<ul class="multi-geotag-list-markers">',"</ul>",'<div class="rz-geotag-canvas" id="'+l+'"></div>',"</div>"].join("");const x=document.createElement("div");x.innerHTML=w,e.after(x);let E=document.getElementById(f);E.setAttribute("placeholder",window.RozierConfig.messages.geotag.typeAnAddress);let N=document.getElementById(h);N.style.display="none";const q=this.createMap(l,b),F=[],j=e.parentElement.querySelector(".multi-geotag-list-markers");if(e.value!=="")try{const U=JSON.parse(e.value);if(!U.features)throw new Error("Data is not a valid GeoJSON featureCollection");for(const T of U.features){const D=this.createMarker(T,q);D.on("dragend",this.setMarkerEvent.bind(this,D,F,e,N,q,j)),F.push(D)}}catch{return e.style.display="block",document.getElementById(l).style.display="none",!1}q.on("click",this.setMarkerEvent.bind(this,null,F,e,N,q,j)),E.addEventListener("keypress",this.requestGeocode.bind(this,F,e,N,q,j)),this.resetMap(q,F,b,null),this.syncSelector(j,F,q,e),new ResizeObserver(()=>{q.invalidateSize({animate:!1,pan:!1}),typeof F<"u"&&F.length>0?q.fitBounds(this.getMediumLatLng(F),{animate:!1,pan:!1}):q.panTo(b.center,{animate:!1,pan:!1})}).observe(document.getElementById(l))}syncSelector(e,r,s,u){e.innerHTML="";const l=[];let f=0;const h=r.filter(w=>w!==null&&w.getLatLng()!==null);for(const w of h)["<li>",'<span class="multi-geotag-marker-name">',w.name?w.name:"#"+f,"</span>",'<span class="uk-button-group">','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-center" data-geocode-id="'+f+'"><i class="uk-icon-rz-marker"></i></button>','<button type="button" class="uk-button uk-button-mini rz-multi-geotag-remove" data-geocode-id="'+f+'"><i class="uk-icon-rz-trash-o"></i></button>',"</span>","</li>"].forEach(x=>l.push(x)),f++;e.innerHTML=l.join("");let b=0;for(const w of h){let x=e.querySelector('.rz-multi-geotag-center[data-geocode-id="'+b+'"]'),E=e.querySelector('.rz-multi-geotag-remove[data-geocode-id="'+b+'"]');x&&E&&(x.addEventListener("click",this.centerMap.bind(this,s,w)),E.addEventListener("click",this.removeMarker.bind(this,s,r,w,e,u))),b++}}removeMarker(e,r,s,u,l,f){f&&f.preventDefault();const h=r.indexOf(s);return s.removeFrom(e),r.splice(h,1),this.syncSelector(u,r,e,l),this.writeMarkers(r,l),!1}resetMap(e,r,s,u){u&&u.preventDefault(),window.requestAnimationFrame(()=>{e.invalidateSize({animate:!0,pan:!0}),typeof r<"u"&&r.length>0?e.fitBounds(this.getMediumLatLng(r)):e.panTo(s.center)})}centerMap(e,r,s){if(s&&s.preventDefault(),e&&r){const u=r.getLatLng();e.flyTo(u,u.alt)}}getMediumLatLng(e){let r=new rs.LatLngBounds;for(const s of e)r.extend(s.getLatLng());return r}setMarkerEvent(e,r,s,u,l,f,h){if(h.latlng)this.setMarker(e,r,s,u,l,h.latlng);else if(e!==null){const b=e.getLatLng();b.alt=l.getZoom(),e.setLatLng(b),l.flyTo(b,b.alt),this.writeMarkers(r,s)}this.syncSelector(f,r,l,s)}setMarker(e,r,s,u,l,f,h){return l&&(f.alt||(f.alt=l.getZoom()),e===null?e=this.createMarker(f,l):(e.setLatLng(f),e.addTo(l)),e.name=h,l.flyTo(f,f.alt),r.push(e),this.writeMarkers(r,s)),e}writeMarkers(e,r){const s={type:"FeatureCollection",features:[]};for(const u of e)if(u){const l=u.getLatLng();s.features.push(this.latLngToFeature(l,l.alt,u.name))}r.value=JSON.stringify(s)}async requestGeocode(e,r,s,u,l,f){let h=f.currentTarget.value;if(f.which&&f.which===13){f.preventDefault();const b=await this.getLatLngForAddress(h);if(b===null){console.error("Geocode was not successful.");return}b.alt=u.getZoom(),this.setMarker(null,e,r,s,u,b,b.name||""),this.syncSelector(l,e,u,r)}}}class e2{constructor(){this.linksSelector=null,this.currentRequest=null,this.inputLengthWatcher=null,this.documentUploader=null,this.childrenNodesFields=null,this.geotagField=null,this.multiGeotagField=null,this.tagAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),window.history.pushState({},document.title,window.location.href)}parseLinks(){this.linksSelector=Array.from(document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')).filter(e=>{const r=e.getAttribute("href");return typeof r<"u"&&r!==null&&!e.classList.contains("rz-no-ajax-link")&&r!==""&&r!=="#"&&(r.indexOf(window.RozierConfig.baseUrl)>=0||r.charAt(0)==="/"||r.charAt(0)==="?")})}onClick(e){const s=e.currentTarget.getAttribute("href");return e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,s),this.onPopState(null)}),!1}onPopState(e){let r=null;e!==null&&e.originalEvent&&(r=e.originalEvent.state),(typeof r>"u"||r===null)&&(r=window.history.state),r!==null&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),this.loadContent(r,window.location))}loadContent(e,r){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{let s=new CustomEvent("pagechange");window.dispatchEvent(s);try{let u="";const l=r.href.split("?")[0],f=new URLSearchParams(r.href.split("?")[1]);if(e.headerData)for(let[x,E]of Object.entries(e.headerData))Array.isArray(E)?E.forEach((N,q)=>{f.append(x+"["+q+"]",N)}):f.set(x,E);f.toString()!==""?u=l+"?"+f.toString():u=l;const h=await fetch(u,{method:"GET",headers:{Accept:"text/html"}});if(!h.ok)throw h;const b=await h.text();this.applyContent(b);let w=new CustomEvent("pageload",{detail:b});window.dispatchEvent(w)}catch(u){const l=await u.text();if(l)try{let f=JSON.parse(l);window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:f.message,status:"danger"}}))}catch{window.location.href=r.href}else window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:window.RozierConfig.messages.forbiddenPage,status:"danger"}}))}window.dispatchEvent(new CustomEvent("requestLoaderHide"))})}refreshCodemirrorEditor(){for(let e of this.markdownEditors)e.forceEditorUpdate();for(let e of this.yamlEditors)e.forceEditorUpdate();for(let e of this.cssEditors)e.forceEditorUpdate();for(let e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(let e of this.markdownEditors)e.destroy();for(let e of this.yamlEditors)e.destroy();for(let e of this.cssEditors)e.destroy();for(let e of this.jsonEditors)e.destroy()}async applyContent(e){const r=document.querySelector("[data-ajax-root]");if(!r){console.error("No [data-ajax-root] found in the document.");return}const s=document.createElement("div");s.setHTMLUnsafe(e);const u=s.querySelector("[data-ajax-root]");u?r.setHTMLUnsafe(u.innerHTML):r.setHTMLUnsafe(s.innerHTML);const l=s.querySelectorAll('title, meta[name="title"]');l.length&&(document.title=l[0].getAttribute("content")||l[0].innerText);const f=new CustomEvent("pageshowend");window.dispatchEvent(f),this.generalBind()}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.classList.add("rz-ajax-link"),e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.inputLengthWatcher,this.documentUploader,this.childrenNodesFields,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.tagAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons]),this.bindAjaxLink(),this.markdownEditors=[],this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.inputLengthWatcher=new Wx,this.documentUploader=new Bx(window.RozierConfig.messages.dropzone),this.childrenNodesFields=new qx,this.geotagField=new tv,this.multiGeotagField=new JC,this.stackNodeTrees=new jx,this.attributeValuesPosition=new $x,this.customFormFieldsPosition=new Hx,this.settingsSaveButtons=new Yx,this.initMarkdownEditors(),this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),this.initFilterBars(),this.initCollectionsForms(),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.nodeStatuses=new Ux,window.Rozier.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(let r of e)r&&r.unbind()}initCollectionsForms(e=null){let r=null;e!==null?r=e.querySelectorAll(".rz-collection-form-type"):r=document.querySelectorAll(".rz-collection-form-type"),r.length&&$(r).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(s,u)=>{const l=u[0];return this.initMarkdownEditors(l),this.initJsonEditors(l),this.initCssEditors(l),this.initYamlEditors(l),this.initCollectionsForms(l),l.querySelectorAll("[data-vuejs]").forEach(h=>{window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(h))}),!0}})}initMarkdownEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-markdowneditor]"):r=document.querySelectorAll("textarea[data-rz-markdowneditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.markdownEditors.push(new WC(r[u],u))}initJsonEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-jsoneditor]"):r=document.querySelectorAll("textarea[data-rz-jsoneditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.jsonEditors.push(new qC(r[u],u))}initCssEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-csseditor]"):r=document.querySelectorAll("textarea[data-rz-csseditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.cssEditors.push(new jC(r[u],u))}initYamlEditors(e){let r=[];e?r=e.querySelectorAll("textarea[data-rz-yamleditor]"):r=document.querySelectorAll("textarea[data-rz-yamleditor]");let s=r.length;if(s)for(let u=0;u<s;u++)this.yamlEditors.push(new Zx(r[u],u))}initFilterBars(){const e=document.querySelectorAll("select.item-per-page");if(e.length){const r=s=>{const u=s.currentTarget.closest("form");u&&u.requestSubmit()};e.forEach(s=>{s.addEventListener("change",r)})}}resize(){}}const nv="NODES_SEARCH_REQUEST",iv="NODES_SEARCH_SUCCESS",rv="NODES_SEARCH_RESET",ov="NODES_SEARCH_FAILED",av="NODES_SEARCH_ENABLE_FOCUS",sv="NODES_SEARCH_DISABLE_FOCUS",uv="EXPLORER_REQUEST",Fp="EXPLORER_SUCCESS",hp="EXPLORER_RESET",lv="EXPLORER_FAILED",cv="EXPLORER_OPEN",Rp="EXPLORER_CLOSE",fv="EXPLORER_LOAD_MORE",hv="EXPLORER_LOAD_MORE_SUCCESS",dv="EXPLORER_IS_LOADED",Bh="EXPLORER_UPDATE_SEARCH_TERMS",pv="FILTER_EXPLORER_OPEN",mv="FILTER_EXPLORER_CLOSE",gv="FILTER_EXPLORER_REQUEST",vv="FILTER_EXPLORER_SUCCESS",dp="FILTER_EXPLORER_FAILED",Np="FILTER_EXPLORER_UPDATE",bv="FILTER_EXPLORER_RESET",hs="KEYBOARD_EVENT_ESCAPE",yv="KEYBOARD_EVENT_SPACE",pp="LOGIN_CHECK_DISCONNECTED",_v="LOGIN_CHECK_CONNECTED",mp="HEALTH_CHECK_FAILED",xv="HEALTH_CHECK_SUCCEEDED",wv="DRAWERS_ADD_INSTANCE",kv="DRAWERS_REMOVE_INSTANCE",Cv="DRAWERS_ADD_DOCUMENT",Ev="DRAWERS_REMOVE_DOCUMENT",Sv="DRAWERS_EDIT_INSTANCE",Tv="DRAWERS_UPDATE_LIST",Av="DRAWERS_ENABLE_DROPZONE",Dv="DRAWERS_DISABLE_DROPZONE",Lv="DRAWERS_INIT_DATA_REQUEST",gp="DRAWERS_INIT_DATA_REQUEST_SUCCESS",Mv="DRAWERS_INIT_DATA_REQUEST_FAILED",Ov="DRAWERS_INIT_DATA_REQUEST_EMPTY",Pv="TAG_CREATE_NEW_REQUEST",Fv="TAG_CREATE_NEW_REQUEST_SUCCESS",Rv="TAG_CREATE_NEW_REQUEST_ERROR",Nv="TAG_CREATOR_READY",zv="DOCUMENT_PREVIEW_INIT",Iv="DOCUMENT_PREVIEW_DESTROY",Bv="DOCUMENT_PREVIEW_OPEN",$v="DOCUMENT_PREVIEW_CLOSE",Hv="BLANCHETTE_EDITOR_INIT",vp="BLANCHETTE_EDITOR_IS_LOADING",Ch="BLANCHETTE_EDITOR_LOADED",Wv="BLANCHETTE_EDITOR_ERROR",qv="BLANCHETTE_EDITOR_SAVE_SUCCESS";function t2(t){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:t};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const s=await r.json();return typeof s.data<"u"&&s.data.length>0?s.data:[]}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const n2=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:t2},Symbol.toStringTag,{value:"Module"})),tc="document",mf="node",zp="node-type",jv="join",Yv="explorer-provider",Uv="custom-form",nc="tag",Zv="node-source-document";function i2({ids:t=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.documents?{items:u.documents,trans:u.trans}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function r2({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),s&&s.id&&(l.folderId=s.id),u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.documents?{items:h.documents,filters:h.filters,trans:h.trans}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function o2(t){return fetch(window.location.href,{method:"POST",body:t,headers:{Accept:"application/json"}})}function a2({ids:t=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function s2({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};if(e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),s&&s.id&&(l.tagId=s.id),e&&e.nodeTypes){const f=JSON.parse(e.nodeTypes);Array.isArray(f)&&f.length>0&&(l.nodeTypes=f)}return u&&(l.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();return typeof h<"u"&&h.nodes?{items:h.nodes,filters:h.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function u2({ids:t=[]}){t=t.map(r=>r.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let r=0;r<t.length;r++)e["names["+r+"]"]=t[r];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const s=await r.json();return typeof s<"u"&&s.items?{items:s.items}:null}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function l2({searchTerms:t,filters:e,moreData:r}){const s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return r&&(s.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async u=>{const l=await u.json();return typeof l<"u"&&l.nodeTypes?{items:l.nodeTypes,filters:l.filters}:{}}).catch(async u=>{throw new Error((await u.response.json()).humanMessage)})}function c2({ids:t=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function f2({searchTerms:t,preFilters:e,filters:r,moreData:s}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:t,page:1};return e&&e._locale&&(u._locale=e._locale),r&&r._locale&&(u._locale=r._locale),e&&e.nodeTypeField&&(u.nodeTypeFieldName=e.nodeTypeField),s&&(u.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async l=>{const f=await l.json();return typeof f<"u"&&f.entities?{items:f.entities,filters:f.filters}:{}}).catch(async l=>{throw new Error((await l.response.json()).humanMessage)})}function h2({ids:t=[]}){const e={_token:window.RozierConfig.ajaxToken};for(let r=0;r<t.length;r++)e["ids["+r+"]"]=t[r];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>({items:(await r.json()).forms})).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function d2({searchTerms:t,filters:e,moreData:r}){const s={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return r&&(s.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(s),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async u=>{const l=await u.json();return typeof l<"u"&&l.customForms?{items:l.customForms,filters:l.filters}:{}}).catch(async u=>{throw new Error((await u.response.json()).humanMessage)})}function Gv({searchTerms:t,preFilters:e,filters:r,filterExplorerSelection:s,moreData:u}){const l={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:t,page:1};return e&&e._locale&&(l._locale=e._locale),r&&r._locale&&(l._locale=r._locale),u&&(l.page=r?r.nextPage:1),s&&s.id&&(l.tagId=s.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(l),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const h=await f.json();if(typeof h<"u"&&h.tags)return{items:h.tags,filters:h.filters};throw new Error("No tags found")}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function Xv({ids:t=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.tags?{items:u.tags}:{}}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function Vv({tagName:t}){const e={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds",tagName:t};return fetch(window.RozierConfig.routes.tagsAjaxCreate+"?"+new URLSearchParams(e),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const s=await r.json();if(typeof s<"u"&&s.tag)return s.tag;throw new Error("Tag creation error")}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const p2=Object.freeze(Object.defineProperty({__proto__:null,createTag:Vv,getTags:Gv,getTagsByIds:Xv},Symbol.toStringTag,{value:"Module"}));function Kv({ids:t=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};e&&e._locale&&(r._locale=e._locale);for(let s=0;s<t.length;s++)r["ids["+s+"]"]=t[s];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async s=>{const u=await s.json();return typeof u<"u"&&u.items?{items:u.items}:null}).catch(async s=>{throw new Error((await s.response.json()).humanMessage)})}function Qv({searchTerms:t,preFilters:e,filters:r,moreData:s}){const u={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:t,page:1};return e&&e._locale&&(u._locale=e._locale),r&&r._locale&&(u._locale=r._locale),e&&e.providerClass&&(u.providerClass=e.providerClass),e&&e.providerOptions&&(u.options=e.providerOptions),s&&(u.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(u),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async l=>{const f=await l.json();return typeof f<"u"&&f.entities?{items:f.entities,filters:f.filters}:{}}).catch(async l=>{throw new Error((await l.response.json()).humanMessage)})}const m2=Object.freeze(Object.defineProperty({__proto__:null,getItems:Qv,getItemsByIds:Kv},Symbol.toStringTag,{value:"Module"}));function g2({entity:t,searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l=!1}){switch(t){case tc:return r2({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case mf:return s2({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case zp:return l2({searchTerms:e,filters:s,moreData:l});case jv:return f2({searchTerms:e,preFilters:r,filters:s,moreData:l});case Uv:return d2({searchTerms:e,filters:s,moreData:l});case nc:return Gv({searchTerms:e,preFilters:r,filters:s,filterExplorerSelection:u,moreData:l});case Yv:return Qv({searchTerms:e,preFilters:r,filters:s,moreData:l})}return Promise.reject(new Error("No type entity found"))}const v2=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:g2},Symbol.toStringTag,{value:"Module"}));function b2(){const t={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.folders?{items:r.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function y2(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function _2(){const t={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function x2({entity:t}){switch(t){case tc:return b2();case mf:return y2();case nc:return _2();default:return Promise.reject(new Error("Entity not found"))}}const w2=Object.freeze(Object.defineProperty({__proto__:null,getFilters:x2},Symbol.toStringTag,{value:"Module"}));function Jv(t,e=[],r){switch(t){case tc:return i2({ids:e,filters:r});case mf:return a2({ids:e,filters:r});case zp:return u2({ids:e});case jv:return c2({ids:e,filters:r});case Uv:return h2({ids:e});case nc:return Xv({ids:e,filters:r});case Yv:return Kv({ids:e,filters:r})}return Promise.reject(new Error("No type entity found"))}const k2=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:Jv},Symbol.toStringTag,{value:"Module"}));function eb(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async t=>(await t.json()).url).catch(()=>{throw new Error("Image not found")})}const C2=Object.freeze(Object.defineProperty({__proto__:null,getImage:eb},Symbol.toStringTag,{value:"Module"})),Ip={...n2,...v2,...w2,...k2,...p2,...C2,...m2},E2={searchTerms:null,items:[],isFocus:!1,isOpen:!1},S2={},T2={nodeSourceSearchEnableFocus({commit:t}){t(av)},nodeSourceSearchDisableFocus({commit:t}){t(sv)},nodeSourceSearchEscape({commit:t}){t(hs)},nodesSourceSearchUpdate({commit:t},e=""){if(!e||e.length<=1){t(rv);return}t(nv,{searchTerms:e}),Ip.getNodesSourceFromSearch(e).then(r=>{t(iv,{items:r})}).catch(()=>{t(ov)})}},A2={[av](t){t.isFocus=!0},[sv](t){t.isFocus=!1},[nv](t,{searchTerms:e}){t.searchTerms=e},[iv](t,{items:e}){t.items=e},[ov](t){t.items=[]},[rv](t){t.items=[]},[hs](t){t.items=[],t.isFocus=!1}},D2={state:E2,getters:S2,actions:T2,mutations:A2};function Eh(t,e,r=0,s="[]"){if(t&&t.length&&t.length>e+s.length){let u=t.substr(0,Math.floor(e/2)+Math.floor(r/2)),l=t.substr(Math.floor(e/2)*-1+Math.floor(r/2));return u+s+l}else return t}function L2(t,e,r=0,s=""){return t&&t.length&&t.length>e?t.substr(0,e+r)+s:t}const M2={centralTruncate:Eh,truncate:L2};function Wi(t,e,r,s,u,l,f,h){var b=typeof t=="function"?t.options:t;return e&&(b.render=e,b.staticRenderFns=r,b._compiled=!0),l&&(b._scopeId="data-v-"+l),{exports:t,options:b}}const O2={props:["title","href","typeColor"],methods:{onItemClick:function(t){window.Rozier.lazyload.onClick(t),this.$store.commit(hs)}}};var P2=function(){var e=this,r=e._self._c;return r("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(s){return s.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},F2=[],R2=Wi(O2,P2,F2,!1,null,null);const Bp=R2.exports,tb={bind(t,e){let r=new Image;r.src=e.value,r.onload=async()=>{t.src=e.value,await Vl(t,1e3)}}},N2={directives:{DynamicImg:tb},filters:M2,props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],computed:{...Fa({previewIsVisible:t=>t.documentPreview.isVisible}),shortMimeType:function(){return Eh(this.document.shortMimeType,13)},filename:function(){return Eh(this.document.classname,12)},name:function(){return Eh(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...Ns(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen({document:this.document})},onEditClick(t){this.document.processable&&this.$emit("edit",{document:this.document,index:this.index,currentTarget:t.currentTarget})},onMouseover(){this.documentPreviewInit({document:this.item.document})},onMouseleave(){this.previewIsVisible||this.documentPreviewDestroy({document:this.item.document})}},components:{AjaxLink:Bp}};var z2=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.document?r("li",{staticClass:"image-document uk-sortable-list-item documents-widget-sortable-list-item",attrs:{title:e.document.classname,"data-uk-tooltip":"{animation:true, pos:'bottom'}"},on:{mouseleave:e.onMouseleave,mouseover:e.onMouseover}},[r("div",{staticClass:"preview-zoom",on:{click:function(s){return s.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-search-plus"})]),r("div",{on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"uk-sortable-handle"}),r("div",{staticClass:"document-border"}),r("div",{staticClass:"document-overflow"},[e.document.isPrivate?[r("div",{staticClass:"document-platform-icon"},[r("i",{staticClass:"uk-icon-lock"})])]:[e.document.isSvg?[r("div",{staticClass:"svg",domProps:{innerHTML:e._s(e.document.previewHtml)}})]:e.document.isImage&&!e.document.isWebp?[r("picture",[r("source",{attrs:{srcset:e.document.thumbnail80+".webp",type:"image/webp"}}),r("img",{staticClass:"document-image",attrs:{width:"80",height:"80",loading:"lazy",src:e.document.thumbnail80}})])]:e.document.isImage?[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]:[e.document.hasThumbnail?r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.document.thumbnail80,expression:"document.thumbnail80"}],staticClass:"document-image",attrs:{width:"80",height:"80",src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}}):e._e(),r("div",{staticClass:"document-platform-icon"},[r("i",{class:"uk-icon-file-"+e.document.icon+"-o"})])]],e.drawerName&&e.entityName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}),r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}})]:e.drawerName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),r("div",{staticClass:"document-links"},[r(e.document.processable?"button":"a",{tag:"component",class:["uk-button","document-link","uk-button-mini","document-link--edit"],attrs:{id:`edit-${e.drawerName}[${e.index}]`,type:e.document.processable?"button":null,href:e.document.processable?null:e.editUrl},on:{click:e.onEditClick}},[r("i",{staticClass:"uk-icon-rz-pencil"})]),r("button",{staticClass:"uk-button uk-button-mini document-link uk-button-danger rz-no-ajax-link",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[r("i",{staticClass:"uk-icon-rz-trash-o"})])],1),e.document.embedPlatform?[r("div",{staticClass:"document-mime-type"},[e._v(e._s(e.document.embedPlatform))]),r("div",{staticClass:"document-platform-icon"},[r("i",{class:"uk-icon-"+e.document.icon})])]:[r("div",{staticClass:"document-mime-type"},[e._v(e._s(e.shortMimeType))])],r("button",{staticClass:"uk-button uk-button-mini link-button",attrs:{type:"button","data-document-widget-link-document":""}},[r("div",{staticClass:"link-button-inner"},[r("i",{staticClass:"uk-icon-rz-plus"})])])],2),r("div",{staticClass:"document-name"},[e._v(e._s(e.filename))])])]):e._e()])},I2=[],B2=Wi(N2,z2,I2,!1,null,null);const Sg=B2.exports,$2={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:Bp}};var H2=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.item?r("li",{staticClass:"uk-sortable-list-item drawer-item type-label",class:{"has-thumbnail":!!e.thumbnailUrl,"not-published":e.published===!1},on:{click:function(s){return s.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"uk-sortable-handle"}),r("div",{staticClass:"border",style:{backgroundColor:e.color}}),e.thumbnailUrl&&!e.isThumbnailProcessable?r("figure",{staticClass:"thumbnail",style:{"background-image":"url("+e.thumbnailUrl+")"}}):e.thumbnailUrl&&e.isThumbnailProcessable?r("figure",{staticClass:"thumbnail"},[r("picture",[r("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}),r("img",{attrs:{src:e.thumbnailUrl,alt:e.name}})])]):e._e(),r("div",{staticClass:"names"},[e.parentName?r("p",{staticClass:"parent-name"},[e.subParentName?[r("span",{staticClass:"sub"},[e._v(" "+e._s(e.subParentName)+" ")])]:e._e(),r("span",{staticClass:"direct"},[e._v(e._s(e.parentName))])],2):e._e(),r("span",{staticClass:"name"},[e._v(e._s(e.name))]),e.inputName&&e.item&&e.item.id?r("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),r("div",{staticClass:"links",class:e.editItemUrl?"":"no-edit"},[e.editItemUrl?r("ajax-link",{staticClass:"uk-button link uk-button-mini",attrs:{href:e.editItemUrl}},[r("i",{staticClass:"uk-icon-rz-pencil"})]):e._e(),r("button",{staticClass:"uk-button uk-button-mini link uk-button-danger",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onRemoveItemButtonClick()}}},[r("i",{staticClass:"uk-icon-rz-trash-o"})])],1),r("button",{staticClass:"uk-button uk-button-mini link-button",attrs:{type:"button"}},[r("div",{staticClass:"link-button-inner"},[r("i",{staticClass:"uk-icon-rz-plus"})])])])]):e._e()])},W2=[],q2=Wi($2,H2,W2,!1,null,null);const j2=q2.exports,Y2={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:j2}};var U2=function(){var e=this,r=e._self._c;return r("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},Z2=[],G2=Wi(Y2,U2,Z2,!1,null,null);const Tg=G2.exports,X2={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var V2=function(){var e=this,r=e._self._c;return r("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),r("div",{staticClass:"new-tag"},[r("p",{staticClass:"parent-name"}),r("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},K2=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],Q2=Wi(X2,V2,K2,!1,null,"2b081330");const J2=Q2.exports,eE={mounted(){this.tagCreatorReady()},computed:{...Fa({translations:t=>t.translations,searchTerms:t=>t.explorer.searchTerms,isTagExisting:t=>t.tags.isTagExisting})},methods:{...Ns(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:J2}};var tE=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?r("div",{staticClass:"tag-creator"},[r("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),r("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},nE=[],iE=Wi(eE,tE,nE,!1,null,"5ab915fa");const rE=iE.exports;class bp{static getState(e){const r={trans:{moreItems:""}};switch(r.isFilterEnable=!1,r.currentListingView=Tg,r.trans.moreItems="moreEntities",e){case tc:r.currentListingView=Sg,r.filterExplorerIcon="uk-icon-rz-folder-tree-mini",r.trans.moreItems="moreDocuments",r.isFilterEnable=!0;break;case mf:r.filterExplorerIcon="uk-icon-tags",r.trans.moreItems="moreNodes",r.isFilterEnable=!0;break;case zp:r.trans.moreItems="moreNodeTypes";break;case nc:r.trans.moreItems="moreTags",r.isFilterEnable=!0,r.filterExplorerIcon="uk-icon-tags";break;default:r.trans.moreItems="moreEntities";break}return r}static getListingView(e){switch(e){case tc:return Sg;default:return Tg}}static getWidgetView(e){switch(e){case nc:return rE;default:return null}}}const nb={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},ib={...nb},oE={getExplorerEntity:t=>t.entity,getExplorerSearchTerms:t=>t.searchTerms},aE={async explorerOpen({commit:t,dispatch:e},{entity:r}){e("filterExplorerClose"),t(hp),t(cv,{entity:r}),await e("explorerMakeSearch"),t(dv)},explorerClose({commit:t,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),t(hp),t(Rp)},explorerToggle({dispatch:t,state:e}){e.isOpen?t("explorerClose"):t("explorerOpen")},explorerResetSearchTerms({commit:t,state:e,dispatch:r}){e.searchTerms===""?t(Bh,{searchTerms:""}):r("explorerUpdateSearch",{searchTerms:""})},explorerUpdateSearch({commit:t,dispatch:e},{searchTerms:r}){t(Bh,{searchTerms:r}),e("explorerMakeSearch")},explorerMakeSearch({commit:t,state:e,getters:r}){const s=e.entity,u=e.searchTerms,l=r.getDrawerFilters,f=e.filters,h=r.getFilterExplorerSelectedItem,b=e.isLoadingMore;return t(uv),Ip.getExplorerItems({entity:s,searchTerms:u,preFilters:l,filters:f,filterExplorerSelection:h,moreData:b}).then(w=>{t(Fp,{result:w})}).catch(w=>{console.error(w),t(lv,{error:w})})},async explorerLoadMore({commit:t,dispatch:e}){t(fv),await e("explorerMakeSearch"),t(hv)}},sE={[uv](t){t.isLoadingMore||(t.isLoading=!0)},[Bh](t,{searchTerms:e}){t.searchTerms=e},[Fp](t,{result:e}){t.isLoading=!1,t.isLoadingMore?t.items=[...t.items,...e.items]:t.items=e.items,t.filters=e.filters},[fv](t){t.isLoadingMore=!0},[hv](t){t.isLoadingMore=!1},[Np](t){t.filters={}},[hp](t){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&Ql.set(t,e,nb[e])},[lv](t){t.isLoading=!1,t.isLoadingMore=!1,t.error="Request failed"},[cv](t,{entity:e}){t.isOpen=!0,t.isLoading=!0,t.entity=e,t.trans.moreItems="",t.widgetView=bp.getWidgetView(e);const r=bp.getState(e);for(let s in r)Object.prototype.hasOwnProperty.call(t,s)&&Ql.set(t,s,r[s])},[dv](t){t.isLoading=!1},[Rp](t){t.isOpen=!1,t.isLoading=!1},[hs](){ib.isOpen=!1}},uE={state:ib,getters:oE,actions:aE,mutations:sE};var Xc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lE=Xc.exports,Ag;function cE(){return Ag||(Ag=1,(function(t,e){(function(){var r,s="4.17.21",u=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",h="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",w=500,x="__lodash_placeholder__",E=1,N=2,q=4,F=1,j=2,W=1,U=2,T=4,D=8,B=16,I=32,V=64,te=128,oe=256,ce=512,fe=30,ue="...",Te=800,pe=16,ie=1,O=2,ae=3,me=1/0,_e=9007199254740991,Ve=17976931348623157e292,Fe=NaN,Ee=4294967295,J=Ee-1,Y=Ee>>>1,Ce=[["ary",te],["bind",W],["bindKey",U],["curry",D],["curryRight",B],["flip",ce],["partial",I],["partialRight",V],["rearg",oe]],Me="[object Arguments]",G="[object Array]",ge="[object AsyncFunction]",we="[object Boolean]",Ie="[object Date]",Ye="[object DOMException]",Ge="[object Error]",st="[object Function]",wt="[object GeneratorFunction]",kt="[object Map]",Dt="[object Number]",mt="[object Null]",Mt="[object Object]",Ut="[object Promise]",hn="[object Proxy]",vt="[object RegExp]",Ot="[object Set]",Le="[object String]",nt="[object Symbol]",qe="[object Undefined]",jt="[object WeakMap]",ii="[object WeakSet]",li="[object ArrayBuffer]",qi="[object DataView]",gi="[object Float32Array]",xn="[object Float64Array]",vi="[object Int8Array]",Gn="[object Int16Array]",Mi="[object Int32Array]",Yn="[object Uint8Array]",Tt="[object Uint8ClampedArray]",Rr="[object Uint16Array]",Zt="[object Uint32Array]",ji=/\b__p \+= '';/g,Pt=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vn=/&(?:amp|lt|gt|quot|#39);/g,Dn=/[&<>"']/g,an=RegExp(vn.source),ln=RegExp(Dn.source),et=/<%-([\s\S]+?)%>/g,We=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,Bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_t=/^\w*$/,sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,Ht=RegExp(At.source),Tn=/^\s+/,Xn=/\s/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Hn=/\{\n\/\* \[wrapped with (.+)\] \*/,Yt=/,? & /,dn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cn=/[()=,{}\[\]\/\s]/,Jn=/\\(\\)?/g,Pn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,un=/\w*$/,Ei=/^[-+]0x[0-9a-f]+$/i,Yi=/^0b[01]+$/i,Oi=/^\[object .+?Constructor\]$/,Qr=/^0o[0-7]+$/i,Jr=/^(?:0|[1-9]\d*)$/,kr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pi=/($^)/,Nr=/['\n\r\u2028\u2029\\]/g,Si="\\ud800-\\udfff",lo="\\u0300-\\u036f",er="\\ufe20-\\ufe2f",Vn="\\u20d0-\\u20ff",Lt=lo+er+Vn,tr="\\u2700-\\u27bf",lr="a-z\\xdf-\\xf6\\xf8-\\xff",Ui="\\xac\\xb1\\xd7\\xf7",K="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ve="\\u2000-\\u206f",Ne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="A-Z\\xc0-\\xd6\\xd8-\\xde",Be="\\ufe0e\\ufe0f",ft=Ui+K+ve+Ne,tn="[']",Kn="["+Si+"]",Rt="["+ft+"]",cn="["+Lt+"]",co="\\d+",Wt="["+tr+"]",be="["+lr+"]",y="[^"+Si+ft+co+tr+lr+Je+"]",S="\\ud83c[\\udffb-\\udfff]",P="(?:"+cn+"|"+S+")",ee="[^"+Si+"]",re="(?:\\ud83c[\\udde6-\\uddff]){2}",de="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="["+Je+"]",Xe="\\u200d",Ke="(?:"+be+"|"+y+")",Ue="(?:"+Ae+"|"+y+")",Ze="(?:"+tn+"(?:d|ll|m|re|s|t|ve))?",ut="(?:"+tn+"(?:D|LL|M|RE|S|T|VE))?",pn=P+"?",mn="["+Be+"]?",Un="(?:"+Xe+"(?:"+[ee,re,de].join("|")+")"+mn+pn+")*",Ln="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",In="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bi=mn+pn+Un,Ft="(?:"+[Wt,re,de].join("|")+")"+bi,ci="(?:"+[ee+cn+"?",cn,re,de,Kn].join("|")+")",nn=RegExp(tn,"g"),ht=RegExp(cn,"g"),En=RegExp(S+"(?="+S+")|"+ci+bi,"g"),fi=RegExp([Ae+"?"+be+"+"+Ze+"(?="+[Rt,Ae,"$"].join("|")+")",Ue+"+"+ut+"(?="+[Rt,Ae+Ke,"$"].join("|")+")",Ae+"?"+Ke+"+"+Ze,Ae+"+"+ut,In,Ln,co,Ft].join("|"),"g"),cr=RegExp("["+Xe+Si+Lt+Be+"]"),Fi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zr=-1,Xt={};Xt[gi]=Xt[xn]=Xt[vi]=Xt[Gn]=Xt[Mi]=Xt[Yn]=Xt[Tt]=Xt[Rr]=Xt[Zt]=!0,Xt[Me]=Xt[G]=Xt[li]=Xt[we]=Xt[qi]=Xt[Ie]=Xt[Ge]=Xt[st]=Xt[kt]=Xt[Dt]=Xt[Mt]=Xt[vt]=Xt[Ot]=Xt[Le]=Xt[jt]=!1;var rn={};rn[Me]=rn[G]=rn[li]=rn[qi]=rn[we]=rn[Ie]=rn[gi]=rn[xn]=rn[vi]=rn[Gn]=rn[Mi]=rn[kt]=rn[Dt]=rn[Mt]=rn[vt]=rn[Ot]=rn[Le]=rn[nt]=rn[Yn]=rn[Tt]=rn[Rr]=rn[Zt]=!0,rn[Ge]=rn[st]=rn[jt]=!1;var Ti={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ir={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yo=parseFloat,ga=parseInt,Na=typeof lh=="object"&&lh&&lh.Object===Object&&lh,yn=typeof self=="object"&&self&&self.Object===Object&&self,Wn=Na||yn||Function("return this")(),br=e&&!e.nodeType&&e,Br=br&&!0&&t&&!t.nodeType&&t,ds=Br&&Br.exports===br,Bs=ds&&Na.process,yi=(function(){try{var Oe=Br&&Br.require&&Br.require("util").types;return Oe||Bs&&Bs.binding&&Bs.binding("util")}catch{}})(),$s=yi&&yi.isArrayBuffer,eo=yi&&yi.isDate,ps=yi&&yi.isMap,Hs=yi&&yi.isRegExp,Co=yi&&yi.isSet,dl=yi&&yi.isTypedArray;function di(Oe,Qe,$e){switch($e.length){case 0:return Oe.call(Qe);case 1:return Oe.call(Qe,$e[0]);case 2:return Oe.call(Qe,$e[0],$e[1]);case 3:return Oe.call(Qe,$e[0],$e[1],$e[2])}return Oe.apply(Qe,$e)}function lc(Oe,Qe,$e,Et){for(var Kt=-1,Mn=Oe==null?0:Oe.length;++Kt<Mn;){var Ai=Oe[Kt];Qe(Et,Ai,$e(Ai),Oe)}return Et}function $r(Oe,Qe){for(var $e=-1,Et=Oe==null?0:Oe.length;++$e<Et&&Qe(Oe[$e],$e,Oe)!==!1;);return Oe}function Eo(Oe,Qe){for(var $e=Oe==null?0:Oe.length;$e--&&Qe(Oe[$e],$e,Oe)!==!1;);return Oe}function Ws(Oe,Qe){for(var $e=-1,Et=Oe==null?0:Oe.length;++$e<Et;)if(!Qe(Oe[$e],$e,Oe))return!1;return!0}function So(Oe,Qe){for(var $e=-1,Et=Oe==null?0:Oe.length,Kt=0,Mn=[];++$e<Et;){var Ai=Oe[$e];Qe(Ai,$e,Oe)&&(Mn[Kt++]=Ai)}return Mn}function za(Oe,Qe){var $e=Oe==null?0:Oe.length;return!!$e&&ai(Oe,Qe,0)>-1}function Pu(Oe,Qe,$e){for(var Et=-1,Kt=Oe==null?0:Oe.length;++Et<Kt;)if($e(Qe,Oe[Et]))return!0;return!1}function ri(Oe,Qe){for(var $e=-1,Et=Oe==null?0:Oe.length,Kt=Array(Et);++$e<Et;)Kt[$e]=Qe(Oe[$e],$e,Oe);return Kt}function fo(Oe,Qe){for(var $e=-1,Et=Qe.length,Kt=Oe.length;++$e<Et;)Oe[Kt+$e]=Qe[$e];return Oe}function Fu(Oe,Qe,$e,Et){var Kt=-1,Mn=Oe==null?0:Oe.length;for(Et&&Mn&&($e=Oe[++Kt]);++Kt<Mn;)$e=Qe($e,Oe[Kt],Kt,Oe);return $e}function pl(Oe,Qe,$e,Et){var Kt=Oe==null?0:Oe.length;for(Et&&Kt&&($e=Oe[--Kt]);Kt--;)$e=Qe($e,Oe[Kt],Kt,Oe);return $e}function Uo(Oe,Qe){for(var $e=-1,Et=Oe==null?0:Oe.length;++$e<Et;)if(Qe(Oe[$e],$e,Oe))return!0;return!1}var Ia=qs("length");function ml(Oe){return Oe.split("")}function gl(Oe){return Oe.match(dn)||[]}function ms(Oe,Qe,$e){var Et;return $e(Oe,function(Kt,Mn,Ai){if(Qe(Kt,Mn,Ai))return Et=Mn,!1}),Et}function Cr(Oe,Qe,$e,Et){for(var Kt=Oe.length,Mn=$e+(Et?1:-1);Et?Mn--:++Mn<Kt;)if(Qe(Oe[Mn],Mn,Oe))return Mn;return-1}function ai(Oe,Qe,$e){return Qe===Qe?ba(Oe,Qe,$e):Cr(Oe,Er,$e)}function gs(Oe,Qe,$e,Et){for(var Kt=$e-1,Mn=Oe.length;++Kt<Mn;)if(Et(Oe[Kt],Qe))return Kt;return-1}function Er(Oe){return Oe!==Oe}function va(Oe,Qe){var $e=Oe==null?0:Oe.length;return $e?Us(Oe,Qe)/$e:Fe}function qs(Oe){return function(Qe){return Qe==null?r:Qe[Oe]}}function js(Oe){return function(Qe){return Oe==null?r:Oe[Qe]}}function Ys(Oe,Qe,$e,Et,Kt){return Kt(Oe,function(Mn,Ai,Zn){$e=Et?(Et=!1,Mn):Qe($e,Mn,Ai,Zn)}),$e}function vs(Oe,Qe){var $e=Oe.length;for(Oe.sort(Qe);$e--;)Oe[$e]=Oe[$e].value;return Oe}function Us(Oe,Qe){for(var $e,Et=-1,Kt=Oe.length;++Et<Kt;){var Mn=Qe(Oe[Et]);Mn!==r&&($e=$e===r?Mn:$e+Mn)}return $e}function Ru(Oe,Qe){for(var $e=-1,Et=Array(Oe);++$e<Oe;)Et[$e]=Qe($e);return Et}function vl(Oe,Qe){return ri(Qe,function($e){return[$e,Oe[$e]]})}function Nu(Oe){return Oe&&Oe.slice(0,Xs(Oe)+1).replace(Tn,"")}function si(Oe){return function(Qe){return Oe(Qe)}}function Zo(Oe,Qe){return ri(Qe,function($e){return Oe[$e]})}function To(Oe,Qe){return Oe.has(Qe)}function Zi(Oe,Qe){for(var $e=-1,Et=Oe.length;++$e<Et&&ai(Qe,Oe[$e],0)>-1;);return $e}function bs(Oe,Qe){for(var $e=Oe.length;$e--&&ai(Qe,Oe[$e],0)>-1;);return $e}function Go(Oe,Qe){for(var $e=Oe.length,Et=0;$e--;)Oe[$e]===Qe&&++Et;return Et}var bl=js(Ti),Sr=js(Ir);function Xo(Oe){return"\\"+ma[Oe]}function Ba(Oe,Qe){return Oe==null?r:Oe[Qe]}function $a(Oe){return cr.test(Oe)}function Ao(Oe){return Fi.test(Oe)}function Zs(Oe){for(var Qe,$e=[];!(Qe=Oe.next()).done;)$e.push(Qe.value);return $e}function Gs(Oe){var Qe=-1,$e=Array(Oe.size);return Oe.forEach(function(Et,Kt){$e[++Qe]=[Kt,Et]}),$e}function Ha(Oe,Qe){return function($e){return Oe(Qe($e))}}function Hr(Oe,Qe){for(var $e=-1,Et=Oe.length,Kt=0,Mn=[];++$e<Et;){var Ai=Oe[$e];(Ai===Qe||Ai===x)&&(Oe[$e]=x,Mn[Kt++]=$e)}return Mn}function _i(Oe){var Qe=-1,$e=Array(Oe.size);return Oe.forEach(function(Et){$e[++Qe]=Et}),$e}function yl(Oe){var Qe=-1,$e=Array(Oe.size);return Oe.forEach(function(Et){$e[++Qe]=[Et,Et]}),$e}function ba(Oe,Qe,$e){for(var Et=$e-1,Kt=Oe.length;++Et<Kt;)if(Oe[Et]===Qe)return Et;return-1}function cc(Oe,Qe,$e){for(var Et=$e+1;Et--;)if(Oe[Et]===Qe)return Et;return Et}function Tr(Oe){return $a(Oe)?Vo(Oe):Ia(Oe)}function Ar(Oe){return $a(Oe)?Ks(Oe):ml(Oe)}function Xs(Oe){for(var Qe=Oe.length;Qe--&&Xn.test(Oe.charAt(Qe)););return Qe}var Vs=js(jo);function Vo(Oe){for(var Qe=En.lastIndex=0;En.test(Oe);)++Qe;return Qe}function Ks(Oe){return Oe.match(En)||[]}function ys(Oe){return Oe.match(fi)||[]}var Ko=(function Oe(Qe){Qe=Qe==null?Wn:Yr.defaults(Wn.Object(),Qe,Yr.pick(Wn,jr));var $e=Qe.Array,Et=Qe.Date,Kt=Qe.Error,Mn=Qe.Function,Ai=Qe.Math,Zn=Qe.Object,_s=Qe.RegExp,ho=Qe.String,yr=Qe.TypeError,Qs=$e.prototype,po=Mn.prototype,to=Zn.prototype,mo=Qe["__core-js_shared__"],Wa=po.toString,An=to.hasOwnProperty,_l=0,Do=(function(){var c=/[^.]+$/.exec(mo&&mo.keys&&mo.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""})(),no=to.toString,Qo=Wa.call(Zn),_r=Wn._,fr=_s("^"+Wa.call(An).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=ds?Qe.Buffer:r,Zr=Qe.Symbol,Jo=Qe.Uint8Array,zu=Ur?Ur.allocUnsafe:r,io=Ha(Zn.getPrototypeOf,Zn),ya=Zn.create,xs=to.propertyIsEnumerable,ea=Qs.splice,xl=Zr?Zr.isConcatSpreadable:r,ta=Zr?Zr.iterator:r,Lo=Zr?Zr.toStringTag:r,_a=(function(){try{var c=Ja(Zn,"defineProperty");return c({},"",{}),c}catch{}})(),Js=Qe.clearTimeout!==Wn.clearTimeout&&Qe.clearTimeout,xa=Et&&Et.now!==Wn.Date.now&&Et.now,eu=Qe.setTimeout!==Wn.setTimeout&&Qe.setTimeout,qa=Ai.ceil,na=Ai.floor,Iu=Zn.getOwnPropertySymbols,o=Ur?Ur.isBuffer:r,m=Qe.isFinite,_=Qs.join,A=Ha(Zn.keys,Zn),H=Ai.max,ne=Ai.min,ke=Et.now,ze=Qe.parseInt,He=Ai.random,ot=Qs.reverse,xt=Ja(Qe,"DataView"),zt=Ja(Qe,"Map"),on=Ja(Qe,"Promise"),ei=Ja(Qe,"Set"),ti=Ja(Qe,"WeakMap"),xi=Ja(Zn,"create"),Gi=ti&&new ti,Gr={},wl=Ni(xt),fc=Ni(zt),wa=Ni(on),ia=Ni(ei),hc=Ni(ti),ws=Zr?Zr.prototype:r,ui=ws?ws.valueOf:r,ks=ws?ws.toString:r;function se(c){if(Vi(c)&&!bn(c)&&!(c instanceof Gt)){if(c instanceof Rn)return c;if(An.call(c,"__wrapped__"))return Lr(c)}return new Rn(c)}var ja=(function(){function c(){}return function(g){if(!Bi(g))return{};if(ya)return ya(g);c.prototype=g;var k=new c;return c.prototype=r,k}})();function nr(){}function Rn(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=r}se.templateSettings={escape:et,evaluate:We,interpolate:at,variable:"",imports:{_:se}},se.prototype=nr.prototype,se.prototype.constructor=se,Rn.prototype=ja(nr.prototype),Rn.prototype.constructor=Rn;function Gt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Ri(){var c=new Gt(this.__wrapped__);return c.__actions__=Xr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Xr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Xr(this.__views__),c}function Bu(){if(this.__filtered__){var c=new Gt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function nd(){var c=this.__wrapped__.value(),g=this.__dir__,k=bn(c),R=g<0,Q=k?c.length:0,le=kd(0,Q,this.__views__),xe=le.start,Se=le.end,Re=Se-xe,it=R?Se:xe-1,rt=this.__iteratees__,lt=rt.length,St=0,qt=ne(Re,this.__takeCount__);if(!k||!R&&Q==Re&&qt==Re)return Uu(c,this.__actions__);var Qt=[];e:for(;Re--&&St<qt;){it+=g;for(var Sn=-1,Jt=c[it];++Sn<lt;){var Fn=rt[Sn],$n=Fn.iteratee,Io=Fn.type,so=$n(Jt);if(Io==O)Jt=so;else if(!so){if(Io==ie)continue e;break e}}Qt[St++]=Jt}return Qt}Gt.prototype=ja(nr.prototype),Gt.prototype.constructor=Gt;function ra(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var R=c[g];this.set(R[0],R[1])}}function id(){this.__data__=xi?xi(null):{},this.size=0}function rd(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function od(c){var g=this.__data__;if(xi){var k=g[c];return k===b?r:k}return An.call(g,c)?g[c]:r}function dc(c){var g=this.__data__;return xi?g[c]!==r:An.call(g,c)}function bf(c,g){var k=this.__data__;return this.size+=this.has(c)?0:1,k[c]=xi&&g===r?b:g,this}ra.prototype.clear=id,ra.prototype.delete=rd,ra.prototype.get=od,ra.prototype.has=dc,ra.prototype.set=bf;function Mo(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var R=c[g];this.set(R[0],R[1])}}function ad(){this.__data__=[],this.size=0}function pc(c){var g=this.__data__,k=nu(g,c);if(k<0)return!1;var R=g.length-1;return k==R?g.pop():ea.call(g,k,1),--this.size,!0}function mc(c){var g=this.__data__,k=nu(g,c);return k<0?r:g[k][1]}function yf(c){return nu(this.__data__,c)>-1}function _f(c,g){var k=this.__data__,R=nu(k,c);return R<0?(++this.size,k.push([c,g])):k[R][1]=g,this}Mo.prototype.clear=ad,Mo.prototype.delete=pc,Mo.prototype.get=mc,Mo.prototype.has=yf,Mo.prototype.set=_f;function Oo(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var R=c[g];this.set(R[0],R[1])}}function xf(){this.size=0,this.__data__={hash:new ra,map:new(zt||Mo),string:new ra}}function $u(c){var g=il(this,c).delete(c);return this.size-=g?1:0,g}function sd(c){return il(this,c).get(c)}function kl(c){return il(this,c).has(c)}function ka(c,g){var k=il(this,c),R=k.size;return k.set(c,g),this.size+=k.size==R?0:1,this}Oo.prototype.clear=xf,Oo.prototype.delete=$u,Oo.prototype.get=sd,Oo.prototype.has=kl,Oo.prototype.set=ka;function Ya(c){var g=-1,k=c==null?0:c.length;for(this.__data__=new Oo;++g<k;)this.add(c[g])}function ud(c){return this.__data__.set(c,b),this}function wf(c){return this.__data__.has(c)}Ya.prototype.add=Ya.prototype.push=ud,Ya.prototype.has=wf;function wi(c){var g=this.__data__=new Mo(c);this.size=g.size}function qn(){this.__data__=new Mo,this.size=0}function Po(c){var g=this.__data__,k=g.delete(c);return this.size=g.size,k}function Ua(c){return this.__data__.get(c)}function Za(c){return this.__data__.has(c)}function kf(c,g){var k=this.__data__;if(k instanceof Mo){var R=k.__data__;if(!zt||R.length<u-1)return R.push([c,g]),this.size=++k.size,this;k=this.__data__=new Oo(R)}return k.set(c,g),this.size=k.size,this}wi.prototype.clear=qn,wi.prototype.delete=Po,wi.prototype.get=Ua,wi.prototype.has=Za,wi.prototype.set=kf;function Cl(c,g){var k=bn(c),R=!k&&rl(c),Q=!k&&!R&&xu(c),le=!k&&!R&&!Q&&Hl(c),xe=k||R||Q||le,Se=xe?Ru(c.length,ho):[],Re=Se.length;for(var it in c)(g||An.call(c,it))&&!(xe&&(it=="length"||Q&&(it=="offset"||it=="parent")||le&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||p(it,Re)))&&Se.push(it);return Se}function gc(c){var g=c.length;return g?c[Dl(0,g-1)]:r}function ld(c,g){return Li(Xr(c),Ea(g,0,c.length))}function vc(c){return Li(Xr(c))}function Cs(c,g,k){(k!==r&&!Ta(c[g],k)||k===r&&!(g in c))&&Ca(c,g,k)}function tu(c,g,k){var R=c[g];(!(An.call(c,g)&&Ta(R,k))||k===r&&!(g in c))&&Ca(c,g,k)}function nu(c,g){for(var k=c.length;k--;)if(Ta(c[k][0],g))return k;return-1}function Ga(c,g,k,R){return Fo(c,function(Q,le,xe){g(R,Q,k(Q),xe)}),R}function bc(c,g){return c&&No(g,Or(g),c)}function Cf(c,g){return c&&No(g,yo(g),c)}function Ca(c,g,k){g=="__proto__"&&_a?_a(c,g,{configurable:!0,enumerable:!0,value:k,writable:!0}):c[g]=k}function iu(c,g){for(var k=-1,R=g.length,Q=$e(R),le=c==null;++k<R;)Q[k]=le?r:Md(c,g[k]);return Q}function Ea(c,g,k){return c===c&&(k!==r&&(c=c<=k?c:k),g!==r&&(c=c>=g?c:g)),c}function ro(c,g,k,R,Q,le){var xe,Se=g&E,Re=g&N,it=g&q;if(k&&(xe=Q?k(c,R,Q,le):k(c)),xe!==r)return xe;if(!Bi(c))return c;var rt=bn(c);if(rt){if(xe=Cd(c),!Se)return Xr(c,xe)}else{var lt=or(c),St=lt==st||lt==wt;if(xu(c))return Dc(c,Se);if(lt==Mt||lt==Me||St&&!Q){if(xe=Re||St?{}:eh(c),!Se)return Re?yd(c,Cf(xe,c)):jf(c,bc(xe,c))}else{if(!rn[lt])return Q?c:{};xe=$l(c,lt,Se)}}le||(le=new wi);var qt=le.get(c);if(qt)return qt;le.set(c,xe),vm(c)?c.forEach(function(Jt){xe.add(ro(Jt,g,k,Jt,c,le))}):mm(c)&&c.forEach(function(Jt,Fn){xe.set(Fn,ro(Jt,g,k,Fn,c,le))});var Qt=it?Re?Bl:Il:Re?yo:Or,Sn=rt?r:Qt(c);return $r(Sn||c,function(Jt,Fn){Sn&&(Fn=Jt,Jt=c[Fn]),tu(xe,Fn,ro(Jt,g,k,Fn,c,le))}),xe}function cd(c){var g=Or(c);return function(k){return yc(k,c,g)}}function yc(c,g,k){var R=k.length;if(c==null)return!R;for(c=Zn(c);R--;){var Q=k[R],le=g[Q],xe=c[Q];if(xe===r&&!(Q in c)||!le(xe))return!1}return!0}function Ef(c,g,k){if(typeof c!="function")throw new yr(f);return It(function(){c.apply(r,k)},g)}function Hu(c,g,k,R){var Q=-1,le=za,xe=!0,Se=c.length,Re=[],it=g.length;if(!Se)return Re;k&&(g=ri(g,si(k))),R?(le=Pu,xe=!1):g.length>=u&&(le=To,xe=!1,g=new Ya(g));e:for(;++Q<Se;){var rt=c[Q],lt=k==null?rt:k(rt);if(rt=R||rt!==0?rt:0,xe&&lt===lt){for(var St=it;St--;)if(g[St]===lt)continue e;Re.push(rt)}else le(g,lt,R)||Re.push(rt)}return Re}var Fo=mu(go),_c=mu(Sl,!0);function fd(c,g){var k=!0;return Fo(c,function(R,Q,le){return k=!!g(R,Q,le),k}),k}function El(c,g,k){for(var R=-1,Q=c.length;++R<Q;){var le=c[R],xe=g(le);if(xe!=null&&(Se===r?xe===xe&&!zo(xe):k(xe,Se)))var Se=xe,Re=le}return Re}function Sf(c,g,k,R){var Q=c.length;for(k=kn(k),k<0&&(k=-k>Q?0:Q+k),R=R===r||R>Q?Q:kn(R),R<0&&(R+=Q),R=k>R?0:ym(R);k<R;)c[k++]=g;return c}function Es(c,g){var k=[];return Fo(c,function(R,Q,le){g(R,Q,le)&&k.push(R)}),k}function ir(c,g,k,R,Q){var le=-1,xe=c.length;for(k||(k=a),Q||(Q=[]);++le<xe;){var Se=c[le];g>0&&k(Se)?g>1?ir(Se,g-1,k,R,Q):fo(Q,Se):R||(Q[Q.length]=Se)}return Q}var ru=Yf(),xc=Yf(!0);function go(c,g){return c&&ru(c,g,Or)}function Sl(c,g){return c&&xc(c,g,Or)}function Tl(c,g){return So(g,function(k){return Os(c[k])})}function Xa(c,g){g=Qa(g,c);for(var k=0,R=g.length;c!=null&&k<R;)c=c[ki(g[k++])];return k&&k==R?c:r}function hr(c,g,k){var R=g(c);return bn(c)?R:fo(R,k(c))}function dr(c){return c==null?c===r?qe:mt:Lo&&Lo in Zn(c)?wd(c):tt(c)}function Al(c,g){return c>g}function Tf(c,g){return c!=null&&An.call(c,g)}function Af(c,g){return c!=null&&g in Zn(c)}function ou(c,g,k){return c>=ne(g,k)&&c<H(g,k)}function au(c,g,k){for(var R=k?Pu:za,Q=c[0].length,le=c.length,xe=le,Se=$e(le),Re=1/0,it=[];xe--;){var rt=c[xe];xe&&g&&(rt=ri(rt,si(g))),Re=ne(rt.length,Re),Se[xe]=!k&&(g||Q>=120&&rt.length>=120)?new Ya(xe&&rt):r}rt=c[0];var lt=-1,St=Se[0];e:for(;++lt<Q&&it.length<Re;){var qt=rt[lt],Qt=g?g(qt):qt;if(qt=k||qt!==0?qt:0,!(St?To(St,Qt):R(it,Qt,k))){for(xe=le;--xe;){var Sn=Se[xe];if(!(Sn?To(Sn,Qt):R(c[xe],Qt,k)))continue e}St&&St.push(Qt),it.push(qt)}}return it}function Df(c,g,k,R){return go(c,function(Q,le,xe){g(R,k(Q),le,xe)}),R}function su(c,g,k){g=Qa(g,c),c=pt(c,g);var R=c==null?c:c[ki(ca(g))];return R==null?r:di(R,c,k)}function wc(c){return Vi(c)&&dr(c)==Me}function uu(c){return Vi(c)&&dr(c)==li}function Lf(c){return Vi(c)&&dr(c)==Ie}function Va(c,g,k,R,Q){return c===g?!0:c==null||g==null||!Vi(c)&&!Vi(g)?c!==c&&g!==g:Mf(c,g,k,R,Va,Q)}function Mf(c,g,k,R,Q,le){var xe=bn(c),Se=bn(g),Re=xe?G:or(c),it=Se?G:or(g);Re=Re==Me?Mt:Re,it=it==Me?Mt:it;var rt=Re==Mt,lt=it==Mt,St=Re==it;if(St&&xu(c)){if(!xu(g))return!1;xe=!0,rt=!1}if(St&&!rt)return le||(le=new wi),xe||Hl(c)?vo(c,g,k,R,Q,le):zl(c,g,Re,k,R,Q,le);if(!(k&F)){var qt=rt&&An.call(c,"__wrapped__"),Qt=lt&&An.call(g,"__wrapped__");if(qt||Qt){var Sn=qt?c.value():c,Jt=Qt?g.value():g;return le||(le=new wi),Q(Sn,Jt,k,R,le)}}return St?(le||(le=new wi),Nc(c,g,k,R,Q,le)):!1}function Wu(c){return Vi(c)&&or(c)==kt}function kc(c,g,k,R){var Q=k.length,le=Q,xe=!R;if(c==null)return!le;for(c=Zn(c);Q--;){var Se=k[Q];if(xe&&Se[2]?Se[1]!==c[Se[0]]:!(Se[0]in c))return!1}for(;++Q<le;){Se=k[Q];var Re=Se[0],it=c[Re],rt=Se[1];if(xe&&Se[2]){if(it===r&&!(Re in c))return!1}else{var lt=new wi;if(R)var St=R(it,rt,Re,c,g,lt);if(!(St===r?Va(rt,it,F|j,R,lt):St))return!1}}return!0}function Ss(c){if(!Bi(c)||z(c))return!1;var g=Os(c)?fr:Oi;return g.test(Ni(c))}function Of(c){return Vi(c)&&dr(c)==vt}function Pf(c){return Vi(c)&&or(c)==Ot}function Ff(c){return Vi(c)&&ah(c.length)&&!!Xt[dr(c)]}function lu(c){return typeof c=="function"?c:c==null?_o:typeof c=="object"?bn(c)?Ec(c[0],c[1]):Rf(c):Lm(c)}function Ts(c){if(!X(c))return A(c);var g=[];for(var k in Zn(c))An.call(c,k)&&k!="constructor"&&g.push(k);return g}function qu(c){if(!Bi(c))return je(c);var g=X(c),k=[];for(var R in c)R=="constructor"&&(g||!An.call(c,R))||k.push(R);return k}function As(c,g){return c<g}function Cc(c,g){var k=-1,R=bo(c)?$e(c.length):[];return Fo(c,function(Q,le,xe){R[++k]=g(Q,le,xe)}),R}function Rf(c){var g=jn(c);return g.length==1&&g[0][2]?ye(g[0][0],g[0][1]):function(k){return k===c||kc(k,c,g)}}function Ec(c,g){return v(c)&&he(g)?ye(ki(c),g):function(k){var R=Md(k,c);return R===r&&R===g?Od(k,c):Va(g,R,F|j)}}function Ro(c,g,k,R,Q){c!==g&&ru(g,function(le,xe){if(Q||(Q=new wi),Bi(le))cu(c,g,xe,k,Ro,R,Q);else{var Se=R?R(dt(c,xe),le,xe+"",c,g,Q):r;Se===r&&(Se=le),Cs(c,xe,Se)}},yo)}function cu(c,g,k,R,Q,le,xe){var Se=dt(c,k),Re=dt(g,k),it=xe.get(Re);if(it){Cs(c,k,it);return}var rt=le?le(Se,Re,k+"",c,g,xe):r,lt=rt===r;if(lt){var St=bn(Re),qt=!St&&xu(Re),Qt=!St&&!qt&&Hl(Re);rt=Re,St||qt||Qt?bn(Se)?rt=Se:sr(Se)?rt=Xr(Se):qt?(lt=!1,rt=Dc(Re,!0)):Qt?(lt=!1,rt=Lc(Re,!0)):rt=[]:Bc(Re)||rl(Re)?(rt=Se,rl(Se)?rt=_m(Se):(!Bi(Se)||Os(Se))&&(rt=eh(Re))):lt=!1}lt&&(xe.set(Re,rt),Q(rt,Re,R,le,xe),xe.delete(Re)),Cs(c,k,rt)}function fu(c,g){var k=c.length;if(k)return g+=g<0?k:0,p(g,k)?c[g]:r}function Nf(c,g,k){g.length?g=ri(g,function(le){return bn(le)?function(xe){return Xa(xe,le.length===1?le[0]:le)}:le}):g=[_o];var R=-1;g=ri(g,si(Vt()));var Q=Cc(c,function(le,xe,Se){var Re=ri(g,function(it){return it(le)});return{criteria:Re,index:++R,value:le}});return vs(Q,function(le,xe){return bd(le,xe,k)})}function zf(c,g){return If(c,g,function(k,R){return Od(c,R)})}function If(c,g,k){for(var R=-1,Q=g.length,le={};++R<Q;){var xe=g[R],Se=Xa(c,xe);k(Se,xe)&&hu(le,Qa(xe,c),Se)}return le}function hd(c){return function(g){return Xa(g,c)}}function Sc(c,g,k,R){var Q=R?gs:ai,le=-1,xe=g.length,Se=c;for(c===g&&(g=Xr(g)),k&&(Se=ri(c,si(k)));++le<xe;)for(var Re=0,it=g[le],rt=k?k(it):it;(Re=Q(Se,rt,Re,R))>-1;)Se!==c&&ea.call(Se,Re,1),ea.call(c,Re,1);return c}function Dr(c,g){for(var k=c?g.length:0,R=k-1;k--;){var Q=g[k];if(k==R||Q!==le){var le=Q;p(Q)?ea.call(c,Q,1):Ll(c,Q)}}return c}function Dl(c,g){return c+na(He()*(g-c+1))}function dd(c,g,k,R){for(var Q=-1,le=H(qa((g-c)/(k||1)),0),xe=$e(le);le--;)xe[R?le:++Q]=c,c+=k;return xe}function Tc(c,g){var k="";if(!c||g<1||g>_e)return k;do g%2&&(k+=c),g=na(g/2),g&&(c+=c);while(g);return k}function wn(c,g){return Nt(ct(c,g,_o),c+"")}function Bf(c){return gc(Wl(c))}function $f(c,g){var k=Wl(c);return Li(k,Ea(g,0,k.length))}function hu(c,g,k,R){if(!Bi(c))return c;g=Qa(g,c);for(var Q=-1,le=g.length,xe=le-1,Se=c;Se!=null&&++Q<le;){var Re=ki(g[Q]),it=k;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return c;if(Q!=xe){var rt=Se[Re];it=R?R(rt,Re,Se):r,it===r&&(it=Bi(rt)?rt:p(g[Q+1])?[]:{})}tu(Se,Re,it),Se=Se[Re]}return c}var Hf=Gi?function(c,g){return Gi.set(c,g),c}:_o,pd=_a?function(c,g){return _a(c,"toString",{configurable:!0,enumerable:!1,value:Fd(g),writable:!0})}:_o;function md(c){return Li(Wl(c))}function rr(c,g,k){var R=-1,Q=c.length;g<0&&(g=-g>Q?0:Q+g),k=k>Q?Q:k,k<0&&(k+=Q),Q=g>k?0:k-g>>>0,g>>>=0;for(var le=$e(Q);++R<Q;)le[R]=c[R+g];return le}function ju(c,g){var k;return Fo(c,function(R,Q,le){return k=g(R,Q,le),!k}),!!k}function Ds(c,g,k){var R=0,Q=c==null?R:c.length;if(typeof g=="number"&&g===g&&Q<=Y){for(;R<Q;){var le=R+Q>>>1,xe=c[le];xe!==null&&!zo(xe)&&(k?xe<=g:xe<g)?R=le+1:Q=le}return Q}return Ls(c,g,_o,k)}function Ls(c,g,k,R){var Q=0,le=c==null?0:c.length;if(le===0)return 0;g=k(g);for(var xe=g!==g,Se=g===null,Re=zo(g),it=g===r;Q<le;){var rt=na((Q+le)/2),lt=k(c[rt]),St=lt!==r,qt=lt===null,Qt=lt===lt,Sn=zo(lt);if(xe)var Jt=R||Qt;else it?Jt=Qt&&(R||St):Se?Jt=Qt&&St&&(R||!qt):Re?Jt=Qt&&St&&!qt&&(R||!Sn):qt||Sn?Jt=!1:Jt=R?lt<=g:lt<g;Jt?Q=rt+1:le=rt}return ne(le,J)}function oa(c,g){for(var k=-1,R=c.length,Q=0,le=[];++k<R;){var xe=c[k],Se=g?g(xe):xe;if(!k||!Ta(Se,Re)){var Re=Se;le[Q++]=xe===0?0:xe}}return le}function Wf(c){return typeof c=="number"?c:zo(c)?Fe:+c}function oo(c){if(typeof c=="string")return c;if(bn(c))return ri(c,oo)+"";if(zo(c))return ks?ks.call(c):"";var g=c+"";return g=="0"&&1/c==-me?"-0":g}function ao(c,g,k){var R=-1,Q=za,le=c.length,xe=!0,Se=[],Re=Se;if(k)xe=!1,Q=Pu;else if(le>=u){var it=g?null:xd(c);if(it)return _i(it);xe=!1,Q=To,Re=new Ya}else Re=g?[]:Se;e:for(;++R<le;){var rt=c[R],lt=g?g(rt):rt;if(rt=k||rt!==0?rt:0,xe&&lt===lt){for(var St=Re.length;St--;)if(Re[St]===lt)continue e;g&&Re.push(lt),Se.push(rt)}else Q(Re,lt,k)||(Re!==Se&&Re.push(lt),Se.push(rt))}return Se}function Ll(c,g){return g=Qa(g,c),c=pt(c,g),c==null||delete c[ki(ca(g))]}function Ac(c,g,k,R){return hu(c,g,k(Xa(c,g)),R)}function Yu(c,g,k,R){for(var Q=c.length,le=R?Q:-1;(R?le--:++le<Q)&&g(c[le],le,c););return k?rr(c,R?0:le,R?le+1:Q):rr(c,R?le+1:0,R?Q:le)}function Uu(c,g){var k=c;return k instanceof Gt&&(k=k.value()),Fu(g,function(R,Q){return Q.func.apply(Q.thisArg,fo([R],Q.args))},k)}function Ka(c,g,k){var R=c.length;if(R<2)return R?ao(c[0]):[];for(var Q=-1,le=$e(R);++Q<R;)for(var xe=c[Q],Se=-1;++Se<R;)Se!=Q&&(le[Q]=Hu(le[Q]||xe,c[Se],g,k));return ao(ir(le,1),g,k)}function Ml(c,g,k){for(var R=-1,Q=c.length,le=g.length,xe={};++R<Q;){var Se=R<le?g[R]:r;k(xe,c[R],Se)}return xe}function Zu(c){return sr(c)?c:[]}function Gu(c){return typeof c=="function"?c:_o}function Qa(c,g){return bn(c)?c:v(c,g)?[c]:hi(ni(c))}var Xu=wn;function Sa(c,g,k){var R=c.length;return k=k===r?R:k,!g&&k>=R?c:rr(c,g,k)}var qf=Js||function(c){return Wn.clearTimeout(c)};function Dc(c,g){if(g)return c.slice();var k=c.length,R=zu?zu(k):new c.constructor(k);return c.copy(R),R}function du(c){var g=new c.constructor(c.byteLength);return new Jo(g).set(new Jo(c)),g}function gd(c,g){var k=g?du(c.buffer):c.buffer;return new c.constructor(k,c.byteOffset,c.byteLength)}function vd(c){var g=new c.constructor(c.source,un.exec(c));return g.lastIndex=c.lastIndex,g}function Vu(c){return ui?Zn(ui.call(c)):{}}function Lc(c,g){var k=g?du(c.buffer):c.buffer;return new c.constructor(k,c.byteOffset,c.length)}function Mc(c,g){if(c!==g){var k=c!==r,R=c===null,Q=c===c,le=zo(c),xe=g!==r,Se=g===null,Re=g===g,it=zo(g);if(!Se&&!it&&!le&&c>g||le&&xe&&Re&&!Se&&!it||R&&xe&&Re||!k&&Re||!Q)return 1;if(!R&&!le&&!it&&c<g||it&&k&&Q&&!R&&!le||Se&&k&&Q||!xe&&Q||!Re)return-1}return 0}function bd(c,g,k){for(var R=-1,Q=c.criteria,le=g.criteria,xe=Q.length,Se=k.length;++R<xe;){var Re=Mc(Q[R],le[R]);if(Re){if(R>=Se)return Re;var it=k[R];return Re*(it=="desc"?-1:1)}}return c.index-g.index}function Ol(c,g,k,R){for(var Q=-1,le=c.length,xe=k.length,Se=-1,Re=g.length,it=H(le-xe,0),rt=$e(Re+it),lt=!R;++Se<Re;)rt[Se]=g[Se];for(;++Q<xe;)(lt||Q<le)&&(rt[k[Q]]=c[Q]);for(;it--;)rt[Se++]=c[Q++];return rt}function Oc(c,g,k,R){for(var Q=-1,le=c.length,xe=-1,Se=k.length,Re=-1,it=g.length,rt=H(le-Se,0),lt=$e(rt+it),St=!R;++Q<rt;)lt[Q]=c[Q];for(var qt=Q;++Re<it;)lt[qt+Re]=g[Re];for(;++xe<Se;)(St||Q<le)&&(lt[qt+k[xe]]=c[Q++]);return lt}function Xr(c,g){var k=-1,R=c.length;for(g||(g=$e(R));++k<R;)g[k]=c[k];return g}function No(c,g,k,R){var Q=!k;k||(k={});for(var le=-1,xe=g.length;++le<xe;){var Se=g[le],Re=R?R(k[Se],c[Se],Se,k,c):r;Re===r&&(Re=c[Se]),Q?Ca(k,Se,Re):tu(k,Se,Re)}return k}function jf(c,g){return No(c,es(c),g)}function yd(c,g){return No(c,Qf(c),g)}function pu(c,g){return function(k,R){var Q=bn(k)?lc:Ga,le=g?g():{};return Q(k,c,Vt(R,2),le)}}function aa(c){return wn(function(g,k){var R=-1,Q=k.length,le=Q>1?k[Q-1]:r,xe=Q>2?k[2]:r;for(le=c.length>3&&typeof le=="function"?(Q--,le):r,xe&&d(k[0],k[1],xe)&&(le=Q<3?r:le,Q=1),g=Zn(g);++R<Q;){var Se=k[R];Se&&c(g,Se,R,le)}return g})}function mu(c,g){return function(k,R){if(k==null)return k;if(!bo(k))return c(k,R);for(var Q=k.length,le=g?Q:-1,xe=Zn(k);(g?le--:++le<Q)&&R(xe[le],le,xe)!==!1;);return k}}function Yf(c){return function(g,k,R){for(var Q=-1,le=Zn(g),xe=R(g),Se=xe.length;Se--;){var Re=xe[c?Se:++Q];if(k(le[Re],Re,le)===!1)break}return g}}function Uf(c,g,k){var R=g&W,Q=Ku(c);function le(){var xe=this&&this!==Wn&&this instanceof le?Q:c;return xe.apply(R?k:this,arguments)}return le}function Zf(c){return function(g){g=ni(g);var k=$a(g)?Ar(g):r,R=k?k[0]:g.charAt(0),Q=k?Sa(k,1).join(""):g.slice(1);return R[c]()+Q}}function gu(c){return function(g){return Fu(Am(Tm(g).replace(nn,"")),c,"")}}function Ku(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var k=ja(c.prototype),R=c.apply(k,g);return Bi(R)?R:k}}function _d(c,g,k){var R=Ku(c);function Q(){for(var le=arguments.length,xe=$e(le),Se=le,Re=bu(Q);Se--;)xe[Se]=arguments[Se];var it=le<3&&xe[0]!==Re&&xe[le-1]!==Re?[]:Hr(xe,Re);if(le-=it.length,le<k)return Ju(c,g,Pl,Q.placeholder,r,xe,it,r,r,k-le);var rt=this&&this!==Wn&&this instanceof Q?R:c;return di(rt,this,xe)}return Q}function Pc(c){return function(g,k,R){var Q=Zn(g);if(!bo(g)){var le=Vt(k,3);g=Or(g),k=function(Se){return le(Q[Se],Se,Q)}}var xe=c(g,k,R);return xe>-1?Q[le?g[xe]:xe]:r}}function Gf(c){return sa(function(g){var k=g.length,R=k,Q=Rn.prototype.thru;for(c&&g.reverse();R--;){var le=g[R];if(typeof le!="function")throw new yr(f);if(Q&&!xe&&nl(le)=="wrapper")var xe=new Rn([],!0)}for(R=xe?R:k;++R<k;){le=g[R];var Se=nl(le),Re=Se=="wrapper"?tl(le):r;Re&&M(Re[0])&&Re[1]==(te|D|I|oe)&&!Re[4].length&&Re[9]==1?xe=xe[nl(Re[0])].apply(xe,Re[3]):xe=le.length==1&&M(le)?xe[Se]():xe.thru(le)}return function(){var it=arguments,rt=it[0];if(xe&&it.length==1&&bn(rt))return xe.plant(rt).value();for(var lt=0,St=k?g[lt].apply(this,it):rt;++lt<k;)St=g[lt].call(this,St);return St}})}function Pl(c,g,k,R,Q,le,xe,Se,Re,it){var rt=g&te,lt=g&W,St=g&U,qt=g&(D|B),Qt=g&ce,Sn=St?r:Ku(c);function Jt(){for(var Fn=arguments.length,$n=$e(Fn),Io=Fn;Io--;)$n[Io]=arguments[Io];if(qt)var so=bu(Jt),Bo=Go($n,so);if(R&&($n=Ol($n,R,Q,qt)),le&&($n=Oc($n,le,xe,qt)),Fn-=Bo,qt&&Fn<it){var ur=Hr($n,so);return Ju(c,g,Pl,Jt.placeholder,k,$n,ur,Se,Re,it-Fn)}var Aa=lt?k:this,Fs=St?Aa[c]:c;return Fn=$n.length,Se?$n=gt($n,Se):Qt&&Fn>1&&$n.reverse(),rt&&Re<Fn&&($n.length=Re),this&&this!==Wn&&this instanceof Jt&&(Fs=Sn||Ku(Fs)),Fs.apply(Aa,$n)}return Jt}function Fc(c,g){return function(k,R){return Df(k,c,g(R),{})}}function vu(c,g){return function(k,R){var Q;if(k===r&&R===r)return g;if(k!==r&&(Q=k),R!==r){if(Q===r)return R;typeof k=="string"||typeof R=="string"?(k=oo(k),R=oo(R)):(k=Wf(k),R=Wf(R)),Q=c(k,R)}return Q}}function Fl(c){return sa(function(g){return g=ri(g,si(Vt())),wn(function(k){var R=this;return c(g,function(Q){return di(Q,R,k)})})})}function Rl(c,g){g=g===r?" ":oo(g);var k=g.length;if(k<2)return k?Tc(g,c):g;var R=Tc(g,qa(c/Tr(g)));return $a(g)?Sa(Ar(R),0,c).join(""):R.slice(0,c)}function Xf(c,g,k,R){var Q=g&W,le=Ku(c);function xe(){for(var Se=-1,Re=arguments.length,it=-1,rt=R.length,lt=$e(rt+Re),St=this&&this!==Wn&&this instanceof xe?le:c;++it<rt;)lt[it]=R[it];for(;Re--;)lt[it++]=arguments[++Se];return di(St,Q?k:this,lt)}return xe}function Ms(c){return function(g,k,R){return R&&typeof R!="number"&&d(g,k,R)&&(k=R=r),g=Ps(g),k===r?(k=g,g=0):k=Ps(k),R=R===r?g<k?1:-1:Ps(R),dd(g,k,R,c)}}function Qu(c){return function(g,k){return typeof g=="string"&&typeof k=="string"||(g=fa(g),k=fa(k)),c(g,k)}}function Ju(c,g,k,R,Q,le,xe,Se,Re,it){var rt=g&D,lt=rt?xe:r,St=rt?r:xe,qt=rt?le:r,Qt=rt?r:le;g|=rt?I:V,g&=~(rt?V:I),g&T||(g&=-4);var Sn=[c,g,Q,qt,lt,Qt,St,Se,Re,it],Jt=k.apply(r,Sn);return M(c)&&Ct(Jt,Sn),Jt.placeholder=R,fn(Jt,c,g)}function Rc(c){var g=Ai[c];return function(k,R){if(k=fa(k),R=R==null?0:ne(kn(R),292),R&&m(k)){var Q=(ni(k)+"e").split("e"),le=g(Q[0]+"e"+(+Q[1]+R));return Q=(ni(le)+"e").split("e"),+(Q[0]+"e"+(+Q[1]-R))}return g(k)}}var xd=ei&&1/_i(new ei([,-0]))[1]==me?function(c){return new ei(c)}:zd;function Vf(c){return function(g){var k=or(g);return k==kt?Gs(g):k==Ot?yl(g):vl(g,c(g))}}function Bn(c,g,k,R,Q,le,xe,Se){var Re=g&U;if(!Re&&typeof c!="function")throw new yr(f);var it=R?R.length:0;if(it||(g&=-97,R=Q=r),xe=xe===r?xe:H(kn(xe),0),Se=Se===r?Se:kn(Se),it-=Q?Q.length:0,g&V){var rt=R,lt=Q;R=Q=r}var St=Re?r:tl(c),qt=[c,g,k,R,Q,rt,lt,le,xe,Se];if(St&&De(qt,St),c=qt[0],g=qt[1],k=qt[2],R=qt[3],Q=qt[4],Se=qt[9]=qt[9]===r?Re?0:c.length:H(qt[9]-it,0),!Se&&g&(D|B)&&(g&=-25),!g||g==W)var Qt=Uf(c,g,k);else g==D||g==B?Qt=_d(c,g,Se):(g==I||g==(W|I))&&!Q.length?Qt=Xf(c,g,k,R):Qt=Pl.apply(r,qt);var Sn=St?Hf:Ct;return fn(Sn(Qt,qt),c,g)}function Kf(c,g,k,R){return c===r||Ta(c,to[k])&&!An.call(R,k)?g:c}function Nl(c,g,k,R,Q,le){return Bi(c)&&Bi(g)&&(le.set(g,c),Ro(c,g,r,Nl,le),le.delete(g)),c}function el(c){return Bc(c)?r:c}function vo(c,g,k,R,Q,le){var xe=k&F,Se=c.length,Re=g.length;if(Se!=Re&&!(xe&&Re>Se))return!1;var it=le.get(c),rt=le.get(g);if(it&&rt)return it==g&&rt==c;var lt=-1,St=!0,qt=k&j?new Ya:r;for(le.set(c,g),le.set(g,c);++lt<Se;){var Qt=c[lt],Sn=g[lt];if(R)var Jt=xe?R(Sn,Qt,lt,g,c,le):R(Qt,Sn,lt,c,g,le);if(Jt!==r){if(Jt)continue;St=!1;break}if(qt){if(!Uo(g,function(Fn,$n){if(!To(qt,$n)&&(Qt===Fn||Q(Qt,Fn,k,R,le)))return qt.push($n)})){St=!1;break}}else if(!(Qt===Sn||Q(Qt,Sn,k,R,le))){St=!1;break}}return le.delete(c),le.delete(g),St}function zl(c,g,k,R,Q,le,xe){switch(k){case qi:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case li:return!(c.byteLength!=g.byteLength||!le(new Jo(c),new Jo(g)));case we:case Ie:case Dt:return Ta(+c,+g);case Ge:return c.name==g.name&&c.message==g.message;case vt:case Le:return c==g+"";case kt:var Se=Gs;case Ot:var Re=R&F;if(Se||(Se=_i),c.size!=g.size&&!Re)return!1;var it=xe.get(c);if(it)return it==g;R|=j,xe.set(c,g);var rt=vo(Se(c),Se(g),R,Q,le,xe);return xe.delete(c),rt;case nt:if(ui)return ui.call(c)==ui.call(g)}return!1}function Nc(c,g,k,R,Q,le){var xe=k&F,Se=Il(c),Re=Se.length,it=Il(g),rt=it.length;if(Re!=rt&&!xe)return!1;for(var lt=Re;lt--;){var St=Se[lt];if(!(xe?St in g:An.call(g,St)))return!1}var qt=le.get(c),Qt=le.get(g);if(qt&&Qt)return qt==g&&Qt==c;var Sn=!0;le.set(c,g),le.set(g,c);for(var Jt=xe;++lt<Re;){St=Se[lt];var Fn=c[St],$n=g[St];if(R)var Io=xe?R($n,Fn,St,g,c,le):R(Fn,$n,St,c,g,le);if(!(Io===r?Fn===$n||Q(Fn,$n,k,R,le):Io)){Sn=!1;break}Jt||(Jt=St=="constructor")}if(Sn&&!Jt){var so=c.constructor,Bo=g.constructor;so!=Bo&&"constructor"in c&&"constructor"in g&&!(typeof so=="function"&&so instanceof so&&typeof Bo=="function"&&Bo instanceof Bo)&&(Sn=!1)}return le.delete(c),le.delete(g),Sn}function sa(c){return Nt(ct(c,r,is),c+"")}function Il(c){return hr(c,Or,es)}function Bl(c){return hr(c,yo,Qf)}var tl=Gi?function(c){return Gi.get(c)}:zd;function nl(c){for(var g=c.name+"",k=Gr[g],R=An.call(Gr,g)?k.length:0;R--;){var Q=k[R],le=Q.func;if(le==null||le==c)return Q.name}return g}function bu(c){var g=An.call(se,"placeholder")?se:c;return g.placeholder}function Vt(){var c=se.iteratee||Rd;return c=c===Rd?lu:c,arguments.length?c(arguments[0],arguments[1]):c}function il(c,g){var k=c.__data__;return C(g)?k[typeof g=="string"?"string":"hash"]:k.map}function jn(c){for(var g=Or(c),k=g.length;k--;){var R=g[k],Q=c[R];g[k]=[R,Q,he(Q)]}return g}function Ja(c,g){var k=Ba(c,g);return Ss(k)?k:r}function wd(c){var g=An.call(c,Lo),k=c[Lo];try{c[Lo]=r;var R=!0}catch{}var Q=no.call(c);return R&&(g?c[Lo]=k:delete c[Lo]),Q}var es=Iu?function(c){return c==null?[]:(c=Zn(c),So(Iu(c),function(g){return xs.call(c,g)}))}:Id,Qf=Iu?function(c){for(var g=[];c;)fo(g,es(c)),c=io(c);return g}:Id,or=dr;(xt&&or(new xt(new ArrayBuffer(1)))!=qi||zt&&or(new zt)!=kt||on&&or(on.resolve())!=Ut||ei&&or(new ei)!=Ot||ti&&or(new ti)!=jt)&&(or=function(c){var g=dr(c),k=g==Mt?c.constructor:r,R=k?Ni(k):"";if(R)switch(R){case wl:return qi;case fc:return kt;case wa:return Ut;case ia:return Ot;case hc:return jt}return g});function kd(c,g,k){for(var R=-1,Q=k.length;++R<Q;){var le=k[R],xe=le.size;switch(le.type){case"drop":c+=xe;break;case"dropRight":g-=xe;break;case"take":g=ne(g,c+xe);break;case"takeRight":c=H(c,g-xe);break}}return{start:c,end:g}}function Di(c){var g=c.match(Hn);return g?g[1].split(Yt):[]}function Jf(c,g,k){g=Qa(g,c);for(var R=-1,Q=g.length,le=!1;++R<Q;){var xe=ki(g[R]);if(!(le=c!=null&&k(c,xe)))break;c=c[xe]}return le||++R!=Q?le:(Q=c==null?0:c.length,!!Q&&ah(Q)&&p(xe,Q)&&(bn(c)||rl(c)))}function Cd(c){var g=c.length,k=new c.constructor(g);return g&&typeof c[0]=="string"&&An.call(c,"index")&&(k.index=c.index,k.input=c.input),k}function eh(c){return typeof c.constructor=="function"&&!X(c)?ja(io(c)):{}}function $l(c,g,k){var R=c.constructor;switch(g){case li:return du(c);case we:case Ie:return new R(+c);case qi:return gd(c,k);case gi:case xn:case vi:case Gn:case Mi:case Yn:case Tt:case Rr:case Zt:return Lc(c,k);case kt:return new R;case Dt:case Le:return new R(c);case vt:return vd(c);case Ot:return new R;case nt:return Vu(c)}}function n(c,g){var k=g.length;if(!k)return c;var R=k-1;return g[R]=(k>1?"& ":"")+g[R],g=g.join(k>2?", ":" "),c.replace(bt,`{
/* [wrapped with `+g+`] */
`)}function a(c){return bn(c)||rl(c)||!!(xl&&c&&c[xl])}function p(c,g){var k=typeof c;return g=g??_e,!!g&&(k=="number"||k!="symbol"&&Jr.test(c))&&c>-1&&c%1==0&&c<g}function d(c,g,k){if(!Bi(k))return!1;var R=typeof g;return(R=="number"?bo(k)&&p(g,k.length):R=="string"&&g in k)?Ta(k[g],c):!1}function v(c,g){if(bn(c))return!1;var k=typeof c;return k=="number"||k=="symbol"||k=="boolean"||c==null||zo(c)?!0:_t.test(c)||!Bt.test(c)||g!=null&&c in Zn(g)}function C(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function M(c){var g=nl(c),k=se[g];if(typeof k!="function"||!(g in Gt.prototype))return!1;if(c===k)return!0;var R=tl(k);return!!R&&c===R[0]}function z(c){return!!Do&&Do in c}var Z=mo?Os:Bd;function X(c){var g=c&&c.constructor,k=typeof g=="function"&&g.prototype||to;return c===k}function he(c){return c===c&&!Bi(c)}function ye(c,g){return function(k){return k==null?!1:k[c]===g&&(g!==r||c in Zn(k))}}function Pe(c){var g=rh(c,function(R){return k.size===w&&k.clear(),R}),k=g.cache;return g}function De(c,g){var k=c[1],R=g[1],Q=k|R,le=Q<(W|U|te),xe=R==te&&k==D||R==te&&k==oe&&c[7].length<=g[8]||R==(te|oe)&&g[7].length<=g[8]&&k==D;if(!(le||xe))return c;R&W&&(c[2]=g[2],Q|=k&W?0:T);var Se=g[3];if(Se){var Re=c[3];c[3]=Re?Ol(Re,Se,g[4]):Se,c[4]=Re?Hr(c[3],x):g[4]}return Se=g[5],Se&&(Re=c[5],c[5]=Re?Oc(Re,Se,g[6]):Se,c[6]=Re?Hr(c[5],x):g[6]),Se=g[7],Se&&(c[7]=Se),R&te&&(c[8]=c[8]==null?g[8]:ne(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=Q,c}function je(c){var g=[];if(c!=null)for(var k in Zn(c))g.push(k);return g}function tt(c){return no.call(c)}function ct(c,g,k){return g=H(g===r?c.length-1:g,0),function(){for(var R=arguments,Q=-1,le=H(R.length-g,0),xe=$e(le);++Q<le;)xe[Q]=R[g+Q];Q=-1;for(var Se=$e(g+1);++Q<g;)Se[Q]=R[Q];return Se[g]=k(xe),di(c,this,Se)}}function pt(c,g){return g.length<2?c:Xa(c,rr(g,0,-1))}function gt(c,g){for(var k=c.length,R=ne(g.length,k),Q=Xr(c);R--;){var le=g[R];c[R]=p(le,k)?Q[le]:r}return c}function dt(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var Ct=Qn(Hf),It=eu||function(c,g){return Wn.setTimeout(c,g)},Nt=Qn(pd);function fn(c,g,k){var R=g+"";return Nt(c,n(R,zi(Di(R),k)))}function Qn(c){var g=0,k=0;return function(){var R=ke(),Q=pe-(R-k);if(k=R,Q>0){if(++g>=Te)return arguments[0]}else g=0;return c.apply(r,arguments)}}function Li(c,g){var k=-1,R=c.length,Q=R-1;for(g=g===r?R:g;++k<g;){var le=Dl(k,Q),xe=c[le];c[le]=c[k],c[k]=xe}return c.length=g,c}var hi=Pe(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(sn,function(k,R,Q,le){g.push(Q?le.replace(Jn,"$1"):R||k)}),g});function ki(c){if(typeof c=="string"||zo(c))return c;var g=c+"";return g=="0"&&1/c==-me?"-0":g}function Ni(c){if(c!=null){try{return Wa.call(c)}catch{}try{return c+""}catch{}}return""}function zi(c,g){return $r(Ce,function(k){var R="_."+k[0];g&k[1]&&!za(c,R)&&c.push(R)}),c.sort()}function Lr(c){if(c instanceof Gt)return c.clone();var g=new Rn(c.__wrapped__,c.__chain__);return g.__actions__=Xr(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function pr(c,g,k){(k?d(c,g,k):g===r)?g=1:g=H(kn(g),0);var R=c==null?0:c.length;if(!R||g<1)return[];for(var Q=0,le=0,xe=$e(qa(R/g));Q<R;)xe[le++]=rr(c,Q,Q+=g);return xe}function Xi(c){for(var g=-1,k=c==null?0:c.length,R=0,Q=[];++g<k;){var le=c[g];le&&(Q[R++]=le)}return Q}function Ii(){var c=arguments.length;if(!c)return[];for(var g=$e(c-1),k=arguments[0],R=c;R--;)g[R-1]=arguments[R];return fo(bn(k)?Xr(k):[k],ir(g,1))}var Ci=wn(function(c,g){return sr(c)?Hu(c,ir(g,1,sr,!0)):[]}),Wr=wn(function(c,g){var k=ca(g);return sr(k)&&(k=r),sr(c)?Hu(c,ir(g,1,sr,!0),Vt(k,2)):[]}),yu=wn(function(c,g){var k=ca(g);return sr(k)&&(k=r),sr(c)?Hu(c,ir(g,1,sr,!0),r,k):[]});function ts(c,g,k){var R=c==null?0:c.length;return R?(g=k||g===r?1:kn(g),rr(c,g<0?0:g,R)):[]}function xr(c,g,k){var R=c==null?0:c.length;return R?(g=k||g===r?1:kn(g),g=R-g,rr(c,0,g<0?0:g)):[]}function ua(c,g){return c&&c.length?Yu(c,Vt(g,3),!0,!0):[]}function ar(c,g){return c&&c.length?Yu(c,Vt(g,3),!0):[]}function zc(c,g,k,R){var Q=c==null?0:c.length;return Q?(k&&typeof k!="number"&&d(c,g,k)&&(k=0,R=Q),Sf(c,g,k,R)):[]}function la(c,g,k){var R=c==null?0:c.length;if(!R)return-1;var Q=k==null?0:kn(k);return Q<0&&(Q=H(R+Q,0)),Cr(c,Vt(g,3),Q)}function ns(c,g,k){var R=c==null?0:c.length;if(!R)return-1;var Q=R-1;return k!==r&&(Q=kn(k),Q=k<0?H(R+Q,0):ne(Q,R-1)),Cr(c,Vt(g,3),Q,!0)}function is(c){var g=c==null?0:c.length;return g?ir(c,1):[]}function Mr(c){var g=c==null?0:c.length;return g?ir(c,me):[]}function _u(c,g){var k=c==null?0:c.length;return k?(g=g===r?1:kn(g),ir(c,g)):[]}function Ic(c){for(var g=-1,k=c==null?0:c.length,R={};++g<k;){var Q=c[g];R[Q[0]]=Q[1]}return R}function tm(c){return c&&c.length?c[0]:r}function kb(c,g,k){var R=c==null?0:c.length;if(!R)return-1;var Q=k==null?0:kn(k);return Q<0&&(Q=H(R+Q,0)),ai(c,g,Q)}function Cb(c){var g=c==null?0:c.length;return g?rr(c,0,-1):[]}var Eb=wn(function(c){var g=ri(c,Zu);return g.length&&g[0]===c[0]?au(g):[]}),Sb=wn(function(c){var g=ca(c),k=ri(c,Zu);return g===ca(k)?g=r:k.pop(),k.length&&k[0]===c[0]?au(k,Vt(g,2)):[]}),Tb=wn(function(c){var g=ca(c),k=ri(c,Zu);return g=typeof g=="function"?g:r,g&&k.pop(),k.length&&k[0]===c[0]?au(k,r,g):[]});function Ab(c,g){return c==null?"":_.call(c,g)}function ca(c){var g=c==null?0:c.length;return g?c[g-1]:r}function Db(c,g,k){var R=c==null?0:c.length;if(!R)return-1;var Q=R;return k!==r&&(Q=kn(k),Q=Q<0?H(R+Q,0):ne(Q,R-1)),g===g?cc(c,g,Q):Cr(c,Er,Q,!0)}function Lb(c,g){return c&&c.length?fu(c,kn(g)):r}var Mb=wn(nm);function nm(c,g){return c&&c.length&&g&&g.length?Sc(c,g):c}function Ob(c,g,k){return c&&c.length&&g&&g.length?Sc(c,g,Vt(k,2)):c}function Pb(c,g,k){return c&&c.length&&g&&g.length?Sc(c,g,r,k):c}var Fb=sa(function(c,g){var k=c==null?0:c.length,R=iu(c,g);return Dr(c,ri(g,function(Q){return p(Q,k)?+Q:Q}).sort(Mc)),R});function Rb(c,g){var k=[];if(!(c&&c.length))return k;var R=-1,Q=[],le=c.length;for(g=Vt(g,3);++R<le;){var xe=c[R];g(xe,R,c)&&(k.push(xe),Q.push(R))}return Dr(c,Q),k}function Ed(c){return c==null?c:ot.call(c)}function Nb(c,g,k){var R=c==null?0:c.length;return R?(k&&typeof k!="number"&&d(c,g,k)?(g=0,k=R):(g=g==null?0:kn(g),k=k===r?R:kn(k)),rr(c,g,k)):[]}function zb(c,g){return Ds(c,g)}function Ib(c,g,k){return Ls(c,g,Vt(k,2))}function Bb(c,g){var k=c==null?0:c.length;if(k){var R=Ds(c,g);if(R<k&&Ta(c[R],g))return R}return-1}function $b(c,g){return Ds(c,g,!0)}function Hb(c,g,k){return Ls(c,g,Vt(k,2),!0)}function Wb(c,g){var k=c==null?0:c.length;if(k){var R=Ds(c,g,!0)-1;if(Ta(c[R],g))return R}return-1}function qb(c){return c&&c.length?oa(c):[]}function jb(c,g){return c&&c.length?oa(c,Vt(g,2)):[]}function Yb(c){var g=c==null?0:c.length;return g?rr(c,1,g):[]}function Ub(c,g,k){return c&&c.length?(g=k||g===r?1:kn(g),rr(c,0,g<0?0:g)):[]}function Zb(c,g,k){var R=c==null?0:c.length;return R?(g=k||g===r?1:kn(g),g=R-g,rr(c,g<0?0:g,R)):[]}function Gb(c,g){return c&&c.length?Yu(c,Vt(g,3),!1,!0):[]}function Xb(c,g){return c&&c.length?Yu(c,Vt(g,3)):[]}var Vb=wn(function(c){return ao(ir(c,1,sr,!0))}),Kb=wn(function(c){var g=ca(c);return sr(g)&&(g=r),ao(ir(c,1,sr,!0),Vt(g,2))}),Qb=wn(function(c){var g=ca(c);return g=typeof g=="function"?g:r,ao(ir(c,1,sr,!0),r,g)});function Jb(c){return c&&c.length?ao(c):[]}function ey(c,g){return c&&c.length?ao(c,Vt(g,2)):[]}function ty(c,g){return g=typeof g=="function"?g:r,c&&c.length?ao(c,r,g):[]}function Sd(c){if(!(c&&c.length))return[];var g=0;return c=So(c,function(k){if(sr(k))return g=H(k.length,g),!0}),Ru(g,function(k){return ri(c,qs(k))})}function im(c,g){if(!(c&&c.length))return[];var k=Sd(c);return g==null?k:ri(k,function(R){return di(g,r,R)})}var ny=wn(function(c,g){return sr(c)?Hu(c,g):[]}),iy=wn(function(c){return Ka(So(c,sr))}),ry=wn(function(c){var g=ca(c);return sr(g)&&(g=r),Ka(So(c,sr),Vt(g,2))}),oy=wn(function(c){var g=ca(c);return g=typeof g=="function"?g:r,Ka(So(c,sr),r,g)}),ay=wn(Sd);function sy(c,g){return Ml(c||[],g||[],tu)}function uy(c,g){return Ml(c||[],g||[],hu)}var ly=wn(function(c){var g=c.length,k=g>1?c[g-1]:r;return k=typeof k=="function"?(c.pop(),k):r,im(c,k)});function rm(c){var g=se(c);return g.__chain__=!0,g}function cy(c,g){return g(c),c}function th(c,g){return g(c)}var fy=sa(function(c){var g=c.length,k=g?c[0]:0,R=this.__wrapped__,Q=function(le){return iu(le,c)};return g>1||this.__actions__.length||!(R instanceof Gt)||!p(k)?this.thru(Q):(R=R.slice(k,+k+(g?1:0)),R.__actions__.push({func:th,args:[Q],thisArg:r}),new Rn(R,this.__chain__).thru(function(le){return g&&!le.length&&le.push(r),le}))});function hy(){return rm(this)}function dy(){return new Rn(this.value(),this.__chain__)}function py(){this.__values__===r&&(this.__values__=bm(this.value()));var c=this.__index__>=this.__values__.length,g=c?r:this.__values__[this.__index__++];return{done:c,value:g}}function my(){return this}function gy(c){for(var g,k=this;k instanceof nr;){var R=Lr(k);R.__index__=0,R.__values__=r,g?Q.__wrapped__=R:g=R;var Q=R;k=k.__wrapped__}return Q.__wrapped__=c,g}function vy(){var c=this.__wrapped__;if(c instanceof Gt){var g=c;return this.__actions__.length&&(g=new Gt(this)),g=g.reverse(),g.__actions__.push({func:th,args:[Ed],thisArg:r}),new Rn(g,this.__chain__)}return this.thru(Ed)}function by(){return Uu(this.__wrapped__,this.__actions__)}var yy=pu(function(c,g,k){An.call(c,k)?++c[k]:Ca(c,k,1)});function _y(c,g,k){var R=bn(c)?Ws:fd;return k&&d(c,g,k)&&(g=r),R(c,Vt(g,3))}function xy(c,g){var k=bn(c)?So:Es;return k(c,Vt(g,3))}var wy=Pc(la),ky=Pc(ns);function Cy(c,g){return ir(nh(c,g),1)}function Ey(c,g){return ir(nh(c,g),me)}function Sy(c,g,k){return k=k===r?1:kn(k),ir(nh(c,g),k)}function om(c,g){var k=bn(c)?$r:Fo;return k(c,Vt(g,3))}function am(c,g){var k=bn(c)?Eo:_c;return k(c,Vt(g,3))}var Ty=pu(function(c,g,k){An.call(c,k)?c[k].push(g):Ca(c,k,[g])});function Ay(c,g,k,R){c=bo(c)?c:Wl(c),k=k&&!R?kn(k):0;var Q=c.length;return k<0&&(k=H(Q+k,0)),sh(c)?k<=Q&&c.indexOf(g,k)>-1:!!Q&&ai(c,g,k)>-1}var Dy=wn(function(c,g,k){var R=-1,Q=typeof g=="function",le=bo(c)?$e(c.length):[];return Fo(c,function(xe){le[++R]=Q?di(g,xe,k):su(xe,g,k)}),le}),Ly=pu(function(c,g,k){Ca(c,k,g)});function nh(c,g){var k=bn(c)?ri:Cc;return k(c,Vt(g,3))}function My(c,g,k,R){return c==null?[]:(bn(g)||(g=g==null?[]:[g]),k=R?r:k,bn(k)||(k=k==null?[]:[k]),Nf(c,g,k))}var Oy=pu(function(c,g,k){c[k?0:1].push(g)},function(){return[[],[]]});function Py(c,g,k){var R=bn(c)?Fu:Ys,Q=arguments.length<3;return R(c,Vt(g,4),k,Q,Fo)}function Fy(c,g,k){var R=bn(c)?pl:Ys,Q=arguments.length<3;return R(c,Vt(g,4),k,Q,_c)}function Ry(c,g){var k=bn(c)?So:Es;return k(c,oh(Vt(g,3)))}function Ny(c){var g=bn(c)?gc:Bf;return g(c)}function zy(c,g,k){(k?d(c,g,k):g===r)?g=1:g=kn(g);var R=bn(c)?ld:$f;return R(c,g)}function Iy(c){var g=bn(c)?vc:md;return g(c)}function By(c){if(c==null)return 0;if(bo(c))return sh(c)?Tr(c):c.length;var g=or(c);return g==kt||g==Ot?c.size:Ts(c).length}function $y(c,g,k){var R=bn(c)?Uo:ju;return k&&d(c,g,k)&&(g=r),R(c,Vt(g,3))}var Hy=wn(function(c,g){if(c==null)return[];var k=g.length;return k>1&&d(c,g[0],g[1])?g=[]:k>2&&d(g[0],g[1],g[2])&&(g=[g[0]]),Nf(c,ir(g,1),[])}),ih=xa||function(){return Wn.Date.now()};function Wy(c,g){if(typeof g!="function")throw new yr(f);return c=kn(c),function(){if(--c<1)return g.apply(this,arguments)}}function sm(c,g,k){return g=k?r:g,g=c&&g==null?c.length:g,Bn(c,te,r,r,r,r,g)}function um(c,g){var k;if(typeof g!="function")throw new yr(f);return c=kn(c),function(){return--c>0&&(k=g.apply(this,arguments)),c<=1&&(g=r),k}}var Td=wn(function(c,g,k){var R=W;if(k.length){var Q=Hr(k,bu(Td));R|=I}return Bn(c,R,g,k,Q)}),lm=wn(function(c,g,k){var R=W|U;if(k.length){var Q=Hr(k,bu(lm));R|=I}return Bn(g,R,c,k,Q)});function cm(c,g,k){g=k?r:g;var R=Bn(c,D,r,r,r,r,r,g);return R.placeholder=cm.placeholder,R}function fm(c,g,k){g=k?r:g;var R=Bn(c,B,r,r,r,r,r,g);return R.placeholder=fm.placeholder,R}function hm(c,g,k){var R,Q,le,xe,Se,Re,it=0,rt=!1,lt=!1,St=!0;if(typeof c!="function")throw new yr(f);g=fa(g)||0,Bi(k)&&(rt=!!k.leading,lt="maxWait"in k,le=lt?H(fa(k.maxWait)||0,g):le,St="trailing"in k?!!k.trailing:St);function qt(ur){var Aa=R,Fs=Q;return R=Q=r,it=ur,xe=c.apply(Fs,Aa),xe}function Qt(ur){return it=ur,Se=It(Fn,g),rt?qt(ur):xe}function Sn(ur){var Aa=ur-Re,Fs=ur-it,Mm=g-Aa;return lt?ne(Mm,le-Fs):Mm}function Jt(ur){var Aa=ur-Re,Fs=ur-it;return Re===r||Aa>=g||Aa<0||lt&&Fs>=le}function Fn(){var ur=ih();if(Jt(ur))return $n(ur);Se=It(Fn,Sn(ur))}function $n(ur){return Se=r,St&&R?qt(ur):(R=Q=r,xe)}function Io(){Se!==r&&qf(Se),it=0,R=Re=Q=Se=r}function so(){return Se===r?xe:$n(ih())}function Bo(){var ur=ih(),Aa=Jt(ur);if(R=arguments,Q=this,Re=ur,Aa){if(Se===r)return Qt(Re);if(lt)return qf(Se),Se=It(Fn,g),qt(Re)}return Se===r&&(Se=It(Fn,g)),xe}return Bo.cancel=Io,Bo.flush=so,Bo}var qy=wn(function(c,g){return Ef(c,1,g)}),jy=wn(function(c,g,k){return Ef(c,fa(g)||0,k)});function Yy(c){return Bn(c,ce)}function rh(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new yr(f);var k=function(){var R=arguments,Q=g?g.apply(this,R):R[0],le=k.cache;if(le.has(Q))return le.get(Q);var xe=c.apply(this,R);return k.cache=le.set(Q,xe)||le,xe};return k.cache=new(rh.Cache||Oo),k}rh.Cache=Oo;function oh(c){if(typeof c!="function")throw new yr(f);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function Uy(c){return um(2,c)}var Zy=Xu(function(c,g){g=g.length==1&&bn(g[0])?ri(g[0],si(Vt())):ri(ir(g,1),si(Vt()));var k=g.length;return wn(function(R){for(var Q=-1,le=ne(R.length,k);++Q<le;)R[Q]=g[Q].call(this,R[Q]);return di(c,this,R)})}),Ad=wn(function(c,g){var k=Hr(g,bu(Ad));return Bn(c,I,r,g,k)}),dm=wn(function(c,g){var k=Hr(g,bu(dm));return Bn(c,V,r,g,k)}),Gy=sa(function(c,g){return Bn(c,oe,r,r,r,g)});function Xy(c,g){if(typeof c!="function")throw new yr(f);return g=g===r?g:kn(g),wn(c,g)}function Vy(c,g){if(typeof c!="function")throw new yr(f);return g=g==null?0:H(kn(g),0),wn(function(k){var R=k[g],Q=Sa(k,0,g);return R&&fo(Q,R),di(c,this,Q)})}function Ky(c,g,k){var R=!0,Q=!0;if(typeof c!="function")throw new yr(f);return Bi(k)&&(R="leading"in k?!!k.leading:R,Q="trailing"in k?!!k.trailing:Q),hm(c,g,{leading:R,maxWait:g,trailing:Q})}function Qy(c){return sm(c,1)}function Jy(c,g){return Ad(Gu(g),c)}function e1(){if(!arguments.length)return[];var c=arguments[0];return bn(c)?c:[c]}function t1(c){return ro(c,q)}function n1(c,g){return g=typeof g=="function"?g:r,ro(c,q,g)}function i1(c){return ro(c,E|q)}function r1(c,g){return g=typeof g=="function"?g:r,ro(c,E|q,g)}function o1(c,g){return g==null||yc(c,g,Or(g))}function Ta(c,g){return c===g||c!==c&&g!==g}var a1=Qu(Al),s1=Qu(function(c,g){return c>=g}),rl=wc((function(){return arguments})())?wc:function(c){return Vi(c)&&An.call(c,"callee")&&!xs.call(c,"callee")},bn=$e.isArray,u1=$s?si($s):uu;function bo(c){return c!=null&&ah(c.length)&&!Os(c)}function sr(c){return Vi(c)&&bo(c)}function l1(c){return c===!0||c===!1||Vi(c)&&dr(c)==we}var xu=o||Bd,c1=eo?si(eo):Lf;function f1(c){return Vi(c)&&c.nodeType===1&&!Bc(c)}function h1(c){if(c==null)return!0;if(bo(c)&&(bn(c)||typeof c=="string"||typeof c.splice=="function"||xu(c)||Hl(c)||rl(c)))return!c.length;var g=or(c);if(g==kt||g==Ot)return!c.size;if(X(c))return!Ts(c).length;for(var k in c)if(An.call(c,k))return!1;return!0}function d1(c,g){return Va(c,g)}function p1(c,g,k){k=typeof k=="function"?k:r;var R=k?k(c,g):r;return R===r?Va(c,g,r,k):!!R}function Dd(c){if(!Vi(c))return!1;var g=dr(c);return g==Ge||g==Ye||typeof c.message=="string"&&typeof c.name=="string"&&!Bc(c)}function m1(c){return typeof c=="number"&&m(c)}function Os(c){if(!Bi(c))return!1;var g=dr(c);return g==st||g==wt||g==ge||g==hn}function pm(c){return typeof c=="number"&&c==kn(c)}function ah(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=_e}function Bi(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function Vi(c){return c!=null&&typeof c=="object"}var mm=ps?si(ps):Wu;function g1(c,g){return c===g||kc(c,g,jn(g))}function v1(c,g,k){return k=typeof k=="function"?k:r,kc(c,g,jn(g),k)}function b1(c){return gm(c)&&c!=+c}function y1(c){if(Z(c))throw new Kt(l);return Ss(c)}function _1(c){return c===null}function x1(c){return c==null}function gm(c){return typeof c=="number"||Vi(c)&&dr(c)==Dt}function Bc(c){if(!Vi(c)||dr(c)!=Mt)return!1;var g=io(c);if(g===null)return!0;var k=An.call(g,"constructor")&&g.constructor;return typeof k=="function"&&k instanceof k&&Wa.call(k)==Qo}var Ld=Hs?si(Hs):Of;function w1(c){return pm(c)&&c>=-_e&&c<=_e}var vm=Co?si(Co):Pf;function sh(c){return typeof c=="string"||!bn(c)&&Vi(c)&&dr(c)==Le}function zo(c){return typeof c=="symbol"||Vi(c)&&dr(c)==nt}var Hl=dl?si(dl):Ff;function k1(c){return c===r}function C1(c){return Vi(c)&&or(c)==jt}function E1(c){return Vi(c)&&dr(c)==ii}var S1=Qu(As),T1=Qu(function(c,g){return c<=g});function bm(c){if(!c)return[];if(bo(c))return sh(c)?Ar(c):Xr(c);if(ta&&c[ta])return Zs(c[ta]());var g=or(c),k=g==kt?Gs:g==Ot?_i:Wl;return k(c)}function Ps(c){if(!c)return c===0?c:0;if(c=fa(c),c===me||c===-me){var g=c<0?-1:1;return g*Ve}return c===c?c:0}function kn(c){var g=Ps(c),k=g%1;return g===g?k?g-k:g:0}function ym(c){return c?Ea(kn(c),0,Ee):0}function fa(c){if(typeof c=="number")return c;if(zo(c))return Fe;if(Bi(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=Bi(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=Nu(c);var k=Yi.test(c);return k||Qr.test(c)?ga(c.slice(2),k?2:8):Ei.test(c)?Fe:+c}function _m(c){return No(c,yo(c))}function A1(c){return c?Ea(kn(c),-_e,_e):c===0?c:0}function ni(c){return c==null?"":oo(c)}var D1=aa(function(c,g){if(X(g)||bo(g)){No(g,Or(g),c);return}for(var k in g)An.call(g,k)&&tu(c,k,g[k])}),xm=aa(function(c,g){No(g,yo(g),c)}),uh=aa(function(c,g,k,R){No(g,yo(g),c,R)}),L1=aa(function(c,g,k,R){No(g,Or(g),c,R)}),M1=sa(iu);function O1(c,g){var k=ja(c);return g==null?k:bc(k,g)}var P1=wn(function(c,g){c=Zn(c);var k=-1,R=g.length,Q=R>2?g[2]:r;for(Q&&d(g[0],g[1],Q)&&(R=1);++k<R;)for(var le=g[k],xe=yo(le),Se=-1,Re=xe.length;++Se<Re;){var it=xe[Se],rt=c[it];(rt===r||Ta(rt,to[it])&&!An.call(c,it))&&(c[it]=le[it])}return c}),F1=wn(function(c){return c.push(r,Nl),di(wm,r,c)});function R1(c,g){return ms(c,Vt(g,3),go)}function N1(c,g){return ms(c,Vt(g,3),Sl)}function z1(c,g){return c==null?c:ru(c,Vt(g,3),yo)}function I1(c,g){return c==null?c:xc(c,Vt(g,3),yo)}function B1(c,g){return c&&go(c,Vt(g,3))}function $1(c,g){return c&&Sl(c,Vt(g,3))}function H1(c){return c==null?[]:Tl(c,Or(c))}function W1(c){return c==null?[]:Tl(c,yo(c))}function Md(c,g,k){var R=c==null?r:Xa(c,g);return R===r?k:R}function q1(c,g){return c!=null&&Jf(c,g,Tf)}function Od(c,g){return c!=null&&Jf(c,g,Af)}var j1=Fc(function(c,g,k){g!=null&&typeof g.toString!="function"&&(g=no.call(g)),c[g]=k},Fd(_o)),Y1=Fc(function(c,g,k){g!=null&&typeof g.toString!="function"&&(g=no.call(g)),An.call(c,g)?c[g].push(k):c[g]=[k]},Vt),U1=wn(su);function Or(c){return bo(c)?Cl(c):Ts(c)}function yo(c){return bo(c)?Cl(c,!0):qu(c)}function Z1(c,g){var k={};return g=Vt(g,3),go(c,function(R,Q,le){Ca(k,g(R,Q,le),R)}),k}function G1(c,g){var k={};return g=Vt(g,3),go(c,function(R,Q,le){Ca(k,Q,g(R,Q,le))}),k}var X1=aa(function(c,g,k){Ro(c,g,k)}),wm=aa(function(c,g,k,R){Ro(c,g,k,R)}),V1=sa(function(c,g){var k={};if(c==null)return k;var R=!1;g=ri(g,function(le){return le=Qa(le,c),R||(R=le.length>1),le}),No(c,Bl(c),k),R&&(k=ro(k,E|N|q,el));for(var Q=g.length;Q--;)Ll(k,g[Q]);return k});function K1(c,g){return km(c,oh(Vt(g)))}var Q1=sa(function(c,g){return c==null?{}:zf(c,g)});function km(c,g){if(c==null)return{};var k=ri(Bl(c),function(R){return[R]});return g=Vt(g),If(c,k,function(R,Q){return g(R,Q[0])})}function J1(c,g,k){g=Qa(g,c);var R=-1,Q=g.length;for(Q||(Q=1,c=r);++R<Q;){var le=c==null?r:c[ki(g[R])];le===r&&(R=Q,le=k),c=Os(le)?le.call(c):le}return c}function e_(c,g,k){return c==null?c:hu(c,g,k)}function t_(c,g,k,R){return R=typeof R=="function"?R:r,c==null?c:hu(c,g,k,R)}var Cm=Vf(Or),Em=Vf(yo);function n_(c,g,k){var R=bn(c),Q=R||xu(c)||Hl(c);if(g=Vt(g,4),k==null){var le=c&&c.constructor;Q?k=R?new le:[]:Bi(c)?k=Os(le)?ja(io(c)):{}:k={}}return(Q?$r:go)(c,function(xe,Se,Re){return g(k,xe,Se,Re)}),k}function i_(c,g){return c==null?!0:Ll(c,g)}function r_(c,g,k){return c==null?c:Ac(c,g,Gu(k))}function o_(c,g,k,R){return R=typeof R=="function"?R:r,c==null?c:Ac(c,g,Gu(k),R)}function Wl(c){return c==null?[]:Zo(c,Or(c))}function a_(c){return c==null?[]:Zo(c,yo(c))}function s_(c,g,k){return k===r&&(k=g,g=r),k!==r&&(k=fa(k),k=k===k?k:0),g!==r&&(g=fa(g),g=g===g?g:0),Ea(fa(c),g,k)}function u_(c,g,k){return g=Ps(g),k===r?(k=g,g=0):k=Ps(k),c=fa(c),ou(c,g,k)}function l_(c,g,k){if(k&&typeof k!="boolean"&&d(c,g,k)&&(g=k=r),k===r&&(typeof g=="boolean"?(k=g,g=r):typeof c=="boolean"&&(k=c,c=r)),c===r&&g===r?(c=0,g=1):(c=Ps(c),g===r?(g=c,c=0):g=Ps(g)),c>g){var R=c;c=g,g=R}if(k||c%1||g%1){var Q=He();return ne(c+Q*(g-c+Yo("1e-"+((Q+"").length-1))),g)}return Dl(c,g)}var c_=gu(function(c,g,k){return g=g.toLowerCase(),c+(k?Sm(g):g)});function Sm(c){return Pd(ni(c).toLowerCase())}function Tm(c){return c=ni(c),c&&c.replace(kr,bl).replace(ht,"")}function f_(c,g,k){c=ni(c),g=oo(g);var R=c.length;k=k===r?R:Ea(kn(k),0,R);var Q=k;return k-=g.length,k>=0&&c.slice(k,Q)==g}function h_(c){return c=ni(c),c&&ln.test(c)?c.replace(Dn,Sr):c}function d_(c){return c=ni(c),c&&Ht.test(c)?c.replace(At,"\\$&"):c}var p_=gu(function(c,g,k){return c+(k?"-":"")+g.toLowerCase()}),m_=gu(function(c,g,k){return c+(k?" ":"")+g.toLowerCase()}),g_=Zf("toLowerCase");function v_(c,g,k){c=ni(c),g=kn(g);var R=g?Tr(c):0;if(!g||R>=g)return c;var Q=(g-R)/2;return Rl(na(Q),k)+c+Rl(qa(Q),k)}function b_(c,g,k){c=ni(c),g=kn(g);var R=g?Tr(c):0;return g&&R<g?c+Rl(g-R,k):c}function y_(c,g,k){c=ni(c),g=kn(g);var R=g?Tr(c):0;return g&&R<g?Rl(g-R,k)+c:c}function __(c,g,k){return k||g==null?g=0:g&&(g=+g),ze(ni(c).replace(Tn,""),g||0)}function x_(c,g,k){return(k?d(c,g,k):g===r)?g=1:g=kn(g),Tc(ni(c),g)}function w_(){var c=arguments,g=ni(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var k_=gu(function(c,g,k){return c+(k?"_":"")+g.toLowerCase()});function C_(c,g,k){return k&&typeof k!="number"&&d(c,g,k)&&(g=k=r),k=k===r?Ee:k>>>0,k?(c=ni(c),c&&(typeof g=="string"||g!=null&&!Ld(g))&&(g=oo(g),!g&&$a(c))?Sa(Ar(c),0,k):c.split(g,k)):[]}var E_=gu(function(c,g,k){return c+(k?" ":"")+Pd(g)});function S_(c,g,k){return c=ni(c),k=k==null?0:Ea(kn(k),0,c.length),g=oo(g),c.slice(k,k+g.length)==g}function T_(c,g,k){var R=se.templateSettings;k&&d(c,g,k)&&(g=r),c=ni(c),g=uh({},g,R,Kf);var Q=uh({},g.imports,R.imports,Kf),le=Or(Q),xe=Zo(Q,le),Se,Re,it=0,rt=g.interpolate||Pi,lt="__p += '",St=_s((g.escape||Pi).source+"|"+rt.source+"|"+(rt===at?Pn:Pi).source+"|"+(g.evaluate||Pi).source+"|$","g"),qt="//# sourceURL="+(An.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zr+"]")+`
`;c.replace(St,function(Jt,Fn,$n,Io,so,Bo){return $n||($n=Io),lt+=c.slice(it,Bo).replace(Nr,Xo),Fn&&(Se=!0,lt+=`' +
__e(`+Fn+`) +
'`),so&&(Re=!0,lt+=`';
`+so+`;
__p += '`),$n&&(lt+=`' +
((__t = (`+$n+`)) == null ? '' : __t) +
'`),it=Bo+Jt.length,Jt}),lt+=`';
`;var Qt=An.call(g,"variable")&&g.variable;if(!Qt)lt=`with (obj) {
`+lt+`
}
`;else if(Cn.test(Qt))throw new Kt(h);lt=(Re?lt.replace(ji,""):lt).replace(Pt,"$1").replace(oi,"$1;"),lt="function("+(Qt||"obj")+`) {
`+(Qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Se?", __e = _.escape":"")+(Re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var Sn=Dm(function(){return Mn(le,qt+"return "+lt).apply(r,xe)});if(Sn.source=lt,Dd(Sn))throw Sn;return Sn}function A_(c){return ni(c).toLowerCase()}function D_(c){return ni(c).toUpperCase()}function L_(c,g,k){if(c=ni(c),c&&(k||g===r))return Nu(c);if(!c||!(g=oo(g)))return c;var R=Ar(c),Q=Ar(g),le=Zi(R,Q),xe=bs(R,Q)+1;return Sa(R,le,xe).join("")}function M_(c,g,k){if(c=ni(c),c&&(k||g===r))return c.slice(0,Xs(c)+1);if(!c||!(g=oo(g)))return c;var R=Ar(c),Q=bs(R,Ar(g))+1;return Sa(R,0,Q).join("")}function O_(c,g,k){if(c=ni(c),c&&(k||g===r))return c.replace(Tn,"");if(!c||!(g=oo(g)))return c;var R=Ar(c),Q=Zi(R,Ar(g));return Sa(R,Q).join("")}function P_(c,g){var k=fe,R=ue;if(Bi(g)){var Q="separator"in g?g.separator:Q;k="length"in g?kn(g.length):k,R="omission"in g?oo(g.omission):R}c=ni(c);var le=c.length;if($a(c)){var xe=Ar(c);le=xe.length}if(k>=le)return c;var Se=k-Tr(R);if(Se<1)return R;var Re=xe?Sa(xe,0,Se).join(""):c.slice(0,Se);if(Q===r)return Re+R;if(xe&&(Se+=Re.length-Se),Ld(Q)){if(c.slice(Se).search(Q)){var it,rt=Re;for(Q.global||(Q=_s(Q.source,ni(un.exec(Q))+"g")),Q.lastIndex=0;it=Q.exec(rt);)var lt=it.index;Re=Re.slice(0,lt===r?Se:lt)}}else if(c.indexOf(oo(Q),Se)!=Se){var St=Re.lastIndexOf(Q);St>-1&&(Re=Re.slice(0,St))}return Re+R}function F_(c){return c=ni(c),c&&an.test(c)?c.replace(vn,Vs):c}var R_=gu(function(c,g,k){return c+(k?" ":"")+g.toUpperCase()}),Pd=Zf("toUpperCase");function Am(c,g,k){return c=ni(c),g=k?r:g,g===r?Ao(c)?ys(c):gl(c):c.match(g)||[]}var Dm=wn(function(c,g){try{return di(c,r,g)}catch(k){return Dd(k)?k:new Kt(k)}}),N_=sa(function(c,g){return $r(g,function(k){k=ki(k),Ca(c,k,Td(c[k],c))}),c});function z_(c){var g=c==null?0:c.length,k=Vt();return c=g?ri(c,function(R){if(typeof R[1]!="function")throw new yr(f);return[k(R[0]),R[1]]}):[],wn(function(R){for(var Q=-1;++Q<g;){var le=c[Q];if(di(le[0],this,R))return di(le[1],this,R)}})}function I_(c){return cd(ro(c,E))}function Fd(c){return function(){return c}}function B_(c,g){return c==null||c!==c?g:c}var $_=Gf(),H_=Gf(!0);function _o(c){return c}function Rd(c){return lu(typeof c=="function"?c:ro(c,E))}function W_(c){return Rf(ro(c,E))}function q_(c,g){return Ec(c,ro(g,E))}var j_=wn(function(c,g){return function(k){return su(k,c,g)}}),Y_=wn(function(c,g){return function(k){return su(c,k,g)}});function Nd(c,g,k){var R=Or(g),Q=Tl(g,R);k==null&&!(Bi(g)&&(Q.length||!R.length))&&(k=g,g=c,c=this,Q=Tl(g,Or(g)));var le=!(Bi(k)&&"chain"in k)||!!k.chain,xe=Os(c);return $r(Q,function(Se){var Re=g[Se];c[Se]=Re,xe&&(c.prototype[Se]=function(){var it=this.__chain__;if(le||it){var rt=c(this.__wrapped__),lt=rt.__actions__=Xr(this.__actions__);return lt.push({func:Re,args:arguments,thisArg:c}),rt.__chain__=it,rt}return Re.apply(c,fo([this.value()],arguments))})}),c}function U_(){return Wn._===this&&(Wn._=_r),this}function zd(){}function Z_(c){return c=kn(c),wn(function(g){return fu(g,c)})}var G_=Fl(ri),X_=Fl(Ws),V_=Fl(Uo);function Lm(c){return v(c)?qs(ki(c)):hd(c)}function K_(c){return function(g){return c==null?r:Xa(c,g)}}var Q_=Ms(),J_=Ms(!0);function Id(){return[]}function Bd(){return!1}function ex(){return{}}function tx(){return""}function nx(){return!0}function ix(c,g){if(c=kn(c),c<1||c>_e)return[];var k=Ee,R=ne(c,Ee);g=Vt(g),c-=Ee;for(var Q=Ru(R,g);++k<c;)g(k);return Q}function rx(c){return bn(c)?ri(c,ki):zo(c)?[c]:Xr(hi(ni(c)))}function ox(c){var g=++_l;return ni(c)+g}var ax=vu(function(c,g){return c+g},0),sx=Rc("ceil"),ux=vu(function(c,g){return c/g},1),lx=Rc("floor");function cx(c){return c&&c.length?El(c,_o,Al):r}function fx(c,g){return c&&c.length?El(c,Vt(g,2),Al):r}function hx(c){return va(c,_o)}function dx(c,g){return va(c,Vt(g,2))}function px(c){return c&&c.length?El(c,_o,As):r}function mx(c,g){return c&&c.length?El(c,Vt(g,2),As):r}var gx=vu(function(c,g){return c*g},1),vx=Rc("round"),bx=vu(function(c,g){return c-g},0);function yx(c){return c&&c.length?Us(c,_o):0}function _x(c,g){return c&&c.length?Us(c,Vt(g,2)):0}return se.after=Wy,se.ary=sm,se.assign=D1,se.assignIn=xm,se.assignInWith=uh,se.assignWith=L1,se.at=M1,se.before=um,se.bind=Td,se.bindAll=N_,se.bindKey=lm,se.castArray=e1,se.chain=rm,se.chunk=pr,se.compact=Xi,se.concat=Ii,se.cond=z_,se.conforms=I_,se.constant=Fd,se.countBy=yy,se.create=O1,se.curry=cm,se.curryRight=fm,se.debounce=hm,se.defaults=P1,se.defaultsDeep=F1,se.defer=qy,se.delay=jy,se.difference=Ci,se.differenceBy=Wr,se.differenceWith=yu,se.drop=ts,se.dropRight=xr,se.dropRightWhile=ua,se.dropWhile=ar,se.fill=zc,se.filter=xy,se.flatMap=Cy,se.flatMapDeep=Ey,se.flatMapDepth=Sy,se.flatten=is,se.flattenDeep=Mr,se.flattenDepth=_u,se.flip=Yy,se.flow=$_,se.flowRight=H_,se.fromPairs=Ic,se.functions=H1,se.functionsIn=W1,se.groupBy=Ty,se.initial=Cb,se.intersection=Eb,se.intersectionBy=Sb,se.intersectionWith=Tb,se.invert=j1,se.invertBy=Y1,se.invokeMap=Dy,se.iteratee=Rd,se.keyBy=Ly,se.keys=Or,se.keysIn=yo,se.map=nh,se.mapKeys=Z1,se.mapValues=G1,se.matches=W_,se.matchesProperty=q_,se.memoize=rh,se.merge=X1,se.mergeWith=wm,se.method=j_,se.methodOf=Y_,se.mixin=Nd,se.negate=oh,se.nthArg=Z_,se.omit=V1,se.omitBy=K1,se.once=Uy,se.orderBy=My,se.over=G_,se.overArgs=Zy,se.overEvery=X_,se.overSome=V_,se.partial=Ad,se.partialRight=dm,se.partition=Oy,se.pick=Q1,se.pickBy=km,se.property=Lm,se.propertyOf=K_,se.pull=Mb,se.pullAll=nm,se.pullAllBy=Ob,se.pullAllWith=Pb,se.pullAt=Fb,se.range=Q_,se.rangeRight=J_,se.rearg=Gy,se.reject=Ry,se.remove=Rb,se.rest=Xy,se.reverse=Ed,se.sampleSize=zy,se.set=e_,se.setWith=t_,se.shuffle=Iy,se.slice=Nb,se.sortBy=Hy,se.sortedUniq=qb,se.sortedUniqBy=jb,se.split=C_,se.spread=Vy,se.tail=Yb,se.take=Ub,se.takeRight=Zb,se.takeRightWhile=Gb,se.takeWhile=Xb,se.tap=cy,se.throttle=Ky,se.thru=th,se.toArray=bm,se.toPairs=Cm,se.toPairsIn=Em,se.toPath=rx,se.toPlainObject=_m,se.transform=n_,se.unary=Qy,se.union=Vb,se.unionBy=Kb,se.unionWith=Qb,se.uniq=Jb,se.uniqBy=ey,se.uniqWith=ty,se.unset=i_,se.unzip=Sd,se.unzipWith=im,se.update=r_,se.updateWith=o_,se.values=Wl,se.valuesIn=a_,se.without=ny,se.words=Am,se.wrap=Jy,se.xor=iy,se.xorBy=ry,se.xorWith=oy,se.zip=ay,se.zipObject=sy,se.zipObjectDeep=uy,se.zipWith=ly,se.entries=Cm,se.entriesIn=Em,se.extend=xm,se.extendWith=uh,Nd(se,se),se.add=ax,se.attempt=Dm,se.camelCase=c_,se.capitalize=Sm,se.ceil=sx,se.clamp=s_,se.clone=t1,se.cloneDeep=i1,se.cloneDeepWith=r1,se.cloneWith=n1,se.conformsTo=o1,se.deburr=Tm,se.defaultTo=B_,se.divide=ux,se.endsWith=f_,se.eq=Ta,se.escape=h_,se.escapeRegExp=d_,se.every=_y,se.find=wy,se.findIndex=la,se.findKey=R1,se.findLast=ky,se.findLastIndex=ns,se.findLastKey=N1,se.floor=lx,se.forEach=om,se.forEachRight=am,se.forIn=z1,se.forInRight=I1,se.forOwn=B1,se.forOwnRight=$1,se.get=Md,se.gt=a1,se.gte=s1,se.has=q1,se.hasIn=Od,se.head=tm,se.identity=_o,se.includes=Ay,se.indexOf=kb,se.inRange=u_,se.invoke=U1,se.isArguments=rl,se.isArray=bn,se.isArrayBuffer=u1,se.isArrayLike=bo,se.isArrayLikeObject=sr,se.isBoolean=l1,se.isBuffer=xu,se.isDate=c1,se.isElement=f1,se.isEmpty=h1,se.isEqual=d1,se.isEqualWith=p1,se.isError=Dd,se.isFinite=m1,se.isFunction=Os,se.isInteger=pm,se.isLength=ah,se.isMap=mm,se.isMatch=g1,se.isMatchWith=v1,se.isNaN=b1,se.isNative=y1,se.isNil=x1,se.isNull=_1,se.isNumber=gm,se.isObject=Bi,se.isObjectLike=Vi,se.isPlainObject=Bc,se.isRegExp=Ld,se.isSafeInteger=w1,se.isSet=vm,se.isString=sh,se.isSymbol=zo,se.isTypedArray=Hl,se.isUndefined=k1,se.isWeakMap=C1,se.isWeakSet=E1,se.join=Ab,se.kebabCase=p_,se.last=ca,se.lastIndexOf=Db,se.lowerCase=m_,se.lowerFirst=g_,se.lt=S1,se.lte=T1,se.max=cx,se.maxBy=fx,se.mean=hx,se.meanBy=dx,se.min=px,se.minBy=mx,se.stubArray=Id,se.stubFalse=Bd,se.stubObject=ex,se.stubString=tx,se.stubTrue=nx,se.multiply=gx,se.nth=Lb,se.noConflict=U_,se.noop=zd,se.now=ih,se.pad=v_,se.padEnd=b_,se.padStart=y_,se.parseInt=__,se.random=l_,se.reduce=Py,se.reduceRight=Fy,se.repeat=x_,se.replace=w_,se.result=J1,se.round=vx,se.runInContext=Oe,se.sample=Ny,se.size=By,se.snakeCase=k_,se.some=$y,se.sortedIndex=zb,se.sortedIndexBy=Ib,se.sortedIndexOf=Bb,se.sortedLastIndex=$b,se.sortedLastIndexBy=Hb,se.sortedLastIndexOf=Wb,se.startCase=E_,se.startsWith=S_,se.subtract=bx,se.sum=yx,se.sumBy=_x,se.template=T_,se.times=ix,se.toFinite=Ps,se.toInteger=kn,se.toLength=ym,se.toLower=A_,se.toNumber=fa,se.toSafeInteger=A1,se.toString=ni,se.toUpper=D_,se.trim=L_,se.trimEnd=M_,se.trimStart=O_,se.truncate=P_,se.unescape=F_,se.uniqueId=ox,se.upperCase=R_,se.upperFirst=Pd,se.each=om,se.eachRight=am,se.first=tm,Nd(se,(function(){var c={};return go(se,function(g,k){An.call(se.prototype,k)||(c[k]=g)}),c})(),{chain:!1}),se.VERSION=s,$r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){se[c].placeholder=se}),$r(["drop","take"],function(c,g){Gt.prototype[c]=function(k){k=k===r?1:H(kn(k),0);var R=this.__filtered__&&!g?new Gt(this):this.clone();return R.__filtered__?R.__takeCount__=ne(k,R.__takeCount__):R.__views__.push({size:ne(k,Ee),type:c+(R.__dir__<0?"Right":"")}),R},Gt.prototype[c+"Right"]=function(k){return this.reverse()[c](k).reverse()}}),$r(["filter","map","takeWhile"],function(c,g){var k=g+1,R=k==ie||k==ae;Gt.prototype[c]=function(Q){var le=this.clone();return le.__iteratees__.push({iteratee:Vt(Q,3),type:k}),le.__filtered__=le.__filtered__||R,le}}),$r(["head","last"],function(c,g){var k="take"+(g?"Right":"");Gt.prototype[c]=function(){return this[k](1).value()[0]}}),$r(["initial","tail"],function(c,g){var k="drop"+(g?"":"Right");Gt.prototype[c]=function(){return this.__filtered__?new Gt(this):this[k](1)}}),Gt.prototype.compact=function(){return this.filter(_o)},Gt.prototype.find=function(c){return this.filter(c).head()},Gt.prototype.findLast=function(c){return this.reverse().find(c)},Gt.prototype.invokeMap=wn(function(c,g){return typeof c=="function"?new Gt(this):this.map(function(k){return su(k,c,g)})}),Gt.prototype.reject=function(c){return this.filter(oh(Vt(c)))},Gt.prototype.slice=function(c,g){c=kn(c);var k=this;return k.__filtered__&&(c>0||g<0)?new Gt(k):(c<0?k=k.takeRight(-c):c&&(k=k.drop(c)),g!==r&&(g=kn(g),k=g<0?k.dropRight(-g):k.take(g-c)),k)},Gt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Gt.prototype.toArray=function(){return this.take(Ee)},go(Gt.prototype,function(c,g){var k=/^(?:filter|find|map|reject)|While$/.test(g),R=/^(?:head|last)$/.test(g),Q=se[R?"take"+(g=="last"?"Right":""):g],le=R||/^find/.test(g);Q&&(se.prototype[g]=function(){var xe=this.__wrapped__,Se=R?[1]:arguments,Re=xe instanceof Gt,it=Se[0],rt=Re||bn(xe),lt=function(Fn){var $n=Q.apply(se,fo([Fn],Se));return R&&St?$n[0]:$n};rt&&k&&typeof it=="function"&&it.length!=1&&(Re=rt=!1);var St=this.__chain__,qt=!!this.__actions__.length,Qt=le&&!St,Sn=Re&&!qt;if(!le&&rt){xe=Sn?xe:new Gt(this);var Jt=c.apply(xe,Se);return Jt.__actions__.push({func:th,args:[lt],thisArg:r}),new Rn(Jt,St)}return Qt&&Sn?c.apply(this,Se):(Jt=this.thru(lt),Qt?R?Jt.value()[0]:Jt.value():Jt)})}),$r(["pop","push","shift","sort","splice","unshift"],function(c){var g=Qs[c],k=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",R=/^(?:pop|shift)$/.test(c);se.prototype[c]=function(){var Q=arguments;if(R&&!this.__chain__){var le=this.value();return g.apply(bn(le)?le:[],Q)}return this[k](function(xe){return g.apply(bn(xe)?xe:[],Q)})}}),go(Gt.prototype,function(c,g){var k=se[g];if(k){var R=k.name+"";An.call(Gr,R)||(Gr[R]=[]),Gr[R].push({name:g,func:k})}}),Gr[Pl(r,U).name]=[{name:"wrapper",func:r}],Gt.prototype.clone=Ri,Gt.prototype.reverse=Bu,Gt.prototype.value=nd,se.prototype.at=fy,se.prototype.chain=hy,se.prototype.commit=dy,se.prototype.next=py,se.prototype.plant=gy,se.prototype.reverse=vy,se.prototype.toJSON=se.prototype.valueOf=se.prototype.value=by,se.prototype.first=se.prototype.head,ta&&(se.prototype[ta]=my),se}),Yr=Ko();Br?((Br.exports=Yr)._=Yr,br._=Yr):Wn._=Yr}).call(lE)})(Xc,Xc.exports)),Xc.exports}var ef=cE();const rb={list:[],trans:null,selectedDrawer:null},fE={drawersGetById:t=>e=>t.list.find(r=>r.id===e),getDrawerFilters:t=>t.selectedDrawer?t.selectedDrawer.filters:null},hE={drawersAddInstance({commit:t},e){t(wv,{drawer:e})},drawersRemoveInstance({commit:t},e){t(kv,{drawerToRemove:e})},drawersInitData({commit:t},{drawer:e,entity:r,ids:s,filters:u,maxLength:l,minLength:f,entityName:h}){if(t(Lv,{drawer:e,entity:r,ids:s,filters:u}),!s||s.length===0||!r)t(Ov,{drawer:e,maxLength:l,minLength:f});else{const b=s.map(w=>w&&w.document?w.document:w);Jv(r,b,u).then(w=>{if(w&&h===Zv){const x={...w,items:s.map(function(E,N){return{document:w.items[N],hotspot:E.hotspot,imageCropAlignment:E.imageCropAlignment}})};t(gp,{drawer:e,result:x,maxLength:l,minLength:f});return}t(gp,{drawer:e,result:w,maxLength:l,minLength:f})}).catch(w=>{t(Mv,{drawer:e,error:w})})}},drawersAddItem({commit:t,state:e},{drawer:r,item:s,newIndex:u}){let l=e.selectedDrawer;r&&(l=r),l.acceptMore&&t(Cv,{drawer:l,item:s,newIndex:u})},drawersMoveItem(){},drawersRemoveItem({commit:t},{drawer:e,item:r}){t(Ev,{drawer:e,item:r})},drawersExplorerButtonClick({commit:t,dispatch:e},r){t(Sv,{drawer:r}),rb.selectedDrawer.isActive?e("explorerOpen",{entity:r.entity}):e("explorerClose")},drawersDropzoneButtonClick({dispatch:t},e){e.isDropzoneEnable?t("drawersDisableDropzone",{drawer:e}):t("drawersEnableDropzone",{drawer:e})},drawersEnableDropzone({commit:t},{drawer:e}){t(Av,{drawer:e})},drawersDisableDropzone({commit:t},{drawer:e}){t(Dv,{drawer:e})}},dE={[wv](t,{drawer:e}){t.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[kv](t,{drawerToRemove:e}){t.list=ef.remove(t.list,r=>r._uid===e._uid)},[Sv](t,{drawer:e}){t.list.forEach(r=>{r!==e&&(r.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,t.selectedDrawer=e},[Cv](t,{drawer:e,item:r}){e.items.push(r),e.acceptMore=e.items.length<e.maxLength},[Tv](t,{drawer:e,newList:r}){e.items=r,e.acceptMore=e.items.length<e.maxLength},[Ev](t,{drawer:e,item:r}){let s=e.items.indexOf(r);s>=0&&e.items.splice(s,1),e.acceptMore=e.items.length<e.maxLength},[Rp](t){t=Dg(t)},[gp](t,{drawer:e,result:r,maxLength:s,minLength:u}){e.isLoading=!1,e.items=r.items,e.trans=r.trans,e.maxLength=s,e.minLength=u,e.acceptMore=r.items.length<s},[Lv](t,{drawer:e,entity:r,filters:s}){e.isLoading=!0,e.entity=r,e.filters=s,e.currentListingView=bp.getListingView(r)},[Mv](t,{drawer:e,error:r}){e.isLoading=!1,e.errorMessage=r.message},[Ov](t,{drawer:e,maxLength:r,minLength:s}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=r,e.minLength=s},[hs](t){t=Dg(t)},[Av](t,{drawer:e}){t.list.forEach(r=>{r.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[Dv](t,{drawer:e}){e.isDropzoneEnable=!1}};function Dg(t){return t.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),t.selectedDrawer=null,t}const pE={state:rb,getters:fE,actions:hE,mutations:dE},mE={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},gE={...mE},vE={getFilterExplorerSelectedItem:t=>t.selectedItem},bE={filterExplorerOpen({commit:t,dispatch:e,getters:r}){const s=r.getExplorerEntity;t(pv,{entity:s}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:t,dispatch:e},{item:r}){t(Np,{item:r}),e("explorerMakeSearch")},filterExplorerClose({commit:t}){t(mv)},filterExplorerReset({commit:t}){t(bv)},filterExplorerToggle({dispatch:t,state:e}){e.isOpen?t("filterExplorerClose"):t("filterExplorerOpen")},filterExplorerMakeSearch({commit:t,state:e}){t(gv);const r=e.entity;return Ip.getFilters({entity:r}).then(s=>{s?t(vv,{result:s}):t(dp)}).catch(s=>{t(dp,{error:s})})}},yE={[Np](t,{item:e}){t.selectedItem=e},[gv](t){t.isLoading=!0},[vv](t,{result:e}){t.items=e.items,t.isLoading=!1},[pv](t,{entity:e}){switch(t.isOpen=!0,t.entity=e,e){case tc:t.icons.normal="uk-icon-folder",t.icons.active="uk-icon-folder-open";break;case mf:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break;case nc:t.icons.normal="uk-icon-tag",t.icons.active="uk-icon-tag";break}},[mv](t){t.isOpen=!1},[bv](t){t.selectedItem=null,t.items=[]},[dp](t){t.isLoading=!1,t.error="Request failed"},[hs](t){t.isLoading=!1,t.isOpen=!1,t.selectedItem=null}},_E={state:gE,getters:vE,actions:bE,mutations:yE},xE={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},wE={tagsSearchExisting:t=>()=>t.isTagExisting},kE={tagCreatorReady({commit:t}){t(Nv)},tagsCreate({commit:t,dispatch:e},{tagName:r}){t(Pv,{tagName:r}),Vv({tagName:r}).then(s=>{t(Fv,s),e("drawersAddItem",{item:s}),e("explorerResetSearchTerms")}).catch(s=>{t(Rv,s)})}},CE={[Nv](t){t.isReady=!0},[Bh](t,{searchTerms:e}){t.searchTerms=e},[Fp](t,{result:e}){if(t.isTagExisting=!1,t.isReady&&t.searchTerms!=="")for(let r of e.items)r.name&&t.searchTerms&&r.name.toLowerCase()===t.searchTerms.toLowerCase()&&(t.isTagExisting=!0)},[Pv](t){t.isLoading=!0},[Fv](t){t.isLoading=!1},[Rv](t,e){t.isLoading=!1,t.error=e.message}},EE={state:xE,getters:wE,actions:kE,mutations:CE},SE={document:null,isVisible:!1,isLoading:!1},TE={documentPreviewGetDocument:t=>t.document},AE={documentPreviewInit({commit:t},{document:e}){t(zv,{document:e})},documentPreviewDestroy({commit:t}){t(Iv)},documentPreviewClose({commit:t}){t($v)},documentPreviewOpen({commit:t},{document:e}){t(Bv,{document:e})}},DE={[zv](t,{document:e}){e&&(t.document=e)},[Iv](t){t.isVisible=!1,t.document=null},[yv](t){t.document&&!t.isVisible?t.isVisible=!0:(t.isVisible=!1,t.document=null)},[hs](t){t.isVisible=!1,t.document=null},[Bv](t,{document:e}){e&&(t.document=e,t.isVisible=!0)},[$v](t){t.isVisible=!1,t.document=null}},LE={state:SE,getters:TE,actions:AE,mutations:DE};function ME(t){let e=atob(t.split(",")[1]),r=[];for(let u=0;u<e.length;u++)r.push(e.charCodeAt(u));const s=t.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(r)],{type:s})}const OE={isLoading:!0,originalUrl:"",editor:null},PE={blanchetteEditorInit({commit:t,dispatch:e},{url:r,editor:s}){e("blanchetteEditorIsLoading"),t(Hv,{url:r,editor:s})},blanchetteEditorIsLoading({commit:t}){t(vp)},blanchetteEditorLoaded({commit:t}){t(Ch)},blanchetteEditorSave({commit:t,state:e},{url:r,filename:s}){const u=ME(r),l=e.editor.getElementsByTagName("form")[0];let f=new FormData(l);return f.append("form[editDocument]",u,s),t(vp),o2(f).then(async h=>{const b=await h.json();if(t(Ch),b&&b.path)window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:b.message,status:"success"}})),t(qv,{path:b.path});else throw new Error("No path found")}).catch(async h=>{t(Wv,{error:await h.response.json()}),t(Ch)})}},FE={[Hv](t,{url:e,editor:r}){t.originalUrl=e,t.editor=r},[vp](t){t.isLoading=!0},[Wv](t,{error:e}){t.error=e.message},[Ch](t){t.isLoading=!1},[qv](t,{path:e}){t.originalUrl=e}},RE={state:OE,actions:PE,mutations:FE};Ql.use(E0);const dh=new E0.Store({modules:{nodesSourceSearch:D2,explorer:uE,filterExplorer:_E,drawers:pE,tags:EE,documentPreview:LE,blanchetteEditor:RE},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[_v](t){t.connected=!0},[pp](t){t.connected=!1},[xv](t){t.healthChecked=!0},[mp](t){t.healthChecked=!1}},actions:{escape({commit:t}){t(hs)}}});class NE{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.addEventListener("keyup",e=>{(e.key==="Escape"||e.keyCode===27)&&this.store.commit(hs)})}bindSpace(){window.addEventListener("keyup",e=>{if(!(!e.key==="Space"||!this.store.getters.documentPreviewGetDocument))return e.preventDefault(),this.store.commit(yv,{event:e}),!1})}}class zE{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(pp):this.store.commit(mp);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(pp);return}(e.status===200||e.status===202)&&(this.store.commit(_v),this.store.commit(xv),this.check())}}catch{this.store.commit(mp)}},this.intervalDuration)}}const IE={data:function(){return{searchTerms:null}},computed:{...Fa({items:t=>t.nodesSourceSearch.items,isFocus:t=>t.nodesSourceSearch.isFocus,isOpen:t=>t.nodesSourceSearch.isOpen})},methods:{...Ns(["nodesSourceSearchUpdate","nodeSourceSearchEnableFocus","nodeSourceSearchDisableFocus","nodeSourceSearchEscape"]),enableFocus:ef.debounce(function(){this.nodeSourceSearchEnableFocus()},50),disableFocus:ef.debounce(function(){this.nodeSourceSearchDisableFocus()},300),keyUp:function(t){t&&t.key==="Escape"&&(t.preventDefault(),this.nodeSourceSearchEscape())}},watch:{searchTerms:ef.debounce(function(t,e){this.nodesSourceSearchUpdate(t,e)},200),isFocus:function(){this.isFocus||this.$refs.searchTermsInput.blur()}},components:{AjaxLink:Bp}},BE=null,$E=null;var HE=Wi(IE,BE,$E,!1,null,null);const WE=HE.exports,qE={name:"rz-button",props:["isActive","callback"]};var jE=function(){var e=this,r=e._self._c;return r("button",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},YE=[],UE=Wi(qE,jE,YE,!1,null,null);const ZE=UE.exports;var Sh={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Th(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Th=function(e){return typeof e}:Th=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function GE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pa(){return pa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},pa.apply(this,arguments)}function Mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable}))),s.forEach(function(u){GE(t,u,r[u])})}return t}function XE(t,e){if(t==null)return{};var r={},s=Object.keys(t),u,l;for(l=0;l<s.length;l++)u=s[l],!(e.indexOf(u)>=0)&&(r[u]=t[u]);return r}function VE(t,e){if(t==null)return{};var r=XE(t,e),s,u;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(u=0;u<l.length;u++)s=l[u],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function KE(t){return QE(t)||JE(t)||eS()}function QE(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function JE(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function eS(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var tS="1.10.2";function Rs(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var zs=Rs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),gf=Rs(/Edge/i),Lg=Rs(/firefox/i),yp=Rs(/safari/i)&&!Rs(/chrome/i)&&!Rs(/android/i),ob=Rs(/iP(ad|od|hone)/i),nS=Rs(/chrome/i)&&Rs(/android/i),ab={capture:!1,passive:!1};function zn(t,e,r){t.addEventListener(e,r,!zs&&ab)}function On(t,e,r){t.removeEventListener(e,r,!zs&&ab)}function $h(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function iS(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Oa(t,e,r,s){if(t){r=r||document;do{if(e!=null&&(e[0]===">"?t.parentNode===r&&$h(t,e):$h(t,e))||s&&t===r)return t;if(t===r)break}while(t=iS(t))}return null}var Mg=/\s+/g;function Hi(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(Mg," ").replace(" "+e+" "," ");t.className=(s+(r?" "+e:"")).replace(Mg," ")}}function $t(t,e,r){var s=t&&t.style;if(s){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),e===void 0?r:r[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=r+(typeof r=="string"?"":"px")}}function cl(t,e){var r="";if(typeof t=="string")r=t;else do{var s=$t(t,"transform");s&&s!=="none"&&(r=s+" "+r)}while(!e&&(t=t.parentNode));var u=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return u&&new u(r)}function sb(t,e,r){if(t){var s=t.getElementsByTagName(e),u=0,l=s.length;if(r)for(;u<l;u++)r(s[u],u);return s}return[]}function us(){var t=document.scrollingElement;return t||document.documentElement}function Ji(t,e,r,s,u){if(!(!t.getBoundingClientRect&&t!==window)){var l,f,h,b,w,x,E;if(t!==window&&t!==us()?(l=t.getBoundingClientRect(),f=l.top,h=l.left,b=l.bottom,w=l.right,x=l.height,E=l.width):(f=0,h=0,b=window.innerHeight,w=window.innerWidth,x=window.innerHeight,E=window.innerWidth),(e||r)&&t!==window&&(u=u||t.parentNode,!zs))do if(u&&u.getBoundingClientRect&&($t(u,"transform")!=="none"||r&&$t(u,"position")!=="static")){var N=u.getBoundingClientRect();f-=N.top+parseInt($t(u,"border-top-width")),h-=N.left+parseInt($t(u,"border-left-width")),b=f+l.height,w=h+l.width;break}while(u=u.parentNode);if(s&&t!==window){var q=cl(u||t),F=q&&q.a,j=q&&q.d;q&&(f/=j,h/=F,E/=F,x/=j,b=f+x,w=h+E)}return{top:f,left:h,bottom:b,right:w,width:E,height:x}}}function Og(t,e,r){for(var s=Au(t,!0),u=Ji(t)[e];s;){var l=Ji(s)[r],f=void 0;if(f=u>=l,!f)return s;if(s===us())break;s=Au(s,!1)}return!1}function Hh(t,e,r){for(var s=0,u=0,l=t.children;u<l.length;){if(l[u].style.display!=="none"&&l[u]!==en.ghost&&l[u]!==en.dragged&&Oa(l[u],r.draggable,t,!1)){if(s===e)return l[u];s++}u++}return null}function $p(t,e){for(var r=t.lastElementChild;r&&(r===en.ghost||$t(r,"display")==="none"||e&&!$h(r,e));)r=r.previousElementSibling;return r||null}function Qi(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==en.clone&&(!e||$h(t,e))&&r++;return r}function Pg(t){var e=0,r=0,s=us();if(t)do{var u=cl(t),l=u.a,f=u.d;e+=t.scrollLeft*l,r+=t.scrollTop*f}while(t!==s&&(t=t.parentNode));return[e,r]}function rS(t,e){for(var r in t)if(t.hasOwnProperty(r)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[r][s])return Number(r)}return-1}function Au(t,e){if(!t||!t.getBoundingClientRect)return us();var r=t,s=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var u=$t(r);if(r.clientWidth<r.scrollWidth&&(u.overflowX=="auto"||u.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(u.overflowY=="auto"||u.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return us();if(s||e)return r;s=!0}}while(r=r.parentNode);return us()}function oS(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Vd(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var tf;function ub(t,e){return function(){if(!tf){var r=arguments,s=this;r.length===1?t.call(s,r[0]):t.apply(s,r),tf=setTimeout(function(){tf=void 0},e)}}}function aS(){clearTimeout(tf),tf=void 0}function lb(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function Hp(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function Fg(t,e){$t(t,"position","absolute"),$t(t,"top",e.top),$t(t,"left",e.left),$t(t,"width",e.width),$t(t,"height",e.height)}function Kd(t){$t(t,"position",""),$t(t,"top",""),$t(t,"left",""),$t(t,"width",""),$t(t,"height","")}var Kr="Sortable"+new Date().getTime();function sS(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(u){if(!($t(u,"display")==="none"||u===en.ghost)){t.push({target:u,rect:Ji(u)});var l=Mu({},t[t.length-1].rect);if(u.thisAnimationDuration){var f=cl(u,!0);f&&(l.top-=f.f,l.left-=f.e)}u.fromRect=l}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(rS(t,{target:s}),1)},animateAll:function(s){var u=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var l=!1,f=0;t.forEach(function(h){var b=0,w=h.target,x=w.fromRect,E=Ji(w),N=w.prevFromRect,q=w.prevToRect,F=h.rect,j=cl(w,!0);j&&(E.top-=j.f,E.left-=j.e),w.toRect=E,w.thisAnimationDuration&&Vd(N,E)&&!Vd(x,E)&&(F.top-E.top)/(F.left-E.left)===(x.top-E.top)/(x.left-E.left)&&(b=lS(F,N,q,u.options)),Vd(E,x)||(w.prevFromRect=x,w.prevToRect=E,b||(b=u.options.animation),u.animate(w,F,E,b)),b&&(l=!0,f=Math.max(f,b),clearTimeout(w.animationResetTimer),w.animationResetTimer=setTimeout(function(){w.animationTime=0,w.prevFromRect=null,w.fromRect=null,w.prevToRect=null,w.thisAnimationDuration=null},b),w.thisAnimationDuration=b)}),clearTimeout(e),l?e=setTimeout(function(){typeof s=="function"&&s()},f):typeof s=="function"&&s(),t=[]},animate:function(s,u,l,f){if(f){$t(s,"transition",""),$t(s,"transform","");var h=cl(this.el),b=h&&h.a,w=h&&h.d,x=(u.left-l.left)/(b||1),E=(u.top-l.top)/(w||1);s.animatingX=!!x,s.animatingY=!!E,$t(s,"transform","translate3d("+x+"px,"+E+"px,0)"),uS(s),$t(s,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),$t(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){$t(s,"transition",""),$t(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},f)}}}}function uS(t){return t.offsetWidth}function lS(t,e,r,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*s.animation}var $c=[],Qd={initializeByDefault:!0},vf={mount:function(e){for(var r in Qd)Qd.hasOwnProperty(r)&&!(r in e)&&(e[r]=Qd[r]);$c.push(e)},pluginEvent:function(e,r,s){var u=this;this.eventCanceled=!1,s.cancel=function(){u.eventCanceled=!0};var l=e+"Global";$c.forEach(function(f){r[f.pluginName]&&(r[f.pluginName][l]&&r[f.pluginName][l](Mu({sortable:r},s)),r.options[f.pluginName]&&r[f.pluginName][e]&&r[f.pluginName][e](Mu({sortable:r},s)))})},initializePlugins:function(e,r,s,u){$c.forEach(function(h){var b=h.pluginName;if(!(!e.options[b]&&!h.initializeByDefault)){var w=new h(e,r,e.options);w.sortable=e,w.options=e.options,e[b]=w,pa(s,w.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var f=this.modifyOption(e,l,e.options[l]);typeof f<"u"&&(e.options[l]=f)}},getEventProperties:function(e,r){var s={};return $c.forEach(function(u){typeof u.eventProperties=="function"&&pa(s,u.eventProperties.call(r[u.pluginName],e))}),s},modifyOption:function(e,r,s){var u;return $c.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[r]=="function"&&(u=l.optionListeners[r].call(e[l.pluginName],s))}),u}};function Vc(t){var e=t.sortable,r=t.rootEl,s=t.name,u=t.targetEl,l=t.cloneEl,f=t.toEl,h=t.fromEl,b=t.oldIndex,w=t.newIndex,x=t.oldDraggableIndex,E=t.newDraggableIndex,N=t.originalEvent,q=t.putSortable,F=t.extraEventProperties;if(e=e||r&&r[Kr],!!e){var j,W=e.options,U="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!zs&&!gf?j=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(j=document.createEvent("Event"),j.initEvent(s,!0,!0)),j.to=f||r,j.from=h||r,j.item=u||r,j.clone=l,j.oldIndex=b,j.newIndex=w,j.oldDraggableIndex=x,j.newDraggableIndex=E,j.originalEvent=N,j.pullMode=q?q.lastPutMode:void 0;var T=Mu({},F,vf.getEventProperties(s,e));for(var D in T)j[D]=T[D];r&&r.dispatchEvent(j),W[U]&&W[U].call(e,j)}}var xo=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.evt,l=VE(s,["evt"]);vf.pluginEvent.bind(en)(e,r,Mu({dragEl:yt,parentEl:mr,ghostEl:_n,rootEl:$i,nextEl:sl,lastDownEl:Ah,cloneEl:Ki,cloneHidden:Su,dragStarted:Kc,putSortable:qr,activeSortable:en.active,originalEvent:u,oldIndex:Gl,oldDraggableIndex:nf,newIndex:Wo,newDraggableIndex:ku,hideGhostForTarget:db,unhideGhostForTarget:pb,cloneNowHidden:function(){Su=!0},cloneNowShown:function(){Su=!1},dispatchSortableEvent:function(h){uo({sortable:r,name:h,originalEvent:u})}},l))};function uo(t){Vc(Mu({putSortable:qr,cloneEl:Ki,targetEl:yt,rootEl:$i,oldIndex:Gl,oldDraggableIndex:nf,newIndex:Wo,newDraggableIndex:ku},t))}var yt,mr,_n,$i,sl,Ah,Ki,Su,Gl,Wo,nf,ku,ph,qr,Zl=!1,Wh=!1,qh=[],ol,Da,Jd,ep,Rg,Ng,Kc,Yl,rf,of=!1,mh=!1,Dh,Vr,tp=[],_p=!1,jh=[],ed=typeof document<"u",gh=ob,zg=gf||zs?"cssFloat":"float",cS=ed&&!nS&&!ob&&"draggable"in document.createElement("div"),cb=(function(){if(ed){if(zs)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),fb=function(e,r){var s=$t(e),u=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=Hh(e,0,r),f=Hh(e,1,r),h=l&&$t(l),b=f&&$t(f),w=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Ji(l).width,x=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+Ji(f).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&h.float&&h.float!=="none"){var E=h.float==="left"?"left":"right";return f&&(b.clear==="both"||b.clear===E)?"vertical":"horizontal"}return l&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||w>=u&&s[zg]==="none"||f&&s[zg]==="none"&&w+x>u)?"vertical":"horizontal"},fS=function(e,r,s){var u=s?e.left:e.top,l=s?e.right:e.bottom,f=s?e.width:e.height,h=s?r.left:r.top,b=s?r.right:r.bottom,w=s?r.width:r.height;return u===h||l===b||u+f/2===h+w/2},hS=function(e,r){var s;return qh.some(function(u){if(!$p(u)){var l=Ji(u),f=u[Kr].options.emptyInsertThreshold,h=e>=l.left-f&&e<=l.right+f,b=r>=l.top-f&&r<=l.bottom+f;if(f&&h&&b)return s=u}}),s},hb=function(e){function r(l,f){return function(h,b,w,x){var E=h.options.group.name&&b.options.group.name&&h.options.group.name===b.options.group.name;if(l==null&&(f||E))return!0;if(l==null||l===!1)return!1;if(f&&l==="clone")return l;if(typeof l=="function")return r(l(h,b,w,x),f)(h,b,w,x);var N=(f?h:b).options.group.name;return l===!0||typeof l=="string"&&l===N||l.join&&l.indexOf(N)>-1}}var s={},u=e.group;(!u||Th(u)!="object")&&(u={name:u}),s.name=u.name,s.checkPull=r(u.pull,!0),s.checkPut=r(u.put),s.revertClone=u.revertClone,e.group=s},db=function(){!cb&&_n&&$t(_n,"display","none")},pb=function(){!cb&&_n&&$t(_n,"display","")};ed&&document.addEventListener("click",function(t){if(Wh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Wh=!1,!1},!0);var al=function(e){if(yt){e=e.touches?e.touches[0]:e;var r=hS(e.clientX,e.clientY);if(r){var s={};for(var u in e)e.hasOwnProperty(u)&&(s[u]=e[u]);s.target=s.rootEl=r,s.preventDefault=void 0,s.stopPropagation=void 0,r[Kr]._onDragOver(s)}}},dS=function(e){yt&&yt.parentNode[Kr]._isOutsideThisEl(e.target)};function en(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=pa({},e),t[Kr]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fb(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,h){f.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:en.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};vf.initializePlugins(this,t,r);for(var s in r)!(s in e)&&(e[s]=r[s]);hb(e);for(var u in this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this));this.nativeDraggable=e.forceFallback?!1:cS,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?zn(t,"pointerdown",this._onTapStart):(zn(t,"mousedown",this._onTapStart),zn(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(zn(t,"dragover",this),zn(t,"dragenter",this)),qh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),pa(this,sS())}en.prototype={constructor:en,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Yl=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,yt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var r=this,s=this.el,u=this.options,l=u.preventOnFilter,f=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,b=(h||e).target,w=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||b,x=u.filter;if(_S(s),!yt&&!(/mousedown|pointerdown/.test(f)&&e.button!==0||u.disabled)&&!w.isContentEditable&&(b=Oa(b,u.draggable,s,!1),!(b&&b.animated)&&Ah!==b)){if(Gl=Qi(b),nf=Qi(b,u.draggable),typeof x=="function"){if(x.call(this,e,b,this)){uo({sortable:r,rootEl:w,name:"filter",targetEl:b,toEl:s,fromEl:s}),xo("filter",r,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(x&&(x=x.split(",").some(function(E){if(E=Oa(w,E.trim(),s,!1),E)return uo({sortable:r,rootEl:E,name:"filter",targetEl:b,fromEl:s,toEl:s}),xo("filter",r,{evt:e}),!0}),x)){l&&e.cancelable&&e.preventDefault();return}u.handle&&!Oa(w,u.handle,s,!1)||this._prepareDragStart(e,h,b)}}},_prepareDragStart:function(e,r,s){var u=this,l=u.el,f=u.options,h=l.ownerDocument,b;if(s&&!yt&&s.parentNode===l){var w=Ji(s);if($i=l,yt=s,mr=yt.parentNode,sl=yt.nextSibling,Ah=s,ph=f.group,en.dragged=yt,ol={target:yt,clientX:(r||e).clientX,clientY:(r||e).clientY},Rg=ol.clientX-w.left,Ng=ol.clientY-w.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,yt.style["will-change"]="all",b=function(){if(xo("delayEnded",u,{evt:e}),en.eventCanceled){u._onDrop();return}u._disableDelayedDragEvents(),!Lg&&u.nativeDraggable&&(yt.draggable=!0),u._triggerDragStart(e,r),uo({sortable:u,name:"choose",originalEvent:e}),Hi(yt,f.chosenClass,!0)},f.ignore.split(",").forEach(function(x){sb(yt,x.trim(),ip)}),zn(h,"dragover",al),zn(h,"mousemove",al),zn(h,"touchmove",al),zn(h,"mouseup",u._onDrop),zn(h,"touchend",u._onDrop),zn(h,"touchcancel",u._onDrop),Lg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,yt.draggable=!0),xo("delayStart",this,{evt:e}),f.delay&&(!f.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(gf||zs))){if(en.eventCanceled){this._onDrop();return}zn(h,"mouseup",u._disableDelayedDrag),zn(h,"touchend",u._disableDelayedDrag),zn(h,"touchcancel",u._disableDelayedDrag),zn(h,"mousemove",u._delayedDragTouchMoveHandler),zn(h,"touchmove",u._delayedDragTouchMoveHandler),f.supportPointer&&zn(h,"pointermove",u._delayedDragTouchMoveHandler),u._dragStartTimer=setTimeout(b,f.delay)}else b()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){yt&&ip(yt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;On(e,"mouseup",this._disableDelayedDrag),On(e,"touchend",this._disableDelayedDrag),On(e,"touchcancel",this._disableDelayedDrag),On(e,"mousemove",this._delayedDragTouchMoveHandler),On(e,"touchmove",this._delayedDragTouchMoveHandler),On(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?zn(document,"pointermove",this._onTouchMove):r?zn(document,"touchmove",this._onTouchMove):zn(document,"mousemove",this._onTouchMove):(zn(yt,"dragend",this),zn($i,"dragstart",this._onDragStart));try{document.selection?Lh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if(Zl=!1,$i&&yt){xo("dragStarted",this,{evt:r}),this.nativeDraggable&&zn(document,"dragover",dS);var s=this.options;!e&&Hi(yt,s.dragClass,!1),Hi(yt,s.ghostClass,!0),en.active=this,e&&this._appendGhost(),uo({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Da){this._lastX=Da.clientX,this._lastY=Da.clientY,db();for(var e=document.elementFromPoint(Da.clientX,Da.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Da.clientX,Da.clientY),e!==r);)r=e;if(yt.parentNode[Kr]._isOutsideThisEl(e),r)do{if(r[Kr]){var s=void 0;if(s=r[Kr]._onDragOver({clientX:Da.clientX,clientY:Da.clientY,target:e,rootEl:r}),s&&!this.options.dragoverBubble)break}e=r}while(r=r.parentNode);pb()}},_onTouchMove:function(e){if(ol){var r=this.options,s=r.fallbackTolerance,u=r.fallbackOffset,l=e.touches?e.touches[0]:e,f=_n&&cl(_n,!0),h=_n&&f&&f.a,b=_n&&f&&f.d,w=gh&&Vr&&Pg(Vr),x=(l.clientX-ol.clientX+u.x)/(h||1)+(w?w[0]-tp[0]:0)/(h||1),E=(l.clientY-ol.clientY+u.y)/(b||1)+(w?w[1]-tp[1]:0)/(b||1);if(!en.active&&!Zl){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(_n){f?(f.e+=x-(Jd||0),f.f+=E-(ep||0)):f={a:1,b:0,c:0,d:1,e:x,f:E};var N="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");$t(_n,"webkitTransform",N),$t(_n,"mozTransform",N),$t(_n,"msTransform",N),$t(_n,"transform",N),Jd=x,ep=E,Da=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!_n){var e=this.options.fallbackOnBody?document.body:$i,r=Ji(yt,!0,gh,!0,e),s=this.options;if(gh){for(Vr=e;$t(Vr,"position")==="static"&&$t(Vr,"transform")==="none"&&Vr!==document;)Vr=Vr.parentNode;Vr!==document.body&&Vr!==document.documentElement?(Vr===document&&(Vr=us()),r.top+=Vr.scrollTop,r.left+=Vr.scrollLeft):Vr=us(),tp=Pg(Vr)}_n=yt.cloneNode(!0),Hi(_n,s.ghostClass,!1),Hi(_n,s.fallbackClass,!0),Hi(_n,s.dragClass,!0),$t(_n,"transition",""),$t(_n,"transform",""),$t(_n,"box-sizing","border-box"),$t(_n,"margin",0),$t(_n,"top",r.top),$t(_n,"left",r.left),$t(_n,"width",r.width),$t(_n,"height",r.height),$t(_n,"opacity","0.8"),$t(_n,"position",gh?"absolute":"fixed"),$t(_n,"zIndex","100000"),$t(_n,"pointerEvents","none"),en.ghost=_n,e.appendChild(_n),$t(_n,"transform-origin",Rg/parseInt(_n.style.width)*100+"% "+Ng/parseInt(_n.style.height)*100+"%")}},_onDragStart:function(e,r){var s=this,u=e.dataTransfer,l=s.options;if(xo("dragStart",this,{evt:e}),en.eventCanceled){this._onDrop();return}xo("setupClone",this),en.eventCanceled||(Ki=Hp(yt),Ki.draggable=!1,Ki.style["will-change"]="",this._hideClone(),Hi(Ki,this.options.chosenClass,!1),en.clone=Ki),s.cloneId=Lh(function(){xo("clone",s),!en.eventCanceled&&(s.options.removeCloneOnHide||$i.insertBefore(Ki,yt),s._hideClone(),uo({sortable:s,name:"clone"}))}),!r&&Hi(yt,l.dragClass,!0),r?(Wh=!0,s._loopId=setInterval(s._emulateDragOver,50)):(On(document,"mouseup",s._onDrop),On(document,"touchend",s._onDrop),On(document,"touchcancel",s._onDrop),u&&(u.effectAllowed="move",l.setData&&l.setData.call(s,u,yt)),zn(document,"drop",s),$t(yt,"transform","translateZ(0)")),Zl=!0,s._dragStartId=Lh(s._dragStarted.bind(s,r,e)),zn(document,"selectstart",s),Kc=!0,yp&&$t(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,s=e.target,u,l,f,h=this.options,b=h.group,w=en.active,x=ph===b,E=h.sort,N=qr||w,q,F=this,j=!1;if(_p)return;function W(me,_e){xo(me,F,Mu({evt:e,isOwner:x,axis:q?"vertical":"horizontal",revert:f,dragRect:u,targetRect:l,canSort:E,fromSortable:N,target:s,completed:T,onMove:function(Fe,Ee){return np($i,r,yt,u,Fe,Ji(Fe),e,Ee)},changed:D},_e))}function U(){W("dragOverAnimationCapture"),F.captureAnimationState(),F!==N&&N.captureAnimationState()}function T(me){return W("dragOverCompleted",{insertion:me}),me&&(x?w._hideClone():w._showClone(F),F!==N&&(Hi(yt,qr?qr.options.ghostClass:w.options.ghostClass,!1),Hi(yt,h.ghostClass,!0)),qr!==F&&F!==en.active?qr=F:F===en.active&&qr&&(qr=null),N===F&&(F._ignoreWhileAnimating=s),F.animateAll(function(){W("dragOverAnimationComplete"),F._ignoreWhileAnimating=null}),F!==N&&(N.animateAll(),N._ignoreWhileAnimating=null)),(s===yt&&!yt.animated||s===r&&!s.animated)&&(Yl=null),!h.dragoverBubble&&!e.rootEl&&s!==document&&(yt.parentNode[Kr]._isOutsideThisEl(e.target),!me&&al(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),j=!0}function D(){Wo=Qi(yt),ku=Qi(yt,h.draggable),uo({sortable:F,name:"change",toEl:r,newIndex:Wo,newDraggableIndex:ku,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=Oa(s,h.draggable,r,!0),W("dragOver"),en.eventCanceled)return j;if(yt.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||F._ignoreWhileAnimating===s)return T(!1);if(Wh=!1,w&&!h.disabled&&(x?E||(f=!$i.contains(yt)):qr===this||(this.lastPutMode=ph.checkPull(this,w,yt,e))&&b.checkPut(this,w,yt,e))){if(q=this._getDirection(e,s)==="vertical",u=Ji(yt),W("dragOverValid"),en.eventCanceled)return j;if(f)return mr=$i,U(),this._hideClone(),W("revert"),en.eventCanceled||(sl?$i.insertBefore(yt,sl):$i.appendChild(yt)),T(!0);var B=$p(r,h.draggable);if(!B||gS(e,q,this)&&!B.animated){if(B===yt)return T(!1);if(B&&r===e.target&&(s=B),s&&(l=Ji(s)),np($i,r,yt,u,s,l,e,!!s)!==!1)return U(),r.appendChild(yt),mr=r,D(),T(!0)}else if(s.parentNode===r){l=Ji(s);var I=0,V,te=yt.parentNode!==r,oe=!fS(yt.animated&&yt.toRect||u,s.animated&&s.toRect||l,q),ce=q?"top":"left",fe=Og(s,"top","top")||Og(yt,"top","top"),ue=fe?fe.scrollTop:void 0;Yl!==s&&(V=l[ce],of=!1,mh=!oe&&h.invertSwap||te),I=vS(e,s,l,q,oe?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,mh,Yl===s);var Te;if(I!==0){var pe=Qi(yt);do pe-=I,Te=mr.children[pe];while(Te&&($t(Te,"display")==="none"||Te===_n))}if(I===0||Te===s)return T(!1);Yl=s,rf=I;var ie=s.nextElementSibling,O=!1;O=I===1;var ae=np($i,r,yt,u,s,l,e,O);if(ae!==!1)return(ae===1||ae===-1)&&(O=ae===1),_p=!0,setTimeout(mS,30),U(),O&&!ie?r.appendChild(yt):s.parentNode.insertBefore(yt,O?ie:s),fe&&lb(fe,0,ue-fe.scrollTop),mr=yt.parentNode,V!==void 0&&!mh&&(Dh=Math.abs(V-Ji(s)[ce])),D(),T(!0)}if(r.contains(yt))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){On(document,"mousemove",this._onTouchMove),On(document,"touchmove",this._onTouchMove),On(document,"pointermove",this._onTouchMove),On(document,"dragover",al),On(document,"mousemove",al),On(document,"touchmove",al)},_offUpEvents:function(){var e=this.el.ownerDocument;On(e,"mouseup",this._onDrop),On(e,"touchend",this._onDrop),On(e,"pointerup",this._onDrop),On(e,"touchcancel",this._onDrop),On(document,"selectstart",this)},_onDrop:function(e){var r=this.el,s=this.options;if(Wo=Qi(yt),ku=Qi(yt,s.draggable),xo("drop",this,{evt:e}),mr=yt&&yt.parentNode,Wo=Qi(yt),ku=Qi(yt,s.draggable),en.eventCanceled){this._nulling();return}Zl=!1,mh=!1,of=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xp(this.cloneId),xp(this._dragStartId),this.nativeDraggable&&(On(document,"drop",this),On(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),yp&&$t(document.body,"user-select",""),$t(yt,"transform",""),e&&(Kc&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),_n&&_n.parentNode&&_n.parentNode.removeChild(_n),($i===mr||qr&&qr.lastPutMode!=="clone")&&Ki&&Ki.parentNode&&Ki.parentNode.removeChild(Ki),yt&&(this.nativeDraggable&&On(yt,"dragend",this),ip(yt),yt.style["will-change"]="",Kc&&!Zl&&Hi(yt,qr?qr.options.ghostClass:this.options.ghostClass,!1),Hi(yt,this.options.chosenClass,!1),uo({sortable:this,name:"unchoose",toEl:mr,newIndex:null,newDraggableIndex:null,originalEvent:e}),$i!==mr?(Wo>=0&&(uo({rootEl:mr,name:"add",toEl:mr,fromEl:$i,originalEvent:e}),uo({sortable:this,name:"remove",toEl:mr,originalEvent:e}),uo({rootEl:mr,name:"sort",toEl:mr,fromEl:$i,originalEvent:e}),uo({sortable:this,name:"sort",toEl:mr,originalEvent:e})),qr&&qr.save()):Wo!==Gl&&Wo>=0&&(uo({sortable:this,name:"update",toEl:mr,originalEvent:e}),uo({sortable:this,name:"sort",toEl:mr,originalEvent:e})),en.active&&((Wo==null||Wo===-1)&&(Wo=Gl,ku=nf),uo({sortable:this,name:"end",toEl:mr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){xo("nulling",this),$i=yt=mr=_n=sl=Ki=Ah=Su=ol=Da=Kc=Wo=ku=Gl=nf=Yl=rf=qr=ph=en.dragged=en.ghost=en.clone=en.active=null,jh.forEach(function(e){e.checked=!0}),jh.length=Jd=ep=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":yt&&(this._onDragOver(e),pS(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,s=this.el.children,u=0,l=s.length,f=this.options;u<l;u++)r=s[u],Oa(r,f.draggable,this.el,!1)&&e.push(r.getAttribute(f.dataIdAttr)||yS(r));return e},sort:function(e){var r={},s=this.el;this.toArray().forEach(function(u,l){var f=s.children[l];Oa(f,this.options.draggable,s,!1)&&(r[u]=f)},this),e.forEach(function(u){r[u]&&(s.removeChild(r[u]),s.appendChild(r[u]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return Oa(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var s=this.options;if(r===void 0)return s[e];var u=vf.modifyOption(this,e,r);typeof u<"u"?s[e]=u:s[e]=r,e==="group"&&hb(s)},destroy:function(){xo("destroy",this);var e=this.el;e[Kr]=null,On(e,"mousedown",this._onTapStart),On(e,"touchstart",this._onTapStart),On(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(On(e,"dragover",this),On(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qh.splice(qh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Su){if(xo("hideClone",this),en.eventCanceled)return;$t(Ki,"display","none"),this.options.removeCloneOnHide&&Ki.parentNode&&Ki.parentNode.removeChild(Ki),Su=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Su){if(xo("showClone",this),en.eventCanceled)return;$i.contains(yt)&&!this.options.group.revertClone?$i.insertBefore(Ki,yt):sl?$i.insertBefore(Ki,sl):$i.appendChild(Ki),this.options.group.revertClone&&this.animate(yt,Ki),$t(Ki,"display",""),Su=!1}}};function pS(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function np(t,e,r,s,u,l,f,h){var b,w=t[Kr],x=w.options.onMove,E;return window.CustomEvent&&!zs&&!gf?b=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent("move",!0,!0)),b.to=e,b.from=t,b.dragged=r,b.draggedRect=s,b.related=u||e,b.relatedRect=l||Ji(e),b.willInsertAfter=h,b.originalEvent=f,t.dispatchEvent(b),x&&(E=x.call(w,b,f)),E}function ip(t){t.draggable=!1}function mS(){_p=!1}function gS(t,e,r){var s=Ji($p(r.el,r.options.draggable)),u=10;return e?t.clientX>s.right+u||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+u}function vS(t,e,r,s,u,l,f,h){var b=s?t.clientY:t.clientX,w=s?r.height:r.width,x=s?r.top:r.left,E=s?r.bottom:r.right,N=!1;if(!f){if(h&&Dh<w*u){if(!of&&(rf===1?b>x+w*l/2:b<E-w*l/2)&&(of=!0),of)N=!0;else if(rf===1?b<x+Dh:b>E-Dh)return-rf}else if(b>x+w*(1-u)/2&&b<E-w*(1-u)/2)return bS(e)}return N=N||f,N&&(b<x+w*l/2||b>E-w*l/2)?b>x+w/2?1:-1:0}function bS(t){return Qi(yt)<Qi(t)?1:-1}function yS(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,s=0;r--;)s+=e.charCodeAt(r);return s.toString(36)}function _S(t){jh.length=0;for(var e=t.getElementsByTagName("input"),r=e.length;r--;){var s=e[r];s.checked&&jh.push(s)}}function Lh(t){return setTimeout(t,0)}function xp(t){return clearTimeout(t)}ed&&zn(document,"touchmove",function(t){(en.active||Zl)&&t.cancelable&&t.preventDefault()});en.utils={on:zn,off:On,css:$t,find:sb,is:function(e,r){return!!Oa(e,r,e,!1)},extend:oS,throttle:ub,closest:Oa,toggleClass:Hi,clone:Hp,index:Qi,nextTick:Lh,cancelNextTick:xp,detectDirection:fb,getChild:Hh};en.get=function(t){return t[Kr]};en.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(en.utils=Mu({},en.utils,s.utils)),vf.mount(s)})};en.create=function(t,e){return new en(t,e)};en.version=tS;var gr=[],Qc,wp,kp=!1,rp,op,Yh,Jc;function xS(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(r){var s=r.originalEvent;this.sortable.nativeDraggable?zn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?zn(document,"pointermove",this._handleFallbackAutoScroll):s.touches?zn(document,"touchmove",this._handleFallbackAutoScroll):zn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var s=r.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?On(document,"dragover",this._handleAutoScroll):(On(document,"pointermove",this._handleFallbackAutoScroll),On(document,"touchmove",this._handleFallbackAutoScroll),On(document,"mousemove",this._handleFallbackAutoScroll)),Ig(),Mh(),aS()},nulling:function(){Yh=wp=Qc=kp=Jc=rp=op=null,gr.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,s){var u=this,l=(r.touches?r.touches[0]:r).clientX,f=(r.touches?r.touches[0]:r).clientY,h=document.elementFromPoint(l,f);if(Yh=r,s||gf||zs||yp){ap(r,this.options,h,s);var b=Au(h,!0);kp&&(!Jc||l!==rp||f!==op)&&(Jc&&Ig(),Jc=setInterval(function(){var w=Au(document.elementFromPoint(l,f),!0);w!==b&&(b=w,Mh()),ap(r,u.options,w,s)},10),rp=l,op=f)}else{if(!this.options.bubbleScroll||Au(h,!0)===us()){Mh();return}ap(r,this.options,Au(h,!1),!1)}}},pa(t,{pluginName:"scroll",initializeByDefault:!0})}function Mh(){gr.forEach(function(t){clearInterval(t.pid)}),gr=[]}function Ig(){clearInterval(Jc)}var ap=ub(function(t,e,r,s){if(e.scroll){var u=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,f=e.scrollSensitivity,h=e.scrollSpeed,b=us(),w=!1,x;wp!==r&&(wp=r,Mh(),Qc=e.scroll,x=e.scrollFn,Qc===!0&&(Qc=Au(r,!0)));var E=0,N=Qc;do{var q=N,F=Ji(q),j=F.top,W=F.bottom,U=F.left,T=F.right,D=F.width,B=F.height,I=void 0,V=void 0,te=q.scrollWidth,oe=q.scrollHeight,ce=$t(q),fe=q.scrollLeft,ue=q.scrollTop;q===b?(I=D<te&&(ce.overflowX==="auto"||ce.overflowX==="scroll"||ce.overflowX==="visible"),V=B<oe&&(ce.overflowY==="auto"||ce.overflowY==="scroll"||ce.overflowY==="visible")):(I=D<te&&(ce.overflowX==="auto"||ce.overflowX==="scroll"),V=B<oe&&(ce.overflowY==="auto"||ce.overflowY==="scroll"));var Te=I&&(Math.abs(T-u)<=f&&fe+D<te)-(Math.abs(U-u)<=f&&!!fe),pe=V&&(Math.abs(W-l)<=f&&ue+B<oe)-(Math.abs(j-l)<=f&&!!ue);if(!gr[E])for(var ie=0;ie<=E;ie++)gr[ie]||(gr[ie]={});(gr[E].vx!=Te||gr[E].vy!=pe||gr[E].el!==q)&&(gr[E].el=q,gr[E].vx=Te,gr[E].vy=pe,clearInterval(gr[E].pid),(Te!=0||pe!=0)&&(w=!0,gr[E].pid=setInterval((function(){s&&this.layer===0&&en.active._onTouchMove(Yh);var O=gr[this.layer].vy?gr[this.layer].vy*h:0,ae=gr[this.layer].vx?gr[this.layer].vx*h:0;typeof x=="function"&&x.call(en.dragged.parentNode[Kr],ae,O,t,Yh,gr[this.layer].el)!=="continue"||lb(gr[this.layer].el,ae,O)}).bind({layer:E}),24))),E++}while(e.bubbleScroll&&N!==b&&(N=Au(N,!1)));kp=w}},30),mb=function(e){var r=e.originalEvent,s=e.putSortable,u=e.dragEl,l=e.activeSortable,f=e.dispatchSortableEvent,h=e.hideGhostForTarget,b=e.unhideGhostForTarget;if(r){var w=s||l;h();var x=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,E=document.elementFromPoint(x.clientX,x.clientY);b(),w&&!w.el.contains(E)&&(f("spill"),this.onSpill({dragEl:u,putSortable:s}))}};function Wp(){}Wp.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var u=Hh(this.sortable.el,this.startIndex,this.options);u?this.sortable.el.insertBefore(r,u):this.sortable.el.appendChild(r),this.sortable.animateAll(),s&&s.animateAll()},drop:mb};pa(Wp,{pluginName:"revertOnSpill"});function qp(){}qp.prototype={onSpill:function(e){var r=e.dragEl,s=e.putSortable,u=s||this.sortable;u.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),u.animateAll()},drop:mb};pa(qp,{pluginName:"removeOnSpill"});var ha;function wS(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(r){var s=r.dragEl;ha=s},dragOverValid:function(r){var s=r.completed,u=r.target,l=r.onMove,f=r.activeSortable,h=r.changed,b=r.cancel;if(f.options.swap){var w=this.sortable.el,x=this.options;if(u&&u!==w){var E=ha;l(u)!==!1?(Hi(u,x.swapClass,!0),ha=u):ha=null,E&&E!==ha&&Hi(E,x.swapClass,!1)}h(),s(!0),b()}},drop:function(r){var s=r.activeSortable,u=r.putSortable,l=r.dragEl,f=u||this.sortable,h=this.options;ha&&Hi(ha,h.swapClass,!1),ha&&(h.swap||u&&u.options.swap)&&l!==ha&&(f.captureAnimationState(),f!==s&&s.captureAnimationState(),kS(l,ha),f.animateAll(),f!==s&&s.animateAll())},nulling:function(){ha=null}},pa(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ha}}})}function kS(t,e){var r=t.parentNode,s=e.parentNode,u,l;!r||!s||r.isEqualNode(e)||s.isEqualNode(t)||(u=Qi(t),l=Qi(e),r.isEqualNode(s)&&u<l&&l++,r.insertBefore(e,r.children[u]),s.insertBefore(t,s.children[l]))}var gn=[],Ho=[],Hc,La,Wc=!1,$o=!1,Ul=!1,pi,qc,vh;function CS(){function t(e){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));e.options.supportPointer?zn(document,"pointerup",this._deselectMultiDrag):(zn(document,"mouseup",this._deselectMultiDrag),zn(document,"touchend",this._deselectMultiDrag)),zn(document,"keydown",this._checkKeyDown),zn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(u,l){var f="";gn.length&&La===e?gn.forEach(function(h,b){f+=(b?", ":"")+h.textContent}):f=l.textContent,u.setData("Text",f)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var s=r.dragEl;pi=s},delayEnded:function(){this.isMultiDrag=~gn.indexOf(pi)},setupClone:function(r){var s=r.sortable,u=r.cancel;if(this.isMultiDrag){for(var l=0;l<gn.length;l++)Ho.push(Hp(gn[l])),Ho[l].sortableIndex=gn[l].sortableIndex,Ho[l].draggable=!1,Ho[l].style["will-change"]="",Hi(Ho[l],this.options.selectedClass,!1),gn[l]===pi&&Hi(Ho[l],this.options.chosenClass,!1);s._hideClone(),u()}},clone:function(r){var s=r.sortable,u=r.rootEl,l=r.dispatchSortableEvent,f=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||gn.length&&La===s&&(Bg(!0,u),l("clone"),f()))},showClone:function(r){var s=r.cloneNowShown,u=r.rootEl,l=r.cancel;this.isMultiDrag&&(Bg(!1,u),Ho.forEach(function(f){$t(f,"display","")}),s(),vh=!1,l())},hideClone:function(r){var s=this;r.sortable;var u=r.cloneNowHidden,l=r.cancel;this.isMultiDrag&&(Ho.forEach(function(f){$t(f,"display","none"),s.options.removeCloneOnHide&&f.parentNode&&f.parentNode.removeChild(f)}),u(),vh=!0,l())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&La&&La.multiDrag._deselectMultiDrag(),gn.forEach(function(s){s.sortableIndex=Qi(s)}),gn=gn.sort(function(s,u){return s.sortableIndex-u.sortableIndex}),Ul=!0},dragStarted:function(r){var s=this,u=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(u.captureAnimationState(),this.options.animation)){gn.forEach(function(f){f!==pi&&$t(f,"position","absolute")});var l=Ji(pi,!1,!0,!0);gn.forEach(function(f){f!==pi&&Fg(f,l)}),$o=!0,Wc=!0}u.animateAll(function(){$o=!1,Wc=!1,s.options.animation&&gn.forEach(function(f){Kd(f)}),s.options.sort&&bh()})}},dragOver:function(r){var s=r.target,u=r.completed,l=r.cancel;$o&&~gn.indexOf(s)&&(u(!1),l())},revert:function(r){var s=r.fromSortable,u=r.rootEl,l=r.sortable,f=r.dragRect;gn.length>1&&(gn.forEach(function(h){l.addAnimationState({target:h,rect:$o?Ji(h):f}),Kd(h),h.fromRect=f,s.removeAnimationState(h)}),$o=!1,ES(!this.options.removeCloneOnHide,u))},dragOverCompleted:function(r){var s=r.sortable,u=r.isOwner,l=r.insertion,f=r.activeSortable,h=r.parentEl,b=r.putSortable,w=this.options;if(l){if(u&&f._hideClone(),Wc=!1,w.animation&&gn.length>1&&($o||!u&&!f.options.sort&&!b)){var x=Ji(pi,!1,!0,!0);gn.forEach(function(N){N!==pi&&(Fg(N,x),h.appendChild(N))}),$o=!0}if(!u)if($o||bh(),gn.length>1){var E=vh;f._showClone(s),f.options.animation&&!vh&&E&&Ho.forEach(function(N){f.addAnimationState({target:N,rect:qc}),N.fromRect=qc,N.thisAnimationDuration=null})}else f._showClone(s)}},dragOverAnimationCapture:function(r){var s=r.dragRect,u=r.isOwner,l=r.activeSortable;if(gn.forEach(function(h){h.thisAnimationDuration=null}),l.options.animation&&!u&&l.multiDrag.isMultiDrag){qc=pa({},s);var f=cl(pi,!0);qc.top-=f.f,qc.left-=f.e}},dragOverAnimationComplete:function(){$o&&($o=!1,bh())},drop:function(r){var s=r.originalEvent,u=r.rootEl,l=r.parentEl,f=r.sortable,h=r.dispatchSortableEvent,b=r.oldIndex,w=r.putSortable,x=w||this.sortable;if(s){var E=this.options,N=l.children;if(!Ul)if(E.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Hi(pi,E.selectedClass,!~gn.indexOf(pi)),~gn.indexOf(pi))gn.splice(gn.indexOf(pi),1),Hc=null,Vc({sortable:f,rootEl:u,name:"deselect",targetEl:pi});else{if(gn.push(pi),Vc({sortable:f,rootEl:u,name:"select",targetEl:pi}),s.shiftKey&&Hc&&f.el.contains(Hc)){var q=Qi(Hc),F=Qi(pi);if(~q&&~F&&q!==F){var j,W;for(F>q?(W=q,j=F):(W=F,j=q+1);W<j;W++)~gn.indexOf(N[W])||(Hi(N[W],E.selectedClass,!0),gn.push(N[W]),Vc({sortable:f,rootEl:u,name:"select",targetEl:N[W]}))}}else Hc=pi;La=x}if(Ul&&this.isMultiDrag){if((l[Kr].options.sort||l!==u)&&gn.length>1){var U=Ji(pi),T=Qi(pi,":not(."+this.options.selectedClass+")");if(!Wc&&E.animation&&(pi.thisAnimationDuration=null),x.captureAnimationState(),!Wc&&(E.animation&&(pi.fromRect=U,gn.forEach(function(B){if(B.thisAnimationDuration=null,B!==pi){var I=$o?Ji(B):U;B.fromRect=I,x.addAnimationState({target:B,rect:I})}})),bh(),gn.forEach(function(B){N[T]?l.insertBefore(B,N[T]):l.appendChild(B),T++}),b===Qi(pi))){var D=!1;gn.forEach(function(B){if(B.sortableIndex!==Qi(B)){D=!0;return}}),D&&h("update")}gn.forEach(function(B){Kd(B)}),x.animateAll()}La=x}(u===l||w&&w.lastPutMode!=="clone")&&Ho.forEach(function(B){B.parentNode&&B.parentNode.removeChild(B)})}},nullingGlobal:function(){this.isMultiDrag=Ul=!1,Ho.length=0},destroyGlobal:function(){this._deselectMultiDrag(),On(document,"pointerup",this._deselectMultiDrag),On(document,"mouseup",this._deselectMultiDrag),On(document,"touchend",this._deselectMultiDrag),On(document,"keydown",this._checkKeyDown),On(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Ul<"u"&&Ul)&&La===this.sortable&&!(r&&Oa(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;gn.length;){var s=gn[0];Hi(s,this.options.selectedClass,!1),gn.shift(),Vc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},pa(t,{pluginName:"multiDrag",utils:{select:function(r){var s=r.parentNode[Kr];!s||!s.options.multiDrag||~gn.indexOf(r)||(La&&La!==s&&(La.multiDrag._deselectMultiDrag(),La=s),Hi(r,s.options.selectedClass,!0),gn.push(r))},deselect:function(r){var s=r.parentNode[Kr],u=gn.indexOf(r);!s||!s.options.multiDrag||!~u||(Hi(r,s.options.selectedClass,!1),gn.splice(u,1))}},eventProperties:function(){var r=this,s=[],u=[];return gn.forEach(function(l){s.push({multiDragElement:l,index:l.sortableIndex});var f;$o&&l!==pi?f=-1:$o?f=Qi(l,":not(."+r.options.selectedClass+")"):f=Qi(l),u.push({multiDragElement:l,index:f})}),{items:KE(gn),clones:[].concat(Ho),oldIndicies:s,newIndicies:u}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function ES(t,e){gn.forEach(function(r,s){var u=e.children[r.sortableIndex+(t?Number(s):0)];u?e.insertBefore(r,u):e.appendChild(r)})}function Bg(t,e){Ho.forEach(function(r,s){var u=e.children[r.sortableIndex+(t?Number(s):0)];u?e.insertBefore(r,u):e.appendChild(r)})}function bh(){gn.forEach(function(t){t!==pi&&t.parentNode&&t.parentNode.removeChild(t)})}en.mount(new xS);en.mount(qp,Wp);const SS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:CS,Sortable:en,Swap:wS,default:en},Symbol.toStringTag,{value:"Module"})),TS=C0(SS);var AS=Sh.exports,$g;function DS(){return $g||($g=1,(function(t,e){(function(s,u){t.exports=u(TS)})(typeof self<"u"?self:AS,function(r){return(function(s){var u={};function l(f){if(u[f])return u[f].exports;var h=u[f]={i:f,l:!1,exports:{}};return s[f].call(h.exports,h,h.exports,l),h.l=!0,h.exports}return l.m=s,l.c=u,l.d=function(f,h,b){l.o(f,h)||Object.defineProperty(f,h,{enumerable:!0,get:b})},l.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},l.t=function(f,h){if(h&1&&(f=l(f)),h&8||h&4&&typeof f=="object"&&f&&f.__esModule)return f;var b=Object.create(null);if(l.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:f}),h&2&&typeof f!="string")for(var w in f)l.d(b,w,(function(x){return f[x]}).bind(null,w));return b},l.n=function(f){var h=f&&f.__esModule?function(){return f.default}:function(){return f};return l.d(h,"a",h),h},l.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)},l.p="",l(l.s="fb15")})({"01f9":(function(s,u,l){var f=l("2d00"),h=l("5ca1"),b=l("2aba"),w=l("32e9"),x=l("84f2"),E=l("41a0"),N=l("7f20"),q=l("38fd"),F=l("2b4c")("iterator"),j=!([].keys&&"next"in[].keys()),W="@@iterator",U="keys",T="values",D=function(){return this};s.exports=function(B,I,V,te,oe,ce,fe){E(V,I,te);var ue=function(Y){if(!j&&Y in O)return O[Y];switch(Y){case U:return function(){return new V(this,Y)};case T:return function(){return new V(this,Y)}}return function(){return new V(this,Y)}},Te=I+" Iterator",pe=oe==T,ie=!1,O=B.prototype,ae=O[F]||O[W]||oe&&O[oe],me=ae||ue(oe),_e=oe?pe?ue("entries"):me:void 0,Ve=I=="Array"&&O.entries||ae,Fe,Ee,J;if(Ve&&(J=q(Ve.call(new B)),J!==Object.prototype&&J.next&&(N(J,Te,!0),!f&&typeof J[F]!="function"&&w(J,F,D))),pe&&ae&&ae.name!==T&&(ie=!0,me=function(){return ae.call(this)}),(!f||fe)&&(j||ie||!O[F])&&w(O,F,me),x[I]=me,x[Te]=D,oe)if(Fe={values:pe?me:ue(T),keys:ce?me:ue(U),entries:_e},fe)for(Ee in Fe)Ee in O||b(O,Ee,Fe[Ee]);else h(h.P+h.F*(j||ie),I,Fe);return Fe}}),"02f4":(function(s,u,l){var f=l("4588"),h=l("be13");s.exports=function(b){return function(w,x){var E=String(h(w)),N=f(x),q=E.length,F,j;return N<0||N>=q?b?"":void 0:(F=E.charCodeAt(N),F<55296||F>56319||N+1===q||(j=E.charCodeAt(N+1))<56320||j>57343?b?E.charAt(N):F:b?E.slice(N,N+2):(F-55296<<10)+(j-56320)+65536)}}}),"0390":(function(s,u,l){var f=l("02f4")(!0);s.exports=function(h,b,w){return b+(w?f(h,b).length:1)}}),"0bfb":(function(s,u,l){var f=l("cb7c");s.exports=function(){var h=f(this),b="";return h.global&&(b+="g"),h.ignoreCase&&(b+="i"),h.multiline&&(b+="m"),h.unicode&&(b+="u"),h.sticky&&(b+="y"),b}}),"0d58":(function(s,u,l){var f=l("ce10"),h=l("e11e");s.exports=Object.keys||function(w){return f(w,h)}}),1495:(function(s,u,l){var f=l("86cc"),h=l("cb7c"),b=l("0d58");s.exports=l("9e1e")?Object.defineProperties:function(x,E){h(x);for(var N=b(E),q=N.length,F=0,j;q>F;)f.f(x,j=N[F++],E[j]);return x}}),"214f":(function(s,u,l){l("b0c5");var f=l("2aba"),h=l("32e9"),b=l("79e5"),w=l("be13"),x=l("2b4c"),E=l("520a"),N=x("species"),q=!b(function(){var j=/./;return j.exec=function(){var W=[];return W.groups={a:"7"},W},"".replace(j,"$<a>")!=="7"}),F=(function(){var j=/(?:)/,W=j.exec;j.exec=function(){return W.apply(this,arguments)};var U="ab".split(j);return U.length===2&&U[0]==="a"&&U[1]==="b"})();s.exports=function(j,W,U){var T=x(j),D=!b(function(){var ce={};return ce[T]=function(){return 7},""[j](ce)!=7}),B=D?!b(function(){var ce=!1,fe=/a/;return fe.exec=function(){return ce=!0,null},j==="split"&&(fe.constructor={},fe.constructor[N]=function(){return fe}),fe[T](""),!ce}):void 0;if(!D||!B||j==="replace"&&!q||j==="split"&&!F){var I=/./[T],V=U(w,T,""[j],function(fe,ue,Te,pe,ie){return ue.exec===E?D&&!ie?{done:!0,value:I.call(ue,Te,pe)}:{done:!0,value:fe.call(Te,ue,pe)}:{done:!1}}),te=V[0],oe=V[1];f(String.prototype,j,te),h(RegExp.prototype,T,W==2?function(ce,fe){return oe.call(ce,this,fe)}:function(ce){return oe.call(ce,this)})}}}),"230e":(function(s,u,l){var f=l("d3f4"),h=l("7726").document,b=f(h)&&f(h.createElement);s.exports=function(w){return b?h.createElement(w):{}}}),"23c6":(function(s,u,l){var f=l("2d95"),h=l("2b4c")("toStringTag"),b=f((function(){return arguments})())=="Arguments",w=function(x,E){try{return x[E]}catch{}};s.exports=function(x){var E,N,q;return x===void 0?"Undefined":x===null?"Null":typeof(N=w(E=Object(x),h))=="string"?N:b?f(E):(q=f(E))=="Object"&&typeof E.callee=="function"?"Arguments":q}}),2621:(function(s,u){u.f=Object.getOwnPropertySymbols}),"2aba":(function(s,u,l){var f=l("7726"),h=l("32e9"),b=l("69a8"),w=l("ca5a")("src"),x=l("fa5b"),E="toString",N=(""+x).split(E);l("8378").inspectSource=function(q){return x.call(q)},(s.exports=function(q,F,j,W){var U=typeof j=="function";U&&(b(j,"name")||h(j,"name",F)),q[F]!==j&&(U&&(b(j,w)||h(j,w,q[F]?""+q[F]:N.join(String(F)))),q===f?q[F]=j:W?q[F]?q[F]=j:h(q,F,j):(delete q[F],h(q,F,j)))})(Function.prototype,E,function(){return typeof this=="function"&&this[w]||x.call(this)})}),"2aeb":(function(s,u,l){var f=l("cb7c"),h=l("1495"),b=l("e11e"),w=l("613b")("IE_PROTO"),x=function(){},E="prototype",N=function(){var q=l("230e")("iframe"),F=b.length,j="<",W=">",U;for(q.style.display="none",l("fab2").appendChild(q),q.src="javascript:",U=q.contentWindow.document,U.open(),U.write(j+"script"+W+"document.F=Object"+j+"/script"+W),U.close(),N=U.F;F--;)delete N[E][b[F]];return N()};s.exports=Object.create||function(F,j){var W;return F!==null?(x[E]=f(F),W=new x,x[E]=null,W[w]=F):W=N(),j===void 0?W:h(W,j)}}),"2b4c":(function(s,u,l){var f=l("5537")("wks"),h=l("ca5a"),b=l("7726").Symbol,w=typeof b=="function",x=s.exports=function(E){return f[E]||(f[E]=w&&b[E]||(w?b:h)("Symbol."+E))};x.store=f}),"2d00":(function(s,u){s.exports=!1}),"2d95":(function(s,u){var l={}.toString;s.exports=function(f){return l.call(f).slice(8,-1)}}),"2fdb":(function(s,u,l){var f=l("5ca1"),h=l("d2c8"),b="includes";f(f.P+f.F*l("5147")(b),"String",{includes:function(x){return!!~h(this,x,b).indexOf(x,arguments.length>1?arguments[1]:void 0)}})}),"32e9":(function(s,u,l){var f=l("86cc"),h=l("4630");s.exports=l("9e1e")?function(b,w,x){return f.f(b,w,h(1,x))}:function(b,w,x){return b[w]=x,b}}),"38fd":(function(s,u,l){var f=l("69a8"),h=l("4bf8"),b=l("613b")("IE_PROTO"),w=Object.prototype;s.exports=Object.getPrototypeOf||function(x){return x=h(x),f(x,b)?x[b]:typeof x.constructor=="function"&&x instanceof x.constructor?x.constructor.prototype:x instanceof Object?w:null}}),"41a0":(function(s,u,l){var f=l("2aeb"),h=l("4630"),b=l("7f20"),w={};l("32e9")(w,l("2b4c")("iterator"),function(){return this}),s.exports=function(x,E,N){x.prototype=f(w,{next:h(1,N)}),b(x,E+" Iterator")}}),"456d":(function(s,u,l){var f=l("4bf8"),h=l("0d58");l("5eda")("keys",function(){return function(w){return h(f(w))}})}),4588:(function(s,u){var l=Math.ceil,f=Math.floor;s.exports=function(h){return isNaN(h=+h)?0:(h>0?f:l)(h)}}),4630:(function(s,u){s.exports=function(l,f){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:f}}}),"4bf8":(function(s,u,l){var f=l("be13");s.exports=function(h){return Object(f(h))}}),5147:(function(s,u,l){var f=l("2b4c")("match");s.exports=function(h){var b=/./;try{"/./"[h](b)}catch{try{return b[f]=!1,!"/./"[h](b)}catch{}}return!0}}),"520a":(function(s,u,l){var f=l("0bfb"),h=RegExp.prototype.exec,b=String.prototype.replace,w=h,x="lastIndex",E=(function(){var F=/a/,j=/b*/g;return h.call(F,"a"),h.call(j,"a"),F[x]!==0||j[x]!==0})(),N=/()??/.exec("")[1]!==void 0,q=E||N;q&&(w=function(j){var W=this,U,T,D,B;return N&&(T=new RegExp("^"+W.source+"$(?!\\s)",f.call(W))),E&&(U=W[x]),D=h.call(W,j),E&&D&&(W[x]=W.global?D.index+D[0].length:U),N&&D&&D.length>1&&b.call(D[0],T,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(D[B]=void 0)}),D}),s.exports=w}),"52a7":(function(s,u){u.f={}.propertyIsEnumerable}),5537:(function(s,u,l){var f=l("8378"),h=l("7726"),b="__core-js_shared__",w=h[b]||(h[b]={});(s.exports=function(x,E){return w[x]||(w[x]=E!==void 0?E:{})})("versions",[]).push({version:f.version,mode:l("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),"5ca1":(function(s,u,l){var f=l("7726"),h=l("8378"),b=l("32e9"),w=l("2aba"),x=l("9b43"),E="prototype",N=function(q,F,j){var W=q&N.F,U=q&N.G,T=q&N.S,D=q&N.P,B=q&N.B,I=U?f:T?f[F]||(f[F]={}):(f[F]||{})[E],V=U?h:h[F]||(h[F]={}),te=V[E]||(V[E]={}),oe,ce,fe,ue;U&&(j=F);for(oe in j)ce=!W&&I&&I[oe]!==void 0,fe=(ce?I:j)[oe],ue=B&&ce?x(fe,f):D&&typeof fe=="function"?x(Function.call,fe):fe,I&&w(I,oe,fe,q&N.U),V[oe]!=fe&&b(V,oe,ue),D&&te[oe]!=fe&&(te[oe]=fe)};f.core=h,N.F=1,N.G=2,N.S=4,N.P=8,N.B=16,N.W=32,N.U=64,N.R=128,s.exports=N}),"5eda":(function(s,u,l){var f=l("5ca1"),h=l("8378"),b=l("79e5");s.exports=function(w,x){var E=(h.Object||{})[w]||Object[w],N={};N[w]=x(E),f(f.S+f.F*b(function(){E(1)}),"Object",N)}}),"5f1b":(function(s,u,l){var f=l("23c6"),h=RegExp.prototype.exec;s.exports=function(b,w){var x=b.exec;if(typeof x=="function"){var E=x.call(b,w);if(typeof E!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return E}if(f(b)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return h.call(b,w)}}),"613b":(function(s,u,l){var f=l("5537")("keys"),h=l("ca5a");s.exports=function(b){return f[b]||(f[b]=h(b))}}),"626a":(function(s,u,l){var f=l("2d95");s.exports=Object("z").propertyIsEnumerable(0)?Object:function(h){return f(h)=="String"?h.split(""):Object(h)}}),6762:(function(s,u,l){var f=l("5ca1"),h=l("c366")(!0);f(f.P,"Array",{includes:function(w){return h(this,w,arguments.length>1?arguments[1]:void 0)}}),l("9c6c")("includes")}),6821:(function(s,u,l){var f=l("626a"),h=l("be13");s.exports=function(b){return f(h(b))}}),"69a8":(function(s,u){var l={}.hasOwnProperty;s.exports=function(f,h){return l.call(f,h)}}),"6a99":(function(s,u,l){var f=l("d3f4");s.exports=function(h,b){if(!f(h))return h;var w,x;if(b&&typeof(w=h.toString)=="function"&&!f(x=w.call(h))||typeof(w=h.valueOf)=="function"&&!f(x=w.call(h))||!b&&typeof(w=h.toString)=="function"&&!f(x=w.call(h)))return x;throw TypeError("Can't convert object to primitive value")}}),7333:(function(s,u,l){var f=l("0d58"),h=l("2621"),b=l("52a7"),w=l("4bf8"),x=l("626a"),E=Object.assign;s.exports=!E||l("79e5")(function(){var N={},q={},F=Symbol(),j="abcdefghijklmnopqrst";return N[F]=7,j.split("").forEach(function(W){q[W]=W}),E({},N)[F]!=7||Object.keys(E({},q)).join("")!=j})?function(q,F){for(var j=w(q),W=arguments.length,U=1,T=h.f,D=b.f;W>U;)for(var B=x(arguments[U++]),I=T?f(B).concat(T(B)):f(B),V=I.length,te=0,oe;V>te;)D.call(B,oe=I[te++])&&(j[oe]=B[oe]);return j}:E}),7726:(function(s,u){var l=s.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=l)}),"77f1":(function(s,u,l){var f=l("4588"),h=Math.max,b=Math.min;s.exports=function(w,x){return w=f(w),w<0?h(w+x,0):b(w,x)}}),"79e5":(function(s,u){s.exports=function(l){try{return!!l()}catch{return!0}}}),"7f20":(function(s,u,l){var f=l("86cc").f,h=l("69a8"),b=l("2b4c")("toStringTag");s.exports=function(w,x,E){w&&!h(w=E?w:w.prototype,b)&&f(w,b,{configurable:!0,value:x})}}),8378:(function(s,u){var l=s.exports={version:"2.6.5"};typeof __e=="number"&&(__e=l)}),"84f2":(function(s,u){s.exports={}}),"86cc":(function(s,u,l){var f=l("cb7c"),h=l("c69a"),b=l("6a99"),w=Object.defineProperty;u.f=l("9e1e")?Object.defineProperty:function(E,N,q){if(f(E),N=b(N,!0),f(q),h)try{return w(E,N,q)}catch{}if("get"in q||"set"in q)throw TypeError("Accessors not supported!");return"value"in q&&(E[N]=q.value),E}}),"9b43":(function(s,u,l){var f=l("d8e8");s.exports=function(h,b,w){if(f(h),b===void 0)return h;switch(w){case 1:return function(x){return h.call(b,x)};case 2:return function(x,E){return h.call(b,x,E)};case 3:return function(x,E,N){return h.call(b,x,E,N)}}return function(){return h.apply(b,arguments)}}}),"9c6c":(function(s,u,l){var f=l("2b4c")("unscopables"),h=Array.prototype;h[f]==null&&l("32e9")(h,f,{}),s.exports=function(b){h[f][b]=!0}}),"9def":(function(s,u,l){var f=l("4588"),h=Math.min;s.exports=function(b){return b>0?h(f(b),9007199254740991):0}}),"9e1e":(function(s,u,l){s.exports=!l("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})}),a352:(function(s,u){s.exports=r}),a481:(function(s,u,l){var f=l("cb7c"),h=l("4bf8"),b=l("9def"),w=l("4588"),x=l("0390"),E=l("5f1b"),N=Math.max,q=Math.min,F=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,W=/\$([$&`']|\d\d?)/g,U=function(T){return T===void 0?T:String(T)};l("214f")("replace",2,function(T,D,B,I){return[function(oe,ce){var fe=T(this),ue=oe?.[D];return ue!==void 0?ue.call(oe,fe,ce):B.call(String(fe),oe,ce)},function(te,oe){var ce=I(B,te,this,oe);if(ce.done)return ce.value;var fe=f(te),ue=String(this),Te=typeof oe=="function";Te||(oe=String(oe));var pe=fe.global;if(pe){var ie=fe.unicode;fe.lastIndex=0}for(var O=[];;){var ae=E(fe,ue);if(ae===null||(O.push(ae),!pe))break;var me=String(ae[0]);me===""&&(fe.lastIndex=x(ue,b(fe.lastIndex),ie))}for(var _e="",Ve=0,Fe=0;Fe<O.length;Fe++){ae=O[Fe];for(var Ee=String(ae[0]),J=N(q(w(ae.index),ue.length),0),Y=[],Ce=1;Ce<ae.length;Ce++)Y.push(U(ae[Ce]));var Me=ae.groups;if(Te){var G=[Ee].concat(Y,J,ue);Me!==void 0&&G.push(Me);var ge=String(oe.apply(void 0,G))}else ge=V(Ee,ue,J,Y,Me,oe);J>=Ve&&(_e+=ue.slice(Ve,J)+ge,Ve=J+Ee.length)}return _e+ue.slice(Ve)}];function V(te,oe,ce,fe,ue,Te){var pe=ce+te.length,ie=fe.length,O=W;return ue!==void 0&&(ue=h(ue),O=j),B.call(Te,O,function(ae,me){var _e;switch(me.charAt(0)){case"$":return"$";case"&":return te;case"`":return oe.slice(0,ce);case"'":return oe.slice(pe);case"<":_e=ue[me.slice(1,-1)];break;default:var Ve=+me;if(Ve===0)return ae;if(Ve>ie){var Fe=F(Ve/10);return Fe===0?ae:Fe<=ie?fe[Fe-1]===void 0?me.charAt(1):fe[Fe-1]+me.charAt(1):ae}_e=fe[Ve-1]}return _e===void 0?"":_e})}})}),aae3:(function(s,u,l){var f=l("d3f4"),h=l("2d95"),b=l("2b4c")("match");s.exports=function(w){var x;return f(w)&&((x=w[b])!==void 0?!!x:h(w)=="RegExp")}}),ac6a:(function(s,u,l){for(var f=l("cadf"),h=l("0d58"),b=l("2aba"),w=l("7726"),x=l("32e9"),E=l("84f2"),N=l("2b4c"),q=N("iterator"),F=N("toStringTag"),j=E.Array,W={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},U=h(W),T=0;T<U.length;T++){var D=U[T],B=W[D],I=w[D],V=I&&I.prototype,te;if(V&&(V[q]||x(V,q,j),V[F]||x(V,F,D),E[D]=j,B))for(te in f)V[te]||b(V,te,f[te],!0)}}),b0c5:(function(s,u,l){var f=l("520a");l("5ca1")({target:"RegExp",proto:!0,forced:f!==/./.exec},{exec:f})}),be13:(function(s,u){s.exports=function(l){if(l==null)throw TypeError("Can't call method on  "+l);return l}}),c366:(function(s,u,l){var f=l("6821"),h=l("9def"),b=l("77f1");s.exports=function(w){return function(x,E,N){var q=f(x),F=h(q.length),j=b(N,F),W;if(w&&E!=E){for(;F>j;)if(W=q[j++],W!=W)return!0}else for(;F>j;j++)if((w||j in q)&&q[j]===E)return w||j||0;return!w&&-1}}}),c649:(function(s,u,l){(function(f){l.d(u,"c",function(){return q}),l.d(u,"a",function(){return E}),l.d(u,"b",function(){return b}),l.d(u,"d",function(){return N}),l("a481");function h(){return typeof window<"u"?window.console:f.console}var b=h();function w(F){var j=Object.create(null);return function(U){var T=j[U];return T||(j[U]=F(U))}}var x=/-(\w)/g,E=w(function(F){return F.replace(x,function(j,W){return W?W.toUpperCase():""})});function N(F){F.parentElement!==null&&F.parentElement.removeChild(F)}function q(F,j,W){var U=W===0?F.children[0]:F.children[W-1].nextSibling;F.insertBefore(j,U)}}).call(this,l("c8ba"))}),c69a:(function(s,u,l){s.exports=!l("9e1e")&&!l("79e5")(function(){return Object.defineProperty(l("230e")("div"),"a",{get:function(){return 7}}).a!=7})}),c8ba:(function(s,u){var l;l=(function(){return this})();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}s.exports=l}),ca5a:(function(s,u){var l=0,f=Math.random();s.exports=function(h){return"Symbol(".concat(h===void 0?"":h,")_",(++l+f).toString(36))}}),cadf:(function(s,u,l){var f=l("9c6c"),h=l("d53b"),b=l("84f2"),w=l("6821");s.exports=l("01f9")(Array,"Array",function(x,E){this._t=w(x),this._i=0,this._k=E},function(){var x=this._t,E=this._k,N=this._i++;return!x||N>=x.length?(this._t=void 0,h(1)):E=="keys"?h(0,N):E=="values"?h(0,x[N]):h(0,[N,x[N]])},"values"),b.Arguments=b.Array,f("keys"),f("values"),f("entries")}),cb7c:(function(s,u,l){var f=l("d3f4");s.exports=function(h){if(!f(h))throw TypeError(h+" is not an object!");return h}}),ce10:(function(s,u,l){var f=l("69a8"),h=l("6821"),b=l("c366")(!1),w=l("613b")("IE_PROTO");s.exports=function(x,E){var N=h(x),q=0,F=[],j;for(j in N)j!=w&&f(N,j)&&F.push(j);for(;E.length>q;)f(N,j=E[q++])&&(~b(F,j)||F.push(j));return F}}),d2c8:(function(s,u,l){var f=l("aae3"),h=l("be13");s.exports=function(b,w,x){if(f(w))throw TypeError("String#"+x+" doesn't accept regex!");return String(h(b))}}),d3f4:(function(s,u){s.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}}),d53b:(function(s,u){s.exports=function(l,f){return{value:f,done:!!l}}}),d8e8:(function(s,u){s.exports=function(l){if(typeof l!="function")throw TypeError(l+" is not a function!");return l}}),e11e:(function(s,u){s.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),f559:(function(s,u,l){var f=l("5ca1"),h=l("9def"),b=l("d2c8"),w="startsWith",x=""[w];f(f.P+f.F*l("5147")(w),"String",{startsWith:function(N){var q=b(this,N,w),F=h(Math.min(arguments.length>1?arguments[1]:void 0,q.length)),j=String(N);return x?x.call(q,j,F):q.slice(F,F+j.length)===j}})}),f6fd:(function(s,u){(function(l){var f="currentScript",h=l.getElementsByTagName("script");f in l||Object.defineProperty(l,f,{get:function(){try{throw new Error}catch(x){var b,w=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(x.stack)||[!1])[1];for(b in h)if(h[b].src==w||h[b].readyState=="interactive")return h[b];return null}}})})(document)}),f751:(function(s,u,l){var f=l("5ca1");f(f.S+f.F,"Object",{assign:l("7333")})}),fa5b:(function(s,u,l){s.exports=l("5537")("native-function-to-string",Function.toString)}),fab2:(function(s,u,l){var f=l("7726").document;s.exports=f&&f.documentElement}),fb15:(function(s,u,l){if(l.r(u),typeof window<"u"){l("f6fd");var f;(f=window.document.currentScript)&&(f=f.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(l.p=f[1])}l("f751"),l("f559"),l("ac6a"),l("cadf"),l("456d");function h(Ee){if(Array.isArray(Ee))return Ee}function b(Ee,J){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ee)))){var Y=[],Ce=!0,Me=!1,G=void 0;try{for(var ge=Ee[Symbol.iterator](),we;!(Ce=(we=ge.next()).done)&&(Y.push(we.value),!(J&&Y.length===J));Ce=!0);}catch(Ie){Me=!0,G=Ie}finally{try{!Ce&&ge.return!=null&&ge.return()}finally{if(Me)throw G}}return Y}}function w(Ee,J){(J==null||J>Ee.length)&&(J=Ee.length);for(var Y=0,Ce=new Array(J);Y<J;Y++)Ce[Y]=Ee[Y];return Ce}function x(Ee,J){if(Ee){if(typeof Ee=="string")return w(Ee,J);var Y=Object.prototype.toString.call(Ee).slice(8,-1);if(Y==="Object"&&Ee.constructor&&(Y=Ee.constructor.name),Y==="Map"||Y==="Set")return Array.from(Ee);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return w(Ee,J)}}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(Ee,J){return h(Ee)||b(Ee,J)||x(Ee,J)||E()}l("6762"),l("2fdb");function q(Ee){if(Array.isArray(Ee))return w(Ee)}function F(Ee){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ee))return Array.from(Ee)}function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(Ee){return q(Ee)||F(Ee)||x(Ee)||j()}var U=l("a352"),T=l.n(U),D=l("c649");function B(Ee,J,Y){return Y===void 0||(Ee=Ee||{},Ee[J]=Y),Ee}function I(Ee,J){return Ee.map(function(Y){return Y.elm}).indexOf(J)}function V(Ee,J,Y,Ce){if(!Ee)return[];var Me=Ee.map(function(we){return we.elm}),G=J.length-Ce,ge=W(J).map(function(we,Ie){return Ie>=G?Me.length:Me.indexOf(we)});return Y?ge.filter(function(we){return we!==-1}):ge}function te(Ee,J){var Y=this;this.$nextTick(function(){return Y.$emit(Ee.toLowerCase(),J)})}function oe(Ee){var J=this;return function(Y){J.realList!==null&&J["onDrag"+Ee](Y),te.call(J,Ee,Y)}}function ce(Ee){return["transition-group","TransitionGroup"].includes(Ee)}function fe(Ee){if(!Ee||Ee.length!==1)return!1;var J=N(Ee,1),Y=J[0].componentOptions;return Y?ce(Y.tag):!1}function ue(Ee,J,Y){return Ee[Y]||(J[Y]?J[Y]():void 0)}function Te(Ee,J,Y){var Ce=0,Me=0,G=ue(J,Y,"header");G&&(Ce=G.length,Ee=Ee?[].concat(W(G),W(Ee)):W(G));var ge=ue(J,Y,"footer");return ge&&(Me=ge.length,Ee=Ee?[].concat(W(Ee),W(ge)):W(ge)),{children:Ee,headerOffset:Ce,footerOffset:Me}}function pe(Ee,J){var Y=null,Ce=function(Ye,Ge){Y=B(Y,Ye,Ge)},Me=Object.keys(Ee).filter(function(Ie){return Ie==="id"||Ie.startsWith("data-")}).reduce(function(Ie,Ye){return Ie[Ye]=Ee[Ye],Ie},{});if(Ce("attrs",Me),!J)return Y;var G=J.on,ge=J.props,we=J.attrs;return Ce("on",G),Ce("props",ge),Object.assign(Y.attrs,we),Y}var ie=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],ae=["Move"].concat(ie,O).map(function(Ee){return"on"+Ee}),me=null,_e={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(J){return J}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Ve={name:"draggable",inheritAttrs:!1,props:_e,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(J){var Y=this.$slots.default;this.transitionMode=fe(Y);var Ce=Te(Y,this.$slots,this.$scopedSlots),Me=Ce.children,G=Ce.headerOffset,ge=Ce.footerOffset;this.headerOffset=G,this.footerOffset=ge;var we=pe(this.$attrs,this.componentData);return J(this.getTag(),we,Me)},created:function(){this.list!==null&&this.value!==null&&D.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&D.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&D.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var J=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var Y={};ie.forEach(function(G){Y["on"+G]=oe.call(J,G)}),O.forEach(function(G){Y["on"+G]=te.bind(J,G)});var Ce=Object.keys(this.$attrs).reduce(function(G,ge){return G[Object(D.a)(ge)]=J.$attrs[ge],G},{}),Me=Object.assign({},this.options,Ce,Y,{onMove:function(ge,we){return J.onDragMove(ge,we)}});!("draggable"in Me)&&(Me.draggable=">*"),this._sortable=new T.a(this.rootContainer,Me),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(J){this.updateOptions(J)},deep:!0},$attrs:{handler:function(J){this.updateOptions(J)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var J=this._vnode.fnOptions;return J&&J.functional},getTag:function(){return this.tag||this.element},updateOptions:function(J){for(var Y in J){var Ce=Object(D.a)(Y);ae.indexOf(Ce)===-1&&this._sortable.option(Ce,J[Y])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var J=this.$slots.default;return this.transitionMode?J[0].child.$slots.default:J},computeIndexes:function(){var J=this;this.$nextTick(function(){J.visibleIndexes=V(J.getChildrenNodes(),J.rootContainer.children,J.transitionMode,J.footerOffset)})},getUnderlyingVm:function(J){var Y=I(this.getChildrenNodes()||[],J);if(Y===-1)return null;var Ce=this.realList[Y];return{index:Y,element:Ce}},getUnderlyingPotencialDraggableComponent:function(J){var Y=J.__vue__;return!Y||!Y.$options||!ce(Y.$options._componentTag)?!("realList"in Y)&&Y.$children.length===1&&"realList"in Y.$children[0]?Y.$children[0]:Y:Y.$parent},emitChanges:function(J){var Y=this;this.$nextTick(function(){Y.$emit("change",J)})},alterList:function(J){if(this.list){J(this.list);return}var Y=W(this.value);J(Y),this.$emit("input",Y)},spliceList:function(){var J=arguments,Y=function(Me){return Me.splice.apply(Me,W(J))};this.alterList(Y)},updatePosition:function(J,Y){var Ce=function(G){return G.splice(Y,0,G.splice(J,1)[0])};this.alterList(Ce)},getRelatedContextFromMoveEvent:function(J){var Y=J.to,Ce=J.related,Me=this.getUnderlyingPotencialDraggableComponent(Y);if(!Me)return{component:Me};var G=Me.realList,ge={list:G,component:Me};if(Y!==Ce&&G&&Me.getUnderlyingVm){var we=Me.getUnderlyingVm(Ce);if(we)return Object.assign(we,ge)}return ge},getVmIndex:function(J){var Y=this.visibleIndexes,Ce=Y.length;return J>Ce-1?Ce:Y[J]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(J){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var Y=this.getChildrenNodes();Y[J].data=null;var Ce=this.getComponent();Ce.children=[],Ce.kept=void 0}},onDragStart:function(J){this.context=this.getUnderlyingVm(J.item),J.item._underlying_vm_=this.clone(this.context.element),me=J.item},onDragAdd:function(J){var Y=J.item._underlying_vm_;if(Y!==void 0){Object(D.d)(J.item);var Ce=this.getVmIndex(J.newIndex);this.spliceList(Ce,0,Y),this.computeIndexes();var Me={element:Y,newIndex:Ce};this.emitChanges({added:Me})}},onDragRemove:function(J){if(Object(D.c)(this.rootContainer,J.item,J.oldIndex),J.pullMode==="clone"){Object(D.d)(J.clone);return}var Y=this.context.index;this.spliceList(Y,1);var Ce={element:this.context.element,oldIndex:Y};this.resetTransitionData(Y),this.emitChanges({removed:Ce})},onDragUpdate:function(J){Object(D.d)(J.item),Object(D.c)(J.from,J.item,J.oldIndex);var Y=this.context.index,Ce=this.getVmIndex(J.newIndex);this.updatePosition(Y,Ce);var Me={element:this.context.element,oldIndex:Y,newIndex:Ce};this.emitChanges({moved:Me})},updateProperty:function(J,Y){J.hasOwnProperty(Y)&&(J[Y]+=this.headerOffset)},computeFutureIndex:function(J,Y){if(!J.element)return 0;var Ce=W(Y.to.children).filter(function(we){return we.style.display!=="none"}),Me=Ce.indexOf(Y.related),G=J.component.getVmIndex(Me),ge=Ce.indexOf(me)!==-1;return ge||!Y.willInsertAfter?G:G+1},onDragMove:function(J,Y){var Ce=this.move;if(!Ce||!this.realList)return!0;var Me=this.getRelatedContextFromMoveEvent(J),G=this.context,ge=this.computeFutureIndex(Me,J);Object.assign(G,{futureIndex:ge});var we=Object.assign({},J,{relatedContext:Me,draggedContext:G});return Ce(we,Y)},onDragEnd:function(){this.computeIndexes(),me=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",Ve);var Fe=Ve;u.default=Fe})}).default})})(Sh)),Sh.exports}var LS=DS();const gb=ff(LS),MS={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},acceptedFileTypes:{type:String},thumbnailHeight:{type:Number,default:80},thumbnailWidth:{type:Number,default:80},showRemoveLink:{type:Boolean,default:!0},maxFileSizeInMB:{type:Number,default:64},maxNumberOfFiles:{type:Number,default:5},autoProcessQueue:{type:Boolean,default:!0},useFontAwesome:{type:Boolean,default:!1},headers:{type:Object},language:{type:Object},useCustomDropzoneOptions:{type:Boolean,default:!1},dropzoneOptions:{type:Object}},methods:{setOption:function(t,e){this.dropzone.options[t]=e},removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},removeFile:function(t){this.dropzone.removeFile(t)}},computed:{doneIcon:function(){return this.useFontAwesome?'<i class="fa fa-check"></i>':' <i class="material-icons">done</i>'},errorIcon:function(){return this.useFontAwesome?'<i class="fa fa-close"></i>':' <i class="material-icons">error</i>'}},mounted(){if(this.$isServer)return;let t=document.getElementById(this.id);if(ul.autoDiscover=!1,this.useCustomDropzoneOptions)this.dropzone=new ul(t,this.dropzoneOptions);else{this.dropzone=new ul(t,{clickable:this.clickable,method:"post",thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxNumberOfFiles,maxFilesize:this.maxFileSizeInMB,uploadMultiple:!1,acceptedFiles:this.acceptedFileTypes,timeout:0,autoProcessQueue:this.autoProcessQueue,paramName:"form[attachment]",headers:{_token:window.RozierConfig.ajaxToken,...this.headers},dictDefaultMessage:this.language.dictDefaultMessage,dictCancelUpload:this.language.dictCancelUpload,dictCancelUploadConfirmation:this.language.dictCancelUploadConfirmation,dictFallbackMessage:this.language.dictFallbackMessage,dictFallbackText:this.language.dictFallbackText,dictFileTooBig:this.language.dictFileTooBig,dictInvalidFileType:this.language.dictInvalidFileType,dictMaxFilesExceeded:this.language.dictMaxFilesExceeded,dictRemoveFile:this.language.dictRemoveFile,dictRemoveFileConfirmation:this.language.dictRemoveFileConfirmation,dictResponseError:this.language.dictResponseError,error:(l,f)=>{let h;f.error?h=f.error:h="Error",l.previewElement.classList.add("dz-error");let b=l.previewElement.querySelectorAll("[data-dz-errormessage]"),w=[];for(let x=0,E=b.length;x<E;x++){let N=b[x];w.push(N.textContent=h)}return w}});const r=t;r.insertAdjacentHTML("beforeend",`<div class="dz-default dz-message"><span>${this.language.dictDefaultMessage}</span></div>`),r.querySelector(".dz-message").insertAdjacentHTML("beforeend",`
                <div class="circles-icons">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <i class="uk-icon-rz-file"></i>
                </div>
            `)}const e=this;this.dropzone.on("thumbnail",function(r){e.$emit("vdropzone-thumbnail",r)}),this.dropzone.on("addedfile",function(r){e.$emit("vdropzone-file-added",r)}),this.dropzone.on("removedfile",function(r){e.$emit("vdropzone-removed-file",r)}),this.dropzone.on("success",async function(r,s){if(e.$emit("vdropzone-success",r,s),r.previewElement){let u=r.previewElement;await ac(3e3),await ll(u,500)}}),this.dropzone.on("successmultiple",function(r,s){e.$emit("vdropzone-success-multiple",r,s)}),this.dropzone.on("error",function(r,s,u){e.$emit("vdropzone-error",r,s,u)}),this.dropzone.on("sending",function(r,s,u){e.$emit("vdropzone-sending",r,s,u),s.ontimeout=()=>{console.error("Server Timeout")}}),this.dropzone.on("sendingmultiple",function(r,s,u){e.$emit("vdropzone-sending-multiple",r,s,u)}),this.dropzone.on("queuecomplete",function(r,s,u){e.$emit("vdropzone-queue-complete",r,s,u)})},beforeDestroy(){this.dropzone.destroy()}};var OS=function(){var e=this,r=e._self._c;return r("div",{staticClass:"vue-dropzone dropzone-container",attrs:{action:e.url,id:e.id}})},PS=[],FS=Wi(MS,OS,PS,!1,null,null);const RS=FS.exports,NS={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null,documentEditDialog:null}),mounted(){this.drawersAddInstance(this),Ql.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name");let t=this.ids,e=this.entity;t||(t=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const r=this.$refs.drawer.getAttribute("data-is-sortable"),s=this.$refs.drawer.getAttribute("data-min-length"),u=this.$refs.drawer.getAttribute("data-max-length"),l=u?parseInt(u,10):9999,f=s?parseInt(s,10):0;this.groupName=e,this.isSortable=r==="true";const h=this.$refs.drawer.getAttribute("data-nodetypes"),b=this.$refs.drawer.getAttribute("data-nodetypefield"),w=this.$refs.drawer.getAttribute("data-nodetypename"),x=this.$refs.drawer.getAttribute("data-provider-class"),E=this.$refs.drawer.getAttribute("data-locale"),N=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),q={nodeTypes:h,nodeTypeField:b,providerClass:x,providerOptions:N,nodeTypeName:w,_locale:E};this.drawersInitData({drawer:this.drawer,entity:e,ids:t,filters:q,maxLength:l,minLength:f,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...Fa({isActive:function(){let t=this.$store.getters.drawersGetById(this._uid);return t?t.isActive:!1},trans:t=>t.drawers.trans,currentListingView:t=>t.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer.items},set(t){this.$store.commit(Tv,{drawer:this.drawer,newList:t})}}},methods:{...Ns(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(t){this.drawersRemoveItem({drawer:this.drawer,item:t})},addItem:function(t,e=null){this.drawersAddItem({drawer:this.drawer,item:t,newIndex:e})},showSuccess:function(t,e){this.entityName===Zv?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(t,e,r){console.error(t),console.error(e),console.error(r)},onEditItem(t){const e=document.createElement("document-edit-dialog");e.setAttribute("template-path",this.$el.getAttribute("data-document-alignment-template-path")),e.setAttribute("title",t.document.classname),e.setAttribute("edit-url",t.document.editItem+"?referer="+window.location.pathname),e.setAttribute("image-path",t.document.editImageUrl),e.setAttribute("image-width",t.document.editImageWidth),e.setAttribute("image-height",t.document.editImageHeight),e.setAttribute("input-base-name",`${this.drawerName}[${t.index}]`),e.setAttribute("open",""),t.document.originalHotspot&&e.setAttribute("original-hotspot",JSON.stringify(t.document.originalHotspot)),document.body.appendChild(e)}},components:{RzButton:ZE,draggable:gb,Dropzone:RS}},zS=null,IS=null;var BS=Wi(NS,zS,IS,!1,null,null);const $S=BS.exports,HS={props:{isLoadingMore:{required:!0,type:Boolean},nextPage:{type:Number},loadMoreItems:{required:!0,type:Function},moreItemsText:{required:!0,type:String}}};var WS=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.nextPage&&e.nextPage>1?r("div",{staticClass:"widget-explorer-nextpage",on:{click:function(s){return s.preventDefault(),e.loadMoreItems.apply(null,arguments)}}},[e.isLoadingMore?[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner light"})])]:[r("i",{staticClass:"uk-icon-plus"}),r("span",{staticClass:"label"},[e._v(e._s(e.moreItemsText))])]],2):e._e()])},qS=[],jS=Wi(HS,WS,qS,!1,null,null);const YS=jS.exports,US={props:{length:{required:!0,type:Number},itemCount:{required:!0,type:Number,default:0}}};var ZS=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.length&&e.itemCount?r("div",{staticClass:"widget-explorer-infos"},[e._v(e._s(e.length)+" / "+e._s(e.itemCount))]):e._e()])},GS=[],XS=Wi(US,ZS,GS,!1,null,null);const VS=XS.exports,KS={props:{onClick:{required:!0,type:Function},filterExplorerSelectedItems:{required:!1,type:Object},isFilterExplorerOpen:{required:!0,type:Boolean},entity:{required:!0},icon:{required:!0,type:String}}};var QS=function(){var e=this,r=e._self._c;return r("button",{staticClass:"widget-explorer-logo",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[r("i",{class:e.icon}),e.filterExplorerSelectedItems?r("span",{staticClass:"uk-badge uk-badge-notification"},[e._v("1")]):e._e()])},JS=[],eT=Wi(KS,QS,JS,!1,null,null);const tT=eT.exports,nT={data:()=>({searchPlaceHolder:""}),computed:{...Fa({isLoadingMore:t=>t.explorer.isLoadingMore,isLoading:t=>t.explorer.isLoading,isOpen:t=>t.explorer.isOpen,items:t=>t.explorer.items,filters:t=>t.explorer.filters,moreItems:t=>t.explorer.trans.moreItems,translations:t=>t.translations,entity:t=>t.explorer.entity,isFilterExplorerOpen:t=>t.filterExplorer.isOpen,filterExplorerSelectedItems:t=>t.filterExplorer.selectedItem,currentListingView:t=>t.explorer.currentListingView,widgetView:t=>t.explorer.widgetView,isFilterEnable:t=>t.explorer.isFilterEnable,filterExplorerIcon:t=>t.explorer.filterExplorerIcon,entityClass:t=>"entity-"+t.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:ef.debounce(function(t){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:t})},450)}},methods:{...Ns(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(t){this.drawersAddItem({item:t})}},components:{LoadMoreButton:YS,ExplorerItemsInfos:VS,FilterExplorerButton:tT,draggable:gb}};var iT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left"}},[e.isOpen?r("div",{staticClass:"widget-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[r("div",{staticClass:"widget-explorer-wrapper"},[r("div",{staticClass:"widget-explorer-header"},[e.isFilterEnable?r("filter-explorer-button",{attrs:{entity:e.entity,icon:e.filterExplorerIcon,"filter-explorer-selected-items":e.filterExplorerSelectedItems,"is-filter-explorer-open":e.isFilterExplorerOpen,"on-click":e.filterExplorerToggle}}):e._e(),r("div",{staticClass:"widget-explorer-search"},[r("form",{staticClass:"explorer-search uk-form",attrs:{action:"#",method:"POST"},on:{submit:function(s){s.preventDefault()}}},[r("div",{staticClass:"uk-form-icon"},[r("i",{staticClass:"uk-icon-search"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:(s.stopPropagation(),s.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(s){s.target.composing||(e.searchTerms=s.target.value)}}})])])]),r("div",{staticClass:"widget-explorer-close",on:{click:function(s){return s.preventDefault(),e.explorerClose.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-close-explorer"})])],1),e.isLoading?r("div",{staticClass:"spinner light"}):e._e(),r("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():r("ul",{staticClass:"uk-sortable"},[r("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(s){e.items=s},expression:"items"}},[r("transition-group",{staticClass:"sortable-inner"},e._l(e.items,function(s,u){return r(e.currentListingView,{key:s.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:u,item:s}})}),1)],1)],1)]),e.filters?r("load-more-button",{attrs:{"next-page":e.filters.nextPage,"load-more-items":e.explorerLoadMore,"is-loading-more":e.isLoadingMore,"more-items-text":e.moreItems?e.translations[e.moreItems]:""}}):e._e(),e.filters?r("explorer-items-infos",{attrs:{length:e.items.length,"item-count":e.filters.itemCount}}):e._e(),r(e.widgetView,{tag:"component"})],1)]):e._e()])},rT=[],oT=Wi(nT,iT,rT,!1,null,null);const aT=oT.exports,sT={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var uT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade-in"}},[e.item?r("li",{staticClass:"item"},[r("button",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onItemClick(e.item)}}},[r("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),r("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),r("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(s,u){return r("filter-explorer-item",{key:s.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:s}})}),1)]):e._e()])},lT=[],cT=Wi(sT,uT,lT,!1,null,null);const fT=cT.exports,hT={data:()=>({currentListingView:null}),computed:{...Fa({isLoading:t=>t.filterExplorer.isLoading,isOpen:t=>t.filterExplorer.isOpen,items:t=>t.filterExplorer.items,entity:t=>t.explorer.entity,itemCount:t=>t.explorer.filters.itemCount,selectedItem:t=>t.filterExplorer.selectedItem,translations:t=>t.translations,icons:t=>t.filterExplorer.icons})},methods:{...Ns(["filterExplorerUpdate"]),onItemClick:function(t){this.filterExplorerUpdate({item:t})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:fT}};var dT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?r("div",{staticClass:"filter-widget-explorer"},[r("ul",{staticClass:"filters-items"},[r("li",{staticClass:"filters-infos"},[r("div",{staticClass:"infos-content"},[r("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?r("div",[r("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),e._v(" "+e._s(e.itemCount>1?e.translations.items:e.translations.item)+" ")]):e._e()])],1)]),r("li",{staticClass:"item"},[r("button",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.onResetClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(s,u){return r("filter-explorer-item",{key:u,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:s}})})],2)]):e._e()])},pT=[],mT=Wi(hT,dT,pT,!1,null,null);const gT=mT.exports;var Oh={exports:{}},vT=Oh.exports,Hg;function bT(){return Hg||(Hg=1,(function(t,e){(function(r,s){t.exports=s()})(vT,function(){return(function(r){function s(l){if(u[l])return u[l].exports;var f=u[l]={i:l,l:!1,exports:{}};return r[l].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};return s.m=r,s.c=u,s.i=function(l){return l},s.d=function(l,f,h){s.o(l,f)||Object.defineProperty(l,f,{configurable:!1,enumerable:!0,get:h})},s.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(f,"a",f),f},s.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},s.p="/",s(s.s=8)})([function(r,s,u){function l(W){return W&&W.__esModule?W:{default:W}}function f(W,U,T){return U in W?Object.defineProperty(W,U,{value:T,enumerable:!0,configurable:!0,writable:!0}):W[U]=T,W}function h(W,U){if(!W)return!1;var T=W.toString().toLowerCase();return T.indexOf(U.trim())!==-1}function b(W,U,T){return T?W.filter(function(D){return h(D[T],U)}):W.filter(function(D){return h(D,U)})}function w(W){return W.filter(function(U){return!U.$isLabel})}function x(W,U){return function(T){return T.reduce(function(D,B){return B[W]&&B[W].length?(D.push({$groupLabel:B[U],$isLabel:!0}),D.concat(B[W])):D.concat(B)},[])}}function E(W,U,T,D){return function(B){return B.map(function(I){var V,te=b(I[T],W,U);return te.length?(V={},f(V,D,I[D]),f(V,T,te),V):[]})}}Object.defineProperty(s,"__esModule",{value:!0});var N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},q=u(2),F=l(q),j=function(){for(var W=arguments.length,U=Array(W),T=0;T<W;T++)U[T]=arguments[T];return function(D){return U.reduce(function(B,I){return I(B)},D)}};s.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,F.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(W,U){return U?W[U]:W}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props cant be both set to false.")},computed:{filteredOptions:function(){var W=this.search||"",U=W.toLowerCase(),T=this.options.concat();return this.internalSearch?(T=this.groupValues?this.filterAndFlat(T,U,this.label):b(T,U,this.label),T=this.hideSelected?T.filter(this.isNotSelected):T):T=this.groupValues?x(this.groupValues,this.groupLabel)(T):T,this.taggable&&U.length&&!this.isExistingOption(U)&&T.unshift({isTag:!0,label:W}),T.slice(0,this.optionsLimit)},valueKeys:function(){var W=this;return this.trackBy?this.internalValue.map(function(U){return U[W.trackBy]}):this.internalValue},optionKeys:function(){var W=this,U=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?U.map(function(T){return T[W.label].toString().toLowerCase()}):U.map(function(T){return T.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(W,U){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(W){this.internalValue=this.getInternalValue(W)}},methods:{getValue:function(){return this.multiple?(0,F.default)(this.internalValue):this.internalValue.length===0?null:(0,F.default)(this.internalValue[0])},getInternalValue:function(W){return W==null?[]:this.multiple?(0,F.default)(W):(0,F.default)([W])},filterAndFlat:function(W){return j(E(this.search,this.label,this.groupValues,this.groupLabel),x(this.groupValues,this.groupLabel))(W)},flatAndStrip:function(W){return j(x(this.groupValues,this.groupLabel),w)(W)},updateSearch:function(W){this.search=W},isExistingOption:function(W){return!!this.options&&this.optionKeys.indexOf(W)>-1},isSelected:function(W){var U=this.trackBy?W[this.trackBy]:W;return this.valueKeys.indexOf(U)>-1},isNotSelected:function(W){return!this.isSelected(W)},getOptionLabel:function(W){return W||W===0?W.isTag?W.label:this.customLabel(W,this.label)||"":""},select:function(W,U){if(!(this.blockKeys.indexOf(U)!==-1||this.disabled||W.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(W.isTag)this.$emit("tag",W.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var T=this.isSelected(W);if(T)return void(U!=="Tab"&&this.removeElement(W));this.multiple?this.internalValue.push(W):this.internalValue=[W],this.$emit("select",(0,F.default)(W),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(W){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var U=(typeof W>"u"?"undefined":N(W))==="object"?this.valueKeys.indexOf(W[this.trackBy]):this.valueKeys.indexOf(W);this.internalValue.splice(U,1),this.$emit("remove",(0,F.default)(W),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(r,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(l,f){return{"multiselect__option--highlight":l===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(f)}},addPointerElement:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",f=l.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],f),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(l){this.pointer=l}}}},function(r,s,u){function l(h){if(Array.isArray(h))return h.map(l);if(h&&(typeof h>"u"?"undefined":f(h))==="object"){for(var b={},w=Object.keys(h),x=0,E=w.length;x<E;x++){var N=w[x];b[N]=l(h[N])}return b}return h}Object.defineProperty(s,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};s.default=l},function(r,s,u){u(5);var l=u(6)(u(4),u(7),null,null);r.exports=l.exports},function(r,s,u){function l(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(s,"__esModule",{value:!0});var f=u(0),h=l(f),b=u(1),w=l(b);s.default={name:"vue-multiselect",mixins:[h.default,w.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(x){return"and "+x+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(r,s){},function(r,s){r.exports=function(u,l,f,h){var b,w=u=u||{},x=typeof u.default;x!=="object"&&x!=="function"||(b=u,w=u.default);var E=typeof w=="function"?w.options:w;if(l&&(E.render=l.render,E.staticRenderFns=l.staticRenderFns),f&&(E._scopeId=f),h){var N=E.computed||(E.computed={});Object.keys(h).forEach(function(q){var F=h[q];N[q]=function(){return F}})}return{esModule:b,exports:w,options:E}}},function(r,s){r.exports={render:function(){var u=this,l=u.$createElement,f=u._self._c||l;return f("div",{staticClass:"multiselect",class:{"multiselect--active":u.isOpen,"multiselect--disabled":u.disabled,"multiselect--above":!u.hasEnoughSpace},attrs:{tabindex:u.searchable?-1:0},on:{focus:function(h){u.activate()},blur:function(h){!u.searchable&&u.deactivate()},keydown:[function(h){u._k(h.keyCode,"down",40)||h.target===h.currentTarget&&(h.preventDefault(),u.pointerForward())},function(h){u._k(h.keyCode,"up",38)||h.target===h.currentTarget&&(h.preventDefault(),u.pointerBackward())},function(h){u._k(h.keyCode,"enter",13)&&u._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&u.addPointerElement(h))}],keyup:function(h){u._k(h.keyCode,"esc",27)||u.deactivate()}}},[u._t("carret",[f("div",{staticClass:"multiselect__select",on:{mousedown:function(h){h.preventDefault(),u.toggle()}}})]),u._v(" "),f("div",{ref:"tags",staticClass:"multiselect__tags"},[u._l(u.visibleValue,function(h){return f("span",{staticClass:"multiselect__tag",on:{mousedown:function(b){b.preventDefault()}}},[f("span",{domProps:{textContent:u._s(u.getOptionLabel(h))}}),u._v(" "),f("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(b){u._k(b.keyCode,"enter",13)||(b.preventDefault(),u.removeElement(h))},mousedown:function(b){b.preventDefault(),u.removeElement(h)}}})])}),u._v(" "),u.internalValue&&u.internalValue.length>u.limit?[f("strong",{domProps:{textContent:u._s(u.limitText(u.internalValue.length-u.limit))}})]:u._e(),u._v(" "),f("transition",{attrs:{name:"multiselect__loading"}},[u._t("loading",[f("div",{directives:[{name:"show",rawName:"v-show",value:u.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),u._v(" "),u.searchable?f("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:u.placeholder,disabled:u.disabled},domProps:{value:u.isOpen?u.search:u.currentOptionLabel},on:{input:function(h){u.updateSearch(h.target.value)},focus:function(h){h.preventDefault(),u.activate()},blur:function(h){h.preventDefault(),u.deactivate()},keyup:function(h){u._k(h.keyCode,"esc",27)||u.deactivate()},keydown:[function(h){u._k(h.keyCode,"down",40)||(h.preventDefault(),u.pointerForward())},function(h){u._k(h.keyCode,"up",38)||(h.preventDefault(),u.pointerBackward())},function(h){u._k(h.keyCode,"enter",13)||h.preventDefault()},function(h){u._k(h.keyCode,"enter",13)&&u._k(h.keyCode,"tab",9)||(h.stopPropagation(),h.target===h.currentTarget&&u.addPointerElement(h))},function(h){u._k(h.keyCode,"delete",[8,46])||u.removeLastElement()}]}}):u._e(),u._v(" "),u.searchable?u._e():f("span",{staticClass:"multiselect__single",domProps:{textContent:u._s(u.currentOptionLabel)}})],2),u._v(" "),f("transition",{attrs:{name:"multiselect"}},[f("ul",{directives:[{name:"show",rawName:"v-show",value:u.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:u.maxHeight+"px"}},[u._t("beforeList"),u._v(" "),u.multiple&&u.max===u.internalValue.length?f("li",[f("span",{staticClass:"multiselect__option"},[u._t("maxElements",[u._v("Maximum of "+u._s(u.max)+" options selected. First remove a selected option to select another.")])],2)]):u._e(),u._v(" "),!u.max||u.internalValue.length<u.max?u._l(u.filteredOptions,function(h,b){return f("li",{key:b,staticClass:"multiselect__element"},[h.$isLabel?u._e():f("span",{staticClass:"multiselect__option",class:u.optionHighlight(b,h),attrs:{tabindex:"0","data-select":h.isTag?u.tagPlaceholder:u.selectLabelText,"data-selected":u.selectedLabelText,"data-deselect":u.deselectLabelText},on:{mousedown:function(w){w.preventDefault(),u.select(h)},mouseenter:function(w){u.pointerSet(b)}}},[u._t("option",[f("span",[u._v(u._s(u.getOptionLabel(h)))])],{option:h,search:u.search})],2),u._v(" "),h.$isLabel?f("span",{staticClass:"multiselect__option multiselect__option--disabled",class:u.optionHighlight(b,h)},[u._v(`
              `+u._s(h.$groupLabel)+`
            `)]):u._e()])}):u._e(),u._v(" "),f("li",{directives:[{name:"show",rawName:"v-show",value:u.filteredOptions.length===0&&u.search&&!u.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[f("span",{staticClass:"multiselect__option"},[u._t("noResult",[u._v("No elements found. Consider changing the search query.")])],2)]),u._v(" "),u._t("afterList")],2)])],2)},staticRenderFns:[]}},function(r,s,u){function l(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(s,"__esModule",{value:!0}),s.deepClone=s.pointerMixin=s.multiselectMixin=s.Multiselect=void 0;var f=u(3),h=l(f),b=u(0),w=l(b),x=u(1),E=l(x),N=u(2),q=l(N);s.default=h.default,s.Multiselect=h.default,s.multiselectMixin=w.default,s.pointerMixin=E.default,s.deepClone=q.default}])})})(Oh)),Oh.exports}var yT=bT();const _T=ff(yT),xT={mounted(){this.tagsInitData()},computed:{...Fa({value:t=>t.tags.value,options:t=>t.tags.options})},methods:{...Ns(["tagsUpdateValue","tagsInitData"]),addTag(t){const e={name:t};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:_T}};var wT=function(){var e=this,r=e._self._c;return r("div",[e._t("default"),r("label",{staticClass:"typo__label"},[e._v("Tagging")]),r("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(s){e.value=s},expression:"value"}}),r("pre",{staticClass:"language-json"},[r("code",[e._v(e._s(e.value))])])],2)},kT=[],CT=Wi(xT,wT,kT,!1,null,null);const ET=CT.exports,ST={computed:{...Fa({isVisible:t=>t.documentPreview.isVisible,document:t=>t.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},methods:{...Ns(["documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(t){t.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()}}};var TT=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?r("div",{staticClass:"document-preview-widget"},[r("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(s){return s.preventDefault(),e.onClick.apply(null,arguments)}}},[r("div",{staticClass:"document-preview-widget__information"},[r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),r("div",{staticClass:"close",on:{click:function(s){return s.preventDefault(),e.closePreview.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-times"})])]),r("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[r("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},AT=[],DT=Wi(ST,TT,AT,!1,null,null);const LT=DT.exports;var yh={};const MT=C0(xx);var Ph={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var OT=Ph.exports,Wg;function PT(){return Wg||(Wg=1,(function(t,e){(function(r,s){t.exports=s()})(OT,(function(){function r(be,y){var S=Object.keys(be);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(be);y&&(P=P.filter(function(ee){return Object.getOwnPropertyDescriptor(be,ee).enumerable})),S.push.apply(S,P)}return S}function s(be){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?r(Object(S),!0).forEach(function(P){x(be,P,S[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(S)):r(Object(S)).forEach(function(P){Object.defineProperty(be,P,Object.getOwnPropertyDescriptor(S,P))})}return be}function u(be,y){if(typeof be!="object"||!be)return be;var S=be[Symbol.toPrimitive];if(S!==void 0){var P=S.call(be,y);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(be)}function l(be){var y=u(be,"string");return typeof y=="symbol"?y:y+""}function f(be){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},f(be)}function h(be,y){if(!(be instanceof y))throw new TypeError("Cannot call a class as a function")}function b(be,y){for(var S=0;S<y.length;S++){var P=y[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(be,l(P.key),P)}}function w(be,y,S){return y&&b(be.prototype,y),S&&b(be,S),Object.defineProperty(be,"prototype",{writable:!1}),be}function x(be,y,S){return y=l(y),y in be?Object.defineProperty(be,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):be[y]=S,be}function E(be){return N(be)||q(be)||F(be)||W()}function N(be){if(Array.isArray(be))return j(be)}function q(be){if(typeof Symbol<"u"&&be[Symbol.iterator]!=null||be["@@iterator"]!=null)return Array.from(be)}function F(be,y){if(be){if(typeof be=="string")return j(be,y);var S=Object.prototype.toString.call(be).slice(8,-1);if(S==="Object"&&be.constructor&&(S=be.constructor.name),S==="Map"||S==="Set")return Array.from(be);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return j(be,y)}}function j(be,y){(y==null||y>be.length)&&(y=be.length);for(var S=0,P=new Array(y);S<y;S++)P[S]=be[S];return P}function W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U=typeof window<"u"&&typeof window.document<"u",T=U?window:{},D=U&&T.document.documentElement?"ontouchstart"in T.document.documentElement:!1,B=U?"PointerEvent"in T:!1,I="cropper",V="all",te="crop",oe="move",ce="zoom",fe="e",ue="w",Te="s",pe="n",ie="ne",O="nw",ae="se",me="sw",_e="".concat(I,"-crop"),Ve="".concat(I,"-disabled"),Fe="".concat(I,"-hidden"),Ee="".concat(I,"-hide"),J="".concat(I,"-invisible"),Y="".concat(I,"-modal"),Ce="".concat(I,"-move"),Me="".concat(I,"Action"),G="".concat(I,"Preview"),ge="crop",we="move",Ie="none",Ye="crop",Ge="cropend",st="cropmove",wt="cropstart",kt="dblclick",Dt=D?"touchstart":"mousedown",mt=D?"touchmove":"mousemove",Mt=D?"touchend touchcancel":"mouseup",Ut=B?"pointerdown":Dt,hn=B?"pointermove":mt,vt=B?"pointerup pointercancel":Mt,Ot="ready",Le="resize",nt="wheel",qe="zoom",jt="image/jpeg",ii=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,li=/^data:/,qi=/^data:image\/jpeg;base64,/,gi=/^img|canvas$/i,xn=200,vi=100,Gn={viewMode:0,dragMode:ge,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:xn,minContainerHeight:vi,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Mi='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Yn=Number.isNaN||T.isNaN;function Tt(be){return typeof be=="number"&&!Yn(be)}var Rr=function(y){return y>0&&y<1/0};function Zt(be){return typeof be>"u"}function ji(be){return f(be)==="object"&&be!==null}var Pt=Object.prototype.hasOwnProperty;function oi(be){if(!ji(be))return!1;try{var y=be.constructor,S=y.prototype;return y&&S&&Pt.call(S,"isPrototypeOf")}catch{return!1}}function vn(be){return typeof be=="function"}var Dn=Array.prototype.slice;function an(be){return Array.from?Array.from(be):Dn.call(be)}function ln(be,y){return be&&vn(y)&&(Array.isArray(be)||Tt(be.length)?an(be).forEach(function(S,P){y.call(be,S,P,be)}):ji(be)&&Object.keys(be).forEach(function(S){y.call(be,be[S],S,be)})),be}var et=Object.assign||function(y){for(var S=arguments.length,P=new Array(S>1?S-1:0),ee=1;ee<S;ee++)P[ee-1]=arguments[ee];return ji(y)&&P.length>0&&P.forEach(function(re){ji(re)&&Object.keys(re).forEach(function(de){y[de]=re[de]})}),y},We=/\.\d*(?:0|9){12}\d*$/;function at(be){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return We.test(be)?Math.round(be*y)/y:be}var Bt=/^width|height|left|top|marginLeft|marginTop$/;function _t(be,y){var S=be.style;ln(y,function(P,ee){Bt.test(ee)&&Tt(P)&&(P="".concat(P,"px")),S[ee]=P})}function sn(be,y){return be.classList?be.classList.contains(y):be.className.indexOf(y)>-1}function At(be,y){if(y){if(Tt(be.length)){ln(be,function(P){At(P,y)});return}if(be.classList){be.classList.add(y);return}var S=be.className.trim();S?S.indexOf(y)<0&&(be.className="".concat(S," ").concat(y)):be.className=y}}function Ht(be,y){if(y){if(Tt(be.length)){ln(be,function(S){Ht(S,y)});return}if(be.classList){be.classList.remove(y);return}be.className.indexOf(y)>=0&&(be.className=be.className.replace(y,""))}}function Tn(be,y,S){if(y){if(Tt(be.length)){ln(be,function(P){Tn(P,y,S)});return}S?At(be,y):Ht(be,y)}}var Xn=/([a-z\d])([A-Z])/g;function bt(be){return be.replace(Xn,"$1-$2").toLowerCase()}function Hn(be,y){return ji(be[y])?be[y]:be.dataset?be.dataset[y]:be.getAttribute("data-".concat(bt(y)))}function Yt(be,y,S){ji(S)?be[y]=S:be.dataset?be.dataset[y]=S:be.setAttribute("data-".concat(bt(y)),S)}function dn(be,y){if(ji(be[y]))try{delete be[y]}catch{be[y]=void 0}else if(be.dataset)try{delete be.dataset[y]}catch{be.dataset[y]=void 0}else be.removeAttribute("data-".concat(bt(y)))}var Cn=/\s\s*/,Jn=(function(){var be=!1;if(U){var y=!1,S=function(){},P=Object.defineProperty({},"once",{get:function(){return be=!0,y},set:function(re){y=re}});T.addEventListener("test",S,P),T.removeEventListener("test",S,P)}return be})();function Pn(be,y,S){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ee=S;y.trim().split(Cn).forEach(function(re){if(!Jn){var de=be.listeners;de&&de[re]&&de[re][S]&&(ee=de[re][S],delete de[re][S],Object.keys(de[re]).length===0&&delete de[re],Object.keys(de).length===0&&delete be.listeners)}be.removeEventListener(re,ee,P)})}function un(be,y,S){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ee=S;y.trim().split(Cn).forEach(function(re){if(P.once&&!Jn){var de=be.listeners,Ae=de===void 0?{}:de;ee=function(){delete Ae[re][S],be.removeEventListener(re,ee,P);for(var Ke=arguments.length,Ue=new Array(Ke),Ze=0;Ze<Ke;Ze++)Ue[Ze]=arguments[Ze];S.apply(be,Ue)},Ae[re]||(Ae[re]={}),Ae[re][S]&&be.removeEventListener(re,Ae[re][S],P),Ae[re][S]=ee,be.listeners=Ae}be.addEventListener(re,ee,P)})}function Ei(be,y,S){var P;return vn(Event)&&vn(CustomEvent)?P=new CustomEvent(y,{detail:S,bubbles:!0,cancelable:!0}):(P=document.createEvent("CustomEvent"),P.initCustomEvent(y,!0,!0,S)),be.dispatchEvent(P)}function Yi(be){var y=be.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var Oi=T.location,Qr=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Jr(be){var y=be.match(Qr);return y!==null&&(y[1]!==Oi.protocol||y[2]!==Oi.hostname||y[3]!==Oi.port)}function kr(be){var y="timestamp=".concat(new Date().getTime());return be+(be.indexOf("?")===-1?"?":"&")+y}function Pi(be){var y=be.rotate,S=be.scaleX,P=be.scaleY,ee=be.translateX,re=be.translateY,de=[];Tt(ee)&&ee!==0&&de.push("translateX(".concat(ee,"px)")),Tt(re)&&re!==0&&de.push("translateY(".concat(re,"px)")),Tt(y)&&y!==0&&de.push("rotate(".concat(y,"deg)")),Tt(S)&&S!==1&&de.push("scaleX(".concat(S,")")),Tt(P)&&P!==1&&de.push("scaleY(".concat(P,")"));var Ae=de.length?de.join(" "):"none";return{WebkitTransform:Ae,msTransform:Ae,transform:Ae}}function Nr(be){var y=s({},be),S=0;return ln(be,function(P,ee){delete y[ee],ln(y,function(re){var de=Math.abs(P.startX-re.startX),Ae=Math.abs(P.startY-re.startY),Xe=Math.abs(P.endX-re.endX),Ke=Math.abs(P.endY-re.endY),Ue=Math.sqrt(de*de+Ae*Ae),Ze=Math.sqrt(Xe*Xe+Ke*Ke),ut=(Ze-Ue)/Ue;Math.abs(ut)>Math.abs(S)&&(S=ut)})}),S}function Si(be,y){var S=be.pageX,P=be.pageY,ee={endX:S,endY:P};return y?ee:s({startX:S,startY:P},ee)}function lo(be){var y=0,S=0,P=0;return ln(be,function(ee){var re=ee.startX,de=ee.startY;y+=re,S+=de,P+=1}),y/=P,S/=P,{pageX:y,pageY:S}}function er(be){var y=be.aspectRatio,S=be.height,P=be.width,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",re=Rr(P),de=Rr(S);if(re&&de){var Ae=S*y;ee==="contain"&&Ae>P||ee==="cover"&&Ae<P?S=P/y:P=S*y}else re?S=P/y:de&&(P=S*y);return{width:P,height:S}}function Vn(be){var y=be.width,S=be.height,P=be.degree;if(P=Math.abs(P)%180,P===90)return{width:S,height:y};var ee=P%90*Math.PI/180,re=Math.sin(ee),de=Math.cos(ee),Ae=y*de+S*re,Xe=y*re+S*de;return P>90?{width:Xe,height:Ae}:{width:Ae,height:Xe}}function Lt(be,y,S,P){var ee=y.aspectRatio,re=y.naturalWidth,de=y.naturalHeight,Ae=y.rotate,Xe=Ae===void 0?0:Ae,Ke=y.scaleX,Ue=Ke===void 0?1:Ke,Ze=y.scaleY,ut=Ze===void 0?1:Ze,pn=S.aspectRatio,mn=S.naturalWidth,Un=S.naturalHeight,Ln=P.fillColor,In=Ln===void 0?"transparent":Ln,bi=P.imageSmoothingEnabled,Ft=bi===void 0?!0:bi,ci=P.imageSmoothingQuality,nn=ci===void 0?"low":ci,ht=P.maxWidth,En=ht===void 0?1/0:ht,fi=P.maxHeight,cr=fi===void 0?1/0:fi,Fi=P.minWidth,jr=Fi===void 0?0:Fi,zr=P.minHeight,Xt=zr===void 0?0:zr,rn=document.createElement("canvas"),Ti=rn.getContext("2d"),Ir=er({aspectRatio:pn,width:En,height:cr}),jo=er({aspectRatio:pn,width:jr,height:Xt},"cover"),ma=Math.min(Ir.width,Math.max(jo.width,mn)),Yo=Math.min(Ir.height,Math.max(jo.height,Un)),ga=er({aspectRatio:ee,width:En,height:cr}),Na=er({aspectRatio:ee,width:jr,height:Xt},"cover"),yn=Math.min(ga.width,Math.max(Na.width,re)),Wn=Math.min(ga.height,Math.max(Na.height,de)),br=[-yn/2,-Wn/2,yn,Wn];return rn.width=at(ma),rn.height=at(Yo),Ti.fillStyle=In,Ti.fillRect(0,0,ma,Yo),Ti.save(),Ti.translate(ma/2,Yo/2),Ti.rotate(Xe*Math.PI/180),Ti.scale(Ue,ut),Ti.imageSmoothingEnabled=Ft,Ti.imageSmoothingQuality=nn,Ti.drawImage.apply(Ti,[be].concat(E(br.map(function(Br){return Math.floor(at(Br))})))),Ti.restore(),rn}var tr=String.fromCharCode;function lr(be,y,S){var P="";S+=y;for(var ee=y;ee<S;ee+=1)P+=tr(be.getUint8(ee));return P}var Ui=/^data:.*,/;function K(be){var y=be.replace(Ui,""),S=atob(y),P=new ArrayBuffer(S.length),ee=new Uint8Array(P);return ln(ee,function(re,de){ee[de]=S.charCodeAt(de)}),P}function ve(be,y){for(var S=[],P=8192,ee=new Uint8Array(be);ee.length>0;)S.push(tr.apply(null,an(ee.subarray(0,P)))),ee=ee.subarray(P);return"data:".concat(y,";base64,").concat(btoa(S.join("")))}function Ne(be){var y=new DataView(be),S;try{var P,ee,re;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var de=y.byteLength,Ae=2;Ae+1<de;){if(y.getUint8(Ae)===255&&y.getUint8(Ae+1)===225){ee=Ae;break}Ae+=1}if(ee){var Xe=ee+4,Ke=ee+10;if(lr(y,Xe,4)==="Exif"){var Ue=y.getUint16(Ke);if(P=Ue===18761,(P||Ue===19789)&&y.getUint16(Ke+2,P)===42){var Ze=y.getUint32(Ke+4,P);Ze>=8&&(re=Ke+Ze)}}}if(re){var ut=y.getUint16(re,P),pn,mn;for(mn=0;mn<ut;mn+=1)if(pn=re+mn*12+2,y.getUint16(pn,P)===274){pn+=8,S=y.getUint16(pn,P),y.setUint16(pn,1,P);break}}}catch{S=1}return S}function Je(be){var y=0,S=1,P=1;switch(be){case 2:S=-1;break;case 3:y=-180;break;case 4:P=-1;break;case 5:y=90,P=-1;break;case 6:y=90;break;case 7:y=90,S=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:S,scaleY:P}}var Be={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,S=this.options,P=this.container,ee=this.cropper,re=Number(S.minContainerWidth),de=Number(S.minContainerHeight);At(ee,Fe),Ht(y,Fe);var Ae={width:Math.max(P.offsetWidth,re>=0?re:xn),height:Math.max(P.offsetHeight,de>=0?de:vi)};this.containerData=Ae,_t(ee,{width:Ae.width,height:Ae.height}),At(y,Fe),Ht(ee,Fe)},initCanvas:function(){var y=this.containerData,S=this.imageData,P=this.options.viewMode,ee=Math.abs(S.rotate)%180===90,re=ee?S.naturalHeight:S.naturalWidth,de=ee?S.naturalWidth:S.naturalHeight,Ae=re/de,Xe=y.width,Ke=y.height;y.height*Ae>y.width?P===3?Xe=y.height*Ae:Ke=y.width/Ae:P===3?Ke=y.width/Ae:Xe=y.height*Ae;var Ue={aspectRatio:Ae,naturalWidth:re,naturalHeight:de,width:Xe,height:Ke};this.canvasData=Ue,this.limited=P===1||P===2,this.limitCanvas(!0,!0),Ue.width=Math.min(Math.max(Ue.width,Ue.minWidth),Ue.maxWidth),Ue.height=Math.min(Math.max(Ue.height,Ue.minHeight),Ue.maxHeight),Ue.left=(y.width-Ue.width)/2,Ue.top=(y.height-Ue.height)/2,Ue.oldLeft=Ue.left,Ue.oldTop=Ue.top,this.initialCanvasData=et({},Ue)},limitCanvas:function(y,S){var P=this.options,ee=this.containerData,re=this.canvasData,de=this.cropBoxData,Ae=P.viewMode,Xe=re.aspectRatio,Ke=this.cropped&&de;if(y){var Ue=Number(P.minCanvasWidth)||0,Ze=Number(P.minCanvasHeight)||0;Ae>1?(Ue=Math.max(Ue,ee.width),Ze=Math.max(Ze,ee.height),Ae===3&&(Ze*Xe>Ue?Ue=Ze*Xe:Ze=Ue/Xe)):Ae>0&&(Ue?Ue=Math.max(Ue,Ke?de.width:0):Ze?Ze=Math.max(Ze,Ke?de.height:0):Ke&&(Ue=de.width,Ze=de.height,Ze*Xe>Ue?Ue=Ze*Xe:Ze=Ue/Xe));var ut=er({aspectRatio:Xe,width:Ue,height:Ze});Ue=ut.width,Ze=ut.height,re.minWidth=Ue,re.minHeight=Ze,re.maxWidth=1/0,re.maxHeight=1/0}if(S)if(Ae>(Ke?0:1)){var pn=ee.width-re.width,mn=ee.height-re.height;re.minLeft=Math.min(0,pn),re.minTop=Math.min(0,mn),re.maxLeft=Math.max(0,pn),re.maxTop=Math.max(0,mn),Ke&&this.limited&&(re.minLeft=Math.min(de.left,de.left+(de.width-re.width)),re.minTop=Math.min(de.top,de.top+(de.height-re.height)),re.maxLeft=de.left,re.maxTop=de.top,Ae===2&&(re.width>=ee.width&&(re.minLeft=Math.min(0,pn),re.maxLeft=Math.max(0,pn)),re.height>=ee.height&&(re.minTop=Math.min(0,mn),re.maxTop=Math.max(0,mn))))}else re.minLeft=-re.width,re.minTop=-re.height,re.maxLeft=ee.width,re.maxTop=ee.height},renderCanvas:function(y,S){var P=this.canvasData,ee=this.imageData;if(S){var re=Vn({width:ee.naturalWidth*Math.abs(ee.scaleX||1),height:ee.naturalHeight*Math.abs(ee.scaleY||1),degree:ee.rotate||0}),de=re.width,Ae=re.height,Xe=P.width*(de/P.naturalWidth),Ke=P.height*(Ae/P.naturalHeight);P.left-=(Xe-P.width)/2,P.top-=(Ke-P.height)/2,P.width=Xe,P.height=Ke,P.aspectRatio=de/Ae,P.naturalWidth=de,P.naturalHeight=Ae,this.limitCanvas(!0,!1)}(P.width>P.maxWidth||P.width<P.minWidth)&&(P.left=P.oldLeft),(P.height>P.maxHeight||P.height<P.minHeight)&&(P.top=P.oldTop),P.width=Math.min(Math.max(P.width,P.minWidth),P.maxWidth),P.height=Math.min(Math.max(P.height,P.minHeight),P.maxHeight),this.limitCanvas(!1,!0),P.left=Math.min(Math.max(P.left,P.minLeft),P.maxLeft),P.top=Math.min(Math.max(P.top,P.minTop),P.maxTop),P.oldLeft=P.left,P.oldTop=P.top,_t(this.canvas,et({width:P.width,height:P.height},Pi({translateX:P.left,translateY:P.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var S=this.canvasData,P=this.imageData,ee=P.naturalWidth*(S.width/S.naturalWidth),re=P.naturalHeight*(S.height/S.naturalHeight);et(P,{width:ee,height:re,left:(S.width-ee)/2,top:(S.height-re)/2}),_t(this.image,et({width:P.width,height:P.height},Pi(et({translateX:P.left,translateY:P.top},P)))),y&&this.output()},initCropBox:function(){var y=this.options,S=this.canvasData,P=y.aspectRatio||y.initialAspectRatio,ee=Number(y.autoCropArea)||.8,re={width:S.width,height:S.height};P&&(S.height*P>S.width?re.height=re.width/P:re.width=re.height*P),this.cropBoxData=re,this.limitCropBox(!0,!0),re.width=Math.min(Math.max(re.width,re.minWidth),re.maxWidth),re.height=Math.min(Math.max(re.height,re.minHeight),re.maxHeight),re.width=Math.max(re.minWidth,re.width*ee),re.height=Math.max(re.minHeight,re.height*ee),re.left=S.left+(S.width-re.width)/2,re.top=S.top+(S.height-re.height)/2,re.oldLeft=re.left,re.oldTop=re.top,this.initialCropBoxData=et({},re)},limitCropBox:function(y,S){var P=this.options,ee=this.containerData,re=this.canvasData,de=this.cropBoxData,Ae=this.limited,Xe=P.aspectRatio;if(y){var Ke=Number(P.minCropBoxWidth)||0,Ue=Number(P.minCropBoxHeight)||0,Ze=Ae?Math.min(ee.width,re.width,re.width+re.left,ee.width-re.left):ee.width,ut=Ae?Math.min(ee.height,re.height,re.height+re.top,ee.height-re.top):ee.height;Ke=Math.min(Ke,ee.width),Ue=Math.min(Ue,ee.height),Xe&&(Ke&&Ue?Ue*Xe>Ke?Ue=Ke/Xe:Ke=Ue*Xe:Ke?Ue=Ke/Xe:Ue&&(Ke=Ue*Xe),ut*Xe>Ze?ut=Ze/Xe:Ze=ut*Xe),de.minWidth=Math.min(Ke,Ze),de.minHeight=Math.min(Ue,ut),de.maxWidth=Ze,de.maxHeight=ut}S&&(Ae?(de.minLeft=Math.max(0,re.left),de.minTop=Math.max(0,re.top),de.maxLeft=Math.min(ee.width,re.left+re.width)-de.width,de.maxTop=Math.min(ee.height,re.top+re.height)-de.height):(de.minLeft=0,de.minTop=0,de.maxLeft=ee.width-de.width,de.maxTop=ee.height-de.height))},renderCropBox:function(){var y=this.options,S=this.containerData,P=this.cropBoxData;(P.width>P.maxWidth||P.width<P.minWidth)&&(P.left=P.oldLeft),(P.height>P.maxHeight||P.height<P.minHeight)&&(P.top=P.oldTop),P.width=Math.min(Math.max(P.width,P.minWidth),P.maxWidth),P.height=Math.min(Math.max(P.height,P.minHeight),P.maxHeight),this.limitCropBox(!1,!0),P.left=Math.min(Math.max(P.left,P.minLeft),P.maxLeft),P.top=Math.min(Math.max(P.top,P.minTop),P.maxTop),P.oldLeft=P.left,P.oldTop=P.top,y.movable&&y.cropBoxMovable&&Yt(this.face,Me,P.width>=S.width&&P.height>=S.height?oe:V),_t(this.cropBox,et({width:P.width,height:P.height},Pi({translateX:P.left,translateY:P.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ei(this.element,Ye,this.getData())}},ft={initPreview:function(){var y=this.element,S=this.crossOrigin,P=this.options.preview,ee=S?this.crossOriginUrl:this.url,re=y.alt||"The image to preview",de=document.createElement("img");if(S&&(de.crossOrigin=S),de.src=ee,de.alt=re,this.viewBox.appendChild(de),this.viewBoxImage=de,!!P){var Ae=P;typeof P=="string"?Ae=y.ownerDocument.querySelectorAll(P):P.querySelector&&(Ae=[P]),this.previews=Ae,ln(Ae,function(Xe){var Ke=document.createElement("img");Yt(Xe,G,{width:Xe.offsetWidth,height:Xe.offsetHeight,html:Xe.innerHTML}),S&&(Ke.crossOrigin=S),Ke.src=ee,Ke.alt=re,Ke.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Xe.innerHTML="",Xe.appendChild(Ke)})}},resetPreview:function(){ln(this.previews,function(y){var S=Hn(y,G);_t(y,{width:S.width,height:S.height}),y.innerHTML=S.html,dn(y,G)})},preview:function(){var y=this.imageData,S=this.canvasData,P=this.cropBoxData,ee=P.width,re=P.height,de=y.width,Ae=y.height,Xe=P.left-S.left-y.left,Ke=P.top-S.top-y.top;!this.cropped||this.disabled||(_t(this.viewBoxImage,et({width:de,height:Ae},Pi(et({translateX:-Xe,translateY:-Ke},y)))),ln(this.previews,function(Ue){var Ze=Hn(Ue,G),ut=Ze.width,pn=Ze.height,mn=ut,Un=pn,Ln=1;ee&&(Ln=ut/ee,Un=re*Ln),re&&Un>pn&&(Ln=pn/re,mn=ee*Ln,Un=pn),_t(Ue,{width:mn,height:Un}),_t(Ue.getElementsByTagName("img")[0],et({width:de*Ln,height:Ae*Ln},Pi(et({translateX:-Xe*Ln,translateY:-Ke*Ln},y))))}))}},tn={bind:function(){var y=this.element,S=this.options,P=this.cropper;vn(S.cropstart)&&un(y,wt,S.cropstart),vn(S.cropmove)&&un(y,st,S.cropmove),vn(S.cropend)&&un(y,Ge,S.cropend),vn(S.crop)&&un(y,Ye,S.crop),vn(S.zoom)&&un(y,qe,S.zoom),un(P,Ut,this.onCropStart=this.cropStart.bind(this)),S.zoomable&&S.zoomOnWheel&&un(P,nt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),S.toggleDragModeOnDblclick&&un(P,kt,this.onDblclick=this.dblclick.bind(this)),un(y.ownerDocument,hn,this.onCropMove=this.cropMove.bind(this)),un(y.ownerDocument,vt,this.onCropEnd=this.cropEnd.bind(this)),S.responsive&&un(window,Le,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,S=this.options,P=this.cropper;vn(S.cropstart)&&Pn(y,wt,S.cropstart),vn(S.cropmove)&&Pn(y,st,S.cropmove),vn(S.cropend)&&Pn(y,Ge,S.cropend),vn(S.crop)&&Pn(y,Ye,S.crop),vn(S.zoom)&&Pn(y,qe,S.zoom),Pn(P,Ut,this.onCropStart),S.zoomable&&S.zoomOnWheel&&Pn(P,nt,this.onWheel,{passive:!1,capture:!0}),S.toggleDragModeOnDblclick&&Pn(P,kt,this.onDblclick),Pn(y.ownerDocument,hn,this.onCropMove),Pn(y.ownerDocument,vt,this.onCropEnd),S.responsive&&Pn(window,Le,this.onResize)}},Kn={resize:function(){if(!this.disabled){var y=this.options,S=this.container,P=this.containerData,ee=S.offsetWidth/P.width,re=S.offsetHeight/P.height,de=Math.abs(ee-1)>Math.abs(re-1)?ee:re;if(de!==1){var Ae,Xe;y.restore&&(Ae=this.getCanvasData(),Xe=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(ln(Ae,function(Ke,Ue){Ae[Ue]=Ke*de})),this.setCropBoxData(ln(Xe,function(Ke,Ue){Xe[Ue]=Ke*de})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ie||this.setDragMode(sn(this.dragBox,_e)?we:ge)},wheel:function(y){var S=this,P=Number(this.options.wheelZoomRatio)||.1,ee=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){S.wheeling=!1},50),y.deltaY?ee=y.deltaY>0?1:-1:y.wheelDelta?ee=-y.wheelDelta/120:y.detail&&(ee=y.detail>0?1:-1),this.zoom(-ee*P,y)))},cropStart:function(y){var S=y.buttons,P=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(Tt(S)&&S!==1||Tt(P)&&P!==0||y.ctrlKey))){var ee=this.options,re=this.pointers,de;y.changedTouches?ln(y.changedTouches,function(Ae){re[Ae.identifier]=Si(Ae)}):re[y.pointerId||0]=Si(y),Object.keys(re).length>1&&ee.zoomable&&ee.zoomOnTouch?de=ce:de=Hn(y.target,Me),ii.test(de)&&Ei(this.element,wt,{originalEvent:y,action:de})!==!1&&(y.preventDefault(),this.action=de,this.cropping=!1,de===te&&(this.cropping=!0,At(this.dragBox,Y)))}},cropMove:function(y){var S=this.action;if(!(this.disabled||!S)){var P=this.pointers;y.preventDefault(),Ei(this.element,st,{originalEvent:y,action:S})!==!1&&(y.changedTouches?ln(y.changedTouches,function(ee){et(P[ee.identifier]||{},Si(ee,!0))}):et(P[y.pointerId||0]||{},Si(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var S=this.action,P=this.pointers;y.changedTouches?ln(y.changedTouches,function(ee){delete P[ee.identifier]}):delete P[y.pointerId||0],S&&(y.preventDefault(),Object.keys(P).length||(this.action=""),this.cropping&&(this.cropping=!1,Tn(this.dragBox,Y,this.cropped&&this.options.modal)),Ei(this.element,Ge,{originalEvent:y,action:S}))}}},Rt={change:function(y){var S=this.options,P=this.canvasData,ee=this.containerData,re=this.cropBoxData,de=this.pointers,Ae=this.action,Xe=S.aspectRatio,Ke=re.left,Ue=re.top,Ze=re.width,ut=re.height,pn=Ke+Ze,mn=Ue+ut,Un=0,Ln=0,In=ee.width,bi=ee.height,Ft=!0,ci;!Xe&&y.shiftKey&&(Xe=Ze&&ut?Ze/ut:1),this.limited&&(Un=re.minLeft,Ln=re.minTop,In=Un+Math.min(ee.width,P.width,P.left+P.width),bi=Ln+Math.min(ee.height,P.height,P.top+P.height));var nn=de[Object.keys(de)[0]],ht={x:nn.endX-nn.startX,y:nn.endY-nn.startY},En=function(cr){switch(cr){case fe:pn+ht.x>In&&(ht.x=In-pn);break;case ue:Ke+ht.x<Un&&(ht.x=Un-Ke);break;case pe:Ue+ht.y<Ln&&(ht.y=Ln-Ue);break;case Te:mn+ht.y>bi&&(ht.y=bi-mn);break}};switch(Ae){case V:Ke+=ht.x,Ue+=ht.y;break;case fe:if(ht.x>=0&&(pn>=In||Xe&&(Ue<=Ln||mn>=bi))){Ft=!1;break}En(fe),Ze+=ht.x,Ze<0&&(Ae=ue,Ze=-Ze,Ke-=Ze),Xe&&(ut=Ze/Xe,Ue+=(re.height-ut)/2);break;case pe:if(ht.y<=0&&(Ue<=Ln||Xe&&(Ke<=Un||pn>=In))){Ft=!1;break}En(pe),ut-=ht.y,Ue+=ht.y,ut<0&&(Ae=Te,ut=-ut,Ue-=ut),Xe&&(Ze=ut*Xe,Ke+=(re.width-Ze)/2);break;case ue:if(ht.x<=0&&(Ke<=Un||Xe&&(Ue<=Ln||mn>=bi))){Ft=!1;break}En(ue),Ze-=ht.x,Ke+=ht.x,Ze<0&&(Ae=fe,Ze=-Ze,Ke-=Ze),Xe&&(ut=Ze/Xe,Ue+=(re.height-ut)/2);break;case Te:if(ht.y>=0&&(mn>=bi||Xe&&(Ke<=Un||pn>=In))){Ft=!1;break}En(Te),ut+=ht.y,ut<0&&(Ae=pe,ut=-ut,Ue-=ut),Xe&&(Ze=ut*Xe,Ke+=(re.width-Ze)/2);break;case ie:if(Xe){if(ht.y<=0&&(Ue<=Ln||pn>=In)){Ft=!1;break}En(pe),ut-=ht.y,Ue+=ht.y,Ze=ut*Xe}else En(pe),En(fe),ht.x>=0?pn<In?Ze+=ht.x:ht.y<=0&&Ue<=Ln&&(Ft=!1):Ze+=ht.x,ht.y<=0?Ue>Ln&&(ut-=ht.y,Ue+=ht.y):(ut-=ht.y,Ue+=ht.y);Ze<0&&ut<0?(Ae=me,ut=-ut,Ze=-Ze,Ue-=ut,Ke-=Ze):Ze<0?(Ae=O,Ze=-Ze,Ke-=Ze):ut<0&&(Ae=ae,ut=-ut,Ue-=ut);break;case O:if(Xe){if(ht.y<=0&&(Ue<=Ln||Ke<=Un)){Ft=!1;break}En(pe),ut-=ht.y,Ue+=ht.y,Ze=ut*Xe,Ke+=re.width-Ze}else En(pe),En(ue),ht.x<=0?Ke>Un?(Ze-=ht.x,Ke+=ht.x):ht.y<=0&&Ue<=Ln&&(Ft=!1):(Ze-=ht.x,Ke+=ht.x),ht.y<=0?Ue>Ln&&(ut-=ht.y,Ue+=ht.y):(ut-=ht.y,Ue+=ht.y);Ze<0&&ut<0?(Ae=ae,ut=-ut,Ze=-Ze,Ue-=ut,Ke-=Ze):Ze<0?(Ae=ie,Ze=-Ze,Ke-=Ze):ut<0&&(Ae=me,ut=-ut,Ue-=ut);break;case me:if(Xe){if(ht.x<=0&&(Ke<=Un||mn>=bi)){Ft=!1;break}En(ue),Ze-=ht.x,Ke+=ht.x,ut=Ze/Xe}else En(Te),En(ue),ht.x<=0?Ke>Un?(Ze-=ht.x,Ke+=ht.x):ht.y>=0&&mn>=bi&&(Ft=!1):(Ze-=ht.x,Ke+=ht.x),ht.y>=0?mn<bi&&(ut+=ht.y):ut+=ht.y;Ze<0&&ut<0?(Ae=ie,ut=-ut,Ze=-Ze,Ue-=ut,Ke-=Ze):Ze<0?(Ae=ae,Ze=-Ze,Ke-=Ze):ut<0&&(Ae=O,ut=-ut,Ue-=ut);break;case ae:if(Xe){if(ht.x>=0&&(pn>=In||mn>=bi)){Ft=!1;break}En(fe),Ze+=ht.x,ut=Ze/Xe}else En(Te),En(fe),ht.x>=0?pn<In?Ze+=ht.x:ht.y>=0&&mn>=bi&&(Ft=!1):Ze+=ht.x,ht.y>=0?mn<bi&&(ut+=ht.y):ut+=ht.y;Ze<0&&ut<0?(Ae=O,ut=-ut,Ze=-Ze,Ue-=ut,Ke-=Ze):Ze<0?(Ae=me,Ze=-Ze,Ke-=Ze):ut<0&&(Ae=ie,ut=-ut,Ue-=ut);break;case oe:this.move(ht.x,ht.y),Ft=!1;break;case ce:this.zoom(Nr(de),y),Ft=!1;break;case te:if(!ht.x||!ht.y){Ft=!1;break}ci=Yi(this.cropper),Ke=nn.startX-ci.left,Ue=nn.startY-ci.top,Ze=re.minWidth,ut=re.minHeight,ht.x>0?Ae=ht.y>0?ae:ie:ht.x<0&&(Ke-=Ze,Ae=ht.y>0?me:O),ht.y<0&&(Ue-=ut),this.cropped||(Ht(this.cropBox,Fe),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ft&&(re.width=Ze,re.height=ut,re.left=Ke,re.top=Ue,this.action=Ae,this.renderCropBox()),ln(de,function(fi){fi.startX=fi.endX,fi.startY=fi.endY})}},cn={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&At(this.dragBox,Y),Ht(this.cropBox,Fe),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ht(this.dragBox,Y),At(this.cropBox,Fe)),this},replace:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),S?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,ln(this.previews,function(P){P.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ht(this.cropper,Ve)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,At(this.cropper,Ve)),this},destroy:function(){var y=this.element;return y[I]?(y[I]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,P=this.canvasData,ee=P.left,re=P.top;return this.moveTo(Zt(y)?y:ee+Number(y),Zt(S)?S:re+Number(S))},moveTo:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,P=this.canvasData,ee=!1;return y=Number(y),S=Number(S),this.ready&&!this.disabled&&this.options.movable&&(Tt(y)&&(P.left=y,ee=!0),Tt(S)&&(P.top=S,ee=!0),ee&&this.renderCanvas(!0)),this},zoom:function(y,S){var P=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(P.width*y/P.naturalWidth,null,S)},zoomTo:function(y,S,P){var ee=this.options,re=this.canvasData,de=re.width,Ae=re.height,Xe=re.naturalWidth,Ke=re.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&ee.zoomable){var Ue=Xe*y,Ze=Ke*y;if(Ei(this.element,qe,{ratio:y,oldRatio:de/Xe,originalEvent:P})===!1)return this;if(P){var ut=this.pointers,pn=Yi(this.cropper),mn=ut&&Object.keys(ut).length?lo(ut):{pageX:P.pageX,pageY:P.pageY};re.left-=(Ue-de)*((mn.pageX-pn.left-re.left)/de),re.top-=(Ze-Ae)*((mn.pageY-pn.top-re.top)/Ae)}else oi(S)&&Tt(S.x)&&Tt(S.y)?(re.left-=(Ue-de)*((S.x-re.left)/de),re.top-=(Ze-Ae)*((S.y-re.top)/Ae)):(re.left-=(Ue-de)/2,re.top-=(Ze-Ae)/2);re.width=Ue,re.height=Ze,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),Tt(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var S=this.imageData.scaleY;return this.scale(y,Tt(S)?S:1)},scaleY:function(y){var S=this.imageData.scaleX;return this.scale(Tt(S)?S:1,y)},scale:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,P=this.imageData,ee=!1;return y=Number(y),S=Number(S),this.ready&&!this.disabled&&this.options.scalable&&(Tt(y)&&(P.scaleX=y,ee=!0),Tt(S)&&(P.scaleY=S,ee=!0),ee&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=this.options,P=this.imageData,ee=this.canvasData,re=this.cropBoxData,de;if(this.ready&&this.cropped){de={x:re.left-ee.left,y:re.top-ee.top,width:re.width,height:re.height};var Ae=P.width/P.naturalWidth;if(ln(de,function(Ue,Ze){de[Ze]=Ue/Ae}),y){var Xe=Math.round(de.y+de.height),Ke=Math.round(de.x+de.width);de.x=Math.round(de.x),de.y=Math.round(de.y),de.width=Ke-de.x,de.height=Xe-de.y}}else de={x:0,y:0,width:0,height:0};return S.rotatable&&(de.rotate=P.rotate||0),S.scalable&&(de.scaleX=P.scaleX||1,de.scaleY=P.scaleY||1),de},setData:function(y){var S=this.options,P=this.imageData,ee=this.canvasData,re={};if(this.ready&&!this.disabled&&oi(y)){var de=!1;S.rotatable&&Tt(y.rotate)&&y.rotate!==P.rotate&&(P.rotate=y.rotate,de=!0),S.scalable&&(Tt(y.scaleX)&&y.scaleX!==P.scaleX&&(P.scaleX=y.scaleX,de=!0),Tt(y.scaleY)&&y.scaleY!==P.scaleY&&(P.scaleY=y.scaleY,de=!0)),de&&this.renderCanvas(!0,!0);var Ae=P.width/P.naturalWidth;Tt(y.x)&&(re.left=y.x*Ae+ee.left),Tt(y.y)&&(re.top=y.y*Ae+ee.top),Tt(y.width)&&(re.width=y.width*Ae),Tt(y.height)&&(re.height=y.height*Ae),this.setCropBoxData(re)}return this},getContainerData:function(){return this.ready?et({},this.containerData):{}},getImageData:function(){return this.sized?et({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,S={};return this.ready&&ln(["left","top","width","height","naturalWidth","naturalHeight"],function(P){S[P]=y[P]}),S},setCanvasData:function(y){var S=this.canvasData,P=S.aspectRatio;return this.ready&&!this.disabled&&oi(y)&&(Tt(y.left)&&(S.left=y.left),Tt(y.top)&&(S.top=y.top),Tt(y.width)?(S.width=y.width,S.height=y.width/P):Tt(y.height)&&(S.height=y.height,S.width=y.height*P),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,S;return this.ready&&this.cropped&&(S={left:y.left,top:y.top,width:y.width,height:y.height}),S||{}},setCropBoxData:function(y){var S=this.cropBoxData,P=this.options.aspectRatio,ee,re;return this.ready&&this.cropped&&!this.disabled&&oi(y)&&(Tt(y.left)&&(S.left=y.left),Tt(y.top)&&(S.top=y.top),Tt(y.width)&&y.width!==S.width&&(ee=!0,S.width=y.width),Tt(y.height)&&y.height!==S.height&&(re=!0,S.height=y.height),P&&(ee?S.height=S.width/P:re&&(S.width=S.height*P)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var S=this.canvasData,P=Lt(this.image,this.imageData,S,y);if(!this.cropped)return P;var ee=this.getData(y.rounded),re=ee.x,de=ee.y,Ae=ee.width,Xe=ee.height,Ke=P.width/Math.floor(S.naturalWidth);Ke!==1&&(re*=Ke,de*=Ke,Ae*=Ke,Xe*=Ke);var Ue=Ae/Xe,Ze=er({aspectRatio:Ue,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),ut=er({aspectRatio:Ue,width:y.minWidth||0,height:y.minHeight||0},"cover"),pn=er({aspectRatio:Ue,width:y.width||(Ke!==1?P.width:Ae),height:y.height||(Ke!==1?P.height:Xe)}),mn=pn.width,Un=pn.height;mn=Math.min(Ze.width,Math.max(ut.width,mn)),Un=Math.min(Ze.height,Math.max(ut.height,Un));var Ln=document.createElement("canvas"),In=Ln.getContext("2d");Ln.width=at(mn),Ln.height=at(Un),In.fillStyle=y.fillColor||"transparent",In.fillRect(0,0,mn,Un);var bi=y.imageSmoothingEnabled,Ft=bi===void 0?!0:bi,ci=y.imageSmoothingQuality;In.imageSmoothingEnabled=Ft,ci&&(In.imageSmoothingQuality=ci);var nn=P.width,ht=P.height,En=re,fi=de,cr,Fi,jr,zr,Xt,rn;En<=-Ae||En>nn?(En=0,cr=0,jr=0,Xt=0):En<=0?(jr=-En,En=0,cr=Math.min(nn,Ae+En),Xt=cr):En<=nn&&(jr=0,cr=Math.min(Ae,nn-En),Xt=cr),cr<=0||fi<=-Xe||fi>ht?(fi=0,Fi=0,zr=0,rn=0):fi<=0?(zr=-fi,fi=0,Fi=Math.min(ht,Xe+fi),rn=Fi):fi<=ht&&(zr=0,Fi=Math.min(Xe,ht-fi),rn=Fi);var Ti=[En,fi,cr,Fi];if(Xt>0&&rn>0){var Ir=mn/Ae;Ti.push(jr*Ir,zr*Ir,Xt*Ir,rn*Ir)}return In.drawImage.apply(In,[P].concat(E(Ti.map(function(jo){return Math.floor(at(jo))})))),Ln},setAspectRatio:function(y){var S=this.options;return!this.disabled&&!Zt(y)&&(S.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var S=this.options,P=this.dragBox,ee=this.face;if(this.ready&&!this.disabled){var re=y===ge,de=S.movable&&y===we;y=re||de?y:Ie,S.dragMode=y,Yt(P,Me,y),Tn(P,_e,re),Tn(P,Ce,de),S.cropBoxMovable||(Yt(ee,Me,y),Tn(ee,_e,re),Tn(ee,Ce,de))}return this}},co=T.Cropper,Wt=(function(){function be(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(h(this,be),!y||!gi.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=et({},Gn,oi(S)&&S),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return w(be,[{key:"init",value:function(){var S=this.element,P=S.tagName.toLowerCase(),ee;if(!S[I]){if(S[I]=this,P==="img"){if(this.isImg=!0,ee=S.getAttribute("src")||"",this.originalUrl=ee,!ee)return;ee=S.src}else P==="canvas"&&window.HTMLCanvasElement&&(ee=S.toDataURL());this.load(ee)}}},{key:"load",value:function(S){var P=this;if(S){this.url=S,this.imageData={};var ee=this.element,re=this.options;if(!re.rotatable&&!re.scalable&&(re.checkOrientation=!1),!re.checkOrientation||!window.ArrayBuffer){this.clone();return}if(li.test(S)){qi.test(S)?this.read(K(S)):this.clone();return}var de=new XMLHttpRequest,Ae=this.clone.bind(this);this.reloading=!0,this.xhr=de,de.onabort=Ae,de.onerror=Ae,de.ontimeout=Ae,de.onprogress=function(){de.getResponseHeader("content-type")!==jt&&de.abort()},de.onload=function(){P.read(de.response)},de.onloadend=function(){P.reloading=!1,P.xhr=null},re.checkCrossOrigin&&Jr(S)&&ee.crossOrigin&&(S=kr(S)),de.open("GET",S,!0),de.responseType="arraybuffer",de.withCredentials=ee.crossOrigin==="use-credentials",de.send()}}},{key:"read",value:function(S){var P=this.options,ee=this.imageData,re=Ne(S),de=0,Ae=1,Xe=1;if(re>1){this.url=ve(S,jt);var Ke=Je(re);de=Ke.rotate,Ae=Ke.scaleX,Xe=Ke.scaleY}P.rotatable&&(ee.rotate=de),P.scalable&&(ee.scaleX=Ae,ee.scaleY=Xe),this.clone()}},{key:"clone",value:function(){var S=this.element,P=this.url,ee=S.crossOrigin,re=P;this.options.checkCrossOrigin&&Jr(P)&&(ee||(ee="anonymous"),re=kr(P)),this.crossOrigin=ee,this.crossOriginUrl=re;var de=document.createElement("img");ee&&(de.crossOrigin=ee),de.src=re||P,de.alt=S.alt||"The image to crop",this.image=de,de.onload=this.start.bind(this),de.onerror=this.stop.bind(this),At(de,Ee),S.parentNode.insertBefore(de,S.nextSibling)}},{key:"start",value:function(){var S=this,P=this.image;P.onload=null,P.onerror=null,this.sizing=!0;var ee=T.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(T.navigator.userAgent),re=function(Ke,Ue){et(S.imageData,{naturalWidth:Ke,naturalHeight:Ue,aspectRatio:Ke/Ue}),S.initialImageData=et({},S.imageData),S.sizing=!1,S.sized=!0,S.build()};if(P.naturalWidth&&!ee){re(P.naturalWidth,P.naturalHeight);return}var de=document.createElement("img"),Ae=document.body||document.documentElement;this.sizingImage=de,de.onload=function(){re(de.width,de.height),ee||Ae.removeChild(de)},de.src=P.src,ee||(de.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Ae.appendChild(de))}},{key:"stop",value:function(){var S=this.image;S.onload=null,S.onerror=null,S.parentNode.removeChild(S),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var S=this.element,P=this.options,ee=this.image,re=S.parentNode,de=document.createElement("div");de.innerHTML=Mi;var Ae=de.querySelector(".".concat(I,"-container")),Xe=Ae.querySelector(".".concat(I,"-canvas")),Ke=Ae.querySelector(".".concat(I,"-drag-box")),Ue=Ae.querySelector(".".concat(I,"-crop-box")),Ze=Ue.querySelector(".".concat(I,"-face"));this.container=re,this.cropper=Ae,this.canvas=Xe,this.dragBox=Ke,this.cropBox=Ue,this.viewBox=Ae.querySelector(".".concat(I,"-view-box")),this.face=Ze,Xe.appendChild(ee),At(S,Fe),re.insertBefore(Ae,S.nextSibling),Ht(ee,Ee),this.initPreview(),this.bind(),P.initialAspectRatio=Math.max(0,P.initialAspectRatio)||NaN,P.aspectRatio=Math.max(0,P.aspectRatio)||NaN,P.viewMode=Math.max(0,Math.min(3,Math.round(P.viewMode)))||0,At(Ue,Fe),P.guides||At(Ue.getElementsByClassName("".concat(I,"-dashed")),Fe),P.center||At(Ue.getElementsByClassName("".concat(I,"-center")),Fe),P.background&&At(Ae,"".concat(I,"-bg")),P.highlight||At(Ze,J),P.cropBoxMovable&&(At(Ze,Ce),Yt(Ze,Me,V)),P.cropBoxResizable||(At(Ue.getElementsByClassName("".concat(I,"-line")),Fe),At(Ue.getElementsByClassName("".concat(I,"-point")),Fe)),this.render(),this.ready=!0,this.setDragMode(P.dragMode),P.autoCrop&&this.crop(),this.setData(P.data),vn(P.ready)&&un(S,Ot,P.ready,{once:!0}),Ei(S,Ot)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var S=this.cropper.parentNode;S&&S.removeChild(this.cropper),Ht(this.element,Fe)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=co,be}},{key:"setDefaults",value:function(S){et(Gn,oi(S)&&S)}}])})();return et(Wt.prototype,Be,ft,tn,Kn,Rt,cn),Wt}))})(Ph)),Ph.exports}var qg;function FT(){if(qg)return yh;qg=1,Object.defineProperty(yh,"__esModule",{value:!0});var t=MT,e=u(t),r=PT(),s=u(r);function u(b){return b&&b.__esModule?b:{default:b}}function l(b,w){var x={};for(var E in b)w.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(b,E)&&(x[E]=b[E]);return x}var f=e.default.extend({render:function(w){return w("div",{style:this.containerStyle},[w("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var w=this.$options.props;w.containerStyle,w.src,w.alt,w.imgStyle;var x=l(w,["containerStyle","src","alt","imgStyle"]),E={};for(var N in x)this[N]!==void 0&&(E[N]=this[N]);this.cropper=new s.default(this.$refs.img,E)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(w,x)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(w,x){return this.cropper.move(w,x)},moveTo:function(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;return this.cropper.moveTo(w,x)},relativeZoom:function(w,x){return this.cropper.zoom(w,x)},zoomTo:function(w,x){return this.cropper.zoomTo(w,x)},rotate:function(w){return this.cropper.rotate(w)},rotateTo:function(w){return this.cropper.rotateTo(w)},scaleX:function(w){return this.cropper.scaleX(w)},scaleY:function(w){return this.cropper.scaleY(w)},scale:function(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;return this.cropper.scale(w,x)},getData:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(w)},setData:function(w){return this.cropper.setData(w)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(w){return this.cropper.setCanvasData(w)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(w){return this.cropper.setCropBoxData(w)},getCroppedCanvas:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(w)},setAspectRatio:function(w){return this.cropper.setAspectRatio(w)},setDragMode:function(w){return this.cropper.setDragMode(w)}}}),h=e.default.component("vue-cropper",f);return yh.default=h,yh}FT();const td=typeof window<"u"&&typeof window.document<"u",Pa=td?window:{},jp=td?"ontouchstart"in Pa.document.documentElement:!1,Yp=td?"PointerEvent"in Pa:!1,Ou="cropper",uc=`${Ou}-canvas`,RT=`${Ou}-crosshair`,NT=`${Ou}-grid`,zT=`${Ou}-handle`,ic=`${Ou}-image`,ss=`${Ou}-selection`,IT=`${Ou}-shade`,BT=`${Ou}-viewer`,Uh="select",vb="move",rc="scale",Cp="rotate",Zh="transform",Cu="none",jg="n-resize",Yg="e-resize",Ug="s-resize",Zg="w-resize",jc="ne-resize",Yc="nw-resize",Uc="se-resize",Zc="sw-resize",$T="action",HT=jp?"touchend touchcancel":"mouseup",WT=jp?"touchmove":"mousemove",qT=jp?"touchstart":"mousedown",Gg=Yp?"pointerdown":qT,Xg=Yp?"pointermove":WT,Vg=Yp?"pointerup pointercancel":HT,Kg="error",Qg="keydown",Xl="load",Jg="wheel",oc="action",fl="actionend",jT="actionmove",hl="actionstart",Du="change",Ep="transform";function Fh(t){return typeof t=="string"}const bb=Number.isNaN||Pa.isNaN;function Nn(t){return typeof t=="number"&&!bb(t)}function wo(t){return Nn(t)&&t>0&&t<1/0}function YT(t){return typeof t>"u"}function yb(t){return typeof t=="object"&&t!==null}const{hasOwnProperty:UT}=Object.prototype;function Gh(t){if(!yb(t))return!1;try{const{constructor:e}=t,{prototype:r}=e;return e&&r&&UT.call(r,"isPrototypeOf")}catch{return!1}}function Up(t){return typeof t=="function"}function af(t){return typeof t=="object"&&t!==null&&t.nodeType===1}const ZT=/([a-z\d])([A-Z])/g;function e0(t){return String(t).replace(ZT,"$1-$2").toLowerCase()}const GT=/-[A-z\d]/g;function t0(t){return t.replace(GT,e=>e.slice(1).toUpperCase())}const _b=/\s\s*/;function vr(t,e,r,s){e.trim().split(_b).forEach(u=>{t.removeEventListener(u,r,s)})}function wr(t,e,r,s){e.trim().split(_b).forEach(u=>{t.addEventListener(u,r,s)})}function n0(t,e,r,s){wr(t,e,r,Object.assign(Object.assign({},s),{once:!0}))}const XT={bubbles:!0,cancelable:!0,composed:!0};function VT(t,e,r,s){return t.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign(Object.assign({},XT),{detail:r}),s)))}const i0=Promise.resolve();function KT(t,e){return e?i0.then(t?e.bind(t):e):i0}function r0(t){const{documentElement:e}=t.ownerDocument,r=t.getBoundingClientRect();return{left:r.left+(Pa.pageXOffset-e.clientLeft),top:r.top+(Pa.pageYOffset-e.clientTop)}}const QT=/deg|g?rad|turn$/i;function sp(t){const e=parseFloat(t)||0;if(e!==0){const[r="rad"]=String(t).match(QT)||[];switch(r.toLowerCase()){case"deg":return e/360*(Math.PI*2);case"grad":return e/400*(Math.PI*2);case"turn":return e*(Math.PI*2)}}return e}const o0="contain",JT="cover";function Rh(t,e=o0){const{aspectRatio:r}=t;let{width:s,height:u}=t;const l=wo(s),f=wo(u);if(l&&f){const h=u*r;e===o0&&h>s||e===JT&&h<s?u=s/r:s=u*r}else l?u=s/r:f&&(s=u*r);return{width:s,height:u}}function xb(t,...e){if(e.length===0)return t;const[r,s,u,l,f,h]=t,[b,w,x,E,N,q]=e[0];return t=[r*b+u*w,s*b+l*w,r*x+u*E,s*x+l*E,r*N+u*q+f,s*N+l*q+h],xb(t,...e.slice(1))}var eA=":host([hidden]){display:none!important}";const tA=/left|top|width|height/i,a0="open",_h=new WeakMap,xh=new WeakMap,s0=new Map,u0=Pa.document&&Array.isArray(Pa.document.adoptedStyleSheets)&&"replaceSync"in Pa.CSSStyleSheet.prototype;class Is extends HTMLElement{get $sharedStyle(){return`${this.themeColor?`:host{--theme-color: ${this.themeColor};}`:""}${eA}`}constructor(){var e,r;super(),this.shadowRootMode=a0,this.slottable=!0;const s=(r=(e=Object.getPrototypeOf(this))===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.$name;s&&s0.set(s,this.tagName.toLowerCase())}static get observedAttributes(){return["shadow-root-mode","slottable","theme-color"]}attributeChangedCallback(e,r,s){if(Object.is(s,r))return;const u=t0(e),l=this[u];let f=s;switch(typeof l){case"boolean":f=s!==null&&s!=="false";break;case"number":f=Number(s);break}switch(this[u]=f,e){case"theme-color":{const h=xh.get(this),b=this.$sharedStyle;h&&b&&(u0?h.replaceSync(b):h.textContent=b);break}}}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(e=e0(e),typeof s){case"boolean":s===!0?this.hasAttribute(e)||this.setAttribute(e,""):this.removeAttribute(e);break;case"number":bb(s)?s="":s=String(s);default:s?this.getAttribute(e)!==s&&this.setAttribute(e,s):this.removeAttribute(e)}}connectedCallback(){Object.getPrototypeOf(this).constructor.observedAttributes.forEach(r=>{const s=t0(r);let u=this[s];YT(u)||this.$propertyChangedCallback(s,void 0,u),Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get(){return u},set(l){const f=u;u=l,this.$propertyChangedCallback(s,f,l)}})});const e=this.attachShadow({mode:this.shadowRootMode||a0});if(this.shadowRoot||_h.set(this,e),xh.set(this,this.$addStyles(this.$sharedStyle)),this.$style&&this.$addStyles(this.$style),this.$template){const r=document.createElement("template");r.innerHTML=this.$template,e.appendChild(r.content)}if(this.slottable){const r=document.createElement("slot");e.appendChild(r)}}disconnectedCallback(){xh.has(this)&&xh.delete(this),_h.has(this)&&_h.delete(this)}$getTagNameOf(e){var r;return(r=s0.get(e))!==null&&r!==void 0?r:e}$setStyles(e){return Object.keys(e).forEach(r=>{let s=e[r];Nn(s)&&(s!==0&&tA.test(r)?s=`${s}px`:s=String(s)),this.style[r]=s}),this}$getShadowRoot(){return this.shadowRoot||_h.get(this)}$addStyles(e){let r;const s=this.$getShadowRoot();return u0?(r=new CSSStyleSheet,r.replaceSync(e),s.adoptedStyleSheets=s.adoptedStyleSheets.concat(r)):(r=document.createElement("style"),r.textContent=e,s.appendChild(r)),r}$emit(e,r,s){return VT(this,e,r,s)}$nextTick(e){return KT(this,e)}static $define(e,r){yb(e)&&(r=e,e=""),e||(e=this.$name||this.name),e=e0(e),td&&Pa.customElements&&!Pa.customElements.get(e)&&customElements.define(e,this,r)}}Is.$version="2.0.0";var nA=':host{display:block;min-height:100px;min-width:200px;overflow:hidden;position:relative;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([background]){background-color:#fff;background-image:repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc),repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc);background-image:repeating-conic-gradient(#ccc 0 25%,#fff 0 50%);background-position:0 0,.5rem .5rem;background-size:1rem 1rem}:host([disabled]){pointer-events:none}:host([disabled]):after{bottom:0;content:"";cursor:not-allowed;display:block;left:0;pointer-events:none;position:absolute;right:0;top:0}';class Zp extends Is{constructor(){super(...arguments),this.$onPointerDown=null,this.$onPointerMove=null,this.$onPointerUp=null,this.$onWheel=null,this.$wheeling=!1,this.$pointers=new Map,this.$style=nA,this.$action=Cu,this.background=!1,this.disabled=!1,this.scaleStep=.1,this.themeColor="#39f"}static get observedAttributes(){return super.observedAttributes.concat(["background","disabled","scale-step"])}connectedCallback(){super.connectedCallback(),this.disabled||this.$bind()}disconnectedCallback(){this.disabled||this.$unbind(),super.disconnectedCallback()}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(super.$propertyChangedCallback(e,r,s),e){case"disabled":s?this.$unbind():this.$bind();break}}$bind(){this.$onPointerDown||(this.$onPointerDown=this.$handlePointerDown.bind(this),wr(this,Gg,this.$onPointerDown)),this.$onPointerMove||(this.$onPointerMove=this.$handlePointerMove.bind(this),wr(this.ownerDocument,Xg,this.$onPointerMove)),this.$onPointerUp||(this.$onPointerUp=this.$handlePointerUp.bind(this),wr(this.ownerDocument,Vg,this.$onPointerUp)),this.$onWheel||(this.$onWheel=this.$handleWheel.bind(this),wr(this,Jg,this.$onWheel,{passive:!1,capture:!0}))}$unbind(){this.$onPointerDown&&(vr(this,Gg,this.$onPointerDown),this.$onPointerDown=null),this.$onPointerMove&&(vr(this.ownerDocument,Xg,this.$onPointerMove),this.$onPointerMove=null),this.$onPointerUp&&(vr(this.ownerDocument,Vg,this.$onPointerUp),this.$onPointerUp=null),this.$onWheel&&(vr(this,Jg,this.$onWheel,{capture:!0}),this.$onWheel=null)}$handlePointerDown(e){const{buttons:r,button:s,type:u}=e;if(this.disabled||(u==="pointerdown"&&e.pointerType==="mouse"||u==="mousedown")&&(Nn(r)&&r!==1||Nn(s)&&s!==0||e.ctrlKey))return;const{$pointers:l}=this;let f="";if(e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:h,pageX:b,pageY:w})=>{l.set(h,{startX:b,startY:w,endX:b,endY:w})});else{const{pointerId:h=0,pageX:b,pageY:w}=e;l.set(h,{startX:b,startY:w,endX:b,endY:w})}l.size>1?f=Zh:af(e.target)&&(f=e.target.action||e.target.getAttribute($T)||""),this.$emit(hl,{action:f,relatedEvent:e})!==!1&&(e.preventDefault(),this.$action=f,this.style.willChange="transform")}$handlePointerMove(e){const{$action:r,$pointers:s}=this;if(this.disabled||r===Cu||s.size===0||this.$emit(jT,{action:r,relatedEvent:e})===!1)return;if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:l,pageX:f,pageY:h})=>{const b=s.get(l);b&&Object.assign(b,{endX:f,endY:h})});else{const{pointerId:l=0,pageX:f,pageY:h}=e,b=s.get(l);b&&Object.assign(b,{endX:f,endY:h})}const u={action:r,relatedEvent:e};if(r===Zh){const l=new Map(s);let f=0,h=0,b=0,w=0,x=e.pageX,E=e.pageY;s.forEach((F,j)=>{l.delete(j),l.forEach(W=>{let U=W.startX-F.startX,T=W.startY-F.startY,D=W.endX-F.endX,B=W.endY-F.endY,I=0,V=0,te=0,oe=0;if(U===0?T<0?te=Math.PI*2:T>0&&(te=Math.PI):U>0?te=Math.PI/2+Math.atan(T/U):U<0&&(te=Math.PI*1.5+Math.atan(T/U)),D===0?B<0?oe=Math.PI*2:B>0&&(oe=Math.PI):D>0?oe=Math.PI/2+Math.atan(B/D):D<0&&(oe=Math.PI*1.5+Math.atan(B/D)),oe>0||te>0){const ce=oe-te,fe=Math.abs(ce);fe>f&&(f=fe,b=ce,x=(F.startX+W.startX)/2,E=(F.startY+W.startY)/2)}if(U=Math.abs(U),T=Math.abs(T),D=Math.abs(D),B=Math.abs(B),U>0&&T>0?I=Math.sqrt(U*U+T*T):U>0?I=U:T>0&&(I=T),D>0&&B>0?V=Math.sqrt(D*D+B*B):D>0?V=D:B>0&&(V=B),I>0&&V>0){const ce=(V-I)/I,fe=Math.abs(ce);fe>h&&(h=fe,w=ce,x=(F.startX+W.startX)/2,E=(F.startY+W.startY)/2)}})});const N=f>0,q=h>0;N&&q?(u.rotate=b,u.scale=w,u.centerX=x,u.centerY=E):N?(u.action=Cp,u.rotate=b,u.centerX=x,u.centerY=E):q?(u.action=rc,u.scale=w,u.centerX=x,u.centerY=E):u.action=Cu}else{const[l]=Array.from(s.values());Object.assign(u,l)}s.forEach(l=>{l.startX=l.endX,l.startY=l.endY}),u.action!==Cu&&this.$emit(oc,u,{cancelable:!1})}$handlePointerUp(e){const{$action:r,$pointers:s}=this;if(!(this.disabled||r===Cu)&&this.$emit(fl,{action:r,relatedEvent:e})!==!1){if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:u})=>{s.delete(u)});else{const{pointerId:u=0}=e;s.delete(u)}s.size===0&&(this.style.willChange="",this.$action=Cu)}}$handleWheel(e){if(this.disabled||(e.preventDefault(),this.$wheeling))return;this.$wheeling=!0,setTimeout(()=>{this.$wheeling=!1},50);const s=(e.deltaY>0?-1:1)*this.scaleStep;this.$emit(oc,{action:rc,scale:s,relatedEvent:e},{cancelable:!1})}$setAction(e){return Fh(e)&&(this.$action=e),this}$toCanvas(e){return new Promise((r,s)=>{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const u=document.createElement("canvas");let l=this.offsetWidth,f=this.offsetHeight,h=1;Gh(e)&&(wo(e.width)||wo(e.height))&&({width:l,height:f}=Rh({aspectRatio:l/f,width:e.width,height:e.height}),h=l/this.offsetWidth),u.width=l,u.height=f;const b=this.querySelector(this.$getTagNameOf(ic));if(!b){r(u);return}b.$ready().then(w=>{const x=u.getContext("2d");if(x){const[E,N,q,F,j,W]=b.$getTransform();let U=j,T=W,D=w.naturalWidth,B=w.naturalHeight;h!==1&&(U*=h,T*=h,D*=h,B*=h);const I=D/2,V=B/2;x.fillStyle="transparent",x.fillRect(0,0,l,f),Gh(e)&&Up(e.beforeDraw)&&e.beforeDraw.call(this,x,u),x.save(),x.translate(I,V),x.transform(E,N,q,F,U,T),x.translate(-I,-V),x.drawImage(w,0,0,D,B),x.restore()}r(u)}).catch(s)})}}Zp.$name=uc;Zp.$version="2.0.0";var iA=":host{display:inline-block}img{display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}";const l0=new WeakMap,c0=["alt","crossorigin","decoding","importance","loading","referrerpolicy","sizes","src","srcset"];class Gp extends Is{constructor(){super(...arguments),this.$matrix=[1,0,0,1,0,0],this.$onLoad=null,this.$onCanvasAction=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$actionStartTarget=null,this.$style=iA,this.$image=new Image,this.initialCenterSize="contain",this.rotatable=!1,this.scalable=!1,this.skewable=!1,this.slottable=!1,this.translatable=!1}set $canvas(e){l0.set(this,e)}get $canvas(){return l0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(c0,["initial-center-size","rotatable","scalable","skewable","translatable"])}attributeChangedCallback(e,r,s){Object.is(s,r)||(super.attributeChangedCallback(e,r,s),c0.includes(e)&&this.$image.setAttribute(e,s))}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(super.$propertyChangedCallback(e,r,s),e){case"initialCenterSize":this.$nextTick(()=>{this.$center(s)});break}}connectedCallback(){super.connectedCallback();const{$image:e}=this,r=this.closest(this.$getTagNameOf(uc));r&&(this.$canvas=r,this.$setStyles({display:"block",position:"absolute"}),this.$onCanvasActionStart=s=>{var u,l;this.$actionStartTarget=(l=(u=s.detail)===null||u===void 0?void 0:u.relatedEvent)===null||l===void 0?void 0:l.target},this.$onCanvasActionEnd=()=>{this.$actionStartTarget=null},this.$onCanvasAction=this.$handleAction.bind(this),wr(r,hl,this.$onCanvasActionStart),wr(r,fl,this.$onCanvasActionEnd),wr(r,oc,this.$onCanvasAction)),this.$onLoad=this.$handleLoad.bind(this),wr(e,Xl,this.$onLoad),this.$getShadowRoot().appendChild(e)}disconnectedCallback(){const{$image:e,$canvas:r}=this;r&&(this.$onCanvasActionStart&&(vr(r,hl,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(vr(r,fl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(vr(r,oc,this.$onCanvasAction),this.$onCanvasAction=null)),e&&this.$onLoad&&(vr(e,Xl,this.$onLoad),this.$onLoad=null),this.$getShadowRoot().removeChild(e),super.disconnectedCallback()}$handleLoad(){const{$image:e}=this;this.$setStyles({width:e.naturalWidth,height:e.naturalHeight}),this.$canvas&&this.$center(this.initialCenterSize)}$handleAction(e){if(this.hidden||!(this.rotatable||this.scalable||this.translatable))return;const{$canvas:r}=this,{detail:s}=e;if(s){const{relatedEvent:u}=s;let{action:l}=s;switch(l===Zh&&(!this.rotatable||!this.scalable)&&(this.rotatable?l=Cp:this.scalable?l=rc:l=Cu),l){case vb:if(this.translatable){let f=null;u&&(f=u.target.closest(this.$getTagNameOf(ss))),f||(f=r.querySelector(this.$getTagNameOf(ss))),f&&f.multiple&&!f.active&&(f=r.querySelector(`${this.$getTagNameOf(ss)}[active]`)),(!f||f.hidden||!f.movable||f.dynamic||!(this.$actionStartTarget&&f.contains(this.$actionStartTarget)))&&this.$move(s.endX-s.startX,s.endY-s.startY)}break;case Cp:if(this.rotatable)if(u){const{x:f,y:h}=this.getBoundingClientRect();this.$rotate(s.rotate,u.clientX-f,u.clientY-h)}else this.$rotate(s.rotate);break;case rc:if(this.scalable)if(u){const f=u.target.closest(this.$getTagNameOf(ss));if(!f||!f.zoomable||f.zoomable&&f.dynamic){const{x:h,y:b}=this.getBoundingClientRect();this.$zoom(s.scale,u.clientX-h,u.clientY-b)}}else this.$zoom(s.scale);break;case Zh:if(this.rotatable&&this.scalable){const{rotate:f}=s;let{scale:h}=s;h<0?h=1/(1-h):h+=1;const b=Math.cos(f),w=Math.sin(f),[x,E,N,q]=[b*h,w*h,-w*h,b*h];if(u){const F=this.getBoundingClientRect(),j=u.clientX-F.x,W=u.clientY-F.y,[U,T,D,B]=this.$matrix,I=F.width/2,V=F.height/2,te=j-I,oe=W-V,ce=(te*B-D*oe)/(U*B-D*T),fe=(oe*U-T*te)/(U*B-D*T);this.$transform(x,E,N,q,ce*(1-x)+fe*N,fe*(1-q)+ce*E)}else this.$transform(x,E,N,q,0,0)}break}}}$ready(e){const{$image:r}=this,s=new Promise((u,l)=>{const f=new Error("Failed to load the image source");if(r.complete)r.naturalWidth>0&&r.naturalHeight>0?u(r):l(f);else{const h=()=>{vr(r,Kg,b),u(r)},b=()=>{vr(r,Xl,h),l(f)};n0(r,Xl,h),n0(r,Kg,b)}});return Up(e)&&s.then(u=>(e(u),u)),s}$center(e){const{parentElement:r}=this;if(!r)return this;const s=r.getBoundingClientRect(),u=s.width,l=s.height,{x:f,y:h,width:b,height:w}=this.getBoundingClientRect(),x=f+b/2,E=h+w/2,N=s.x+u/2,q=s.y+l/2;if(this.$move(N-x,q-E),e&&(b!==u||w!==l)){const F=u/b,j=l/w;switch(e){case"cover":this.$scale(Math.max(F,j));break;case"contain":this.$scale(Math.min(F,j));break}}return this}$move(e,r=e){if(this.translatable&&Nn(e)&&Nn(r)){const[s,u,l,f]=this.$matrix,h=(e*f-l*r)/(s*f-l*u),b=(r*s-u*e)/(s*f-l*u);this.$translate(h,b)}return this}$moveTo(e,r=e){if(this.translatable&&Nn(e)&&Nn(r)){const[s,u,l,f]=this.$matrix,h=(e*f-l*r)/(s*f-l*u),b=(r*s-u*e)/(s*f-l*u);this.$setTransform(s,u,l,f,h,b)}return this}$rotate(e,r,s){if(this.rotatable){const u=sp(e),l=Math.cos(u),f=Math.sin(u),[h,b,w,x]=[l,f,-f,l];if(Nn(r)&&Nn(s)){const[E,N,q,F]=this.$matrix,{width:j,height:W}=this.getBoundingClientRect(),U=j/2,T=W/2,D=r-U,B=s-T,I=(D*F-q*B)/(E*F-q*N),V=(B*E-N*D)/(E*F-q*N);this.$transform(h,b,w,x,I*(1-h)-V*w,V*(1-x)-I*b)}else this.$transform(h,b,w,x,0,0)}return this}$zoom(e,r,s){if(!this.scalable||e===0)return this;if(e<0?e=1/(1-e):e+=1,Nn(r)&&Nn(s)){const[u,l,f,h]=this.$matrix,{width:b,height:w}=this.getBoundingClientRect(),x=b/2,E=w/2,N=r-x,q=s-E,F=(N*h-f*q)/(u*h-f*l),j=(q*u-l*N)/(u*h-f*l);this.$transform(e,0,0,e,F*(1-e),j*(1-e))}else this.$scale(e);return this}$scale(e,r=e){return this.scalable&&this.$transform(e,0,0,r,0,0),this}$skew(e,r=0){if(this.skewable){const s=sp(e),u=sp(r);this.$transform(1,Math.tan(u),Math.tan(s),1,0,0)}return this}$translate(e,r=e){return this.translatable&&Nn(e)&&Nn(r)&&this.$transform(1,0,0,1,e,r),this}$transform(e,r,s,u,l,f){return Nn(e)&&Nn(r)&&Nn(s)&&Nn(u)&&Nn(l)&&Nn(f)?this.$setTransform(xb(this.$matrix,[e,r,s,u,l,f])):this}$setTransform(e,r,s,u,l,f){if((this.rotatable||this.scalable||this.skewable||this.translatable)&&(Array.isArray(e)&&([e,r,s,u,l,f]=e),Nn(e)&&Nn(r)&&Nn(s)&&Nn(u)&&Nn(l)&&Nn(f))){const h=[...this.$matrix],b=[e,r,s,u,l,f];if(this.$emit(Ep,{matrix:b,oldMatrix:h})===!1)return this;this.$matrix=b,this.style.transform=`matrix(${b.join(", ")})`}return this}$getTransform(){return this.$matrix.slice()}$resetTransform(){return this.$setTransform([1,0,0,1,0,0])}}Gp.$name=ic;Gp.$version="2.0.0";var rA=":host{display:block;height:0;left:0;outline:var(--theme-color) solid 1px;position:relative;top:0;width:0}:host([transparent]){outline-color:transparent}";const f0=new WeakMap;class Xp extends Is{constructor(){super(...arguments),this.$onCanvasChange=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$style=rA,this.x=0,this.y=0,this.width=0,this.height=0,this.slottable=!1,this.themeColor="rgba(0, 0, 0, 0.65)"}set $canvas(e){f0.set(this,e)}get $canvas(){return f0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["height","width","x","y"])}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(uc));if(e){this.$canvas=e,this.style.position="absolute";const r=e.querySelector(this.$getTagNameOf(ss));r&&(this.$onCanvasActionStart=s=>{r.hidden&&s.detail.action===Uh&&(this.hidden=!1)},this.$onCanvasActionEnd=s=>{r.hidden&&s.detail.action===Uh&&(this.hidden=!0)},this.$onCanvasChange=s=>{const{x:u,y:l,width:f,height:h}=s.detail;this.$change(u,l,f,h),(r.hidden||u===0&&l===0&&f===0&&h===0)&&(this.hidden=!0)},wr(e,hl,this.$onCanvasActionStart),wr(e,fl,this.$onCanvasActionEnd),wr(e,Du,this.$onCanvasChange))}this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(vr(e,hl,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(vr(e,fl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasChange&&(vr(e,Du,this.$onCanvasChange),this.$onCanvasChange=null)),super.disconnectedCallback()}$change(e,r,s=this.width,u=this.height){return!Nn(e)||!Nn(r)||!Nn(s)||!Nn(u)||e===this.x&&r===this.y&&s===this.width&&u===this.height?this:(this.hidden&&(this.hidden=!1),this.x=e,this.y=r,this.width=s,this.height=u,this.$render())}$reset(){return this.$change(0,0,0,0)}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height,outlineWidth:Pa.innerWidth})}}Xp.$name=IT;Xp.$version="2.0.0";var oA=':host{background-color:var(--theme-color);display:block}:host([action=move]),:host([action=select]){height:100%;left:0;position:absolute;top:0;width:100%}:host([action=move]){cursor:move}:host([action=select]){cursor:crosshair}:host([action$=-resize]){background-color:transparent;height:15px;position:absolute;width:15px}:host([action$=-resize]):after{background-color:var(--theme-color);content:"";display:block;height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:5px}:host([action=n-resize]),:host([action=s-resize]){cursor:ns-resize;left:50%;transform:translateX(-50%);width:100%}:host([action=n-resize]){top:-8px}:host([action=s-resize]){bottom:-8px}:host([action=e-resize]),:host([action=w-resize]){cursor:ew-resize;height:100%;top:50%;transform:translateY(-50%)}:host([action=e-resize]){right:-8px}:host([action=w-resize]){left:-8px}:host([action=ne-resize]){cursor:nesw-resize;right:-8px;top:-8px}:host([action=nw-resize]){cursor:nwse-resize;left:-8px;top:-8px}:host([action=se-resize]){bottom:-8px;cursor:nwse-resize;right:-8px}:host([action=se-resize]):after{height:15px;width:15px}@media (pointer:coarse){:host([action=se-resize]):after{height:10px;width:10px}}@media (pointer:fine){:host([action=se-resize]):after{height:5px;width:5px}}:host([action=sw-resize]){bottom:-8px;cursor:nesw-resize;left:-8px}:host([plain]){background-color:transparent}';class Vp extends Is{constructor(){super(...arguments),this.$onCanvasCropEnd=null,this.$onCanvasCropStart=null,this.$style=oA,this.action=Cu,this.plain=!1,this.slottable=!1,this.themeColor="rgba(51, 153, 255, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["action","plain"])}}Vp.$name=zT;Vp.$version="2.0.0";var aA=':host{display:block;left:0;position:relative;right:0}:host([outlined]){outline:1px solid var(--theme-color)}:host([multiple]){outline:1px dashed hsla(0,0%,100%,.5)}:host([multiple]):after{bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0}:host([multiple][active]){outline-color:var(--theme-color);z-index:1}:host([multiple])>*{visibility:hidden}:host([multiple][active])>*{visibility:visible}:host([multiple][active]):after{display:none}';const h0=new WeakMap;class Kp extends Is{constructor(){super(...arguments),this.$onCanvasAction=null,this.$onCanvasActionStart=null,this.$onCanvasActionEnd=null,this.$onDocumentKeyDown=null,this.$action="",this.$actionStartTarget=null,this.$changing=!1,this.$style=aA,this.$initialSelection={x:0,y:0,width:0,height:0},this.x=0,this.y=0,this.width=0,this.height=0,this.aspectRatio=NaN,this.initialAspectRatio=NaN,this.initialCoverage=NaN,this.active=!1,this.linked=!1,this.dynamic=!1,this.movable=!1,this.resizable=!1,this.zoomable=!1,this.multiple=!1,this.keyboard=!1,this.outlined=!1,this.precise=!1}set $canvas(e){h0.set(this,e)}get $canvas(){return h0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["active","aspect-ratio","dynamic","height","initial-aspect-ratio","initial-coverage","keyboard","linked","movable","multiple","outlined","precise","resizable","width","x","y","zoomable"])}$propertyChangedCallback(e,r,s){if(!Object.is(s,r))switch(super.$propertyChangedCallback(e,r,s),e){case"x":case"y":case"width":case"height":this.$changing||this.$nextTick(()=>{this.$change(this.x,this.y,this.width,this.height,this.aspectRatio,!0)});break;case"aspectRatio":case"initialAspectRatio":this.$nextTick(()=>{this.$initSelection()});break;case"initialCoverage":this.$nextTick(()=>{wo(s)&&s<=1&&this.$initSelection(!0,!0)});break;case"keyboard":this.$nextTick(()=>{this.$canvas&&(s?this.$onDocumentKeyDown||(this.$onDocumentKeyDown=this.$handleKeyDown.bind(this),wr(this.ownerDocument,Qg,this.$onDocumentKeyDown)):this.$onDocumentKeyDown&&(vr(this.ownerDocument,Qg,this.$onDocumentKeyDown),this.$onDocumentKeyDown=null))});break;case"multiple":this.$nextTick(()=>{if(this.$canvas){const u=this.$getSelections();s?(u.forEach(l=>{l.active=!1}),this.active=!0,this.$emit(Du,{x:this.x,y:this.y,width:this.width,height:this.height})):(this.active=!1,u.slice(1).forEach(l=>{this.$removeSelection(l)}))}});break;case"precise":this.$nextTick(()=>{this.$change(this.x,this.y)});break;case"linked":s&&(this.dynamic=!0);break}}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(uc));e?(this.$canvas=e,this.$setStyles({position:"absolute",transform:`translate(${this.x}px, ${this.y}px)`}),this.hidden||this.$render(),this.$initSelection(!0),this.$onCanvasActionStart=this.$handleActionStart.bind(this),this.$onCanvasActionEnd=this.$handleActionEnd.bind(this),this.$onCanvasAction=this.$handleAction.bind(this),wr(e,hl,this.$onCanvasActionStart),wr(e,fl,this.$onCanvasActionEnd),wr(e,oc,this.$onCanvasAction)):this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(vr(e,hl,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(vr(e,fl,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(vr(e,oc,this.$onCanvasAction),this.$onCanvasAction=null)),super.disconnectedCallback()}$getSelections(){let e=[];return this.parentElement&&(e=Array.from(this.parentElement.querySelectorAll(this.$getTagNameOf(ss)))),e}$initSelection(e=!1,r=!1){const{initialCoverage:s,parentElement:u}=this;if(wo(s)&&u){const l=this.aspectRatio||this.initialAspectRatio;let f=(r?0:this.width)||u.offsetWidth*s,h=(r?0:this.height)||u.offsetHeight*s;wo(l)&&({width:f,height:h}=Rh({aspectRatio:l,width:f,height:h})),this.$change(this.x,this.y,f,h),e&&this.$center(),this.$initialSelection={x:this.x,y:this.y,width:this.width,height:this.height}}}$createSelection(){const e=this.cloneNode(!0);return this.hasAttribute("id")&&e.removeAttribute("id"),e.initialCoverage=NaN,this.active=!1,this.parentElement&&this.parentElement.insertBefore(e,this.nextSibling),e}$removeSelection(e=this){if(this.parentElement){const r=this.$getSelections();if(r.length>1){const s=r.indexOf(e),u=r[s+1]||r[s-1];u&&(e.active=!1,this.parentElement.removeChild(e),u.active=!0,u.$emit(Du,{x:u.x,y:u.y,width:u.width,height:u.height}))}else this.$clear()}}$handleActionStart(e){var r,s;const u=(s=(r=e.detail)===null||r===void 0?void 0:r.relatedEvent)===null||s===void 0?void 0:s.target;this.$action="",this.$actionStartTarget=u,!this.hidden&&this.multiple&&!this.active&&u===this&&this.parentElement&&(this.$getSelections().forEach(l=>{l.active=!1}),this.active=!0,this.$emit(Du,{x:this.x,y:this.y,width:this.width,height:this.height}))}$handleAction(e){const{currentTarget:r,detail:s}=e;if(!r||!s)return;const{relatedEvent:u}=s;let{action:l}=s;if(!l&&this.multiple&&(l=this.$action||u?.target.action,this.$action=l),!l||this.hidden&&l!==Uh||this.multiple&&!this.active&&l!==rc)return;const f=s.endX-s.startX,h=s.endY-s.startY,{width:b,height:w}=this;let{aspectRatio:x}=this;switch(!wo(x)&&u.shiftKey&&(x=wo(b)&&wo(w)?b/w:1),l){case Uh:if(f!==0&&h!==0){const{$canvas:E}=this,N=r0(r);(this.multiple&&!this.hidden?this.$createSelection():this).$change(s.startX-N.left,s.startY-N.top,Math.abs(f),Math.abs(h),x),f<0?h<0?l=Yc:h>0&&(l=Zc):f>0&&(h<0?l=jc:h>0&&(l=Uc)),E&&(E.$action=l)}break;case vb:this.movable&&(this.dynamic||this.$actionStartTarget&&this.contains(this.$actionStartTarget))&&this.$move(f,h);break;case rc:if(u&&this.zoomable&&(this.dynamic||this.contains(u.target))){const E=r0(r);this.$zoom(s.scale,u.pageX-E.left,u.pageY-E.top)}break;default:this.$resize(l,f,h,x)}}$handleActionEnd(){this.$action="",this.$actionStartTarget=null}$handleKeyDown(e){if(this.hidden||!this.keyboard||this.multiple&&!this.active||e.defaultPrevented)return;const{activeElement:r}=document;if(!(r&&(["INPUT","TEXTAREA"].includes(r.tagName)||["true","plaintext-only"].includes(r.contentEditable))))switch(e.key){case"Backspace":e.metaKey&&(e.preventDefault(),this.$removeSelection());break;case"Delete":e.preventDefault(),this.$removeSelection();break;case"ArrowLeft":e.preventDefault(),this.$move(-1,0);break;case"ArrowRight":e.preventDefault(),this.$move(1,0);break;case"ArrowUp":e.preventDefault(),this.$move(0,-1);break;case"ArrowDown":e.preventDefault(),this.$move(0,1);break;case"+":e.preventDefault(),this.$zoom(.1);break;case"-":e.preventDefault(),this.$zoom(-.1);break}}$center(){const{parentElement:e}=this;if(!e)return this;const r=(e.offsetWidth-this.width)/2,s=(e.offsetHeight-this.height)/2;return this.$change(r,s)}$move(e,r=e){return this.$moveTo(this.x+e,this.y+r)}$moveTo(e,r=e){return this.movable?this.$change(e,r):this}$resize(e,r=0,s=0,u=this.aspectRatio){if(!this.resizable)return this;const l=wo(u),{$canvas:f}=this;let{x:h,y:b,width:w,height:x}=this;switch(e){case jg:b+=s,x-=s,x<0&&(e=Ug,x=-x,b-=x),l&&(r=s*u,h+=r/2,w-=r,w<0&&(w=-w,h-=w));break;case Yg:w+=r,w<0&&(e=Zg,w=-w,h-=w),l&&(s=r/u,b-=s/2,x+=s,x<0&&(x=-x,b-=x));break;case Ug:x+=s,x<0&&(e=jg,x=-x,b-=x),l&&(r=s*u,h-=r/2,w+=r,w<0&&(w=-w,h-=w));break;case Zg:h+=r,w-=r,w<0&&(e=Yg,w=-w,h-=w),l&&(s=r/u,b+=s/2,x-=s,x<0&&(x=-x,b-=x));break;case jc:l&&(s=-r/u),b+=s,x-=s,w+=r,w<0&&x<0?(e=Zc,w=-w,x=-x,h-=w,b-=x):w<0?(e=Yc,w=-w,h-=w):x<0&&(e=Uc,x=-x,b-=x);break;case Yc:l&&(s=r/u),h+=r,b+=s,w-=r,x-=s,w<0&&x<0?(e=Uc,w=-w,x=-x,h-=w,b-=x):w<0?(e=jc,w=-w,h-=w):x<0&&(e=Zc,x=-x,b-=x);break;case Uc:l&&(s=r/u),w+=r,x+=s,w<0&&x<0?(e=Yc,w=-w,x=-x,h-=w,b-=x):w<0?(e=Zc,w=-w,h-=w):x<0&&(e=jc,x=-x,b-=x);break;case Zc:l&&(s=-r/u),h+=r,w-=r,x+=s,w<0&&x<0?(e=jc,w=-w,x=-x,h-=w,b-=x):w<0?(e=Uc,w=-w,h-=w):x<0&&(e=Yc,x=-x,b-=x);break}return f&&f.$setAction(e),this.$change(h,b,w,x)}$zoom(e,r,s){if(!this.zoomable||e===0)return this;e<0?e=1/(1-e):e+=1;const{width:u,height:l}=this,f=u*e,h=l*e;let b=this.x,w=this.y;return Nn(r)&&Nn(s)?(b-=(f-u)*((r-this.x)/u),w-=(h-l)*((s-this.y)/l)):(b-=(f-u)/2,w-=(h-l)/2),this.$change(b,w,f,h)}$change(e,r,s=this.width,u=this.height,l=this.aspectRatio,f=!1){return this.$changing||!Nn(e)||!Nn(r)||!Nn(s)||!Nn(u)||s<0||u<0?this:(wo(l)&&({width:s,height:u}=Rh({aspectRatio:l,width:s,height:u},"cover")),this.precise||(e=Math.round(e),r=Math.round(r),s=Math.round(s),u=Math.round(u)),e===this.x&&r===this.y&&s===this.width&&u===this.height&&Object.is(l,this.aspectRatio)&&!f?this:(this.hidden&&(this.hidden=!1),this.$emit(Du,{x:e,y:r,width:s,height:u})===!1?this:(this.$changing=!0,this.x=e,this.y=r,this.width=s,this.height=u,this.$changing=!1,this.$render())))}$reset(){const{x:e,y:r,width:s,height:u}=this.$initialSelection;return this.$change(e,r,s,u)}$clear(){return this.$change(0,0,0,0,NaN,!0),this.hidden=!0,this}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height})}$toCanvas(e){return new Promise((r,s)=>{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const u=document.createElement("canvas");let{width:l,height:f}=this,h=1;if(Gh(e)&&(wo(e.width)||wo(e.height))&&({width:l,height:f}=Rh({aspectRatio:l/f,width:e.width,height:e.height}),h=l/this.width),u.width=l,u.height=f,!this.$canvas){r(u);return}const b=this.$canvas.querySelector(this.$getTagNameOf(ic));if(!b){r(u);return}b.$ready().then(w=>{const x=u.getContext("2d");if(x){const[E,N,q,F,j,W]=b.$getTransform(),U=-this.x,T=-this.y,D=(U*F-q*T)/(E*F-q*N),B=(T*E-N*U)/(E*F-q*N);let I=E*D+q*B+j,V=N*D+F*B+W,te=w.naturalWidth,oe=w.naturalHeight;h!==1&&(I*=h,V*=h,te*=h,oe*=h);const ce=te/2,fe=oe/2;x.fillStyle="transparent",x.fillRect(0,0,l,f),Gh(e)&&Up(e.beforeDraw)&&e.beforeDraw.call(this,x,u),x.save(),x.translate(ce,fe),x.transform(E,N,q,F,I,V),x.translate(-ce,-fe),x.drawImage(w,0,0,te,oe),x.restore()}r(u)}).catch(s)})}}Kp.$name=ss;Kp.$version="2.0.0";var sA=":host{display:flex;flex-direction:column;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([bordered]){border:1px dashed var(--theme-color)}:host([covered]){bottom:0;left:0;position:absolute;right:0;top:0}:host>span{display:flex;flex:1}:host>span+span{border-top:1px dashed var(--theme-color)}:host>span>span{flex:1}:host>span>span+span{border-left:1px dashed var(--theme-color)}";class Qp extends Is{constructor(){super(...arguments),this.$style=sA,this.bordered=!1,this.columns=3,this.covered=!1,this.rows=3,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["bordered","columns","covered","rows"])}$propertyChangedCallback(e,r,s){Object.is(s,r)||(super.$propertyChangedCallback(e,r,s),(e==="rows"||e==="columns")&&this.$nextTick(()=>{this.$render()}))}connectedCallback(){super.connectedCallback(),this.$render()}$render(){const e=this.$getShadowRoot(),r=document.createDocumentFragment();for(let s=0;s<this.rows;s+=1){const u=document.createElement("span");u.setAttribute("role","row");for(let l=0;l<this.columns;l+=1){const f=document.createElement("span");f.setAttribute("role","gridcell"),u.appendChild(f)}r.appendChild(u)}e&&(e.innerHTML="",e.appendChild(r))}}Qp.$name=NT;Qp.$version="2.0.0";var uA=':host{display:inline-block;height:1em;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:1em}:host:after,:host:before{background-color:var(--theme-color);content:"";display:block;position:absolute}:host:before{height:1px;left:0;top:50%;transform:translateY(-50%);width:100%}:host:after{height:100%;left:50%;top:0;transform:translateX(-50%);width:1px}:host([centered]){left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}';class Jp extends Is{constructor(){super(...arguments),this.$style=uA,this.centered=!1,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["centered"])}}Jp.$name=RT;Jp.$version="2.0.0";var lA=":host{display:block;height:100%;overflow:hidden;position:relative;width:100%}";const d0=new WeakMap,p0=new WeakMap,m0=new WeakMap,g0=new WeakMap,cA="both",fA="horizontal",v0="vertical",hA="none";class em extends Is{constructor(){super(...arguments),this.$onSelectionChange=null,this.$onSourceImageLoad=null,this.$onSourceImageTransform=null,this.$scale=1,this.$style=lA,this.resize=v0,this.selection="",this.slottable=!1}set $image(e){p0.set(this,e)}get $image(){return p0.get(this)}set $sourceImage(e){g0.set(this,e)}get $sourceImage(){return g0.get(this)}set $canvas(e){d0.set(this,e)}get $canvas(){return d0.get(this)}set $selection(e){m0.set(this,e)}get $selection(){return m0.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["resize","selection"])}connectedCallback(){super.connectedCallback();let e=null;if(this.selection?e=this.ownerDocument.querySelector(this.selection):e=this.closest(this.$getTagNameOf(ss)),af(e)){this.$selection=e,this.$onSelectionChange=this.$handleSelectionChange.bind(this),wr(e,Du,this.$onSelectionChange);const r=e.closest(this.$getTagNameOf(uc));if(r){this.$canvas=r;const s=r.querySelector(this.$getTagNameOf(ic));s&&(this.$sourceImage=s,this.$image=s.cloneNode(!0),this.$getShadowRoot().appendChild(this.$image),this.$onSourceImageLoad=this.$handleSourceImageLoad.bind(this),this.$onSourceImageTransform=this.$handleSourceImageTransform.bind(this),wr(s.$image,Xl,this.$onSourceImageLoad),wr(s,Ep,this.$onSourceImageTransform))}this.$render()}}disconnectedCallback(){const{$selection:e,$sourceImage:r}=this;e&&this.$onSelectionChange&&(vr(e,Du,this.$onSelectionChange),this.$onSelectionChange=null),r&&this.$onSourceImageLoad&&(vr(r.$image,Xl,this.$onSourceImageLoad),this.$onSourceImageLoad=null),r&&this.$onSourceImageTransform&&(vr(r,Ep,this.$onSourceImageTransform),this.$onSourceImageTransform=null),super.disconnectedCallback()}$handleSelectionChange(e){this.$render(e.detail)}$handleSourceImageLoad(){const{$image:e,$sourceImage:r}=this,s=e.getAttribute("src"),u=r.getAttribute("src");u&&u!==s&&(e.setAttribute("src",u),e.$ready(()=>{setTimeout(()=>{this.$render()},50)}))}$handleSourceImageTransform(e){this.$render(void 0,e.detail.matrix)}$render(e,r){const{$canvas:s,$selection:u}=this;!e&&!u.hidden&&(e=u),(!e||e.x===0&&e.y===0&&e.width===0&&e.height===0)&&(e={x:0,y:0,width:s.offsetWidth,height:s.offsetHeight});const{x:l,y:f,width:h,height:b}=e,w={},{clientWidth:x,clientHeight:E}=this;let N=x,q=E,F=NaN;switch(this.resize){case cA:F=1,N=h,q=b,w.width=h,w.height=b;break;case fA:F=b>0?E/b:0,N=h*F,w.width=N;break;case v0:F=h>0?x/h:0,q=b*F,w.height=q;break;case hA:default:x>0?F=h>0?x/h:0:E>0&&(F=b>0?E/b:0)}this.$scale=F,this.$setStyles(w),this.$sourceImage&&this.$transformImageByOffset(r??this.$sourceImage.$getTransform(),-l,-f)}$transformImageByOffset(e,r,s){const{$image:u,$scale:l,$sourceImage:f}=this;if(f&&u&&l>=0){const[h,b,w,x,E,N]=e,q=(r*x-w*s)/(h*x-w*b),F=(s*h-b*r)/(h*x-w*b),j=h*q+w*F+E,W=b*q+x*F+N;u.$ready(U=>{this.$setStyles.call(u,{width:U.naturalWidth*l,height:U.naturalHeight*l})}),u.$setTransform(h,b,w,x,j*l,W*l)}}}em.$name=BT;em.$version="2.0.0";/*! Cropper.js v2.0.0 | (c) 2015-present Chen Fengyuan | MIT */var dA='<cropper-canvas background><cropper-image rotatable scalable skewable translatable></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const pA=/^img|canvas$/,mA=/<(\/?(?:script|style)[^>]*)>/gi,b0={template:dA};Zp.$define();Jp.$define();Qp.$define();Vp.$define();Gp.$define();Kp.$define();Xp.$define();em.$define();class wb{constructor(e,r){if(this.options=b0,Fh(e)&&(e=document.querySelector(e)),!af(e)||!pA.test(e.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,r=Object.assign(Object.assign({},b0),r),this.options=r;const{ownerDocument:s}=e;let{container:u}=r;if(u&&(Fh(u)&&(u=s.querySelector(u)),!af(u)))throw new Error("The `container` option must be an element or a valid selector.");af(u)||(e.parentElement?u=e.parentElement:u=s.body),this.container=u;const l=e.localName;let f="";l==="img"?{src:f}=e:l==="canvas"&&window.HTMLCanvasElement&&(f=e.toDataURL());const{template:h}=r;if(h&&Fh(h)){const b=document.createElement("template"),w=document.createDocumentFragment();b.innerHTML=h.replace(mA,"&lt;$1&gt;"),w.appendChild(b.content),Array.from(w.querySelectorAll(ic)).forEach(x=>{x.setAttribute("src",f),x.setAttribute("alt",e.alt||"The image to crop")}),e.parentElement?(e.style.display="none",u.insertBefore(w,e.nextSibling)):u.appendChild(w)}}getCropperCanvas(){return this.container.querySelector(uc)}getCropperImage(){return this.container.querySelector(ic)}getCropperSelection(){return this.container.querySelector(ss)}getCropperSelections(){return this.container.querySelectorAll(ss)}}wb.version="2.0.0";const gA={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(t){const e=t.keyCode;switch(e){case 90:this.undo&&(t.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(t.preventDefault(),this.move(-1,0));break;case 38:this.move&&(t.preventDefault(),this.move(0,-1));break;case 39:this.move&&(t.preventDefault(),this.move(1,0));break;case 40:this.move&&(t.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var vA=function(){var e=this,r=e._self._c;return r("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(s){return e.setDragMode("move")}}},[r("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(s){return e.setDragMode("crop")}}},[r("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[r("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[r("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[r("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[r("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[r("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[r("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),r("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(s){var u=Array.prototype.filter.call(s.target.options,function(l){return l.selected}).map(function(l){var f="_value"in l?l._value:l.value;return f});e.ratio=s.target.multiple?u:u[0]},e.aspectRatio]}},[r("optgroup",{attrs:{label:e.translations.other}},[r("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),r("option",{attrs:{value:"1:1"}},[e._v("1:1")]),r("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),r("optgroup",{attrs:{label:e.translations.landscape}},[r("option",{attrs:{value:"16:9"}},[e._v("16:9")]),r("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),r("optgroup",{attrs:{label:e.translations.portrait}},[r("option",{attrs:{value:"9:16"}},[e._v("9:16")]),r("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),r("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[r("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[r("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[r("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},bA=[],yA=Wi(gA,vA,bA,!1,null,"1b374443");const _A=yA.exports,xA={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...Fa({originalUrl:t=>t.blanchetteEditor.originalUrl,isLoading:t=>t.blanchetteEditor.isLoading,translations:t=>t.translations})},methods:{...Ns(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await ac(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(t){switch(t.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(t){t&&this.cropper&&this.cropper.setDragMode(t)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(t,e){this.cropper.move(t,e)},start(){this.cropper||(this.cropper=new wb(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(t){t.detail.width>0&&t.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const t=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=t.getData(),this.canvasData=t.getCanvasData(),this.cropBoxData=t.getCropBoxData(),this.url=t.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:_A}};var wA=function(){var e=this,r=e._self._c;return r("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[r("div",{staticClass:"canvas"},[e.isLoading?r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner-container"},[r("div",{staticClass:"spinner"})])]):e._e(),r("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),r("div",{staticClass:"editor"},[e.url?[r("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},kA=[],CA=Wi(xA,wA,kA,!1,null,"748e943a");const EA=CA.exports;var up={exports:{}},y0;function SA(){return y0||(y0=1,(function(t,e){(function(r,s){t.exports=s()})(window,function(){return u={},r.m=s=[function(l,f,h){var b=h(6);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,h(4).default)("27d83796",b,!1,{})},function(l,f,h){var b=h(8);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,h(4).default)("0e783494",b,!1,{})},function(l,f,h){var b=h(10);typeof b=="string"&&(b=[[l.i,b,""]]),b.locals&&(l.exports=b.locals),(0,h(4).default)("17757f60",b,!1,{})},function(l,f){l.exports=function(h){var b=[];return b.toString=function(){return this.map(function(w){var x=(function(E,N){var q=E[1]||"",F=E[3];if(!F)return q;if(N&&typeof btoa=="function"){var j=(function(U){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(U))))+" */"})(F),W=F.sources.map(function(U){return"/*# sourceURL="+F.sourceRoot+U+" */"});return[q].concat(W).concat([j]).join(`
`)}return[q].join(`
`)})(w,h);return w[2]?"@media "+w[2]+"{"+x+"}":x}).join("")},b.i=function(w,x){typeof w=="string"&&(w=[[null,w,""]]);for(var E={},N=0;N<this.length;N++){var q=this[N][0];typeof q=="number"&&(E[q]=!0)}for(N=0;N<w.length;N++){var F=w[N];typeof F[0]=="number"&&E[F[0]]||(x&&!F[2]?F[2]=x:x&&(F[2]="("+F[2]+") and ("+x+")"),b.push(F))}},b}},function(l,f,h){function b(fe,ue){for(var Te=[],pe={},ie=0;ie<ue.length;ie++){var O=ue[ie],ae=O[0],me={id:fe+":"+ie,css:O[1],media:O[2],sourceMap:O[3]};pe[ae]?pe[ae].parts.push(me):Te.push(pe[ae]={id:ae,parts:[me]})}return Te}h.r(f),h.d(f,"default",function(){return D});var w=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!w)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var x={},E=w&&(document.head||document.getElementsByTagName("head")[0]),N=null,q=0,F=!1,j=function(){},W=null,U="data-vue-ssr-id",T=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function D(fe,ue,Te,pe){F=Te,W=pe||{};var ie=b(fe,ue);return B(ie),function(O){for(var ae=[],me=0;me<ie.length;me++){var _e=ie[me];(Ve=x[_e.id]).refs--,ae.push(Ve)}for(O?B(ie=b(fe,O)):ie=[],me=0;me<ae.length;me++){var Ve;if((Ve=ae[me]).refs===0){for(var Fe=0;Fe<Ve.parts.length;Fe++)Ve.parts[Fe]();delete x[Ve.id]}}}}function B(fe){for(var ue=0;ue<fe.length;ue++){var Te=fe[ue],pe=x[Te.id];if(pe){pe.refs++;for(var ie=0;ie<pe.parts.length;ie++)pe.parts[ie](Te.parts[ie]);for(;ie<Te.parts.length;ie++)pe.parts.push(V(Te.parts[ie]));pe.parts.length>Te.parts.length&&(pe.parts.length=Te.parts.length)}else{var O=[];for(ie=0;ie<Te.parts.length;ie++)O.push(V(Te.parts[ie]));x[Te.id]={id:Te.id,refs:1,parts:O}}}}function I(){var fe=document.createElement("style");return fe.type="text/css",E.appendChild(fe),fe}function V(fe){var ue,Te,pe=document.querySelector("style["+U+'~="'+fe.id+'"]');if(pe){if(F)return j;pe.parentNode.removeChild(pe)}if(T){var ie=q++;pe=N=N||I(),ue=ce.bind(null,pe,ie,!1),Te=ce.bind(null,pe,ie,!0)}else pe=I(),ue=(function(O,ae){var me=ae.css,_e=ae.media,Ve=ae.sourceMap;if(_e&&O.setAttribute("media",_e),W.ssrId&&O.setAttribute(U,ae.id),Ve&&(me+=`
/*# sourceURL=`+Ve.sources[0]+" */",me+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ve))))+" */"),O.styleSheet)O.styleSheet.cssText=me;else{for(;O.firstChild;)O.removeChild(O.firstChild);O.appendChild(document.createTextNode(me))}}).bind(null,pe),Te=function(){pe.parentNode.removeChild(pe)};return ue(fe),function(O){if(O){if(O.css===fe.css&&O.media===fe.media&&O.sourceMap===fe.sourceMap)return;ue(fe=O)}else Te()}}var te,oe=(te=[],function(fe,ue){return te[fe]=ue,te.filter(Boolean).join(`
`)});function ce(fe,ue,Te,pe){var ie=Te?"":pe.css;if(fe.styleSheet)fe.styleSheet.cssText=oe(ue,ie);else{var O=document.createTextNode(ie),ae=fe.childNodes;ae[ue]&&fe.removeChild(ae[ue]),ae.length?fe.insertBefore(O,ae[ue]):fe.appendChild(O)}}},function(l,f,h){var b=h(0);h.n(b).a},function(l,f,h){(l.exports=h(3)(!1)).push([l.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(l,f,h){var b=h(1);h.n(b).a},function(l,f,h){(l.exports=h(3)(!1)).push([l.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(l,f,h){var b=h(2);h.n(b).a},function(l,f,h){(l.exports=h(3)(!1)).push([l.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(l,f,h){h.r(f),h.d(f,"getModalsContainer",function(){return Y});function b(){var G=this,ge=G.$createElement,we=G._self._c||ge;return we("transition",{attrs:{name:G.overlayTransition}},[G.visibility.overlay?we("div",{ref:"overlay",class:G.overlayClass,attrs:{"aria-expanded":G.visibility.overlay.toString(),"data-modal":G.name}},[we("div",{staticClass:"v--modal-background-click",on:{mousedown:function(Ie){return Ie.target!==Ie.currentTarget?null:G.handleBackgroundClick(Ie)},touchstart:function(Ie){return Ie.target!==Ie.currentTarget?null:G.handleBackgroundClick(Ie)}}},[we("div",{staticClass:"v--modal-top-right"},[G._t("top-right")],2),G._v(" "),we("transition",{attrs:{name:G.transition},on:{"before-enter":G.beforeTransitionEnter,"after-enter":G.afterTransitionEnter,"after-leave":G.afterTransitionLeave}},[G.visibility.modal?we("div",{ref:"modal",class:G.modalClass,style:G.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[G._t("default"),G._v(" "),G.resizable&&!G.isAutoHeight?we("resizer",{attrs:{"min-width":G.minWidth,"min-height":G.minHeight,"max-width":G.maxWidth,"max-height":G.maxHeight},on:{resize:G.handleModalResize}}):G._e()],2):G._e()])],1)]):G._e()])}function w(){var G=this.$createElement;return(this._self._c||G)("div",{class:this.className})}function x(G,ge){return(function(we){if(Array.isArray(we))return we})(G)||(function(we,Ie){var Ye=[],Ge=!0,st=!1,wt=void 0;try{for(var kt,Dt=we[Symbol.iterator]();!(Ge=(kt=Dt.next()).done)&&(Ye.push(kt.value),!Ie||Ye.length!==Ie);Ge=!0);}catch(mt){st=!0,wt=mt}finally{try{Ge||Dt.return==null||Dt.return()}finally{if(st)throw wt}}return Ye})(G,ge)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function E(G){for(var ge=1;ge<arguments.length;ge++){var we=arguments[ge]!=null?arguments[ge]:{},Ie=Object.keys(we);typeof Object.getOwnPropertySymbols=="function"&&(Ie=Ie.concat(Object.getOwnPropertySymbols(we).filter(function(Ye){return Object.getOwnPropertyDescriptor(we,Ye).enumerable}))),Ie.forEach(function(Ye){N(G,Ye,we[Ye])})}return G}function N(G,ge,we){return ge in G?Object.defineProperty(G,ge,{value:we,enumerable:!0,configurable:!0,writable:!0}):G[ge]=we,G}w._withStripped=b._withStripped=!0;function q(G,ge,we){return we<G?G:ge<we?ge:we}function F(){var G=window.innerWidth,ge=document.documentElement.clientWidth;return G&&ge?Math.min(G,ge):ge||G}var j=(function(G){var ge=0;return function(){return(ge++).toString()}})(),W={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(G){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),G.stopPropagation(),G.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(G){this.resize(G)},resize:function(G){var ge=this.$el.parentElement;if(ge){var we=G.clientX-ge.offsetLeft,Ie=G.clientY-ge.offsetTop,Ye=Math.min(F(),this.maxWidth),Ge=Math.min(window.innerHeight,this.maxHeight);we=q(this.minWidth,Ye,we),Ie=q(this.minHeight,Ge,Ie),this.size={width:we,height:Ie},ge.style.width=we+"px",ge.style.height=Ie+"px",this.$emit("resize",{element:ge,size:this.size})}}}};h(5);function U(G,ge,we,Ie,Ye,Ge,st,wt){var kt,Dt=typeof G=="function"?G.options:G;return ge&&(Dt.render=ge,Dt.staticRenderFns=we,Dt._compiled=!0),{exports:G,options:Dt}}var T=U(W,w,[]);T.options.__file="src/Resizer.vue";var D=T.exports;function B(G){return(B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(G)}function I(G){switch(B(G)){case"number":return{type:"px",value:G};case"string":return(function(ge){if(ge==="auto")return{type:ge,value:0};var we=oe.find(function(Ie){return Ie.regexp.test(ge)});return we?{type:we.name,value:parseFloat(ge)}:{type:"",value:ge}})(G);default:return{type:"",value:G}}}function V(G){if(typeof G!="string")return 0<=G;var ge=I(G);return(ge.type==="%"||ge.type==="px")&&0<ge.value}var te="[-+]?[0-9]*.?[0-9]+",oe=[{name:"px",regexp:new RegExp("^".concat(te,"px$"))},{name:"%",regexp:new RegExp("^".concat(te,"%$"))},{name:"px",regexp:new RegExp("^".concat(te,"$"))}];function ce(G,ge,we){return ge in G?Object.defineProperty(G,ge,{value:we,enumerable:!0,configurable:!0,writable:!0}):G[ge]=we,G}var fe={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(G){return 0<=G}},minHeight:{type:Number,default:0,validator:function(G){return 0<=G}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:V},height:{type:[Number,String],default:300,validator:function(G){return G==="auto"||V(G)}},pivotX:{type:Number,default:.5,validator:function(G){return 0<=G&&G<=1}},pivotY:{type:Number,default:.5,validator:function(G){return 0<=G&&G<=1}}},components:{Resizer:D},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var G=this;if(Me.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var ge=(function(){if(typeof window<"u")for(var we=["","WebKit","Moz","O","Ms"],Ie=0;Ie<we.length;Ie++){var Ye=we[Ie]+"MutationObserver";if(Ye in window)return window[Ye]}return!1})();ge?this.mutationObserver=new ge(function(we){G.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Me.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var G=this.viewportHeight,ge=this.viewportWidth,we=this.shift,Ie=this.pivotX,Ye=this.pivotY,Ge=this.trueModalWidth,st=this.trueModalHeight,wt=ge-Ge,kt=Math.max(G-st,0),Dt=we.left+Ie*wt,mt=we.top+Ye*kt;return{left:parseInt(q(0,wt,Dt)),top:parseInt(q(0,kt,mt))}},trueModalWidth:function(){var G=this.viewportWidth,ge=this.modal,we=this.adaptive,Ie=this.minWidth,Ye=this.maxWidth,Ge=ge.widthType==="%"?G/100*ge.width:ge.width,st=Math.max(Ie,Math.min(G,Ye));return we?q(Ie,st,Ge):Ge},trueModalHeight:function(){var G=this.viewportHeight,ge=this.modal,we=this.isAutoHeight,Ie=this.adaptive,Ye=this.minHeight,Ge=this.maxHeight,st=ge.heightType==="%"?G/100*ge.height:ge.height;if(we)return this.modal.renderedHeight;var wt=Math.max(Ye,Math.min(G,Ge));return Ie?q(Ye,wt,st):st},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(G){return G.trim()}).filter(Boolean).map(function(G){return G.split(":")}).reduce(function(G,ge){var we=x(ge,2);return E({},G,N({},we[0],we[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(G){var ge=this;G?(this.visibility.overlay=!0,setTimeout(function(){ge.visibility.modal=!0,ge.$nextTick(function(){ge.addDraggableListeners(),ge.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){ge.visibility.overlay=!1,ge.$nextTick(function(){ge.removeDraggableListeners(),ge.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(G,ge,we){if(this.name===G){var Ie=ge===void 0?!this.visible:ge;this.toggle(Ie,we)}},setInitialSize:function(){var G=this.modal,ge=I(this.width),we=I(this.height);G.width=ge.value,G.widthType=ge.type,G.height=we.value,G.heightType=we.type},handleEscapeKeyUp:function(G){G.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=F(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(G){var ge=0<arguments.length&&G!==void 0?G:{};return(function(we){var Ie=0<arguments.length&&we!==void 0?we:{};return E({id:j(),timestamp:Date.now(),canceled:!1},Ie)})((function(we){for(var Ie=1;Ie<arguments.length;Ie++){var Ye=arguments[Ie]!=null?arguments[Ie]:{},Ge=Object.keys(Ye);typeof Object.getOwnPropertySymbols=="function"&&(Ge=Ge.concat(Object.getOwnPropertySymbols(Ye).filter(function(st){return Object.getOwnPropertyDescriptor(Ye,st).enumerable}))),Ge.forEach(function(st){ce(we,st,Ye[st])})}return we})({name:this.name,ref:this.$refs.modal},ge))},handleModalResize:function(G){this.modal.widthType="px",this.modal.width=G.size.width,this.modal.heightType="px",this.modal.height=G.size.height;var ge=this.modal.size;this.$emit("resize",this.createModalEvent({size:ge}))},toggle:function(G,ge){var we=this.reset,Ie=this.scrollable,Ye=this.visible;if(Ye!==G){var Ge=Ye?"before-close":"before-open";Ge=="before-open"?(we&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),Ie&&document.body.classList.add("v--modal-block-scroll")):Ie&&document.body.classList.remove("v--modal-block-scroll");var st=!1,wt=this.createModalEvent({stop:function(){st=!0},state:G,params:ge});this.$emit(Ge,wt),st||(this.visible=G,Ge=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var G=typeof this.draggable!="string"?".v--modal-box":this.draggable;return G?this.$refs.overlay.querySelector(G):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(G){G?this.connectObserver():this.disconnectObserver();var ge=G?"opened":"closed",we=this.createModalEvent({state:G});this.$emit(ge,we)},addDraggableListeners:function(){var G=this;if(this.draggable){var ge=this.getDraggableElement();if(ge){var we=0,Ie=0,Ye=0,Ge=0,st=function(mt){return mt.touches&&0<mt.touches.length?mt.touches[0]:mt},wt=function(mt){var Mt=mt.target;if(!Mt||Mt.nodeName!=="INPUT"&&Mt.nodeName!=="TEXTAREA"&&Mt.nodeName!=="SELECT"){var Ut=st(mt),hn=Ut.clientX,vt=Ut.clientY;document.addEventListener("mousemove",kt),document.addEventListener("touchmove",kt),document.addEventListener("mouseup",Dt),document.addEventListener("touchend",Dt),we=hn,Ie=vt,Ye=G.shift.left,Ge=G.shift.top}},kt=function(mt){var Mt=st(mt),Ut=Mt.clientX,hn=Mt.clientY;G.shift.left=Ye+Ut-we,G.shift.top=Ge+hn-Ie,mt.preventDefault()},Dt=function mt(Mt){G.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",kt),document.removeEventListener("touchmove",kt),document.removeEventListener("mouseup",mt),document.removeEventListener("touchend",mt),Mt.preventDefault()};ge.addEventListener("mousedown",wt),ge.addEventListener("touchstart",wt)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var G=this.viewportHeight,ge=this.viewportWidth,we=this.shift,Ie=this.pivotX,Ye=this.pivotY,Ge=this.trueModalWidth,st=this.trueModalHeight,wt=ge-Ge,kt=Math.max(G-st,0),Dt=we.left+Ie*wt,mt=we.top+Ye*kt;this.shift.left-=Dt-q(0,wt,Dt),this.shift.top-=mt-q(0,kt,mt)}}},ue=(h(7),U(fe,b,[]));ue.options.__file="src/Modal.vue";function Te(){var G=this,ge=G.$createElement,we=G._self._c||ge;return we("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:G.width,"pivot-y":.3,adaptive:!0,clickToClose:G.clickToClose,transition:G.transition},on:{"before-open":G.beforeOpened,"before-close":G.beforeClosed,opened:function(Ie){G.$emit("opened",Ie)},closed:function(Ie){G.$emit("closed",Ie)}}},[we("div",{staticClass:"dialog-content"},[G.params.title?we("div",{staticClass:"dialog-c-title",domProps:{innerHTML:G._s(G.params.title||"")}}):G._e(),G._v(" "),G.params.component?we(G.params.component,G._b({tag:"component"},"component",G.params.props,!1)):we("div",{staticClass:"dialog-c-text",domProps:{innerHTML:G._s(G.params.text||"")}})],1),G._v(" "),G.buttons?we("div",{staticClass:"vue-dialog-buttons"},G._l(G.buttons,function(Ie,Ye){return we("button",{key:Ye,class:Ie.class||"vue-dialog-button",style:G.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:G._s(Ie.title)},on:{click:function(Ge){Ge.stopPropagation(),G.click(Ye,Ge)}}},[G._v(`
      `+G._s(Ie.title)+`
    `)])})):we("div",{staticClass:"vue-dialog-buttons-none"})])}var pe=ue.exports;Te._withStripped=!0;var ie={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(G){window.addEventListener("keyup",this.onKeyUp),this.params=G.params||{},this.$emit("before-opened",G)},beforeClosed:function(G){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",G)},click:function(G,ge,we){var Ie=2<arguments.length&&we!==void 0?we:"click",Ye=this.buttons[G];Ye&&typeof Ye.handler=="function"?Ye.handler(G,ge,{source:Ie}):this.$modal.hide("dialog")},onKeyUp:function(G){if(G.which===13&&0<this.buttons.length){var ge=this.buttons.length===1?0:this.buttons.findIndex(function(we){return we.default});ge!==-1&&this.click(ge,G,"keypress")}}}},O=(h(9),U(ie,Te,[]));O.options.__file="src/Dialog.vue";function ae(){var G=this,ge=G.$createElement,we=G._self._c||ge;return we("div",{attrs:{id:"modals-container"}},G._l(G.modals,function(Ie){return we("modal",G._g(G._b({key:Ie.id,on:{closed:function(Ye){G.remove(Ie.id)}}},"modal",Ie.modalAttrs,!1),Ie.modalListeners),[we(Ie.component,G._g(G._b({tag:"component",on:{close:function(Ye){G.$modal.hide(Ie.modalAttrs.name)}}},"component",Ie.componentAttrs,!1),G.$listeners))],1)}))}var me=O.exports;function _e(G,ge,we){return ge in G?Object.defineProperty(G,ge,{value:we,enumerable:!0,configurable:!0,writable:!0}):G[ge]=we,G}ae._withStripped=!0;var Ve=U({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(G,ge,we,Ie){var Ye=this,Ge=1<arguments.length&&ge!==void 0?ge:{},st=2<arguments.length&&we!==void 0?we:{},wt=3<arguments.length&&Ie!==void 0?Ie:{},kt=j(),Dt=st.name||"_dynamic_modal_"+kt;this.modals.push({id:kt,modalAttrs:(function(mt){for(var Mt=1;Mt<arguments.length;Mt++){var Ut=arguments[Mt]!=null?arguments[Mt]:{},hn=Object.keys(Ut);typeof Object.getOwnPropertySymbols=="function"&&(hn=hn.concat(Object.getOwnPropertySymbols(Ut).filter(function(vt){return Object.getOwnPropertyDescriptor(Ut,vt).enumerable}))),hn.forEach(function(vt){_e(mt,vt,Ut[vt])})}return mt})({},st,{name:Dt}),modalListeners:wt,component:G,componentAttrs:Ge}),this.$nextTick(function(){Ye.$modal.show(Dt)})},remove:function(G){var ge=this.modals.findIndex(function(we){return we.id===G});ge!==-1&&this.modals.splice(ge,1)}}},ae,[]);Ve.options.__file="src/ModalsContainer.vue";var Fe=Ve.exports;function Ee(G){return(Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(G)}function J(G,ge,we){return ge in G?Object.defineProperty(G,ge,{value:we,enumerable:!0,configurable:!0,writable:!0}):G[ge]=we,G}var Y=function(G,ge,we){if(!we._dynamicContainer&&ge.injectModalsContainer){var Ie=(Ye=document.createElement("div"),document.body.appendChild(Ye),Ye);new G({parent:we,render:function(Ge){return Ge(Fe)}}).$mount(Ie)}var Ye;return we._dynamicContainer},Ce={install:function(G,ge){var we=1<arguments.length&&ge!==void 0?ge:{};if(!this.installed){this.installed=!0,this.event=new G,this.rootInstance=null;var Ie=we.componentName||"Modal",Ye=we.dynamicDefaults||{},Ge=function(st,wt,kt,Dt){var mt=kt&&kt.root?kt.root:Ce.rootInstance,Mt=Y(G,we,mt);Mt?Mt.add(st,wt,(function(Ut){for(var hn=1;hn<arguments.length;hn++){var vt=arguments[hn]!=null?arguments[hn]:{},Ot=Object.keys(vt);typeof Object.getOwnPropertySymbols=="function"&&(Ot=Ot.concat(Object.getOwnPropertySymbols(vt).filter(function(Le){return Object.getOwnPropertyDescriptor(vt,Le).enumerable}))),Ot.forEach(function(Le){J(Ut,Le,vt[Le])})}return Ut})({},Ye,kt),Dt):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};G.prototype.$modal={show:function(st){for(var wt=arguments.length,kt=new Array(1<wt?wt-1:0),Dt=1;Dt<wt;Dt++)kt[Dt-1]=arguments[Dt];switch(Ee(st)){case"string":return(function(mt,Mt){Ce.event.$emit("toggle",mt,!0,Mt)}).apply(void 0,[st].concat(kt));case"object":case"function":return we.dynamic?Ge.apply(void 0,[st].concat(kt)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",st)}},hide:function(st,wt){Ce.event.$emit("toggle",st,!1,wt)},toggle:function(st,wt){Ce.event.$emit("toggle",st,void 0,wt)}},G.component(Ie,pe),we.dialog&&G.component("VDialog",me),we.dynamic&&(G.component("ModalsContainer",Fe),G.mixin({beforeMount:function(){Ce.rootInstance===null&&(Ce.rootInstance=this.$root)}}))}}},Me=f.default=Ce}],r.c=u,r.d=function(l,f,h){r.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:h})},r.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,f){if(1&f&&(l=r(l)),8&f||4&f&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),2&f&&typeof l!="string")for(var b in l)r.d(h,b,(function(w){return l[w]}).bind(null,b));return h},r.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(f,"a",f),f},r.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},r.p="/dist/",r(r.s=11);function r(l){if(u[l])return u[l].exports;var f=u[l]={i:l,l:!1,exports:{}};return s[l].call(f.exports,f,f.exports,r),f.l=!0,f.exports}var s,u})})(up)),up.exports}var TA=SA();const AA=ff(TA),wh=656,DA={data(){return{modalWidth:wh,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:tb},mounted(){this.modalWidth=window.innerWidth<wh?wh/2:wh,eb().then(t=>{this.imageUrl=t}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(t){this.manualClose||t.stop()}}};var LA=function(){var e=this,r=e._self._c;return r("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[r("div",{staticClass:"modal",attrs:{id:"partition-register"}},[r("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),r("div",{staticClass:"modal-content"},[r("p",[e._v(e._s(e.content))]),r("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?r("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?r("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?r("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},MA=[],OA=Wi(DA,LA,MA,!1,null,"bbd610c6");const PA=OA.exports;Ql.use(AA);const FA={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...Fa({connected:t=>t.connected,healthChecked:t=>t.healthChecked,translations:t=>t.translations})},components:{WarningModal:PA}};var RA=function(){var e=this,r=e._self._c;return r("div",[e.connected?e.healthChecked?e._e():r("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):r("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},NA=[],zA=Wi(FA,RA,NA,!1,null,null);const IA=zA.exports,BA={computed:{...Fa({isExplorerOpen:t=>t.explorer.isOpen})}};var $A=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?r("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},HA=[],WA=Wi(BA,$A,HA,!1,null,null);const qA=WA.exports,jA="modulepreload",YA=function(t){return"/bundles/roadizrozier/"+t},_0={},Ma=function(e,r,s){let u=Promise.resolve();if(r&&r.length>0){let b=function(w){return Promise.all(w.map(x=>Promise.resolve(x).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");u=b(r.map(w=>{if(w=YA(w),w in _0)return;_0[w]=!0;const x=w.endsWith(".css"),E=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const N=document.createElement("link");if(N.rel=x?"stylesheet":jA,x||(N.as="script"),N.crossOrigin="",N.href=w,h&&N.setAttribute("nonce",h),document.head.appendChild(N),x)return new Promise((q,F)=>{N.addEventListener("load",q),N.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${w}`)))})}))}function l(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return u.then(f=>{for(const h of f||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function UA(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase()}const x0=Object.assign({"./custom-elements/AdminMenuNav.js":()=>Ma(()=>import("./AdminMenuNav-D6p84238.js"),[]),"./custom-elements/DocumentAlignmentWidget.js":()=>Ma(()=>import("./DocumentAlignmentWidget-CUmZZQpA.js"),__vite__mapDeps([0,1])),"./custom-elements/DocumentEditDialog.js":()=>Ma(()=>import("./DocumentEditDialog-ct28IygL.js"),__vite__mapDeps([2,1])),"./custom-elements/FolderAutocomplete.js":()=>Ma(()=>import("./FolderAutocomplete-CMgHW6Ha.js"),[]),"./custom-elements/MainTrees.js":()=>Ma(()=>import("./MainTrees-D5VLcSe6.js"),[]),"./custom-elements/NodeSourceEditPage.js":()=>Ma(()=>import("./NodeSourceEditPage-C4uyyeo1.js"),__vite__mapDeps([3,4,5])),"./custom-elements/NodeTreeContextualMenu.js":()=>Ma(()=>import("./NodeTreeContextualMenu-ByIxLf_N.js"),[]),"./custom-elements/RzInputColor.js":()=>Ma(()=>import("./RzInputColor-DfOgbOC9.js"),[]),"./custom-elements/RzSaveButton.js":()=>Ma(()=>import("./RzSaveButton-CxnLRuxS.js"),[]),"./custom-elements/TagAutocomplete.js":()=>Ma(()=>import("./TagAutocomplete-DDko2VyZ.js"),[]),"./custom-elements/TagEditPage.js":()=>Ma(()=>import("./TagEditPage-CDlD7hB6.js"),__vite__mapDeps([6,4,5]))}),Xh={};for(const t in x0){const e=t.match(/\/([^/]+)\.(js|ts)$/)[1],r=UA(e);Xh[r]=x0[t]}class ZA{constructor(){this.services=[],this.navTrees=null,this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={NodesSearchContainer:WE,DrawerContainer:$S,ExplorerContainer:aT,FilterExplorerContainer:gT,TagsEditorContainer:ET,DocumentPreviewContainer:LT,BlanchetteEditorContainer:EA,ModalContainer:IA},this.registeredComponents={Overlay:qA},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},this.init(),this.initListeners()}init(){this.buildNavTrees(),this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new NE(dh)),this.services.push(new zE(dh))}onPageChange(){dh.commit(hs)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildNavTrees(){document.getElementById("main-trees")&&(this.navTrees=this.buildComponent("#main-trees"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#main-content [data-vuejs]").forEach(r=>{this.mainContentComponents.push(this.buildComponent(r))})}buildComponent(e){return new Ql({el:e,delimiters:["${","}"],store:dh,components:this.vuejsElements,ignoredElements:Object.keys(Xh)})}}class GA{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.minifyTreePanelButton=null,this.mainTrees=null,this.canvasLoader=null,this.mainContentScrollable=null,this.mainContentScrollableWidth=null,this.mainContentScrollableOffsetLeft=null,this.backTopBtn=null,this.collapsedNestableState=null,this.maintreeElementNameRightClick=this.maintreeElementNameRightClick.bind(this),this.onNestableNodeTreeChange=this.onNestableNodeTreeChange.bind(this),this.onNestableTagTreeChange=this.onNestableTagTreeChange.bind(this),this.onNestableFolderTreeChange=this.onNestableFolderTreeChange.bind(this),this.backTopBtnClick=this.backTopBtnClick.bind(this),this.resize=this.resize.bind(this),this.onNestableCollapse=this.onNestableCollapse.bind(this),this.onNestableExpand=this.onNestableExpand.bind(this)}onDocumentReady(){this.initLoader(),this.setupCollapsedNestableState(),this.lazyload=new e2,this.vueApp=new ZA,this.minifyTreePanelButton=document.querySelectorAll("#minify-tree-panel-button"),this.mainTrees=document.querySelector("#main-trees"),this.mainContentScrollable=document.querySelector("#main-content-scrollable"),this.backTopBtn=document.querySelector("#back-top-button"),this.minifyTreePanelButton.length&&this.minifyTreePanelButton.forEach(e=>{e.addEventListener("click",this.toggleTreesPanel)}),document.body.addEventListener("markdownPreviewOpen",this.openTreesPanel,!1),this.backTopBtn.addEventListener("click",this.backTopBtnClick),window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),this.bindMainNodeTreeLangs(),this.refreshMainNodeTree(),this.refreshMainTagTree(),this.refreshMainFolderTree(),window.addEventListener("pageshowend",()=>{this.syncCollapsedNestableState()}),window.addEventListener("requestAllNodeTreeChange",()=>{this.refreshAllNodeTrees(),this.getMessages()}),window.addEventListener("requestLoaderShow",()=>{this.canvasLoader.show()}),window.addEventListener("requestLoaderHide",()=>{this.canvasLoader.hide()}),window.addEventListener("pushToast",e=>{!e.detail||!e.detail.message||window.UIkit.notify({message:e.detail.message,status:e.detail.status||"success",timeout:2e3,pos:"top-center"})})}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color")),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}setupCollapsedNestableState(){window.localStorage&&(this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable"),this.collapsedNestableState||(this.saveCollapsedNestableState(null),this.collapsedNestableState=window.localStorage.getItem("collapsed.uk.nestable")),this.collapsedNestableState=JSON.parse(this.collapsedNestableState),window.UIkit.on("beforeready.uk.dom",function(){$.extend(window.UIkit.components.nestable.prototype,{collapseItem:function(e){var r=e.children(this.options._listClass);r.length&&e.addClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("collapse.uk.nestable",{detail:e}))}}),$.extend(window.UIkit.components.nestable.prototype,{expandItem:function(e){e.removeClass(this.options.collapsedClass),document.dispatchEvent(new CustomEvent("expand.uk.nestable",{detail:e}))}})}))}saveCollapsedNestableState(e=null){e===null&&(e={nodes:[],tags:[],folders:[]}),window.localStorage.setItem("collapsed.uk.nestable",JSON.stringify(e))}syncCollapsedNestableState(){this.collapsedNestableState.nodes.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-node-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.tags.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-tag-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})}),this.collapsedNestableState.folders.forEach(e=>{document.querySelectorAll('.uk-nestable-item[data-folder-id="'+$.escapeSelector(e)+'"]').forEach(s=>{s.classList.add("uk-collapsed")})})}initNestables(){this.syncCollapsedNestableState(),document.querySelectorAll(".uk-nestable").forEach(e=>{const r={handleClass:"uk-nestable-handle"};e.classList.contains("nodetree")?r.group="nodeTree":e.classList.contains("tagtree")?r.group="tagTree":e.classList.contains("foldertree")&&(r.group="folderTree"),window.UIkit.nestable(e,r)}),document.removeEventListener("collapse.uk.nestable",this.onNestableCollapse),document.addEventListener("collapse.uk.nestable",this.onNestableCollapse),document.removeEventListener("expand.uk.nestable",this.onNestableExpand),document.addEventListener("expand.uk.nestable",this.onNestableExpand)}bindMainTrees(){document.querySelectorAll(".nodetree-widget .root-tree").forEach(l=>{const f=$(l);f.off("change.uk.nestable",this.onNestableNodeTreeChange),f.on("change.uk.nestable",this.onNestableNodeTreeChange)}),document.querySelectorAll(".tagtree-widget .root-tree").forEach(l=>{const f=$(l);f.off("change.uk.nestable",this.onNestableTagTreeChange),f.on("change.uk.nestable",this.onNestableTagTreeChange)}),document.querySelectorAll(".foldertree-widget .root-tree").forEach(l=>{const f=$(l);f.off("change.uk.nestable",this.onNestableFolderTreeChange),f.on("change.uk.nestable",this.onNestableFolderTreeChange)}),(this.mainTrees?.querySelectorAll(".tree-element-name")||[]).forEach(l=>{l.removeEventListener("contextmenu",this.maintreeElementNameRightClick),l.addEventListener("contextmenu",this.maintreeElementNameRightClick)})}maintreeElementNameRightClick(e){e.preventDefault(),document.querySelectorAll(".tree-contextualmenu").forEach(s=>{s.classList.contains("uk-open")&&s.classList.remove("uk-open")});const r=e.currentTarget.parentElement.querySelector(".tree-contextualmenu");return r&&(r.classList.contains("uk-open")?r.classList.remove("uk-open"):r.classList.add("uk-open")),!1}bindMainNodeTreeLangs(){document.body.addEventListener("click",e=>{const r=e.target.closest("#tree-container .nodetree-langs button");if(r){window.dispatchEvent(new CustomEvent("requestLoaderShow"));const s=parseInt(r.getAttribute("data-translation-id"),10);return this.refreshMainNodeTree(s),!1}})}async fetchSessionMessages(){const e=new URLSearchParams({_action:"messages",_token:window.RozierConfig.ajaxToken}),r=window.RozierConfig.routes.ajaxSessionMessages+"?"+e.toString(),u=await(await fetch(r,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();return u.messages?u.messages:[]}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&Array.isArray(e.confirm)&&e.confirm.length>0&&e.confirm.forEach(r=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:r,status:"success"}}))}),e.error&&Array.isArray(e.error)&&e.error.length>0&&e.error.forEach(r=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:r,status:"danger"}}))})}refreshAllNodeTrees(e){const r=[];return r.push(this.refreshMainNodeTree(e)),this.lazyload.stackNodeTrees.treeAvailable()&&r.push(this.lazyload.stackNodeTrees.refreshNodeTree()),this.lazyload.childrenNodesFields.treeAvailable()&&this.lazyload.childrenNodesFields.nodeTrees.forEach(s=>{r.push(this.lazyload.childrenNodesFields.refreshNodeTree(s))}),Promise.all(r)}async refreshMainNodeTree(e=void 0){const r=document.querySelector("#tree-container .nodetree-widget");if(!r){console.debug("No main node-tree available.");return}const s=r.querySelector(".root-tree");s&&!e&&(e=s.getAttribute("data-translation-id"));try{const u=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainNodeTree",translationId:e||null}),l=window.RozierConfig.routes.nodesTreeAjax+"?"+u.toString(),f=await fetch(l,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!f.ok)throw f;const h=await f.json();if(typeof h.nodeTree<"u"){await ll(r),r.insertAdjacentHTML("afterend",h.nodeTree),r.remove();const b=document.querySelector("#tree-container .nodetree-widget");if(b)await Vl(b);else{console.debug("No main node-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}}catch{console.debug("[Rozier.refreshMainNodeTree] Retrying in 3 seconds"),await ac(3e3),this.refreshMainNodeTree(e)}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainTagTree(){const e=document.querySelector("#tree-container .tagtree-widget");if(!e){console.debug("No main tag-tree available.");return}const r=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainTagTree"}),s=window.RozierConfig.routes.tagsTreeAjax+"?"+r.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(typeof l.tagTree<"u"){await ll(e),e.insertAdjacentHTML("afterend",l.tagTree),e.remove();const f=document.querySelector("#tree-container .tagtree-widget");if(f)await Vl(f);else{console.debug("No main tag-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}async refreshMainFolderTree(){const e=document.querySelector("#tree-container .foldertree-widget");if(!e){console.debug("No main folder-tree available.");return}const r=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestMainFolderTree"}),s=window.RozierConfig.routes.foldersTreeAjax+"?"+r.toString(),l=await(await fetch(s,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(typeof l.folderTree<"u"){await ll(e),e.insertAdjacentHTML("afterend",l.folderTree),e.remove();const f=document.querySelector("#tree-container .foldertree-widget");if(f)await Vl(f);else{console.debug("No main folder-tree available.");return}this.initNestables(),this.bindMainTrees(),this.resize(),this.lazyload.bindAjaxLink()}window.dispatchEvent(new CustomEvent("requestLoaderHide"))}toggleTreesPanel(){return document.getElementById("main-container-inner").classList.toggle("trees-panel--minified"),document.getElementById("main-content").classList.toggle("maximized"),document.querySelector("#minify-tree-panel-button i").classList.toggle("uk-icon-rz-panel-tree-open"),document.getElementById("minify-tree-panel-area").classList.toggle("tree-panel-hidden"),!1}openTreesPanel(){return document.getElementById("main-container-inner").classList.contains("trees-panel--minified")&&this.toggleTreesPanel(),!1}toggleUserPanel(){return document.getElementById("user-panel").classList.toggle("minified"),!1}onNestableCollapse({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.push(e[0].getAttribute("data-node-id"));break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.push(e[0].getAttribute("data-tag-id"));break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.push(e[0].getAttribute("data-folder-id"));break}this.saveCollapsedNestableState(this.collapsedNestableState)}}onNestableExpand({detail:e}){if(e[0]){switch(!0){case e[0].getAttribute("data-node-id")!==null:this.collapsedNestableState.nodes.splice(this.collapsedNestableState.nodes.indexOf(e[0].getAttribute("data-node-id")),1);break;case e[0].getAttribute("data-tag-id")!==null:this.collapsedNestableState.tags.splice(this.collapsedNestableState.tags.indexOf(e[0].getAttribute("data-tag-id")),1);break;case e[0].getAttribute("data-folder-id")!==null:this.collapsedNestableState.folders.splice(this.collapsedNestableState.folders.indexOf(e[0].getAttribute("data-folder-id")),1);break}this.saveCollapsedNestableState(this.collapsedNestableState)}}async onNestableNodeTreeChange(e,r,s,u){if(u==="removed"||!s)return!1;const l=s[0];if(!l)return console.error("No element found"),!1;const f=parseInt(l.getAttribute("data-node-id"));let h=null;const b=l.parentElement.closest(".nodetree-element"),w=l.parentElement.closest(".stack-tree-widget"),x=l.parentElement.closest(".children-node-widget");if(b?h=parseInt(b.getAttribute("data-node-id")):w?h=parseInt(w.getAttribute("data-parent-node-id")):x&&(h=parseInt(x.getAttribute("data-parent-node-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a node inside itself!"),window.location.reload(),!1;const E={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",nodeId:f,newParent:h},N=l.nextElementSibling;if(N&&typeof N.getAttribute("data-node-id")<"u")E.nextNodeId=parseInt(N.getAttribute("data-node-id"));else{const q=l.previousElementSibling;q&&typeof q.getAttribute("data-node-id")<"u"&&(E.prevNodeId=parseInt(q.getAttribute("data-node-id")))}try{const q=window.RozierConfig.routes.nodeAjaxEdit.replace("%nodeId%",f),F=await fetch(q,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(E)});if(!F.ok)throw F;const j=await F.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:j.responseText||j.detail,status:j.status}}))}catch(q){const F=await q.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:F.error_message||F.detail,status:"danger"}}))}}async onNestableTagTreeChange(e,r,s,u){if(u==="removed")return!1;const l=s[0];let f=parseInt(l.getAttribute("data-tag-id")),h=null;const b=l.parentElement.closest(".tagtree-element"),w=l.parentElement.closest(".root-tree");if(b?h=parseInt(b.getAttribute("data-tag-id")):w&&(h=parseInt(w.getAttribute("data-parent-tag-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a tag inside itself!"),alert("You cannot move a tag inside itself!"),window.location.reload(),!1;let x={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",tagId:f,newParent:h};const E=l.nextElementSibling;if(E&&typeof E.getAttribute("data-tag-id")<"u")x.nextTagId=parseInt(E.getAttribute("data-tag-id"));else{const N=l.previousElementSibling;N&&typeof N.getAttribute("data-tag-id")<"u"&&(x.prevTagId=parseInt(N.getAttribute("data-tag-id")))}try{const N=await fetch(window.RozierConfig.routes.tagAjaxEdit.replace("%tagId%",f),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(x)});if(!N.ok)throw N;const q=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:q.responseText,status:q.status}}))}catch(N){const q=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:q.error_message||q.detail,status:"danger"}}))}}async onNestableFolderTreeChange(e,r,s,u){if(u==="removed")return!1;const l=s[0];let f=parseInt(l.getAttribute("data-folder-id")),h=null;const b=l.parentElement.closest(".foldertree-element"),w=l.parentElement.closest(".root-tree");if(b?h=parseInt(b.getAttribute("data-folder-id")):w&&(h=parseInt(w.getAttribute("data-parent-folder-id"))),isNaN(h)&&(h=null),f===h)return console.error("You cannot move a folder inside itself!"),alert("You cannot move a folder inside itself!"),window.location.reload(),!1;let x={_token:window.RozierConfig.ajaxToken,_action:"updatePosition",folderId:f,newParent:h};const E=l.nextElementSibling;if(E&&typeof E.getAttribute("data-folder-id")<"u")x.nextFolderId=parseInt(E.getAttribute("data-folder-id"));else{const N=l.previousElementSibling;N&&typeof N.getAttribute("data-folder-id")<"u"&&(x.prevFolderId=parseInt(N.getAttribute("data-folder-id")))}try{const N=await fetch(window.RozierConfig.routes.folderAjaxEdit.replace("%folderId%",f),{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(x)});if(!N.ok)throw N;const q=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:q.responseText,status:q.status}}))}catch(N){const q=await N.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:q.error_message||q.detail,status:"danger"}}))}}backTopBtnClick(){this.mainContentScrollable?.scrollIntoView({behavior:"smooth",block:"start"})}resize(){this.windowWidth=window.offsetWidth,this.windowHeight=window.offsetHeight,this.resizeFirst&&(this.resizeFirst=!1)}}function XA(t,e){const r=`${t}, [is="${t}"]`,s=document.querySelector(r);let u=null,l=null;async function f(h){u||(u=e().then(b=>{const w=b.default||Object.values(b)[0];if(l?.disconnect(),l=null,!w)throw new Error(`No element class found for <${t}>`);const x=h===t?void 0:{extends:h};customElements.define(t,w,x)})),await u}s?f(s.tagName.toLowerCase()):(l=new MutationObserver(h=>{for(const b of h)for(const w of b.addedNodes)if(w instanceof Element){const x=w.tagName.toLowerCase();if(x===t||w.getAttribute("is")===t)f(x);else{const E=w.querySelector(r);E&&f(E.tagName.toLowerCase())}}}),l.observe(document,{childList:!0,subtree:!0}))}var w0={};/*! (c) Andrea Giammarchi @webreflection ISC */var k0;function VA(){return k0||(k0=1,(function(){var t=(function(et,We){var at=function(sn){for(var At=0,Ht=sn.length;At<Ht;At++)Bt(sn[At])},Bt=function(sn){var At=sn.target,Ht=sn.attributeName,Tn=sn.oldValue;At.attributeChangedCallback(Ht,Tn,At.getAttribute(Ht))};return function(_t,sn){var At=_t.constructor.observedAttributes;return At&&et(sn).then(function(){new We(at).observe(_t,{attributes:!0,attributeOldValue:!0,attributeFilter:At});for(var Ht=0,Tn=At.length;Ht<Tn;Ht++)_t.hasAttribute(At[Ht])&&Bt({target:_t,attributeName:At[Ht],oldValue:null})}),_t}});function e(et,We){if(et){if(typeof et=="string")return r(et,We);var at=Object.prototype.toString.call(et).slice(8,-1);if(at==="Object"&&et.constructor&&(at=et.constructor.name),at==="Map"||at==="Set")return Array.from(et);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return r(et,We)}}function r(et,We){(We==null||We>et.length)&&(We=et.length);for(var at=0,Bt=new Array(We);at<We;at++)Bt[at]=et[at];return Bt}function s(et,We){var at=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!at){if(Array.isArray(et)||(at=e(et))||We){at&&(et=at);var Bt=0,_t=function(){};return{s:_t,n:function(){return Bt>=et.length?{done:!0}:{done:!1,value:et[Bt++]}},e:function(Tn){throw Tn},f:_t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn=!0,At=!1,Ht;return{s:function(){at=at.call(et)},n:function(){var Tn=at.next();return sn=Tn.done,Tn},e:function(Tn){At=!0,Ht=Tn},f:function(){try{!sn&&at.return!=null&&at.return()}finally{if(At)throw Ht}}}}/*! (c) Andrea Giammarchi - ISC */var u=!0,l=!1,f="querySelectorAll",h=function(We){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,_t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],sn=function Tn(Xn,bt,Hn,Yt,dn,Cn){var Jn=s(Xn),Pn;try{for(Jn.s();!(Pn=Jn.n()).done;){var un=Pn.value;(Cn||f in un)&&(dn?Hn.has(un)||(Hn.add(un),Yt.delete(un),We(un,dn)):Yt.has(un)||(Yt.add(un),Hn.delete(un),We(un,dn)),Cn||Tn(un[f](bt),bt,Hn,Yt,dn,u))}}catch(Ei){Jn.e(Ei)}finally{Jn.f()}},At=new Bt(function(Tn){if(_t.length){var Xn=_t.join(","),bt=new Set,Hn=new Set,Yt=s(Tn),dn;try{for(Yt.s();!(dn=Yt.n()).done;){var Cn=dn.value,Jn=Cn.addedNodes,Pn=Cn.removedNodes;sn(Pn,Xn,bt,Hn,l,l),sn(Jn,Xn,bt,Hn,u,l)}}catch(un){Yt.e(un)}finally{Yt.f()}}}),Ht=At.observe;return(At.observe=function(Tn){return Ht.call(At,Tn,{subtree:u,childList:u})})(at),At},b="querySelectorAll",w=self,x=w.document,E=w.Element,N=w.MutationObserver,q=w.Set,F=w.WeakMap,j=function(We){return b in We},W=[].filter,U=(function(et){var We=new F,at=function(Yt){for(var dn=0,Cn=Yt.length;dn<Cn;dn++)We.delete(Yt[dn])},Bt=function(){for(var Yt=Xn.takeRecords(),dn=0,Cn=Yt.length;dn<Cn;dn++)At(W.call(Yt[dn].removedNodes,j),!1),At(W.call(Yt[dn].addedNodes,j),!0)},_t=function(Yt){return Yt.matches||Yt.webkitMatchesSelector||Yt.msMatchesSelector},sn=function(Yt,dn){var Cn;if(dn)for(var Jn,Pn=_t(Yt),un=0,Ei=Ht.length;un<Ei;un++)Pn.call(Yt,Jn=Ht[un])&&(We.has(Yt)||We.set(Yt,new q),Cn=We.get(Yt),Cn.has(Jn)||(Cn.add(Jn),et.handle(Yt,dn,Jn)));else We.has(Yt)&&(Cn=We.get(Yt),We.delete(Yt),Cn.forEach(function(Yi){et.handle(Yt,dn,Yi)}))},At=function(Yt){for(var dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Cn=0,Jn=Yt.length;Cn<Jn;Cn++)sn(Yt[Cn],dn)},Ht=et.query,Tn=et.root||x,Xn=h(sn,Tn,N,Ht),bt=E.prototype.attachShadow;return bt&&(E.prototype.attachShadow=function(Hn){var Yt=bt.call(this,Hn);return Xn.observe(Yt),Yt}),Ht.length&&At(Tn[b](Ht)),{drop:at,flush:Bt,observer:Xn,parse:At}}),T=self,D=T.document,B=T.Map,I=T.MutationObserver,V=T.Object,te=T.Set,oe=T.WeakMap,ce=T.Element,fe=T.HTMLElement,ue=T.Node,Te=T.Error,pe=T.TypeError,ie=T.Reflect,O=V.defineProperty,ae=V.keys,me=V.getOwnPropertyNames,_e=V.setPrototypeOf,Ve=!self.customElements,Fe=function(We){for(var at=ae(We),Bt=[],_t=new te,sn=at.length,At=0;At<sn;At++){Bt[At]=We[at[At]];try{delete We[at[At]]}catch{_t.add(At)}}return function(){for(var Ht=0;Ht<sn;Ht++)_t.has(Ht)||(We[at[Ht]]=Bt[Ht])}};if(Ve){var Ee=function(){var We=this.constructor;if(!Y.has(We))throw new pe("Illegal constructor");var at=Y.get(We);if(Ge)return wt(Ge,at);var Bt=J.call(D,at);return wt(_e(Bt,We.prototype),at)},J=D.createElement,Y=new B,Ce=new B,Me=new B,G=new B,ge=[],we=function(We,at,Bt){var _t=Me.get(Bt);if(at&&!_t.isPrototypeOf(We)){var sn=Fe(We);Ge=_e(We,_t);try{new _t.constructor}finally{Ge=null,sn()}}var At="".concat(at?"":"dis","connectedCallback");At in _t&&We[At]()},Ie=U({query:ge,handle:we}),Ye=Ie.parse,Ge=null,st=function(We){if(!Ce.has(We)){var at,Bt=new Promise(function(_t){at=_t});Ce.set(We,{$:Bt,_:at})}return Ce.get(We).$},wt=t(st,I);self.customElements={define:function(We,at){if(G.has(We))throw new Te('the name "'.concat(We,'" has already been used with this registry'));Y.set(at,We),Me.set(We,at.prototype),G.set(We,at),ge.push(We),st(We).then(function(){Ye(D.querySelectorAll(We))}),Ce.get(We)._(at)},get:function(We){return G.get(We)},whenDefined:st},O(Ee.prototype=fe.prototype,"constructor",{value:Ee}),self.HTMLElement=Ee,D.createElement=function(et,We){var at=We&&We.is,Bt=at?G.get(at):G.get(et);return Bt?new Bt:J.call(D,et)},"isConnected"in ue.prototype||O(ue.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(Ve=!self.customElements.get("extends-br"),Ve)try{var kt=function et(){return self.Reflect.construct(HTMLBRElement,[],et)};kt.prototype=HTMLLIElement.prototype;var Dt="extends-br";self.customElements.define("extends-br",kt,{extends:"br"}),Ve=D.createElement("br",{is:Dt}).outerHTML.indexOf(Dt)<0;var mt=self.customElements,Mt=mt.get,Ut=mt.whenDefined;self.customElements.whenDefined=function(et){var We=this;return Ut.call(this,et).then(function(at){return at||Mt.call(We,et)})}}catch{}if(Ve){var hn=function(We){var at=li.get(We);ji(at.querySelectorAll(this),We.isConnected)},vt=self.customElements,Ot=D.createElement,Le=vt.define,nt=vt.get,qe=vt.upgrade,jt=ie||{construct:function(We){return We.call(this)}},ii=jt.construct,li=new oe,qi=new te,gi=new B,xn=new B,vi=new B,Gn=new B,Mi=[],Yn=[],Tt=function(We){return Gn.get(We)||nt.call(vt,We)},Rr=function(We,at,Bt){var _t=vi.get(Bt);if(at&&!_t.isPrototypeOf(We)){var sn=Fe(We);ln=_e(We,_t);try{new _t.constructor}finally{ln=null,sn()}}var At="".concat(at?"":"dis","connectedCallback");At in _t&&We[At]()},Zt=U({query:Yn,handle:Rr}),ji=Zt.parse,Pt=U({query:Mi,handle:function(We,at){li.has(We)&&(at?qi.add(We):qi.delete(We),Yn.length&&hn.call(Yn,We))}}),oi=Pt.parse,vn=ce.prototype.attachShadow;vn&&(ce.prototype.attachShadow=function(et){var We=vn.call(this,et);return li.set(this,We),We});var Dn=function(We){if(!xn.has(We)){var at,Bt=new Promise(function(_t){at=_t});xn.set(We,{$:Bt,_:at})}return xn.get(We).$},an=t(Dn,I),ln=null;me(self).filter(function(et){return/^HTML.*Element$/.test(et)}).forEach(function(et){var We=self[et];function at(){var Bt=this.constructor;if(!gi.has(Bt))throw new pe("Illegal constructor");var _t=gi.get(Bt),sn=_t.is,At=_t.tag;if(sn){if(ln)return an(ln,sn);var Ht=Ot.call(D,At);return Ht.setAttribute("is",sn),an(_e(Ht,Bt.prototype),sn)}else return ii.call(this,We,[],Bt)}O(at.prototype=We.prototype,"constructor",{value:at}),O(self,et,{value:at})}),D.createElement=function(et,We){var at=We&&We.is;if(at){var Bt=Gn.get(at);if(Bt&&gi.get(Bt).tag===et)return new Bt}var _t=Ot.call(D,et);return at&&_t.setAttribute("is",at),_t},vt.get=Tt,vt.whenDefined=Dn,vt.upgrade=function(et){var We=et.getAttribute("is");if(We){var at=Gn.get(We);if(at){an(_e(et,at.prototype),We);return}}qe.call(vt,et)},vt.define=function(et,We,at){if(Tt(et))throw new Te("'".concat(et,"' has already been defined as a custom element"));var Bt,_t=at&&at.extends;gi.set(We,_t?{is:et,tag:_t}:{is:"",tag:et}),_t?(Bt="".concat(_t,'[is="').concat(et,'"]'),vi.set(Bt,We.prototype),Gn.set(et,We),Yn.push(Bt)):(Le.apply(vt,arguments),Mi.push(Bt=et)),Dn(et).then(function(){_t?(ji(D.querySelectorAll(Bt)),qi.forEach(hn,[Bt])):oi(D.querySelectorAll(Bt))}),xn.get(et)._(We)}}})()),w0}VA();window.CodeMirror=Tx;window.UIkit=UIkit;window.Rozier=new GA;const KA=t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)};KA(()=>{window.Rozier.onDocumentReady()});(function(){for(const t in Xh)XA(t,Xh[t]);rg(),new Nx,window.addEventListener("pageshowend",()=>{rg()})})();export{e3 as t};
